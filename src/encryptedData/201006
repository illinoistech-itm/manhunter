From java-user-return-46296-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 01 00:06:57 2010
Return-Path: <java-user-return-46296-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2848 invoked from network); 1 Jun 2010 00:06:56 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 1 Jun 2010 00:06:56 -0000
Received: (qmail 84818 invoked by uid 500); 1 Jun 2010 00:06:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84780 invoked by uid 500); 1 Jun 2010 00:06:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84772 invoked by uid 99); 1 Jun 2010 00:06:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Jun 2010 00:06:54 +0000
X-ASF-Spam-Status: No, hits=-0.6 required=10.0
	tests=AWL,FREEMAIL_FROM,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of shashi.mit@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Jun 2010 00:06:49 +0000
Received: by fxm12 with SMTP id 12so3742906fxm.35
        for <java-user@lucene.apache.org>; Mon, 31 May 2010 17:06:28 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:sender:received
         :in-reply-to:references:from:date:x-google-sender-auth:message-id
         :subject:to:content-type:content-transfer-encoding;
        bh=/BtiXsdDyxPoPylWr4+aUCKVAVXbyl7Zm7zVuyB/rBQ=;
        b=kHBBe7fjZHTpjY6GJ4OfFLW9ULgTpvPzUe6qfHlj9ryWnUojSfdRLch+l48kZPeyDB
         6EavU+m6PfEeFsM2NN0ZObyLcV21dJRUy8QvoanMDZJCawtQc8zryosclKXIZeoNT+Ub
         6ZxrIpzhvim4wsXZkr5bKLdZ75jXinVl3Zrhk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:in-reply-to:references:from:date
         :x-google-sender-auth:message-id:subject:to:content-type
         :content-transfer-encoding;
        b=uRDM0C7ogzsi1D3SGyWAjwYjMWxYhUu+uo34w0jxytMXU/9pGEI1YFX09r6p5Ecc2t
         BN3jIQDGskgUkXDxdthVVbwDdIZRuEy45ycphPyOxRbAvsp+Xyrvyc1pBFbZ6v0n0gWC
         2Smu5566z+RyEkyTeWzveWs8+ztgkPY31wFlg=
Received: by 10.223.21.17 with SMTP id h17mr6226706fab.45.1275350395133; Mon, 
	31 May 2010 16:59:55 -0700 (PDT)
MIME-Version: 1.0
Sender: shashi.mit@gmail.com
Received: by 10.223.105.13 with HTTP; Mon, 31 May 2010 16:59:35 -0700 (PDT)
In-Reply-To: <AANLkTimHU8d6mVOAfGNs9v6dS6kaRWrvDdyCKGg17L4a@mail.gmail.com>
References: <AANLkTikJKmYtkkza5B8RRYds6cpuWN0DcYInNooudYF-@mail.gmail.com> 
	<569984.80995.qm@web1103.biz.mail.sk1.yahoo.com> <AANLkTimHU8d6mVOAfGNs9v6dS6kaRWrvDdyCKGg17L4a@mail.gmail.com>
From: Shashi Kant <skant@sloan.mit.edu>
Date: Mon, 31 May 2010 19:59:35 -0400
X-Google-Sender-Auth: MqF2gORz0HFCsiFKBZFHybyylj8
Message-ID: <AANLkTilFGN02UKTNd-fQnUwmbmiYQYN6AsrL7MW5U4m2@mail.gmail.com>
Subject: Re: Lucene Newbie Questions
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Based on your description, I would recommend Solr. It provides several
features such as spelling suggestion, faceting etc.
OOTB.

http://lucene.apache.org/solr/features.html

should answer all your questions.

On Mon, May 31, 2010 at 7:54 PM, Frank A <fsa317@gmail.com> wrote:
> Thanks a bunch.
>
> Since I'm already inside a java based web application it would seem like
> both SOLR and Lucene would be plausible. =A0I'm curious what other factor=
s I
> should know about in determing if SOLR or Lucene is right for me.
>
> Can SOLR be used within a web application (as a library) or is it only a
> standalone app.
>
> Frank
>
>
> On Mon, May 31, 2010 at 7:33 PM, N Hira <nhira@cognocys.com> wrote:
>
>> Frank --
>>
>> Lucene can definitely do this stuff. =A0This review of the Query Syntax =
might
>> offer you some insight:
>> http://lucene.apache.org/java/2_4_0/queryparsersyntax.html
>>
>> Specifically, you can look up "Fuzzy Searches" and "Synonyms". =A0There =
are a
>> couple of key ways to handle synonyms, so you might want to prototype th=
at
>> before you settle on the approach you ultimately select.
>>
>> Be aware that Lucene is more of a "search library". =A0If you're looking=
 for
>> a Web App. that can return XML or JSON, you might want to look into Solr=
,
>> which uses Lucene, but offers a lot of the architecture you might need:
>> http://lucene.apache.org/solr/
>>
>>
>> Good luck!
>>
>> -h
>>
>>
>>
>>
>> ----- Original Message ----
>> From: Frank A <fsa317@gmail.com>
>> To: java-user@lucene.apache.org
>> Sent: Mon, May 31, 2010 6:20:41 PM
>> Subject: Lucene Newbie Questions
>>
>> Hello all,
>> I'm considering Lucene for a specific application and am trying to ensur=
e
>> that it is the right tool for what I'm trying to accomplish.
>>
>> At a high level I have a list of restaurants in a database and a list of
>> tags related to the restaurant (e.g. Italian, Formal, Expensive, etc).
>> =A0Each
>> restaurant also has a location (longitude/latitude).
>>
>> My primary goal using Lucene is to conduct searches where the user can d=
o
>> things like:
>>
>> - Misspell the name of the restaurant (by a few chars)
>> - Type "Italian Food" instead of just Italian or perhaps "Great Italian"
>> - Or even use some synonyms (e.g. Deli and Delicatessen) - of course I'd
>> define these terms.
>>
>> Are these types of use cases something that can be done with Lucene? Or =
is
>> there a more appropriate API that I haven't found?
>>
>> Thanks.
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46297-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 01 00:10:55 2010
Return-Path: <java-user-return-46297-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5705 invoked from network); 1 Jun 2010 00:10:54 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 1 Jun 2010 00:10:54 -0000
Received: (qmail 88928 invoked by uid 500); 1 Jun 2010 00:10:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88865 invoked by uid 500); 1 Jun 2010 00:10:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88857 invoked by uid 99); 1 Jun 2010 00:10:52 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Jun 2010 00:10:52 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [68.142.207.189] (HELO n23a.bullet.mail.mud.yahoo.com) (68.142.207.189)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 01 Jun 2010 00:10:43 +0000
Received: from [209.191.108.96] by n23.bullet.mail.mud.yahoo.com with NNFMP; 01 Jun 2010 00:10:21 -0000
Received: from [69.147.84.144] by t3.bullet.mud.yahoo.com with NNFMP; 01 Jun 2010 00:10:21 -0000
Received: from [98.136.44.171] by t6.bullet.mail.sp1.yahoo.com with NNFMP; 01 Jun 2010 00:10:21 -0000
Received: from [127.0.0.1] by omp612.mail.sp1.yahoo.com with NNFMP; 01 Jun 2010 00:10:21 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 107886.923.bm@omp612.mail.sp1.yahoo.com
Received: (qmail 38351 invoked by uid 60001); 1 Jun 2010 00:10:21 -0000
Message-ID: <990352.34153.qm@web1111.biz.mail.sk1.yahoo.com>
X-YMail-OSG: DonirZIVM1nEHOyHFap2EL57eBp_Pt1F2._O2ojCUrV9bLN
 VwyESSgaaQC9DjRkbS10psNMUcMUULLeFW0xjjmQXP5qmBasucGUSdDyMETf
 c1MA8KDGFFIldT4dHjEtrJG5MNFexmi.h5bmwzjyOD.FZJUa4yweFokJC7i_
 eYFWVdqx5OkfofxB7hbkur3aPj2wKEl7.wEXVsHUWFREWz_AFIq1vHTBvlBd
 jzb1E9ftvNp2xLdurHf19aiyTLroSX5ux94ZSTV2_zqKex5qvM32ntl1QnZ3
 gAaPoffzzD_5CuQdzCCY7TuSR.QtJpcf_gAOA8qB3pNaoX20JyZbWGUwn3ri
 2kCbEZurJIYio
Received: from [97.116.0.43] by web1111.biz.mail.sk1.yahoo.com via HTTP; Mon, 31 May 2010 17:10:20 PDT
X-Mailer: YahooMailRC/374.4 YahooMailWebService/0.8.103.269680
References: <AANLkTikJKmYtkkza5B8RRYds6cpuWN0DcYInNooudYF-@mail.gmail.com> <569984.80995.qm@web1103.biz.mail.sk1.yahoo.com> <AANLkTimHU8d6mVOAfGNs9v6dS6kaRWrvDdyCKGg17L4a@mail.gmail.com>
Date: Mon, 31 May 2010 17:10:20 -0700 (PDT)
From: N Hira <nhira@cognocys.com>
Subject: Re: Lucene Newbie Questions
To: java-user@lucene.apache.org
In-Reply-To: <AANLkTimHU8d6mVOAfGNs9v6dS6kaRWrvDdyCKGg17L4a@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org

>From a legal/technical perspective, you can either embed Solr or you can use it as a WebApp.  I generally suggest that it be used as a separate WebApp, but that depends.  I would suggest the following criteria:
1.  Fitness to use cases
2.  Effort to develop/adapt
3.  Ease of deployment
4.  Effort to upgrade/maintain

Solr does "for free" some of the things (like index reopening/Searcher-pattern) that you would have to handle in your application if you used Lucene.  Depending on how much time you have and how much control you need, that may be a good or a bad thing.

You should be able to "try both" side-by-side in a few hours (the tutorials are pretty decent).

-h



----- Original Message ----
From: Frank A <fsa317@gmail.com>
To: java-user@lucene.apache.org
Sent: Mon, May 31, 2010 6:54:26 PM
Subject: Re: Lucene Newbie Questions

Thanks a bunch.

Since I'm already inside a java based web application it would seem like
both SOLR and Lucene would be plausible.  I'm curious what other factors I
should know about in determing if SOLR or Lucene is right for me.

Can SOLR be used within a web application (as a library) or is it only a
standalone app.

Frank


On Mon, May 31, 2010 at 7:33 PM, N Hira <nhira@cognocys.com> wrote:

> Frank --
>
> Lucene can definitely do this stuff.  This review of the Query Syntax might
> offer you some insight:
> http://lucene.apache.org/java/2_4_0/queryparsersyntax.html
>
> Specifically, you can look up "Fuzzy Searches" and "Synonyms".  There are a
> couple of key ways to handle synonyms, so you might want to prototype that
> before you settle on the approach you ultimately select.
>
> Be aware that Lucene is more of a "search library".  If you're looking for
> a Web App. that can return XML or JSON, you might want to look into Solr,
> which uses Lucene, but offers a lot of the architecture you might need:
> http://lucene.apache.org/solr/
>
>
> Good luck!
>
> -h
>
>
>
>
> ----- Original Message ----
> From: Frank A <fsa317@gmail.com>
> To: java-user@lucene.apache.org
> Sent: Mon, May 31, 2010 6:20:41 PM
> Subject: Lucene Newbie Questions
>
> Hello all,
> I'm considering Lucene for a specific application and am trying to ensure
> that it is the right tool for what I'm trying to accomplish.
>
> At a high level I have a list of restaurants in a database and a list of
> tags related to the restaurant (e.g. Italian, Formal, Expensive, etc).
>  Each
> restaurant also has a location (longitude/latitude).
>
> My primary goal using Lucene is to conduct searches where the user can do
> things like:
>
> - Misspell the name of the restaurant (by a few chars)
> - Type "Italian Food" instead of just Italian or perhaps "Great Italian"
> - Or even use some synonyms (e.g. Deli and Delicatessen) - of course I'd
> define these terms.
>
> Are these types of use cases something that can be done with Lucene? Or is
> there a more appropriate API that I haven't found?
>
> Thanks.
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46298-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 01 01:17:35 2010
Return-Path: <java-user-return-46298-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51132 invoked from network); 1 Jun 2010 01:17:35 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 1 Jun 2010 01:17:35 -0000
Received: (qmail 24437 invoked by uid 500); 1 Jun 2010 01:17:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24410 invoked by uid 500); 1 Jun 2010 01:17:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24401 invoked by uid 99); 1 Jun 2010 01:17:33 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Jun 2010 01:17:33 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of sv@icarinae.com designates 67.222.39.60 as permitted sender)
Received: from [67.222.39.60] (HELO outbound-mail-360.bluehost.com) (67.222.39.60)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 01 Jun 2010 01:17:25 +0000
Received: (qmail 14272 invoked by uid 0); 1 Jun 2010 01:17:03 -0000
Received: from unknown (HELO box444.bluehost.com) (69.89.31.244)
  by oproxy2.bluehost.com with SMTP; 1 Jun 2010 01:17:02 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws; s=default; d=icarinae.com;
	h=Received:MIME-Version:Date:From:To:Subject:Message-ID:X-Sender:User-Agent:Content-Transfer-Encoding:Content-Type:X-Identified-User;
	b=jMGXzDC9ZpvcavC0IptICXi8olMFDnjsE3Vm1YuwiUiFmxVajzXZq1oaVvfWt9GR/WMmzfoRT0niIjX8qRIRauokH6/QiupEWTvYHsYeGVp97M33ofRdt6KehCpe6msn;
Received: from localhost ([127.0.0.1] helo=icarinae.com)
	by box444.bluehost.com with esmtpsa (TLSv1:AES256-SHA:256)
	(Exim 4.69)
	(envelope-from <sv@icarinae.com>)
	id 1OJG6I-0004a3-Od
	for java-user@lucene.apache.org; Mon, 31 May 2010 19:17:02 -0600
MIME-Version: 1.0
Date: Mon, 31 May 2010 19:17:02 -0600
From: <sv@icarinae.com>
To: <java-user@lucene.apache.org>
Subject: Solr tutorial
Message-ID: <c457a13561a53f9d2ca33cae1d7cb9a9@icarinae.com>
X-Sender: sv@icarinae.com
User-Agent: RoundCube Webmail/0.3-stable
Content-Transfer-Encoding: 8bit
Content-Type: text/plain; charset=UTF-8
X-Identified-User: {1126:box444.bluehost.com:icarinae:icarinae.com} {sentby:smtp auth 127.0.0.1 authed with sv@icarinae.com}
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

I am kind of struggling to setup Solr to search pdf files. I am following
documents from lucidimagination and wiki. Can someone please point to a
good Solr tutorial which involve step by step instrunctions to search/index
pdf document, highlighting and snippting. 

Thanks in advance,

Deepak

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46299-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 01 01:37:24 2010
Return-Path: <java-user-return-46299-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52385 invoked from network); 1 Jun 2010 01:37:24 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 1 Jun 2010 01:37:24 -0000
Received: (qmail 33333 invoked by uid 500); 1 Jun 2010 01:37:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33290 invoked by uid 500); 1 Jun 2010 01:37:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33281 invoked by uid 99); 1 Jun 2010 01:37:22 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Jun 2010 01:37:22 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [68.142.206.43] (HELO n16.bullet.mail.mud.yahoo.com) (68.142.206.43)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 01 Jun 2010 01:37:14 +0000
Received: from [68.142.200.221] by n16.bullet.mail.mud.yahoo.com with NNFMP; 01 Jun 2010 01:36:53 -0000
Received: from [69.147.84.144] by t9.bullet.mud.yahoo.com with NNFMP; 01 Jun 2010 01:36:53 -0000
Received: from [98.136.44.160] by t6.bullet.mail.sp1.yahoo.com with NNFMP; 01 Jun 2010 01:36:52 -0000
Received: from [127.0.0.1] by omp601.mail.sp1.yahoo.com with NNFMP; 01 Jun 2010 01:36:52 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 982962.60424.bm@omp601.mail.sp1.yahoo.com
Received: (qmail 2805 invoked by uid 60001); 1 Jun 2010 01:36:52 -0000
Message-ID: <776276.2800.qm@web1114.biz.mail.sk1.yahoo.com>
X-YMail-OSG: zQoX0xUVM1m0N0G.UShyK81ZbFt7.lu6UU06FMmrr7R8GKk
 1buPrTC3SxzIRTnsk2H1lZSWdnElCMouHh6ksuDK1lu20pJpzbbbvMF2Vc.P
 bjiA13XNmELlcDgod1dyaYe.v7sFdyBf11osqYHqxR6L2XsfaL_1N9FkypNz
 IyVZ.3sZeNfXu3pPwjKHXHzfhRyByh2IfPY6yHwyROGjGHf.yXUcgagohooF
 Cx4mGjrLfnzhRbciNgn61BzKrsC1IdL6XerLlRaxATpI6QUTNanIGcnMwNUQ
 6MX7MLbh3YR1ojc1lR1wRRKTGc_t8lIcz2f3kM4MFdb8hEPxWYs0hrjIUSKf
 yaev1dAo54I4-
Received: from [97.116.0.43] by web1114.biz.mail.sk1.yahoo.com via HTTP; Mon, 31 May 2010 18:36:52 PDT
X-Mailer: YahooMailRC/374.4 YahooMailWebService/0.8.103.269680
References: <c457a13561a53f9d2ca33cae1d7cb9a9@icarinae.com>
Date: Mon, 31 May 2010 18:36:52 -0700 (PDT)
From: N Hira <nhira@cognocys.com>
Subject: Re: Solr tutorial
To: java-user@lucene.apache.org
In-Reply-To: <c457a13561a53f9d2ca33cae1d7cb9a9@icarinae.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

I don't know of a single tutorial that puts it all together, but the "rich documents" feature implemented in Solr-284 would be where I would start:
https://issues.apache.org/jira/browse/SOLR-284

Look here if you're using Solr 1.4  -- it should address your needs:
http://wiki.apache.org/solr/ExtractingRequestHandler


Good luck,

-h



----- Original Message ----
From: "sv@icarinae.com" <sv@icarinae.com>
To: java-user@lucene.apache.org
Sent: Mon, May 31, 2010 8:17:02 PM
Subject: Solr tutorial

Hi,

I am kind of struggling to setup Solr to search pdf files. I am following
documents from lucidimagination and wiki. Can someone please point to a
good Solr tutorial which involve step by step instrunctions to search/index
pdf document, highlighting and snippting. 

Thanks in advance,

Deepak

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46300-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 01 01:53:56 2010
Return-Path: <java-user-return-46300-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54237 invoked from network); 1 Jun 2010 01:53:56 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 1 Jun 2010 01:53:56 -0000
Received: (qmail 37809 invoked by uid 500); 1 Jun 2010 01:53:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37675 invoked by uid 500); 1 Jun 2010 01:53:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37666 invoked by uid 99); 1 Jun 2010 01:53:54 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Jun 2010 01:53:54 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [206.190.38.62] (HELO web50308.mail.re2.yahoo.com) (206.190.38.62)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 01 Jun 2010 01:53:46 +0000
Received: (qmail 74787 invoked by uid 60001); 1 Jun 2010 01:53:25 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1275357205; bh=USgfsomFwQSOB2JZfR16Vs9Nf8Uucf5HA7BEmN9X6v0=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=ac45VU5YxhXUJLINr30ZaBESwdZaaEk7T4aoEbpT2tMDGOAecWF3SNR0eRHaElhQp4FEmyn8CElhNBLcBo0WB4wWuP7LN0+976EXXOfUEGZy3Jh2LmmRjoB9FCEbBucjBMieKmCltL41+tfOw4dErWXuCb/aBZUnAVfdJGF4Qy8=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=oxassXnAzBZa8bapNNkwLpeaQhkxZXKnGt7Sqwil2tEMRQxdnBLLv5ROXelWej/KVnK7tJt7PcEtJQ/voXo8yYfryiPq095sTJSEk8QjMZDyg+1fjp4Sd8gycsBNi6xQkLtCbThdw5/t8j0GKxE+Fv+33YG5lT4amPx06yC9OXo=;
Message-ID: <170764.72694.qm@web50308.mail.re2.yahoo.com>
X-YMail-OSG: wX6RgjEVM1nOztMZM_PsIaVXiRtrqtSQSMKf94zk0fGt6na
 rkTae7m8yyN_3Fd0rv4z7KUYvNOqQCqeXSGrv.IC9aZ9Ovo51rZYEdOkUcUf
 QNzAl7zVvDWmizEIqa3Gi.9L9OL6do.aeEVQKsS.F1bNV7Wfd84CnM7zlGxm
 m0ovsgWcT7bcVR_.GdQBZqB_2Zc007RmRkmmasaE6FZ53amq8qYRp0a81bf4
 B3ZkZJmj4Y2_NNoZ2_j3r9UwKOyBg7mHuKlumV886msMIBPMlEIh0.UPerG9
 67nN6TfV3LuzCTIgMUf_GXOgL2tv8jFByzKhdbAKc_oh_chu_j6omCkdCDu9
 wMZViUpnaXqmgY5iEc1.MCrAj27tBzA--
Received: from [74.73.6.27] by web50308.mail.re2.yahoo.com via HTTP; Mon, 31 May 2010 18:53:25 PDT
X-Mailer: YahooMailRC/374.4 YahooMailWebService/0.8.103.269680
References: <AANLkTikigeMFp8IBYaf_bvady2bjL1Ii-JtJN7qWM1OV@mail.gmail.com>
Date: Mon, 31 May 2010 18:53:25 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Grouping or de-duping
To: java-user@lucene.apache.org
In-Reply-To: <AANLkTikigeMFp8IBYaf_bvady2bjL1Ii-JtJN7qWM1OV@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Pasa,=0A=0AMaybe Field Collapsing (Solr) can help? See SOLR-236 in JIRA=0A=
=0Ahttp://search-lucene.com/?q=3Dfield+collapsing&fc_project=3DLucene&fc_pr=
oject=3DSolr=0A=0A Otis=0A----=0ASematext :: http://sematext.com/ :: Solr -=
 Lucene - Nutch=0ALucene ecosystem search :: http://search-lucene.com/=0A=
=0A=0A=0A----- Original Message ----=0A> From: =D0=9F=D0=B0=D1=88=D0=B0 =D0=
=9C=D0=B8=D0=BD=D1=87=D0=B5=D0=BD=D0=BA=D0=BE=D0=B2 <chardex@gmail.com>=0A>=
 To: java-user@lucene.apache.org=0A> Sent: Mon, May 31, 2010 4:15:40 PM=0A>=
 Subject: Grouping or de-duping=0A> =0A> Sorry for my similar questions. I =
need to remove duplicates from =0A> search=0Aresults for a given field (or =
group by). Documents on this field are =0A> not=0Aordered. Which one will g=
et duplicates in search results - I do not care. =0A> I=0Atried to use Dupl=
icateFilter and PerParentLimitedQuery, but they =0A> didn't=0Ahelp. In sear=
ching for an answer I found references =0A> to=0ASimpleFacetParameters, but=
 I do not understand how this material can =0A> be=0Auseful to me because i=
t refers to the project Solr. Maybe someone has =0A> an=0Aexample of groupi=
ng searh result or something like DeDupinQuery.=0A=0AOn =0A> the link below=
, I found a solution, but there is no sample and I can't=0Amake =0A> these =
modifications my self.=0A=0A> href=3D"http://markmail.org/message/uvrh3y5og=
jgu4gfx#query:group%20lucene%20results%20by%20field+page:1+mid:uvrh3y5ogjgu=
4gfx+state:results" =0A> target=3D_blank =0A> >http://markmail.org/message/=
uvrh3y5ogjgu4gfx#query:group%20lucene%20results%20by%20field+page:1+mid:uvr=
h3y5ogjgu4gfx+state:results=0A=0AThanks.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46301-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 01 01:57:28 2010
Return-Path: <java-user-return-46301-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54535 invoked from network); 1 Jun 2010 01:57:27 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 1 Jun 2010 01:57:27 -0000
Received: (qmail 40899 invoked by uid 500); 1 Jun 2010 01:57:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40864 invoked by uid 500); 1 Jun 2010 01:57:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40856 invoked by uid 99); 1 Jun 2010 01:57:25 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Jun 2010 01:57:25 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [206.190.38.60] (HELO web50306.mail.re2.yahoo.com) (206.190.38.60)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 01 Jun 2010 01:57:18 +0000
Received: (qmail 95863 invoked by uid 60001); 1 Jun 2010 01:56:57 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1275357417; bh=erkT52Ht9v4n66jkxmD85Cqn2KQ0kld99ZvhdxYGaC4=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=lYR2kaiLoSeFInReXGpWUirrDwhmGV19JegArgZnE8JMxJ2PivUOJyrIAAcTKs7dE3CWR9SfshoEiU4FBGUFK6JjoZPzzEihN5uPEc60+sK36gekb6fieJN4A4b+nbYpU08wUqlIEAyYyy31jPa3+TKpihR/Vcn1BY5rdzGSGBQ=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=yGF5JN7q1BKTU53DmgV+Gt2P9sPRkyTNgnV8qwcR8oAopgdY5P6DZ8q+sYr+n0f4mgmgwYhbRYoEVqrkGXVIkUdIwvavj+FKJLiH+NzCOqmaHjSiP3XkUdVXF+42CoZ9GuBRyUi2NwonRR/OqHpjvzM2skukQiUxY0FWrXMH9f8=;
Message-ID: <418378.95556.qm@web50306.mail.re2.yahoo.com>
X-YMail-OSG: h5xygMAVM1lJs0ah3CoO1FFp0KfBUwWqsWbY_rxSAvi4sn_
 C.FGvBN9pB24Fjl6X2X.JMKVsHI2o.Kefv7bbyNdSJL_ENrEGhy.Xzzzm3tB
 DeoiQ91lvtj5qVaYEziuKlyxSYefUO6wML9UZn0.Q5pjOb3cUdb3pOuyu_gX
 Ap_ZM5t0EQ7Sy6lj2sFT24y2g3kuwOS53LBPOz1ahiI3xJYdbLnBQN0PpDth
 f1CPLGNETPjhlbpL7_oeOg8PU7RyRT4mw.dRfg1M7cjCIqHGCIEyS4d_fB4J
 6OrndDHDsyzWIz42QtTrvifWmEECaKt8pth0EvQEwTV_Z1fo4tDZqnLu4ca8
 cEw--
Received: from [74.73.6.27] by web50306.mail.re2.yahoo.com via HTTP; Mon, 31 May 2010 18:56:57 PDT
X-Mailer: YahooMailRC/374.4 YahooMailWebService/0.8.103.269680
References: <AANLkTimtapXM-eW4Cf3_bv-LxQPVqH12_xHuRqwtt09c@mail.gmail.com>
Date: Mon, 31 May 2010 18:56:57 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Is Lucene a "document oriented database"?
To: java-user@lucene.apache.org
In-Reply-To: <AANLkTimtapXM-eW4Cf3_bv-LxQPVqH12_xHuRqwtt09c@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org

I think those doc-oriented DBs tend to be distributed, with replication built-in and such, but yes, in some way the schemaless DB with docs and fields (whether they are pumped in as JSON or XML or Java objects) feels the same.  I saw something from Grant about 2 months ago how Lucene is "nosql-ish".

 Otis
----
Sematext :: http://sematext.com/ :: Solr - Lucene - Nutch
Lucene ecosystem search :: http://search-lucene.com/



----- Original Message ----
> From: Shashi Kant <skant@sloan.mit.edu>
> To: java-user@lucene.apache.org
> Sent: Mon, May 31, 2010 12:20:36 PM
> Subject: Is Lucene a "document oriented database"?
> 
> There seems to be considerable buzz on the internets about document
oriented 
> dbs such as MongoDB, CouchDB etc. I am at a loss as to what
are the principal 
> differences between Lucene and the "DODBs". I could
very use Lucene as any of 
> the above (schema-free, Document oriented)
and perform similar queries, 
> *with* the added benefit of text search.

I fail to see what benefits such 
> DoDBs bring, or is it old wine in new 
> bottles?

Thanks
Shashi

---------------------------------------------------------------------
To 
> unsubscribe, e-mail: 
> href="mailto:java-user-unsubscribe@lucene.apache.org">java-user-unsubscribe@lucene.apache.org
For 
> additional commands, e-mail: 
> ymailto="mailto:java-user-help@lucene.apache.org" 
> href="mailto:java-user-help@lucene.apache.org">java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46302-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 01 02:36:22 2010
Return-Path: <java-user-return-46302-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63968 invoked from network); 1 Jun 2010 02:36:22 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 1 Jun 2010 02:36:22 -0000
Received: (qmail 53678 invoked by uid 500); 1 Jun 2010 02:36:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53574 invoked by uid 500); 1 Jun 2010 02:36:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53566 invoked by uid 99); 1 Jun 2010 02:36:20 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Jun 2010 02:36:20 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [206.190.38.59] (HELO web50305.mail.re2.yahoo.com) (206.190.38.59)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 01 Jun 2010 02:36:13 +0000
Received: (qmail 76065 invoked by uid 60001); 1 Jun 2010 02:35:52 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1275359752; bh=nORijRxdvxH45BXv7TG17s4Zfq1Brsz3gUzxnHS3Rus=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=2/BNhi+o1m9leaUrOMPw3M6hl/3xGMcRA20Wcl/6nwur8eK8ipWuph3rVqvjlFBW/bfchRN90t7qKe2W1iWXQ+rkPV+yj3zHZL1KG1PlFfa32gJeg94k7Hd3bcNoohQGlqX3DJOcGce0qmOrDa8smbrJDyRT44P9fC9zhkIRadQ=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=5kcmCvb+Tp6FWk7pjnzH6NO2gzHWvV22FnuZwTxrqZZ5fygnBhBcvwGr+Mhr8jJhUaYCpMXKNtGacdQF5rM5xwK+tYXEdf5Sis4or33KOew6yqAW/Rp3V5BgUt+YArMZBzR3J+BU2QcMZcNhz+h+a3Z2B75V7RRg/YaFqzOGf9M=;
Message-ID: <198843.73464.qm@web50305.mail.re2.yahoo.com>
X-YMail-OSG: vtrX4UIVM1miRjoJgHaNHofYRwXr6YKy3_HesfOZD2W_a_p
 8xflHeWNg5IJRnZ1WWplBxI0Q5V7cLYmXWqIhjWTkmKOGjJjt44YgxfKYcI1
 gkLnnULqF2GocA2NJqDiHcRRe4SJrf1Aj8oHoGNYhb9ZzE8Y9FSOhEA.cJdL
 4Oe.X6DSYTi1TilWIko9Liz5sZQbtntu50YOUlVAnrkjUkGlB6Hgn3MdFp7.
 Jvw_irvZBTbUXtNCBhKargOj4M1JSI74BAr8ao66H01zZqdKVbkVdu05B.vI
 7sFb1n21F6pzw_tqqUsQ4KsjdnlmsvPTmeCFCMglc3BJ2Kk3GKdyT.GQdP6k
 n6tw5TlKBqvDNOuqkoHevBzgU0QE__w--
Received: from [74.73.6.27] by web50305.mail.re2.yahoo.com via HTTP; Mon, 31 May 2010 19:35:52 PDT
X-Mailer: YahooMailRC/374.4 YahooMailWebService/0.8.103.269680
References: <CE9C01A4-45FA-437A-A083-9F4D049F586E@gmail.com>
Date: Mon, 31 May 2010 19:35:52 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Using JSON for index input and search output
To: java-user@lucene.apache.org
In-Reply-To: <CE9C01A4-45FA-437A-A083-9F4D049F586E@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org

VL,

Solr (not Lucene, but you can embed Solr) has JsonUpdateRequestHandler, which lets you send docs to Solr for indexing in JSON (instead of the usual XML):
http://search-lucene.com/c/Solr:/src/java/org/apache/solr/handler/JsonUpdateRequestHandler.java


And you can get Solr to respond with JSON, as you pointed out:
http://wiki.apache.org/solr/SolJSON

Otis
----
Sematext :: http://sematext.com/ :: Solr - Lucene - Nutch
Lucene ecosystem search :: http://search-lucene.com/



----- Original Message ----
> From: Visual Logic <visual.logic@gmail.com>
> To: java-user@lucene.apache.org
> Sent: Sun, May 30, 2010 1:33:19 PM
> Subject: Using JSON for index input and search output
> 
> Lucene,

JSON is the format used for all the configuration and property 
> files in the RIA application we are developing. Is Lucene able to create a 
> document from a given JSON file and index it? Is Lucene able to provide a JSON 
> output response from a query made to an index? Does the Tika package provide 
> this?

Local indexing and searching is needed on the local client so Solr 
> is not a solution even though it does provide a search response in JSON 
> format.

VL
---------------------------------------------------------------------
To 
> unsubscribe, e-mail: 
> href="mailto:java-user-unsubscribe@lucene.apache.org">java-user-unsubscribe@lucene.apache.org
For 
> additional commands, e-mail: 
> ymailto="mailto:java-user-help@lucene.apache.org" 
> href="mailto:java-user-help@lucene.apache.org">java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46303-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 01 05:26:29 2010
Return-Path: <java-user-return-46303-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98026 invoked from network); 1 Jun 2010 05:26:29 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 1 Jun 2010 05:26:29 -0000
Received: (qmail 27655 invoked by uid 500); 1 Jun 2010 05:26:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27629 invoked by uid 500); 1 Jun 2010 05:26:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27621 invoked by uid 99); 1 Jun 2010 05:26:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Jun 2010 05:26:26 +0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=AWL,FREEMAIL_FROM,HTML_MESSAGE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lukas.vlcek@gmail.com designates 74.125.82.176 as permitted sender)
Received: from [74.125.82.176] (HELO mail-wy0-f176.google.com) (74.125.82.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Jun 2010 05:26:21 +0000
Received: by wyj26 with SMTP id 26so1197571wyj.35
        for <java-user@lucene.apache.org>; Mon, 31 May 2010 22:26:00 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type;
        bh=LVF5omel8cW9bS6UQ6hv/iOKWdjEGq0FW78h0ODGruw=;
        b=fwNiN0xFGLV5Zni937F7W9zfummYdNnIgoUID+l0Jvuvaa8J+kod1Q1HZIzi80y5Dl
         ze4TLwdzQAzZN5HCjCW7hvG6F0pYmuQm7JC6okN3KnT/dpLCY6oBtuNYG9iepDxo050k
         0yrdwmmJrM79uKVLOUySn2KauML+9oGgN9GTE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=mhDt47vyrWDN57nzWiwFYW6lPgbv2EBQvNTbzjDGOl1HckPqrALSYrqxlpdfUAyOIZ
         LNO7hy/4fX7jcYDDQVkqzBWZoaFZP6NAyMi0BPyKUWNYQxh2F6we8AaNqPK3f6QxyhyA
         hlEehUQiwcGq82FIVet7qPvzxVshhxIKC/guc=
Received: by 10.216.88.145 with SMTP id a17mr4915037wef.53.1275369960209; Mon, 
	31 May 2010 22:26:00 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.216.29.66 with HTTP; Mon, 31 May 2010 22:25:40 -0700 (PDT)
In-Reply-To: <418378.95556.qm@web50306.mail.re2.yahoo.com>
References: <AANLkTimtapXM-eW4Cf3_bv-LxQPVqH12_xHuRqwtt09c@mail.gmail.com> 
	<418378.95556.qm@web50306.mail.re2.yahoo.com>
From: =?UTF-8?B?THVrw6HFoSBWbMSNZWs=?= <lukas.vlcek@gmail.com>
Date: Tue, 1 Jun 2010 07:25:40 +0200
Message-ID: <AANLkTilRwUZXHsz8Bqb9Gma_eM_i57tcT5LWr9ru9Xq1@mail.gmail.com>
Subject: Re: Is Lucene a "document oriented database"?
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e6d7ef856f7d1a0487f13535

--0016e6d7ef856f7d1a0487f13535
Content-Type: text/plain; charset=UTF-8

There were nice presentations from The Guardian folks at EuroCon this year
about how they made their content available to the public using Solr (and
they refer to noSQL model [not only SQL]).

http://lucene-eurocon.org/slides/From-Publisher-ToPlatform-the-Guardian_Stephen-Dunn.pdf
http://lucene-eurocon.org/slides/Solr-In-The-Wild-The-Guardians-Open-Platform-Content-API_Graham-Tackley.pdf

Regards,
Lukas

On Tue, Jun 1, 2010 at 3:56 AM, Otis Gospodnetic <otis_gospodnetic@yahoo.com
> wrote:

> I think those doc-oriented DBs tend to be distributed, with replication
> built-in and such, but yes, in some way the schemaless DB with docs and
> fields (whether they are pumped in as JSON or XML or Java objects) feels the
> same.  I saw something from Grant about 2 months ago how Lucene is
> "nosql-ish".
>
>  Otis
> ----
> Sematext :: http://sematext.com/ :: Solr - Lucene - Nutch
> Lucene ecosystem search :: http://search-lucene.com/
>
>
>
> ----- Original Message ----
> > From: Shashi Kant <skant@sloan.mit.edu>
> > To: java-user@lucene.apache.org
> > Sent: Mon, May 31, 2010 12:20:36 PM
> > Subject: Is Lucene a "document oriented database"?
> >
> > There seems to be considerable buzz on the internets about document
> oriented
> > dbs such as MongoDB, CouchDB etc. I am at a loss as to what
> are the principal
> > differences between Lucene and the "DODBs". I could
> very use Lucene as any of
> > the above (schema-free, Document oriented)
> and perform similar queries,
> > *with* the added benefit of text search.
>
> I fail to see what benefits such
> > DoDBs bring, or is it old wine in new
> > bottles?
>
> Thanks
> Shashi
>
> ---------------------------------------------------------------------
> To
> > unsubscribe, e-mail:
> > href="mailto:java-user-unsubscribe@lucene.apache.org">
> java-user-unsubscribe@lucene.apache.org
> For
> > additional commands, e-mail:
> > ymailto="mailto:java-user-help@lucene.apache.org"
> > href="mailto:java-user-help@lucene.apache.org">
> java-user-help@lucene.apache.org
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--0016e6d7ef856f7d1a0487f13535--

From java-user-return-46304-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 01 05:29:13 2010
Return-Path: <java-user-return-46304-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98508 invoked from network); 1 Jun 2010 05:29:13 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 1 Jun 2010 05:29:13 -0000
Received: (qmail 30167 invoked by uid 500); 1 Jun 2010 05:29:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30138 invoked by uid 500); 1 Jun 2010 05:29:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30130 invoked by uid 99); 1 Jun 2010 05:29:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Jun 2010 05:29:11 +0000
X-ASF-Spam-Status: No, hits=2.4 required=10.0
	tests=AWL,FREEMAIL_FROM,HTML_MESSAGE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lukas.vlcek@gmail.com designates 74.125.82.48 as permitted sender)
Received: from [74.125.82.48] (HELO mail-ww0-f48.google.com) (74.125.82.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Jun 2010 05:29:06 +0000
Received: by wwg30 with SMTP id 30so203044wwg.35
        for <java-user@lucene.apache.org>; Mon, 31 May 2010 22:28:45 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type;
        bh=cpsUuiYp4TPZld2F/BnEvVKVvm+RnGUACdy9e1VkL2E=;
        b=VJv7WTZYs3ezurcSf93Ew3bCRjBleVk0lDupU+MjNseAgApoQlv32dXIK78HGNRmPe
         D/K7sCq99/vTld1cnVfeTEV2tmZhnfHKGCeHKzBaknJelOhfLFEYOT3tT7QGnf3gE4Jw
         5BU2vUXvuTryCDrw8x8z5LazDK/VatVhB2+c0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=vAUPP3bx2/gDHH+xDljj/XzKckT6NSos6EMzshZYkG594EmgoZSqWHeeXnmwZlUD+v
         VQHfDbEmM031KrV3W1AWd7vEAie3Tz2t+bnldGTt4jbKnNE78gGv58GYSNMjoW0YQRPQ
         pAd/OCJWGuFh2pyEwz702Cy+tVS8iOXiAdPKU=
Received: by 10.216.156.193 with SMTP id m43mr4851892wek.11.1275370125128; 
	Mon, 31 May 2010 22:28:45 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.216.29.66 with HTTP; Mon, 31 May 2010 22:28:25 -0700 (PDT)
In-Reply-To: <AANLkTilRwUZXHsz8Bqb9Gma_eM_i57tcT5LWr9ru9Xq1@mail.gmail.com>
References: <AANLkTimtapXM-eW4Cf3_bv-LxQPVqH12_xHuRqwtt09c@mail.gmail.com> 
	<418378.95556.qm@web50306.mail.re2.yahoo.com> <AANLkTilRwUZXHsz8Bqb9Gma_eM_i57tcT5LWr9ru9Xq1@mail.gmail.com>
From: =?UTF-8?B?THVrw6HFoSBWbMSNZWs=?= <lukas.vlcek@gmail.com>
Date: Tue, 1 Jun 2010 07:28:25 +0200
Message-ID: <AANLkTinlYX1_vzPzml-HIPNi2IlD5A3hhdhCrsH7x9l2@mail.gmail.com>
Subject: Re: Is Lucene a "document oriented database"?
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016367f9eee43f6410487f13f3d

--0016367f9eee43f6410487f13f3d
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Heh, the first link is broken, it should be <a href=3D"
http://lucene-eurocon.org/slides/From-Publisher-ToPlatform-the-Guardian_Ste=
phen-Dunn.pdf">link</a>.
Check for other conference slides here:
http://lucene-eurocon.org/agenda.html

On Tue, Jun 1, 2010 at 7:25 AM, Luk=C3=A1=C5=A1 Vl=C4=8Dek <lukas.vlcek@gma=
il.com> wrote:

> There were nice presentations from The Guardian folks at EuroCon this yea=
r
> about how they made their content available to the public using Solr (and
> they refer to noSQL model [not only SQL]).
>
> http://lucene-eurocon.org/slides/From-Publisher-ToPlatform-the-Guardian_S=
tephen-Dunn.pdf
>
> http://lucene-eurocon.org/slides/Solr-In-The-Wild-The-Guardians-Open-Plat=
form-Content-API_Graham-Tackley.pdf
>
> Regards,
> Lukas
>
>
> On Tue, Jun 1, 2010 at 3:56 AM, Otis Gospodnetic <
> otis_gospodnetic@yahoo.com> wrote:
>
>> I think those doc-oriented DBs tend to be distributed, with replication
>> built-in and such, but yes, in some way the schemaless DB with docs and
>> fields (whether they are pumped in as JSON or XML or Java objects) feels=
 the
>> same.  I saw something from Grant about 2 months ago how Lucene is
>> "nosql-ish".
>>
>>  Otis
>> ----
>> Sematext :: http://sematext.com/ :: Solr - Lucene - Nutch
>> Lucene ecosystem search :: http://search-lucene.com/
>>
>>
>>
>> ----- Original Message ----
>> > From: Shashi Kant <skant@sloan.mit.edu>
>> > To: java-user@lucene.apache.org
>> > Sent: Mon, May 31, 2010 12:20:36 PM
>> > Subject: Is Lucene a "document oriented database"?
>> >
>> > There seems to be considerable buzz on the internets about document
>> oriented
>> > dbs such as MongoDB, CouchDB etc. I am at a loss as to what
>> are the principal
>> > differences between Lucene and the "DODBs". I could
>> very use Lucene as any of
>> > the above (schema-free, Document oriented)
>> and perform similar queries,
>> > *with* the added benefit of text search.
>>
>> I fail to see what benefits such
>> > DoDBs bring, or is it old wine in new
>> > bottles?
>>
>> Thanks
>> Shashi
>>
>> ---------------------------------------------------------------------
>> To
>> > unsubscribe, e-mail:
>> > href=3D"mailto:java-user-unsubscribe@lucene.apache.org">
>> java-user-unsubscribe@lucene.apache.org
>> For
>> > additional commands, e-mail:
>> > ymailto=3D"mailto:java-user-help@lucene.apache.org"
>> > href=3D"mailto:java-user-help@lucene.apache.org">
>> java-user-help@lucene.apache.org
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>

--0016367f9eee43f6410487f13f3d--

From java-user-return-46305-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 01 08:42:06 2010
Return-Path: <java-user-return-46305-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47078 invoked from network); 1 Jun 2010 08:42:05 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 1 Jun 2010 08:42:05 -0000
Received: (qmail 85155 invoked by uid 500); 1 Jun 2010 08:42:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84811 invoked by uid 500); 1 Jun 2010 08:42:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84801 invoked by uid 99); 1 Jun 2010 08:41:59 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Jun 2010 08:41:59 +0000
X-ASF-Spam-Status: No, hits=-0.3 required=10.0
	tests=AWL,FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of fancyerii@gmail.com designates 209.85.160.48 as permitted sender)
Received: from [209.85.160.48] (HELO mail-pw0-f48.google.com) (209.85.160.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Jun 2010 08:41:53 +0000
Received: by pwj10 with SMTP id 10so3061142pwj.35
        for <java-user@lucene.apache.org>; Tue, 01 Jun 2010 01:41:33 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:date:message-id
         :subject:from:to:content-type;
        bh=+CyDD4+LL5R1zVlPsWkFSPTMVzbYYUJNeSeFipUg7Jk=;
        b=UWsHTKrxFt8/SZmsZx2Exxt7RGFv6zJdvgfc3TUifjbJPPYVAwO3jHRcqRDtlAkjXq
         rjer3GIRRXdlXHIEzTpRyU5nx3FqDg3D1ijDvkILZaeIOIazGoSLwK130U6OyAPPEOyI
         8Y9WMuEZNpZy/CDw87bWlz6N/RTf0RiAXWDS0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=m6iJtTPmLmpeUJugC8EDe8Kyu2kW+xdEeAY0t8P3X54/XAE7gtWwJmeOzk4ZrSZH+U
         2wa/IJ91MKZ986NV1OdkjO00/884x9jNmOy1HRUJsg2weOaEexzgKp6A5vEgjKx/IAj0
         /ITgdCTq6hnawMmXbc5vfgDzTz9QjxTeWD28U=
MIME-Version: 1.0
Received: by 10.142.209.15 with SMTP id h15mr3950879wfg.150.1275381693441; 
	Tue, 01 Jun 2010 01:41:33 -0700 (PDT)
Received: by 10.142.191.18 with HTTP; Tue, 1 Jun 2010 01:41:33 -0700 (PDT)
Date: Tue, 1 Jun 2010 16:41:33 +0800
Message-ID: <AANLkTikakMfNQPdSeLVRHSkYF-66v5rwg8PXHIR_-4Wf@mail.gmail.com>
Subject: What's DisjunctionMaxQuery ?
From: Li Li <fancyerii@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

anyone could show me some detail information about it ? thanks

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46306-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 01 10:56:44 2010
Return-Path: <java-user-return-46306-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78907 invoked from network); 1 Jun 2010 10:56:44 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 1 Jun 2010 10:56:44 -0000
Received: (qmail 38343 invoked by uid 500); 1 Jun 2010 10:56:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38114 invoked by uid 500); 1 Jun 2010 10:56:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38104 invoked by uid 99); 1 Jun 2010 10:56:38 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Jun 2010 10:56:38 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of shashi.mit@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Jun 2010 10:56:32 +0000
Received: by fxm12 with SMTP id 12so4088691fxm.35
        for <java-user@lucene.apache.org>; Tue, 01 Jun 2010 03:56:12 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:sender:received
         :in-reply-to:references:from:date:x-google-sender-auth:message-id
         :subject:to:content-type:content-transfer-encoding;
        bh=ZYaFJmVoczm+NFZ3jgK2J6oJtuBb54uGR1KWvbJl2SQ=;
        b=ENfj3/d6HQ9VvmCLLsIPZHxp/3nnEFxKUHR/DktWuAdkqV0Qe+x6K4QZpjjEdlraWy
         ScswzgCUtijpZU4UEYoC90xnxkZZffoJOXqyCSKZy1ihVD4pQN2RDiJxLLswrIyvKkIB
         N8XGayHjiWD8Y8UB7hGr8zxAG2Lt8E7qNVTp8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:in-reply-to:references:from:date
         :x-google-sender-auth:message-id:subject:to:content-type
         :content-transfer-encoding;
        b=cc/C/CNuVuYj4Jy4hwUZxlYuDOKcEUQEGirsw7L7moorLF33ILq8UUBmbXt8HNwFhw
         M5wA8QubMfi+IQx9TxafOO6eI3Q7e0Vvqug57BTRCLjPLaLqwB/1+44IIx0toDRT2lcA
         RW9/mgE3Rm7HvlVqG9F87EvVP1yxxuuZQGpdU=
Received: by 10.223.16.207 with SMTP id p15mr6805885faa.99.1275389772139; Tue, 
	01 Jun 2010 03:56:12 -0700 (PDT)
MIME-Version: 1.0
Sender: shashi.mit@gmail.com
Received: by 10.223.105.13 with HTTP; Tue, 1 Jun 2010 03:55:52 -0700 (PDT)
In-Reply-To: <AANLkTinlYX1_vzPzml-HIPNi2IlD5A3hhdhCrsH7x9l2@mail.gmail.com>
References: <AANLkTimtapXM-eW4Cf3_bv-LxQPVqH12_xHuRqwtt09c@mail.gmail.com> 
	<418378.95556.qm@web50306.mail.re2.yahoo.com> <AANLkTilRwUZXHsz8Bqb9Gma_eM_i57tcT5LWr9ru9Xq1@mail.gmail.com> 
	<AANLkTinlYX1_vzPzml-HIPNi2IlD5A3hhdhCrsH7x9l2@mail.gmail.com>
From: Shashi Kant <skant@sloan.mit.edu>
Date: Tue, 1 Jun 2010 06:55:52 -0400
X-Google-Sender-Auth: nudCUdd4yWdFYI7ZeFvQw0nbg4Y
Message-ID: <AANLkTil2tFdDVvHkZnlWEa1Pre9wSnoQMWMu27GVc4L-@mail.gmail.com>
Subject: Re: Is Lucene a "document oriented database"?
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Great, thanks!

I am curious to learn if anyone has used Lucene/Solr as a
document-oriented db - any experiences to share? Lessons learned?
I am considering a similar application using Solr and want to ensure
we have a handle on potential issues.

Thanks,
Shashi



On Tue, Jun 1, 2010 at 1:28 AM, Luk=C3=A1=C5=A1 Vl=C4=8Dek <lukas.vlcek@gma=
il.com> wrote:
> Heh, the first link is broken, it should be <a href=3D"
> http://lucene-eurocon.org/slides/From-Publisher-ToPlatform-the-Guardian_S=
tephen-Dunn.pdf">link</a>.
> Check for other conference slides here:
> http://lucene-eurocon.org/agenda.html
>
> On Tue, Jun 1, 2010 at 7:25 AM, Luk=C3=A1=C5=A1 Vl=C4=8Dek <lukas.vlcek@g=
mail.com> wrote:
>
>> There were nice presentations from The Guardian folks at EuroCon this ye=
ar
>> about how they made their content available to the public using Solr (an=
d
>> they refer to noSQL model [not only SQL]).
>>
>> http://lucene-eurocon.org/slides/From-Publisher-ToPlatform-the-Guardian_=
Stephen-Dunn.pdf
>>
>> http://lucene-eurocon.org/slides/Solr-In-The-Wild-The-Guardians-Open-Pla=
tform-Content-API_Graham-Tackley.pdf
>>
>> Regards,
>> Lukas
>>
>>
>> On Tue, Jun 1, 2010 at 3:56 AM, Otis Gospodnetic <
>> otis_gospodnetic@yahoo.com> wrote:
>>
>>> I think those doc-oriented DBs tend to be distributed, with replication
>>> built-in and such, but yes, in some way the schemaless DB with docs and
>>> fields (whether they are pumped in as JSON or XML or Java objects) feel=
s the
>>> same. =C2=A0I saw something from Grant about 2 months ago how Lucene is
>>> "nosql-ish".
>>>
>>> =C2=A0Otis
>>> ----
>>> Sematext :: http://sematext.com/ :: Solr - Lucene - Nutch
>>> Lucene ecosystem search :: http://search-lucene.com/
>>>
>>>
>>>
>>> ----- Original Message ----
>>> > From: Shashi Kant <skant@sloan.mit.edu>
>>> > To: java-user@lucene.apache.org
>>> > Sent: Mon, May 31, 2010 12:20:36 PM
>>> > Subject: Is Lucene a "document oriented database"?
>>> >
>>> > There seems to be considerable buzz on the internets about document
>>> oriented
>>> > dbs such as MongoDB, CouchDB etc. I am at a loss as to what
>>> are the principal
>>> > differences between Lucene and the "DODBs". I could
>>> very use Lucene as any of
>>> > the above (schema-free, Document oriented)
>>> and perform similar queries,
>>> > *with* the added benefit of text search.
>>>
>>> I fail to see what benefits such
>>> > DoDBs bring, or is it old wine in new
>>> > bottles?
>>>
>>> Thanks
>>> Shashi
>>>
>>> ---------------------------------------------------------------------
>>> To
>>> > unsubscribe, e-mail:
>>> > href=3D"mailto:java-user-unsubscribe@lucene.apache.org">
>>> java-user-unsubscribe@lucene.apache.org
>>> For
>>> > additional commands, e-mail:
>>> > ymailto=3D"mailto:java-user-help@lucene.apache.org"
>>> > href=3D"mailto:java-user-help@lucene.apache.org">
>>> java-user-help@lucene.apache.org
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46307-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 01 11:54:55 2010
Return-Path: <java-user-return-46307-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95323 invoked from network); 1 Jun 2010 11:54:54 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 1 Jun 2010 11:54:54 -0000
Received: (qmail 13956 invoked by uid 500); 1 Jun 2010 11:54:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13767 invoked by uid 500); 1 Jun 2010 11:54:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13758 invoked by uid 99); 1 Jun 2010 11:54:50 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Jun 2010 11:54:50 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of mindas@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Jun 2010 11:54:44 +0000
Received: by fxm12 with SMTP id 12so4140309fxm.35
        for <java-user@lucene.apache.org>; Tue, 01 Jun 2010 04:54:23 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:date:message-id
         :subject:from:to:content-type;
        bh=+129cLWYcQ+KfobxjodW54sjYOYgJZG7gabOMaUtrRE=;
        b=N1xwc/svINltWbtbGG890XWk/+m8wdGhfWKXBq7YRl934a51L8/U7jAaP37DCXWHzD
         mmmO6Cnn/dI3T8+sW+PxdxOnIN1naDAaR9kwmrOyR1LtQBoU03qEFN+X2lJQOerF8n8m
         UKyv+z6V9fmS+MmXpeJkzHnpoxn3pRPM6Zv6w=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=BfEiVjQ5dyZnFr/f65R74WG0XyVgr0ZoO8FhzpjnbvH75P7HCPKtDXk62BFSSo8oUR
         GJ24NV50mzCQ3ekrsud8TBVGpIckJyQnTgPw6MCxiiKO4OlxxQ8J+A84Jz118MtvCXGO
         eXdEjqpcNF/bzbpXO1Su9wlRbCWjq11AhQY5E=
MIME-Version: 1.0
Received: by 10.239.158.133 with SMTP id u5mr481072hbc.179.1275393262830; Tue, 
	01 Jun 2010 04:54:22 -0700 (PDT)
Received: by 10.239.171.147 with HTTP; Tue, 1 Jun 2010 04:54:22 -0700 (PDT)
Date: Tue, 1 Jun 2010 12:54:22 +0100
Message-ID: <AANLkTilt4WO722-T1t4uxqwggOwEQajn5mXTlo4YAr8g@mail.gmail.com>
Subject: NumericField API
From: =?ISO-8859-13?Q?Mindaugas_=DEak=F0auskas?= <mindas@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

Hi,

I have recently been in charge of converting code that was using
pre-3.0 API to be compatible with 3.0 API.

There was a piece of code which was storing a date field:

String date = "20091231131415"; // yyyyMMddHHmmss
new Field("creationDate", date, Field.Store.YES, Field.Index.UN_TOKENIZED);

After some documents being indexed, the following query would retrieve
all documents created in 2009:

new ConstantScoreRangeQuery("creationDate", "20090101000000",
"20100101000000", true, true);

Query results would be sortable by simply adding this sort:

boolean descending = ...;   // either true or false
new Sort(new SortField("creationDate", SortField.STRING, descending));

Unfortunately this sequence doesn't work in 3.0.
ConstantScoreRangeQuery, for example, is gone and replaced with
NumericRangeQuery. With this in mind, Field creation should now become
as follows:

long date = 20091231131415L; // same format but different type
NumericField nf = new NumericField("creationDate", Field.Store.YES, true);
nf.setLongValue(date);

And the range query now looks like as:

NumericRangeQuery.newLongRange(
   "creationDate",
   20090101000000
   20100101000000
   true,
   true
)

This does work, but the above sort isn't. Exception says: "there are
more terms than documents in field "creationDate", but it's impossible
to sort on tokenized fields".

In order to get rid of this exception, I had to change one of the following:
- SortField must be changed from SortField.STRING to SortField.LONG
- NumericField constructor must use false for its "index" (last) parameter.

This is a bit weird. So, here are my questions:

1) I thought the difference between SortField.LONG and
SortField.STRING should only be as in numeric sorting VS
lexicographical sorting, right? Why would changing to SortField.LONG
prevent the exception?
2) How does that relate to passing index=true VS index=false in
NumericField constructor? Which of the two is preferred, assuming I
need the data to be stored and indexed as well as being able to run
range queries?
3) NumericField API is marked as experimental and volatile
(http://lucene.apache.org/java/3_0_1/api/core/index.html). Is there
any other "stable" API I can rely on in Lucene 3.0? If not, what would
be possible NumericField replacement I could use now?

Thanks in advance.

Regards,
Mindaugas

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46308-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 01 12:33:38 2010
Return-Path: <java-user-return-46308-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8190 invoked from network); 1 Jun 2010 12:33:38 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 1 Jun 2010 12:33:38 -0000
Received: (qmail 53970 invoked by uid 500); 1 Jun 2010 12:33:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53920 invoked by uid 500); 1 Jun 2010 12:33:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53912 invoked by uid 99); 1 Jun 2010 12:33:36 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Jun 2010 12:33:36 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Jun 2010 12:33:26 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id A254D45F55E
	for <java-user@lucene.apache.org>; Tue,  1 Jun 2010 14:33:06 +0200 (CEST)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id YTvHadywxZWR for <java-user@lucene.apache.org>;
	Tue,  1 Jun 2010 14:33:03 +0200 (CEST)
Received: from VEGA (WDC-MARE.marum.de [134.102.249.78])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id 20C4145F4F5
	for <java-user@lucene.apache.org>; Tue,  1 Jun 2010 14:33:03 +0200 (CEST)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <AANLkTilt4WO722-T1t4uxqwggOwEQajn5mXTlo4YAr8g@mail.gmail.com>
In-Reply-To: <AANLkTilt4WO722-T1t4uxqwggOwEQajn5mXTlo4YAr8g@mail.gmail.com>
Subject: RE: NumericField API
Date: Tue, 1 Jun 2010 14:33:53 +0200
Message-ID: <00b101cb0186$b2571cd0$17055670$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQLvI7jr7TpA09/i540gkBefFghEe5Akwn+A
Content-Language: de
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

> I have recently been in charge of converting code that was using
> pre-3.0 API to be compatible with 3.0 API.
> 
> There was a piece of code which was storing a date field:
> 
> String date = "20091231131415"; // yyyyMMddHHmmss new
> Field("creationDate", date, Field.Store.YES, Field.Index.UN_TOKENIZED);
> 
> After some documents being indexed, the following query would retrieve all
> documents created in 2009:
> 
> new ConstantScoreRangeQuery("creationDate", "20090101000000",
> "20100101000000", true, true);
> 
> Query results would be sortable by simply adding this sort:
> 
> boolean descending = ...;   // either true or false
> new Sort(new SortField("creationDate", SortField.STRING, descending));
> 
> Unfortunately this sequence doesn't work in 3.0.
> ConstantScoreRangeQuery, for example, is gone and replaced with
> NumericRangeQuery. 

If you want the old behavior (and not native numeric ranges), you can use
TermRangeQuery - then your code is exactly the same as before, only
RangeQuery/ConstantScoreRangeQuery is replaced by TermRangeQuery. But this
is ineffective as real numeric queries are optimized in Lucene 2.9 and
later. So your guess is right, you should use NumericField and
NumericRangeQuery.

> With this in mind, Field creation should now become as
> follows:
> 
> long date = 20091231131415L; // same format but different type
> NumericField nf = new NumericField("creationDate", Field.Store.YES, true);
> nf.setLongValue(date);
> 

Correct.

> And the range query now looks like as:
> 
> NumericRangeQuery.newLongRange(
>    "creationDate",
>    20090101000000
>    20100101000000
>    true,
>    true
> )

Correct.

Alternatively there is no need to use that type of numbers, you can encode
the date in any variant, simpliest is Date.time() (miliseconds since epoch).

> This does work, but the above sort isn't. Exception says: "there are more
> terms than documents in field "creationDate", but it's impossible to sort
on
> tokenized fields".
> 
> In order to get rid of this exception, I had to change one of the
following:
> - SortField must be changed from SortField.STRING to SortField.LONG

This does the trick and is *not* weird. You are using *numeric* fields, so
you cannot sort as lexical *terms/strings*

> - NumericField constructor must use false for its "index" (last)
parameter.

Thats incorrect (see below).

> This is a bit weird. So, here are my questions:
> 
> 1) I thought the difference between SortField.LONG and SortField.STRING
> should only be as in numeric sorting VS lexicographical sorting, right?
Why
> would changing to SortField.LONG prevent the exception?

It is a *numeric* field, so you *cannot* sort by lexicographical order.

> 2) How does that relate to passing index=true VS index=false in
NumericField
> constructor? Which of the two is preferred, assuming I need the data to be
> stored and indexed as well as being able to run range queries?

This is incorrect. If you want to sort, you must turn on indexing, without
that sorting is not possible.

The above exception may be caused by something different: Can it be that you
have an old index that already had non-NumericField documents in it? If this
is so, you have a mixed field contents and then behavior of range query and
sort is wrong.

> 3) NumericField API is marked as experimental and volatile
> (http://lucene.apache.org/java/3_0_1/api/core/index.html). Is there any
> other "stable" API I can rely on in Lucene 3.0? If not, what would be
possible
> NumericField replacement I could use now?

"Experimental" in Lucene's API *only* means that the API (method signatures,
classes) may change suddenly. The features are tested and working.

Uwe


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46309-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 01 13:06:05 2010
Return-Path: <java-user-return-46309-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26614 invoked from network); 1 Jun 2010 13:06:05 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 1 Jun 2010 13:06:05 -0000
Received: (qmail 1278 invoked by uid 500); 1 Jun 2010 13:06:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1251 invoked by uid 500); 1 Jun 2010 13:06:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1242 invoked by uid 99); 1 Jun 2010 13:06:02 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Jun 2010 13:06:02 +0000
X-ASF-Spam-Status: No, hits=1.1 required=10.0
	tests=AWL,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [188.121.53.1] (HELO n1plout04-01.prod.ams1.secureserver.net) (188.121.53.1)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 01 Jun 2010 13:05:56 +0000
Received: (qmail 25214 invoked from network); 1 Jun 2010 13:05:33 -0000
Received: from unknown (109.253.181.176)
  by n1plout04-01.prod.ams1.secureserver.net (188.121.53.1) with ESMTP; 01 Jun 2010 13:04:55 -0000
From: "Itamar Syn-Hershko" <itamar@code972.com>
To: <java-user@lucene.apache.org>
References: <AANLkTikakMfNQPdSeLVRHSkYF-66v5rwg8PXHIR_-4Wf@mail.gmail.com>
Subject: RE: What's DisjunctionMaxQuery ?
Date: Tue, 1 Jun 2010 16:04:48 +0300
Message-ID: <07863F07DF624290B18BC2A543858D44@hp6690ej01>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
In-Reply-To: <AANLkTikakMfNQPdSeLVRHSkYF-66v5rwg8PXHIR_-4Wf@mail.gmail.com>
Thread-Index: AcsBZlQiZk399B8jQZOtdemScZsLHgAJI41g
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.5579

See slide 18 in
http://www.cnlp.org/presentations/slides/advancedluceneeu.pdf, and
http://lucene.apache.org/java/2_0_0/api/org/apache/lucene/search/Disjunction
MaxQuery.html.

Itamar.

-----Original Message-----
From: Li Li [mailto:fancyerii@gmail.com] 
Sent: Tuesday, June 01, 2010 11:42 AM
To: java-user@lucene.apache.org
Subject: What's DisjunctionMaxQuery ?

anyone could show me some detail information about it ? thanks

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46310-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 01 13:34:51 2010
Return-Path: <java-user-return-46310-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32832 invoked from network); 1 Jun 2010 13:34:51 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 1 Jun 2010 13:34:51 -0000
Received: (qmail 43901 invoked by uid 500); 1 Jun 2010 13:34:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43874 invoked by uid 500); 1 Jun 2010 13:34:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43866 invoked by uid 99); 1 Jun 2010 13:34:49 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Jun 2010 13:34:49 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of mindas@gmail.com designates 72.14.220.159 as permitted sender)
Received: from [72.14.220.159] (HELO fg-out-1718.google.com) (72.14.220.159)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Jun 2010 13:34:41 +0000
Received: by fg-out-1718.google.com with SMTP id 16so984223fgg.5
        for <java-user@lucene.apache.org>; Tue, 01 Jun 2010 06:34:21 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=h4wWppKkSra9cWDTAMCgaszC4rZggXlOb+JhXxzHiRw=;
        b=Zi3JhMVM0m2xF37AsjFsxSmsdLyn4/c0aadbOgsosOFf5+js90ROBFG1s33ucTE1Bl
         4H71N0x58eEWsCdyme1Hf5Mid5ji6LlwVOGO5FgomNyNEfmNCAyW5ItTBzeEBEAUw89V
         4pfg1zAPh3tDRTP6u+/S744UNLZIfqp6hW4WU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=UMqca9s3X93SqIzAT1/JRzcCDfROP2K5Y6xeKWNc+WSvZSnk6zAhXEqFerIiuAY4C0
         qbJhPs3NUz2amPpHIoS99Iu0c8qqzolgHinISsP9dAWLlEoR+mhhX0vUKbpvZWJ1sgKV
         PHXGHN60jHaiKXSU7XkaDgZlYcpTs1xoFxSkA=
MIME-Version: 1.0
Received: by 10.239.183.145 with SMTP id u17mr495863hbg.209.1275399260920; 
	Tue, 01 Jun 2010 06:34:20 -0700 (PDT)
Received: by 10.239.171.147 with HTTP; Tue, 1 Jun 2010 06:34:20 -0700 (PDT)
In-Reply-To: <00b101cb0186$b2571cd0$17055670$@thetaphi.de>
References: <AANLkTilt4WO722-T1t4uxqwggOwEQajn5mXTlo4YAr8g@mail.gmail.com>
	<00b101cb0186$b2571cd0$17055670$@thetaphi.de>
Date: Tue, 1 Jun 2010 14:34:20 +0100
Message-ID: <AANLkTim4KJXe9WBJZkvjg3F1FWQ2G3R6dHTq_MuLkf6q@mail.gmail.com>
Subject: Re: NumericField API
From: =?ISO-8859-13?Q?Mindaugas_=DEak=F0auskas?= <mindas@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

Thanks for your reply Uwe. Just a couple of notes:

>> In order to get rid of this exception, I had to change one of the
> following:
>> - SortField must be changed from SortField.STRING to SortField.LONG
>
> This does the trick and is *not* weird. You are using *numeric* fields, so
> you cannot sort as lexical *terms/strings*

Fair enough. I don't know if this is easily doable, but maybe it would
be worth changing the exception text to be a bit more readable?
Because I had to spend a fair amount of time digging into
"creationDate field has become tokenized? How could that happen for
numeric fields?" direction. As from your answer - all that matters in
this case is the sorting rather than indexing.

> The above exception may be caused by something different: Can it be that you
> have an old index that already had non-NumericField documents in it? If this
> is so, you have a mixed field contents and then behavior of range query and
> sort is wrong.

I have completely reindexed all documents so this clearly isn't the case.

>
>> 3) NumericField API is marked as experimental and volatile
>> (http://lucene.apache.org/java/3_0_1/api/core/index.html). Is there any
>> other "stable" API I can rely on in Lucene 3.0? If not, what would be
> possible
>> NumericField replacement I could use now?
>
> "Experimental" in Lucene's API *only* means that the API (method signatures,
> classes) may change suddenly. The features are tested and working.

My point was - I totally understand that a piece of API could have
been made deprecated and  replaced with something else. That's the
life we're living. But would it not then make sense to replace it with
something else which is also reasonably stable (in terms of API)?

Because developers aren't left with many options now - they have to
convert from using one API which is unavailable to another which is
likely to change rather sooner than later. It's just an early
observation as historically Lucene has been doing an amazing job in
terms of API stability.

Regards,
Mindaugas

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46311-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 01 13:41:37 2010
Return-Path: <java-user-return-46311-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34668 invoked from network); 1 Jun 2010 13:41:37 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 1 Jun 2010 13:41:37 -0000
Received: (qmail 56594 invoked by uid 500); 1 Jun 2010 13:41:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56559 invoked by uid 500); 1 Jun 2010 13:41:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56551 invoked by uid 99); 1 Jun 2010 13:41:35 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Jun 2010 13:41:35 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=AWL,FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of markrmiller@gmail.com designates 74.125.83.48 as permitted sender)
Received: from [74.125.83.48] (HELO mail-gw0-f48.google.com) (74.125.83.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Jun 2010 13:41:28 +0000
Received: by gwj21 with SMTP id 21so261960gwj.35
        for <java-user@lucene.apache.org>; Tue, 01 Jun 2010 06:41:07 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:message-id:date:from
         :user-agent:mime-version:to:subject:references:in-reply-to
         :content-type:content-transfer-encoding;
        bh=cPaDYcGRdwY3jV0YMuTmqUqg01qBl7Vu/IKxlxoTCm8=;
        b=tExFyJUVeC/qyAs4KF0ARmNhpSZh80cwqtUT/dfVRG2ybSfw5MKebYD+cAUCS9pt0e
         nGqEyYPG+3p4ZMg266J4W+2QSLU+kTSbn2g0D/uUO60gDi+CVenUtvuHXGRMcSSH3zrS
         K2ELGUfCloqy6VR+nAcwm8G3M1Km/FjYzaf6c=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=message-id:date:from:user-agent:mime-version:to:subject:references
         :in-reply-to:content-type:content-transfer-encoding;
        b=duL0aRTj29ZHusM9jK8EmVuV+R8mSPhwQSuYGOm+RsJCkrZoAO0WPewHFSaV1dFu1T
         FmDVD6/OZEAWlmE+DgPnpuueZxwm09imC/tfLZFrfit2SyH9k46wgCWPts+txvFEmOsB
         fwMhkQs0FlXGLSIDUUEwd63iUIKE6W8QWO1zE=
Received: by 10.224.115.27 with SMTP id g27mr2315032qaq.311.1275399667588;
        Tue, 01 Jun 2010 06:41:07 -0700 (PDT)
Received: from Mark-Millers-MacBook-Pro.local (ool-44c639d9.dyn.optonline.net [68.198.57.217])
        by mx.google.com with ESMTPS id 6sm6791442qwd.33.2010.06.01.06.41.06
        (version=SSLv3 cipher=RC4-MD5);
        Tue, 01 Jun 2010 06:41:06 -0700 (PDT)
Message-ID: <4C050DF1.6050002@gmail.com>
Date: Tue, 01 Jun 2010 09:41:05 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US; rv:1.9.1.9) Gecko/20100317 Thunderbird/3.0.4
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: NumericField API
References: <AANLkTilt4WO722-T1t4uxqwggOwEQajn5mXTlo4YAr8g@mail.gmail.com>	<00b101cb0186$b2571cd0$17055670$@thetaphi.de> <AANLkTim4KJXe9WBJZkvjg3F1FWQ2G3R6dHTq_MuLkf6q@mail.gmail.com>
In-Reply-To: <AANLkTim4KJXe9WBJZkvjg3F1FWQ2G3R6dHTq_MuLkf6q@mail.gmail.com>
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 8bit

On 6/1/10 9:34 AM, Mindaugas akauskas wrote:
> It's just an early
> observation as historically Lucene has been doing an amazing job in
> terms of API stability.

Yes it has :)

Get ready for even more change in that area though :)

-- 
- Mark

http://www.lucidimagination.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46312-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 01 13:56:38 2010
Return-Path: <java-user-return-46312-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38246 invoked from network); 1 Jun 2010 13:56:38 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 1 Jun 2010 13:56:38 -0000
Received: (qmail 80273 invoked by uid 500); 1 Jun 2010 13:56:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80231 invoked by uid 500); 1 Jun 2010 13:56:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80223 invoked by uid 99); 1 Jun 2010 13:56:36 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Jun 2010 13:56:36 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Jun 2010 13:56:25 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id 9702145F6B3
	for <java-user@lucene.apache.org>; Tue,  1 Jun 2010 15:56:05 +0200 (CEST)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id xsTmMpXCbjYg for <java-user@lucene.apache.org>;
	Tue,  1 Jun 2010 15:55:56 +0200 (CEST)
Received: from VEGA (WDC-MARE.marum.de [134.102.249.78])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id A858045F690
	for <java-user@lucene.apache.org>; Tue,  1 Jun 2010 15:55:56 +0200 (CEST)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <AANLkTilt4WO722-T1t4uxqwggOwEQajn5mXTlo4YAr8g@mail.gmail.com>	<00b101cb0186$b2571cd0$17055670$@thetaphi.de> <AANLkTim4KJXe9WBJZkvjg3F1FWQ2G3R6dHTq_MuLkf6q@mail.gmail.com>
In-Reply-To: <AANLkTim4KJXe9WBJZkvjg3F1FWQ2G3R6dHTq_MuLkf6q@mail.gmail.com>
Subject: RE: NumericField API
Date: Tue, 1 Jun 2010 15:56:47 +0200
Message-ID: <00b201cb0192$46d46a10$d47d3e30$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQLvI7jr7TpA09/i540gkBefFghEewHaizMkAVnAz3yQCzmmYA==
Content-Language: de
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

> >> 3) NumericField API is marked as experimental and volatile
> >> (http://lucene.apache.org/java/3_0_1/api/core/index.html). Is there
> >> any other "stable" API I can rely on in Lucene 3.0? If not, what
> >> would be
> > possible
> >> NumericField replacement I could use now?
> >
> > "Experimental" in Lucene's API *only* means that the API (method
> > signatures,
> > classes) may change suddenly. The features are tested and working.
> 
> My point was - I totally understand that a piece of API could have been
made
> deprecated and  replaced with something else. That's the life we're
living.
> But would it not then make sense to replace it with something else which
is
> also reasonably stable (in terms of API)?
> 
> Because developers aren't left with many options now - they have to
convert
> from using one API which is unavailable to another which is likely to
change
> rather sooner than later. It's just an early observation as historically
Lucene
> has been doing an amazing job in terms of API stability.

There are two problems:
- You can go back to your old code and you don't need to move to
NumericField at all. As noted before: The *replacement* for RangeQuery and
ConstantScoreRangeQuery is TermRangeQuery. NumericRangeQuery is a new API
and is totally different. If you use it, you have to get rid of old code and
old way of use patterns - sorry :-)
- 3.0 breaks backwards, so you cannot use any legacy-APIs anymore

Uwe


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46313-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 01 14:08:07 2010
Return-Path: <java-user-return-46313-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50291 invoked from network); 1 Jun 2010 14:08:07 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 1 Jun 2010 14:08:07 -0000
Received: (qmail 18335 invoked by uid 500); 1 Jun 2010 14:08:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18297 invoked by uid 500); 1 Jun 2010 14:08:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18289 invoked by uid 99); 1 Jun 2010 14:08:04 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Jun 2010 14:08:04 +0000
X-ASF-Spam-Status: No, hits=-0.3 required=10.0
	tests=AWL,FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of fancyerii@gmail.com designates 209.85.222.194 as permitted sender)
Received: from [209.85.222.194] (HELO mail-pz0-f194.google.com) (209.85.222.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Jun 2010 14:07:57 +0000
Received: by pzk32 with SMTP id 32so2391954pzk.21
        for <java-user@lucene.apache.org>; Tue, 01 Jun 2010 07:07:37 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:date:message-id
         :subject:from:to:content-type;
        bh=kBAy0qX+HnvynaPiIew+9uR6x+GifpBHm7nYkNqr1qE=;
        b=nvlcztqfCatPP8GGpZzGLFtkQxjQM/TfYuCsfRx1gAq+j90a7qM2ozlGWqpkQ59unx
         pLzE25QyUn5iBB5evHFmlD5jp1H93Uke3LaKOFNoutR5XNj+gO2kJywa81g9Q0knreTU
         bwqM9fKOMe+5UfPIxVLJ0r+JFKQE+LS5E4t80=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=vg1zW0IwVWlHz6FvmVxhxKOnXrQS6NEkVwOe0WS8AHLFzUtoSKJrG6x7CY3NR9GxHc
         zemaYbBXiaMeUpJionR/BbmgDo70i8IOdtXTEsbJtJmzW+h27M8ZA4Os+Xq1yWB0IbsA
         Xho1XenX4HIY60q2lw8ac0GpIhxkXyJsc39yc=
MIME-Version: 1.0
Received: by 10.142.65.24 with SMTP id n24mr4130379wfa.302.1275401256997; Tue, 
	01 Jun 2010 07:07:36 -0700 (PDT)
Received: by 10.142.191.18 with HTTP; Tue, 1 Jun 2010 07:07:36 -0700 (PDT)
Date: Tue, 1 Jun 2010 22:07:36 +0800
Message-ID: <AANLkTil9kr5v9Y-r1MtIoEzCZELFPfXNT6b01XewrlAV@mail.gmail.com>
Subject: how to extend Similarity in this situation?
From: Li Li <fancyerii@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

I want to only support boolean or query(as many search engine do). But
I want to boost document whose terms are closer.
e.g. the query terms are 'apache lucene'
doc1 apache has many projects such as lucene
doc2 The Apache HTTP Server Project is an effort to develop and
maintain an ...  Lucene is a .....
I want to give doc1 more boost.
So I need a place where I can get all position information
How to extend Similarity to achieve this?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46314-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 01 17:35:55 2010
Return-Path: <java-user-return-46314-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39759 invoked from network); 1 Jun 2010 17:35:54 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 1 Jun 2010 17:35:54 -0000
Received: (qmail 73911 invoked by uid 500); 1 Jun 2010 17:35:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73842 invoked by uid 500); 1 Jun 2010 17:35:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73834 invoked by uid 99); 1 Jun 2010 17:35:52 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Jun 2010 17:35:52 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of gsiasf@gmail.com designates 209.85.160.176 as permitted sender)
Received: from [209.85.160.176] (HELO mail-gy0-f176.google.com) (209.85.160.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Jun 2010 17:35:44 +0000
Received: by gyf1 with SMTP id 1so4712626gyf.35
        for <java-user@lucene.apache.org>; Tue, 01 Jun 2010 10:35:23 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:sender:content-type
         :mime-version:subject:from:in-reply-to:date
         :content-transfer-encoding:message-id:references:to:x-mailer;
        bh=gdwCTR1NYcg8caLFns413nc3e8D7g369Fh8Utm84w5c=;
        b=w2gIFtczAR0eVqpYfYGCkSka2YBbK33TYlkGdxNYcHUn5EEOV+60XXknqeWygOrAAO
         LGib1EAzT0AcT1Yu460e95+p7/kf2GfKVCkM72iZaLyc4bBD9ejhahG2h7kKTJfS/8hb
         l8KWEKundsTsaDHUFUKK4CcVL+FkgG2+CAFUQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=sender:content-type:mime-version:subject:from:in-reply-to:date
         :content-transfer-encoding:message-id:references:to:x-mailer;
        b=tn0MvzR5oIFU9q9kLW67IKsG5tkzcSFJDTSxFO9i35zBnfgO1it0Vc+X0Gbe0THthb
         zUIUjfabcDuu3OYYSZFZofnKBW4e6ojZHER9Cb8L6/0aPh3O/9bLX1MBV0GTajmCkZWq
         muGDa7PeVShHZdaMqlKcXY+ZvazBKcYfamL5E=
Received: by 10.229.187.6 with SMTP id cu6mr1065954qcb.64.1275413723527;
        Tue, 01 Jun 2010 10:35:23 -0700 (PDT)
Received: from [10.0.0.77] (adsl-065-013-152-164.sip.rdu.bellsouth.net [65.13.152.164])
        by mx.google.com with ESMTPS id v37sm2109245qce.12.2010.06.01.10.35.22
        (version=TLSv1/SSLv3 cipher=RC4-MD5);
        Tue, 01 Jun 2010 10:35:22 -0700 (PDT)
Sender: Grant Ingersoll <gsiasf@gmail.com>
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Apple Message framework v1078)
Subject: Re: vector model usage
From: Grant Ingersoll <gsingers@apache.org>
In-Reply-To: <AANLkTim9Csb9u6BovzamAUnOxY1ZiF0iT_o496zdcf1M@mail.gmail.com>
Date: Tue, 1 Jun 2010 13:35:19 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <94951369-CF46-4E16-B4BB-E4672503DD43@apache.org>
References: <AANLkTim9Csb9u6BovzamAUnOxY1ZiF0iT_o496zdcf1M@mail.gmail.com>
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.1078)
X-Virus-Checked: Checked by ClamAV on apache.org


On May 31, 2010, at 6:25 AM, Dionisis Koumouras wrote:

> Hi all,
> I'm new to lucene but have used it succesfully for a few simple tasks.
>=20
> I am experimenting with the vector space representation of documents =
and
> have managed to store and retrieve TermFreqVector objects.
>=20
> The question is whether it is possible to directly add vector space
> representations of documents to an index. I can't find any way to =
create a
> document field from a TermFreqVector object.

The Field constructor can take in a TokenStream (i.e. a preanalyzed =
stream) which you could easily back with a TermFreqVector.

>=20
> This is the use case behind the question: retrieve some documents from =
the
> index, cluster them, and store the vector space representations of the
> clusters back to the index.
>=20
> Dionisis

--------------------------
Grant Ingersoll
http://www.lucidimagination.com/

Search the Lucene ecosystem using Solr/Lucene: =
http://www.lucidimagination.com/search


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46315-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 01 20:30:03 2010
Return-Path: <java-user-return-46315-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54991 invoked from network); 1 Jun 2010 20:30:02 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 1 Jun 2010 20:30:02 -0000
Received: (qmail 52661 invoked by uid 500); 1 Jun 2010 20:30:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52618 invoked by uid 500); 1 Jun 2010 20:30:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52610 invoked by uid 99); 1 Jun 2010 20:30:00 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Jun 2010 20:30:00 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of kumdio@gmail.com designates 209.85.160.48 as permitted sender)
Received: from [209.85.160.48] (HELO mail-pw0-f48.google.com) (209.85.160.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Jun 2010 20:29:53 +0000
Received: by pwj10 with SMTP id 10so3562124pwj.35
        for <java-user@lucene.apache.org>; Tue, 01 Jun 2010 13:29:32 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=SKkozACLVSvxCHXLx4P/vWB9GCOk1ruLNANG1Akgsz4=;
        b=akhYiczLswzpis6J3MRERg2TEJaXnjybtx5je+MdodEocE4Xv2f+FIlY8AScGjpAj+
         zzgXrXQ4FU6i5iVZRgcid8PX7qqT/OHTKJvoGOtxVnu8gA73GfUo5a2YzNTE4Fttm1w8
         Ys5a4x/LcB6ynGYnWqmEBf6G+gEJJ1ockBCW4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=MOjpVsKU2Mmj7QZFiRqVgsDVU7LdwUgmY35p5LNj3GxXdK+JdMWVUrkzASh6zymJdj
         VcB5mWTgzKn13BhTfcy9SIB+kLOsJnn1k6B/kgRucpOhx/j3W/jLd5eZ4EZMyZimOH0q
         l1aikKT84aS3OYIFgPMMt0F/liJxGV5Xrjp/E=
MIME-Version: 1.0
Received: by 10.141.101.15 with SMTP id d15mr5204650rvm.10.1275424172242; Tue, 
	01 Jun 2010 13:29:32 -0700 (PDT)
Received: by 10.140.191.21 with HTTP; Tue, 1 Jun 2010 13:29:31 -0700 (PDT)
In-Reply-To: <94951369-CF46-4E16-B4BB-E4672503DD43@apache.org>
References: <AANLkTim9Csb9u6BovzamAUnOxY1ZiF0iT_o496zdcf1M@mail.gmail.com>
	<94951369-CF46-4E16-B4BB-E4672503DD43@apache.org>
Date: Tue, 1 Jun 2010 23:29:31 +0300
Message-ID: <AANLkTilvXUz9iZq4sZdinVONNG_y_nO2jbyWTIpl_twz@mail.gmail.com>
Subject: Re: vector model usage
From: Dionisis Koumouras <kumdio@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=000e0cd13924b976060487fdd425
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd13924b976060487fdd425
Content-Type: text/plain; charset=ISO-8859-1

Thanks for your reply Grant.
I checked out the TokenStream class and you are right but I'm afraid I
didn't really make myself understood. What I want is to be able to create a
Document out of key-value pairs of terms and float numbers representing word
weights, insert the Document in the index and then use the lucene scoring
mechanism to retrieve the entries.
Do you find this feasible?

On Tue, Jun 1, 2010 at 8:35 PM, Grant Ingersoll <gsingers@apache.org> wrote:

>
> On May 31, 2010, at 6:25 AM, Dionisis Koumouras wrote:
>
> > Hi all,
> > I'm new to lucene but have used it succesfully for a few simple tasks.
> >
> > I am experimenting with the vector space representation of documents and
> > have managed to store and retrieve TermFreqVector objects.
> >
> > The question is whether it is possible to directly add vector space
> > representations of documents to an index. I can't find any way to create
> a
> > document field from a TermFreqVector object.
>
> The Field constructor can take in a TokenStream (i.e. a preanalyzed stream)
> which you could easily back with a TermFreqVector.
>
> >
> > This is the use case behind the question: retrieve some documents from
> the
> > index, cluster them, and store the vector space representations of the
> > clusters back to the index.
> >
> > Dionisis
>
> --------------------------
> Grant Ingersoll
> http://www.lucidimagination.com/
>
> Search the Lucene ecosystem using Solr/Lucene:
> http://www.lucidimagination.com/search
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--000e0cd13924b976060487fdd425--

From java-user-return-46316-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 01 20:54:06 2010
Return-Path: <java-user-return-46316-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60706 invoked from network); 1 Jun 2010 20:54:06 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 1 Jun 2010 20:54:06 -0000
Received: (qmail 80171 invoked by uid 500); 1 Jun 2010 20:54:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80139 invoked by uid 500); 1 Jun 2010 20:54:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80131 invoked by uid 99); 1 Jun 2010 20:54:04 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Jun 2010 20:54:04 +0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=FREEMAIL_FROM,SPF_HELO_PASS,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: 216.139.236.158 is neither permitted nor denied by domain of sirishreddy@gmail.com)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Jun 2010 20:53:57 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <sirishreddy@gmail.com>)
	id 1OJYSv-0004DV-2y
	for java-user@lucene.apache.org; Tue, 01 Jun 2010 13:53:37 -0700
Date: Tue, 1 Jun 2010 13:53:37 -0700 (PDT)
From: Sirish Vadala <sirishreddy@gmail.com>
To: java-user@lucene.apache.org
Message-ID: <1275425617086-862859.post@n3.nabble.com>
Subject: Problem fetching number of occurrences
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org


Hello All:

Can any one suggest me the best way to get the no. of occurrences of each
word per document in Lucene?

Eg: Let the indexed text be:

If you are posting a question, please try search first. Your question may
have already been answered.

Now if I search for the word 'question', then I would like to get this
document along with the number of occurrences of question in the document,
in the above case it would be 2.

Any hint would be appreciated.
Thanks.


-- 
View this message in context: http://lucene.472066.n3.nabble.com/Problem-fetching-number-of-occurrences-tp862859p862859.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46317-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 02 00:54:36 2010
Return-Path: <java-user-return-46317-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38848 invoked from network); 2 Jun 2010 00:54:35 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 2 Jun 2010 00:54:35 -0000
Received: (qmail 54804 invoked by uid 500); 2 Jun 2010 00:54:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54685 invoked by uid 500); 2 Jun 2010 00:54:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54532 invoked by uid 99); 2 Jun 2010 00:54:30 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Jun 2010 00:54:30 +0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=AWL,FREEMAIL_FROM,HTML_MESSAGE,MISSING_HEADERS,RCVD_IN_DNSWL_NONE,SPF_PASS,T_FILL_THIS_FORM_SHORT,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of gsiasf@gmail.com designates 209.85.211.200 as permitted sender)
Received: from [209.85.211.200] (HELO mail-yw0-f200.google.com) (209.85.211.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Jun 2010 00:54:24 +0000
Received: by ywh38 with SMTP id 38so4239916ywh.23
        for <multiple recipients>; Tue, 01 Jun 2010 17:54:03 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:sender:from:mime-version
         :content-type:subject:date:in-reply-to:cc:references:message-id
         :x-mailer;
        bh=R333BxP4OMeFtkDb4phgEm1XkE2O1NPzLavwHgAJxgQ=;
        b=xsvTRAYjF2F6WRKtuUOfaCWbEnn4uUtwNjL5qzOCkLRPMxpZdKFPBqHwphwGUHEftq
         GAj9Mkonazym6WHdVWEQp5ziICe3d7HgjXNqZu3maHscDVeW5XuP1CFgnDzGJksB/cD0
         5M5FPM8XzeMp7+Jtx+t4hm/s8vRaPlbz9DGIY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=sender:from:mime-version:content-type:subject:date:in-reply-to:cc
         :references:message-id:x-mailer;
        b=CS0lXWkUVH9VpX51Q5pwxCO4sr8moVH/6JD30l7UEd+MZDmL4oHJVTm46WHLZFAF/X
         R/E7Q9G1iTjnG399wZOaohECitrHPjtEdWsUpQ+O+8HhpErMFze9knd7YuSyKJF7UW0A
         crNNV4WKOmLzC4K0ieRUuBIgpMuIurq6HFo18=
Received: by 10.151.33.1 with SMTP id l1mr8299153ybj.140.1275440043062;
        Tue, 01 Jun 2010 17:54:03 -0700 (PDT)
Received: from [10.0.0.77] (adsl-065-013-152-164.sip.rdu.bellsouth.net [65.13.152.164])
        by mx.google.com with ESMTPS id w18sm61881460ybe.10.2010.06.01.17.54.00
        (version=TLSv1/SSLv3 cipher=RC4-MD5);
        Tue, 01 Jun 2010 17:54:01 -0700 (PDT)
Sender: Grant Ingersoll <gsiasf@gmail.com>
From: Grant Ingersoll <gsingers@apache.org>
Mime-Version: 1.0 (Apple Message framework v1078)
Content-Type: multipart/alternative; boundary=Apple-Mail-1345-780095950
Subject: Re: CFP for Lucene Revolution Conference, Boston, MA October 7 & 8 2010
Date: Tue, 1 Jun 2010 20:53:59 -0400
In-Reply-To: <6DBBBDE8-9762-405E-98AA-66873E1B8599@apache.org>
Cc: java-user@lucene.apache.org,
 solr-user@lucene.apache.org,
 Lucene mailing list <general@lucene.apache.org>,
 user@nutch.apache.org,
 user@tika.apache.org,
 user@mahout.apache.org,
 lucene-net-dev@lucene.apache.org
References: <6DBBBDE8-9762-405E-98AA-66873E1B8599@apache.org>
Message-Id: <24661778-908F-4045-9B17-5F54658659CD@apache.org>
X-Mailer: Apple Mail (2.1078)

--Apple-Mail-1345-780095950
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=utf-8

Sorry for the noise, but thought I would send out a reminder to get your =
talks in...

On May 17, 2010, at 8:43 AM, Grant Ingersoll wrote:

> Lucene Revolution Call For Participation - Boston, Massachusetts =
October 7 & 8, 2010
> =20
> The first US conference dedicated to Apache Lucene and Solr is coming =
to Boston, October 7 & 8, 2010. The conference is sponsored by Lucid =
Imagination with additional support from community and other commercial =
co=E2=80=90sponsors. The audience will include those experienced Solr =
and Lucene application development, along with those experienced in =
other enterprise search technologies interested becoming more familiar =
with Solr and Lucene technologies and the opportunities they present.=20
>=20
> We are soliciting 45=E2=80=90minute presentations for the conference.
>=20
> Key Dates:
> May 12, 2010         Call For Participation Open
> June 23, 2010        Call For Participation Closes
> June 28, 2010        Speaker Acceptance/Rejection Notification
> October 5=E2=80=906, 2010  Lucene and Solr Pre=E2=80=90conference =
Training Sessions
> October 7=E2=80=908, 2010  Conference Sessions
>=20
>=20
> Topics of interest include:
> Lucene and Solr in the Enterprise (case studies, implementation, =
return on investment, etc.)
>  =E2=80=9CHow We Did It=E2=80=9D Development Case Studies
> Spatial/Geo search
>  Lucene and Solr in the Cloud (Deployment cases as well as tutorials)
> Scalability and Performance Tuning
> Large Scale Search
> Real Time Search
> Data Integration/Data Management
> Lucene & Solr for Mobile Applications
>=20
> All accepted speakers will qualify for discounted conference =
admission. Financial assistance is available for speakers that qualify.
>=20
> To submit a 45=E2=80=90minute presentation proposal, please send an =
email to cfp@lucenerevolution.org with Subject containing: <your name>, =
Topic <your session title> containing the following information in plain =
text.
>=20
> If you have more than one topic proposed, send a separate email. Do =
not attach Word or other text file documents.
>=20
> Return all fields completed as follows:
> 1.    Your full name, title, and organization=20
> 2.    Contact information, including your address, email, phone number=20=

> 3.    The name of your proposed session (keep your title simple, =
interesting, and relevant to the topic)=20
> 4.    A 75=E2=80=90200 word overview of your presentation; in addition =
to the topic, describe whether your
> presentation is intended as a tutorial, description of an =
implementation, an theoretical/academic
> discussion, etc.=20
> 5.    A 100=E2=80=90200=E2=80=90word speaker bio that includes prior =
conference speaking or related experience
> To be considered, proposals must be received by 12 Midnight PDT =
Wednesday, June 23, 2010.
>=20
> Please email any general questions regarding the conference to =
info@lucenerevolution.org. To be added to the conference mailing list, =
please email signup@lucenerevolution.org. If your organization is =
interested in sponsorship opportunities, email =
sponsor@lucenerevolution.org.
>=20
> We look forward to seeing you in Boston!

--------------------------
Grant Ingersoll
http://www.lucidimagination.com/

Search the Lucene ecosystem using Solr/Lucene: =
http://www.lucidimagination.com/search


--Apple-Mail-1345-780095950--

From java-user-return-46318-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 02 01:10:14 2010
Return-Path: <java-user-return-46318-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45263 invoked from network); 2 Jun 2010 01:10:14 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 2 Jun 2010 01:10:14 -0000
Received: (qmail 69847 invoked by uid 500); 2 Jun 2010 01:10:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69796 invoked by uid 500); 2 Jun 2010 01:10:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69788 invoked by uid 99); 2 Jun 2010 01:10:12 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Jun 2010 01:10:12 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of goksron@gmail.com designates 209.85.212.48 as permitted sender)
Received: from [209.85.212.48] (HELO mail-vw0-f48.google.com) (209.85.212.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Jun 2010 01:10:06 +0000
Received: by vws1 with SMTP id 1so1325049vws.35
        for <java-user@lucene.apache.org>; Tue, 01 Jun 2010 18:09:45 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=OEkRMjYcVdstQ1OO5BNPi64N7wq+BZC5+ntKmCG5NVU=;
        b=qgrvm1nuspMmbcRoc+yCIQ6ce/jBDyxZpYxr+WfqN1LbcnatGA4NHGABXdqolhCEKt
         yOMpPBhaiNKvU/YT2XQo651S8pqa/R8ti90U/Et9iRsOAaXWRLJHthMq/84A2D0JaM03
         8ShH1xM7TmwBbOdI/Uv7PqacHYQPcaCvrtRcE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=yHjPWPNRq8nHfuY/JaoBGGvzPqdDOvnSLAQF+VQcTfXJKLHDAsRiKZStIYuX6qivUN
         FtEp5umnepJto+RTr1AYHDfIa/N9+OTWKKBCF36SbYHgdk6QwfIZmeEToVKL/JG8Zf2R
         oOyiRENMNDs90le8HIYtMzWVNAx0MKmLlmDGs=
MIME-Version: 1.0
Received: by 10.224.27.161 with SMTP id i33mr3000283qac.207.1275440985173; 
	Tue, 01 Jun 2010 18:09:45 -0700 (PDT)
Received: by 10.229.33.14 with HTTP; Tue, 1 Jun 2010 18:09:45 -0700 (PDT)
In-Reply-To: <776276.2800.qm@web1114.biz.mail.sk1.yahoo.com>
References: <c457a13561a53f9d2ca33cae1d7cb9a9@icarinae.com>
	<776276.2800.qm@web1114.biz.mail.sk1.yahoo.com>
Date: Tue, 1 Jun 2010 18:09:45 -0700
Message-ID: <AANLkTilz37bUE9nSOStUrraUNbJMNk5yEQXxvlaIk2kM@mail.gmail.com>
Subject: Re: Solr tutorial
From: Lance Norskog <goksron@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Use solr-user@ instead of java-user@ . You'll find more knowledgeable peopl=
e.

On Mon, May 31, 2010 at 6:36 PM, N Hira <nhira@cognocys.com> wrote:
> I don't know of a single tutorial that puts it all together, but the "ric=
h documents" feature implemented in Solr-284 would be where I would start:
> https://issues.apache.org/jira/browse/SOLR-284
>
> Look here if you're using Solr 1.4 =C2=A0-- it should address your needs:
> http://wiki.apache.org/solr/ExtractingRequestHandler
>
>
> Good luck,
>
> -h
>
>
>
> ----- Original Message ----
> From: "sv@icarinae.com" <sv@icarinae.com>
> To: java-user@lucene.apache.org
> Sent: Mon, May 31, 2010 8:17:02 PM
> Subject: Solr tutorial
>
> Hi,
>
> I am kind of struggling to setup Solr to search pdf files. I am following
> documents from lucidimagination and wiki. Can someone please point to a
> good Solr tutorial which involve step by step instrunctions to search/ind=
ex
> pdf document, highlighting and snippting.
>
> Thanks in advance,
>
> Deepak
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>



--=20
Lance Norskog
goksron@gmail.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46319-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 02 04:17:59 2010
Return-Path: <java-user-return-46319-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84608 invoked from network); 2 Jun 2010 04:17:59 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 2 Jun 2010 04:17:59 -0000
Received: (qmail 91154 invoked by uid 500); 2 Jun 2010 04:17:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90830 invoked by uid 500); 2 Jun 2010 04:17:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90820 invoked by uid 99); 2 Jun 2010 04:17:54 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Jun 2010 04:17:54 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [206.190.38.57] (HELO web50303.mail.re2.yahoo.com) (206.190.38.57)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 02 Jun 2010 04:17:47 +0000
Received: (qmail 32748 invoked by uid 60001); 2 Jun 2010 04:17:26 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1275452245; bh=UVMTFOtt50UvMzBA5Pz+gGUqFoEwzEl+HtWU48H7R4Y=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:Cc:In-Reply-To:MIME-Version:Content-Type; b=5Cvf/fELHtLbGFDkbAW3rT8cysL2uVndaK6dHrYQX0vVM4H5nyYm+kb+Mfi7gLxNcvLs8jQHsXYlbtiNVG9NKMG1x9yg3GUBEewVKXNm0t+GAGIR+/Dwwe8hKfV1DM+fy8EL0NZupekkAe8+m+w8+YlaMTZYD3wXPS6ZAbTLt9I=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:Cc:In-Reply-To:MIME-Version:Content-Type;
  b=tdA8XMYe2ebvd4TDQCr7pJWT2+KQzhd9TKIA1f2FhGK80Ev27W0/n20JjgbhBm4WsFl7V3aw+aBtO6tdJQpE7r13oU6AeQm3j9rqy6YafsLd1flVuoJHmMduN0zUUN75oPjVHoxfqYPA7gGk7/aO9zyyKswOgaAXK1bVfPhG7pM=;
Message-ID: <970990.32202.qm@web50303.mail.re2.yahoo.com>
X-YMail-OSG: 9SppnyQVM1nldEu4lSVhWZ08JDkTc6r_TWfSFJ1OyygGBjj
 wfXReY6YyOb6A0zmFnAuHvXmK.BwiAY8.QeFxO3jdMf47n98.PJ.VlfNYiQn
 GZqosNyNn12ecqWB110YKfLfs1z549FFJ21pOyuQHzQpgo3f1lPl2oIl_ENi
 aCO1BgW3FdKm9ZPH0LO65dCXIZ59FVRIsFT4kei8wNj4YJRRX7rM1WsU7W_H
 Oi7pN5_fwZmUXTw5JCWET.ce77SA8pZwHnwacSP_1BIFx890hTFJtBQK45YC
 UzFX2DV0HK_6qhdAfeBX6f.1awolo5XjXcfpoEP94G0bOgNoJNj6j9e0YpEX
 ZKtnpcd51SsVOmbVynE7FZTZv4aZ1ZQ--
Received: from [74.73.6.27] by web50303.mail.re2.yahoo.com via HTTP; Tue, 01 Jun 2010 21:17:25 PDT
X-Mailer: YahooMailRC/374.4 YahooMailWebService/0.8.103.269680
References: <s2uca64e7161005031152gfd75fa3cha003686d515ca9cc@mail.gmail.com> <m2pca64e7161005031220m66578428i6760427c5875f61c@mail.gmail.com>
Date: Tue, 1 Jun 2010 21:17:25 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Wich way would you recommend for successive-words similarity and  scoring ?
To: java-user@lucene.apache.org
Cc: Pablo <pablo.queixalos@gmail.com>
In-Reply-To: <m2pca64e7161005031220m66578428i6760427c5875f61c@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Pablo,

This question comes up every once in a while.  You'll find some previous discussions and answers here: http://search-lucene.com/?q=terms+closer+together+score

 Otis
----
Sematext :: http://sematext.com/ :: Solr - Lucene - Nutch
Lucene ecosystem search :: http://search-lucene.com/



----- Original Message ----
> From: Pablo <pablo.queixalos@gmail.com>
> To: java-user@lucene.apache.org
> Sent: Mon, May 3, 2010 3:20:10 PM
> Subject: Wich way would you recommend for successive-words similarity and  scoring ?
> 
> Hello,

Lucene core doesn't seems to use relative word positioning (?) for 
> scoring.

For example, indexing that phrase "a b c d e f g h i j k l m n o 
> p q r
s t u v w x y z", these queries give the same results (0.19308087) 
> :
 - 1 : phrase:'e f g'
 - 2 : phrase:'o k z'

I'm a bit familiar 
> with lucene and snowballs, but I never (really)
needed this feature before, 
> and didn't browse the lucene contribs.

Maybe I'm misunderstanding 
> something, but, what can I do to obtain
query 1 get a better score than the 
> second ?

Should I implement a Scorer and or a Similarity, or can an 
> analyser
and a specific stemmer be sufficient?


Thanks, [I first 
> wrote to dev, wasn't the right 
> place.]

Pablo

---------------------------------------------------------------------
To 
> unsubscribe, e-mail: 
> href="mailto:java-user-unsubscribe@lucene.apache.org">java-user-unsubscribe@lucene.apache.org
For 
> additional commands, e-mail: 
> ymailto="mailto:java-user-help@lucene.apache.org" 
> href="mailto:java-user-help@lucene.apache.org">java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46320-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 02 05:38:03 2010
Return-Path: <java-user-return-46320-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 294 invoked from network); 2 Jun 2010 05:38:03 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 2 Jun 2010 05:38:03 -0000
Received: (qmail 33592 invoked by uid 500); 2 Jun 2010 05:38:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33521 invoked by uid 500); 2 Jun 2010 05:38:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33513 invoked by uid 99); 2 Jun 2010 05:38:00 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Jun 2010 05:38:00 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of bec.watson@gmail.com designates 209.85.160.48 as permitted sender)
Received: from [209.85.160.48] (HELO mail-pw0-f48.google.com) (209.85.160.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Jun 2010 05:37:54 +0000
Received: by pwj10 with SMTP id 10so3848195pwj.35
        for <java-user@lucene.apache.org>; Tue, 01 Jun 2010 22:37:32 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=wmeGxCgPCUlOHfFzBrBrMC32d0fDsECnSCrpGK95GwU=;
        b=BkwCgoEXz9eaJOOqw0nJV2lSBY7R9JtpjyNf6bT4BoxBAB22Tq42QOVYYgY/hGaIJ3
         1TZeIUhDgetYNm+8MIpte1Z0vJ/OZE3YESyloD2HwYxvmNpoRmt2qTusipZk81qbvY6v
         z+3e5rf+1rzjjQ3oaATemdFg60l/Eq9x/aT94=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=YskFEhOIuZ6ieDwrljagDJowBiTXxAe9PTv46fM5+rth07vw/c19S1B3Lhb9ODHnvL
         JWxPengldwDDprgaZFMmi3DjNXKshYsp1kPTRn5uIBB7U45nrY+j1LdWtRrNcc1E4D4/
         xloZ1by2KC1gvY/2vMEoCWydWcpeMv5yD77tg=
MIME-Version: 1.0
Received: by 10.141.3.3 with SMTP id f3mr5865597rvi.237.1275457052347; Tue, 01 
	Jun 2010 22:37:32 -0700 (PDT)
Received: by 10.140.164.15 with HTTP; Tue, 1 Jun 2010 22:37:32 -0700 (PDT)
In-Reply-To: <AANLkTilvXUz9iZq4sZdinVONNG_y_nO2jbyWTIpl_twz@mail.gmail.com>
References: <AANLkTim9Csb9u6BovzamAUnOxY1ZiF0iT_o496zdcf1M@mail.gmail.com>
	<94951369-CF46-4E16-B4BB-E4672503DD43@apache.org>
	<AANLkTilvXUz9iZq4sZdinVONNG_y_nO2jbyWTIpl_twz@mail.gmail.com>
Date: Wed, 2 Jun 2010 13:37:32 +0800
Message-ID: <AANLkTilQTmtT49rQTEaPCPPVahbHzu6liUxzn_NVW2tB@mail.gmail.com>
Subject: Re: vector model usage
From: Rebecca Watson <bec.watson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

if you want to store word+value pairs then use lucene scoring to weight
the words with higher vaules against them, you should look at using payloads
and the DelimitedPayloadTokenFilter which lets you specify e.g.
word1|value1 word2|value2 ...
and the values are stored as payloads against the word tokens (which can
still be analyzed using stemming etc if you put the payload filter at the
beginning of the tokenizer stream set).

then at query time you'd need to use a payload query type to get the weights
included in the scoring for docs --
see the article by lucid imagination here:
http://www.lucidimagination.com/blog/2010/04/18/refresh-getting-started-with-payloads/

not sure if that's the sort of thing you're after?

bec :)

On 2 June 2010 04:29, Dionisis Koumouras <kumdio@gmail.com> wrote:
> Thanks for your reply Grant.
> I checked out the TokenStream class and you are right but I'm afraid I
> didn't really make myself understood. What I want is to be able to create a
> Document out of key-value pairs of terms and float numbers representing word
> weights, insert the Document in the index and then use the lucene scoring
> mechanism to retrieve the entries.
> Do you find this feasible?
>
> On Tue, Jun 1, 2010 at 8:35 PM, Grant Ingersoll <gsingers@apache.org> wrote:
>
>>
>> On May 31, 2010, at 6:25 AM, Dionisis Koumouras wrote:
>>
>> > Hi all,
>> > I'm new to lucene but have used it succesfully for a few simple tasks.
>> >
>> > I am experimenting with the vector space representation of documents and
>> > have managed to store and retrieve TermFreqVector objects.
>> >
>> > The question is whether it is possible to directly add vector space
>> > representations of documents to an index. I can't find any way to create
>> a
>> > document field from a TermFreqVector object.
>>
>> The Field constructor can take in a TokenStream (i.e. a preanalyzed stream)
>> which you could easily back with a TermFreqVector.
>>
>> >
>> > This is the use case behind the question: retrieve some documents from
>> the
>> > index, cluster them, and store the vector space representations of the
>> > clusters back to the index.
>> >
>> > Dionisis
>>
>> --------------------------
>> Grant Ingersoll
>> http://www.lucidimagination.com/
>>
>> Search the Lucene ecosystem using Solr/Lucene:
>> http://www.lucidimagination.com/search
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46321-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 02 05:57:18 2010
Return-Path: <java-user-return-46321-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2535 invoked from network); 2 Jun 2010 05:57:18 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 2 Jun 2010 05:57:18 -0000
Received: (qmail 44826 invoked by uid 500); 2 Jun 2010 05:57:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44788 invoked by uid 500); 2 Jun 2010 05:57:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44780 invoked by uid 99); 2 Jun 2010 05:57:15 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Jun 2010 05:57:15 +0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=AWL,FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of bec.watson@gmail.com designates 209.85.160.48 as permitted sender)
Received: from [209.85.160.48] (HELO mail-pw0-f48.google.com) (209.85.160.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Jun 2010 05:57:11 +0000
Received: by pwj10 with SMTP id 10so3857441pwj.35
        for <java-user@lucene.apache.org>; Tue, 01 Jun 2010 22:56:50 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=+FG3GuqqLuJjhx4uj9FYNSLakXyjW+60Rd2jMd8ETbY=;
        b=irCsQZHBbjJQmrl+pLg/az9n+wkp0uQJnMztnomuus0O6mPpHRFDexAtk9L5kT3OAd
         ZowXhD+KU+HUttbp4+YmpSzn9O1LDhz3oksFRzLWQIsFUFM8oMLpGlCJXrqU4fS5m5Hl
         Wmo7eJfW0BMt0Q/pzMsVlJLy4/OterJP4/Fz0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=cHNHQDEAUhgXgO4QpMQHg/W/veS2KZ1+61waIRnl/uunCd4evRK+9Z9iE+oXWchvW3
         OuV2C2P3tq3ccRfBUvP0vNu1Swy3N/oBABxUEKuKpl12tR/y9yw3Sp+gP/ut1QtUssB0
         HbVN9ecWruZzfeO82KzoaKIFb5Gj4U1PwJ0X0=
MIME-Version: 1.0
Received: by 10.141.2.21 with SMTP id e21mr5943805rvi.193.1275458210601; Tue, 
	01 Jun 2010 22:56:50 -0700 (PDT)
Received: by 10.140.164.15 with HTTP; Tue, 1 Jun 2010 22:56:50 -0700 (PDT)
In-Reply-To: <1275425617086-862859.post@n3.nabble.com>
References: <1275425617086-862859.post@n3.nabble.com>
Date: Wed, 2 Jun 2010 13:56:50 +0800
Message-ID: <AANLkTimhr-a8cnu5oeNwUIU_5_AW5R4u49NX9EWbLxzo@mail.gmail.com>
Subject: Re: Problem fetching number of occurrences
From: Rebecca Watson <bec.watson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8

hi

when you are indexing, use termvectors
org.apache.lucene.document.Field.TermVector
set this in the Field object constructor when you create your Field objects
at index time.

i've never done it but i'm pretty sure these can be retrieved at
search time using one of the
IndexReader.getTermFreqVector methods.

lucene in action has a really good section on using termfreqvectors:
http://www.manning.com/hatcher3/

if you want the positional info too e.g. the two positions of the
"question" word in your
example then have a look at the org.apache.lucene.search.spans.SpanTermQuery
class -- in the getSpans method -- it grabs the terms + positions
using the IndexReader
as well: reader.termPositions(term)

hope that helps,

bec :)


On 2 June 2010 04:53, Sirish Vadala <sirishreddy@gmail.com> wrote:
>
> Hello All:
>
> Can any one suggest me the best way to get the no. of occurrences of each
> word per document in Lucene?
>
> Eg: Let the indexed text be:
>
> If you are posting a question, please try search first. Your question may
> have already been answered.
>
> Now if I search for the word 'question', then I would like to get this
> document along with the number of occurrences of question in the document,
> in the above case it would be 2.
>
> Any hint would be appreciated.
> Thanks.
>
>
> --
> View this message in context: http://lucene.472066.n3.nabble.com/Problem-fetching-number-of-occurrences-tp862859p862859.html
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46322-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 02 06:25:29 2010
Return-Path: <java-user-return-46322-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10984 invoked from network); 2 Jun 2010 06:25:29 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 2 Jun 2010 06:25:29 -0000
Received: (qmail 58422 invoked by uid 500); 2 Jun 2010 06:25:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58313 invoked by uid 500); 2 Jun 2010 06:25:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58305 invoked by uid 99); 2 Jun 2010 06:25:26 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Jun 2010 06:25:26 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of bec.watson@gmail.com designates 209.85.160.48 as permitted sender)
Received: from [209.85.160.48] (HELO mail-pw0-f48.google.com) (209.85.160.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Jun 2010 06:25:19 +0000
Received: by pwj10 with SMTP id 10so3871198pwj.35
        for <java-user@lucene.apache.org>; Tue, 01 Jun 2010 23:24:58 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=8CNysUjBjPksAyHvi4tmtngAowSWqDf7vHTgfuuNxlQ=;
        b=NXLf1g7Ec/IBoV0S9y9XeGhbvTTOzNw4NhUVVw9MDKI3732StNBV1EqFeeOfarm4kH
         BjI1bbHb3ShVaq/3VQZdocHnTQA6uTj9AU7CUqU7vQh3N/DvSHzWULQx3DYZnsc9Hj7n
         dgJOuPYM5xKWawMyHhmN1Z6ND/n1P3vBr26Dc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=EynnXnxOCcPQh1K7GsfqIan+NyiZxiNqT8xjCuz/7rGUgIy4/UZ/BnGeqU2H4LA+SA
         9pyS48Szxoj50m5+x9WUdRFFhr9nAE16FxfhLUdfVTjnvoDBxfUcsEmIjlJoQkvOVBb7
         TaHSUP9k1H6cnp/LCzrQq8s3y/nZocGvcg5rQ=
MIME-Version: 1.0
Received: by 10.141.188.29 with SMTP id q29mr5925588rvp.120.1275459890290; 
	Tue, 01 Jun 2010 23:24:50 -0700 (PDT)
Received: by 10.140.164.15 with HTTP; Tue, 1 Jun 2010 23:24:50 -0700 (PDT)
In-Reply-To: <AANLkTil9kr5v9Y-r1MtIoEzCZELFPfXNT6b01XewrlAV@mail.gmail.com>
References: <AANLkTil9kr5v9Y-r1MtIoEzCZELFPfXNT6b01XewrlAV@mail.gmail.com>
Date: Wed, 2 Jun 2010 14:24:50 +0800
Message-ID: <AANLkTimtbqnJUCdZWY3rpV90shVfH4jm4IFj3AMmbnLS@mail.gmail.com>
Subject: Re: how to extend Similarity in this situation?
From: Rebecca Watson <bec.watson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Li Li

If you want to support some query types and not others you should
overide/extend the queryparser so that you throw an exception / makes
a different query type instead.

Similarity doesn't do the actual scoring, it's used by the Query
classes (actually the Scorer implementation used by the Query)
to get tf / idf scores. So scoring is done by the Query types themselves
(the Weight/Scorer classes used by the Query). So sometimes
you change/extend Similarity to affect scoring and sometimes you
need to change/extend the Query/Scorer/Weight classes etc.
Luckily though, there are already some Query types that boost
scores if the terms are closer -- the SpanQuery query types do this.

You will either have to write your own queryparser (to convert query string
to the Query object(s) required,
or you could use e.g. the Surround queryparser supports specifying
SpanQuery queries via user-entered text:
http://www.lucidimagination.com/blog/2009/02/22/exploring-query-parsers/

look in the lucene contrib/surround package for the surround queryparser.

I've messed about with using SpanQuery classes a bit and people report
that they are slower - which is true because they use a lot of extra
info to perform their matching/scoring -- but they are still easily
sub-second over most
queries / reasonable sized doc collection
-- and they only get a lot slower if you have terms that occur very frequen=
tly
in the document collection you are searching.
So if you are removing stop words etc you shouldn't have too
many problems efficiency wise.

hope that helps,

bec :)

On 1 June 2010 22:07, Li Li <fancyerii@gmail.com> wrote:
> I want to only support boolean or query(as many search engine do). But
> I want to boost document whose terms are closer.
> e.g. the query terms are 'apache lucene'
> doc1 apache has many projects such as lucene
> doc2 The Apache HTTP Server Project is an effort to develop and
> maintain an ... =C2=A0Lucene is a .....
> I want to give doc1 more boost.
> So I need a place where I can get all position information
> How to extend Similarity to achieve this?
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46323-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 02 06:28:07 2010
Return-Path: <java-user-return-46323-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11326 invoked from network); 2 Jun 2010 06:28:07 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 2 Jun 2010 06:28:07 -0000
Received: (qmail 64517 invoked by uid 500); 2 Jun 2010 06:28:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64421 invoked by uid 500); 2 Jun 2010 06:28:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64413 invoked by uid 99); 2 Jun 2010 06:28:04 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Jun 2010 06:28:04 +0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of bec.watson@gmail.com designates 74.125.83.176 as permitted sender)
Received: from [74.125.83.176] (HELO mail-pv0-f176.google.com) (74.125.83.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Jun 2010 06:27:58 +0000
Received: by pvc21 with SMTP id 21so1050121pvc.35
        for <java-user@lucene.apache.org>; Tue, 01 Jun 2010 23:27:37 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=Fegucg3c0in4OFpfGHo6SZG4Ti9FLJqH6mfuWT+sdtU=;
        b=E4EbOZ9KplM0rl5lXb8R536V96MVxxAUOR+FH+qCCTGb23YfcCznd2SawQsfBvrq4g
         uGxuyk8m2mDXuPOkzltmnqySwgCw3Gz3wGifeckDDKIXPUkdzu1FCotD34D5x26eLVmf
         ixbttDkXrIzJB6L/udpPOTob4JbKIj9AXYoHw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=GRW9MHdLfsXk3nmV9GJSsJRis1OJ2gCsFaezDxAGtngNLmM5+HUYhxc+Fgcxdz1Er8
         DL9XrBYoeTsPZjnj+j1hbZc9ukcuoPInf7cudrReUOn9ekoyAoEQy85vbFd10ISp+E7V
         L+uJlES728rA07Ms2dM3TVJmvXlhGjCIe8ENQ=
MIME-Version: 1.0
Received: by 10.141.124.2 with SMTP id b2mr1524274rvn.23.1275460055088; Tue, 
	01 Jun 2010 23:27:35 -0700 (PDT)
Received: by 10.140.164.15 with HTTP; Tue, 1 Jun 2010 23:27:35 -0700 (PDT)
In-Reply-To: <AANLkTimhr-a8cnu5oeNwUIU_5_AW5R4u49NX9EWbLxzo@mail.gmail.com>
References: <1275425617086-862859.post@n3.nabble.com>
	<AANLkTimhr-a8cnu5oeNwUIU_5_AW5R4u49NX9EWbLxzo@mail.gmail.com>
Date: Wed, 2 Jun 2010 14:27:35 +0800
Message-ID: <AANLkTilboartty3tIHe0aKeypsMggJp6P9Gn2hsfBzFs@mail.gmail.com>
Subject: Re: Problem fetching number of occurrences
From: Rebecca Watson <bec.watson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

i was looking at another post which had this presentation in - it has
a nice section
on termfreqvectors:

http://www.cnlp.org/presentations/slides/advancedluceneeu.pdf

bec :)

On 2 June 2010 13:56, Rebecca Watson <bec.watson@gmail.com> wrote:
> hi
>
> when you are indexing, use termvectors
> org.apache.lucene.document.Field.TermVector
> set this in the Field object constructor when you create your Field objects
> at index time.
>
> i've never done it but i'm pretty sure these can be retrieved at
> search time using one of the
> IndexReader.getTermFreqVector methods.
>
> lucene in action has a really good section on using termfreqvectors:
> http://www.manning.com/hatcher3/
>
> if you want the positional info too e.g. the two positions of the
> "question" word in your
> example then have a look at the org.apache.lucene.search.spans.SpanTermQuery
> class -- in the getSpans method -- it grabs the terms + positions
> using the IndexReader
> as well: reader.termPositions(term)
>
> hope that helps,
>
> bec :)
>
>
> On 2 June 2010 04:53, Sirish Vadala <sirishreddy@gmail.com> wrote:
>>
>> Hello All:
>>
>> Can any one suggest me the best way to get the no. of occurrences of each
>> word per document in Lucene?
>>
>> Eg: Let the indexed text be:
>>
>> If you are posting a question, please try search first. Your question may
>> have already been answered.
>>
>> Now if I search for the word 'question', then I would like to get this
>> document along with the number of occurrences of question in the document,
>> in the above case it would be 2.
>>
>> Any hint would be appreciated.
>> Thanks.
>>
>>
>> --
>> View this message in context: http://lucene.472066.n3.nabble.com/Problem-fetching-number-of-occurrences-tp862859p862859.html
>> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46324-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 02 07:11:48 2010
Return-Path: <java-user-return-46324-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28983 invoked from network); 2 Jun 2010 07:11:48 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 2 Jun 2010 07:11:48 -0000
Received: (qmail 98361 invoked by uid 500); 2 Jun 2010 07:11:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98190 invoked by uid 500); 2 Jun 2010 07:11:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98180 invoked by uid 99); 2 Jun 2010 07:11:45 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Jun 2010 07:11:45 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of fancyerii@gmail.com designates 209.85.212.176 as permitted sender)
Received: from [209.85.212.176] (HELO mail-px0-f176.google.com) (209.85.212.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Jun 2010 07:11:38 +0000
Received: by pxi10 with SMTP id 10so3845005pxi.35
        for <java-user@lucene.apache.org>; Wed, 02 Jun 2010 00:11:14 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=PyBiMheag6ExQGvIkkZBqsS9PO/7WCLmv5ND+jVJUNA=;
        b=v75Da8vutdTbUTXE9Q2LzACXSTK/8m3ub8CKZKgoei4NEjzOREwcElYr4FYJcUirnN
         ICvXyWmvuWhX44jc7lCVMVy8XuPCuedEL9Mj4s4VpcVrUmoeexrIjl/lALQWO+MYaXfV
         TejX8wUWR0W3NzPb9A50UyoNCqrkvDWx3ZUhw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=HcsGb5Fl1taEjVG0PC4crzkchlxhV+iDJ4LYjdzEKDNH7bTs2DY6fgYbebWtPkahmQ
         hzBK24oZKV7nqZmwHXFVJ4Tr40zRxGxAl7Lz4ukNpBcmh7GUkzOofcaEpqFzxwjxIzYd
         +kTik0l6+TgmqD3GYwfbhTscB/NgUQDGbi7PU=
MIME-Version: 1.0
Received: by 10.114.251.32 with SMTP id y32mr6487330wah.149.1275462674009; 
	Wed, 02 Jun 2010 00:11:14 -0700 (PDT)
Received: by 10.142.191.18 with HTTP; Wed, 2 Jun 2010 00:11:13 -0700 (PDT)
In-Reply-To: <AANLkTimtbqnJUCdZWY3rpV90shVfH4jm4IFj3AMmbnLS@mail.gmail.com>
References: <AANLkTil9kr5v9Y-r1MtIoEzCZELFPfXNT6b01XewrlAV@mail.gmail.com>
	<AANLkTimtbqnJUCdZWY3rpV90shVfH4jm4IFj3AMmbnLS@mail.gmail.com>
Date: Wed, 2 Jun 2010 15:11:13 +0800
Message-ID: <AANLkTilC_DluIYLqGLrdZNWgFv1WxE1V44bhT5q1o2eT@mail.gmail.com>
Subject: Re: how to extend Similarity in this situation?
From: Li Li <fancyerii@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

thank you

2010/6/2 Rebecca Watson <bec.watson@gmail.com>:
> Hi Li Li
>
> If you want to support some query types and not others you should
> overide/extend the queryparser so that you throw an exception / makes
> a different query type instead.
>
> Similarity doesn't do the actual scoring, it's used by the Query
> classes (actually the Scorer implementation used by the Query)
> to get tf / idf scores. So scoring is done by the Query types themselves
> (the Weight/Scorer classes used by the Query). So sometimes
> you change/extend Similarity to affect scoring and sometimes you
> need to change/extend the Query/Scorer/Weight classes etc.
> Luckily though, there are already some Query types that boost
> scores if the terms are closer -- the SpanQuery query types do this.
>
> You will either have to write your own queryparser (to convert query stri=
ng
> to the Query object(s) required,
> or you could use e.g. the Surround queryparser supports specifying
> SpanQuery queries via user-entered text:
> http://www.lucidimagination.com/blog/2009/02/22/exploring-query-parsers/
>
> look in the lucene contrib/surround package for the surround queryparser.
>
> I've messed about with using SpanQuery classes a bit and people report
> that they are slower - which is true because they use a lot of extra
> info to perform their matching/scoring -- but they are still easily
> sub-second over most
> queries / reasonable sized doc collection
> -- and they only get a lot slower if you have terms that occur very frequ=
ently
> in the document collection you are searching.
> So if you are removing stop words etc you shouldn't have too
> many problems efficiency wise.
>
> hope that helps,
>
> bec :)
>
> On 1 June 2010 22:07, Li Li <fancyerii@gmail.com> wrote:
>> I want to only support boolean or query(as many search engine do). But
>> I want to boost document whose terms are closer.
>> e.g. the query terms are 'apache lucene'
>> doc1 apache has many projects such as lucene
>> doc2 The Apache HTTP Server Project is an effort to develop and
>> maintain an ... =A0Lucene is a .....
>> I want to give doc1 more boost.
>> So I need a place where I can get all position information
>> How to extend Similarity to achieve this?
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46325-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 02 07:19:41 2010
Return-Path: <java-user-return-46325-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30315 invoked from network); 2 Jun 2010 07:19:41 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 2 Jun 2010 07:19:41 -0000
Received: (qmail 4927 invoked by uid 500); 2 Jun 2010 07:19:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4864 invoked by uid 500); 2 Jun 2010 07:19:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4856 invoked by uid 99); 2 Jun 2010 07:19:38 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Jun 2010 07:19:38 +0000
X-ASF-Spam-Status: No, hits=-0.2 required=10.0
	tests=AWL,FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of fancyerii@gmail.com designates 209.85.212.176 as permitted sender)
Received: from [209.85.212.176] (HELO mail-px0-f176.google.com) (209.85.212.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Jun 2010 07:19:32 +0000
Received: by pxi10 with SMTP id 10so3848711pxi.35
        for <java-user@lucene.apache.org>; Wed, 02 Jun 2010 00:19:12 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:date:message-id
         :subject:from:to:content-type:content-transfer-encoding;
        bh=Q6TpC1+FUJ5SBcDjpnM5CgjoCUaKm9uROEbvnzdm+DA=;
        b=oEYWtuOflY3JLe/SXC9dvf3SFtS7aB7xwsfgll4+1Gma70AoXyIzD8QYJ2lf7x4x1W
         Ts82QSJPIi8FV7EpSxiLL04bCYi/7FEU4im69Bq6igTd8eiYOjfh0bMY9pYTpNjvA/JV
         Ykc3vdpA5SN8ujV1Qg6ndpzu2XbhAIfb2Wvbg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        b=bBa71aM3hejaYsV0+EYyno1AurbX97HmwXynJ2aqckUqIbuiVd7BWxxOuSCqxBYbAF
         BnQDG7z2UehZRh/Sne95zOb6RC00LZZ3F276Lc6yAV5JVJsSI5MVFfTWLsfc/Gm+ej9p
         0cP4RDgO7OG1XLSlTkRUTBbVuvV2IYtjjNjPw=
MIME-Version: 1.0
Received: by 10.141.13.14 with SMTP id q14mr6048900rvi.28.1275463152045; Wed, 
	02 Jun 2010 00:19:12 -0700 (PDT)
Received: by 10.142.191.18 with HTTP; Wed, 2 Jun 2010 00:19:12 -0700 (PDT)
Date: Wed, 2 Jun 2010 15:19:12 +0800
Message-ID: <AANLkTikldt0K6AbNjAPlD-wkesQqTiy8rD3ocnglYlQ5@mail.gmail.com>
Subject: about norm
From: Li Li <fancyerii@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=GB2312
Content-Transfer-Encoding: quoted-printable

in javadoc http://lucene.apache.org/java/2_4_0/api/org/apache/lucene/search=
/Similarity.html#formula_norm
norm(t,d)   =3D   doc.getBoost()  =A1=A4  lengthNorm(field)  =A1=A4   =A1=
=C7  f.getBoost()
                                                                field
f in d named as t
whre is field come from in lengthNorm(field)?
In my option, term t may appear in a doc d many times with different fields=
. So
       =A1=C7  f.getBoost()
 field f in d named as t
makes sense.
But Why there is only one lengthNorm(field) ?
does it mean that norm(t,d)=3Dnorm(t.text, t.field, d)? That's is--
every doc,every field,every term , there is a norm value ?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46326-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 02 08:27:04 2010
Return-Path: <java-user-return-46326-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49365 invoked from network); 2 Jun 2010 08:27:03 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 2 Jun 2010 08:27:03 -0000
Received: (qmail 87454 invoked by uid 500); 2 Jun 2010 08:27:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87137 invoked by uid 500); 2 Jun 2010 08:27:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87129 invoked by uid 99); 2 Jun 2010 08:27:00 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Jun 2010 08:27:00 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of bec.watson@gmail.com designates 74.125.83.176 as permitted sender)
Received: from [74.125.83.176] (HELO mail-pv0-f176.google.com) (74.125.83.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Jun 2010 08:26:52 +0000
Received: by pvc21 with SMTP id 21so1106977pvc.35
        for <java-user@lucene.apache.org>; Wed, 02 Jun 2010 01:26:31 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:from:in-reply-to:mime-version
         :references:date:message-id:subject:to:content-type
         :content-transfer-encoding;
        bh=NZ3WZsdnzgo3SmAIRtmqJZ127rxBMbAqUAigimu4O8Q=;
        b=oYnVM+ReqM9fDhgeVusf+27IPqJ80BKPbP0fbPkwIhOOppo1/CA5K7j50XrXAzJgVq
         FvO60nAAmRpvKYD5+pwWMuEU0/NQH0XuFvy5HByYQFWNeV4HK7Fy8yrhZRnJQAO+WRBC
         H1rEmr5sgMV+cDHQawqRCxaxfzw47Ycmr/N7E=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=from:in-reply-to:mime-version:references:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=hKs+lejmZS+65+164tRlBZC2bKqaKUvaiCawvXouRB8vmzbr9nrtKFBLDUExhmXfkQ
         TQpbGPYOAiiV2fbwn4yKo3JQk+hgsaDgrbMBWCTxgiW41G/xjwul93y2qIVVwD0Z3zpd
         3gtO2sI4IPc0gWHHAtxqKhQxRn6MQiBcGRVRk=
Received: by 10.141.213.28 with SMTP id p28mr6080752rvq.19.1275467191249; Wed, 
	02 Jun 2010 01:26:31 -0700 (PDT)
From: Rebecca Watson <bec.watson@gmail.com>
In-Reply-To: <AANLkTikldt0K6AbNjAPlD-wkesQqTiy8rD3ocnglYlQ5@mail.gmail.com>
Mime-Version: 1.0 (iPhone Mail 7E18)
References: <AANLkTikldt0K6AbNjAPlD-wkesQqTiy8rD3ocnglYlQ5@mail.gmail.com>
Date: Wed, 2 Jun 2010 16:26:29 +0800
Message-ID: <7185172482290672907@unknownmsgid>
Subject: Re: about norm
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

There are index time boosts ie calculated at index time and search
time boosts. The field f always relates to the field(s) that the term
t appears in.

My understanding is that--
Norm(t,d) includes the index time boosts for each field but I think t
is only included in this calc in terms of field.getboost() -- because
you effectively get the product over each field in which the specific
term occurs. But you don't have s norm value for e every term- field -
doc combo.

Similarity (defaultsimilarity by default!) method computeNorm is used
to compute this factor at indexing time so have a look at that code to
see what I mean!

IndexReader.norms(fieldname) gives a norm array the size of the number
of docs so norm[docid] is actually used to get the index time boost
for the given field/doc in which the term occurs.

t.getboost() is the search time boost for the particular term --
practically this is the query boost for the term (or I think product
of query boosts if the term is also a sub- query (where the
surrounding query has a query boost too).

I may be wrong but when I dug into the docs + code these were my
conclusions!

bec :)

Sent from my iPhone

On 02/06/2010, at 3:19 PM, Li Li <fancyerii@gmail.com> wrote:

> in javadoc http://lucene.apache.org/java/2_4_0/api/org/apache/lucene/sear=
ch/Similarity.html#formula_norm
> norm(t,d)   =3D   doc.getBoost()  =C2=B7  lengthNorm(field)  =C2=B7   =E2=
=88=8F
> f.getBoost()
>                                                                field
> f in d named as t
> whre is field come from in lengthNorm(field)?
> In my option, term t may appear in a doc d many times with different
> fields. So
>       =E2=88=8F  f.getBoost()
> field f in d named as t
> makes sense.
> But Why there is only one lengthNorm(field) ?
> does it mean that norm(t,d)=3Dnorm(t.text, t.field, d)? That's is--
> every doc,every field,every term , there is a norm value ?
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46327-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 02 09:12:21 2010
Return-Path: <java-user-return-46327-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66128 invoked from network); 2 Jun 2010 09:12:21 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 2 Jun 2010 09:12:21 -0000
Received: (qmail 61486 invoked by uid 500); 2 Jun 2010 09:12:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61393 invoked by uid 500); 2 Jun 2010 09:12:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61385 invoked by uid 99); 2 Jun 2010 09:12:19 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Jun 2010 09:12:19 +0000
X-ASF-Spam-Status: No, hits=-0.1 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jan.kurella@nokia.com designates 192.100.122.233 as permitted sender)
Received: from [192.100.122.233] (HELO mgw-mx06.nokia.com) (192.100.122.233)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Jun 2010 09:12:10 +0000
Received: from vaebh105.NOE.Nokia.com (vaebh105.europe.nokia.com [10.160.244.31])
	by mgw-mx06.nokia.com (Switch-3.3.3/Switch-3.3.3) with ESMTP id o529BKSr014138
	for <java-user@lucene.apache.org>; Wed, 2 Jun 2010 12:11:48 +0300
Received: from esebh102.NOE.Nokia.com ([172.21.138.183]) by vaebh105.NOE.Nokia.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Wed, 2 Jun 2010 12:11:44 +0300
Received: from smtp.mgd.nokia.com ([65.54.30.8]) by esebh102.NOE.Nokia.com over TLS secured channel with Microsoft SMTPSVC(6.0.3790.4675);
	 Wed, 2 Jun 2010 12:11:44 +0300
Received: from NOK-EUMSG-04.mgdnok.nokia.com ([65.54.30.109]) by
 nok-am1mhub-04.mgdnok.nokia.com ([65.54.30.8]) with mapi; Wed, 2 Jun 2010
 11:11:44 +0200
From: <jan.kurella@nokia.com>
To: <java-user@lucene.apache.org>
Date: Wed, 2 Jun 2010 11:11:41 +0200
Subject: Docs  with any score are collected in the Collector implementations
Thread-Topic: Docs  with any score are collected in the Collector
 implementations
Thread-Index: AcsCMwguyajvqIOmTii+27XvuWrh9Q==
Message-ID: <D0684B316F54B2428827C4D51A208B254A3EF8E9A4@NOK-EUMSG-04.mgdnok.nokia.com>
Accept-Language: de-DE, en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-cr-hashedpuzzle: iNs= n3w= BCc/ BDhG BGDs BoOd BqkB CaIq ElOR FyCr GguG
 HNXj HYg3 HqJK JpS9
 KKWY;1;agBhAHYAYQAtAHUAcwBlAHIAQABsAHUAYwBlAG4AZQAuAGEAcABhAGMAaABlAC4AbwByAGcA;Sosha1_v1;7;{972353DB-E78B-4A44-BC43-69DA8AD55E7E};agBhAG4ALgBrAHUAcgBlAGwAbABhAEAAbgBvAGsAaQBhAC4AYwBvAG0A;Wed,
 02 Jun 2010 09:11:41
 GMT;RABvAGMAcwAgACAAdwBpAHQAaAAgAGEAbgB5ACAAcwBjAG8AcgBlACAAYQByAGUAIABjAG8AbABsAGUAYwB0AGUAZAAgAGkAbgAgAHQAaABlACAAQwBvAGwAbABlAGMAdABvAHIAIABpAG0AcABsAGUAbQBlAG4AdABhAHQAaQBvAG4AcwA=
x-cr-puzzleid: {972353DB-E78B-4A44-BC43-69DA8AD55E7E}
acceptlanguage: de-DE, en-US
Content-Type: multipart/alternative;
	boundary="_000_D0684B316F54B2428827C4D51A208B254A3EF8E9A4NOKEUMSG04mgd_"
MIME-Version: 1.0
X-OriginalArrivalTime: 02 Jun 2010 09:11:44.0787 (UTC) FILETIME=[9F359E30:01CB0233]
X-Nokia-AV: Clean

--_000_D0684B316F54B2428827C4D51A208B254A3EF8E9A4NOKEUMSG04mgd_
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64

SGksDQoNCkZvcm1lcmx5IHRoZSBIaXRDb2xsZWN0b3Igc3RvcmVkIG9ubHkgZG9jcyB3aXRoIHNj
b3JlIGJpZ2dlciB0aGFuIDAuMGYuIFRoaXMgY2hlY2sgaXMgbm90IGltcGxlbWVudGVkIGluIGFu
eSBDb2xsZWN0b3IgaW1wbGVtZW50YXRpb24uIEVzcGVjaWFsbHkgaW4gdGhlIHR3byBpbXBsZW1l
bnRhdGlvbiB1c2VkIGJ5IHNvbHI6IEluT3JkZXJUb3BTY29yZURvY0NvbGxlY3RvciBhbmQgT3V0
T2ZPcmRlclRvcFNjb3JlRG9jQ29sbGVjdG9yLg0KDQpIb3cgdG8gbm90IGNvbGxlY3QgZG9jdW1l
bnRzIHdpdGggYSBzY29yZSBsZXNzIG9yIGVxdWFsIHRvIDAuMGY/DQoNCkphbg0K

--_000_D0684B316F54B2428827C4D51A208B254A3EF8E9A4NOKEUMSG04mgd_--

From java-user-return-46328-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 02 09:15:53 2010
Return-Path: <java-user-return-46328-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67110 invoked from network); 2 Jun 2010 09:15:53 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 2 Jun 2010 09:15:53 -0000
Received: (qmail 68134 invoked by uid 500); 2 Jun 2010 09:15:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68099 invoked by uid 500); 2 Jun 2010 09:15:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68091 invoked by uid 99); 2 Jun 2010 09:15:50 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Jun 2010 09:15:50 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.160.176] (HELO mail-gy0-f176.google.com) (209.85.160.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Jun 2010 09:15:44 +0000
Received: by gyf1 with SMTP id 1so5524685gyf.35
        for <java-user@lucene.apache.org>; Wed, 02 Jun 2010 02:15:22 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.150.250.5 with SMTP id x5mr8160529ybh.295.1275470122739; Wed, 
	02 Jun 2010 02:15:22 -0700 (PDT)
Received: by 10.151.11.20 with HTTP; Wed, 2 Jun 2010 02:15:22 -0700 (PDT)
In-Reply-To: <D0684B316F54B2428827C4D51A208B254A3EF8E9A4@NOK-EUMSG-04.mgdnok.nokia.com>
References: <D0684B316F54B2428827C4D51A208B254A3EF8E9A4@NOK-EUMSG-04.mgdnok.nokia.com>
Date: Wed, 2 Jun 2010 05:15:22 -0400
Message-ID: <AANLkTikMYMp-zFFiw8U8Cjt2maqRAeEt_J-GLBZ14LQu@mail.gmail.com>
Subject: Re: Docs with any score are collected in the Collector 
	implementations
From: Michael McCandless <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

Use PositiveScoresOnlyCollector.

Mike

On Wed, Jun 2, 2010 at 5:11 AM,  <jan.kurella@nokia.com> wrote:
> Hi,
>
> Formerly the HitCollector stored only docs with score bigger than 0.0f. This check is not implemented in any Collector implementation. Especially in the two implementation used by solr: InOrderTopScoreDocCollector and OutOfOrderTopScoreDocCollector.
>
> How to not collect documents with a score less or equal to 0.0f?
>
> Jan
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46329-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 02 09:29:40 2010
Return-Path: <java-user-return-46329-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69156 invoked from network); 2 Jun 2010 09:29:40 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 2 Jun 2010 09:29:40 -0000
Received: (qmail 78183 invoked by uid 500); 2 Jun 2010 09:29:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78001 invoked by uid 500); 2 Jun 2010 09:29:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77993 invoked by uid 99); 2 Jun 2010 09:29:38 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Jun 2010 09:29:38 +0000
X-ASF-Spam-Status: No, hits=-1.2 required=10.0
	tests=AWL,RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jan.kurella@nokia.com designates 192.100.122.230 as permitted sender)
Received: from [192.100.122.230] (HELO mgw-mx03.nokia.com) (192.100.122.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Jun 2010 09:29:31 +0000
Received: from vaebh105.NOE.Nokia.com (vaebh105.europe.nokia.com [10.160.244.31])
	by mgw-mx03.nokia.com (Switch-3.3.3/Switch-3.3.3) with ESMTP id o529T0hH031680
	for <java-user@lucene.apache.org>; Wed, 2 Jun 2010 12:29:08 +0300
Received: from vaebh104.NOE.Nokia.com ([10.160.244.30]) by vaebh105.NOE.Nokia.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Wed, 2 Jun 2010 12:29:03 +0300
Received: from smtp.mgd.nokia.com ([65.54.30.8]) by vaebh104.NOE.Nokia.com over TLS secured channel with Microsoft SMTPSVC(6.0.3790.4675);
	 Wed, 2 Jun 2010 12:28:59 +0300
Received: from NOK-EUMSG-04.mgdnok.nokia.com ([65.54.30.109]) by
 nok-am1mhub-04.mgdnok.nokia.com ([65.54.30.8]) with mapi; Wed, 2 Jun 2010
 11:28:58 +0200
From: <jan.kurella@nokia.com>
To: <java-user@lucene.apache.org>
Date: Wed, 2 Jun 2010 11:28:13 +0200
Subject: RE: Docs with any score are collected in the Collector
 implementations
Thread-Topic: Docs with any score are collected in the Collector
 implementations
Thread-Index: AcsCNDp+iGvujzCiQDmM+GAdC3OVfAAAP+Kg
Message-ID: <D0684B316F54B2428827C4D51A208B254A3EF8E9E2@NOK-EUMSG-04.mgdnok.nokia.com>
References: <D0684B316F54B2428827C4D51A208B254A3EF8E9A4@NOK-EUMSG-04.mgdnok.nokia.com>
 <AANLkTikMYMp-zFFiw8U8Cjt2maqRAeEt_J-GLBZ14LQu@mail.gmail.com>
In-Reply-To: <AANLkTikMYMp-zFFiw8U8Cjt2maqRAeEt_J-GLBZ14LQu@mail.gmail.com>
Accept-Language: de-DE, en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: de-DE, en-US
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginalArrivalTime: 02 Jun 2010 09:28:59.0027 (UTC) FILETIME=[07AA1E30:01CB0236]
X-Nokia-AV: Clean

VGhhbmtzLCBoYXZlIG92ZXJzZWVuIHRoaXMgaW1wbGVtZW50YXRpb24uIEhvdyB0byBnZXQgc29s
ciBjb25maWd1cmVkIHRvIHVzZSB0aGlzIHdyYXBwZXIgY29sbGVjdG9yPyBPciBpcyB0aGlzIHRo
ZSB3cm9uZyBtYWlsaW5nIGxpc3QgZm9yIHRoaXMgcXVlc3Rpb24/IDopDQoNCkFzIGZhciBhcyBJ
IHJlYWQgdGhlIHNvbHIgY29kZSBpdCBpcyBub3QgbWVhbnQgdG8gY29uZmlndXJlIHRoZSBjb2xs
ZWN0b3JzIGF0IGFsbCB3aXRob3V0IHRvdWNoaW5nIHRoZSBjb2RlLi4uDQoNCkphbg0KDQotLS0t
LU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQ0KRnJvbTogZXh0IE1pY2hhZWwgTWNDYW5kbGVzcyBbbWFp
bHRvOmx1Y2VuZUBtaWtlbWNjYW5kbGVzcy5jb21dIA0KU2VudDogTWl0dHdvY2gsIDIuIEp1bmkg
MjAxMCAxMToxNQ0KVG86IGphdmEtdXNlckBsdWNlbmUuYXBhY2hlLm9yZw0KU3ViamVjdDogUmU6
IERvY3Mgd2l0aCBhbnkgc2NvcmUgYXJlIGNvbGxlY3RlZCBpbiB0aGUgQ29sbGVjdG9yIGltcGxl
bWVudGF0aW9ucw0KDQpVc2UgUG9zaXRpdmVTY29yZXNPbmx5Q29sbGVjdG9yLg0KDQpNaWtlDQoN
Ck9uIFdlZCwgSnVuIDIsIDIwMTAgYXQgNToxMSBBTSwgIDxqYW4ua3VyZWxsYUBub2tpYS5jb20+
IHdyb3RlOg0KPiBIaSwNCj4NCj4gRm9ybWVybHkgdGhlIEhpdENvbGxlY3RvciBzdG9yZWQgb25s
eSBkb2NzIHdpdGggc2NvcmUgYmlnZ2VyIHRoYW4gMC4wZi4gVGhpcyBjaGVjayBpcyBub3QgaW1w
bGVtZW50ZWQgaW4gYW55IENvbGxlY3RvciBpbXBsZW1lbnRhdGlvbi4gRXNwZWNpYWxseSBpbiB0
aGUgdHdvIGltcGxlbWVudGF0aW9uIHVzZWQgYnkgc29scjogSW5PcmRlclRvcFNjb3JlRG9jQ29s
bGVjdG9yIGFuZCBPdXRPZk9yZGVyVG9wU2NvcmVEb2NDb2xsZWN0b3IuDQo+DQo+IEhvdyB0byBu
b3QgY29sbGVjdCBkb2N1bWVudHMgd2l0aCBhIHNjb3JlIGxlc3Mgb3IgZXF1YWwgdG8gMC4wZj8N
Cj4NCj4gSmFuDQo+DQoNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogamF2
YS11c2VyLXVuc3Vic2NyaWJlQGx1Y2VuZS5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21t
YW5kcywgZS1tYWlsOiBqYXZhLXVzZXItaGVscEBsdWNlbmUuYXBhY2hlLm9yZw0KDQo=


From java-user-return-46330-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 02 09:30:50 2010
Return-Path: <java-user-return-46330-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70041 invoked from network); 2 Jun 2010 09:30:50 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 2 Jun 2010 09:30:50 -0000
Received: (qmail 80658 invoked by uid 500); 2 Jun 2010 09:30:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80473 invoked by uid 500); 2 Jun 2010 09:30:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80465 invoked by uid 99); 2 Jun 2010 09:30:47 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Jun 2010 09:30:47 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [195.253.6.130] (HELO kmx10a.knipp.de) (195.253.6.130)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Jun 2010 09:30:37 +0000
Received: from localhost (localhost [127.0.0.1])
	by kmx10a.knipp.de (Postfix) with ESMTP id B9A7B6E;
	Wed,  2 Jun 2010 11:30:17 +0200 (MESZ)
X-Knipp-VirusScanned: Yes
Received: from kmx10a.knipp.de ([127.0.0.1])
	by localhost (kmx10a.knipp.de [127.0.0.1]) (amavisd-new, port 10004)
	with ESMTP id cXFa865se54u; Wed,  2 Jun 2010 11:30:12 +0200 (MESZ)
Received: from hp9000.do.knipp.de (hp9000.do.knipp.de [195.253.2.54])
	by kmx10a.knipp.de (Postfix) with ESMTP id E5639E5;
	Wed,  2 Jun 2010 11:30:11 +0200 (MESZ)
Received: from [195.253.2.27] (mclane.do.knipp.de [195.253.2.27])
	by hp9000.do.knipp.de (@(#)Sendmail version 8.13.3 - Revision 1.000 - 1st August,2006/8.13.3) with ESMTP id o529UB31024265;
	Wed, 2 Jun 2010 11:30:11 +0200 (MESZ)
Message-ID: <4C0624A3.6060309@knipp.de>
Date: Wed, 02 Jun 2010 11:30:11 +0200
From: Klaus Malorny <Klaus.Malorny@knipp.de>
User-Agent: Mozilla/5.0 (X11; U; Linux i686 (x86_64); en-US; rv:1.9.3a5pre) Gecko/20100506 Shredder/3.2a1pre
MIME-Version: 1.0
To: java-user@lucene.apache.org
CC: Julian Atkinson <jpa458@gmail.com>
Subject: Re: spatial searches
References: <4BE95917.6040007@knipp.de> <AANLkTilueHT2eafVmIOn7bDWNVS6LBF5pZuSsv4NILoj@mail.gmail.com>
In-Reply-To: <AANLkTilueHT2eafVmIOn7bDWNVS6LBF5pZuSsv4NILoj@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 22/05/10 08:45, Julian Atkinson wrote:
> Hi Klaus,
>
> I suggest you take a look at the code in TestCartesian.java for
> working examples of the search and as a staring point to trace
> through.
>
> in more depth, if you look at DistanceQueryBuilder.java you'll see 2
> filters are being setup.
>
> The first pass filter is created by CartesianPolyFilterBuilder and
> this makes sure you only consider documents near to the area you are
> searching by looking in the right tier and pulling out the relevant
> grid cells.
>
> The second filter is dependent on which method you are using Lat/Lng
> or Geohash - this is where the more precise filtering is done based on
> the calculated distance.
>
> The use of the second pass filter is optional and driven by a boolean.
>
> If you want to custom score then there is an example in the
> TestCartesian.class with CustomScoreQuery
>
> Hope this helps,
> Julian

Hi Julian,

sorry not to thank earlier -- unfortunately, I had a family tragedy.

I missed that CustomScoreQuery can be used without ValueSourceQuery instances. 
So I will try to use a term query as a subquery to preselect the documents in 
the geographic vicinity and to finally calculate the right distances using an 
own implementation of CustomScoreProvider.

Greetings,

Klaus




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46331-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 02 09:37:09 2010
Return-Path: <java-user-return-46331-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71082 invoked from network); 2 Jun 2010 09:37:09 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 2 Jun 2010 09:37:09 -0000
Received: (qmail 87226 invoked by uid 500); 2 Jun 2010 09:37:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87195 invoked by uid 500); 2 Jun 2010 09:37:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87185 invoked by uid 99); 2 Jun 2010 09:37:06 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Jun 2010 09:37:06 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [74.125.83.48] (HELO mail-gw0-f48.google.com) (74.125.83.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Jun 2010 09:37:00 +0000
Received: by gwaa18 with SMTP id a18so429230gwa.35
        for <java-user@lucene.apache.org>; Wed, 02 Jun 2010 02:36:38 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.150.141.16 with SMTP id o16mr7280356ybd.207.1275471396311; 
	Wed, 02 Jun 2010 02:36:36 -0700 (PDT)
Received: by 10.151.11.20 with HTTP; Wed, 2 Jun 2010 02:36:36 -0700 (PDT)
In-Reply-To: <D0684B316F54B2428827C4D51A208B254A3EF8E9E2@NOK-EUMSG-04.mgdnok.nokia.com>
References: <D0684B316F54B2428827C4D51A208B254A3EF8E9A4@NOK-EUMSG-04.mgdnok.nokia.com>
	<AANLkTikMYMp-zFFiw8U8Cjt2maqRAeEt_J-GLBZ14LQu@mail.gmail.com>
	<D0684B316F54B2428827C4D51A208B254A3EF8E9E2@NOK-EUMSG-04.mgdnok.nokia.com>
Date: Wed, 2 Jun 2010 05:36:36 -0400
Message-ID: <AANLkTiltvzkLCmkwEPURfognU4a-c35vbTizr1782Nfr@mail.gmail.com>
Subject: Re: Docs with any score are collected in the Collector 
	implementations
From: Michael McCandless <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Yeah might be the wrong mailing list :)  Though there is alot of overlap...

Solr's QueryComponent doesn't seem to allow specifying your own
collector... and this issue is still open:

    https://issues.apache.org/jira/browse/SOLR-1680

I think we need to hear from a Solr guru (not me)!

Mike

On Wed, Jun 2, 2010 at 5:28 AM,  <jan.kurella@nokia.com> wrote:
> Thanks, have overseen this implementation. How to get solr configured to =
use this wrapper collector? Or is this the wrong mailing list for this ques=
tion? :)
>
> As far as I read the solr code it is not meant to configure the collector=
s at all without touching the code...
>
> Jan
>
> -----Original Message-----
> From: ext Michael McCandless [mailto:lucene@mikemccandless.com]
> Sent: Mittwoch, 2. Juni 2010 11:15
> To: java-user@lucene.apache.org
> Subject: Re: Docs with any score are collected in the Collector implement=
ations
>
> Use PositiveScoresOnlyCollector.
>
> Mike
>
> On Wed, Jun 2, 2010 at 5:11 AM, =A0<jan.kurella@nokia.com> wrote:
>> Hi,
>>
>> Formerly the HitCollector stored only docs with score bigger than 0.0f. =
This check is not implemented in any Collector implementation. Especially i=
n the two implementation used by solr: InOrderTopScoreDocCollector and OutO=
fOrderTopScoreDocCollector.
>>
>> How to not collect documents with a score less or equal to 0.0f?
>>
>> Jan
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46332-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 02 09:47:02 2010
Return-Path: <java-user-return-46332-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72585 invoked from network); 2 Jun 2010 09:47:02 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 2 Jun 2010 09:47:02 -0000
Received: (qmail 404 invoked by uid 500); 2 Jun 2010 09:47:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 291 invoked by uid 500); 2 Jun 2010 09:46:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 282 invoked by uid 99); 2 Jun 2010 09:46:59 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Jun 2010 09:46:59 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of simon.willnauer@googlemail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Jun 2010 09:46:53 +0000
Received: by fxm12 with SMTP id 12so5152100fxm.35
        for <java-user@lucene.apache.org>; Wed, 02 Jun 2010 02:46:33 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:reply-to
         :in-reply-to:references:date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=kJSEUtIGB5880/bU64I32Jq9qrgcTpvMdWRLpK2Bka0=;
        b=BSvlqPTQ7RjFI93s3N3yL97Hubo/nh8yw8ZizZIjH0fERr80w3Zhpxnw9aq1BDURgn
         HUYLYqTgZmY+KZWn3xm8lXAc0vNr55GsnwWrwlnUQgqC2SbUj2dNNm/3HOn6sCoS2D+S
         iWaLNW5IPcDQZlYivdNkZlt9i1Ia0aDmDTVAw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=mime-version:reply-to:in-reply-to:references:date:message-id
         :subject:from:to:content-type:content-transfer-encoding;
        b=x4t1NPuK2/Ymj32g+Z/2zuzJGcXmPnZX3r0nrcGzcOaRWA+LH/jOdza42mSELWmRuc
         EDV6oOCHh3GN97SH9qCDeC0y5kKKazfe4HbL0pF7aHZZ/ogigL+mBkU1P1WNPKi2uLOR
         qJOI+9DMCbRSJJL3IA25NdBguGYEAaB+BfnoM=
MIME-Version: 1.0
Received: by 10.239.156.84 with SMTP id l20mr646550hbc.2.1275471992892; Wed, 
	02 Jun 2010 02:46:32 -0700 (PDT)
Received: by 10.239.145.75 with HTTP; Wed, 2 Jun 2010 02:46:32 -0700 (PDT)
Reply-To: simon.willnauer@gmail.com
In-Reply-To: <AANLkTiltvzkLCmkwEPURfognU4a-c35vbTizr1782Nfr@mail.gmail.com>
References: <D0684B316F54B2428827C4D51A208B254A3EF8E9A4@NOK-EUMSG-04.mgdnok.nokia.com>
	<AANLkTikMYMp-zFFiw8U8Cjt2maqRAeEt_J-GLBZ14LQu@mail.gmail.com>
	<D0684B316F54B2428827C4D51A208B254A3EF8E9E2@NOK-EUMSG-04.mgdnok.nokia.com>
	<AANLkTiltvzkLCmkwEPURfognU4a-c35vbTizr1782Nfr@mail.gmail.com>
Date: Wed, 2 Jun 2010 11:46:32 +0200
Message-ID: <AANLkTinKB9Y3xGfbMbAbNOjpNYyC67p4L1HkkxIIO2Wr@mail.gmail.com>
Subject: Re: Docs with any score are collected in the Collector 
	implementations
From: Simon Willnauer <simon.willnauer@googlemail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

AFAIK, exchangeing the Collector is one of the last tricky parts which
is not solvable via the XML configuration. I recall talking to Mark a
while ago about reasons against replacing your Lucene app with Solr
and HitCollector / Collector came up during that. I think you need to
touch SolrIndexSearcher and maybe build your own QueryCompontent. Yet,
I am not a Solr expert so maybe Mark, Yonik or Chris could jump in
here?!

simon

On Wed, Jun 2, 2010 at 11:36 AM, Michael McCandless
<lucene@mikemccandless.com> wrote:
> Yeah might be the wrong mailing list :) =C2=A0Though there is alot of ove=
rlap...
>
> Solr's QueryComponent doesn't seem to allow specifying your own
> collector... and this issue is still open:
>
> =C2=A0 =C2=A0https://issues.apache.org/jira/browse/SOLR-1680
>
> I think we need to hear from a Solr guru (not me)!
>
> Mike
>
> On Wed, Jun 2, 2010 at 5:28 AM, =C2=A0<jan.kurella@nokia.com> wrote:
>> Thanks, have overseen this implementation. How to get solr configured to=
 use this wrapper collector? Or is this the wrong mailing list for this que=
stion? :)
>>
>> As far as I read the solr code it is not meant to configure the collecto=
rs at all without touching the code...
>>
>> Jan
>>
>> -----Original Message-----
>> From: ext Michael McCandless [mailto:lucene@mikemccandless.com]
>> Sent: Mittwoch, 2. Juni 2010 11:15
>> To: java-user@lucene.apache.org
>> Subject: Re: Docs with any score are collected in the Collector implemen=
tations
>>
>> Use PositiveScoresOnlyCollector.
>>
>> Mike
>>
>> On Wed, Jun 2, 2010 at 5:11 AM, =C2=A0<jan.kurella@nokia.com> wrote:
>>> Hi,
>>>
>>> Formerly the HitCollector stored only docs with score bigger than 0.0f.=
 This check is not implemented in any Collector implementation. Especially =
in the two implementation used by solr: InOrderTopScoreDocCollector and Out=
OfOrderTopScoreDocCollector.
>>>
>>> How to not collect documents with a score less or equal to 0.0f?
>>>
>>> Jan
>>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46333-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 02 11:48:33 2010
Return-Path: <java-user-return-46333-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11796 invoked from network); 2 Jun 2010 11:48:33 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 2 Jun 2010 11:48:33 -0000
Received: (qmail 73845 invoked by uid 500); 2 Jun 2010 11:48:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73484 invoked by uid 500); 2 Jun 2010 11:48:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73471 invoked by uid 99); 2 Jun 2010 11:48:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Jun 2010 11:48:26 +0000
X-ASF-Spam-Status: No, hits=-1.8 required=10.0
	tests=AWL,RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jan.kurella@nokia.com designates 192.100.105.134 as permitted sender)
Received: from [192.100.105.134] (HELO mgw-mx09.nokia.com) (192.100.105.134)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Jun 2010 11:48:20 +0000
Received: from esebh105.NOE.Nokia.com (esebh105.ntc.nokia.com [172.21.138.211])
	by mgw-mx09.nokia.com (Switch-3.3.3/Switch-3.3.3) with ESMTP id o52BltQh023837
	for <java-user@lucene.apache.org>; Wed, 2 Jun 2010 06:47:59 -0500
Received: from vaebh102.NOE.Nokia.com ([10.160.244.23]) by esebh105.NOE.Nokia.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Wed, 2 Jun 2010 14:47:39 +0300
Received: from vaebh101.NOE.Nokia.com ([10.160.244.22]) by vaebh102.NOE.Nokia.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Wed, 2 Jun 2010 14:47:34 +0300
Received: from smtp.mgd.nokia.com ([65.54.30.6]) by vaebh101.NOE.Nokia.com over TLS secured channel with Microsoft SMTPSVC(6.0.3790.4675);
	 Wed, 2 Jun 2010 14:47:29 +0300
Received: from NOK-EUMSG-04.mgdnok.nokia.com ([65.54.30.109]) by
 nok-am1mhub-02.mgdnok.nokia.com ([65.54.30.6]) with mapi; Wed, 2 Jun 2010
 13:47:29 +0200
From: <jan.kurella@nokia.com>
To: <java-user@lucene.apache.org>
Date: Wed, 2 Jun 2010 13:47:22 +0200
Subject: RE: Docs with any score are collected in the Collector
 	implementations
Thread-Topic: Docs with any score are collected in the Collector
 	implementations
Thread-Index: AcsCOOVhGAHCfdxaQFqHEwuuMarq/gAEF0Tg
Message-ID: <D0684B316F54B2428827C4D51A208B254A3EF8EBE2@NOK-EUMSG-04.mgdnok.nokia.com>
References: <D0684B316F54B2428827C4D51A208B254A3EF8E9A4@NOK-EUMSG-04.mgdnok.nokia.com>
	<AANLkTikMYMp-zFFiw8U8Cjt2maqRAeEt_J-GLBZ14LQu@mail.gmail.com>
	<D0684B316F54B2428827C4D51A208B254A3EF8E9E2@NOK-EUMSG-04.mgdnok.nokia.com>
	<AANLkTiltvzkLCmkwEPURfognU4a-c35vbTizr1782Nfr@mail.gmail.com>
 <AANLkTinKB9Y3xGfbMbAbNOjpNYyC67p4L1HkkxIIO2Wr@mail.gmail.com>
In-Reply-To: <AANLkTinKB9Y3xGfbMbAbNOjpNYyC67p4L1HkkxIIO2Wr@mail.gmail.com>
Accept-Language: de-DE, en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-cr-hashedpuzzle: Wo0= BCMQ BbOH Bqq3 DWH5 DkNu EYbb EsEU F0As HjDW Hu9o
 InW0 JQcV JcJR J0eq
 Kljw;1;agBhAHYAYQAtAHUAcwBlAHIAQABsAHUAYwBlAG4AZQAuAGEAcABhAGMAaABlAC4AbwByAGcA;Sosha1_v1;7;{EAE5F380-40C6-4FB8-8F4D-D2438680FCD8};agBhAG4ALgBrAHUAcgBlAGwAbABhAEAAbgBvAGsAaQBhAC4AYwBvAG0A;Wed,
 02 Jun 2010 11:47:22
 GMT;UgBFADoAIABEAG8AYwBzACAAdwBpAHQAaAAgAGEAbgB5ACAAcwBjAG8AcgBlACAAYQByAGUAIABjAG8AbABsAGUAYwB0AGUAZAAgAGkAbgAgAHQAaABlACAAQwBvAGwAbABlAGMAdABvAHIAIAAJAGkAbQBwAGwAZQBtAGUAbgB0AGEAdABpAG8AbgBzAA==
x-cr-puzzleid: {EAE5F380-40C6-4FB8-8F4D-D2438680FCD8}
acceptlanguage: de-DE, en-US
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginalArrivalTime: 02 Jun 2010 11:47:29.0854 (UTC) FILETIME=[614DADE0:01CB0249]
X-Nokia-AV: Clean

QWRkZWQgYSBjb21tZW50IGluIHRoZSBKSVJBIG1lbnRpb25lZCBiZWxvdy4gSSBkbyBub3QgZmVl
bCB0byBjcmVhdGUgYWxyZWFkeSBhIHBhdGNoIG9uIG15IGZpcnN0IGNoYXQgdG8geW91IGd1eXMg
OykNCg0KSmFuDQoNCi0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tDQpGcm9tOiBleHQgU2ltb24g
V2lsbG5hdWVyIFttYWlsdG86c2ltb24ud2lsbG5hdWVyQGdvb2dsZW1haWwuY29tXSANClNlbnQ6
IE1pdHR3b2NoLCAyLiBKdW5pIDIwMTAgMTE6NDcNClRvOiBqYXZhLXVzZXJAbHVjZW5lLmFwYWNo
ZS5vcmcNClN1YmplY3Q6IFJlOiBEb2NzIHdpdGggYW55IHNjb3JlIGFyZSBjb2xsZWN0ZWQgaW4g
dGhlIENvbGxlY3RvciBpbXBsZW1lbnRhdGlvbnMNCg0KQUZBSUssIGV4Y2hhbmdlaW5nIHRoZSBD
b2xsZWN0b3IgaXMgb25lIG9mIHRoZSBsYXN0IHRyaWNreSBwYXJ0cyB3aGljaA0KaXMgbm90IHNv
bHZhYmxlIHZpYSB0aGUgWE1MIGNvbmZpZ3VyYXRpb24uIEkgcmVjYWxsIHRhbGtpbmcgdG8gTWFy
ayBhDQp3aGlsZSBhZ28gYWJvdXQgcmVhc29ucyBhZ2FpbnN0IHJlcGxhY2luZyB5b3VyIEx1Y2Vu
ZSBhcHAgd2l0aCBTb2xyDQphbmQgSGl0Q29sbGVjdG9yIC8gQ29sbGVjdG9yIGNhbWUgdXAgZHVy
aW5nIHRoYXQuIEkgdGhpbmsgeW91IG5lZWQgdG8NCnRvdWNoIFNvbHJJbmRleFNlYXJjaGVyIGFu
ZCBtYXliZSBidWlsZCB5b3VyIG93biBRdWVyeUNvbXBvbnRlbnQuIFlldCwNCkkgYW0gbm90IGEg
U29sciBleHBlcnQgc28gbWF5YmUgTWFyaywgWW9uaWsgb3IgQ2hyaXMgY291bGQganVtcCBpbg0K
aGVyZT8hDQoNCnNpbW9uDQoNCk9uIFdlZCwgSnVuIDIsIDIwMTAgYXQgMTE6MzYgQU0sIE1pY2hh
ZWwgTWNDYW5kbGVzcw0KPGx1Y2VuZUBtaWtlbWNjYW5kbGVzcy5jb20+IHdyb3RlOg0KPiBZZWFo
IG1pZ2h0IGJlIHRoZSB3cm9uZyBtYWlsaW5nIGxpc3QgOikgwqBUaG91Z2ggdGhlcmUgaXMgYWxv
dCBvZiBvdmVybGFwLi4uDQo+DQo+IFNvbHIncyBRdWVyeUNvbXBvbmVudCBkb2Vzbid0IHNlZW0g
dG8gYWxsb3cgc3BlY2lmeWluZyB5b3VyIG93bg0KPiBjb2xsZWN0b3IuLi4gYW5kIHRoaXMgaXNz
dWUgaXMgc3RpbGwgb3BlbjoNCj4NCj4gwqAgwqBodHRwczovL2lzc3Vlcy5hcGFjaGUub3JnL2pp
cmEvYnJvd3NlL1NPTFItMTY4MA0KPg0KPiBJIHRoaW5rIHdlIG5lZWQgdG8gaGVhciBmcm9tIGEg
U29sciBndXJ1IChub3QgbWUpIQ0KPg0KPiBNaWtlDQo+DQo+IE9uIFdlZCwgSnVuIDIsIDIwMTAg
YXQgNToyOCBBTSwgwqA8amFuLmt1cmVsbGFAbm9raWEuY29tPiB3cm90ZToNCj4+IFRoYW5rcywg
aGF2ZSBvdmVyc2VlbiB0aGlzIGltcGxlbWVudGF0aW9uLiBIb3cgdG8gZ2V0IHNvbHIgY29uZmln
dXJlZCB0byB1c2UgdGhpcyB3cmFwcGVyIGNvbGxlY3Rvcj8gT3IgaXMgdGhpcyB0aGUgd3Jvbmcg
bWFpbGluZyBsaXN0IGZvciB0aGlzIHF1ZXN0aW9uPyA6KQ0KPj4NCj4+IEFzIGZhciBhcyBJIHJl
YWQgdGhlIHNvbHIgY29kZSBpdCBpcyBub3QgbWVhbnQgdG8gY29uZmlndXJlIHRoZSBjb2xsZWN0
b3JzIGF0IGFsbCB3aXRob3V0IHRvdWNoaW5nIHRoZSBjb2RlLi4uDQo+Pg0KPj4gSmFuDQo+Pg0K
Pj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4+IEZyb206IGV4dCBNaWNoYWVsIE1jQ2Fu
ZGxlc3MgW21haWx0bzpsdWNlbmVAbWlrZW1jY2FuZGxlc3MuY29tXQ0KPj4gU2VudDogTWl0dHdv
Y2gsIDIuIEp1bmkgMjAxMCAxMToxNQ0KPj4gVG86IGphdmEtdXNlckBsdWNlbmUuYXBhY2hlLm9y
Zw0KPj4gU3ViamVjdDogUmU6IERvY3Mgd2l0aCBhbnkgc2NvcmUgYXJlIGNvbGxlY3RlZCBpbiB0
aGUgQ29sbGVjdG9yIGltcGxlbWVudGF0aW9ucw0KPj4NCj4+IFVzZSBQb3NpdGl2ZVNjb3Jlc09u
bHlDb2xsZWN0b3IuDQo+Pg0KPj4gTWlrZQ0KPj4NCj4+IE9uIFdlZCwgSnVuIDIsIDIwMTAgYXQg
NToxMSBBTSwgwqA8amFuLmt1cmVsbGFAbm9raWEuY29tPiB3cm90ZToNCj4+PiBIaSwNCj4+Pg0K
Pj4+IEZvcm1lcmx5IHRoZSBIaXRDb2xsZWN0b3Igc3RvcmVkIG9ubHkgZG9jcyB3aXRoIHNjb3Jl
IGJpZ2dlciB0aGFuIDAuMGYuIFRoaXMgY2hlY2sgaXMgbm90IGltcGxlbWVudGVkIGluIGFueSBD
b2xsZWN0b3IgaW1wbGVtZW50YXRpb24uIEVzcGVjaWFsbHkgaW4gdGhlIHR3byBpbXBsZW1lbnRh
dGlvbiB1c2VkIGJ5IHNvbHI6IEluT3JkZXJUb3BTY29yZURvY0NvbGxlY3RvciBhbmQgT3V0T2ZP
cmRlclRvcFNjb3JlRG9jQ29sbGVjdG9yLg0KPj4+DQo+Pj4gSG93IHRvIG5vdCBjb2xsZWN0IGRv
Y3VtZW50cyB3aXRoIGEgc2NvcmUgbGVzcyBvciBlcXVhbCB0byAwLjBmPw0KPj4+DQo+Pj4gSmFu
DQo+Pj4NCj4+DQo+PiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCj4+IFRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IGph
dmEtdXNlci11bnN1YnNjcmliZUBsdWNlbmUuYXBhY2hlLm9yZw0KPj4gRm9yIGFkZGl0aW9uYWwg
Y29tbWFuZHMsIGUtbWFpbDogamF2YS11c2VyLWhlbHBAbHVjZW5lLmFwYWNoZS5vcmcNCj4+DQo+
Pg0KPg0KPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0NCj4gVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogamF2YS11c2Vy
LXVuc3Vic2NyaWJlQGx1Y2VuZS5hcGFjaGUub3JnDQo+IEZvciBhZGRpdGlvbmFsIGNvbW1hbmRz
LCBlLW1haWw6IGphdmEtdXNlci1oZWxwQGx1Y2VuZS5hcGFjaGUub3JnDQo+DQo+DQoNCi0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLQ0KVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogamF2YS11c2VyLXVuc3Vic2NyaWJlQGx1
Y2VuZS5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1tYWlsOiBqYXZhLXVz
ZXItaGVscEBsdWNlbmUuYXBhY2hlLm9yZw0KDQo=


From java-user-return-46334-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 02 16:19:24 2010
Return-Path: <java-user-return-46334-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14469 invoked from network); 2 Jun 2010 16:19:24 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 2 Jun 2010 16:19:24 -0000
Received: (qmail 16859 invoked by uid 500); 2 Jun 2010 16:19:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16807 invoked by uid 500); 2 Jun 2010 16:19:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16799 invoked by uid 99); 2 Jun 2010 16:19:20 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Jun 2010 16:19:20 +0000
X-ASF-Spam-Status: No, hits=-0.6 required=10.0
	tests=AWL,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [208.69.42.181] (HELO radix.cryptio.net) (208.69.42.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Jun 2010 16:19:14 +0000
Received: by radix.cryptio.net (Postfix, from userid 1007)
	id 9BB4071C06E; Wed,  2 Jun 2010 09:18:48 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by radix.cryptio.net (Postfix) with ESMTP id 5226F71C024
	for <java-user@lucene.apache.org>; Wed,  2 Jun 2010 09:18:48 -0700 (PDT)
Date: Wed, 2 Jun 2010 09:18:48 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: RE: Docs with any score are collected in the Collector
 implementations
In-Reply-To: <D0684B316F54B2428827C4D51A208B254A3EF8E9E2@NOK-EUMSG-04.mgdnok.nokia.com>
Message-ID: <alpine.DEB.1.10.1006020910170.2731@radix.cryptio.net>
References: <D0684B316F54B2428827C4D51A208B254A3EF8E9A4@NOK-EUMSG-04.mgdnok.nokia.com> <AANLkTikMYMp-zFFiw8U8Cjt2maqRAeEt_J-GLBZ14LQu@mail.gmail.com> <D0684B316F54B2428827C4D51A208B254A3EF8E9E2@NOK-EUMSG-04.mgdnok.nokia.com>
User-Agent: Alpine 1.10 (DEB 962 2008-03-14)
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII


: Thanks, have overseen this implementation. How to get solr configured to 
: use this wrapper collector? Or is this the wrong mailing list for this 
: question? :)
: 
: As far as I read the solr code it is not meant to configure the collectors at all without touching the code...

correct ... Collector "injection" is something that has never been figured 
out very well.  as for your original question...

: > Formerly the HitCollector stored only docs with score bigger than 
: 0.0f. This check is not implemented in any Collector implementation. 
: Especially in the two implementation used by solr: 

Unless i am remembering horribly incorrectly, the HitCollector used in 
Sol has always collected *matches* (regardless of wether the score was 
positive or negative) since hte first version of Solr -- that's how 
FunctionQueries worked correctly.

So while it's true that *some* of the HitCllectors shipped with Lucene may 
have changed wether they collect docs with negative scores, nothing has 
changed in Solr.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46335-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 02 17:09:40 2010
Return-Path: <java-user-return-46335-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31401 invoked from network); 2 Jun 2010 17:09:39 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 2 Jun 2010 17:09:39 -0000
Received: (qmail 20417 invoked by uid 500); 2 Jun 2010 17:09:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20389 invoked by uid 500); 2 Jun 2010 17:09:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20381 invoked by uid 99); 2 Jun 2010 17:09:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Jun 2010 17:09:37 +0000
X-ASF-Spam-Status: No, hits=-0.1 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jan.kurella@nokia.com designates 192.100.122.233 as permitted sender)
Received: from [192.100.122.233] (HELO mgw-mx06.nokia.com) (192.100.122.233)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Jun 2010 17:09:27 +0000
Received: from esebh105.NOE.Nokia.com (esebh105.ntc.nokia.com [172.21.138.211])
	by mgw-mx06.nokia.com (Switch-3.3.3/Switch-3.3.3) with ESMTP id o52H8x4h026430
	for <java-user@lucene.apache.org>; Wed, 2 Jun 2010 20:09:05 +0300
Received: from vaebh104.NOE.Nokia.com ([10.160.244.30]) by esebh105.NOE.Nokia.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Wed, 2 Jun 2010 20:09:02 +0300
Received: from vaebh101.NOE.Nokia.com ([10.160.244.22]) by vaebh104.NOE.Nokia.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Wed, 2 Jun 2010 20:08:57 +0300
Received: from smtp.mgd.nokia.com ([65.54.30.6]) by vaebh101.NOE.Nokia.com over TLS secured channel with Microsoft SMTPSVC(6.0.3790.4675);
	 Wed, 2 Jun 2010 20:08:52 +0300
Received: from NOK-EUMSG-04.mgdnok.nokia.com ([65.54.30.109]) by
 nok-am1mhub-02.mgdnok.nokia.com ([65.54.30.6]) with mapi; Wed, 2 Jun 2010
 19:08:52 +0200
From: <jan.kurella@nokia.com>
To: <java-user@lucene.apache.org>
Date: Wed, 2 Jun 2010 19:10:02 +0200
Subject: RE: Docs with any score are collected in the Collector
	implementations
Thread-Topic: Docs with any score are collected in the Collector
	implementations
Thread-Index: AcsCdkYcOp3yUqyES7+R48htCESCKQ==
Message-ID: <1275498602.3278.11.camel@Nokia-N900-51-1>
Reply-To: <jan.kurella@nokia.com>
Accept-Language: de-DE, en-US
Content-Language: de-DE
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: de-DE, en-US
Content-Type: multipart/alternative;
	boundary="_000_1275498602327811camelNokiaN900511_"
MIME-Version: 1.0
X-OriginalArrivalTime: 02 Jun 2010 17:08:52.0906 (UTC) FILETIME=[46E5E8A0:01CB0276]
X-Nokia-AV: Clean
X-Virus-Checked: Checked by ClamAV on apache.org

--_000_1275498602327811camelNokiaN900511_
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64

T2ssDQoNCnRoYXQncyBwcm9iYWJseSBiZWNhdXNlIEkgbW92ZSBmcm9tIGx1Y2VuZSB0byBzb2xy
Lg0KDQpXZSB3aWxsIG5lZWQgdG8gZmlsdGVyIHRoZW0gZnJvbSB0aGUgcmVzdWx0IG1hbnVhbGx5
IHRoZW4gZmlyc3QuDQoNCkphbg0KLS0tLS0gVXJzcHLDvG5nbGljaGUgTWl0dGVpbHVuZyAtLS0t
LQ0KPg0KPiA6IFRoYW5rcywgaGF2ZSBvdmVyc2VlbiB0aGlzIGltcGxlbWVudGF0aW9uLiBIb3cg
dG8gZ2V0IHNvbHIgY29uZmlndXJlZA0KPiB0bw0KPiA6IHVzZSB0aGlzIHdyYXBwZXIgY29sbGVj
dG9yPyBPciBpcyB0aGlzIHRoZSB3cm9uZyBtYWlsaW5nIGxpc3QgZm9yDQo+IHRoaXMNCj4gOiBx
dWVzdGlvbj8gOikNCj4gOg0KPiA6IEFzIGZhciBhcyBJIHJlYWQgdGhlIHNvbHIgY29kZSBpdCBp
cyBub3QgbWVhbnQgdG8gY29uZmlndXJlIHRoZQ0KPiBjb2xsZWN0b3JzIGF0IGFsbCB3aXRob3V0
IHRvdWNoaW5nIHRoZSBjb2RlLi4uDQo+DQo+IGNvcnJlY3QgLi4uIENvbGxlY3RvciAiaW5qZWN0
aW9uIiBpcyBzb21ldGhpbmcgdGhhdCBoYXMgbmV2ZXIgYmVlbg0KPiBmaWd1cmVkDQo+IG91dCB2
ZXJ5IHdlbGwuICBhcyBmb3IgeW91ciBvcmlnaW5hbCBxdWVzdGlvbi4uLg0KPg0KPiA6ID4gRm9y
bWVybHkgdGhlIEhpdENvbGxlY3RvciBzdG9yZWQgb25seSBkb2NzIHdpdGggc2NvcmUgYmlnZ2Vy
IHRoYW4NCj4gOiAwLjBmLiBUaGlzIGNoZWNrIGlzIG5vdCBpbXBsZW1lbnRlZCBpbiBhbnkgQ29s
bGVjdG9yIGltcGxlbWVudGF0aW9uLg0KPiA6IEVzcGVjaWFsbHkgaW4gdGhlIHR3byBpbXBsZW1l
bnRhdGlvbiB1c2VkIGJ5IHNvbHI6DQo+DQo+IFVubGVzcyBpIGFtIHJlbWVtYmVyaW5nIGhvcnJp
Ymx5IGluY29ycmVjdGx5LCB0aGUgSGl0Q29sbGVjdG9yIHVzZWQgaW4NCj4gU29sIGhhcyBhbHdh
eXMgY29sbGVjdGVkICptYXRjaGVzKiAocmVnYXJkbGVzcyBvZiB3ZXRoZXIgdGhlIHNjb3JlIHdh
cw0KPiBwb3NpdGl2ZSBvciBuZWdhdGl2ZSkgc2luY2UgaHRlIGZpcnN0IHZlcnNpb24gb2YgU29s
ciAtLSB0aGF0J3MgaG93DQo+IEZ1bmN0aW9uUXVlcmllcyB3b3JrZWQgY29ycmVjdGx5Lg0KPg0K
PiBTbyB3aGlsZSBpdCdzIHRydWUgdGhhdCAqc29tZSogb2YgdGhlIEhpdENsbGVjdG9ycyBzaGlw
cGVkIHdpdGggTHVjZW5lDQo+IG1heQ0KPiBoYXZlIGNoYW5nZWQgd2V0aGVyIHRoZXkgY29sbGVj
dCBkb2NzIHdpdGggbmVnYXRpdmUgc2NvcmVzLCBub3RoaW5nIGhhcw0KPiBjaGFuZ2VkIGluIFNv
bHIuDQo+DQo+DQo+IC1Ib3NzDQo+DQo+DQo+IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KPiBUbyB1bnN1YnNjcmli
ZSwgZS1tYWlsOiBqYXZhLXVzZXItdW5zdWJzY3JpYmVAbHVjZW5lLmFwYWNoZS5vcmc8bWFpbHRv
OmphdmEtdXNlci11bnN1YnNjcmliZUBsdWNlbmUuYXBhY2hlLm9yZz4NCj4gRm9yIGFkZGl0aW9u
YWwgY29tbWFuZHMsIGUtbWFpbDogamF2YS11c2VyLWhlbHBAbHVjZW5lLmFwYWNoZS5vcmc8bWFp
bHRvOmphdmEtdXNlci1oZWxwQGx1Y2VuZS5hcGFjaGUub3JnPg0KPg0KPg0KDQo=

--_000_1275498602327811camelNokiaN900511_--

From java-user-return-46336-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 02 17:25:39 2010
Return-Path: <java-user-return-46336-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36808 invoked from network); 2 Jun 2010 17:25:39 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 2 Jun 2010 17:25:39 -0000
Received: (qmail 47016 invoked by uid 500); 2 Jun 2010 17:25:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46983 invoked by uid 500); 2 Jun 2010 17:25:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46975 invoked by uid 99); 2 Jun 2010 17:25:37 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Jun 2010 17:25:37 +0000
X-ASF-Spam-Status: No, hits=-0.6 required=10.0
	tests=AWL,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [208.69.42.181] (HELO radix.cryptio.net) (208.69.42.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Jun 2010 17:25:31 +0000
Received: by radix.cryptio.net (Postfix, from userid 1007)
	id A627B71C020; Wed,  2 Jun 2010 10:25:10 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by radix.cryptio.net (Postfix) with ESMTP id 7F77071C00D;
	Wed,  2 Jun 2010 10:25:10 -0700 (PDT)
Date: Wed, 2 Jun 2010 10:25:10 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org, jan.kurella@nokia.com
Subject: RE: Docs with any score are collected in the Collector
 implementations
In-Reply-To: <1275498602.3278.11.camel@Nokia-N900-51-1>
Message-ID: <alpine.DEB.1.10.1006021021030.2731@radix.cryptio.net>
References: <1275498602.3278.11.camel@Nokia-N900-51-1>
User-Agent: Alpine 1.10 (DEB 962 2008-03-14)
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII


: that's probably because I move from lucene to solr.
: 
: We will need to filter them from the result manually then first.

Can you explain why? ... in particular, can you explain what types of 
queries you have that produce negative scores for matches, but where you 
don't want to see those matches in the results?

becuase frankly the fact that some HitCollectors use to ignore negative 
scores was generally considered a bug -- the fact that a score is negative 
doesn't change that it's a match.  if you're dealing with some type of 
Query object whose results you think should be filtered to exclude the 
negativescores, that makes me wonder if hte Query itself is implemented 
incorrectly.

(excluding negative scores is like excluding scores below "3.1415" -- it's 
an arbitrary cut off that's generally meaningless)


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46337-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 02 18:37:26 2010
Return-Path: <java-user-return-46337-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69245 invoked from network); 2 Jun 2010 18:37:26 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 2 Jun 2010 18:37:26 -0000
Received: (qmail 55828 invoked by uid 500); 2 Jun 2010 18:37:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55778 invoked by uid 500); 2 Jun 2010 18:37:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55770 invoked by uid 99); 2 Jun 2010 18:37:24 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Jun 2010 18:37:24 +0000
X-ASF-Spam-Status: No, hits=-0.4 required=10.0
	tests=AWL,FREEMAIL_FROM,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of yseeley@gmail.com designates 74.125.82.48 as permitted sender)
Received: from [74.125.82.48] (HELO mail-ww0-f48.google.com) (74.125.82.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Jun 2010 18:37:19 +0000
Received: by wwg30 with SMTP id 30so1988151wwg.35
        for <java-user@lucene.apache.org>; Wed, 02 Jun 2010 11:36:56 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:sender:reply-to:received
         :in-reply-to:references:date:x-google-sender-auth:message-id:subject
         :from:to:content-type;
        bh=65VOl1FrU6ctw60wMCsDFNzwPedYOfaX9iLENJjlyQQ=;
        b=uBIibW9xXXoe6DlPpjVcKc4FPK6YhFaf4nyHsX7ikb+MxXfbCPY5J/bIJgqNu9zL8F
         eChrOukGNb+UthIN5dfA17q8bDSwLJsT86WYK4hPzZE39BH3HxN9ZeyKou/I8aoXVp5M
         Ka4cPoDAx+A0S1e3A+oUGbd55W0UsnAllHTLw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:reply-to:in-reply-to:references:date
         :x-google-sender-auth:message-id:subject:from:to:content-type;
        b=Wc6e2xcC9UWOmaPeiCG2mSdVngPcmzaxi1oepzwB/FjVBajw1ZiUjUE2ZAi0NKlvjb
         O3GfyunJWspeKaSQfyX9Z6loLutzwDCb0AMhZYVlJhGg76M6nXk93qp1ooS7NZeZhRPL
         EaAN4oukk/MPELocLAfI2DFPGloWlRB5e5sCw=
MIME-Version: 1.0
Received: by 10.216.159.80 with SMTP id r58mr301246wek.48.1275503816138; Wed, 
	02 Jun 2010 11:36:56 -0700 (PDT)
Sender: yseeley@gmail.com
Reply-To: yonik@lucidimagination.com
Received: by 10.216.73.13 with HTTP; Wed, 2 Jun 2010 11:36:56 -0700 (PDT)
In-Reply-To: <1275498602.3278.11.camel@Nokia-N900-51-1>
References: <1275498602.3278.11.camel@Nokia-N900-51-1>
Date: Wed, 2 Jun 2010 14:36:56 -0400
X-Google-Sender-Auth: WkEvqKi46b3CEqzClADgsQ-v9Gs
Message-ID: <AANLkTilMkm37xYM6RkGYZ4gQ1NIfwaee8n4Ibtpgh3p0@mail.gmail.com>
Subject: Re: Docs with any score are collected in the Collector 
	implementations
From: Yonik Seeley <yonik@lucidimagination.com>
To: java-user@lucene.apache.org, jan.kurella@nokia.com
Content-Type: text/plain; charset=ISO-8859-1

On Wed, Jun 2, 2010 at 1:10 PM,  <jan.kurella@nokia.com> wrote:
> that's probably because I move from lucene to solr.
>
> We will need to filter them from the result manually then first.

Solr has a function range query that can filter out any values outside
of the given range.
http://www.lucidimagination.com/blog/2009/07/06/ranges-over-functions-in-solr-14/

And of course, a function query can consist of a normal relevancy
query... so here is a lucene query of "text:solr" with a lower bound
of 0 exclusive:

http://localhost:8983/solr/select?q={!frange l=0
incl=false}query($qq)&qq=text:solr

-Yonik
http://www.lucidimagination.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46338-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 03 00:54:56 2010
Return-Path: <java-user-return-46338-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35027 invoked from network); 3 Jun 2010 00:54:55 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 3 Jun 2010 00:54:55 -0000
Received: (qmail 91994 invoked by uid 500); 3 Jun 2010 00:54:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91962 invoked by uid 500); 3 Jun 2010 00:54:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91954 invoked by uid 99); 3 Jun 2010 00:54:53 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Jun 2010 00:54:53 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of fancyerii@gmail.com designates 74.125.83.176 as permitted sender)
Received: from [74.125.83.176] (HELO mail-pv0-f176.google.com) (74.125.83.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Jun 2010 00:54:46 +0000
Received: by pvc21 with SMTP id 21so1764617pvc.35
        for <java-user@lucene.apache.org>; Wed, 02 Jun 2010 17:54:25 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:date:message-id
         :subject:from:to:content-type;
        bh=DfMq8KHrWr5Xj5F6vnhnXTESMp7S9AALpA0tlnieuj8=;
        b=LcranDsaFNp8yzRU7URNaz4bM3cPPKlzwfw8KNm+5FFSItjYgdjAodA0iOjB3DwL47
         yzx/AT1qAcfWx434o1Vb3cs3FI6807jaZNPb2/jCj1Npw6hsWwajw1V7tgDjuUslMz/l
         hCDtRmK6SZJdhBeMtmnxoVuP54iLh8WGC8xqY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=Usf/qFvG4Dbcy7ab49nRlHKex6nBL2u9vm+0s1LGVEvVEN2OPESsIa0oOt9eK8YfMm
         Xd2ApHTZHCb1HoX6fH60ymr7iwDd+OJSz4p4yfz9Zmfpey5IGrksQjni/J/qHxdr0SjK
         ZAN719JZlcOklGVkPs8slhvD/npvREm4fyIdQ=
MIME-Version: 1.0
Received: by 10.143.26.20 with SMTP id d20mr5615016wfj.31.1275526464754; Wed, 
	02 Jun 2010 17:54:24 -0700 (PDT)
Received: by 10.142.191.18 with HTTP; Wed, 2 Jun 2010 17:54:24 -0700 (PDT)
Date: Thu, 3 Jun 2010 08:54:24 +0800
Message-ID: <AANLkTimarh7NUOKUDjdq2jMP9Lcpv1tRZMOtGrT9sCXk@mail.gmail.com>
Subject: is there any resources that explain detailed implementation of 
	lucene?
From: Li Li <fancyerii@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

such as the detailed process of store data structures, index, search
and sort. not just apis. thanks.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46339-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 03 01:22:26 2010
Return-Path: <java-user-return-46339-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43717 invoked from network); 3 Jun 2010 01:22:26 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 3 Jun 2010 01:22:26 -0000
Received: (qmail 8903 invoked by uid 500); 3 Jun 2010 01:22:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8868 invoked by uid 500); 3 Jun 2010 01:22:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8860 invoked by uid 99); 3 Jun 2010 01:22:24 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Jun 2010 01:22:24 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of erickerickson@gmail.com designates 209.85.211.200 as permitted sender)
Received: from [209.85.211.200] (HELO mail-yw0-f200.google.com) (209.85.211.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Jun 2010 01:22:16 +0000
Received: by ywh38 with SMTP id 38so5467278ywh.23
        for <java-user@lucene.apache.org>; Wed, 02 Jun 2010 18:21:55 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=zbeuK4yWhEnkZ46geW7Oa9NNCiJG5Cs1Fg72FYkrA80=;
        b=VPE49a44DLHOh9fNJUx5kM3L5MLH1nKxJOicADseH4ABvlB/0S6KTh0j5q8K4SMdjb
         syfe/wCzZ+Vafq7yBKY0TQeS3TdqZqZwGbp1TtgX7YFYSquGnsRMWVF8k/GS9YnrO2jv
         4npAy8gHDg9mkFdvYJOSVgrYYJgQI88E7hp0Q=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=cboftCoBUJbfS00XLdtaZnD7v4iFvXHWKMv1Dzqf0Y4+SBL6f7h0AuhmXLbZo4v6mv
         tHwuEno7uiXczgllwVEQSD3308IPBhsMrCFZu/OLxqFGFXm5XpDRYhmN99VxOvWT6Lkh
         CM0wgpFiRThuUTEyn8jQ/MLSzqz07fdCvtyq8=
MIME-Version: 1.0
Received: by 10.150.13.1 with SMTP id 1mr8905175ybm.433.1275528115531; Wed, 02 
	Jun 2010 18:21:55 -0700 (PDT)
Received: by 10.151.43.7 with HTTP; Wed, 2 Jun 2010 18:21:54 -0700 (PDT)
In-Reply-To: <AANLkTimarh7NUOKUDjdq2jMP9Lcpv1tRZMOtGrT9sCXk@mail.gmail.com>
References: <AANLkTimarh7NUOKUDjdq2jMP9Lcpv1tRZMOtGrT9sCXk@mail.gmail.com>
Date: Wed, 2 Jun 2010 21:21:54 -0400
Message-ID: <AANLkTinIDIZKWrHMJqj4IEpmE8kdXvHA4bXMVfSrgyiO@mail.gmail.com>
Subject: Re: is there any resources that explain detailed implementation of 
	lucene?
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=000e0cd762643a31bb0488160898
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd762643a31bb0488160898
Content-Type: text/plain; charset=ISO-8859-1

Why do you care (tm)? Or, put another way, are you asking just
for general understanding of how Lucene works or is there a
higher-level problem you're trying to solve?

Best
Erick

On Wed, Jun 2, 2010 at 8:54 PM, Li Li <fancyerii@gmail.com> wrote:

> such as the detailed process of store data structures, index, search
> and sort. not just apis. thanks.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--000e0cd762643a31bb0488160898--

From java-user-return-46340-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 03 03:28:12 2010
Return-Path: <java-user-return-46340-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73273 invoked from network); 3 Jun 2010 03:28:11 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 3 Jun 2010 03:28:11 -0000
Received: (qmail 9983 invoked by uid 500); 3 Jun 2010 03:28:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9845 invoked by uid 500); 3 Jun 2010 03:28:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9833 invoked by uid 99); 3 Jun 2010 03:28:05 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Jun 2010 03:28:05 +0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=FREEMAIL_FROM,SPF_HELO_PASS,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: 216.139.236.158 is neither permitted nor denied by domain of allassopraise@gmail.com)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Jun 2010 03:28:00 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <allassopraise@gmail.com>)
	id 1OK15n-0005Wa-OW
	for java-user@lucene.apache.org; Wed, 02 Jun 2010 20:27:39 -0700
Date: Wed, 2 Jun 2010 20:27:39 -0700 (PDT)
From: allasso <allassopraise@gmail.com>
To: java-user@lucene.apache.org
Message-ID: <1275535659753-866602.post@n3.nabble.com>
Subject: StandardAnalyzer specifications
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org


Hello,

I am sorry if this is posted somewhere else, but I think I sent it to
the wrong list and I am trying again.

Is there anywhere I can find specifications for StandardAnalyzer?

I am looking for specs that tell just how StandardAnalyzer tokenizes
search terms, and how it deals with special combination of characters,
eg:

alpo@dogfood.com becomes:

  alpo@dogfood.com

while

alpo1@dogfood.com becomes :

  alpo1
  dogfood.com

Brian's becomes Brian

etc.

Thanks,  Allasso Travesser
-- 
View this message in context: http://lucene.472066.n3.nabble.com/StandardAnalyzer-specifications-tp866602p866602.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46341-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 03 06:51:34 2010
Return-Path: <java-user-return-46341-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18955 invoked from network); 3 Jun 2010 06:51:34 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 3 Jun 2010 06:51:34 -0000
Received: (qmail 61247 invoked by uid 500); 3 Jun 2010 06:51:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61150 invoked by uid 500); 3 Jun 2010 06:51:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61142 invoked by uid 99); 3 Jun 2010 06:51:29 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Jun 2010 06:51:29 +0000
X-ASF-Spam-Status: No, hits=-0.2 required=10.0
	tests=AWL,FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of fancyerii@gmail.com designates 209.85.212.176 as permitted sender)
Received: from [209.85.212.176] (HELO mail-px0-f176.google.com) (209.85.212.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Jun 2010 06:51:22 +0000
Received: by pxi10 with SMTP id 10so4716925pxi.35
        for <java-user@lucene.apache.org>; Wed, 02 Jun 2010 23:51:02 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=ZyJOkctpOoPIdBYwWHz6Mjs1cfciNF3Lic0sAEIrWRk=;
        b=JUnSv6eXc6MoI8f+dUP7mO1S+SXcnirVDfKu8R/m5Vj7HnldrrS3oB47papP/B2Qks
         j43t45pQPM85eDP1pu9CllMnQuR+s1xGN0W0eBgy6i+N1Ba7FBlYPjlQhvc9uEeQG7k0
         PiQjwnJIjBzm7u0kwzCIAy9LIfmTfAeqR3HyU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=cxh3PZRMUc0Y12j/nQEgkarRCbDzDgfVjyFrc44RUUqQqkxcF6nyyhvMcGsD7IrAWN
         Xv6s+Cuug8+O58zmNKATgE76LyxkcmU4UGozldZxOxNkRwEbFqnnEUmyRrRYsBpG4wCi
         480CVbQosZU3NXQIN9SC5UzdShM/BYVBZnIHI=
MIME-Version: 1.0
Received: by 10.142.150.36 with SMTP id x36mr6097504wfd.33.1275547862319; Wed, 
	02 Jun 2010 23:51:02 -0700 (PDT)
Received: by 10.142.191.18 with HTTP; Wed, 2 Jun 2010 23:51:02 -0700 (PDT)
In-Reply-To: <AANLkTinIDIZKWrHMJqj4IEpmE8kdXvHA4bXMVfSrgyiO@mail.gmail.com>
References: <AANLkTimarh7NUOKUDjdq2jMP9Lcpv1tRZMOtGrT9sCXk@mail.gmail.com>
	<AANLkTinIDIZKWrHMJqj4IEpmE8kdXvHA4bXMVfSrgyiO@mail.gmail.com>
Date: Thu, 3 Jun 2010 14:51:02 +0800
Message-ID: <AANLkTikUkh_WBlip96C7_ZN0QKyVPY2AWq1ZepXGa0GZ@mail.gmail.com>
Subject: Re: is there any resources that explain detailed implementation of 
	lucene?
From: Li Li <fancyerii@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

e.g. I want to know the code under phrase query so that I can make
some extenstion.

2010/6/3 Erick Erickson <erickerickson@gmail.com>:
> Why do you care (tm)? Or, put another way, are you asking just
> for general understanding of how Lucene works or is there a
> higher-level problem you're trying to solve?
>
> Best
> Erick
>
> On Wed, Jun 2, 2010 at 8:54 PM, Li Li <fancyerii@gmail.com> wrote:
>
>> such as the detailed process of store data structures, index, search
>> and sort. not just apis. thanks.
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46342-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 03 10:52:36 2010
Return-Path: <java-user-return-46342-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80254 invoked from network); 3 Jun 2010 10:52:36 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 3 Jun 2010 10:52:36 -0000
Received: (qmail 73925 invoked by uid 500); 3 Jun 2010 10:52:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73703 invoked by uid 500); 3 Jun 2010 10:52:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73695 invoked by uid 99); 3 Jun 2010 10:52:30 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Jun 2010 10:52:30 +0000
X-ASF-Spam-Status: No, hits=-0.2 required=10.0
	tests=AWL,FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of fancyerii@gmail.com designates 209.85.212.48 as permitted sender)
Received: from [209.85.212.48] (HELO mail-vw0-f48.google.com) (209.85.212.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Jun 2010 10:52:25 +0000
Received: by vws1 with SMTP id 1so4256392vws.35
        for <java-user@lucene.apache.org>; Thu, 03 Jun 2010 03:52:04 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=RcbXO0EB4TMVL31smx0hO2HRsN9ILD8kXenwuPX9CiU=;
        b=PkQOLU7qwl1GqX1J29gu9Av4qyZgGGvOJ6zE4n6mny40KBrhTZEklPW3ajXfQeODSL
         jODKtIjQ9J9fFDUPWI/six4EFNGHMuYggFk3OtWbOcJZeZVZG2nTCiEUhsIX+DulXWjz
         hC4qCrnsFFUDmf2/on0FRHgHqrA0GOqsLh4AY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=UFo22/AiRuL9KBNxPZa237OZUwz+zqLwh/lV4hzqB+OKcfqIig9PlqIZSgp7iUms8Y
         I6ncy4o47kCWgwJoVb8WfvtEGwjW2+qbrHEtYA6R5SBWFS9b6H73H3IM+cy69/IPgMkE
         OtfY0v9PWQHG+kqFHTz5u6pBsqd9lqq92FEr4=
MIME-Version: 1.0
Received: by 10.224.59.133 with SMTP id l5mr4380049qah.51.1275562320753; Thu, 
	03 Jun 2010 03:52:00 -0700 (PDT)
Received: by 10.220.87.4 with HTTP; Thu, 3 Jun 2010 03:52:00 -0700 (PDT)
In-Reply-To: <07863F07DF624290B18BC2A543858D44@hp6690ej01>
References: <AANLkTikakMfNQPdSeLVRHSkYF-66v5rwg8PXHIR_-4Wf@mail.gmail.com>
	<07863F07DF624290B18BC2A543858D44@hp6690ej01>
Date: Thu, 3 Jun 2010 18:52:00 +0800
Message-ID: <AANLkTikG47QIBprmwDhS31HmfVre0tWJ2zz5jh_FHPg8@mail.gmail.com>
Subject: Re: What's DisjunctionMaxQuery ?
From: Li Li <fancyerii@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

Thank you. But I want some more detailed information that how it's
implmented such as what's the meaning of parameter
tieBreakerMultiplier

2010/6/1 Itamar Syn-Hershko <itamar@code972.com>:
> See slide 18 in
> http://www.cnlp.org/presentations/slides/advancedluceneeu.pdf, and
> http://lucene.apache.org/java/2_0_0/api/org/apache/lucene/search/Disjunction
> MaxQuery.html.
>
> Itamar.
>
> -----Original Message-----
> From: Li Li [mailto:fancyerii@gmail.com]
> Sent: Tuesday, June 01, 2010 11:42 AM
> To: java-user@lucene.apache.org
> Subject: What's DisjunctionMaxQuery ?
>
> anyone could show me some detail information about it ? thanks
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46343-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 03 14:14:24 2010
Return-Path: <java-user-return-46343-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65106 invoked from network); 3 Jun 2010 14:14:24 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 3 Jun 2010 14:14:24 -0000
Received: (qmail 44508 invoked by uid 500); 3 Jun 2010 14:14:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44321 invoked by uid 500); 3 Jun 2010 14:14:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44313 invoked by uid 99); 3 Jun 2010 14:14:21 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Jun 2010 14:14:21 +0000
X-ASF-Spam-Status: No, hits=-0.1 required=10.0
	tests=AWL,FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [206.190.49.14] (HELO web52904.mail.re2.yahoo.com) (206.190.49.14)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 03 Jun 2010 14:14:13 +0000
Received: (qmail 39341 invoked by uid 60001); 3 Jun 2010 14:13:52 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1275574432; bh=0hpKFhtWPvSHhkVTET1Fe++MCWZKZ6Wq9bKfxXqbtGg=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=lXJZbmtzUejFTtG37HmWmv+YMoOdCnPXJQ4SonAGJOZuSRKsJ0wraMfSX1XD/tJ34ppJ/lNJ7gCG5k/r8Qcr9wKRLj3jy5+JTksRICtKNgpbMNK+t7KO5CsxkldwXz6y0gNeXeJpyjjaYuWz+l8Clr7HM17RiVKp38EfhwQvyj0=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=Zj1+lTuupnUJBXRbpBgbhxZ0E5xDgDk5TyhC6TfgKTOwoVh3XQFo5wn7EggWKiS46TxXDJmjHWWeSb5YVQjMGDar38yOmpcI303Fg4g0OZTtlyd3GfwuwPpI7SyDyAJNduOA8xfchzn/mgdZAPpWKX6nAqcqVUqu039M01mv+Xs=;
Message-ID: <182725.38430.qm@web52904.mail.re2.yahoo.com>
X-YMail-OSG: EiJv3MwVM1mJUbz_JTR6Nk4Swfzr_ea9VlbiKte4rH8mXAm
 4bFsR4S.2S0Q2qrVc7KXO1CQahsFW.xBo0zobOACkgmzutctAmxwkAYn3UW7
 XZ8HjHWB3lVwaj0VV9TCqTcYZwawE777oqaeFzwtLFIFLpbzRq91EwWcSrO8
 9.1iSrVMTe2VMXLdU8mBESjVcDrG4C2Ft0QOBvcJs8UppXy_LEhXOSVfpzTM
 e2d8_NXlmqv5r9N_hVysMYVUWCBMPwZAqQdgNSugHt5dc91d0zP1EfdWyVXA
 STMRQMjj1889GXHNgr64XRGL1MQ--
Received: from [193.140.184.100] by web52904.mail.re2.yahoo.com via HTTP; Thu, 03 Jun 2010 07:13:52 PDT
X-Mailer: YahooMailClassic/11.0.8 YahooMailWebService/0.8.103.269680
Date: Thu, 3 Jun 2010 07:13:52 -0700 (PDT)
From: Ahmet Arslan <iorixxx@yahoo.com>
Subject: Re: StandardAnalyzer specifications
To: java-user@lucene.apache.org
In-Reply-To: <1275535659753-866602.post@n3.nabble.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

> I am sorry if this is posted somewhere else, but I think I
> sent it to
> the wrong list and I am trying again.
> 
> Is there anywhere I can find specifications for
> StandardAnalyzer?
> 
> I am looking for specs that tell just how StandardAnalyzer
> tokenizes
> search terms, and how it deals with special combination of
> characters,

You can look at StandardTokenizerImpl.jflex file. Also Lucene has WikipediaTokenizerImpl.jflex if you are interested.


      

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46344-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 03 15:20:15 2010
Return-Path: <java-user-return-46344-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88793 invoked from network); 3 Jun 2010 15:20:14 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 3 Jun 2010 15:20:14 -0000
Received: (qmail 37751 invoked by uid 500); 3 Jun 2010 15:20:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37623 invoked by uid 500); 3 Jun 2010 15:20:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37615 invoked by uid 99); 3 Jun 2010 15:20:12 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Jun 2010 15:20:12 +0000
X-ASF-Spam-Status: No, hits=4.5 required=10.0
	tests=AWL,FREEMAIL_FROM,HTML_MESSAGE,SPF_HELO_PASS,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 216.139.236.158 is neither permitted nor denied by domain of allassopraise@gmail.com)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Jun 2010 15:20:07 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <allassopraise@gmail.com>)
	id 1OKCCx-0004sS-Bk
	for java-user@lucene.apache.org; Thu, 03 Jun 2010 08:19:47 -0700
Date: Thu, 3 Jun 2010 08:19:47 -0700 (PDT)
From: allasso <allassopraise@gmail.com>
To: java-user@lucene.apache.org
Message-ID: <AANLkTim8NB71rpjfIYIczAh90zBklCCvTQiUTLiVwvlE@mail.gmail.com>
In-Reply-To: <182725.38430.qm@web52904.mail.re2.yahoo.com>
References: <1275535659753-866602.post@n3.nabble.com> <182725.38430.qm@web52904.mail.re2.yahoo.com>
Subject: Re: StandardAnalyzer specifications
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_96290_24461420.1275578387358"

------=_Part_96290_24461420.1275578387358
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit


On 6/3/10, iorixxx [via Lucene]
<ml-node+867728-233186033-275204@n3.nabble.com> wrote:
>
>
>
>> I am sorry if this is posted somewhere else, but I think I
>> sent it to
>> the wrong list and I am trying again.
>>
>> Is there anywhere I can find specifications for
>> StandardAnalyzer?
>>
>> I am looking for specs that tell just how StandardAnalyzer
>> tokenizes
>> search terms, and how it deals with special combination of
>> characters,
>
> You can look at StandardTokenizerImpl.jflex file. Also Lucene has
> WikipediaTokenizerImpl.jflex if you are interested.
>
>
Thanks so much, just what I was looking for.

A search for StandardTokenizerImpl.jflex brought up this post as well:
http://www.gossamer-threads.com/lists/lucene/java-user/80846#80846
which was very helpful.

Allasso
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
> ______________________________________
> View message @
> http://lucene.472066.n3.nabble.com/StandardAnalyzer-specifications-tp866602p867728.html
>
> To unsubscribe from StandardAnalyzer specifications, click
>  (link removed) ==
>

-- 
View this message in context: http://lucene.472066.n3.nabble.com/StandardAnalyzer-specifications-tp866602p867866.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

------=_Part_96290_24461420.1275578387358--

From java-user-return-46345-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 03 15:45:37 2010
Return-Path: <java-user-return-46345-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94386 invoked from network); 3 Jun 2010 15:45:36 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 3 Jun 2010 15:45:36 -0000
Received: (qmail 72209 invoked by uid 500); 3 Jun 2010 15:45:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72158 invoked by uid 500); 3 Jun 2010 15:45:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72150 invoked by uid 99); 3 Jun 2010 15:45:34 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Jun 2010 15:45:34 +0000
X-ASF-Spam-Status: No, hits=4.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,SPF_HELO_PASS,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: 216.139.236.158 is neither permitted nor denied by domain of allassopraise@gmail.com)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Jun 2010 15:45:28 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <allassopraise@gmail.com>)
	id 1OKCbT-0007FF-Fy
	for java-user@lucene.apache.org; Thu, 03 Jun 2010 08:45:07 -0700
Date: Thu, 3 Jun 2010 08:45:07 -0700 (PDT)
From: allasso <allassopraise@gmail.com>
To: java-user@lucene.apache.org
Message-ID: <AANLkTilTzPIKedwxiZqpk2es6SOdacyvWhYZM70-M4qA@mail.gmail.com>
In-Reply-To: <182725.38430.qm@web52904.mail.re2.yahoo.com>
References: <1275535659753-866602.post@n3.nabble.com> <182725.38430.qm@web52904.mail.re2.yahoo.com>
Subject: Re: StandardAnalyzer specifications
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_96500_14211634.1275579907488"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_96500_14211634.1275579907488
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit


On 6/3/10, Allasso Travesser <allassopraise@gmail.com> wrote:
> On 6/3/10, iorixxx [via Lucene]
> <ml-node+867728-233186033-275204@n3.nabble.com> wrote:
>>
>>
>>
>>> I am sorry if this is posted somewhere else, but I think I
>>> sent it to
>>> the wrong list and I am trying again.
>>>
>>> Is there anywhere I can find specifications for
>>> StandardAnalyzer?
>>>
>>> I am looking for specs that tell just how StandardAnalyzer
>>> tokenizes
>>> search terms, and how it deals with special combination of
>>> characters,
>>
>> You can look at StandardTokenizerImpl.jflex file. Also Lucene has
>> WikipediaTokenizerImpl.jflex if you are interested.
>>
>>
> Thanks so much, just what I was looking for.
>
> A search for StandardTokenizerImpl.jflex brought up this post as well:
> http://www.gossamer-threads.com/lists/lucene/java-user/80846#80846
> which was very helpful.
>
> Allasso

Do you know what the difference between HAS_DIGIT and ALPHANUM is?
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>
>> ______________________________________
>> View message @
>> http://lucene.472066.n3.nabble.com/StandardAnalyzer-specifications-tp866602p867728.html
>>
>> To unsubscribe from StandardAnalyzer specifications, click
>>  (link removed) ==
>>
>

-- 
View this message in context: http://lucene.472066.n3.nabble.com/StandardAnalyzer-specifications-tp866602p867926.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

------=_Part_96500_14211634.1275579907488--

From java-user-return-46346-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 03 16:35:46 2010
Return-Path: <java-user-return-46346-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11883 invoked from network); 3 Jun 2010 16:35:46 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 3 Jun 2010 16:35:46 -0000
Received: (qmail 46951 invoked by uid 500); 3 Jun 2010 16:35:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46920 invoked by uid 500); 3 Jun 2010 16:35:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46912 invoked by uid 99); 3 Jun 2010 16:35:44 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Jun 2010 16:35:44 +0000
X-ASF-Spam-Status: No, hits=4.3 required=10.0
	tests=AWL,FREEMAIL_FROM,HTML_MESSAGE,SPF_HELO_PASS,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 216.139.236.158 is neither permitted nor denied by domain of allassopraise@gmail.com)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Jun 2010 16:35:39 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <allassopraise@gmail.com>)
	id 1OKDO2-0003Uj-Vr
	for java-user@lucene.apache.org; Thu, 03 Jun 2010 09:35:18 -0700
Date: Thu, 3 Jun 2010 09:35:18 -0700 (PDT)
From: allasso <allassopraise@gmail.com>
To: java-user@lucene.apache.org
Message-ID: <AANLkTillyECz3emyt1lUmt_Nt0rlXB9DdfgO2S-74NKU@mail.gmail.com>
In-Reply-To: <182725.38430.qm@web52904.mail.re2.yahoo.com>
References: <1275535659753-866602.post@n3.nabble.com> <182725.38430.qm@web52904.mail.re2.yahoo.com>
Subject: Re: StandardAnalyzer specifications
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_96948_14060394.1275582918980"

------=_Part_96948_14060394.1275582918980
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit


On 6/3/10, Allasso Travesser <allassopraise@gmail.com> wrote:
> On 6/3/10, Allasso Travesser <allassopraise@gmail.com> wrote:
>> On 6/3/10, iorixxx [via Lucene]
>> <ml-node+867728-233186033-275204@n3.nabble.com> wrote:
>>>
>>>
>>>
>>>> I am sorry if this is posted somewhere else, but I think I
>>>> sent it to
>>>> the wrong list and I am trying again.
>>>>
>>>> Is there anywhere I can find specifications for
>>>> StandardAnalyzer?
>>>>
>>>> I am looking for specs that tell just how StandardAnalyzer
>>>> tokenizes
>>>> search terms, and how it deals with special combination of
>>>> characters,
>>>
>>> You can look at StandardTokenizerImpl.jflex file. Also Lucene has
>>> WikipediaTokenizerImpl.jflex if you are interested.
>>>
>>>
>> Thanks so much, just what I was looking for.
>>
>> A search for StandardTokenizerImpl.jflex brought up this post as well:
>> http://www.gossamer-threads.com/lists/lucene/java-user/80846#80846
>> which was very helpful.
>>
>> Allasso
>
> Do you know what the difference between HAS_DIGIT and ALPHANUM is?

duh, never mind....
>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>>
>>> ______________________________________
>>> View message @
>>> http://lucene.472066.n3.nabble.com/StandardAnalyzer-specifications-tp866602p867728.html
>>>
>>> To unsubscribe from StandardAnalyzer specifications, click
>>>  (link removed) ==
>>>
>>
>

-- 
View this message in context: http://lucene.472066.n3.nabble.com/StandardAnalyzer-specifications-tp866602p868068.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

------=_Part_96948_14060394.1275582918980--

From java-user-return-46347-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 03 17:53:46 2010
Return-Path: <java-user-return-46347-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41073 invoked from network); 3 Jun 2010 17:53:46 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 3 Jun 2010 17:53:46 -0000
Received: (qmail 75855 invoked by uid 500); 3 Jun 2010 17:53:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75824 invoked by uid 500); 3 Jun 2010 17:53:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75816 invoked by uid 99); 3 Jun 2010 17:53:43 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Jun 2010 17:53:43 +0000
X-ASF-Spam-Status: No, hits=-0.1 required=10.0
	tests=AWL,FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [206.190.38.57] (HELO web50303.mail.re2.yahoo.com) (206.190.38.57)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 03 Jun 2010 17:53:38 +0000
Received: (qmail 35722 invoked by uid 60001); 3 Jun 2010 17:53:16 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1275587596; bh=xnRhELzknhfDxBpNJnUy201C91c+6tiH5KcKZjkivrE=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=3Zay0jWKPhHKdGlDvkToLWtwFc0gjO6Lk50npVcfBfXssImxSolvnvSr7p9IVEl10wiJTHVhZ2FCSi9esHyrRHTag0o3X8cu2WQrKNqXbAOkX1fkMHSsapiR8CkGLVqDIWwwweQ2o2cACRinrxRA4PuZIrfLR1EyQLXo7jGSoq4=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=rtTQIdFQPxv+K1UWIxKJ0o7ntKNTS7fkin13q/d8aBC/ELFqdSTWeTsDxlexEk6KJBMSixbcTsN3oF3Y7PTLbzGv54hSIozOFK7SoDTFQT0zjPVqlC0GCbOCxtvhDTZZMFEjEMv7Gdea2GiEMZVyEb54WJH6gNojY2W2RAlD1jY=;
Message-ID: <356839.33886.qm@web50303.mail.re2.yahoo.com>
X-YMail-OSG: MJdGohsVM1liGvWovcH7_t4oBVYSLlSWNoT8sehaYjz2vZt
 YhMC8ov9VhBglcyZ3.KsqFGpNzquTLGkhMHUn8YAVQ98ATTcdoZ3YjpizG.V
 j7g4dOI3TzeBcbgNZL8g21IWRxexk9bJkzd3ZrS3dOuqUYYV7HujjGANnClK
 SbS7wjGHGK5902YULvVH79xbM0bRSQX7k3xLfazUuQ2RrdAbG8wvX_TzglEA
 PCxmh6bP5zw4g5Mb5PBDWo.TBS68q2Q9KjuMYpoLmD2l7.2kjl_89B8HxViS
 81JrN_G0eGUWgSEALrGknnsOz9INBSO3a3iAxNaWUeartWflRrxrvx2rLzwe
 iPA--
Received: from [184.75.0.186] by web50303.mail.re2.yahoo.com via HTTP; Thu, 03 Jun 2010 10:53:16 PDT
X-Mailer: YahooMailRC/374.4 YahooMailWebService/0.8.103.269680
References: <AANLkTimarh7NUOKUDjdq2jMP9Lcpv1tRZMOtGrT9sCXk@mail.gmail.com> <AANLkTinIDIZKWrHMJqj4IEpmE8kdXvHA4bXMVfSrgyiO@mail.gmail.com> <AANLkTikUkh_WBlip96C7_ZN0QKyVPY2AWq1ZepXGa0GZ@mail.gmail.com>
Date: Thu, 3 Jun 2010 10:53:16 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: is there any resources that explain detailed implementation of  lucene?
To: java-user@lucene.apache.org
In-Reply-To: <AANLkTikUkh_WBlip96C7_ZN0QKyVPY2AWq1ZepXGa0GZ@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

Li Li:

Then best to go to the source.
Here's one version with syntax highlighting and line numbers, should you have questions about specific parts of that class:

http://search-lucene.com/c/Lucene:/src/java/org/apache/lucene/search/PhraseQuery.java

 Otis
----
Sematext :: http://sematext.com/ :: Solr - Lucene - Nutch
Lucene ecosystem search :: http://search-lucene.com/



----- Original Message ----
> From: Li Li <fancyerii@gmail.com>
> To: java-user@lucene.apache.org
> Sent: Thu, June 3, 2010 2:51:02 AM
> Subject: Re: is there any resources that explain detailed implementation of  lucene?
> 
> e.g. I want to know the code under phrase query so that I can make
some 
> extenstion.

2010/6/3 Erick Erickson <
> ymailto="mailto:erickerickson@gmail.com" 
> href="mailto:erickerickson@gmail.com">erickerickson@gmail.com>:
> 
> Why do you care (tm)? Or, put another way, are you asking just
> for 
> general understanding of how Lucene works or is there a
> higher-level 
> problem you're trying to solve?
>
> Best
> 
> Erick
>
> On Wed, Jun 2, 2010 at 8:54 PM, Li Li <
> ymailto="mailto:fancyerii@gmail.com" 
> href="mailto:fancyerii@gmail.com">fancyerii@gmail.com> 
> wrote:
>
>> such as the detailed process of store data 
> structures, index, search
>> and sort. not just apis. 
> thanks.
>>
>> 
> ---------------------------------------------------------------------
>> 
> To unsubscribe, e-mail: 
> ymailto="mailto:java-user-unsubscribe@lucene.apache.org" 
> href="mailto:java-user-unsubscribe@lucene.apache.org">java-user-unsubscribe@lucene.apache.org
>> 
> For additional commands, e-mail: 
> ymailto="mailto:java-user-help@lucene.apache.org" 
> href="mailto:java-user-help@lucene.apache.org">java-user-help@lucene.apache.org
>>
>>
>

---------------------------------------------------------------------
To 
> unsubscribe, e-mail: 
> href="mailto:java-user-unsubscribe@lucene.apache.org">java-user-unsubscribe@lucene.apache.org
For 
> additional commands, e-mail: 
> ymailto="mailto:java-user-help@lucene.apache.org" 
> href="mailto:java-user-help@lucene.apache.org">java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46348-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 03 18:13:52 2010
Return-Path: <java-user-return-46348-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51384 invoked from network); 3 Jun 2010 18:13:52 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 3 Jun 2010 18:13:52 -0000
Received: (qmail 21066 invoked by uid 500); 3 Jun 2010 18:13:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21035 invoked by uid 500); 3 Jun 2010 18:13:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21027 invoked by uid 99); 3 Jun 2010 18:13:49 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Jun 2010 18:13:49 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=AWL,FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jason.rutherglen@gmail.com designates 209.85.211.200 as permitted sender)
Received: from [209.85.211.200] (HELO mail-yw0-f200.google.com) (209.85.211.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Jun 2010 18:13:43 +0000
Received: by ywh38 with SMTP id 38so395633ywh.23
        for <java-user@lucene.apache.org>; Thu, 03 Jun 2010 11:13:22 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:date:message-id
         :subject:from:to:content-type;
        bh=TFKrrGAiK/yEnSEHREvvF+Y9P6JdNqS6TKufqdv0uVI=;
        b=r5WwGT9XvaqPm9LZkP/Klj5ib7RBUzDE5v9KNKF4FlUCjuRlwECPRBX5h4M6PjD/kS
         howK78fXqtzej1U0SQMkh2y1IYRWRQsONIrlDYRj399/rWSF6ZMw1c9sWRWeqdDAerqg
         kS9hR6YuN6CumHVzHnlI9QrD0oZxRL2IMI6Qc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=B8TL/M3t9FpkjSlczjtN0AOGb+Wz98j8PRA+qwNuhA5YriCaaM125daGRC78VnYX8v
         S/FNv4jZn1AbuG8mlzXlwuzhqYCpt1qVr6xaADDd8vAWUWV67+8+5k3szHjBrYdA02wZ
         Lud32ad5QnGUcD/zRcWW7pGzgsfWqcthxXcTA=
MIME-Version: 1.0
Received: by 10.224.97.144 with SMTP id l16mr4785511qan.97.1275588797480; Thu, 
	03 Jun 2010 11:13:17 -0700 (PDT)
Received: by 10.229.184.193 with HTTP; Thu, 3 Jun 2010 11:13:17 -0700 (PDT)
Date: Thu, 3 Jun 2010 11:13:17 -0700
Message-ID: <AANLkTimWaKlXFNB5sQwJ7JKGaZnk7vO1f2u_fvAQOkBH@mail.gmail.com>
Subject: Monitoring low level IO
From: Jason Rutherglen <jason.rutherglen@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

This is more of a unix related question than Lucene specific
however because Lucene is being used, I'm asking here as perhaps
other people have run into a similar issue.

On an Amazon EC2 merge, read, and write operations are possibly
blocking due to underlying IO. Is there a tool that you have
used to monitor this type of thing?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46349-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 03 19:51:15 2010
Return-Path: <java-user-return-46349-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90999 invoked from network); 3 Jun 2010 19:51:15 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 3 Jun 2010 19:51:15 -0000
Received: (qmail 58990 invoked by uid 500); 3 Jun 2010 19:51:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58949 invoked by uid 500); 3 Jun 2010 19:51:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58936 invoked by uid 99); 3 Jun 2010 19:51:12 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Jun 2010 19:51:12 +0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=AWL,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [198.147.195.5] (HELO flicker.bmc.com) (198.147.195.5)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 03 Jun 2010 19:51:06 +0000
Received: by flicker.bmc.com (Postfix, from userid 13749)
	id 1D25E1E681D; Thu,  3 Jun 2010 12:50:45 -0700 (MST)
Received: from PHX-HTPRD-02.adprod.bmc.com (phx-htprd-02.adprod.bmc.com [172.24.32.8])
	by flicker.bmc.com (Postfix) with ESMTP id 085041E6420
	for <java-user@lucene.apache.org>; Thu,  3 Jun 2010 12:50:45 -0700 (MST)
Received: from PHXCCRPRD02.adprod.bmc.com ([172.24.32.181]) by
 PHX-HTPRD-02.adprod.bmc.com ([172.24.32.8]) with mapi; Thu, 3 Jun 2010
 14:50:45 -0500
From: "Woolf, Ross" <Ross_Woolf@BMC.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Thu, 3 Jun 2010 14:50:21 -0500
Subject: numDeletedDocs()
Thread-Topic: numDeletedDocs()
Thread-Index: AcsDSIXcwcnPDxKgTNqvNANNddPP4AABofgg
Message-ID: <492379B6AA909E4FAF672AACCA0EADC25CC1F3AF30@PHXCCRPRD02.adprod.bmc.com>
References: <AANLkTimWaKlXFNB5sQwJ7JKGaZnk7vO1f2u_fvAQOkBH@mail.gmail.com>
In-Reply-To: <AANLkTimWaKlXFNB5sQwJ7JKGaZnk7vO1f2u_fvAQOkBH@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-cr-hashedpuzzle: A+pp BktO B47Q Ck5L C1Fs D2bY EUsy Ebgl HEaH IDK+ IX8Q
 Im0k JQ83 JRGv JWxM
 JcvK;1;agBhAHYAYQAtAHUAcwBlAHIAQABsAHUAYwBlAG4AZQAuAGEAcABhAGMAaABlAC4AbwByAGcA;Sosha1_v1;7;{E4CD7616-754B-4204-9A94-A33FA51E5A87};cgBvAHMAcwBfAHcAbwBvAGwAZgBAAGIAbQBjAC4AYwBvAG0A;Thu,
 03 Jun 2010 19:50:22 GMT;bgB1AG0ARABlAGwAZQB0AGUAZABEAG8AYwBzACgAKQA=
x-cr-puzzleid: {E4CD7616-754B-4204-9A94-A33FA51E5A87}
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

There seems to be a mismatch between the IndexWriter().numDeletedDocs() met=
hod as stated in the javadocs supplied in the 2.9.2 download and what is ac=
tual. =20

JavaDocs for 2.9.2 as came with the 2.9.2 download

numDeletedDocs
public int numDeletedDocs()Returns the number of deleted documents.  (No pa=
rameter required)

----------------------
Source code for 2.9.2
  public int numDeletedDocs(SegmentInfo info) throws IOException {  (Parame=
ter required)


Why is there no longer a no parameter numDeleteDocs as stated in the JavaDo=
cs?  I'm not sure how I use the "experimental" SegmentInfo just to get the =
delete count in my index?  Any help appreciated.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46350-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 03 19:52:45 2010
Return-Path: <java-user-return-46350-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91185 invoked from network); 3 Jun 2010 19:52:45 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 3 Jun 2010 19:52:45 -0000
Received: (qmail 63960 invoked by uid 500); 3 Jun 2010 19:52:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63907 invoked by uid 500); 3 Jun 2010 19:52:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63899 invoked by uid 99); 3 Jun 2010 19:52:43 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Jun 2010 19:52:43 +0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=FREEMAIL_FROM,SPF_HELO_PASS,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: 216.139.236.158 is neither permitted nor denied by domain of allassopraise@gmail.com)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Jun 2010 19:52:36 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <allassopraise@gmail.com>)
	id 1OKGSd-0004Mw-Nh
	for java-user@lucene.apache.org; Thu, 03 Jun 2010 12:52:15 -0700
Date: Thu, 3 Jun 2010 12:52:15 -0700 (PDT)
From: allasso <allassopraise@gmail.com>
To: java-user@lucene.apache.org
Message-ID: <1275594735727-868546.post@n3.nabble.com>
Subject: recommendation for deprecated StandardTokenizer.next() method?
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org


Hello,

Does anyone have a recommendation for implementing the function previously
done by the deprecated StandardTokenizer.next() method?

and/or, can anyone point me to where I might find the reason it was
deprecated?

Thanks, Allasso
-- 
View this message in context: http://lucene.472066.n3.nabble.com/recommendation-for-deprecated-StandardTokenizer-next-method-tp868546p868546.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46351-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 03 20:02:39 2010
Return-Path: <java-user-return-46351-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93306 invoked from network); 3 Jun 2010 20:02:39 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 3 Jun 2010 20:02:39 -0000
Received: (qmail 74417 invoked by uid 500); 3 Jun 2010 20:02:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74285 invoked by uid 500); 3 Jun 2010 20:02:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74277 invoked by uid 99); 3 Jun 2010 20:02:36 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Jun 2010 20:02:36 +0000
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=AWL,RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [74.125.83.48] (HELO mail-gw0-f48.google.com) (74.125.83.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Jun 2010 20:02:31 +0000
Received: by gwb17 with SMTP id 17so535182gwb.35
        for <java-user@lucene.apache.org>; Thu, 03 Jun 2010 13:02:10 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.150.168.18 with SMTP id q18mr9099454ybe.326.1275595329665; 
	Thu, 03 Jun 2010 13:02:09 -0700 (PDT)
Received: by 10.151.11.20 with HTTP; Thu, 3 Jun 2010 13:02:09 -0700 (PDT)
In-Reply-To: <492379B6AA909E4FAF672AACCA0EADC25CC1F3AF30@PHXCCRPRD02.adprod.bmc.com>
References: <AANLkTimWaKlXFNB5sQwJ7JKGaZnk7vO1f2u_fvAQOkBH@mail.gmail.com>
	<492379B6AA909E4FAF672AACCA0EADC25CC1F3AF30@PHXCCRPRD02.adprod.bmc.com>
Date: Thu, 3 Jun 2010 16:02:09 -0400
Message-ID: <AANLkTinaw-8PRIzFwM8DOD0JX0vD6JZu1j3JZ6RSDY9O@mail.gmail.com>
Subject: Re: numDeletedDocs()
From: Michael McCandless <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Hmm... I don't think IndexWriter has ever had a numDeletedDocs() (w/ no par=
ams)?

(IndexReader does).

Mike

On Thu, Jun 3, 2010 at 3:50 PM, Woolf, Ross <Ross_Woolf@bmc.com> wrote:
> There seems to be a mismatch between the IndexWriter().numDeletedDocs() m=
ethod as stated in the javadocs supplied in the 2.9.2 download and what is =
actual.
>
> JavaDocs for 2.9.2 as came with the 2.9.2 download
>
> numDeletedDocs
> public int numDeletedDocs()Returns the number of deleted documents. =A0(N=
o parameter required)
>
> ----------------------
> Source code for 2.9.2
> =A0public int numDeletedDocs(SegmentInfo info) throws IOException { =A0(P=
arameter required)
>
>
> Why is there no longer a no parameter numDeleteDocs as stated in the Java=
Docs? =A0I'm not sure how I use the "experimental" SegmentInfo just to get =
the delete count in my index? =A0Any help appreciated.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46352-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 03 20:34:05 2010
Return-Path: <java-user-return-46352-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5681 invoked from network); 3 Jun 2010 20:34:04 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 3 Jun 2010 20:34:04 -0000
Received: (qmail 10768 invoked by uid 500); 3 Jun 2010 20:34:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10717 invoked by uid 500); 3 Jun 2010 20:34:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10709 invoked by uid 99); 3 Jun 2010 20:34:02 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Jun 2010 20:34:02 +0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=AWL,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [198.147.195.5] (HELO flicker.bmc.com) (198.147.195.5)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 03 Jun 2010 20:33:57 +0000
Received: by flicker.bmc.com (Postfix, from userid 13749)
	id F12AB1E670E; Thu,  3 Jun 2010 13:33:37 -0700 (MST)
Received: from PHX-HTPRD-02.adprod.bmc.com (phx-htprd-02.adprod.bmc.com [172.24.32.8])
	by flicker.bmc.com (Postfix) with ESMTP id 6BD971E67D1
	for <java-user@lucene.apache.org>; Thu,  3 Jun 2010 13:33:37 -0700 (MST)
Received: from PHXCCRPRD02.adprod.bmc.com ([172.24.32.181]) by
 PHX-HTPRD-02.adprod.bmc.com ([172.24.32.8]) with mapi; Thu, 3 Jun 2010
 15:33:37 -0500
From: "Woolf, Ross" <Ross_Woolf@BMC.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Thu, 3 Jun 2010 15:33:35 -0500
Subject: RE: numDeletedDocs()
Thread-Topic: numDeletedDocs()
Thread-Index: AcsDV7hJZSUnojJpTpKznk+Icv50KAABB/ww
Message-ID: <492379B6AA909E4FAF672AACCA0EADC25CC1F3B052@PHXCCRPRD02.adprod.bmc.com>
References: <AANLkTimWaKlXFNB5sQwJ7JKGaZnk7vO1f2u_fvAQOkBH@mail.gmail.com>
	<492379B6AA909E4FAF672AACCA0EADC25CC1F3AF30@PHXCCRPRD02.adprod.bmc.com>
 <AANLkTinaw-8PRIzFwM8DOD0JX0vD6JZu1j3JZ6RSDY9O@mail.gmail.com>
In-Reply-To: <AANLkTinaw-8PRIzFwM8DOD0JX0vD6JZu1j3JZ6RSDY9O@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

Oh, my mistake, thanks.  I clicked on a link and I thought it took me to th=
e indexWriter in javadocs.  Once I retraced my steps it took me to the inde=
xReader.  This solves my problem :).

-----Original Message-----
From: Michael McCandless [mailto:lucene@mikemccandless.com]=20
Sent: Thursday, June 03, 2010 2:02 PM
To: java-user@lucene.apache.org
Subject: Re: numDeletedDocs()

Hmm... I don't think IndexWriter has ever had a numDeletedDocs() (w/ no par=
ams)?

(IndexReader does).

Mike

On Thu, Jun 3, 2010 at 3:50 PM, Woolf, Ross <Ross_Woolf@bmc.com> wrote:
> There seems to be a mismatch between the IndexWriter().numDeletedDocs() m=
ethod as stated in the javadocs supplied in the 2.9.2 download and what is =
actual.
>
> JavaDocs for 2.9.2 as came with the 2.9.2 download
>
> numDeletedDocs
> public int numDeletedDocs()Returns the number of deleted documents. =A0(N=
o parameter required)
>
> ----------------------
> Source code for 2.9.2
> =A0public int numDeletedDocs(SegmentInfo info) throws IOException { =A0(P=
arameter required)
>
>
> Why is there no longer a no parameter numDeleteDocs as stated in the Java=
Docs? =A0I'm not sure how I use the "experimental" SegmentInfo just to get =
the delete count in my index? =A0Any help appreciated.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46353-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 03 20:46:36 2010
Return-Path: <java-user-return-46353-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8902 invoked from network); 3 Jun 2010 20:46:36 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 3 Jun 2010 20:46:36 -0000
Received: (qmail 25871 invoked by uid 500); 3 Jun 2010 20:46:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25733 invoked by uid 500); 3 Jun 2010 20:46:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25725 invoked by uid 99); 3 Jun 2010 20:46:34 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Jun 2010 20:46:34 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=AWL,FREEMAIL_FROM,HTML_MESSAGE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of adrianocrestani@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Jun 2010 20:46:28 +0000
Received: by iwn3 with SMTP id 3so535069iwn.35
        for <java-user@lucene.apache.org>; Thu, 03 Jun 2010 13:46:08 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type;
        bh=wRJQyhqvZvBix4lH77Gaao+Nvw+gKOG6UjYJjXeRLck=;
        b=SsrYxdmDC2mvRd70Zl0f3F76Zp50+kwq9Q0Edfoa/IwZIxXO27dHBO5eiFbaInJHPS
         Ws/YRs+QK6wtZyCvrmcuPO5Y+vnMwbCqSnlnqrMCZ4f9X+Hrx9npex/A9dLBDiqp2n5S
         2bW0/qiyDkOSEsmsYZAWm0G25c5c2FLFuQtkM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=M2+z5Ptso7cN7+t+jIuEhPVk7wnhMNNksfS8noUfVmLNY3xLrFUJX/3JBD+qKOBRZI
         3O5iikg5905o1nXvREEGW1sVOHAd4tro3XPD6LFZbQI4RoiPKNCrakksibwWAy8IXpg6
         vq1pEQZJz7mxSrnELbXfuqk4QaXflIDlnBgpQ=
Received: by 10.231.183.19 with SMTP id ce19mr12713690ibb.35.1275597968187; 
	Thu, 03 Jun 2010 13:46:08 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.231.168.130 with HTTP; Thu, 3 Jun 2010 13:45:48 -0700 (PDT)
In-Reply-To: <1275594735727-868546.post@n3.nabble.com>
References: <1275594735727-868546.post@n3.nabble.com>
From: Adriano Crestani <adrianocrestani@gmail.com>
Date: Thu, 3 Jun 2010 16:45:48 -0400
Message-ID: <AANLkTik-MNafuO-E15iWpSgMyBzvwg9gvPuUOWiDkRaq@mail.gmail.com>
Subject: Re: recommendation for deprecated StandardTokenizer.next() method?
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016364ecbbcc5213c0488264b1c

--0016364ecbbcc5213c0488264b1c
Content-Type: text/plain; charset=ISO-8859-1

Hi,

It's because a new TokenStream API has been introduced after version 2.9, so
you should change your code to use the new API too.

Please, take a look at TokenStream javadoc, it has a short description about
how the new API works:
http://lucene.apache.org/java/2_9_0/api/all/org/apache/lucene/analysis/TokenStream.html

Regards,
Adriano Crestani

On Thu, Jun 3, 2010 at 3:52 PM, allasso <allassopraise@gmail.com> wrote:

>
> Hello,
>
> Does anyone have a recommendation for implementing the function previously
> done by the deprecated StandardTokenizer.next() method?
>
> and/or, can anyone point me to where I might find the reason it was
> deprecated?
>
> Thanks, Allasso
> --
> View this message in context:
> http://lucene.472066.n3.nabble.com/recommendation-for-deprecated-StandardTokenizer-next-method-tp868546p868546.html
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--0016364ecbbcc5213c0488264b1c--

From java-user-return-46354-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 03 21:43:29 2010
Return-Path: <java-user-return-46354-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26700 invoked from network); 3 Jun 2010 21:43:29 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 3 Jun 2010 21:43:29 -0000
Received: (qmail 21284 invoked by uid 500); 3 Jun 2010 21:43:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21250 invoked by uid 500); 3 Jun 2010 21:43:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21242 invoked by uid 99); 3 Jun 2010 21:43:27 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Jun 2010 21:43:27 +0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=FREEMAIL_FROM,SPF_HELO_PASS,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: 216.139.236.158 is neither permitted nor denied by domain of allassopraise@gmail.com)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Jun 2010 21:43:20 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <allassopraise@gmail.com>)
	id 1OKIBo-0005eN-1Y
	for java-user@lucene.apache.org; Thu, 03 Jun 2010 14:43:00 -0700
Date: Thu, 3 Jun 2010 14:43:00 -0700 (PDT)
From: allasso <allassopraise@gmail.com>
To: java-user@lucene.apache.org
Message-ID: <1275601380036-868760.post@n3.nabble.com>
In-Reply-To: <AANLkTik-MNafuO-E15iWpSgMyBzvwg9gvPuUOWiDkRaq@mail.gmail.com>
References: <1275594735727-868546.post@n3.nabble.com> <AANLkTik-MNafuO-E15iWpSgMyBzvwg9gvPuUOWiDkRaq@mail.gmail.com>
Subject: Re: recommendation for deprecated StandardTokenizer.next() method?
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org


Thank you, friend,

that's the ticket.

this page was very helpful too...

http://lucene.apache.org/java/2_9_0/api/all/org/apache/lucene/analysis/package-summary.html

Allasso
-- 
View this message in context: http://lucene.472066.n3.nabble.com/recommendation-for-deprecated-StandardTokenizer-next-method-tp868546p868760.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46355-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jun 04 00:58:34 2010
Return-Path: <java-user-return-46355-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81177 invoked from network); 4 Jun 2010 00:58:34 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 4 Jun 2010 00:58:34 -0000
Received: (qmail 91179 invoked by uid 500); 4 Jun 2010 00:58:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91145 invoked by uid 500); 4 Jun 2010 00:58:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91137 invoked by uid 99); 4 Jun 2010 00:58:32 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Jun 2010 00:58:32 +0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=SPF_NEUTRAL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [188.121.53.2] (HELO n1plout04-02.prod.ams1.secureserver.net) (188.121.53.2)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 04 Jun 2010 00:58:24 +0000
Received: (qmail 12435 invoked from network); 4 Jun 2010 00:58:01 -0000
Received: from unknown (95.35.209.80)
  by n1plout04-02.prod.ams1.secureserver.net (188.121.53.2) with ESMTP; 04 Jun 2010 00:57:40 -0000
From: "Itamar Syn-Hershko" <itamar@code972.com>
To: <java-user@lucene.apache.org>
References: <1275594735727-868546.post@n3.nabble.com>
Subject: RE: recommendation for deprecated StandardTokenizer.next() method?
Date: Fri, 4 Jun 2010 03:57:33 +0300
Message-ID: <4291B65FEAE640F4BCDBE4C8B219B1AA@hp6690ej01>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
Thread-Index: AcsDVlZKQiKstTpmRzG/FYs1gA6hKAAKnLkg
In-Reply-To: <1275594735727-868546.post@n3.nabble.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.5579
X-Virus-Checked: Checked by ClamAV on apache.org

That would be next(Token) I believe. The reason it was deprecated afaik was
to force a reuse of the Token object, to gain more performance.

Itamar.  

-----Original Message-----
From: allasso [mailto:allassopraise@gmail.com] 
Sent: Thursday, June 03, 2010 10:52 PM
To: java-user@lucene.apache.org
Subject: recommendation for deprecated StandardTokenizer.next() method?


Hello,

Does anyone have a recommendation for implementing the function previously
done by the deprecated StandardTokenizer.next() method?

and/or, can anyone point me to where I might find the reason it was
deprecated?

Thanks, Allasso
--
View this message in context:
http://lucene.472066.n3.nabble.com/recommendation-for-deprecated-StandardTok
enizer-next-method-tp868546p868546.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46356-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jun 04 05:33:40 2010
Return-Path: <java-user-return-46356-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38903 invoked from network); 4 Jun 2010 05:33:40 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 4 Jun 2010 05:33:40 -0000
Received: (qmail 32531 invoked by uid 500); 4 Jun 2010 05:33:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32108 invoked by uid 500); 4 Jun 2010 05:33:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32100 invoked by uid 99); 4 Jun 2010 05:33:33 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Jun 2010 05:33:33 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=AWL,FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [206.190.38.60] (HELO web50306.mail.re2.yahoo.com) (206.190.38.60)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 04 Jun 2010 05:33:29 +0000
Received: (qmail 149 invoked by uid 60001); 4 Jun 2010 05:33:07 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1275629587; bh=MkpEJ2v1Wo7bLJBogVikYFyizs857Ltu8O98UKyJbGU=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=3RFQMo8bGD2OSiuzI+Nw6oJRSE/J6oiRrQIkxM9RC1mjKiIw78mF3wED/MkOOuKqxR+w3JgsqXx+yneIGl/caqG0k8ubbhZ655cqiP+MWqMAhla9aEiku4lvDyoTm2OfRtRU8jaWXjzTKxiUxy6Hjck4q6dpzken43xSfyQy11c=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=aRy9iD04OMB2YdtaEcrqWmc4W3S54mEN2/W2irBaULliqCk15Umh2Y2686i6rbkBWR4H6xQwFgPCP1PlDxUq8DhU5KYeuY0zySD3PfvAZD1eJdPhHgd0U4M3d4J5CTW+48O83341FDWOsIXcAE9hb4ejNslvca5k12shaXTuk2w=;
Message-ID: <785792.99139.qm@web50306.mail.re2.yahoo.com>
X-YMail-OSG: qPvHggYVM1lMiHvvkg3rbKpJtEey2IZ.yX8nG1pyp.16LvJ
 _p2_dkBCkZiU9qKz.KYELME2c6098fl94JxMpxuDUSmhhZcL_aJYsQxdWjiU
 Qd4SOsP.wP7yM0Dk3oXYABFUY8Apld0HTsm3UX59Iapnzv6Aph8TwZke4OgK
 OFbEyPJjnR9W55_xWR1rUsYLv8pbNiBDq9X101.0657vKcvFVwzOD6PmKdm4
 Oly4SB9Z89SI3s6qDqqYIM1j41MXZuC7yZStTv5JIS7fWPZHwvf7H6QtXdEq
 EYTUfqGuJbQjHOK0oB7wKzuhW84Kpu1eVj0i5nleW2rsyNFypcivUy8qmQIu
 VdeOuntHbuw--
Received: from [74.73.6.27] by web50306.mail.re2.yahoo.com via HTTP; Thu, 03 Jun 2010 22:33:07 PDT
X-Mailer: YahooMailRC/397.8 YahooMailWebService/0.8.103.269680
References: <AANLkTimWaKlXFNB5sQwJ7JKGaZnk7vO1f2u_fvAQOkBH@mail.gmail.com> <492379B6AA909E4FAF672AACCA0EADC25CC1F3AF30@PHXCCRPRD02.adprod.bmc.com> <AANLkTinaw-8PRIzFwM8DOD0JX0vD6JZu1j3JZ6RSDY9O@mail.gmail.com>
Date: Thu, 3 Jun 2010 22:33:07 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: numDeletedDocs()
To: java-user@lucene.apache.org
In-Reply-To: <AANLkTinaw-8PRIzFwM8DOD0JX0vD6JZu1j3JZ6RSDY9O@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

Btw. folks, http://search-lucene.com/ has a really handy source code search with auto-completion for Lucene, Solr, etc.  For example, I typed in: numDel  - and immediately found those methods.  Use it. :)

Otis----
Sematext :: http://sematext.com/ :: Solr - Lucene - Nutch
Lucene ecosystem search :: http://search-lucene.com/



----- Original Message ----
> From: Michael McCandless <lucene@mikemccandless.com>
> To: java-user@lucene.apache.org
> Sent: Thu, June 3, 2010 4:02:09 PM
> Subject: Re: numDeletedDocs()
> 
> Hmm... I don't think IndexWriter has ever had a numDeletedDocs() (w/ no 
> params)?

(IndexReader does).

Mike

On Thu, Jun 3, 2010 at 
> 3:50 PM, Woolf, Ross <
> href="mailto:Ross_Woolf@bmc.com">Ross_Woolf@bmc.com> wrote:
> There 
> seems to be a mismatch between the IndexWriter().numDeletedDocs() method as 
> stated in the javadocs supplied in the 2.9.2 download and what is 
> actual.
>
> JavaDocs for 2.9.2 as came with the 2.9.2 
> download
>
> numDeletedDocs
> public int 
> numDeletedDocs()Returns the number of deleted documents.  (No parameter 
> required)
>
> ----------------------
> Source code for 
> 2.9.2
>  public int numDeletedDocs(SegmentInfo info) throws IOException { 
>  (Parameter required)
>
>
> Why is there no longer a no 
> parameter numDeleteDocs as stated in the JavaDocs?  I'm not sure how I use the 
> "experimental" SegmentInfo just to get the delete count in my index?  Any help 
> appreciated.
>
>
> 
> ---------------------------------------------------------------------
> To 
> unsubscribe, e-mail: 
> href="mailto:java-user-unsubscribe@lucene.apache.org">java-user-unsubscribe@lucene.apache.org
> 
> For additional commands, e-mail: 
> ymailto="mailto:java-user-help@lucene.apache.org" 
> href="mailto:java-user-help@lucene.apache.org">java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To 
> unsubscribe, e-mail: 
> href="mailto:java-user-unsubscribe@lucene.apache.org">java-user-unsubscribe@lucene.apache.org
For 
> additional commands, e-mail: 
> ymailto="mailto:java-user-help@lucene.apache.org" 
> href="mailto:java-user-help@lucene.apache.org">java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46357-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jun 04 05:54:46 2010
Return-Path: <java-user-return-46357-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41861 invoked from network); 4 Jun 2010 05:54:45 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 4 Jun 2010 05:54:45 -0000
Received: (qmail 48457 invoked by uid 500); 4 Jun 2010 05:54:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48301 invoked by uid 500); 4 Jun 2010 05:54:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48293 invoked by uid 99); 4 Jun 2010 05:54:43 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Jun 2010 05:54:43 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=AWL,FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [206.190.38.59] (HELO web50305.mail.re2.yahoo.com) (206.190.38.59)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 04 Jun 2010 05:54:37 +0000
Received: (qmail 23968 invoked by uid 60001); 4 Jun 2010 05:54:15 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1275630855; bh=4ME0tgcoxPZkRDX5mcy5CFkbyhWCEwkyWXTV7/S2mCk=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=1lTGg7xjP0KbKD6Jvuo9rLbrSEISdd7KuGWAm2pUp58dtVnJOY4LSbAScus/HTlVaB0Pv1JLSAtL5uOI1u6O8GGDK2d2F48GY47hOYlbN0pQmOwD/u0MciJTFY3aAsug+g3970CjMb8qY3FonhyTtIVQ56wHu04hhuFAVb5rxPE=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=I9yVBRg7AZExm8ROx9q5IsTt6DFQKuVDniWwYOynaIJcIEytIqNWo9zJ/2rwq7uEXEAP1lcQt9MCe+Qd2c816CbBeuxPEjZUx6jPeeCI7YhgKnStL7DrXs96zwMl7iJPSWgHBUxTzl3YQFQ8cwUFR8I9Q678ADB8PZ7IIG9E6MU=;
Message-ID: <782770.21571.qm@web50305.mail.re2.yahoo.com>
X-YMail-OSG: xGyTVs0VM1mhU.cP2sD4clk6BZVxWeQs1Q1x5P0r76mYfR9
 _4hZ8Q1hiCcJzplyyk4wCrkMqn8WZXq.lPUqLih.e4rsT4SO7Hr.6MLmGClF
 0VyUZnoHl1HP2aJJfVBzAUX0Ozgo3BHDRAAqe_QL3zI9QTSUjoJAd0Bv.2B4
 mk6STaWIWIoJHyosmN2wOXna6psPfcGFgpfKnoFiid3oaGDkqQifoNUWqb9o
 YQSEWNuST2Q4Y_F2yJcFf15VVbLnzDtZgA7hlvfb4AmpRBWVJyvXAkjh3tbG
 pqMLTFBG94VSO615ppQcE8KQVeqzaU1GPARhLdSwpLrBU7Q.G1yiTrzsxZNX
 8rQ--
Received: from [74.73.6.27] by web50305.mail.re2.yahoo.com via HTTP; Thu, 03 Jun 2010 22:54:15 PDT
X-Mailer: YahooMailRC/397.8 YahooMailWebService/0.8.103.269680
References: <AANLkTimWaKlXFNB5sQwJ7JKGaZnk7vO1f2u_fvAQOkBH@mail.gmail.com>
Date: Thu, 3 Jun 2010 22:54:15 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Monitoring low level IO
To: java-user@lucene.apache.org
In-Reply-To: <AANLkTimWaKlXFNB5sQwJ7JKGaZnk7vO1f2u_fvAQOkBH@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

Other than iostat, vmstat and such?
 Otis
----
Sematext :: http://sematext.com/ :: Solr - Lucene - Nutch
Lucene ecosystem search :: http://search-lucene.com/



----- Original Message ----
> From: Jason Rutherglen <jason.rutherglen@gmail.com>
> To: java-user@lucene.apache.org
> Sent: Thu, June 3, 2010 2:13:17 PM
> Subject: Monitoring low level IO
> 
> This is more of a unix related question than Lucene specific
however because 
> Lucene is being used, I'm asking here as perhaps
other people have run into a 
> similar issue.

On an Amazon EC2 merge, read, and write operations are 
> possibly
blocking due to underlying IO. Is there a tool that you have
used 
> to monitor this type of 
> thing?

---------------------------------------------------------------------
To 
> unsubscribe, e-mail: 
> href="mailto:java-user-unsubscribe@lucene.apache.org">java-user-unsubscribe@lucene.apache.org
For 
> additional commands, e-mail: 
> ymailto="mailto:java-user-help@lucene.apache.org" 
> href="mailto:java-user-help@lucene.apache.org">java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46358-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jun 04 10:52:15 2010
Return-Path: <java-user-return-46358-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18162 invoked from network); 4 Jun 2010 10:52:15 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 4 Jun 2010 10:52:15 -0000
Received: (qmail 25418 invoked by uid 500); 4 Jun 2010 10:52:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25004 invoked by uid 500); 4 Jun 2010 10:52:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24996 invoked by uid 99); 4 Jun 2010 10:52:08 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Jun 2010 10:52:08 +0000
X-ASF-Spam-Status: No, hits=1.1 required=10.0
	tests=RCVD_ILLEGAL_IP,RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of Feltin_Thierry@emc.com designates 128.222.32.20 as permitted sender)
Received: from [128.222.32.20] (HELO mexforward.lss.emc.com) (128.222.32.20)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Jun 2010 10:51:59 +0000
Received: from hop04-l1d11-si02.isus.emc.com (HOP04-L1D11-SI02.isus.emc.com [10.254.111.55])
	by mexforward.lss.emc.com (Switch-3.3.2/Switch-3.1.7) with ESMTP id o54ApcOC004654
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <java-user@lucene.apache.org>; Fri, 4 Jun 2010 06:51:38 -0400
Received: from mailhub.lss.emc.com (nagas.lss.emc.com [10.254.144.15]) by hop04-l1d11-si02.isus.emc.com (RSA Interceptor) for <java-user@lucene.apache.org>; Fri, 4 Jun 2010 06:51:32 -0400
Received: from corpussmtp5.corp.emc.com (corpussmtp5.corp.emc.com [128.221.166.229])
	by mailhub.lss.emc.com (Switch-3.4.2/Switch-3.3.2mp) with ESMTP id o54ApMZt021697
	for <java-user@lucene.apache.org>; Fri, 4 Jun 2010 06:51:32 -0400
Received: from mxhub01.corp.emc.com ([10.254.141.103]) by corpussmtp5.corp.emc.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Fri, 4 Jun 2010 06:50:49 -0400
Received: from mx04a.corp.emc.com ([169.254.1.253]) by mxhub01.corp.emc.com
 ([10.254.141.103]) with mapi; Fri, 4 Jun 2010 06:50:49 -0400
From: <Feltin_Thierry@emc.com>
To: <java-user@lucene.apache.org>
Date: Fri, 4 Jun 2010 06:50:45 -0400
Subject: RE: Monitoring low level IO
Thread-Topic: Monitoring low level IO
Thread-Index: AcsDSIrQmKovk2MeRm+WpFx4R+jewgAiICyQ
Message-ID: <9E8174E53C7C804CB1081789121933AA2C5CFDA4@MX04A.corp.emc.com>
References: <AANLkTimWaKlXFNB5sQwJ7JKGaZnk7vO1f2u_fvAQOkBH@mail.gmail.com>
In-Reply-To: <AANLkTimWaKlXFNB5sQwJ7JKGaZnk7vO1f2u_fvAQOkBH@mail.gmail.com>
Accept-Language: fr-FR, en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-cr-puzzleid: {F4553341-FF95-4D44-A541-B4CA7B1DA8EB}
x-cr-hashedpuzzle: Ah3Z BWKw BgKT BzzM B/e3 CJqV C3Xw DSAl GVdy HO+E IJxS
 IqhW JIzV KoCA LlOF
 MS6p;1;agBhAHYAYQAtAHUAcwBlAHIAQABsAHUAYwBlAG4AZQAuAGEAcABhAGMAaABlAC4AbwByAGcA;Sosha1_v1;7;{F4553341-FF95-4D44-A541-B4CA7B1DA8EB};ZgBlAGwAdABpAG4AXwB0AGgAaQBlAHIAcgB5AEAAZQBtAGMALgBjAG8AbQA=;Fri,
 04 Jun 2010 10:50:45
 GMT;UgBFADoAIABNAG8AbgBpAHQAbwByAGkAbgBnACAAbABvAHcAIABsAGUAdgBlAGwAIABJAE8A
acceptlanguage: fr-FR, en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-OriginalArrivalTime: 04 Jun 2010 10:50:49.0908 (UTC) FILETIME=[CB9A9740:01CB03D3]
X-EMM-EM: Active
X-Virus-Checked: Checked by ClamAV on apache.org

If you are running with a Sun JVM 1.6, one possible way is to monitor the l=
ow level JVM java IO calls using BTrace (See http://kenai.com/projects/btra=
ce/pages/Home). This is kind of lightweight custom java profiler.
=20
It's quite easy to setup but will require that you know what IO calls are i=
nvolved to write a few java lines to track what you need to.

For example to track the reads calls start/end including the duration:

@OnMethod(clazz =3D "java.io.RandomAccessFile", method =3D "read")
public static void onRandomReadStart() {
  print(timestamp("y/M/d HH:mm:ss.SSS")); =20
  print(strcat(", ", name(currentThread())));
  print(strcat(", ", "IO read start");
}

@OnMethod(clazz =3D "java.io.RandomAccessFile", method =3D "read", location=
=3D@Location(value=3DKind.RETURN))
public static void onRandomReadEnd(@Duration long d) {
  print(timestamp("y/M/d HH:mm:ss.SSS")); =20
  print(strcat(", ", name(currentThread())));
  print(strcat(", ", str(d));
  print(strcat(", ", "IO read end");
}





-----Original Message-----
From: Jason Rutherglen [mailto:jason.rutherglen@gmail.com]=20
Sent: jeudi 3 juin 2010 20:13
To: java-user@lucene.apache.org
Subject: Monitoring low level IO

This is more of a unix related question than Lucene specific
however because Lucene is being used, I'm asking here as perhaps
other people have run into a similar issue.

On an Amazon EC2 merge, read, and write operations are possibly
blocking due to underlying IO. Is there a tool that you have
used to monitor this type of thing?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46359-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jun 04 15:39:32 2010
Return-Path: <java-user-return-46359-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11042 invoked from network); 4 Jun 2010 15:39:32 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 4 Jun 2010 15:39:32 -0000
Received: (qmail 55970 invoked by uid 500); 4 Jun 2010 15:39:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55855 invoked by uid 500); 4 Jun 2010 15:39:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55847 invoked by uid 99); 4 Jun 2010 15:39:29 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Jun 2010 15:39:29 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [206.190.38.60] (HELO web50306.mail.re2.yahoo.com) (206.190.38.60)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 04 Jun 2010 15:39:23 +0000
Received: (qmail 50976 invoked by uid 60001); 4 Jun 2010 15:39:01 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1275665941; bh=WNgZsyCdlAKE6f5dMoBDKc79MXUmSiKMJa4/o1UE1C8=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=x70q6QbzuK1ioBkmqbfUYxxRF89Rj0023aiTavmpL6SCCp/Nmd8lBYmWT8XwlKH5Fi85Xl7s9XZlG1Z2ECnmgQVE1QaACP6QSfPp7AmYOMrF+ZGAmUMqwtWCzqN/I2OQ+L56Lvwz7HLHKc/dCOjt3WzSwIfSd4/E5MDanfq4kx4=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=sGFqzJ3f+gu+uIPLL7sqdSi/dQsgG6HpdmqdGQmzC2SsKNMbMqipaoAw/oQWhqpZ/H/Sf45MMN976hl55YjyvcIEGCN3PRPf0TxzQPV6AZcFPjxLzIx9HmqbctwNDCP3wZwhtkOphxKlQDiKmn5qswzIWYqQILgs23f8Qm45riI=;
Message-ID: <787111.49337.qm@web50306.mail.re2.yahoo.com>
X-YMail-OSG: oYEPWPMVM1lB3XEPbBrY3T8lLEaJbpM7S4paOjT3s1FG0bf
 wbRbheZ24
Received: from [184.75.0.186] by web50306.mail.re2.yahoo.com via HTTP; Fri, 04 Jun 2010 08:39:01 PDT
X-Mailer: YahooMailRC/397.8 YahooMailWebService/0.8.103.269680
References: <AANLkTimWaKlXFNB5sQwJ7JKGaZnk7vO1f2u_fvAQOkBH@mail.gmail.com> <782770.21571.qm@web50305.mail.re2.yahoo.com>
Date: Fri, 4 Jun 2010 08:39:01 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Monitoring low level IO
To: java-user@lucene.apache.org
In-Reply-To: <782770.21571.qm@web50305.mail.re2.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org

Ah, there is another one I came across several months back - http://wiki.sdn.sap.com/wiki/display/Java/JPicus.

 
Otis
----
Sematext :: http://sematext.com/ :: Solr - Lucene - Nutch
Lucene ecosystem search :: http://search-lucene.com/



----- Original Message ----
> From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
> To: java-user@lucene.apache.org
> Sent: Fri, June 4, 2010 1:54:15 AM
> Subject: Re: Monitoring low level IO
> 
> Other than iostat, vmstat and such?
Otis




----- Original 
> Message ----
> From: Jason Rutherglen <
> ymailto="mailto:jason.rutherglen@gmail.com" 
> href="mailto:jason.rutherglen@gmail.com">jason.rutherglen@gmail.com>
> 
> To: 
> href="mailto:java-user@lucene.apache.org">java-user@lucene.apache.org
> 
> Sent: Thu, June 3, 2010 2:13:17 PM
> Subject: Monitoring low level 
> IO
> 
> This is more of a unix related question than Lucene 
> specific
however because 
> Lucene is being used, I'm asking here as 
> perhaps
other people have run into a 
> similar issue.

On an 
> Amazon EC2 merge, read, and write operations are 
> possibly
blocking 
> due to underlying IO. Is there a tool that you have
used 
> to monitor 
> this type of 
> 
> thing?

---------------------------------------------------------------------
To 
> 
> unsubscribe, e-mail: 
> href="mailto:
> ymailto="mailto:java-user-unsubscribe@lucene.apache.org" 
> href="mailto:java-user-unsubscribe@lucene.apache.org">java-user-unsubscribe@lucene.apache.org">
> ymailto="mailto:java-user-unsubscribe@lucene.apache.org" 
> href="mailto:java-user-unsubscribe@lucene.apache.org">java-user-unsubscribe@lucene.apache.org
For 
> 
> additional commands, e-mail: 
> ymailto="mailto:
> ymailto="mailto:java-user-help@lucene.apache.org" 
> href="mailto:java-user-help@lucene.apache.org">java-user-help@lucene.apache.org" 
> 
> href="mailto:
> href="mailto:java-user-help@lucene.apache.org">java-user-help@lucene.apache.org">
> ymailto="mailto:java-user-help@lucene.apache.org" 
> href="mailto:java-user-help@lucene.apache.org">java-user-help@lucene.apache.org

---------------------------------------------------------------------
To 
> unsubscribe, e-mail: 
> href="mailto:java-user-unsubscribe@lucene.apache.org">java-user-unsubscribe@lucene.apache.org
For 
> additional commands, e-mail: 
> ymailto="mailto:java-user-help@lucene.apache.org" 
> href="mailto:java-user-help@lucene.apache.org">java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46360-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jun 05 02:11:03 2010
Return-Path: <java-user-return-46360-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82823 invoked from network); 5 Jun 2010 02:11:03 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 5 Jun 2010 02:11:03 -0000
Received: (qmail 23267 invoked by uid 500); 5 Jun 2010 02:11:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23146 invoked by uid 500); 5 Jun 2010 02:11:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23138 invoked by uid 99); 5 Jun 2010 02:11:00 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Jun 2010 02:11:00 +0000
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=AWL,FREEMAIL_FROM,HTML_MESSAGE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of kimchy@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Jun 2010 02:10:55 +0000
Received: by bwz13 with SMTP id 13so659089bwz.35
        for <java-user@lucene.apache.org>; Fri, 04 Jun 2010 19:10:34 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:from:date
         :message-id:subject:to:content-type;
        bh=fZw10zsxKfvJIXT53a9q6xjI1w/a601iTCsmqremzNQ=;
        b=DQ4MqSGmG0+QRCyr2gIfsGsAhUKM+8xgc2pzYaD8GeVFmkv3UtoIPZ6vfZrZAdY27z
         qytk+ug54YnXbJi4mJVrZOQK3rC6mIrt5Lz/WAUCowzr+6/095Mp+oHB9QH1OpfjsIAR
         fmCS6pay/E0cAA+D/Rn7Iapvp/YP9qrUqlDIA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:from:date:message-id:subject:to:content-type;
        b=SCeVK/gHi0deN3/ljNUV2tnnAFlRvk3/p4fwMsXuFRnSgigm9S9rDXDmOBNPwFivQk
         KtuYEieFUVjEvNYUcNl29g46ljHlb4Ek07j73zx6v3UAAYOu6ynSfJv5BwbOmxMqoUQJ
         eRrQeJgWcKZz26lAHH5RSi97Iqx10IyuPZzOU=
Received: by 10.204.46.197 with SMTP id k5mr4574795bkf.47.1275703834177; Fri, 
	04 Jun 2010 19:10:34 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.204.53.145 with HTTP; Fri, 4 Jun 2010 19:10:14 -0700 (PDT)
From: Shay Banon <kimchy@gmail.com>
Date: Sat, 5 Jun 2010 05:10:14 +0300
Message-ID: <AANLkTiku7ARomAntpQfiAzOwWa5CXK-eEoITtFRuhFAE@mail.gmail.com>
Subject: Index Writer, RawPostingList and Memory Management
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e6dcf18cdff24d04883ef1e8

--0016e6dcf18cdff24d04883ef1e8
Content-Type: text/plain; charset=ISO-8859-1

Hi,

  I have a question on how IndexWriter manages its memory when it comes to
RawPostingList. Its pretty late, so sorry if the question is obvious, but
the question is when does the RawPostingList array gets reclaimed or
shrinked? I assume they get factored in the ram balancing process, but, is
there a chance that they won't be reclaimed? Can I force them to be
reclaimed, I think that IndexWriter#commit does not affect that... . Here is
a link to a sample heap dump I took (I do call flush):
http://skitch.com/kimchy/dg3e4/eclipse-memory-analyzer.

Thanks,
Shay

--0016e6dcf18cdff24d04883ef1e8--

From java-user-return-46361-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jun 05 09:52:01 2010
Return-Path: <java-user-return-46361-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97262 invoked from network); 5 Jun 2010 09:52:00 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 5 Jun 2010 09:52:00 -0000
Received: (qmail 94430 invoked by uid 500); 5 Jun 2010 09:51:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94086 invoked by uid 500); 5 Jun 2010 09:51:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94078 invoked by uid 99); 5 Jun 2010 09:51:57 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Jun 2010 09:51:57 +0000
X-ASF-Spam-Status: No, hits=2.7 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Jun 2010 09:51:50 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id 1E9A9D36002
	for <java-user@lucene.apache.org>; Sat,  5 Jun 2010 11:51:30 +0200 (CEST)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id G-VqtTM1Epm6 for <java-user@lucene.apache.org>;
	Sat,  5 Jun 2010 11:51:16 +0200 (CEST)
Received: from VEGA (unknown [82.113.121.32])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id 213AE45FBB1
	for <java-user@lucene.apache.org>; Sat,  5 Jun 2010 11:51:12 +0200 (CEST)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
Subject: Lucene/Solr Article Series in German Java Magazin
Date: Sat, 5 Jun 2010 11:50:33 +0200
Message-ID: <000001cb0494$a4930300$edb90900$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AcsEk8yS5pvqodWCQNKiUmqVwn0Zsg==
Content-Language: de
X-Virus-Checked: Checked by ClamAV on apache.org

For the Germans:

In the magazine "Java Magazin" this week an article series about Lucene and
Solr started:
http://it-republik.de/jaxenter/java-magazin-ausgaben/Lucene-000399.html

The first part of the series is two articles:
- The new attribute based TokenStream API of Lucene
- Solr introduction and HowTo
The next issue will be about numeric search and geo search.

You can also watch a video from Erik Hatcher:
http://it-republik.de/jaxenter/news/Video-Einstieg-in-Solr-055705.html

Generics Policeman Uwe & Isabel Drost

-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46362-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jun 05 09:55:52 2010
Return-Path: <java-user-return-46362-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6007 invoked from network); 5 Jun 2010 09:55:52 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 5 Jun 2010 09:55:52 -0000
Received: (qmail 97703 invoked by uid 500); 5 Jun 2010 09:55:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97442 invoked by uid 500); 5 Jun 2010 09:55:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97433 invoked by uid 99); 5 Jun 2010 09:55:49 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Jun 2010 09:55:49 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.211.194] (HELO mail-yw0-f194.google.com) (209.85.211.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Jun 2010 09:55:42 +0000
Received: by ywh32 with SMTP id 32so1949418ywh.5
        for <java-user@lucene.apache.org>; Sat, 05 Jun 2010 02:55:21 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.150.242.3 with SMTP id p3mr12219957ybh.130.1275731721461; Sat, 
	05 Jun 2010 02:55:21 -0700 (PDT)
Received: by 10.151.11.20 with HTTP; Sat, 5 Jun 2010 02:55:21 -0700 (PDT)
In-Reply-To: <AANLkTiku7ARomAntpQfiAzOwWa5CXK-eEoITtFRuhFAE@mail.gmail.com>
References: <AANLkTiku7ARomAntpQfiAzOwWa5CXK-eEoITtFRuhFAE@mail.gmail.com>
Date: Sat, 5 Jun 2010 05:55:21 -0400
Message-ID: <AANLkTilK_rcWWN5KqswgN_WvRAx6fKNS7u1Y6JOxIyxF@mail.gmail.com>
Subject: Re: Index Writer, RawPostingList and Memory Management
From: Michael McCandless <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

They are reclaimed, but, you may be hitting one of the memory leak
bugs recently fixed but not yet (though soon to be) released.

Can you try running with the tip of whichever release you are using?

Mike

On Fri, Jun 4, 2010 at 10:10 PM, Shay Banon <kimchy@gmail.com> wrote:
> Hi,
>
> =A0I have a question on how IndexWriter manages its memory when it comes =
to
> RawPostingList. Its pretty late, so sorry if the question is obvious, but
> the question is when does the RawPostingList array gets reclaimed or
> shrinked? I assume they get factored in the ram balancing process, but, i=
s
> there a chance that they won't be reclaimed? Can I force them to be
> reclaimed, I think that IndexWriter#commit does not affect that... . Here=
 is
> a link to a sample heap dump I took (I do call flush):
> http://skitch.com/kimchy/dg3e4/eclipse-memory-analyzer.
>
> Thanks,
> Shay
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46363-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jun 05 11:35:35 2010
Return-Path: <java-user-return-46363-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42941 invoked from network); 5 Jun 2010 11:35:35 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 5 Jun 2010 11:35:35 -0000
Received: (qmail 24583 invoked by uid 500); 5 Jun 2010 11:35:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24110 invoked by uid 500); 5 Jun 2010 11:35:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24102 invoked by uid 99); 5 Jun 2010 11:35:27 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Jun 2010 11:35:27 +0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=AWL,FREEMAIL_FROM,HTML_MESSAGE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of kimchy@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Jun 2010 11:35:22 +0000
Received: by bwz13 with SMTP id 13so773038bwz.35
        for <java-user@lucene.apache.org>; Sat, 05 Jun 2010 04:35:01 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type;
        bh=zGtXdmoTqHrUmhfWnhqFzdFzR4IrXa6djMGj7b2Y5ys=;
        b=C9E4ljESUprsmDJ6YbAO4aaAuEb+qZE1FYoVXlf6gnalH1LO6ZHtk69eFkSRYZdDoy
         ixYpevOxGpFMyJ3rzVZcxCNKc8CxjqSzVf06d+Cg7UPwCsWGlyPzm5fM+SgrkAAv6EXI
         xgSmnXCrSAxBdBvW6VO2bjLTw52VqG+YmPG44=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=Wpep4fKBPN86DdMTPSMdFVl7XlkqyEPTrKq+GMoH4/rcVFberRxWi52JsEjpK+vLxy
         cIax/WyFg3UZwa3tGyFTx9UVcU6pZuFA/4/XfE3v4m+oyXLxZEA1sKzbiyM9J5gG7hJL
         3qf2CoJc7QmoIFxWR4BkHFq/oInhW1MZTvEes=
Received: by 10.204.4.136 with SMTP id 8mr4898034bkr.201.1275737701240; Sat, 
	05 Jun 2010 04:35:01 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.204.53.145 with HTTP; Sat, 5 Jun 2010 04:33:50 -0700 (PDT)
In-Reply-To: <AANLkTilK_rcWWN5KqswgN_WvRAx6fKNS7u1Y6JOxIyxF@mail.gmail.com>
References: <AANLkTiku7ARomAntpQfiAzOwWa5CXK-eEoITtFRuhFAE@mail.gmail.com> 
	<AANLkTilK_rcWWN5KqswgN_WvRAx6fKNS7u1Y6JOxIyxF@mail.gmail.com>
From: Shay Banon <kimchy@gmail.com>
Date: Sat, 5 Jun 2010 14:33:50 +0300
Message-ID: <AANLkTimn5HsGx-ccWikUc0kxfrzDz-cEXkFpYdaE3Xqc@mail.gmail.com>
Subject: Re: Index Writer, RawPostingList and Memory Management
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00151759080e825118048846d4e7

--00151759080e825118048846d4e7
Content-Type: text/plain; charset=ISO-8859-1

I will check, just wanted to verify though, do they get freed when calling
commit, or do they still hang around? Other pools are freed when calling
commit, right?

-shay.banon

On Sat, Jun 5, 2010 at 12:55 PM, Michael McCandless <
lucene@mikemccandless.com> wrote:

> They are reclaimed, but, you may be hitting one of the memory leak
> bugs recently fixed but not yet (though soon to be) released.
>
> Can you try running with the tip of whichever release you are using?
>
> Mike
>
> On Fri, Jun 4, 2010 at 10:10 PM, Shay Banon <kimchy@gmail.com> wrote:
> > Hi,
> >
> >  I have a question on how IndexWriter manages its memory when it comes to
> > RawPostingList. Its pretty late, so sorry if the question is obvious, but
> > the question is when does the RawPostingList array gets reclaimed or
> > shrinked? I assume they get factored in the ram balancing process, but,
> is
> > there a chance that they won't be reclaimed? Can I force them to be
> > reclaimed, I think that IndexWriter#commit does not affect that... . Here
> is
> > a link to a sample heap dump I took (I do call flush):
> > http://skitch.com/kimchy/dg3e4/eclipse-memory-analyzer.
> >
> > Thanks,
> > Shay
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--00151759080e825118048846d4e7--

From java-user-return-46364-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jun 05 11:51:49 2010
Return-Path: <java-user-return-46364-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44240 invoked from network); 5 Jun 2010 11:51:49 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 5 Jun 2010 11:51:49 -0000
Received: (qmail 29961 invoked by uid 500); 5 Jun 2010 11:51:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29743 invoked by uid 500); 5 Jun 2010 11:51:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29735 invoked by uid 99); 5 Jun 2010 11:51:44 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Jun 2010 11:51:44 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [74.125.83.48] (HELO mail-gw0-f48.google.com) (74.125.83.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Jun 2010 11:51:37 +0000
Received: by gwb17 with SMTP id 17so2162947gwb.35
        for <java-user@lucene.apache.org>; Sat, 05 Jun 2010 04:51:16 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.150.99.13 with SMTP id w13mr11198288ybb.139.1275738676130; 
	Sat, 05 Jun 2010 04:51:16 -0700 (PDT)
Received: by 10.151.11.20 with HTTP; Sat, 5 Jun 2010 04:51:16 -0700 (PDT)
In-Reply-To: <AANLkTimn5HsGx-ccWikUc0kxfrzDz-cEXkFpYdaE3Xqc@mail.gmail.com>
References: <AANLkTiku7ARomAntpQfiAzOwWa5CXK-eEoITtFRuhFAE@mail.gmail.com>
	<AANLkTilK_rcWWN5KqswgN_WvRAx6fKNS7u1Y6JOxIyxF@mail.gmail.com>
	<AANLkTimn5HsGx-ccWikUc0kxfrzDz-cEXkFpYdaE3Xqc@mail.gmail.com>
Date: Sat, 5 Jun 2010 07:51:16 -0400
Message-ID: <AANLkTimGwAIuh8-osm1TZQshqvBTQZwbOnKYiourZ65A@mail.gmail.com>
Subject: Re: Index Writer, RawPostingList and Memory Management
From: Michael McCandless <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Previously, they were not freed, just reused.

As of the tips of 29x, 30x, 3x, trunk, they are now fully freed.

Mike

On Sat, Jun 5, 2010 at 7:33 AM, Shay Banon <kimchy@gmail.com> wrote:
> I will check, just wanted to verify though, do they get freed when callin=
g
> commit, or do they still hang around? Other pools are freed when calling
> commit, right?
>
> -shay.banon
>
> On Sat, Jun 5, 2010 at 12:55 PM, Michael McCandless <
> lucene@mikemccandless.com> wrote:
>
>> They are reclaimed, but, you may be hitting one of the memory leak
>> bugs recently fixed but not yet (though soon to be) released.
>>
>> Can you try running with the tip of whichever release you are using?
>>
>> Mike
>>
>> On Fri, Jun 4, 2010 at 10:10 PM, Shay Banon <kimchy@gmail.com> wrote:
>> > Hi,
>> >
>> > =A0I have a question on how IndexWriter manages its memory when it com=
es to
>> > RawPostingList. Its pretty late, so sorry if the question is obvious, =
but
>> > the question is when does the RawPostingList array gets reclaimed or
>> > shrinked? I assume they get factored in the ram balancing process, but=
,
>> is
>> > there a chance that they won't be reclaimed? Can I force them to be
>> > reclaimed, I think that IndexWriter#commit does not affect that... . H=
ere
>> is
>> > a link to a sample heap dump I took (I do call flush):
>> > http://skitch.com/kimchy/dg3e4/eclipse-memory-analyzer.
>> >
>> > Thanks,
>> > Shay
>> >
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46365-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jun 05 12:11:26 2010
Return-Path: <java-user-return-46365-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50839 invoked from network); 5 Jun 2010 12:11:26 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 5 Jun 2010 12:11:26 -0000
Received: (qmail 42930 invoked by uid 500); 5 Jun 2010 12:11:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42823 invoked by uid 500); 5 Jun 2010 12:11:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42815 invoked by uid 99); 5 Jun 2010 12:11:22 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Jun 2010 12:11:22 +0000
X-ASF-Spam-Status: No, hits=3.7 required=10.0
	tests=AWL,FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,SPF_HELO_PASS,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 216.139.236.158 is neither permitted nor denied by domain of calin014@gmail.com)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Jun 2010 12:11:17 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <calin014@gmail.com>)
	id 1OKsDI-0002eF-R1
	for java-user@lucene.apache.org; Sat, 05 Jun 2010 05:10:56 -0700
Date: Sat, 5 Jun 2010 05:10:56 -0700 (PDT)
From: calin014 <calin014@gmail.com>
To: java-user@lucene.apache.org
Message-ID: <1275739856832-872585.post@n3.nabble.com>
In-Reply-To: <AANLkTim8k2PYGGitEiCk5LjKIq5ayl7GbsGhVH-7w1dT@mail.gmail.com>
References: <1274866331700-844442.post@n3.nabble.com> <AANLkTim8k2PYGGitEiCk5LjKIq5ayl7GbsGhVH-7w1dT@mail.gmail.com>
Subject: Re: Precision-recall curve with /contrib/benchmark/quality
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit


Hy,

I did some tests and i keep getting low scores for bm25 on ORP collections.
The implementation is from this patch: 
https://issues.apache.org/jira/browse/LUCENE-2091
https://issues.apache.org/jira/browse/LUCENE-2091 
Is that normal? 

I got the following results using StandardAnalyzer:

http://lucene.472066.n3.nabble.com/file/n872585/prcurve1.png 
http://lucene.472066.n3.nabble.com/file/n872585/prcurve.png 
-- 
View this message in context: http://lucene.472066.n3.nabble.com/Precision-recall-curve-with-contrib-benchmark-quality-tp844442p872585.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46366-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jun 05 12:42:45 2010
Return-Path: <java-user-return-46366-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62020 invoked from network); 5 Jun 2010 12:42:45 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 5 Jun 2010 12:42:45 -0000
Received: (qmail 58715 invoked by uid 500); 5 Jun 2010 12:42:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58666 invoked by uid 500); 5 Jun 2010 12:42:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58658 invoked by uid 99); 5 Jun 2010 12:42:42 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Jun 2010 12:42:42 +0000
X-ASF-Spam-Status: No, hits=3.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of rcmuir@gmail.com designates 209.85.212.48 as permitted sender)
Received: from [209.85.212.48] (HELO mail-vw0-f48.google.com) (209.85.212.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Jun 2010 12:42:35 +0000
Received: by vws1 with SMTP id 1so3705472vws.35
        for <java-user@lucene.apache.org>; Sat, 05 Jun 2010 05:42:14 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type;
        bh=iPDGMsFJDTOR/Uly3A6pHuKTU1xE6hVN6K/MSBQ0Hyg=;
        b=n2aNGoZZ7NdLWJ61GGTaRCGcQrD+hBa3URKPBLPe1rD/VGTqpQ5R0MgmF1C34BjCVW
         yGWFfZV9hNi/gQvp7x4uqhZXooqMPRljMlyX5BvRBOWxZA5rpxoCzHaVDZcjAHNpRHQE
         BJvQZn2XcpEW9zn7bwdclI9FV7Kyhx+ra68i0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=Bn1J+4yp+RMUXv06WUGHLe5nmgaAx6Ls3T1aR6aeMTY2bvzn/wctI2Dcz+U9oCLIbj
         969wBon/7KZyYMDZ0R1JSD20KaNOUtNl3gNT0C2MQok/WFlgqaHxIGwMzuY9ryf57cpP
         9KcHmhPDUeV58AI9RVtXFuKA3NkjWN0dZQvIo=
Received: by 10.224.75.81 with SMTP id x17mr7007197qaj.282.1275741734242; Sat, 
	05 Jun 2010 05:42:14 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.224.67.4 with HTTP; Sat, 5 Jun 2010 05:41:54 -0700 (PDT)
In-Reply-To: <1275739856832-872585.post@n3.nabble.com>
References: <1274866331700-844442.post@n3.nabble.com> <AANLkTim8k2PYGGitEiCk5LjKIq5ayl7GbsGhVH-7w1dT@mail.gmail.com> 
	<1275739856832-872585.post@n3.nabble.com>
From: Robert Muir <rcmuir@gmail.com>
Date: Sat, 5 Jun 2010 08:41:54 -0400
Message-ID: <AANLkTikmLto6JlBA_qW6nuY2s9Ka4y5pDm3hztZvargL@mail.gmail.com>
Subject: Re: Precision-recall curve with /contrib/benchmark/quality
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00163646b784e50a19048847c443
X-Virus-Checked: Checked by ClamAV on apache.org

--00163646b784e50a19048847c443
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

I experienced this problem too, when implementing a prototype of this
similarity for LUCENE-2392, i noticed it consistently provided   better
relevance than this patch. (you can see the prototype, i uploaded it to
LUCENE-2091).

After lots of discussion and debugging with Jos=C3=A9 Ram=C3=B3n P=C3=A9rez=
 Ag=C3=BCera, I found
that both implementations are the same as far as the core formula, but ther=
e
are some current limitations in the LUCENE-2091 patch that can cause it to
often perform worse than lucene's default ranking formula. Here are some
examples:

1. it has its own BooleanQuery, which doesn't support coordination-level
matching [coord()]. This feature often gives a nice relevance boost for
short queries, such as the topic queries in ohsumed and typical queries
users enter to search engines.
2. its IDF formula has no floor, causing some IDF values for very common
words to have negative values. this can be addressed by using
Math.log(*1 +*((n - dfj + 0.5F)/(dfj + 0.5F))).
3. the length normalization encoding is unchanged from lucene's default:
1/sqrt(n), but then quantized to byte encoding. but this patch then has to
undo the square root which itself already lost precision from the encoding.
I think this too causes some problems.

    float fieldNorm =3D
this.getSimilarity().decodeNormValue(this.norm[this.docID()]);
		float length =3D 1 / (fieldNorm * fieldNorm);

So, I think we can fix all of these issues in LUCENE-2392, where the scorin=
g
system is modified to be more friendly to these types of similarities, and
in my tests so far BM25 performs quite well reliably with that system in
place.

Until some things are improved in lucene itself, it would be hard to adjust
the patch in LUCENE-2091 to avoid problems like #3, which is really just th=
e
patch trying to dance around limitations of lucene's scoring API. This
one is much better with the flexible scoring system since it can run the
calculations incorporating both the raw docLength and avgDocLength before
even going to byte[] at all... or if you prefer, not even use byte[] norms
but float[] or something else :)


On Sat, Jun 5, 2010 at 8:10 AM, calin014 <calin014@gmail.com> wrote:

>
> Hy,
>
> I did some tests and i keep getting low scores for bm25 on ORP collection=
s.
> The implementation is from this patch:
> https://issues.apache.org/jira/browse/LUCENE-2091
> https://issues.apache.org/jira/browse/LUCENE-2091
> Is that normal?
>
> I got the following results using StandardAnalyzer:
>
> http://lucene.472066.n3.nabble.com/file/n872585/prcurve1.png
> http://lucene.472066.n3.nabble.com/file/n872585/prcurve.png
> --
> View this message in context:
> http://lucene.472066.n3.nabble.com/Precision-recall-curve-with-contrib-be=
nchmark-quality-tp844442p872585.html
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


--=20
Robert Muir
rcmuir@gmail.com

--00163646b784e50a19048847c443--

From java-user-return-46367-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jun 05 20:27:43 2010
Return-Path: <java-user-return-46367-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70310 invoked from network); 5 Jun 2010 20:27:43 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 5 Jun 2010 20:27:43 -0000
Received: (qmail 46773 invoked by uid 500); 5 Jun 2010 20:27:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46735 invoked by uid 500); 5 Jun 2010 20:27:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46727 invoked by uid 99); 5 Jun 2010 20:27:40 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Jun 2010 20:27:40 +0000
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=AWL,RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [74.125.83.48] (HELO mail-gw0-f48.google.com) (74.125.83.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Jun 2010 20:27:35 +0000
Received: by gwb17 with SMTP id 17so2360111gwb.35
        for <java-user@lucene.apache.org>; Sat, 05 Jun 2010 13:27:14 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.150.117.25 with SMTP id p25mr12252749ybc.254.1275769633236; 
	Sat, 05 Jun 2010 13:27:13 -0700 (PDT)
Received: by 10.151.11.20 with HTTP; Sat, 5 Jun 2010 13:27:13 -0700 (PDT)
Date: Sat, 5 Jun 2010 16:27:13 -0400
Message-ID: <AANLkTik7GiXiR1FUSEsElaUrc14t6RiNDJvhwWE8_6Ca@mail.gmail.com>
Subject: PulsingCodec (in trunk)
From: Michael McCandless <lucene@mikemccandless.com>
To: Lucene Users <java-user@lucene.apache.org>
Content-Type: text/plain; charset=ISO-8859-1

FYI... I was curious to confirm that PulsingCodec (in trunk, with
flexible indexing) gives good performance gains specifically for
primary key fields... so I ran some performance tests and wrote up the
results:

  http://chbits.blogspot.com/2010/06/lucenes-pulsingcodec-on-primary-key.html

Net/net PulsingCodec shows ~45-50% speedup on uncached (in OS's IO
cache) lookups, and ~15% speedup on cached lookups...

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46368-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jun 05 21:17:57 2010
Return-Path: <java-user-return-46368-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80985 invoked from network); 5 Jun 2010 21:17:57 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 5 Jun 2010 21:17:57 -0000
Received: (qmail 71553 invoked by uid 500); 5 Jun 2010 21:17:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71504 invoked by uid 500); 5 Jun 2010 21:17:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71496 invoked by uid 99); 5 Jun 2010 21:17:55 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Jun 2010 21:17:55 +0000
X-ASF-Spam-Status: No, hits=4.2 required=10.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,SPF_HELO_PASS,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: 216.139.236.158 is neither permitted nor denied by domain of calin014@gmail.com)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Jun 2010 21:17:49 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <calin014@gmail.com>)
	id 1OL0kC-00052C-1r
	for java-user@lucene.apache.org; Sat, 05 Jun 2010 14:17:28 -0700
Date: Sat, 5 Jun 2010 14:17:28 -0700 (PDT)
From: calin014 <calin014@gmail.com>
To: java-user@lucene.apache.org
Message-ID: <1275772648051-873240.post@n3.nabble.com>
In-Reply-To: <AANLkTikmLto6JlBA_qW6nuY2s9Ka4y5pDm3hztZvargL@mail.gmail.com>
References: <1274866331700-844442.post@n3.nabble.com> <AANLkTim8k2PYGGitEiCk5LjKIq5ayl7GbsGhVH-7w1dT@mail.gmail.com> <1275739856832-872585.post@n3.nabble.com> <AANLkTikmLto6JlBA_qW6nuY2s9Ka4y5pDm3hztZvargL@mail.gmail.com>
Subject: Re: Precision-recall curve with /contrib/benchmark/quality
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org


Thanks a lot for your quick answer.

I modified the idf formula as you suggested, and got a small improvement.
Then I added coord() to scoring and the boost was pretty big :)

http://lucene.472066.n3.nabble.com/file/n873240/prcurve_bm25.png 

These tests are done on the ohsumed train corpus(i used coord on f2exp also)
http://lucene.472066.n3.nabble.com/file/n873240/prcurve.png 
-- 
View this message in context: http://lucene.472066.n3.nabble.com/Precision-recall-curve-with-contrib-benchmark-quality-tp844442p873240.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46369-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 07 04:34:11 2010
Return-Path: <java-user-return-46369-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89539 invoked from network); 7 Jun 2010 04:34:11 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 7 Jun 2010 04:34:11 -0000
Received: (qmail 94993 invoked by uid 500); 7 Jun 2010 04:34:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94571 invoked by uid 500); 7 Jun 2010 04:34:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94563 invoked by uid 99); 7 Jun 2010 04:34:05 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Jun 2010 04:34:05 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of fancyerii@gmail.com designates 209.85.160.48 as permitted sender)
Received: from [209.85.160.48] (HELO mail-pw0-f48.google.com) (209.85.160.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Jun 2010 04:33:57 +0000
Received: by pwi7 with SMTP id 7so151804pwi.35
        for <java-user@lucene.apache.org>; Sun, 06 Jun 2010 21:33:36 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:date:message-id
         :subject:from:to:content-type;
        bh=UVDaifbDOWaIt/gkwz1vKKAllOD0dmYE/ExuEo0snIg=;
        b=M8V5tm0xw/H8D2F9yW23+1mUPEpATWmATdCRHaVCQddP+I8P2YBVxKV8ItbEKsjHP4
         f1L9JspxIppmELZYWlC1fMFsj2C8GzM5ZSVGzbnRQkrzLqhcFmwWOdHtxy8ueTsmfH3U
         pNKPxsDudDzloXoaDmC2iM8E36SB+AQqbaXeE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=NQtCLd0R3mgLmw9x+i3SLgtB9CtRWwKhUizZgE8+8JIy2J74O1g1mlCIokRsNpIFVN
         DwVXBO5PPkxBXL5XDTTKmqTmaoPe55jDc+h0VAr6im3aT6ECRD1LbXtdSJNcppIh4ZG6
         bqUWojxn4lnFCbPVU6BO3+0TnAvActFJFGxIY=
MIME-Version: 1.0
Received: by 10.143.153.42 with SMTP id f42mr10544758wfo.299.1275885216101; 
	Sun, 06 Jun 2010 21:33:36 -0700 (PDT)
Received: by 10.142.191.18 with HTTP; Sun, 6 Jun 2010 21:33:36 -0700 (PDT)
Date: Mon, 7 Jun 2010 12:33:36 +0800
Message-ID: <AANLkTikTxd1x3dFfSgvfTmCFv9S7oGkOoYG4rCzjahiu@mail.gmail.com>
Subject: how to get term position of a document?
From: Li Li <fancyerii@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

I want to override TermScorer.score()  method to take  position info
into scoring. e.g. any occurence whose position is less than 100 will
get a boost
The original score method:

  public float score() {
    assert doc != -1;
    int f = freqs[pointer];
    float raw =                                   // compute tf(f)*weight
      f < SCORE_CACHE_SIZE                        // check cache
      ? scoreCache[f]                             // cache hit
      : getSimilarity().tf(f)*weightValue;        // cache miss

    return norms == null ? raw : raw * SIM_NORM_DECODER[norms[doc] &
0xFF]; // normalize for field
  }

I want to modify it to:

  public float score() {
    assert doc != -1;
    int f = freqs[pointer];
    float raw =                                   // compute tf(f)*weight
      f < SCORE_CACHE_SIZE                        // check cache
      ? scoreCache[f]                             // cache hit
      : getSimilarity().tf(f)*weightValue;        // cache miss

    //modified
    int[] termPositions=getPositionOfDoc(doc);
    float positionBoost=1.0;
    for(int pos:termPositions){
        positionBoost*=getPositionScore(pos);
    }
    raw*=positionBoost;
    //end

    return norms == null ? raw : raw * SIM_NORM_DECODER[norms[doc] &
0xFF]; // normalize for field
  }

So I need to get position info of a term given a doc id by       int[]
getPositionOfDoc(doc);
I read some codes of SpanQuery

TermPositions positions;

while(positions.next()){//enum all docs containing the term
      doc = positions.doc();
      freq = positions.freq();  //current doc's tf
      for(int i=0;i<freq;i++){
           position = positions.nextPosition();  // get all the
position information of current doc
      }
}

But to get the doc's position info, I have to sequentially call
positions.next() like this
int[] getPositionOfDoc(doc){
    while(positions.next()){
           currentDoc = positions.doc();
           if(currentDoc==doc){// find it
                      freq = positions.freq();  //current doc's tf
                      for(int i=0;i<freq;i++){
                          //collect info
                      }
                      return result;
           }
    }
}

is there any method like random access to the position of doc? as far
as I know, lucene's invert index is implemented by skip list which
support log(n) search

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46370-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 07 08:52:44 2010
Return-Path: <java-user-return-46370-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52856 invoked from network); 7 Jun 2010 08:52:44 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 7 Jun 2010 08:52:44 -0000
Received: (qmail 6331 invoked by uid 500); 7 Jun 2010 08:52:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6153 invoked by uid 500); 7 Jun 2010 08:52:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6145 invoked by uid 99); 7 Jun 2010 08:52:41 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Jun 2010 08:52:41 +0000
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=SPF_HELO_PASS,SPF_SOFTFAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: softfail (nike.apache.org: transitioning domain of regan.heath@bridgeheadsoftware.com does not designate 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Jun 2010 08:52:34 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <regan.heath@BridgeHeadSoftware.com>)
	id 1OLY45-0001zS-RM
	for java-user@lucene.apache.org; Mon, 07 Jun 2010 01:52:13 -0700
Date: Mon, 7 Jun 2010 01:52:13 -0700 (PDT)
From: Regan Heath <regan.heath@BridgeHeadSoftware.com>
To: java-user@lucene.apache.org
Message-ID: <1275900733831-875713.post@n3.nabble.com>
In-Reply-To: <1274800094618-842321.post@n3.nabble.com>
References: <1274780529673-841735.post@n3.nabble.com> <AANLkTikLbtYDza9PYACV3ioC-ia0Y1-COBchbCpNo-Fb@mail.gmail.com> <1274800094618-842321.post@n3.nabble.com>
Subject: Re: indexWriter.addIndexes, Disk space, and open files
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org


If you don't want to use the ImDisk software, a small flash drive will do
just as well...


Regan Heath wrote:
> 
> Windows XP.  
> 
> The problem occurs on the local file system, but to replicate it more
> easily I am using http://www.ltr-data.se/opencode.html#ImDisk to mount a
> virtual 10mb disk on F:\.  It is formatted as an NTFS file system.
> 
> The files can be removed normally (delete from explorer or command prompt)
> after program shut down.  In fact, the program cleans them up itself on
> restart (an interim solution).
> 
> Process Explorer shows the program has handles to these three files open.
> 
> 
> Erick Erickson wrote:
>> 
>> What op system and what file system are you using? Is the file system
>> local
>> or
>> networked?
>> 
>> What does it take to remove the files. That is, can you do it manually
>> after
>> the
>> program shuts down?
>> 
>> Best
>> Erick
>> 
> 
-- 
View this message in context: http://lucene.472066.n3.nabble.com/indexWriter-addIndexes-Disk-space-and-open-files-tp841735p875713.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46371-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 07 09:47:46 2010
Return-Path: <java-user-return-46371-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69301 invoked from network); 7 Jun 2010 09:47:46 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 7 Jun 2010 09:47:46 -0000
Received: (qmail 53261 invoked by uid 500); 7 Jun 2010 09:47:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53076 invoked by uid 500); 7 Jun 2010 09:47:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53062 invoked by uid 99); 7 Jun 2010 09:47:40 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Jun 2010 09:47:40 +0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=AWL,RCVD_IN_DNSWL_NONE,SPF_NEUTRAL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.211.194] (HELO mail-yw0-f194.google.com) (209.85.211.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Jun 2010 09:47:36 +0000
Received: by ywh32 with SMTP id 32so2977626ywh.5
        for <java-user@lucene.apache.org>; Mon, 07 Jun 2010 02:47:15 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.151.61.12 with SMTP id o12mr13523259ybk.449.1275904033891; 
	Mon, 07 Jun 2010 02:47:13 -0700 (PDT)
Received: by 10.151.11.20 with HTTP; Mon, 7 Jun 2010 02:47:13 -0700 (PDT)
In-Reply-To: <1275900733831-875713.post@n3.nabble.com>
References: <1274780529673-841735.post@n3.nabble.com>
	<AANLkTikLbtYDza9PYACV3ioC-ia0Y1-COBchbCpNo-Fb@mail.gmail.com>
	<1274800094618-842321.post@n3.nabble.com>
	<1275900733831-875713.post@n3.nabble.com>
Date: Mon, 7 Jun 2010 05:47:13 -0400
Message-ID: <AANLkTilViLXbdJKbns2EbnJdm0mss7ps8VWIuMWxXQ6w@mail.gmail.com>
Subject: Re: indexWriter.addIndexes, Disk space, and open files
From: Michael McCandless <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

This is a bug in how Lucene handles IOException while closing files.

Look at SegmentMerger's sources, for 2.3.2:

  https://svn.apache.org/repos/asf/lucene/java/tags/lucene_2_3_2/src/java/o=
rg/apache/lucene/index/SegmentMerger.java

Look at the finally clause in mergeTerms:

    } finally {
      if (freqOutput !=3D null) freqOutput.close();
      if (proxOutput !=3D null) proxOutput.close();
      if (termInfosWriter !=3D null) termInfosWriter.close();
      if (queue !=3D null) queue.close();
    }

You are hitting an exception in that freqOutput.close, which means the
proxOutput (*.prx) and termInfosWriter (*.tii, *.tis) are not
successfully closed.  It looks like the bug is still present to some
degree through 3x, but fixed (at least specifically for segment
merging, but likely not in other places) in trunk.

Likely what happened is you hit a disk full inside the "try" part, and
so the finally clause went to close the files, but close then tries to
flush the pending buffer, which also hits disk full.

Mike

On Mon, Jun 7, 2010 at 4:52 AM, Regan Heath
<regan.heath@bridgeheadsoftware.com> wrote:
>
> If you don't want to use the ImDisk software, a small flash drive will do
> just as well...
>
>
> Regan Heath wrote:
>>
>> Windows XP.
>>
>> The problem occurs on the local file system, but to replicate it more
>> easily I am using http://www.ltr-data.se/opencode.html#ImDisk to mount a
>> virtual 10mb disk on F:\. =A0It is formatted as an NTFS file system.
>>
>> The files can be removed normally (delete from explorer or command promp=
t)
>> after program shut down. =A0In fact, the program cleans them up itself o=
n
>> restart (an interim solution).
>>
>> Process Explorer shows the program has handles to these three files open=
.
>>
>>
>> Erick Erickson wrote:
>>>
>>> What op system and what file system are you using? Is the file system
>>> local
>>> or
>>> networked?
>>>
>>> What does it take to remove the files. That is, can you do it manually
>>> after
>>> the
>>> program shuts down?
>>>
>>> Best
>>> Erick
>>>
>>
> --
> View this message in context: http://lucene.472066.n3.nabble.com/indexWri=
ter-addIndexes-Disk-space-and-open-files-tp841735p875713.html
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46372-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 07 10:18:39 2010
Return-Path: <java-user-return-46372-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79193 invoked from network); 7 Jun 2010 10:18:39 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 7 Jun 2010 10:18:39 -0000
Received: (qmail 76568 invoked by uid 500); 7 Jun 2010 10:18:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76386 invoked by uid 500); 7 Jun 2010 10:18:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76375 invoked by uid 99); 7 Jun 2010 10:18:36 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Jun 2010 10:18:36 +0000
X-ASF-Spam-Status: No, hits=3.0 required=10.0
	tests=AWL,SPF_HELO_PASS,SPF_SOFTFAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: softfail (athena.apache.org: transitioning domain of regan.heath@bridgeheadsoftware.com does not designate 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Jun 2010 10:18:30 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <regan.heath@BridgeHeadSoftware.com>)
	id 1OLZPE-0000Sh-Vm
	for java-user@lucene.apache.org; Mon, 07 Jun 2010 03:18:08 -0700
Date: Mon, 7 Jun 2010 03:18:08 -0700 (PDT)
From: Regan Heath <regan.heath@BridgeHeadSoftware.com>
To: java-user@lucene.apache.org
Message-ID: <1275905888978-875884.post@n3.nabble.com>
In-Reply-To: <AANLkTilViLXbdJKbns2EbnJdm0mss7ps8VWIuMWxXQ6w@mail.gmail.com>
References: <1274780529673-841735.post@n3.nabble.com> <AANLkTikLbtYDza9PYACV3ioC-ia0Y1-COBchbCpNo-Fb@mail.gmail.com> <1274800094618-842321.post@n3.nabble.com> <1275900733831-875713.post@n3.nabble.com> <AANLkTilViLXbdJKbns2EbnJdm0mss7ps8VWIuMWxXQ6w@mail.gmail.com>
Subject: Re: indexWriter.addIndexes, Disk space, and open files
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable


That's pretty much exactly what I suspected was happening.  I've had the sa=
me
problem myself on another occasion... out of interest is there any way to
force the file closed without flushing?  From memory I tried everything I
could think of at the time but couldn't manage it.  Best I could do was
catch and swallow the expected exception from close and carry on.

So, the only option for us is to upgrade the version of lucene we're using
to the current trunk?  Is there no existing stable release version
containing the fix?  If not, when do you estimate the next stable release
with the fix will be available?

Thanks,
Regan


Michael McCandless-2 wrote:
>=20
> This is a bug in how Lucene handles IOException while closing files.
>=20
> Look at SegmentMerger's sources, for 2.3.2:
>=20
> =20
> https://svn.apache.org/repos/asf/lucene/java/tags/lucene_2_3_2/src/java/o=
rg/apache/lucene/index/SegmentMerger.java
>=20
> Look at the finally clause in mergeTerms:
>=20
>     } finally {
>       if (freqOutput !=3D null) freqOutput.close();
>       if (proxOutput !=3D null) proxOutput.close();
>       if (termInfosWriter !=3D null) termInfosWriter.close();
>       if (queue !=3D null) queue.close();
>     }
>=20
> You are hitting an exception in that freqOutput.close, which means the
> proxOutput (*.prx) and termInfosWriter (*.tii, *.tis) are not
> successfully closed.  It looks like the bug is still present to some
> degree through 3x, but fixed (at least specifically for segment
> merging, but likely not in other places) in trunk.
>=20
> Likely what happened is you hit a disk full inside the "try" part, and
> so the finally clause went to close the files, but close then tries to
> flush the pending buffer, which also hits disk full.
>=20
> Mike
>=20
> On Mon, Jun 7, 2010 at 4:52 AM, Regan Heath
> <regan.heath@bridgeheadsoftware.com> wrote:
>>
>> If you don't want to use the ImDisk software, a small flash drive will d=
o
>> just as well...
>>
>>
>> Regan Heath wrote:
>>>
>>> Windows XP.
>>>
>>> The problem occurs on the local file system, but to replicate it more
>>> easily I am using http://www.ltr-data.se/opencode.html#ImDisk to mount =
a
>>> virtual 10mb disk on F:\. =C2=A0It is formatted as an NTFS file system.
>>>
>>> The files can be removed normally (delete from explorer or command
>>> prompt)
>>> after program shut down. =C2=A0In fact, the program cleans them up itse=
lf on
>>> restart (an interim solution).
>>>
>>> Process Explorer shows the program has handles to these three files
>>> open.
>>>
>>>
>>> Erick Erickson wrote:
>>>>
>>>> What op system and what file system are you using? Is the file system
>>>> local
>>>> or
>>>> networked?
>>>>
>>>> What does it take to remove the files. That is, can you do it manually
>>>> after
>>>> the
>>>> program shuts down?
>>>>
>>>> Best
>>>> Erick
>>>>
>>>
>> --
>> View this message in context:
>> http://lucene.472066.n3.nabble.com/indexWriter-addIndexes-Disk-space-and=
-open-files-tp841735p875713.html
>> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20
>=20
--=20
View this message in context: http://lucene.472066.n3.nabble.com/indexWrite=
r-addIndexes-Disk-space-and-open-files-tp841735p875884.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46373-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 07 10:52:38 2010
Return-Path: <java-user-return-46373-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85295 invoked from network); 7 Jun 2010 10:52:38 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 7 Jun 2010 10:52:38 -0000
Received: (qmail 98698 invoked by uid 500); 7 Jun 2010 10:52:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98545 invoked by uid 500); 7 Jun 2010 10:52:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98537 invoked by uid 99); 7 Jun 2010 10:52:35 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Jun 2010 10:52:35 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.222.194] (HELO mail-pz0-f194.google.com) (209.85.222.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Jun 2010 10:52:29 +0000
Received: by pzk32 with SMTP id 32so1500474pzk.21
        for <java-user@lucene.apache.org>; Mon, 07 Jun 2010 03:52:07 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.114.189.18 with SMTP id m18mr11470380waf.28.1275907927342; 
	Mon, 07 Jun 2010 03:52:07 -0700 (PDT)
Received: by 10.114.182.10 with HTTP; Mon, 7 Jun 2010 03:52:07 -0700 (PDT)
In-Reply-To: <1275905888978-875884.post@n3.nabble.com>
References: <1274780529673-841735.post@n3.nabble.com>
	<AANLkTikLbtYDza9PYACV3ioC-ia0Y1-COBchbCpNo-Fb@mail.gmail.com>
	<1274800094618-842321.post@n3.nabble.com>
	<1275900733831-875713.post@n3.nabble.com>
	<AANLkTilViLXbdJKbns2EbnJdm0mss7ps8VWIuMWxXQ6w@mail.gmail.com>
	<1275905888978-875884.post@n3.nabble.com>
Date: Mon, 7 Jun 2010 06:52:07 -0400
Message-ID: <AANLkTikNozElA37RStr0xJ8r77DzNjxqiqTkl1UxU8q-@mail.gmail.com>
Subject: Re: indexWriter.addIndexes, Disk space, and open files
From: Michael McCandless <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On Mon, Jun 7, 2010 at 6:18 AM, Regan Heath
<regan.heath@bridgeheadsoftware.com> wrote:
>
> That's pretty much exactly what I suspected was happening. =A0I've had th=
e same
> problem myself on another occasion... out of interest is there any way to
> force the file closed without flushing?

No, IndexOutput has no such method.  We could consider adding one...

> From memory I tried everything I
> could think of at the time but couldn't manage it. =A0Best I could do was
> catch and swallow the expected exception from close and carry on.

I think that's the best to do w/ today's API; but, you should save the
first IOE you hit, then force close the remaining files, then throw
that IOE.

> So, the only option for us is to upgrade the version of lucene we're usin=
g
> to the current trunk? =A0Is there no existing stable release version
> containing the fix? =A0If not, when do you estimate the next stable relea=
se
> with the fix will be available?

I don't think any release of Lucene will have fixed all of these
cases, yet.  Patches welcome :)

Actually, the best fix is something Earwin created but is not yet
committed (nor in a patch yet, I think), which adds a nice API for
closing multiple IndexOutputs safely.  Earwin, maybe you could pull
out just this part of your patch and open a separate issue?  Then we
can fix all places in Lucene that need to close multiple IndexOutputs
to use this API.

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46374-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 07 11:19:41 2010
Return-Path: <java-user-return-46374-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93608 invoked from network); 7 Jun 2010 11:19:41 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 7 Jun 2010 11:19:41 -0000
Received: (qmail 19518 invoked by uid 500); 7 Jun 2010 11:19:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19126 invoked by uid 500); 7 Jun 2010 11:19:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19118 invoked by uid 99); 7 Jun 2010 11:19:34 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Jun 2010 11:19:34 +0000
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=SPF_HELO_PASS,SPF_SOFTFAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: softfail (nike.apache.org: transitioning domain of regan.heath@bridgeheadsoftware.com does not designate 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Jun 2010 11:19:27 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <regan.heath@BridgeHeadSoftware.com>)
	id 1OLaME-0005WD-Ca
	for java-user@lucene.apache.org; Mon, 07 Jun 2010 04:19:06 -0700
Date: Mon, 7 Jun 2010 04:19:06 -0700 (PDT)
From: Regan Heath <regan.heath@BridgeHeadSoftware.com>
To: java-user@lucene.apache.org
Message-ID: <1275909546382-876022.post@n3.nabble.com>
In-Reply-To: <AANLkTikNozElA37RStr0xJ8r77DzNjxqiqTkl1UxU8q-@mail.gmail.com>
References: <1274780529673-841735.post@n3.nabble.com> <AANLkTikLbtYDza9PYACV3ioC-ia0Y1-COBchbCpNo-Fb@mail.gmail.com> <1274800094618-842321.post@n3.nabble.com> <1275900733831-875713.post@n3.nabble.com> <AANLkTilViLXbdJKbns2EbnJdm0mss7ps8VWIuMWxXQ6w@mail.gmail.com> <1275905888978-875884.post@n3.nabble.com> <AANLkTikNozElA37RStr0xJ8r77DzNjxqiqTkl1UxU8q-@mail.gmail.com>
Subject: Re: indexWriter.addIndexes, Disk space, and open files
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org


>> That's pretty much exactly what I suspected was happening. =C2=A0I've ha=
d the
same
>> problem myself on another occasion... out of interest is there any way t=
o
>> force the file closed without flushing?
>
>No, IndexOutput has no such method.  We could consider adding one...

That sounds useful in general. =20

In our case what we actually want is to abort the merge and delete all the
new files created.  But then, our usage may be slightly unusual in that we
merge an existing 'master' index and a number of 'temporary' indices into a
new master index.  On success we delete the old master and rename the new
master into it's place.

We're doing disk space checks prior to merge, based on the docs here:
http://lucene.apache.org/java/2_3_2/api/org/apache/lucene/index/IndexWriter=
.html#optimize()

but I disabled these to test this out of disk space case, as it is possible
something else could use up the required space during the merge.

>> From memory I tried everything I
>> could think of at the time but couldn't manage it. =C2=A0Best I could do=
 was
>> catch and swallow the expected exception from close and carry on.
>
>I think that's the best to do w/ today's API; but, you should save the
>first IOE you hit, then force close the remaining files, then throw
>that IOE.

When you say 'force' close do you just mean wrapping the close calls in
try/catch(IOException) where the catch block is empty (swallows the
exception)?  Or is there a specific call to force a file closed?

>> So, the only option for us is to upgrade the version of lucene we're
>> using
>> to the current trunk? =C2=A0Is there no existing stable release version
>> containing the fix? =C2=A0If not, when do you estimate the next stable r=
elease
>> with the fix will be available?
>
>I don't think any release of Lucene will have fixed all of these
>cases, yet.  Patches welcome :)

I would if I had the time, or sufficient understanding of the existing code=
,
sadly I've only looked at it for 5  mins. :(

>Actually, the best fix is something Earwin created but is not yet
>committed (nor in a patch yet, I think), which adds a nice API for
>closing multiple IndexOutputs safely.  Earwin, maybe you could pull
>out just this part of your patch and open a separate issue?  Then we
>can fix all places in Lucene that need to close multiple IndexOutputs
>to use this API.

That sounds great.. I'm not sure if something like this is useful to you..

public class Safe
{
    /**
     * Safely closes any object that implements closeable
     *
     * @param     closeable The object to close
     */
    public static void close(Closeable closeable)
    {
        try
        {
            closeable.close();
        }
        catch(Exception e)
        {
            // ignore
        }
        finally
        {
            closeable =3D null;
        }
    }
}

We use this in catch and finally blocks where we do not want to raise an
exception.
--=20
View this message in context: http://lucene.472066.n3.nabble.com/indexWrite=
r-addIndexes-Disk-space-and-open-files-tp841735p876022.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46375-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 07 12:46:36 2010
Return-Path: <java-user-return-46375-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20452 invoked from network); 7 Jun 2010 12:46:36 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 7 Jun 2010 12:46:36 -0000
Received: (qmail 94664 invoked by uid 500); 7 Jun 2010 12:46:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94443 invoked by uid 500); 7 Jun 2010 12:46:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94432 invoked by uid 99); 7 Jun 2010 12:46:33 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Jun 2010 12:46:33 +0000
X-ASF-Spam-Status: No, hits=3.0 required=10.0
	tests=FORGED_YAHOO_RCVD,FREEMAIL_FROM,SPF_HELO_PASS,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Jun 2010 12:46:26 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <andrew_nuss@yahoo.com>)
	id 1OLbiP-0004FB-LK
	for java-user@lucene.apache.org; Mon, 07 Jun 2010 05:46:05 -0700
Date: Mon, 7 Jun 2010 05:46:05 -0700 (PDT)
From: andynuss <andrew_nuss@yahoo.com>
To: java-user@lucene.apache.org
Message-ID: <1275914765651-876181.post@n3.nabble.com>
Subject: index field used for boosting rank
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org


Hi,

I want to add a rank field to my index with numbers 1 thru 10, and apply a
boost appropriate for each of the values.  One of the other indexed fields
is huge, about 40,000 chars.  My understanding is that if I change the new
"rank" field from 1 to 2, the huge field is reindexed.  Is there any way to
avoid this?  What do others do?

(I would use IndexWriter.updateDocument "which deletes and readds the entire
document".)

Andy
-- 
View this message in context: http://lucene.472066.n3.nabble.com/index-field-used-for-boosting-rank-tp876181p876181.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46376-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 07 13:20:21 2010
Return-Path: <java-user-return-46376-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32721 invoked from network); 7 Jun 2010 13:20:21 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 7 Jun 2010 13:20:21 -0000
Received: (qmail 54245 invoked by uid 500); 7 Jun 2010 13:20:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54195 invoked by uid 500); 7 Jun 2010 13:20:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54187 invoked by uid 99); 7 Jun 2010 13:20:18 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Jun 2010 13:20:18 +0000
X-ASF-Spam-Status: No, hits=-0.1 required=10.0
	tests=AWL,FREEMAIL_FROM,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ian.lea@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Jun 2010 13:20:12 +0000
Received: by fxm12 with SMTP id 12so2720975fxm.35
        for <java-user@lucene.apache.org>; Mon, 07 Jun 2010 06:19:51 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type
         :content-transfer-encoding;
        bh=i6a/tnH4EooRkl2R4/Zwni3uqQ+AGV1Z4dwnBJc77PM=;
        b=aoDU7bE28YzOi1SJgQSWBfBvelDWi+D7PwHqbVwdaxIzEwVfZb3mn4LwDTyJqTy23H
         n+jJl4mwOdmT6bP1lZhMY03VZsLuv/QVO9VYZpqTHrImVzBZXh7v1UIAxf2M1Ybg6N9S
         NGSioXYINFiGRqR5QTWkUYbnZTMPaW9icxlrA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=Ju59tcntAOLdypBvrYZC5FtUqF9/M+uTSvRV/u+hpHOk1L14AupwB1KcSR3kRTPLOY
         xYGtMDOj5vcvxlQZvB9oNGKm+4ETC8LpQKWo/23qlGmCzXnTlL/rdCKkVHGP1tSNlb2i
         k+RZDNWqVYULCG73pKX5koAFkHaCu2vcu4tX8=
Received: by 10.204.134.133 with SMTP id j5mr6359362bkt.159.1275916791156; 
	Mon, 07 Jun 2010 06:19:51 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.204.59.129 with HTTP; Mon, 7 Jun 2010 06:19:31 -0700 (PDT)
In-Reply-To: <1275914765651-876181.post@n3.nabble.com>
References: <1275914765651-876181.post@n3.nabble.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Mon, 7 Jun 2010 14:19:31 +0100
Message-ID: <AANLkTinEg33gw8etVOv1LgLbxf073elQy6nGagO2A9Us@mail.gmail.com>
Subject: Re: index field used for boosting rank
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Your understanding is correct.  There is no way to just add a new
field to an existing document, or to update one field in an existing
document.


--
Ian.


On Mon, Jun 7, 2010 at 1:46 PM, andynuss <andrew_nuss@yahoo.com> wrote:
>
> Hi,
>
> I want to add a rank field to my index with numbers 1 thru 10, and apply =
a
> boost appropriate for each of the values. =A0One of the other indexed fie=
lds
> is huge, about 40,000 chars. =A0My understanding is that if I change the =
new
> "rank" field from 1 to 2, the huge field is reindexed. =A0Is there any wa=
y to
> avoid this? =A0What do others do?
>
> (I would use IndexWriter.updateDocument "which deletes and readds the ent=
ire
> document".)
>
> Andy
> --
> View this message in context: http://lucene.472066.n3.nabble.com/index-fi=
eld-used-for-boosting-rank-tp876181p876181.html
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46377-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 07 14:43:55 2010
Return-Path: <java-user-return-46377-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66357 invoked from network); 7 Jun 2010 14:43:55 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 7 Jun 2010 14:43:55 -0000
Received: (qmail 71614 invoked by uid 500); 7 Jun 2010 14:43:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71490 invoked by uid 500); 7 Jun 2010 14:43:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71481 invoked by uid 99); 7 Jun 2010 14:43:52 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Jun 2010 14:43:52 +0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=AWL,FREEMAIL_FROM,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aad.nales@gmail.com designates 74.125.82.48 as permitted sender)
Received: from [74.125.82.48] (HELO mail-ww0-f48.google.com) (74.125.82.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Jun 2010 14:43:46 +0000
Received: by wwc33 with SMTP id 33so3859302wwc.35
        for <java-user@lucene.apache.org>; Mon, 07 Jun 2010 07:43:22 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:date:message-id
         :subject:from:to:content-type;
        bh=Lfa967KTtYLlRGjvZQqJSQMNkZMcJjYFQdqmdCs9Vk4=;
        b=mjTyVVfBL72cImypMsXLwkhTyM0m5LiFmpFuX0PgrL7Lu78nNjvE7tSfy0tuNXBmie
         S89sDAls+syFVVDKVy6NJsfXSDJRrqxu+WcDeM6iFz/OdiFs4bdEP862LJahaoiqCgPN
         YBXNYxrWVYcMIBhUp0UT4/KKmV7Y6k9qvLUUo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=p2kHcVbco95EofDw0mudjbHTx5FadQXfGrgdxoMG/vrjkvvKjLoyVZitF1KW8m1KMm
         Yl2Byn3vWdPfM2K+Hz8pKrjRPE9gJtoHUTguWayd8RCHgFAHinFLhdNZuWjOKT2aQBYP
         SbSKuCvPAc6MdVyMKQ7V+8KBdt7UnyT3v/+UQ=
MIME-Version: 1.0
Received: by 10.216.86.19 with SMTP id v19mr2371756wee.89.1275921801036; Mon, 
	07 Jun 2010 07:43:21 -0700 (PDT)
Received: by 10.216.157.135 with HTTP; Mon, 7 Jun 2010 07:43:20 -0700 (PDT)
Date: Mon, 7 Jun 2010 16:43:20 +0200
Message-ID: <AANLkTimk386EL6XVB_fSBzST63uQj_BxcaMf7Q1BaG_y@mail.gmail.com>
Subject: How to add "tokens" to a stream
From: Aad Nales <aad.nales@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8

Hi All,

Years ago we implemented a Lucene solution which we are updating
today, and i am a bit lost on the following.

In Lucene 1.x and 2.x it was possible to add a token in a Filter
simply by returning an extra Token when next was being called. What i
can not find is an equivalent possiblity for adding a Token in a
filter. The incrementToken() seem to be the logical place to implement
similar functionality (at least it could trigger it) but i am a bit
lost how to access the stream and insert an extra token. Any
suggestions?

cheers,
Aad

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46378-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 07 14:48:15 2010
Return-Path: <java-user-return-46378-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68706 invoked from network); 7 Jun 2010 14:48:13 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 7 Jun 2010 14:48:13 -0000
Received: (qmail 80707 invoked by uid 500); 7 Jun 2010 14:48:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80662 invoked by uid 500); 7 Jun 2010 14:48:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80654 invoked by uid 99); 7 Jun 2010 14:48:11 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Jun 2010 14:48:11 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aad.nales@gmail.com designates 74.125.82.48 as permitted sender)
Received: from [74.125.82.48] (HELO mail-ww0-f48.google.com) (74.125.82.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Jun 2010 14:48:03 +0000
Received: by wwc33 with SMTP id 33so3865209wwc.35
        for <java-user@lucene.apache.org>; Mon, 07 Jun 2010 07:47:43 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:date:message-id
         :subject:from:to:content-type;
        bh=vhbyPLzaOIi4QjMwRmJrWV46ftIwnwmhDpHSUrwl03o=;
        b=HFYpy4doh+utcpIWEhhcSFoorwX4jC94tmG9byrV1Vjgc/AjYmM5xhQF0fLkytitQ5
         qH7hCbH9Ugl8blw04ScoGwvetKgwaonSFgNHkBCmsib+d/mQ28Ld9TPorUXBqfUKVgUN
         xJi8hyITVtNIlwvjBkzaCCp09aZyMNUzuvk1Q=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=DmMX3qYTBrWefx/f5vbLj/I7oDcAVOwklX0VsESa8z696V7jc9Km4dP5tl4H9Xhltg
         o9A4d9KZ2LiNa09oIjIcIUpftNhMd4CWj7/xIbkIv75XApY9kLU5ZotJstnd46aobAA6
         WN6M/GEom2MQqWNDEpmlEs5d5nOpjGgLInHtU=
MIME-Version: 1.0
Received: by 10.216.85.74 with SMTP id t52mr2397866wee.99.1275922063366; Mon, 
	07 Jun 2010 07:47:43 -0700 (PDT)
Received: by 10.216.157.135 with HTTP; Mon, 7 Jun 2010 07:47:43 -0700 (PDT)
Date: Mon, 7 Jun 2010 16:47:43 +0200
Message-ID: <AANLkTildZYRKgBdKVUpkHGsA62WkNg5a24FjY646Jn_8@mail.gmail.com>
Subject: synonym highlighter
From: Aad Nales <aad.nales@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

Hi All,

We are mixing Lucene with a commercial service giving us all kinds of
synonyms. We add these synonyms to the index and we can search with
them. The problem we have is 'highlighting' the orginal word when a
synonym is found.

We were thinking along the following approach.

1. Get a term
2. Find the synonyms and add them as tokens to a stream with a PayLoad
that holds the original term
3. When a hit is found on a synonym get the original term from the
payload and execute a highlight based on the original term

What i have not been able to do is 'read' the payload from a term in
the index. I am missing something obvious?

thanks,
Aad

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46379-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 07 14:53:44 2010
Return-Path: <java-user-return-46379-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71222 invoked from network); 7 Jun 2010 14:53:44 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 7 Jun 2010 14:53:44 -0000
Received: (qmail 91886 invoked by uid 500); 7 Jun 2010 14:53:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91855 invoked by uid 500); 7 Jun 2010 14:53:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91847 invoked by uid 99); 7 Jun 2010 14:53:42 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Jun 2010 14:53:42 +0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=AWL,FREEMAIL_FROM,FREEMAIL_REPLYTO,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of simon.willnauer@googlemail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Jun 2010 14:53:36 +0000
Received: by fxm12 with SMTP id 12so2836470fxm.35
        for <java-user@lucene.apache.org>; Mon, 07 Jun 2010 07:53:15 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:reply-to
         :in-reply-to:references:date:message-id:subject:from:to:content-type;
        bh=4h/8mPJqmFUHYBkll15LMcmufZlr3AMbkf16NJ8j6Gw=;
        b=P6eJOBf+lTaOvfv5sTDd9ViuKbytNXUKFfxjIeYuE27Lvtjc1rfUUcxXHEzhQ06imI
         JDSX7354Q3ClmyABqSvghfiSTDue/sOpXW69WcOP1dgI60IE+hE8fx/ClV1mF6hx+Sqj
         AJTtRfmZ+/BFavs0/QX+SliPGlH9BJ3hXUonU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=mime-version:reply-to:in-reply-to:references:date:message-id
         :subject:from:to:content-type;
        b=BppmCk+soGYd86sMuKna08dP9q4N9gA52j/awlkl5F5MQmPnvkcD2mtJ/jG/sbaLdM
         Hbs56NYJYmiU1SArhXIyeaoSFJTN2gbIR4E0HqfrWusVm8lkfoX9qENWHsZNe+soALA3
         OrO+ibljE+cIwMgGSwrnaemhS2g5XWrM89M+8=
MIME-Version: 1.0
Received: by 10.239.182.2 with SMTP id o2mr1078766hbg.51.1275922395037; Mon, 
	07 Jun 2010 07:53:15 -0700 (PDT)
Received: by 10.239.145.75 with HTTP; Mon, 7 Jun 2010 07:53:15 -0700 (PDT)
Reply-To: simon.willnauer@gmail.com
In-Reply-To: <AANLkTimk386EL6XVB_fSBzST63uQj_BxcaMf7Q1BaG_y@mail.gmail.com>
References: <AANLkTimk386EL6XVB_fSBzST63uQj_BxcaMf7Q1BaG_y@mail.gmail.com>
Date: Mon, 7 Jun 2010 16:53:15 +0200
Message-ID: <AANLkTily4oGnwUe3a_DrkkXp1o1E3XhxqNyFOKsMphkP@mail.gmail.com>
Subject: Re: How to add "tokens" to a stream
From: Simon Willnauer <simon.willnauer@googlemail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8

Hey there,
in lucene 3.0 / 2.9 the Token class has been remove / replaced with an
Attribute based API. A TokenStream operates on Attibutes it has
declared which are eventually accessed by the IndexWriter to create
the inverted index. There are Attributes like TermAttribute,
PositionIncrementAttribute and OffsetAttribute that roughly reflect
the fields of the Token class. If you want to return an extra token /
Term from the Attribute based API you just set the TermAttribute value
and all other attributes you wanna use and return true from the
TokenStream#incrementToken()

something like this

public boolean incrementToken() {
  if(input.incrementToken()){
     // process the tokens in the stream
    return true;
  } else if (!extraTokens.isEmtpy()){
    // return extra token
    termAttribute.setTerm(extraTokens.pop())
    return true;
  }
  return false;

}

does that make sense?

simon

On Mon, Jun 7, 2010 at 4:43 PM, Aad Nales <aad.nales@gmail.com> wrote:
> Hi All,
>
> Years ago we implemented a Lucene solution which we are updating
> today, and i am a bit lost on the following.
>
> In Lucene 1.x and 2.x it was possible to add a token in a Filter
> simply by returning an extra Token when next was being called. What i
> can not find is an equivalent possiblity for adding a Token in a
> filter. The incrementToken() seem to be the logical place to implement
> similar functionality (at least it could trigger it) but i am a bit
> lost how to access the stream and insert an extra token. Any
> suggestions?
>
> cheers,
> Aad
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46380-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 07 14:56:25 2010
Return-Path: <java-user-return-46380-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72083 invoked from network); 7 Jun 2010 14:56:25 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 7 Jun 2010 14:56:25 -0000
Received: (qmail 96472 invoked by uid 500); 7 Jun 2010 14:56:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96439 invoked by uid 500); 7 Jun 2010 14:56:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96431 invoked by uid 99); 7 Jun 2010 14:56:22 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Jun 2010 14:56:22 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=AWL,FREEMAIL_FROM,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aad.nales@gmail.com designates 74.125.82.176 as permitted sender)
Received: from [74.125.82.176] (HELO mail-wy0-f176.google.com) (74.125.82.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Jun 2010 14:56:17 +0000
Received: by wyb29 with SMTP id 29so356875wyb.35
        for <java-user@lucene.apache.org>; Mon, 07 Jun 2010 07:55:56 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=8NR9+yOI8vNxNO2sgQ6oD0qGrOnh226cbB+sa3H9U78=;
        b=QfPkqqfk3woSJqWjsBy1ok19U0euviXNFgMCxnJjmU4BGK/KV8y4+X+sTjRRlHY+lP
         pir6iC+RPrBOm9UGu/iaopXKFZz7IzmXDzwYunlPj5I1t514v+0B+a0VvKxzRIButQwy
         MK4ikEx6f1O5dAjmg4c2fj+sCZFg1f9tBXMUw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=Df023YO2uRhLqWFq7FAMuwdllDCiR2/SKSc3EGCZfn8RIp6RcL/gLN6UazmBebm34V
         /F1wpTP2IVC6a0gRM0Mrc9ODPDDnrb+DhzqatblMApWpUTNSGX7Zo8SDG1gcNASB20th
         WlyMNlxrSfL3jfE6aKmGDUOKt3j/hTKDsVj/8=
MIME-Version: 1.0
Received: by 10.216.88.85 with SMTP id z63mr2403794wee.105.1275922556292; Mon, 
	07 Jun 2010 07:55:56 -0700 (PDT)
Received: by 10.216.157.135 with HTTP; Mon, 7 Jun 2010 07:55:56 -0700 (PDT)
In-Reply-To: <AANLkTily4oGnwUe3a_DrkkXp1o1E3XhxqNyFOKsMphkP@mail.gmail.com>
References: <AANLkTimk386EL6XVB_fSBzST63uQj_BxcaMf7Q1BaG_y@mail.gmail.com>
	<AANLkTily4oGnwUe3a_DrkkXp1o1E3XhxqNyFOKsMphkP@mail.gmail.com>
Date: Mon, 7 Jun 2010 16:55:56 +0200
Message-ID: <AANLkTimtZH4CChF1siLca4LzBRTIystIaeJnOBfh8L9G@mail.gmail.com>
Subject: Re: How to add "tokens" to a stream
From: Aad Nales <aad.nales@gmail.com>
To: java-user@lucene.apache.org, simon.willnauer@gmail.com
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Yes it does,

The key bit is the part with the termAttribute...

thanks a lot,

cheers,
Aad

On Mon, Jun 7, 2010 at 4:53 PM, Simon Willnauer
<simon.willnauer@googlemail.com> wrote:
> Hey there,
> in lucene 3.0 / 2.9 the Token class has been remove / replaced with an
> Attribute based API. A TokenStream operates on Attibutes it has
> declared which are eventually accessed by the IndexWriter to create
> the inverted index. There are Attributes like TermAttribute,
> PositionIncrementAttribute and OffsetAttribute that roughly reflect
> the fields of the Token class. If you want to return an extra token /
> Term from the Attribute based API you just set the TermAttribute value
> and all other attributes you wanna use and return true from the
> TokenStream#incrementToken()
>
> something like this
>
> public boolean incrementToken() {
> =C2=A0if(input.incrementToken()){
> =C2=A0 =C2=A0 // process the tokens in the stream
> =C2=A0 =C2=A0return true;
> =C2=A0} else if (!extraTokens.isEmtpy()){
> =C2=A0 =C2=A0// return extra token
> =C2=A0 =C2=A0termAttribute.setTerm(extraTokens.pop())
> =C2=A0 =C2=A0return true;
> =C2=A0}
> =C2=A0return false;
>
> }
>
> does that make sense?
>
> simon
>
> On Mon, Jun 7, 2010 at 4:43 PM, Aad Nales <aad.nales@gmail.com> wrote:
>> Hi All,
>>
>> Years ago we implemented a Lucene solution which we are updating
>> today, and i am a bit lost on the following.
>>
>> In Lucene 1.x and 2.x it was possible to add a token in a Filter
>> simply by returning an extra Token when next was being called. What i
>> can not find is an equivalent possiblity for adding a Token in a
>> filter. The incrementToken() seem to be the logical place to implement
>> similar functionality (at least it could trigger it) but i am a bit
>> lost how to access the stream and insert an extra token. Any
>> suggestions?
>>
>> cheers,
>> Aad
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46381-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 07 18:03:41 2010
Return-Path: <java-user-return-46381-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45571 invoked from network); 7 Jun 2010 18:03:41 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 7 Jun 2010 18:03:41 -0000
Received: (qmail 15627 invoked by uid 500); 7 Jun 2010 18:03:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15581 invoked by uid 500); 7 Jun 2010 18:03:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15573 invoked by uid 99); 7 Jun 2010 18:03:39 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Jun 2010 18:03:39 +0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=AWL,MIME_BASE64_BLANKS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [198.147.195.5] (HELO flicker.bmc.com) (198.147.195.5)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 07 Jun 2010 18:03:32 +0000
Received: by flicker.bmc.com (Postfix, from userid 13749)
	id 3C1F41E66D0; Mon,  7 Jun 2010 11:03:12 -0700 (MST)
Received: from PHX-HTPRD-02.adprod.bmc.com (phx-htprd-02.adprod.bmc.com [172.24.32.8])
	by flicker.bmc.com (Postfix) with ESMTP id 182831E66A3
	for <java-user@lucene.apache.org>; Mon,  7 Jun 2010 11:03:12 -0700 (MST)
Received: from PHXCCRPRD02.adprod.bmc.com ([172.24.32.181]) by
 PHX-HTPRD-02.adprod.bmc.com ([172.24.32.8]) with mapi; Mon, 7 Jun 2010
 13:03:12 -0500
From: "Woolf, Ross" <Ross_Woolf@BMC.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Mon, 7 Jun 2010 13:02:50 -0500
Subject: Using field cache on real time index
Thread-Topic: Using field cache on real time index
Thread-Index: Acr9gE9kxq2oA84TRkSRIYdIwEjG6wI55Xyg
Message-ID: <492379B6AA909E4FAF672AACCA0EADC25CC20828A8@PHXCCRPRD02.adprod.bmc.com>
References: <AANLkTik8sJUJayIR8Z951jv0okBG2utkcFerxygaKO94@mail.gmail.com>
	<AANLkTilyD1Z8meYvWpyMFUKs6oZTQZRMIWeBxUgWxdt0@mail.gmail.com>
 <AANLkTimbCTZo-L_d40qeyAqs_yugS7X71YCgC4d5yEqN@mail.gmail.com>
In-Reply-To: <AANLkTimbCTZo-L_d40qeyAqs_yugS7X71YCgC4d5yEqN@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-cr-hashedpuzzle: /EQ= AHSj A3ka CGBO CQiA C9tG DATw DPFI Dnp2 DqPX FRwF
 F/nT IZEk Ikoe JXkR
 Lhhv;1;agBhAHYAYQAtAHUAcwBlAHIAQABsAHUAYwBlAG4AZQAuAGEAcABhAGMAaABlAC4AbwByAGcA;Sosha1_v1;7;{969F0859-585E-403C-AC97-70D01FE48A52};cgBvAHMAcwBfAHcAbwBvAGwAZgBAAGIAbQBjAC4AYwBvAG0A;Mon,
 07 Jun 2010 18:02:51
 GMT;VQBzAGkAbgBnACAAZgBpAGUAbABkACAAYwBhAGMAaABlACAAbwBuACAAcgBlAGEAbAAgAHQAaQBtAGUAIABpAG4AZABlAHgA
x-cr-puzzleid: {969F0859-585E-403C-AC97-70D01FE48A52}
acceptlanguage: en-US
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0

SSdtIGxvb2tpbmcgZm9yIHNvbWUgY2xhcmlmaWNhdGlvbiBvbiB0aGUgdXNlIG9mIGZpZWxkIGNh
Y2hlIGluIGEgcmVhbCB0aW1lIGluZGV4IHNpdHVhdGlvbi4NCg0KV2UgYXJlIHVzaW5nIEx1Y2Vu
ZSBpbiBhIHJlYWwgdGltZSBmYXNoaW9uLCBidXQgd2UgdXBkYXRlIG91ciByZWFkZXIgdmlhIElu
ZGV4UmVhZGVyLnJlb3BlbigpIHJhdGhlciB0aGFuIHVzaW5nIHRoZSBJbmRleFdyaXRlci5nZXRS
ZWFkZXIoKTsgQWZ0ZXIgb3BlbmluZyBhIG5ldyByZWFkZXIgdGhlIG9sZCByZWFkZXIgaXMgY2xv
c2VkLg0KDQpJbiB0aGUgYm9vayBMdWNlbmUgaW4gQWN0aW9uICgybmQpIGl0IG1lbnRpb25zIHNv
bWV0aGluZyByZWdhcmRpbmcgc2luY2UgMi45LjIgeW91IGNhbiBwYXNzIGluIGEgc3VicmVhZGVy
IGluc3RlYWQgb2YgdGhlIHJlYWRlciBpZiB5b3UgYXJlIHJlb3BlbmluZyBhIHJlYWRlciBzbyB0
aGF0IHlvdSBvbmx5IGhhdmUgdG8gbG9hZCB0aGUgbmV3IHNlZ21lbnQuICBCdXQgaXQgaXMgbm90
IGNsZWFyIG9uIGhvdyBhbGwgb2YgdGhpcyB3b3Jrcy4NCg0KTXkgYmlnIHF1ZXN0aW9uIGlzIGRv
ZXMgZG9pbmcgaXQgdGhpcyB3YXkgbWVhbiB0aGF0IEkgY2FuIHJldXNlIHRoZSBwb3J0aW9uIG9m
IHRoZSBjYWNoZSB0aGF0IHdhcyBjcmVhdGVkIHdpdGggcHJpb3IgcmVhZGVycz8gIE9yIGRvZXMg
dGhlIHdob2xlIGNhY2hlIGhhdmUgdG8gYmUgcmVidWlsdCBlYWNoIHRpbWUgSSBkbyBhIHJlb3Bl
bj8gIEkgZ3Vlc3Mgd2hhdCBJIGFtIGFza2luZyBpcyBpZiBpbiBhIHJlYWwgdGltZSBzaXR1YXRp
b24sIHNpbmNlIEkgd2lsbCBiZSByZW9wZW5pbmcgcmVhZGVycyByZWd1bGFybHksIGlzIG15IGNh
Y2hlIGNvbnN0YW50bHkgaGF2aW5nIHRvIGJlIHJlYnVpbHQgZnJvbSBzY3JhdGNoLCBvciBjYW4g
SSB1c2UgdGhpcyBzdWJyZWFkZXIgYXBwcm9hY2ggdG8gc2VxdWVudGlhbGx5IGFkZCB0byB0aGUg
Y2FjaGU/DQoNCkFsc28gaWYgdGhlIGFwcHJvYWNoIGxldHMgbWUgc2VxdWVudGlhbGx5IGFkZCB0
byB0aGUgY2FjaGUsIGhvdyBleGFjdGx5IGRvIEkgZ28gYWJvdXQgZGVhbGluZyB3aXRoIHRoZSBz
dWJyZWFkZXJzPyAgQWxsIEkgaGF2ZSB1c2VkIGJlZm9yZSBpcyBteSBwcmltYXJ5IHJlYWRlciBh
bmQgYXMgSSBwZXJmb3JtIGEgcmVvcGVuLCBob3cgZG8gSSBrbm93IHdoYXQgc3VicmVhZGVyIHRv
IHBhc3MgaW50byB0aGUgZmllbGRjYWNoZT8NCg0KQW55IGluZm8gYXBwcmVjaWF0ZWQuDQo=



From java-user-return-46382-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 07 18:48:04 2010
Return-Path: <java-user-return-46382-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70502 invoked from network); 7 Jun 2010 18:48:02 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 7 Jun 2010 18:48:02 -0000
Received: (qmail 64070 invoked by uid 500); 7 Jun 2010 18:48:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64032 invoked by uid 500); 7 Jun 2010 18:48:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64024 invoked by uid 99); 7 Jun 2010 18:48:00 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Jun 2010 18:48:00 +0000
X-ASF-Spam-Status: No, hits=2.9 required=10.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Jun 2010 18:47:48 +0000
Received: by iwn9 with SMTP id 9so1874340iwn.35
        for <java-user@lucene.apache.org>; Mon, 07 Jun 2010 11:47:27 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.231.148.131 with SMTP id p3mr4209211ibv.18.1275936447332; Mon, 
	07 Jun 2010 11:47:27 -0700 (PDT)
Received: by 10.231.199.10 with HTTP; Mon, 7 Jun 2010 11:47:27 -0700 (PDT)
Date: Mon, 7 Jun 2010 14:47:27 -0400
Message-ID: <AANLkTikQBYIefwCpqsdZBfV2BrbUvpx224UXx8UWzZxt@mail.gmail.com>
Subject: Are there any tokenizers that ignore HTML tags but keep the offsets 
	so they can be used for highlighting in the original document?
From: Hans Merkl <hm@hmerkl.com>
To: java-user <java-user@lucene.apache.org>
Content-Type: multipart/alternative; boundary=001485e7e92ab3012e0488751a96
X-Virus-Checked: Checked by ClamAV on apache.org

--001485e7e92ab3012e0488751a96
Content-Type: text/plain; charset=ISO-8859-1

Hi,
I need to index HTML documents and one of the requirements is to highlight
documents while maintaining all of the original formatting. The documents
are relatively simple HTML, meaning no JavaScript code that changes elements
at runtime or too fancy CSS styling.

I think it should be possible to write a tokenizer that strips out the HTML
tags but maintains the original offsets within the HTML document so they
can be used for highlighting the original HTML document, not just the
text representation.

Does anybody know any tokenizers that can do this? It seems it's something
other people may need too.

I am fairly new to Lucene so I may have chosen the wrong terminology but I
hope this makes sense.

Hans

--001485e7e92ab3012e0488751a96--

From java-user-return-46383-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 07 20:52:37 2010
Return-Path: <java-user-return-46383-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30069 invoked from network); 7 Jun 2010 20:52:37 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 7 Jun 2010 20:52:37 -0000
Received: (qmail 9749 invoked by uid 500); 7 Jun 2010 20:52:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9714 invoked by uid 500); 7 Jun 2010 20:52:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 61724 invoked by uid 99); 7 Jun 2010 17:11:18 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erik.hatcher@lucidimagination.com designates 38.102.63.181 as permitted sender)
Message-Id: <6806F527-DDB2-4EF7-AE6E-062882D76146@lucidimagination.com>
From: Erik Hatcher <erik.hatcher@lucidimagination.com>
To: solr-user@lucene.apache.org,
 java-user@lucene.apache.org,
 general@lucene.apache.org
Content-Type: text/plain; charset=US-ASCII; format=flowed; delsp=yes
Content-Transfer-Encoding: 7bit
Mime-Version: 1.0 (Apple Message framework v936)
Subject: [webinar] Rapid Prototyping Search Applications with Solr
Date: Mon, 7 Jun 2010 10:10:48 -0700
X-Mailer: Apple Mail (2.936)

Marketing blurb below.  My personal hype here... I'm going to be  
showcasing a straightforward document search engine, from files  
through indexing through usable user interface in no time.  Come check  
it out.  There'll be similarities to my EuroCon presentation[1],  
though this will be an entirely custom built (building it as we  
speak!) application for the webinar.

	Erik



-----

Want to get up and running with Apache Solr quickly and easily?

Join Erik Hatcher, Apache Solr and Lucene committer and co-founder of  
Lucid Imagination, for a workshop on getting started with Solr, the  
Lucene Enterprise Search Server. Erik shows you how to use LucidWorks  
for Solr, to iteratively work your way from raw data to full featured  
search application, complete with features such as faceting,  
highlighting, and spellchecking. In this hands-on technical  
presentation, you'll also learn about

   * Tips for adjusting Solr's schema to more tightly match your needs
   * Powerful prototyping tools for use with Solr
   * Showing your data in a flexible search user interface


<http://events.lucidimagination.com/home/listing/tabid/64/listingkey/7/rapid_prototyping_search_applications_with_solr.aspx 
 >

----

[1] <http://lucene-eurocon.org/sessions-track2-day2.html#4>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46384-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 07 21:09:33 2010
Return-Path: <java-user-return-46384-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41053 invoked from network); 7 Jun 2010 21:09:33 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 7 Jun 2010 21:09:33 -0000
Received: (qmail 32582 invoked by uid 500); 7 Jun 2010 21:09:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32541 invoked by uid 500); 7 Jun 2010 21:09:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32527 invoked by uid 99); 7 Jun 2010 21:09:31 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Jun 2010 21:09:31 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [206.190.49.13] (HELO web52903.mail.re2.yahoo.com) (206.190.49.13)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 07 Jun 2010 21:09:22 +0000
Received: (qmail 74705 invoked by uid 60001); 7 Jun 2010 21:09:01 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1275944941; bh=ac8uzPbDTx93gvR/N7Xj4Z285YD6x+y/dldRhuqJo0M=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=iOLDmfcXbnEnBDXCh3j8Q0wPUcAdhDH5YDcz7i70P8SsGkecG0giCtU1fxT0uCDC7cRFD0dIyDiuBURNZse3wTuTCJjPbhHz/FYI0Fv4UfKToqzVqNuOmXTdXgeCd2nTJY/k8s2Cp7zpqRSL865sSLVnJpH3JIANKcOgMxC9Oz8=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=Nl+ABKznrFMNnUfjljScVvCAyMFEWX09dkaD1BrpPDtgvqbBEJTA7RPwn6+vWhji9VwDe0/ur93dkbfcuxtHj6MHXQnAZMPEzSIn19NmYqzUmwnDKWmaxF8kklSMkiVnKWgWBhHNrucQLsoQWJUY/yvdZhlzfCVgTEvEtSKA7f0=;
Message-ID: <79365.74436.qm@web52903.mail.re2.yahoo.com>
X-YMail-OSG: xUYj_sUVM1nP4jMAIttvTHnPAlA8Kk_DZGtFfTD2KCs.lwS
 UAvc.zsMHzEN2BhJ7Norm8mho8ozeSLhTR4N6mMdk7IWsXsv2HuOv5SZryQY
 fOoyQY4B_jRaKGd_fu_2kLRiaxWraiUQCCL7jqD9TGlDxE7Zt3zA_3_6YPCY
 nhWgRyUEO2kqC38mvlQIaeQE.jJImzyQw_WB5qFT_RMRZrCMA91OjqOmQ6MN
 52I8ZLcc.Akj9TDMnio6aBKt_LHQjyGJiCt9_NwJUBEZ.frWee1D0dGP4ecl
 a8pTHn.9P86TL5J6mZtGfhLbX25OY5NrIBpp3_83qpyHKurV_8AEh7w--
Received: from [78.165.19.178] by web52903.mail.re2.yahoo.com via HTTP; Mon, 07 Jun 2010 14:09:00 PDT
X-Mailer: YahooMailClassic/11.0.8 YahooMailWebService/0.8.103.269680
Date: Mon, 7 Jun 2010 14:09:00 -0700 (PDT)
From: Ahmet Arslan <iorixxx@yahoo.com>
Subject: Re: Are there any tokenizers that ignore HTML tags but keep the offsets  so they can be used for highlighting in the original document?
To: java-user@lucene.apache.org
In-Reply-To: <AANLkTikQBYIefwCpqsdZBfV2BrbUvpx224UXx8UWzZxt@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org

> I need to index HTML documents and one of the requirements
> is to highlight
> documents while maintaining all of the original formatting.
> The documents
> are relatively simple HTML, meaning no JavaScript code that
> changes elements
> at runtime or too fancy CSS styling.
> 
> I think it should be possible to write a tokenizer that
> strips out the HTML
> tags but maintains the original offsets within the HTML
> document so they
> can be used for highlighting the original HTML document,
> not just the
> text representation.
> 
> Does anybody know any tokenizers that can do this? It seems
> it's something
> other people may need too.
> 
> I am fairly new to Lucene so I may have chosen the wrong
> terminology but I
> hope this makes sense.

You can use org.apache.solr.analysis.HTMLStripCharFilter. It is possible to add one or more org.apache.lucene.analysis.CharFilter(s) before tokenizer in your analyzer.


      

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46385-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 08 00:12:14 2010
Return-Path: <java-user-return-46385-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95735 invoked from network); 8 Jun 2010 00:12:13 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 8 Jun 2010 00:12:13 -0000
Received: (qmail 19776 invoked by uid 500); 8 Jun 2010 00:12:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19739 invoked by uid 500); 8 Jun 2010 00:12:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19731 invoked by uid 99); 8 Jun 2010 00:12:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Jun 2010 00:12:11 +0000
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=AWL,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [188.121.53.2] (HELO n1plout04-02.prod.ams1.secureserver.net) (188.121.53.2)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 08 Jun 2010 00:12:05 +0000
Received: (qmail 14670 invoked from network); 8 Jun 2010 00:11:42 -0000
Received: from unknown (95.35.166.223)
  by n1plout04-02.prod.ams1.secureserver.net (188.121.53.2) with ESMTP; 08 Jun 2010 00:11:21 -0000
From: "Itamar Syn-Hershko" <itamar@code972.com>
To: <java-user@lucene.apache.org>,
	<general@lucene.apache.org>,
	<solr-user@lucene.apache.org>,
	<dev@lucene.apache.org>
Subject: [ANN] First of a kind open-source effort for advancing Hebrew IR
Date: Tue, 8 Jun 2010 03:11:09 +0300
Message-ID: <271FBC41306F497BA25F754A54B67F01@hp6690ej01>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
Thread-Index: AcsGnxjqvi/sIDYtT/uE8OroEYWTyQ==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.5579

Hi all,

Indexing Hebrew texts for later retrieval is not a trivial task. Of all
languages, Hebrew seem to be the toughest to handle. Although several
solutions exist, they are not necessarily providing the best results in
terms of relevancy. Either way, there is no freely available solution
allowing to index Hebrew even at the very basic level.

HebMorph was started with this in mind. It is a free, open-source effort for
making Hebrew properly searchable by various IR software libraries, while
maintaining decent recall, precision and relevancy in retrievals.

During the work on this project, we will try and come up with different
approaches to indexing Hebrew, and provide the tools to perform reliable
comparisons between them. This project's ultimate goal is providing various
IR libraries with the best Hebrew IR capabilities possible.

Complete details are available at http://www.code972.com/blog/hebmorph/. As
we progress, updates will be posted to that blog, to our mailing list, and
on twitter (#HebMorph).

If this is of an interest to you, we would appreciate your feedback and
help. Please use our mailing list, or contact me privately, for any
inquiries.

Itamar Syn-Hershko



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46386-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 08 07:20:15 2010
Return-Path: <java-user-return-46386-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6543 invoked from network); 8 Jun 2010 07:20:15 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 8 Jun 2010 07:20:15 -0000
Received: (qmail 54458 invoked by uid 500); 8 Jun 2010 07:20:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54243 invoked by uid 500); 8 Jun 2010 07:20:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54234 invoked by uid 99); 8 Jun 2010 07:20:09 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Jun 2010 07:20:09 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aad.nales@gmail.com designates 74.125.82.48 as permitted sender)
Received: from [74.125.82.48] (HELO mail-ww0-f48.google.com) (74.125.82.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Jun 2010 07:20:01 +0000
Received: by wwb34 with SMTP id 34so764917wwb.35
        for <java-user@lucene.apache.org>; Tue, 08 Jun 2010 00:19:41 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:date:message-id
         :subject:from:to:content-type;
        bh=xeohJksxRLjiNneCBUcHPddSWrCwWLLA6APHFvFkKwY=;
        b=oPdviwbcFIPHpfBJ1XXNl5uyEj+AYb1fVnBkgGoCQhdavcSVTdLSO8oF5wmpC2Vzrf
         kp7qfWXXw2TyXmmPj51CWBSdF0mq9iajQN2W+M5i6TJ1d6jzhf/AcrfmA7QQsMJQJrxe
         mboOSlhDyj88rJJ21ROKL2ySIraDXhYup930s=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=kZywfCe0K+AtmGHiL8OI/3BJjsEjzGEfrl9tHP4Xv1E8WENHAOZQ4Pi/1XJRzBmT+g
         3sj+8APvyN8SFO0myrQN+jNt4l1eQmYg+v5oPXXIRKAu8pQhj5Adk0d5MER2Dy0Q0si0
         Sk7D5TUfj5HEoSUWUGFOFCeEWoExKaDzgitEM=
MIME-Version: 1.0
Received: by 10.227.146.208 with SMTP id i16mr3049748wbv.178.1275981580409; 
	Tue, 08 Jun 2010 00:19:40 -0700 (PDT)
Received: by 10.216.157.135 with HTTP; Tue, 8 Jun 2010 00:19:40 -0700 (PDT)
Date: Tue, 8 Jun 2010 09:19:40 +0200
Message-ID: <AANLkTikDTmJaWJVKjN_DiLoYEfYtUz-s-7LhAvFUkcfY@mail.gmail.com>
Subject: retrieving Payload 3.0.1
From: Aad Nales <aad.nales@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

Hi All,

I storing synonyms in an index. e.g. 'institute' as a synonym for
'organization'. Since I want to highlight the orginal term when
showing the result i am storing a Payload with each synononym. So in
this case the term 'institute' has a payload for 'organization'. I
execute a search and the document is found. Now i want to create the
highlighting and here is where it goes wrong. I am unable to figure
out how to 'read' the Payload from the document. Perhaps i am looking
at it the wrong way? What i want to avoid is having to expand my
search query with the synonyms. Is there anybody who could give me a
hint how to go about this in lucene 3.0.1

tia,
Aad

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46387-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 08 10:50:14 2010
Return-Path: <java-user-return-46387-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60720 invoked from network); 8 Jun 2010 10:50:13 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 8 Jun 2010 10:50:13 -0000
Received: (qmail 68486 invoked by uid 500); 8 Jun 2010 10:50:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68226 invoked by uid 500); 8 Jun 2010 10:50:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68217 invoked by uid 99); 8 Jun 2010 10:50:07 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Jun 2010 10:50:07 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of kumdio@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Jun 2010 10:50:00 +0000
Received: by iwn9 with SMTP id 9so3076760iwn.35
        for <java-user@lucene.apache.org>; Tue, 08 Jun 2010 03:49:39 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=FIB/yVEdtH8dbYVGJlfgXq+BQRAtzmfqz4WuvjUIYHQ=;
        b=wXA6wER9PQvcS/JGNjEl1TmVZVJdAR/a3YZeBpEA0SlGe3Fg5fgAMlnMA8Fa14OpuB
         +Ol2w7jpc7NVaRWleJil9FtM4ppqt5BUejnrNTGkjfCZMX7k6S5HK6Kt1iwCAXDs9ZZO
         PIMm3iIgZzhTJTx2VF4wnkbxdWginm72iZemQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=jQ5xL/aXYEMomTrCojeaAI0l6fqOVN7LWt1a82yMecsAqp3WnTskBkRJO0NWmXmt0C
         Kw38eH7bNUkuR9q59iCHhWwthlzFDTIuN+lDSQPUijRMKL/dNsLND5Rm1S3/HRA+THxw
         CyuqM8EQZchKXwmqG/m/21lAGOnqpzM6Ln+/A=
MIME-Version: 1.0
Received: by 10.231.156.73 with SMTP id v9mr5981591ibw.117.1275994179164; Tue, 
	08 Jun 2010 03:49:39 -0700 (PDT)
Received: by 10.231.10.135 with HTTP; Tue, 8 Jun 2010 03:49:38 -0700 (PDT)
In-Reply-To: <AANLkTilQTmtT49rQTEaPCPPVahbHzu6liUxzn_NVW2tB@mail.gmail.com>
References: <AANLkTim9Csb9u6BovzamAUnOxY1ZiF0iT_o496zdcf1M@mail.gmail.com>
	<94951369-CF46-4E16-B4BB-E4672503DD43@apache.org>
	<AANLkTilvXUz9iZq4sZdinVONNG_y_nO2jbyWTIpl_twz@mail.gmail.com>
	<AANLkTilQTmtT49rQTEaPCPPVahbHzu6liUxzn_NVW2tB@mail.gmail.com>
Date: Tue, 8 Jun 2010 13:49:38 +0300
Message-ID: <AANLkTimZVgdcWx96xdt7O-08gukkIvGFWmIScyXCGzXV@mail.gmail.com>
Subject: Re: vector model usage
From: Dionisis Koumouras <kumdio@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=001636c92a50c8ef4e0488828b76
X-Virus-Checked: Checked by ClamAV on apache.org

--001636c92a50c8ef4e0488828b76
Content-Type: text/plain; charset=ISO-8859-1

Hi,
this example is really close to what I'm trying to do but unfortunately it
uses a lot of classes that are outdated in version 2.9.2 that I'm currently
using.

Actually, it uses text in which boosts follow terms (delimited by a special
char), parses the text and then adds documents to the index.

I would like to do the same thing, but building the terms programmatically,
without a text parser. I guess I should study the termAttribute API stuff.

thanks bec!


On Wed, Jun 2, 2010 at 8:37 AM, Rebecca Watson <bec.watson@gmail.com> wrote:

> Hi,
>
> if you want to store word+value pairs then use lucene scoring to weight
> the words with higher vaules against them, you should look at using
> payloads
> and the DelimitedPayloadTokenFilter which lets you specify e.g.
> word1|value1 word2|value2 ...
> and the values are stored as payloads against the word tokens (which can
> still be analyzed using stemming etc if you put the payload filter at the
> beginning of the tokenizer stream set).
>
> then at query time you'd need to use a payload query type to get the
> weights
> included in the scoring for docs --
> see the article by lucid imagination here:
>
> http://www.lucidimagination.com/blog/2010/04/18/refresh-getting-started-with-payloads/
>
> not sure if that's the sort of thing you're after?
>
> bec :)
>
> On 2 June 2010 04:29, Dionisis Koumouras <kumdio@gmail.com> wrote:
> > Thanks for your reply Grant.
> > I checked out the TokenStream class and you are right but I'm afraid I
> > didn't really make myself understood. What I want is to be able to create
> a
> > Document out of key-value pairs of terms and float numbers representing
> word
> > weights, insert the Document in the index and then use the lucene scoring
> > mechanism to retrieve the entries.
> > Do you find this feasible?
> >
> > On Tue, Jun 1, 2010 at 8:35 PM, Grant Ingersoll <gsingers@apache.org>
> wrote:
> >
> >>
> >> On May 31, 2010, at 6:25 AM, Dionisis Koumouras wrote:
> >>
> >> > Hi all,
> >> > I'm new to lucene but have used it succesfully for a few simple tasks.
> >> >
> >> > I am experimenting with the vector space representation of documents
> and
> >> > have managed to store and retrieve TermFreqVector objects.
> >> >
> >> > The question is whether it is possible to directly add vector space
> >> > representations of documents to an index. I can't find any way to
> create
> >> a
> >> > document field from a TermFreqVector object.
> >>
> >> The Field constructor can take in a TokenStream (i.e. a preanalyzed
> stream)
> >> which you could easily back with a TermFreqVector.
> >>
> >> >
> >> > This is the use case behind the question: retrieve some documents from
> >> the
> >> > index, cluster them, and store the vector space representations of the
> >> > clusters back to the index.
> >> >
> >> > Dionisis
> >>
> >> --------------------------
> >> Grant Ingersoll
> >> http://www.lucidimagination.com/
> >>
> >> Search the Lucene ecosystem using Solr/Lucene:
> >> http://www.lucidimagination.com/search
> >>
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--001636c92a50c8ef4e0488828b76--

From java-user-return-46388-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 08 11:42:31 2010
Return-Path: <java-user-return-46388-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76785 invoked from network); 8 Jun 2010 11:42:31 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 8 Jun 2010 11:42:31 -0000
Received: (qmail 28521 invoked by uid 500); 8 Jun 2010 11:42:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28134 invoked by uid 500); 8 Jun 2010 11:42:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28126 invoked by uid 99); 8 Jun 2010 11:42:24 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Jun 2010 11:42:24 +0000
X-ASF-Spam-Status: No, hits=2.9 required=10.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Jun 2010 11:42:19 +0000
Received: by iwn9 with SMTP id 9so3133297iwn.35
        for <java-user@lucene.apache.org>; Tue, 08 Jun 2010 04:41:58 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.42.6.211 with SMTP id b19mr5519941icb.6.1275997317790; Tue, 08 
	Jun 2010 04:41:57 -0700 (PDT)
Received: by 10.231.199.10 with HTTP; Tue, 8 Jun 2010 04:41:57 -0700 (PDT)
In-Reply-To: <79365.74436.qm@web52903.mail.re2.yahoo.com>
References: <AANLkTikQBYIefwCpqsdZBfV2BrbUvpx224UXx8UWzZxt@mail.gmail.com>
	<79365.74436.qm@web52903.mail.re2.yahoo.com>
Date: Tue, 8 Jun 2010 07:41:57 -0400
Message-ID: <AANLkTikIuTWIJxbylecNB04vlOIFhD_EFJqRxNF9lTiU@mail.gmail.com>
Subject: Re: Are there any tokenizers that ignore HTML tags but keep the 
	offsets so they can be used for highlighting in the original document?
From: Hans Merkl <hmerkl@rightonpoint.us>
To: java-user <java-user@lucene.apache.org>
Content-Type: multipart/alternative; boundary=005045016848dc7bc50488834679

--005045016848dc7bc50488834679
Content-Type: text/plain; charset=ISO-8859-1

Hi Ahmet,

I am using Lucene.NET with C# so I can't test this quickly.
Will HTMLStripCharFilter maintain the character offsets or does it just
extract the plain text?

Hans


> You can use org.apache.solr.analysis.HTMLStripCharFilter. It is possible to
> add one or more org.apache.lucene.analysis.CharFilter(s) before tokenizer in
> your analyzer.
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--005045016848dc7bc50488834679--

From java-user-return-46389-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 08 11:57:49 2010
Return-Path: <java-user-return-46389-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80316 invoked from network); 8 Jun 2010 11:57:48 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 8 Jun 2010 11:57:48 -0000
Received: (qmail 45901 invoked by uid 500); 8 Jun 2010 11:57:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45606 invoked by uid 500); 8 Jun 2010 11:57:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45593 invoked by uid 99); 8 Jun 2010 11:57:43 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Jun 2010 11:57:43 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Jun 2010 11:57:37 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id 9CD35D36008
	for <java-user@lucene.apache.org>; Tue,  8 Jun 2010 13:57:16 +0200 (CEST)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Da7Rempcr2w7 for <java-user@lucene.apache.org>;
	Tue,  8 Jun 2010 13:57:08 +0200 (CEST)
Received: from VEGA (91-64-92-201-dynip.superkabel.de [91.64.92.201])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id CE416D36007
	for <java-user@lucene.apache.org>; Tue,  8 Jun 2010 13:57:07 +0200 (CEST)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <AANLkTikQBYIefwCpqsdZBfV2BrbUvpx224UXx8UWzZxt@mail.gmail.com>	<79365.74436.qm@web52903.mail.re2.yahoo.com> <AANLkTikIuTWIJxbylecNB04vlOIFhD_EFJqRxNF9lTiU@mail.gmail.com>
In-Reply-To: <AANLkTikIuTWIJxbylecNB04vlOIFhD_EFJqRxNF9lTiU@mail.gmail.com>
Subject: RE: Are there any tokenizers that ignore HTML tags but keep the 	offsets so they can be used for highlighting in the original document?
Date: Tue, 8 Jun 2010 13:57:13 +0200
Message-ID: <008801cb0701$bc0dbdd0$34293970$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQFBfzfVVnSpuBZio0vfxgIj3LC8JAHtjrQkAvHWVsaTZAlaoA==
Content-Language: de

> Hi Ahmet,
> 
> I am using Lucene.NET with C# so I can't test this quickly.
> Will HTMLStripCharFilter maintain the character offsets or does it just
extract
> the plain text?

Yes the CharFilter does this!

Uwe


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46390-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 08 16:26:29 2010
Return-Path: <java-user-return-46390-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80044 invoked from network); 8 Jun 2010 16:26:29 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 8 Jun 2010 16:26:29 -0000
Received: (qmail 92381 invoked by uid 500); 8 Jun 2010 16:26:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92336 invoked by uid 500); 8 Jun 2010 16:26:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92328 invoked by uid 99); 8 Jun 2010 16:26:26 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Jun 2010 16:26:26 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.160.176] (HELO mail-gy0-f176.google.com) (209.85.160.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Jun 2010 16:26:19 +0000
Received: by gyf1 with SMTP id 1so4931119gyf.35
        for <java-user@lucene.apache.org>; Tue, 08 Jun 2010 09:25:59 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.151.18.10 with SMTP id v10mr16518496ybi.51.1276014358808; Tue, 
	08 Jun 2010 09:25:58 -0700 (PDT)
Received: by 10.150.225.19 with HTTP; Tue, 8 Jun 2010 09:25:58 -0700 (PDT)
In-Reply-To: <492379B6AA909E4FAF672AACCA0EADC25CC20828A8@PHXCCRPRD02.adprod.bmc.com>
References: <AANLkTik8sJUJayIR8Z951jv0okBG2utkcFerxygaKO94@mail.gmail.com>
	<AANLkTilyD1Z8meYvWpyMFUKs6oZTQZRMIWeBxUgWxdt0@mail.gmail.com>
	<AANLkTimbCTZo-L_d40qeyAqs_yugS7X71YCgC4d5yEqN@mail.gmail.com>
	<492379B6AA909E4FAF672AACCA0EADC25CC20828A8@PHXCCRPRD02.adprod.bmc.com>
Date: Tue, 8 Jun 2010 12:25:58 -0400
Message-ID: <AANLkTimTPZr-f6hum3xOfOG2Q-egDQ_0jiv9VuK9Kmit@mail.gmail.com>
Subject: Re: Using field cache on real time index
From: Michael McCandless <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

When you use .reopen() from an existing reader, the new reader will
share sub-readers with the prior one, and the FieldCache will also
share cache entries for those sub readers, with the prior one.

Still, remember that the incrementality you'll see is in proportion to
the size of the new segments.  EG, if you optimize from the writer
before closing, then IR.reopen buys you nothing since no segments can
be reused from the prior reader.  Also, if a large merge completes,
that large segment must be opened for the new reader.  If this becomes
a problem you should warm the new reader before swapping it into
production.

NRT (IndexWriter.getReader), at least in the current impl, is just
like reopen, except it saves having to close/commit from IndexWriter
(which can be costly since it must fsync all newly created files),
it's also able in some cases to carry pending deletions in RAM instead
of going through the filesystem, and it's able to warm a newly merged
segment in the BG before it's committed to the index, without blocking
the reopen.

Mike

On Mon, Jun 7, 2010 at 2:02 PM, Woolf, Ross <Ross_Woolf@bmc.com> wrote:
> I'm looking for some clarification on the use of field cache in a real ti=
me index situation.
>
> We are using Lucene in a real time fashion, but we update our reader via =
IndexReader.reopen() rather than using the IndexWriter.getReader(); After o=
pening a new reader the old reader is closed.
>
> In the book Lucene in Action (2nd) it mentions something regarding since =
2.9.2 you can pass in a subreader instead of the reader if you are reopenin=
g a reader so that you only have to load the new segment. =A0But it is not =
clear on how all of this works.
>
> My big question is does doing it this way mean that I can reuse the porti=
on of the cache that was created with prior readers? =A0Or does the whole c=
ache have to be rebuilt each time I do a reopen? =A0I guess what I am askin=
g is if in a real time situation, since I will be reopening readers regular=
ly, is my cache constantly having to be rebuilt from scratch, or can I use =
this subreader approach to sequentially add to the cache?
>
> Also if the approach lets me sequentially add to the cache, how exactly d=
o I go about dealing with the subreaders? =A0All I have used before is my p=
rimary reader and as I perform a reopen, how do I know what subreader to pa=
ss into the fieldcache?
>
> Any info appreciated.
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46391-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 08 16:38:21 2010
Return-Path: <java-user-return-46391-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84427 invoked from network); 8 Jun 2010 16:38:21 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 8 Jun 2010 16:38:21 -0000
Received: (qmail 10503 invoked by uid 500); 8 Jun 2010 16:38:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10407 invoked by uid 500); 8 Jun 2010 16:38:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10399 invoked by uid 99); 8 Jun 2010 16:38:18 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Jun 2010 16:38:18 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.160.176] (HELO mail-gy0-f176.google.com) (209.85.160.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Jun 2010 16:38:09 +0000
Received: by gyf1 with SMTP id 1so4950345gyf.35
        for <java-user@lucene.apache.org>; Tue, 08 Jun 2010 09:37:48 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.151.95.12 with SMTP id x12mr15263793ybl.268.1276015067375; 
	Tue, 08 Jun 2010 09:37:47 -0700 (PDT)
Received: by 10.150.225.19 with HTTP; Tue, 8 Jun 2010 09:37:46 -0700 (PDT)
In-Reply-To: <1275909546382-876022.post@n3.nabble.com>
References: <1274780529673-841735.post@n3.nabble.com>
	<AANLkTikLbtYDza9PYACV3ioC-ia0Y1-COBchbCpNo-Fb@mail.gmail.com>
	<1274800094618-842321.post@n3.nabble.com>
	<1275900733831-875713.post@n3.nabble.com>
	<AANLkTilViLXbdJKbns2EbnJdm0mss7ps8VWIuMWxXQ6w@mail.gmail.com>
	<1275905888978-875884.post@n3.nabble.com>
	<AANLkTikNozElA37RStr0xJ8r77DzNjxqiqTkl1UxU8q-@mail.gmail.com>
	<1275909546382-876022.post@n3.nabble.com>
Date: Tue, 8 Jun 2010 12:37:46 -0400
Message-ID: <AANLkTinST9vNGEsL0HjgTI09UL93e4FsXHiD9hFEfjY3@mail.gmail.com>
Subject: Re: indexWriter.addIndexes, Disk space, and open files
From: Michael McCandless <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On Mon, Jun 7, 2010 at 7:19 AM, Regan Heath
<regan.heath@bridgeheadsoftware.com> wrote:
>
>>> That's pretty much exactly what I suspected was happening. =A0I've had =
the
> same
>>> problem myself on another occasion... out of interest is there any way =
to
>>> force the file closed without flushing?
>>
>>No, IndexOutput has no such method. =A0We could consider adding one...
>
> That sounds useful in general.
>
> In our case what we actually want is to abort the merge and delete all th=
e
> new files created.

This is in fact what Lucene will do, if the disk full is hit during merge.

If the disk full is hit during flush(), Lucene discards those docs
that were the RAM buffer.

> But then, our usage may be slightly unusual in that we
> merge an existing 'master' index and a number of 'temporary' indices into=
 a
> new master index. =A0On success we delete the old master and rename the n=
ew
> master into it's place.
>
> We're doing disk space checks prior to merge, based on the docs here:
> http://lucene.apache.org/java/2_3_2/api/org/apache/lucene/index/IndexWrit=
er.html#optimize()
>
> but I disabled these to test this out of disk space case, as it is possib=
le
> something else could use up the required space during the merge.
>
>>> From memory I tried everything I
>>> could think of at the time but couldn't manage it. =A0Best I could do w=
as
>>> catch and swallow the expected exception from close and carry on.
>>
>>I think that's the best to do w/ today's API; but, you should save the
>>first IOE you hit, then force close the remaining files, then throw
>>that IOE.
>
> When you say 'force' close do you just mean wrapping the close calls in
> try/catch(IOException) where the catch block is empty (swallows the
> exception)? =A0Or is there a specific call to force a file closed?

The former.  There is no method.

>>> So, the only option for us is to upgrade the version of lucene we're
>>> using
>>> to the current trunk? =A0Is there no existing stable release version
>>> containing the fix? =A0If not, when do you estimate the next stable rel=
ease
>>> with the fix will be available?
>>
>>I don't think any release of Lucene will have fixed all of these
>>cases, yet. =A0Patches welcome :)
>
> I would if I had the time, or sufficient understanding of the existing co=
de,
> sadly I've only looked at it for 5 =A0mins. :(

Start small then iterate... add that static method somewhere and call
it from a place or two :)

>>Actually, the best fix is something Earwin created but is not yet
>>committed (nor in a patch yet, I think), which adds a nice API for
>>closing multiple IndexOutputs safely. =A0Earwin, maybe you could pull
>>out just this part of your patch and open a separate issue? =A0Then we
>>can fix all places in Lucene that need to close multiple IndexOutputs
>>to use this API.
>
> That sounds great.. I'm not sure if something like this is useful to you.=
.
>
> public class Safe
> {
> =A0 =A0/**
> =A0 =A0 * Safely closes any object that implements closeable
> =A0 =A0 *
> =A0 =A0 * @param =A0 =A0 closeable The object to close
> =A0 =A0 */
> =A0 =A0public static void close(Closeable closeable)
> =A0 =A0{
> =A0 =A0 =A0 =A0try
> =A0 =A0 =A0 =A0{
> =A0 =A0 =A0 =A0 =A0 =A0closeable.close();
> =A0 =A0 =A0 =A0}
> =A0 =A0 =A0 =A0catch(Exception e)
> =A0 =A0 =A0 =A0{
> =A0 =A0 =A0 =A0 =A0 =A0// ignore
> =A0 =A0 =A0 =A0}
> =A0 =A0 =A0 =A0finally
> =A0 =A0 =A0 =A0{
> =A0 =A0 =A0 =A0 =A0 =A0closeable =3D null;
> =A0 =A0 =A0 =A0}
> =A0 =A0}
> }
>
> We use this in catch and finally blocks where we do not want to raise an
> exception.

That looks great!  I think Earwin's version took multiple Closeables
and closed them all, which would be useful.

We'd also want a way to close N closeables, but, if any exception is
hit on closing any of them, throw that exception, but still force the
remaining ones closed.

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46392-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 09 02:32:16 2010
Return-Path: <java-user-return-46392-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3656 invoked from network); 9 Jun 2010 02:32:16 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 9 Jun 2010 02:32:16 -0000
Received: (qmail 28970 invoked by uid 500); 9 Jun 2010 02:32:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28779 invoked by uid 500); 9 Jun 2010 02:32:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28766 invoked by uid 99); 9 Jun 2010 02:32:12 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Jun 2010 02:32:12 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of bec.watson@gmail.com designates 209.85.213.176 as permitted sender)
Received: from [209.85.213.176] (HELO mail-yx0-f176.google.com) (209.85.213.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Jun 2010 02:32:04 +0000
Received: by yxd39 with SMTP id 39so401700yxd.35
        for <java-user@lucene.apache.org>; Tue, 08 Jun 2010 19:31:43 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:from:in-reply-to:mime-version
         :references:date:message-id:subject:to:content-type;
        bh=pSWg9JBRIXoyEsbB6kml6IjmdIdvBvxr8aKHy9qdQFk=;
        b=ver/CgbIS8Dw93LydmGQbhdp0wWBcV4dIoUKb+aNCwhnewSl96q6sGlOgp79zIp5ia
         HzX8+ysn1WVqVO5gidNnX5URD6Fyjo36M1oOiez2PyJG4KEHn8SB8JpAmavDnsvIeD7t
         wfJPIuiq+PR9v54L3donxRto+mxcvWMCCr52o=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=from:in-reply-to:mime-version:references:date:message-id:subject:to
         :content-type;
        b=ERyBFsVMT+2fe3WBGI+4QLwtg0C3xT401Wog3RR5njcVAxFdH/NpbV6ap1kF7gawUO
         9CQ0hR4hjapI+Y7T57iyIl2D3cdg6p9nrqoZq5GU2LxqT1LguTBXsUD06SQ6qbtjwxmv
         x/AAYhkoxlZCGFLV58U+OsxOAdX4riOA6RLYo=
Received: by 10.150.168.1 with SMTP id q1mr1852143ybe.132.1276050702712; Tue, 
	08 Jun 2010 19:31:42 -0700 (PDT)
From: Rebecca Watson <bec.watson@gmail.com>
In-Reply-To: <AANLkTikDTmJaWJVKjN_DiLoYEfYtUz-s-7LhAvFUkcfY@mail.gmail.com>
Mime-Version: 1.0 (iPhone Mail 7E18)
References: <AANLkTikDTmJaWJVKjN_DiLoYEfYtUz-s-7LhAvFUkcfY@mail.gmail.com>
Date: Wed, 9 Jun 2010 10:32:12 +0800
Message-ID: <1941636010468295749@unknownmsgid>
Subject: Re: retrieving Payload 3.0.1
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Content-Type: multipart/alternative; boundary=000e0cd6147cd9c40a04888fb44f
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd6147cd9c40a04888fb44f
Content-Type: text/plain; charset=UTF-8

Hi aad,

See the search.payload package if you want examples of reading in payloads
at query time for scoring purposes, but returning the payload/ using it to
highlight will require you to write more custom lucene classes.

We work with synonyms too, but rather than store the synonym in payload like
you do, we store any number of synonyms in the same position ie the standard
trick for index-time synonym injection -- better because phrase queries will
match across synonyms in the same doc. However, we define synonyms /
equivalent terms prior to indexing so we don't use an anaylzer to add the
extra terms-- instead we use an analyzer that sets the position increment
attribute to 1 if it hits a special character and otherwise sets it to 0.
See for eg of setting position attribute:
org.apache.lucene.analysis.position.PositionFilter

So eg if we use '/' to indicate new position we would use:

 ... / institute organisation / ....

We apply this filter early on and it's still compatible with other
lucene analysers.

If you injected new synonyms in an analyzer, you would keep setting
the term attribute until new synonyms are all added,

then once you move to the next term, change position increment to 1
and update the term attribute. For the first synonym, make sure you
set the position increment attribute back to 0.

Hope that helps,

bec :)


Sent from my iPhone

On 08/06/2010, at 3:19 PM, Aad Nales <aad.nales@gmail.com> wrote:

Hi All,

I storing synonyms in an index. e.g. 'institute' as a synonym for
'organization'. Since I want to highlight the orginal term when
showing the result i am storing a Payload with each synononym. So in
this case the term 'institute' has a payload for 'organization'. I
execute a search and the document is found. Now i want to create the
highlighting and here is where it goes wrong. I am unable to figure
out how to 'read' the Payload from the document. Perhaps i am looking
at it the wrong way? What i want to avoid is having to expand my
search query with the synonyms. Is there anybody who could give me a
hint how to go about this in lucene 3.0.1

tia,
Aad

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

--000e0cd6147cd9c40a04888fb44f--

From java-user-return-46393-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 09 03:12:53 2010
Return-Path: <java-user-return-46393-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13271 invoked from network); 9 Jun 2010 03:12:53 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 9 Jun 2010 03:12:53 -0000
Received: (qmail 50868 invoked by uid 500); 9 Jun 2010 03:12:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50824 invoked by uid 500); 9 Jun 2010 03:12:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50816 invoked by uid 99); 9 Jun 2010 03:12:50 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Jun 2010 03:12:50 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of bec.watson@gmail.com designates 209.85.211.200 as permitted sender)
Received: from [209.85.211.200] (HELO mail-yw0-f200.google.com) (209.85.211.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Jun 2010 03:12:42 +0000
Received: by ywh38 with SMTP id 38so4553495ywh.23
        for <java-user@lucene.apache.org>; Tue, 08 Jun 2010 20:12:21 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:from:in-reply-to:mime-version
         :references:date:message-id:subject:to:cc:content-type;
        bh=P7jrBzVdrSt1mwBdzADFiSaatiaf+kKqwIA8TAiqzsY=;
        b=hToLppQdzbzkdg/IGIAWKu33CiljuAP+vXiV8J8hi7HTWKd/tXW8L2gL4f8okTGVkP
         ryrZxI37p/kR+8Lm8mulrtx0wu+yqCzvM8EQnPc7jfaeEFYi7Az9/IDWrF78rs4XGX6H
         HyFbYHz2XUDVbLCTuyOFQBM2EcMEoqJWSQWb8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=from:in-reply-to:mime-version:references:date:message-id:subject:to
         :cc:content-type;
        b=Vg9nZEW8z0XzyBlAw0kp4xZlYRoZ1gTnhrUBtTeJpJcx1bt8TkAveO0LARXwVGcsE0
         vJebRguDSafyX0e4fyy2hAbKdNvrseID/SyOQYodFZjzMv23/KFcKVEOWLdkIMMnXtDc
         C+Jflmdl3MXnTnjxHV43YwrUr2bQot8J9mmmA=
Received: by 10.150.244.1 with SMTP id r1mr867039ybh.374.1276053141318; Tue, 
	08 Jun 2010 20:12:21 -0700 (PDT)
From: Rebecca Watson <bec.watson@gmail.com>
In-Reply-To: <1941636010468295749@unknownmsgid>
Mime-Version: 1.0 (iPhone Mail 7E18)
References: <AANLkTikDTmJaWJVKjN_DiLoYEfYtUz-s-7LhAvFUkcfY@mail.gmail.com> 
	<1941636010468295749@unknownmsgid>
Date: Wed, 9 Jun 2010 10:42:37 +0800
Message-ID: <6404977218039368803@unknownmsgid>
Subject: Re: retrieving Payload 3.0.1
To: Rebecca Watson <bec.watson@gmail.com>
Cc: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Content-Type: multipart/alternative; boundary=000e0cd343ac33edf304889046fe
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd343ac33edf304889046fe
Content-Type: text/plain; charset=UTF-8

Sorry, forgot to say:

We use solr, so we apply the standard
highlighter component (ie you could use
lucene contrib one) -- this highlights either
institute or organisation in the stored field string:

... / institute organisation / ....

but we modify our JavaScript to display only
the first term Eg 'institute' regardless of which
 term in the set matched.

Ie we know the first term in the same position
Was the original one, but leverage the in built
Highlighter for simplicity (ESP in solr).

bec :)

Sent from my iPhone

On 09/06/2010, at 10:32 AM, Rebecca Watson <bec.watson@gmail.com> wrote:

Hi aad,

See the search.payload package if you want examples of reading in payloads
at query time for scoring purposes, but returning the payload/ using it to
highlight will require you to write more custom lucene classes.

We work with synonyms too, but rather than store the synonym in payload like
you do, we store any number of synonyms in the same position ie the standard
trick for index-time synonym injection -- better because phrase queries will
match across synonyms in the same doc. However, we define synonyms /
equivalent terms prior to indexing so we don't use an anaylzer to add the
extra terms-- instead we use an analyzer that sets the position increment
attribute to 1 if it hits a special character and otherwise sets it to 0.
See for eg of setting position attribute:
org.apache.lucene.analysis.position.PositionFilter

So eg if we use '/' to indicate new position we would use:

 ... / institute organisation / ....

We apply this filter early on and it's still compatible with other
lucene analysers.

If you injected new synonyms in an analyzer, you would keep setting
the term attribute until new synonyms are all added,

then once you move to the next term, change position increment to 1
and update the term attribute. For the first synonym, make sure you
set the position increment attribute back to 0.

Hope that helps,

bec :)


Sent from my iPhone

On 08/06/2010, at 3:19 PM, Aad Nales <aad.nales@gmail.com> wrote:

Hi All,

I storing synonyms in an index. e.g. 'institute' as a synonym for
'organization'. Since I want to highlight the orginal term when
showing the result i am storing a Payload with each synononym. So in
this case the term 'institute' has a payload for 'organization'. I
execute a search and the document is found. Now i want to create the
highlighting and here is where it goes wrong. I am unable to figure
out how to 'read' the Payload from the document. Perhaps i am looking
at it the wrong way? What i want to avoid is having to expand my
search query with the synonyms. Is there anybody who could give me a
hint how to go about this in lucene 3.0.1

tia,
Aad

---------------------------------------------------------------------
To unsubscribe, e-mail: <java-user-unsubscribe@lucene.apache.org>
java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: <java-user-help@lucene.apache.org>
java-user-help@lucene.apache.org

--000e0cd343ac33edf304889046fe--

From java-user-return-46394-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 09 04:38:42 2010
Return-Path: <java-user-return-46394-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27486 invoked from network); 9 Jun 2010 04:38:42 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 9 Jun 2010 04:38:42 -0000
Received: (qmail 81513 invoked by uid 500); 9 Jun 2010 04:38:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81469 invoked by uid 500); 9 Jun 2010 04:38:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81450 invoked by uid 99); 9 Jun 2010 04:38:39 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Jun 2010 04:38:39 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=AWL,FREEMAIL_FROM,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aad.nales@gmail.com designates 74.125.82.176 as permitted sender)
Received: from [74.125.82.176] (HELO mail-wy0-f176.google.com) (74.125.82.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Jun 2010 04:38:33 +0000
Received: by wyb29 with SMTP id 29so2450622wyb.35
        for <java-user@lucene.apache.org>; Tue, 08 Jun 2010 21:38:11 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=S3SSm/+hc0+hIpinVS+Khsp7S5qcCnYcylWXIGc7yjo=;
        b=KcmFfa59LbMdGjm/Jz2GQ6EWGV8rDF0nzu1gtqbgJ0F125Qfw7Rxl378AQ55jBkIi8
         LUroNMeYMlyEcar0h7KfcPYA5TVBESMHFqx+/IWUJGisxFj6TpTkhAx2EloSByKM7od8
         Vr1HXp6Y1cG1h3DIDdb74azn1r4a6HJloIH74=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=tXbDxwNt/T/VePiOP4DEFJMT8cGOk2ksMjfgSfj4oDl55ZWL+wG7tFOB2rRFBIrEU8
         Svg2hlPDSRfbT88zAfz4MXWcqWX9EGw99eaIBJRkRShSG6HPmmaEL0vGr0XO1ScPQcqq
         UI4Z5ip4+MoRXDReS4hdhczX6RNV7A/JyJ05U=
MIME-Version: 1.0
Received: by 10.216.170.9 with SMTP id o9mr4072419wel.45.1276058291718; Tue, 
	08 Jun 2010 21:38:11 -0700 (PDT)
Received: by 10.216.157.135 with HTTP; Tue, 8 Jun 2010 21:38:11 -0700 (PDT)
In-Reply-To: <1941636010468295749@unknownmsgid>
References: <AANLkTikDTmJaWJVKjN_DiLoYEfYtUz-s-7LhAvFUkcfY@mail.gmail.com>
	<1941636010468295749@unknownmsgid>
Date: Wed, 9 Jun 2010 06:38:11 +0200
Message-ID: <AANLkTimM2S8hBx-ezDgZkYXnKaxLgjO-xKaGD_-yEyXn@mail.gmail.com>
Subject: Re: retrieving Payload 3.0.1
From: Aad Nales <aad.nales@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8

Hi Rebecca,

Thanks a lot for your reply. It sounds like a very solid alternative.
What i miss is how you do the highlighting. Suppose that i would
search for 'strong tea'  and this would result in a hit on 'black tea'
. Where strong is an synonym to black. How do you create a highlighter
for that?

Thanks,
Aad


>
> Hope that helps,
>
> bec :)
>
>
> Sent from my iPhone
>
> On 08/06/2010, at 3:19 PM, Aad Nales <aad.nales@gmail.com> wrote:
>
> Hi All,
>
> I storing synonyms in an index. e.g. 'institute' as a synonym for
> 'organization'. Since I want to highlight the orginal term when
> showing the result i am storing a Payload with each synononym. So in
> this case the term 'institute' has a payload for 'organization'. I
> execute a search and the document is found. Now i want to create the
> highlighting and here is where it goes wrong. I am unable to figure
> out how to 'read' the Payload from the document. Perhaps i am looking
> at it the wrong way? What i want to avoid is having to expand my
> search query with the synonyms. Is there anybody who could give me a
> hint how to go about this in lucene 3.0.1
>
> tia,
> Aad
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46395-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 09 13:34:10 2010
Return-Path: <java-user-return-46395-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88328 invoked from network); 9 Jun 2010 13:34:10 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 9 Jun 2010 13:34:10 -0000
Received: (qmail 24421 invoked by uid 500); 9 Jun 2010 13:34:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24346 invoked by uid 500); 9 Jun 2010 13:34:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24338 invoked by uid 99); 9 Jun 2010 13:34:07 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Jun 2010 13:34:07 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of m.madanipour@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Jun 2010 13:33:59 +0000
Received: by fxm6 with SMTP id 6so552768fxm.35
        for <java-user@lucene.apache.org>; Wed, 09 Jun 2010 06:33:39 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:date:message-id
         :subject:from:to:content-type;
        bh=sddTSEMFvGHxl7DTZUVwotjJe4gdc9T90MglMHL/rts=;
        b=kZHQwdWV4jiMvVZPMIYbbWLf+OY2gdycTHXurA4xXnxS11QOsbcuTYcPQp2bpKQz0M
         yiR+nFlgXKeNiWjxMIDqSWSKQ0AqGBr6XUdNGTSdz7+dkcMb7aP4Fk2t+pHsR/yVvtLv
         7H12wtQqcUHjy69jF2Js3G4ZTETVxbCY1x124=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=BK+gv8wcRr8XFhflihVe12KAHU0gfcdgL5hVDs53LgD5tHL6p906cOu+iAGPqHL86p
         uRdIZEYh2GpgMCEyp3dyDroVFcYEg9sJsRvZqDDmZU/yqHZKIMOmNUiTsWyborRRNCsF
         9mbVuJ1JIm7DafgxKtXLuCeJWQ8FBxfDhxsc0=
MIME-Version: 1.0
Received: by 10.239.182.2 with SMTP id o2mr1279813hbg.51.1276090418871; Wed, 
	09 Jun 2010 06:33:38 -0700 (PDT)
Received: by 10.239.191.199 with HTTP; Wed, 9 Jun 2010 06:33:38 -0700 (PDT)
Date: Wed, 9 Jun 2010 18:03:38 +0430
Message-ID: <AANLkTil0YsFPzALnNIXEau7NoOexMLyer2y2aTugoKPG@mail.gmail.com>
Subject: segment_N file is missed
From: "maryam ma'danipour" <m.madanipour@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=001485f1ec201e3e3e048898f490
X-Virus-Checked: Checked by ClamAV on apache.org

--001485f1ec201e3e3e048898f490
Content-Type: text/plain; charset=ISO-8859-1

Hello to all !
  I have _0.cfs file of a lucene index directory but segments.gen and
segments_2 are missing. Can I generate the segments.gen and segments_2 files
without having to regenerate the _0.cfs file. Does these "segments" files
contain any index specific data, which will thus force me to regenerate the
entire index again. Or can I just generate the two "segments" file by
copying these from another lucene index directory generated with the same
lucene version or can I merge this inex with another index which has
segments_N to retrieve the data ?

Thanks

--001485f1ec201e3e3e048898f490--

From java-user-return-46396-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 09 14:19:18 2010
Return-Path: <java-user-return-46396-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6568 invoked from network); 9 Jun 2010 14:19:17 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 9 Jun 2010 14:19:17 -0000
Received: (qmail 90225 invoked by uid 500); 9 Jun 2010 14:19:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90153 invoked by uid 500); 9 Jun 2010 14:19:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90077 invoked by uid 99); 9 Jun 2010 14:19:11 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Jun 2010 14:19:11 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of luocan19826164@sohu.com designates 61.135.132.86 as permitted sender)
Received: from [61.135.132.86] (HELO relay.mail.sohu.com) (61.135.132.86)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Jun 2010 14:19:01 +0000
Received: from 85737ec54efc4e1 (unknown [121.34.53.170])
	by relay.mail.sohu.com (Postfix) with ESMTPA id 80F36698DBC
	for <java-user@lucene.apache.org>; Wed,  9 Jun 2010 22:17:35 +0800 (CST)
From: "luocanrao" <luocan19826164@sohu.com>
To: <java-user@lucene.apache.org>
Subject: A question bout google search index?
Date: Wed, 9 Jun 2010 22:18:17 +0800
Message-ID: <027401cb07de$a3c6a5b0$eb53f110$@com>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0275_01CB0821.B1E9E5B0"
X-Mailer: Microsoft Office Outlook 12.0
Thread-Index: AcsH3psaygUGspxZRaO6hGQpvLtl3Q==
Content-Language: zh-cn
X-SOHU-Antispam-Bayes: 0
X-Virus-Checked: Checked by ClamAV on apache.org

------=_NextPart_000_0275_01CB0821.B1E9E5B0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

A news bout google search index. Index system of Lucene can also support
realtime search, 

Is there some difference between them?

 

With Caffeine, we analyze the web in small portions and update our search
index on a continuous basis, globally. As we find new pages, or new
information on existing pages, we can add these straight to the index. That
means you can find fresher information than ever before-no matter when or
where it was published.

 

Caffeine lets us index web pages on an enormous scale. In fact, every second
Caffeine processes hundreds of thousands of pages in parallel. If this were
a pile of paper it would grow three miles taller every second. Caffeine
takes up nearly 100 million gigabytes of storage in one database and adds
new information at a rate of hundreds of thousands of gigabytes per day. You
would need 625,000 of the largest iPods to store that much information; if
these were stacked end-to-end they would go for more than 40 miles


------=_NextPart_000_0275_01CB0821.B1E9E5B0--


From java-user-return-46397-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 09 15:36:28 2010
Return-Path: <java-user-return-46397-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38394 invoked from network); 9 Jun 2010 15:36:28 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 9 Jun 2010 15:36:28 -0000
Received: (qmail 49074 invoked by uid 500); 9 Jun 2010 15:36:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49019 invoked by uid 500); 9 Jun 2010 15:36:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49011 invoked by uid 99); 9 Jun 2010 15:36:25 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Jun 2010 15:36:25 +0000
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=SPF_HELO_PASS,SPF_SOFTFAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: softfail (nike.apache.org: transitioning domain of fujian.z.yang@nokia.com does not designate 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Jun 2010 15:36:19 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <fujian.z.yang@nokia.com>)
	id 1OMNJu-0006RS-2D
	for java-user@lucene.apache.org; Wed, 09 Jun 2010 08:35:58 -0700
Date: Wed, 9 Jun 2010 08:35:58 -0700 (PDT)
From: fujian <fujian.z.yang@nokia.com>
To: java-user@lucene.apache.org
Message-ID: <1276097758061-882569.post@n3.nabble.com>
Subject: sort field should not be tokenized?
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org



Hello,

I'm using Lucene 2.9 and when reading java doc for the Sort class I noticed
it says "The field must be indexed, but should not be tokenized".

But I tried to sort on a tokenized field, it works too. Just wondering
what's the difference between tokenized and untokenized in terms of sort?
Why in javadoc and "Lucene in Action" they all mention that the sort field
should not be tokenzied?

Thanks,
-Fujian


-- 
View this message in context: http://lucene.472066.n3.nabble.com/sort-field-should-not-be-tokenized-tp882569p882569.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46398-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 09 15:47:01 2010
Return-Path: <java-user-return-46398-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43650 invoked from network); 9 Jun 2010 15:47:01 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 9 Jun 2010 15:47:01 -0000
Received: (qmail 64440 invoked by uid 500); 9 Jun 2010 15:46:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64403 invoked by uid 500); 9 Jun 2010 15:46:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64395 invoked by uid 99); 9 Jun 2010 15:46:59 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Jun 2010 15:46:59 +0000
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=SPF_HELO_PASS,SPF_SOFTFAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: softfail (athena.apache.org: transitioning domain of fujian.z.yang@nokia.com does not designate 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Jun 2010 15:46:54 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <fujian.z.yang@nokia.com>)
	id 1OMNU9-0007V2-Ka
	for java-user@lucene.apache.org; Wed, 09 Jun 2010 08:46:33 -0700
Date: Wed, 9 Jun 2010 08:46:33 -0700 (PDT)
From: fujian <fujian.z.yang@nokia.com>
To: java-user@lucene.apache.org
Message-ID: <1276098393632-882598.post@n3.nabble.com>
Subject: why lucene loads field value for every doc (not only the matched
 docs) when doing sort?
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit



Hello,

I'm using lucene 2.9.0 and ran into OutOfMemory error when doing a search
with sort on a big index. After a bit research, I found that when doing sort
lucene loads the field value for all docs in the index into memory, not the
matched ones only. 

Just wondering why this? maybe for the performance? Is there a way to avoid
this? I mean maybe lucene should give users another option not to load
values for all docs.

Thanks,
-Fujian
-- 
View this message in context: http://lucene.472066.n3.nabble.com/why-lucene-loads-field-value-for-every-doc-not-only-the-matched-docs-when-doing-sort-tp882598p882598.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46399-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 09 20:23:15 2010
Return-Path: <java-user-return-46399-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63436 invoked from network); 9 Jun 2010 20:23:15 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 9 Jun 2010 20:23:15 -0000
Received: (qmail 70674 invoked by uid 500); 9 Jun 2010 20:23:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70636 invoked by uid 500); 9 Jun 2010 20:23:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70628 invoked by uid 99); 9 Jun 2010 20:23:13 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Jun 2010 20:23:13 +0000
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=SPF_HELO_PASS,SPF_SOFTFAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: softfail (nike.apache.org: transitioning domain of fujian.z.yang@nokia.com does not designate 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Jun 2010 20:23:06 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <fujian.z.yang@nokia.com>)
	id 1OMRnS-0003D9-2U
	for java-user@lucene.apache.org; Wed, 09 Jun 2010 13:22:46 -0700
Date: Wed, 9 Jun 2010 13:22:46 -0700 (PDT)
From: fujian <fujian.z.yang@nokia.com>
To: java-user@lucene.apache.org
Message-ID: <1276114966071-883464.post@n3.nabble.com>
Subject: is this the right way to go?
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org



Hello,

We are using lucene 2.9.0. and ran into OutOfMemory error when sorting on a
highly unique field on a big index. After doing some research we learned
that lucene will load the sort field value for all documents into memory to
do sorting, and ended up with the OutOfMemory if the index is too big. 

The problem is no matter how much heap size you allocated for jvm, you will
run into this problem eventually when your index is big enough and the sort
field value is unique enough regardless how small amount of documents
actually match the query ...

This is a bit ... annoying. I only want to sort the 10 docs that match the
query, why I need to load millions of field values into memory?

Then we are thinking to disable the sort from lucene search and do the
sorting ourselves. that is, after getting all matching docs from
search(since we know the matching docs won't be too much), we do the sorting
"manually". This requires us write our own sorting methods and it needs to
support multiple field sort. 

so my question is is this the right way to go? or maybe lucene/solr already
has the similiar thing?

Thank you very much,
-Fujian

 

 
-- 
View this message in context: http://lucene.472066.n3.nabble.com/is-this-the-right-way-to-go-tp883464p883464.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46400-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 09 20:56:32 2010
Return-Path: <java-user-return-46400-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75138 invoked from network); 9 Jun 2010 20:56:32 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 9 Jun 2010 20:56:32 -0000
Received: (qmail 14445 invoked by uid 500); 9 Jun 2010 20:56:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14413 invoked by uid 500); 9 Jun 2010 20:56:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14405 invoked by uid 99); 9 Jun 2010 20:56:30 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Jun 2010 20:56:30 +0000
X-ASF-Spam-Status: No, hits=-0.1 required=10.0
	tests=AWL,FREEMAIL_FROM,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ian.lea@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Jun 2010 20:56:25 +0000
Received: by bwz5 with SMTP id 5so312870bwz.35
        for <java-user@lucene.apache.org>; Wed, 09 Jun 2010 13:56:04 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type;
        bh=SKAdPE2/fc3r5wQPulqIuvSS/7tvhxifM3JnLNOV0to=;
        b=FGVL8qpq626ehBFqQVelElNSLN0auc6casc+KRfHbrHfsPxOWbLDodUdNF9Y/XXgLE
         NKiYFdSF8ghrZB9hezsOGcsSpNo+8WOXe1Kht+0vreBrITMhOT+TRbAJvKBXdhOG0llI
         q4gTnwTPWKmqS6lki0aiI7AvscsprcXSEPKl0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=wgNZp6Lk/9u+JLrP9tac8jQMty3Ypk+cY7N8LLzAp0FC0VWXqUqtkZ7c+9ktHRp1CV
         ipemiCbpOobY6GwFdOBOOYBeTNS96Yw3DHne6k+DHk6Z3ArGsLi7mxwnOVe3ef4c5N7l
         qDbzGseHy7GkldQKPuoMjYxtRR7c+1PGwNEwU=
Received: by 10.204.83.209 with SMTP id g17mr1155022bkl.120.1276116964161; 
	Wed, 09 Jun 2010 13:56:04 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.204.59.129 with HTTP; Wed, 9 Jun 2010 13:55:44 -0700 (PDT)
In-Reply-To: <1276114966071-883464.post@n3.nabble.com>
References: <1276114966071-883464.post@n3.nabble.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Wed, 9 Jun 2010 21:55:44 +0100
Message-ID: <AANLkTinLFcsyGaOQNSj4qTYdCR7omCjGCXQtxCjQWYVD@mail.gmail.com>
Subject: Re: is this the right way to go?
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

Doing your own sorting is certainly an acceptable thing to do, and for
low numbers of hits might even be "the right way".  There are also
some tips and tricks that you can use to reduce Lucene's memory usage
for sorting such as using NumericField or splitting the sortable
field(s) into chunks, e.g. indexing year/month/day/hh/mm as separate
fields.


--
Ian.


On Wed, Jun 9, 2010 at 9:22 PM, fujian <fujian.z.yang@nokia.com> wrote:
>
>
> Hello,
>
> We are using lucene 2.9.0. and ran into OutOfMemory error when sorting on a
> highly unique field on a big index. After doing some research we learned
> that lucene will load the sort field value for all documents into memory to
> do sorting, and ended up with the OutOfMemory if the index is too big.
>
> The problem is no matter how much heap size you allocated for jvm, you will
> run into this problem eventually when your index is big enough and the sort
> field value is unique enough regardless how small amount of documents
> actually match the query ...
>
> This is a bit ... annoying. I only want to sort the 10 docs that match the
> query, why I need to load millions of field values into memory?
>
> Then we are thinking to disable the sort from lucene search and do the
> sorting ourselves. that is, after getting all matching docs from
> search(since we know the matching docs won't be too much), we do the sorting
> "manually". This requires us write our own sorting methods and it needs to
> support multiple field sort.
>
> so my question is is this the right way to go? or maybe lucene/solr already
> has the similiar thing?
>
> Thank you very much,
> -Fujian
>
>
>
>
> --
> View this message in context: http://lucene.472066.n3.nabble.com/is-this-the-right-way-to-go-tp883464p883464.html
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46401-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 09 20:58:08 2010
Return-Path: <java-user-return-46401-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75808 invoked from network); 9 Jun 2010 20:58:08 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 9 Jun 2010 20:58:08 -0000
Received: (qmail 18684 invoked by uid 500); 9 Jun 2010 20:58:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18647 invoked by uid 500); 9 Jun 2010 20:58:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18639 invoked by uid 99); 9 Jun 2010 20:58:06 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Jun 2010 20:58:06 +0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=FREEMAIL_FROM,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ian.lea@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Jun 2010 20:58:00 +0000
Received: by bwz5 with SMTP id 5so313519bwz.35
        for <java-user@lucene.apache.org>; Wed, 09 Jun 2010 13:57:40 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type;
        bh=uREOuwhSKh2ph8kPaOzZ689G1rnEOKNrqbS77Sy9e8o=;
        b=xjNHmiOrLwKf6haaZUkOqxs8cBpvDJ9Pwzo0aP4RX7XrJd0EIwWXVN+ScLuEv+dEGY
         oGAiO1PVgX1HAiwcrX1jhcCyCw0fBuEm+a7iSZ65b+Hz459M2WeZJA3pRYgyKawR+kb7
         fB5HIzAZGIOMp39fYMRBeezvjWfuc4ye5Oods=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=TabR4n45qUPFFHvnuvUpSCYusBWwGIwBJRDOKjUgPspjwRHd4i9px/1OuJ2TGfudpJ
         8uo3wHep3bjWBh9YX66OpIuWfPrONbMdWiJK7w5MVBNmQslj17l5NtvT8Ho/HgyVYgkn
         FMmJ6xY1pXPWcEonBC/+Qk2Ic78tFq8miNm0k=
Received: by 10.204.47.20 with SMTP id l20mr269445bkf.132.1276117058155; Wed, 
	09 Jun 2010 13:57:38 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.204.59.129 with HTTP; Wed, 9 Jun 2010 13:57:18 -0700 (PDT)
In-Reply-To: <1276097758061-882569.post@n3.nabble.com>
References: <1276097758061-882569.post@n3.nabble.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Wed, 9 Jun 2010 21:57:18 +0100
Message-ID: <AANLkTikhNSCe_DlMeRAzPX8splI42dofjqYOJvK3-DoK@mail.gmail.com>
Subject: Re: sort field should not be tokenized?
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

Sorting on tokenized fields can work, but may not necessarily do what
you expect, depending on your requirements and how the field is
tokenized.

--
Ian.

On Wed, Jun 9, 2010 at 4:35 PM, fujian <fujian.z.yang@nokia.com> wrote:
>
>
> Hello,
>
> I'm using Lucene 2.9 and when reading java doc for the Sort class I noticed
> it says "The field must be indexed, but should not be tokenized".
>
> But I tried to sort on a tokenized field, it works too. Just wondering
> what's the difference between tokenized and untokenized in terms of sort?
> Why in javadoc and "Lucene in Action" they all mention that the sort field
> should not be tokenzied?
>
> Thanks,
> -Fujian
>
>
> --
> View this message in context: http://lucene.472066.n3.nabble.com/sort-field-should-not-be-tokenized-tp882569p882569.html
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46402-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 09 20:59:26 2010
Return-Path: <java-user-return-46402-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76239 invoked from network); 9 Jun 2010 20:59:26 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 9 Jun 2010 20:59:26 -0000
Received: (qmail 21836 invoked by uid 500); 9 Jun 2010 20:59:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21798 invoked by uid 500); 9 Jun 2010 20:59:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21790 invoked by uid 99); 9 Jun 2010 20:59:24 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Jun 2010 20:59:24 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=AWL,FREEMAIL_FROM,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ian.lea@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Jun 2010 20:59:19 +0000
Received: by fxm6 with SMTP id 6so942048fxm.35
        for <java-user@lucene.apache.org>; Wed, 09 Jun 2010 13:58:58 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type;
        bh=+ThFbDAU7YU/6tNPKcoFMHU1fk/K/Cc9aotgVnNqJYY=;
        b=kUqt3DXxClIHA0D0Tdq3HLkUVwBP6KXfiE3ixVienu79I6gGPpRNqWFTlsGQYtb31n
         Alk5D/ydEm+j2vlRoKjEKw6KH7lBik3o+nYjR6l1oGbUVjAFVJGgDOPRd4Cm2qQDUHzq
         a01LyxjR41aXPArpeC74o+sgo8xX7MH1Jg+hM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=nTlWOLHvwBOoT6zY8Wua5HZkGgCk8U7Af9VTl4fumWNUmAyvs2TbJks8umNUMGZOw+
         QgN96lO5JLXqtAf/JM9EI+hO8ZQIRPRQMMXAEMX9Vq7BHohlkJ3eSsx9toyPu4NnsvMC
         iKLBR55lN3lUc4Jc6maAAehOWLSgJcIIS4L1s=
Received: by 10.204.47.17 with SMTP id l17mr1681819bkf.82.1276117138156; Wed, 
	09 Jun 2010 13:58:58 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.204.59.129 with HTTP; Wed, 9 Jun 2010 13:58:38 -0700 (PDT)
In-Reply-To: <1276098393632-882598.post@n3.nabble.com>
References: <1276098393632-882598.post@n3.nabble.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Wed, 9 Jun 2010 21:58:38 +0100
Message-ID: <AANLkTim0nMqRN63J3BNauB8qrHQ0DhdlsCQJv44Ezbea@mail.gmail.com>
Subject: Re: why lucene loads field value for every doc (not only the matched 
	docs) when doing sort?
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

For performance. There is a one-off initial hit then things get quick.

--
Ian.


On Wed, Jun 9, 2010 at 4:46 PM, fujian <fujian.z.yang@nokia.com> wrote:
>
>
> Hello,
>
> I'm using lucene 2.9.0 and ran into OutOfMemory error when doing a search
> with sort on a big index. After a bit research, I found that when doing sort
> lucene loads the field value for all docs in the index into memory, not the
> matched ones only.
>
> Just wondering why this? maybe for the performance? Is there a way to avoid
> this? I mean maybe lucene should give users another option not to load
> values for all docs.
>
> Thanks,
> -Fujian
> --
> View this message in context: http://lucene.472066.n3.nabble.com/why-lucene-loads-field-value-for-every-doc-not-only-the-matched-docs-when-doing-sort-tp882598p882598.html
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46403-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 09 22:42:11 2010
Return-Path: <java-user-return-46403-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14256 invoked from network); 9 Jun 2010 22:42:10 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 9 Jun 2010 22:42:10 -0000
Received: (qmail 43785 invoked by uid 500); 9 Jun 2010 22:42:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43749 invoked by uid 500); 9 Jun 2010 22:42:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43741 invoked by uid 99); 9 Jun 2010 22:42:08 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Jun 2010 22:42:08 +0000
X-ASF-Spam-Status: No, hits=3.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of erickerickson@gmail.com designates 209.85.160.176 as permitted sender)
Received: from [209.85.160.176] (HELO mail-gy0-f176.google.com) (209.85.160.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Jun 2010 22:42:02 +0000
Received: by gyf1 with SMTP id 1so6529457gyf.35
        for <java-user@lucene.apache.org>; Wed, 09 Jun 2010 15:41:41 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=VNE2YDAUUWEfzg2Eksn98C9AWMOgC5IVYSoEKt1I4UA=;
        b=deQQsYExLjjSpNO+N05/k9MftfRRWsi1tIvWf5ysC5OoGB9sUX8FSTXf83Aqxuo9Qo
         0wmn/HKihZfwj9JII5LCPrUIZ/N9BVMBcS09mi3qoILE/4U8Bvx5tQ025zPR3BUwzVlD
         H3fR6MagqteFiJRYc4XTmpLKWhstBAnEekcGg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=LwiiLjuAlQtoEw0fiuKMZbfy9GjiCtFW/GCGv2jlrrJDJq2SsfgryNQLyzl/sm44kr
         PGWje0bqRmBkWtdipzlE/44gmye5CkeyIz/ooVcRAbwIQOjX5TsqiWrA0pdR17YGn2Nb
         /gcrpjq2iKmJAVHBSoCrD+KDei5A/m6jzQ6JQ=
MIME-Version: 1.0
Received: by 10.150.31.14 with SMTP id e14mr1034841ybe.95.1276123301692; Wed, 
	09 Jun 2010 15:41:41 -0700 (PDT)
Received: by 10.151.148.19 with HTTP; Wed, 9 Jun 2010 15:41:41 -0700 (PDT)
In-Reply-To: <1276114966071-883464.post@n3.nabble.com>
References: <1276114966071-883464.post@n3.nabble.com>
Date: Wed, 9 Jun 2010 18:41:41 -0400
Message-ID: <AANLkTimfasPb9JXV1YcQc2K_KzOO_O40hY2kDAj8LDEI@mail.gmail.com>
Subject: Re: is this the right way to go?
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=000e0cd28a3c1647d20488a09cbb
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd28a3c1647d20488a09cbb
Content-Type: text/plain; charset=ISO-8859-1

In addition to Ian's comment, an important question is what
kind of values you're sorting on. It sounds like a time stamp,
because most languages only have a (relatively) small number
of terms.

It's not the total terms in the field, it's the total *unique* terms
in the field. So even with a very large text field in, say, English,
there are only around 300,000 terms and that will be the max
that are loaded into memory.

So, as always, details matter <G>.

Best
Erick

On Wed, Jun 9, 2010 at 4:22 PM, fujian <fujian.z.yang@nokia.com> wrote:

>
>
> Hello,
>
> We are using lucene 2.9.0. and ran into OutOfMemory error when sorting on a
> highly unique field on a big index. After doing some research we learned
> that lucene will load the sort field value for all documents into memory to
> do sorting, and ended up with the OutOfMemory if the index is too big.
>
> The problem is no matter how much heap size you allocated for jvm, you will
> run into this problem eventually when your index is big enough and the sort
> field value is unique enough regardless how small amount of documents
> actually match the query ...
>
> This is a bit ... annoying. I only want to sort the 10 docs that match the
> query, why I need to load millions of field values into memory?
>
> Then we are thinking to disable the sort from lucene search and do the
> sorting ourselves. that is, after getting all matching docs from
> search(since we know the matching docs won't be too much), we do the
> sorting
> "manually". This requires us write our own sorting methods and it needs to
> support multiple field sort.
>
> so my question is is this the right way to go? or maybe lucene/solr already
> has the similiar thing?
>
> Thank you very much,
> -Fujian
>
>
>
>
> --
> View this message in context:
> http://lucene.472066.n3.nabble.com/is-this-the-right-way-to-go-tp883464p883464.html
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--000e0cd28a3c1647d20488a09cbb--

From java-user-return-46404-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 09 22:57:27 2010
Return-Path: <java-user-return-46404-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17751 invoked from network); 9 Jun 2010 22:57:26 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 9 Jun 2010 22:57:26 -0000
Received: (qmail 55123 invoked by uid 500); 9 Jun 2010 22:57:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54906 invoked by uid 500); 9 Jun 2010 22:57:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54898 invoked by uid 99); 9 Jun 2010 22:57:24 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Jun 2010 22:57:24 +0000
X-ASF-Spam-Status: No, hits=3.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of erickerickson@gmail.com designates 209.85.213.176 as permitted sender)
Received: from [209.85.213.176] (HELO mail-yx0-f176.google.com) (209.85.213.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Jun 2010 22:57:18 +0000
Received: by yxd39 with SMTP id 39so749820yxd.35
        for <java-user@lucene.apache.org>; Wed, 09 Jun 2010 15:56:57 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=hFfHU/7xX7pVfBZivxvF2BMZw2AWDMH2rpZhylblL2w=;
        b=Val10UgsPelDov8hsOf4c2THH0hV28gfxlqeUVKz4QsxEpG9QrtSuVHlIIxrau4dIZ
         5a1tBeQ7/tBcHqknvnrVGalRnP3Rj0jmBIvWo6r+7L2/MD2FSTK6nEZZv48lyoV7e+3k
         Fq6ppvr36x7rBkx+yiJTNVHTaDrSiiFMJVN2A=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=p2BeD06O0luCQdajmWCfIsobdl1zxknQRhuVhCPQf+DOBat38gTrfeEGInFsotx42G
         dmdiwmHzvXU+B+I2+ypMIekoFNB9MDQxU+3sgonoOv7IUsigTjkNBqPmXZmYXTzkKCpZ
         4q0hp7vhSlBNSx0tkmcAx6dZx1iCpfQEFc2Zc=
MIME-Version: 1.0
Received: by 10.150.252.15 with SMTP id z15mr485189ybh.391.1276124217765; Wed, 
	09 Jun 2010 15:56:57 -0700 (PDT)
Received: by 10.151.148.19 with HTTP; Wed, 9 Jun 2010 15:56:57 -0700 (PDT)
In-Reply-To: <1276097758061-882569.post@n3.nabble.com>
References: <1276097758061-882569.post@n3.nabble.com>
Date: Wed, 9 Jun 2010 18:56:57 -0400
Message-ID: <AANLkTimXbdv3okOQkQH2-8nRQo0_j9vOzunHrp-gPWWv@mail.gmail.com>
Subject: Re: sort field should not be tokenized?
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=000e0cd70d9eb072a00488a0d2d9
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd70d9eb072a00488a0d2d9
Content-Type: text/plain; charset=ISO-8859-1

Consider analyzing on whitespace, without
removing stopwords for the input "the fox is in
his den". You'd have the terms:
the
fox
is
in
his
den

What does it mean to sort on this field? Which term
should be used?

What if you remove stopwords? What about casing?
Or any of a myriad of other possible things you'd to
with an analyzer.

So the behavior *can* work if you sort on a tokenized
field, but it'll be "interesting". If you happen to have
a field that only tokenizes to single terms, you'll
probably get expected results, but it'll be pretty
fragile..

HTH
Erick

On Wed, Jun 9, 2010 at 11:35 AM, fujian <fujian.z.yang@nokia.com> wrote:

>
>
> Hello,
>
> I'm using Lucene 2.9 and when reading java doc for the Sort class I noticed
> it says "The field must be indexed, but should not be tokenized".
>
> But I tried to sort on a tokenized field, it works too. Just wondering
> what's the difference between tokenized and untokenized in terms of sort?
> Why in javadoc and "Lucene in Action" they all mention that the sort field
> should not be tokenzied?
>
> Thanks,
> -Fujian
>
>
> --
> View this message in context:
> http://lucene.472066.n3.nabble.com/sort-field-should-not-be-tokenized-tp882569p882569.html
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--000e0cd70d9eb072a00488a0d2d9--

From java-user-return-46405-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 10 01:08:57 2010
Return-Path: <java-user-return-46405-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77515 invoked from network); 10 Jun 2010 01:08:57 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 10 Jun 2010 01:08:57 -0000
Received: (qmail 50552 invoked by uid 500); 10 Jun 2010 01:08:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50527 invoked by uid 500); 10 Jun 2010 01:08:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50519 invoked by uid 99); 10 Jun 2010 01:08:55 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Jun 2010 01:08:55 +0000
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=SPF_HELO_PASS,SPF_SOFTFAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: softfail (nike.apache.org: transitioning domain of fujian.z.yang@nokia.com does not designate 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Jun 2010 01:08:48 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <fujian.z.yang@nokia.com>)
	id 1OMWFv-00069x-PI
	for java-user@lucene.apache.org; Wed, 09 Jun 2010 18:08:27 -0700
Date: Wed, 9 Jun 2010 18:08:27 -0700 (PDT)
From: fujian <fujian.z.yang@nokia.com>
To: java-user@lucene.apache.org
Message-ID: <1276132107776-884107.post@n3.nabble.com>
In-Reply-To: <AANLkTimXbdv3okOQkQH2-8nRQo0_j9vOzunHrp-gPWWv@mail.gmail.com>
References: <1276097758061-882569.post@n3.nabble.com> <AANLkTimXbdv3okOQkQH2-8nRQo0_j9vOzunHrp-gPWWv@mail.gmail.com>
Subject: Re: sort field should not be tokenized?
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org



Thanks Eric for the detailed explanation. Now I understand what Ian means.

-Fujian
-- 
View this message in context: http://lucene.472066.n3.nabble.com/sort-field-should-not-be-tokenized-tp882569p884107.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46406-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 10 02:03:46 2010
Return-Path: <java-user-return-46406-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87809 invoked from network); 10 Jun 2010 02:03:46 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 10 Jun 2010 02:03:46 -0000
Received: (qmail 83939 invoked by uid 500); 10 Jun 2010 02:03:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83899 invoked by uid 500); 10 Jun 2010 02:03:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83891 invoked by uid 99); 10 Jun 2010 02:03:44 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Jun 2010 02:03:44 +0000
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=SPF_HELO_PASS,SPF_SOFTFAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: softfail (nike.apache.org: transitioning domain of fujian.z.yang@nokia.com does not designate 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Jun 2010 02:03:38 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <fujian.z.yang@nokia.com>)
	id 1OMX6z-0002uu-3i
	for java-user@lucene.apache.org; Wed, 09 Jun 2010 19:03:17 -0700
Date: Wed, 9 Jun 2010 19:03:17 -0700 (PDT)
From: fujian <fujian.z.yang@nokia.com>
To: java-user@lucene.apache.org
Message-ID: <1276135397107-884302.post@n3.nabble.com>
In-Reply-To: <AANLkTimfasPb9JXV1YcQc2K_KzOO_O40hY2kDAj8LDEI@mail.gmail.com>
References: <1276114966071-883464.post@n3.nabble.com> <AANLkTimfasPb9JXV1YcQc2K_KzOO_O40hY2kDAj8LDEI@mail.gmail.com>
Subject: Re: is this the right way to go?
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org



Thanks Eric and Ian! 

Yes, time stamp is one of our sort fields. By splitting it into
year/month/day/... it'll reduce the memory usage dramatically. But I don't
know if we can specify the significance of the sort fields, like year first,
followed by month, day ... etc.

Another thing is about unique. I thought it was unique "field value". If it
means unique term, for English even loading all around 300,000 terms it
won't take much memory, right? (Suppose the average length of term is 10,
the total memory usage is 10*300,000=3MB)

Thanks again, this helps a lot!
-Fujian
-- 
View this message in context: http://lucene.472066.n3.nabble.com/is-this-the-right-way-to-go-tp883464p884302.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46407-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 10 06:40:34 2010
Return-Path: <java-user-return-46407-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9334 invoked from network); 10 Jun 2010 06:36:26 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 10 Jun 2010 06:36:26 -0000
Received: (qmail 17423 invoked by uid 500); 10 Jun 2010 05:34:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17326 invoked by uid 500); 10 Jun 2010 05:34:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17318 invoked by uid 99); 10 Jun 2010 05:34:24 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Jun 2010 05:34:24 +0000
X-ASF-Spam-Status: No, hits=-0.1 required=10.0
	tests=AWL,FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of dozer.kata@gmail.com designates 209.85.160.176 as permitted sender)
Received: from [209.85.160.176] (HELO mail-gy0-f176.google.com) (209.85.160.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Jun 2010 05:34:18 +0000
Received: by gyf1 with SMTP id 1so6823231gyf.35
        for <java-user@lucene.apache.org>; Wed, 09 Jun 2010 22:33:57 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:date:message-id
         :subject:from:to:content-type;
        bh=Gz2MReRyOYWwIA45ASRKl3XGwe+B9Zw3qHb9fF/C2yI=;
        b=Lxw58mdB+P+wxajqV2tjCzRfOcQvFHPYgedpbpqMMGW0GE7uhSO3c6munFe8Nqa8b4
         F6OcvclA6Q4A+9zuUSFAbhI/faPxXw6LYGaikYZI7oaIHIB+XRt1CUx9oxbn84EanSIz
         2T4+rBhdZuTTWjMhwfkjbvm/2DZO86PC9bSIo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=F6N/jLYvLrfh9jr5jvVLcWRpClrqSYNfiryzh3dsotB8Y5EypL3kxvL/Pw8CuDkGX6
         LP4DMrmEgbaUcTPsk49wjf8TAp8NFpNeKvcsm1iWiypOcVYEOoHIpEC3nY+UTdQ9Heyb
         TuJGIwtiF6F0N3/fh3jBVQgxVVsPeUAb4SKxs=
MIME-Version: 1.0
Received: by 10.150.60.5 with SMTP id i5mr861849yba.148.1276148037238; Wed, 09 
	Jun 2010 22:33:57 -0700 (PDT)
Received: by 10.151.7.19 with HTTP; Wed, 9 Jun 2010 22:33:57 -0700 (PDT)
Date: Wed, 9 Jun 2010 22:33:57 -0700
Message-ID: <AANLkTimmBf8F9Hy9lYuELAX1aSjVxa6BTwMcgDA7Py9d@mail.gmail.com>
Subject: Problem loading file from Directory on MacOS X...
From: Kit Plummer <dozer.kata@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

Hey folks.
Ran into a problem on MacOS X...that doesn't exist in Linux (CentOS, or Ubuntu).

No signature of method: static
org.apache.lucene.store.FSDirectory.open() is applicable for argument
types: (java.io.File) values: [/home/kplummer/Development/tmp]

I'm actually running this through Groovy, but don't imagine this is
the problem.  Wondering if anyone has any ideas?

Here's the code:

def fsDir = FSDirectory.open(new File(indexDir))

TIA,
Kit

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46408-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 10 08:48:31 2010
Return-Path: <java-user-return-46408-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56382 invoked from network); 10 Jun 2010 08:48:28 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 10 Jun 2010 08:48:28 -0000
Received: (qmail 54410 invoked by uid 500); 10 Jun 2010 08:48:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54016 invoked by uid 500); 10 Jun 2010 08:48:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54008 invoked by uid 99); 10 Jun 2010 08:48:25 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Jun 2010 08:48:25 +0000
X-ASF-Spam-Status: No, hits=4.0 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_NEUTRAL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Jun 2010 08:48:18 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id 980F4D36009
	for <java-user@lucene.apache.org>; Thu, 10 Jun 2010 10:47:58 +0200 (CEST)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id a0Um71STCIHT for <java-user@lucene.apache.org>;
	Thu, 10 Jun 2010 10:47:41 +0200 (CEST)
Received: from VEGA (unknown [82.113.106.129])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id 663B6D36008
	for <java-user@lucene.apache.org>; Thu, 10 Jun 2010 10:47:24 +0200 (CEST)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <1276114966071-883464.post@n3.nabble.com> <AANLkTimfasPb9JXV1YcQc2K_KzOO_O40hY2kDAj8LDEI@mail.gmail.com> <1276135397107-884302.post@n3.nabble.com>
In-Reply-To: <1276135397107-884302.post@n3.nabble.com>
Subject: RE: is this the right way to go?
Date: Thu, 10 Jun 2010 10:46:44 +0200
Message-ID: <009801cb0879$96db71a0$c49254e0$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQIpUQvLrms9QrFjIR0oHX7q/v9JbwGYerXuAwiLQsaRmUfzUA==
Content-Language: de
X-Virus-Checked: Checked by ClamAV on apache.org

You should use NumericField with precisionStep MAX_VALUE as field you sort
against (represent the date as an integer/long like got from
Date.getTime()). This costs much less memory, as its not sorted as strings,
but with native data types, so the FieldCache needs much less space. If you
also want to do RangeQueries on a numeric Range, use the default
precisionStep.

More information is the JavaDocs of NumericRangeQuery and NumericField.

Uwe

-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de


> -----Original Message-----
> From: fujian [mailto:fujian.z.yang@nokia.com]
> Sent: Thursday, June 10, 2010 4:03 AM
> To: java-user@lucene.apache.org
> Subject: Re: is this the right way to go?
> 
> 
> 
> Thanks Eric and Ian!
> 
> Yes, time stamp is one of our sort fields. By splitting it into
> year/month/day/... it'll reduce the memory usage dramatically. But I don't
> know if we can specify the significance of the sort fields, like year
first,
> followed by month, day ... etc.
> 
> Another thing is about unique. I thought it was unique "field value". If
it
> means unique term, for English even loading all around 300,000 terms it
> won't take much memory, right? (Suppose the average length of term is 10,
> the total memory usage is 10*300,000=3MB)
> 
> Thanks again, this helps a lot!
> -Fujian
> --
> View this message in context: http://lucene.472066.n3.nabble.com/is-this-
> the-right-way-to-go-tp883464p884302.html
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46409-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 10 08:52:36 2010
Return-Path: <java-user-return-46409-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57351 invoked from network); 10 Jun 2010 08:52:32 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 10 Jun 2010 08:52:32 -0000
Received: (qmail 64848 invoked by uid 500); 10 Jun 2010 08:52:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64542 invoked by uid 500); 10 Jun 2010 08:52:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64523 invoked by uid 99); 10 Jun 2010 08:52:30 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Jun 2010 08:52:30 +0000
X-ASF-Spam-Status: No, hits=4.1 required=10.0
	tests=RCVD_ILLEGAL_IP,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: 98.129.35.4 is neither permitted nor denied by domain of yuvalf@answers.com)
Received: from [98.129.35.4] (HELO server505.appriver.com) (98.129.35.4)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Jun 2010 08:52:21 +0000
X-Policy: GLOBAL - answers.com
X-Primary: yuvalf@answers.com
X-Note: This Email was scanned by AppRiver SecureTide
X-ALLOW: yuvalf@answers.com ALLOWED
X-Virus-Scan: V-
X-Note: Spam Tests Failed: 
X-Country-Path: UNITED STATES->UNITED STATES->UNITED STATES
X-Note-Sending-IP: 98.129.23.15
X-Note-Reverse-DNS: smtp.exg5.exghost.com
X-Note-WHTLIST: yuvalf@answers.com
X-Note: User Rule Hits: 
X-Note: Global Rule Hits: G200 G201 G202 G203 G207 G208 G219 G307 
X-Note: Encrypt Rule Hits: 
X-Note: Mail Class: ALLOWEDSENDER
X-Note: Headers Injected
Received: from [98.129.23.15] (HELO ht02.exg5.exghost.com)
  by server505.appriver.com (CommuniGate Pro SMTP 5.3.5)
  with ESMTPS id 46656649 for java-user@lucene.apache.org; Thu, 10 Jun 2010 03:51:57 -0500
Received: from mbx03.exg5.exghost.com ([169.254.1.219]) by
 ht02.exg5.exghost.com ([98.129.23.15]) with mapi; Thu, 10 Jun 2010 03:51:59
 -0500
From: Yuval Feinstein <yuvalf@answers.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Thu, 10 Jun 2010 03:51:56 -0500
Subject: RE: A question bout google search index?
Thread-Topic: A question bout google search index?
Thread-Index: AcsH3psaygUGspxZRaO6hGQpvLtl3QAmn3Hw
Message-ID: <01C4AEE04EB96243BBAA8083CB6514E866B7D820@MBX03.exg5.exghost.com>
References: <027401cb07de$a3c6a5b0$eb53f110$@com>
In-Reply-To: <027401cb07de$a3c6a5b0$eb53f110$@com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="Windows-1252"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

Most of the implementation of Google's search index is kept secret by Googl=
e.
Based on publicly available information, the indexes are quite different -=
=20
Google uses its BigTable and MapReduce technologies to efficiently distribu=
te the index.
There are similar efforts in the Lucene ecosystem - Solr Cloud is an advanc=
ed one,
Which is currently in development.=20
As Google's scoring algorithm uses hundreds of signals, I guess they store =
data pertinent to these signals in the index.
Lucene's index holds relatively few pieces of information about every docum=
ent (posting lists, term vectors,=20
Sometimes norms and payloads).
I believe there are other differences as well,=20
But one could only guess what they are...
Cheers,
Yuval


-----Original Message-----
From: luocanrao [mailto:luocan19826164@sohu.com]=20
Sent: Wednesday, June 09, 2010 5:18 PM
To: java-user@lucene.apache.org
Subject: A question bout google search index?

A news bout google search index. Index system of Lucene can also support
realtime search,=20

Is there some difference between them?

=20

With Caffeine, we analyze the web in small portions and update our search
index on a continuous basis, globally. As we find new pages, or new
information on existing pages, we can add these straight to the index. That
means you can find fresher information than ever before-no matter when or
where it was published.

=20

Caffeine lets us index web pages on an enormous scale. In fact, every secon=
d
Caffeine processes hundreds of thousands of pages in parallel. If this were
a pile of paper it would grow three miles taller every second. Caffeine
takes up nearly 100 million gigabytes of storage in one database and adds
new information at a rate of hundreds of thousands of gigabytes per day. Yo=
u
would need 625,000 of the largest iPods to store that much information; if
these were stacked end-to-end they would go for more than 40 miles


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46410-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 10 15:54:33 2010
Return-Path: <java-user-return-46410-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3546 invoked from network); 10 Jun 2010 15:54:33 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 10 Jun 2010 15:54:33 -0000
Received: (qmail 3660 invoked by uid 500); 10 Jun 2010 15:54:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3621 invoked by uid 500); 10 Jun 2010 15:54:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3612 invoked by uid 99); 10 Jun 2010 15:54:29 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Jun 2010 15:54:29 +0000
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=FREEMAIL_FROM,SPF_HELO_PASS,SPF_SOFTFAIL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: softfail (nike.apache.org: transitioning domain of lucius.vorenus@hotmail.de does not designate 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Jun 2010 15:54:23 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <lucius.vorenus@hotmail.de>)
	id 1OMk4w-0003HV-2y
	for java-user@lucene.apache.org; Thu, 10 Jun 2010 08:54:02 -0700
Date: Thu, 10 Jun 2010 08:54:02 -0700 (PDT)
From: tituspullo <lucius.vorenus@hotmail.de>
To: java-user@lucene.apache.org
Message-ID: <1276185242085-885956.post@n3.nabble.com>
Subject: Finding the position of search hits from Lucene
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org


Hello

How can I find  and save  the position of search hits from Lucene ?..
Like this: 
doc1 : 1
doc2: 2
...
doc 100: 100

I use lucene 3.0

Thank U

Titus
-- 
View this message in context: http://lucene.472066.n3.nabble.com/Finding-the-position-of-search-hits-from-Lucene-tp885956p885956.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46411-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 10 16:29:09 2010
Return-Path: <java-user-return-46411-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15997 invoked from network); 10 Jun 2010 16:29:09 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 10 Jun 2010 16:29:09 -0000
Received: (qmail 56173 invoked by uid 500); 10 Jun 2010 16:29:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56117 invoked by uid 500); 10 Jun 2010 16:29:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56096 invoked by uid 99); 10 Jun 2010 16:29:07 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Jun 2010 16:29:07 +0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=AWL,FREEMAIL_FROM,FREEMAIL_REPLYTO,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of simon.willnauer@googlemail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Jun 2010 16:29:02 +0000
Received: by fxm6 with SMTP id 6so121650fxm.35
        for <java-user@lucene.apache.org>; Thu, 10 Jun 2010 09:28:41 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:reply-to
         :in-reply-to:references:date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=MLtgqK+CFZbFWSutrZ2XNCbLX71lsh1/VXNLiVS/p6U=;
        b=h/7UP40upPD/gRoHik5wqDAPmDzNBg9MbmG2GWsA5t3f8xo3b+uU0FQV8F9gVEt3x+
         0cEnpwSyLQQ5GqAH5+DwrSe3DXoJVVPMcI0vkA77aBWQSaTG1hadpcboKegftNbN0QZR
         HNTfDvMG81LK6fTNP93uqjb7nRkitLMIcaNoI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=mime-version:reply-to:in-reply-to:references:date:message-id
         :subject:from:to:content-type:content-transfer-encoding;
        b=h1sxoedlPhWJwdYn16sGxdY0FhSv0o4tUhWvtdz2x7iNDPMN5KEH+hh3OXzpUKqrL9
         BcBAf5ZvTlqLXoWV5R/FK+uc4V90N2GgR+BacLRju1FUJa3iDHCVsJYwsVipRb+mFF3V
         F7/+m7M2T61ZW6UXeC7F6I+hCS1KtIRydT2ts=
MIME-Version: 1.0
Received: by 10.239.189.83 with SMTP id s19mr26307hbh.213.1276187321050; Thu, 
	10 Jun 2010 09:28:41 -0700 (PDT)
Received: by 10.239.145.75 with HTTP; Thu, 10 Jun 2010 09:28:41 -0700 (PDT)
Reply-To: simon.willnauer@gmail.com
In-Reply-To: <1276185242085-885956.post@n3.nabble.com>
References: <1276185242085-885956.post@n3.nabble.com>
Date: Thu, 10 Jun 2010 18:28:41 +0200
Message-ID: <AANLkTimDjIneXFtnsTNMvHKGPnXkAqSCACm5bJeFlJJG@mail.gmail.com>
Subject: Re: Finding the position of search hits from Lucene
From: Simon Willnauer <simon.willnauer@googlemail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Thu, Jun 10, 2010 at 5:54 PM, tituspullo <lucius.vorenus@hotmail.de> wro=
te:
>
> Hello
>
> How can I find =C2=A0and save =C2=A0the position of search hits from Luce=
ne ?..
Do you mean the positions where a particular term occurred in a document?
If so you should look at TermPositions or if you wanna extend some
kind of query have a look at Spans / SpanQuery

Anyway I have to admit I do not understand your example :)

simon
> Like this:
> doc1 : 1
> doc2: 2
> ...
> doc 100: 100
>
> I use lucene 3.0
>
> Thank U
>
> Titus
> --
> View this message in context: http://lucene.472066.n3.nabble.com/Finding-=
the-position-of-search-hits-from-Lucene-tp885956p885956.html
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46412-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 10 17:01:56 2010
Return-Path: <java-user-return-46412-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22722 invoked from network); 10 Jun 2010 17:01:55 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 10 Jun 2010 17:01:55 -0000
Received: (qmail 2058 invoked by uid 500); 10 Jun 2010 17:01:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2003 invoked by uid 500); 10 Jun 2010 17:01:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1995 invoked by uid 99); 10 Jun 2010 17:01:53 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Jun 2010 17:01:53 +0000
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=FREEMAIL_FROM,SPF_HELO_PASS,SPF_SOFTFAIL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: softfail (athena.apache.org: transitioning domain of lucius.vorenus@hotmail.de does not designate 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Jun 2010 17:01:48 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <lucius.vorenus@hotmail.de>)
	id 1OMl8B-0001Sc-S8
	for java-user@lucene.apache.org; Thu, 10 Jun 2010 10:01:27 -0700
Date: Thu, 10 Jun 2010 10:01:27 -0700 (PDT)
From: tituspullo <lucius.vorenus@hotmail.de>
To: java-user@lucene.apache.org
Message-ID: <1276189287865-886146.post@n3.nabble.com>
In-Reply-To: <AANLkTimDjIneXFtnsTNMvHKGPnXkAqSCACm5bJeFlJJG@mail.gmail.com>
References: <1276185242085-885956.post@n3.nabble.com> <AANLkTimDjIneXFtnsTNMvHKGPnXkAqSCACm5bJeFlJJG@mail.gmail.com>
Subject: Re: Finding the position of search hits from Lucene
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit


Hello

I mean for a simple search I want the id and and the position of rank, for
all the id's..
simply ..:) 
I try to rerank and  want to  know  later exactly  the original position in
the hitlist..

titus
-- 
View this message in context: http://lucene.472066.n3.nabble.com/Finding-the-position-of-search-hits-from-Lucene-tp885956p886146.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46413-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 10 17:13:15 2010
Return-Path: <java-user-return-46413-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29058 invoked from network); 10 Jun 2010 17:13:14 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 10 Jun 2010 17:13:14 -0000
Received: (qmail 15405 invoked by uid 500); 10 Jun 2010 17:13:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15320 invoked by uid 500); 10 Jun 2010 17:13:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15312 invoked by uid 99); 10 Jun 2010 17:13:12 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Jun 2010 17:13:12 +0000
X-ASF-Spam-Status: No, hits=4.1 required=10.0
	tests=FREEMAIL_FROM,FREEMAIL_REPLYTO,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of simon.willnauer@googlemail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Jun 2010 17:13:06 +0000
Received: by fxm6 with SMTP id 6so168951fxm.35
        for <java-user@lucene.apache.org>; Thu, 10 Jun 2010 10:12:46 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:reply-to
         :in-reply-to:references:date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=QdEVs7MHz2BfLX7nPGuwyiC2rAyqNuRJCMbhxQgLi5U=;
        b=Zngd+1JBFm2WXcoLwodc9JnwKMtHRpzc4mKRTITIsh1ssmR3pknMDknban8pJcRYxK
         TQ63Y3lMP8sMmp6Es80Bq4BtPBoge9PivHSGJRHy/hzlFXFkaJcpucXLYFGXPFZfIarO
         UAodWbnf3NmGs8lBn2hCCq1FJbYAkmsds0UQE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=mime-version:reply-to:in-reply-to:references:date:message-id
         :subject:from:to:content-type:content-transfer-encoding;
        b=GwHcNS7jbfdjQR4uxhBlan9BzImWFSGfA0FZ0Y1nrz4eZbWmwfxpxqzajUJQTe+Zun
         ML5FzN5rmSuv0l4gmuCagAgi3EdwSliH1huPYQ4RTn2934u+OZxGQUkaZHH4mndBojHT
         krZ2awN2L2ZFuW/3EJ6Prm5qeuMIYuD6K+91o=
MIME-Version: 1.0
Received: by 10.239.185.72 with SMTP id b8mr32898hbh.99.1276189966380; Thu, 10 
	Jun 2010 10:12:46 -0700 (PDT)
Received: by 10.239.145.75 with HTTP; Thu, 10 Jun 2010 10:12:46 -0700 (PDT)
Reply-To: simon.willnauer@gmail.com
In-Reply-To: <1276189287865-886146.post@n3.nabble.com>
References: <1276185242085-885956.post@n3.nabble.com>
	<AANLkTimDjIneXFtnsTNMvHKGPnXkAqSCACm5bJeFlJJG@mail.gmail.com>
	<1276189287865-886146.post@n3.nabble.com>
Date: Thu, 10 Jun 2010 19:12:46 +0200
Message-ID: <AANLkTin2rMTnr2ZEnPFio7_stPYeYHuRYrmckkp8U87K@mail.gmail.com>
Subject: Re: Finding the position of search hits from Lucene
From: Simon Willnauer <simon.willnauer@googlemail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Can't you simply use the TopDocs#scoreDocs array to figure out the
ranked position and the doc Id?!

simon

On Thu, Jun 10, 2010 at 7:01 PM, tituspullo <lucius.vorenus@hotmail.de> wro=
te:
>
> Hello
>
> I mean for a simple search I want the id and and the position of rank, fo=
r
> all the id's..
> simply ..:)
> I try to rerank and =C2=A0want to =C2=A0know =C2=A0later exactly =C2=A0th=
e original position in
> the hitlist..
>
> titus
> --
> View this message in context: http://lucene.472066.n3.nabble.com/Finding-=
the-position-of-search-hits-from-Lucene-tp885956p886146.html
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46414-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 10 17:22:14 2010
Return-Path: <java-user-return-46414-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30638 invoked from network); 10 Jun 2010 17:22:14 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 10 Jun 2010 17:22:14 -0000
Received: (qmail 28007 invoked by uid 500); 10 Jun 2010 17:22:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27963 invoked by uid 500); 10 Jun 2010 17:22:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27955 invoked by uid 99); 10 Jun 2010 17:22:12 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Jun 2010 17:22:12 +0000
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=FREEMAIL_FROM,SPF_HELO_PASS,SPF_SOFTFAIL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: softfail (athena.apache.org: transitioning domain of lucius.vorenus@hotmail.de does not designate 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Jun 2010 17:22:07 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <lucius.vorenus@hotmail.de>)
	id 1OMlRq-0003be-Da
	for java-user@lucene.apache.org; Thu, 10 Jun 2010 10:21:46 -0700
Date: Thu, 10 Jun 2010 10:21:46 -0700 (PDT)
From: tituspullo <lucius.vorenus@hotmail.de>
To: java-user@lucene.apache.org
Message-ID: <1276190506412-886229.post@n3.nabble.com>
In-Reply-To: <AANLkTin2rMTnr2ZEnPFio7_stPYeYHuRYrmckkp8U87K@mail.gmail.com>
References: <1276185242085-885956.post@n3.nabble.com> <AANLkTimDjIneXFtnsTNMvHKGPnXkAqSCACm5bJeFlJJG@mail.gmail.com> <1276189287865-886146.post@n3.nabble.com> <AANLkTin2rMTnr2ZEnPFio7_stPYeYHuRYrmckkp8U87K@mail.gmail.com>
Subject: Re: Finding the position of search hits from Lucene
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit


Yes ...I can do it ..like this
"""
doc=1900 score=0.15945715
doc=1192 score=0.09865908
doc=2134 score=0.084564924
doc=1774 score=0.07047077
""
But i don't want this....
I would like to have ....

doc=1900 position 1
doc=1192 position 2
doc=2134 position 3
doc=1774 position 4 .
......
doc = 2345 position 200

...
-- 
View this message in context: http://lucene.472066.n3.nabble.com/Finding-the-position-of-search-hits-from-Lucene-tp885956p886229.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46415-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 10 19:58:39 2010
Return-Path: <java-user-return-46415-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86250 invoked from network); 10 Jun 2010 19:58:39 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 10 Jun 2010 19:58:39 -0000
Received: (qmail 40641 invoked by uid 500); 10 Jun 2010 19:58:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40611 invoked by uid 500); 10 Jun 2010 19:58:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40603 invoked by uid 99); 10 Jun 2010 19:58:36 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Jun 2010 19:58:36 +0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=FREEMAIL_FROM,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ian.lea@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Jun 2010 19:58:31 +0000
Received: by fxm6 with SMTP id 6so319048fxm.35
        for <java-user@lucene.apache.org>; Thu, 10 Jun 2010 12:58:10 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type;
        bh=gywNyIeucYQcd+5ZShcGCJPHhKe7U30R15xr1Qk0R/s=;
        b=JY2oFSsm7ClPqeLuHAy/vYlsahHTfDREbCH4cthb8R4u+7JEzOBpq8OtccwfyWUayh
         bI8ljbjbEjk3QVFyrfemtVD25HT6J4+uq+rL+p1U5qdFVhhFuDg2/bn/D1upMc9TgK14
         38LIZ2r2mgXLh9HQpl4LqyN2zVHtmp4C8MkPI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=IMpxc5+KrfLK50Dd/v8VrrK3EWnnw2wCsMyLvJE0vXDSChCKvHXMeVxfDpdotZI3Aq
         gr+gEcLiuDFQRk+BRuo4Lsr5KXscVdtLg3NaygNQbj+w4oGycz2FbtDXG9lFWTNP7RTR
         jitizFLUYVwXFbDWeVR0jZU1dwXMxWn7Bje/k=
Received: by 10.204.162.139 with SMTP id v11mr515506bkx.3.1276199890322; Thu, 
	10 Jun 2010 12:58:10 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.204.59.129 with HTTP; Thu, 10 Jun 2010 12:57:50 -0700 (PDT)
In-Reply-To: <1276190506412-886229.post@n3.nabble.com>
References: <1276185242085-885956.post@n3.nabble.com> <AANLkTimDjIneXFtnsTNMvHKGPnXkAqSCACm5bJeFlJJG@mail.gmail.com> 
	<1276189287865-886146.post@n3.nabble.com> <AANLkTin2rMTnr2ZEnPFio7_stPYeYHuRYrmckkp8U87K@mail.gmail.com> 
	<1276190506412-886229.post@n3.nabble.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Thu, 10 Jun 2010 20:57:50 +0100
Message-ID: <AANLkTinLPTux-aEKymH3FpK6eayvZbwErv5aERt85rqK@mail.gmail.com>
Subject: Re: Finding the position of search hits from Lucene
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

Surely that is what you've got if you use the scoreDocs array as Simon
suggests.  Zero based of course.


--
Ian.


On Thu, Jun 10, 2010 at 6:21 PM, tituspullo <lucius.vorenus@hotmail.de> wrote:
>
> Yes ...I can do it ..like this
> """
> doc=1900 score=0.15945715
> doc=1192 score=0.09865908
> doc=2134 score=0.084564924
> doc=1774 score=0.07047077
> ""
> But i don't want this....
> I would like to have ....
>
> doc=1900 position 1
> doc=1192 position 2
> doc=2134 position 3
> doc=1774 position 4 .
> ......
> doc = 2345 position 200
>
> ...
> --
> View this message in context: http://lucene.472066.n3.nabble.com/Finding-the-position-of-search-hits-from-Lucene-tp885956p886229.html
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46416-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jun 11 10:20:48 2010
Return-Path: <java-user-return-46416-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68357 invoked from network); 11 Jun 2010 10:20:47 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 11 Jun 2010 10:20:47 -0000
Received: (qmail 99147 invoked by uid 500); 11 Jun 2010 10:20:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98909 invoked by uid 500); 11 Jun 2010 10:20:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98893 invoked by uid 99); 11 Jun 2010 10:20:42 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Jun 2010 10:20:42 +0000
X-ASF-Spam-Status: No, hits=4.4 required=10.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of manjula53@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Jun 2010 10:20:34 +0000
Received: by iwn36 with SMTP id 36so547232iwn.35
        for <java-user@lucene.apache.org>; Fri, 11 Jun 2010 03:20:12 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:date:message-id
         :subject:from:to:content-type;
        bh=lW5ujvkFUR6tMYO8m6qs8ebU7qXVhPc9bbD2mYjUBZQ=;
        b=QPZMfuZg+zb/B2Jx4D3zFPgAzGmme5zS1w0N8m4WIYOic6sXjFd46TcgnjkMGKLEbR
         0+aSTNWU5oQLHil+CodWBRApFFW3Q2nbB5jcT9jdYKovvhtcavOPt3o751FPHiNsx8ab
         jCL6NUvEtf94iHJgxePhggwD3I4AsymvMW4zo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=gPJnCQ4I7dRuyqMu4FtXPEc6ci+Vq21aG9776hulJv23TKdFrGKrYoJu6SrcJFKTXT
         S1yJau3klGN/J27OjCnyfMYfn4/QIAUQHEKMMYocLM1r8rJYzgbDXad41cR+vZaXwDLR
         FuC6nrtIUldGBoawww17eI01Uq7KMHXanGVD4=
MIME-Version: 1.0
Received: by 10.231.185.6 with SMTP id cm6mr1595282ibb.72.1276251612766; Fri, 
	11 Jun 2010 03:20:12 -0700 (PDT)
Received: by 10.231.148.203 with HTTP; Fri, 11 Jun 2010 03:20:12 -0700 (PDT)
Date: Fri, 11 Jun 2010 15:50:12 +0530
Message-ID: <AANLkTikCILMTuJia0WggB7uXA0P2Jn6CxuMpI4RLXucV@mail.gmail.com>
Subject: How to get file names instead of paths?
From: manjula wijewickrema <manjula53@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0050450171ee05e4830488be7c99
X-Virus-Checked: Checked by ClamAV on apache.org

--0050450171ee05e4830488be7c99
Content-Type: text/plain; charset=ISO-8859-1

Hi,

Using the following programme I was able to get the entire file path of
indexed files which matched with the given queries. But my intention is to
get only the file names even without .txt extention as I need to send these
file names as labels to another application. So, pls. let me know how can I
get only the file names in the following code.

Thanx in advance!
Manjula.


My code:

*

public* *class* LuceneDemo {

*public* *static* *final* String *FILES_TO_INDEX_DIRECTORY* = "filesToIndex"
;

*public* *static* *final* String *INDEX_DIRECTORY* = "indexDirectory";

*public* *static* *final* String *FIELD_PATH* = "path";

*public* *static* *final* String *FIELD_CONTENTS* = "contents";

*public* *static* *void* main(String[] args) *throws* Exception {

*createIndex*();

*searchIndex*("rice");

*searchIndex*("milk");

*searchIndex*("banana");

*searchIndex*("foo");

 }

*public* *static* *void* createIndex() *throws* CorruptIndexException,
LockObtainFailedException, IOException {

 SnowballAnalyzer analyzer = *new* SnowballAnalyzer( "English",
StopAnalyzer.ENGLISH_STOP_WORDS);

*boolean* recreateIndexIfExists = *true*;

IndexWriter indexWriter = *new* IndexWriter(*INDEX_DIRECTORY*, analyzer,
recreateIndexIfExists);

File dir = *new* File(*FILES_TO_INDEX_DIRECTORY*);

File[] files = dir.listFiles();

*for* (File file : files) {

Document document = *new* Document();

String path = file.getCanonicalPath();

document.add(*new* Field(*FIELD_PATH*, path, Field.Store.*YES*, Field.Index.
UN_TOKENIZED,Field.TermVector.*YES*));

Reader reader = *new* FileReader(file);

document.add(*new* Field(*FIELD_CONTENTS*, reader));

indexWriter.addDocument(document);

 }

indexWriter.optimize();

indexWriter.close();

}

*public* *static* *void* searchIndex(String searchString)
*throws*IOException, ParseException {

System.*out*.println("Searching for '" + searchString + "'");

Directory directory = FSDirectory.getDirectory(*INDEX_DIRECTORY*);

IndexReader indexReader = IndexReader.open(directory);

IndexSearcher indexSearcher = *new* IndexSearcher(indexReader);

 SnowballAnalyzer analyzer = *new* SnowballAnalyzer( "English",
StopAnalyzer.ENGLISH_STOP_WORDS);

QueryParser queryParser = *new* QueryParser(*FIELD_CONTENTS*, analyzer);

Query query = queryParser.parse(searchString);

Hits hits = indexSearcher.search(query);

System.*out*.println("Number of hits: " + hits.length());

TopDocs results = indexSearcher.search(query,10);

ScoreDoc[] hits1 = results.scoreDocs;

*for* (ScoreDoc hit : hits1) {

Document doc = indexSearcher.doc(hit.doc);

System.*out*.printf("%5.3f %s\n",hit.score,doc.get(*FIELD_CONTENTS*));

}

 Iterator<Hit> it = hits.iterator();

*while* (it.hasNext()) {

Hit hit = it.next();

Document document = hit.getDocument();

String path = document.get(*FIELD_PATH*);

System.*out*.println("Hit: " + path);

}

}

}

--0050450171ee05e4830488be7c99--

From java-user-return-46417-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jun 11 10:31:02 2010
Return-Path: <java-user-return-46417-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69725 invoked from network); 11 Jun 2010 10:31:01 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 11 Jun 2010 10:31:01 -0000
Received: (qmail 10348 invoked by uid 500); 11 Jun 2010 10:31:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10093 invoked by uid 500); 11 Jun 2010 10:30:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10084 invoked by uid 99); 11 Jun 2010 10:30:58 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Jun 2010 10:30:58 +0000
X-ASF-Spam-Status: No, hits=-0.6 required=10.0
	tests=AWL,FREEMAIL_FROM,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ian.lea@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Jun 2010 10:30:52 +0000
Received: by bwz5 with SMTP id 5so377481bwz.35
        for <java-user@lucene.apache.org>; Fri, 11 Jun 2010 03:30:31 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type
         :content-transfer-encoding;
        bh=+HUpTILaPCluQ6apP9y6feju2O18mSWzLJ2Hwrb8QUg=;
        b=Z7KXSkhsMMJMBT96FXAWq84R0MBzUfFhT7oNNEELytu9LQ0gB6SXz5dSsfCxhFN72g
         AfxRvknijnE1Efmydn7FAfJygQe6U2cY/l4PauDV8FGFoustCRWGvSS0rBh8Feyyw0uM
         lwmVcnG6OoN4rtuuTjDSFZksvonLKzumr5ZRI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=ZJdXSJ1HGNDp1aLboY6nIqAwT0kPq3STCIEl/X6KxYw4ecFxW66mXUjadJi7ALy40Q
         alwA8sPMLNCRNqIXlTzFWxr18G55t0q3+mkgAIvFz2SjOvwpfQwVVkD5ZnYQnac++5MC
         VY+zwnZ7wR+qBNUWSy2qpGsvXqaXX6392OOGE=
Received: by 10.204.157.24 with SMTP id z24mr1113407bkw.187.1276252231173; 
	Fri, 11 Jun 2010 03:30:31 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.204.59.129 with HTTP; Fri, 11 Jun 2010 03:30:11 -0700 (PDT)
In-Reply-To: <AANLkTikCILMTuJia0WggB7uXA0P2Jn6CxuMpI4RLXucV@mail.gmail.com>
References: <AANLkTikCILMTuJia0WggB7uXA0P2Jn6CxuMpI4RLXucV@mail.gmail.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Fri, 11 Jun 2010 11:30:11 +0100
Message-ID: <AANLkTimlqhjqUCEYJ4N3kvC73tqUlV4UCX654bLIkfuc@mail.gmail.com>
Subject: Re: How to get file names instead of paths?
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Something like this

File f =3D new File(path);
String fn =3D f.getName();
return fn.substring(0, fn.lastIndexOf("."));


--
Ian.


On Fri, Jun 11, 2010 at 11:20 AM, manjula wijewickrema
<manjula53@gmail.com> wrote:
> Hi,
>
> Using the following programme I was able to get the entire file path of
> indexed files which matched with the given queries. But my intention is t=
o
> get only the file names even without .txt extention as I need to send the=
se
> file names as labels to another application. So, pls. let me know how can=
 I
> get only the file names in the following code.
>
> Thanx in advance!
> Manjula.
>
>
> My code:
>
> *
>
> public* *class* LuceneDemo {
>
> *public* *static* *final* String *FILES_TO_INDEX_DIRECTORY* =3D "filesToI=
ndex"
> ;
>
> *public* *static* *final* String *INDEX_DIRECTORY* =3D "indexDirectory";
>
> *public* *static* *final* String *FIELD_PATH* =3D "path";
>
> *public* *static* *final* String *FIELD_CONTENTS* =3D "contents";
>
> *public* *static* *void* main(String[] args) *throws* Exception {
>
> *createIndex*();
>
> *searchIndex*("rice");
>
> *searchIndex*("milk");
>
> *searchIndex*("banana");
>
> *searchIndex*("foo");
>
> =A0}
>
> *public* *static* *void* createIndex() *throws* CorruptIndexException,
> LockObtainFailedException, IOException {
>
> =A0SnowballAnalyzer analyzer =3D *new* SnowballAnalyzer( "English",
> StopAnalyzer.ENGLISH_STOP_WORDS);
>
> *boolean* recreateIndexIfExists =3D *true*;
>
> IndexWriter indexWriter =3D *new* IndexWriter(*INDEX_DIRECTORY*, analyzer=
,
> recreateIndexIfExists);
>
> File dir =3D *new* File(*FILES_TO_INDEX_DIRECTORY*);
>
> File[] files =3D dir.listFiles();
>
> *for* (File file : files) {
>
> Document document =3D *new* Document();
>
> String path =3D file.getCanonicalPath();
>
> document.add(*new* Field(*FIELD_PATH*, path, Field.Store.*YES*, Field.Ind=
ex.
> UN_TOKENIZED,Field.TermVector.*YES*));
>
> Reader reader =3D *new* FileReader(file);
>
> document.add(*new* Field(*FIELD_CONTENTS*, reader));
>
> indexWriter.addDocument(document);
>
> =A0}
>
> indexWriter.optimize();
>
> indexWriter.close();
>
> }
>
> *public* *static* *void* searchIndex(String searchString)
> *throws*IOException, ParseException {
>
> System.*out*.println("Searching for '" + searchString + "'");
>
> Directory directory =3D FSDirectory.getDirectory(*INDEX_DIRECTORY*);
>
> IndexReader indexReader =3D IndexReader.open(directory);
>
> IndexSearcher indexSearcher =3D *new* IndexSearcher(indexReader);
>
> =A0SnowballAnalyzer analyzer =3D *new* SnowballAnalyzer( "English",
> StopAnalyzer.ENGLISH_STOP_WORDS);
>
> QueryParser queryParser =3D *new* QueryParser(*FIELD_CONTENTS*, analyzer)=
;
>
> Query query =3D queryParser.parse(searchString);
>
> Hits hits =3D indexSearcher.search(query);
>
> System.*out*.println("Number of hits: " + hits.length());
>
> TopDocs results =3D indexSearcher.search(query,10);
>
> ScoreDoc[] hits1 =3D results.scoreDocs;
>
> *for* (ScoreDoc hit : hits1) {
>
> Document doc =3D indexSearcher.doc(hit.doc);
>
> System.*out*.printf("%5.3f %s\n",hit.score,doc.get(*FIELD_CONTENTS*));
>
> }
>
> =A0Iterator<Hit> it =3D hits.iterator();
>
> *while* (it.hasNext()) {
>
> Hit hit =3D it.next();
>
> Document document =3D hit.getDocument();
>
> String path =3D document.get(*FIELD_PATH*);
>
> System.*out*.println("Hit: " + path);
>
> }
>
> }
>
> }
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46418-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jun 11 13:35:42 2010
Return-Path: <java-user-return-46418-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30416 invoked from network); 11 Jun 2010 13:35:42 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 11 Jun 2010 13:35:42 -0000
Received: (qmail 50912 invoked by uid 500); 11 Jun 2010 13:35:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50854 invoked by uid 500); 11 Jun 2010 13:35:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50846 invoked by uid 99); 11 Jun 2010 13:35:38 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Jun 2010 13:35:38 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [130.83.156.232] (HELO lnx503.hrz.tu-darmstadt.de) (130.83.156.232)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Jun 2010 13:35:29 +0000
Received: from [130.83.60.20] (dialin20.stud.tu-darmstadt.de [130.83.60.20])
	by lnx503.hrz.tu-darmstadt.de (8.14.4/8.14.4/HRZ/PMX) with ESMTP id o5BDZ8mh002508
	for <java-user@lucene.apache.org>; Fri, 11 Jun 2010 15:35:08 +0200
	(envelope-from bruch@cs.tu-darmstadt.de)
Message-ID: <4C123B8B.7010908@cs.tu-darmstadt.de>
Date: Fri, 11 Jun 2010 15:35:07 +0200
From: Marcel Bruch <bruch@cs.tu-darmstadt.de>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.1; de; rv:1.9.1.9) Gecko/20100317 Thunderbird/3.0.4
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Using Lucene with a rather simplistic scoring system?
Content-Type: multipart/mixed;
 boundary="------------070107000505000200010605"
X-PMX-TU: seen v0.99a by 5.5.9.395186, Antispam-Engine: 2.7.2.376379, Antispam-Data: 2010.6.11.133018
X-PMX-RELAY: mailout
X-Virus-Checked: Checked by ClamAV on apache.org

--------------070107000505000200010605
Content-Type: multipart/alternative;
 boundary="------------040003030305000301060106"


--------------040003030305000301060106
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit

Hi!

We are working on an experimental code-search engine that helps users to 
find example code snippets based on what a developer already typed 
inside her editor. Our "homemade search engine" produces some cool 
results but its performance is somehow limited :-) Thus, we are 
evaluating whether Lucene can solve our performance issues. However, we 
are not familiar with Lucene and I wonder if some of you could help me 
to learn whether Lucene fits our problem well. Thanks in advance for 
your comments.

The situation is as follows. For each source code file we extract some 
code properties like which types are used inside the code, which methods 
are overridden or which methods are called inside a method body etc. For 
each source code file we get a JSON structure similar to this:
{
     "class" : my.ExampleClass
     "extends" : the.SuperClass
     "overrides" :
         - the.SuperClass.method1()
         - the.SuperClass.method2()
     "used types":
         - a.Type1
         - a.Type2
         -   ...
     "used methods":
         - a.Type1.method32()
         - a.Type1.method23()
         - ...
<few more things>
}
The scoring function we use is rather simplistic. Given a query (which 
looks somehow identical to the document above) we determine for each 
feature (i.e. "used methods", "used types", "overrides" etc.) a simple 
matching strategy: the percentage of overlap between each query-document 
feature and db-document feature. Then we simply multiply each 
feature-score f_i with an individual feature-weight w_i and sum it all 
up into one overall score.

My questions are: Is it meaningful to use Lucene here in this setup- or 
put different - can I implement that scoring scheme with Lucene easily?  
How would such a solution look like? By just subclassing Scorer?

Many thanks in advance for advice

All the best,
Marcel


--------------040003030305000301060106
Content-Type: text/html; charset=ISO-8859-15
Content-Transfer-Encoding: 8bit

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>

<meta http-equiv="content-type" content="text/html; charset=ISO-8859-15">
</head>
<body bgcolor="#ffffff" text="#000000">
Hi!<br>
<br>
We are working on an experimental code-search engine that helps users
to find example code snippets based on what a developer already typed
inside her editor. Our &#8220;homemade search engine&#8221; produces some cool
results but its performance is somehow limited :-) Thus, we are
evaluating whether Lucene can solve our performance issues. However, we
are not familiar with Lucene and I wonder if some of you could help me
to learn whether Lucene fits our problem well. Thanks in advance for
your comments.<br>
<br>
The situation is as follows. For each source code file we extract some
code properties like which types are used inside the code, which
methods are overridden or which methods are called inside a method body
etc. For each source code file we get a JSON structure similar to this:<br>
{<br>
 &#8220;class&#8221; : my.ExampleClass<br>
 &#8220;extends&#8221; : the.SuperClass<br>
 &#8220;overrides&#8221; :<br>
 - the.SuperClass.method1()<br>
 - the.SuperClass.method2()<br>
 &#8220;used types&#8221;:<br>
 - a.Type1<br>
 - a.Type2<br>
 - ...<br>
 &#8220;used methods&#8221;:<br>
 - a.Type1.method32()<br>
 - a.Type1.method23()<br>
 - ...<br>
&lt;few more things&gt;<br>
}<br>
The scoring function we use is rather simplistic. Given a query (which
looks somehow identical to the document above) we determine for each
feature (i.e. &#8220;used methods&#8221;, &#8220;used types&#8221;, &#8220;overrides&#8221; etc.) a simple
matching strategy: the percentage of overlap between each
query-document feature and db-document feature. Then we simply multiply
each feature-score f_i with an individual feature-weight w_i and sum it
all up into one overall score. <br>
<br>
My questions are: Is it meaningful to use Lucene here in this setup- or
put different - can I implement that scoring scheme with Lucene
easily? How would such a solution look like? By just subclassing
Scorer?<br>
<br>
Many thanks in advance for advice<br>
<br>
All the best,<br>
Marcel<br>
<br>
<tt><span style="font-size: 10pt; line-height: 115%;" lang="EN-US"></span></tt>
</body>
</html>

--------------040003030305000301060106--


--------------070107000505000200010605
Content-Type: text/plain; charset=us-ascii


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
--------------070107000505000200010605--

From java-user-return-46419-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jun 11 13:52:44 2010
Return-Path: <java-user-return-46419-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34135 invoked from network); 11 Jun 2010 13:52:44 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 11 Jun 2010 13:52:44 -0000
Received: (qmail 81215 invoked by uid 500); 11 Jun 2010 13:52:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81164 invoked by uid 500); 11 Jun 2010 13:52:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81156 invoked by uid 99); 11 Jun 2010 13:52:41 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Jun 2010 13:52:41 +0000
X-ASF-Spam-Status: No, hits=-0.6 required=10.0
	tests=AWL,FREEMAIL_FROM,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ian.lea@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Jun 2010 13:52:36 +0000
Received: by bwz5 with SMTP id 5so486491bwz.35
        for <java-user@lucene.apache.org>; Fri, 11 Jun 2010 06:52:15 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type
         :content-transfer-encoding;
        bh=7m30t9LvjowHzHpPeirbV3FTUx50q1KTXagfhDPVD+Q=;
        b=uFRgvw1tJ9iIEpyIeArwuwJW+knH+yhooHZWP3DHXHrevOau4LC44HBSbEe6rnCTsa
         Wy+hGBDlYmLRmOk5LOAPMLQP+8QiQV5noDiTv4sCXwbadbrl6RCZ+bUnSDDcQNo65vbl
         EbC/R34zXD5mTxc9nTEYTMAwhLKdAL6hyZq7M=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=bzuGH8o6vux4NI7ELUXXgY2CVE3WMLJa1ehttieaE/724XohWyDULRDqfDp9G+BJKl
         38CYUp8GI+ZnvKguUQ8oTTyUAiC792SG//pSuwM6ZcCQ3Fdp+g8tNQ8QqvwMmyi+HEdJ
         5ql2Emt+uVWakg2HzcaA6mLZIMuI4RTmQrDwM=
Received: by 10.204.34.140 with SMTP id l12mr1306757bkd.167.1276264335234; 
	Fri, 11 Jun 2010 06:52:15 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.204.59.129 with HTTP; Fri, 11 Jun 2010 06:51:55 -0700 (PDT)
In-Reply-To: <4C123B8B.7010908@cs.tu-darmstadt.de>
References: <4C123B8B.7010908@cs.tu-darmstadt.de>
From: Ian Lea <ian.lea@gmail.com>
Date: Fri, 11 Jun 2010 14:51:55 +0100
Message-ID: <AANLkTilt9hs_ruE8IhEBd6Lmx5L2L6ixdKSmZ6gnI58K@mail.gmail.com>
Subject: Re: Using Lucene with a rather simplistic scoring system?
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: quoted-printable

Others can comment on how to customize scoring, but I wonder if
lucene's default scoring might do the job as is.

If you've got a document in the index (simple translation from your JSON)

class: my.ExampleClass
extends: the.SuperClass
overrides: the.SuperClass.method1() the.SuperClass.method2()
used types: a.Type1 a.Type2
used methods: a.Type1.method32() a.Type1.method23()

then sample queries

"extends: the.SuperClass"
"extends: the.SuperClass overrides: the.SuperClass.method1()"

would both match, but the second one should score higher because it
matches more terms.  The weighting could be done by boosts e.g. if you
care more about overrides

"extends: the.SuperClass overrides: the.SuperClass.method1()^2"


Whatever you do you'll need to play with analyzers if need to keep the
dots and brackets and case-sensitivity.  And will need to make sure
you've got the right must/should/and/or logic in place.

Good luck.  Sounds like an interesting project.


--
Ian.

On Fri, Jun 11, 2010 at 2:35 PM, Marcel Bruch <bruch@cs.tu-darmstadt.de> wr=
ote:
> Hi!
>
> We are working on an experimental code-search engine that helps users to
> find example code snippets based on what a developer already typed inside
> her editor. Our =93homemade search engine=94 produces some cool results b=
ut its
> performance is somehow limited :-) Thus, we are evaluating whether Lucene
> can solve our performance issues. However, we are not familiar with Lucen=
e
> and I wonder if some of you could help me to learn whether Lucene fits ou=
r
> problem well. Thanks in advance for your comments.
>
> The situation is as follows. For each source code file we extract some co=
de
> properties like which types are used inside the code, which methods are
> overridden or which methods are called inside a method body etc. For each
> source code file we get a JSON structure similar to this:
> {
> =A0=A0=A0 =93class=94 : my.ExampleClass
> =A0=A0=A0 =93extends=94 : the.SuperClass
> =A0=A0=A0 =93overrides=94 :
> =A0=A0=A0=A0=A0=A0=A0 - the.SuperClass.method1()
> =A0=A0=A0=A0=A0=A0=A0 - the.SuperClass.method2()
> =A0=A0=A0 =93used types=94:
> =A0=A0=A0=A0=A0=A0=A0 - a.Type1
> =A0=A0=A0=A0=A0=A0=A0 - a.Type2
> =A0=A0=A0=A0=A0=A0=A0 -=A0=A0 ...
> =A0=A0=A0 =93used methods=94:
> =A0=A0=A0=A0=A0=A0=A0 - a.Type1.method32()
> =A0=A0=A0=A0=A0=A0=A0 - a.Type1.method23()
> =A0=A0=A0=A0=A0=A0=A0 - ...
> <few more things>
> }
> The scoring function we use is rather simplistic. Given a query (which lo=
oks
> somehow identical to the document above) we determine for each feature (i=
.e.
> =93used methods=94, =93used types=94, =93overrides=94 etc.) a simple matc=
hing strategy:
> the percentage of overlap between each query-document feature and
> db-document feature. Then we simply multiply each feature-score f_i with =
an
> individual feature-weight w_i and sum it all up into one overall score.
>
> My questions are: Is it meaningful to use Lucene here in this setup- or p=
ut
> different - can I implement that scoring scheme with Lucene easily?=A0 Ho=
w
> would such a solution look like? By just subclassing Scorer?
>
> Many thanks in advance for advice
>
> All the best,
> Marcel
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46420-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jun 11 16:13:11 2010
Return-Path: <java-user-return-46420-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81992 invoked from network); 11 Jun 2010 16:13:11 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 11 Jun 2010 16:13:11 -0000
Received: (qmail 83147 invoked by uid 500); 11 Jun 2010 16:13:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83109 invoked by uid 500); 11 Jun 2010 16:13:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83101 invoked by uid 99); 11 Jun 2010 16:13:09 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Jun 2010 16:13:09 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [130.83.156.225] (HELO lnx500.hrz.tu-darmstadt.de) (130.83.156.225)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Jun 2010 16:13:00 +0000
Received: from [130.83.60.4] ([130.83.60.4])
	by lnx500.hrz.tu-darmstadt.de (8.14.4/8.14.4/HRZ/PMX) with ESMTP id o5BGCdh1019178
	for <java-user@lucene.apache.org>; Fri, 11 Jun 2010 18:12:39 +0200
	(envelope-from bruch@cs.tu-darmstadt.de)
Message-ID: <4C126074.4050909@cs.tu-darmstadt.de>
Date: Fri, 11 Jun 2010 18:12:36 +0200
From: Marcel Bruch <bruch@cs.tu-darmstadt.de>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.1; de; rv:1.9.1.9) Gecko/20100317 Thunderbird/3.0.4
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Using Lucene with a rather simplistic scoring system?
References: <4C123B8B.7010908@cs.tu-darmstadt.de> <AANLkTilt9hs_ruE8IhEBd6Lmx5L2L6ixdKSmZ6gnI58K@mail.gmail.com>
In-Reply-To: <AANLkTilt9hs_ruE8IhEBd6Lmx5L2L6ixdKSmZ6gnI58K@mail.gmail.com>
Content-Type: multipart/mixed;
 boundary="------------030401030600040800010004"
X-PMX-TU: seen v0.99a by 5.5.9.395186, Antispam-Engine: 2.7.2.376379, Antispam-Data: 2010.6.11.160016
X-PMX-RELAY: mailout
X-Virus-Checked: Checked by ClamAV on apache.org

--------------030401030600040800010004
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 7bit

Hi Ian,

Am 11.06.2010 15:51, schrieb Ian Lea:
> Others can comment on how to customize scoring, but I wonder if
> lucene's default scoring might do the job as is.
>    
I agree. It would probably work out of the box with lucene's default 
scoring. Actually, I'm getting my feet wet with lucene using just the 
WhitespaceAnalyser and the schema you proposed. However, we want to 
experiment with different scoring functions, features and feature 
weights - thus, need full control over the scoring...

[...]
> Sounds like an interesting project.
>    
I think it is :-) It's tightly integrated into Eclipse where (i) it 
grabs your code of your current editor on demand, (ii) automatically 
creates and submits a query from it, and (iii) displays the best code 
examples directly aside your editor in a separate view. As soon as 
scoring works with Lucene you can test the first version in a week or two.

However, can I implement this scoring function with Lucene:
score(d,q) = \sum_{i \in I} w_i * f_i(d,q)

Thanks,
Marcel




--------------030401030600040800010004
Content-Type: text/plain; charset=us-ascii


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
--------------030401030600040800010004--

From java-user-return-46421-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jun 11 16:46:39 2010
Return-Path: <java-user-return-46421-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92190 invoked from network); 11 Jun 2010 16:46:38 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 11 Jun 2010 16:46:38 -0000
Received: (qmail 25693 invoked by uid 500); 11 Jun 2010 16:46:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25658 invoked by uid 500); 11 Jun 2010 16:46:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25650 invoked by uid 99); 11 Jun 2010 16:46:36 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Jun 2010 16:46:36 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of mindas@gmail.com designates 209.85.160.176 as permitted sender)
Received: from [209.85.160.176] (HELO mail-gy0-f176.google.com) (209.85.160.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Jun 2010 16:46:29 +0000
Received: by gyf1 with SMTP id 1so1270714gyf.35
        for <java-user@lucene.apache.org>; Fri, 11 Jun 2010 09:46:08 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:date:message-id
         :subject:from:to:content-type;
        bh=FmGiIGYDGlandhKEg5c4mdHqQOh/+4k7hQ60JXxJvN8=;
        b=RrMUlQox+0W+gn3ZLkb1D5dvosCL9hL0HQhxRT/rXctCRamquwil6gXC+Aq3EfQ3Gd
         FMwUbFSHSnV/Wy9w0Wcow+PjHCb3+o8l3QXyiTJrCVDJoJhwMfdEY7nVBt9U+v5TiaJM
         62mo2k2wkgkFsG8HphjLNt4qll+l45YDMSrgs=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=DbyGnyA03UyiqNyMuO61gSp+fLDwt0I5Q9ouyKgrY7oTTUvSeqRcFkiIiAoT5ji7ao
         TGlyO008lTnu0L02ScsWDdC/4Zc4hDdiBs4DVoB8lnOTfDdy4WtvQAxBRclVCCzQqpyz
         ZN7iALztHorm1oXSqLx4BIo8pChEEAB+eyJ40=
MIME-Version: 1.0
Received: by 10.239.145.74 with SMTP id r10mr140743hba.191.1276274767212; Fri, 
	11 Jun 2010 09:46:07 -0700 (PDT)
Received: by 10.239.171.147 with HTTP; Fri, 11 Jun 2010 09:46:07 -0700 (PDT)
Date: Fri, 11 Jun 2010 17:46:07 +0100
Message-ID: <AANLkTikgKy8mbAFVFZht0aB7HexPDk519QFrnqBk_3PJ@mail.gmail.com>
Subject: Extending QueryParser
From: =?ISO-8859-13?Q?Mindaugas_=DEak=F0auskas?= <mindas@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

I am extending QueryParser's newTermQuery and newRangeQuery methods
to make it work with NumericFields.

The problem I see with those methods is that they do not allow checked
exceptions to be thrown. What I would like to do is - if I am parsing
a query parameter (term text or a range part) which I expect to be
long and fail, I'd catch NumberFormatException and rethrow it as
ParseException. This is now impossible as superclass methods don't
have any exceptions declared.

QueryParser's methods which call newTermQuery(...) and newRangeQuery
(...) do all throw ParseException and I cannot see why these ones
shouldn't be allowed to.

Another question - is there a recommended way to extend
MultiFieldQueryParser for the same purpose? It looks like it extends
QueryParser and there is no easy way to plug own parser here.

Thanks in advance.

Regards,
Mindaugas

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46422-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jun 11 18:32:26 2010
Return-Path: <java-user-return-46422-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50826 invoked from network); 11 Jun 2010 18:32:26 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 11 Jun 2010 18:32:26 -0000
Received: (qmail 89658 invoked by uid 500); 11 Jun 2010 18:32:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89623 invoked by uid 500); 11 Jun 2010 18:32:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89615 invoked by uid 99); 11 Jun 2010 18:32:24 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Jun 2010 18:32:24 +0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=FREEMAIL_FROM,SPF_HELO_PASS,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: 216.139.236.158 is neither permitted nor denied by domain of sirishreddy@gmail.com)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Jun 2010 18:32:17 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <sirishreddy@gmail.com>)
	id 1ON91I-00083I-Nl
	for java-user@lucene.apache.org; Fri, 11 Jun 2010 11:31:56 -0700
Date: Fri, 11 Jun 2010 11:31:56 -0700 (PDT)
From: Sirish Vadala <sirishreddy@gmail.com>
To: java-user@lucene.apache.org
Message-ID: <1276281116729-889310.post@n3.nabble.com>
Subject: Problem using TopFieldCollector
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org


Currently I am on Lucene 2.2, migrating to 2.9 before eventually plan to move
to 3.1.

In Lucene 2.2, I have a custom hit collector that does both filtering and
sorting my search results.

Let me put the functionality achieved. When a user includes advance search
criteria with text search, I execute a query to fetch the advance search
results. Now, I have this collection of advance search result ids, that need
to match with the text search result ids.

Successfully implemented in 2.2 using the below collector:

----------------------------------------------------------------------

public class ResultHitCollector extends TopFieldDocCollector{

	private IndexSearcher searcher;
	private AnalysisTextSearchBean textSearchBean;

	public ResultHitCollector(IndexSearcher searcher, int numHits,
			AnalysisTextSearchBean textSearchBean, Sort sort)
			throws IOException {
		super(searcher.getIndexReader(), sort, numHits);
		this.searcher = searcher;
		this.textSearchBean = textSearchBean;
	}

	public void collect(int doc, float score) {
		try {
			HashMap<String, String> advanceSearchIds = textSearchBean
					.getAdvanceSearchIds();
			if (advanceSearchBills == null) {
				super.collect(doc, score);
			} else {
				Document document = searcher.doc(doc);
				if (document != null) {
					String id = document.get(IFIELD_ID);
					if (advanceSearchIds.containsKey(id)) {
						super.collect(doc, score);
					}
				}
			}
		} catch (CorruptIndexException e) {
			System.err.println("ERROR: " + e.getMessage());
		} catch (IOException e) {
			System.err.println("ERROR: " + e.getMessage());
		}
	}
}

----------------------------------------------------------------------
Calling the hit collection as below:


String[] sortOrder = {IFIELD_YEAR, IFIELD_TYPE, IFIELD_NUM, IFIELD_SESSION};
Sort sort = new Sort(sortOrder);
ResultHitCollector collector = new ResultHitCollector(indexSearcher, 100000,
analysisTextSearchBean, sort);
indexSearcher.search(booleanQuery, collector);
ScoreDoc[] hitScore = collector.topDocs().scoreDocs;
Utility.Log(Level.INFO, this, "Hits found: "+ hitScore.length);

----------------------------------------------------------------------

Since in Lucene 2.9, TopFieldDocCollector is deprecated, the documentation
suggests me to use TopFieldCollector instead. I am not really sure how to
get this to work using this, as TopFieldCollector doesn't have any public
constructors to extend this object. Any hints on how to implement this would
be highly appreciated.

However, using Collector in 2.9, this can be achieved without sort the
functionality. I also need to sort the results after filtering the search.

Thanks.
-- 
View this message in context: http://lucene.472066.n3.nabble.com/Problem-using-TopFieldCollector-tp889310p889310.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46423-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jun 12 00:44:13 2010
Return-Path: <java-user-return-46423-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78905 invoked from network); 12 Jun 2010 00:44:13 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 12 Jun 2010 00:44:13 -0000
Received: (qmail 96666 invoked by uid 500); 12 Jun 2010 00:44:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96546 invoked by uid 500); 12 Jun 2010 00:44:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96538 invoked by uid 99); 12 Jun 2010 00:44:10 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Jun 2010 00:44:10 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of erickerickson@gmail.com designates 209.85.160.176 as permitted sender)
Received: from [209.85.160.176] (HELO mail-gy0-f176.google.com) (209.85.160.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Jun 2010 00:44:02 +0000
Received: by gyf1 with SMTP id 1so1787872gyf.35
        for <java-user@lucene.apache.org>; Fri, 11 Jun 2010 17:43:41 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=zo//Xou+taWmEcrZoiMawXUNdh+xeBQdbB0JZ/Vt+hg=;
        b=dQ4NXV5xZFIWTyostvjj0iBc6kbauliMmVMZE1iIZ1ljT17hxKKZBFVGYhdJDj35Ep
         11STsnCxQ6b2gQyrrGEefHXo1eI22EqP/0GWZ+LoNqI4U0da9btCQ8KkLDHbiaDP4loW
         o23gj0Ot9LWYkVHi0kb0qCPVJJVi1QjokCqds=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=sMPyv8YKKw5j5EZqM5Op9LZVLN6vYh1J6OtPiF+1zs3goNB0szy24zV/Fzfht6snCr
         /9DV9WFpiGo3qgJxID7I3IEXY9ZeoGBkJeDDl62Bt27LJvZblYLODG743FK2rKhP0n9p
         kkfl6t8c9WtM2xb5lLp101tC6oAAHY7hW/CN8=
MIME-Version: 1.0
Received: by 10.150.187.19 with SMTP id k19mr4412615ybf.96.1276303421616; Fri, 
	11 Jun 2010 17:43:41 -0700 (PDT)
Received: by 10.151.148.19 with HTTP; Fri, 11 Jun 2010 17:43:41 -0700 (PDT)
In-Reply-To: <AANLkTimmBf8F9Hy9lYuELAX1aSjVxa6BTwMcgDA7Py9d@mail.gmail.com>
References: <AANLkTimmBf8F9Hy9lYuELAX1aSjVxa6BTwMcgDA7Py9d@mail.gmail.com>
Date: Fri, 11 Jun 2010 20:43:41 -0400
Message-ID: <AANLkTimEI2B4tD8GpWAB1NE-WzWHiKcIcAIfHcgOV3in@mail.gmail.com>
Subject: Re: Problem loading file from Directory on MacOS X...
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=000e0cd6adc21234950488ca8c85
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd6adc21234950488ca8c85
Content-Type: text/plain; charset=ISO-8859-1

I suspect that you have different jars on the mac than on your other
machines, possibly accessed through something you don't expect being in your
classpath. At least that's the first place I'd look....

HTH
Erick

On Thu, Jun 10, 2010 at 1:33 AM, Kit Plummer <dozer.kata@gmail.com> wrote:

> Hey folks.
> Ran into a problem on MacOS X...that doesn't exist in Linux (CentOS, or
> Ubuntu).
>
> No signature of method: static
> org.apache.lucene.store.FSDirectory.open() is applicable for argument
> types: (java.io.File) values: [/home/kplummer/Development/tmp]
>
> I'm actually running this through Groovy, but don't imagine this is
> the problem.  Wondering if anyone has any ideas?
>
> Here's the code:
>
> def fsDir = FSDirectory.open(new File(indexDir))
>
> TIA,
> Kit
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--000e0cd6adc21234950488ca8c85--

From java-user-return-46424-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jun 12 00:51:03 2010
Return-Path: <java-user-return-46424-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79594 invoked from network); 12 Jun 2010 00:51:03 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 12 Jun 2010 00:51:03 -0000
Received: (qmail 4356 invoked by uid 500); 12 Jun 2010 00:51:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4295 invoked by uid 500); 12 Jun 2010 00:51:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4284 invoked by uid 99); 12 Jun 2010 00:51:00 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Jun 2010 00:51:00 +0000
X-ASF-Spam-Status: No, hits=3.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of erickerickson@gmail.com designates 209.85.160.176 as permitted sender)
Received: from [209.85.160.176] (HELO mail-gy0-f176.google.com) (209.85.160.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Jun 2010 00:50:54 +0000
Received: by gyf1 with SMTP id 1so1791756gyf.35
        for <java-user@lucene.apache.org>; Fri, 11 Jun 2010 17:50:33 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=cVjF8b3gMtXXtkMfIZkO/bP7LZFqMBVgGnrvVRcS3G0=;
        b=N9amxllGwpnHR0zC6t84KpFn/ueZdn6JFK/zIsGqsEzV9wu7qrV5fZbIxO8u+8BpIP
         n0tsz2wLnF3q3gqKjR8kldtyT6R8FzRNBzHWSgIBSsAjAPAOWoF6Q1e+nOh8L2GhJa++
         TBDj0KjgXrqI1qsfCArOShqV/4ofAKZltQk7A=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=HcWZLQAmHGj30W80JOpyPlPgs+KPdPiHYFt8n7gGVG73+L4gHEOV8lIveurCUFSv7o
         IWXUR7TJ1taDDuOITiFZSsgHL2BkHDxn6VR73Eyj69S9gveVNYfyMJ6fAkdp7pM5yafJ
         NLCuMMTo8ajhtUDYMoz6VH2HHfM9lqm+c/9+Y=
MIME-Version: 1.0
Received: by 10.150.251.10 with SMTP id y10mr4639625ybh.123.1276303833379; 
	Fri, 11 Jun 2010 17:50:33 -0700 (PDT)
Received: by 10.151.148.19 with HTTP; Fri, 11 Jun 2010 17:50:33 -0700 (PDT)
In-Reply-To: <1276135397107-884302.post@n3.nabble.com>
References: <1276114966071-883464.post@n3.nabble.com>
	<AANLkTimfasPb9JXV1YcQc2K_KzOO_O40hY2kDAj8LDEI@mail.gmail.com>
	<1276135397107-884302.post@n3.nabble.com>
Date: Fri, 11 Jun 2010 20:50:33 -0400
Message-ID: <AANLkTikZvMqvGBGAlWG6ZcitaMUSzyarEJ3DuqmajRmD@mail.gmail.com>
Subject: Re: is this the right way to go?
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=000e0cd724ba9d33fc0488caa401
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd724ba9d33fc0488caa401
Content-Type: text/plain; charset=ISO-8859-1

Of course you can specify which is first. You can construct a Sort
object with an arbitrary number of fields and the ordering is respected.
That is, you create a Sort object with field1, field2, field3, then field2
is used if and only if the document order isn't determined by field1.
Field3 is used to break ties for documents whose field1 and field2
are equal...

HTH
Erick

On Wed, Jun 9, 2010 at 10:03 PM, fujian <fujian.z.yang@nokia.com> wrote:

>
>
> Thanks Eric and Ian!
>
> Yes, time stamp is one of our sort fields. By splitting it into
> year/month/day/... it'll reduce the memory usage dramatically. But I don't
> know if we can specify the significance of the sort fields, like year
> first,
> followed by month, day ... etc.
>
> Another thing is about unique. I thought it was unique "field value". If it
> means unique term, for English even loading all around 300,000 terms it
> won't take much memory, right? (Suppose the average length of term is 10,
> the total memory usage is 10*300,000=3MB)
>
> Thanks again, this helps a lot!
> -Fujian
> --
> View this message in context:
> http://lucene.472066.n3.nabble.com/is-this-the-right-way-to-go-tp883464p884302.html
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--000e0cd724ba9d33fc0488caa401--

From java-user-return-46425-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jun 12 00:54:08 2010
Return-Path: <java-user-return-46425-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79895 invoked from network); 12 Jun 2010 00:54:08 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 12 Jun 2010 00:54:08 -0000
Received: (qmail 10029 invoked by uid 500); 12 Jun 2010 00:54:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9972 invoked by uid 500); 12 Jun 2010 00:54:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9964 invoked by uid 99); 12 Jun 2010 00:54:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Jun 2010 00:54:05 +0000
X-ASF-Spam-Status: No, hits=-0.3 required=10.0
	tests=AWL,FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of mmehrwald@gmx.at designates 213.165.64.20 as permitted sender)
Received: from [213.165.64.20] (HELO mail.gmx.net) (213.165.64.20)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 12 Jun 2010 00:53:58 +0000
Received: (qmail invoked by alias); 12 Jun 2010 00:53:36 -0000
Received: from p57B1BA85.dip.t-dialin.net (EHLO [192.168.2.35]) [87.177.186.133]
  by mail.gmx.net (mp023) with SMTP; 12 Jun 2010 02:53:36 +0200
X-Authenticated: #5723743
X-Provags-ID: V01U2FsdGVkX18qyfhfr28qAUTw/UyGhBwA/8cfnNLMUFLcSFPyJh
	CV1ElEB6j53OUc
Message-ID: <4C12DA8F.6000100@gmx.at>
Date: Sat, 12 Jun 2010 02:53:35 +0200
From: Markus Mehrwald <mmehrwald@gmx.at>
User-Agent: Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.1.9) Gecko/20100430 Fedora/3.0.4-3.fc13 Thunderbird/3.0.4
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Exact match with fuzzy query
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit
X-Y-GMX-Trusted: 0

Hi,

I am using lucene 3.0.1. I use a MultiFieldQueryParser with a 
GermanAnalyzer. In my index are some values among others one document 
with the title "bauer". I append to every word in my query a ~0.8 (here 
I am not sure if this is the way to do it). If I try to search now, I 
will not get the document with title "bauer" except I set the fuzzy 
value to very low values of about .3.
Do i have to perform two searches with and without the fuzzy parameter 
or can I do it somehow in one step like using "bauer~0.8 bauer" as query?
I saw that the parser cuts of the "er" if I am not using the fuzzy 
parameter. Can someone please tell my in a few words why? How can I do a 
fuzzy search which also finds exact matches?

Thanks,
Markus

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46426-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jun 12 01:01:31 2010
Return-Path: <java-user-return-46426-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81623 invoked from network); 12 Jun 2010 01:01:31 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 12 Jun 2010 01:01:31 -0000
Received: (qmail 19961 invoked by uid 500); 12 Jun 2010 01:01:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19912 invoked by uid 500); 12 Jun 2010 01:01:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19904 invoked by uid 99); 12 Jun 2010 01:01:28 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Jun 2010 01:01:28 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of erickerickson@gmail.com designates 74.125.83.48 as permitted sender)
Received: from [74.125.83.48] (HELO mail-gw0-f48.google.com) (74.125.83.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Jun 2010 01:01:18 +0000
Received: by gwb17 with SMTP id 17so1795751gwb.35
        for <java-user@lucene.apache.org>; Fri, 11 Jun 2010 18:00:55 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=UemRQFVFjaDGWSs32uF2z//dfA/252xZFeD/A7H0qNc=;
        b=WmgIfVKlkySlErnpSTfofDz5AJdCPi+CGWFotwE/WuOc2aBFsU1LFlNa70tHr2/07e
         KsZOtWMwh5JqtI8X7qmYKyiBinyHMjt7hwUFZ+wnBmVmJzyQkjfDoYfl/6bxw2YoB4Ko
         fvtzomw19i5T68dRYx7y6hc6C4avc7ZrhIk+E=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=a2fuKbzYpLtTF5fUYGR4SXqtBFZ2p/pS9uqMeyw0SYfrRsMZZI/gP8NCTRrZk2LEqL
         zdvz9bTXrohB9avjMiRKQlF4p/G9oRFOc0bqGWNaMVzhdy8g/rK10oFCYgwSFihvTj9p
         JNyknvKt98tXLZJM5YnpAsJjurP4GgtadnDAc=
MIME-Version: 1.0
Received: by 10.150.100.9 with SMTP id x9mr4455641ybb.99.1276304451564; Fri, 
	11 Jun 2010 18:00:51 -0700 (PDT)
Received: by 10.151.148.19 with HTTP; Fri, 11 Jun 2010 18:00:51 -0700 (PDT)
In-Reply-To: <4C126074.4050909@cs.tu-darmstadt.de>
References: <4C123B8B.7010908@cs.tu-darmstadt.de>
	<AANLkTilt9hs_ruE8IhEBd6Lmx5L2L6ixdKSmZ6gnI58K@mail.gmail.com>
	<4C126074.4050909@cs.tu-darmstadt.de>
Date: Fri, 11 Jun 2010 21:00:51 -0400
Message-ID: <AANLkTinBTKqeT-GzC9TNFxs-sky979tmbI9YnITUPOmG@mail.gmail.com>
Subject: Re: Using Lucene with a rather simplistic scoring system?
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=000e0cd252fa75f3480488cac9f9
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd252fa75f3480488cac9f9
Content-Type: text/plain; charset=ISO-8859-1

I think CustomScoreQuery might be what you're looking for....

HTH
Erick

On Fri, Jun 11, 2010 at 12:12 PM, Marcel Bruch <bruch@cs.tu-darmstadt.de>wrote:

> Hi Ian,
>
> Am 11.06.2010 15:51, schrieb Ian Lea:
>
>  Others can comment on how to customize scoring, but I wonder if
>> lucene's default scoring might do the job as is.
>>
>>
> I agree. It would probably work out of the box with lucene's default
> scoring. Actually, I'm getting my feet wet with lucene using just the
> WhitespaceAnalyser and the schema you proposed. However, we want to
> experiment with different scoring functions, features and feature weights -
> thus, need full control over the scoring...
>
> [...]
>
>  Sounds like an interesting project.
>>
>>
> I think it is :-) It's tightly integrated into Eclipse where (i) it grabs
> your code of your current editor on demand, (ii) automatically creates and
> submits a query from it, and (iii) displays the best code examples directly
> aside your editor in a separate view. As soon as scoring works with Lucene
> you can test the first version in a week or two.
>
> However, can I implement this scoring function with Lucene:
> score(d,q) = \sum_{i \in I} w_i * f_i(d,q)
>
> Thanks,
> Marcel
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

--000e0cd252fa75f3480488cac9f9--

From java-user-return-46427-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jun 12 02:53:08 2010
Return-Path: <java-user-return-46427-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4840 invoked from network); 12 Jun 2010 02:53:07 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 12 Jun 2010 02:53:07 -0000
Received: (qmail 82947 invoked by uid 500); 12 Jun 2010 02:53:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82606 invoked by uid 500); 12 Jun 2010 02:53:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82598 invoked by uid 99); 12 Jun 2010 02:53:03 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Jun 2010 02:53:03 +0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=AWL,FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of bec.watson@gmail.com designates 209.85.212.48 as permitted sender)
Received: from [209.85.212.48] (HELO mail-vw0-f48.google.com) (209.85.212.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Jun 2010 02:52:58 +0000
Received: by vws4 with SMTP id 4so228818vws.35
        for <java-user@lucene.apache.org>; Fri, 11 Jun 2010 19:52:37 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=oium7yYtqo9aREzrTxvLVGuPxH4u3MLHPEbEqctESiI=;
        b=My4U8Htfb0ujhmmfjtQITSt4QoJo2jWsC0mjpaeraWTtL32XXp+N/Sdw6kT+CP10ho
         kUOhYwRHsZSckO/1etDVAPFpnCCHrkXwlq1kz4nHhcNQ1X1vrLvqt3tv1uyG/xQYTqmF
         VhAcgkGGd0spP/0EAK4UPDTKjwOAcIl9AW1wU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=ENCLSziT14yQfc0Man+GzOrmiDLSVmzN5TOZBP/LfH7c0KHkgkmrkODEyFk6UMGj2G
         G+KlierjeWFNTTz0bDpw4qI3oja+zwD7y06AUuNFqot/BahaJ2DuhhiOo7FiPrWHiF4H
         GSULFN20rtqqU2o6hm8FkPR5EIMPJJF1ag9o4=
MIME-Version: 1.0
Received: by 10.220.125.32 with SMTP id w32mr175758vcr.147.1276311157177; Fri, 
	11 Jun 2010 19:52:37 -0700 (PDT)
Received: by 10.220.43.200 with HTTP; Fri, 11 Jun 2010 19:52:37 -0700 (PDT)
In-Reply-To: <1276281116729-889310.post@n3.nabble.com>
References: <1276281116729-889310.post@n3.nabble.com>
Date: Sat, 12 Jun 2010 10:52:37 +0800
Message-ID: <AANLkTikfareUOBme6rOjJy9iLMxWLLwQP8XyocNvhN1B@mail.gmail.com>
Subject: Re: Problem using TopFieldCollector
From: Rebecca Watson <bec.watson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

hi,

i had similar issues migrating to using the new collectors... we use a cust=
om
hitcollector too where we accessed document fields to aid in scoring docs.

when migrating - i chose to extend the Collector class where:
.collect method still extended pretty much as before

in the new  abstract method setNextReader:
public void setNextReader(IndexReader reader, int docBase) {
     ...
}

i keep a copy of the current indexreader + docBase, and used the
indexreader.document
method to get the doc/field values required in the collect method.

note that the docBase is used to keep/get the global docid but the doc pass=
ed
to the .collect method relates to the current indexreader. i.e.
global-docid =3D docBase + docid

you sort in the collector anyway? -- using a custom hitqueue? in which
case you'd
use the global docid in the hitqueue / any filters created through the
collector.

also, we ended up having to re-engineer our system so that we didn't
use field-loads
as this was a bottleneck in our system... maybe you should think about merg=
ing
the two advanced/text documents together even if this duplicates
information in your
index so you don't have to do field loads...
not sure if you've profiled to see the difference in cost?

hope that helps,

bec :)

On 12 June 2010 02:31, Sirish Vadala <sirishreddy@gmail.com> wrote:
>
> Currently I am on Lucene 2.2, migrating to 2.9 before eventually plan to =
move
> to 3.1.
>
> In Lucene 2.2, I have a custom hit collector that does both filtering and
> sorting my search results.
>
> Let me put the functionality achieved. When a user includes advance searc=
h
> criteria with text search, I execute a query to fetch the advance search
> results. Now, I have this collection of advance search result ids, that n=
eed
> to match with the text search result ids.
>
> Successfully implemented in 2.2 using the below collector:
>
> ----------------------------------------------------------------------
>
> public class ResultHitCollector extends TopFieldDocCollector{
>
> =C2=A0 =C2=A0 =C2=A0 =C2=A0private IndexSearcher searcher;
> =C2=A0 =C2=A0 =C2=A0 =C2=A0private AnalysisTextSearchBean textSearchBean;
>
> =C2=A0 =C2=A0 =C2=A0 =C2=A0public ResultHitCollector(IndexSearcher search=
er, int numHits,
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0AnalysisTextSearchBean textSearchBean, Sort sort)
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0throws IOException {
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0super(searcher.get=
IndexReader(), sort, numHits);
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0this.searcher =3D =
searcher;
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0this.textSearchBea=
n =3D textSearchBean;
> =C2=A0 =C2=A0 =C2=A0 =C2=A0}
>
> =C2=A0 =C2=A0 =C2=A0 =C2=A0public void collect(int doc, float score) {
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0try {
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0HashMap<String, String> advanceSearchIds =3D textSearchBean
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0.getAdvan=
ceSearchIds();
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0if (advanceSearchBills =3D=3D null) {
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0super.collect(doc, score);
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0} else {
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Document document =3D searcher.doc(do=
c);
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0if (document !=3D null) {
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0String id=
 =3D document.get(IFIELD_ID);
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0if (advan=
ceSearchIds.containsKey(id)) {
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0super.collect(doc, score);
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0}
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0}
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0}
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0} catch (CorruptIn=
dexException e) {
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0System.err.println("ERROR: " + e.getMessage());
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0} catch (IOExcepti=
on e) {
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0System.err.println("ERROR: " + e.getMessage());
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0}
> =C2=A0 =C2=A0 =C2=A0 =C2=A0}
> }
>
> ----------------------------------------------------------------------
> Calling the hit collection as below:
>
>
> String[] sortOrder =3D {IFIELD_YEAR, IFIELD_TYPE, IFIELD_NUM, IFIELD_SESS=
ION};
> Sort sort =3D new Sort(sortOrder);
> ResultHitCollector collector =3D new ResultHitCollector(indexSearcher, 10=
0000,
> analysisTextSearchBean, sort);
> indexSearcher.search(booleanQuery, collector);
> ScoreDoc[] hitScore =3D collector.topDocs().scoreDocs;
> Utility.Log(Level.INFO, this, "Hits found: "+ hitScore.length);
>
> ----------------------------------------------------------------------
>
> Since in Lucene 2.9, TopFieldDocCollector is deprecated, the documentatio=
n
> suggests me to use TopFieldCollector instead. I am not really sure how to
> get this to work using this, as TopFieldCollector doesn't have any public
> constructors to extend this object. Any hints on how to implement this wo=
uld
> be highly appreciated.
>
> However, using Collector in 2.9, this can be achieved without sort the
> functionality. I also need to sort the results after filtering the search=
.
>
> Thanks.
> --
> View this message in context: http://lucene.472066.n3.nabble.com/Problem-=
using-TopFieldCollector-tp889310p889310.html
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46428-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jun 12 02:57:55 2010
Return-Path: <java-user-return-46428-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5226 invoked from network); 12 Jun 2010 02:57:55 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 12 Jun 2010 02:57:55 -0000
Received: (qmail 86576 invoked by uid 500); 12 Jun 2010 02:57:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86384 invoked by uid 500); 12 Jun 2010 02:57:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86376 invoked by uid 99); 12 Jun 2010 02:57:51 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Jun 2010 02:57:51 +0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of bec.watson@gmail.com designates 209.85.212.53 as permitted sender)
Received: from [209.85.212.53] (HELO mail-vw0-f53.google.com) (209.85.212.53)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Jun 2010 02:57:44 +0000
Received: by vws16 with SMTP id 16so2382974vws.12
        for <java-user@lucene.apache.org>; Fri, 11 Jun 2010 19:57:23 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=IAVZXpZIgQED0YoIP45RgAFj/Ddcp5+I0Sd8rxeWeX4=;
        b=ULmpA33EAlktsFkiO+iohm0/uKpBF4vO3QfIz3WFPi+lRwrb3z2KSmXgVzx41s92Tu
         eKCo4h79BNmRUPXLYdiYoRzZKvnsiKCFDXtNtSSWcc2ZMV4+aDpEcuFx738ETONhGx3X
         Wfe4EO0Kz1G8Yg0mLXb5MFFqdLFoIL3CfqpWk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=DR4r8x7IoRJ0SGYo+uTyX9Rj/L4pChlDSFMRJUHnn19ooAPpFBw1SivftYj5xE7/sP
         hKMjmjv1JzI8IQbCU55DWvqRyHEmSkhHbf2YgDYaYN4BlYVNbsEIOTZji2joc65X4KXQ
         fZIrrPBW/QjVlqLhu1SHceeRPzUMwoWWpJK6U=
MIME-Version: 1.0
Received: by 10.220.122.71 with SMTP id k7mr189666vcr.257.1276311442691; Fri, 
	11 Jun 2010 19:57:22 -0700 (PDT)
Received: by 10.220.43.200 with HTTP; Fri, 11 Jun 2010 19:57:22 -0700 (PDT)
In-Reply-To: <AANLkTikfareUOBme6rOjJy9iLMxWLLwQP8XyocNvhN1B@mail.gmail.com>
References: <1276281116729-889310.post@n3.nabble.com>
	<AANLkTikfareUOBme6rOjJy9iLMxWLLwQP8XyocNvhN1B@mail.gmail.com>
Date: Sat, 12 Jun 2010 10:57:22 +0800
Message-ID: <AANLkTiksA-c9_WFtcHabtJsjWce06A1PvFzUTA2YCGGb@mail.gmail.com>
Subject: Re: Problem using TopFieldCollector
From: Rebecca Watson <bec.watson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

sorry, also forgot to say -

the abstract Collector.setScorer method gives you the new
Scorer (for the new indexreader i.e. index) so keep a pointer to that too a=
s you
look like you need to use it in your .collect method (the new Collector.col=
lect
method is only given the docid now).

the javadocs discusses global docid/docid for current index in the example:
http://lucene.apache.org/java/2_9_0/api/all/index.html

bec :)

On 12 June 2010 10:52, Rebecca Watson <bec.watson@gmail.com> wrote:
> hi,
>
> i had similar issues migrating to using the new collectors... we use a cu=
stom
> hitcollector too where we accessed document fields to aid in scoring docs=
.
>
> when migrating - i chose to extend the Collector class where:
> .collect method still extended pretty much as before
>
> in the new =C2=A0abstract method setNextReader:
> public void setNextReader(IndexReader reader, int docBase) {
> =C2=A0 =C2=A0 ...
> }
>
> i keep a copy of the current indexreader + docBase, and used the
> indexreader.document
> method to get the doc/field values required in the collect method.
>
> note that the docBase is used to keep/get the global docid but the doc pa=
ssed
> to the .collect method relates to the current indexreader. i.e.
> global-docid =3D docBase + docid
>
> you sort in the collector anyway? -- using a custom hitqueue? in which
> case you'd
> use the global docid in the hitqueue / any filters created through the
> collector.
>
> also, we ended up having to re-engineer our system so that we didn't
> use field-loads
> as this was a bottleneck in our system... maybe you should think about me=
rging
> the two advanced/text documents together even if this duplicates
> information in your
> index so you don't have to do field loads...
> not sure if you've profiled to see the difference in cost?
>
> hope that helps,
>
> bec :)
>
> On 12 June 2010 02:31, Sirish Vadala <sirishreddy@gmail.com> wrote:
>>
>> Currently I am on Lucene 2.2, migrating to 2.9 before eventually plan to=
 move
>> to 3.1.
>>
>> In Lucene 2.2, I have a custom hit collector that does both filtering an=
d
>> sorting my search results.
>>
>> Let me put the functionality achieved. When a user includes advance sear=
ch
>> criteria with text search, I execute a query to fetch the advance search
>> results. Now, I have this collection of advance search result ids, that =
need
>> to match with the text search result ids.
>>
>> Successfully implemented in 2.2 using the below collector:
>>
>> ----------------------------------------------------------------------
>>
>> public class ResultHitCollector extends TopFieldDocCollector{
>>
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0private IndexSearcher searcher;
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0private AnalysisTextSearchBean textSearchBean=
;
>>
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0public ResultHitCollector(IndexSearcher searc=
her, int numHits,
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0AnalysisTextSearchBean textSearchBean, Sort sort)
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0throws IOException {
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0super(searcher.ge=
tIndexReader(), sort, numHits);
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0this.searcher =3D=
 searcher;
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0this.textSearchBe=
an =3D textSearchBean;
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0}
>>
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0public void collect(int doc, float score) {
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0try {
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0HashMap<String, String> advanceSearchIds =3D textSearchBean
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0.getAd=
vanceSearchIds();
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0if (advanceSearchBills =3D=3D null) {
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0super.collect(doc, score);
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0} else {
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Document document =3D searcher.doc=
(doc);
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0if (document !=3D null) {
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0String=
 id =3D document.get(IFIELD_ID);
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0if (ad=
vanceSearchIds.containsKey(id)) {
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0super.collect(doc, score);
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0}
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0}
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0}
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0} catch (CorruptI=
ndexException e) {
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0System.err.println("ERROR: " + e.getMessage());
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0} catch (IOExcept=
ion e) {
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0System.err.println("ERROR: " + e.getMessage());
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0}
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0}
>> }
>>
>> ----------------------------------------------------------------------
>> Calling the hit collection as below:
>>
>>
>> String[] sortOrder =3D {IFIELD_YEAR, IFIELD_TYPE, IFIELD_NUM, IFIELD_SES=
SION};
>> Sort sort =3D new Sort(sortOrder);
>> ResultHitCollector collector =3D new ResultHitCollector(indexSearcher, 1=
00000,
>> analysisTextSearchBean, sort);
>> indexSearcher.search(booleanQuery, collector);
>> ScoreDoc[] hitScore =3D collector.topDocs().scoreDocs;
>> Utility.Log(Level.INFO, this, "Hits found: "+ hitScore.length);
>>
>> ----------------------------------------------------------------------
>>
>> Since in Lucene 2.9, TopFieldDocCollector is deprecated, the documentati=
on
>> suggests me to use TopFieldCollector instead. I am not really sure how t=
o
>> get this to work using this, as TopFieldCollector doesn't have any publi=
c
>> constructors to extend this object. Any hints on how to implement this w=
ould
>> be highly appreciated.
>>
>> However, using Collector in 2.9, this can be achieved without sort the
>> functionality. I also need to sort the results after filtering the searc=
h.
>>
>> Thanks.
>> --
>> View this message in context: http://lucene.472066.n3.nabble.com/Problem=
-using-TopFieldCollector-tp889310p889310.html
>> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46429-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jun 12 11:04:04 2010
Return-Path: <java-user-return-46429-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78430 invoked from network); 12 Jun 2010 11:04:04 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 12 Jun 2010 11:04:04 -0000
Received: (qmail 86983 invoked by uid 500); 12 Jun 2010 11:04:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86626 invoked by uid 500); 12 Jun 2010 11:03:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86612 invoked by uid 99); 12 Jun 2010 11:03:57 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Jun 2010 11:03:57 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of fancyerii@gmail.com designates 209.85.160.48 as permitted sender)
Received: from [209.85.160.48] (HELO mail-pw0-f48.google.com) (209.85.160.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Jun 2010 11:03:49 +0000
Received: by pwj3 with SMTP id 3so1327377pwj.35
        for <java-user@lucene.apache.org>; Sat, 12 Jun 2010 04:03:28 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:date:message-id
         :subject:from:to:content-type;
        bh=un8UbkUaBfVxaFReaPHkQBJjSx1nlLNMT5lKUaK/p3c=;
        b=jawQ2VqiLdatqwzeNEFTbQPkxx0BPKy0rDy5Tr04VVWTSMkVVKBtyC/kAXdPBH1oKI
         h39S6/Vdk4husnAn/8TFjHLS3xMngTSOt9an7Fbs64Uk5CWF3nbu+hEBSoTVf1gG4kUT
         i2IMXn6PfV3K4R3Re9F/d75sTf05EYP9+gORA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=Vi2P4V7OM+bPWH3evxvT7dtnEWN+GYn/6R7rqKiucMQDqlw/GJzMigOBlKIHONmeyQ
         dmhSAoqmD9fkNpg8PoSPGPVfJSR+bYcQ76pqdWI4yRnn128mJ54be5AdYTfuJUacqDJy
         lvoXWVGPqmfhXgTdXXKx/yfctpR9px6WTkcmo=
MIME-Version: 1.0
Received: by 10.142.3.41 with SMTP id 41mr2197064wfc.291.1276340608457; Sat, 
	12 Jun 2010 04:03:28 -0700 (PDT)
Received: by 10.142.14.3 with HTTP; Sat, 12 Jun 2010 04:03:28 -0700 (PDT)
Date: Sat, 12 Jun 2010 19:03:28 +0800
Message-ID: <AANLkTin0lSNeI9r6Ml3CjhnEbxdOUTIFrWB6Rs9d814Z@mail.gmail.com>
Subject: about TokenSources.getTokenStream and highlighter
From: Li Li <fancyerii@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

hi all
   when use highlighter, We must provide a tokenStream and the
original text. To get a tokenStream, we can either reanlyze the
original text or use saved TermVector to reconstruct it.
   In my application, highlight will cost average 200ms-300ms, and I
want to optimze it to lower than 100ms. So I decided to try
TermVector.

The javadoc of public static TokenStream
getTokenStream(TermPositionVector tpv, boolean
tokenPositionsGuaranteedContiguous) is:

Low level api. Returns a token stream or null if no offset info
available in index. This can be used to feed the highlighter with a
pre-parsed token stream In my tests the speeds to recreate 1000 token
streams using this method are: - with TermVector offset only data
stored - 420 milliseconds - with TermVector offset AND position data
stored - 271 milliseconds (nb timings for TermVector with position
data are based on a tokenizer with contiguous positions - no overlaps
or gaps) The cost of not using TermPositionVector to store pre-parsed
content and using an analyzer to re-parse the original content: -
reanalyzing the original content - 980 milliseconds The re-analyze
timings will typically vary depending on - 1) The complexity of the
analyzer code (timings above were using a stemmer/lowercaser/stopword
combo) 2) The number of other fields (Lucene reads ALL fields off the
disk when accessing just one document field - can cost dear!) 3) Use
of compression on field storage - could be faster due to compression
(less disk IO) or slower (more CPU burn) depending on the content.

Parameters:
tpv
tokenPositionsGuaranteedContiguous true if the token position numbers
have no overlaps or gaps. If looking to eek out the last drops of
performance, set to true. If in doubt, set to false.

I have some questions
1. it says "reanalyze depending on The number of other fields" . but
to highlight, we must provide original text, so we will read all the
fields of the document. So no matter we use termvector reconstruction
or reanalyzation, we both need to read all the field of a document.
2. to speed up, tokenPositionsGuaranteedContiguous can be set. which
requires "contiguous positions - no overlaps or gaps". no overlaps is
obvious, what's gaps mean? My analyzer just like

 	public final boolean incrementToken() throws IOException {
			termAtt.setTermBuffer(context, beginIndex, length);
			termAtt.setTermLength(length);
			offsetAtt.setOffset(beginIndex, endIndex);
                                                return true;
                }
can I set it to true?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46430-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jun 12 11:58:22 2010
Return-Path: <java-user-return-46430-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87394 invoked from network); 12 Jun 2010 11:58:22 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 12 Jun 2010 11:58:22 -0000
Received: (qmail 14611 invoked by uid 500); 12 Jun 2010 11:58:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14105 invoked by uid 500); 12 Jun 2010 11:58:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14097 invoked by uid 99); 12 Jun 2010 11:58:15 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Jun 2010 11:58:15 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=AWL,FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [206.190.49.14] (HELO web52904.mail.re2.yahoo.com) (206.190.49.14)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 12 Jun 2010 11:58:07 +0000
Received: (qmail 2452 invoked by uid 60001); 12 Jun 2010 11:57:46 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1276343866; bh=dTm+jKW5VTjHDMXTTzFqIkd6Js3r9iDBD2ZTs9l4zFI=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=3OU7IyYt9PtG3f8/XzDmZBlNZC0Gb8uRJcVLuH0DrsrWG9RCb8xyjV5fe2O4b9AwsiUxBNIBpS8+ApQNTfD6ITyhO2lBoknNADZLoeuIN3mM5kF1I0bZR2IoB7H6SgE9J0RyhUvNaxU8LzCj3X1xdFIafWmqtfKwnZTm0v/gQn8=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=x8bpeuZcq2Vng7rRARThvEKLvTFZhBwDrPuYoeEW0Cp3NmJT0rCl3YPOWdE4jm4op6JHUMJfoGNisS79ejvyaTos6xhh+u9dAGsJQcTSYIL1iUeRY+Mwhirw566RrDXInniNh5HGCeG71DJSKQFHnJ0aJIddHBsjTJc11gty66I=;
Message-ID: <489473.2353.qm@web52904.mail.re2.yahoo.com>
X-YMail-OSG: 4M3k57UVM1kOfyagMsHt0FL4LAF80a0grmFWPpJj7rvT18t
 t1UTAUqlHJ7DAbckMKOedNV472agAwdMK9QDv9dgD3QkiQP.MvHnxpWwKo3_
 CN11OtOIqmx7l7ereRtWDUU9ThbzkvAZmgmNjcRl0RxppTGdynFT48NYFN5W
 4Ha2OYs_U0Z19oXYZA02HgWvvwa1VJy0M6uhsoL3DgvsnGLZHyvCV9Xlue9H
 BtT1CHHlDhcyoqC6Bj97e8TfhisfWchl94EbjWzk1u62XVIiNUM9hzE8cx1F
 vO7IFua.UosxDOkhQwKEOIsveDdcZpFO95JtR7kLSZHfXNrh__s4YsQ--
Received: from [78.168.92.113] by web52904.mail.re2.yahoo.com via HTTP; Sat, 12 Jun 2010 04:57:46 PDT
X-Mailer: YahooMailClassic/11.1.3 YahooMailWebService/0.8.103.269680
Date: Sat, 12 Jun 2010 04:57:46 -0700 (PDT)
From: Ahmet Arslan <iorixxx@yahoo.com>
Subject: Re: Exact match with fuzzy query
To: java-user@lucene.apache.org
In-Reply-To: <4C12DA8F.6000100@gmx.at>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

> I am using lucene 3.0.1. I use a MultiFieldQueryParser with
> a GermanAnalyzer. In my index are some values among others
> one document with the title "bauer". I append to every word
> in my query a ~0.8 (here I am not sure if this is the way to
> do it). If I try to search now, I will not get the document
> with title "bauer" except I set the fuzzy value to very low
> values of about .3.


> Do i have to perform two searches with and without the
> fuzzy parameter or can I do it somehow in one step like
> using "bauer~0.8 bauer" as query?

Yes bauer~0.8 bauer as query will bring you both exact and fuzzy matches.

> I saw that the parser cuts of the "er" if I am not using
> the fuzzy parameter. Can someone please tell my in a few
> words why?

This is answer of you question. FuzzyQuery is not analyzed. In your index you have bau, in your query you have bauer. Thats why 0.3 slop is required.

> How can I do a fuzzy search which also finds exact matches?

removing stemming from your analyzer can work. 

Or org.apache.lucene.queryParser.analyzing.AnalyzingQueryParser should work in your case.





      

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46431-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jun 12 15:39:53 2010
Return-Path: <java-user-return-46431-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45228 invoked from network); 12 Jun 2010 15:39:53 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 12 Jun 2010 15:39:53 -0000
Received: (qmail 30016 invoked by uid 500); 12 Jun 2010 15:39:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29880 invoked by uid 500); 12 Jun 2010 15:39:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29872 invoked by uid 99); 12 Jun 2010 15:39:49 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Jun 2010 15:39:49 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of mmehrwald@gmx.at designates 213.165.64.20 as permitted sender)
Received: from [213.165.64.20] (HELO mail.gmx.net) (213.165.64.20)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 12 Jun 2010 15:39:40 +0000
Received: (qmail invoked by alias); 12 Jun 2010 15:39:20 -0000
Received: from p57B1E452.dip.t-dialin.net (EHLO [192.168.2.35]) [87.177.228.82]
  by mail.gmx.net (mp007) with SMTP; 12 Jun 2010 17:39:20 +0200
X-Authenticated: #5723743
X-Provags-ID: V01U2FsdGVkX19oY3ZSJ9Zo96QDdkDXGjArJ26f/8NDzhYrIS/K3j
	qEmq+OIeJjBpPf
Message-ID: <4C13AA27.6080402@gmx.at>
Date: Sat, 12 Jun 2010 17:39:19 +0200
From: Markus Mehrwald <mmehrwald@gmx.at>
User-Agent: Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.1.9) Gecko/20100430 Fedora/3.0.4-3.fc13 Thunderbird/3.0.4
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Exact match with fuzzy query
References: <489473.2353.qm@web52904.mail.re2.yahoo.com>
In-Reply-To: <489473.2353.qm@web52904.mail.re2.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Y-GMX-Trusted: 0
X-Virus-Checked: Checked by ClamAV on apache.org



Am 12.06.2010 13:57, schrieb Ahmet Arslan:
>> I am using lucene 3.0.1. I use a MultiFieldQueryParser with
>> a GermanAnalyzer. In my index are some values among others
>> one document with the title "bauer". I append to every word
>> in my query a ~0.8 (here I am not sure if this is the way to
>> do it). If I try to search now, I will not get the document
>> with title "bauer" except I set the fuzzy value to very low
>> values of about .3.
>
>
>> Do i have to perform two searches with and without the
>> fuzzy parameter or can I do it somehow in one step like
>> using "bauer~0.8 bauer" as query?
>
> Yes bauer~0.8 bauer as query will bring you both exact and fuzzy matches.

Is this the normal way to do it?

>
>> I saw that the parser cuts of the "er" if I am not using
>> the fuzzy parameter. Can someone please tell my in a few
>> words why?
>
> This is answer of you question. FuzzyQuery is not analyzed. In your index you have bau, in your query you have bauer. Thats why 0.3 slop is required.
>
>> How can I do a fuzzy search which also finds exact matches?
>
> removing stemming from your analyzer can work.
>
> Or org.apache.lucene.queryParser.analyzing.AnalyzingQueryParser should work in your case.

Unfortunately this parser seems to be missing in 3.0.1

>
>
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46432-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jun 12 15:47:45 2010
Return-Path: <java-user-return-46432-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46145 invoked from network); 12 Jun 2010 15:47:44 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 12 Jun 2010 15:47:44 -0000
Received: (qmail 35219 invoked by uid 500); 12 Jun 2010 15:47:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35157 invoked by uid 500); 12 Jun 2010 15:47:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35149 invoked by uid 99); 12 Jun 2010 15:47:42 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Jun 2010 15:47:42 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [206.190.49.17] (HELO web52907.mail.re2.yahoo.com) (206.190.49.17)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 12 Jun 2010 15:47:33 +0000
Received: (qmail 66161 invoked by uid 60001); 12 Jun 2010 15:47:11 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1276357631; bh=CDt8YFL4nvI6bs68vZ127RYbJcJrjg9VZtddXj0BMII=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=UzcZK6uLp+TAuuG+okaJhMsCd74/M0nwaW98R1mk89SsCSEJDqqQoUmC8vnQyqfQqMfRj47Uf6YTE6gU08GNh0PjuQopE64w5rUWnThDk/7kI+3ulRy55STLF3vqIBCFKoW+kmqyoys42lrpITEdXAKKVoYORXoz+lPO/RDVFcA=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=DhnzzojwqsfKKCSLbBJehf3+cYPHXRB3oWB38Z6FF+7AyAjlzMmi2AX+kgNxkYYdlkk6g9YnyxxlswL/2DNxQjfy/AyxWKbKVpF7QlFJiImPOAIVTZJg8xgk+NoK4l/fVswABzqfTo3ozOsmiW1my1phqpAXvSlWlPClAs23C3g=;
Message-ID: <590458.62942.qm@web52907.mail.re2.yahoo.com>
X-YMail-OSG: QQfMHHwVM1kB1aUL7EjXLumeyUj6mjfcWOfs7TMn0f4cWWU
 S1bUG9Qp7Rdz.ZkUY8VcF_DXf77Qp3_t2pykrlV.wzdSXt.tiFcy7nFJC1jb
 jmOx7tWhvNb0DB8KruTjWMxQIAkAp_Xu7jZQP_pwaK6AwacgF804VnvMiKwy
 y5L7KzMJaYzVeUH3hiql3dPrmnb1g9Dy4GVsL9pLoT_tkJlDSwjAWk6cFCj6
 .9mUDvePh8BCmZcSnQfBGPHHOZpo16_JqMCPpm2IQVzBC_zCCQTqloTocuUU
 N1yDh_keKvKQ2V.zNO80OWY7weGuGUjoAkVCdpii8Y82.YVZVbX2SU7.esOk
 OKMAW4LaZ.clG.GdZhs3PygsG1vlJ
Received: from [78.168.92.113] by web52907.mail.re2.yahoo.com via HTTP; Sat, 12 Jun 2010 08:47:11 PDT
X-Mailer: YahooMailClassic/11.1.3 YahooMailWebService/0.8.103.269680
Date: Sat, 12 Jun 2010 08:47:11 -0700 (PDT)
From: Ahmet Arslan <iorixxx@yahoo.com>
Subject: Re: Exact match with fuzzy query
To: java-user@lucene.apache.org
In-Reply-To: <4C13AA27.6080402@gmx.at>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org


> > Yes bauer~0.8 bauer as query will bring you both exact
> and fuzzy matches.
> 
> Is this the normal way to do it?

Somehow. 'bauer~0.8 OR bauer' is easiest way to fuzzy search which also finds exact matches.


> Unfortunately this parser seems to be missing in 3.0.1

http://lucene.apache.org/java/3_0_1/api/contrib-misc/org/apache/lucene/queryParser/analyzing/AnalyzingQueryParser.html


      

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46433-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jun 13 00:02:44 2010
Return-Path: <java-user-return-46433-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62345 invoked from network); 13 Jun 2010 00:02:43 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 13 Jun 2010 00:02:43 -0000
Received: (qmail 86102 invoked by uid 500); 13 Jun 2010 00:02:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86049 invoked by uid 500); 13 Jun 2010 00:02:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86041 invoked by uid 99); 13 Jun 2010 00:02:40 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Jun 2010 00:02:40 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of robin.bygrave@gmail.com designates 209.85.211.186 as permitted sender)
Received: from [209.85.211.186] (HELO mail-yw0-f186.google.com) (209.85.211.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Jun 2010 00:02:34 +0000
Received: by ywh16 with SMTP id 16so1363449ywh.21
        for <java-user@lucene.apache.org>; Sat, 12 Jun 2010 17:02:13 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:date:message-id
         :subject:from:to:content-type;
        bh=mSdyZKEGsldZMm+KyMBDBSmP3KAZo7QOZBNPnXPEOl4=;
        b=tG6YzZun8buNWFA2qyITbh7+l3kHmVLMmGJV5DvXBdBEsqkCMPSonmQq+A3YVl1klM
         zR8mSxrpzNpRvywMezNVR/EB5y/a17Pl4OtBI3hpIqFATyypBgAuq4qfPzO3y9OJ9aj0
         eIupC8GEnKARpclLJ3c8dN2Gt72Nq7rxuXv8w=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=aqGBU3EdDYVcYL8006skLR1FCtHshAk0HT4J2mRlm2+ahz+HVjYkGZqhE8/wrivqik
         bSUSTBDgBh5INv2kQmcFGe3R0xg6WKeySqONgSlqpykNXzcw3V5fqjl0VHLGWQ9tXeIv
         ZTFPjRHcOwEYRhrRjKb3dgv9kMdX8gBD1Bn60=
MIME-Version: 1.0
Received: by 10.101.4.4 with SMTP id g4mr3335833ani.156.1276387333770; Sat, 12 
	Jun 2010 17:02:13 -0700 (PDT)
Received: by 10.100.93.13 with HTTP; Sat, 12 Jun 2010 17:02:13 -0700 (PDT)
Date: Sun, 13 Jun 2010 12:02:13 +1200
Message-ID: <AANLkTimnO3H-edEzWNn1T93GXJJzn8Lx19EX4PNPWjav@mail.gmail.com>
Subject: Any Solid State Drive performance comparisons?
From: Rob Bygrave <robin.bygrave@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=001636c5bdaba00f120488de15ef

--001636c5bdaba00f120488de15ef
Content-Type: text/plain; charset=ISO-8859-1

Hi,

Has anyone done a performance comparison for an index on a Solid State Drive
(vs any other hard drive ... SATA/SCSI)?


Thanks, Rob.

--001636c5bdaba00f120488de15ef--

From java-user-return-46434-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jun 13 15:08:47 2010
Return-Path: <java-user-return-46434-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4466 invoked from network); 13 Jun 2010 04:23:34 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 13 Jun 2010 04:23:34 -0000
Received: (qmail 96646 invoked by uid 500); 13 Jun 2010 04:23:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96024 invoked by uid 500); 13 Jun 2010 04:23:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96008 invoked by uid 99); 13 Jun 2010 04:23:23 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Jun 2010 04:23:23 +0000
X-ASF-Spam-Status: No, hits=-0.2 required=10.0
	tests=AWL,FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of fancyerii@gmail.com designates 74.125.83.176 as permitted sender)
Received: from [74.125.83.176] (HELO mail-pv0-f176.google.com) (74.125.83.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Jun 2010 04:23:16 +0000
Received: by pvg4 with SMTP id 4so2657649pvg.35
        for <multiple recipients>; Sat, 12 Jun 2010 21:22:56 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:date:message-id
         :subject:from:to:content-type:content-transfer-encoding;
        bh=gY4cjJZ5bQ142kNqU6ImzZQ2fuA0AZfack5fQB8K7wM=;
        b=oamhs4VeCMPWX8esuPv2egGI65DDLgPRcfki6IIfCTfiKnDA+YuGe3Dv0t7vORkA6v
         X2BoAYpgCa8HR3FggUS71qWOKA9VpmcKmSHKY+jf66cy7HkbEW+ZvFQlvXAK9aqar8c5
         SIUTDrJX9B68qaOO1F2gI7+vJGIfWJgo5ABYs=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        b=hOVuR+JGn3I2Ey+je6Fw8CskM/m0V1A6bF52Dl3IJOfP+V+xbQiKksad4c45/NdTSU
         TLp0BftH9BlCo7AVCO6BgvPaasHKgS98GA0xku7EJxKuga3hkbuyj9qJdamyVr86R+aX
         vABK3ycEf/s9ssj3smltQwWAUox3SS7iMyPL8=
MIME-Version: 1.0
Received: by 10.142.3.41 with SMTP id 41mr2770216wfc.291.1276402975970; Sat, 
	12 Jun 2010 21:22:55 -0700 (PDT)
Received: by 10.142.14.3 with HTTP; Sat, 12 Jun 2010 21:22:55 -0700 (PDT)
Date: Sun, 13 Jun 2010 12:22:55 +0800
Message-ID: <AANLkTimPpSlJBQWaGX-WrMf1-n4i0Jni7vzgXgXQcaco@mail.gmail.com>
Subject: how to patch?
From: Li Li <fancyerii@gmail.com>
To: solr-user@lucene.apache.org, java-user@lucene.apache.org
Content-Type: text/plain; charset=GB2312
Content-Transfer-Encoding: quoted-printable

I want to use fast highlighter in solr1.4 and find a issue in
https://issues.apache.org/jira/browse/SOLR-1268
  File Name                                       Date Attached  =A1=FC
             Attached By               Size
   SOLR-1268.patch                       2010-02-05 10:32 PM
     Koji Sekiguchi            4 kB
   SOLR-1268-0_fragsize.patch       2010-02-04 10:43 PM
Koji Sekiguchi            2 kB
   SOLR-1268-0_fragsize.patch       2010-01-29 11:51 PM
Koji Sekiguchi            1 kB
   SOLR-1268.patch                      2010-01-03 11:27 PM
     Koji Sekiguchi           48 kB
   SOLR-1268.patch                      2010-01-02 10:42 PM
     Koji Sekiguchi           35 kB

I am not familiar with patch. There are 3 patch named SOLR-1268, which
one shoud I use? I guess I should the newest one but it's so small.
SOLR-1268-0_fragsize also have 2 files

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46435-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jun 13 15:13:05 2010
Return-Path: <java-user-return-46435-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24042 invoked from network); 13 Jun 2010 09:55:17 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 13 Jun 2010 09:55:17 -0000
Received: (qmail 90203 invoked by uid 500); 13 Jun 2010 09:47:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89806 invoked by uid 500); 13 Jun 2010 09:47:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89798 invoked by uid 99); 13 Jun 2010 09:47:51 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Jun 2010 09:47:51 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=AWL,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [130.225.24.68] (HELO sbexch03.sb.statsbiblioteket.dk) (130.225.24.68)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Jun 2010 09:47:45 +0000
Received: from SBMAILBOX1.sb.statsbiblioteket.dk ([10.150.5.1]) by
 sbexch03.sb.statsbiblioteket.dk ([10.150.5.3]) with mapi; Sun, 13 Jun 2010
 11:47:23 +0200
From: Toke Eskildsen <te@statsbiblioteket.dk>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Sun, 13 Jun 2010 11:43:17 +0200
Subject: RE: Any Solid State Drive performance comparisons?
Thread-Topic: Any Solid State Drive performance comparisons?
Thread-Index: AcsKi83F5+CaScpUTNqwvfuXhOIKMAAUQwOv
Message-ID: <2E6A89A648463A4EBF093A9062C1668301D9D235D830@SBMAILBOX1.sb.statsbiblioteket.dk>
References: <AANLkTimnO3H-edEzWNn1T93GXJJzn8Lx19EX4PNPWjav@mail.gmail.com>
In-Reply-To: <AANLkTimnO3H-edEzWNn1T93GXJJzn8Lx19EX4PNPWjav@mail.gmail.com>
Accept-Language: en-US, da-DK
Content-Language: en-GB
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US, da-DK
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

Rob Bygrave [robin.bygrave@gmail.com] wrote:
> Has anyone done a performance comparison for an index on a Solid State Dr=
ive
> (vs any other hard drive ... SATA/SCSI)?

We did a fair amount of testing two years ago and put some graphs at http:/=
/wiki.statsbiblioteket.dk/summa/Hardware The short version is that they'll =
probably boost your raw search speed a lot. However, often all the web serv=
ice wrapping and similar is the main performance bottleneck.

Things has changes since then: CPU's, RAM and SSDs has gotten faster while =
hard disks has stayed the same, so the performance gap between SSDs and har=
ddisks has widened.=

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46436-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jun 13 15:15:08 2010
Return-Path: <java-user-return-46436-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39478 invoked from network); 13 Jun 2010 12:55:44 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 13 Jun 2010 12:55:44 -0000
Received: (qmail 59477 invoked by uid 500); 13 Jun 2010 12:55:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58962 invoked by uid 500); 13 Jun 2010 12:55:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58954 invoked by uid 99); 13 Jun 2010 12:55:38 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Jun 2010 12:55:38 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of robin.bygrave@gmail.com designates 209.85.213.176 as permitted sender)
Received: from [209.85.213.176] (HELO mail-yx0-f176.google.com) (209.85.213.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Jun 2010 12:55:33 +0000
Received: by yxd39 with SMTP id 39so1409854yxd.35
        for <java-user@lucene.apache.org>; Sun, 13 Jun 2010 05:55:12 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=uGxuzzI/YIKWgweQFp9a+BJtS6QdorM/SUtMromh0Oc=;
        b=G9zW4d6hLn1+/g9FaRKJSAc5lCothOau5wBm4SF+2bKWb6K2nWokNjFvOFYCAhpCWN
         rmtp8pOPzhjzuEPshHEUJ96KjYmrVO4SczWjgYYwcjyGmDgXZll1vs2eY3BX/MfFZnHY
         uLx6PYpNNToHzjjFalYk4KZnQizjLv9KXxpAw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=YkYTt3+2O7E6va3FiPDmvZw06GNeKqUm1QYSA+AmJFyLamFZnAYSBiCKGB2+npS+zj
         8DK34JCofs2utRmxTjuInc8pu86o9wyNUsI12vghPIcGg/oplFfv31TJAWdZp38lv7i1
         3WAUn7knu9o5j0DgDq/JdBsfZhbsHV5jVf15I=
MIME-Version: 1.0
Received: by 10.100.52.18 with SMTP id z18mr1661152anz.213.1276433712000; Sun, 
	13 Jun 2010 05:55:12 -0700 (PDT)
Received: by 10.100.93.13 with HTTP; Sun, 13 Jun 2010 05:55:11 -0700 (PDT)
In-Reply-To: <2E6A89A648463A4EBF093A9062C1668301D9D235D830@SBMAILBOX1.sb.statsbiblioteket.dk>
References: <AANLkTimnO3H-edEzWNn1T93GXJJzn8Lx19EX4PNPWjav@mail.gmail.com>
	<2E6A89A648463A4EBF093A9062C1668301D9D235D830@SBMAILBOX1.sb.statsbiblioteket.dk>
Date: Mon, 14 Jun 2010 00:55:11 +1200
Message-ID: <AANLkTike1cT9owikh6bEwgSLtdKOs7sOqOSyb6_SMP6M@mail.gmail.com>
Subject: Re: Any Solid State Drive performance comparisons?
From: Rob Bygrave <robin.bygrave@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e6465522fbafc70488e8e173

--0016e6465522fbafc70488e8e173
Content-Type: text/plain; charset=ISO-8859-1

Thanks !!

On Sun, Jun 13, 2010 at 9:43 PM, Toke Eskildsen <te@statsbiblioteket.dk>wrote:

> Rob Bygrave [robin.bygrave@gmail.com] wrote:
> > Has anyone done a performance comparison for an index on a Solid State
> Drive
> > (vs any other hard drive ... SATA/SCSI)?
>
> We did a fair amount of testing two years ago and put some graphs at
> http://wiki.statsbiblioteket.dk/summa/Hardware The short version is that
> they'll probably boost your raw search speed a lot. However, often all the
> web service wrapping and similar is the main performance bottleneck.
>
> Things has changes since then: CPU's, RAM and SSDs has gotten faster while
> hard disks has stayed the same, so the performance gap between SSDs and
> harddisks has widened.
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--0016e6465522fbafc70488e8e173--

From java-user-return-46437-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jun 13 15:15:44 2010
Return-Path: <java-user-return-46437-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43467 invoked from network); 13 Jun 2010 13:39:40 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 13 Jun 2010 13:39:40 -0000
Received: (qmail 78095 invoked by uid 500); 13 Jun 2010 13:39:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78040 invoked by uid 500); 13 Jun 2010 13:39:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78032 invoked by uid 99); 13 Jun 2010 13:39:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Jun 2010 13:39:37 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of naamakraus@gmail.com designates 74.125.82.48 as permitted sender)
Received: from [74.125.82.48] (HELO mail-ww0-f48.google.com) (74.125.82.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Jun 2010 13:39:29 +0000
Received: by wwb13 with SMTP id 13so2056245wwb.35
        for <java-user@lucene.apache.org>; Sun, 13 Jun 2010 06:39:09 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:from:date
         :message-id:subject:to:content-type;
        bh=Ju8dsJjXvM9adk+I+UCJH7Iw1kW6j0hm6vGB2/VxTYU=;
        b=Sbdo+aDrsEbRfOk/wqChML5WzSWWcC00pv/BWNq5gLdZLeTpugEIJhjMhhoWo9Rxzc
         SUeP5GV8nvcsyk1Q+vKsOzJgyR8GNnAe3umf+yTioCDRDVxr/DG71yKnpHg1wJY/hZDC
         rxNqvGZvTBOsEzf7xRna1obq2YcJOCiRTR1sM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:from:date:message-id:subject:to:content-type;
        b=BhOvEkBUYx9UmiFeUAINDANlFO1UqZ97MJ2/oUHqfD6NFHDa9swFroQ1R607VgdQOf
         R9eJ24mz//C5VXKXMQLbbb1ctThIktWbTjz45Il7Tzaw2sbcMNUK9s3+H/m65pCJ3KJs
         Qx8nPI3S15X77UecQJLCaaApV02+ex73maZpk=
Received: by 10.216.176.7 with SMTP id a7mr1191699wem.59.1276436349118; Sun, 
	13 Jun 2010 06:39:09 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.216.91.11 with HTTP; Sun, 13 Jun 2010 06:38:49 -0700 (PDT)
From: Naama Kraus <naamakraus@gmail.com>
Date: Sun, 13 Jun 2010 16:38:49 +0300
Message-ID: <AANLkTikc0P5gOOYbI-SA8tSYjRFHNNCQDkfEU2leT26y@mail.gmail.com>
Subject: Scores equality
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016364178072ae9e70488e97fcf
X-Virus-Checked: Checked by ClamAV on apache.org

--0016364178072ae9e70488e97fcf
Content-Type: text/plain; charset=ISO-8859-1

Hi All,

I wanted to ask regarding search results scores equality:
In case two documents get an equal score - how does Lucene "break" equality
?
I.e. by which criteria one document would be ranked before another ? Random
? Indexing time ? Anything else ?
Can I control this one somehow ?
(I am using Lucene 3).

Thanks for the input,
Naama

--0016364178072ae9e70488e97fcf--

From java-user-return-46438-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jun 13 15:15:46 2010
Return-Path: <java-user-return-46438-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43744 invoked from network); 13 Jun 2010 13:41:58 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 13 Jun 2010 13:41:58 -0000
Received: (qmail 80892 invoked by uid 500); 13 Jun 2010 13:41:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80752 invoked by uid 500); 13 Jun 2010 13:41:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80744 invoked by uid 99); 13 Jun 2010 13:41:55 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Jun 2010 13:41:55 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of naamakraus@gmail.com designates 74.125.82.48 as permitted sender)
Received: from [74.125.82.48] (HELO mail-ww0-f48.google.com) (74.125.82.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Jun 2010 13:41:49 +0000
Received: by wwb13 with SMTP id 13so2058017wwb.35
        for <java-user@lucene.apache.org>; Sun, 13 Jun 2010 06:41:28 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:from:date
         :message-id:subject:to:content-type;
        bh=suPpeQtBQGw5SBzemuLXRPvIGIVUaxC3B/DcJypD7zI=;
        b=YoI3xjTZyetYxmna77I8oQTsb0HGTJJg81o++Pm4v5IlW15XY8VqbWxyBwn9EzNDGF
         RjXuorxThy4XHmV9wQeoU9SoL5L7C0VL5mz5YXQgnak/iYXdZmlpCYxee9uDQq7S/PQc
         hKAIF+nfAd6EgbDKKrroq8QFhshKYNOIBnDQE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:from:date:message-id:subject:to:content-type;
        b=w3T43USN56mP0jvRf60LR9SBHXOUTMxxjRNbw3uc+Uy6R6jvK0GOsKpiDE2yH+upUy
         H83ZijlhmemjtpBRdtkXNCAHRogapGeBrUpQIhL/Nac4Pm1rv+8Urx4dPtF4uJkR1ngK
         whVpTxQWGm0WZ4H4/m/B7gUz84S7XE3iaaAAo=
Received: by 10.227.69.200 with SMTP id a8mr4380231wbj.30.1276436488099; Sun, 
	13 Jun 2010 06:41:28 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.216.91.11 with HTTP; Sun, 13 Jun 2010 06:41:08 -0700 (PDT)
From: Naama Kraus <naamakraus@gmail.com>
Date: Sun, 13 Jun 2010 16:41:08 +0300
Message-ID: <AANLkTimXwmVLWyyDDtAYLX2__JOoFPIpW2sPDRYgiBiP@mail.gmail.com>
Subject: Long queries evaluation
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e657b03a7397ed0488e987f6

--0016e657b03a7397ed0488e987f6
Content-Type: text/plain; charset=ISO-8859-1

Hi All,

I have several questions with regard to long queries evaluation. I'd
appreciate your input.
In case this issue is documented somewhere, I'd be glad for any pointers.

How does long queries effect search performance ? E.g. a search query
composed of few tens of term ? Few hundreds of terms ? (Generated
programmatic-ally).
Does Lucene really walks through posting lists of **all** terms  in query
("SHOULD" occur is used) ? Or Lucene has a policy of pruning some of the
terms ?
Or maybe Lucene prunes some of the candidate documents upfront ? If so,
what's the policy used ?

(I am using Lucene 3).

Thanks, Naama

--0016e657b03a7397ed0488e987f6--

From java-user-return-46439-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jun 13 15:54:52 2010
Return-Path: <java-user-return-46439-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43998 invoked from network); 13 Jun 2010 15:54:52 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 13 Jun 2010 15:54:52 -0000
Received: (qmail 88872 invoked by uid 500); 13 Jun 2010 14:05:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88816 invoked by uid 500); 13 Jun 2010 14:05:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88808 invoked by uid 99); 13 Jun 2010 14:05:29 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Jun 2010 14:05:29 +0000
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=AWL,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erickerickson@gmail.com designates 209.85.211.186 as permitted sender)
Received: from [209.85.211.186] (HELO mail-yw0-f186.google.com) (209.85.211.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Jun 2010 14:05:23 +0000
Received: by ywh16 with SMTP id 16so1577249ywh.21
        for <java-user@lucene.apache.org>; Sun, 13 Jun 2010 07:05:02 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=SYzbIKzeRNN9Ly+HyV8fISbbsrV7XtzANSkWcA6/TCg=;
        b=nYXZdc41/WrOZGnogd3GChZjUTkpsau7w2JDaHn42lfOnKB45FQWPojkHVs/b+OFkT
         eYZrLugpT2lkYhdvtCPDI33PcX+HjcY6UqGT+Z7UTPFxn60bK4sFM2C111NVPr0/DH0S
         gKpoXRxatFX9pKS2e/HxhufAQGONJXdvAiAkc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=tRsWASrBIQPFlIEgtjaWqRInDJssstrhmh5z5MfftJ9v2bkQMCXCQlyROgeLWQ4JmL
         BzHyjwaJEAHTpxNDopsWlCKL9pOeNFVy5IqEW6oC8xDZPOxTrjJk2aeTrzz4W+4oVI2V
         4IwGCV0+n6vDx8tXjQ+QtyfsPNB0V4Ut9FWLI=
MIME-Version: 1.0
Received: by 10.150.241.17 with SMTP id o17mr5535793ybh.415.1276437902493; 
	Sun, 13 Jun 2010 07:05:02 -0700 (PDT)
Received: by 10.151.148.19 with HTTP; Sun, 13 Jun 2010 07:05:02 -0700 (PDT)
In-Reply-To: <AANLkTikc0P5gOOYbI-SA8tSYjRFHNNCQDkfEU2leT26y@mail.gmail.com>
References: <AANLkTikc0P5gOOYbI-SA8tSYjRFHNNCQDkfEU2leT26y@mail.gmail.com>
Date: Sun, 13 Jun 2010 10:05:02 -0400
Message-ID: <AANLkTinuptv8GMv8J6flDcCBXz9aPSuH9S0bpvIR6xid@mail.gmail.com>
Subject: Re: Scores equality
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=000e0cd6a716c187d10488e9db67

--000e0cd6a716c187d10488e9db67
Content-Type: text/plain; charset=ISO-8859-1

Last I knew, ties were decided by the internal document id.

you can control this any way you want, just include a Sort
object in your query with multiple SortFields. Two pre-defined
SortFields types you can use are FIELD_SCORE and
FIELD_DOC and you can add any number of other fields to sort by,
see the API for Sort and SortField...

The default is pretty much equivalent to a Sort object with two
SortFields, the two mentioned above...

HTH
Erick

On Sun, Jun 13, 2010 at 9:38 AM, Naama Kraus <naamakraus@gmail.com> wrote:

> Hi All,
>
> I wanted to ask regarding search results scores equality:
> In case two documents get an equal score - how does Lucene "break" equality
> ?
> I.e. by which criteria one document would be ranked before another ? Random
> ? Indexing time ? Anything else ?
> Can I control this one somehow ?
> (I am using Lucene 3).
>
> Thanks for the input,
> Naama
>

--000e0cd6a716c187d10488e9db67--

From java-user-return-46440-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jun 13 15:59:54 2010
Return-Path: <java-user-return-46440-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47147 invoked from network); 13 Jun 2010 15:59:53 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 13 Jun 2010 15:59:53 -0000
Received: (qmail 91736 invoked by uid 500); 13 Jun 2010 14:10:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91683 invoked by uid 500); 13 Jun 2010 14:10:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91675 invoked by uid 99); 13 Jun 2010 14:10:31 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Jun 2010 14:10:31 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of naamakraus@gmail.com designates 74.125.82.48 as permitted sender)
Received: from [74.125.82.48] (HELO mail-ww0-f48.google.com) (74.125.82.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Jun 2010 14:10:25 +0000
Received: by wwb13 with SMTP id 13so2080778wwb.35
        for <java-user@lucene.apache.org>; Sun, 13 Jun 2010 07:10:04 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type;
        bh=4yslfLG7WFRt2YWCYkUIwfOUM+cuWrfUbfWooxEH9g4=;
        b=Lck7hk72bEKtOs8wyylodEN0Aa2NIr7KQgJj02d5kOmlJDitFrtppEjjB6b3ia9ljI
         IHPW9Lgo3FekqltBRCeJbzLOGTrM204kQmsjbjlCWMiaJvrEeFI+nj9grCvhjQlIw3oy
         /j9ccruRbB9oOs2qLDCk9kh1ml1+VpO+tA0pg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=cSal4lC+qKVUqGCvm44iZp//XoqDDQc9j4kQJVy0FLzeZK/G+u1lJTj4PWeJExfvbt
         PLl/rHWRy3tVGoof/ZSQCSSUhI82OZoJjEHFYDtm57+rcrhpKqO96j39ySngI2KtNABP
         BDHKr2Pq91qjzzH07Otrh9zqr1G+Y83p/jTL8=
Received: by 10.216.172.80 with SMTP id s58mr1208929wel.60.1276438204203; Sun, 
	13 Jun 2010 07:10:04 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.216.91.11 with HTTP; Sun, 13 Jun 2010 07:09:44 -0700 (PDT)
In-Reply-To: <AANLkTinuptv8GMv8J6flDcCBXz9aPSuH9S0bpvIR6xid@mail.gmail.com>
References: <AANLkTikc0P5gOOYbI-SA8tSYjRFHNNCQDkfEU2leT26y@mail.gmail.com> 
	<AANLkTinuptv8GMv8J6flDcCBXz9aPSuH9S0bpvIR6xid@mail.gmail.com>
From: Naama Kraus <naamakraus@gmail.com>
Date: Sun, 13 Jun 2010 17:09:44 +0300
Message-ID: <AANLkTikculeBfXbX0eFcCFne-cd6lhPttO4A9jjU2GeX@mail.gmail.com>
Subject: Re: Scores equality
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=001636416aa1bd41f40488e9edd5

--001636416aa1bd41f40488e9edd5
Content-Type: text/plain; charset=ISO-8859-1

Thanks a lot, this is very helpful !
Naama

On Sun, Jun 13, 2010 at 5:05 PM, Erick Erickson <erickerickson@gmail.com>wrote:

> Last I knew, ties were decided by the internal document id.
>
> you can control this any way you want, just include a Sort
> object in your query with multiple SortFields. Two pre-defined
> SortFields types you can use are FIELD_SCORE and
> FIELD_DOC and you can add any number of other fields to sort by,
> see the API for Sort and SortField...
>
> The default is pretty much equivalent to a Sort object with two
> SortFields, the two mentioned above...
>
> HTH
> Erick
>
> On Sun, Jun 13, 2010 at 9:38 AM, Naama Kraus <naamakraus@gmail.com> wrote:
>
> > Hi All,
> >
> > I wanted to ask regarding search results scores equality:
> > In case two documents get an equal score - how does Lucene "break"
> equality
> > ?
> > I.e. by which criteria one document would be ranked before another ?
> Random
> > ? Indexing time ? Anything else ?
> > Can I control this one somehow ?
> > (I am using Lucene 3).
> >
> > Thanks for the input,
> > Naama
> >
>

--001636416aa1bd41f40488e9edd5--

From java-user-return-46441-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jun 13 22:52:06 2010
Return-Path: <java-user-return-46441-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48683 invoked from network); 13 Jun 2010 22:52:06 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 13 Jun 2010 22:52:06 -0000
Received: (qmail 10094 invoked by uid 500); 13 Jun 2010 22:52:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10039 invoked by uid 500); 13 Jun 2010 22:52:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10024 invoked by uid 99); 13 Jun 2010 22:52:03 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Jun 2010 22:52:03 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of goksron@gmail.com designates 209.85.212.48 as permitted sender)
Received: from [209.85.212.48] (HELO mail-vw0-f48.google.com) (209.85.212.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Jun 2010 22:51:56 +0000
Received: by vws4 with SMTP id 4so3402830vws.35
        for <java-user@lucene.apache.org>; Sun, 13 Jun 2010 15:51:35 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=JpYpxNhxA/xbdGfDTvjcOI1CLlIB/i0EZzp31sab9D8=;
        b=JRxyORgCcN597tdcyQdNrB4GfdzZc94JxaPOifDz++SHa/11kjovVUTdZTcEO5skQH
         5HA++OoZvpThuQWRcCLtctXrhTS6Lc98uxBPFlA2NTAgcs8oKyFp8XnXEvUG3YKUW3Qp
         8GPPEsg9TYwDRRCLD35VBSkKv2uDfcS2Kmv1k=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=Ietrw4xZUtKlMQ9aeo0siZiQIthDZtp7nztGmWiGS3klEFmZN1AMh5MYua7X6HXJ8z
         pq9MoXEbbGl+VW7X2GgVFQYlOo44eDDPA0sr0UNH4Hcgeo2Nr2lEx0kfsbL5gKQXW40G
         KPoN6RQ//jJWH1VzhMj8+qZ8VCdapFUa75lQU=
MIME-Version: 1.0
Received: by 10.229.221.142 with SMTP id ic14mr1814169qcb.207.1276469495455; 
	Sun, 13 Jun 2010 15:51:35 -0700 (PDT)
Received: by 10.229.33.14 with HTTP; Sun, 13 Jun 2010 15:51:35 -0700 (PDT)
In-Reply-To: <01C4AEE04EB96243BBAA8083CB6514E866B7D820@MBX03.exg5.exghost.com>
References: <027401cb07de$a3c6a5b0$eb53f110$@com>
	<01C4AEE04EB96243BBAA8083CB6514E866B7D820@MBX03.exg5.exghost.com>
Date: Sun, 13 Jun 2010 15:51:35 -0700
Message-ID: <AANLkTin03AgMWzjj0OiW3F_o3GRvSjXY5gdi7ydcM9Hw@mail.gmail.com>
Subject: Re: A question bout google search index?
From: Lance Norskog <goksron@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

http://research.google.com/pubs/DistributedSystemsandParallelComputing.html

On Thu, Jun 10, 2010 at 1:51 AM, Yuval Feinstein <yuvalf@answers.com> wrote:
> Most of the implementation of Google's search index is kept secret by Google.
> Based on publicly available information, the indexes are quite different -
> Google uses its BigTable and MapReduce technologies to efficiently distribute the index.
> There are similar efforts in the Lucene ecosystem - Solr Cloud is an advanced one,
> Which is currently in development.
> As Google's scoring algorithm uses hundreds of signals, I guess they store data pertinent to these signals in the index.
> Lucene's index holds relatively few pieces of information about every document (posting lists, term vectors,
> Sometimes norms and payloads).
> I believe there are other differences as well,
> But one could only guess what they are...
> Cheers,
> Yuval
>
>
> -----Original Message-----
> From: luocanrao [mailto:luocan19826164@sohu.com]
> Sent: Wednesday, June 09, 2010 5:18 PM
> To: java-user@lucene.apache.org
> Subject: A question bout google search index?
>
> A news bout google search index. Index system of Lucene can also support
> realtime search,
>
> Is there some difference between them?
>
>
>
> With Caffeine, we analyze the web in small portions and update our search
> index on a continuous basis, globally. As we find new pages, or new
> information on existing pages, we can add these straight to the index. That
> means you can find fresher information than ever before-no matter when or
> where it was published.
>
>
>
> Caffeine lets us index web pages on an enormous scale. In fact, every second
> Caffeine processes hundreds of thousands of pages in parallel. If this were
> a pile of paper it would grow three miles taller every second. Caffeine
> takes up nearly 100 million gigabytes of storage in one database and adds
> new information at a rate of hundreds of thousands of gigabytes per day. You
> would need 625,000 of the largest iPods to store that much information; if
> these were stacked end-to-end they would go for more than 40 miles
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>



-- 
Lance Norskog
goksron@gmail.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46442-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jun 13 23:21:06 2010
Return-Path: <java-user-return-46442-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56019 invoked from network); 13 Jun 2010 23:21:05 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 13 Jun 2010 23:21:05 -0000
Received: (qmail 18154 invoked by uid 500); 13 Jun 2010 23:21:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18098 invoked by uid 500); 13 Jun 2010 23:21:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18088 invoked by uid 99); 13 Jun 2010 23:21:03 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Jun 2010 23:21:03 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of goksron@gmail.com designates 209.85.212.48 as permitted sender)
Received: from [209.85.212.48] (HELO mail-vw0-f48.google.com) (209.85.212.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Jun 2010 23:20:55 +0000
Received: by vws4 with SMTP id 4so3438393vws.35
        for <java-user@lucene.apache.org>; Sun, 13 Jun 2010 16:20:34 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=XOr8CfS4DnnxPWr8RC033GEC+PXoav9mPyxKwq6/TiA=;
        b=JhDj2QM7JrN0BH1wPBShTRRB6nWnrRL1pUhETUonc9PMoMh1mHiEtOoCaNpzZtQdM9
         76kZevrPxScUOW0UkNB/eWuJ2905INPyW/LVyMN2+la5CpIxxLgOA4NhRoZFuNDP7ZAa
         TaYUyLAoTgkBcuKX8O0fMc391DJ/Io+vmD5N0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=MQ966bwUo0/kWBCFhvGt6KZORDRm1ZAeI4gxwbV/3LdOTh7Adc2iuF20PedoRFSfyZ
         EFdNstLVSFtPxXdhBw007OrUdYKG+cDFU6BXEVg7n5ObVhmaXtMMpTrGGLk3eaLNGDUL
         WDx5VWlmOzskJT5W+9uVSvb8G0TVsqhCq5kOs=
MIME-Version: 1.0
Received: by 10.224.94.83 with SMTP id y19mr1713690qam.71.1276471234258; Sun, 
	13 Jun 2010 16:20:34 -0700 (PDT)
Received: by 10.229.33.14 with HTTP; Sun, 13 Jun 2010 16:20:33 -0700 (PDT)
In-Reply-To: <AANLkTil0YsFPzALnNIXEau7NoOexMLyer2y2aTugoKPG@mail.gmail.com>
References: <AANLkTil0YsFPzALnNIXEau7NoOexMLyer2y2aTugoKPG@mail.gmail.com>
Date: Sun, 13 Jun 2010 16:20:33 -0700
Message-ID: <AANLkTikBh8oMkv_r_XwBIeyCY4ERE5H3K8kjkqIO9qtU@mail.gmail.com>
Subject: Re: segment_N file is missed
From: Lance Norskog <goksron@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

The CheckIndex class/program will recreate the segment files when it
removes a segment from an index. That's the only source I've found for
how to make these files.

If you are able to hack this up, making a CFSDirectory would be a
wonderful addition to the Lucene Directory suite. A CFS file is a
complete Lucene index and it is much much easier to deploy single
files than file sets.

On Wed, Jun 9, 2010 at 6:33 AM, maryam ma'danipour
<m.madanipour@gmail.com> wrote:
> Hello to all !
> =C2=A0I have _0.cfs file of a lucene index directory but segments.gen and
> segments_2 are missing. Can I generate the segments.gen and segments_2 fi=
les
> without having to regenerate the _0.cfs file. Does these "segments" files
> contain any index specific data, which will thus force me to regenerate t=
he
> entire index again. Or can I just generate the two "segments" file by
> copying these from another lucene index directory generated with the same
> lucene version or can I merge this inex with another index which has
> segments_N to retrieve the data ?
>
> Thanks
>



--=20
Lance Norskog
goksron@gmail.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46443-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 14 14:35:35 2010
Return-Path: <java-user-return-46443-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25414 invoked from network); 14 Jun 2010 14:35:15 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 14 Jun 2010 14:35:15 -0000
Received: (qmail 14403 invoked by uid 500); 14 Jun 2010 14:07:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14288 invoked by uid 500); 14 Jun 2010 14:07:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14280 invoked by uid 99); 14 Jun 2010 14:07:13 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Jun 2010 14:07:13 +0000
X-ASF-Spam-Status: No, hits=-1.0 required=10.0
	tests=AWL,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [88.198.2.104] (HELO koch.ro) (88.198.2.104)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Jun 2010 14:07:07 +0000
Received: from 84-72-85-88.dclient.hispeed.ch ([84.72.85.88] helo=jona.localnet)
	by koch.ro with esmtpsa (TLS1.0:DHE_RSA_AES_256_CBC_SHA1:32)
	(Exim 4.69)
	(envelope-from <thomas@koch.ro>)
	id 1OOAAO-0001G0-7W
	for java-user@lucene.apache.org; Mon, 14 Jun 2010 15:57:32 +0200
From: Thomas Koch <thomas@koch.ro>
Reply-To: thomas@koch.ro
To: java-user@lucene.apache.org
Subject: Introduction to flexible indexing?
Date: Mon, 14 Jun 2010 16:06:38 +0200
User-Agent: KMail/1.13.3 (Linux/2.6.32-4-amd64; KDE/4.4.4; x86_64; ; )
MIME-Version: 1.0
Content-Type: Text/Plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Message-Id: <201006141606.39309.thomas@koch.ro>

Hi,

I've heard about flexible indexing in the talk Simon Willnauer and Uwe 
Schindler at BerlinBuzzwords.de last week.
Now I'd like to get into this flexible indexing thing, but don't find any 
documentation about it. Reading all three issues (1458, 2111, 2354) with all 
comments would take a long time and it wouldn't be clear, which information 
stated there is still current.

Could sb. with more insights please create a Wiki page on flexible indexing 
and copy all text from the three issues that are still current over to this 
wiki page? 
I'd then read and try to understand this page and help to get it in shape.

Best regards,

Thomas Koch, http://www.koch.ro

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46444-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 14 17:21:00 2010
Return-Path: <java-user-return-46444-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74029 invoked from network); 14 Jun 2010 17:21:00 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 14 Jun 2010 17:21:00 -0000
Received: (qmail 57388 invoked by uid 500); 14 Jun 2010 17:20:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57291 invoked by uid 500); 14 Jun 2010 17:20:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57277 invoked by uid 99); 14 Jun 2010 17:20:56 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Jun 2010 17:20:56 +0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=FREEMAIL_FROM,SPF_HELO_PASS,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: 216.139.236.158 is neither permitted nor denied by domain of sirishreddy@gmail.com)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Jun 2010 17:20:50 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <sirishreddy@gmail.com>)
	id 1OODKn-0005WD-7L
	for java-user@lucene.apache.org; Mon, 14 Jun 2010 10:20:29 -0700
Date: Mon, 14 Jun 2010 10:20:29 -0700 (PDT)
From: Sirish Vadala <sirishreddy@gmail.com>
To: java-user@lucene.apache.org
Message-ID: <1276536029221-895092.post@n3.nabble.com>
In-Reply-To: <AANLkTikfareUOBme6rOjJy9iLMxWLLwQP8XyocNvhN1B@mail.gmail.com>
References: <1276281116729-889310.post@n3.nabble.com> <AANLkTikfareUOBme6rOjJy9iLMxWLLwQP8XyocNvhN1B@mail.gmail.com>
Subject: Re: Problem using TopFieldCollector
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org


Thanks for the response.

Yeah, eventually I choose to extend the Collector method, since none of the
other collectors viz. TopFieldCollector, TopDocsCollector does allow me to
extend them and override.

I could not grasp what exactly the below means:


Rebecca Watson wrote:
> 
> i keep a copy of the current indexreader + docBase, and used the
> indexreader.document
> method to get the doc/field values required in the collect method.
> 
> note that the docBase is used to keep/get the global docid but the doc
> passed
> to the .collect method relates to the current indexreader. i.e.
> global-docid = docBase + docid
> 

The documentation says:

NOTE: The doc that is passed to the collect method is relative to the
current reader. If your collector needs to resolve this to the docID space
of the Multi*Reader, you must re-base it by recording the docBase from the
most recent setNextReader call.

In my current collect method implementation, I use searcher.doc(doc) as
shown below:

	public void collect(int doc) throws IOException {
		try {
                        ... ... ... ... ...
			Document document = searcher.doc(doc);
                        ... ... ... ... ...
		} catch (CorruptIndexException e) {
			System.err.println("ERROR: " + e.getMessage());
		} catch (IOException e) {
			System.err.println("ERROR: " + e.getMessage());
		}
	}

Does this mean I am getting a wrong document, since I am not adding the
docBase?

I will do some research and use a hitqueue to sort the records in collector.

Also I haven't done any profiling to see the difference in the cost due to
the filed-loads. I would profile the test case and check the difference in
cost. But in most likely case, I need to filter the records as per user
requirement, that eventually leads to field load.

One more discovery though :)
Now I cannot use collector.topDocs().scoreDocs; if I extend collector. Looks
like I have to save the records in another variable in the collector and
retrieve.

Changing the entire implementation and specification makes it difficult to
migrate.

Thanks anyway.


Rebecca Watson wrote:
> 
> you sort in the collector anyway? -- using a custom hitqueue? in which
> case you'd
> use the global docid in the hitqueue / any filters created through the
> collector.
> 
> also, we ended up having to re-engineer our system so that we didn't
> use field-loads
> as this was a bottleneck in our system... maybe you should think about
> merging
> the two advanced/text documents together even if this duplicates
> information in your
> index so you don't have to do field loads...
> not sure if you've profiled to see the difference in cost?
> 
> hope that helps,
> 
> bec :)
> 

-- 
View this message in context: http://lucene.472066.n3.nabble.com/Problem-using-TopFieldCollector-tp889310p895092.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46445-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 14 20:54:29 2010
Return-Path: <java-user-return-46445-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46246 invoked from network); 14 Jun 2010 20:54:29 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 14 Jun 2010 20:54:29 -0000
Received: (qmail 93790 invoked by uid 500); 14 Jun 2010 20:54:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93727 invoked by uid 500); 14 Jun 2010 20:54:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93717 invoked by uid 99); 14 Jun 2010 20:54:26 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Jun 2010 20:54:26 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.213.176] (HELO mail-yx0-f176.google.com) (209.85.213.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Jun 2010 20:54:20 +0000
Received: by yxd39 with SMTP id 39so2209155yxd.35
        for <java-user@lucene.apache.org>; Mon, 14 Jun 2010 13:53:59 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.150.252.13 with SMTP id z13mr7982184ybh.76.1276548509072; Mon, 
	14 Jun 2010 13:48:29 -0700 (PDT)
Received: by 10.151.41.9 with HTTP; Mon, 14 Jun 2010 13:48:28 -0700 (PDT)
In-Reply-To: <201006141606.39309.thomas@koch.ro>
References: <201006141606.39309.thomas@koch.ro>
Date: Mon, 14 Jun 2010 16:48:28 -0400
Message-ID: <AANLkTimsPz-2hHiU_W-gEizHFyD_-f1i_WSU6jIbd1hw@mail.gmail.com>
Subject: Re: Introduction to flexible indexing?
From: Michael McCandless <lucene@mikemccandless.com>
To: java-user@lucene.apache.org, thomas@koch.ro
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

Alas there is no wiki page yet; I will get one started!

Mike

On Mon, Jun 14, 2010 at 10:06 AM, Thomas Koch <thomas@koch.ro> wrote:
> Hi,
>
> I've heard about flexible indexing in the talk Simon Willnauer and Uwe
> Schindler at BerlinBuzzwords.de last week.
> Now I'd like to get into this flexible indexing thing, but don't find any
> documentation about it. Reading all three issues (1458, 2111, 2354) with all
> comments would take a long time and it wouldn't be clear, which information
> stated there is still current.
>
> Could sb. with more insights please create a Wiki page on flexible indexing
> and copy all text from the three issues that are still current over to this
> wiki page?
> I'd then read and try to understand this page and help to get it in shape.
>
> Best regards,
>
> Thomas Koch, http://www.koch.ro
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46446-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 15 05:28:02 2010
Return-Path: <java-user-return-46446-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27449 invoked from network); 15 Jun 2010 05:28:02 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 15 Jun 2010 05:28:02 -0000
Received: (qmail 88760 invoked by uid 500); 15 Jun 2010 03:38:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88454 invoked by uid 500); 15 Jun 2010 03:38:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88442 invoked by uid 99); 15 Jun 2010 03:38:35 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Jun 2010 03:38:35 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=AWL,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jdixon@omniti.com designates 8.8.38.6 as permitted sender)
Received: from [8.8.38.6] (HELO edge.omniti.com) (8.8.38.6)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Jun 2010 03:38:29 +0000
DKIM-Signature: v=1; a=rsa-sha256; d=omniti.com; s=s1024; c=relaxed/relaxed;
	q=dns/txt; i=@omniti.com; t=1276573071;
	h=From:Subject:Date:To;
	bh=fcTp9JvINuMjraDaL8IFq6pQtqaoHIjjqR3Loya4xLU=;
	b=kQw1a6nMMIJcjBu/VrwGcLBVPthvFUnVzWOFqLmAQOOJ16WkCKsYh76hHIg9aXcd
	X8MYbnDfkDoLJfZRvDv/iqIdFcgjI7tR42Mfw2t31nD97ZbSWGb5jMNCLIUbO8dR
	QFAmf7/lmiQ+c8BNn5RhspSjBquPwU4bWjGWAIKLIbk=;
Authentication-Results:  edge smtp.user=jdixon@omniti.com; auth=pass (LOGIN)
Received: from [68.55.0.29] ([68.55.0.29:61450] helo=omniti.com)
	by edge (envelope-from <jdixon@omniti.com>)
	(ecelerity 2.2.2.35 r(26636M)) with ESMTPSA (cipher=AES256-SHA) 
	id C0/4C-17327-F85F61C4; Mon, 14 Jun 2010 23:37:51 -0400
Date: Mon, 14 Jun 2010 23:37:48 -0400
From: Jason Dixon <jdixon@omniti.com>
To: java-user@lucene.apache.org
Subject: CFP for Surge Scalability Conference 2010
Message-ID: <20100615033748.GI29381@omniti.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.5.18 (2008-05-17)

We're excited to announce Surge, the Scalability and Performance
Conference, to be held in Baltimore on Sept 30 and Oct 1, 2010.  The
event focuses on case studies that demonstrate successes (and failures)
in Web applications and Internet architectures.

Our Keynote speakers include John Allspaw and Theo Schlossnagle.  We are
currently accepting submissions for the Call For Papers through July
9th.  You can find more information, including our current list of
speakers, online:

http://omniti.com/surge/2010

If you've been to Velocity, or wanted to but couldn't afford it, then
Surge is just what you've been waiting for.  For more information,
including CFP, sponsorship of the event, or participating as an
exhibitor, please contact us at surge@omniti.com.

Thanks,

-- 
Jason Dixon
OmniTI Computer Consulting, Inc.
jdixon@omniti.com
443.325.1357 x.241

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46447-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 15 06:28:53 2010
Return-Path: <java-user-return-46447-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55589 invoked from network); 15 Jun 2010 06:28:53 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 15 Jun 2010 06:28:53 -0000
Received: (qmail 295 invoked by uid 500); 15 Jun 2010 06:28:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99667 invoked by uid 500); 15 Jun 2010 06:28:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99658 invoked by uid 99); 15 Jun 2010 06:28:46 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Jun 2010 06:28:46 +0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=AWL,FREEMAIL_FROM,FREEMAIL_REPLY,HTML_MESSAGE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of m.madanipour@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Jun 2010 06:28:40 +0000
Received: by fxm6 with SMTP id 6so3522421fxm.35
        for <java-user@lucene.apache.org>; Mon, 14 Jun 2010 23:28:18 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=dXt4Bj3caACiemdJsI3SV4cMPIIDTnSNpgext/pG1cg=;
        b=UjzVtkHjMDtJ0YSdM5zpcbyfLAoOw0/lJWP7+HBkr6EnwR4/FifK9Lvfu7ruff6Tzb
         zQz4ITHL1TqKgIpbt0K87meppcWiqT7LNfyBYQlkdghEASlDh+0vsmzEdn3qn1rVCf8K
         kS+c9STKWuwIF0makD9H4YT5OwFGUF183yp04=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=UQdnIEXoCUnQYPLTbKdTx4UlKvPZmuBdryM5swyrJStj/i62e43GdtSbVmx0tgJAqU
         piPrO6PswZogF2ldqKI1Wlk2ZOAh/ZOJzt8CjEb/n54ECHSnNuga8wZ7Lh2r52h6kNRJ
         58+ZvI0VwSIiyvPSlEZeECCoD0ljLblO4BZwU=
MIME-Version: 1.0
Received: by 10.239.167.145 with SMTP id g17mr419395hbe.123.1276583298579; 
	Mon, 14 Jun 2010 23:28:18 -0700 (PDT)
Received: by 10.239.191.199 with HTTP; Mon, 14 Jun 2010 23:28:18 -0700 (PDT)
In-Reply-To: <AANLkTikBh8oMkv_r_XwBIeyCY4ERE5H3K8kjkqIO9qtU@mail.gmail.com>
References: <AANLkTil0YsFPzALnNIXEau7NoOexMLyer2y2aTugoKPG@mail.gmail.com>
	<AANLkTikBh8oMkv_r_XwBIeyCY4ERE5H3K8kjkqIO9qtU@mail.gmail.com>
Date: Tue, 15 Jun 2010 10:58:18 +0430
Message-ID: <AANLkTikRvMEW1g9zKta_kxxQeGyDCuCAV3Ki1ni8dBsK@mail.gmail.com>
Subject: Re: segment_N file is missed
From: "maryam ma'danipour" <m.madanipour@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=001485f03caa09be8904890bb627

--001485f03caa09be8904890bb627
Content-Type: text/plain; charset=ISO-8859-1

Hello .
thanks so much for your reply
I've checked CheckIndex class. but this class can not make a new segment_N
if there isn't any even a new one.
at first it needs to have a segment_N to reproduce it otherwise it throws
nullPointerException.
 There is some information about what is written in segment_N in douments of

lucene and somehow I could regenerate this file, but still this file has
some problems with checksum.
I can't make a right checksum for this file, so when indexsearcher wants to
search this index it throws an exception
which tells the checksum isn't matched.

Regards
Madanipour



On Mon, Jun 14, 2010 at 3:50 AM, Lance Norskog <goksron@gmail.com> wrote:

> The CheckIndex class/program will recreate the segment files when it
> removes a segment from an index. That's the only source I've found for
> how to make these files.
>
> If you are able to hack this up, making a CFSDirectory would be a
> wonderful addition to the Lucene Directory suite. A CFS file is a
> complete Lucene index and it is much much easier to deploy single
> files than file sets.
>
> On Wed, Jun 9, 2010 at 6:33 AM, maryam ma'danipour
> <m.madanipour@gmail.com> wrote:
> > Hello to all !
> >  I have _0.cfs file of a lucene index directory but segments.gen and
> > segments_2 are missing. Can I generate the segments.gen and segments_2
> files
> > without having to regenerate the _0.cfs file. Does these "segments" files
> > contain any index specific data, which will thus force me to regenerate
> the
> > entire index again. Or can I just generate the two "segments" file by
> > copying these from another lucene index directory generated with the same
> > lucene version or can I merge this inex with another index which has
> > segments_N to retrieve the data ?
> >
> > Thanks
> >
>
>
>
> --
> Lance Norskog
> goksron@gmail.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--001485f03caa09be8904890bb627--

From java-user-return-46448-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 15 06:38:57 2010
Return-Path: <java-user-return-46448-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57578 invoked from network); 15 Jun 2010 06:38:57 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 15 Jun 2010 06:38:57 -0000
Received: (qmail 15254 invoked by uid 500); 15 Jun 2010 06:38:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14785 invoked by uid 500); 15 Jun 2010 06:38:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14777 invoked by uid 99); 15 Jun 2010 06:38:50 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Jun 2010 06:38:50 +0000
X-ASF-Spam-Status: No, hits=2.8 required=10.0
	tests=FREEMAIL_FROM,FREEMAIL_REPLYTO,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of simon.willnauer@googlemail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Jun 2010 06:38:44 +0000
Received: by fxm6 with SMTP id 6so3526847fxm.35
        for <java-user@lucene.apache.org>; Mon, 14 Jun 2010 23:38:24 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:reply-to
         :in-reply-to:references:date:message-id:subject:from:to:cc
         :content-type;
        bh=h7orDwxBG9TV7uOYn1lK9wDqhJ7AtccXpfaJKkOXnCE=;
        b=tbYATnrQNTop9s612JTrbK6dHclEk3ZUjvQ1jY2hXLNB3A74mbE6BRhzgPg+y+Ajr8
         SWhDajOIoywQADzUpT3O5JYsf9bjXEeXFRMFnjs+p+J1MO2ZAky7fUx8BYv5kmm0w5RS
         AYb0DxgNuY3ZCoJxNIh3sddHLauuwMCwmYKjI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=mime-version:reply-to:in-reply-to:references:date:message-id
         :subject:from:to:cc:content-type;
        b=bwFmcjSIktQvqukvPBwgltvsNIqqh2epA1Sn3sqjw03vFf5P5qHuZ9zDxUN+O8XFCk
         +9WGuKjWM7QxHGnuAK+WP7ahfv1RB3Hzkt+euOScRUVC8aDeKzjHRSpwgODpJcIdY5RD
         z5A6NMF1TW3FRW0eipQt7tDNWjUXYImMSKCPA=
MIME-Version: 1.0
Received: by 10.239.174.70 with SMTP id i6mr484941hbf.180.1276583904411; Mon, 
	14 Jun 2010 23:38:24 -0700 (PDT)
Received: by 10.239.152.13 with HTTP; Mon, 14 Jun 2010 23:38:24 -0700 (PDT)
Reply-To: simon.willnauer@gmail.com
In-Reply-To: <AANLkTimsPz-2hHiU_W-gEizHFyD_-f1i_WSU6jIbd1hw@mail.gmail.com>
References: <201006141606.39309.thomas@koch.ro>
	<AANLkTimsPz-2hHiU_W-gEizHFyD_-f1i_WSU6jIbd1hw@mail.gmail.com>
Date: Tue, 15 Jun 2010 08:38:24 +0200
Message-ID: <AANLkTikkFqom3WX1PS_Z-v9Zn7di9UM14dyGDvWzQQsu@mail.gmail.com>
Subject: Re: Introduction to flexible indexing?
From: Simon Willnauer <simon.willnauer@googlemail.com>
To: java-user@lucene.apache.org
Cc: thomas@koch.ro
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Mon, Jun 14, 2010 at 10:48 PM, Michael McCandless
<lucene@mikemccandless.com> wrote:
> Alas there is no wiki page yet; I will get one started!

Actually there is one, http://wiki.apache.org/lucene-java/FlexibleIndexing

This page is not of huge help I guess but it can get you started and
point you to the right issues.

simon

>
> Mike
>
> On Mon, Jun 14, 2010 at 10:06 AM, Thomas Koch <thomas@koch.ro> wrote:
>> Hi,
>>
>> I've heard about flexible indexing in the talk Simon Willnauer and Uwe
>> Schindler at BerlinBuzzwords.de last week.
>> Now I'd like to get into this flexible indexing thing, but don't find any
>> documentation about it. Reading all three issues (1458, 2111, 2354) with all
>> comments would take a long time and it wouldn't be clear, which information
>> stated there is still current.
>>
>> Could sb. with more insights please create a Wiki page on flexible indexing
>> and copy all text from the three issues that are still current over to this
>> wiki page?
>> I'd then read and try to understand this page and help to get it in shape.
>>
>> Best regards,
>>
>> Thomas Koch, http://www.koch.ro
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46449-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 15 07:35:20 2010
Return-Path: <java-user-return-46449-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74488 invoked from network); 15 Jun 2010 07:35:20 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 15 Jun 2010 07:35:20 -0000
Received: (qmail 57990 invoked by uid 500); 15 Jun 2010 07:35:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57621 invoked by uid 500); 15 Jun 2010 07:35:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57613 invoked by uid 99); 15 Jun 2010 07:35:14 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Jun 2010 07:35:14 +0000
X-ASF-Spam-Status: No, hits=4.4 required=10.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of manjula53@gmail.com designates 209.85.212.48 as permitted sender)
Received: from [209.85.212.48] (HELO mail-vw0-f48.google.com) (209.85.212.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Jun 2010 07:35:06 +0000
Received: by vws4 with SMTP id 4so6040574vws.35
        for <java-user@lucene.apache.org>; Tue, 15 Jun 2010 00:34:45 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=sNDIdp4pe4po77cOWHfYSQeWSeqLeZwFClaeJlp0kdU=;
        b=Fe/t6ZQivzbDHZc8SX3f3QrtOyzsGNrbMc8mPQ+rZ/Ol0005zF7yKsTlwfDhiCTgRl
         324F0eWMHm44BYkg3aXKKFEQETREhbZK2xWfliFPjXizQT//WSnne0j3jG52t/h6a+pJ
         PFrM1I1DncJDBZC84yFTZ3sCBe3BoDreWf9mo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=xNBc1JC8mumhFh5VHjC5yUiY1PC6lho5OmSdWS6iiji0BHwNWt3mPmyQzYwvC7FL9G
         xDWdhxHes5amQ8L6UPZxqQtn490IJS9KNaI5j/lHRUBHx7/JMJIzL0H0vVCfqQOHK8V8
         jQv2jWNeT9KOE4QIGnezW89YUY6Ha9y4hbjVY=
MIME-Version: 1.0
Received: by 10.220.47.216 with SMTP id o24mr3653142vcf.226.1276587284677; 
	Tue, 15 Jun 2010 00:34:44 -0700 (PDT)
Received: by 10.220.177.10 with HTTP; Tue, 15 Jun 2010 00:34:44 -0700 (PDT)
In-Reply-To: <AANLkTimlqhjqUCEYJ4N3kvC73tqUlV4UCX654bLIkfuc@mail.gmail.com>
References: <AANLkTikCILMTuJia0WggB7uXA0P2Jn6CxuMpI4RLXucV@mail.gmail.com>
	<AANLkTimlqhjqUCEYJ4N3kvC73tqUlV4UCX654bLIkfuc@mail.gmail.com>
Date: Tue, 15 Jun 2010 13:04:44 +0530
Message-ID: <AANLkTins0CMe3Ows_9hwZ-VI-b4QtEnncMuX8OYMAQTa@mail.gmail.com>
Subject: Re: How to get file names instead of paths?
From: manjula wijewickrema <manjula53@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e64713aaa0c6dc04890ca38e
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e64713aaa0c6dc04890ca38e
Content-Type: text/plain; charset=ISO-8859-1

Dear Ian,

The segment you have suggested, working nicely. Thanx a lot for your kind
help.

Manjula.

On Fri, Jun 11, 2010 at 4:00 PM, Ian Lea <ian.lea@gmail.com> wrote:

> Something like this
>
> File f = new File(path);
> String fn = f.getName();
> return fn.substring(0, fn.lastIndexOf("."));
>
>
> --
> Ian.
>
>
> On Fri, Jun 11, 2010 at 11:20 AM, manjula wijewickrema
> <manjula53@gmail.com> wrote:
> > Hi,
> >
> > Using the following programme I was able to get the entire file path of
> > indexed files which matched with the given queries. But my intention is
> to
> > get only the file names even without .txt extention as I need to send
> these
> > file names as labels to another application. So, pls. let me know how can
> I
> > get only the file names in the following code.
> >
> > Thanx in advance!
> > Manjula.
> >
> >
> > My code:
> >
> > *
> >
> > public* *class* LuceneDemo {
> >
> > *public* *static* *final* String *FILES_TO_INDEX_DIRECTORY* =
> "filesToIndex"
> > ;
> >
> > *public* *static* *final* String *INDEX_DIRECTORY* = "indexDirectory";
> >
> > *public* *static* *final* String *FIELD_PATH* = "path";
> >
> > *public* *static* *final* String *FIELD_CONTENTS* = "contents";
> >
> > *public* *static* *void* main(String[] args) *throws* Exception {
> >
> > *createIndex*();
> >
> > *searchIndex*("rice");
> >
> > *searchIndex*("milk");
> >
> > *searchIndex*("banana");
> >
> > *searchIndex*("foo");
> >
> >  }
> >
> > *public* *static* *void* createIndex() *throws* CorruptIndexException,
> > LockObtainFailedException, IOException {
> >
> >  SnowballAnalyzer analyzer = *new* SnowballAnalyzer( "English",
> > StopAnalyzer.ENGLISH_STOP_WORDS);
> >
> > *boolean* recreateIndexIfExists = *true*;
> >
> > IndexWriter indexWriter = *new* IndexWriter(*INDEX_DIRECTORY*, analyzer,
> > recreateIndexIfExists);
> >
> > File dir = *new* File(*FILES_TO_INDEX_DIRECTORY*);
> >
> > File[] files = dir.listFiles();
> >
> > *for* (File file : files) {
> >
> > Document document = *new* Document();
> >
> > String path = file.getCanonicalPath();
> >
> > document.add(*new* Field(*FIELD_PATH*, path, Field.Store.*YES*,
> Field.Index.
> > UN_TOKENIZED,Field.TermVector.*YES*));
> >
> > Reader reader = *new* FileReader(file);
> >
> > document.add(*new* Field(*FIELD_CONTENTS*, reader));
> >
> > indexWriter.addDocument(document);
> >
> >  }
> >
> > indexWriter.optimize();
> >
> > indexWriter.close();
> >
> > }
> >
> > *public* *static* *void* searchIndex(String searchString)
> > *throws*IOException, ParseException {
> >
> > System.*out*.println("Searching for '" + searchString + "'");
> >
> > Directory directory = FSDirectory.getDirectory(*INDEX_DIRECTORY*);
> >
> > IndexReader indexReader = IndexReader.open(directory);
> >
> > IndexSearcher indexSearcher = *new* IndexSearcher(indexReader);
> >
> >  SnowballAnalyzer analyzer = *new* SnowballAnalyzer( "English",
> > StopAnalyzer.ENGLISH_STOP_WORDS);
> >
> > QueryParser queryParser = *new* QueryParser(*FIELD_CONTENTS*, analyzer);
> >
> > Query query = queryParser.parse(searchString);
> >
> > Hits hits = indexSearcher.search(query);
> >
> > System.*out*.println("Number of hits: " + hits.length());
> >
> > TopDocs results = indexSearcher.search(query,10);
> >
> > ScoreDoc[] hits1 = results.scoreDocs;
> >
> > *for* (ScoreDoc hit : hits1) {
> >
> > Document doc = indexSearcher.doc(hit.doc);
> >
> > System.*out*.printf("%5.3f %s\n",hit.score,doc.get(*FIELD_CONTENTS*));
> >
> > }
> >
> >  Iterator<Hit> it = hits.iterator();
> >
> > *while* (it.hasNext()) {
> >
> > Hit hit = it.next();
> >
> > Document document = hit.getDocument();
> >
> > String path = document.get(*FIELD_PATH*);
> >
> > System.*out*.println("Hit: " + path);
> >
> > }
> >
> > }
> >
> > }
> >
>
>  ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--0016e64713aaa0c6dc04890ca38e--

From java-user-return-46450-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 15 07:56:26 2010
Return-Path: <java-user-return-46450-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78740 invoked from network); 15 Jun 2010 07:56:26 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 15 Jun 2010 07:56:26 -0000
Received: (qmail 76530 invoked by uid 500); 15 Jun 2010 07:56:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76025 invoked by uid 500); 15 Jun 2010 07:56:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76016 invoked by uid 99); 15 Jun 2010 07:56:20 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Jun 2010 07:56:20 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=AWL,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [130.225.24.68] (HELO sbexch03.sb.statsbiblioteket.dk) (130.225.24.68)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Jun 2010 07:56:14 +0000
Received: from [172.18.218.253] (172.18.218.253) by
 sbexch03.sb.statsbiblioteket.dk (130.225.24.68) with Microsoft SMTP Server id
 8.1.436.0; Tue, 15 Jun 2010 09:55:52 +0200
Subject: Re: is this the right way to go?
From: Toke Eskildsen <te@statsbiblioteket.dk>
Reply-To: te@statsbiblioteket.dk
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
In-Reply-To: <1276135397107-884302.post@n3.nabble.com>
References: <1276114966071-883464.post@n3.nabble.com>
	 <AANLkTimfasPb9JXV1YcQc2K_KzOO_O40hY2kDAj8LDEI@mail.gmail.com>
	 <1276135397107-884302.post@n3.nabble.com>
Content-Type: text/plain; charset="UTF-8"
Organization: State and University Library, Denmark
Date: Tue, 15 Jun 2010 09:56:01 +0200
Message-ID: <1276588561.2569.48.camel@te-laptop>
MIME-Version: 1.0
X-Mailer: Evolution 2.28.3 
Content-Transfer-Encoding: 7bit

On Thu, 2010-06-10 at 04:03 +0200, fujian wrote:
> Another thing is about unique. I thought it was unique "field value". If it
> means unique term, for English even loading all around 300,000 terms it
> won't take much memory, right? (Suppose the average length of term is 10,
> the total memory usage is 10*300,000=3MB)

It is only the unique field values, but remember that there is also an
array of length #docs with pointers to the strings that takes up 4 or 8
bytes/pointer, depending on 32bit/64bit JVM. Furthermore, the current
Lucene uses Strings which takes up a lot more than just #chars bytes:
300.000 Strings of average length 10 chars is is about 18MB.
http://www.javamex.com/tutorials/memory/string_memory_usage.shtml


I'm quietly hacking on a solution for this, but the current code is
still at the proof of concept-stage and way too flaky to use for
production: https://issues.apache.org/jira/browse/LUCENE-2369


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46451-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 15 09:20:36 2010
Return-Path: <java-user-return-46451-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8574 invoked from network); 15 Jun 2010 09:20:36 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 15 Jun 2010 09:20:36 -0000
Received: (qmail 67038 invoked by uid 500); 15 Jun 2010 09:20:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66538 invoked by uid 500); 15 Jun 2010 09:20:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66530 invoked by uid 99); 15 Jun 2010 09:20:30 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Jun 2010 09:20:30 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=10.0
	tests=AWL,RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.160.176] (HELO mail-gy0-f176.google.com) (209.85.160.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Jun 2010 09:20:25 +0000
Received: by gyf1 with SMTP id 1so4237630gyf.35
        for <java-user@lucene.apache.org>; Tue, 15 Jun 2010 02:20:04 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.151.18.12 with SMTP id v12mr8160924ybi.153.1276593604112; Tue, 
	15 Jun 2010 02:20:04 -0700 (PDT)
Received: by 10.151.41.9 with HTTP; Tue, 15 Jun 2010 02:20:04 -0700 (PDT)
In-Reply-To: <1276588561.2569.48.camel@te-laptop>
References: <1276114966071-883464.post@n3.nabble.com>
	<AANLkTimfasPb9JXV1YcQc2K_KzOO_O40hY2kDAj8LDEI@mail.gmail.com>
	<1276135397107-884302.post@n3.nabble.com>
	<1276588561.2569.48.camel@te-laptop>
Date: Tue, 15 Jun 2010 05:20:04 -0400
Message-ID: <AANLkTiniqVurMZabxvPNuKhnfgoxOC61P2qgypWRAPil@mail.gmail.com>
Subject: Re: is this the right way to go?
From: Michael McCandless <lucene@mikemccandless.com>
To: java-user@lucene.apache.org, te@statsbiblioteket.dk
Content-Type: text/plain; charset=ISO-8859-1

Also remember that a String object in Java has a high overhead -- the
object header (maybe 8 bytes), 3 int fields, a pointer (4 or 8 bytes)
to the (separate) char[], and then another object header for that
char[], and 2 bytes per character in the string.

Lucene trunk (4.0-dev) has cutover to shared byte[] holding the term
data as UTF8 encoded bytes, and mapping the doc -> ordinal using
packed ints... this is a sizable memory reduction in most cases.

Details are in https://issues.apache.org/jira/browse/LUCENE-2380

Mike

On Tue, Jun 15, 2010 at 3:56 AM, Toke Eskildsen <te@statsbiblioteket.dk> wrote:
> On Thu, 2010-06-10 at 04:03 +0200, fujian wrote:
>> Another thing is about unique. I thought it was unique "field value". If it
>> means unique term, for English even loading all around 300,000 terms it
>> won't take much memory, right? (Suppose the average length of term is 10,
>> the total memory usage is 10*300,000=3MB)
>
> It is only the unique field values, but remember that there is also an
> array of length #docs with pointers to the strings that takes up 4 or 8
> bytes/pointer, depending on 32bit/64bit JVM. Furthermore, the current
> Lucene uses Strings which takes up a lot more than just #chars bytes:
> 300.000 Strings of average length 10 chars is is about 18MB.
> http://www.javamex.com/tutorials/memory/string_memory_usage.shtml
>
>
> I'm quietly hacking on a solution for this, but the current code is
> still at the proof of concept-stage and way too flaky to use for
> production: https://issues.apache.org/jira/browse/LUCENE-2369
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46452-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 15 09:23:37 2010
Return-Path: <java-user-return-46452-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8961 invoked from network); 15 Jun 2010 09:23:37 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 15 Jun 2010 09:23:37 -0000
Received: (qmail 69307 invoked by uid 500); 15 Jun 2010 09:23:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69028 invoked by uid 500); 15 Jun 2010 09:23:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69019 invoked by uid 99); 15 Jun 2010 09:23:32 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Jun 2010 09:23:32 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.160.176] (HELO mail-gy0-f176.google.com) (209.85.160.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Jun 2010 09:23:24 +0000
Received: by gyf1 with SMTP id 1so4238660gyf.35
        for <java-user@lucene.apache.org>; Tue, 15 Jun 2010 02:23:03 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.150.63.17 with SMTP id l17mr8297506yba.115.1276593783449; Tue, 
	15 Jun 2010 02:23:03 -0700 (PDT)
Received: by 10.151.41.9 with HTTP; Tue, 15 Jun 2010 02:23:03 -0700 (PDT)
In-Reply-To: <AANLkTikRvMEW1g9zKta_kxxQeGyDCuCAV3Ki1ni8dBsK@mail.gmail.com>
References: <AANLkTil0YsFPzALnNIXEau7NoOexMLyer2y2aTugoKPG@mail.gmail.com>
	<AANLkTikBh8oMkv_r_XwBIeyCY4ERE5H3K8kjkqIO9qtU@mail.gmail.com>
	<AANLkTikRvMEW1g9zKta_kxxQeGyDCuCAV3Ki1ni8dBsK@mail.gmail.com>
Date: Tue, 15 Jun 2010 05:23:03 -0400
Message-ID: <AANLkTinXe-VsAeIQcYUYUV5oh-sjKQcm3WAsL-vCk0cx@mail.gmail.com>
Subject: Re: segment_N file is missed
From: Michael McCandless <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

CheckIndex is not able to recover from this corruption (missing
segments_N file); this would be a nice addition...

But it sounds like you've worked out a way to write your own segmetns_N?

Use oal.store.ChecksumIndexOutput (wraps any other IndexOutput) to
properly write the checksum.

BTW how did you lose your segments_N file...?

Mike

On Tue, Jun 15, 2010 at 2:28 AM, maryam ma'danipour
<m.madanipour@gmail.com> wrote:
> Hello .
> thanks so much for your reply
> I've checked CheckIndex class. but this class can not make a new segment_=
N
> if there isn't any even a new one.
> at first it needs to have a segment_N to reproduce it otherwise it throws
> nullPointerException.
> =A0There is some information about what is written in segment_N in doumen=
ts of
>
> lucene and somehow I could regenerate this file, but still this file has
> some problems with checksum.
> I can't make a right checksum for this file, so when indexsearcher wants =
to
> search this index it throws an exception
> which tells the checksum isn't matched.
>
> Regards
> Madanipour
>
>
>
> On Mon, Jun 14, 2010 at 3:50 AM, Lance Norskog <goksron@gmail.com> wrote:
>
>> The CheckIndex class/program will recreate the segment files when it
>> removes a segment from an index. That's the only source I've found for
>> how to make these files.
>>
>> If you are able to hack this up, making a CFSDirectory would be a
>> wonderful addition to the Lucene Directory suite. A CFS file is a
>> complete Lucene index and it is much much easier to deploy single
>> files than file sets.
>>
>> On Wed, Jun 9, 2010 at 6:33 AM, maryam ma'danipour
>> <m.madanipour@gmail.com> wrote:
>> > Hello to all !
>> > =A0I have _0.cfs file of a lucene index directory but segments.gen and
>> > segments_2 are missing. Can I generate the segments.gen and segments_2
>> files
>> > without having to regenerate the _0.cfs file. Does these "segments" fi=
les
>> > contain any index specific data, which will thus force me to regenerat=
e
>> the
>> > entire index again. Or can I just generate the two "segments" file by
>> > copying these from another lucene index directory generated with the s=
ame
>> > lucene version or can I merge this inex with another index which has
>> > segments_N to retrieve the data ?
>> >
>> > Thanks
>> >
>>
>>
>>
>> --
>> Lance Norskog
>> goksron@gmail.com
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46453-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 15 10:15:16 2010
Return-Path: <java-user-return-46453-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25993 invoked from network); 15 Jun 2010 10:15:16 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 15 Jun 2010 10:15:16 -0000
Received: (qmail 31218 invoked by uid 500); 15 Jun 2010 10:15:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30738 invoked by uid 500); 15 Jun 2010 10:15:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30730 invoked by uid 99); 15 Jun 2010 10:15:10 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Jun 2010 10:15:10 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.160.176] (HELO mail-gy0-f176.google.com) (209.85.160.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Jun 2010 10:15:05 +0000
Received: by gyf1 with SMTP id 1so4256337gyf.35
        for <java-user@lucene.apache.org>; Tue, 15 Jun 2010 03:14:43 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.150.252.13 with SMTP id z13mr8709616ybh.76.1276596883715; Tue, 
	15 Jun 2010 03:14:43 -0700 (PDT)
Received: by 10.151.41.9 with HTTP; Tue, 15 Jun 2010 03:14:43 -0700 (PDT)
In-Reply-To: <AANLkTikkFqom3WX1PS_Z-v9Zn7di9UM14dyGDvWzQQsu@mail.gmail.com>
References: <201006141606.39309.thomas@koch.ro>
	<AANLkTimsPz-2hHiU_W-gEizHFyD_-f1i_WSU6jIbd1hw@mail.gmail.com>
	<AANLkTikkFqom3WX1PS_Z-v9Zn7di9UM14dyGDvWzQQsu@mail.gmail.com>
Date: Tue, 15 Jun 2010 06:14:43 -0400
Message-ID: <AANLkTikeX4WFzCb8i6pbruSOdrNzAV6Qt4Kej7LlOHS6@mail.gmail.com>
Subject: Re: Introduction to flexible indexing?
From: Michael McCandless <lucene@mikemccandless.com>
To: java-user@lucene.apache.org, simon.willnauer@gmail.com
Cc: thomas@koch.ro
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

OK I updated that wiki page w/ details about what's been committed to 4.0-dev...

Mike

On Tue, Jun 15, 2010 at 2:38 AM, Simon Willnauer
<simon.willnauer@googlemail.com> wrote:
> On Mon, Jun 14, 2010 at 10:48 PM, Michael McCandless
> <lucene@mikemccandless.com> wrote:
>> Alas there is no wiki page yet; I will get one started!
>
> Actually there is one, http://wiki.apache.org/lucene-java/FlexibleIndexing
>
> This page is not of huge help I guess but it can get you started and
> point you to the right issues.
>
> simon
>
>>
>> Mike
>>
>> On Mon, Jun 14, 2010 at 10:06 AM, Thomas Koch <thomas@koch.ro> wrote:
>>> Hi,
>>>
>>> I've heard about flexible indexing in the talk Simon Willnauer and Uwe
>>> Schindler at BerlinBuzzwords.de last week.
>>> Now I'd like to get into this flexible indexing thing, but don't find any
>>> documentation about it. Reading all three issues (1458, 2111, 2354) with all
>>> comments would take a long time and it wouldn't be clear, which information
>>> stated there is still current.
>>>
>>> Could sb. with more insights please create a Wiki page on flexible indexing
>>> and copy all text from the three issues that are still current over to this
>>> wiki page?
>>> I'd then read and try to understand this page and help to get it in shape.
>>>
>>> Best regards,
>>>
>>> Thomas Koch, http://www.koch.ro
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46454-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 15 16:36:53 2010
Return-Path: <java-user-return-46454-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82128 invoked from network); 15 Jun 2010 16:36:53 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 15 Jun 2010 16:36:53 -0000
Received: (qmail 71353 invoked by uid 500); 15 Jun 2010 16:36:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71107 invoked by uid 500); 15 Jun 2010 16:36:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71099 invoked by uid 99); 15 Jun 2010 16:36:49 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Jun 2010 16:36:49 +0000
X-ASF-Spam-Status: No, hits=1.6 required=10.0
	tests=AWL,FREEMAIL_FROM,SPF_HELO_PASS,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 216.139.236.158 is neither permitted nor denied by domain of sirishreddy@gmail.com)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Jun 2010 16:36:44 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <sirishreddy@gmail.com>)
	id 1OOZ7f-0007cg-MI
	for java-user@lucene.apache.org; Tue, 15 Jun 2010 09:36:23 -0700
Date: Tue, 15 Jun 2010 09:36:23 -0700 (PDT)
From: Sirish Vadala <sirishreddy@gmail.com>
To: java-user@lucene.apache.org
Message-ID: <1276619783684-897633.post@n3.nabble.com>
In-Reply-To: <1276536029221-895092.post@n3.nabble.com>
References: <1276281116729-889310.post@n3.nabble.com> <AANLkTikfareUOBme6rOjJy9iLMxWLLwQP8XyocNvhN1B@mail.gmail.com> <1276536029221-895092.post@n3.nabble.com>
Subject: Re: Problem using TopFieldCollector
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit


I was able to get this whole thing to work using the delegation pattern. In
my custom collector object, internally delegate to the TopFieldCollector
after doing my custom processing.  

Thanks.
-- 
View this message in context: http://lucene.472066.n3.nabble.com/Problem-using-TopFieldCollector-tp889310p897633.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46455-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 15 23:11:18 2010
Return-Path: <java-user-return-46455-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9433 invoked from network); 15 Jun 2010 23:11:18 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 15 Jun 2010 23:11:18 -0000
Received: (qmail 53235 invoked by uid 500); 15 Jun 2010 23:11:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53102 invoked by uid 500); 15 Jun 2010 23:11:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53094 invoked by uid 99); 15 Jun 2010 23:11:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Jun 2010 23:11:14 +0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=AWL,FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.136.167.18] (HELO web113318.mail.gq1.yahoo.com) (98.136.167.18)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 15 Jun 2010 23:11:07 +0000
Received: (qmail 11432 invoked by uid 60001); 15 Jun 2010 23:10:46 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1276643445; bh=K2086aD/QRhddOE280ZnQ2gbT7eA6pjJSyHB4zZhYAI=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type; b=isPt1qciI+ok/Zc7/jVL3oP1G6zsW35PcLUvuExTdUxsjG+tDLIJv9eXDSuC2mA52KSWE6ir8W+40VtxR85L1nUSfUhOV9cK605kbL5knsXxweq/FC8wUc0VOVxyN55W5HlWJjf3YmEgn/MV2xJbONC5FoXaY0Ulzhs6dxtI/Yg=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type;
  b=g5NAe8Oe/uA3Zgjpq8Y3kR2v6yG4zN+/HERSg8eVzoUKu0PmcGm2sMDfpQjmzgZ9n3i0j6vEFJCHfF/EgxciaVEIQwtTuCZoH9ICqpl1QozP1K8S5nAGFbqRcNOvfW+Gi8m1AG9IHtv5KruXeX9d7M3P9Jt0G05qRFJeAMZfFoI=;
Message-ID: <982228.7769.qm@web113318.mail.gq1.yahoo.com>
X-YMail-OSG: nssl60sVM1n8DsAGsCWI.qQsxJ0.h4Sc.3uYnVVIeQ2MF0S
 cRkxMrzpo.s4jI_AmoaLwCbpGiY0S5mXHAKdDd_HZ6UN12oQM3WdbkDozhZs
 zBxRDhzBlf7E1f_8j254M7.TmerLOxYj8XP74KgDGc6JpCYs3FA6Cn.dwSeh
 UWSiU145s4F8hbUBkuG2hMBHfRiZsZuSlDg1XST4rwbEg1PpHe._S8UdjmD_
 HHiDyeS7ASHcXMrWdPQ705d2Y6LkV5YNBLXAouOKhNk3.xuykuZMByoVUtLk
 xMplqxIB7jWyBxUkv7bGVHZ7XRh243pzyNMHnRyqNYNkwFUoQ7uknH4U-
Received: from [140.244.128.12] by web113318.mail.gq1.yahoo.com via HTTP; Tue, 15 Jun 2010 16:10:45 PDT
X-Mailer: YahooMailClassic/11.1.4 YahooMailWebService/0.8.103.269680
Date: Tue, 15 Jun 2010 16:10:45 -0700 (PDT)
From: Ivan Provalov <iprovalo@yahoo.com>
Subject: Lucene 2.4.0 vs 2.9.1 Query Grouping
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/mixed; boundary="0-1127697293-1276643445=:7769"

--0-1127697293-1276643445=:7769
Content-Type: text/plain; charset=us-ascii

Came across a 2.4.0 bug.  The attached unit test demonstrates that if you have 1000 documents in the query and use grouping, the query doesn't work as expected (returns 92 results).  The same query in 2.9.1 (see pom.xml) works as expected.  Is there a documented defect on this issue?

Thanks,

Ivan Provalov


      
--0-1127697293-1276643445=:7769
Content-Type: application/zip; name="GroupingQueryTest.zip"
Content-Transfer-Encoding: base64
Content-Disposition: attachment; filename="GroupingQueryTest.zip"

UEsDBBQAAAAIAHSXzzy3z0ygwwAAAGoBAAAcAAAAR3JvdXBpbmdRdWVyeVRl
c3QvLmNsYXNzcGF0aJ2QsQrCMBCGZwXfIWQsmOjm0FqkKOigIDrLkR41ml5K
khZ9e2ul6CAObvdz//fBXZzeSsMadF5bSvhUTDhDUjbXVCT8eFiNZzydj4ax
MuB9BeHchsE7IQV3Z5qUqV9IFMlIXKABzq6a8oR7pzh7VrtRlqBJdnv5zfRi
lKWesa4QqIyuPAoNpbjkQSjrUJTQIGU9nVkKrRndH9qn0kBN6txeIDb75Snb
bQ+L9Xa5/2Wzdajq0AsDuAKD7JroOy6Wn097AFBLAwQUAAAACAAylc88XCEs
/egAAABKAgAAGgAAAEdyb3VwaW5nUXVlcnlUZXN0Ly5wcm9qZWN0rVJBasMw
EDy30D8E32Mltx4UB5KQkEuhNH2AIi9GwVqJlWTS31dS5QYTSnvobWeY2RlW
4uur7mcDkFMGV9WyXlQzQGlahd2qej/t58/Vunl65JbMBaTfgZOkrI/qyD5w
FBqaA5lgo+E1AH2cwHnOMp8E0mgN6BvOximxZZvLgE3QOai+fbMgEypwG60C
28yUTENdDbJX1kF9aX0tDcVBDCIbgG4VokNQF1K2K5hNCc7uUv6Uq4S+ZWsx
AB5REqTFot/8R4/CjOeIFXwgKOov8EujlyxKLbL4J+PkhHjnGeeU/P1e07/w
CVBLAwQKAAAAAACclM88AAAAAAAAAAAAAAAAHAAAAEdyb3VwaW5nUXVlcnlU
ZXN0Ly5zZXR0aW5ncy9QSwMEFAAAAAgAoZTPPP8OPg3fAAAAdQIAADYAAABH
cm91cGluZ1F1ZXJ5VGVzdC8uc2V0dGluZ3Mvb3JnLmVjbGlwc2UuamR0LmNv
cmUucHJlZnOVkE1rAyEQhu+B/Aehd1kb+kFgL6ENNJTSQ+jd1XcXi44yaqD/
vi5pz9m9yCDzzPtxd64Qp0pCPQj1vN897TslXl/O4r5T3XYD413KkIkxgkEG
WV7A2UXq1XYTeZL/K9+2SBMZ7QnJeXAbLCaQdOQd4ZT58FMwf/YgPXjYpQeK
5gnl0+syRg69ko9LyUo1w75Ho33fMmTwBbfZkLzTLesSJYuhTnIO+FHDAO6b
LFiXmzJ/4GztS7ObC1nJ5ljZ4OhWgIlj0wlS51ZFebOg4kbXXIM58lIaVMNa
9mr22ugvUEsDBAoAAAAAAJyUzzwAAAAAAAAAAAAAAAAWAAAAR3JvdXBpbmdR
dWVyeVRlc3QvYmluL1BLAwQKAAAAAADnlM88AAAAAAAAAAAAAAAAFwAAAEdy
b3VwaW5nUXVlcnlUZXN0L2RhdGEvUEsDBAoAAAAAAMiWzzwAAAAAAAAAAAAA
AAAcAAAAR3JvdXBpbmdRdWVyeVRlc3QvZGF0YS90ZXN0L1BLAwQKAAAAAAAl
mM88AAAAAAAAAAAAAAAAJQAAAEdyb3VwaW5nUXVlcnlUZXN0L2RhdGEvdGVz
dC9ncm91cGluZy9QSwMEFAAAAAgAJZjPPFavp/cLAAAAFAAAADEAAABHcm91
cGluZ1F1ZXJ5VGVzdC9kYXRhL3Rlc3QvZ3JvdXBpbmcvc2VnbWVudHMuZ2Vu
+////z8GCOCF0QBQSwMEFAAAAAgAIJjPPOJMigu3AAAA4gAAAC8AAABHcm91
cGluZ1F1ZXJ5VGVzdC9kYXRhL3Rlc3QvZ3JvdXBpbmcvc2VnbWVudHNfY/v/
//93BgZGTdtLocIMQAYIM8UbMDAwv/iPBBjBBANUBTtTfjFXeGZeSn55sUJE
AFd+sV5ZalFxZn4es6meIVtxfmlRciprWk5pcQZfTmlyal4qTF7JSM9Sz1DB
wtjI2MxYQVfByMDAUtfQUNfAWMHAxMrY3MrIlB1oWmJRcgZzhYUZT1ZiWSJM
L4ehnpmeQbyhCTdUFGh/kWhwaZ6Cb2ZyUX5xZXFJam6xgmdesh4DFHz8XWUB
AFBLAwQUAAAACAAlmM88Pd+jEhUAAAAcAAAALwAAAEdyb3VwaW5nUXVlcnlU
ZXN0L2RhdGEvdGVzdC9ncm91cGluZy9zZWdtZW50c19k+////08GBkZN2xu2
PQxI4HKkTjQAUEsDBBQAAAAIACCYzzxNqCFKxBgAAAlmAAArAAAAR3JvdXBp
bmdRdWVyeVRlc3QvZGF0YS90ZXN0L2dyb3VwaW5nL18wLmNmc+zaa1Rl512A
cfZ97/e2z/1irEmttdbaNslkkoy1NjWtscYktrXWWmtSezPW3tLWWtuaQURE
RERERESKiIiIiIiIiAQRERERERERCSJSRESkiIiUMj1P1uhXy6eEM4t5Zs+Z
eQ/rrP1/f++aOWFZ6fFx/9HbX/b+J95XunLfdePyI49/uHR56+KNy3e/n2dv
3Sg9+3jp8rZHv/DsEx8qXb5o7wuX7/zB0uUDV25cfvAJLh+8pfTsRx5+w0Nn
n7x8XD4uH8/6x9nZ2f+Uxt/5zPlP18+/Eudfosy6vcw6/4V1R5l143H7jdjP
5Pw37fMfd5ZypZS7Srlayt2l3FPKvaVcuxHrmb9+MYvdeZGLXbnIxe66yMWu
XuRid1/kYvdc5GL3XuRi1y5usbLS37schP/PYpeD8GwahCulNS8H4XIQntuD
cFdpzctBuByE5/YgXC2teTkIl4Pw3B6Eu0trXg7CFzMI9he/2M1BuIDFbg7C
BSx2cxAuYLGbg3ABi90chC96sbLSb/7vQbiAb/DmIFzAYjcH4QIWuzkIF7DY
5SA8mwbh3tKal4NwOQjP7UFgzctBuByE5/IgfO7s7Cy2/Nc8cv+jDz9i3fzf
t7Lw//zvW9nZjT93/stCmXPnHecvtWc9eT0oc67ceb7YZ63r1o2Lu+46f/ED
Lq5evXbzmbvvOf9+jkoX9j3nT5zxxLXbz5/43BcuLCc7bc1Ys9acNW8tWIvW
krVsrVj5VWvNWrc2rE1ry9q2dqzd89cu7p+/zuH5isfWiXV6vlq5XWHfUmlX
2dV2jV1r19n1doPdaDfZz2u2W+xWu81utzvsTrvL7rZ77Ft77T673x6wB+0h
e9gesUftMfv54/aEPWlP2dP2jD1rz9nz9oL9gkV7yV62V+xVe81etzfsTXvL
fuG2vWPv2nv2vn1gH9pH9rF9Yr/o1D6zy50Kp9KpcqqdGqfWqXO8F9c7DU6j
0+Q0Oy1Oq9PmtDsdzks6nS6n2+lxep0+p98ZcAadIeelw86IM+qMOePOhDPp
TDnTzozz8llnzpl3FpxFZ8lZdlacVWfNuWPd2XA2nS1n29lxdp09Z985cK4c
OkfOsXPinDpnTrlb4Va6Ve7VarfGrXXr3Hq3wW10m9xmt8W9p9Vtc9vdDrfT
7XK73R631+1zr/W7A+6gO+QOuyPuqDvmjrsT7ism3Sl32p1xZ905d95dcBfd
JTd45bK74q66a+66u+FuulvutrvjvmrX3XP33QP30D1yj90T99Q9c19d7lV4
lV6VV+3VeLVenVfvNXj3N3pNXrPX4rV6bV671+F1el3ea7u9Hq/X6/P6vQFv
0Bvyhr0R74FRb8wb9ya8SW/Km/ZmvFlvznvdvLfgLXpL3rK34q16a966t+E9
uOltedvejrfr7Xn73oF36B15Dx17J96pd+aV+xV+pV/lV/s1/iO1fp1f7zf4
jX6T3+y3+K1+mx+9vt3v8Dv9Lr/b7/F7/T6/3x/w3zjoD/nD/og/6o/54/6E
P+lP+W+a9mf8WX/On/cX/EV/yV/2V/w3r/pr/rq/4W/6W/62v+Pv+nv+W/b9
A//QP/KP/RP/1D/zy4OK4K2VQVVQHdQEtUFdUB80BI1BU/C25qAlaA3agvag
I+gMuoLuoCd4tDfoC/qDgWAwGAqGg5FgNBgL3j4eTASTwVQwHcwEs8FcMB8s
BO9YDJaC5WAlWA3WgvVgI9gMtgL5ru1gJ9gN9oL94CA4DI6C4+AkeM9pcBaU
hxVhZVgVVoc1YW1YFz5eHzaEjWFT2By2hK1hW9gedoTv7Qy7wu6wJ+wN+8L+
cCAcDIfC9w2HI+FoOBaOhxPhZDgVTocz4Qdmw7lwPlwIF8OlcDlcCVfDtfBD
6+FGuBluhdvhTrgb7oX74UH44cPwKDwOT8LT8Cwsjyqiyqgq+mh1VBPVRnVR
fdQQNUZNUXPUEn2sNWqL2qOOqDPqirqjnqg36ov0x/ujgWgwGoqGo5FoNBqL
xqOJ6BOT0VQ0Hc1Es9FcNB8tRIvRUvSp5WglWo3WovVoI9qMtqLtaCd6cjfa
i/ajg+gwOoqOo5PoNDqLyq1yUSEqRZWoFjWiVtSJetEgKqxG0SSaRYtoFW2i
XXSITtElKq1u0SN6RZ/oFwNiUAyJYTEiqqxRMSbGxYSYFFNiWsyIWTEnqq15
sSAWxZJYFitiVayJdbEhaqxNsSW2xY7YFXtiXxyIQ3Ek4lrrWJyIU3EmymWF
rJRVslrWyDqrVtbJetkgG2WTbJYtslW2yXqrXXbITtklu2WP7JV9sl8OyAZr
UA7JYTkiR+WYHJcTclJOyUZrWs7IWTkn5+WCXJRLclmuyCZrVa7JdbkhN+WW
3JY7clfuyWZrXx7IQ3kkj+WJPJVnslxVqBarUlWpalWjalWdqlcNqlE1qVar
WbWoVtWm2lWH6lRdqlv1qDarV/WpfjWgBtWQGlYjalSNqWS7Na4m1KSaUtNq
Rs2qOTWvFlSHtaiW1LJaUatqTa2rDbWptlSnta121K7aU/vqQB2qI3WsTlSX
darOVLmu0JW6SlfrGl2r63S3Va8bdKNu0s26RbfqNt2uO3SP1am7dLfu0b26
T/frAT2oh3SvNaxH9Kge0+N6Qk/qKT2tZ3SfNavn9Lxe0It6SS/rFb2q13S/
ta439Kbe0tt6R+/qPb2vD/SAdaiP9LE+0af6TJebClNpqkx60Ko2NabW1Jl6
02AaTZNpNi1myGo1babddJhO02W6TY/pNX1m2Oo3A2bQDJlhM2JGzZgZNxNm
xJo0U2bazJhZM2fmzYJZNEtm1Fo2K2bVrJl1s2E2zZbZNjtmzNo1e2bfHJhD
c2SOzYk5NWdm3CqPK+LKuCqujmvi2rguro8b4gmrMW6Km+OWuDVui9vjjrgz
7oonre64J+6N++L+eCAejIfi4XgknrJG47F4PJ6IJ+OpeDqeiWfjuRvYW5wF
XBpRQ9O0QJ9Hv5y+iH4NvYPeTb+OfgP9Jvow/Tb6nfQx+m76/fQJygcHy36Y
/ij9CfrT9OfoL9Jfpr9Gf5P+Dv19+hT9E/rn9K/o39J/oP9E/4X+O/1PylnL
smlIeX+tDP0Sehv9Ssr7en70K/Ve+vX0NfSb6bfSb6ffRb+Hfi99P/0I/SF6
nf4Y/Un6M/Tn6S/RX6G/Tn+L/i79A/pH9E/pX9C/pn9Hn6b/TP+V/gf9L/q5
Um3uW1vQBM3RL6Xcr/ZX0ZfRu+jX0vvoN9JvoW+gb6GP0fdQ3k/7o/STtIJy
f9r1lPfRbqO/Snsp96U9Qnn/7Gn6l3SJcj/am5T3zT6g/12qw7w73IdOTHm/
HObb+Qr6Esr951yj99EHKPPsvIly3znvoN9H+Viwwxw7T1LuN6eW/ixtocyv
0025z5wh+od0kjK3zgLl/nLW6WfoHmVendNSXe4rV9IULdLbKPufy/3kXqXs
e+79lPl0X0+/gz5K2e/cZz5yzVy6n6A/Qqsp+5zbRJlHt5P+Bh2g7G/uOGUO
3Tn6N3SVsq+5O5T5c49L9cpoQNnPvCxl7rwX0K+m+OCxj3mvosyb9xDFBe+t
lP3L41Pm3gfpxygeeJWUfctroL9A2ykOeH2U/cobpX9MZyj7v7dMn6Zb9N/o
IWXf9x3K/uQnKZ76t1L2e/+llH3JfwXFT/91lH3efzP9bvouips+n9n32d/9
cvrjtI7ipd9K2df9HvrbdJg+Raco+7m/SP+eblB89Pcp+7h/VmrgU01xMbiF
sn8HL6a303soHgavpezbwRsp54vg7RQHgw/QH6CfopwrghqKf0Ez/TTtopwn
gkGKe8EE/TM6TzlHBGsU74Jd+ll6UmrI+SHkfBbiXJinX0ZfSDk3hFcovoWv
ppzDwkco54XwbfSd9L2U81f4cXqdVtGfoo2Uc1fYQTkfhP309+gY5bwVzlLO
BeEK/Ue6TTlnhUeU80DExhQpyvk14nwVPZ9yDoheTjmvRq+knKuiByn+R/gf
PUbxP8L/CP8j/I/wP8L/CP8j/I/wP8L/CP8j/I/wP8L/CP8j/I/wP8L/CP8j
/I/wP8J/gf8C/wX+C/wX+C/wX+C/wH+B/+I+iv8C/wX+C/wX+C/wX+C/wH+B
/wL/Bf4L/Bf4L/Bf4L/Af4H/Av8F/gv8F/gv8F/gv8B/gf8C/wX+S/yX+C/x
X+K/vI3iv8R/if8S/yX+S/yX+C/xX+K/xH+J/xL/Jf5L/Jf4L/Ff4r/Ef4n/
Ev8l/kv8l/gv8V/iv8R/if8S/yX+S/yX+M94lSn8V/iv8F/hv8J/hf8K/xX+
K/xX+K/wX+G/wn+F/wr/Ff4r/Ff4r/Bf4b/Cf4X/Cv8V/iv8V/iv8F/hv8J/
hf8K/9XTFP8V/iv8V/iv8V/jv8Z/jf8a/zX+a/zX+K/xX+O/xn+N/xr/Nf5r
/Nf4r/Ff47/Gf43/Gv81/mv81/iv8V/jv8Z//RTFf43/Gv81/mv81/iv8V/j
v8Z/g/8G/w3+G/w3+G/w3+C/wX+D/wb/Df4b/Df4b/Df4L/Bf4P/Bv8N/hv8
N/hv8N98muK/wX+D/wb/Df4b/Df4b/Df4L/Bf4P/Bv8N/sf4H+N/jP8x/sf4
H+N/jP8x/sf4H+N/jP8x/sf4H+N/jP8x/sf4H+N/fJ3if4z/Mf7H+B/jf4z/
Mf7H+B/jf4z/Mf7H+B/jf4z/Mf7H+B/jf4z/CfxPsEEl8D+B/wn8T+B/Av8T
+J/A/wT+J/A/gf8J/E88RvE/gf8J/E/gfwL/E/ifwP8E/ifwP4H/CfxP4H8C
/xP4n8D/BP4n8D+B/wn8T+B/Av8T+J/E/yT+J/E/if9J/E/ifxL/k/ifxP/k
fRT/k/ifxP8k/ifxP4n/SfxP4n8S/5P4n8T/JP4n8T+J/0n8T+J/Ev+T+J/E
/yT+J/E/if9J/E/ifxL/k/ifxP8U/qfwP4X/KfxP3UbxP4X/KfxP4X8K/1P4
n8L/FP6n8D+F/yn8T+F/Cv9T+J/C/xT+p/A/hf8p/E/hfwr/U/ifwv8U/qfw
P4X/KfxP4X8K/1P4n8L/Z/5ZOI3/afxP438a/9P4n8b/NP6n8T+N/2n8T+N/
Gv/T+J/G/zT+p/E/jf9p/E/jfxr/0/ifxv80/qfxP43/afxP438a/9P4n8b/
NP6nn6b4n8b/NP6n8T+D/xn8z+B/Bv8z+J/B/wz+Z/A/g/8Z/M/gfwb/M/if
wf8M/mfwP4P/GfzP4H8G/zP4n8H/DP5n8D+D/xn8z+B/5imK/xn8z+B/Bv8z
+J/B/wz+Z/A/g/9Z/M/ifxb/s/ifxf8s/mfxP4v/WfzP4n8W/7P4n8X/LP5n
8T+L/1n8z+J/Fv+z+J/F/yz+Zz9N8T+L/1n8z+J/Fv+z+J/F/yz+Z/E/i/9Z
/M/ifxb/c/ifw/8c/ufwP4f/OfzP4X8O/3P4n8P/HP7n8D+H/zn8z+F/Dv9z
+J/D/9x1iv85/M/hfw7/c/ifw/8c/ufwP4f/OfzP4X8O/3P4n8P/HP7n8D+H
/zn8z+N/Hv/zbFR5/M/jfx7/8/ifx/88/ufxP4//efzP43/+MYr/efzP438e
//P4n8f/PP7n8T+P/3n8z+N/Hv/z+J/H/zz+5/E/j/95/M/jfx7/8/ifx/8C
/hfwv4D/Bfwv4H8B/wv4X8D/Av4X7qP4X8D/Av4X8L+A/wX8L+B/Af8L+F/A
/wL+F/C/gP8F/C/gfwH/C/hfwP8C/hfwv4D/Bfwv4H8B/wv4X8D/Av4X8b+I
/0X8L+J/8TaK/0X8L+J/Ef+L+F/E/yL+F/G/iP9F/C/ifxH/i/hfxP8i/hfx
v4j/Rfwv4n8R/4v4//n26uCKldyGoqDHjkIdxRcAgmD+iTgUj1gdhc9owV69
uyodfN77/3nv/+e9/5/3/n/e+/957//nvf+f9/5/3vv/ee//+3f61/Pe/+e9
/897/5/3/j/v/X/e+/+89/957//z3v/nvf/Pe/+f9/4/7/1/3vv/vPf/ee//
897/573/z3v/n/f+P+/9f977/7z3/3nv//Pe/+e9/897/5/3/j/v/X/e+/+8
9//57/t97/8/v39+//z+z39//X08//rze76/J35P/p76Pev39O/Zv2d+z/n7
+ff3z32/94375n3rvuu+fd9937nv3cbdxt3G3cbdxt3G3cbdxt3G3cbd5t3m
3ebd5t3m3ebd5t3m3ebd5t3W3dbd1t3W3dbd1t3W3dbd1t3W3a67XXe77nbd
7brbdbfrbtfdrrtdd9t323fbd9t323fbd9t323fbd9t3u+923+2+2323+273
3e673Xe773bf7dzt3O3c7dzt3O3c7dzt3O3c7dztudtzt+duz92euz13e+72
3O252/Pb/uf754/P1yd80qd8lk/7bJ/xUfmqfFW+Kl+Vr8pX5avyVfmqfFVC
JVRCJVRCJVRCJVRCJVRSJVVSJVVSJVVSJVVSJVVKpVRKpVRKpVRKpVRKpVSW
ylJZKktlqSyVpbJUlspSaZVWaZVWaZVWaZVWaZVW2SpbZatsla2yVbbKVtkq
W2VURmVURmVURmVURmVURuWoHJWjclSOylE5KkflqLAb7Aa7wW6wG+wGu8Fu
sBvsBrvBbrAb7Aa7wW6wG+wGu8FusBvsBrvBbrAb7Aa7wW6wG+wGu8FusBvs
BrvBbrAb7Aa7wW6wG+wGu8FusBvsBrvBbrAb7Aa7wW6wG+wGu8FusBvsBrvB
brAb7Aa7wW6wG+wGu8FusBvsBrvBbrAb7Aa7wW6wG+wGu8FusBvsBrvBbrAb
7Aa7wW6wG+wGu8FusBvsBrvBbrAb7Aa7wW6wm+wmu8luspvsJrvJbrKb7Ca7
yW6ym+wmu8luspvsJrvJbrKb7Ca7yW6ym+wmu8luspvsJrvJbrKb7Ca7yW6y
m+wmu8luspvsJrvJbrKb7Ca7yW6ym+wmu8luspvsJrvJbrKb7Ca7yW6ym+wm
u8luspvsJrvJbrKb7Ca7yW6ym+wmu8luspvsJrvJbrKb7Ca7yW6ym+wmu8lu
spvsJrvJbrKb7Ca7yW6ym+wmu8luslvsFrvFbrFb7Ba7xW6xW+wWu8VusVvs
FrvFbrFb7Ba7xW6xW+wWu8VusVvsFrvFbrFb7Ba7xW6xW+wWu8VusVvsFrvF
brFb7Ba7xW6xW+wWu8VusVvsFrvFbrFb7Ba7xW6xW+wWu8VusVvsFrvFbrFb
7Ba7xW6xW+wWu8VusVvsFrvFbrFb7Ba7xW6xW+wWu8VusVvsFrvFbrFb7Ba7
xW6xW+wWu8VusVvsFrvFbrG72F3sLnYXu4vdxe5id7G72F3sLnYXu4vdxe5i
d7G72F3sLnYXu4vdxe5id7G72F3sLnYXu4vdxe5id7G72F3sLnYXu4vdxe5i
d7G72F3sLnYXu4vdxe5id7G72F3sLnYXu4vdxe5id7G72F3sLnYXu4vdxe5i
d7G72F3sLnYXu4vdxe5id7G72F3sLnYXu4vdxe5id7G72F3sLnYXu4vdxe5i
d7G72F3sLnYXu4vdxe5id7G72F3sLnYXu81us9vsNrvNbrPb7Da7zW6z2+w2
u81us9vsNrvNbrPb7Da7zW6z2+w2u81us9vsNrvNbrPb7Da7zW6z2+w2u81u
s9vsNrvNbrPb7Da7zW6z2+w2u81us9vsNrvNbrPb7Da7zW6z2+w2u81us9vs
NrvNbrPb7Da7zW6z2+w2u81us9vsNrvNbrPb7Da7zW6z2+w2u81us9vsNrvN
brPb7Da7zW6z2+w2u81us9vsNrub3c3uZnezu9nd7G52N7ub3c3uZnezu9nd
7G52N7ub3c3uZnezu9nd7G52N7ub3c3uZnezu9nd7G52N7ub3c3uZnezu9nd
7G52N7ub3c3uZnezu9nd7G52N7ub3c3uZnezu9nd7G52N7ub3c3uZnezu9nd
7G52N7ub3c3uZnezu9nd7G52N7ub3c3uZnezu9nd7G52N7ub3c3uZnezu9nd
7G52N7ub3c3uZnezu9nd7G52N7ub3c3uZnezO+wOu8PusDvsDrvD7rA77A67
w+6wO+wOu8PusDvsDrvD7rA77A67w+6wO+wOu8PusDvsDrvD7rA77A67w+6w
O+wOu8PusDvsDrvD7rA77A67w+6wO+wOu8PusDvsDrvD7rA77A67w+6wO+wO
u8PusDvsDrvD7rA77A67w+6wO+wOu8PusDvsDrvD7rA77A67w+6wO+wOu8Pu
sDvsDrvD7rA77A67w+6wO+wOu8PusHvYPewedg+7h93D7mH3sHvYPewedg+7
h93D7mH3sHvYPewedg+7h93D7mH3sHvYPewedg+7h93D7mH3sHvYPewedg+7
h93D7mH3sHvYPewedg+7h93D7mH3sHvYPewedg+7h93D7mH3sHvYPewedg+7
h93D7mH3sHvYPewedg+7h93D7mH3sHvYPewedg+7h93D7mH3sHvYPewedg+7
h93D7mH3sHvYPewedg+7h93D7mH3sHvYPeweds85/wNQSwMEFAAAAAgAz5jP
PKJYqjFyAQAApAMAABkAAABHcm91cGluZ1F1ZXJ5VGVzdC9wb20ueG1slVNd
T4MwFH2evwJ5BzYzjSYdy0zULSZOB+pzLXfYBdqmtIv795aPQcFp4hP33nNu
7+05FM2/8szZgywoZzN34o9dBxjhCWXpzH2N771rdx4iIfkOiArPHAflPIHs
re4Ip/7YH6OgVytJqeRarJLwofyas140yEMMhULBESppWCq6xUSdZlpoSW62
DM2SXvS0eI6W6xgFe2vqh6ZZxTWxyHRKWVFnbX5M+7NzvAfmEZ4LmoH0aupw
ftNGONvSVEusmqktUnAtCZj1rlDQxDassExB1XATd6cGJ49Fgb31MavuhIL2
sigBASwxtlGosFFXOVT5qPWDy9THApNP8DNNgEHPD0O07lwTjCwShloY4rnn
OfFyFTnv681j5HieVW+tuvBv/EnnUY9UNd9u7hZ2d9c4Lf8ry1wDqoOAcIel
0a+M6iIXpWI4C7c4K8yibV4JEQyU+F2ZnWZU/aFGg//QYd++hMvhvv9azcor
G43bzaP7BlBLAwQKAAAAAACmlM88AAAAAAAAAAAAAAAAFgAAAEdyb3VwaW5n
UXVlcnlUZXN0L3NyYy9QSwMECgAAAAAAppTPPAAAAAAAAAAAAAAAABsAAABH
cm91cGluZ1F1ZXJ5VGVzdC9zcmMvbWFpbi9QSwMECgAAAAAA4ZTPPAAAAAAA
AAAAAAAAACAAAABHcm91cGluZ1F1ZXJ5VGVzdC9zcmMvbWFpbi9qYXZhL1BL
AwQUAAAACACFmM88DJWblIYCAAB1BwAAMQAAAEdyb3VwaW5nUXVlcnlUZXN0
L3NyYy9tYWluL2phdmEvR3JvdXBpbmdUZXN0LmphdmGVVd9v0zAQfvak/Q+n
PDmsWN0rYxIdbQHBWliG0Hip3MRtPWV2ZjvdCuJ/xz+Szt2gy6Qmdu3vvvvu
fOfwm0oqA9pQw3OQakmua8ENGWjNlCGvTg4PDg94AF3TNSVckjEvWbzurGhF
8xUjZZ0zwQgVtNxorslntrmTqhi4/7+YOuliY7WIgqqCZM2ki3Uh8/qGCUOG
zaQTeMxZWXRHkk+iYPcvwGdGKrYPzx1hoP2huNkf423N1OYrVfZkyLeH+T4T
zajKV+QjN7oDzOvI/LwTrRfRAdeJ0qWKDLliuZ3tZ/XQcfYC8MXg/D/oUO6X
TBtf0lU9L20j5CXVGj4oWVdcLN0u/D48QJXia2pY2y4LbisTuDAw+X5+NrqY
Tcez4fR9Bqdw3O/3LSGyv3fO3BkH6rXkBSwjZpyCWSl5p+HSDXReMu8MxaKh
4MrSCnYH8TJOvWqEohICHs2DSbSLLVHPLz5uL5z2HBNCRtXM8SKnHi2kAuxi
5Jasf2KHt4/CtWtHR2nQjNr+g7YVGgntOg7MaNsptCiwA/iOwYklnE2mSQ+S
BI6A98D3ELkaZY26ECqZTC9ng8ngy9XP0TBtOKPAHe3WZesrwP64VwzNS6nZ
NpOZUfZgzurFwqZPzxv58eoW+nxq4DUc76RHz219VkzYSHGy1eOGaCfkAPrJ
Px0dP3sGERVML6Ch8/m0T5LCrudsow27IbI2xBa4MKXAlsHIEDNOWxXRnQPR
XdRkKNp9OMVwZG770ZcAN2fWXg2g20lUse2mq9kdEcG9hcZXYuWGp8oRcrcf
rNzrdOumuZqwJ2ikPE1D4kzf+Mw5e1IysTSrh4xQ/5Uc3da01Hj3QHpPLUK+
7esvUEsDBAoAAAAAAKaUzzwAAAAAAAAAAAAAAAAbAAAAR3JvdXBpbmdRdWVy
eVRlc3Qvc3JjL3Rlc3QvUEsDBAoAAAAAAKaUzzwAAAAAAAAAAAAAAAAgAAAA
R3JvdXBpbmdRdWVyeVRlc3Qvc3JjL3Rlc3QvamF2YS9QSwMECgAAAAAAppTP
PAAAAAAAAAAAAAAAABkAAABHcm91cGluZ1F1ZXJ5VGVzdC90YXJnZXQvUEsD
BAoAAAAAAMWYzzwAAAAAAAAAAAAAAAAhAAAAR3JvdXBpbmdRdWVyeVRlc3Qv
dGFyZ2V0L2NsYXNzZXMvUEsDBBQAAAAIAMWYzzypARoIUAYAADsNAAAzAAAA
R3JvdXBpbmdRdWVyeVRlc3QvdGFyZ2V0L2NsYXNzZXMvR3JvdXBpbmdUZXN0
LmNsYXNzjVZbUBNnFP5+k7AhLipUqimioJQGEGOtVZtYKnJRNBALiMVe6JKs
sBp242YjYu+t1tZepvf7zd7sdab1IXRkptO3djp97lsf+lSnb33rk/b7N0Ho
EJDMZM//nz23/5xvz/l/vXLpRwBb8K2CJQLqHtvKpg1zpF/POAq8AiuOaie0
cEozR8Lx4aN6whFY1nOwe3dH71C8c6g93tYnILoEytosM+NopjOgpbK6B/Bc
FijZaZiG0yLgCTUMCHjbrKQegAdlKkoREFgeM0y9Jzs2rNv92nBKF6iIWQkt
NaDZhtwXmF5n1MjQb2x2dFFGOzJrLxDoOJnQ047BQBRUCtwwE3r/qG2N540F
e7OmY4zpA0bGIKPVNC1Hc5V42Jhlj4SPZhl02PWhIChQJ5laWkuM6uFUNqGb
ejjjWLYe7m3tbjds5sSyJwJYjTIFawQ2zBU3zKR+Mtwln4dsw9FtBWsFts4V
1EwtNZExMmGZyqRmJ8N9hUWrfHNKtwOoRlkAVaiVOVwvEAvF5ovvWnDRIiLX
XE1bjh5uGFBQV/QASSuRHdNNJ9xeWASwQR73FoGaBaQ7DT2V9KOBSCBShnri
CpoEVs3Upc+xWb7dWSOVlEdrlEdrxCYVYWymkpZO62ZSYE2oqyE2j1ZUamxR
cRu2CvgdK/9SYGVorkq0FNuwQ8F2gfrrhV3XJ3Oo4g5EiN/BDuK8WKaLKdHN
TrQouHMxblxUqLgLuwjonnj/UGtPa2zwcEf7ovy52kxBPXZLPLQJjIfmHrsI
Z5EnWWwEDQMSER0qOrGH6dKSrFrD9eOXn6SrW4UuFfuwX2ApdadRxhQsaGNa
rmCiW0WPbCu+RMrK6AoOCNw4FzVHjkioxVHmh+xdIbk+KBHHDrWxSPKKIU/a
iPpxDxGXB3bNZj8OM/iaeG9NgSNxeZ8syv0ClcXsDvgxJLCkwZXUZATDAs2L
jCCP/VIkcUSB/r8+3TeRcfQxFSMYZSmsLNNYmbdgWOEDVHdoRNfGovLkWwI4
hjEFqel++X8ZFaaMX0lLVspUkGZd51bkeFa3Jw5odka3w3fPrBXYAo0L9J79
+sS4Nbu5HZcdwEJW5u2EQKQYmBfTy2QrO1n088vomp0YzTfjPnct/Y7jlHT5
EFUW008l3iw8ouJRPEa8peVp2dCL1m7eENxEsQhP4CkFTwrUzis5HaeK0zjD
vphnC7QWjXW29QXc7zWcDDF8lvbkMkIYPovnFJwTqF5QScXzeIFaKd0ccUbd
4d7lg/vzXA7gZbyq4BUicmaWtmYIBkfFa3idTU5zdx3Hs1qKM9cX2rdPXg48
SYNgqZ83+bOHLWf/UmNmmgrcXERtztClljD4xSavdZdianObC7/RDL/M1fP1
AQYzC/8CTUWszvOBUNefKRSXg3f+Yk0jgAo+1xYH7/Vqz4vTKMslsO46IODt
jdeMxLFuLV24cQX6rKyd0DsNuSmffe3aJJPAInaZpm63pWQtZRHdNJO6UwO1
YD0JB4Gb4EMJqcLdEvj5F/Lqx+dScsKkgtTXOAn1e1dkGZ8lLvNGLOdTzQtg
BcpdgxWQF8gbuPZyt5JSeflVpDS5ZA9d+SlYPoXVg5O4KTaFqsGmKVRzs847
iZpuT8sFbJ/CBjJujniD3inUD1aEptBIxsbqHJpzuPUibr+I6CRac2jfGPTm
sPe0R1SXey6fv/rLxhxoNE7pu3s827wXUNZc0ZtD/6HTXlHpLff8df7qP80V
hyTHK1/XNkvbFZS/t5KWmiseyOFB+pilQrN/XESCno0cjk7BcgM6TpXMJJwI
QxwfbJrERMQX9OaFHo6UBH3BkhwejyjUdD08TQ9BJYdn8megpZV40WWc+QEv
yfR63PSewlo+q5imaiZwLSpJg6jhqha3YD12cZJ3knahjgOiBoO8XdyPEHSO
qWNogk36CDaxF23GOdyKz0i/w1Zc4uXqJ2zHz6S/YQd+RwR/Ioq/sVN40SJW
8JKz3PWvygIVSuoXpXgDb7KEQfyLt/A2QVCFFrzDsnoYTwjv4j0WW8c3eB8f
kDfKiOVbL86iobD6DR34EB9x9Ts9nsfHhMyfjOsTfMr3f9POZ/ic0LhAj3Uo
uYK1ClYrqBK3XeXF3adA5PcK4sRb6cpqRvGFC8gv8RVpBVc7mYevGeU20m8Q
/A9QSwMECgAAAAAAxZjPPAAAAAAAAAAAAAAAAC8AAABHcm91cGluZ1F1ZXJ5
VGVzdC90YXJnZXQvY2xhc3Nlcy90YXJnZXQuY2xhc3Nlc1BLAwQKAAAAAABD
lc88AAAAAAAAAAAAAAAAJgAAAEdyb3VwaW5nUXVlcnlUZXN0L3RhcmdldC90
ZXN0LWNsYXNzZXMvUEsDBAoAAAAAAEOVzzwAAAAAAAAAAAAAAAA5AAAAR3Jv
dXBpbmdRdWVyeVRlc3QvdGFyZ2V0L3Rlc3QtY2xhc3Nlcy90YXJnZXQudGVz
dC1jbGFzc2VzUEsDBAoAAAAAAOeUzzwAAAAAAAAAAAAAAAASAAAAR3JvdXBp
bmdRdWVyeVRlc3QvUEsBAhQAFAAAAAgAdJfPPLfPTKDDAAAAagEAABwAAAAA
AAAAAQAgAAAAAAAAAEdyb3VwaW5nUXVlcnlUZXN0Ly5jbGFzc3BhdGhQSwEC
FAAUAAAACAAylc88XCEs/egAAABKAgAAGgAAAAAAAAABACAAAAD9AAAAR3Jv
dXBpbmdRdWVyeVRlc3QvLnByb2plY3RQSwECFAAKAAAAAACclM88AAAAAAAA
AAAAAAAAHAAAAAAAAAAAABAAAAAdAgAAR3JvdXBpbmdRdWVyeVRlc3QvLnNl
dHRpbmdzL1BLAQIUABQAAAAIAKGUzzz/Dj4N3wAAAHUCAAA2AAAAAAAAAAEA
IAAAAFcCAABHcm91cGluZ1F1ZXJ5VGVzdC8uc2V0dGluZ3Mvb3JnLmVjbGlw
c2UuamR0LmNvcmUucHJlZnNQSwECFAAKAAAAAACclM88AAAAAAAAAAAAAAAA
FgAAAAAAAAAAABAAAACKAwAAR3JvdXBpbmdRdWVyeVRlc3QvYmluL1BLAQIU
AAoAAAAAAOeUzzwAAAAAAAAAAAAAAAAXAAAAAAAAAAAAEAAAAL4DAABHcm91
cGluZ1F1ZXJ5VGVzdC9kYXRhL1BLAQIUAAoAAAAAAMiWzzwAAAAAAAAAAAAA
AAAcAAAAAAAAAAAAEAAAAPMDAABHcm91cGluZ1F1ZXJ5VGVzdC9kYXRhL3Rl
c3QvUEsBAhQACgAAAAAAJZjPPAAAAAAAAAAAAAAAACUAAAAAAAAAAAAQAAAA
LQQAAEdyb3VwaW5nUXVlcnlUZXN0L2RhdGEvdGVzdC9ncm91cGluZy9QSwEC
FAAUAAAACAAlmM88Vq+n9wsAAAAUAAAAMQAAAAAAAAAAACAAAABwBAAAR3Jv
dXBpbmdRdWVyeVRlc3QvZGF0YS90ZXN0L2dyb3VwaW5nL3NlZ21lbnRzLmdl
blBLAQIUABQAAAAIACCYzzziTIoLtwAAAOIAAAAvAAAAAAAAAAEAIAAAAMoE
AABHcm91cGluZ1F1ZXJ5VGVzdC9kYXRhL3Rlc3QvZ3JvdXBpbmcvc2VnbWVu
dHNfY1BLAQIUABQAAAAIACWYzzw936MSFQAAABwAAAAvAAAAAAAAAAAAIAAA
AM4FAABHcm91cGluZ1F1ZXJ5VGVzdC9kYXRhL3Rlc3QvZ3JvdXBpbmcvc2Vn
bWVudHNfZFBLAQIUABQAAAAIACCYzzxNqCFKxBgAAAlmAAArAAAAAAAAAAAA
IAAAADAGAABHcm91cGluZ1F1ZXJ5VGVzdC9kYXRhL3Rlc3QvZ3JvdXBpbmcv
XzAuY2ZzUEsBAhQAFAAAAAgAz5jPPKJYqjFyAQAApAMAABkAAAAAAAAAAQAg
AAAAPR8AAEdyb3VwaW5nUXVlcnlUZXN0L3BvbS54bWxQSwECFAAKAAAAAACm
lM88AAAAAAAAAAAAAAAAFgAAAAAAAAAAABAAAADmIAAAR3JvdXBpbmdRdWVy
eVRlc3Qvc3JjL1BLAQIUAAoAAAAAAKaUzzwAAAAAAAAAAAAAAAAbAAAAAAAA
AAAAEAAAABohAABHcm91cGluZ1F1ZXJ5VGVzdC9zcmMvbWFpbi9QSwECFAAK
AAAAAADhlM88AAAAAAAAAAAAAAAAIAAAAAAAAAAAABAAAABTIQAAR3JvdXBp
bmdRdWVyeVRlc3Qvc3JjL21haW4vamF2YS9QSwECFAAUAAAACACFmM88DJWb
lIYCAAB1BwAAMQAAAAAAAAABACAAAACRIQAAR3JvdXBpbmdRdWVyeVRlc3Qv
c3JjL21haW4vamF2YS9Hcm91cGluZ1Rlc3QuamF2YVBLAQIUAAoAAAAAAKaU
zzwAAAAAAAAAAAAAAAAbAAAAAAAAAAAAEAAAAGYkAABHcm91cGluZ1F1ZXJ5
VGVzdC9zcmMvdGVzdC9QSwECFAAKAAAAAACmlM88AAAAAAAAAAAAAAAAIAAA
AAAAAAAAABAAAACfJAAAR3JvdXBpbmdRdWVyeVRlc3Qvc3JjL3Rlc3QvamF2
YS9QSwECFAAKAAAAAACmlM88AAAAAAAAAAAAAAAAGQAAAAAAAAAAABAAAADd
JAAAR3JvdXBpbmdRdWVyeVRlc3QvdGFyZ2V0L1BLAQIUAAoAAAAAAMWYzzwA
AAAAAAAAAAAAAAAhAAAAAAAAAAAAEAAAABQlAABHcm91cGluZ1F1ZXJ5VGVz
dC90YXJnZXQvY2xhc3Nlcy9QSwECFAAUAAAACADFmM88qQEaCFAGAAA7DQAA
MwAAAAAAAAAAACAAAABTJQAAR3JvdXBpbmdRdWVyeVRlc3QvdGFyZ2V0L2Ns
YXNzZXMvR3JvdXBpbmdUZXN0LmNsYXNzUEsBAhQACgAAAAAAxZjPPAAAAAAA
AAAAAAAAAC8AAAAAAAAAAQAgAAAA9CsAAEdyb3VwaW5nUXVlcnlUZXN0L3Rh
cmdldC9jbGFzc2VzL3RhcmdldC5jbGFzc2VzUEsBAhQACgAAAAAAQ5XPPAAA
AAAAAAAAAAAAACYAAAAAAAAAAAAQAAAAQSwAAEdyb3VwaW5nUXVlcnlUZXN0
L3RhcmdldC90ZXN0LWNsYXNzZXMvUEsBAhQACgAAAAAAQ5XPPAAAAAAAAAAA
AAAAADkAAAAAAAAAAQAgAAAAhSwAAEdyb3VwaW5nUXVlcnlUZXN0L3Rhcmdl
dC90ZXN0LWNsYXNzZXMvdGFyZ2V0LnRlc3QtY2xhc3Nlc1BLAQIUAAoAAAAA
AOeUzzwAAAAAAAAAAAAAAAASAAAAAAAAAAAAEAAAANwsAABHcm91cGluZ1F1
ZXJ5VGVzdC9QSwUGAAAAABoAGgA/CAAADC0AAAAA


--0-1127697293-1276643445=:7769
Content-Type: text/plain; charset=us-ascii


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
--0-1127697293-1276643445=:7769--

From java-user-return-46456-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 16 11:14:36 2010
Return-Path: <java-user-return-46456-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58414 invoked from network); 16 Jun 2010 11:14:36 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 16 Jun 2010 11:14:36 -0000
Received: (qmail 99013 invoked by uid 500); 16 Jun 2010 11:14:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98495 invoked by uid 500); 16 Jun 2010 11:14:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98482 invoked by uid 99); 16 Jun 2010 11:14:29 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Jun 2010 11:14:29 +0000
X-ASF-Spam-Status: No, hits=4.7 required=10.0
	tests=FREEMAIL_FROM,FREEMAIL_REPLY,HTML_MESSAGE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of m.madanipour@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Jun 2010 11:14:22 +0000
Received: by fxm17 with SMTP id 17so511241fxm.35
        for <java-user@lucene.apache.org>; Wed, 16 Jun 2010 04:14:02 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=ea2z4fKpicqyg1gwJjAUYASBR10QJHGZF0OITOEyPKE=;
        b=eFyUR1OuIHsNK9Y53GVG0u0KmAjPrmcDl+M5b0k1wLWQehtyT0lgrb6xkd2gy0buxQ
         EPECPcAPcHiVqdOHTZ+QsJuA2G7lE1v4OJeP6UdgTG7LHyXcPuTNfSr+107QZdOClu+T
         u1F+M483NZiKQX/7/SCcHHwsj0aagz5Gwpaus=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=qvdSPX2Rtbgi9Jhfz/Y1LBrSe+lgGOYI/XZrqFovi9snreYw14LEEV5DCAWgzadu7/
         PRX4p8ShWLJg/mWKobqECStJPKyUP3RT3tg4AfGhODkTgSY42CLQuniUjg/VbLzoxXZO
         dLsnr3q/w929fI5hHZw1aY/ip9mVhu+/IAfEg=
MIME-Version: 1.0
Received: by 10.239.169.199 with SMTP id p7mr525087hbe.195.1276686842189; Wed, 
	16 Jun 2010 04:14:02 -0700 (PDT)
Received: by 10.239.191.199 with HTTP; Wed, 16 Jun 2010 04:14:02 -0700 (PDT)
In-Reply-To: <AANLkTinXe-VsAeIQcYUYUV5oh-sjKQcm3WAsL-vCk0cx@mail.gmail.com>
References: <AANLkTil0YsFPzALnNIXEau7NoOexMLyer2y2aTugoKPG@mail.gmail.com>
	<AANLkTikBh8oMkv_r_XwBIeyCY4ERE5H3K8kjkqIO9qtU@mail.gmail.com>
	<AANLkTikRvMEW1g9zKta_kxxQeGyDCuCAV3Ki1ni8dBsK@mail.gmail.com>
	<AANLkTinXe-VsAeIQcYUYUV5oh-sjKQcm3WAsL-vCk0cx@mail.gmail.com>
Date: Wed, 16 Jun 2010 15:44:02 +0430
Message-ID: <AANLkTimOPDcwcTAEfrH9jc2GdbMCElobUx-pMF3Vqbyo@mail.gmail.com>
Subject: Re: segment_N file is missed
From: "maryam ma'danipour" <m.madanipour@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=001485f81414b7d6f2048923d1b3
X-Virus-Checked: Checked by ClamAV on apache.org

--001485f81414b7d6f2048923d1b3
Content-Type: text/plain; charset=ISO-8859-1

Hello
I could regenerate the segment_N via
http://www.gossamer-threads.com/lists/lucene/java-user/39744 I could
regenerate the segment_N.
I'll try oal.store.ChecksumIndexOutput.
thanks

On Tue, Jun 15, 2010 at 1:53 PM, Michael McCandless <
lucene@mikemccandless.com> wrote:

> CheckIndex is not able to recover from this corruption (missing
> segments_N file); this would be a nice addition...
>
> But it sounds like you've worked out a way to write your own segmetns_N?
>
> Use oal.store.ChecksumIndexOutput (wraps any other IndexOutput) to
> properly write the checksum.
>
> BTW how did you lose your segments_N file...?
>
> Mike
>
> On Tue, Jun 15, 2010 at 2:28 AM, maryam ma'danipour
> <m.madanipour@gmail.com> wrote:
> > Hello .
> > thanks so much for your reply
> > I've checked CheckIndex class. but this class can not make a new
> segment_N
> > if there isn't any even a new one.
> > at first it needs to have a segment_N to reproduce it otherwise it throws
> > nullPointerException.
> >  There is some information about what is written in segment_N in douments
> of
> >
> > lucene and somehow I could regenerate this file, but still this file has
> > some problems with checksum.
> > I can't make a right checksum for this file, so when indexsearcher wants
> to
> > search this index it throws an exception
> > which tells the checksum isn't matched.
> >
> > Regards
> > Madanipour
> >
> >
> >
> > On Mon, Jun 14, 2010 at 3:50 AM, Lance Norskog <goksron@gmail.com>
> wrote:
> >
> >> The CheckIndex class/program will recreate the segment files when it
> >> removes a segment from an index. That's the only source I've found for
> >> how to make these files.
> >>
> >> If you are able to hack this up, making a CFSDirectory would be a
> >> wonderful addition to the Lucene Directory suite. A CFS file is a
> >> complete Lucene index and it is much much easier to deploy single
> >> files than file sets.
> >>
> >> On Wed, Jun 9, 2010 at 6:33 AM, maryam ma'danipour
> >> <m.madanipour@gmail.com> wrote:
> >> > Hello to all !
> >> >  I have _0.cfs file of a lucene index directory but segments.gen and
> >> > segments_2 are missing. Can I generate the segments.gen and segments_2
> >> files
> >> > without having to regenerate the _0.cfs file. Does these "segments"
> files
> >> > contain any index specific data, which will thus force me to
> regenerate
> >> the
> >> > entire index again. Or can I just generate the two "segments" file by
> >> > copying these from another lucene index directory generated with the
> same
> >> > lucene version or can I merge this inex with another index which has
> >> > segments_N to retrieve the data ?
> >> >
> >> > Thanks
> >> >
> >>
> >>
> >>
> >> --
> >> Lance Norskog
> >> goksron@gmail.com
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--001485f81414b7d6f2048923d1b3--

From java-user-return-46458-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 16 17:10:54 2010
Return-Path: <java-user-return-46458-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2279 invoked from network); 16 Jun 2010 14:56:56 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 16 Jun 2010 14:56:56 -0000
Received: (qmail 68456 invoked by uid 500); 16 Jun 2010 14:56:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68403 invoked by uid 500); 16 Jun 2010 14:56:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68395 invoked by uid 99); 16 Jun 2010 14:56:53 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Jun 2010 14:56:53 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.211.186] (HELO mail-yw0-f186.google.com) (209.85.211.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Jun 2010 14:56:47 +0000
Received: by ywh16 with SMTP id 16so3942317ywh.21
        for <java-user@lucene.apache.org>; Wed, 16 Jun 2010 07:56:26 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.150.236.1 with SMTP id j1mr9674387ybh.201.1276700185804; Wed, 
	16 Jun 2010 07:56:25 -0700 (PDT)
Received: by 10.151.41.9 with HTTP; Wed, 16 Jun 2010 07:56:25 -0700 (PDT)
In-Reply-To: <AANLkTimmA64hwiDXL9MKP2SjChT4dnfeU388EKxexfsc@mail.gmail.com>
References: <AANLkTil0YsFPzALnNIXEau7NoOexMLyer2y2aTugoKPG@mail.gmail.com>
	<AANLkTikBh8oMkv_r_XwBIeyCY4ERE5H3K8kjkqIO9qtU@mail.gmail.com>
	<AANLkTikRvMEW1g9zKta_kxxQeGyDCuCAV3Ki1ni8dBsK@mail.gmail.com>
	<AANLkTinXe-VsAeIQcYUYUV5oh-sjKQcm3WAsL-vCk0cx@mail.gmail.com>
	<AANLkTimmA64hwiDXL9MKP2SjChT4dnfeU388EKxexfsc@mail.gmail.com>
Date: Wed, 16 Jun 2010 10:56:25 -0400
Message-ID: <AANLkTilSRaO-6MhIom_3o32GlvoNi-gsLGdmC2nViGAK@mail.gmail.com>
Subject: Re: segment_N file is missed
From: Michael McCandless <lucene@mikemccandless.com>
To: java-user@lucene.apache.org, yonik@lucidimagination.com
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

On Wed, Jun 16, 2010 at 10:38 AM, Yonik Seeley
<yonik@lucidimagination.com> wrote:
> On Tue, Jun 15, 2010 at 5:23 AM, Michael McCandless
> <lucene@mikemccandless.com> wrote:
>> CheckIndex is not able to recover from this corruption (missing
>> segments_N file); this would be a nice addition...
>>
>> But it sounds like you've worked out a way to write your own segmetns_N?
>>
>> Use oal.store.ChecksumIndexOutput (wraps any other IndexOutput) to
>> properly write the checksum.
>>
>> BTW how did you lose your segments_N file...?
>
> Can this also be caused by the new behavior introduced here?
> https://issues.apache.org/jira/browse/LUCENE-2386
> If you open a writer, add docs, and then crash before calling commit?

That could be; Maryam is that what happened?

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46457-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 16 17:12:21 2010
Return-Path: <java-user-return-46457-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1072 invoked from network); 16 Jun 2010 14:47:35 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 16 Jun 2010 14:47:35 -0000
Received: (qmail 54498 invoked by uid 500); 16 Jun 2010 14:47:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54471 invoked by uid 500); 16 Jun 2010 14:47:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54462 invoked by uid 99); 16 Jun 2010 14:47:32 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Jun 2010 14:47:32 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of yseeley@gmail.com designates 74.125.82.48 as permitted sender)
Received: from [74.125.82.48] (HELO mail-ww0-f48.google.com) (74.125.82.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Jun 2010 14:47:26 +0000
Received: by wwi18 with SMTP id 18so977645wwi.35
        for <java-user@lucene.apache.org>; Wed, 16 Jun 2010 07:47:00 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:sender:reply-to:received
         :in-reply-to:references:date:x-google-sender-auth:message-id:subject
         :from:to:content-type;
        bh=k6mazaHxWyO62CXTjbjd/PBQkzZhUEwly9JGwDZN41E=;
        b=U3QxedH66uy69zVlfaO5IL267sGT3GZyztZi5Y+HXM+SLNEY4nfLATwc/UgjGl5t7s
         rl1X2G8mqnPwyJWw7gwcAcsjI2Q4oS7phAhVDeBYI5cc7PmM34rRQLi+BKANHksEgA5N
         2AF4uEIZ/f2xRKlD+d9AfIPrhZRpILEROtfcw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:reply-to:in-reply-to:references:date
         :x-google-sender-auth:message-id:subject:from:to:content-type;
        b=kwMBLTBgEQZLnPhOjAcYs4SyViHD/qoZxXmdkBLddrPYSDOYxE1DS9L3vZo/7tMg8I
         R0/oJJyESK3h1J8GDXmD8TEsaD+8+IpdfgCknqJKBOeUfvlS2f949II/wBn5JTJpvYbr
         r97QPx8VNuGWzrhUvqwPeppqGsbuOCLGIhTXM=
MIME-Version: 1.0
Received: by 10.216.169.199 with SMTP id n49mr5116411wel.42.1276699135574; 
	Wed, 16 Jun 2010 07:38:55 -0700 (PDT)
Sender: yseeley@gmail.com
Reply-To: yonik@lucidimagination.com
Received: by 10.216.37.78 with HTTP; Wed, 16 Jun 2010 07:38:55 -0700 (PDT)
In-Reply-To: <AANLkTinXe-VsAeIQcYUYUV5oh-sjKQcm3WAsL-vCk0cx@mail.gmail.com>
References: <AANLkTil0YsFPzALnNIXEau7NoOexMLyer2y2aTugoKPG@mail.gmail.com>
	<AANLkTikBh8oMkv_r_XwBIeyCY4ERE5H3K8kjkqIO9qtU@mail.gmail.com>
	<AANLkTikRvMEW1g9zKta_kxxQeGyDCuCAV3Ki1ni8dBsK@mail.gmail.com>
	<AANLkTinXe-VsAeIQcYUYUV5oh-sjKQcm3WAsL-vCk0cx@mail.gmail.com>
Date: Wed, 16 Jun 2010 10:38:55 -0400
X-Google-Sender-Auth: bLAImdqR3lmXu5TWVZ9PSa0Mkyk
Message-ID: <AANLkTimmA64hwiDXL9MKP2SjChT4dnfeU388EKxexfsc@mail.gmail.com>
Subject: Re: segment_N file is missed
From: Yonik Seeley <yonik@lucidimagination.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

On Tue, Jun 15, 2010 at 5:23 AM, Michael McCandless
<lucene@mikemccandless.com> wrote:
> CheckIndex is not able to recover from this corruption (missing
> segments_N file); this would be a nice addition...
>
> But it sounds like you've worked out a way to write your own segmetns_N?
>
> Use oal.store.ChecksumIndexOutput (wraps any other IndexOutput) to
> properly write the checksum.
>
> BTW how did you lose your segments_N file...?

Can this also be caused by the new behavior introduced here?
https://issues.apache.org/jira/browse/LUCENE-2386
If you open a writer, add docs, and then crash before calling commit?


-Yonik
http://www.lucidimagination.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46459-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 17 13:32:10 2010
Return-Path: <java-user-return-46459-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44809 invoked from network); 17 Jun 2010 13:32:09 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 17 Jun 2010 13:32:09 -0000
Received: (qmail 18370 invoked by uid 500); 17 Jun 2010 13:32:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17550 invoked by uid 500); 17 Jun 2010 13:32:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17385 invoked by uid 99); 17 Jun 2010 13:32:02 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Jun 2010 13:32:02 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [217.12.10.244] (HELO web26207.mail.ukl.yahoo.com) (217.12.10.244)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 17 Jun 2010 13:31:57 +0000
Received: (qmail 14564 invoked by uid 60001); 17 Jun 2010 13:31:34 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.de; s=s1024; t=1276781494; bh=SPVPoyz6D8pzkp8hzz+mw3g6NstbMMYAxtw1paa++sE=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=slBco6rLZec0eGTzuJGN6o9IYuG/ADzo7ELyzhN0wqhdJcdmiWbjXthqI5PYIM3FtAfrzRlfZcfHTVbnNRREfgfgZ+hUptLLgHHXwnTyQ2c6i3DxzXNuk5X9+wjRT3tMWpMGjJCx9ttUg7Xagha1vivAWYKsG1vIe7eTaf3svpg=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.de;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=abcYOJptbSVeWWnUEdML6kaEClodJph55eytbgMjkJqtCU8TRKRNmdilmjvKfZxdligzH9m3VxeFtjZbAUNjdtUiwhVmhJ7a/3Bpij4tTT6tbQ3yMCmXdnsHQIOIjUT0CFoZRHxt9dtW9fgcCyfGzUtsdCRLecJIT0WbhN0Hk34=;
Message-ID: <718970.14228.qm@web26207.mail.ukl.yahoo.com>
X-YMail-OSG: BJ5wYPQVM1lhZx6ue4ddwUNDZGBP.nqzAnhk7iaTAJzKTmj
 lTvqeEDD2s8b.H8iPugjEs1E3TQqaGIumZPbDhb2gUwOXT_ZNW8aTqwXpIxD
 3lVZzyO.sknax7.B0p3pnLirqWQtSX4mfiARg92DqTegJOlqdB3hqt6IIjTq
 .gzu.kEyL.uPCZJoeU57DD7HgqPvPf920upxacw5xDuwzMhZ2MzAB8uhgfJp
 I854HqDTEE4e3nOBI0nuEv0NiS7BHnqGEdWiqZAAgeotWqfptg_8VthN6rLc
 -
Received: from [10.2.3.51] by web26207.mail.ukl.yahoo.com via HTTP; Thu, 17 Jun 2010 13:31:34 GMT
X-Mailer: YahooMailClassic/11.1.4 YahooMailWebService/0.8.103.269680
Date: Thu, 17 Jun 2010 13:31:34 +0000 (GMT)
From: Anna Hunecke <annahunecke@yahoo.de>
Subject: Strange behaviour of StandardTokenizer
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable

Hi!

I ran into a strange behaviour of the StandardTokenizer. Terms containing a=
 '-' are tokenized differently depending on the context.=20
For example, the term 'nl-lt' is split into 'nl' and 'lt'.
The term 'nl-lt0' is tokenized into 'nl-lt0'.
Is this a bug or a feature? Can I avoid it somehow?
I'm using Lucene 3.0.0.

Best,
Anna=0A=0A

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46460-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 17 13:50:50 2010
Return-Path: <java-user-return-46460-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55342 invoked from network); 17 Jun 2010 13:50:50 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 17 Jun 2010 13:50:50 -0000
Received: (qmail 43022 invoked by uid 500); 17 Jun 2010 13:50:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42653 invoked by uid 500); 17 Jun 2010 13:50:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42645 invoked by uid 99); 17 Jun 2010 13:50:43 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Jun 2010 13:50:43 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [206.190.49.11] (HELO web52901.mail.re2.yahoo.com) (206.190.49.11)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 17 Jun 2010 13:50:34 +0000
Received: (qmail 96923 invoked by uid 60001); 17 Jun 2010 13:50:13 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1276782613; bh=kWPSTD5GnkTu+2vZ95zLBIKl3ZMpRFErWhlGIpomR+o=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=f+tbG5p6kY0KjTETpvsd40f9r2cAdrbZ4d/Zb47jIXbtQbliGkuV83K50OUluEno8JIDTng9JUys82AsdqeUK5VsB1wjmphMcws6BV+h/7uoloZSVhxGNpVP5N4rfVs7LaF/s4VNesksVPSI4+kl7F+tAkTr+WTFFGojNDjPwgE=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=jRTbqhk2wvJxi/MmUlSPcKDQnWVmdwBIIQk2r9Lm0jL2WPGuP+0+/uhhJlpfr7UA7of01145kluWIwtx1r2+UhEbTUqxw5AlKItI66akHlk9z0aeRWzgNhTVQ2z82CztawYFf+bFFuXLuZtnsJiY0n5CHl8QfY1KJFRs8SgrIMM=;
Message-ID: <392619.95993.qm@web52901.mail.re2.yahoo.com>
X-YMail-OSG: f5UCpXcVM1nQQd.7H8KPDj.TpbdTEGdyf5Nmub8nYjFtkDO
 3awndzbPs.C5pQ69r5tuJEMbFGyjxpGRrRN3hpWmeD0D4aTbRskv1KblG4TH
 HiABHals8vbVY2CsWfAPz4kTW3nD_47Y.e8LqKJWBulfUd.gUe.TuNiF8Lt5
 0gHNSYAQX5UkgIfbUc_lMAu6CmjYEBiAamEX0GNFJHDRx_dr2jU1tUpnGp7m
 8uUWQL8QY1mn2bDckL95r3.d9qlKMtG8lpgOae7e6OPwuReUMZOoqyn3GR0G
 1LKIofxw_Ym0vseyvjTCHUs.aOA--
Received: from [193.140.184.4] by web52901.mail.re2.yahoo.com via HTTP; Thu, 17 Jun 2010 06:50:13 PDT
X-Mailer: YahooMailClassic/11.1.4 YahooMailWebService/0.8.103.269680
Date: Thu, 17 Jun 2010 06:50:13 -0700 (PDT)
From: Ahmet Arslan <iorixxx@yahoo.com>
Subject: Re: Strange behaviour of StandardTokenizer
To: java-user@lucene.apache.org
In-Reply-To: <718970.14228.qm@web26207.mail.ukl.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org


> I ran into a strange behaviour of the StandardTokenizer.
> Terms containing a '-' are tokenized differently depending
> on the context. 
> For example, the term 'nl-lt' is split into 'nl' and 'lt'.
> The term 'nl-lt0' is tokenized into 'nl-lt0'.
> Is this a bug or a feature? 

It is designed that way. TypeAttribute of those tokens are different.

> Can I avoid it somehow?

Do you want to split at '-' char no matter what? If yes, you can replace all '-' characters with whitespace using MappingCharFilter before StandardTokenizer. 


      

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46461-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 17 15:29:03 2010
Return-Path: <java-user-return-46461-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98884 invoked from network); 17 Jun 2010 15:29:03 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 17 Jun 2010 15:29:03 -0000
Received: (qmail 23104 invoked by uid 500); 17 Jun 2010 15:29:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22986 invoked by uid 500); 17 Jun 2010 15:29:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22978 invoked by uid 99); 17 Jun 2010 15:29:00 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Jun 2010 15:29:00 +0000
X-ASF-Spam-Status: No, hits=-0.2 required=10.0
	tests=AWL,FREEMAIL_FROM,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of bghost@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Jun 2010 15:28:54 +0000
Received: by bwz6 with SMTP id 6so12229bwz.35
        for <java-user@lucene.apache.org>; Thu, 17 Jun 2010 08:28:32 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:date:message-id
         :subject:from:to:content-type;
        bh=qgWVyuspsginiweLHgYbonyJqyqspMH99SFDKzSOap4=;
        b=sAHvv7rDkHS9ph0VxGzAhERdOuKTiXiCu1peZoZyc2UrJMkZ5FKwZLTsXCi104wj+j
         LVLWbvv7lBPkawXUIGFYSdon1MD5hYiBXn8oggsbjHTNeFyKiAFoNZDACOjkDShskKP9
         g5O/3yxmu2Ufw5VpEjBDohBAj178XmCJAUPKU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=l8GivLevtv1NGeHUC857Tkb853RpBX0y3FBpv98Rfy12t+7qfkcAFDToo9TTDUChSZ
         i0kRfVMEeMz5n/6pDQn4U31BNQR4CE2HnAe7ON/1csr0n3ImVAVlPt4ScgSZoVsYVeE0
         wetjHaC88/oonBRs5psQ4OpL3Zt9Tp7VMhwSI=
MIME-Version: 1.0
Received: by 10.204.42.21 with SMTP id q21mr7902046bke.179.1276788512810; Thu, 
	17 Jun 2010 08:28:32 -0700 (PDT)
Received: by 10.204.69.68 with HTTP; Thu, 17 Jun 2010 08:28:32 -0700 (PDT)
Date: Thu, 17 Jun 2010 17:28:32 +0200
Message-ID: <AANLkTimNbfFBTj5zfioOsPozUpYtKIsqj4o53m8ja7sh@mail.gmail.com>
Subject: parsing document title
From: Mango <bghost@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

I'm supposed to index documents which do not have all the information
I need stored in the Metadata fields.  I would like to extract the
document title from the document body when the Title Metadata field
contains no information.
In addition, many of the documents contain a table with information on
the document subject. One of the columns in the table is named
'Abstract:'  and it indicates that the topic is specified in the
neighbouring cell.

I would store the title and abstract in separate fields with the idea
to have them stored for the search results presentation, but also to
boost them so that the results become more relevant. First of all, I
would like to ask if that is a good idea, especially since I do not
know how exactly I would extract this information.

As it is now, the title is in the first line of the parsed text,
followed by _space_ and the contents of the next row. The same goes
for abstract information, it is separated by _space_ from the contents
of the next row. I.e.the stream goes like this:

Let's say this is the title _space_ New Line text

Abstract: This would be the paper subject _space_ new column


I suppose that I should write a custom ContentHandler or modify the
existing BodyContentHandler from SAX? If so, a couple of lines of code
showing the direction to go would be of immense help.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46462-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 17 17:07:23 2010
Return-Path: <java-user-return-46462-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35507 invoked from network); 17 Jun 2010 17:07:23 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 17 Jun 2010 17:07:23 -0000
Received: (qmail 32352 invoked by uid 500); 17 Jun 2010 17:07:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32317 invoked by uid 500); 17 Jun 2010 17:07:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32294 invoked by uid 99); 17 Jun 2010 17:07:18 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Jun 2010 17:07:18 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=10.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of siraj@jobdiva.com designates 64.18.2.163 as permitted sender)
Received: from [64.18.2.163] (HELO exprod7og105.obsmtp.com) (64.18.2.163)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 17 Jun 2010 17:07:08 +0000
Received: from source ([64.147.106.2]) (using TLSv1) by exprod7ob105.postini.com ([64.18.6.12]) with SMTP
	ID DSNKTBpWIDqQZRsX8jTSWInjRJjZ51jpYt5D@postini.com; Thu, 17 Jun 2010 10:06:47 PDT
Received: from [10.10.1.80] (12.111.23.142) by mail.jobdiva.com (10.10.30.148)
 with Microsoft SMTP Server (TLS) id 8.1.436.0; Thu, 17 Jun 2010 13:08:38
 -0400
Message-ID: <4C1A55FC.7000105@jobdiva.com>
Date: Thu, 17 Jun 2010 13:06:04 -0400
From: Siraj Haider <siraj@jobdiva.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.1.8) Gecko/20100227 Thunderbird/3.0.3
MIME-Version: 1.0
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Subject: Exception when running search
Content-Type: text/plain; charset="ISO-8859-1"; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

I am trying to run a search using search(query, filter, n, sort) method 
which return TopFieldDocs.  The sort is defined like: sort = new 
Sort(new SortField("DATEISSUED", SortField.LONG, true)); and I am 
passing filter as null.  The query I am passing is : +SK:1J +TEAMID:1 
which return results successfully when I run it thru Luke. I am getting 
the following exception when I run this code in tomcat (with sort).  
Does anyone have an idea about what I am doing wrong?

thanks
-siraj

java.lang.ArrayIndexOutOfBoundsException: 0
         at 
org.apache.lucene.search.FieldComparator$LongComparator.copy(FieldComparator.java:387)
         at 
org.apache.lucene.search.TopFieldCollector$OneComparatorNonScoringCollector.collect(TopFieldCollector.java:84)
         at 
org.apache.lucene.search.BooleanScorer2.score(BooleanScorer2.java:292)
         at 
org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:248)
         at 
org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:236)
         at 
org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:179)
         at org.apache.lucene.search.Searcher.search(Searcher.java:90)
         at 
com.axelon.jobindex.JobIndex.runSearch_JobDiva(JobIndex.java:325)
         at JobSearchServlet.service(JobSearchServlet.java:73)
         at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
         at 
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)
         at 
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
         at 
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)
         at 
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:178)
         at 
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126)
         at 
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)
         at 
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:107)
         at 
org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148)
         at 
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:869)
         at 
org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:664)
         at 
org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:527)
         at 
org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:80)
         at 
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684)
         at java.lang.Thread.run(Thread.java:619)
java.lang.ArrayIndexOutOfBoundsException: 0
         at 
org.apache.lucene.search.FieldComparator$LongComparator.copy(FieldComparator.java:387)
         at 
org.apache.lucene.search.TopFieldCollector$OneComparatorNonScoringCollector.collect(TopFieldCollector.java:84)
         at 
org.apache.lucene.search.BooleanScorer2.score(BooleanScorer2.java:292)
         at 
org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:248)
         at 
org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:236)
         at 
org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:179)
         at org.apache.lucene.search.Searcher.search(Searcher.java:90)
         at 
com.axelon.jobindex.JobIndex.runSearch_JobDiva(JobIndex.java:325)
         at JobSearchServlet.service(JobSearchServlet.java:73)
         at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
         at 
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)
         at 
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
         at 
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)
         at 
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:178)
         at 
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126)
         at 
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)
         at 
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:107)
         at 
org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148)
         at 
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:869)
         at 
org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:664)
         at 
org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:527)
         at 
org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:80)
         at 
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684)
         at java.lang.Thread.run(Thread.java:619)


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46463-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 17 19:24:22 2010
Return-Path: <java-user-return-46463-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87424 invoked from network); 17 Jun 2010 19:24:22 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 17 Jun 2010 19:24:22 -0000
Received: (qmail 11964 invoked by uid 500); 17 Jun 2010 19:24:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11914 invoked by uid 500); 17 Jun 2010 19:24:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11905 invoked by uid 99); 17 Jun 2010 19:24:19 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Jun 2010 19:24:19 +0000
X-ASF-Spam-Status: No, hits=4.4 required=10.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of rakeshiit.2009@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Jun 2010 19:24:12 +0000
Received: by iwn4 with SMTP id 4so296828iwn.35
        for <java-user@lucene.apache.org>; Thu, 17 Jun 2010 12:23:52 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:date:message-id
         :subject:from:to:content-type;
        bh=UYihvXnAbajFLdOTNiqT+mEYokjJX1ny8s80JBNIw+8=;
        b=hzfWO0e1uiIJlhlJScWC7f5IEPMNtOkAqZD6kq7CBgKKnw3oV3YGNP2tWAs38KAe5N
         rZupr7rJ/bo6hYxusnIQu22xqJ+kjNsH3Pe0WY2igCOi0IsMJUhKz1sRZyuqS4TwzUWH
         BVaLWg5UITqLFuWp6MFHb05+4EYYsmVwrSlDs=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=q3lxLlIEoaApZ7Iy0pPEo8aXvtQGnaEeHm7UN9R+OC4k2iHWsdVWXwVa0WxVNaD4Ph
         9CARcu+Pot5HBchc5NvDMO4Hr8KPyKKU8VQdj/EEYULOMoANCB5pcG6667eMnKt/TQ/i
         d7+kyKX+kZ+DqFvQDKTAU/TEfQ4sgHenvzupc=
MIME-Version: 1.0
Received: by 10.42.36.139 with SMTP id u11mr3711964icd.81.1276802632009; Thu, 
	17 Jun 2010 12:23:52 -0700 (PDT)
Received: by 10.231.169.81 with HTTP; Thu, 17 Jun 2010 12:23:51 -0700 (PDT)
Date: Fri, 18 Jun 2010 00:53:51 +0530
Message-ID: <AANLkTiksXNSacKNdripDshXY2T0CStZMc6uCoQSLRHcg@mail.gmail.com>
Subject: phrase search in a particular case
From: rakesh rakesh <rakeshiit.2009@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=90e6ba180fec54490304893ec728

--90e6ba180fec54490304893ec728
Content-Type: text/plain; charset=ISO-8859-1

Hi,

I have thousands of article titles in lucene index. So for a query "Oil
spill" I want to return all the article title starts with "Oil spill". I do
not want those titles which has this phrase but do not start with this.

Can anyone help me.

Thanks in advance

Thanks
rakesh

--90e6ba180fec54490304893ec728--

From java-user-return-46464-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 17 21:56:14 2010
Return-Path: <java-user-return-46464-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40425 invoked from network); 17 Jun 2010 21:56:14 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 17 Jun 2010 21:56:14 -0000
Received: (qmail 32534 invoked by uid 500); 17 Jun 2010 21:56:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32189 invoked by uid 500); 17 Jun 2010 21:56:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32166 invoked by uid 99); 17 Jun 2010 21:56:07 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Jun 2010 21:56:07 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=10.0
	tests=AWL,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [208.69.42.181] (HELO radix.cryptio.net) (208.69.42.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Jun 2010 21:56:02 +0000
Received: by radix.cryptio.net (Postfix, from userid 1007)
	id 0AD8971C034; Thu, 17 Jun 2010 14:55:41 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by radix.cryptio.net (Postfix) with ESMTP id 0E27F71C020;
	Thu, 17 Jun 2010 14:55:41 -0700 (PDT)
Date: Thu, 17 Jun 2010 14:55:41 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: solr-user@lucene.apache.org, Lucene Users <java-user@lucene.apache.org>, 
    general@lucene.apache.org
Subject: [ANN] Free Webinar: June 24: How Cisco uses Lucene/Solr w/ Social
 Networks
Message-ID: <alpine.DEB.1.10.1006171445290.4842@radix.cryptio.net>
User-Agent: Alpine 1.10 (DEB 962 2008-03-14)
MIME-Version: 1.0
Content-Type: MULTIPART/MIXED; BOUNDARY="1171305770-613354640-1276811741=:4842"

--1171305770-613354640-1276811741=:4842
Content-Type: TEXT/PLAIN; format=flowed; charset=UTF-8
Content-Transfer-Encoding: 8BIT


(cross posted announcement, please keep any replies to general@lucene)

On behalf of Lucid Imagination, I'd like to invite folks to a free Webinar 
we're hosting on June 24th...

 	How Ciscos Pulse uses Lucene/Solr to put Social Networks to Work
 	Thursday, June 24, 2010
 	9am PDT / 12pm noon EDT / 18:00 CET

To attend, you can sign up here:
http://www.eventsvc.com/lucidimagination/event/604c3606-5d13-40b1-be67-5867f547a0e4?trk=WR-JUN2010C-AP

Details...

Ciscos new Pulse(TM) is a powerful platform that uses embedded 
Lucene/Solr search technology to tag and indexes key terms and topics from 
a broad range of media  from email to video  in real time. Tapping into 
internal communications traffic, it helps find expertise from within the 
enterprise's internal social network. Its cutting edge enterprise search 
techniques developed at Cisco with the help of Lucid Imagination

Presenters: Sonali Sambhus, senior search architect at Cisco; Stephen 
Bochniski, Software Engineer at Cisco; Thangam Arumugam, Senior Search 
Architect at Cisco; In-depth technical workshop covers how the Cisco team 
designed and optimized Pulse with Lucene and Solr, on topics including:

- Optimizing stored field retrieval performance for real time search
- Operational optimization with full index hot backups
- Performance efficient methods for highlighting text>




--1171305770-613354640-1276811741=:4842
Content-Type: text/plain; charset=us-ascii


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
--1171305770-613354640-1276811741=:4842--

From java-user-return-46465-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 17 22:20:04 2010
Return-Path: <java-user-return-46465-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49422 invoked from network); 17 Jun 2010 22:20:04 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 17 Jun 2010 22:20:04 -0000
Received: (qmail 64739 invoked by uid 500); 17 Jun 2010 22:20:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64686 invoked by uid 500); 17 Jun 2010 22:20:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64678 invoked by uid 99); 17 Jun 2010 22:20:01 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Jun 2010 22:20:01 +0000
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=AWL,RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [74.125.83.48] (HELO mail-gw0-f48.google.com) (74.125.83.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Jun 2010 22:19:55 +0000
Received: by gwaa18 with SMTP id a18so365253gwa.35
        for <java-user@lucene.apache.org>; Thu, 17 Jun 2010 15:19:34 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.150.160.8 with SMTP id i8mr123000ybe.395.1276813174065; Thu, 
	17 Jun 2010 15:19:34 -0700 (PDT)
Received: by 10.151.41.9 with HTTP; Thu, 17 Jun 2010 15:19:34 -0700 (PDT)
In-Reply-To: <AANLkTiksXNSacKNdripDshXY2T0CStZMc6uCoQSLRHcg@mail.gmail.com>
References: <AANLkTiksXNSacKNdripDshXY2T0CStZMc6uCoQSLRHcg@mail.gmail.com>
Date: Thu, 17 Jun 2010 18:19:34 -0400
Message-ID: <AANLkTikClG4z1hS2FZsO6cYP6PHGRSXY7Pqgy70yhX24@mail.gmail.com>
Subject: Re: phrase search in a particular case
From: Michael McCandless <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

SpanFirstQuery?

Mike

On Thu, Jun 17, 2010 at 3:23 PM, rakesh rakesh <rakeshiit.2009@gmail.com> wrote:
> Hi,
>
> I have thousands of article titles in lucene index. So for a query "Oil
> spill" I want to return all the article title starts with "Oil spill". I do
> not want those titles which has this phrase but do not start with this.
>
> Can anyone help me.
>
> Thanks in advance
>
> Thanks
> rakesh
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46466-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jun 18 07:04:12 2010
Return-Path: <java-user-return-46466-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78970 invoked from network); 18 Jun 2010 07:04:12 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 18 Jun 2010 07:04:12 -0000
Received: (qmail 86573 invoked by uid 500); 18 Jun 2010 07:04:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86131 invoked by uid 500); 18 Jun 2010 07:04:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86123 invoked by uid 99); 18 Jun 2010 07:04:04 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Jun 2010 07:04:04 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [217.12.10.245] (HELO web26208.mail.ukl.yahoo.com) (217.12.10.245)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 18 Jun 2010 07:03:58 +0000
Received: (qmail 77909 invoked by uid 60001); 18 Jun 2010 07:03:36 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.de; s=s1024; t=1276844615; bh=CTKroZ8+jxZYTY2zGbggwt8wL0xQXSxtxpLuVEoUfG0=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=G1z+ooab5QEDireqJYJss1vzfszVbLS2/yn+Y85dXAj55bnq0TnuzWR/tTlBx++OHNVSRRxpHFly3Rn9bXCFph9i0wBIXLq0nOp5s5q3BDC5mpbYP2oCN5CC59P2h/Maoto6gdiKarIesv7BaVdzWwjTEeEhtXUB58iAddSMKmM=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.de;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=Np027WozTrsxlatxkHhfjohrJ6Y6hNF0TBEdFu1i4anDiTS26seamUJILs5SKPu7bN5Mo0gXcfCnBQ5+7fwu4iTJzpL5lxJ/Ri6Yo/PHHyAdq/aSLCDIPdPY3yNPq4aEJj1/F64u2xJ8I3E24GiRV8MJsfVkXzrp3Z3Fa846Fz0=;
Message-ID: <942122.76853.qm@web26208.mail.ukl.yahoo.com>
X-YMail-OSG: tP5kPxcVM1mieB_CZ_vNRsaXfaZ1GchVI7OgOX0aWFmV91q
 TWgIPJuXHRMJVtV.wETCIKMzAYOiCgX0jN1udA4OaaNUwzvHtDlOfrBNgNsJ
 6YYQ4X8DgvV8OTHJHb6o6RYKRCdDehawc7I4TYncH3NHrM4HYLaXPkoqWNG1
 h9q4hg7qW8jhfMV8EucYtLW0pHc5tk2305CRH8npgBaHJzc_Rqa6b_X8FLQm
 4DqVp5UIBJ.UN9ZY8bLH.PrAAvCaP5RgwCwamHE4owtLsc4l3fc3pNixnHnw
 .NLEIEmzFGVWL2zlrMyLuVQ8ByXlUJqQ-
Received: from [10.2.3.51] by web26208.mail.ukl.yahoo.com via HTTP; Fri, 18 Jun 2010 07:03:35 GMT
X-Mailer: YahooMailClassic/11.1.4 YahooMailWebService/0.8.104.274457
Date: Fri, 18 Jun 2010 07:03:35 +0000 (GMT)
From: Anna Hunecke <annahunecke@yahoo.de>
Subject: Re: Strange behaviour of StandardTokenizer
To: java-user@lucene.apache.org
In-Reply-To: <392619.95993.qm@web52901.mail.re2.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Ahmet,
thanks for the explanation. :)
okay, so it is recognized as a number? I didn't expect that really. I expec=
t that all words are either split at the minus or not.
Maybe I'll have to use another tokenizer.
Best,
Anna

--- Ahmet Arslan <iorixxx@yahoo.com> schrieb am Do, 17.6.2010:

> Von: Ahmet Arslan <iorixxx@yahoo.com>
> Betreff: Re: Strange behaviour of StandardTokenizer
> An: java-user@lucene.apache.org
> Datum: Donnerstag, 17. Juni, 2010 15:50 Uhr
>=20
> > I ran into a strange behaviour of the
> StandardTokenizer.
> > Terms containing a '-' are tokenized differently
> depending
> > on the context.=20
> > For example, the term 'nl-lt' is split into 'nl' and
> 'lt'.
> > The term 'nl-lt0' is tokenized into 'nl-lt0'.
> > Is this a bug or a feature?=20
>=20
> It is designed that way. TypeAttribute of those tokens are
> different.
>=20
> > Can I avoid it somehow?
>=20
> Do you want to split at '-' char no matter what? If yes,
> you can replace all '-' characters with whitespace using
> MappingCharFilter before StandardTokenizer.=20
>=20
>=20
> =A0 =A0 =A0=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
> =0A=0A

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46467-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jun 18 07:18:16 2010
Return-Path: <java-user-return-46467-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84758 invoked from network); 18 Jun 2010 07:18:16 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 18 Jun 2010 07:18:16 -0000
Received: (qmail 96300 invoked by uid 500); 18 Jun 2010 07:18:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96116 invoked by uid 500); 18 Jun 2010 07:18:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96108 invoked by uid 99); 18 Jun 2010 07:18:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Jun 2010 07:18:11 +0000
X-ASF-Spam-Status: No, hits=-0.1 required=10.0
	tests=AWL,FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [206.190.49.13] (HELO web52903.mail.re2.yahoo.com) (206.190.49.13)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 18 Jun 2010 07:18:03 +0000
Received: (qmail 18014 invoked by uid 60001); 18 Jun 2010 07:17:41 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1276845461; bh=wclIZbkth3CqDSUyYw3OCPDXxt/4FsE/N9MlUA891wo=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=pmeUKXAP1xDS9CX+I002pYqZSdLTB1WWghcHRnepi2E9ZE8Z8PVbcCqMyMcLFlx1Ee28vTQcmEJ5bn0LbhMvaQ4KoEhm64kUeGz/pYG9QgRvhe8es9AyvzdcrUsdxsARfV5SAWvXx/uvP2fEiITHGwsTa3ejnzWMwLTQ2NzNQxU=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=nyicTacOnVcW6P0yR86CsmHztVwA1ZL3JjNPywl/kI66TXWUZdVnmCpfgwLTyqCWRTUrN0wiQsDqjzChx8pAr1B1FlYKJBGsfAAl3cM6veI+UD1nBnFQeD5PJ0PdA61nvMeywCVy61cSZYqUauwk2BcUAT8XtzH8DbEJC65O8Xo=;
Message-ID: <687578.18001.qm@web52903.mail.re2.yahoo.com>
X-YMail-OSG: VKHP7MIVM1l4l8XaE8eOjs3EyNRGMAVZIKwORK5kTKh80ee
 ztaDwZaebujLi1mg4xAAH_uS4Gwj9bdB9inI5V2s57DsE12GpyAup_JULAOo
 Pw39Wm2Ti8GKIF4nPsy.OSINw47QgiGdSAOZY4P6tztv7KFWQjCm858uLYND
 TXtOGuoq6IlH46DkQrOJNiJbZg3H9rdyY6u38NjBe9eCpCy1ZwnoeNB_o9Jy
 Tw_n0UUO3txeUEqZB_YfDtcxLY0iu9s2hEslnHaIuYlSpb7mJ4T5mRP6FUcN
 OhuV91q.IdaaBHQCI2fIAMPBP_iIAhL_CB5VEqqGHPZrEDRvmuV1Grw--
Received: from [193.140.184.4] by web52903.mail.re2.yahoo.com via HTTP; Fri, 18 Jun 2010 00:17:41 PDT
X-Mailer: YahooMailClassic/11.1.4 YahooMailWebService/0.8.103.269680
Date: Fri, 18 Jun 2010 00:17:41 -0700 (PDT)
From: Ahmet Arslan <iorixxx@yahoo.com>
Subject: Re: Strange behaviour of StandardTokenizer
To: java-user@lucene.apache.org
In-Reply-To: <942122.76853.qm@web26208.mail.ukl.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

> okay, so it is recognized as a number? 

Yes. You can see token type definitions in *.jflex file.

> Maybe I'll have to use another tokenizer.

MappingCharFilter with StandardTokenizer option exists.

NormalizeCharMap map = new NormalizeCharMap();
map.add("-", " "); 

TokenStream stream = new StandardTokenizer(
        new MappingCharFilter(map,
        new StringReader("nl-lt0"))); 




      

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46468-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jun 18 07:52:59 2010
Return-Path: <java-user-return-46468-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93685 invoked from network); 18 Jun 2010 07:52:59 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 18 Jun 2010 07:52:59 -0000
Received: (qmail 28253 invoked by uid 500); 18 Jun 2010 07:52:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27939 invoked by uid 500); 18 Jun 2010 07:52:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27929 invoked by uid 99); 18 Jun 2010 07:52:53 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Jun 2010 07:52:53 +0000
X-ASF-Spam-Status: No, hits=1.6 required=10.0
	tests=AWL,FREEMAIL_FROM,FREEMAIL_REPLYTO,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of simon.willnauer@googlemail.com designates 72.14.220.153 as permitted sender)
Received: from [72.14.220.153] (HELO fg-out-1718.google.com) (72.14.220.153)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Jun 2010 07:52:48 +0000
Received: by fg-out-1718.google.com with SMTP id 22so227496fge.5
        for <java-user@lucene.apache.org>; Fri, 18 Jun 2010 00:52:27 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:reply-to
         :in-reply-to:references:date:message-id:subject:from:to:content-type;
        bh=jQDvQNiS8za2TehBKEeVrL6C4CrPHRfqQ+0WgnI2iv4=;
        b=cT+IC62Twvn14oa+9ydVNQzJVVsE169/knlzw9ZlZ7EN34oi0hB6+CO9V65iI5oHGu
         fqMmEEu+gnv9xgKABAeWTsjdjV57g9in3HPY2xXSzG0d1xHkD8ZNPKzY+mz5Vu9abAPC
         AVp/eUvkK6pBX02ewvBtN9feiyKbcaCLO2aVE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=mime-version:reply-to:in-reply-to:references:date:message-id
         :subject:from:to:content-type;
        b=BbeFicYL+OhqMMmX8zB8cTsM+KpXaG2cP3pAolxXA6KcsGZj61T4w2ILj1jfmiWWHt
         DJzbUNVSPXja554RgswGGZDHOwmUCghoxl+vkcpNz44stgEdcgSf9zuYFAQg8S7NPLyO
         psmu08shaWoamRz7fkl16UD847yiejAZgQS0s=
MIME-Version: 1.0
Received: by 10.239.187.137 with SMTP id l9mr43318hbh.169.1276847547305; Fri, 
	18 Jun 2010 00:52:27 -0700 (PDT)
Received: by 10.239.152.68 with HTTP; Fri, 18 Jun 2010 00:52:27 -0700 (PDT)
Reply-To: simon.willnauer@gmail.com
In-Reply-To: <942122.76853.qm@web26208.mail.ukl.yahoo.com>
References: <392619.95993.qm@web52901.mail.re2.yahoo.com>
	<942122.76853.qm@web26208.mail.ukl.yahoo.com>
Date: Fri, 18 Jun 2010 09:52:27 +0200
Message-ID: <AANLkTik1fZ7vq0uqyS8k2CBplX8lbJYbrPPbHUqTkcTQ@mail.gmail.com>
Subject: Re: Strange behaviour of StandardTokenizer
From: Simon Willnauer <simon.willnauer@googlemail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8

Hi Anna,

what are you using you tokenizer for? There are a lot of different
options in lucene an StandardTokenizer is not necessarily the best
one. The behaviour you are see is that the tokenizer detects you token
as a number. When you look at the grammar that is kind of obvious.

<snip>
// floating point, serial, model numbers, ip addresses, etc.
// every other segment must have at least one digit
NUM        = ({ALPHANUM} {P} {HAS_DIGIT}
           | {HAS_DIGIT} {P} {ALPHANUM}
           | {ALPHANUM} ({P} {HAS_DIGIT} {P} {ALPHANUM})+
           | {HAS_DIGIT} ({P} {ALPHANUM} {P} {HAS_DIGIT})+
           | {ALPHANUM} {P} {HAS_DIGIT} ({P} {ALPHANUM} {P} {HAS_DIGIT})+
           | {HAS_DIGIT} {P} {ALPHANUM} ({P} {HAS_DIGIT} {P} {ALPHANUM})+)

// punctuation
P	         = ("_"|"-"|"/"|"."|",")

</snip>

you can either build your own custom filter which fixed only the
problem with numbers containing a '- ', use the MappingCharFilter or
switch to a different tokenizer.
If you could talk more about your usecase you might get better suggestions.

Simon

On Fri, Jun 18, 2010 at 9:03 AM, Anna Hunecke <annahunecke@yahoo.de> wrote:
> Hi Ahmet,
> thanks for the explanation. :)
> okay, so it is recognized as a number? I didn't expect that really. I expect that all words are either split at the minus or not.
> Maybe I'll have to use another tokenizer.
> Best,
> Anna
>
> --- Ahmet Arslan <iorixxx@yahoo.com> schrieb am Do, 17.6.2010:
>
>> Von: Ahmet Arslan <iorixxx@yahoo.com>
>> Betreff: Re: Strange behaviour of StandardTokenizer
>> An: java-user@lucene.apache.org
>> Datum: Donnerstag, 17. Juni, 2010 15:50 Uhr
>>
>> > I ran into a strange behaviour of the
>> StandardTokenizer.
>> > Terms containing a '-' are tokenized differently
>> depending
>> > on the context.
>> > For example, the term 'nl-lt' is split into 'nl' and
>> 'lt'.
>> > The term 'nl-lt0' is tokenized into 'nl-lt0'.
>> > Is this a bug or a feature?
>>
>> It is designed that way. TypeAttribute of those tokens are
>> different.
>>
>> > Can I avoid it somehow?
>>
>> Do you want to split at '-' char no matter what? If yes,
>> you can replace all '-' characters with whitespace using
>> MappingCharFilter before StandardTokenizer.
>>
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46469-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jun 18 13:51:56 2010
Return-Path: <java-user-return-46469-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41358 invoked from network); 18 Jun 2010 13:51:56 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 18 Jun 2010 13:51:56 -0000
Received: (qmail 53452 invoked by uid 500); 18 Jun 2010 13:51:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51766 invoked by uid 500); 18 Jun 2010 13:51:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51743 invoked by uid 99); 18 Jun 2010 13:51:47 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Jun 2010 13:51:47 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Jun 2010 13:51:40 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id 85326D36005;
	Fri, 18 Jun 2010 15:51:20 +0200 (CEST)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id bIy0zRU+qucn; Fri, 18 Jun 2010 15:51:10 +0200 (CEST)
Received: from VEGA (port-83-236-62-54.dynamic.qsc.de [83.236.62.54])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id 0EE56D36003;
	Fri, 18 Jun 2010 15:51:10 +0200 (CEST)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <dev@lucene.apache.org>,
	<general@lucene.apache.org>,
	<java-user@lucene.apache.org>
Subject: [ANNOUNCE] Release of Lucene Java 3.0.2 and 2.9.3
Date: Fri, 18 Jun 2010 15:51:27 +0200
Message-ID: <004a01cb0eed$594fc870$0bef5950$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AcsO7VkKsCqkXP1wQNO1BaEzCFf8Vw==
Content-Language: de
X-Virus-Checked: Checked by ClamAV on apache.org

Hello Lucene users,

On behalf of the Lucene development community I would like to announce the
release of Lucene Java versions 3.0.2 and 2.9.3:

Both releases fix bugs in the previous versions: 

 - 2.9.3 is a bugfix release for the Lucene Java 2.x series, based on Java
1.4. 
 - 3.0.2 has the same bug fix level but is for the Lucene Java 3.x series,
based on Java 5.

New users of Lucene are advised to use version 3.0.2 for new developments,
because it has a clean, type-safe API. 

Important improvements in these releases include: 
 - Fixed memory leaks in IndexWriter when large documents are indexed. It
also uses now shared memory pools for term vectors and stored fields.
IndexWriter now releases Fieldables and Readers on close.
 - NativeFSLockFactory fixes and improvements. Release write lock if
exception occurs in IndexWriter ctors.
 - FieldCacheImpl.getStringIndex() no longer throws an exception when term
count exceeds doc count.
 - Improve concurrency of IndexReader, especially in the context of near
real-time readers.
 - Near real-time readers, opened while addIndexes* is running, no longer
miss some segments.
 - Performance improvements in ParallelMultiSearcher (3.0.2 only).
 - IndexSearcher no longer throws NegativeArraySizeException if you pass
Integer.MAX_VALUE as nDocs to search methods.

Both releases are fully compatible with the corresponding previous versions.
We strongly recommend upgrading to 2.9.3 if you are using 2.9.x; and to
3.0.2 if you are using 3.0.x.

See core changes at
http://lucene.apache.org/java/3_0_2/changes/Changes.html
http://lucene.apache.org/java/2_9_3/changes/Changes.html

and contrib changes at
http://lucene.apache.org/java/3_0_2/changes/Contrib-Changes.html
http://lucene.apache.org/java/2_9_3/changes/Contrib-Changes.html

Binary and source distributions are available at
http://www.apache.org/dyn/closer.cgi/lucene/java/

Lucene artifacts are also available in the Maven2 repository at
http://repo1.maven.org/maven2/org/apache/lucene/

-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46470-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jun 18 14:07:44 2010
Return-Path: <java-user-return-46470-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48818 invoked from network); 18 Jun 2010 14:07:44 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 18 Jun 2010 14:07:44 -0000
Received: (qmail 66999 invoked by uid 500); 18 Jun 2010 14:07:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66785 invoked by uid 500); 18 Jun 2010 14:07:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66777 invoked by uid 99); 18 Jun 2010 14:07:41 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Jun 2010 14:07:41 +0000
X-ASF-Spam-Status: No, hits=-0.1 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of siraj@jobdiva.com designates 64.18.2.16 as permitted sender)
Received: from [64.18.2.16] (HELO exprod7og119.obsmtp.com) (64.18.2.16)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 18 Jun 2010 14:07:32 +0000
Received: from source ([64.147.106.2]) (using TLSv1) by exprod7ob119.postini.com ([64.18.6.12]) with SMTP
	ID DSNKTBt9jKBndFeD2RHkxk4+Cy5lOt5EGFac@postini.com; Fri, 18 Jun 2010 07:07:11 PDT
Received: from [10.10.1.80] (12.111.23.142) by mail.jobdiva.com (10.10.30.148)
 with Microsoft SMTP Server (TLS) id 8.1.436.0; Fri, 18 Jun 2010 10:08:55
 -0400
Message-ID: <4C1B7D5F.4030103@jobdiva.com>
Date: Fri, 18 Jun 2010 10:06:23 -0400
From: Siraj Haider <siraj@jobdiva.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.1.8) Gecko/20100227 Thunderbird/3.0.3
MIME-Version: 1.0
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Subject: Fwd: Exception when running search
Content-Type: multipart/alternative;
	boundary="------------090809040800090204060501"
X-Virus-Checked: Checked by ClamAV on apache.org

--------------090809040800090204060501
Content-Type: text/plain; charset="iso-8859-1"; format=flowed
Content-Transfer-Encoding: 7bit

Just wanted to mention that I am using Lucene 2.9.2 if it helps.

thanks
-siraj

-------- Original Message --------
Subject: 	Exception when running search
Date: 	Thu, 17 Jun 2010 13:06:04 -0400
From: 	Siraj Haider <siraj@jobdiva.com>
Reply-To: 	java-user@lucene.apache.org <java-user@lucene.apache.org>
To: 	java-user@lucene.apache.org <java-user@lucene.apache.org>



I am trying to run a search using search(query, filter, n, sort) method
which return TopFieldDocs.  The sort is defined like: sort = new
Sort(new SortField("DATEISSUED", SortField.LONG, true)); and I am
passing filter as null.  The query I am passing is : +SK:1J +TEAMID:1
which return results successfully when I run it thru Luke. I am getting
the following exception when I run this code in tomcat (with sort).
Does anyone have an idea about what I am doing wrong?

thanks
-siraj

java.lang.ArrayIndexOutOfBoundsException: 0
          at
org.apache.lucene.search.FieldComparator$LongComparator.copy(FieldComparator.java:387)
          at
org.apache.lucene.search.TopFieldCollector$OneComparatorNonScoringCollector.collect(TopFieldCollector.java:84)
          at
org.apache.lucene.search.BooleanScorer2.score(BooleanScorer2.java:292)
          at
org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:248)
          at
org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:236)
          at
org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:179)
          at org.apache.lucene.search.Searcher.search(Searcher.java:90)
          at
com.axelon.jobindex.JobIndex.runSearch_JobDiva(JobIndex.java:325)
          at JobSearchServlet.service(JobSearchServlet.java:73)
          at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
          at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)
          at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
          at
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)
          at
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:178)
          at
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126)
          at
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)
          at
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:107)
          at
org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148)
          at
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:869)
          at
org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:664)
          at
org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:527)
          at
org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:80)
          at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684)
          at java.lang.Thread.run(Thread.java:619)
java.lang.ArrayIndexOutOfBoundsException: 0
          at
org.apache.lucene.search.FieldComparator$LongComparator.copy(FieldComparator.java:387)
          at
org.apache.lucene.search.TopFieldCollector$OneComparatorNonScoringCollector.collect(TopFieldCollector.java:84)
          at
org.apache.lucene.search.BooleanScorer2.score(BooleanScorer2.java:292)
          at
org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:248)
          at
org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:236)
          at
org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:179)
          at org.apache.lucene.search.Searcher.search(Searcher.java:90)
          at
com.axelon.jobindex.JobIndex.runSearch_JobDiva(JobIndex.java:325)
          at JobSearchServlet.service(JobSearchServlet.java:73)
          at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
          at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)
          at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
          at
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)
          at
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:178)
          at
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126)
          at
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)
          at
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:107)
          at
org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148)
          at
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:869)
          at
org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:664)
          at
org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:527)
          at
org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:80)
          at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684)
          at java.lang.Thread.run(Thread.java:619)


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



--------------090809040800090204060501--

From java-user-return-46471-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jun 18 14:13:02 2010
Return-Path: <java-user-return-46471-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50350 invoked from network); 18 Jun 2010 14:13:02 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 18 Jun 2010 14:13:02 -0000
Received: (qmail 84760 invoked by uid 500); 18 Jun 2010 14:13:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84622 invoked by uid 500); 18 Jun 2010 14:12:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84614 invoked by uid 99); 18 Jun 2010 14:12:59 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Jun 2010 14:12:59 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Jun 2010 14:12:52 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id 4E083D36005
	for <java-user@lucene.apache.org>; Fri, 18 Jun 2010 16:12:32 +0200 (CEST)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id erIMryhj8lxp for <java-user@lucene.apache.org>;
	Fri, 18 Jun 2010 16:12:20 +0200 (CEST)
Received: from VEGA (port-83-236-62-54.dynamic.qsc.de [83.236.62.54])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id 90430D36003
	for <java-user@lucene.apache.org>; Fri, 18 Jun 2010 16:12:19 +0200 (CEST)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <4C1B7D5F.4030103@jobdiva.com>
In-Reply-To: <4C1B7D5F.4030103@jobdiva.com>
Subject: RE: Exception when running search
Date: Fri, 18 Jun 2010 16:12:36 +0200
Message-ID: <004e01cb0ef0$4dec1ad0$e9c45070$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQFZjKN8Q0rrTUtiTLml0p4iKJrpppNqxzyQ
Content-Language: de
X-Virus-Checked: Checked by ClamAV on apache.org

Whats the code you use for search? What is n, what type of fields?

-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de


> -----Original Message-----
> From: Siraj Haider [mailto:siraj@jobdiva.com]
> Sent: Friday, June 18, 2010 4:06 PM
> To: java-user@lucene.apache.org
> Subject: Fwd: Exception when running search
> 
> Just wanted to mention that I am using Lucene 2.9.2 if it helps.
> 
> thanks
> -siraj
> 
> -------- Original Message --------
> Subject: 	Exception when running search
> Date: 	Thu, 17 Jun 2010 13:06:04 -0400
> From: 	Siraj Haider <siraj@jobdiva.com>
> Reply-To: 	java-user@lucene.apache.org <java-
> user@lucene.apache.org>
> To: 	java-user@lucene.apache.org <java-user@lucene.apache.org>
> 
> 
> 
> I am trying to run a search using search(query, filter, n, sort) method
which
> return TopFieldDocs.  The sort is defined like: sort = new Sort(new
> SortField("DATEISSUED", SortField.LONG, true)); and I am passing filter as
> null.  The query I am passing is : +SK:1J +TEAMID:1 which return results
> successfully when I run it thru Luke. I am getting the following exception
> when I run this code in tomcat (with sort).
> Does anyone have an idea about what I am doing wrong?
> 
> thanks
> -siraj
> 
> java.lang.ArrayIndexOutOfBoundsException: 0
>           at
> org.apache.lucene.search.FieldComparator$LongComparator.copy(FieldCom
> parator.java:387)
>           at
> org.apache.lucene.search.TopFieldCollector$OneComparatorNonScoringColl
> ector.collect(TopFieldCollector.java:84)
>           at
> org.apache.lucene.search.BooleanScorer2.score(BooleanScorer2.java:292)
>           at
> org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:248)
>           at
> org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:236)
>           at
> org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:179)
>           at org.apache.lucene.search.Searcher.search(Searcher.java:90)
>           at
> com.axelon.jobindex.JobIndex.runSearch_JobDiva(JobIndex.java:325)
>           at JobSearchServlet.service(JobSearchServlet.java:73)
>           at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
>           at
>
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Application
Fi
> lterChain.java:252)
>           at
>
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterCh
ai
> n.java:173)
>           at
> org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperV
> alve.java:213)
>           at
> org.apache.catalina.core.StandardContextValve.invoke(StandardContextVal
> ve.java:178)
>           at
> org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:
> 126)
>           at
> org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:1
> 05)
>           at
> org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.
> java:107)
>           at
> org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:1
> 48)
>           at
> org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:86
> 9)
>           at
> org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.pr
> ocessConnection(Http11BaseProtocol.java:664)
>           at
> org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint
> .java:527)
>           at
> org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollo
> werWorkerThread.java:80)
>           at
> org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPoo
> l.java:684)
>           at java.lang.Thread.run(Thread.java:619)
> java.lang.ArrayIndexOutOfBoundsException: 0
>           at
> org.apache.lucene.search.FieldComparator$LongComparator.copy(FieldCom
> parator.java:387)
>           at
> org.apache.lucene.search.TopFieldCollector$OneComparatorNonScoringColl
> ector.collect(TopFieldCollector.java:84)
>           at
> org.apache.lucene.search.BooleanScorer2.score(BooleanScorer2.java:292)
>           at
> org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:248)
>           at
> org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:236)
>           at
> org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:179)
>           at org.apache.lucene.search.Searcher.search(Searcher.java:90)
>           at
> com.axelon.jobindex.JobIndex.runSearch_JobDiva(JobIndex.java:325)
>           at JobSearchServlet.service(JobSearchServlet.java:73)
>           at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
>           at
>
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Application
Fi
> lterChain.java:252)
>           at
>
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterCh
ai
> n.java:173)
>           at
> org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperV
> alve.java:213)
>           at
> org.apache.catalina.core.StandardContextValve.invoke(StandardContextVal
> ve.java:178)
>           at
> org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:
> 126)
>           at
> org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:1
> 05)
>           at
> org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.
> java:107)
>           at
> org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:1
> 48)
>           at
> org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:86
> 9)
>           at
> org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.pr
> ocessConnection(Http11BaseProtocol.java:664)
>           at
> org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint
> .java:527)
>           at
> org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollo
> werWorkerThread.java:80)
>           at
> org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPoo
> l.java:684)
>           at java.lang.Thread.run(Thread.java:619)
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46472-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jun 18 14:26:53 2010
Return-Path: <java-user-return-46472-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58451 invoked from network); 18 Jun 2010 14:26:53 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 18 Jun 2010 14:26:53 -0000
Received: (qmail 6995 invoked by uid 500); 18 Jun 2010 14:26:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6936 invoked by uid 500); 18 Jun 2010 14:26:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6928 invoked by uid 99); 18 Jun 2010 14:26:50 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Jun 2010 14:26:50 +0000
X-ASF-Spam-Status: No, hits=-2.4 required=10.0
	tests=AWL,RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of siraj@jobdiva.com designates 64.18.2.22 as permitted sender)
Received: from [64.18.2.22] (HELO exprod7og122.obsmtp.com) (64.18.2.22)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 18 Jun 2010 14:26:44 +0000
Received: from source ([64.147.106.2]) (using TLSv1) by exprod7ob122.postini.com ([64.18.6.12]) with SMTP
	ID DSNKTBuCA72bO1chPDzofflQLTEcRYLSDvVr@postini.com; Fri, 18 Jun 2010 07:26:23 PDT
Received: from [10.10.1.80] (12.111.23.142) by mail.jobdiva.com (10.10.30.148)
 with Microsoft SMTP Server (TLS) id 8.1.436.0; Fri, 18 Jun 2010 10:26:41
 -0400
Message-ID: <4C1B8189.4050903@jobdiva.com>
Date: Fri, 18 Jun 2010 10:24:09 -0400
From: Siraj Haider <siraj@jobdiva.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.1.8) Gecko/20100227 Thunderbird/3.0.3
MIME-Version: 1.0
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
CC: Uwe Schindler <uwe@thetaphi.de>
Subject: Re: Exception when running search
References: <4C1B7D5F.4030103@jobdiva.com> <004e01cb0ef0$4dec1ad0$e9c45070$@thetaphi.de>
In-Reply-To: <004e01cb0ef0$4dec1ad0$e9c45070$@thetaphi.de>
Content-Type: text/plain; charset="ISO-8859-1"; format=flowed
Content-Transfer-Encoding: 7bit

I knew I was doing something stupid and a simple statement that you made 
urged me to check and the problem was, the n was passed as 0.  Thanks a 
lot Uwe.  On a side note, It would be better to see more readable 
exception instead of a ArrayIndexOutofBound.  Thanks alot for your help.

-siraj


On 6/18/2010 10:12 AM, Uwe Schindler wrote:
> Whats the code you use for search? What is n, what type of fields?
>
> -----
> Uwe Schindler
> H.-H.-Meier-Allee 63, D-28213 Bremen
> http://www.thetaphi.de
> eMail: uwe@thetaphi.de
>
>
>    
>> -----Original Message-----
>> From: Siraj Haider [mailto:siraj@jobdiva.com]
>> Sent: Friday, June 18, 2010 4:06 PM
>> To: java-user@lucene.apache.org
>> Subject: Fwd: Exception when running search
>>
>> Just wanted to mention that I am using Lucene 2.9.2 if it helps.
>>
>> thanks
>> -siraj
>>
>> -------- Original Message --------
>> Subject: 	Exception when running search
>> Date: 	Thu, 17 Jun 2010 13:06:04 -0400
>> From: 	Siraj Haider<siraj@jobdiva.com>
>> Reply-To: 	java-user@lucene.apache.org<java-
>> user@lucene.apache.org>
>> To: 	java-user@lucene.apache.org<java-user@lucene.apache.org>
>>
>>
>>
>> I am trying to run a search using search(query, filter, n, sort) method
>>      
> which
>    
>> return TopFieldDocs.  The sort is defined like: sort = new Sort(new
>> SortField("DATEISSUED", SortField.LONG, true)); and I am passing filter as
>> null.  The query I am passing is : +SK:1J +TEAMID:1 which return results
>> successfully when I run it thru Luke. I am getting the following exception
>> when I run this code in tomcat (with sort).
>> Does anyone have an idea about what I am doing wrong?
>>
>> thanks
>> -siraj
>>
>> java.lang.ArrayIndexOutOfBoundsException: 0
>>            at
>> org.apache.lucene.search.FieldComparator$LongComparator.copy(FieldCom
>> parator.java:387)
>>            at
>> org.apache.lucene.search.TopFieldCollector$OneComparatorNonScoringColl
>> ector.collect(TopFieldCollector.java:84)
>>            at
>> org.apache.lucene.search.BooleanScorer2.score(BooleanScorer2.java:292)
>>            at
>> org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:248)
>>            at
>> org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:236)
>>            at
>> org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:179)
>>            at org.apache.lucene.search.Searcher.search(Searcher.java:90)
>>            at
>> com.axelon.jobindex.JobIndex.runSearch_JobDiva(JobIndex.java:325)
>>            at JobSearchServlet.service(JobSearchServlet.java:73)
>>            at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
>>            at
>>
>>      
> org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Application
> Fi
>    
>> lterChain.java:252)
>>            at
>>
>>      
> org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterCh
> ai
>    
>> n.java:173)
>>            at
>> org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperV
>> alve.java:213)
>>            at
>> org.apache.catalina.core.StandardContextValve.invoke(StandardContextVal
>> ve.java:178)
>>            at
>> org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:
>> 126)
>>            at
>> org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:1
>> 05)
>>            at
>> org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.
>> java:107)
>>            at
>> org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:1
>> 48)
>>            at
>> org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:86
>> 9)
>>            at
>> org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.pr
>> ocessConnection(Http11BaseProtocol.java:664)
>>            at
>> org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint
>> .java:527)
>>            at
>> org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollo
>> werWorkerThread.java:80)
>>            at
>> org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPoo
>> l.java:684)
>>            at java.lang.Thread.run(Thread.java:619)
>> java.lang.ArrayIndexOutOfBoundsException: 0
>>            at
>> org.apache.lucene.search.FieldComparator$LongComparator.copy(FieldCom
>> parator.java:387)
>>            at
>> org.apache.lucene.search.TopFieldCollector$OneComparatorNonScoringColl
>> ector.collect(TopFieldCollector.java:84)
>>            at
>> org.apache.lucene.search.BooleanScorer2.score(BooleanScorer2.java:292)
>>            at
>> org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:248)
>>            at
>> org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:236)
>>            at
>> org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:179)
>>            at org.apache.lucene.search.Searcher.search(Searcher.java:90)
>>            at
>> com.axelon.jobindex.JobIndex.runSearch_JobDiva(JobIndex.java:325)
>>            at JobSearchServlet.service(JobSearchServlet.java:73)
>>            at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
>>            at
>>
>>      
> org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Application
> Fi
>    
>> lterChain.java:252)
>>            at
>>
>>      
> org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterCh
> ai
>    
>> n.java:173)
>>            at
>> org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperV
>> alve.java:213)
>>            at
>> org.apache.catalina.core.StandardContextValve.invoke(StandardContextVal
>> ve.java:178)
>>            at
>> org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:
>> 126)
>>            at
>> org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:1
>> 05)
>>            at
>> org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.
>> java:107)
>>            at
>> org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:1
>> 48)
>>            at
>> org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:86
>> 9)
>>            at
>> org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.pr
>> ocessConnection(Http11BaseProtocol.java:664)
>>            at
>> org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint
>> .java:527)
>>            at
>> org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollo
>> werWorkerThread.java:80)
>>            at
>> org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPoo
>> l.java:684)
>>            at java.lang.Thread.run(Thread.java:619)
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>      
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>    


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46473-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jun 18 22:18:38 2010
Return-Path: <java-user-return-46473-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17521 invoked from network); 18 Jun 2010 22:18:38 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 18 Jun 2010 22:18:38 -0000
Received: (qmail 57443 invoked by uid 500); 18 Jun 2010 22:18:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57333 invoked by uid 500); 18 Jun 2010 22:18:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57322 invoked by uid 99); 18 Jun 2010 22:18:34 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Jun 2010 22:18:34 +0000
X-ASF-Spam-Status: No, hits=-0.3 required=10.0
	tests=AWL,FREEMAIL_FROM,SPF_HELO_PASS,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 216.139.236.158 is neither permitted nor denied by domain of fayyazuddin@gmail.com)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Jun 2010 22:18:29 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <fayyazuddin@gmail.com>)
	id 1OPjt3-0002K7-4X
	for java-user@lucene.apache.org; Fri, 18 Jun 2010 15:18:09 -0700
Date: Fri, 18 Jun 2010 15:18:09 -0700 (PDT)
From: syedfa <fayyazuddin@gmail.com>
To: java-user@lucene.apache.org
Message-ID: <1276899489132-906662.post@n3.nabble.com>
Subject: Difference between PhraseQuery and Span(Near)Query
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit


Dear fellow Java developers:

I am reading up on PhraseQuery to search for an exact match for terms that
appear exactly in a particular order for a field (i.e. slop value of 0). 
However, I came across SpanNearQuery which appears to work in a similar
fashion, but am confused, due to it's variations.  Can SpanNearQuery, or
SpanQuery also be used to find an exact match for a phrase provided by the
user?  What are the differences between SpanNearQuery(and SpanQuery for that
matter), and PhraseQuery, and when should I use each Query?

Thanks in advance to all who reply.

Sincerely;
Fayyaz


-- 
View this message in context: http://lucene.472066.n3.nabble.com/Difference-between-PhraseQuery-and-Span-Near-Query-tp906662p906662.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46474-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jun 19 06:40:55 2010
Return-Path: <java-user-return-46474-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55972 invoked from network); 19 Jun 2010 06:40:55 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 19 Jun 2010 06:40:55 -0000
Received: (qmail 87434 invoked by uid 500); 19 Jun 2010 06:40:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87091 invoked by uid 500); 19 Jun 2010 06:40:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87037 invoked by uid 99); 19 Jun 2010 06:40:48 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 Jun 2010 06:40:48 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of goksron@gmail.com designates 209.85.216.176 as permitted sender)
Received: from [209.85.216.176] (HELO mail-qy0-f176.google.com) (209.85.216.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 Jun 2010 06:40:42 +0000
Received: by qyk9 with SMTP id 9so561802qyk.35
        for <java-user@lucene.apache.org>; Fri, 18 Jun 2010 23:40:21 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=bayRxVCr0UCCoYJksg6PpZ97q3W52n55/S4uIkjdHs8=;
        b=aUqREUR+4kmoZiIal8YRDUqVH4Api+dNc5CBjI4kmrWO74w62w0W4uqpBZFV4Ca2p7
         tt6eIhp4at0QzKdT6IGwPtrd9BpIlrv84TgHa4GTG+ZIus08msohqvlnSYJ7U6QvQTxs
         eRLx1BzqdqWj9jzYOW8embg+nSEhriR5s3q4g=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=xEjYDjpdoLAWKcG90+myTTK/8jhOBDw18rxBSqGB9xTi7Duv6QU2D96iUtBOJ2AW4p
         OBkvQsQcr+VeNGujTzrQWep4ed4r7G4zSvoLYiwjLBc3jwL8G4haXbS50/AOLvh27edW
         f60KpxxagtmhbRB/qVOOicCPbS3vS/7XLDAPE=
MIME-Version: 1.0
Received: by 10.224.43.197 with SMTP id x5mr1447139qae.127.1276929621262; Fri, 
	18 Jun 2010 23:40:21 -0700 (PDT)
Received: by 10.229.212.12 with HTTP; Fri, 18 Jun 2010 23:40:21 -0700 (PDT)
In-Reply-To: <AANLkTilSRaO-6MhIom_3o32GlvoNi-gsLGdmC2nViGAK@mail.gmail.com>
References: <AANLkTil0YsFPzALnNIXEau7NoOexMLyer2y2aTugoKPG@mail.gmail.com>
	<AANLkTikBh8oMkv_r_XwBIeyCY4ERE5H3K8kjkqIO9qtU@mail.gmail.com>
	<AANLkTikRvMEW1g9zKta_kxxQeGyDCuCAV3Ki1ni8dBsK@mail.gmail.com>
	<AANLkTinXe-VsAeIQcYUYUV5oh-sjKQcm3WAsL-vCk0cx@mail.gmail.com>
	<AANLkTimmA64hwiDXL9MKP2SjChT4dnfeU388EKxexfsc@mail.gmail.com>
	<AANLkTilSRaO-6MhIom_3o32GlvoNi-gsLGdmC2nViGAK@mail.gmail.com>
Date: Fri, 18 Jun 2010 23:40:21 -0700
Message-ID: <AANLkTilLsCN_DZGBmWtzpj9Sikr2Mz6ByLSLIaPKjxZV@mail.gmail.com>
Subject: Re: segment_N file is missed
From: Lance Norskog <goksron@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

This code is old (2006!) and I've updated it for Lucene 2.9.2, ad the
trunk.This version only works for one CFS file (that I've tested). The
code does not check versions carefully.  Here are both versions:

Lucene 2.9.2:
--------------------------------
package org.apache.lucene.index;

import java.io.File;
import java.io.FilenameFilter;
import java.io.IOException;

import org.apache.lucene.store.Directory;
import org.apache.lucene.store.FSDirectory;
import org.apache.lucene.store.IndexInput;

public class CFSopen {

  // this code fixes up a directory
  // make a ramdirectory, use this to fix it up if needed
  // does compoundfilereader work directly?

  Directory fixIndex(String path) throws IOException {
    File file = new File(path);
    Directory directory = FSDirectory.getDirectory(file, false);

    String[] files = file.list(new FilenameFilter() {
      public boolean accept(File dir, String name) {
        return name.endsWith(".cfs");
      }
    });

    SegmentInfos infos = new SegmentInfos();
    int counter = 0;
    for (int i = 0; i < files.length; i++) {
      String fileName = files[i];
      String segmentName = fileName.substring(1, fileName.lastIndexOf('.'));

      int segmentInt = Integer.parseInt(segmentName, Character.MAX_RADIX);
      counter = Math.max(counter, segmentInt);

      segmentName = fileName.substring(0, fileName.lastIndexOf('.'));

      Directory fileReader = new CompoundFileReader(directory, fileName);
      IndexInput indexStream = fileReader.openInput(".fdx");
      int size = (int) (indexStream.length() / 8);
      indexStream.close();
      fileReader.close();

      SegmentInfo segmentInfo = new SegmentInfo(segmentName, size, directory);
      infos.addElement(segmentInfo);
    }

    infos.counter = ++counter;

    infos.prepareCommit(directory);
    infos.finishCommit(directory);
    return directory;
  }

  /**
   * @param args
   * @throws IOException
   */
  public static void main(String[] args) throws IOException {
    // TODO Auto-generated method stub
    CFSopen cfsopen = new CFSopen();
    Directory dir = cfsopen.fixIndex("/cygwin/tmp/index");
    dir.hashCode();
  }

}

---------------------------------------
trunk:
---------------------------------------
package org.apache.lucene.index;

import java.io.File;
import java.io.FilenameFilter;
import java.io.IOException;

import org.apache.lucene.index.codecs.Codec;
import org.apache.lucene.index.codecs.standard.StandardCodec;
import org.apache.lucene.store.Directory;
import org.apache.lucene.store.FSDirectory;
import org.apache.lucene.store.IndexInput;

public class CFSopen {

  Directory fixIndex(String path) throws IOException {
    File file = new File(path);
    Directory directory = FSDirectory.open(file);

    String[] files = file.list(new FilenameFilter() {
      public boolean accept(File dir, String name) {
        return name.endsWith(".cfs");
      }
    });

    SegmentInfos infos = new SegmentInfos();
    int counter = 0;
    for (int i = 0; i < files.length; i++) {
      String fileName = files[i];
      String segmentName = fileName.substring(1, fileName.lastIndexOf('.'));

      int segmentInt = Integer.parseInt(segmentName, Character.MAX_RADIX);
      counter = Math.max(counter, segmentInt);

      segmentName = fileName.substring(0, fileName.lastIndexOf('.'));

      Directory fileReader = new CompoundFileReader(directory, fileName);
      IndexInput indexStream = fileReader.openInput(".fdx");
      int size = (int) (indexStream.length() / 8);
      indexStream.close();
      fileReader.close();

      // need to get codec name out of the CFS files
      Codec codec = new StandardCodec();
      SegmentInfo segmentInfo = new SegmentInfo(segmentName, size,
directory, false, -1, null, false, false, codec );
      infos.addElement(segmentInfo);
    }

    infos.counter = ++counter;

    infos.prepareCommit(directory);
    infos.finishCommit(directory);
    return directory;
  }

  /**
   * @param args
   * @throws IOException
   */
  public static void main(String[] args) throws IOException {
    // TODO Auto-generated method stub
    CFSopen cfsopen = new CFSopen();
    Directory dir = cfsopen.fixIndex("/cygwin/tmp/index");
    dir.hashCode();
  }

}




On 6/16/10, Michael McCandless <lucene@mikemccandless.com> wrote:
> On Wed, Jun 16, 2010 at 10:38 AM, Yonik Seeley
> <yonik@lucidimagination.com> wrote:
>> On Tue, Jun 15, 2010 at 5:23 AM, Michael McCandless
>> <lucene@mikemccandless.com> wrote:
>>> CheckIndex is not able to recover from this corruption (missing
>>> segments_N file); this would be a nice addition...
>>>
>>> But it sounds like you've worked out a way to write your own segmetns_N?
>>>
>>> Use oal.store.ChecksumIndexOutput (wraps any other IndexOutput) to
>>> properly write the checksum.
>>>
>>> BTW how did you lose your segments_N file...?
>>
>> Can this also be caused by the new behavior introduced here?
>> https://issues.apache.org/jira/browse/LUCENE-2386
>> If you open a writer, add docs, and then crash before calling commit?
>
> That could be; Maryam is that what happened?
>
> Mike
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


-- 
Lance Norskog
goksron@gmail.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46475-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jun 19 23:55:49 2010
Return-Path: <java-user-return-46475-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83793 invoked from network); 19 Jun 2010 23:55:49 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 19 Jun 2010 23:55:49 -0000
Received: (qmail 9041 invoked by uid 500); 19 Jun 2010 23:55:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8948 invoked by uid 500); 19 Jun 2010 23:55:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8940 invoked by uid 99); 19 Jun 2010 23:55:46 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 Jun 2010 23:55:46 +0000
X-ASF-Spam-Status: No, hits=-0.4 required=10.0
	tests=AWL,FREEMAIL_FROM,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of goksron@gmail.com designates 209.85.161.176 as permitted sender)
Received: from [209.85.161.176] (HELO mail-gx0-f176.google.com) (209.85.161.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 Jun 2010 23:55:41 +0000
Received: by gxk23 with SMTP id 23so1803454gxk.35
        for <java-user@lucene.apache.org>; Sat, 19 Jun 2010 16:55:20 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=gGy3G12Ym1yG6WKuM+fWd1FdJQkkF77yCscagzM+AGo=;
        b=n5+Og/aWG/9ATuXrGpLtl5SZu+OKJmEZi0pph9v0IYITO1gmAbVbTyUNHm3wrRrnaN
         RoEJHMzE9F87WE7XNJwNhGKlLJfl7/VbKFyUdIGJRPZKxG7xUpWzDdrwCg+wsaapGNHK
         dCryJwHsXWYxOAY7y8lf8U7lT/3wqKlrORWHA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=rOgy/RKbtGr/2hAD/tINJr5eEQqBNvtRTJeXW7tIaq8x2kNi1X8HuYBigq9F7cGeU3
         RWC1qNtP53uZ2QQQCaCevYgsjst+ZCRwqqvwDOb4zT+QEOQHWXfTe5lTi7rgi1Ex72H4
         Do+BhQG2KzYhXHDsey6Q+D3NjzqQa35pskMas=
MIME-Version: 1.0
Received: by 10.229.233.14 with SMTP id jw14mr1578989qcb.180.1276991720079; 
	Sat, 19 Jun 2010 16:55:20 -0700 (PDT)
Received: by 10.229.212.12 with HTTP; Sat, 19 Jun 2010 16:55:20 -0700 (PDT)
In-Reply-To: <AANLkTikClG4z1hS2FZsO6cYP6PHGRSXY7Pqgy70yhX24@mail.gmail.com>
References: <AANLkTiksXNSacKNdripDshXY2T0CStZMc6uCoQSLRHcg@mail.gmail.com>
	<AANLkTikClG4z1hS2FZsO6cYP6PHGRSXY7Pqgy70yhX24@mail.gmail.com>
Date: Sat, 19 Jun 2010 16:55:20 -0700
Message-ID: <AANLkTinzVhPU7mabTXcx6R4YTWxKd55txsPJLFDpqoRE@mail.gmail.com>
Subject: Re: phrase search in a particular case
From: Lance Norskog <goksron@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8

SpanFirstQuery is the clean option. Another option is to add a "start
token" to each title. Then, search for "startToken oil spill". This
will be faster than SpanFirstQuery. But it also requires doing
something weird to the field.

Lance

On Thu, Jun 17, 2010 at 3:19 PM, Michael McCandless
<lucene@mikemccandless.com> wrote:
> SpanFirstQuery?
>
> Mike
>
> On Thu, Jun 17, 2010 at 3:23 PM, rakesh rakesh <rakeshiit.2009@gmail.com> wrote:
>> Hi,
>>
>> I have thousands of article titles in lucene index. So for a query "Oil
>> spill" I want to return all the article title starts with "Oil spill". I do
>> not want those titles which has this phrase but do not start with this.
>>
>> Can anyone help me.
>>
>> Thanks in advance
>>
>> Thanks
>> rakesh
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>



-- 
Lance Norskog
goksron@gmail.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46476-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jun 20 18:01:13 2010
Return-Path: <java-user-return-46476-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84261 invoked from network); 20 Jun 2010 18:01:12 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 20 Jun 2010 18:01:12 -0000
Received: (qmail 57268 invoked by uid 500); 20 Jun 2010 18:01:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57156 invoked by uid 500); 20 Jun 2010 18:01:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57148 invoked by uid 99); 20 Jun 2010 18:01:09 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Jun 2010 18:01:09 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of victor.kabdebon@gmail.com designates 74.125.82.176 as permitted sender)
Received: from [74.125.82.176] (HELO mail-wy0-f176.google.com) (74.125.82.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Jun 2010 18:01:02 +0000
Received: by wyb29 with SMTP id 29so2721402wyb.35
        for <java-user@lucene.apache.org>; Sun, 20 Jun 2010 11:00:41 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:from:date
         :message-id:subject:to:content-type;
        bh=HFYALrvljBMWZH17vp+qInykpdpkccqmQDJHdHaJyLw=;
        b=vGodKxjEv3QdPo9THUr/DWeMC14OTX+zbLymhkm02KnF1FlvEogyU4WwWLPglw2N+/
         aYCzHpJSUZiLSX9/1E4eQil+WMQtmnJi0euR+lb2qwScqKHOkJjxobqEWubWMm1jN8Qd
         voLavp+pIyugoyBv2H/x5v9f9aCVlI6O59OeU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:from:date:message-id:subject:to:content-type;
        b=DqFQUNuDhOLMCUux57FQiZ0Ucw/6AVKPZ+wffPRIUDoCdEXvxD/nF9GA9yjk+Net31
         8ZZNuawwJcAajpfKaXFMg0KJEveATbsX8Er6R0r8FBRUXzXiWg/2iYiNfjLuAuKnkeS+
         z6PRFkBeCmMqho+wE32pmtSw5VkF9Sxf6x9Ok=
Received: by 10.216.175.132 with SMTP id z4mr2002209wel.23.1277056841225; Sun, 
	20 Jun 2010 11:00:41 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.216.159.18 with HTTP; Sun, 20 Jun 2010 11:00:21 -0700 (PDT)
From: Victor Kabdebon <victor.kabdebon@gmail.com>
Date: Sun, 20 Jun 2010 20:00:21 +0200
Message-ID: <AANLkTimrX3UFXfcTKCG9Tb9A_66jGHHUbkayuAyK7Jfx@mail.gmail.com>
Subject: Question from a new user : IndexSearcher.doc
To: java-user <java-user@lucene.apache.org>
Content-Type: multipart/alternative; boundary=001636499c3f611fe6048979f794
X-Virus-Checked: Checked by ClamAV on apache.org

--001636499c3f611fe6048979f794
Content-Type: text/plain; charset=ISO-8859-1

Hello everybody,

I am new to Apache Lucene and it seems to fit perfectly my needs for my
application.
However I'm a little concerned about something (pardon me if it's a
recurrent question, I've searched the archives but I didn't find something
about that)

So here is my case :

I have index a few files (like 10) and I'm trying to search something stupid
in it. The word "test". So after opening everything etc... (assuming it
works also) I do that :

*Term test = new Term("text_comment","test");*
*        Query query = new TermQuery(test);*
*        TopDocs top = searcher.search(query, 10);*

I want to recover the first document (I have 2 documents in TopDocs), I do :

*IndexSearcher.doc( top[0].doc)*

I searched a little bit in javadoc and I saw that this method uses "int" as
a parameter
I'm a little bit concerned about this... At the moment, I have 10 documents
so that's ok, but if I want to index let's say 20 files documents, how will
the IndexSearcher.doc(int) be able to retrieve documents ?
Same problem if 100.000 files have the word "test" in "text_comment" will I
still be able to get these 100.000 documents or is it going to be a problem
?

Thank you very much.

--001636499c3f611fe6048979f794--

From java-user-return-46477-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jun 20 19:14:39 2010
Return-Path: <java-user-return-46477-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7600 invoked from network); 20 Jun 2010 19:14:39 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 20 Jun 2010 19:14:39 -0000
Received: (qmail 92776 invoked by uid 500); 20 Jun 2010 19:14:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92721 invoked by uid 500); 20 Jun 2010 19:14:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92713 invoked by uid 99); 20 Jun 2010 19:14:36 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Jun 2010 19:14:36 +0000
X-ASF-Spam-Status: No, hits=2.8 required=10.0
	tests=FREEMAIL_FROM,FREEMAIL_REPLYTO,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of simon.willnauer@googlemail.com designates 72.14.220.156 as permitted sender)
Received: from [72.14.220.156] (HELO fg-out-1718.google.com) (72.14.220.156)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Jun 2010 19:14:29 +0000
Received: by fg-out-1718.google.com with SMTP id 22so742070fge.5
        for <java-user@lucene.apache.org>; Sun, 20 Jun 2010 12:14:09 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:reply-to
         :in-reply-to:references:date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=R2q5npRUxl0qrxIwTZUohZBnFhbD99oUS1wi1h+wUeQ=;
        b=UVlbK9xAt7LKPiogNPkZn7njyBCKyJ/ScQTPcYCzHaQEG4FaGlVt0B/inV3eQZfAZV
         +T1vywmjwWNA/lXWwDKy+v+9dhH54HX7p8JxlyP09l6I+qXmV/HHCorpzH2rldrk7CDx
         o8R8stIth06PZriccOgH9qpa1hdKMvbPO9gns=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=mime-version:reply-to:in-reply-to:references:date:message-id
         :subject:from:to:content-type:content-transfer-encoding;
        b=dLYqPsR4WqUqq1viXk2WDqLQkQ0wVY9adkDP+xf/RPNG2OhjFMXzbHsUe81mOQm0PS
         oiHCGELLIC9DQEHCFZ8MB3VoKHYKPnZzm460eQILb4RiyS2Ks8xl/6PgKxsssIN6f0i0
         uVuIjylE06oiR4r3P41V3fi7k24ELKbGhw8/o=
MIME-Version: 1.0
Received: by 10.239.187.137 with SMTP id l9mr256385hbh.169.1277061248352; Sun, 
	20 Jun 2010 12:14:08 -0700 (PDT)
Received: by 10.239.152.68 with HTTP; Sun, 20 Jun 2010 12:14:08 -0700 (PDT)
Reply-To: simon.willnauer@gmail.com
In-Reply-To: <AANLkTimrX3UFXfcTKCG9Tb9A_66jGHHUbkayuAyK7Jfx@mail.gmail.com>
References: <AANLkTimrX3UFXfcTKCG9Tb9A_66jGHHUbkayuAyK7Jfx@mail.gmail.com>
Date: Sun, 20 Jun 2010 21:14:08 +0200
Message-ID: <AANLkTimfu-tl7fI2iAJbtoxy94XPpGkByIuN91hlFchS@mail.gmail.com>
Subject: Re: Question from a new user : IndexSearcher.doc
From: Simon Willnauer <simon.willnauer@googlemail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Hi, maybe I don't understand your question correctly. Are you asking
if you could run into problems if you retrieve more documents than
integer max value? Or are you concerned about retrieving all documents
containing term "XY" if the number of documents matching is large? If
you are afraid of loading all documents matched from a stored field I
guess you are doing something wrong.
What are you using lucene for?

simon

On Sun, Jun 20, 2010 at 8:00 PM, Victor Kabdebon
<victor.kabdebon@gmail.com> wrote:
> Hello everybody,
>
> I am new to Apache Lucene and it seems to fit perfectly my needs for my
> application.
> However I'm a little concerned about something (pardon me if it's a
> recurrent question, I've searched the archives but I didn't find somethin=
g
> about that)
>
> So here is my case :
>
> I have index a few files (like 10) and I'm trying to search something stu=
pid
> in it. The word "test". So after opening everything etc... (assuming it
> works also) I do that :
>
> *Term test =3D new Term("text_comment","test");*
> * =C2=A0 =C2=A0 =C2=A0 =C2=A0Query query =3D new TermQuery(test);*
> * =C2=A0 =C2=A0 =C2=A0 =C2=A0TopDocs top =3D searcher.search(query, 10);*
>
> I want to recover the first document (I have 2 documents in TopDocs), I d=
o :
>
> *IndexSearcher.doc( top[0].doc)*
>
> I searched a little bit in javadoc and I saw that this method uses "int" =
as
> a parameter
> I'm a little bit concerned about this... At the moment, I have 10 documen=
ts
> so that's ok, but if I want to index let's say 20 files documents, how wi=
ll
> the IndexSearcher.doc(int) be able to retrieve documents ?
> Same problem if 100.000 files have the word "test" in "text_comment" will=
 I
> still be able to get these 100.000 documents or is it going to be a probl=
em
> ?
>
> Thank you very much.
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46478-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jun 20 20:05:22 2010
Return-Path: <java-user-return-46478-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18660 invoked from network); 20 Jun 2010 20:05:22 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 20 Jun 2010 20:05:22 -0000
Received: (qmail 16150 invoked by uid 500); 20 Jun 2010 20:05:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16045 invoked by uid 500); 20 Jun 2010 20:05:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16037 invoked by uid 99); 20 Jun 2010 20:05:19 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Jun 2010 20:05:19 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of victor.kabdebon@gmail.com designates 74.125.82.48 as permitted sender)
Received: from [74.125.82.48] (HELO mail-ww0-f48.google.com) (74.125.82.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Jun 2010 20:05:12 +0000
Received: by wwb34 with SMTP id 34so457573wwb.35
        for <java-user@lucene.apache.org>; Sun, 20 Jun 2010 13:04:52 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type;
        bh=TMSKZEuoyF8dOteDmXq5k+OV2lS+ZnIMUKsjkGz1nJs=;
        b=eaKOa6/mTDprc9EcyBb4cP7pCPDq8iqemL3KMnV12xwTnzdXRLrSgkuwT/5ZlUx32z
         nF+03wqrPG5sKHeI2oFCROs/lntKPctWCQJE7J28ACuFWST/AjbfBbzHc37dQQscYhxU
         Ro/PxXxEl0nf8q3MfVfVnrpbQ4+VZqTQ0xZXg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=O4bvZuFZtm+pdd/tVdt319gvGnW3EaaQ5MELXatr08WpIZTcY03m0M/PsWj3Ka2wxb
         C/IIvUIuaHE0HsDTXfZi1NlmhOeiPjxsgnY/aStZk1OYkoIDBMzAKaYLANPu3q3oa7oQ
         Y4aqEpYGOVthwBVKRcTvJSR74bu/LfrAJz+DE=
Received: by 10.216.154.7 with SMTP id g7mr2662506wek.64.1277064292203; Sun, 
	20 Jun 2010 13:04:52 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.216.159.18 with HTTP; Sun, 20 Jun 2010 13:04:32 -0700 (PDT)
In-Reply-To: <AANLkTimfu-tl7fI2iAJbtoxy94XPpGkByIuN91hlFchS@mail.gmail.com>
References: <AANLkTimrX3UFXfcTKCG9Tb9A_66jGHHUbkayuAyK7Jfx@mail.gmail.com> 
	<AANLkTimfu-tl7fI2iAJbtoxy94XPpGkByIuN91hlFchS@mail.gmail.com>
From: Victor Kabdebon <victor.kabdebon@gmail.com>
Date: Sun, 20 Jun 2010 22:04:32 +0200
Message-ID: <AANLkTinlnHSvghy-QEst5Y12mukV83VtDm95aAtL8P4u@mail.gmail.com>
Subject: Re: Question from a new user : IndexSearcher.doc
To: java-user@lucene.apache.org, simon.willnauer@gmail.com
Content-Type: multipart/alternative; boundary=0016e64c2de47dfeb604897bb39f
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e64c2de47dfeb604897bb39f
Content-Type: text/plain; charset=ISO-8859-1

Hello Simon,

As I told you, I am quite new with Lucene, so there are many things that
might be wrong.
I'm using Lucene to make a search service for a website that has a large
amount of information daily. This amount of information is directly avaible
as text in a Cassandra Database.
There might be as much as 10.000 new documents added daily, and yes my
concern is it possible to retrieve more documents than the integer max value
?
I don't really see also how the IndexSearcher.doc( ) really works, because
it seems like we give this method an ID and it is going to search in the
indexed documents. So what exactly is going to do this
IndexSearcher.doc(int) ?

*Or are you concerned about retrieving all documents
containing term "XY" if the number of documents matching is large?*
*
*

I'm also concerned by this problem, yes

Could you explain me a little bit how it works, and how Lucene enables one
to retrieve a very large number of documents even if it uses int ?

Thank you for your answers,
Victor

2010/6/20 Simon Willnauer <simon.willnauer@googlemail.com>

> Hi, maybe I don't understand your question correctly. Are you asking
> if you could run into problems if you retrieve more documents than
> integer max value? Or are you concerned about retrieving all documents
> containing term "XY" if the number of documents matching is large? If
> you are afraid of loading all documents matched from a stored field I
> guess you are doing something wrong.
> What are you using lucene for?
>
> simon
>
> On Sun, Jun 20, 2010 at 8:00 PM, Victor Kabdebon
> <victor.kabdebon@gmail.com> wrote:
> > Hello everybody,
> >
> > I am new to Apache Lucene and it seems to fit perfectly my needs for my
> > application.
> > However I'm a little concerned about something (pardon me if it's a
> > recurrent question, I've searched the archives but I didn't find
> something
> > about that)
> >
> > So here is my case :
> >
> > I have index a few files (like 10) and I'm trying to search something
> stupid
> > in it. The word "test". So after opening everything etc... (assuming it
> > works also) I do that :
> >
> > *Term test = new Term("text_comment","test");*
> > *        Query query = new TermQuery(test);*
> > *        TopDocs top = searcher.search(query, 10);*
> >
> > I want to recover the first document (I have 2 documents in TopDocs), I
> do :
> >
> > *IndexSearcher.doc( top[0].doc)*
> >
> > I searched a little bit in javadoc and I saw that this method uses "int"
> as
> > a parameter
> > I'm a little bit concerned about this... At the moment, I have 10
> documents
> > so that's ok, but if I want to index let's say 20 files documents, how
> will
> > the IndexSearcher.doc(int) be able to retrieve documents ?
> > Same problem if 100.000 files have the word "test" in "text_comment" will
> I
> > still be able to get these 100.000 documents or is it going to be a
> problem
> > ?
> >
> > Thank you very much.
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--0016e64c2de47dfeb604897bb39f--

From java-user-return-46479-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 21 01:46:14 2010
Return-Path: <java-user-return-46479-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78127 invoked from network); 21 Jun 2010 01:46:14 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 21 Jun 2010 01:46:14 -0000
Received: (qmail 11786 invoked by uid 500); 21 Jun 2010 01:46:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11731 invoked by uid 500); 21 Jun 2010 01:46:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11723 invoked by uid 99); 21 Jun 2010 01:46:11 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Jun 2010 01:46:11 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of erickerickson@gmail.com designates 209.85.160.176 as permitted sender)
Received: from [209.85.160.176] (HELO mail-gy0-f176.google.com) (209.85.160.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Jun 2010 01:46:04 +0000
Received: by gyf1 with SMTP id 1so3023415gyf.35
        for <java-user@lucene.apache.org>; Sun, 20 Jun 2010 18:45:43 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=12qfC2AT6c0P+xbLY57V9vvJzqFjuEDhr20KdVM2gqI=;
        b=BR2P49CEgcHBJrlDV3zjTbkGgup+8nYU9F42iJRESPgmhwucqN+LkM4NWzLv1+vJYM
         6Ls0IX6aU5Xi0frrpA9L0xKEMXnNyASHKrtXYtW/kjj2c46IKRp9LOk/o4RFq9Xr+cr6
         P99Gtnah6jlGl1H9xqGA0La3Aqv9Jp7bROG9U=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=S9FfDSIu74/wK6qJd8PWEKrphwlNKOE0YTcEc7Wf+dn+llz0/4OZ9853YQWGA35f/I
         tGyf6F0/lrnA959a0PXbq4IpJ7Ep6ZuFx3uFfcZiJ+YQzg3HFXVWmkE9nrteXvwjyqq6
         XAfeSuCthy9ixLazNbvpb2zNjYT1ElnEyle9Y=
MIME-Version: 1.0
Received: by 10.150.214.11 with SMTP id m11mr3663961ybg.282.1277084743061; 
	Sun, 20 Jun 2010 18:45:43 -0700 (PDT)
Received: by 10.150.54.2 with HTTP; Sun, 20 Jun 2010 18:45:43 -0700 (PDT)
In-Reply-To: <AANLkTinlnHSvghy-QEst5Y12mukV83VtDm95aAtL8P4u@mail.gmail.com>
References: <AANLkTimrX3UFXfcTKCG9Tb9A_66jGHHUbkayuAyK7Jfx@mail.gmail.com>
	<AANLkTimfu-tl7fI2iAJbtoxy94XPpGkByIuN91hlFchS@mail.gmail.com>
	<AANLkTinlnHSvghy-QEst5Y12mukV83VtDm95aAtL8P4u@mail.gmail.com>
Date: Sun, 20 Jun 2010 21:45:43 -0400
Message-ID: <AANLkTikYlEG26MN6plnOEFZg7AGIwTbTZvaT5pvKqFHA@mail.gmail.com>
Subject: Re: Question from a new user : IndexSearcher.doc
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=000e0cd355fc75568804898076b7
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd355fc75568804898076b7
Content-Type: text/plain; charset=ISO-8859-1

By and large, you won't ever actually be interested in very many documents,
what's returned in the TopDocs structure internal document ID and score, in
score order. But retrieval by document ID is quite efficient, it's not a
search. I'm quite sure this won't be a problem.

Adding 10,000 documents a day means that in 588 years you'll exceed a 31-bit
number. I don't think you really need to worry about that either. And that's
the worst-case, assuming the ints are signed. And I believe that they're
unsigned anyway.

What you will have to worry about is the time to get the top N
highest-scoring documents. That is, IndexSearcher.seach() will be your
limiting factor long before you reach these numbers. By that time, though,
you'll have moved to SOLR or some other distributed search mechanism.

Performance is influenced by the complexity of the queries and the structure
and size of your index. The time spent retrieving the top few matches is
completely dwarfed by the search time for an index of any size.

All this may be irrelevant if you really want to retrieve a very large
number of documents rather than, say, the top 100. But the use case would
have to be very interesting for it to be a requirement to return, say,
100,000 documents to a user.

But do be aware that you're not retrieving the *original* text with
IndexSearcher. Typically, the relevant data is indexed but not stored These
two concepts are confusing when you start using Lucene, especially since
they're specified in the same call. Indexing a field splits it up into
tokens, normalizes it (e.g. lowercases, stems, puts in synonyms, etc). The
indexed data is the part that's searched. You can also store the input
verbatim, the but stored part is just a copy that's never searched but is
available for retrieval.

Which brings up one of the central decisions you need to make. Are you,
indeed, going to store all the data for retrieval in your index or just
index the relevant text to be searched along with some locator information
to the original document? You mention Cassandra, which leads me to speculate
that it's the latter.

HTH
Erick


On Sun, Jun 20, 2010 at 4:04 PM, Victor Kabdebon
<victor.kabdebon@gmail.com>wrote:

> Hello Simon,
>
> As I told you, I am quite new with Lucene, so there are many things that
> might be wrong.
> I'm using Lucene to make a search service for a website that has a large
> amount of information daily. This amount of information is directly avaible
> as text in a Cassandra Database.
> There might be as much as 10.000 new documents added daily, and yes my
> concern is it possible to retrieve more documents than the integer max
> value
> ?
> I don't really see also how the IndexSearcher.doc( ) really works, because
> it seems like we give this method an ID and it is going to search in the
> indexed documents. So what exactly is going to do this
> IndexSearcher.doc(int) ?
>
> *Or are you concerned about retrieving all documents
> containing term "XY" if the number of documents matching is large?*
> *
> *
>
> I'm also concerned by this problem, yes
>
> Could you explain me a little bit how it works, and how Lucene enables one
> to retrieve a very large number of documents even if it uses int ?
>
> Thank you for your answers,
> Victor
>
> 2010/6/20 Simon Willnauer <simon.willnauer@googlemail.com>
>
> > Hi, maybe I don't understand your question correctly. Are you asking
> > if you could run into problems if you retrieve more documents than
> > integer max value? Or are you concerned about retrieving all documents
> > containing term "XY" if the number of documents matching is large? If
> > you are afraid of loading all documents matched from a stored field I
> > guess you are doing something wrong.
> > What are you using lucene for?
> >
> > simon
> >
> > On Sun, Jun 20, 2010 at 8:00 PM, Victor Kabdebon
> > <victor.kabdebon@gmail.com> wrote:
> > > Hello everybody,
> > >
> > > I am new to Apache Lucene and it seems to fit perfectly my needs for my
> > > application.
> > > However I'm a little concerned about something (pardon me if it's a
> > > recurrent question, I've searched the archives but I didn't find
> > something
> > > about that)
> > >
> > > So here is my case :
> > >
> > > I have index a few files (like 10) and I'm trying to search something
> > stupid
> > > in it. The word "test". So after opening everything etc... (assuming it
> > > works also) I do that :
> > >
> > > *Term test = new Term("text_comment","test");*
> > > *        Query query = new TermQuery(test);*
> > > *        TopDocs top = searcher.search(query, 10);*
> > >
> > > I want to recover the first document (I have 2 documents in TopDocs), I
> > do :
> > >
> > > *IndexSearcher.doc( top[0].doc)*
> > >
> > > I searched a little bit in javadoc and I saw that this method uses
> "int"
> > as
> > > a parameter
> > > I'm a little bit concerned about this... At the moment, I have 10
> > documents
> > > so that's ok, but if I want to index let's say 20 files documents, how
> > will
> > > the IndexSearcher.doc(int) be able to retrieve documents ?
> > > Same problem if 100.000 files have the word "test" in "text_comment"
> will
> > I
> > > still be able to get these 100.000 documents or is it going to be a
> > problem
> > > ?
> > >
> > > Thank you very much.
> > >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>

--000e0cd355fc75568804898076b7--

From java-user-return-46480-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 21 07:30:27 2010
Return-Path: <java-user-return-46480-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66571 invoked from network); 21 Jun 2010 07:30:26 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 21 Jun 2010 07:30:26 -0000
Received: (qmail 91925 invoked by uid 500); 21 Jun 2010 07:30:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91317 invoked by uid 500); 21 Jun 2010 07:30:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91308 invoked by uid 99); 21 Jun 2010 07:30:19 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Jun 2010 07:30:19 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of victor.kabdebon@gmail.com designates 74.125.82.48 as permitted sender)
Received: from [74.125.82.48] (HELO mail-ww0-f48.google.com) (74.125.82.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Jun 2010 07:30:12 +0000
Received: by wwb34 with SMTP id 34so742921wwb.35
        for <java-user@lucene.apache.org>; Mon, 21 Jun 2010 00:29:52 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type;
        bh=J/+Ri+x5TVSGFKg+OOfLO+cKw6HQA6b489l5Bvrg048=;
        b=DvRjsoctX2D7D0s1K5K2+1BZEv8q1R3UFqwaURXpUoUnKHI38ECaXiVyfPIPqZBtt1
         +MLfcoM8giGONJ/rXPT21U0WIvW7tElPDsT+9Ycecv5lHXd/9tnBJw2LTacCkeoFEqHU
         LEhxJ6Eeyd7ZbTiaJOYPL6R/DdXrUKqrJ1tWA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=BL0TPA0DWh4rfNQB2Q6bZ41nmKb/sHyFXen+UGXlSiV8LZ0vAWP6wwbf7zgGDFhqRi
         Fcf8PySfLZPXjHdjwFl7/5mdP4r8RTghBsUVpNJxtBAwtFyBuqGsPJ/+RRMe8tHkWR0m
         NR9RF2YFLEzwBL4W0TV/5SVUGMijTrcWcalWg=
Received: by 10.216.85.143 with SMTP id u15mr2343799wee.113.1277105392245; 
	Mon, 21 Jun 2010 00:29:52 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.216.159.18 with HTTP; Mon, 21 Jun 2010 00:29:32 -0700 (PDT)
In-Reply-To: <AANLkTikYlEG26MN6plnOEFZg7AGIwTbTZvaT5pvKqFHA@mail.gmail.com>
References: <AANLkTimrX3UFXfcTKCG9Tb9A_66jGHHUbkayuAyK7Jfx@mail.gmail.com> 
	<AANLkTimfu-tl7fI2iAJbtoxy94XPpGkByIuN91hlFchS@mail.gmail.com> 
	<AANLkTinlnHSvghy-QEst5Y12mukV83VtDm95aAtL8P4u@mail.gmail.com> 
	<AANLkTikYlEG26MN6plnOEFZg7AGIwTbTZvaT5pvKqFHA@mail.gmail.com>
From: Victor Kabdebon <victor.kabdebon@gmail.com>
Date: Mon, 21 Jun 2010 09:29:32 +0200
Message-ID: <AANLkTikxXFY7KhS1T-pLkRHaV34uQnwJPEeboTlUkxSx@mail.gmail.com>
Subject: Re: Question from a new user : IndexSearcher.doc
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e6da7db83edb75048985457f
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e6da7db83edb75048985457f
Content-Type: text/plain; charset=ISO-8859-1

Hi Erick,

Thank you very much for you explanations. 588 is a rather long way to go, so
you're right maybe I won't need at the moment to care about that problem.
To answer your final question : no indeed I won't need to store a lot of
data. Just some keys  in order to find the data in Cassandra later on.

If you don't mind, please let me ask you another question :

Is it really interesting to begin with Lucene rather than directly with solR
(or Nutch) ? What I mean by that is : is it the same difficulty to implement
a search with solR and stay with it instead of first implement a search with
Lucene, then when the project becomes very big change it to a new system ?
My goal is to have that can evolve with time even if I have 1 million
documents added daily ?

Thank you,
Victor

2010/6/21 Erick Erickson <erickerickson@gmail.com>

> By and large, you won't ever actually be interested in very many documents,
> what's returned in the TopDocs structure internal document ID and score, in
> score order. But retrieval by document ID is quite efficient, it's not a
> search. I'm quite sure this won't be a problem.
>
> Adding 10,000 documents a day means that in 588 years you'll exceed a
> 31-bit
> number. I don't think you really need to worry about that either. And
> that's
> the worst-case, assuming the ints are signed. And I believe that they're
> unsigned anyway.
>
> What you will have to worry about is the time to get the top N
> highest-scoring documents. That is, IndexSearcher.seach() will be your
> limiting factor long before you reach these numbers. By that time, though,
> you'll have moved to SOLR or some other distributed search mechanism.
>
> Performance is influenced by the complexity of the queries and the
> structure
> and size of your index. The time spent retrieving the top few matches is
> completely dwarfed by the search time for an index of any size.
>
> All this may be irrelevant if you really want to retrieve a very large
> number of documents rather than, say, the top 100. But the use case would
> have to be very interesting for it to be a requirement to return, say,
> 100,000 documents to a user.
>
> But do be aware that you're not retrieving the *original* text with
> IndexSearcher. Typically, the relevant data is indexed but not stored These
> two concepts are confusing when you start using Lucene, especially since
> they're specified in the same call. Indexing a field splits it up into
> tokens, normalizes it (e.g. lowercases, stems, puts in synonyms, etc). The
> indexed data is the part that's searched. You can also store the input
> verbatim, the but stored part is just a copy that's never searched but is
> available for retrieval.
>
> Which brings up one of the central decisions you need to make. Are you,
> indeed, going to store all the data for retrieval in your index or just
> index the relevant text to be searched along with some locator information
> to the original document? You mention Cassandra, which leads me to
> speculate
> that it's the latter.
>
> HTH
> Erick
>
>
> On Sun, Jun 20, 2010 at 4:04 PM, Victor Kabdebon
> <victor.kabdebon@gmail.com>wrote:
>
> > Hello Simon,
> >
> > As I told you, I am quite new with Lucene, so there are many things that
> > might be wrong.
> > I'm using Lucene to make a search service for a website that has a large
> > amount of information daily. This amount of information is directly
> avaible
> > as text in a Cassandra Database.
> > There might be as much as 10.000 new documents added daily, and yes my
> > concern is it possible to retrieve more documents than the integer max
> > value
> > ?
> > I don't really see also how the IndexSearcher.doc( ) really works,
> because
> > it seems like we give this method an ID and it is going to search in the
> > indexed documents. So what exactly is going to do this
> > IndexSearcher.doc(int) ?
> >
> > *Or are you concerned about retrieving all documents
> > containing term "XY" if the number of documents matching is large?*
> > *
> > *
> >
> > I'm also concerned by this problem, yes
> >
> > Could you explain me a little bit how it works, and how Lucene enables
> one
> > to retrieve a very large number of documents even if it uses int ?
> >
> > Thank you for your answers,
> > Victor
> >
> > 2010/6/20 Simon Willnauer <simon.willnauer@googlemail.com>
> >
> > > Hi, maybe I don't understand your question correctly. Are you asking
> > > if you could run into problems if you retrieve more documents than
> > > integer max value? Or are you concerned about retrieving all documents
> > > containing term "XY" if the number of documents matching is large? If
> > > you are afraid of loading all documents matched from a stored field I
> > > guess you are doing something wrong.
> > > What are you using lucene for?
> > >
> > > simon
> > >
> > > On Sun, Jun 20, 2010 at 8:00 PM, Victor Kabdebon
> > > <victor.kabdebon@gmail.com> wrote:
> > > > Hello everybody,
> > > >
> > > > I am new to Apache Lucene and it seems to fit perfectly my needs for
> my
> > > > application.
> > > > However I'm a little concerned about something (pardon me if it's a
> > > > recurrent question, I've searched the archives but I didn't find
> > > something
> > > > about that)
> > > >
> > > > So here is my case :
> > > >
> > > > I have index a few files (like 10) and I'm trying to search something
> > > stupid
> > > > in it. The word "test". So after opening everything etc... (assuming
> it
> > > > works also) I do that :
> > > >
> > > > *Term test = new Term("text_comment","test");*
> > > > *        Query query = new TermQuery(test);*
> > > > *        TopDocs top = searcher.search(query, 10);*
> > > >
> > > > I want to recover the first document (I have 2 documents in TopDocs),
> I
> > > do :
> > > >
> > > > *IndexSearcher.doc( top[0].doc)*
> > > >
> > > > I searched a little bit in javadoc and I saw that this method uses
> > "int"
> > > as
> > > > a parameter
> > > > I'm a little bit concerned about this... At the moment, I have 10
> > > documents
> > > > so that's ok, but if I want to index let's say 20 files documents,
> how
> > > will
> > > > the IndexSearcher.doc(int) be able to retrieve documents ?
> > > > Same problem if 100.000 files have the word "test" in "text_comment"
> > will
> > > I
> > > > still be able to get these 100.000 documents or is it going to be a
> > > problem
> > > > ?
> > > >
> > > > Thank you very much.
> > > >
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> > >
> >
>

--0016e6da7db83edb75048985457f--

From java-user-return-46481-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 21 09:03:51 2010
Return-Path: <java-user-return-46481-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85510 invoked from network); 21 Jun 2010 09:03:51 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 21 Jun 2010 09:03:51 -0000
Received: (qmail 81577 invoked by uid 500); 21 Jun 2010 09:03:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81086 invoked by uid 500); 21 Jun 2010 09:03:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81078 invoked by uid 99); 21 Jun 2010 09:03:44 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Jun 2010 09:03:44 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [217.12.10.243] (HELO web26206.mail.ukl.yahoo.com) (217.12.10.243)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 21 Jun 2010 09:03:38 +0000
Received: (qmail 66247 invoked by uid 60001); 21 Jun 2010 08:48:14 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.de; s=s1024; t=1277110093; bh=VLwE0fbk8EZu+VuQSxU9FJEVYE6Qj4MSi5tTu2osUfQ=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=XYa8DhvXphmjFvQF3fitZdxdULGppciULa1g0Le9WXubuYTauESVeiEPvO6LgqoNe+ZLndKMZd+y+/DvSaWB2plTbzvHr80Ii4d1sISbK5YRljPEmCk4n7yfqd4vfR+p/q6qlvm2wKl9zpZ3HAHYDM4ZoA1y1iw8wmQA+KCBMpw=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.de;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=v3J2/Mip+sLfs3J+N6kBJGqyF4n6gyuXwNFEnrWXsuEod8WjCpTyt52oMVX8xqcx3CBUegHL9b2NLbSsIYbxFAU85zzDTY8KVxCqJFMGhutve/l/JiS+XGo1TufP6fBNY8eeX5rtDgLJUDUO7pEAoS87xcjAwuRxdmVMfTIPd+Y=;
Message-ID: <963190.65323.qm@web26206.mail.ukl.yahoo.com>
X-YMail-OSG: T2_TxvEVM1mbuRe32EVV1KMbqHFsql2jATW6EXXoGo2dTOP
 w0tKEEHKxFWlX4R4odxUSPYqqUXr0.0wAU0UExaWDwTOQOeWxm6kti33PcAV
 cNpO.IP1wWcENhKdVPvL1Phk7Cn_Rx7cXrjHIPoD685ZcaSoJlvjiFI49lch
 Ox6ke0jsO1vUMFZkGdeZfSHT7Ub3e6NBMp1YssyweNNFLjhJiCTb92067Pf5
 FzQtHLh9IxeqWxdMrPjndYSLW6_WH42JLZFC2Zd0AuRl6ZaTAdj8DbBIKJrU
 Yu4L8tNsJ2uwclRLdnT_CnQFDF.CA94k-
Received: from [10.2.3.51] by web26206.mail.ukl.yahoo.com via HTTP; Mon, 21 Jun 2010 08:48:13 GMT
X-Mailer: YahooMailClassic/11.1.4 YahooMailWebService/0.8.104.274457
Date: Mon, 21 Jun 2010 08:48:13 +0000 (GMT)
From: Anna Hunecke <annahunecke@yahoo.de>
Subject: Re: Strange behaviour of StandardTokenizer
To: java-user@lucene.apache.org, simon.willnauer@gmail.com
In-Reply-To: <AANLkTik1fZ7vq0uqyS8k2CBplX8lbJYbrPPbHUqTkcTQ@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Hi!

Basically, what I want is something that removes punctuation.=20
But I realized now that things like email or number recognition are also ve=
ry useful if I want to give suggestions. I want to be able to give 'nl-lt00=
1' as a suggestion when the user enters 'nl'. This would of course not be p=
ossible if the tokenizer just blindly splits at the '-'.=20
So, I'll stick with the tokenizer for now and fix the problems I had with t=
he splitting of words by building the queries differently.
Thanks for your help!

- Anna

--- Simon Willnauer <simon.willnauer@googlemail.com> schrieb am Fr, 18.6.20=
10:

> Von: Simon Willnauer <simon.willnauer@googlemail.com>
> Betreff: Re: Strange behaviour of StandardTokenizer
> An: java-user@lucene.apache.org
> Datum: Freitag, 18. Juni, 2010 09:52 Uhr
> Hi Anna,
>=20
> what are you using you tokenizer for? There are a lot of
> different
> options in lucene an StandardTokenizer is not necessarily
> the best
> one. The behaviour you are see is that the tokenizer
> detects you token
> as a number. When you look at the grammar that is kind of
> obvious.
>=20
> <snip>
> // floating point, serial, model numbers, ip addresses,
> etc.
> // every other segment must have at least one digit
> NUM=A0 =A0 =A0 =A0 =3D ({ALPHANUM} {P}
> {HAS_DIGIT}
> =A0 =A0 =A0 =A0 =A0=A0=A0| {HAS_DIGIT}
> {P} {ALPHANUM}
> =A0 =A0 =A0 =A0 =A0=A0=A0| {ALPHANUM}
> ({P} {HAS_DIGIT} {P} {ALPHANUM})+
> =A0 =A0 =A0 =A0 =A0=A0=A0| {HAS_DIGIT}
> ({P} {ALPHANUM} {P} {HAS_DIGIT})+
> =A0 =A0 =A0 =A0 =A0=A0=A0| {ALPHANUM}
> {P} {HAS_DIGIT} ({P} {ALPHANUM} {P} {HAS_DIGIT})+
> =A0 =A0 =A0 =A0 =A0=A0=A0| {HAS_DIGIT}
> {P} {ALPHANUM} ({P} {HAS_DIGIT} {P} {ALPHANUM})+)
>=20
> // punctuation
> P=A0=A0=A0 =A0 =A0 =A0
> =A0=A0=A0=3D ("_"|"-"|"/"|"."|",")
>=20
> </snip>
>=20
> you can either build your own custom filter which fixed
> only the
> problem with numbers containing a '- ', use the
> MappingCharFilter or
> switch to a different tokenizer.
> If you could talk more about your usecase you might get
> better suggestions.
>=20
> Simon
>=20
> On Fri, Jun 18, 2010 at 9:03 AM, Anna Hunecke <annahunecke@yahoo.de>
> wrote:
> > Hi Ahmet,
> > thanks for the explanation. :)
> > okay, so it is recognized as a number? I didn't expect
> that really. I expect that all words are either split at the
> minus or not.
> > Maybe I'll have to use another tokenizer.
> > Best,
> > Anna
> >
> > --- Ahmet Arslan <iorixxx@yahoo.com>
> schrieb am Do, 17.6.2010:
> >
> >> Von: Ahmet Arslan <iorixxx@yahoo.com>
> >> Betreff: Re: Strange behaviour of
> StandardTokenizer
> >> An: java-user@lucene.apache.org
> >> Datum: Donnerstag, 17. Juni, 2010 15:50 Uhr
> >>
> >> > I ran into a strange behaviour of the
> >> StandardTokenizer.
> >> > Terms containing a '-' are tokenized
> differently
> >> depending
> >> > on the context.
> >> > For example, the term 'nl-lt' is split into
> 'nl' and
> >> 'lt'.
> >> > The term 'nl-lt0' is tokenized into
> 'nl-lt0'.
> >> > Is this a bug or a feature?
> >>
> >> It is designed that way. TypeAttribute of those
> tokens are
> >> different.
> >>
> >> > Can I avoid it somehow?
> >>
> >> Do you want to split at '-' char no matter what?
> If yes,
> >> you can replace all '-' characters with whitespace
> using
> >> MappingCharFilter before StandardTokenizer.
> >>
> >>
> >>
> >>
> >>
> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
> >
> >
> >
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
> =0A=0A

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46482-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 21 14:38:02 2010
Return-Path: <java-user-return-46482-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79813 invoked from network); 21 Jun 2010 14:38:02 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 21 Jun 2010 14:38:02 -0000
Received: (qmail 28605 invoked by uid 500); 21 Jun 2010 14:38:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28510 invoked by uid 500); 21 Jun 2010 14:37:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28502 invoked by uid 99); 21 Jun 2010 14:37:58 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Jun 2010 14:37:58 +0000
X-ASF-Spam-Status: No, hits=3.6 required=10.0
	tests=AWL,FREEMAIL_FROM,FREEMAIL_REPLY,HTML_MESSAGE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of m.madanipour@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Jun 2010 14:37:54 +0000
Received: by fxm14 with SMTP id 14so515931fxm.35
        for <java-user@lucene.apache.org>; Mon, 21 Jun 2010 07:37:32 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=65/6672dHIGjnDIao4YlDbE8TozjllO1PA093cc6LRc=;
        b=lx1sWE/obMCaMofrf3sshrZFDibqdBmLaFmHcWzkX28J1BUAsvA6eSSxSfb7//eC6k
         LZXaTpcWItt/SAF8OIJQLz9rRM5dw23EaeQAew5K5Fev6AmZFNKzqDkwtEhiHX2VVVMY
         B7rOXv/uM35u9ekXdGQQyKx6Z+Eg5/1ET3pNs=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=tRnhP1QVdL2vgzKKhihRtq2jGiEajMkp319nB0j23F6GCnRCimSPiHmI/3m6GJ02QJ
         bvfoLR0X/6fBT6Vv2GBvwBZtKZwG6GjfGwoD9EoyN0Y+0ppchaUAes9DU1WSQETuMih5
         ZCsoWgkDc8xT5iuOmKDwpt8Mbzm5DVyy7CMIk=
MIME-Version: 1.0
Received: by 10.239.148.137 with SMTP id f9mr350708hbb.102.1277131051511; Mon, 
	21 Jun 2010 07:37:31 -0700 (PDT)
Received: by 10.239.191.199 with HTTP; Mon, 21 Jun 2010 07:37:31 -0700 (PDT)
In-Reply-To: <AANLkTilLsCN_DZGBmWtzpj9Sikr2Mz6ByLSLIaPKjxZV@mail.gmail.com>
References: <AANLkTil0YsFPzALnNIXEau7NoOexMLyer2y2aTugoKPG@mail.gmail.com>
	<AANLkTikBh8oMkv_r_XwBIeyCY4ERE5H3K8kjkqIO9qtU@mail.gmail.com>
	<AANLkTikRvMEW1g9zKta_kxxQeGyDCuCAV3Ki1ni8dBsK@mail.gmail.com>
	<AANLkTinXe-VsAeIQcYUYUV5oh-sjKQcm3WAsL-vCk0cx@mail.gmail.com>
	<AANLkTimmA64hwiDXL9MKP2SjChT4dnfeU388EKxexfsc@mail.gmail.com>
	<AANLkTilSRaO-6MhIom_3o32GlvoNi-gsLGdmC2nViGAK@mail.gmail.com>
	<AANLkTilLsCN_DZGBmWtzpj9Sikr2Mz6ByLSLIaPKjxZV@mail.gmail.com>
Date: Mon, 21 Jun 2010 19:07:31 +0430
Message-ID: <AANLkTillJUkfbnB_rkwfcmBQxkOCgX6ksmDLD7toLfY5@mail.gmail.com>
Subject: Re: segment_N file is missed
From: "maryam ma'danipour" <m.madanipour@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=001485f62880a82fcc04898b3e4c

--001485f62880a82fcc04898b3e4c
Content-Type: text/plain; charset=ISO-8859-1

That's great. I'll try it.
thanks

On Sat, Jun 19, 2010 at 11:10 AM, Lance Norskog <goksron@gmail.com> wrote:

> This code is old (2006!) and I've updated it for Lucene 2.9.2, ad the
> trunk.This version only works for one CFS file (that I've tested). The
> code does not check versions carefully.  Here are both versions:
>
> Lucene 2.9.2:
> --------------------------------
> package org.apache.lucene.index;
>
> import java.io.File;
> import java.io.FilenameFilter;
> import java.io.IOException;
>
> import org.apache.lucene.store.Directory;
> import org.apache.lucene.store.FSDirectory;
> import org.apache.lucene.store.IndexInput;
>
> public class CFSopen {
>
>  // this code fixes up a directory
>  // make a ramdirectory, use this to fix it up if needed
>  // does compoundfilereader work directly?
>
>  Directory fixIndex(String path) throws IOException {
>    File file = new File(path);
>    Directory directory = FSDirectory.getDirectory(file, false);
>
>    String[] files = file.list(new FilenameFilter() {
>      public boolean accept(File dir, String name) {
>        return name.endsWith(".cfs");
>      }
>    });
>
>    SegmentInfos infos = new SegmentInfos();
>    int counter = 0;
>    for (int i = 0; i < files.length; i++) {
>      String fileName = files[i];
>      String segmentName = fileName.substring(1, fileName.lastIndexOf('.'));
>
>      int segmentInt = Integer.parseInt(segmentName, Character.MAX_RADIX);
>      counter = Math.max(counter, segmentInt);
>
>      segmentName = fileName.substring(0, fileName.lastIndexOf('.'));
>
>      Directory fileReader = new CompoundFileReader(directory, fileName);
>      IndexInput indexStream = fileReader.openInput(".fdx");
>      int size = (int) (indexStream.length() / 8);
>      indexStream.close();
>      fileReader.close();
>
>      SegmentInfo segmentInfo = new SegmentInfo(segmentName, size,
> directory);
>      infos.addElement(segmentInfo);
>    }
>
>    infos.counter = ++counter;
>
>    infos.prepareCommit(directory);
>    infos.finishCommit(directory);
>    return directory;
>  }
>
>  /**
>   * @param args
>   * @throws IOException
>   */
>  public static void main(String[] args) throws IOException {
>    // TODO Auto-generated method stub
>    CFSopen cfsopen = new CFSopen();
>    Directory dir = cfsopen.fixIndex("/cygwin/tmp/index");
>    dir.hashCode();
>  }
>
> }
>
> ---------------------------------------
> trunk:
> ---------------------------------------
> package org.apache.lucene.index;
>
> import java.io.File;
> import java.io.FilenameFilter;
> import java.io.IOException;
>
> import org.apache.lucene.index.codecs.Codec;
> import org.apache.lucene.index.codecs.standard.StandardCodec;
> import org.apache.lucene.store.Directory;
> import org.apache.lucene.store.FSDirectory;
> import org.apache.lucene.store.IndexInput;
>
> public class CFSopen {
>
>  Directory fixIndex(String path) throws IOException {
>    File file = new File(path);
>    Directory directory = FSDirectory.open(file);
>
>    String[] files = file.list(new FilenameFilter() {
>      public boolean accept(File dir, String name) {
>        return name.endsWith(".cfs");
>      }
>    });
>
>    SegmentInfos infos = new SegmentInfos();
>    int counter = 0;
>    for (int i = 0; i < files.length; i++) {
>      String fileName = files[i];
>      String segmentName = fileName.substring(1, fileName.lastIndexOf('.'));
>
>      int segmentInt = Integer.parseInt(segmentName, Character.MAX_RADIX);
>      counter = Math.max(counter, segmentInt);
>
>      segmentName = fileName.substring(0, fileName.lastIndexOf('.'));
>
>      Directory fileReader = new CompoundFileReader(directory, fileName);
>      IndexInput indexStream = fileReader.openInput(".fdx");
>      int size = (int) (indexStream.length() / 8);
>      indexStream.close();
>      fileReader.close();
>
>      // need to get codec name out of the CFS files
>      Codec codec = new StandardCodec();
>      SegmentInfo segmentInfo = new SegmentInfo(segmentName, size,
> directory, false, -1, null, false, false, codec );
>      infos.addElement(segmentInfo);
>    }
>
>    infos.counter = ++counter;
>
>    infos.prepareCommit(directory);
>    infos.finishCommit(directory);
>    return directory;
>  }
>
>  /**
>   * @param args
>   * @throws IOException
>   */
>  public static void main(String[] args) throws IOException {
>    // TODO Auto-generated method stub
>    CFSopen cfsopen = new CFSopen();
>    Directory dir = cfsopen.fixIndex("/cygwin/tmp/index");
>    dir.hashCode();
>   }
>
> }
>
>
>
>
> On 6/16/10, Michael McCandless <lucene@mikemccandless.com> wrote:
> > On Wed, Jun 16, 2010 at 10:38 AM, Yonik Seeley
> > <yonik@lucidimagination.com> wrote:
> >> On Tue, Jun 15, 2010 at 5:23 AM, Michael McCandless
> >> <lucene@mikemccandless.com> wrote:
> >>> CheckIndex is not able to recover from this corruption (missing
> >>> segments_N file); this would be a nice addition...
> >>>
> >>> But it sounds like you've worked out a way to write your own
> segmetns_N?
> >>>
> >>> Use oal.store.ChecksumIndexOutput (wraps any other IndexOutput) to
> >>> properly write the checksum.
> >>>
> >>> BTW how did you lose your segments_N file...?
> >>
> >> Can this also be caused by the new behavior introduced here?
> >> https://issues.apache.org/jira/browse/LUCENE-2386
> >> If you open a writer, add docs, and then crash before calling commit?
> >
> > That could be; Maryam is that what happened?
> >
> > Mike
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
>
> --
> Lance Norskog
> goksron@gmail.com
>
>  ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--001485f62880a82fcc04898b3e4c--

From java-user-return-46483-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 21 14:44:40 2010
Return-Path: <java-user-return-46483-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81862 invoked from network); 21 Jun 2010 14:44:39 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 21 Jun 2010 14:44:39 -0000
Received: (qmail 45943 invoked by uid 500); 21 Jun 2010 14:44:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45875 invoked by uid 500); 21 Jun 2010 14:44:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45867 invoked by uid 99); 21 Jun 2010 14:44:36 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Jun 2010 14:44:36 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of erickerickson@gmail.com designates 209.85.161.176 as permitted sender)
Received: from [209.85.161.176] (HELO mail-gx0-f176.google.com) (209.85.161.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Jun 2010 14:44:29 +0000
Received: by gxk23 with SMTP id 23so2370912gxk.35
        for <java-user@lucene.apache.org>; Mon, 21 Jun 2010 07:44:08 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=ROeF+xcc8S2CgqAbpZenxBJIbNbV9PUD4aOLLsHklhE=;
        b=XvtscXwATeMVXSM9Brf2Y0zgZZz4K3lb++/0aF3XyfaElBbG2u87hYbEeLi2FEUCgp
         55/K9Fkt3jdKArpbKGxbo3eOZWQCgZogiLJw7LnoV5/jSleY81hY3F8IfYw0ApoW412a
         oQuAVObrK2ZlsTEbhY8pridmThtzE/nrcZZgc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=PjGRL+YoI6iP2UxS7Xul6dd3Ld90xn9AGUi/5HRLDSvya3QU9Ac67mwI0o974T0Ww6
         6K4/eecS/PZGlz0nHa6epbmnITNNumjUDaCIQAeY0wBPgRsq9mNLNTNXC6aoe0gtES1L
         QF5mfh/txPz9KhzaBqw8ylEpsC4Lu9WJvW7sM=
MIME-Version: 1.0
Received: by 10.150.142.17 with SMTP id p17mr4517453ybd.361.1277131448203; 
	Mon, 21 Jun 2010 07:44:08 -0700 (PDT)
Received: by 10.150.189.2 with HTTP; Mon, 21 Jun 2010 07:44:08 -0700 (PDT)
In-Reply-To: <AANLkTikxXFY7KhS1T-pLkRHaV34uQnwJPEeboTlUkxSx@mail.gmail.com>
References: <AANLkTimrX3UFXfcTKCG9Tb9A_66jGHHUbkayuAyK7Jfx@mail.gmail.com>
	<AANLkTimfu-tl7fI2iAJbtoxy94XPpGkByIuN91hlFchS@mail.gmail.com>
	<AANLkTinlnHSvghy-QEst5Y12mukV83VtDm95aAtL8P4u@mail.gmail.com>
	<AANLkTikYlEG26MN6plnOEFZg7AGIwTbTZvaT5pvKqFHA@mail.gmail.com>
	<AANLkTikxXFY7KhS1T-pLkRHaV34uQnwJPEeboTlUkxSx@mail.gmail.com>
Date: Mon, 21 Jun 2010 10:44:08 -0400
Message-ID: <AANLkTimdQO_PsgXQ_SXCqsy5O9dsfz6Z5rKjVzLdnl_b@mail.gmail.com>
Subject: Re: Question from a new user : IndexSearcher.doc
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=000e0cd760924d394b04898b568c
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd760924d394b04898b568c
Content-Type: text/plain; charset=ISO-8859-1

They're quite different beasts to use. SOLR will have you up and running
with some configuration very quickly, and if you're comfortable with servlet
containers, it'll be even faster. It has a DIH handler which will index data
from a database (again, with some configuration, but not necessarily
programming). SOLR has, out of the box, support for sharding, replication,
etc.

Lucene is a pure Java library that you have to write infrastructure for.
An understanding of Lucene, which SOLR uses under the covers can be
quite valuable.

But from what you've described, I suspect you'll be better off starting off
with
SOLR. You can add custom bits to SOLR if you need to, but it'll almost
certainly be some time before you do if you do. And it won't be as likely to
be
throw-away work as it would be if you started with Lucene then migrated
to Java.

Nutch is a web-crawler/indexer, so from what you've described Nutch isn't
a good match for what you're trying to do.

HTH
Erick


On Mon, Jun 21, 2010 at 3:29 AM, Victor Kabdebon
<victor.kabdebon@gmail.com>wrote:

> Hi Erick,
>
> Thank you very much for you explanations. 588 is a rather long way to go,
> so
> you're right maybe I won't need at the moment to care about that problem.
> To answer your final question : no indeed I won't need to store a lot of
> data. Just some keys  in order to find the data in Cassandra later on.
>
> If you don't mind, please let me ask you another question :
>
> Is it really interesting to begin with Lucene rather than directly with
> solR
> (or Nutch) ? What I mean by that is : is it the same difficulty to
> implement
> a search with solR and stay with it instead of first implement a search
> with
> Lucene, then when the project becomes very big change it to a new system ?
> My goal is to have that can evolve with time even if I have 1 million
> documents added daily ?
>
> Thank you,
> Victor
>
> 2010/6/21 Erick Erickson <erickerickson@gmail.com>
>
> > By and large, you won't ever actually be interested in very many
> documents,
> > what's returned in the TopDocs structure internal document ID and score,
> in
> > score order. But retrieval by document ID is quite efficient, it's not a
> > search. I'm quite sure this won't be a problem.
> >
> > Adding 10,000 documents a day means that in 588 years you'll exceed a
> > 31-bit
> > number. I don't think you really need to worry about that either. And
> > that's
> > the worst-case, assuming the ints are signed. And I believe that they're
> > unsigned anyway.
> >
> > What you will have to worry about is the time to get the top N
> > highest-scoring documents. That is, IndexSearcher.seach() will be your
> > limiting factor long before you reach these numbers. By that time,
> though,
> > you'll have moved to SOLR or some other distributed search mechanism.
> >
> > Performance is influenced by the complexity of the queries and the
> > structure
> > and size of your index. The time spent retrieving the top few matches is
> > completely dwarfed by the search time for an index of any size.
> >
> > All this may be irrelevant if you really want to retrieve a very large
> > number of documents rather than, say, the top 100. But the use case would
> > have to be very interesting for it to be a requirement to return, say,
> > 100,000 documents to a user.
> >
> > But do be aware that you're not retrieving the *original* text with
> > IndexSearcher. Typically, the relevant data is indexed but not stored
> These
> > two concepts are confusing when you start using Lucene, especially since
> > they're specified in the same call. Indexing a field splits it up into
> > tokens, normalizes it (e.g. lowercases, stems, puts in synonyms, etc).
> The
> > indexed data is the part that's searched. You can also store the input
> > verbatim, the but stored part is just a copy that's never searched but is
> > available for retrieval.
> >
> > Which brings up one of the central decisions you need to make. Are you,
> > indeed, going to store all the data for retrieval in your index or just
> > index the relevant text to be searched along with some locator
> information
> > to the original document? You mention Cassandra, which leads me to
> > speculate
> > that it's the latter.
> >
> > HTH
> > Erick
> >
> >
> > On Sun, Jun 20, 2010 at 4:04 PM, Victor Kabdebon
> > <victor.kabdebon@gmail.com>wrote:
> >
> > > Hello Simon,
> > >
> > > As I told you, I am quite new with Lucene, so there are many things
> that
> > > might be wrong.
> > > I'm using Lucene to make a search service for a website that has a
> large
> > > amount of information daily. This amount of information is directly
> > avaible
> > > as text in a Cassandra Database.
> > > There might be as much as 10.000 new documents added daily, and yes my
> > > concern is it possible to retrieve more documents than the integer max
> > > value
> > > ?
> > > I don't really see also how the IndexSearcher.doc( ) really works,
> > because
> > > it seems like we give this method an ID and it is going to search in
> the
> > > indexed documents. So what exactly is going to do this
> > > IndexSearcher.doc(int) ?
> > >
> > > *Or are you concerned about retrieving all documents
> > > containing term "XY" if the number of documents matching is large?*
> > > *
> > > *
> > >
> > > I'm also concerned by this problem, yes
> > >
> > > Could you explain me a little bit how it works, and how Lucene enables
> > one
> > > to retrieve a very large number of documents even if it uses int ?
> > >
> > > Thank you for your answers,
> > > Victor
> > >
> > > 2010/6/20 Simon Willnauer <simon.willnauer@googlemail.com>
> > >
> > > > Hi, maybe I don't understand your question correctly. Are you asking
> > > > if you could run into problems if you retrieve more documents than
> > > > integer max value? Or are you concerned about retrieving all
> documents
> > > > containing term "XY" if the number of documents matching is large? If
> > > > you are afraid of loading all documents matched from a stored field I
> > > > guess you are doing something wrong.
> > > > What are you using lucene for?
> > > >
> > > > simon
> > > >
> > > > On Sun, Jun 20, 2010 at 8:00 PM, Victor Kabdebon
> > > > <victor.kabdebon@gmail.com> wrote:
> > > > > Hello everybody,
> > > > >
> > > > > I am new to Apache Lucene and it seems to fit perfectly my needs
> for
> > my
> > > > > application.
> > > > > However I'm a little concerned about something (pardon me if it's a
> > > > > recurrent question, I've searched the archives but I didn't find
> > > > something
> > > > > about that)
> > > > >
> > > > > So here is my case :
> > > > >
> > > > > I have index a few files (like 10) and I'm trying to search
> something
> > > > stupid
> > > > > in it. The word "test". So after opening everything etc...
> (assuming
> > it
> > > > > works also) I do that :
> > > > >
> > > > > *Term test = new Term("text_comment","test");*
> > > > > *        Query query = new TermQuery(test);*
> > > > > *        TopDocs top = searcher.search(query, 10);*
> > > > >
> > > > > I want to recover the first document (I have 2 documents in
> TopDocs),
> > I
> > > > do :
> > > > >
> > > > > *IndexSearcher.doc( top[0].doc)*
> > > > >
> > > > > I searched a little bit in javadoc and I saw that this method uses
> > > "int"
> > > > as
> > > > > a parameter
> > > > > I'm a little bit concerned about this... At the moment, I have 10
> > > > documents
> > > > > so that's ok, but if I want to index let's say 20 files documents,
> > how
> > > > will
> > > > > the IndexSearcher.doc(int) be able to retrieve documents ?
> > > > > Same problem if 100.000 files have the word "test" in
> "text_comment"
> > > will
> > > > I
> > > > > still be able to get these 100.000 documents or is it going to be a
> > > > problem
> > > > > ?
> > > > >
> > > > > Thank you very much.
> > > > >
> > > >
> > > > ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > > >
> > > >
> > >
> >
>

--000e0cd760924d394b04898b568c--

From java-user-return-46484-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 21 15:02:36 2010
Return-Path: <java-user-return-46484-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85889 invoked from network); 21 Jun 2010 15:02:36 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 21 Jun 2010 15:02:36 -0000
Received: (qmail 71841 invoked by uid 500); 21 Jun 2010 15:02:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71759 invoked by uid 500); 21 Jun 2010 15:02:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71751 invoked by uid 99); 21 Jun 2010 15:02:33 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Jun 2010 15:02:33 +0000
X-ASF-Spam-Status: No, hits=4.4 required=10.0
	tests=AWL,FORGED_YAHOO_RCVD,FREEMAIL_FROM,SPF_HELO_PASS,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Jun 2010 15:02:27 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <andrew_nuss@yahoo.com>)
	id 1OQiVi-0005JT-Jb
	for java-user@lucene.apache.org; Mon, 21 Jun 2010 08:02:06 -0700
Date: Mon, 21 Jun 2010 08:02:06 -0700 (PDT)
From: andynuss <andrew_nuss@yahoo.com>
To: java-user@lucene.apache.org
Message-ID: <1277132526601-911711.post@n3.nabble.com>
Subject: search hits not returned until I stop and restart application
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit


Hi,

I have an IndexWriter singleton in my program, and an IndexSearcher
singleton based on a readonly IndexReader singleton.  When I use the
IndexWriter to index a large document to lucene, and then, while the program
is still running, use my previously created IndexSearcher to find hits in
that book, they are not found.  But if I stop and restart the application,
then they are found.

Andy
-- 
View this message in context: http://lucene.472066.n3.nabble.com/search-hits-not-returned-until-I-stop-and-restart-application-tp911711p911711.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46485-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 21 15:11:50 2010
Return-Path: <java-user-return-46485-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91238 invoked from network); 21 Jun 2010 15:11:50 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 21 Jun 2010 15:11:50 -0000
Received: (qmail 80056 invoked by uid 500); 21 Jun 2010 15:11:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80007 invoked by uid 500); 21 Jun 2010 15:11:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79999 invoked by uid 99); 21 Jun 2010 15:11:47 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Jun 2010 15:11:47 +0000
X-ASF-Spam-Status: No, hits=-1.0 required=10.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [128.230.18.82] (HELO smtp1.syr.edu) (128.230.18.82)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Jun 2010 15:11:38 +0000
Received: from suex07-hub-01.ad.syr.edu (suex07-hub-01.ad.syr.edu [128.230.108.195])
	by smtp1.syr.edu (8.14.3/8.14.3) with ESMTP id o5LFBGaO031205
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=FAIL)
	for <java-user@lucene.apache.org>; Mon, 21 Jun 2010 11:11:16 -0400
Received: from suex07-mbx-03.ad.syr.edu ([128.230.108.133]) by
 suex07-hub-01.ad.syr.edu ([2002:80e6:6cc3::80e6:6cc3]) with mapi; Mon, 21 Jun
 2010 11:11:16 -0400
From: Steven A Rowe <sarowe@syr.edu>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Mon, 21 Jun 2010 11:11:05 -0400
Subject: RE: search hits not returned until I stop and restart application
Thread-Topic: search hits not returned until I stop and restart application
Thread-Index: AcsRUswjJCzPlMJOQOOxb+hAWv+JtgAAICYQ
Message-ID: <2D127F11DC79714E9B6A43AC9458147F764DA57C@suex07-mbx-03.ad.syr.edu>
References: <1277132526601-911711.post@n3.nabble.com>
In-Reply-To: <1277132526601-911711.post@n3.nabble.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-Proofpoint-Virus-Version: vendor=fsecure engine=1.12.8161:2.4.5,1.2.40,4.0.166
 definitions=2010-06-21_01:2010-02-06,2010-06-21,2010-06-20 signatures=0
X-Proofpoint-Spam-Reason: safe
X-Virus-Checked: Checked by ClamAV on apache.org

SGkgQW5keSwNCg0KRnJvbSB0aGUgQVBJIGRvY3MgZm9yIEluZGV4V3JpdGVyIDxodHRwOi8vbHVj
ZW5lLmFwYWNoZS5vcmcvamF2YS8zXzBfMi9hcGkvYWxsL29yZy9hcGFjaGUvbHVjZW5lL2luZGV4
L0luZGV4V3JpdGVyLmh0bWw+Og0KDQoJW0Rdb2N1bWVudHMgYXJlIGFkZGVkIHdpdGggYWRkRG9j
dW1lbnQgYW5kIHJlbW92ZWQNCgl3aXRoIGRlbGV0ZURvY3VtZW50cyhUZXJtKSBvciBkZWxldGVE
b2N1bWVudHMoUXVlcnkpLg0KCUEgZG9jdW1lbnQgY2FuIGJlIHVwZGF0ZWQgd2l0aCB1cGRhdGVE
b2N1bWVudCAod2hpY2gNCglqdXN0IGRlbGV0ZXMgYW5kIHRoZW4gYWRkcyB0aGUgZW50aXJlIGRv
Y3VtZW50KS4NCglXaGVuIGZpbmlzaGVkIGFkZGluZywgZGVsZXRpbmcgYW5kIHVwZGF0aW5nIGRv
Y3VtZW50cywgDQoJY2xvc2Ugc2hvdWxkIGJlIGNhbGxlZC4NCg0KCVRoZXNlIGNoYW5nZXMgLi4u
LiBhcmUgbm90IHZpc2libGUgdG8gSW5kZXhSZWFkZXINCgl1bnRpbCBlaXRoZXIgY29tbWl0KCkg
b3IgY2xvc2UoKSBpcyBjYWxsZWQuDQoNClNvIHlvdSBnb3R0YSBjYWxsIGNvbW1pdCgpIG9yIGNs
b3NlKCkuICBPbmNlIHlvdSd2ZSBkb25lIHRoYXQsIHlvdSBjYW4gcmVkdWNlIHRoZSAoZXhwZW5z
aXZlKSBjb3N0IG9mIG9wZW5pbmcgYSBuZXcgSW5kZXhSZWFkZXIgYnkgY2FsbGluZyByZW9wZW4o
KToNCg0KPGh0dHA6Ly9sdWNlbmUuYXBhY2hlLm9yZy9qYXZhLzNfMF8yL2FwaS9hbGwvb3JnL2Fw
YWNoZS9sdWNlbmUvaW5kZXgvSW5kZXhSZWFkZXIuaHRtbCNyZW9wZW4lMjglMjk+DQoNClN0ZXZl
DQoNCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4gRnJvbTogYW5keW51c3MgW21haWx0
bzphbmRyZXdfbnVzc0B5YWhvby5jb21dDQo+IFNlbnQ6IE1vbmRheSwgSnVuZSAyMSwgMjAxMCAx
MTowMiBBTQ0KPiBUbzogamF2YS11c2VyQGx1Y2VuZS5hcGFjaGUub3JnDQo+IFN1YmplY3Q6IHNl
YXJjaCBoaXRzIG5vdCByZXR1cm5lZCB1bnRpbCBJIHN0b3AgYW5kIHJlc3RhcnQgYXBwbGljYXRp
b24NCj4gDQo+IA0KPiBIaSwNCj4gDQo+IEkgaGF2ZSBhbiBJbmRleFdyaXRlciBzaW5nbGV0b24g
aW4gbXkgcHJvZ3JhbSwgYW5kIGFuIEluZGV4U2VhcmNoZXINCj4gc2luZ2xldG9uIGJhc2VkIG9u
IGEgcmVhZG9ubHkgSW5kZXhSZWFkZXIgc2luZ2xldG9uLiAgV2hlbiBJIHVzZSB0aGUNCj4gSW5k
ZXhXcml0ZXIgdG8gaW5kZXggYSBsYXJnZSBkb2N1bWVudCB0byBsdWNlbmUsIGFuZCB0aGVuLCB3
aGlsZSB0aGUNCj4gcHJvZ3JhbSBpcyBzdGlsbCBydW5uaW5nLCB1c2UgbXkgcHJldmlvdXNseSBj
cmVhdGVkIEluZGV4U2VhcmNoZXIgdG8gZmluZA0KPiBoaXRzIGluIHRoYXQgYm9vaywgdGhleSBh
cmUgbm90IGZvdW5kLiAgQnV0IGlmIEkgc3RvcCBhbmQgcmVzdGFydCB0aGUNCj4gYXBwbGljYXRp
b24sIHRoZW4gdGhleSBhcmUgZm91bmQuDQo+IA0KPiBBbmR5DQo+IC0tDQo+IFZpZXcgdGhpcyBt
ZXNzYWdlIGluIGNvbnRleHQ6IGh0dHA6Ly9sdWNlbmUuNDcyMDY2Lm4zLm5hYmJsZS5jb20vc2Vh
cmNoLQ0KPiBoaXRzLW5vdC1yZXR1cm5lZC11bnRpbC1JLXN0b3AtYW5kLXJlc3RhcnQtYXBwbGlj
YXRpb24tDQo+IHRwOTExNzExcDkxMTcxMS5odG1sDQo+IFNlbnQgZnJvbSB0aGUgTHVjZW5lIC0g
SmF2YSBVc2VycyBtYWlsaW5nIGxpc3QgYXJjaGl2ZSBhdCBOYWJibGUuY29tLg0KPiANCj4gLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tDQo+IFRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IGphdmEtdXNlci11bnN1YnNjcmli
ZUBsdWNlbmUuYXBhY2hlLm9yZw0KPiBGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1tYWlsOiBq
YXZhLXVzZXItaGVscEBsdWNlbmUuYXBhY2hlLm9yZw0KDQo=


From java-user-return-46486-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 21 17:29:12 2010
Return-Path: <java-user-return-46486-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26709 invoked from network); 21 Jun 2010 17:29:12 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 21 Jun 2010 17:29:12 -0000
Received: (qmail 80589 invoked by uid 500); 21 Jun 2010 17:29:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80513 invoked by uid 500); 21 Jun 2010 17:29:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80505 invoked by uid 99); 21 Jun 2010 17:29:09 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Jun 2010 17:29:09 +0000
X-ASF-Spam-Status: No, hits=3.7 required=10.0
	tests=AWL,FORGED_YAHOO_RCVD,FREEMAIL_FROM,SPF_HELO_PASS,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Jun 2010 17:29:03 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <andrew_nuss@yahoo.com>)
	id 1OQkna-0004S7-F7
	for java-user@lucene.apache.org; Mon, 21 Jun 2010 10:28:42 -0700
Date: Mon, 21 Jun 2010 10:28:42 -0700 (PDT)
From: andynuss <andrew_nuss@yahoo.com>
To: java-user@lucene.apache.org
Message-ID: <1277141322461-912096.post@n3.nabble.com>
In-Reply-To: <2D127F11DC79714E9B6A43AC9458147F764DA57C@suex07-mbx-03.ad.syr.edu>
References: <1277132526601-911711.post@n3.nabble.com> <2D127F11DC79714E9B6A43AC9458147F764DA57C@suex07-mbx-03.ad.syr.edu>
Subject: RE: search hits not returned until I stop and restart application
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit


"So you gotta call commit() or close().  Once you've done that, you can
reduce the (expensive) cost of opening a new IndexReader by calling
reopen(): "

Steve,

I tried this, and I must have done something wrong.

After my document set was ingested, I called a function which (1) called the
IndexWriter singleton commit() function, (2) then called the IndexReader
singleton reopen() function (no arguments).  (My IndexReader is read only.)  
Still didn't find hits in that book.  Then I tried (3) creating a new
IndexSearcher on top of this IndexReader and that also didn't help.

Wonder what I could be doing wrong.

Andy
-- 
View this message in context: http://lucene.472066.n3.nabble.com/search-hits-not-returned-until-I-stop-and-restart-application-tp911711p912096.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46487-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 21 17:41:19 2010
Return-Path: <java-user-return-46487-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28832 invoked from network); 21 Jun 2010 17:41:18 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 21 Jun 2010 17:41:18 -0000
Received: (qmail 96987 invoked by uid 500); 21 Jun 2010 17:41:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96821 invoked by uid 500); 21 Jun 2010 17:41:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96812 invoked by uid 99); 21 Jun 2010 17:41:15 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Jun 2010 17:41:15 +0000
X-ASF-Spam-Status: No, hits=-2.0 required=10.0
	tests=AWL,RCVD_IN_DNSWL_MED,SPF_PASS,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [128.230.18.92] (HELO smtp2.syr.edu) (128.230.18.92)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Jun 2010 17:41:08 +0000
Received: from suex07-hub-02.ad.syr.edu (suex07-hub-02.ad.syr.edu [128.230.108.196])
	by smtp2.syr.edu (8.14.3/8.14.3) with ESMTP id o5LHb9bL013043
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=FAIL)
	for <java-user@lucene.apache.org>; Mon, 21 Jun 2010 13:40:46 -0400
Received: from suex07-mbx-03.ad.syr.edu ([128.230.108.133]) by
 suex07-hub-02.ad.syr.edu ([fe80::813b:49a2:a4d5:6367%10]) with mapi; Mon, 21
 Jun 2010 13:40:01 -0400
From: Steven A Rowe <sarowe@syr.edu>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Mon, 21 Jun 2010 13:39:50 -0400
Subject: RE: search hits not returned until I stop and restart application
Thread-Topic: search hits not returned until I stop and restart application
Thread-Index: AcsRZ0cQMEQ4IG3gQFG7jCUu/Q8Z3QAAIZTg
Message-ID: <2D127F11DC79714E9B6A43AC9458147F764DA586@suex07-mbx-03.ad.syr.edu>
References: <1277132526601-911711.post@n3.nabble.com>
 <2D127F11DC79714E9B6A43AC9458147F764DA57C@suex07-mbx-03.ad.syr.edu>
 <1277141322461-912096.post@n3.nabble.com>
In-Reply-To: <1277141322461-912096.post@n3.nabble.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-Proofpoint-Virus-Version: vendor=fsecure engine=1.12.8161:2.4.5,1.2.40,4.0.166
 definitions=2010-06-21_01:2010-02-06,2010-06-21,2010-06-20 signatures=0
X-Proofpoint-Spam-Reason: safe

QW5keSwgaXQgc291bmRzIGxpa2UgeW91J3JlIGRvaW5nIHRoZSByaWdodCB0aGluZy4NCg0KTWF5
YmUgeW91IGFyZW4ndCB1c2luZyB0aGUgSW5kZXhSZWFkZXIgaW5zdGFuY2UgcmV0dXJuZWQgYnkg
cmVvcGVuKCksIGJ1dCBpbnN0ZWFkIGFyZSBjb250aW51aW5nIHRvIHVzZSB0aGUgaW5zdGFuY2Ug
b24gd2hpY2ggeW91IGNhbGxlZCByZW9wZW4oKT8gIEl0J3MgdG91Z2ggdG8gZmlndXJlIHRoaXMg
a2luZCBvZiB0aGluZyBvdXQgd2l0aG91dCBsb29raW5nIGF0IHRoZSBjb2RlLg0KDQpGb3IgZXhh
bXBsZSwgd2hhdCBkbyB5b3UgbWVhbiBieSAic2luZ2xldG9uIj8gKFlvdSBtZW50aW9uZWQgdGhp
cyBpbiByZWZlcmVuY2UgdG8gYm90aCBJbmRleFdyaXRlciBhbmQgSW5kZXhSZWFkZXIuKSAgSXMg
aXQgcG9zc2libGUgdGhhdCBzb21lIHBhcnQgb2YgeW91ciBjb2RlIGlzIG1haW50YWluaW5nIGEg
cmVmZXJlbmNlIHRvIHRoZSBvcmlnaW5hbCBJbmRleFJlYWRlciBpbnN0YW5jZSBhbmQgdXNpbmcg
aXQsIHJhdGhlciB0aGFuIHVzaW5nIHRoZSBuZXdseSBvcGVuZWQgaW5zdGFuY2U/DQoNClN0ZXZl
DQoNCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4gRnJvbTogYW5keW51c3MgW21haWx0
bzphbmRyZXdfbnVzc0B5YWhvby5jb21dDQo+IFNlbnQ6IE1vbmRheSwgSnVuZSAyMSwgMjAxMCAx
OjI5IFBNDQo+IFRvOiBqYXZhLXVzZXJAbHVjZW5lLmFwYWNoZS5vcmcNCj4gU3ViamVjdDogUkU6
IHNlYXJjaCBoaXRzIG5vdCByZXR1cm5lZCB1bnRpbCBJIHN0b3AgYW5kIHJlc3RhcnQgYXBwbGlj
YXRpb24NCj4gDQo+IA0KPiAiU28geW91IGdvdHRhIGNhbGwgY29tbWl0KCkgb3IgY2xvc2UoKS4g
IE9uY2UgeW91J3ZlIGRvbmUgdGhhdCwgeW91IGNhbg0KPiByZWR1Y2UgdGhlIChleHBlbnNpdmUp
IGNvc3Qgb2Ygb3BlbmluZyBhIG5ldyBJbmRleFJlYWRlciBieSBjYWxsaW5nDQo+IHJlb3Blbigp
OiAiDQo+IA0KPiBTdGV2ZSwNCj4gDQo+IEkgdHJpZWQgdGhpcywgYW5kIEkgbXVzdCBoYXZlIGRv
bmUgc29tZXRoaW5nIHdyb25nLg0KPiANCj4gQWZ0ZXIgbXkgZG9jdW1lbnQgc2V0IHdhcyBpbmdl
c3RlZCwgSSBjYWxsZWQgYSBmdW5jdGlvbiB3aGljaCAoMSkgY2FsbGVkDQo+IHRoZSBJbmRleFdy
aXRlciBzaW5nbGV0b24gY29tbWl0KCkgZnVuY3Rpb24sICgyKSB0aGVuIGNhbGxlZCB0aGUNCj4g
SW5kZXhSZWFkZXIgc2luZ2xldG9uIHJlb3BlbigpIGZ1bmN0aW9uIChubyBhcmd1bWVudHMpLiAg
KE15IEluZGV4UmVhZGVyDQo+IGlzIHJlYWQgb25seS4pIFN0aWxsIGRpZG4ndCBmaW5kIGhpdHMg
aW4gdGhhdCBib29rLiAgVGhlbiBJIHRyaWVkICgzKQ0KPiBjcmVhdGluZyBhIG5ldyBJbmRleFNl
YXJjaGVyIG9uIHRvcCBvZiB0aGlzIEluZGV4UmVhZGVyIGFuZCB0aGF0IGFsc28NCj4gZGlkbid0
IGhlbHAuDQo+IA0KPiBXb25kZXIgd2hhdCBJIGNvdWxkIGJlIGRvaW5nIHdyb25nLg0KPiANCj4g
QW5keQ0KPiAtLQ0KPiBWaWV3IHRoaXMgbWVzc2FnZSBpbiBjb250ZXh0OiBodHRwOi8vbHVjZW5l
LjQ3MjA2Ni5uMy5uYWJibGUuY29tL3NlYXJjaC0NCj4gaGl0cy1ub3QtcmV0dXJuZWQtdW50aWwt
SS1zdG9wLWFuZC1yZXN0YXJ0LWFwcGxpY2F0aW9uLQ0KPiB0cDkxMTcxMXA5MTIwOTYuaHRtbA0K
PiBTZW50IGZyb20gdGhlIEx1Y2VuZSAtIEphdmEgVXNlcnMgbWFpbGluZyBsaXN0IGFyY2hpdmUg
YXQgTmFiYmxlLmNvbS4NCj4gDQo+IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KPiBUbyB1bnN1YnNjcmliZSwgZS1t
YWlsOiBqYXZhLXVzZXItdW5zdWJzY3JpYmVAbHVjZW5lLmFwYWNoZS5vcmcNCj4gRm9yIGFkZGl0
aW9uYWwgY29tbWFuZHMsIGUtbWFpbDogamF2YS11c2VyLWhlbHBAbHVjZW5lLmFwYWNoZS5vcmcN
Cg0K


From java-user-return-46488-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 21 18:44:49 2010
Return-Path: <java-user-return-46488-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57709 invoked from network); 21 Jun 2010 18:44:48 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 21 Jun 2010 18:44:48 -0000
Received: (qmail 5197 invoked by uid 500); 21 Jun 2010 18:44:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5131 invoked by uid 500); 21 Jun 2010 18:44:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5123 invoked by uid 99); 21 Jun 2010 18:44:45 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Jun 2010 18:44:45 +0000
X-ASF-Spam-Status: No, hits=3.0 required=10.0
	tests=FORGED_YAHOO_RCVD,FREEMAIL_FROM,SPF_HELO_PASS,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Jun 2010 18:44:39 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <andrew_nuss@yahoo.com>)
	id 1OQlyj-0002pm-TR
	for java-user@lucene.apache.org; Mon, 21 Jun 2010 11:44:17 -0700
Date: Mon, 21 Jun 2010 11:44:17 -0700 (PDT)
From: andynuss <andrew_nuss@yahoo.com>
To: java-user@lucene.apache.org
Message-ID: <1277145857905-912345.post@n3.nabble.com>
In-Reply-To: <2D127F11DC79714E9B6A43AC9458147F764DA586@suex07-mbx-03.ad.syr.edu>
References: <1277132526601-911711.post@n3.nabble.com> <2D127F11DC79714E9B6A43AC9458147F764DA57C@suex07-mbx-03.ad.syr.edu> <1277141322461-912096.post@n3.nabble.com> <2D127F11DC79714E9B6A43AC9458147F764DA586@suex07-mbx-03.ad.syr.edu>
Subject: RE: search hits not returned until I stop and restart application
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org


"Maybe you aren't using the IndexReader instance returned by reopen(), but
instead are continuing to use the instance on which you called reopen()? 
It's tough to figure this kind of thing out without looking at the code."

That was it, I was not using the newly (re)opened index.  By the way, one
last question.  It doesn't matter for this because I'm indexing one huge
document at a time, and then committing.  But later, I will also be indexing
very small documents frequently.  In that case, it would seem that if I
index a very small document, I don't want to be thrashing with a commit
after each one, and then a reopen of the reader and reconstruction of my
searcher.  Do others manage this type of thing with a thread that fires at
intervals to commit if dirty?
-- 
View this message in context: http://lucene.472066.n3.nabble.com/search-hits-not-returned-until-I-stop-and-restart-application-tp911711p912345.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46489-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 21 19:16:07 2010
Return-Path: <java-user-return-46489-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93465 invoked from network); 21 Jun 2010 19:16:07 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 21 Jun 2010 19:16:07 -0000
Received: (qmail 47269 invoked by uid 500); 21 Jun 2010 19:16:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47174 invoked by uid 500); 21 Jun 2010 19:16:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47166 invoked by uid 99); 21 Jun 2010 19:16:04 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Jun 2010 19:16:04 +0000
X-ASF-Spam-Status: No, hits=-2.6 required=10.0
	tests=AWL,RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [128.230.18.92] (HELO smtp2.syr.edu) (128.230.18.92)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Jun 2010 19:15:56 +0000
Received: from suex07-hub-01.ad.syr.edu (suex07-hub-01.ad.syr.edu [128.230.108.195])
	by smtp2.syr.edu (8.14.3/8.14.3) with ESMTP id o5LJFYAk005151
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=FAIL)
	for <java-user@lucene.apache.org>; Mon, 21 Jun 2010 15:15:35 -0400
Received: from suex07-mbx-03.ad.syr.edu ([128.230.108.133]) by
 suex07-hub-01.ad.syr.edu ([2002:80e6:6cc3::80e6:6cc3]) with mapi; Mon, 21 Jun
 2010 15:15:34 -0400
From: Steven A Rowe <sarowe@syr.edu>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Mon, 21 Jun 2010 15:15:23 -0400
Subject: RE: search hits not returned until I stop and restart application
Thread-Topic: search hits not returned until I stop and restart application
Thread-Index: AcsRcdcKGBCApvoSQN+YCkkqC2FpjQAAxfMA
Message-ID: <2D127F11DC79714E9B6A43AC9458147F764DA58E@suex07-mbx-03.ad.syr.edu>
References: <1277132526601-911711.post@n3.nabble.com>
 <2D127F11DC79714E9B6A43AC9458147F764DA57C@suex07-mbx-03.ad.syr.edu>
 <1277141322461-912096.post@n3.nabble.com>
 <2D127F11DC79714E9B6A43AC9458147F764DA586@suex07-mbx-03.ad.syr.edu>
 <1277145857905-912345.post@n3.nabble.com>
In-Reply-To: <1277145857905-912345.post@n3.nabble.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-Proofpoint-Virus-Version: vendor=fsecure engine=1.12.8161:2.4.5,1.2.40,4.0.166
 definitions=2010-06-21_01:2010-02-06,2010-06-21,2010-06-20 signatures=0
X-Proofpoint-Spam-Reason: safe

QW5keSwNCg0KSSB0aGluayBiYXRjaGluZyBjb21taXRzIGVpdGhlciBieSB0aW1lIG9yIG51bWJl
ciBvZiBkb2N1bWVudHMgaXMgY29tbW9uLg0KDQpEbyB5b3Uga25vdyBhYm91dCBOUlQgKE5lYXIg
UmVhbHRpbWUgU2VhcmNoKT86IDxodHRwOi8vd2lraS5hcGFjaGUub3JnL2x1Y2VuZS1qYXZhL05l
YXJSZWFsdGltZVNlYXJjaD4uICBVc2luZyBJbmRleFdyaXRlci5nZXRSZWFkZXIoKSwgeW91IGNh
biBhdm9pZCBjb21taXRzIGFsdG9nZXRoZXIsIGFzIHdlbGwgYXMgcmVkdWNpbmcgdXBkYXRlLT5z
ZWFyY2ggbGF0ZW5jeS4gIFNlZSBJbmRleFdyaXRlci5nZXRSZWFkZXIoKSBqYXZhZG9jcyBmb3Ig
bW9yZSBkZXRhaWxzOiA8aHR0cDovL2x1Y2VuZS5hcGFjaGUub3JnL2phdmEvM18wXzIvYXBpL2Fs
bC9vcmcvYXBhY2hlL2x1Y2VuZS9pbmRleC9JbmRleFdyaXRlci5odG1sI2dldFJlYWRlciUyOCUy
OT4uDQoNCkRlcGVuZGluZyBvbiByZXF1aXJlbWVudHMsIHRoZXNlIHR3byBzdHJhdGVnaWVzIGNh
biBiZSBjb21iaW5lZC4NCg0KU3RldmUNCg0KPiAtLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQ0K
PiBGcm9tOiBhbmR5bnVzcyBbbWFpbHRvOmFuZHJld19udXNzQHlhaG9vLmNvbV0NCj4gU2VudDog
TW9uZGF5LCBKdW5lIDIxLCAyMDEwIDI6NDQgUE0NCj4gVG86IGphdmEtdXNlckBsdWNlbmUuYXBh
Y2hlLm9yZw0KPiBTdWJqZWN0OiBSRTogc2VhcmNoIGhpdHMgbm90IHJldHVybmVkIHVudGlsIEkg
c3RvcCBhbmQgcmVzdGFydCBhcHBsaWNhdGlvbg0KPiANCj4gDQo+ICJNYXliZSB5b3UgYXJlbid0
IHVzaW5nIHRoZSBJbmRleFJlYWRlciBpbnN0YW5jZSByZXR1cm5lZCBieSByZW9wZW4oKSwgYnV0
DQo+IGluc3RlYWQgYXJlIGNvbnRpbnVpbmcgdG8gdXNlIHRoZSBpbnN0YW5jZSBvbiB3aGljaCB5
b3UgY2FsbGVkIHJlb3BlbigpPw0KPiBJdCdzIHRvdWdoIHRvIGZpZ3VyZSB0aGlzIGtpbmQgb2Yg
dGhpbmcgb3V0IHdpdGhvdXQgbG9va2luZyBhdCB0aGUgY29kZS4iDQo+IA0KPiBUaGF0IHdhcyBp
dCwgSSB3YXMgbm90IHVzaW5nIHRoZSBuZXdseSAocmUpb3BlbmVkIGluZGV4LiAgQnkgdGhlIHdh
eSwgb25lDQo+IGxhc3QgcXVlc3Rpb24uICBJdCBkb2Vzbid0IG1hdHRlciBmb3IgdGhpcyBiZWNh
dXNlIEknbSBpbmRleGluZyBvbmUgaHVnZQ0KPiBkb2N1bWVudCBhdCBhIHRpbWUsIGFuZCB0aGVu
IGNvbW1pdHRpbmcuICBCdXQgbGF0ZXIsIEkgd2lsbCBhbHNvIGJlDQo+IGluZGV4aW5nIHZlcnkg
c21hbGwgZG9jdW1lbnRzIGZyZXF1ZW50bHkuICBJbiB0aGF0IGNhc2UsIGl0IHdvdWxkIHNlZW0N
Cj4gdGhhdCBpZiBJIGluZGV4IGEgdmVyeSBzbWFsbCBkb2N1bWVudCwgSSBkb24ndCB3YW50IHRv
IGJlIHRocmFzaGluZyB3aXRoIGENCj4gY29tbWl0IGFmdGVyIGVhY2ggb25lLCBhbmQgdGhlbiBh
IHJlb3BlbiBvZiB0aGUgcmVhZGVyIGFuZCByZWNvbnN0cnVjdGlvbg0KPiBvZiBteSBzZWFyY2hl
ci4gIERvIG90aGVycyBtYW5hZ2UgdGhpcyB0eXBlIG9mIHRoaW5nIHdpdGggYSB0aHJlYWQgdGhh
dA0KPiBmaXJlcyBhdCBpbnRlcnZhbHMgdG8gY29tbWl0IGlmIGRpcnR5Pw0K


From java-user-return-46490-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 22 17:58:17 2010
Return-Path: <java-user-return-46490-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95523 invoked from network); 22 Jun 2010 17:58:16 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 22 Jun 2010 17:58:16 -0000
Received: (qmail 95395 invoked by uid 500); 22 Jun 2010 17:58:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95299 invoked by uid 500); 22 Jun 2010 17:58:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 83961 invoked by uid 99); 22 Jun 2010 17:51:47 -0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS,T_FILL_THIS_FORM_SHORT
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of grant@lucidimagination.com designates 38.102.63.181 as permitted sender)
From: Grant Ingersoll <grant@lucidimagination.com>
Content-Type: multipart/alternative; boundary=Apple-Mail-22-421651112
Subject: Last Call: Lucene Revolution CFP Closes Tomorrow Wednesday, June 23, 2010, 12 Midnight PDT
Date: Tue, 22 Jun 2010 12:51:18 -0500
Message-Id: <D4D4AE89-0C07-4AB4-AEC7-32B0849AD162@lucidimagination.com>
To: solr-user@lucene.apache.org,
 java-user@lucene.apache.org,
 user@mahout.apache.org,
 user@tika.apache.org,
 user@nutch.apache.org
Mime-Version: 1.0 (Apple Message framework v1081)
X-Mailer: Apple Mail (2.1081)

--Apple-Mail-22-421651112
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=utf-8

Lucene Revolution Call For Participation - Boston, Massachusetts October =
7 & 8, 2010
=20
The first US conference dedicated to Lucene and Solr is coming to =
Boston, October 7 & 8, 2010. The conference is sponsored by Lucid =
Imagination with additional support from community and other commercial =
co=E2=80=90sponsors. The audience will include those experienced Solr =
and Lucene application development, along with those experienced in =
other enterprise search technologies interested becoming more familiar =
with Solr and Lucene technologies and the opportunities they present.=20

We are soliciting 45=E2=80=90minute presentations for the conference.

Key Dates:
May 12, 2010         Call For Participation Open
June 23, 2010        Call For Participation Closes
June 28, 2010        Speaker Acceptance/Rejection Notification
October 5=E2=80=906, 2010  Lucene and Solr Pre=E2=80=90conference =
Training Sessions
October 7=E2=80=908, 2010  Conference Sessions


Topics of interest include:
Lucene and Solr in the Enterprise (case studies, implementation, return =
on investment, etc.)
 =E2=80=9CHow We Did It=E2=80=9D Development Case Studies
Spatial/Geo search
 Lucene and Solr in the Cloud (Deployment cases as well as tutorials)
Scalability and Performance Tuning
Large Scale Search
Real Time Search
Data Integration/Data Management
Lucene & Solr for Mobile Applications

All accepted speakers will qualify for discounted conference admission. =
Financial assistance is available for speakers that qualify.

To submit a 45=E2=80=90minute presentation proposal, please send an =
email to cfp@lucenerevolution.org with Subject containing: <your name>, =
Topic <your session title> containing the following information in plain =
text.

If you have more than one topic proposed, send a separate email. Do not =
attach Word or other text file documents.

Return all fields completed as follows:
1.    Your full name, title, and organization=20
2.    Contact information, including your address, email, phone number=20=

3.    The name of your proposed session (keep your title simple, =
interesting, and relevant to the topic)=20
4.    A 75=E2=80=90200 word overview of your presentation; in addition =
to the topic, describe whether your
presentation is intended as a tutorial, description of an =
implementation, an theoretical/academic
discussion, etc.=20
5.    A 100=E2=80=90200=E2=80=90word speaker bio that includes prior =
conference speaking or related experience
To be considered, proposals must be received by 12 Midnight PDT =
Wednesday, June 23, 2010.

Please email any general questions regarding the conference to =
info@lucenerevolution.org. To be added to the conference mailing list, =
please email signup@lucenerevolution.org. If your organization is =
interested in sponsorship opportunities, email =
sponsor@lucenerevolution.org.

We look forward to seeing you in Boston!=

--Apple-Mail-22-421651112--

From java-user-return-46491-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 22 18:48:51 2010
Return-Path: <java-user-return-46491-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16761 invoked from network); 22 Jun 2010 18:48:51 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 22 Jun 2010 18:48:51 -0000
Received: (qmail 52989 invoked by uid 500); 22 Jun 2010 18:48:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52902 invoked by uid 500); 22 Jun 2010 18:48:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52894 invoked by uid 99); 22 Jun 2010 18:48:48 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Jun 2010 18:48:48 +0000
X-ASF-Spam-Status: No, hits=-0.6 required=10.0
	tests=AWL,FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_FILL_THIS_FORM_SHORT,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jason.rutherglen@gmail.com designates 209.85.212.48 as permitted sender)
Received: from [209.85.212.48] (HELO mail-vw0-f48.google.com) (209.85.212.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Jun 2010 18:48:43 +0000
Received: by vws12 with SMTP id 12so187208vws.35
        for <java-user@lucene.apache.org>; Tue, 22 Jun 2010 11:48:22 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=lVa3BC9lc92dV5z0PIOJbszrMRI93E7OJzPObOqzKac=;
        b=Ar3f+KXxI2VfuX2CD76VdVVFql//to1NQA440EaXscsJDJudTWe9trpyDL8PXj2+io
         3mmP94E6VQLS9MoAOR31ovwBUzFcG1a9Vu92Z+mzTYBmWIDc/QNkPJDReZ2WbYRgezIq
         AjNLLg3eYwZmaUnoRpSJw4YCKxdtsVgwTG5iE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=jr4sHOak/ziZbaexjgPEMROKMF1rO4egZ5JEfmOJSPJ8lFXm9CU/kKMOVtcBqEMJcJ
         HEaptTzDwg79vi6WZJC2TOFtAcecURHKwE2RBNCa9PNX3tETwnDaw070iPX7DvO9gkIU
         FQwlSxHNcCy56K/8bTxiVs6+VC/4+pXF/5grY=
MIME-Version: 1.0
Received: by 10.224.64.72 with SMTP id d8mr4448489qai.109.1277231171566; Tue, 
	22 Jun 2010 11:26:11 -0700 (PDT)
Received: by 10.229.236.17 with HTTP; Tue, 22 Jun 2010 11:26:11 -0700 (PDT)
In-Reply-To: <D4D4AE89-0C07-4AB4-AEC7-32B0849AD162@lucidimagination.com>
References: <D4D4AE89-0C07-4AB4-AEC7-32B0849AD162@lucidimagination.com>
Date: Tue, 22 Jun 2010 11:26:11 -0700
Message-ID: <AANLkTikVoQY9pX_ditgrdCTq-_tOM6HMRih1reegxnlu@mail.gmail.com>
Subject: Re: Last Call: Lucene Revolution CFP Closes Tomorrow Wednesday, June 
	23, 2010, 12 Midnight PDT
From: Jason Rutherglen <jason.rutherglen@gmail.com>
To: java-user@lucene.apache.org, cfp@lucenerevolution.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Grant,

I can probably do the 3 billion document one from Prague, or a
realtime search one... I spaced on submitting for ApacheCon.

Are there cool places in the Carolinas to hang?

Cheers bro,

Jason



On Tue, Jun 22, 2010 at 10:51 AM, Grant Ingersoll
<grant@lucidimagination.com> wrote:
> Lucene Revolution Call For Participation - Boston, Massachusetts October =
7 & 8, 2010
>
> The first US conference dedicated to Lucene and Solr is coming to Boston,=
 October 7 & 8, 2010. The conference is sponsored by Lucid Imagination with=
 additional support from community and other commercial co=E2=80=90sponsors=
. The audience will include those experienced Solr and Lucene application d=
evelopment, along with those experienced in other enterprise search technol=
ogies interested becoming more familiar with Solr and Lucene technologies a=
nd the opportunities they present.
>
> We are soliciting 45=E2=80=90minute presentations for the conference.
>
> Key Dates:
> May 12, 2010 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Call For Participation Open
> June 23, 2010 =C2=A0 =C2=A0 =C2=A0 =C2=A0Call For Participation Closes
> June 28, 2010 =C2=A0 =C2=A0 =C2=A0 =C2=A0Speaker Acceptance/Rejection Not=
ification
> October 5=E2=80=906, 2010 =C2=A0Lucene and Solr Pre=E2=80=90conference Tr=
aining Sessions
> October 7=E2=80=908, 2010 =C2=A0Conference Sessions
>
>
> Topics of interest include:
> Lucene and Solr in the Enterprise (case studies, implementation, return o=
n investment, etc.)
> =C2=A0=E2=80=9CHow We Did It=E2=80=9D Development Case Studies
> Spatial/Geo search
> =C2=A0Lucene and Solr in the Cloud (Deployment cases as well as tutorials=
)
> Scalability and Performance Tuning
> Large Scale Search
> Real Time Search
> Data Integration/Data Management
> Lucene & Solr for Mobile Applications
>
> All accepted speakers will qualify for discounted conference admission. F=
inancial assistance is available for speakers that qualify.
>
> To submit a 45=E2=80=90minute presentation proposal, please send an email=
 to cfp@lucenerevolution.org with Subject containing: <your name>, Topic <y=
our session title> containing the following information in plain text.
>
> If you have more than one topic proposed, send a separate email. Do not a=
ttach Word or other text file documents.
>
> Return all fields completed as follows:
> 1. =C2=A0 =C2=A0Your full name, title, and organization
> 2. =C2=A0 =C2=A0Contact information, including your address, email, phone=
 number
> 3. =C2=A0 =C2=A0The name of your proposed session (keep your title simple=
, interesting, and relevant to the topic)
> 4. =C2=A0 =C2=A0A 75=E2=80=90200 word overview of your presentation; in a=
ddition to the topic, describe whether your
> presentation is intended as a tutorial, description of an implementation,=
 an theoretical/academic
> discussion, etc.
> 5. =C2=A0 =C2=A0A 100=E2=80=90200=E2=80=90word speaker bio that includes =
prior conference speaking or related experience
> To be considered, proposals must be received by 12 Midnight PDT Wednesday=
, June 23, 2010.
>
> Please email any general questions regarding the conference to info@lucen=
erevolution.org. To be added to the conference mailing list, please email s=
ignup@lucenerevolution.org. If your organization is interested in sponsorsh=
ip opportunities, email sponsor@lucenerevolution.org.
>
> We look forward to seeing you in Boston!

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46492-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 23 02:50:39 2010
Return-Path: <java-user-return-46492-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44054 invoked from network); 23 Jun 2010 02:50:39 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 23 Jun 2010 02:50:39 -0000
Received: (qmail 97112 invoked by uid 500); 23 Jun 2010 02:50:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96704 invoked by uid 500); 23 Jun 2010 02:50:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96696 invoked by uid 99); 23 Jun 2010 02:50:34 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Jun 2010 02:50:34 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of viniciusccarvalho@gmail.com designates 209.85.212.48 as permitted sender)
Received: from [209.85.212.48] (HELO mail-vw0-f48.google.com) (209.85.212.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Jun 2010 02:50:26 +0000
Received: by vws19 with SMTP id 19so363851vws.35
        for <java-user@lucene.apache.org>; Tue, 22 Jun 2010 19:50:05 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:from:date
         :message-id:subject:to:content-type;
        bh=6J1pL8/qSjfycf1WHVkRAx92GodvIgmkbItrs8Riofs=;
        b=JQ+UMsOP0kt2xX4H1FSQfITJ634yll1WzHlAYI6l82oU7ZzfpI4kw152ATKkEbm3NW
         E0vGIWq6BH55d/bZHi6gft0cUJic/bErzSw29q89ShrCoa3tNSTq/dwC7+bLbLwMwZLX
         7vUmM/FH21vDQvExzbV7wKcnKPQVFs7c5HVOs=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:from:date:message-id:subject:to:content-type;
        b=Pz5kc35aByGuFEsjxvPdkHD0wg4Nqk4pTx+uz+d9e5GtZrTDaPfQ5P4YqFIwOnXFyp
         ublINjxtS8rEBbayH33IB5FdS1Bcby+hpOa1wKxuqBjjcKQf3Kcvz9YUxB6m+gBiecPf
         Wier7ZnL4pHX0DtZbYNxBE8S5NOwn69r/sKJs=
Received: by 10.220.122.14 with SMTP id j14mr3602303vcr.274.1277261405695; 
	Tue, 22 Jun 2010 19:50:05 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.220.107.14 with HTTP; Tue, 22 Jun 2010 19:49:45 -0700 (PDT)
From: Vinicius Carvalho <viniciusccarvalho@gmail.com>
Date: Tue, 22 Jun 2010 23:49:45 -0300
Message-ID: <AANLkTilJguq5jWDK6Z3d_AD0XoUvt7r8alEVSO2i-NM3@mail.gmail.com>
Subject: Stop words filter
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0050450146ae5f30ae0489a99814
X-Virus-Checked: Checked by ClamAV on apache.org

--0050450146ae5f30ae0489a99814
Content-Type: text/plain; charset=ISO-8859-1

Hello there! I've been using lucene as a Fult Text Search solution for some
time. And  although I'm familiar with Analyzers and Stemmers I never used
them directly.

I'm testing a few experiments on Sentiment Analysis and our implementation
needs to perform stemming and stop word removal. I thought using lucene
built-in support to spare me some coding time.

Is there any example? I'm trying

TokenStream stream = analyzer.tokenStream("", new StringReader(inputStr));

Problem is that I could not find a way to get the result tokens. I was
expecting something like stream.getTokens:Token[] :P

Could someone point me in the right direction?

Regards

-- 
The intuitive mind is a sacred gift and the
rational mind is a faithful servant. We have
created a society that honors the servant and
has forgotten the gift.

--0050450146ae5f30ae0489a99814--

From java-user-return-46493-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 23 03:21:12 2010
Return-Path: <java-user-return-46493-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52003 invoked from network); 23 Jun 2010 03:21:11 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 23 Jun 2010 03:21:11 -0000
Received: (qmail 9129 invoked by uid 500); 23 Jun 2010 03:21:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8821 invoked by uid 500); 23 Jun 2010 03:21:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8813 invoked by uid 99); 23 Jun 2010 03:21:04 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Jun 2010 03:21:04 +0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=AWL,FREEMAIL_FROM,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of bec.watson@gmail.com designates 209.85.161.176 as permitted sender)
Received: from [209.85.161.176] (HELO mail-gx0-f176.google.com) (209.85.161.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Jun 2010 03:20:58 +0000
Received: by gxk23 with SMTP id 23so3800767gxk.35
        for <java-user@lucene.apache.org>; Tue, 22 Jun 2010 20:20:37 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=av7oPXAFU98ur/BBfZS+bsrGeMId7UfNnDz0J4s8R5c=;
        b=LTYgvHJpG1GLNyCGtoC/fudwTLDZheHpRXjVz936OhYdeKfy20E6eX08uasJsnnD8e
         FRshdiDnXlOrNhgxSozLBBI9E6f6tb48hPinpdwzSe/cZZ8Rv2G2Alcg9cgXji7aX9Wp
         W+R+Tx8UNmbO7xG/jc/wbsdBfNGyyCHr3kPdc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=C7/AtNqK50WjPgpvKnbrkvdeAkEJI2bYC5spD1jv1Ubefot9XMlakcN1hTl1eYmnyD
         7OmxMzu/g+7c2UMQP7HtUs5k9D/5dObqef+bw5mdAiJJM8M1AahA59DOu1pkH0GxfGCA
         DQbPcmdCBiaMXluNCc+xZNt7an8bfGeYebvEo=
MIME-Version: 1.0
Received: by 10.151.93.21 with SMTP id v21mr7156506ybl.297.1277263237415; Tue, 
	22 Jun 2010 20:20:37 -0700 (PDT)
Received: by 10.151.44.15 with HTTP; Tue, 22 Jun 2010 20:20:36 -0700 (PDT)
In-Reply-To: <AANLkTilJguq5jWDK6Z3d_AD0XoUvt7r8alEVSO2i-NM3@mail.gmail.com>
References: <AANLkTilJguq5jWDK6Z3d_AD0XoUvt7r8alEVSO2i-NM3@mail.gmail.com>
Date: Wed, 23 Jun 2010 11:20:36 +0800
Message-ID: <AANLkTilnMNrL15zLJnP85i4uUA_dDIISusiLWvorfgXc@mail.gmail.com>
Subject: Re: Stop words filter
From: Rebecca Watson <bec.watson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

i guess you are using lucene 2.9 or below if you're talking about
Tokens still...

here's some old code i used to use (not sure if i wrote it or grabbed it fr=
om
online examples - its been a while since i used it!)
that grabbed the set of tokens given field name +
text to analyse (for any class that extended it.... e.g. use it for
per field analyzer
too):

public abstract class GenAnalyzer extends Analyzer {
=09
	/**
	 * lucene Analyzer object
	 * @see org.apache.lucene.analysis.Analyzer
	 */
	protected Analyzer gan;
=09
	/*
	 * A method to split text into tokens which are returned in the form of
	 * a TokenStream object. The text is read in using the java.io.Reader
	 * object. As analysers can be field specific the name of the field
	 * is also provided to the method.
	 *
	 * @see org.apache.lucene.analysis.Analyzer#tokenStream(java.lang.String,
java.io.Reader)
	 * @param fieldName the name of the lucene field
	 * @param reader A Reader object containing string to split into tokens
	 * @return a TokenStream that represents the string split into tokens
based on the _
	 * field name (maybe field specific analyser).
	 */
	@Override
	public TokenStream tokenStream(String fieldName, Reader reader) {
		return gan.tokenStream(fieldName, reader);
	}
=09
	/**
	 * A method to split text into tokens which are returned in the form of
	 * a Token[]. The text is read in as a string.
	 * As analysers can be field specific the name of the field
	 * is also provided to the method.
	 *
	 * similar to tokenStream method accept that the parameters
	 * and return type differ.
	 *
	 * @param fieldName the name of the lucene field
	 * @param text the text to be split into tokens
	 * @return a Token[] which represents the split text tokens.
	 * @throws IOException maybe thrown by stream.next(token) call.
	 *
	 * @see org.apache.lucene.analysis.Token
	 */
	public Token[] getTokens(String fieldName, String text)
	throws IOException {
		TokenStream stream =3D gan.tokenStream(fieldName, new StringReader(text))=
;
		ArrayList<Token> tokenList =3D new ArrayList<Token>();
		Token token =3D new Token();
		while(true){
			token =3D stream.next(token);
			if (token =3D=3D null) break;
			tokenList.add((Token) token.clone());
		}
		//stream.end();
		return tokenList.toArray(new Token[0]);
	}
}

hope that helps, i haven't used this code for a while but it worked
when i used it last!

in lucene 2.9 the stream.next(token) method is deprecated... and
if you move to lucene 3 i think that's where the attributesources replace t=
okens
so all this code will need to be ported...

thanks :)

bec

On 23 June 2010 10:49, Vinicius Carvalho <viniciusccarvalho@gmail.com> wrot=
e:
> Hello there! I've been using lucene as a Fult Text Search solution for so=
me
> time. And =C2=A0although I'm familiar with Analyzers and Stemmers I never=
 used
> them directly.
>
> I'm testing a few experiments on Sentiment Analysis and our implementatio=
n
> needs to perform stemming and stop word removal. I thought using lucene
> built-in support to spare me some coding time.
>
> Is there any example? I'm trying
>
> TokenStream stream =3D analyzer.tokenStream("", new StringReader(inputStr=
));
>
> Problem is that I could not find a way to get the result tokens. I was
> expecting something like stream.getTokens:Token[] :P
>
> Could someone point me in the right direction?
>
> Regards
>
> --
> The intuitive mind is a sacred gift and the
> rational mind is a faithful servant. We have
> created a society that honors the servant and
> has forgotten the gift.
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46494-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 23 05:54:27 2010
Return-Path: <java-user-return-46494-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91048 invoked from network); 23 Jun 2010 05:54:26 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 23 Jun 2010 05:54:26 -0000
Received: (qmail 84820 invoked by uid 500); 23 Jun 2010 05:54:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84338 invoked by uid 500); 23 Jun 2010 05:54:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84330 invoked by uid 99); 23 Jun 2010 05:54:19 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Jun 2010 05:54:19 +0000
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=AWL,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.160.48] (HELO mail-pw0-f48.google.com) (209.85.160.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Jun 2010 05:54:13 +0000
Received: by pwj5 with SMTP id 5so1290947pwj.35
        for <java-user@lucene.apache.org>; Tue, 22 Jun 2010 22:53:53 -0700 (PDT)
Received: by 10.142.117.14 with SMTP id p14mr6488376wfc.144.1277272433299;
        Tue, 22 Jun 2010 22:53:53 -0700 (PDT)
Received: from [10.0.1.90] (203-114-161-15.wir.sta.inspire.net.nz [203.114.161.15])
        by mx.google.com with ESMTPS id o38sm4443507rvp.14.2010.06.22.22.53.50
        (version=SSLv3 cipher=RC4-MD5);
        Tue, 22 Jun 2010 22:53:52 -0700 (PDT)
Subject: Help with Numeric Range
From: Todd Nine <todd@spidertracks.co.nz>
Reply-To: todd@spidertracks.co.nz
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary="=-QfVSo+B4UXBfgaySINxf"
Date: Wed, 23 Jun 2010 17:53:23 +1200
Message-ID: <1277272403.23824.6.camel@greenlantern.local>
Mime-Version: 1.0
X-Mailer: Evolution 2.28.3 

--=-QfVSo+B4UXBfgaySINxf
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: 7bit

Hi all,
  I'm new to Lucene, as well as Cassandra.  I'm working on the Lucandra
project to modify it to add some extra functionality.  It hasn't been
fully testing with range queries, so I've created some tests and
contributed them.  You can view my source here.

http://github.com/tnine/Lucandra/blob/master/test/lucandra/NumericRangeTests.java

First, is this a sensible test?  I'm specifically testing the case of
longs where I need millisecond precision on my searches. 


Second, I see that Numeric Fields are built via terms.  I think the
issue lies in the encoding of these terms into bytes for the Cassandra
keys.  Can anyone point me to some documentation on numeric queries and
terms, and how they are encoded at the byte level based on the
precision?

Thanks,
Todd

--=-QfVSo+B4UXBfgaySINxf--


From java-user-return-46495-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 23 06:36:15 2010
Return-Path: <java-user-return-46495-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6657 invoked from network); 23 Jun 2010 06:36:15 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 23 Jun 2010 06:36:15 -0000
Received: (qmail 2897 invoked by uid 500); 23 Jun 2010 06:36:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2298 invoked by uid 500); 23 Jun 2010 06:36:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2286 invoked by uid 99); 23 Jun 2010 06:36:08 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Jun 2010 06:36:08 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=SPF_NEUTRAL,T_FRT_PACKAGE
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Jun 2010 06:36:01 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id CAC96D36007
	for <java-user@lucene.apache.org>; Wed, 23 Jun 2010 08:35:40 +0200 (CEST)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 1Y8Zym1Wd+fd for <java-user@lucene.apache.org>;
	Wed, 23 Jun 2010 08:35:25 +0200 (CEST)
Received: from VEGA (port-83-236-62-54.dynamic.qsc.de [83.236.62.54])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id 4BFD4D36002
	for <java-user@lucene.apache.org>; Wed, 23 Jun 2010 08:35:25 +0200 (CEST)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <AANLkTilJguq5jWDK6Z3d_AD0XoUvt7r8alEVSO2i-NM3@mail.gmail.com>
In-Reply-To: <AANLkTilJguq5jWDK6Z3d_AD0XoUvt7r8alEVSO2i-NM3@mail.gmail.com>
Subject: RE: Stop words filter
Date: Wed, 23 Jun 2010 08:35:47 +0200
Message-ID: <004a01cb129e$50938910$f1ba9b30$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQKA+S+XEn+WFJJAuOfNRI3NdsIE6JEjSOkA
Content-Language: de
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Vinicius,

You should read the Package-Level Docs:
http://lucene.apache.org/java/3_0_2/api/all/org/apache/lucene/analysis/packa
ge-summary.html

To get the Token attributes, you have to add Attributes to your TokenStream
using addAttribute() and then you have easy access to the various attributes
of each token, when iterating with incrementToken().

If you want to program an own Tokenizer, start by inspecting a provided one
and do it similar. Also test cases for existing analyzers are a good way to
look into the usage. A good method to test TokenStream/Analyzers are in the
test-package's class BaseTokenStreamTestCase: assertTokenStreamContents(),
assertAnalyzesTo().

Also the Lucene In Action *2* book gives good examples.

Uwe

-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de


> -----Original Message-----
> From: Vinicius Carvalho [mailto:viniciusccarvalho@gmail.com]
> Sent: Wednesday, June 23, 2010 4:50 AM
> To: java-user@lucene.apache.org
> Subject: Stop words filter
> 
> Hello there! I've been using lucene as a Fult Text Search solution for
some
> time. And  although I'm familiar with Analyzers and Stemmers I never used
> them directly.
> 
> I'm testing a few experiments on Sentiment Analysis and our
> implementation needs to perform stemming and stop word removal. I
> thought using lucene built-in support to spare me some coding time.
> 
> Is there any example? I'm trying
> 
> TokenStream stream = analyzer.tokenStream("", new
> StringReader(inputStr));
> 
> Problem is that I could not find a way to get the result tokens. I was
> expecting something like stream.getTokens:Token[] :P
> 
> Could someone point me in the right direction?
> 
> Regards
> 
> --
> The intuitive mind is a sacred gift and the rational mind is a faithful
servant.
> We have created a society that honors the servant and has forgotten the
gift.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46496-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 23 06:54:10 2010
Return-Path: <java-user-return-46496-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12845 invoked from network); 23 Jun 2010 06:54:09 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 23 Jun 2010 06:54:09 -0000
Received: (qmail 21419 invoked by uid 500); 23 Jun 2010 06:54:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20947 invoked by uid 500); 23 Jun 2010 06:54:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20939 invoked by uid 99); 23 Jun 2010 06:54:03 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Jun 2010 06:54:03 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Jun 2010 06:53:56 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id 49AC3D36007;
	Wed, 23 Jun 2010 08:53:36 +0200 (CEST)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id RCZ8qweIbXr8; Wed, 23 Jun 2010 08:53:22 +0200 (CEST)
Received: from VEGA (port-83-236-62-54.dynamic.qsc.de [83.236.62.54])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id D1E87D36002;
	Wed, 23 Jun 2010 08:53:21 +0200 (CEST)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>,
	<todd@spidertracks.co.nz>
References: <1277272403.23824.6.camel@greenlantern.local>
In-Reply-To: <1277272403.23824.6.camel@greenlantern.local>
Subject: RE: Help with Numeric Range
Date: Wed, 23 Jun 2010 08:53:43 +0200
Message-ID: <004e01cb12a0$d23e59c0$76bb0d40$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="UTF-8"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQGKm8Pey13/HDLLXo/WDE1cIYVhBJMQBrDw
Content-Language: de
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Todd,

I am not sure if I understand your problem correctly. I am not familiar =
with Lucandra/Cassandra at all, but if Lucandra implements the =
IndexWriter and IndexReader according to the documentation, numeric =
queries should work. A NumericField internally creates a TokenStream and =
"analyzes" the number to several Tokens, which are somehow "half binary" =
(they are terms containing of characters in the full 0..127 range for =
optimal UTF8 compression with 3.x versions of Lucene). The exact =
encoding can be looked at in the NumericUtils class + javadocs.

About your testcase: The test looks good, so does it fail? If yes, where =
is the problem? You can also look into Lucene's test =
TestNumericRangeQuery64 for more examples. Or modify its @BeforeClass to =
instead build a Lucandra index.=20

The test has one thing, that is not intended to be done like that:
numeric =3D new NumericField("long", Integer.MAX_VALUE, Store.YES, =
true);

You are using MAX_VALUE as precision step, this would slowdown all =
queries to the speed of old-style TermRangeQueries. It is always better =
to stick with the default of 4, which creates 64 bits / 4 precStep =3D =
16 terms per value. Alternatively for longs, 6 is a good precision step =
(see NumericRangeQuery documentation). MAX_VALUE is only intended for =
fields that do not do numeric ranges but e.g. sort only. precisionStep =
is a performance tuning parameter, it has nothing to do with =
better/worse precision on terms or different query results. If you are =
using NumericRangeQuery with this large precStep, you are not using the =
numeric features at all, so your test should not behave different from a =
conventional TermRangeQuery with padded terms.

Uwe

-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de


> -----Original Message-----
> From: Todd Nine [mailto:todd@spidertracks.co.nz]
> Sent: Wednesday, June 23, 2010 7:53 AM
> To: java-user@lucene.apache.org
> Subject: Help with Numeric Range
>=20
> Hi all,
>   I'm new to Lucene, as well as Cassandra.  I'm working on the =
Lucandra
> project to modify it to add some extra functionality.  It hasn't been =
fully
> testing with range queries, so I've created some tests and contributed =
them.
> You can view my source here.
>=20
> http://github.com/tnine/Lucandra/blob/master/test/lucandra/NumericRang
> eTests.java
>=20
> First, is this a sensible test?  I'm specifically testing the case of =
longs where I
> need millisecond precision on my searches.
>=20
>=20
> Second, I see that Numeric Fields are built via terms.  I think the =
issue lies in
> the encoding of these terms into bytes for the Cassandra keys.  Can =
anyone
> point me to some documentation on numeric queries and terms, and how
> they are encoded at the byte level based on the precision?
>=20
> Thanks,
> Todd


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46497-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 23 08:01:43 2010
Return-Path: <java-user-return-46497-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27681 invoked from network); 23 Jun 2010 08:01:42 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 23 Jun 2010 08:01:42 -0000
Received: (qmail 94400 invoked by uid 500); 23 Jun 2010 08:01:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93931 invoked by uid 500); 23 Jun 2010 08:01:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93920 invoked by uid 99); 23 Jun 2010 08:01:35 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Jun 2010 08:01:35 +0000
X-ASF-Spam-Status: No, hits=-0.9 required=10.0
	tests=AWL,FREEMAIL_FROM,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jmuguruza@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Jun 2010 08:01:28 +0000
Received: by fxm14 with SMTP id 14so1826277fxm.35
        for <java-user@lucene.apache.org>; Wed, 23 Jun 2010 01:01:06 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:date:message-id
         :subject:from:to:content-type;
        bh=AGxVWbA0hSFKlW/1Ok4xaL/oOcnbHj/2wsTNNxE/gkA=;
        b=VZb8IKFWsnf6dCFHz0AR0XACCi4QG1Ui1ilMYg0c0lxCwNr6MFLrsjxZ0JE16zMRNX
         HXhwVuxcjeGOctrw8IZPQyBVL251IE6+Lp/knwyraYs9dHHWx0ha+06T8fDLIhi+QeFL
         YM3dxEOhGHc2qHLUzZlrvCKomH54pbF1JrMD0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=huQCk7eE1Std6BZaJpunKFtOX1TEnuV7gxaBsXurw9royi13BuP8yqszo7ZK92N/rd
         RUbpSHW/fLr4bNp6Mst6gEMEzsQjpKRi2XY8t1MhZ5G3Cy3d2UUBRPBcS1EbagR5Rq1k
         w9qEMYV6pq6LhDFxkGg6b4Dn+tL/uF/tLrw84=
MIME-Version: 1.0
Received: by 10.223.30.10 with SMTP id s10mr7233307fac.4.1277280065821; Wed, 
	23 Jun 2010 01:01:05 -0700 (PDT)
Received: by 10.223.107.193 with HTTP; Wed, 23 Jun 2010 01:01:05 -0700 (PDT)
Date: Wed, 23 Jun 2010 10:01:05 +0200
Message-ID: <AANLkTikdzQWpEuTyycHlyEi38dZL6G0CtP4aWPgXEoOP@mail.gmail.com>
Subject: arguments in favour of lucene over commercial competition
From: jm <jmuguruza@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

Hi,

I am trying to compile some arguments in favour of lucene as
management is deciding weather to standardize on lucene or a competing
commercial product (we have a couple of produc, one using lucene,
another using commercial product, imagine what am i using). I searched
the lists but could not find any post, although I remember seeing such
posts in the past.

Does somebody kept such posts linked or something? Or does someone
know of some page that would help me?

I would like to show:
- traction of lucene, really improving a lot last couple of years
- rich ecosystem (solr...)
- references of other companies choosing lucene/solr over commercial
(be it Fast or whatever)

thanks

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46498-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 23 10:39:35 2010
Return-Path: <java-user-return-46498-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65878 invoked from network); 23 Jun 2010 10:39:35 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 23 Jun 2010 10:39:35 -0000
Received: (qmail 65074 invoked by uid 500); 23 Jun 2010 10:39:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64617 invoked by uid 500); 23 Jun 2010 10:39:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64605 invoked by uid 99); 23 Jun 2010 10:39:28 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Jun 2010 10:39:28 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of naamakraus@gmail.com designates 74.125.82.48 as permitted sender)
Received: from [74.125.82.48] (HELO mail-ww0-f48.google.com) (74.125.82.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Jun 2010 10:39:20 +0000
Received: by wwb39 with SMTP id 39so433880wwb.35
        for <java-user@lucene.apache.org>; Wed, 23 Jun 2010 03:38:55 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:from:date
         :message-id:subject:to:content-type;
        bh=iNnxwgdz0uuktH6+2VThNcshuF576vrHTY0i56k+KR0=;
        b=Kutvf0UUv4Zx88LrbHm98xHtpSAzjSqEundYXnykH3jqvkExVmTZcOaYsKx31odDBd
         oF8FxsRFwp1+h/ST0kO4xOJ6pQcReJRSqLHIOBBSJ/c7NYqfiXdY6G0ql6eB+xh6+mIX
         XSWq754WMoJ99mn56N24GQZ8qP4nvlkuyJtbQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:from:date:message-id:subject:to:content-type;
        b=c1W5PkD/hLeH1CwLDyA1rCoUpHREvZ98Bk/42btNyKYtByGtH8swS9gViENBSMhiR8
         h0nl76TIYMEOSBOueg+HuFt3t5FLdtkE5tznz+scK9cNeaXMQclIOe0aWPFq6ioQiToR
         129uINPFEGgC3TMp+p+pJVRG2NWR3pLJ+5gT0=
Received: by 10.227.146.208 with SMTP id i16mr7377234wbv.178.1277289535162; 
	Wed, 23 Jun 2010 03:38:55 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.216.89.21 with HTTP; Wed, 23 Jun 2010 03:38:35 -0700 (PDT)
From: Naama Kraus <naamakraus@gmail.com>
Date: Wed, 23 Jun 2010 13:38:35 +0300
Message-ID: <AANLkTinMTO9ckJ8bydwAYlwrUhZba1GyJHQcTIAt2XLy@mail.gmail.com>
Subject: Overriding Lucene's term weights computation
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e659f01604cb060489b02553
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e659f01604cb060489b02553
Content-Type: text/plain; charset=ISO-8859-1

Hi,

Is there a way for an application to index a document along with its "term
weighted vector" (Lucene's TermFreqVector). I.e., override the term
frequencies computed by Lucene, with an application's computed term weights
(non frequency based) ?
I don't think I want to use Scorer#score() for applying score changes as
this one is activated at search time which won't work for me.

Thanks for any insight,
Naama

--0016e659f01604cb060489b02553--

From java-user-return-46499-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 23 17:57:31 2010
Return-Path: <java-user-return-46499-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21462 invoked from network); 23 Jun 2010 17:57:31 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 23 Jun 2010 17:57:31 -0000
Received: (qmail 87399 invoked by uid 500); 23 Jun 2010 17:57:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87350 invoked by uid 500); 23 Jun 2010 17:57:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87341 invoked by uid 99); 23 Jun 2010 17:57:28 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Jun 2010 17:57:28 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of erickerickson@gmail.com designates 209.85.160.176 as permitted sender)
Received: from [209.85.160.176] (HELO mail-gy0-f176.google.com) (209.85.160.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Jun 2010 17:57:20 +0000
Received: by gyf1 with SMTP id 1so5924187gyf.35
        for <java-user@lucene.apache.org>; Wed, 23 Jun 2010 10:56:59 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=oWIuFP4zuTNgeJHVvOeoXdvw3h1Ml9/CHUH0R9Iek3k=;
        b=VOxAtoEEzefoWTo5hEsEKZgoYRQEn/+l+8cHSRP5AjERx21/FQWcYCbuAeXwDIHQLr
         Z99E49GOkW0usRAjfXWA0F77gtoMRbP72uZS6oJ4g7jVT2OCEleOZ5wXFTgzVAjCkkMn
         oCNsE9EEL4+Hv+n9k/O870h2Hff2wjNF6xjjk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=iiZ0Q5vrgHG5ekqGr+ZBwWNT2n1R98qSy9/76xs8RcW1sOZ5KHP9ad+GhNk5obSURS
         D1aTCwhfWSp7UzamkT+XRL8OpORKKvwBk9TE0TJrztJojMIXZrn6hGR1ptSr1z9fntD2
         41IewHhy3S5fS3uoZIILRfU4f1YALaGPnCpwc=
MIME-Version: 1.0
Received: by 10.151.62.13 with SMTP id p13mr7792361ybk.119.1277315819269; Wed, 
	23 Jun 2010 10:56:59 -0700 (PDT)
Received: by 10.150.189.2 with HTTP; Wed, 23 Jun 2010 10:56:59 -0700 (PDT)
In-Reply-To: <AANLkTilJguq5jWDK6Z3d_AD0XoUvt7r8alEVSO2i-NM3@mail.gmail.com>
References: <AANLkTilJguq5jWDK6Z3d_AD0XoUvt7r8alEVSO2i-NM3@mail.gmail.com>
Date: Wed, 23 Jun 2010 13:56:59 -0400
Message-ID: <AANLkTilWZk6jbY_xdypplov0XQOUA0FPgKvvOjr0eiJI@mail.gmail.com>
Subject: Re: Stop words filter
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=000e0cd59356ac6eec0489b643db
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd59356ac6eec0489b643db
Content-Type: text/plain; charset=ISO-8859-1

On the chance that this is an XY problem
(http://people.apache.org/~hossman/#xyproblem),
why can't you use StopFilter and PorterStemFilter in
your filter chain rather than try to do this yourself?

Best
Erick

On Tue, Jun 22, 2010 at 10:49 PM, Vinicius Carvalho <
viniciusccarvalho@gmail.com> wrote:

> Hello there! I've been using lucene as a Fult Text Search solution for some
> time. And  although I'm familiar with Analyzers and Stemmers I never used
> them directly.
>
> I'm testing a few experiments on Sentiment Analysis and our implementation
> needs to perform stemming and stop word removal. I thought using lucene
> built-in support to spare me some coding time.
>
> Is there any example? I'm trying
>
> TokenStream stream = analyzer.tokenStream("", new StringReader(inputStr));
>
> Problem is that I could not find a way to get the result tokens. I was
> expecting something like stream.getTokens:Token[] :P
>
> Could someone point me in the right direction?
>
> Regards
>
> --
> The intuitive mind is a sacred gift and the
> rational mind is a faithful servant. We have
> created a society that honors the servant and
> has forgotten the gift.
>

--000e0cd59356ac6eec0489b643db--

From java-user-return-46500-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 23 18:03:01 2010
Return-Path: <java-user-return-46500-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22673 invoked from network); 23 Jun 2010 18:03:01 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 23 Jun 2010 18:03:01 -0000
Received: (qmail 94835 invoked by uid 500); 23 Jun 2010 18:02:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94786 invoked by uid 500); 23 Jun 2010 18:02:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94778 invoked by uid 99); 23 Jun 2010 18:02:58 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Jun 2010 18:02:58 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of erickerickson@gmail.com designates 209.85.160.176 as permitted sender)
Received: from [209.85.160.176] (HELO mail-gy0-f176.google.com) (209.85.160.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Jun 2010 18:02:50 +0000
Received: by gyf1 with SMTP id 1so5934308gyf.35
        for <java-user@lucene.apache.org>; Wed, 23 Jun 2010 11:02:29 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=zlzhhAQ1RHrfL04agywB6KiadTKM0ApaL6WRGXLIEg4=;
        b=eKjBSAFNTAbTasJsdkNEdqhfQNLhBc+PkitEb+A8wmaLm/AUyiSSAj9Iu1kLxBMsrQ
         1cq+BRIU2y2jzfsYCB5MJdiuB8+2iINxATyaufUazNN1HmuZupDOg3RUxT+XPRxK2OlO
         5zlMtaLeVu1sRWPawJgdZS/5nLDa1bwmtLyZU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=kI7J1g19NlMoC6ljjVfV39Eprk5DIPN/q4W5NHCZyklNS6qqrorsR9rVBeqRZgkUFo
         4Uo647d+/FEd5TvW/3XKwPtoEwpMc609dkOIaQMulLRArIK6iCXIpKlEgrFPkC5FLjQA
         D3lQ2m4lcUKjyKgHfqlEcdKZkR+DEWQbpoYDo=
MIME-Version: 1.0
Received: by 10.150.1.4 with SMTP id 4mr1473926yba.416.1277316149503; Wed, 23 
	Jun 2010 11:02:29 -0700 (PDT)
Received: by 10.150.189.2 with HTTP; Wed, 23 Jun 2010 11:02:29 -0700 (PDT)
In-Reply-To: <AANLkTikdzQWpEuTyycHlyEi38dZL6G0CtP4aWPgXEoOP@mail.gmail.com>
References: <AANLkTikdzQWpEuTyycHlyEi38dZL6G0CtP4aWPgXEoOP@mail.gmail.com>
Date: Wed, 23 Jun 2010 14:02:29 -0400
Message-ID: <AANLkTimeX0sVERloxZhI7cWz1wsnD4D-AkErR6rJWp0t@mail.gmail.com>
Subject: Re: arguments in favour of lucene over commercial competition
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=000e0cd483705b668c0489b657a7
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd483705b668c0489b657a7
Content-Type: text/plain; charset=ISO-8859-1

One thing to consider is that you have access to the source,
so worst-case you won't be cut off at the knees by the commercial
vendor.

Case in point: Fast was acquired by Microsoft, who have since
dropped all future Unix development. Hope all Fast users
really like running their apps on Windows servers.

Here's a start for companies using Lucene:
http://wiki.apache.org/lucene-java/PoweredBy

<http://wiki.apache.org/lucene-java/PoweredBy>HTH
Erick

On Wed, Jun 23, 2010 at 4:01 AM, jm <jmuguruza@gmail.com> wrote:

> Hi,
>
> I am trying to compile some arguments in favour of lucene as
> management is deciding weather to standardize on lucene or a competing
> commercial product (we have a couple of produc, one using lucene,
> another using commercial product, imagine what am i using). I searched
> the lists but could not find any post, although I remember seeing such
> posts in the past.
>
> Does somebody kept such posts linked or something? Or does someone
> know of some page that would help me?
>
> I would like to show:
> - traction of lucene, really improving a lot last couple of years
> - rich ecosystem (solr...)
> - references of other companies choosing lucene/solr over commercial
> (be it Fast or whatever)
>
> thanks
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--000e0cd483705b668c0489b657a7--

From java-user-return-46501-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 23 18:07:01 2010
Return-Path: <java-user-return-46501-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27436 invoked from network); 23 Jun 2010 18:07:00 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 23 Jun 2010 18:07:00 -0000
Received: (qmail 1818 invoked by uid 500); 23 Jun 2010 18:06:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1777 invoked by uid 500); 23 Jun 2010 18:06:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1769 invoked by uid 99); 23 Jun 2010 18:06:58 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Jun 2010 18:06:58 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of verma.sudha@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Jun 2010 18:06:51 +0000
Received: by bwz10 with SMTP id 10so2376548bwz.35
        for <java-user@lucene.apache.org>; Wed, 23 Jun 2010 11:06:30 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:date:message-id
         :subject:from:to:content-type;
        bh=h/qgpr0ro6sQ20ZMd9QSWzNm2mulsRock6cOgnc5IeE=;
        b=qOR/mGUnrEpt8XOMKWdp44SVHGGTOXBRU0ruTBaLDgBLSJElmaElWPjc18Bz3i09jz
         b8HQZpKajdWgdl7g26RwnERcxmdi4vpDUMEVJi/RLkPZlDffFlhkn2WWq19dOe8/EgrP
         uoVnoHQtQCXfCKSwuoBULZw3VWQOiICsSyiXQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=CFCTYTqEl8e9gZ0hlMxs38LteDLpsF08I2OPq/ESZTlPm4sSAZhfEV1IuDYrtQTRel
         MNzFe2XYtEteP4m37IayEePAxUqkAjCevvI7nL1PHeQlBVGXbkX53Iy7y55mNWcca0Ce
         ak2nu8FjiGUF9tGg4paPTzbKxAK1ScWnmwdfw=
MIME-Version: 1.0
Received: by 10.204.79.197 with SMTP id q5mr5998790bkk.123.1277316390163; Wed, 
	23 Jun 2010 11:06:30 -0700 (PDT)
Received: by 10.204.70.9 with HTTP; Wed, 23 Jun 2010 11:06:30 -0700 (PDT)
Date: Wed, 23 Jun 2010 12:06:30 -0600
Message-ID: <AANLkTinDZW9HGxrFvyIM2N_7qeTLzR3GjQz7v1pXBux2@mail.gmail.com>
Subject: URL Tokenization
From: Sudha Verma <verma.sudha@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e6dd9902b3943f0489b6654e

--0016e6dd9902b3943f0489b6654e
Content-Type: text/plain; charset=ISO-8859-1

Hi,

I am new to lucene and I am using Lucene 3.0.2.

I am using Lucene to parse text which may contain URLs. I noticed the
StandardTokenizer keeps the email addresses in one token, but not the URLs.
I also looked at Solr wiki pages, and even though the wiki page for
solr.StandardTokenizerFactory says it keeps track of the URL token type - it
does not seem to be the case.

Is there an Analyzer implementation that can keep the URLs intact into one
token? or does anyone have an example of that for Solr or Lucene?

Thanks much,
Sudha

--0016e6dd9902b3943f0489b6654e--

From java-user-return-46502-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 23 18:22:08 2010
Return-Path: <java-user-return-46502-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30371 invoked from network); 23 Jun 2010 18:22:08 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 23 Jun 2010 18:22:08 -0000
Received: (qmail 22098 invoked by uid 500); 23 Jun 2010 18:22:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22042 invoked by uid 500); 23 Jun 2010 18:22:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22033 invoked by uid 99); 23 Jun 2010 18:22:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Jun 2010 18:22:05 +0000
X-ASF-Spam-Status: No, hits=-2.6 required=10.0
	tests=AWL,RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [128.230.18.92] (HELO smtp2.syr.edu) (128.230.18.92)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Jun 2010 18:21:56 +0000
Received: from suex07-hub-01.ad.syr.edu (suex07-hub-01.ad.syr.edu [128.230.108.195])
	by smtp2.syr.edu (8.14.3/8.14.3) with ESMTP id o5NILZmZ013208
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=FAIL)
	for <java-user@lucene.apache.org>; Wed, 23 Jun 2010 14:21:35 -0400
Received: from suex07-mbx-03.ad.syr.edu ([128.230.108.133]) by
 suex07-hub-01.ad.syr.edu ([2002:80e6:6cc3::80e6:6cc3]) with mapi; Wed, 23 Jun
 2010 14:21:35 -0400
From: Steven A Rowe <sarowe@syr.edu>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Wed, 23 Jun 2010 14:21:13 -0400
Subject: RE: URL Tokenization
Thread-Topic: URL Tokenization
Thread-Index: AcsS/uRJWVEI/dwKSDCdMazIeQBmUgAAT4Wg
Message-ID: <2D127F11DC79714E9B6A43AC9458147F764DA5D5@suex07-mbx-03.ad.syr.edu>
References: <AANLkTinDZW9HGxrFvyIM2N_7qeTLzR3GjQz7v1pXBux2@mail.gmail.com>
In-Reply-To: <AANLkTinDZW9HGxrFvyIM2N_7qeTLzR3GjQz7v1pXBux2@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-Proofpoint-Virus-Version: vendor=fsecure engine=1.12.8161:2.4.5,1.2.40,4.0.166
 definitions=2010-06-23_02:2010-02-06,2010-06-23,2010-06-23 signatures=0
X-Proofpoint-Spam-Reason: safe

SGkgU3VkaGEsDQoNClRoZXJlIGlzIHN1Y2ggYSB0b2tlbml6ZXIsIG5hbWVkIE5ld1N0YW5kYXJk
VG9rZW5pemVyLCBpbiB0aGUgbW9zdCByZWNlbnQgcGF0Y2ggb24gdGhlIGZvbGxvd2luZyBKSVJB
IGlzc3VlOiANCg0KICAgaHR0cHM6Ly9pc3N1ZXMuYXBhY2hlLm9yZy9qaXJhL2Jyb3dzZS9MVUNF
TkUtMjE2Nw0KDQpJdCBrZWVwcyAoSFRUUChTKSwgRlRQLCBhbmQgRklMRSkgVVJMcyB0b2dldGhl
ciBhcyBzaW5nbGUgdG9rZW5zLCBhbmQgZS1tYWlscyB0b28sIGluIGFjY29yZGFuY2Ugd2l0aCB0
aGUgcmVsZXZhbnQgSUVURiBSRkNzLg0KDQpTdGV2ZQ0KDQo+IC0tLS0tT3JpZ2luYWwgTWVzc2Fn
ZS0tLS0tDQo+IEZyb206IFN1ZGhhIFZlcm1hIFttYWlsdG86dmVybWEuc3VkaGFAZ21haWwuY29t
XQ0KPiBTZW50OiBXZWRuZXNkYXksIEp1bmUgMjMsIDIwMTAgMjowNyBQTQ0KPiBUbzogamF2YS11
c2VyQGx1Y2VuZS5hcGFjaGUub3JnDQo+IFN1YmplY3Q6IFVSTCBUb2tlbml6YXRpb24NCj4gDQo+
IEhpLA0KPiANCj4gSSBhbSBuZXcgdG8gbHVjZW5lIGFuZCBJIGFtIHVzaW5nIEx1Y2VuZSAzLjAu
Mi4NCj4gDQo+IEkgYW0gdXNpbmcgTHVjZW5lIHRvIHBhcnNlIHRleHQgd2hpY2ggbWF5IGNvbnRh
aW4gVVJMcy4gSSBub3RpY2VkIHRoZQ0KPiBTdGFuZGFyZFRva2VuaXplciBrZWVwcyB0aGUgZW1h
aWwgYWRkcmVzc2VzIGluIG9uZSB0b2tlbiwgYnV0IG5vdCB0aGUNCj4gVVJMcy4NCj4gSSBhbHNv
IGxvb2tlZCBhdCBTb2xyIHdpa2kgcGFnZXMsIGFuZCBldmVuIHRob3VnaCB0aGUgd2lraSBwYWdl
IGZvcg0KPiBzb2xyLlN0YW5kYXJkVG9rZW5pemVyRmFjdG9yeSBzYXlzIGl0IGtlZXBzIHRyYWNr
IG9mIHRoZSBVUkwgdG9rZW4gdHlwZSAtDQo+IGl0IGRvZXMgbm90IHNlZW0gdG8gYmUgdGhlIGNh
c2UuDQo+IA0KPiBJcyB0aGVyZSBhbiBBbmFseXplciBpbXBsZW1lbnRhdGlvbiB0aGF0IGNhbiBr
ZWVwIHRoZSBVUkxzIGludGFjdCBpbnRvIG9uZQ0KPiB0b2tlbj8gb3IgZG9lcyBhbnlvbmUgaGF2
ZSBhbiBleGFtcGxlIG9mIHRoYXQgZm9yIFNvbHIgb3IgTHVjZW5lPw0KPiANCj4gVGhhbmtzIG11
Y2gsDQo+IFN1ZGhhDQo=


From java-user-return-46503-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 23 20:01:12 2010
Return-Path: <java-user-return-46503-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80796 invoked from network); 23 Jun 2010 20:01:12 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 23 Jun 2010 20:01:12 -0000
Received: (qmail 12201 invoked by uid 500); 23 Jun 2010 20:01:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12057 invoked by uid 500); 23 Jun 2010 20:01:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12049 invoked by uid 99); 23 Jun 2010 20:01:09 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Jun 2010 20:01:09 +0000
X-ASF-Spam-Status: No, hits=4.1 required=10.0
	tests=RCVD_ILLEGAL_IP,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: 98.129.35.4 is neither permitted nor denied by domain of yuvalf@answers.com)
Received: from [98.129.35.4] (HELO server505.appriver.com) (98.129.35.4)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Jun 2010 20:01:01 +0000
X-Policy: GLOBAL - answers.com
X-Primary: yuvalf@answers.com
X-Note: This Email was scanned by AppRiver SecureTide
X-ALLOW: yuvalf@answers.com ALLOWED
X-Virus-Scan: V-
X-Note: Spam Tests Failed: 
X-Country-Path: UNITED STATES->UNITED STATES->UNITED STATES
X-Note-Sending-IP: 98.129.23.45
X-Note-Reverse-DNS: smtp.exg5.exghost.com
X-Note-WHTLIST: yuvalf@answers.com
X-Note: User Rule Hits: 
X-Note: Global Rule Hits: G200 G201 G202 G203 G207 G208 G219 G307 
X-Note: Encrypt Rule Hits: 
X-Note: Mail Class: ALLOWEDSENDER
X-Note: Headers Injected
Received: from [98.129.23.45] (HELO HT03.exg5.exghost.com)
  by server505.appriver.com (CommuniGate Pro SMTP 5.3.5)
  with ESMTPS id 49294966 for java-user@lucene.apache.org; Wed, 23 Jun 2010 15:00:38 -0500
Received: from mbx03.exg5.exghost.com ([169.254.1.219]) by
 HT03.exg5.exghost.com ([10.242.228.75]) with mapi; Wed, 23 Jun 2010 15:00:38
 -0500
From: Yuval Feinstein <yuvalf@answers.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Wed, 23 Jun 2010 15:00:37 -0500
Subject: RE: Overriding Lucene's term weights computation
Thread-Topic: Overriding Lucene's term weights computation
Thread-Index: AcsSwKIS0jM34BcpRjeEKG7q2zoY8AATVBjo
Message-ID: <01C4AEE04EB96243BBAA8083CB6514E8687166D3@MBX03.exg5.exghost.com>
References: <AANLkTinMTO9ckJ8bydwAYlwrUhZba1GyJHQcTIAt2XLy@mail.gmail.com>
In-Reply-To: <AANLkTinMTO9ckJ8bydwAYlwrUhZba1GyJHQcTIAt2XLy@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

Naama, Maybe you could use the new flexible indexing mechanism.
Some information is in this lecture:
http://lucene-eurocon.org/slides/Lucene-Forecast-Version-Unicode-Flex-and-M=
od_Willnauer&Schindler.pdf
Alternatively, you may use payloads, but they seem like a worse fit.
Good Luck,
Yuval

________________________________________
From: Naama Kraus [naamakraus@gmail.com]
Sent: Wednesday, June 23, 2010 1:38 PM
To: java-user@lucene.apache.org
Subject: Overriding Lucene's term weights computation

Hi,

Is there a way for an application to index a document along with its "term
weighted vector" (Lucene's TermFreqVector). I.e., override the term
frequencies computed by Lucene, with an application's computed term weights
(non frequency based) ?
I don't think I want to use Scorer#score() for applying score changes as
this one is activated at search time which won't work for me.

Thanks for any insight,
Naama=

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46504-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 23 20:49:48 2010
Return-Path: <java-user-return-46504-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17806 invoked from network); 23 Jun 2010 20:49:48 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 23 Jun 2010 20:49:48 -0000
Received: (qmail 51617 invoked by uid 500); 23 Jun 2010 20:49:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51548 invoked by uid 500); 23 Jun 2010 20:49:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51540 invoked by uid 99); 23 Jun 2010 20:49:45 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Jun 2010 20:49:45 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [206.190.38.61] (HELO web50307.mail.re2.yahoo.com) (206.190.38.61)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 23 Jun 2010 20:49:38 +0000
Received: (qmail 69175 invoked by uid 60001); 23 Jun 2010 20:49:17 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1277326157; bh=+nMk39C6HQlxdXkZzA/73HNuPSFLvQWlbgc6zDxFay8=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=Qd0mU/oNLVVn7nHo+RmvX8wilahmSD+YaqV9oyYMyrH3d72XVOQM9BO25lia3uUvWrMjHWAteopYL2xd0XFLjt0iDSaINiEc2xex2NAebKd68TIaz7We40chVnNGHa1R4K/4ZqQe5UYC79u4gEagSv2aEaR8xxnZbHrgOLfs/MI=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=w5a8ZhcRNklSnM2hBzO34ZKapdvPMlTjStS9X1X3lm5rWiZSZ1cnoQjz89lX9mtlnSSL1BJqioWcqGoespB78/jNUgVgA1UI66wD9OfkXc79xuzlNTetedyQCd3J5fH2rlTp5WAxI7gY4+2sV0Ob/SXWIWmXfuETXOxNAf5+VT0=;
Message-ID: <146692.68973.qm@web50307.mail.re2.yahoo.com>
X-YMail-OSG: dAQVqhUVM1klbBzgYE5fU0.qWKWqVp4OgEloC3vsSds7NmT
 jRrhOMX9.CkRggMUxpVg4i1.ebInzwTTOEazpWk8S7NuSSPwyEk15myCOgnC
 M7SWm0QC2ko.ARVOBSUxGC5XkM37S911sTlFt_.1tj.EH872eDR.N.PRPdBQ
 7aZh0x0szsU_6dNZA3rnG4EfFy.wKv01EGc4wcasrIh5NKvbshuShejQR8S1
 jFJ9ZUecf_Rf46IiXZCItJadcFnP3X.dZfh1mznFKUiFS0qOEf0howgFxT2K
 nHS9RMEGoXfDhE6OM3IN5kqRaMSGK301skRNnVkaP021bthIyij5OX84ui4w
 VUnfhaFjI6qsTQnfv51DsSHas_AY5
Received: from [184.75.0.186] by web50307.mail.re2.yahoo.com via HTTP; Wed, 23 Jun 2010 13:49:17 PDT
X-Mailer: YahooMailRC/397.8 YahooMailWebService/0.8.104.274457
References: <AANLkTikdzQWpEuTyycHlyEi38dZL6G0CtP4aWPgXEoOP@mail.gmail.com>
Date: Wed, 23 Jun 2010 13:49:17 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: arguments in favour of lucene over commercial competition
To: java-user@lucene.apache.org
In-Reply-To: <AANLkTikdzQWpEuTyycHlyEi38dZL6G0CtP4aWPgXEoOP@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org

Lucene/Solr choice typically means:

* lower cost of ownership (think about various crazy licensing models some of the commercial search vendors have: per doc, per server, per query, per year....)

* faster implementation (just think about the duration of the sales/negotiation phase for commercial search vendors)

* flexibility -- it's open source, you can change whatever you want.  Try that with closed-source commercial search vendor's package.

* super fast and knowledgeable community  -- see http://www.jroller.com/otis/entry/lucene_solr_nutch_amazing_tech

* commercial support and experts still available -- see http://www.sematext.com/services/index.html

* adoption - small companies, medium companies, HUGE companies, secret organizations, everyone's using some form of Lucene -- see http://wiki.apache.org/lucene-java/PoweredBy , http://wiki.apache.org/solr/PublicServers

* maturity - Lucene is over 10 years old.  Solr is over 4 years old.

* future - look at JIRA, look at mailing list traffic, look at pace of development, look at CHANGES.txt

* searchable documentation and mailing list archives  -- http://search-lucene.com/


* ...

Otis
----
Sematext :: http://sematext.com/ :: Solr - Lucene - Nutch
Lucene ecosystem search :: http://search-lucene.com/



----- Original Message ----
> From: jm <jmuguruza@gmail.com>
> To: java-user@lucene.apache.org
> Sent: Wed, June 23, 2010 4:01:05 AM
> Subject: arguments in favour of lucene over commercial competition
> 
> Hi,

I am trying to compile some arguments in favour of lucene 
> as
management is deciding weather to standardize on lucene or a 
> competing
commercial product (we have a couple of produc, one using 
> lucene,
another using commercial product, imagine what am i using). I 
> searched
the lists but could not find any post, although I remember seeing 
> such
posts in the past.

Does somebody kept such posts linked or 
> something? Or does someone
know of some page that would help me?

I 
> would like to show:
- traction of lucene, really improving a lot last couple 
> of years
- rich ecosystem (solr...)
- references of other companies 
> choosing lucene/solr over commercial
(be it Fast or 
> whatever)

thanks

---------------------------------------------------------------------
To 
> unsubscribe, e-mail: 
> href="mailto:java-user-unsubscribe@lucene.apache.org">java-user-unsubscribe@lucene.apache.org
For 
> additional commands, e-mail: 
> ymailto="mailto:java-user-help@lucene.apache.org" 
> href="mailto:java-user-help@lucene.apache.org">java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46505-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 23 21:08:11 2010
Return-Path: <java-user-return-46505-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66803 invoked from network); 23 Jun 2010 21:08:10 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 23 Jun 2010 21:08:10 -0000
Received: (qmail 64677 invoked by uid 500); 23 Jun 2010 21:08:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64624 invoked by uid 500); 23 Jun 2010 21:08:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64616 invoked by uid 99); 23 Jun 2010 21:08:07 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Jun 2010 21:08:07 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jmuguruza@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Jun 2010 21:08:02 +0000
Received: by fxm18 with SMTP id 18so685937fxm.35
        for <java-user@lucene.apache.org>; Wed, 23 Jun 2010 14:07:41 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=mczamSqUZsCMsmm1Df3BlbnkhKiAsHQAS148RQ7P4YQ=;
        b=i8Nl0CmdWxE6f1MgMwgoSZxU450mDlZfFqo99C6O9RFptJM0InkTwd3FsmR46LHdKc
         ozajbDu8UF5M2GAkOk8iWDQ4FaP8w7D7G7dM7KyuXOrpFJtoGjCIqKO0wE6KjV1gosVq
         /hpNHhbwPBsyFIq/gp+P+BTwVMbbpeEKJeFtc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=Ep7U3Kwk0GekaG6IHDZDGWd8K7JieJrlA3fuDet+NTH6QL5MjdPTrZS8GsGvEz8aEX
         7XFT36IbpZGMBwCqAT0I/48m0LILodqqdmYkHxTQKsjpM6aTLrr9sbqm/cvTmrqAmvJ4
         ZpQJqgX03dZGDz2kBzVmdJr8i37QneDCe234A=
MIME-Version: 1.0
Received: by 10.223.98.83 with SMTP id p19mr8292288fan.27.1277327261731; Wed, 
	23 Jun 2010 14:07:41 -0700 (PDT)
Received: by 10.223.107.193 with HTTP; Wed, 23 Jun 2010 14:07:41 -0700 (PDT)
In-Reply-To: <146692.68973.qm@web50307.mail.re2.yahoo.com>
References: <AANLkTikdzQWpEuTyycHlyEi38dZL6G0CtP4aWPgXEoOP@mail.gmail.com>
	<146692.68973.qm@web50307.mail.re2.yahoo.com>
Date: Wed, 23 Jun 2010 23:07:41 +0200
Message-ID: <AANLkTik2ImVnK2doHxtY6rfmvcrbQeF_HuHsw9te2WZm@mail.gmail.com>
Subject: Re: arguments in favour of lucene over commercial competition
From: jm <jmuguruza@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

thanks guys, those links are cool. I welcome any other positive thing
anyone can add. Specially references of products/sites moving to
lucene/solr

javier

On Wed, Jun 23, 2010 at 10:49 PM, Otis Gospodnetic
<otis_gospodnetic@yahoo.com> wrote:
> Lucene/Solr choice typically means:
>
> * lower cost of ownership (think about various crazy licensing models som=
e of the commercial search vendors have: per doc, per server, per query, pe=
r year....)
>
> * faster implementation (just think about the duration of the sales/negot=
iation phase for commercial search vendors)
>
> * flexibility -- it's open source, you can change whatever you want. =A0T=
ry that with closed-source commercial search vendor's package.
>
> * super fast and knowledgeable community =A0-- see http://www.jroller.com=
/otis/entry/lucene_solr_nutch_amazing_tech
>
> * commercial support and experts still available -- see http://www.semate=
xt.com/services/index.html
>
> * adoption - small companies, medium companies, HUGE companies, secret or=
ganizations, everyone's using some form of Lucene -- see http://wiki.apache=
.org/lucene-java/PoweredBy , http://wiki.apache.org/solr/PublicServers
>
> * maturity - Lucene is over 10 years old. =A0Solr is over 4 years old.
>
> * future - look at JIRA, look at mailing list traffic, look at pace of de=
velopment, look at CHANGES.txt
>
> * searchable documentation and mailing list archives =A0-- http://search-=
lucene.com/
>
>
> * ...
>
> Otis
> ----
> Sematext :: http://sematext.com/ :: Solr - Lucene - Nutch
> Lucene ecosystem search :: http://search-lucene.com/
>
>
>
> ----- Original Message ----
>> From: jm <jmuguruza@gmail.com>
>> To: java-user@lucene.apache.org
>> Sent: Wed, June 23, 2010 4:01:05 AM
>> Subject: arguments in favour of lucene over commercial competition
>>
>> Hi,
>
> I am trying to compile some arguments in favour of lucene
>> as
> management is deciding weather to standardize on lucene or a
>> competing
> commercial product (we have a couple of produc, one using
>> lucene,
> another using commercial product, imagine what am i using). I
>> searched
> the lists but could not find any post, although I remember seeing
>> such
> posts in the past.
>
> Does somebody kept such posts linked or
>> something? Or does someone
> know of some page that would help me?
>
> I
>> would like to show:
> - traction of lucene, really improving a lot last couple
>> of years
> - rich ecosystem (solr...)
> - references of other companies
>> choosing lucene/solr over commercial
> (be it Fast or
>> whatever)
>
> thanks
>
> ---------------------------------------------------------------------
> To
>> unsubscribe, e-mail:
>> href=3D"mailto:java-user-unsubscribe@lucene.apache.org">java-user-unsubs=
cribe@lucene.apache.org
> For
>> additional commands, e-mail:
>> ymailto=3D"mailto:java-user-help@lucene.apache.org"
>> href=3D"mailto:java-user-help@lucene.apache.org">java-user-help@lucene.a=
pache.org
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46506-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 23 21:16:19 2010
Return-Path: <java-user-return-46506-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82578 invoked from network); 23 Jun 2010 21:16:19 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 23 Jun 2010 21:16:19 -0000
Received: (qmail 77045 invoked by uid 500); 23 Jun 2010 21:16:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76989 invoked by uid 500); 23 Jun 2010 21:16:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76981 invoked by uid 99); 23 Jun 2010 21:16:16 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Jun 2010 21:16:16 +0000
X-ASF-Spam-Status: No, hits=2.9 required=10.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.214.181] (HELO mail-iw0-f181.google.com) (209.85.214.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Jun 2010 21:16:08 +0000
Received: by iwn34 with SMTP id 34so5602449iwn.12
        for <java-user@lucene.apache.org>; Wed, 23 Jun 2010 14:15:46 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.42.36.139 with SMTP id u11mr3182365icd.80.1277327746280; Wed, 
	23 Jun 2010 14:15:46 -0700 (PDT)
Received: by 10.231.199.69 with HTTP; Wed, 23 Jun 2010 14:15:46 -0700 (PDT)
In-Reply-To: <AANLkTikdzQWpEuTyycHlyEi38dZL6G0CtP4aWPgXEoOP@mail.gmail.com>
References: <AANLkTikdzQWpEuTyycHlyEi38dZL6G0CtP4aWPgXEoOP@mail.gmail.com>
Date: Wed, 23 Jun 2010 17:15:46 -0400
Message-ID: <AANLkTimXmainl0old2B0B5aI7V64Lfg83YQ_3_cO-6yE@mail.gmail.com>
Subject: Re: arguments in favour of lucene over commercial competition
From: Hans Merkl <hmerkl@rightonpoint.us>
To: java-user <java-user@lucene.apache.org>
Content-Type: multipart/alternative; boundary=90e6ba180fec942e580489b90a94
X-Virus-Checked: Checked by ClamAV on apache.org

--90e6ba180fec942e580489b90a94
Content-Type: text/plain; charset=ISO-8859-1

Just curious. What commercial alternatives are out there?

On Wed, Jun 23, 2010 at 04:01, jm <jmuguruza@gmail.com> wrote:

> Hi,
>
> I am trying to compile some arguments in favour of lucene as
> management is deciding weather to standardize on lucene or a competing
> commercial product (we have a couple of produc, one using lucene,
> another using commercial product, imagine what am i using). I searched
> the lists but could not find any post, although I remember seeing such
> posts in the past.
>
> Does somebody kept such posts linked or something? Or does someone
> know of some page that would help me?
>
> I would like to show:
> - traction of lucene, really improving a lot last couple of years
> - rich ecosystem (solr...)
> - references of other companies choosing lucene/solr over commercial
> (be it Fast or whatever)
>
> thanks
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--90e6ba180fec942e580489b90a94--

From java-user-return-46507-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 23 21:42:09 2010
Return-Path: <java-user-return-46507-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31371 invoked from network); 23 Jun 2010 21:42:09 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 23 Jun 2010 21:42:09 -0000
Received: (qmail 11778 invoked by uid 500); 23 Jun 2010 21:42:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11724 invoked by uid 500); 23 Jun 2010 21:42:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11716 invoked by uid 99); 23 Jun 2010 21:42:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Jun 2010 21:42:06 +0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=AWL,FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [206.190.38.59] (HELO web50305.mail.re2.yahoo.com) (206.190.38.59)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 23 Jun 2010 21:42:01 +0000
Received: (qmail 87659 invoked by uid 60001); 23 Jun 2010 21:41:40 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1277329300; bh=Vlb/CecJeznpggfAW6vy8D+Oy2iuQCdv8uVlkkpH0GA=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=mOO6mvoVSpPdNju29387SugUxCMnRtOiws55R6RkG5T1oS4AqcPSs1AWFSR2YznhyG3krQNeQx4/s94LK524Shk/fErR/N2VX9XOkjVvqproD+a0IUT1RMUHsDbiuZq+jqRxLTzk668+p27J+XcFjU/4a1gzTI30T64NbdsiLnI=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=m8JZcKNBrEpMQwPLrrkOAJ5EgH7M2szzN4Rs1ZTl2H3Y4XZjRqNvEUh4iWI11o4rRayISs5IE9NdjDVizO53uTukU6+/YaKSG4n/+1WIBgQY+DD8Xo+pMGEbsCzi0Mgb8X4pxc54ZpML3G8vAy6vWxsPPJDIOB9ZsAwD81vyPfc=;
Message-ID: <113108.87205.qm@web50305.mail.re2.yahoo.com>
X-YMail-OSG: 4Ar6zQ8VM1lucBrg631fglWrnSbWGyVO.hSSbkVXiJHs64x
 iZP5oNZMM0UIQazL8MZjWKhprfBGniRK6Uut9UXhe4fdvlFMYipyck5h3WmN
 su7yG.DI84X.JI7H8dDlVRPFBbEqMTn227bhhjcfXx9K2avO66s3V_30sHJ9
 7dmnV6aJA4MOYgKmghnkB9g7_HiOaVOq2x0QidYDCBskiqjoeZr0UdnMjpeR
 k7Ak7ipXrVEx5hRw8V9qegIXhAflkyzNaC7.G_8NHWbkdDX6vZQW_V9R0chA
 QljouSffocLbupUHxVHxED2wa1SGC0W5TFEXLU7ft.HrOrddxWBv60Mlca9k
 0s3Z_CKtHvUrjCG3zjIOk9TmTpQV4Eg--
Received: from [184.75.0.186] by web50305.mail.re2.yahoo.com via HTTP; Wed, 23 Jun 2010 14:41:39 PDT
X-Mailer: YahooMailRC/397.8 YahooMailWebService/0.8.104.274457
References: <AANLkTikdzQWpEuTyycHlyEi38dZL6G0CtP4aWPgXEoOP@mail.gmail.com> <AANLkTimXmainl0old2B0B5aI7V64Lfg83YQ_3_cO-6yE@mail.gmail.com>
Date: Wed, 23 Jun 2010 14:41:39 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: arguments in favour of lucene over commercial competition
To: java-user@lucene.apache.org
In-Reply-To: <AANLkTimXmainl0old2B0B5aI7V64Lfg83YQ_3_cO-6yE@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

Off the top of my head:

FAST
Endeca
Coveo
Attivio
Vivisimo
Google Search Appliance
(tell me when to stop)
Dieselpoint
IBM OmniFind
Exalead
Autonomy
dtSearch
ISYS
Oracle
...
...

 Otis
----
Sematext :: http://sematext.com/ :: Solr - Lucene - Nutch
Lucene ecosystem search :: http://search-lucene.com/



----- Original Message ----
> From: Hans Merkl <hmerkl@rightonpoint.us>
> To: java-user <java-user@lucene.apache.org>
> Sent: Wed, June 23, 2010 5:15:46 PM
> Subject: Re: arguments in favour of lucene over commercial competition
> 
> Just curious. What commercial alternatives are out there?

On Wed, Jun 23, 
> 2010 at 04:01, jm <
> href="mailto:jmuguruza@gmail.com">jmuguruza@gmail.com> wrote:

> 
> Hi,
>
> I am trying to compile some arguments in favour of lucene 
> as
> management is deciding weather to standardize on lucene or a 
> competing
> commercial product (we have a couple of produc, one using 
> lucene,
> another using commercial product, imagine what am i using). I 
> searched
> the lists but could not find any post, although I remember 
> seeing such
> posts in the past.
>
> Does somebody kept such 
> posts linked or something? Or does someone
> know of some page that would 
> help me?
>
> I would like to show:
> - traction of lucene, 
> really improving a lot last couple of years
> - rich ecosystem 
> (solr...)
> - references of other companies choosing lucene/solr over 
> commercial
> (be it Fast or whatever)
>
> 
> thanks
>
> 
> ---------------------------------------------------------------------
> To 
> unsubscribe, e-mail: 
> href="mailto:java-user-unsubscribe@lucene.apache.org">java-user-unsubscribe@lucene.apache.org
> 
> For additional commands, e-mail: 
> ymailto="mailto:java-user-help@lucene.apache.org" 
> href="mailto:java-user-help@lucene.apache.org">java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46508-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 23 21:55:43 2010
Return-Path: <java-user-return-46508-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73468 invoked from network); 23 Jun 2010 21:55:43 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 23 Jun 2010 21:55:43 -0000
Received: (qmail 24907 invoked by uid 500); 23 Jun 2010 21:55:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24863 invoked by uid 500); 23 Jun 2010 21:55:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24855 invoked by uid 99); 23 Jun 2010 21:55:40 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Jun 2010 21:55:40 +0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=AWL,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [188.121.53.1] (HELO n1plout04-01.prod.ams1.secureserver.net) (188.121.53.1)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 23 Jun 2010 21:55:35 +0000
Received: (qmail 11328 invoked from network); 23 Jun 2010 21:55:12 -0000
Received: from unknown (109.253.215.70)
  by n1plout04-01.prod.ams1.secureserver.net (188.121.53.1) with ESMTP; 23 Jun 2010 21:54:37 -0000
From: "Itamar Syn-Hershko" <itamar@code972.com>
To: <java-user@lucene.apache.org>
References: <AANLkTikdzQWpEuTyycHlyEi38dZL6G0CtP4aWPgXEoOP@mail.gmail.com> <AANLkTimXmainl0old2B0B5aI7V64Lfg83YQ_3_cO-6yE@mail.gmail.com> <113108.87205.qm@web50305.mail.re2.yahoo.com>
Subject: RE: arguments in favour of lucene over commercial competition
Date: Thu, 24 Jun 2010 00:54:34 +0300
Message-ID: <A9B9FDAB46CD4C1BA1E6D5BE57C0F878@hp6690ej01>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
In-Reply-To: <113108.87205.qm@web50305.mail.re2.yahoo.com>
Thread-Index: AcsTHPKUDQsmwPO7S6G8/mKNhTiE1wAAWjEw
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.5931

Otis, I'm 99% sure Attivio is just a wrapper arround Lucene...

And I personally wouldn't count full text search solutions such as Oracle's.

Itamar.

> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com] 
> Sent: Thursday, June 24, 2010 12:42 AM
> To: java-user@lucene.apache.org
> Subject: Re: arguments in favour of lucene over commercial competition
> 
> Off the top of my head:
> 
> FAST
> Endeca
> Coveo
> Attivio
> Vivisimo
> Google Search Appliance
> (tell me when to stop)
> Dieselpoint
> IBM OmniFind
> Exalead
> Autonomy
> dtSearch
> ISYS
> Oracle
> ...
> ...
> 
>  Otis
> ----
> Sematext :: http://sematext.com/ :: Solr - Lucene - Nutch 
> Lucene ecosystem search :: http://search-lucene.com/
> 
> 
> 
> ----- Original Message ----
> > From: Hans Merkl <hmerkl@rightonpoint.us>
> > To: java-user <java-user@lucene.apache.org>
> > Sent: Wed, June 23, 2010 5:15:46 PM
> > Subject: Re: arguments in favour of lucene over commercial 
> competition
> > 
> > Just curious. What commercial alternatives are out there?
> 
> On Wed, Jun 23, 
> > 2010 at 04:01, jm <
> > href="mailto:jmuguruza@gmail.com">jmuguruza@gmail.com> wrote:
> 
> > 
> > Hi,
> >
> > I am trying to compile some arguments in favour of lucene as 
> > management is deciding weather to standardize on lucene or 
> a competing 
> > commercial product (we have a couple of produc, one using lucene, 
> > another using commercial product, imagine what am i using). 
> I searched 
> > the lists but could not find any post, although I remember 
> seeing such 
> > posts in the past.
> >
> > Does somebody kept such
> > posts linked or something? Or does someone know of some page that 
> > would help me?
> >
> > I would like to show:
> > - traction of lucene,
> > really improving a lot last couple of years
> > - rich ecosystem
> > (solr...)
> > - references of other companies choosing lucene/solr over 
> commercial 
> > (be it Fast or whatever)
> >
> > 
> > thanks
> >
> > 
> > 
> ---------------------------------------------------------------------
> > To
> > unsubscribe, e-mail: 
> > 
> href="mailto:java-user-unsubscribe@lucene.apache.org">java-user-unsubs
> > cribe@lucene.apache.org
> > 
> > For additional commands, e-mail: 
> > ymailto="mailto:java-user-help@lucene.apache.org" 
> > 
> href="mailto:java-user-help@lucene.apache.org">java-user-help@lucene.a
> > pache.org
> >
> >
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46509-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 23 21:58:01 2010
Return-Path: <java-user-return-46509-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81481 invoked from network); 23 Jun 2010 21:58:01 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 23 Jun 2010 21:58:01 -0000
Received: (qmail 28592 invoked by uid 500); 23 Jun 2010 21:57:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28530 invoked by uid 500); 23 Jun 2010 21:57:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28522 invoked by uid 99); 23 Jun 2010 21:57:58 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Jun 2010 21:57:58 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jmuguruza@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Jun 2010 21:57:52 +0000
Received: by fxm18 with SMTP id 18so709563fxm.35
        for <java-user@lucene.apache.org>; Wed, 23 Jun 2010 14:57:32 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=kqCqSqS95m1KxHioG87eImt5ZorKDT0PuQbMeE4bqRA=;
        b=gdfBTM05ezG28gxKLigEKuN8EKKZrTvWTSQYMCN9/Jr5kjjkAxhT/JJV9QBa56oN7U
         PRSDP27wPP3wtZoM6y03h/m3XU2ZrNAAn16MU6U1OQ7z8rRypNae2BSRx30RghtlsJiq
         7LH4/45rFBET0mYTRi6T8OPIPSgl6GTQgDwB4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=sOg+cZZo+Lgv9eQzHyMPMYGi30OPu0JUugCCwkCBvpW9SeA7biJiqqOwkRAt0kvid7
         uH5wGCgkkHd7/a7dEOEow2P6iSEiXdUNPxyDYdXJoIA1Xq8JfvYfgqCYKns70HDY0tCk
         3ZfKybw/Cudh1awojq9dA64z1imQNXmedNb+Q=
MIME-Version: 1.0
Received: by 10.223.105.129 with SMTP id t1mr481012fao.12.1277330252444; Wed, 
	23 Jun 2010 14:57:32 -0700 (PDT)
Received: by 10.223.107.193 with HTTP; Wed, 23 Jun 2010 14:57:32 -0700 (PDT)
In-Reply-To: <113108.87205.qm@web50305.mail.re2.yahoo.com>
References: <AANLkTikdzQWpEuTyycHlyEi38dZL6G0CtP4aWPgXEoOP@mail.gmail.com>
	<AANLkTimXmainl0old2B0B5aI7V64Lfg83YQ_3_cO-6yE@mail.gmail.com>
	<113108.87205.qm@web50305.mail.re2.yahoo.com>
Date: Wed, 23 Jun 2010 23:57:32 +0200
Message-ID: <AANLkTil7oLdkhhzZA31MzSNI1T58Icna60_M-PeDfweW@mail.gmail.com>
Subject: Re: arguments in favour of lucene over commercial competition
From: jm <jmuguruza@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

yes, in my case the competition is one of the list...

On Wed, Jun 23, 2010 at 11:41 PM, Otis Gospodnetic
<otis_gospodnetic@yahoo.com> wrote:
> Off the top of my head:
>
> FAST
> Endeca
> Coveo
> Attivio
> Vivisimo
> Google Search Appliance
> (tell me when to stop)
> Dieselpoint
> IBM OmniFind
> Exalead
> Autonomy
> dtSearch
> ISYS
> Oracle
> ...
> ...
>
> =A0Otis
> ----
> Sematext :: http://sematext.com/ :: Solr - Lucene - Nutch
> Lucene ecosystem search :: http://search-lucene.com/
>
>
>
> ----- Original Message ----
>> From: Hans Merkl <hmerkl@rightonpoint.us>
>> To: java-user <java-user@lucene.apache.org>
>> Sent: Wed, June 23, 2010 5:15:46 PM
>> Subject: Re: arguments in favour of lucene over commercial competition
>>
>> Just curious. What commercial alternatives are out there?
>
> On Wed, Jun 23,
>> 2010 at 04:01, jm <
>> href=3D"mailto:jmuguruza@gmail.com">jmuguruza@gmail.com> wrote:
>
>>
>> Hi,
>>
>> I am trying to compile some arguments in favour of lucene
>> as
>> management is deciding weather to standardize on lucene or a
>> competing
>> commercial product (we have a couple of produc, one using
>> lucene,
>> another using commercial product, imagine what am i using). I
>> searched
>> the lists but could not find any post, although I remember
>> seeing such
>> posts in the past.
>>
>> Does somebody kept such
>> posts linked or something? Or does someone
>> know of some page that would
>> help me?
>>
>> I would like to show:
>> - traction of lucene,
>> really improving a lot last couple of years
>> - rich ecosystem
>> (solr...)
>> - references of other companies choosing lucene/solr over
>> commercial
>> (be it Fast or whatever)
>>
>>
>> thanks
>>
>>
>> ---------------------------------------------------------------------
>> To
>> unsubscribe, e-mail:
>> href=3D"mailto:java-user-unsubscribe@lucene.apache.org">java-user-unsubs=
cribe@lucene.apache.org
>>
>> For additional commands, e-mail:
>> ymailto=3D"mailto:java-user-help@lucene.apache.org"
>> href=3D"mailto:java-user-help@lucene.apache.org">java-user-help@lucene.a=
pache.org
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46510-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 23 22:44:33 2010
Return-Path: <java-user-return-46510-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3448 invoked from network); 23 Jun 2010 22:44:32 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 23 Jun 2010 22:44:32 -0000
Received: (qmail 90976 invoked by uid 500); 23 Jun 2010 22:44:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90892 invoked by uid 500); 23 Jun 2010 22:44:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90884 invoked by uid 99); 23 Jun 2010 22:44:30 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Jun 2010 22:44:30 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [209.191.69.78] (HELO web32901.mail.mud.yahoo.com) (209.191.69.78)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 23 Jun 2010 22:44:22 +0000
Received: (qmail 44740 invoked by uid 60001); 23 Jun 2010 22:44:00 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1277333040; bh=CyyuFt+LGSHnU7crplB8Oe6O0aAdqpBieGDnTLIWkVY=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type; b=4BU5pGMZg4XtHR77CiOqMej7UwpSj6DJjiS2rTnELH5ZJyZ9jtgr8MMw7jK39FjbckPkBI/1quLx+EidrtXWRmcasrHsrFBq5+T2gUw2/ivjqRlViF8ez4HuMmPRJwhxrjXuPp1gYYKXc5PIkd46qGYYzJEiuiiPiWGv8mhatMk=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type;
  b=DgDwk2A6mSyp8lZB2xOuyiQt6Z4kGJ8UGZu+Ff6IunVD0y8Hu19ZLLIYKPtyPbHaIa/6nYIwymgJYXGlB8XSrmixWKP7Alwv0FFsKI9BLobz4BmQZBrUgfBkXvYbeg4MUMJwAogWzKyQNiH/c3RNDo24G02lhTGmXu9mDHunPHM=;
Message-ID: <649405.44653.qm@web32901.mail.mud.yahoo.com>
X-YMail-OSG: rLs5YaEVM1mgFxeX7gj2Fkd674ZuJHBtVEPT2iLfdx30jGz
 JgZ21l.OoxXp2kjo7Hqzwl_nBCX9L_rz7VmEEvI7xuUpwq0iLV33Ix7ATqS2
 QDbUegTKOudQ59mICOHnn7D_pUf1x0FO8Oxtx4ppmmV1l9pnX6jn0ig7TMD4
 PzuwQJT8XdfEHSgI8b9CZmzUayrLoeGk_sVSguGuHzncQf8i5uDgA2OpXULv
 6esj_98PIO30gRLVY7oQsS8InPgMlyQJSIL7VfGeDaBWNnIDjZYs8DbqXiGC
 LOr0ZktqyFM1vo_EictcyVizHp62HI39D7z1VO842El2rvqYzBiI0og--
Received: from [72.36.94.20] by web32901.mail.mud.yahoo.com via HTTP; Wed, 23 Jun 2010 15:44:00 PDT
X-Mailer: YahooMailRC/397.8 YahooMailWebService/0.8.104.274457
Date: Wed, 23 Jun 2010 15:44:00 -0700 (PDT)
From: Justin <crynax@yahoo.com>
Subject: Problems with homebrew ParallelWriter
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

Hi all,

We've been waiting for LUCENE-1879 and LUCENE-2425 and have written our own ParallelWriter class in the meantime.  Apparently our indexes are falling out of sync (I suspect my colleague is seeing error messages come from ParallelReader stating the the number of documents must be the same).

Here's a code snippet from our ParallelWriter which extends Object:

    writer1 = new IndexWriter(dir, analyzer, 
create,
      
new IndexWriter.MaxFieldLength(MFL));
    
writer1.setMergePolicy(new LogDocMergePolicy());
    
writer1.setMergeScheduler(new SerialMergeScheduler());
    
writer1.setMaxBufferedDocs(MBD);
    
writer1.setRAMBufferSizeMB(IndexWriter.DISABLE_AUTO_FLUSH);

My colleague suspects that merging or flushing is being triggered on something other than the doc count which leads to the writers' different behaviors.  I suspect our next step is to scatter breakpoints around Lucene source (we've got trunk@926791 to take advantage of latest NRT readers).

Does anyone have ideas on how the indexes would get out of sync?  Process close, committing, optimizing,... they all should work okay?

Thanks,
Justin


      

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46511-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 23 23:41:40 2010
Return-Path: <java-user-return-46511-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15559 invoked from network); 23 Jun 2010 23:41:40 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 23 Jun 2010 23:41:40 -0000
Received: (qmail 41003 invoked by uid 500); 23 Jun 2010 23:41:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40918 invoked by uid 500); 23 Jun 2010 23:41:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40910 invoked by uid 99); 23 Jun 2010 23:41:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Jun 2010 23:41:37 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of erickerickson@gmail.com designates 74.125.83.48 as permitted sender)
Received: from [74.125.83.48] (HELO mail-gw0-f48.google.com) (74.125.83.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Jun 2010 23:41:31 +0000
Received: by gwj15 with SMTP id 15so1798947gwj.35
        for <java-user@lucene.apache.org>; Wed, 23 Jun 2010 16:41:10 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=uj4lJ5r+8c54wgy8Sd8eQE6GuAhGuazOejdh0ouVLos=;
        b=qF8jz+aTCf4wI9Xia2NqGhEXIQ9Gh0Ot0Dkp1YFN9Xj4bRb+ZdBJYd1BM+rq3JBAm4
         aratXxsZx43rI8vBYoszhapF2Jvo0BhnwH10m8oJHqW897J6C12Fm0BZJGg1DJ5vZQ64
         4yCgPYJ1RCkDUme5ceIVvPijKEEGAAIeiW4dc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=jk1Q1G4yfsRvkUBanSfZCtBZ4O1ZPK4RS/FNZkWqa7+9zrukpRF0x+UKq9mrhGH6Le
         WxvoGj/uqwkCssP/A4iyirRYl7FKFayWjynUKzJ5EbVdOZr3APmMVOd1+dtOux04L06D
         rp3AaPM2+/nLe0jzxoHrpd89hMdzQqM3wfh2o=
MIME-Version: 1.0
Received: by 10.150.74.20 with SMTP id w20mr8507804yba.251.1277336470166; Wed, 
	23 Jun 2010 16:41:10 -0700 (PDT)
Received: by 10.150.189.2 with HTTP; Wed, 23 Jun 2010 16:41:10 -0700 (PDT)
In-Reply-To: <AANLkTil7oLdkhhzZA31MzSNI1T58Icna60_M-PeDfweW@mail.gmail.com>
References: <AANLkTikdzQWpEuTyycHlyEi38dZL6G0CtP4aWPgXEoOP@mail.gmail.com>
	<AANLkTimXmainl0old2B0B5aI7V64Lfg83YQ_3_cO-6yE@mail.gmail.com>
	<113108.87205.qm@web50305.mail.re2.yahoo.com>
	<AANLkTil7oLdkhhzZA31MzSNI1T58Icna60_M-PeDfweW@mail.gmail.com>
Date: Wed, 23 Jun 2010 19:41:10 -0400
Message-ID: <AANLkTin6QPJ7Joe-F5FcKBCNdoKXZ1z5gionBP15yg0c@mail.gmail.com>
Subject: Re: arguments in favour of lucene over commercial competition
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=000e0cd4c18c901b590489bb12b8
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd4c18c901b590489bb12b8
Content-Type: text/plain; charset=ISO-8859-1

Otis's comments reminded me of one of the astonishing things
I've seen in the Lucene/SOLR ecosystem; I've seen issues
reported, commented on, fixed, and patches made available
*for free* in a matter of hours.

Of course, you have to be willing to use a patched version, but
it sure beats waiting six months for the commercial vendor
to get around to including it in the next release. If they think it's
important enough. Unless you bribe them.

And if you really feel the need to bribe someone, there are
Lucene/SOLR support companies that you
can hire for a very reasonable fee if you don't want to add a
feature yourself. When you need them rather than up-front.

Do note one thing. Open Source software is, IMO,
hit-or-miss. Not all open source projects are created equal, and
just because something's "open source" does not mean it's of
great quality. I happen to think that Lucene/SOLR is in the very
top percentile of quality and active development FWIW. Subscribe
to the dev list to see just how active development is.

Of course the quality of commercial products also varies widely,
but you can't see the source (it's proprietary, dont'cha know) to
judge for yourself.

Have a look at the continuous build. Look at the code coverage
of the unit tests. Ask vendor X to provide equivalent data. Be
ready for BS as a response. Don't accept it.

In my initial foray into Lucene several years ago, by the time
I'd sent a support request to the vendor of a commercial product
and received an answer telling me that I hadn't included the
correct license info and I'd have to provide it before they could
talk to me, I'd found Lucene, downloaded it, indexed
some of our data and run searches against it. Not to mention
that rather than waiting for days to get a response from the
commercial vendor, my questions on the Lucene user's list were
answered within a very few hours. With grace and tolerance
for my ignorance. *For free*.

Hmmmm, can you tell I'm somewhat of an enthusiast? <G>...
Disclosure: No, I don't work for any company that offers
support for SOLR/Lucene, no matter how much it may
sound like it <G>....

Best
Erick

On Wed, Jun 23, 2010 at 5:57 PM, jm <jmuguruza@gmail.com> wrote:

> yes, in my case the competition is one of the list...
>
> On Wed, Jun 23, 2010 at 11:41 PM, Otis Gospodnetic
> <otis_gospodnetic@yahoo.com> wrote:
> > Off the top of my head:
> >
> > FAST
> > Endeca
> > Coveo
> > Attivio
> > Vivisimo
> > Google Search Appliance
> > (tell me when to stop)
> > Dieselpoint
> > IBM OmniFind
> > Exalead
> > Autonomy
> > dtSearch
> > ISYS
> > Oracle
> > ...
> > ...
> >
> >  Otis
> > ----
> > Sematext :: http://sematext.com/ :: Solr - Lucene - Nutch
> > Lucene ecosystem search :: http://search-lucene.com/
> >
> >
> >
> > ----- Original Message ----
> >> From: Hans Merkl <hmerkl@rightonpoint.us>
> >> To: java-user <java-user@lucene.apache.org>
> >> Sent: Wed, June 23, 2010 5:15:46 PM
> >> Subject: Re: arguments in favour of lucene over commercial competition
> >>
> >> Just curious. What commercial alternatives are out there?
> >
> > On Wed, Jun 23,
> >> 2010 at 04:01, jm <
> >> href="mailto:jmuguruza@gmail.com">jmuguruza@gmail.com> wrote:
> >
> >>
> >> Hi,
> >>
> >> I am trying to compile some arguments in favour of lucene
> >> as
> >> management is deciding weather to standardize on lucene or a
> >> competing
> >> commercial product (we have a couple of produc, one using
> >> lucene,
> >> another using commercial product, imagine what am i using). I
> >> searched
> >> the lists but could not find any post, although I remember
> >> seeing such
> >> posts in the past.
> >>
> >> Does somebody kept such
> >> posts linked or something? Or does someone
> >> know of some page that would
> >> help me?
> >>
> >> I would like to show:
> >> - traction of lucene,
> >> really improving a lot last couple of years
> >> - rich ecosystem
> >> (solr...)
> >> - references of other companies choosing lucene/solr over
> >> commercial
> >> (be it Fast or whatever)
> >>
> >>
> >> thanks
> >>
> >>
> >> ---------------------------------------------------------------------
> >> To
> >> unsubscribe, e-mail:
> >> href="mailto:java-user-unsubscribe@lucene.apache.org">
> java-user-unsubscribe@lucene.apache.org
> >>
> >> For additional commands, e-mail:
> >> ymailto="mailto:java-user-help@lucene.apache.org"
> >> href="mailto:java-user-help@lucene.apache.org">
> java-user-help@lucene.apache.org
> >>
> >>
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--000e0cd4c18c901b590489bb12b8--

From java-user-return-46512-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 24 00:01:09 2010
Return-Path: <java-user-return-46512-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18187 invoked from network); 24 Jun 2010 00:01:09 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 24 Jun 2010 00:01:09 -0000
Received: (qmail 50848 invoked by uid 500); 24 Jun 2010 00:01:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50795 invoked by uid 500); 24 Jun 2010 00:01:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50787 invoked by uid 99); 24 Jun 2010 00:01:06 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Jun 2010 00:01:06 +0000
X-ASF-Spam-Status: No, hits=2.9 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.212.176] (HELO mail-px0-f176.google.com) (209.85.212.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Jun 2010 00:00:59 +0000
Received: by pxi13 with SMTP id 13so1418103pxi.35
        for <java-user@lucene.apache.org>; Wed, 23 Jun 2010 17:00:36 -0700 (PDT)
Received: by 10.114.237.20 with SMTP id k20mr8407714wah.185.1277337636724;
        Wed, 23 Jun 2010 17:00:36 -0700 (PDT)
Received: from [10.0.1.90] (203-114-161-15.wir.sta.inspire.net.nz [203.114.161.15])
        by mx.google.com with ESMTPS id n32sm47623773wae.10.2010.06.23.17.00.33
        (version=SSLv3 cipher=RC4-MD5);
        Wed, 23 Jun 2010 17:00:35 -0700 (PDT)
Subject: RE: Help with Numeric Range
From: Todd Nine <todd@spidertracks.co.nz>
Reply-To: todd@spidertracks.co.nz
To: Uwe Schindler <uwe@thetaphi.de>
Cc: java-user@lucene.apache.org
In-Reply-To: <004e01cb12a0$d23e59c0$76bb0d40$@thetaphi.de>
References: <1277272403.23824.6.camel@greenlantern.local>
	 <004e01cb12a0$d23e59c0$76bb0d40$@thetaphi.de>
Content-Type: multipart/alternative; boundary="=-B8jGBhOiCamrBhjSSUSk"
Date: Thu, 24 Jun 2010 11:59:57 +1200
Message-ID: <1277337597.23824.260.camel@greenlantern.local>
Mime-Version: 1.0
X-Mailer: Evolution 2.28.3 
X-Virus-Checked: Checked by ClamAV on apache.org

--=-B8jGBhOiCamrBhjSSUSk
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: 7bit

Hi Uwe,

  Thank you for your help, it is greatly appreciated.  Unfortunately, my
tests all fail except for RangeInclusive.  I've changed the step to be 6
as per your recommendation.  I had it at max to eliminate step precision
as the cause of the test failure.  Essentially, all keys in Cassandra
are UTF-8 Keys.  In the Lucandra, the keys are constructed in the
following way.

1. Get the token stream for the field.  In this case it's a
NumericTokenStream with (numeric,valSize=64,precisionStep=6)
2. For all tokens in the stream, create a UTF8 String in the following
format <fieldname>\uffff<token value>
3. Set the term frequency to 1

This gives us a list of tokens, prefixed with the field name and the
delimiter.  then we do this

for each term from above create a key of the format
<indexname>\uffff<fieldname>\uffff<token value> and write it to TermInfo
column Family

After debugging the implementation of the LucandraTermEnum, it is
correctly returning values that should match my numeric range query.
However, I never get the results in the TopDocs result set after they're
handed back to the numeric range query object.  Any ideas why this is
happening?

Thanks,
Todd




On Wed, 2010-06-23 at 08:53 +0200, Uwe Schindler wrote:

> Hi Todd,
> 
> I am not sure if I understand your problem correctly. I am not familiar with Lucandra/Cassandra at all, but if Lucandra implements the IndexWriter and IndexReader according to the documentation, numeric queries should work. A NumericField internally creates a TokenStream and "analyzes" the number to several Tokens, which are somehow "half binary" (they are terms containing of characters in the full 0..127 range for optimal UTF8 compression with 3.x versions of Lucene). The exact encoding can be looked at in the NumericUtils class + javadocs.
> 
> About your testcase: The test looks good, so does it fail? If yes, where is the problem? You can also look into Lucene's test TestNumericRangeQuery64 for more examples. Or modify its @BeforeClass to instead build a Lucandra index. 
> 
> The test has one thing, that is not intended to be done like that:
> numeric = new NumericField("long", Integer.MAX_VALUE, Store.YES, true);
> 
> You are using MAX_VALUE as precision step, this would slowdown all queries to the speed of old-style TermRangeQueries. It is always better to stick with the default of 4, which creates 64 bits / 4 precStep = 16 terms per value. Alternatively for longs, 6 is a good precision step (see NumericRangeQuery documentation). MAX_VALUE is only intended for fields that do not do numeric ranges but e.g. sort only. precisionStep is a performance tuning parameter, it has nothing to do with better/worse precision on terms or different query results. If you are using NumericRangeQuery with this large precStep, you are not using the numeric features at all, so your test should not behave different from a conventional TermRangeQuery with padded terms.
> 
> Uwe
> 
> -----
> Uwe Schindler
> H.-H.-Meier-Allee 63, D-28213 Bremen
> http://www.thetaphi.de
> eMail: uwe@thetaphi.de
> 
> 
> > -----Original Message-----
> > From: Todd Nine [mailto:todd@spidertracks.co.nz]
> > Sent: Wednesday, June 23, 2010 7:53 AM
> > To: java-user@lucene.apache.org
> > Subject: Help with Numeric Range
> > 
> > Hi all,
> >   I'm new to Lucene, as well as Cassandra.  I'm working on the Lucandra
> > project to modify it to add some extra functionality.  It hasn't been fully
> > testing with range queries, so I've created some tests and contributed them.
> > You can view my source here.
> > 
> > http://github.com/tnine/Lucandra/blob/master/test/lucandra/NumericRang
> > eTests.java
> > 
> > First, is this a sensible test?  I'm specifically testing the case of longs where I
> > need millisecond precision on my searches.
> > 
> > 
> > Second, I see that Numeric Fields are built via terms.  I think the issue lies in
> > the encoding of these terms into bytes for the Cassandra keys.  Can anyone
> > point me to some documentation on numeric queries and terms, and how
> > they are encoded at the byte level based on the precision?
> > 
> > Thanks,
> > Todd
> 

--=-B8jGBhOiCamrBhjSSUSk--


From java-user-return-46513-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 24 03:48:59 2010
Return-Path: <java-user-return-46513-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68611 invoked from network); 24 Jun 2010 03:48:59 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 24 Jun 2010 03:48:59 -0000
Received: (qmail 61939 invoked by uid 500); 24 Jun 2010 03:48:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61409 invoked by uid 500); 24 Jun 2010 03:48:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61401 invoked by uid 99); 24 Jun 2010 03:48:51 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Jun 2010 03:48:51 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of serera@gmail.com designates 209.85.161.176 as permitted sender)
Received: from [209.85.161.176] (HELO mail-gx0-f176.google.com) (209.85.161.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Jun 2010 03:48:43 +0000
Received: by gxk7 with SMTP id 7so326698gxk.35
        for <java-user@lucene.apache.org>; Wed, 23 Jun 2010 20:48:22 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=L+B+InFLosv2SCMF5c8Ku5YWDbdKh2ZjAzTVd/kGKYc=;
        b=kJugkXh0JkqV0zFSuHGXcK1iY6NdoVITMmoP3RWup+vD/PY3A//RkzhOJjKXLPNENT
         0BsuM0r61sObikLZwg+iLcDymBaiJOo7v6G/NCuBtxQzCztWNfnyFxmcpGvW3g3fVufE
         gXu9Gk59G8RoOFTcx2FXcVQ2UJR4p7Bbdbq70=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=wj3AGtNDBIQzCJlUzYBO9UnK0EI0fJV+hUMpumO43DSZcGSD2aZPXbzrHvFLxZ7bBY
         gGhAH0W4JWynXqlMF81GaWIDMmDi3ae/LiHNY0h4A86HL63pVk+ZWES3d4TMeMr4CkyE
         ZlaJvBJnuV1lsm6fMbHc9N6unvTy3S0YGMrEk=
MIME-Version: 1.0
Received: by 10.101.177.16 with SMTP id e16mr7145236anp.221.1277351302492; 
	Wed, 23 Jun 2010 20:48:22 -0700 (PDT)
Received: by 10.100.105.15 with HTTP; Wed, 23 Jun 2010 20:48:22 -0700 (PDT)
In-Reply-To: <649405.44653.qm@web32901.mail.mud.yahoo.com>
References: <649405.44653.qm@web32901.mail.mud.yahoo.com>
Date: Thu, 24 Jun 2010 06:48:22 +0300
Message-ID: <AANLkTikwhSoOEEJM-58dQqhw8w1u3wWidKiatLikPM09@mail.gmail.com>
Subject: Re: Problems with homebrew ParallelWriter
From: Shai Erera <serera@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00163691fb42a373f70489be86cc
X-Virus-Checked: Checked by ClamAV on apache.org

--00163691fb42a373f70489be86cc
Content-Type: text/plain; charset=ISO-8859-1

How do you add documents to the index? Is it synchronized (such that
basically only one thread can add documents at a time)?
The same goes for removing documents as well.

Also, did you encounter any exceptions during the run - if say an addDoc
fails on one of the slices, then you need to revert that addDoc in all
previous slices ...

I remember running into such exception when working on the Parallel Index
stuff, but I don't remember what caused it ...

About merging, note that if you use LogDocMP, then you can guarantee that
all slices will be in sync, but still some merges could happen on some
slices not when you intended them to happen. For example, during a flush of
one addDoc on one of the slices, before the others addDoc finished. But if
you didn't see any exceptions and didn't terminate the process mid-action,
then this should not happen ...

I hope this helps. Unfortunately I had to shift focus from LUCENE-1879.
Perhaps I'll get back to it one day. But if you advanced on PI somehow,
perhaps you can diff the patch that's there and your code, and if you've
made progress, upload another patch?

Shai

On Thu, Jun 24, 2010 at 1:44 AM, Justin <crynax@yahoo.com> wrote:

> Hi all,
>
> We've been waiting for LUCENE-1879 and LUCENE-2425 and have written our own
> ParallelWriter class in the meantime.  Apparently our indexes are falling
> out of sync (I suspect my colleague is seeing error messages come from
> ParallelReader stating the the number of documents must be the same).
>
> Here's a code snippet from our ParallelWriter which extends Object:
>
>    writer1 = new IndexWriter(dir, analyzer,
> create,
>
> new IndexWriter.MaxFieldLength(MFL));
>
> writer1.setMergePolicy(new LogDocMergePolicy());
>
> writer1.setMergeScheduler(new SerialMergeScheduler());
>
> writer1.setMaxBufferedDocs(MBD);
>
> writer1.setRAMBufferSizeMB(IndexWriter.DISABLE_AUTO_FLUSH);
>
> My colleague suspects that merging or flushing is being triggered on
> something other than the doc count which leads to the writers' different
> behaviors.  I suspect our next step is to scatter breakpoints around Lucene
> source (we've got trunk@926791 to take advantage of latest NRT readers).
>
> Does anyone have ideas on how the indexes would get out of sync?  Process
> close, committing, optimizing,... they all should work okay?
>
> Thanks,
> Justin
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--00163691fb42a373f70489be86cc--

From java-user-return-46514-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 24 05:40:14 2010
Return-Path: <java-user-return-46514-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92770 invoked from network); 24 Jun 2010 05:40:14 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 24 Jun 2010 05:40:14 -0000
Received: (qmail 41433 invoked by uid 500); 24 Jun 2010 05:40:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40948 invoked by uid 500); 24 Jun 2010 05:40:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40935 invoked by uid 99); 24 Jun 2010 05:40:07 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Jun 2010 05:40:07 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [206.190.38.62] (HELO web50308.mail.re2.yahoo.com) (206.190.38.62)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 24 Jun 2010 05:40:00 +0000
Received: (qmail 24158 invoked by uid 60001); 24 Jun 2010 05:39:39 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1277357979; bh=cWX0wSv4YUZh/nFI4ZaqHTcza96N2B/daGVQBowrRow=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=qH9SOTk+xa+QMlnN3GAgEPcZpqKKrdzZukqqwrRhbmIb6Np37Rn9U5K2WQ3ESLhDOQNjoEJke7ITHmUU5Bb1mRyFFkCxUlYRivytbQ7eKjhmRzWaPGhoH3Yut82/+0HdNItfTziaUAfaaCM2ofpjiMGn19MWR9tAH4MtzK/Mbgc=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=c39PtIXSwYGmf+ZviFaaWFXkZ6gElYvgJKk5zwMKLqvTDEXjGTTkEWq3/JhiJlWbhpZBPLo0J/0AdarCPh6k/QRgnCI1x1xmjprBi+1CbDFzjyENhWIRyEmmBRzjyLGMIXzgj+X6xeG5wPK4o8JKLBsFrLOyQZEgviyK1dog+ww=;
Message-ID: <427055.23767.qm@web50308.mail.re2.yahoo.com>
X-YMail-OSG: YqjrTZEVM1nCRZFv6mJW9dD9oKCdEI1mG0SQTTUJlfry1Qh
 lB4RX.k3tSlhUZ._9shKAN85kY1dM8sFXOhrtekRFP1_H4fa0uigsjxdmj09
 f416i2gPEZb1zcUl2sTQ3UuVeYxC2xZwRpr.XgQfEtb6LJHAen_LmN9fAjN6
 zbypIQQBX_LqbWQLyDokXMKXVZYit3._o_nz3fYi4BANBupLlJnjAd418CFx
 4vmalBmQ3UYOxDhqEoUb8FlACeAj0q_H7FjmzN6F3vQmS8LxWM3jm1tL7pje
 RkBf8eI9cRgRqC.ytXRkEms85bon_pTxIlSEc1DmrEba1M8T1Xg.3Elf0bMo
 vvw--
Received: from [74.73.6.27] by web50308.mail.re2.yahoo.com via HTTP; Wed, 23 Jun 2010 22:39:39 PDT
X-Mailer: YahooMailRC/397.8 YahooMailWebService/0.8.104.274457
References: <AANLkTikdzQWpEuTyycHlyEi38dZL6G0CtP4aWPgXEoOP@mail.gmail.com> <AANLkTimXmainl0old2B0B5aI7V64Lfg83YQ_3_cO-6yE@mail.gmail.com> <113108.87205.qm@web50305.mail.re2.yahoo.com> <A9B9FDAB46CD4C1BA1E6D5BE57C0F878@hp6690ej01>
Date: Wed, 23 Jun 2010 22:39:39 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: arguments in favour of lucene over commercial competition
To: java-user@lucene.apache.org
In-Reply-To: <A9B9FDAB46CD4C1BA1E6D5BE57C0F878@hp6690ej01>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org

I won't comment on Attivio, as I think I might have signed some NDA with them.  But they do claim to combine full-text search with DB-like joins.  Can't MarkLogic do that, too?


Otis
----
Sematext :: http://sematext.com/ :: Solr - Lucene - Nutch
Lucene ecosystem search :: http://search-lucene.com/



----- Original Message ----
> From: Itamar Syn-Hershko <itamar@code972.com>
> To: java-user@lucene.apache.org
> Sent: Wed, June 23, 2010 5:54:34 PM
> Subject: RE: arguments in favour of lucene over commercial competition
> 
> Otis, I'm 99% sure Attivio is just a wrapper arround Lucene...

And I 
> personally wouldn't count full text search solutions such as 
> Oracle's.

Itamar.

> -----Original Message-----
> From: 
> Otis Gospodnetic [mailto:
> href="mailto:otis_gospodnetic@yahoo.com">otis_gospodnetic@yahoo.com] 
> 
> Sent: Thursday, June 24, 2010 12:42 AM
> To: 
> ymailto="mailto:java-user@lucene.apache.org" 
> href="mailto:java-user@lucene.apache.org">java-user@lucene.apache.org
> 
> Subject: Re: arguments in favour of lucene over commercial competition
> 
> 
> Off the top of my head:
> 
> FAST
> Endeca
> 
> Coveo
> Attivio
> Vivisimo
> Google Search Appliance
> 
> (tell me when to stop)
> Dieselpoint
> IBM OmniFind
> 
> Exalead
> Autonomy
> dtSearch
> ISYS
> Oracle
> 
> ...
> ...
> 
>  Otis
> ----
> Sematext :: 
> href="http://sematext.com/" target=_blank >http://sematext.com/ :: Solr - 
> Lucene - Nutch 
> Lucene ecosystem search :: 
> href="http://search-lucene.com/" target=_blank 
> >http://search-lucene.com/
> 
> 
> 
> ----- Original 
> Message ----
> > From: Hans Merkl <
> ymailto="mailto:hmerkl@rightonpoint.us" 
> href="mailto:hmerkl@rightonpoint.us">hmerkl@rightonpoint.us>
> > 
> To: java-user <
> href="mailto:java-user@lucene.apache.org">java-user@lucene.apache.org>
> 
> > Sent: Wed, June 23, 2010 5:15:46 PM
> > Subject: Re: arguments in 
> favour of lucene over commercial 
> competition
> > 
> > 
> Just curious. What commercial alternatives are out there?
> 
> On 
> Wed, Jun 23, 
> > 2010 at 04:01, jm <
> > href="mailto:
> ymailto="mailto:jmuguruza@gmail.com" 
> href="mailto:jmuguruza@gmail.com">jmuguruza@gmail.com">
> ymailto="mailto:jmuguruza@gmail.com" 
> href="mailto:jmuguruza@gmail.com">jmuguruza@gmail.com> wrote:
> 
> 
> > 
> > Hi,
> >
> > I am trying to compile 
> some arguments in favour of lucene as 
> > management is deciding 
> weather to standardize on lucene or 
> a competing 
> > 
> commercial product (we have a couple of produc, one using lucene, 
> > 
> another using commercial product, imagine what am i using). 
> I searched 
> 
> > the lists but could not find any post, although I remember 
> 
> seeing such 
> > posts in the past.
> >
> > 
> Does somebody kept such
> > posts linked or something? Or does someone 
> know of some page that 
> > would help me?
> >
> > I 
> would like to show:
> > - traction of lucene,
> > really 
> improving a lot last couple of years
> > - rich ecosystem
> > 
> (solr...)
> > - references of other companies choosing lucene/solr over 
> 
> commercial 
> > (be it Fast or whatever)
> >
> 
> > 
> > thanks
> >
> > 
> > 
> 
> ---------------------------------------------------------------------
> 
> > To
> > unsubscribe, e-mail: 
> > 
> href="mailto:
> ymailto="mailto:java-user-unsubscribe@lucene.apache.org" 
> href="mailto:java-user-unsubscribe@lucene.apache.org">java-user-unsubscribe@lucene.apache.org">java-user-unsubs
> 
> > 
> href="mailto:cribe@lucene.apache.org">cribe@lucene.apache.org
> > 
> 
> > For additional commands, e-mail: 
> > ymailto="mailto:
> ymailto="mailto:java-user-help@lucene.apache.org" 
> href="mailto:java-user-help@lucene.apache.org">java-user-help@lucene.apache.org" 
> 
> > 
> href="mailto:
> ymailto="mailto:java-user-help@lucene.apache.org" 
> href="mailto:java-user-help@lucene.apache.org">java-user-help@lucene.apache.org">
> ymailto="mailto:java-user-help@lucene.a" 
> href="mailto:java-user-help@lucene.a">java-user-help@lucene.a
> > 
> pache.org
> >
> >
> 
> 
> ---------------------------------------------------------------------
> To 
> unsubscribe, e-mail: 
> href="mailto:java-user-unsubscribe@lucene.apache.org">java-user-unsubscribe@lucene.apache.org
> 
> For additional commands, e-mail: 
> ymailto="mailto:java-user-help@lucene.apache.org" 
> href="mailto:java-user-help@lucene.apache.org">java-user-help@lucene.apache.org
> 
> 
> 
> 


---------------------------------------------------------------------
To 
> unsubscribe, e-mail: 
> href="mailto:java-user-unsubscribe@lucene.apache.org">java-user-unsubscribe@lucene.apache.org
For 
> additional commands, e-mail: 
> ymailto="mailto:java-user-help@lucene.apache.org" 
> href="mailto:java-user-help@lucene.apache.org">java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46515-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 24 05:43:40 2010
Return-Path: <java-user-return-46515-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93284 invoked from network); 24 Jun 2010 05:43:40 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 24 Jun 2010 05:43:40 -0000
Received: (qmail 45721 invoked by uid 500); 24 Jun 2010 05:43:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45412 invoked by uid 500); 24 Jun 2010 05:43:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45403 invoked by uid 99); 24 Jun 2010 05:43:34 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Jun 2010 05:43:34 +0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=AWL,HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Jun 2010 05:43:29 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id D42E7D36005
	for <java-user@lucene.apache.org>; Thu, 24 Jun 2010 07:43:05 +0200 (CEST)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id PdrKsI4-kVPo for <java-user@lucene.apache.org>;
	Thu, 24 Jun 2010 07:42:52 +0200 (CEST)
Received: from VEGA (port-83-236-62-54.dynamic.qsc.de [83.236.62.54])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id 176A8D36002
	for <java-user@lucene.apache.org>; Thu, 24 Jun 2010 07:42:52 +0200 (CEST)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <1277272403.23824.6.camel@greenlantern.local>	 <004e01cb12a0$d23e59c0$76bb0d40$@thetaphi.de> <1277337597.23824.260.camel@greenlantern.local> 
In-Reply-To: 
Subject: RE: Help with Numeric Range
Date: Thu, 24 Jun 2010 07:43:14 +0200
Message-ID: <001301cb1360$23ed8d30$6bc8a790$@thetaphi.de>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0014_01CB1370.E778A720"
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQGKm8Pey13/HDLLXo/WDE1cIYVhBAMd0iHCAVUmxUSS7e4q8IAAAkFw
Content-Language: de

------=_NextPart_000_0014_01CB1370.E778A720
Content-Type: text/plain;
	charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

Are you sure that the term enum return the terms in correct order? For =
all types of RangeQueries, the term enumeration has to be correctly =
sorted as specified in the docs, if this is not correct, the enumeration =
may be incomplete. It=E2=80=99s a good thing to turn on assertions for =
the lucene package, as the internal term enum asserts some term order =
things.

=20

At least to be sure, have you compared the results with the same test =
ran against pure-Lucene? Maybe there is something wrong in the tests, =
which we cannot see? Alternatively, maybe you try to use =
Lucene=E2=80=99s TestNumericRangeQuery64 and rewrite to Lucandra, as =
this one passes for sure.

=20

One other thing: Lucene 4.0 with flexible indexing will change to =
binary-only terms (BytesRef class), will you be able to handle that?

=20

Uwe

=20

-----

Uwe Schindler

H.-H.-Meier-Allee 63, D-28213 Bremen

 <http://www.thetaphi.de/> http://www.thetaphi.de

eMail: uwe@thetaphi.de

=20

From: Uwe Schindler [mailto:uwe@thetaphi.de]=20
Sent: Thursday, June 24, 2010 7:36 AM
To: 'todd@spidertracks.co.nz'
Subject: RE: Help with Numeric Range

=20

Are you sure that the term enum return the terms in correct order? For =
all types of RangeQueries, the term enumeration has to be correctly =
sorted as specified in the docs, if this is not correct, the enumeration =
may be incomplete.

=20

One other thing: Lucene 4.0 with flexible indexing will change to =
binary-only terms (BytesRef class), will you be able to handle that?

=20

Uwe

=20

-----

Uwe Schindler

H.-H.-Meier-Allee 63, D-28213 Bremen

http://www.thetaphi.de <http://www.thetaphi.de/>=20

eMail: uwe@thetaphi.de

=20

From: Todd Nine [mailto:todd@spidertracks.co.nz]=20
Sent: Thursday, June 24, 2010 2:00 AM
To: Uwe Schindler
Cc: java-user@lucene.apache.org
Subject: RE: Help with Numeric Range

=20

Hi Uwe,

  Thank you for your help, it is greatly appreciated.  Unfortunately, my =
tests all fail except for RangeInclusive.  I've changed the step to be 6 =
as per your recommendation.  I had it at max to eliminate step precision =
as the cause of the test failure.  Essentially, all keys in Cassandra =
are UTF-8 Keys.  In the Lucandra, the keys are constructed in the =
following way.

1. Get the token stream for the field.  In this case it's a =
NumericTokenStream with (numeric,valSize=3D64,precisionStep=3D6)
2. For all tokens in the stream, create a UTF8 String in the following =
format <fieldname>\uffff<token value>
3. Set the term frequency to 1

This gives us a list of tokens, prefixed with the field name and the =
delimiter.  then we do this

for each term from above create a key of the format =
<indexname>\uffff<fieldname>\uffff<token value> and write it to TermInfo =
column Family

After debugging the implementation of the LucandraTermEnum, it is =
correctly returning values that should match my numeric range query.  =
However, I never get the results in the TopDocs result set after they're =
handed back to the numeric range query object.  Any ideas why this is =
happening?

Thanks,
Todd

=09

On Wed, 2010-06-23 at 08:53 +0200, Uwe Schindler wrote:=20

=20
Hi Todd,
=20
I am not sure if I understand your problem correctly. I am not familiar =
with Lucandra/Cassandra at all, but if Lucandra implements the =
IndexWriter and IndexReader according to the documentation, numeric =
queries should work. A NumericField internally creates a TokenStream and =
"analyzes" the number to several Tokens, which are somehow "half binary" =
(they are terms containing of characters in the full 0..127 range for =
optimal UTF8 compression with 3.x versions of Lucene). The exact =
encoding can be looked at in the NumericUtils class + javadocs.
=20
About your testcase: The test looks good, so does it fail? If yes, where =
is the problem? You can also look into Lucene's test =
TestNumericRangeQuery64 for more examples. Or modify its @BeforeClass to =
instead build a Lucandra index.=20
=20
The test has one thing, that is not intended to be done like that:
numeric =3D new NumericField("long", Integer.MAX_VALUE, Store.YES, =
true);
=20
You are using MAX_VALUE as precision step, this would slowdown all =
queries to the speed of old-style TermRangeQueries. It is always better =
to stick with the default of 4, which creates 64 bits / 4 precStep =3D =
16 terms per value. Alternatively for longs, 6 is a good precision step =
(see NumericRangeQuery documentation). MAX_VALUE is only intended for =
fields that do not do numeric ranges but e.g. sort only. precisionStep =
is a performance tuning parameter, it has nothing to do with =
better/worse precision on terms or different query results. If you are =
using NumericRangeQuery with this large precStep, you are not using the =
numeric features at all, so your test should not behave different from a =
conventional TermRangeQuery with padded terms.
=20
Uwe
=20
-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de
=20
=20
> -----Original Message-----
> From: Todd Nine [mailto:todd@spidertracks.co.nz]
> Sent: Wednesday, June 23, 2010 7:53 AM
> To: java-user@lucene.apache.org
> Subject: Help with Numeric Range
>=20
> Hi all,
>   I'm new to Lucene, as well as Cassandra.  I'm working on the =
Lucandra
> project to modify it to add some extra functionality.  It hasn't been =
fully
> testing with range queries, so I've created some tests and contributed =
them.
> You can view my source here.
>=20
> http://github.com/tnine/Lucandra/blob/master/test/lucandra/NumericRang
> eTests.java
>=20
> First, is this a sensible test?  I'm specifically testing the case of =
longs where I
> need millisecond precision on my searches.
>=20
>=20
> Second, I see that Numeric Fields are built via terms.  I think the =
issue lies in
> the encoding of these terms into bytes for the Cassandra keys.  Can =
anyone
> point me to some documentation on numeric queries and terms, and how
> they are encoded at the byte level based on the precision?
>=20
> Thanks,
> Todd
=20

------=_NextPart_000_0014_01CB1370.E778A720--


From java-user-return-46516-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 24 05:43:43 2010
Return-Path: <java-user-return-46516-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93331 invoked from network); 24 Jun 2010 05:43:43 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 24 Jun 2010 05:43:43 -0000
Received: (qmail 47338 invoked by uid 500); 24 Jun 2010 05:43:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45862 invoked by uid 500); 24 Jun 2010 05:43:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45434 invoked by uid 99); 24 Jun 2010 05:43:38 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Jun 2010 05:43:38 +0000
X-ASF-Spam-Status: No, hits=-0.4 required=10.0
	tests=AWL,FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [206.190.38.60] (HELO web50306.mail.re2.yahoo.com) (206.190.38.60)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 24 Jun 2010 05:43:33 +0000
Received: (qmail 55200 invoked by uid 60001); 24 Jun 2010 05:43:11 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1277358191; bh=uO/ugn9FxyqRzCBshICCiOnv7EJAWMeck/BPuh1CT+c=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=kCC4RcHR2LiBbw5licTN2fPCSA2Wwe2M78Ph2OhePN+UBYF1Sf09ixtN83GuyCLZ48WRhiLRiKplzItmIAtld4GjlbRBcaDY/DQkT5kvByXvYgD8BkbnSC+CxnxEGuHEEngzO21gAAxr9c/3frrM+YZM7VTrD7gEWfhdAilZx/E=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=zKTXmlK290C+nIwYGN4h/UgfIQPmj2OV0+g7sZWFURuYTQw2wAMVppJW2C64RFyxMrwbNuD6/xpB3Ans9DlXO84kQFMXtHnmGXBxOx5fNdvOXA/OEH+1f5PfhR/lvEIFB4NBjz1g3/CLXXZBY0O67/oT0aXjFliTsDeb5TyRQws=;
Message-ID: <541529.53909.qm@web50306.mail.re2.yahoo.com>
X-YMail-OSG: qS3pCpEVM1l6vz6o1szJbxyMrabmM_7SHxPbk7Y.xEAPvcD
 btnUjYbaOveWQek.LkYBZRtHxCy.yXWi4oCTsCT5ffcU.RbVPfoeIu4TqXbs
 FYDqgqOeF18LKmHxCxzFx.P92bPO_ykmeTMdwF5746mbqWuC4aUrYcw2FuKl
 hlUZCGVslg6f1Y5tvyQ_5snXFI7UVUxrzBxWWQIkLDMd_mvjwNhT4OwzSEJc
 KdIkKdr0cm.4BW7HOLokLNJcuFRI71Zd5YShj_BePkaTbWfys3wexjdjhDgf
 0p4T0RdBdLRqcjB9ddei_YdFvNXGaAyHJMlszbkRcl0YM735N6R54P6565wm
 018jSFFkJaFVHOv_YuXlzqS_8GWv9EQ--
Received: from [74.73.6.27] by web50306.mail.re2.yahoo.com via HTTP; Wed, 23 Jun 2010 22:43:11 PDT
X-Mailer: YahooMailRC/397.8 YahooMailWebService/0.8.104.274457
References: <AANLkTikdzQWpEuTyycHlyEi38dZL6G0CtP4aWPgXEoOP@mail.gmail.com> <AANLkTimXmainl0old2B0B5aI7V64Lfg83YQ_3_cO-6yE@mail.gmail.com> <113108.87205.qm@web50305.mail.re2.yahoo.com> <AANLkTil7oLdkhhzZA31MzSNI1T58Icna60_M-PeDfweW@mail.gmail.com>
Date: Wed, 23 Jun 2010 22:43:11 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: arguments in favour of lucene over commercial competition
To: java-user@lucene.apache.org
In-Reply-To: <AANLkTil7oLdkhhzZA31MzSNI1T58Icna60_M-PeDfweW@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

Coincidentally, just after I replied to this thread I received an email from one of our customers.  In that email was a quote from one of the commercial search vendors.  My jaw didn't drop because I've seen similar numbers from other commercial search vendors before, but.... I won't mention the customer nor the vendor, but I can tell you that the amount could put a couple of kids through a top-notch private college in the U.S.  Talking about TOC reduction through use of open-source!
 Otis
----
Sematext :: http://sematext.com/ :: Solr - Lucene - Nutch
Lucene ecosystem search :: http://search-lucene.com/



----- Original Message ----
> From: jm <jmuguruza@gmail.com>
> To: java-user@lucene.apache.org
> Sent: Wed, June 23, 2010 5:57:32 PM
> Subject: Re: arguments in favour of lucene over commercial competition
> 
> yes, in my case the competition is one of the list...

On Wed, Jun 23, 
> 2010 at 11:41 PM, Otis Gospodnetic
<
> ymailto="mailto:otis_gospodnetic@yahoo.com" 
> href="mailto:otis_gospodnetic@yahoo.com">otis_gospodnetic@yahoo.com> 
> wrote:
> Off the top of my head:
>
> FAST
> 
> Endeca
> Coveo
> Attivio
> Vivisimo
> Google Search 
> Appliance
> (tell me when to stop)
> Dieselpoint
> IBM 
> OmniFind
> Exalead
> Autonomy
> dtSearch
> ISYS
> 
> Oracle
> ...
> ...
>
>  Otis
> ----
> 
> Sematext :: 
> >http://sematext.com/ :: Solr - Lucene - Nutch
> Lucene ecosystem 
> search :: 
> >http://search-lucene.com/
>
>
>
> ----- Original 
> Message ----
>> From: Hans Merkl <
> ymailto="mailto:hmerkl@rightonpoint.us" 
> href="mailto:hmerkl@rightonpoint.us">hmerkl@rightonpoint.us>
>> 
> To: java-user <
> href="mailto:java-user@lucene.apache.org">java-user@lucene.apache.org>
>> 
> Sent: Wed, June 23, 2010 5:15:46 PM
>> Subject: Re: arguments in favour 
> of lucene over commercial competition
>>
>> Just curious. What 
> commercial alternatives are out there?
>
> On Wed, Jun 
> 23,
>> 2010 at 04:01, jm <
>> href="mailto:
> ymailto="mailto:jmuguruza@gmail.com" 
> href="mailto:jmuguruza@gmail.com">jmuguruza@gmail.com">
> ymailto="mailto:jmuguruza@gmail.com" 
> href="mailto:jmuguruza@gmail.com">jmuguruza@gmail.com> 
> wrote:
>
>>
>> Hi,
>>
>> I am trying 
> to compile some arguments in favour of lucene
>> as
>> 
> management is deciding weather to standardize on lucene or a
>> 
> competing
>> commercial product (we have a couple of produc, one 
> using
>> lucene,
>> another using commercial product, imagine 
> what am i using). I
>> searched
>> the lists but could not 
> find any post, although I remember
>> seeing such
>> posts in 
> the past.
>>
>> Does somebody kept such
>> posts 
> linked or something? Or does someone
>> know of some page that 
> would
>> help me?
>>
>> I would like to 
> show:
>> - traction of lucene,
>> really improving a lot last 
> couple of years
>> - rich ecosystem
>> (solr...)
>> - 
> references of other companies choosing lucene/solr over
>> 
> commercial
>> (be it Fast or 
> whatever)
>>
>>
>> 
> thanks
>>
>>
>> 
> ---------------------------------------------------------------------
>> 
> To
>> unsubscribe, e-mail:
>> href="mailto:
> ymailto="mailto:java-user-unsubscribe@lucene.apache.org" 
> href="mailto:java-user-unsubscribe@lucene.apache.org">java-user-unsubscribe@lucene.apache.org">
> ymailto="mailto:java-user-unsubscribe@lucene.apache.org" 
> href="mailto:java-user-unsubscribe@lucene.apache.org">java-user-unsubscribe@lucene.apache.org
>>
>> 
> For additional commands, e-mail:
>> ymailto="mailto:
> ymailto="mailto:java-user-help@lucene.apache.org" 
> href="mailto:java-user-help@lucene.apache.org">java-user-help@lucene.apache.org"
>> 
> href="mailto:
> href="mailto:java-user-help@lucene.apache.org">java-user-help@lucene.apache.org">
> ymailto="mailto:java-user-help@lucene.apache.org" 
> href="mailto:java-user-help@lucene.apache.org">java-user-help@lucene.apache.org
>>
>>
>
> 
> ---------------------------------------------------------------------
> To 
> unsubscribe, e-mail: 
> href="mailto:java-user-unsubscribe@lucene.apache.org">java-user-unsubscribe@lucene.apache.org
> 
> For additional commands, e-mail: 
> ymailto="mailto:java-user-help@lucene.apache.org" 
> href="mailto:java-user-help@lucene.apache.org">java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To 
> unsubscribe, e-mail: 
> href="mailto:java-user-unsubscribe@lucene.apache.org">java-user-unsubscribe@lucene.apache.org
For 
> additional commands, e-mail: 
> ymailto="mailto:java-user-help@lucene.apache.org" 
> href="mailto:java-user-help@lucene.apache.org">java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46517-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 24 06:20:13 2010
Return-Path: <java-user-return-46517-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2524 invoked from network); 24 Jun 2010 06:20:13 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 24 Jun 2010 06:20:13 -0000
Received: (qmail 75853 invoked by uid 500); 24 Jun 2010 06:20:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75371 invoked by uid 500); 24 Jun 2010 06:20:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75358 invoked by uid 99); 24 Jun 2010 06:20:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Jun 2010 06:20:05 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of naamakraus@gmail.com designates 74.125.82.176 as permitted sender)
Received: from [74.125.82.176] (HELO mail-wy0-f176.google.com) (74.125.82.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Jun 2010 06:20:01 +0000
Received: by wyb29 with SMTP id 29so812436wyb.35
        for <java-user@lucene.apache.org>; Wed, 23 Jun 2010 23:19:39 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type;
        bh=xCrA3RuVsTKB+nWnqu9WjarJEA95jJa7IiRaWjpAvJI=;
        b=FzYwYpnY2Xek4+/GaTVdT2RwMA27y6ESMdWCeWnIlj2fMgIVlzzIoWSDvYKGoiXPaz
         JfSzHe67F+pNguWSZDOfiRZHIWu3aFSzLlpRlkbChxicx0CaVDjwacOwqy7s1fwSytfn
         YC16aYdWOWHBJcRseOlufK0AhxxmGpb5N4r3I=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=XJmBZ53JS3x+usZqI3QfBRhNniODtap52SxMHpPQi3TJV9Zgw0r/iP6nJtdY8bLlu0
         qhTwyatT2URS+k7scKhL4Bd34jezSmitK5uTaEPUIMyZNeQjFbHvazMmqVkGP+Tfww8p
         1i9JhgLKMux9PuGejRMhvYRttu95VmXFTeON4=
Received: by 10.216.87.142 with SMTP id y14mr3377198wee.96.1277360379342; Wed, 
	23 Jun 2010 23:19:39 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.216.89.21 with HTTP; Wed, 23 Jun 2010 23:19:19 -0700 (PDT)
In-Reply-To: <01C4AEE04EB96243BBAA8083CB6514E8687166D3@MBX03.exg5.exghost.com>
References: <AANLkTinMTO9ckJ8bydwAYlwrUhZba1GyJHQcTIAt2XLy@mail.gmail.com> 
	<01C4AEE04EB96243BBAA8083CB6514E8687166D3@MBX03.exg5.exghost.com>
From: Naama Kraus <naamakraus@gmail.com>
Date: Thu, 24 Jun 2010 09:19:19 +0300
Message-ID: <AANLkTinYh5qVdn9LustAIlWWRr6wv7XWeh4_9kiA9iau@mail.gmail.com>
Subject: Re: Overriding Lucene's term weights computation
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e6d77cc8a93a3d0489c0a38b

--0016e6d77cc8a93a3d0489c0a38b
Content-Type: text/plain; charset=ISO-8859-1

ok, thanks Yuval. I'll take a look.
Could you (or anyone) please elaborate why payloads "seem like a worse fit"
?

TX, Naama

On Wed, Jun 23, 2010 at 11:00 PM, Yuval Feinstein <yuvalf@answers.com>wrote:

> Naama, Maybe you could use the new flexible indexing mechanism.
> Some information is in this lecture:
>
> http://lucene-eurocon.org/slides/Lucene-Forecast-Version-Unicode-Flex-and-Mod_Willnauer&Schindler.pdf
> Alternatively, you may use payloads, but they seem like a worse fit.
> Good Luck,
> Yuval
>
> ________________________________________
> From: Naama Kraus [naamakraus@gmail.com]
> Sent: Wednesday, June 23, 2010 1:38 PM
> To: java-user@lucene.apache.org
> Subject: Overriding Lucene's term weights computation
>
> Hi,
>
> Is there a way for an application to index a document along with its "term
> weighted vector" (Lucene's TermFreqVector). I.e., override the term
> frequencies computed by Lucene, with an application's computed term weights
> (non frequency based) ?
> I don't think I want to use Scorer#score() for applying score changes as
> this one is activated at search time which won't work for me.
>
> Thanks for any insight,
> Naama
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--0016e6d77cc8a93a3d0489c0a38b--

From java-user-return-46518-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 24 07:28:28 2010
Return-Path: <java-user-return-46518-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22573 invoked from network); 24 Jun 2010 07:28:28 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 24 Jun 2010 07:28:28 -0000
Received: (qmail 36732 invoked by uid 500); 24 Jun 2010 07:28:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36120 invoked by uid 500); 24 Jun 2010 07:28:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36108 invoked by uid 99); 24 Jun 2010 07:28:21 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Jun 2010 07:28:21 +0000
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=AWL,FREEMAIL_FROM,HTML_MESSAGE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of kumdio@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Jun 2010 07:28:16 +0000
Received: by iwn38 with SMTP id 38so684818iwn.35
        for <java-user@lucene.apache.org>; Thu, 24 Jun 2010 00:27:55 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=x6sbqazG0WUuU6bjFlWMlmDbz3pTLYThAL3boTht5Yo=;
        b=pfAg6P7jb9oGVM9YT2D+wyqjY/svtyAZSWVB7ugR8tSNwph43L0GGIPDYyY+LNQ7DA
         FQf1tQeQPrSvi6/mWHPvalhl6ImXiIWWcyF06Aexv32paP9aQn9iNL/QH0NQmdHWVKQg
         49hafRfwo3vLyHxLz8zWXKZFpRl1D3lH/IfUY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=xafokb8lVOoMr4QtVDFVbs8fITlS8/mSA1QkAbIOHT+23TJMYWl4q++5ZUFeyqMJPs
         i797c1VlFu+OxUDhrLZOhnrqLXoHQ/XQNpDIMgUKbQKZeG+nfjKuAa6pkMFj9+VTvX6e
         +R2o95/WJzU0ftd/qOBIAJQWZ51c9T9A1hT20=
MIME-Version: 1.0
Received: by 10.231.184.137 with SMTP id ck9mr9779182ibb.68.1277364475843; 
	Thu, 24 Jun 2010 00:27:55 -0700 (PDT)
Received: by 10.231.16.138 with HTTP; Thu, 24 Jun 2010 00:27:55 -0700 (PDT)
In-Reply-To: <AANLkTinYh5qVdn9LustAIlWWRr6wv7XWeh4_9kiA9iau@mail.gmail.com>
References: <AANLkTinMTO9ckJ8bydwAYlwrUhZba1GyJHQcTIAt2XLy@mail.gmail.com>
	<01C4AEE04EB96243BBAA8083CB6514E8687166D3@MBX03.exg5.exghost.com>
	<AANLkTinYh5qVdn9LustAIlWWRr6wv7XWeh4_9kiA9iau@mail.gmail.com>
Date: Thu, 24 Jun 2010 10:27:55 +0300
Message-ID: <AANLkTinT-fYbyDn99tHC8lIC6kHmAnmS-s6XNob9GGCQ@mail.gmail.com>
Subject: Re: Overriding Lucene's term weights computation
From: Dionisis Koumouras <kumdio@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e68ee8fcd4d4f10489c197fe

--0016e68ee8fcd4d4f10489c197fe
Content-Type: text/plain; charset=ISO-8859-1

Naama,
I recently faced a similar problem. Overriding the way Lucene uses
TermVectors seemed quite complex for me. I used the payloads mechanism
instead so that I could store a float payload with each word. Then, I
overloaded the similarity class to change the way results are scored, based
on the payloads.
This is the example I was hinted with through this list:
http://www.lucidimagination.com/blog/2010/04/18/refresh-getting-started-with-payloads/
I hope it helps you too

Dionisis

On Thu, Jun 24, 2010 at 9:19 AM, Naama Kraus <naamakraus@gmail.com> wrote:

> ok, thanks Yuval. I'll take a look.
> Could you (or anyone) please elaborate why payloads "seem like a worse fit"
> ?
>
> TX, Naama
>
> On Wed, Jun 23, 2010 at 11:00 PM, Yuval Feinstein <yuvalf@answers.com
> >wrote:
>
> > Naama, Maybe you could use the new flexible indexing mechanism.
> > Some information is in this lecture:
> >
> >
> http://lucene-eurocon.org/slides/Lucene-Forecast-Version-Unicode-Flex-and-Mod_Willnauer&Schindler.pdf
> > Alternatively, you may use payloads, but they seem like a worse fit.
> > Good Luck,
> > Yuval
> >
> > ________________________________________
> > From: Naama Kraus [naamakraus@gmail.com]
> > Sent: Wednesday, June 23, 2010 1:38 PM
> > To: java-user@lucene.apache.org
> > Subject: Overriding Lucene's term weights computation
> >
> > Hi,
> >
> > Is there a way for an application to index a document along with its
> "term
> > weighted vector" (Lucene's TermFreqVector). I.e., override the term
> > frequencies computed by Lucene, with an application's computed term
> weights
> > (non frequency based) ?
> > I don't think I want to use Scorer#score() for applying score changes as
> > this one is activated at search time which won't work for me.
> >
> > Thanks for any insight,
> > Naama
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>

--0016e68ee8fcd4d4f10489c197fe--

From java-user-return-46519-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 24 07:45:32 2010
Return-Path: <java-user-return-46519-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25168 invoked from network); 24 Jun 2010 07:45:32 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 24 Jun 2010 07:45:32 -0000
Received: (qmail 47887 invoked by uid 500); 24 Jun 2010 07:45:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47589 invoked by uid 500); 24 Jun 2010 07:45:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47581 invoked by uid 99); 24 Jun 2010 07:45:25 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Jun 2010 07:45:25 +0000
X-ASF-Spam-Status: No, hits=4.1 required=10.0
	tests=RCVD_ILLEGAL_IP,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: 98.129.35.5 is neither permitted nor denied by domain of yuvalf@answers.com)
Received: from [98.129.35.5] (HELO server505.appriver.com) (98.129.35.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Jun 2010 07:45:18 +0000
X-Policy: GLOBAL - answers.com
X-Primary: yuvalf@answers.com
X-Note: This Email was scanned by AppRiver SecureTide
X-ALLOW: yuvalf@answers.com ALLOWED
X-Virus-Scan: V-
X-Note: Spam Tests Failed: 
X-Country-Path: UNITED STATES->UNITED STATES->UNITED STATES
X-Note-Sending-IP: 98.129.23.14
X-Note-Reverse-DNS: smtp.exg5.exghost.com
X-Note-WHTLIST: yuvalf@answers.com
X-Note: User Rule Hits: 
X-Note: Global Rule Hits: G200 G201 G202 G203 G207 G208 G219 G307 
X-Note: Encrypt Rule Hits: 
X-Note: Mail Class: ALLOWEDSENDER
X-Note: Headers Injected
Received: from [98.129.23.14] (HELO ht01.exg5.exghost.com)
  by server505.appriver.com (CommuniGate Pro SMTP 5.3.5)
  with ESMTPS id 45273686 for java-user@lucene.apache.org; Thu, 24 Jun 2010 02:44:56 -0500
Received: from mbx03.exg5.exghost.com ([169.254.1.219]) by
 ht01.exg5.exghost.com ([98.129.23.14]) with mapi; Thu, 24 Jun 2010 02:44:56
 -0500
From: Yuval Feinstein <yuvalf@answers.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Thu, 24 Jun 2010 02:44:52 -0500
Subject: RE: Overriding Lucene's term weights computation
Thread-Topic: Overriding Lucene's term weights computation
Thread-Index: AcsTZVAq4Zl+p6gTTRWHafi46nJVEAACXrpQ
Message-ID: <01C4AEE04EB96243BBAA8083CB6514E86850A61B@MBX03.exg5.exghost.com>
References: <AANLkTinMTO9ckJ8bydwAYlwrUhZba1GyJHQcTIAt2XLy@mail.gmail.com>
 	<01C4AEE04EB96243BBAA8083CB6514E8687166D3@MBX03.exg5.exghost.com>
 <AANLkTinYh5qVdn9LustAIlWWRr6wv7XWeh4_9kiA9iau@mail.gmail.com>
In-Reply-To: <AANLkTinYh5qVdn9LustAIlWWRr6wv7XWeh4_9kiA9iau@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="Windows-1252"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

Naama,
AFAIK, payloads store an arbitrary byte array per position
(see=20
http://www.lucidimagination.com/blog/2009/08/05/getting-started-with-payloa=
ds/
and=20
http://www.lucidimagination.com/blog/2010/04/18/refresh-getting-started-wit=
h-payloads/)
You define what you put in the payload during indexing, and how to use it d=
uring retrieval.
It seems like you want to replace the default term vectors.
Payloads are an additional mechanism, on top of the term vectors.
This means that implementing payloads will have a memory and a run time cos=
t.
If you have no use for the original term vectors it makes more sense to rep=
lace them using flex indexing,
Because the data structures and algorithms for handling term vectors are mo=
re near the core of Lucene.
Hope this makes sense,
Yuval



-----Original Message-----
From: Naama Kraus [mailto:naamakraus@gmail.com]=20
Sent: Thursday, June 24, 2010 9:19 AM
To: java-user@lucene.apache.org
Subject: Re: Overriding Lucene's term weights computation

ok, thanks Yuval. I'll take a look.
Could you (or anyone) please elaborate why payloads "seem like a worse fit"
?

TX, Naama

On Wed, Jun 23, 2010 at 11:00 PM, Yuval Feinstein <yuvalf@answers.com>wrote=
:

> Naama, Maybe you could use the new flexible indexing mechanism.
> Some information is in this lecture:
>
> http://lucene-eurocon.org/slides/Lucene-Forecast-Version-Unicode-Flex-and=
-Mod_Willnauer&Schindler.pdf
> Alternatively, you may use payloads, but they seem like a worse fit.
> Good Luck,
> Yuval
>
> ________________________________________
> From: Naama Kraus [naamakraus@gmail.com]
> Sent: Wednesday, June 23, 2010 1:38 PM
> To: java-user@lucene.apache.org
> Subject: Overriding Lucene's term weights computation
>
> Hi,
>
> Is there a way for an application to index a document along with its "ter=
m
> weighted vector" (Lucene's TermFreqVector). I.e., override the term
> frequencies computed by Lucene, with an application's computed term weigh=
ts
> (non frequency based) ?
> I don't think I want to use Scorer#score() for applying score changes as
> this one is activated at search time which won't work for me.
>
> Thanks for any insight,
> Naama
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46520-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 24 07:51:32 2010
Return-Path: <java-user-return-46520-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26064 invoked from network); 24 Jun 2010 07:51:31 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 24 Jun 2010 07:51:31 -0000
Received: (qmail 56234 invoked by uid 500); 24 Jun 2010 07:51:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55933 invoked by uid 500); 24 Jun 2010 07:51:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55925 invoked by uid 99); 24 Jun 2010 07:51:25 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Jun 2010 07:51:25 +0000
X-ASF-Spam-Status: No, hits=-0.6 required=10.0
	tests=AWL,FREEMAIL_FROM,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jmuguruza@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Jun 2010 07:51:20 +0000
Received: by fxm18 with SMTP id 18so1060421fxm.35
        for <java-user@lucene.apache.org>; Thu, 24 Jun 2010 00:50:59 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=oykO4441P+eLhhI2GM1kWPuhr5wdzAe2jd49oqpnK1A=;
        b=ZD+2oXXmJw7IvK6lQFGp4TueVsyjEdpjf1SZUMtw/CCqmWZrN7NqusThDZjV7ySkpY
         YdhWska/IVrgNUKSOEJ2JcpbeGPI9mqtKSyk2OyFuusdGISAhLVkwyVc+srP2ov7pBLN
         OJmP51v8hojdb1jIsM9gdsSz3wJV1CipSH/Vw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=qHEZKEHhiB1rpCkLv+ULeyeeeFQvCQ4JMTLkxIR52HRz3wMdEmLOsXwNtowzyMMsua
         azJ6pENh7Rb/AeoVzK5JstNW+V8AArAqn7y0nHFImtjn9fu9MRZmvu2UUJUpZ5g1hDBw
         ey/s2DBw4fk25Acj/yB4GX4BVRf44WOmO3wl8=
MIME-Version: 1.0
Received: by 10.223.50.68 with SMTP id y4mr8821309faf.51.1277365859005; Thu, 
	24 Jun 2010 00:50:59 -0700 (PDT)
Received: by 10.223.107.193 with HTTP; Thu, 24 Jun 2010 00:50:58 -0700 (PDT)
In-Reply-To: <541529.53909.qm@web50306.mail.re2.yahoo.com>
References: <AANLkTikdzQWpEuTyycHlyEi38dZL6G0CtP4aWPgXEoOP@mail.gmail.com>
	<AANLkTimXmainl0old2B0B5aI7V64Lfg83YQ_3_cO-6yE@mail.gmail.com>
	<113108.87205.qm@web50305.mail.re2.yahoo.com>
	<AANLkTil7oLdkhhzZA31MzSNI1T58Icna60_M-PeDfweW@mail.gmail.com>
	<541529.53909.qm@web50306.mail.re2.yahoo.com>
Date: Thu, 24 Jun 2010 09:50:58 +0200
Message-ID: <AANLkTimON8C5IC48A6Pi5LWAqa2jYc_Wt7IQ9rdDR64L@mail.gmail.com>
Subject: Re: arguments in favour of lucene over commercial competition
From: jm <jmuguruza@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

I want to add some perf numbers too, to show how it has improved in
the last versions (not that it was bad before) does anyone have a link
to a nice page with numbers/graphs ?

On Thu, Jun 24, 2010 at 7:43 AM, Otis Gospodnetic
<otis_gospodnetic@yahoo.com> wrote:
> Coincidentally, just after I replied to this thread I received an email f=
rom one of our customers. =A0In that email was a quote from one of the comm=
ercial search vendors. =A0My jaw didn't drop because I've seen similar numb=
ers from other commercial search vendors before, but.... I won't mention th=
e customer nor the vendor, but I can tell you that the amount could put a c=
ouple of kids through a top-notch private college in the U.S. =A0Talking ab=
out TOC reduction through use of open-source!
> =A0Otis
> ----
> Sematext :: http://sematext.com/ :: Solr - Lucene - Nutch
> Lucene ecosystem search :: http://search-lucene.com/
>
>
>
> ----- Original Message ----
>> From: jm <jmuguruza@gmail.com>
>> To: java-user@lucene.apache.org
>> Sent: Wed, June 23, 2010 5:57:32 PM
>> Subject: Re: arguments in favour of lucene over commercial competition
>>
>> yes, in my case the competition is one of the list...
>
> On Wed, Jun 23,
>> 2010 at 11:41 PM, Otis Gospodnetic
> <
>> ymailto=3D"mailto:otis_gospodnetic@yahoo.com"
>> href=3D"mailto:otis_gospodnetic@yahoo.com">otis_gospodnetic@yahoo.com>
>> wrote:
>> Off the top of my head:
>>
>> FAST
>>
>> Endeca
>> Coveo
>> Attivio
>> Vivisimo
>> Google Search
>> Appliance
>> (tell me when to stop)
>> Dieselpoint
>> IBM
>> OmniFind
>> Exalead
>> Autonomy
>> dtSearch
>> ISYS
>>
>> Oracle
>> ...
>> ...
>>
>> =A0Otis
>> ----
>>
>> Sematext ::
>> >http://sematext.com/ :: Solr - Lucene - Nutch
>> Lucene ecosystem
>> search ::
>> >http://search-lucene.com/
>>
>>
>>
>> ----- Original
>> Message ----
>>> From: Hans Merkl <
>> ymailto=3D"mailto:hmerkl@rightonpoint.us"
>> href=3D"mailto:hmerkl@rightonpoint.us">hmerkl@rightonpoint.us>
>>>
>> To: java-user <
>> href=3D"mailto:java-user@lucene.apache.org">java-user@lucene.apache.org>
>>>
>> Sent: Wed, June 23, 2010 5:15:46 PM
>>> Subject: Re: arguments in favour
>> of lucene over commercial competition
>>>
>>> Just curious. What
>> commercial alternatives are out there?
>>
>> On Wed, Jun
>> 23,
>>> 2010 at 04:01, jm <
>>> href=3D"mailto:
>> ymailto=3D"mailto:jmuguruza@gmail.com"
>> href=3D"mailto:jmuguruza@gmail.com">jmuguruza@gmail.com">
>> ymailto=3D"mailto:jmuguruza@gmail.com"
>> href=3D"mailto:jmuguruza@gmail.com">jmuguruza@gmail.com>
>> wrote:
>>
>>>
>>> Hi,
>>>
>>> I am trying
>> to compile some arguments in favour of lucene
>>> as
>>>
>> management is deciding weather to standardize on lucene or a
>>>
>> competing
>>> commercial product (we have a couple of produc, one
>> using
>>> lucene,
>>> another using commercial product, imagine
>> what am i using). I
>>> searched
>>> the lists but could not
>> find any post, although I remember
>>> seeing such
>>> posts in
>> the past.
>>>
>>> Does somebody kept such
>>> posts
>> linked or something? Or does someone
>>> know of some page that
>> would
>>> help me?
>>>
>>> I would like to
>> show:
>>> - traction of lucene,
>>> really improving a lot last
>> couple of years
>>> - rich ecosystem
>>> (solr...)
>>> -
>> references of other companies choosing lucene/solr over
>>>
>> commercial
>>> (be it Fast or
>> whatever)
>>>
>>>
>>>
>> thanks
>>>
>>>
>>>
>> ---------------------------------------------------------------------
>>>
>> To
>>> unsubscribe, e-mail:
>>> href=3D"mailto:
>> ymailto=3D"mailto:java-user-unsubscribe@lucene.apache.org"
>> href=3D"mailto:java-user-unsubscribe@lucene.apache.org">java-user-unsubs=
cribe@lucene.apache.org">
>> ymailto=3D"mailto:java-user-unsubscribe@lucene.apache.org"
>> href=3D"mailto:java-user-unsubscribe@lucene.apache.org">java-user-unsubs=
cribe@lucene.apache.org
>>>
>>>
>> For additional commands, e-mail:
>>> ymailto=3D"mailto:
>> ymailto=3D"mailto:java-user-help@lucene.apache.org"
>> href=3D"mailto:java-user-help@lucene.apache.org">java-user-help@lucene.a=
pache.org"
>>>
>> href=3D"mailto:
>> href=3D"mailto:java-user-help@lucene.apache.org">java-user-help@lucene.a=
pache.org">
>> ymailto=3D"mailto:java-user-help@lucene.apache.org"
>> href=3D"mailto:java-user-help@lucene.apache.org">java-user-help@lucene.a=
pache.org
>>>
>>>
>>
>>
>> ---------------------------------------------------------------------
>> To
>> unsubscribe, e-mail:
>> href=3D"mailto:java-user-unsubscribe@lucene.apache.org">java-user-unsubs=
cribe@lucene.apache.org
>>
>> For additional commands, e-mail:
>> ymailto=3D"mailto:java-user-help@lucene.apache.org"
>> href=3D"mailto:java-user-help@lucene.apache.org">java-user-help@lucene.a=
pache.org
>>
>>
>
> ---------------------------------------------------------------------
> To
>> unsubscribe, e-mail:
>> href=3D"mailto:java-user-unsubscribe@lucene.apache.org">java-user-unsubs=
cribe@lucene.apache.org
> For
>> additional commands, e-mail:
>> ymailto=3D"mailto:java-user-help@lucene.apache.org"
>> href=3D"mailto:java-user-help@lucene.apache.org">java-user-help@lucene.a=
pache.org
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46521-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 24 08:12:20 2010
Return-Path: <java-user-return-46521-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33794 invoked from network); 24 Jun 2010 08:12:20 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 24 Jun 2010 08:12:20 -0000
Received: (qmail 79159 invoked by uid 500); 24 Jun 2010 08:12:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78773 invoked by uid 500); 24 Jun 2010 08:12:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78765 invoked by uid 99); 24 Jun 2010 08:12:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Jun 2010 08:12:14 +0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=AWL,HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Jun 2010 08:12:09 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id 743C7D36005;
	Thu, 24 Jun 2010 10:11:47 +0200 (CEST)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 5IohIjE-OZH9; Thu, 24 Jun 2010 10:11:30 +0200 (CEST)
Received: from VEGA (port-83-236-62-54.dynamic.qsc.de [83.236.62.54])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id 5E8EBD36002;
	Thu, 24 Jun 2010 10:11:29 +0200 (CEST)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <todd@spidertracks.co.nz>
Cc: <java-user@lucene.apache.org>
References: <1277272403.23824.6.camel@greenlantern.local>	 <004e01cb12a0$d23e59c0$76bb0d40$@thetaphi.de>	 <1277337597.23824.260.camel@greenlantern.local>	 <000e01cb135f$cf8b8800$6ea29800$@thetaphi.de> <1277360740.2150.39.camel@greenlantern.local>
In-Reply-To: <1277360740.2150.39.camel@greenlantern.local>
Subject: RE: Help with Numeric Range
Date: Thu, 24 Jun 2010 10:11:51 +0200
Message-ID: <000f01cb1374$e7043da0$b50cb8e0$@thetaphi.de>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0010_01CB1385.AA91EFA0"
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQGKm8Pey13/HDLLXo/WDE1cIYVhBAMd0iHCAVUmxUQCfRN/IQI4JLRDkshuhkA=
Content-Language: de

------=_NextPart_000_0010_01CB1385.AA91EFA0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: quoted-printable

Hi Todd,

=20

I found the bug(s) in your Lucene-Only RAMDIr test:

=20

-          Move the reader=3Dwriter.getReader() after the =
writer.commit(), else you see an empty index from the reader (the IR is =
only a snapshot of the IW at the time it was retrieved. After the =
commit, you have to reopen the reader or move the getter here)! =
=E2=80=93 but this is not your problem in Lucandra J

-          Here is the general problem of your test: The second and =
third document have the same value (copypaste error), your indexing code =
makes mid and high the same, code must instead look like:

                        low =3D 1277266160637l;

                       mid =3D low + 1000;

                       high =3D mid + 1000;

-          Some of the tests use wrong assertions (document ids, its =
=E2=80=9Cfirst=E2=80=9D instead of =E2=80=9Cone=E2=80=9D). But your =
previous test never came to that place.

=20

With these modifications, the tests pass, see my modified version: =
http://lucene.pastebin.org/355982 (I changed package name to be able to =
run test from Lucene testsuite). If they pass with Lucandra, you are =
fine. But these test do not test the NRQ functionality very intensive, =
you should for a real NRQ test adopt TestNumericRangeQuery64 from the =
Lucene source distribution! If this test passes, you can be sure, that =
Lucandra is fine!

=20

Uwe

=20

-----

Uwe Schindler

H.-H.-Meier-Allee 63, D-28213 Bremen

 <http://www.thetaphi.de/> http://www.thetaphi.de

eMail: uwe@thetaphi.de

=20

From: Todd Nine [mailto:todd@spidertracks.co.nz]=20
Sent: Thursday, June 24, 2010 8:26 AM
To: Uwe Schindler
Subject: RE: Help with Numeric Range

=20

Hey Uwe.  I've implemented the same test with a RAM store, and it =
doesn't work.  Maybe I'm doing something wrong, but the tests all appear =
to be in order and work the way I would expect a numeric range query to =
work.  Check out my tests if you would please.  I'm at a real loss here.

http://github.com/tnine/Lucandra/tree/master/test/lucandra/




todd=20
SENIOR SOFTWARE ENGINEER

todd nine| spidertracks ltd |  117a the square=20
po box 5203 | palmerston north 4441 | new zealand=20
P: +64 6 353 3395 | M: +64 210 255 8576 =20
E: todd@spidertracks.co.nz W: www.spidertracks.com=20

On Thu, 2010-06-24 at 07:40 +0200, Uwe Schindler wrote:=20

Hi Todd,



At least to be sure, have you compared the results with the same test =
ran against pure-Lucene? Maybe there is something wrong in the tests, =
which we cannot see? Alternatively, maybe you try to use =
Lucene=E2=80=99s TestNumericRangeQuery64 and rewrite to Lucandra, as =
this one passes for sure.

=20

Uwe

=20

-----

Uwe Schindler

H.-H.-Meier-Allee 63, D-28213 Bremen

http://www.thetaphi.de <http://www.thetaphi.de/>=20

eMail: uwe@thetaphi.de



=20

From: Uwe Schindler [mailto:uwe@thetaphi.de]=20
Sent: Thursday, June 24, 2010 7:36 AM
To: 'todd@spidertracks.co.nz'
Subject: RE: Help with Numeric Range



=20

Are you sure that the term enum return the terms in correct order? For =
all types of RangeQueries, the term enumeration has to be correctly =
sorted as specified in the docs, if this is not correct, the enumeration =
may be incomplete.

=20

One other thing: Lucene 4.0 with flexible indexing will change to =
binary-only terms (BytesRef class), will you be able to handle that?

=20

Uwe

=20

-----

Uwe Schindler

H.-H.-Meier-Allee 63, D-28213 Bremen

http://www.thetaphi.de <http://www.thetaphi.de/>=20

eMail: uwe@thetaphi.de



=20

From: Todd Nine [mailto:todd@spidertracks.co.nz]=20
Sent: Thursday, June 24, 2010 2:00 AM
To: Uwe Schindler
Cc: java-user@lucene.apache.org
Subject: RE: Help with Numeric Range



=20

Hi Uwe,

  Thank you for your help, it is greatly appreciated.  Unfortunately, my =
tests all fail except for RangeInclusive.  I've changed the step to be 6 =
as per your recommendation.  I had it at max to eliminate step precision =
as the cause of the test failure.  Essentially, all keys in Cassandra =
are UTF-8 Keys.  In the Lucandra, the keys are constructed in the =
following way.

1. Get the token stream for the field.  In this case it's a =
NumericTokenStream with (numeric,valSize=3D64,precisionStep=3D6)
2. For all tokens in the stream, create a UTF8 String in the following =
format <fieldname>\uffff<token value>
3. Set the term frequency to 1

This gives us a list of tokens, prefixed with the field name and the =
delimiter.  then we do this

for each term from above create a key of the format =
<indexname>\uffff<fieldname>\uffff<token value> and write it to TermInfo =
column Family

After debugging the implementation of the LucandraTermEnum, it is =
correctly returning values that should match my numeric range query.  =
However, I never get the results in the TopDocs result set after they're =
handed back to the numeric range query object.  Any ideas why this is =
happening?

Thanks,
Todd

=09


On Wed, 2010-06-23 at 08:53 +0200, Uwe Schindler wrote:=20

=20
=20
Hi Todd,
=20
I am not sure if I understand your problem correctly. I am not familiar =
with Lucandra/Cassandra at all, but if Lucandra implements the =
IndexWriter and IndexReader according to the documentation, numeric =
queries should work. A NumericField internally creates a TokenStream and =
"analyzes" the number to several Tokens, which are somehow "half binary" =
(they are terms containing of characters in the full 0..127 range for =
optimal UTF8 compression with 3.x versions of Lucene). The exact =
encoding can be looked at in the NumericUtils class + javadocs.
=20
About your testcase: The test looks good, so does it fail? If yes, where =
is the problem? You can also look into Lucene's test =
TestNumericRangeQuery64 for more examples. Or modify its @BeforeClass to =
instead build a Lucandra index.=20
=20
The test has one thing, that is not intended to be done like that:
numeric =3D new NumericField("long", Integer.MAX_VALUE, Store.YES, =
true);
=20
You are using MAX_VALUE as precision step, this would slowdown all =
queries to the speed of old-style TermRangeQueries. It is always better =
to stick with the default of 4, which creates 64 bits / 4 precStep =3D =
16 terms per value. Alternatively for longs, 6 is a good precision step =
(see NumericRangeQuery documentation). MAX_VALUE is only intended for =
fields that do not do numeric ranges but e.g. sort only. precisionStep =
is a performance tuning parameter, it has nothing to do with =
better/worse precision on terms or different query results. If you are =
using NumericRangeQuery with this large precStep, you are not using the =
numeric features at all, so your test should not behave different from a =
conventional TermRangeQuery with padded terms.
=20
Uwe
=20
-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de
=20
=20
> -----Original Message-----
> From: Todd Nine [mailto:todd@spidertracks.co.nz]
> Sent: Wednesday, June 23, 2010 7:53 AM
> To: java-user@lucene.apache.org
> Subject: Help with Numeric Range
>=20
> Hi all,
>   I'm new to Lucene, as well as Cassandra.  I'm working on the =
Lucandra
> project to modify it to add some extra functionality.  It hasn't been =
fully
> testing with range queries, so I've created some tests and contributed =
them.
> You can view my source here.
>=20
> http://github.com/tnine/Lucandra/blob/master/test/lucandra/NumericRang
> eTests.java
>=20
> First, is this a sensible test?  I'm specifically testing the case of =
longs where I
> need millisecond precision on my searches.
>=20
>=20
> Second, I see that Numeric Fields are built via terms.  I think the =
issue lies in
> the encoding of these terms into bytes for the Cassandra keys.  Can =
anyone
> point me to some documentation on numeric queries and terms, and how
> they are encoded at the byte level based on the precision?
>=20
> Thanks,
> Todd
=20


------=_NextPart_000_0010_01CB1385.AA91EFA0--


From java-user-return-46522-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 24 08:24:09 2010
Return-Path: <java-user-return-46522-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35743 invoked from network); 24 Jun 2010 08:24:09 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 24 Jun 2010 08:24:09 -0000
Received: (qmail 94568 invoked by uid 500); 24 Jun 2010 08:24:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94094 invoked by uid 500); 24 Jun 2010 08:24:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94086 invoked by uid 99); 24 Jun 2010 08:24:02 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Jun 2010 08:24:02 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of naamakraus@gmail.com designates 74.125.82.176 as permitted sender)
Received: from [74.125.82.176] (HELO mail-wy0-f176.google.com) (74.125.82.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Jun 2010 08:23:56 +0000
Received: by wyb29 with SMTP id 29so893268wyb.35
        for <java-user@lucene.apache.org>; Thu, 24 Jun 2010 01:23:36 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type;
        bh=5yKm/QFJ1s+MzXcAmkmihTqj9xuICFw76YjAYrROJQk=;
        b=XWoiTFv7l0+rLe1axSC7HuuQ6rbTLxoBfQse8fvACXTJ3eFgKgG5teWUrKyGImEop6
         3S3pD5xTrt0MPT12ihLVIzf/Oi6zrUuK00TlHAciW+QSl6lO9ZN5hwMNOmxZ42SEbAKb
         q4v+Fes3ej0G7hWHvv+8bOpgkea00dsJ3EU8I=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=QpqbM1Jh6VCbPStkBR1ROIOoJELFdEJ4M8VQXPBJcqNP2ttcRngkvRtrBft+tw5WVe
         EOM74mt7nphD9SEO71t48fAn4irPC+ea4JutjUZ3k89rRwQKUTPKlG+aeB9T9j7Zr3jU
         yciujPWTG3SwiudCRAGh7xrVlVYOzjwjUUTNI=
Received: by 10.216.171.147 with SMTP id r19mr6960373wel.70.1277367816236; 
	Thu, 24 Jun 2010 01:23:36 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.216.89.21 with HTTP; Thu, 24 Jun 2010 01:23:16 -0700 (PDT)
In-Reply-To: <AANLkTinT-fYbyDn99tHC8lIC6kHmAnmS-s6XNob9GGCQ@mail.gmail.com>
References: <AANLkTinMTO9ckJ8bydwAYlwrUhZba1GyJHQcTIAt2XLy@mail.gmail.com> 
	<01C4AEE04EB96243BBAA8083CB6514E8687166D3@MBX03.exg5.exghost.com> 
	<AANLkTinYh5qVdn9LustAIlWWRr6wv7XWeh4_9kiA9iau@mail.gmail.com> 
	<AANLkTinT-fYbyDn99tHC8lIC6kHmAnmS-s6XNob9GGCQ@mail.gmail.com>
From: Naama Kraus <naamakraus@gmail.com>
Date: Thu, 24 Jun 2010 11:23:16 +0300
Message-ID: <AANLkTilFar3cYixzs_lVtCCbyFOl4RY2CihcDP9y02uL@mail.gmail.com>
Subject: Re: Overriding Lucene's term weights computation
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016367facf3ef37340489c25e0c
X-Virus-Checked: Checked by ClamAV on apache.org

--0016367facf3ef37340489c25e0c
Content-Type: text/plain; charset=ISO-8859-1

Great ! Thanks Dionisis.
Naama

On Thu, Jun 24, 2010 at 10:27 AM, Dionisis Koumouras <kumdio@gmail.com>wrote:

> Naama,
> I recently faced a similar problem. Overriding the way Lucene uses
> TermVectors seemed quite complex for me. I used the payloads mechanism
> instead so that I could store a float payload with each word. Then, I
> overloaded the similarity class to change the way results are scored, based
> on the payloads.
> This is the example I was hinted with through this list:
>
> http://www.lucidimagination.com/blog/2010/04/18/refresh-getting-started-with-payloads/
> I hope it helps you too
>
> Dionisis
>
> On Thu, Jun 24, 2010 at 9:19 AM, Naama Kraus <naamakraus@gmail.com> wrote:
>
> > ok, thanks Yuval. I'll take a look.
> > Could you (or anyone) please elaborate why payloads "seem like a worse
> fit"
> > ?
> >
> > TX, Naama
> >
> > On Wed, Jun 23, 2010 at 11:00 PM, Yuval Feinstein <yuvalf@answers.com
> > >wrote:
> >
> > > Naama, Maybe you could use the new flexible indexing mechanism.
> > > Some information is in this lecture:
> > >
> > >
> >
> http://lucene-eurocon.org/slides/Lucene-Forecast-Version-Unicode-Flex-and-Mod_Willnauer&Schindler.pdf
> > > Alternatively, you may use payloads, but they seem like a worse fit.
> > > Good Luck,
> > > Yuval
> > >
> > > ________________________________________
> > > From: Naama Kraus [naamakraus@gmail.com]
> > > Sent: Wednesday, June 23, 2010 1:38 PM
> > > To: java-user@lucene.apache.org
> > > Subject: Overriding Lucene's term weights computation
> > >
> > > Hi,
> > >
> > > Is there a way for an application to index a document along with its
> > "term
> > > weighted vector" (Lucene's TermFreqVector). I.e., override the term
> > > frequencies computed by Lucene, with an application's computed term
> > weights
> > > (non frequency based) ?
> > > I don't think I want to use Scorer#score() for applying score changes
> as
> > > this one is activated at search time which won't work for me.
> > >
> > > Thanks for any insight,
> > > Naama
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> > >
> >
>

--0016367facf3ef37340489c25e0c--

From java-user-return-46523-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 24 08:33:53 2010
Return-Path: <java-user-return-46523-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38249 invoked from network); 24 Jun 2010 08:33:53 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 24 Jun 2010 08:33:53 -0000
Received: (qmail 6995 invoked by uid 500); 24 Jun 2010 08:33:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6411 invoked by uid 500); 24 Jun 2010 08:33:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6403 invoked by uid 99); 24 Jun 2010 08:33:46 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Jun 2010 08:33:46 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of naamakraus@gmail.com designates 74.125.82.176 as permitted sender)
Received: from [74.125.82.176] (HELO mail-wy0-f176.google.com) (74.125.82.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Jun 2010 08:33:41 +0000
Received: by wyb29 with SMTP id 29so900687wyb.35
        for <java-user@lucene.apache.org>; Thu, 24 Jun 2010 01:33:20 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type;
        bh=1OKVwBXgwfg+LnPyAsi078LTs1PBZlMFnOho3zGeuy4=;
        b=blCFP2zB5xsEiAFw05HXlujyu252JkAoEi0KHeKUqowpjvyEdeKE7phd4O8U20Xbtv
         HEwpFRu42tpXOmdfejfbBRniNRULDdTP1xiOxQjKwj8CNTSJwbMGuhjqNatL0e33XgWx
         KTu1aUB8FTdfUvnFSYZtl1e4JQYf6e6oEEAFY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=J+IiZ4eQVfbl+aKARRwOHgg3+dMLAyaPYCwtqjQ4q5/c1vENYaxSc0YPPrruUm/JRx
         hVVTfvvpxLnKU/YIAFYDQGgLVRLGBYkFgnU9PdPMwgCLYZ768QgBokHKqQkjARIvnh7F
         Gua9S1KO0XddgOpWMVRKqVsXWsbQt+ZegkRpA=
Received: by 10.216.171.147 with SMTP id r19mr6961970wel.70.1277367904504; 
	Thu, 24 Jun 2010 01:25:04 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.216.89.21 with HTTP; Thu, 24 Jun 2010 01:24:44 -0700 (PDT)
In-Reply-To: <01C4AEE04EB96243BBAA8083CB6514E86850A61B@MBX03.exg5.exghost.com>
References: <AANLkTinMTO9ckJ8bydwAYlwrUhZba1GyJHQcTIAt2XLy@mail.gmail.com> 
	<01C4AEE04EB96243BBAA8083CB6514E8687166D3@MBX03.exg5.exghost.com> 
	<AANLkTinYh5qVdn9LustAIlWWRr6wv7XWeh4_9kiA9iau@mail.gmail.com> 
	<01C4AEE04EB96243BBAA8083CB6514E86850A61B@MBX03.exg5.exghost.com>
From: Naama Kraus <naamakraus@gmail.com>
Date: Thu, 24 Jun 2010 11:24:44 +0300
Message-ID: <AANLkTikygqPS44BXMBPWyDLrNqHQXv-AQ4Va0_uUQZ_c@mail.gmail.com>
Subject: Re: Overriding Lucene's term weights computation
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016367facf3320bfc0489c2646d

--0016367facf3320bfc0489c2646d
Content-Type: text/plain; charset=ISO-8859-1

OK, got it. Thanks Yuval.

Naama

On Thu, Jun 24, 2010 at 10:44 AM, Yuval Feinstein <yuvalf@answers.com>wrote:

> Naama,
> AFAIK, payloads store an arbitrary byte array per position
> (see
>
> http://www.lucidimagination.com/blog/2009/08/05/getting-started-with-payloads/
> and
>
> http://www.lucidimagination.com/blog/2010/04/18/refresh-getting-started-with-payloads/
> )
> You define what you put in the payload during indexing, and how to use it
> during retrieval.
> It seems like you want to replace the default term vectors.
> Payloads are an additional mechanism, on top of the term vectors.
> This means that implementing payloads will have a memory and a run time
> cost.
> If you have no use for the original term vectors it makes more sense to
> replace them using flex indexing,
> Because the data structures and algorithms for handling term vectors are
> more near the core of Lucene.
> Hope this makes sense,
> Yuval
>
>
>
> -----Original Message-----
> From: Naama Kraus [mailto:naamakraus@gmail.com]
> Sent: Thursday, June 24, 2010 9:19 AM
> To: java-user@lucene.apache.org
> Subject: Re: Overriding Lucene's term weights computation
>
> ok, thanks Yuval. I'll take a look.
> Could you (or anyone) please elaborate why payloads "seem like a worse fit"
> ?
>
> TX, Naama
>
> On Wed, Jun 23, 2010 at 11:00 PM, Yuval Feinstein <yuvalf@answers.com
> >wrote:
>
> > Naama, Maybe you could use the new flexible indexing mechanism.
> > Some information is in this lecture:
> >
> >
> http://lucene-eurocon.org/slides/Lucene-Forecast-Version-Unicode-Flex-and-Mod_Willnauer&Schindler.pdf
> > Alternatively, you may use payloads, but they seem like a worse fit.
> > Good Luck,
> > Yuval
> >
> > ________________________________________
> > From: Naama Kraus [naamakraus@gmail.com]
> > Sent: Wednesday, June 23, 2010 1:38 PM
> > To: java-user@lucene.apache.org
> > Subject: Overriding Lucene's term weights computation
> >
> > Hi,
> >
> > Is there a way for an application to index a document along with its
> "term
> > weighted vector" (Lucene's TermFreqVector). I.e., override the term
> > frequencies computed by Lucene, with an application's computed term
> weights
> > (non frequency based) ?
> > I don't think I want to use Scorer#score() for applying score changes as
> > this one is activated at search time which won't work for me.
> >
> > Thanks for any insight,
> > Naama
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--0016367facf3320bfc0489c2646d--

From java-user-return-46524-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 24 09:05:25 2010
Return-Path: <java-user-return-46524-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46942 invoked from network); 24 Jun 2010 09:05:24 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 24 Jun 2010 09:05:24 -0000
Received: (qmail 29342 invoked by uid 500); 24 Jun 2010 09:05:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28875 invoked by uid 500); 24 Jun 2010 09:05:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28867 invoked by uid 99); 24 Jun 2010 09:05:17 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Jun 2010 09:05:17 +0000
X-ASF-Spam-Status: No, hits=-0.4 required=10.0
	tests=AWL,RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.160.176] (HELO mail-gy0-f176.google.com) (209.85.160.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Jun 2010 09:05:11 +0000
Received: by gyf1 with SMTP id 1so6631236gyf.35
        for <java-user@lucene.apache.org>; Thu, 24 Jun 2010 02:04:49 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.150.255.31 with SMTP id c31mr8952728ybi.196.1277370287549; 
	Thu, 24 Jun 2010 02:04:47 -0700 (PDT)
Received: by 10.151.44.3 with HTTP; Thu, 24 Jun 2010 02:04:47 -0700 (PDT)
In-Reply-To: <AANLkTikwhSoOEEJM-58dQqhw8w1u3wWidKiatLikPM09@mail.gmail.com>
References: <649405.44653.qm@web32901.mail.mud.yahoo.com>
	<AANLkTikwhSoOEEJM-58dQqhw8w1u3wWidKiatLikPM09@mail.gmail.com>
Date: Thu, 24 Jun 2010 05:04:47 -0400
Message-ID: <AANLkTilqLCmrp7QWJpbJn4_tpYKAvCvgP4717qSPf2oN@mail.gmail.com>
Subject: Re: Problems with homebrew ParallelWriter
From: Michael McCandless <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

I agree w/ Shai -- from your description it looks like your docs
should be in sync (assuming no exceptions, and a serial doc/del stream
going in).

If you turn on infoStream for all the writers & post the results, we
can look for where they diverge...

Mike

On Wed, Jun 23, 2010 at 11:48 PM, Shai Erera <serera@gmail.com> wrote:
> How do you add documents to the index? Is it synchronized (such that
> basically only one thread can add documents at a time)?
> The same goes for removing documents as well.
>
> Also, did you encounter any exceptions during the run - if say an addDoc
> fails on one of the slices, then you need to revert that addDoc in all
> previous slices ...
>
> I remember running into such exception when working on the Parallel Index
> stuff, but I don't remember what caused it ...
>
> About merging, note that if you use LogDocMP, then you can guarantee that
> all slices will be in sync, but still some merges could happen on some
> slices not when you intended them to happen. For example, during a flush =
of
> one addDoc on one of the slices, before the others addDoc finished. But i=
f
> you didn't see any exceptions and didn't terminate the process mid-action=
,
> then this should not happen ...
>
> I hope this helps. Unfortunately I had to shift focus from LUCENE-1879.
> Perhaps I'll get back to it one day. But if you advanced on PI somehow,
> perhaps you can diff the patch that's there and your code, and if you've
> made progress, upload another patch?
>
> Shai
>
> On Thu, Jun 24, 2010 at 1:44 AM, Justin <crynax@yahoo.com> wrote:
>
>> Hi all,
>>
>> We've been waiting for LUCENE-1879 and LUCENE-2425 and have written our =
own
>> ParallelWriter class in the meantime. =A0Apparently our indexes are fall=
ing
>> out of sync (I suspect my colleague is seeing error messages come from
>> ParallelReader stating the the number of documents must be the same).
>>
>> Here's a code snippet from our ParallelWriter which extends Object:
>>
>> =A0 =A0writer1 =3D new IndexWriter(dir, analyzer,
>> create,
>>
>> new IndexWriter.MaxFieldLength(MFL));
>>
>> writer1.setMergePolicy(new LogDocMergePolicy());
>>
>> writer1.setMergeScheduler(new SerialMergeScheduler());
>>
>> writer1.setMaxBufferedDocs(MBD);
>>
>> writer1.setRAMBufferSizeMB(IndexWriter.DISABLE_AUTO_FLUSH);
>>
>> My colleague suspects that merging or flushing is being triggered on
>> something other than the doc count which leads to the writers' different
>> behaviors. =A0I suspect our next step is to scatter breakpoints around L=
ucene
>> source (we've got trunk@926791 to take advantage of latest NRT readers).
>>
>> Does anyone have ideas on how the indexes would get out of sync? =A0Proc=
ess
>> close, committing, optimizing,... they all should work okay?
>>
>> Thanks,
>> Justin
>>
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46525-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 24 11:55:42 2010
Return-Path: <java-user-return-46525-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83902 invoked from network); 24 Jun 2010 11:55:42 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 24 Jun 2010 11:55:42 -0000
Received: (qmail 82358 invoked by uid 500); 24 Jun 2010 11:55:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81843 invoked by uid 500); 24 Jun 2010 11:55:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81834 invoked by uid 99); 24 Jun 2010 11:55:35 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Jun 2010 11:55:35 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,MIME_QP_LONG_LINE,SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [202.86.5.88] (HELO smtp101.mail.in.yahoo.com) (202.86.5.88)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 24 Jun 2010 11:55:29 +0000
Received: (qmail 54542 invoked from network); 24 Jun 2010 11:55:07 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=DKIM-Signature:Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE;
  b=rza84pNGa5BYJiOK2Cy+Mppyc/M+QPI+ZotVQr2sOD5nbA9pZ7jfz91ho6k1T3heE9skfjpx7nNaOwxAzpbr5FQx2MGgQ33dD5Dr6vI4ghSRkaZ2mH9DtCoQLfARqCAXjUZmxcHXVfj5l/D4LL8OJNpk6OsT/4QYdpGHQvHkCgU=  ;
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.in; s=s1024; t=1277380507; bh=lGWpHzQrAhqe9tdh4m4hmDnhBLV9pivObc2IFHYKIIQ=; h=Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE; b=pl0CoA7G7rpCH9l0HvtC8HwSyfjN3JrzyNMxm8aoLl9gN1Fi6M93Ayh819ajtlItYAi8y/eCfnO76sH7C4iEoLUqqfNVWqEyuSME9T+2t1mqtG6p2V5Z6GxTpcBWgjdXxYdfBD4DKccIOC8HzUAqRvv2BLKmwrGoVGaqs0/g91Y=
Received: from GaneshM (emailgane@121.242.182.40 with login)
        by smtp101.mail.in.yahoo.com with SMTP; 24 Jun 2010 17:25:06 +0530 IST
X-Yahoo-SMTP: JObyHkuswBBrNSLZp.Ycd7Boqpr_GQ--
X-YMail-OSG: oo63jgUVM1lxGn0myrv4ngdD0vNacuu8FdlIJOoGom3g62A
 7oHWHpcTdxRaMe8EBxak_eIpos95gWQeFfINizwLFkOIRFrO.pyio3vz.LMO
 qfD4ADWJUwjWEhVdHbTXjkA7APU_kRA9jTVlu92y7kah0TQh65ayHOzLmQOp
 6kRNvLhT3xDH004qTwWUm2o8OmvkJqIsd
X-Yahoo-Newman-Property: ymail-3
Message-ID: <F6D35A7C84AF4104B4070E929EDAE7CA@sv.us.sonicwall.com>
From: "Ganesh" <emailgane@yahoo.co.in>
To: <java-user@lucene.apache.org>
Subject: Roadmap for next major release
Date: Thu, 24 Jun 2010 17:24:17 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.5931
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.5931
X-Virus-Checked: Checked by ClamAV on apache.org

Hello all,

What is the road map of next major release? Few days back, many have =
posted their expectation / ideas for the next release. What is the plan =
and what all the things we could expect from the next release

Regards
Ganesh
Send free SMS to your Friends on Mobile from your Yahoo! Messenger. Download Now! http://messenger.yahoo.com/download.php

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46526-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 24 16:57:52 2010
Return-Path: <java-user-return-46526-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79624 invoked from network); 24 Jun 2010 16:57:51 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 24 Jun 2010 16:57:51 -0000
Received: (qmail 37395 invoked by uid 500); 24 Jun 2010 16:57:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37243 invoked by uid 500); 24 Jun 2010 16:57:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37235 invoked by uid 99); 24 Jun 2010 16:57:48 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Jun 2010 16:57:48 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of verma.sudha@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Jun 2010 16:57:41 +0000
Received: by bwz10 with SMTP id 10so2710182bwz.35
        for <java-user@lucene.apache.org>; Thu, 24 Jun 2010 09:57:21 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=Vfria3fwoPaIgP5PbV8MoLVIb2RvHTFlfvurjpASRdA=;
        b=pUg9B0VSgG2LNwkN2ULMPrKiZ9oYe8VBbe9UW8h76AA1rGW8foAyHhz6lzxSo3peDS
         vr2QuBwR3Hnq9vVl8wnSsBENyPkNJgYRbxBxngDBPs+FJVp5Da53Ub/g8YcjsrW9MIqQ
         8UfPoxLtEWG2F/iwUGRhiOoOD1pDU9u0GDq2U=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=IdB6Oq1KfxpDkLO1dWa7jqufmkewINnXV5Wwy7NxCyKdeIcJQTtK49DVk7KDiaNTf3
         fNuyE7vhyljs+h0m15FVdBMzlNJyC4KkKzLW+Kg8FTbo6UEW517ybAdUqSca94xOb6f4
         hKuWEOcXYhacwykQtGzUW1bbJxnwOr60B3Z9I=
MIME-Version: 1.0
Received: by 10.204.81.223 with SMTP id y31mr6574145bkk.87.1277398641392; Thu, 
	24 Jun 2010 09:57:21 -0700 (PDT)
Received: by 10.204.70.9 with HTTP; Thu, 24 Jun 2010 09:57:21 -0700 (PDT)
In-Reply-To: <2D127F11DC79714E9B6A43AC9458147F764DA5D5@suex07-mbx-03.ad.syr.edu>
References: <AANLkTinDZW9HGxrFvyIM2N_7qeTLzR3GjQz7v1pXBux2@mail.gmail.com>
	<2D127F11DC79714E9B6A43AC9458147F764DA5D5@suex07-mbx-03.ad.syr.edu>
Date: Thu, 24 Jun 2010 10:57:21 -0600
Message-ID: <AANLkTinbXEU2bnLVUVa-mDtkDhvk6fAjqeZ3TprqZN8A@mail.gmail.com>
Subject: Re: URL Tokenization
From: Sudha Verma <verma.sudha@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e6dd95ee41bd150489c98cf0
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e6dd95ee41bd150489c98cf0
Content-Type: text/plain; charset=ISO-8859-1

Hi Steve,

Thanks for the quick reply and implementing support for URL
tokenization. Another newbie question about applying this patch.

I have the Lucene 3.0.2 source and I downloaded the patch and tried to apply
it:

lucene-3.0.2> patch -p0 < LUCENE-2167.patch

Comes back with the error message:

....(output truncated)
can't find file to patch at input line 13106
Perhaps you used the wrong -p or --strip option?
The text leading up to this was:


After looking at the line, it looks like it's trying to find
modules/analysis/common/build.xml -- which is not part of the official 3.0.2
src release. And thinking about it, may be I need to use the latest source
(or a nightly build). But, I couldn't figure how to get that. The hudson
link for nightly builds on the apache-lucene site seems to be broke. Or may
be I have a different problem.

I'd appreciate any help.

Thanks,
Sudha



On Wed, Jun 23, 2010 at 12:21 PM, Steven A Rowe <sarowe@syr.edu> wrote:

> Hi Sudha,
>
> There is such a tokenizer, named NewStandardTokenizer, in the most recent
> patch on the following JIRA issue:
>
>   https://issues.apache.org/jira/browse/LUCENE-2167
>
> It keeps (HTTP(S), FTP, and FILE) URLs together as single tokens, and
> e-mails too, in accordance with the relevant IETF RFCs.
>
> Steve
>
> > -----Original Message-----
> > From: Sudha Verma [mailto:verma.sudha@gmail.com]
> > Sent: Wednesday, June 23, 2010 2:07 PM
> > To: java-user@lucene.apache.org
> > Subject: URL Tokenization
> >
> > Hi,
> >
> > I am new to lucene and I am using Lucene 3.0.2.
> >
> > I am using Lucene to parse text which may contain URLs. I noticed the
> > StandardTokenizer keeps the email addresses in one token, but not the
> > URLs.
> > I also looked at Solr wiki pages, and even though the wiki page for
> > solr.StandardTokenizerFactory says it keeps track of the URL token type -
> > it does not seem to be the case.
> >
> > Is there an Analyzer implementation that can keep the URLs intact into
> one
> > token? or does anyone have an example of that for Solr or Lucene?
> >
> > Thanks much,
> > Sudha
>

--0016e6dd95ee41bd150489c98cf0--

From java-user-return-46527-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 24 17:13:31 2010
Return-Path: <java-user-return-46527-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87363 invoked from network); 24 Jun 2010 17:13:31 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 24 Jun 2010 17:13:31 -0000
Received: (qmail 64578 invoked by uid 500); 24 Jun 2010 17:13:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64524 invoked by uid 500); 24 Jun 2010 17:13:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64516 invoked by uid 99); 24 Jun 2010 17:13:28 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Jun 2010 17:13:28 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [209.191.69.78] (HELO web32901.mail.mud.yahoo.com) (209.191.69.78)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 24 Jun 2010 17:13:20 +0000
Received: (qmail 11672 invoked by uid 60001); 24 Jun 2010 17:12:58 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1277399578; bh=PrRLkFv+vuMaWR+Zen1OpOl/vcVdRCGIiBDmYDQMW5Q=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=S/v6zemOtbfHa7JAy/23tbXwEiM0cEjEXpnVQEp0fjSTqbyF7Ge4CL2SmA2gtgoouufUeGMIwOZ5JzLSzMj3H2XoZhuWnoVylr3mgAwMNy7LyIC6pOFtDQbe+emp4/uwFtDYvdiYegE9gl3asrThlxGY9m/3DKxRjuwFixKJEYc=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=3nlHWkhTzhWFBZ1dEFcS0b66kqk/BptgZaJa5F1NnBTiNrwYkfAKp8BJbguxz/5TmaYDNp43IX6mwbFAD3SwBacLQtqYvS4PeOepej+hSt7s7ZkJwl6TKPGDmWX55R2AwoMLncf9fmCICHsW63v37gi5Ks0UGl43vargcu839XY=;
Message-ID: <70147.11648.qm@web32901.mail.mud.yahoo.com>
X-YMail-OSG: BxihWAcVM1nnT1bRgBL8kV_77razxTl0HHo51hadENM9NBA
 Ak_14hjC9Tdo_aYlpy9FK6KvVrDQ_G22qwIseeFvXEaXk59PMxv5Hg3euirS
 b_xo82KHEJE4PtpYB_l8i2Zaa6MGDiLEob4.7aWStwHjomw_Py6QKn.Jfd_k
 pEaMwFWkBVnbR52oYJKkihhyqKM33bh_gimI87V0PzORM60USIkTOz57lGOW
 lTfhD8qZkKBCDoQgcDVC2_YbAf.qkEwtZW6zUXJGXsbZxD_mMU2RP5xPP7n2
 ksg4J3MEjWlee7AskGu6GRNIekQNIGYZdlbtXoGCZs678NVGc7GOv3uQ40jc
 -
Received: from [72.36.94.20] by web32901.mail.mud.yahoo.com via HTTP; Thu, 24 Jun 2010 10:12:57 PDT
X-Mailer: YahooMailRC/397.8 YahooMailWebService/0.8.104.274457
References: <649405.44653.qm@web32901.mail.mud.yahoo.com> <AANLkTikwhSoOEEJM-58dQqhw8w1u3wWidKiatLikPM09@mail.gmail.com>
Date: Thu, 24 Jun 2010 10:12:57 -0700 (PDT)
From: Justin <crynax@yahoo.com>
Subject: Re: Problems with homebrew ParallelWriter
To: java-user@lucene.apache.org
In-Reply-To: <AANLkTikwhSoOEEJM-58dQqhw8w1u3wWidKiatLikPM09@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

Hi Shai,

> Is it synchronized

  public synchronized void addDocument(Document document)
    throws CorruptIndexException, IOException {
    Document document2 = new Document();
    document2.add(...);
    writer1.addDocument(document);
    writer2.addDocument(document2);
  }


> did you encounter any exceptions

I haven't seen the machines firsthand, but I assume my colleague looked for obvious exceptions that would lead to an imbalance.  All exceptions appear to be logged, so we would see something.

> merges could happen on some slices not when you intended

  public synchronized ParallelReader getParallelReader()
    throws IOException, CorruptIndexException {
    IndexReader reader1 = writer1.getReader();
    IndexReader reader2 = writer2.getReader();
    if (reader1.maxDoc() != reader2.maxDoc()) {
      reader1.close();
      reader2.close();
      writer1.optimize(); // force merge for consistent maxDoc
      writer2.optimize(); // force merge for consistent maxDoc
      reader1 = writer1.getReader();
      reader2 = writer2.getReader();
    }
    ParallelReader reader = new ParallelReader();
    reader.add(reader1);
    reader.add(reader2);
    return reader;
  }

As you can see above, my colleague optimizes the indexes to account for merges that have occurred out-of-sync.


> if you've made progress, upload another patch?

If we make a revelation with regards to ParallelWriter, I'll be happy to share.

Thanks for giving us some places to look.

Justin



----- Original Message ----
From: Shai Erera <serera@gmail.com>
To: java-user@lucene.apache.org
Sent: Wed, June 23, 2010 10:48:22 PM
Subject: Re: Problems with homebrew ParallelWriter

How do you add documents to the index? Is it synchronized (such that
basically only one thread can add documents at a time)?
The same goes for removing documents as well.

Also, did you encounter any exceptions during the run - if say an addDoc
fails on one of the slices, then you need to revert that addDoc in all
previous slices ...

I remember running into such exception when working on the Parallel Index
stuff, but I don't remember what caused it ...

About merging, note that if you use LogDocMP, then you can guarantee that
all slices will be in sync, but still some merges could happen on some
slices not when you intended them to happen. For example, during a flush of
one addDoc on one of the slices, before the others addDoc finished. But if
you didn't see any exceptions and didn't terminate the process mid-action,
then this should not happen ...

I hope this helps. Unfortunately I had to shift focus from LUCENE-1879.
Perhaps I'll get back to it one day. But if you advanced on PI somehow,
perhaps you can diff the patch that's there and your code, and if you've
made progress, upload another patch?

Shai

On Thu, Jun 24, 2010 at 1:44 AM, Justin <crynax@yahoo.com> wrote:

> Hi all,
>
> We've been waiting for LUCENE-1879 and LUCENE-2425 and have written our own
> ParallelWriter class in the meantime.  Apparently our indexes are falling
> out of sync (I suspect my colleague is seeing error messages come from
> ParallelReader stating the the number of documents must be the same).
>
> Here's a code snippet from our ParallelWriter which extends Object:
>
>    writer1 = new IndexWriter(dir, analyzer,
> create,
>
> new IndexWriter.MaxFieldLength(MFL));
>
> writer1.setMergePolicy(new LogDocMergePolicy());
>
> writer1.setMergeScheduler(new SerialMergeScheduler());
>
> writer1.setMaxBufferedDocs(MBD);
>
> writer1.setRAMBufferSizeMB(IndexWriter.DISABLE_AUTO_FLUSH);
>
> My colleague suspects that merging or flushing is being triggered on
> something other than the doc count which leads to the writers' different
> behaviors.  I suspect our next step is to scatter breakpoints around Lucene
> source (we've got trunk@926791 to take advantage of latest NRT readers).
>
> Does anyone have ideas on how the indexes would get out of sync?  Process
> close, committing, optimizing,... they all should work okay?
>
> Thanks,
> Justin
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>



      

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46528-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 24 17:16:04 2010
Return-Path: <java-user-return-46528-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88079 invoked from network); 24 Jun 2010 17:16:04 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 24 Jun 2010 17:16:04 -0000
Received: (qmail 73146 invoked by uid 500); 24 Jun 2010 17:16:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73084 invoked by uid 500); 24 Jun 2010 17:16:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73076 invoked by uid 99); 24 Jun 2010 17:16:01 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Jun 2010 17:16:01 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [209.191.69.82] (HELO web32905.mail.mud.yahoo.com) (209.191.69.82)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 24 Jun 2010 17:15:55 +0000
Received: (qmail 48173 invoked by uid 60001); 24 Jun 2010 17:15:33 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1277399733; bh=5R5W6TqOQaazHGgs19gHuYwOWLw9n3GWx+VGm6MmxHY=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=3TxZHE6ZLLDEk+4ycNCe7joL3DPhcbqnFQaZpKZl6jl1H70tDPSg/kULr/S7RQyxuJymc7RVVMlzpH4MT7fHCw+qUvYoOJhPy0qbHw1mhJRnRIdF2+jbm5wyiVkT3STlbMedY5fTqTcR0KvgabJWd+d+cQq63xOoe/wo5lsJO+M=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=nNk2v/sZTHd9W4K8zXN6eHfWY/S3y86HB4WECq7t9nJ5oqtbBIaXpq3Mt//U11Q/943pfqKySKn8dMWmY2TFb0BO2zAewKwt4EDT6qZ6IZo2BfnRFkKsQZ9ZAm5Wx1mZGEmO4k1feJ5nT7vQgx2gOwpjHoLKBpdOSHMPwNZD3+4=;
Message-ID: <620493.47743.qm@web32905.mail.mud.yahoo.com>
X-YMail-OSG: HD3S.6YVM1mT78jBxqHAnjlP6yBr8qqJ3KaBQpfxXmeveop
 llUzNBS3_kY.aXaPugz3qKW_G2iFQ_.9tQXvvFLo_b3cy9EsMXr.M39itDiH
 PvQyt6UMlVlfp2gClWSZjsF.xeECg6swnpSXreEXp8wR2JU7VIDU7Enio.QB
 JGZhZ7ut_X4EiTRo46RgXGOpoDHA9iFl6wlnlncelN9dqxmSTuT.fCIfBD7o
 kalc3DaTflcrhGDuSVBPgrz_c5fEdtX4REe_8ZZGwUtuA0x2ih2aROt1xHeT
 MhvvoUqdIi1e.J5D8XF3jJKGHaW5cO2p.srBhqlKbzJe9zKygZwwuErvC9nR
 yAqD_09RTBlyWAf6nZq3abjdBAwd07HmwUeqySrPO4ycgX08oSwjfNGuOQA-
 -
Received: from [72.36.94.20] by web32905.mail.mud.yahoo.com via HTTP; Thu, 24 Jun 2010 10:15:33 PDT
X-Mailer: YahooMailRC/397.8 YahooMailWebService/0.8.104.274457
References: <649405.44653.qm@web32901.mail.mud.yahoo.com> <AANLkTikwhSoOEEJM-58dQqhw8w1u3wWidKiatLikPM09@mail.gmail.com> <AANLkTilqLCmrp7QWJpbJn4_tpYKAvCvgP4717qSPf2oN@mail.gmail.com>
Date: Thu, 24 Jun 2010 10:15:33 -0700 (PDT)
From: Justin <crynax@yahoo.com>
Subject: Re: Problems with homebrew ParallelWriter
To: java-user@lucene.apache.org
In-Reply-To: <AANLkTilqLCmrp7QWJpbJn4_tpYKAvCvgP4717qSPf2oN@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

Hi Mike,

We did use IndexWriter::setInfoStream.  Apparently there is a lot to sift through.

I'll let you know if we make any discoveries useful for others.

Thanks!
Justin




----- Original Message ----
From: Michael McCandless <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Sent: Thu, June 24, 2010 4:04:47 AM
Subject: Re: Problems with homebrew ParallelWriter

I agree w/ Shai -- from your description it looks like your docs
should be in sync (assuming no exceptions, and a serial doc/del stream
going in).

If you turn on infoStream for all the writers & post the results, we
can look for where they diverge...

Mike

On Wed, Jun 23, 2010 at 11:48 PM, Shai Erera <serera@gmail.com> wrote:
> How do you add documents to the index? Is it synchronized (such that
> basically only one thread can add documents at a time)?
> The same goes for removing documents as well.
>
> Also, did you encounter any exceptions during the run - if say an addDoc
> fails on one of the slices, then you need to revert that addDoc in all
> previous slices ...
>
> I remember running into such exception when working on the Parallel Index
> stuff, but I don't remember what caused it ...
>
> About merging, note that if you use LogDocMP, then you can guarantee that
> all slices will be in sync, but still some merges could happen on some
> slices not when you intended them to happen. For example, during a flush of
> one addDoc on one of the slices, before the others addDoc finished. But if
> you didn't see any exceptions and didn't terminate the process mid-action,
> then this should not happen ...
>
> I hope this helps. Unfortunately I had to shift focus from LUCENE-1879.
> Perhaps I'll get back to it one day. But if you advanced on PI somehow,
> perhaps you can diff the patch that's there and your code, and if you've
> made progress, upload another patch?
>
> Shai
>
> On Thu, Jun 24, 2010 at 1:44 AM, Justin <crynax@yahoo.com> wrote:
>
>> Hi all,
>>
>> We've been waiting for LUCENE-1879 and LUCENE-2425 and have written our own
>> ParallelWriter class in the meantime.  Apparently our indexes are falling
>> out of sync (I suspect my colleague is seeing error messages come from
>> ParallelReader stating the the number of documents must be the same).
>>
>> Here's a code snippet from our ParallelWriter which extends Object:
>>
>>    writer1 = new IndexWriter(dir, analyzer,
>> create,
>>
>> new IndexWriter.MaxFieldLength(MFL));
>>
>> writer1.setMergePolicy(new LogDocMergePolicy());
>>
>> writer1.setMergeScheduler(new SerialMergeScheduler());
>>
>> writer1.setMaxBufferedDocs(MBD);
>>
>> writer1.setRAMBufferSizeMB(IndexWriter.DISABLE_AUTO_FLUSH);
>>
>> My colleague suspects that merging or flushing is being triggered on
>> something other than the doc count which leads to the writers' different
>> behaviors.  I suspect our next step is to scatter breakpoints around Lucene
>> source (we've got trunk@926791 to take advantage of latest NRT readers).
>>
>> Does anyone have ideas on how the indexes would get out of sync?  Process
>> close, committing, optimizing,... they all should work okay?
>>
>> Thanks,
>> Justin
>>
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


      

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46529-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 24 17:34:55 2010
Return-Path: <java-user-return-46529-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91547 invoked from network); 24 Jun 2010 17:34:55 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 24 Jun 2010 17:34:55 -0000
Received: (qmail 98642 invoked by uid 500); 24 Jun 2010 17:34:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98544 invoked by uid 500); 24 Jun 2010 17:34:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98536 invoked by uid 99); 24 Jun 2010 17:34:52 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Jun 2010 17:34:52 +0000
X-ASF-Spam-Status: No, hits=-2.5 required=10.0
	tests=AWL,RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [128.230.18.82] (HELO smtp1.syr.edu) (128.230.18.82)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Jun 2010 17:34:45 +0000
Received: from suex07-hub-02.ad.syr.edu (suex07-hub-02.ad.syr.edu [128.230.108.196])
	by smtp1.syr.edu (8.14.3/8.14.3) with ESMTP id o5OHYOrg032528
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=FAIL)
	for <java-user@lucene.apache.org>; Thu, 24 Jun 2010 13:34:24 -0400
Received: from suex07-mbx-03.ad.syr.edu ([128.230.108.133]) by
 suex07-hub-02.ad.syr.edu ([fe80::813b:49a2:a4d5:6367%10]) with mapi; Thu, 24
 Jun 2010 13:34:24 -0400
From: Steven A Rowe <sarowe@syr.edu>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Thu, 24 Jun 2010 13:34:04 -0400
Subject: RE: URL Tokenization
Thread-Topic: URL Tokenization
Thread-Index: AcsTvmVzNDC8bV/CQxSW2cSPPQ3ofwAA9HpQ
Message-ID: <2D127F11DC79714E9B6A43AC9458147F764DA5EA@suex07-mbx-03.ad.syr.edu>
References: <AANLkTinDZW9HGxrFvyIM2N_7qeTLzR3GjQz7v1pXBux2@mail.gmail.com>
	<2D127F11DC79714E9B6A43AC9458147F764DA5D5@suex07-mbx-03.ad.syr.edu>
 <AANLkTinbXEU2bnLVUVa-mDtkDhvk6fAjqeZ3TprqZN8A@mail.gmail.com>
In-Reply-To: <AANLkTinbXEU2bnLVUVa-mDtkDhvk6fAjqeZ3TprqZN8A@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-Proofpoint-Virus-Version: vendor=fsecure engine=1.12.8161:2.4.5,1.2.40,4.0.166
 definitions=2010-06-24_02:2010-02-06,2010-06-24,2010-06-24 signatures=0
X-Proofpoint-Spam-Reason: safe

SGkgU3VkaGEsDQoNClNvcnJ5LCBJIHNob3VsZCBoYXZlIG1lbnRpb25lZCB0aGF0IHRoZSBleGlz
dGluZyBwYXRjaCBpcyBpbnRlbmRlZCBmb3IgdXNlIG9ubHkgYWdhaW5zdCB0aGUgdHJ1bmsgdmVy
c2lvbiAoaS5lLiwgdmVyc2lvbiA0LjAtZGV2KS4NCg0KSW5zdHJ1Y3Rpb25zIGZvciBjaGVja2lu
ZyBvdXQgYSB3b3JraW5nIGNvcHkgZnJvbSBTdWJ2ZXJzaW9uIGFyZSBoZXJlOg0KDQogICBodHRw
Oi8vd2lraS5hcGFjaGUub3JnL2x1Y2VuZS1qYXZhL0hvd1RvQ29udHJpYnV0ZQ0KDQpPbmNlIHlv
dSd2ZSBkb25lIHRoYXQsIGNoYW5nZSBkaXJlY3RvcnkgdG8gdGhlIHJvb3QgZGlyZWN0b3J5IG9m
IHRoZSBjaGVja2VkIG91dCB3b3JraW5nIGNvcHkgYW5kIGFwcGx5IHRoZSBwYXRjaCwgbGlrZSB5
b3UgZGlkIHByZXZpb3VzbHkuDQoNClN0ZXZlDQoNCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0t
LS0NCj4gRnJvbTogU3VkaGEgVmVybWEgW21haWx0bzp2ZXJtYS5zdWRoYUBnbWFpbC5jb21dDQo+
IFNlbnQ6IFRodXJzZGF5LCBKdW5lIDI0LCAyMDEwIDEyOjU3IFBNDQo+IFRvOiBqYXZhLXVzZXJA
bHVjZW5lLmFwYWNoZS5vcmcNCj4gU3ViamVjdDogUmU6IFVSTCBUb2tlbml6YXRpb24NCj4gDQo+
IEhpIFN0ZXZlLA0KPiANCj4gVGhhbmtzIGZvciB0aGUgcXVpY2sgcmVwbHkgYW5kIGltcGxlbWVu
dGluZyBzdXBwb3J0IGZvciBVUkwgdG9rZW5pemF0aW9uLg0KPiBBbm90aGVyIG5ld2JpZSBxdWVz
dGlvbiBhYm91dCBhcHBseWluZyB0aGlzIHBhdGNoLg0KPiANCj4gSSBoYXZlIHRoZSBMdWNlbmUg
My4wLjIgc291cmNlIGFuZCBJIGRvd25sb2FkZWQgdGhlIHBhdGNoIGFuZCB0cmllZCB0bw0KPiBh
cHBseQ0KPiBpdDoNCj4gDQo+IGx1Y2VuZS0zLjAuMj4gcGF0Y2ggLXAwIDwgTFVDRU5FLTIxNjcu
cGF0Y2gNCj4gDQo+IENvbWVzIGJhY2sgd2l0aCB0aGUgZXJyb3IgbWVzc2FnZToNCj4gDQo+IC4u
Li4ob3V0cHV0IHRydW5jYXRlZCkNCj4gY2FuJ3QgZmluZCBmaWxlIHRvIHBhdGNoIGF0IGlucHV0
IGxpbmUgMTMxMDYgUGVyaGFwcyB5b3UgdXNlZCB0aGUgd3JvbmcgLXANCj4gb3IgLS1zdHJpcCBv
cHRpb24/DQo+IFRoZSB0ZXh0IGxlYWRpbmcgdXAgdG8gdGhpcyB3YXM6DQo+IA0KPiANCj4gQWZ0
ZXIgbG9va2luZyBhdCB0aGUgbGluZSwgaXQgbG9va3MgbGlrZSBpdCdzIHRyeWluZyB0byBmaW5k
DQo+IG1vZHVsZXMvYW5hbHlzaXMvY29tbW9uL2J1aWxkLnhtbCAtLSB3aGljaCBpcyBub3QgcGFy
dCBvZiB0aGUgb2ZmaWNpYWwNCj4gMy4wLjIgc3JjIHJlbGVhc2UuIEFuZCB0aGlua2luZyBhYm91
dCBpdCwgbWF5IGJlIEkgbmVlZCB0byB1c2UgdGhlIGxhdGVzdA0KPiBzb3VyY2UgKG9yIGEgbmln
aHRseSBidWlsZCkuIEJ1dCwgSSBjb3VsZG4ndCBmaWd1cmUgaG93IHRvIGdldCB0aGF0LiBUaGUN
Cj4gaHVkc29uIGxpbmsgZm9yIG5pZ2h0bHkgYnVpbGRzIG9uIHRoZSBhcGFjaGUtbHVjZW5lIHNp
dGUgc2VlbXMgdG8gYmUNCj4gYnJva2UuIE9yIG1heSBiZSBJIGhhdmUgYSBkaWZmZXJlbnQgcHJv
YmxlbS4NCj4gDQo+IEknZCBhcHByZWNpYXRlIGFueSBoZWxwLg0KPiANCj4gVGhhbmtzLA0KPiBT
dWRoYQ0KPiANCj4gDQo+IA0KPiBPbiBXZWQsIEp1biAyMywgMjAxMCBhdCAxMjoyMSBQTSwgU3Rl
dmVuIEEgUm93ZSA8c2Fyb3dlQHN5ci5lZHU+IHdyb3RlOg0KPiANCj4gPiBIaSBTdWRoYSwNCj4g
Pg0KPiA+IFRoZXJlIGlzIHN1Y2ggYSB0b2tlbml6ZXIsIG5hbWVkIE5ld1N0YW5kYXJkVG9rZW5p
emVyLCBpbiB0aGUgbW9zdA0KPiA+IHJlY2VudCBwYXRjaCBvbiB0aGUgZm9sbG93aW5nIEpJUkEg
aXNzdWU6DQo+ID4NCj4gPiAgIGh0dHBzOi8vaXNzdWVzLmFwYWNoZS5vcmcvamlyYS9icm93c2Uv
TFVDRU5FLTIxNjcNCj4gPg0KPiA+IEl0IGtlZXBzIChIVFRQKFMpLCBGVFAsIGFuZCBGSUxFKSBV
UkxzIHRvZ2V0aGVyIGFzIHNpbmdsZSB0b2tlbnMsIGFuZA0KPiA+IGUtbWFpbHMgdG9vLCBpbiBh
Y2NvcmRhbmNlIHdpdGggdGhlIHJlbGV2YW50IElFVEYgUkZDcy4NCj4gPg0KPiA+IFN0ZXZlDQo+
ID4NCj4gPiA+IC0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tDQo+ID4gPiBGcm9tOiBTdWRoYSBW
ZXJtYSBbbWFpbHRvOnZlcm1hLnN1ZGhhQGdtYWlsLmNvbV0NCj4gPiA+IFNlbnQ6IFdlZG5lc2Rh
eSwgSnVuZSAyMywgMjAxMCAyOjA3IFBNDQo+ID4gPiBUbzogamF2YS11c2VyQGx1Y2VuZS5hcGFj
aGUub3JnDQo+ID4gPiBTdWJqZWN0OiBVUkwgVG9rZW5pemF0aW9uDQo+ID4gPg0KPiA+ID4gSGks
DQo+ID4gPg0KPiA+ID4gSSBhbSBuZXcgdG8gbHVjZW5lIGFuZCBJIGFtIHVzaW5nIEx1Y2VuZSAz
LjAuMi4NCj4gPiA+DQo+ID4gPiBJIGFtIHVzaW5nIEx1Y2VuZSB0byBwYXJzZSB0ZXh0IHdoaWNo
IG1heSBjb250YWluIFVSTHMuIEkgbm90aWNlZA0KPiA+ID4gdGhlIFN0YW5kYXJkVG9rZW5pemVy
IGtlZXBzIHRoZSBlbWFpbCBhZGRyZXNzZXMgaW4gb25lIHRva2VuLCBidXQNCj4gPiA+IG5vdCB0
aGUgVVJMcy4NCj4gPiA+IEkgYWxzbyBsb29rZWQgYXQgU29sciB3aWtpIHBhZ2VzLCBhbmQgZXZl
biB0aG91Z2ggdGhlIHdpa2kgcGFnZSBmb3INCj4gPiA+IHNvbHIuU3RhbmRhcmRUb2tlbml6ZXJG
YWN0b3J5IHNheXMgaXQga2VlcHMgdHJhY2sgb2YgdGhlIFVSTCB0b2tlbg0KPiA+ID4gdHlwZSAt
IGl0IGRvZXMgbm90IHNlZW0gdG8gYmUgdGhlIGNhc2UuDQo+ID4gPg0KPiA+ID4gSXMgdGhlcmUg
YW4gQW5hbHl6ZXIgaW1wbGVtZW50YXRpb24gdGhhdCBjYW4ga2VlcCB0aGUgVVJMcyBpbnRhY3QN
Cj4gPiA+IGludG8NCj4gPiBvbmUNCj4gPiA+IHRva2VuPyBvciBkb2VzIGFueW9uZSBoYXZlIGFu
IGV4YW1wbGUgb2YgdGhhdCBmb3IgU29sciBvciBMdWNlbmU/DQo+ID4gPg0KPiA+ID4gVGhhbmtz
IG11Y2gsDQo+ID4gPiBTdWRoYQ0KPiA+DQo=


From java-user-return-46530-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 24 17:52:19 2010
Return-Path: <java-user-return-46530-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95024 invoked from network); 24 Jun 2010 17:52:19 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 24 Jun 2010 17:52:19 -0000
Received: (qmail 26684 invoked by uid 500); 24 Jun 2010 17:52:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26643 invoked by uid 500); 24 Jun 2010 17:52:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26635 invoked by uid 99); 24 Jun 2010 17:52:16 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Jun 2010 17:52:16 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=AWL,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of Lisheng.Zhang@broadvision.com designates 139.56.8.26 as permitted sender)
Received: from [139.56.8.26] (HELO mail-fw.broadvision.com) (139.56.8.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Jun 2010 17:52:10 +0000
X-ASG-Debug-ID: 1277401906-3b8a009f0000-H1Y1KX
X-Barracuda-URL: http://mail-fw.broadvision.com:8000/cgi-bin/mark.cgi
Received: from RW-EX2003.BROADVISION.COM (localhost [127.0.0.1])
	by mail-fw.broadvision.com (Spam Firewall) with ESMTP id A52AD51490
	for <java-user@lucene.apache.org>; Thu, 24 Jun 2010 10:51:46 -0700 (PDT)
Received: from RW-EX2003.BROADVISION.COM (rw-ex2003.broadvision.com [10.10.160.33]) by mail-fw.broadvision.com with ESMTP id 7Vo4acfbvaCBEK0U for <java-user@lucene.apache.org>; Thu, 24 Jun 2010 10:51:46 -0700 (PDT)
X-ASG-Whitelist: Client
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-ASG-Orig-Subj: Could multiple indexers change same collections at the same time?
Subject: Could multiple indexers change same collections at the same time?
Date: Thu, 24 Jun 2010 10:51:46 -0700
Message-ID: <ED081AC9AEEE0248BBCCDE9989AAE3FC02CB1501@rw-ex2003.BROADVISION.COM>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Could multiple indexers change same collections at the same time?
Thread-Index: AcsTxen5mKyspxCZSyuI6ETRYCYsmw==
From: "Zhang, Lisheng" <Lisheng.Zhang@BroadVision.com>
To: <java-user@lucene.apache.org>
X-Barracuda-Connect: rw-ex2003.broadvision.com[10.10.160.33]
X-Barracuda-Start-Time: 1277401906
X-Barracuda-Virus-Scanned: by Barracuda Spam Firewall at broadvision.com

Hi,

I remembered I tested earlier lucene 1.4 and 2.4, and found the =
following:

# it is OK for multiple searchers to search the same collection.

# it is OK for one IndexerWriter to edit and multiple searchers to =
search=20
   at the same time.

# it is generally NOT OK for multiple IndexerWriter to change same =
collection
   at the same time.

Could you confirm briefly if above are true and give me Yes/No answer =
whether
in latest lucene 3x above conclusions are still OK?

Thanks very much for helps, Lisheng

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46531-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 24 19:42:56 2010
Return-Path: <java-user-return-46531-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34157 invoked from network); 24 Jun 2010 19:42:56 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 24 Jun 2010 19:42:56 -0000
Received: (qmail 60509 invoked by uid 500); 24 Jun 2010 19:42:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60462 invoked by uid 500); 24 Jun 2010 19:42:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60448 invoked by uid 99); 24 Jun 2010 19:42:53 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Jun 2010 19:42:53 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of yseeley@gmail.com designates 74.125.82.48 as permitted sender)
Received: from [74.125.82.48] (HELO mail-ww0-f48.google.com) (74.125.82.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Jun 2010 19:42:47 +0000
Received: by wwi14 with SMTP id 14so1117655wwi.35
        for <java-user@lucene.apache.org>; Thu, 24 Jun 2010 12:42:26 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:sender:reply-to:received
         :in-reply-to:references:date:x-google-sender-auth:message-id:subject
         :from:to:content-type:content-transfer-encoding;
        bh=TjI2yA9KZv3pccc+4SM6qXG+S6fi1wQnEYut5qd93F8=;
        b=IESgF81tnMEgOciykSiPBB2NFolK7kN8HtpZgV8f1sR27IWZx9kK2gdaj+SXvnddD1
         pv1W8QDAVwdUK/95xdVkeaQWe5KUMxD7vn6ez2sdvTt41dYUL+BapuyjGSUWSB41UFOA
         0/whaRKebzOhDjZmR9x+p9hL4RyBSTIyxzbxo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:reply-to:in-reply-to:references:date
         :x-google-sender-auth:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        b=A8JM64It0YcqncykvCV8uR/bmwCidcS3LdB+dsIS1GC5OqLI0Y8IKA2XuQ5NI3A2RC
         knG6Vmr5D2MGEnSJFpd8VdX6tJKbwYRbZmzW1vuFIsjAYYUSZbYAHWAE+ET4zGFwB+3p
         j62CrKH3HkVZKZrdMmU3uSv+Yk9G+SjcG7/Bc=
MIME-Version: 1.0
Received: by 10.227.143.78 with SMTP id t14mr9692873wbu.224.1277408546807; 
	Thu, 24 Jun 2010 12:42:26 -0700 (PDT)
Sender: yseeley@gmail.com
Reply-To: yonik@lucidimagination.com
Received: by 10.216.73.193 with HTTP; Thu, 24 Jun 2010 12:42:26 -0700 (PDT)
In-Reply-To: <ED081AC9AEEE0248BBCCDE9989AAE3FC02CB1501@rw-ex2003.BROADVISION.COM>
References: <ED081AC9AEEE0248BBCCDE9989AAE3FC02CB1501@rw-ex2003.BROADVISION.COM>
Date: Thu, 24 Jun 2010 15:42:26 -0400
X-Google-Sender-Auth: Lq1gi8BB0Zkk29jGT5ukq2_fXXE
Message-ID: <AANLkTilcbNYvxHN8BSRYbCqmxbFiYUI795sylVrvKYw3@mail.gmail.com>
Subject: Re: Could multiple indexers change same collections at the same time?
From: Yonik Seeley <yonik@lucidimagination.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Yes, all of that still applies to Lucene 3x and 4x, and is unlikely to
change any time soon.

-Yonik
http://www.lucidimagination.com

On Thu, Jun 24, 2010 at 1:51 PM, Zhang, Lisheng
<Lisheng.Zhang@broadvision.com> wrote:
> Hi,
>
> I remembered I tested earlier lucene 1.4 and 2.4, and found the following=
:
>
> # it is OK for multiple searchers to search the same collection.
>
> # it is OK for one IndexerWriter to edit and multiple searchers to search
> =A0 at the same time.
>
> # it is generally NOT OK for multiple IndexerWriter to change same collec=
tion
> =A0 at the same time.
>
> Could you confirm briefly if above are true and give me Yes/No answer whe=
ther
> in latest lucene 3x above conclusions are still OK?
>
> Thanks very much for helps, Lisheng

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46532-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 24 20:56:52 2010
Return-Path: <java-user-return-46532-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54078 invoked from network); 24 Jun 2010 20:56:51 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 24 Jun 2010 20:56:51 -0000
Received: (qmail 59588 invoked by uid 500); 24 Jun 2010 20:56:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59535 invoked by uid 500); 24 Jun 2010 20:56:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59525 invoked by uid 99); 24 Jun 2010 20:56:49 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Jun 2010 20:56:49 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [209.191.69.108] (HELO web32908.mail.mud.yahoo.com) (209.191.69.108)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 24 Jun 2010 20:56:39 +0000
Received: (qmail 39328 invoked by uid 60001); 24 Jun 2010 20:56:17 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1277412977; bh=o1XLY7D0ZV5nsA5++qOh7pD0/k5xWq39kLRqFYSLVbM=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=fFvnWP84U5JCyYsKE3Ef+qZZaGg85GqnonyVNxyO6lmA0WpfnA8ZuptJRetGdjEyIKO7zTszKckY1z7LrXuxkObzKVRzK5mkwPEzmTZoQOH6IR9JFpGHz1RClUmZNjWCHQcZwVf1o5eYtHsij46VvPEEANsDvneojZYk+JICiHk=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=rnj4BImhqSb7a9bLMg7NYOBVk4jAMzi8grEIJ88kaGJ6FCYsvjSLu74wG+2MyYTQVgCTlBBhelfe0TlXPGywI8DK133ve2AbZ/n7AHG/JD/+Oa6kl3i8V1252t4PPxTxO1MHd4QqqlwfzPqjYysuBUxzENrxwjaDuOJcmOoDML4=;
Message-ID: <835477.39284.qm@web32908.mail.mud.yahoo.com>
X-YMail-OSG: HWnVOHYVM1l2U8s1Zuy75SzJNp2P7bq1yKNXNFdxkJBie8J
 nDi0cB1.nTiJrxXMGrIffCraT6yOuqIbq0sBG9gDLL6liTDOOh3tdCJutxMA
 LyDJgAdYDftlxuXf0lPUDjo08apBL3Ini1S1RvJ1gbYr2S53DT2tnQIhjpWi
 ruBwWs28RgL2fy7OHPJl_OYO44yZDnQlHCh_x.5ygM1AI9Nf9F2wwVypVc.9
 qTw4cdjo9rWr2EgJlhwgtZ6bSSAjrEzlbp4Jgd._ToKHnXPfOHy_GUIVsobo
 JrifRlFyn65IXPCDrUkV8L0B5K19bHHMFGz0OU1vAgTbp_Vh1Y2LIf7E_U4g
 -
Received: from [72.36.94.20] by web32908.mail.mud.yahoo.com via HTTP; Thu, 24 Jun 2010 13:56:17 PDT
X-Mailer: YahooMailRC/397.8 YahooMailWebService/0.8.104.274457
References: <649405.44653.qm@web32901.mail.mud.yahoo.com> <AANLkTikwhSoOEEJM-58dQqhw8w1u3wWidKiatLikPM09@mail.gmail.com> <70147.11648.qm@web32901.mail.mud.yahoo.com>
Date: Thu, 24 Jun 2010 13:56:17 -0700 (PDT)
From: Justin <crynax@yahoo.com>
Subject: Re: Problems with homebrew ParallelWriter
To: java-user@lucene.apache.org
In-Reply-To: <70147.11648.qm@web32901.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org

So is IndexWriter::optimize() non-blocking, even with SerialMergeScheduler?  That might explain our problem in trying to use optimize() to make maxDoc() match between the two indexes before adding readers to ParallelReader.  I see that we could call optimize(true).




----- Original Message ----
From: Justin <crynax@yahoo.com>
To: java-user@lucene.apache.org
Sent: Thu, June 24, 2010 12:12:57 PM
Subject: Re: Problems with homebrew ParallelWriter

Hi Shai,

> Is it synchronized

  public synchronized void addDocument(Document document)
    throws CorruptIndexException, IOException {
    Document document2 = new Document();
    document2.add(...);
    writer1.addDocument(document);
    writer2.addDocument(document2);
  }


> did you encounter any exceptions

I haven't seen the machines firsthand, but I assume my colleague looked for obvious exceptions that would lead to an imbalance.  All exceptions appear to be logged, so we would see something.

> merges could happen on some slices not when you intended

  public synchronized ParallelReader getParallelReader()
    throws IOException, CorruptIndexException {
    IndexReader reader1 = writer1.getReader();
    IndexReader reader2 = writer2.getReader();
    if (reader1.maxDoc() != reader2.maxDoc()) {
      reader1.close();
      reader2.close();
      writer1.optimize(); // force merge for consistent maxDoc
      writer2.optimize(); // force merge for consistent maxDoc
      reader1 = writer1.getReader();
      reader2 = writer2.getReader();
    }
    ParallelReader reader = new ParallelReader();
    reader.add(reader1);
    reader.add(reader2);
    return reader;
  }

As you can see above, my colleague optimizes the indexes to account for merges that have occurred out-of-sync.


> if you've made progress, upload another patch?

If we make a revelation with regards to ParallelWriter, I'll be happy to share.

Thanks for giving us some places to look.

Justin



----- Original Message ----
From: Shai Erera <serera@gmail.com>
To: java-user@lucene.apache.org
Sent: Wed, June 23, 2010 10:48:22 PM
Subject: Re: Problems with homebrew ParallelWriter

How do you add documents to the index? Is it synchronized (such that
basically only one thread can add documents at a time)?
The same goes for removing documents as well.

Also, did you encounter any exceptions during the run - if say an addDoc
fails on one of the slices, then you need to revert that addDoc in all
previous slices ...

I remember running into such exception when working on the Parallel Index
stuff, but I don't remember what caused it ...

About merging, note that if you use LogDocMP, then you can guarantee that
all slices will be in sync, but still some merges could happen on some
slices not when you intended them to happen. For example, during a flush of
one addDoc on one of the slices, before the others addDoc finished. But if
you didn't see any exceptions and didn't terminate the process mid-action,
then this should not happen ...

I hope this helps. Unfortunately I had to shift focus from LUCENE-1879.
Perhaps I'll get back to it one day. But if you advanced on PI somehow,
perhaps you can diff the patch that's there and your code, and if you've
made progress, upload another patch?

Shai

On Thu, Jun 24, 2010 at 1:44 AM, Justin <crynax@yahoo.com> wrote:

> Hi all,
>
> We've been waiting for LUCENE-1879 and LUCENE-2425 and have written our own
> ParallelWriter class in the meantime.  Apparently our indexes are falling
> out of sync (I suspect my colleague is seeing error messages come from
> ParallelReader stating the the number of documents must be the same).
>
> Here's a code snippet from our ParallelWriter which extends Object:
>
>    writer1 = new IndexWriter(dir, analyzer,
> create,
>
> new IndexWriter.MaxFieldLength(MFL));
>
> writer1.setMergePolicy(new LogDocMergePolicy());
>
> writer1.setMergeScheduler(new SerialMergeScheduler());
>
> writer1.setMaxBufferedDocs(MBD);
>
> writer1.setRAMBufferSizeMB(IndexWriter.DISABLE_AUTO_FLUSH);
>
> My colleague suspects that merging or flushing is being triggered on
> something other than the doc count which leads to the writers' different
> behaviors.  I suspect our next step is to scatter breakpoints around Lucene
> source (we've got trunk@926791 to take advantage of latest NRT readers).
>
> Does anyone have ideas on how the indexes would get out of sync?  Process
> close, committing, optimizing,... they all should work okay?
>
> Thanks,
> Justin
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>



      

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


      

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46533-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 24 21:24:31 2010
Return-Path: <java-user-return-46533-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64062 invoked from network); 24 Jun 2010 21:24:31 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 24 Jun 2010 21:24:31 -0000
Received: (qmail 97153 invoked by uid 500); 24 Jun 2010 21:24:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97069 invoked by uid 500); 24 Jun 2010 21:24:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97061 invoked by uid 99); 24 Jun 2010 21:24:28 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Jun 2010 21:24:28 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [209.191.69.78] (HELO web32901.mail.mud.yahoo.com) (209.191.69.78)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 24 Jun 2010 21:24:19 +0000
Received: (qmail 62985 invoked by uid 60001); 24 Jun 2010 21:23:57 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1277414637; bh=tgQnBBvyN9I5qZz7/+FWsithbfG3g/PObqM+nw2chlM=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=xmQOKJfoK1PH440O1vg/asJuPrULfBTwCKQp5MyJDVVqY/QEo61r1EULC7QIkV+1mnshqSjqyNfr1/Px7tGetJx/axb2IlZDLZ1AKcc5e1iHX2KMjisxilII9rX73ibeJ60Mdp2b4zMZdxOWvvllFYx+EOI02Tdhl1WpDaB4hrs=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=Edw4X6qOIFbFfGzDQyruGIDv2119BU4TTwYH05lN71YM8eKbviydsMBCiEjfaSUUxOY4CKeyDN2LU1L74uncQLGXxDz08UT6+lSAis08V1OGN+Pbzfxa/5ZPzkXt0ZtDB5R66W0p8zYmGg7AzLb9G02+Ltm8m6c8YFf+3J4Db4Q=;
Message-ID: <715207.62960.qm@web32901.mail.mud.yahoo.com>
X-YMail-OSG: JqEQNLoVM1k4KAsXzcdvGdScHqgvb1q5.UJAaSVdkjaQvUN
 RIYBJ_LW1XMdCv_M82usJq4VvmqgU5uIh9QzgdL05cJLnugkMWH4tsklNJOd
 ze3vl0domf5IqWnaFkP55Th8k_.KqsCCYAyEYTY_fuCeS6oB1GQNV.b.5MuV
 84v0Zz5teogmMByYUS22GW634E6Lo9qNoAUxXUFSQgjb4z52_m6MCPOGJ60e
 GHgfg2ilsE4NaDzgjHtPhL.okBSyGfzAPt65ogy3hlkWOSQ9ToYUd2maSDC0
 0z2GNRVhaME2jyDplUP7bhiI0SQOvS5XCm6TgzNaahOhYC1On2sHjxnzTCCO
 lRxLA93fMFUqtFvLmPR.M4LWilfE-
Received: from [72.36.94.20] by web32901.mail.mud.yahoo.com via HTTP; Thu, 24 Jun 2010 14:23:57 PDT
X-Mailer: YahooMailRC/397.8 YahooMailWebService/0.8.104.274457
References: <649405.44653.qm@web32901.mail.mud.yahoo.com> <AANLkTikwhSoOEEJM-58dQqhw8w1u3wWidKiatLikPM09@mail.gmail.com> <70147.11648.qm@web32901.mail.mud.yahoo.com> <835477.39284.qm@web32908.mail.mud.yahoo.com>
Date: Thu, 24 Jun 2010 14:23:57 -0700 (PDT)
From: Justin <crynax@yahoo.com>
Subject: Re: Problems with homebrew ParallelWriter
To: java-user@lucene.apache.org
In-Reply-To: <835477.39284.qm@web32908.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org

Nevermind, it is blocking...


  public void optimize()
 throws CorruptIndexException, IOException {
    optimize(true);
  }




----- Original Message ----
From: Justin <crynax@yahoo.com>
To: java-user@lucene.apache.org
Sent: Thu, June 24, 2010 3:56:17 PM
Subject: Re: Problems with homebrew ParallelWriter

So is IndexWriter::optimize() non-blocking, even with SerialMergeScheduler?  That might explain our problem in trying to use optimize() to make maxDoc() match between the two indexes before adding readers to ParallelReader.  I see that we could call optimize(true).




----- Original Message ----
From: Justin <crynax@yahoo.com>
To: java-user@lucene.apache.org
Sent: Thu, June 24, 2010 12:12:57 PM
Subject: Re: Problems with homebrew ParallelWriter

Hi Shai,

> Is it synchronized

  public synchronized void addDocument(Document document)
    throws CorruptIndexException, IOException {
    Document document2 = new Document();
    document2.add(...);
    writer1.addDocument(document);
    writer2.addDocument(document2);
  }


> did you encounter any exceptions

I haven't seen the machines firsthand, but I assume my colleague looked for obvious exceptions that would lead to an imbalance.  All exceptions appear to be logged, so we would see something.

> merges could happen on some slices not when you intended

  public synchronized ParallelReader getParallelReader()
    throws IOException, CorruptIndexException {
    IndexReader reader1 = writer1.getReader();
    IndexReader reader2 = writer2.getReader();
    if (reader1.maxDoc() != reader2.maxDoc()) {
      reader1.close();
      reader2.close();
      writer1.optimize(); // force merge for consistent maxDoc
      writer2.optimize(); // force merge for consistent maxDoc
      reader1 = writer1.getReader();
      reader2 = writer2.getReader();
    }
    ParallelReader reader = new ParallelReader();
    reader.add(reader1);
    reader.add(reader2);
    return reader;
  }

As you can see above, my colleague optimizes the indexes to account for merges that have occurred out-of-sync.


> if you've made progress, upload another patch?

If we make a revelation with regards to ParallelWriter, I'll be happy to share.

Thanks for giving us some places to look.

Justin



----- Original Message ----
From: Shai Erera <serera@gmail.com>
To: java-user@lucene.apache.org
Sent: Wed, June 23, 2010 10:48:22 PM
Subject: Re: Problems with homebrew ParallelWriter

How do you add documents to the index? Is it synchronized (such that
basically only one thread can add documents at a time)?
The same goes for removing documents as well.

Also, did you encounter any exceptions during the run - if say an addDoc
fails on one of the slices, then you need to revert that addDoc in all
previous slices ...

I remember running into such exception when working on the Parallel Index
stuff, but I don't remember what caused it ...

About merging, note that if you use LogDocMP, then you can guarantee that
all slices will be in sync, but still some merges could happen on some
slices not when you intended them to happen. For example, during a flush of
one addDoc on one of the slices, before the others addDoc finished. But if
you didn't see any exceptions and didn't terminate the process mid-action,
then this should not happen ...

I hope this helps. Unfortunately I had to shift focus from LUCENE-1879.
Perhaps I'll get back to it one day. But if you advanced on PI somehow,
perhaps you can diff the patch that's there and your code, and if you've
made progress, upload another patch?

Shai

On Thu, Jun 24, 2010 at 1:44 AM, Justin <crynax@yahoo.com> wrote:

> Hi all,
>
> We've been waiting for LUCENE-1879 and LUCENE-2425 and have written our own
> ParallelWriter class in the meantime.  Apparently our indexes are falling
> out of sync (I suspect my colleague is seeing error messages come from
> ParallelReader stating the the number of documents must be the same).
>
> Here's a code snippet from our ParallelWriter which extends Object:
>
>    writer1 = new IndexWriter(dir, analyzer,
> create,
>
> new IndexWriter.MaxFieldLength(MFL));
>
> writer1.setMergePolicy(new LogDocMergePolicy());
>
> writer1.setMergeScheduler(new SerialMergeScheduler());
>
> writer1.setMaxBufferedDocs(MBD);
>
> writer1.setRAMBufferSizeMB(IndexWriter.DISABLE_AUTO_FLUSH);
>
> My colleague suspects that merging or flushing is being triggered on
> something other than the doc count which leads to the writers' different
> behaviors.  I suspect our next step is to scatter breakpoints around Lucene
> source (we've got trunk@926791 to take advantage of latest NRT readers).
>
> Does anyone have ideas on how the indexes would get out of sync?  Process
> close, committing, optimizing,... they all should work okay?
>
> Thanks,
> Justin
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>



      

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


      

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


      

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46534-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 24 22:09:47 2010
Return-Path: <java-user-return-46534-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77817 invoked from network); 24 Jun 2010 22:09:47 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 24 Jun 2010 22:09:47 -0000
Received: (qmail 49701 invoked by uid 500); 24 Jun 2010 22:09:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49478 invoked by uid 500); 24 Jun 2010 22:09:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49470 invoked by uid 99); 24 Jun 2010 22:09:44 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Jun 2010 22:09:44 +0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=AWL,FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [206.190.38.62] (HELO web50308.mail.re2.yahoo.com) (206.190.38.62)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 24 Jun 2010 22:09:39 +0000
Received: (qmail 1330 invoked by uid 60001); 24 Jun 2010 22:09:18 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1277417358; bh=6gmFOZFsZRtYE/u83RkCVmwGoASMe0dvaKHbtM0N+b8=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=1nED5Y2uWgREAQnSoPTWQ0KAT9TgcFZZHrhrzWSxWI4wWc7qXr8h4At3Su0dGLiaF73ARAR+QeyPeyavrcfq0i6JyLZio9cPJT4VUUlfPelpggpqkYmYEeTpyx6i12C9j5xKM2PZ3zldwkogPRzEt2n1WvCr7MkINa034e1rrPI=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=C/+orBEXa0nlbX4kBqV6nxCQDU80vpoqOYTbxBGeXioXlreE6EfOmbR/1/TrIeC4D28MTRJbTQP9X7uSlJdYXpTPEdBRiy0p/NsDkAh2Sz626297i8IulMvWQN9+zMb3bcs3VEU6xKOK7j2Km2OkY2XZa9+E2VN1xG6BJ8fvJf4=;
Message-ID: <66768.1249.qm@web50308.mail.re2.yahoo.com>
X-YMail-OSG: 8jMyU3UVM1mdnJQM1Sp6pm.2CPyQ8OJljdDJKE75KKho_bD
 Isjv6dNOLHRGBVApVYVp5o66fykj1ghDLq7VZtwyPbc.GEAQhLO0dhUL1IOE
 i_d37bjj.tid9QUyiqQvgKWXP1qDiPfZS7IjztH4zb9NTjyoOpp57HqPEms.
 .qyKAgjEXahlcvErG9IXQZbmUkN.RABV.UOiHp.zIMKgHg1tslJb_1qc6b5V
 dkFHFNQKh.0exI6itkfwVQA0BhPoaDpK_rEsXIBF7L9XAU5jlfFnM_mD80wv
 VwMTv5S7l.QXZykbgbliAJ4ZA1fzNZBoAljx_83p4oARgiHPKRnz_J7nOTV1
 tpfrZEBTjOKsu_ePg68i.cQ--
Received: from [184.75.0.186] by web50308.mail.re2.yahoo.com via HTTP; Thu, 24 Jun 2010 15:09:17 PDT
X-Mailer: YahooMailRC/397.8 YahooMailWebService/0.8.104.274457
References: <AANLkTikdzQWpEuTyycHlyEi38dZL6G0CtP4aWPgXEoOP@mail.gmail.com> <AANLkTimXmainl0old2B0B5aI7V64Lfg83YQ_3_cO-6yE@mail.gmail.com> <113108.87205.qm@web50305.mail.re2.yahoo.com> <AANLkTil7oLdkhhzZA31MzSNI1T58Icna60_M-PeDfweW@mail.gmail.com> <541529.53909.qm@web50306.mail.re2.yahoo.com> <AANLkTimON8C5IC48A6Pi5LWAqa2jYc_Wt7IQ9rdDR64L@mail.gmail.com>
Date: Thu, 24 Jun 2010 15:09:17 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: arguments in favour of lucene over commercial competition
To: java-user@lucene.apache.org
In-Reply-To: <AANLkTimON8C5IC48A6Pi5LWAqa2jYc_Wt7IQ9rdDR64L@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

And I was just thinking the other day how it would be cool to take, say, Lucene 1.4, then some 2.* version and now the latest 3.* version and compare. :)
Want to do it and share?  I don't think anyone has done this before.

Otis
----
Sematext :: http://sematext.com/ :: Solr - Lucene - Nutch
Lucene ecosystem search :: http://search-lucene.com/



----- Original Message ----
> From: jm <jmuguruza@gmail.com>
> To: java-user@lucene.apache.org
> Sent: Thu, June 24, 2010 3:50:58 AM
> Subject: Re: arguments in favour of lucene over commercial competition
> 
> I want to add some perf numbers too, to show how it has improved in
the last 
> versions (not that it was bad before) does anyone have a link
to a nice page 
> with numbers/graphs ?

On Thu, Jun 24, 2010 at 7:43 AM, Otis 
> Gospodnetic
<
> href="mailto:otis_gospodnetic@yahoo.com">otis_gospodnetic@yahoo.com> 
> wrote:
> Coincidentally, just after I replied to this thread I received an 
> email from one of our customers.  In that email was a quote from one of the 
> commercial search vendors.  My jaw didn't drop because I've seen similar numbers 
> from other commercial search vendors before, but.... I won't mention the 
> customer nor the vendor, but I can tell you that the amount could put a couple 
> of kids through a top-notch private college in the U.S.  Talking about TOC 
> reduction through use of open-source!
>  Otis
> ----
> 
> Sematext :: 
> >http://sematext.com/ :: Solr - Lucene - Nutch
> Lucene ecosystem 
> search :: 
> >http://search-lucene.com/
>
>
>
> ----- Original 
> Message ----
>> From: jm <
> href="mailto:jmuguruza@gmail.com">jmuguruza@gmail.com>
>> To: 
> ymailto="mailto:java-user@lucene.apache.org" 
> href="mailto:java-user@lucene.apache.org">java-user@lucene.apache.org
>> 
> Sent: Wed, June 23, 2010 5:57:32 PM
>> Subject: Re: arguments in favour 
> of lucene over commercial competition
>>
>> yes, in my case 
> the competition is one of the list...
>
> On Wed, Jun 
> 23,
>> 2010 at 11:41 PM, Otis Gospodnetic
> <
>> 
> ymailto="mailto:
> href="mailto:otis_gospodnetic@yahoo.com">otis_gospodnetic@yahoo.com"
>> 
> href="mailto:
> href="mailto:otis_gospodnetic@yahoo.com">otis_gospodnetic@yahoo.com">
> ymailto="mailto:otis_gospodnetic@yahoo.com" 
> href="mailto:otis_gospodnetic@yahoo.com">otis_gospodnetic@yahoo.com>
>> 
> wrote:
>> Off the top of my head:
>>
>> 
> FAST
>>
>> Endeca
>> Coveo
>> 
> Attivio
>> Vivisimo
>> Google Search
>> 
> Appliance
>> (tell me when to stop)
>> Dieselpoint
>> 
> IBM
>> OmniFind
>> Exalead
>> Autonomy
>> 
> dtSearch
>> ISYS
>>
>> Oracle
>> 
> ...
>> ...
>>
>>  Otis
>> 
> ----
>>
>> Sematext ::
>> >
> href="http://sematext.com/" target=_blank >http://sematext.com/ :: Solr - 
> Lucene - Nutch
>> Lucene ecosystem
>> search ::
>> 
> >
> >http://search-lucene.com/
>>
>>
>>
>> 
> ----- Original
>> Message ----
>>> From: Hans Merkl 
> <
>> ymailto="mailto:
> href="mailto:hmerkl@rightonpoint.us">hmerkl@rightonpoint.us"
>> 
> href="mailto:
> href="mailto:hmerkl@rightonpoint.us">hmerkl@rightonpoint.us">
> ymailto="mailto:hmerkl@rightonpoint.us" 
> href="mailto:hmerkl@rightonpoint.us">hmerkl@rightonpoint.us>
>>>
>> 
> To: java-user <
>> href="mailto:
> ymailto="mailto:java-user@lucene.apache.org" 
> href="mailto:java-user@lucene.apache.org">java-user@lucene.apache.org">
> ymailto="mailto:java-user@lucene.apache.org" 
> href="mailto:java-user@lucene.apache.org">java-user@lucene.apache.org>
>>>
>> 
> Sent: Wed, June 23, 2010 5:15:46 PM
>>> Subject: Re: arguments in 
> favour
>> of lucene over commercial 
> competition
>>>
>>> Just curious. What
>> 
> commercial alternatives are out there?
>>
>> On Wed, 
> Jun
>> 23,
>>> 2010 at 04:01, jm <
>>> 
> href="mailto:
>> ymailto="mailto:
> ymailto="mailto:jmuguruza@gmail.com" 
> href="mailto:jmuguruza@gmail.com">jmuguruza@gmail.com"
>> 
> href="mailto:
> href="mailto:jmuguruza@gmail.com">jmuguruza@gmail.com">
> ymailto="mailto:jmuguruza@gmail.com" 
> href="mailto:jmuguruza@gmail.com">jmuguruza@gmail.com">
>> 
> ymailto="mailto:
> href="mailto:jmuguruza@gmail.com">jmuguruza@gmail.com"
>> 
> href="mailto:
> href="mailto:jmuguruza@gmail.com">jmuguruza@gmail.com">
> ymailto="mailto:jmuguruza@gmail.com" 
> href="mailto:jmuguruza@gmail.com">jmuguruza@gmail.com>
>> 
> wrote:
>>
>>>
>>> 
> Hi,
>>>
>>> I am trying
>> to compile some 
> arguments in favour of lucene
>>> as
>>>
>> 
> management is deciding weather to standardize on lucene or 
> a
>>>
>> competing
>>> commercial product (we 
> have a couple of produc, one
>> using
>>> 
> lucene,
>>> another using commercial product, imagine
>> 
> what am i using). I
>>> searched
>>> the lists but could 
> not
>> find any post, although I remember
>>> seeing 
> such
>>> posts in
>> the 
> past.
>>>
>>> Does somebody kept such
>>> 
> posts
>> linked or something? Or does someone
>>> know of 
> some page that
>> would
>>> help 
> me?
>>>
>>> I would like to
>> 
> show:
>>> - traction of lucene,
>>> really improving a 
> lot last
>> couple of years
>>> - rich 
> ecosystem
>>> (solr...)
>>> -
>> references of 
> other companies choosing lucene/solr over
>>>
>> 
> commercial
>>> (be it Fast or
>> 
> whatever)
>>>
>>>
>>>
>> 
> thanks
>>>
>>>
>>>
>> 
> ---------------------------------------------------------------------
>>>
>> 
> To
>>> unsubscribe, e-mail:
>>> 
> href="mailto:
>> ymailto="mailto:
> ymailto="mailto:java-user-unsubscribe@lucene.apache.org" 
> href="mailto:java-user-unsubscribe@lucene.apache.org">java-user-unsubscribe@lucene.apache.org"
>> 
> href="mailto:
> href="mailto:java-user-unsubscribe@lucene.apache.org">java-user-unsubscribe@lucene.apache.org">
> ymailto="mailto:java-user-unsubscribe@lucene.apache.org" 
> href="mailto:java-user-unsubscribe@lucene.apache.org">java-user-unsubscribe@lucene.apache.org">
>> 
> ymailto="mailto:
> href="mailto:java-user-unsubscribe@lucene.apache.org">java-user-unsubscribe@lucene.apache.org"
>> 
> href="mailto:
> href="mailto:java-user-unsubscribe@lucene.apache.org">java-user-unsubscribe@lucene.apache.org">
> ymailto="mailto:java-user-unsubscribe@lucene.apache.org" 
> href="mailto:java-user-unsubscribe@lucene.apache.org">java-user-unsubscribe@lucene.apache.org
>>>
>>>
>> 
> For additional commands, e-mail:
>>> ymailto="mailto:
>> 
> ymailto="mailto:
> href="mailto:java-user-help@lucene.apache.org">java-user-help@lucene.apache.org"
>> 
> href="mailto:
> href="mailto:java-user-help@lucene.apache.org">java-user-help@lucene.apache.org">
> ymailto="mailto:java-user-help@lucene.apache.org" 
> href="mailto:java-user-help@lucene.apache.org">java-user-help@lucene.apache.org"
>>>
>> 
> href="mailto:
>> href="mailto:
> ymailto="mailto:java-user-help@lucene.apache.org" 
> href="mailto:java-user-help@lucene.apache.org">java-user-help@lucene.apache.org">
> ymailto="mailto:java-user-help@lucene.apache.org" 
> href="mailto:java-user-help@lucene.apache.org">java-user-help@lucene.apache.org">
>> 
> ymailto="mailto:
> href="mailto:java-user-help@lucene.apache.org">java-user-help@lucene.apache.org"
>> 
> href="mailto:
> href="mailto:java-user-help@lucene.apache.org">java-user-help@lucene.apache.org">
> ymailto="mailto:java-user-help@lucene.apache.org" 
> href="mailto:java-user-help@lucene.apache.org">java-user-help@lucene.apache.org
>>>
>>>
>>
>>
>> 
> ---------------------------------------------------------------------
>> 
> To
>> unsubscribe, e-mail:
>> href="mailto:
> ymailto="mailto:java-user-unsubscribe@lucene.apache.org" 
> href="mailto:java-user-unsubscribe@lucene.apache.org">java-user-unsubscribe@lucene.apache.org">
> ymailto="mailto:java-user-unsubscribe@lucene.apache.org" 
> href="mailto:java-user-unsubscribe@lucene.apache.org">java-user-unsubscribe@lucene.apache.org
>>
>> 
> For additional commands, e-mail:
>> ymailto="mailto:
> ymailto="mailto:java-user-help@lucene.apache.org" 
> href="mailto:java-user-help@lucene.apache.org">java-user-help@lucene.apache.org"
>> 
> href="mailto:
> href="mailto:java-user-help@lucene.apache.org">java-user-help@lucene.apache.org">
> ymailto="mailto:java-user-help@lucene.apache.org" 
> href="mailto:java-user-help@lucene.apache.org">java-user-help@lucene.apache.org
>>
>>
>
> 
> ---------------------------------------------------------------------
> 
> To
>> unsubscribe, e-mail:
>> href="mailto:
> ymailto="mailto:java-user-unsubscribe@lucene.apache.org" 
> href="mailto:java-user-unsubscribe@lucene.apache.org">java-user-unsubscribe@lucene.apache.org">
> ymailto="mailto:java-user-unsubscribe@lucene.apache.org" 
> href="mailto:java-user-unsubscribe@lucene.apache.org">java-user-unsubscribe@lucene.apache.org
> 
> For
>> additional commands, e-mail:
>> ymailto="mailto:
> ymailto="mailto:java-user-help@lucene.apache.org" 
> href="mailto:java-user-help@lucene.apache.org">java-user-help@lucene.apache.org"
>> 
> href="mailto:
> href="mailto:java-user-help@lucene.apache.org">java-user-help@lucene.apache.org">
> ymailto="mailto:java-user-help@lucene.apache.org" 
> href="mailto:java-user-help@lucene.apache.org">java-user-help@lucene.apache.org
>
> 
> ---------------------------------------------------------------------
> To 
> unsubscribe, e-mail: 
> href="mailto:java-user-unsubscribe@lucene.apache.org">java-user-unsubscribe@lucene.apache.org
> 
> For additional commands, e-mail: 
> ymailto="mailto:java-user-help@lucene.apache.org" 
> href="mailto:java-user-help@lucene.apache.org">java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To 
> unsubscribe, e-mail: 
> href="mailto:java-user-unsubscribe@lucene.apache.org">java-user-unsubscribe@lucene.apache.org
For 
> additional commands, e-mail: 
> ymailto="mailto:java-user-help@lucene.apache.org" 
> href="mailto:java-user-help@lucene.apache.org">java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46535-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 24 22:28:21 2010
Return-Path: <java-user-return-46535-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81159 invoked from network); 24 Jun 2010 22:28:20 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 24 Jun 2010 22:28:20 -0000
Received: (qmail 61920 invoked by uid 500); 24 Jun 2010 22:28:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61748 invoked by uid 500); 24 Jun 2010 22:28:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61739 invoked by uid 99); 24 Jun 2010 22:28:17 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Jun 2010 22:28:17 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [188.121.53.1] (HELO n1plout04-01.prod.ams1.secureserver.net) (188.121.53.1)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 24 Jun 2010 22:28:10 +0000
Received: (qmail 13224 invoked from network); 24 Jun 2010 22:27:48 -0000
Received: from unknown (109.253.69.50)
  by n1plout04-01.prod.ams1.secureserver.net (188.121.53.1) with ESMTP; 24 Jun 2010 22:27:14 -0000
From: "Itamar Syn-Hershko" <itamar@code972.com>
To: <java-user@lucene.apache.org>
References: <AANLkTikdzQWpEuTyycHlyEi38dZL6G0CtP4aWPgXEoOP@mail.gmail.com> <AANLkTimXmainl0old2B0B5aI7V64Lfg83YQ_3_cO-6yE@mail.gmail.com> <113108.87205.qm@web50305.mail.re2.yahoo.com> <AANLkTil7oLdkhhzZA31MzSNI1T58Icna60_M-PeDfweW@mail.gmail.com> <541529.53909.qm@web50306.mail.re2.yahoo.com> <AANLkTimON8C5IC48A6Pi5LWAqa2jYc_Wt7IQ9rdDR64L@mail.gmail.com> <66768.1249.qm@web50308.mail.re2.yahoo.com>
Subject: RE: arguments in favour of lucene over commercial competition
Date: Fri, 25 Jun 2010 01:27:06 +0300
Message-ID: <0F10AB2D73B04AB9A0207AF878B8721A@hp6690ej01>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
In-Reply-To: <66768.1249.qm@web50308.mail.re2.yahoo.com>
Thread-Index: AcsT6fbaaf+V7n01QxS5JRoktCphQwAAgKgA
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.5931
X-Virus-Checked: Checked by ClamAV on apache.org

> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com] 
> Sent: Friday, June 25, 2010 1:09 AM
> To: java-user@lucene.apache.org
> Subject: Re: arguments in favour of lucene over commercial competition
> 
> And I was just thinking the other day how it would be cool to 
> take, say, Lucene 1.4, then some 2.* version and now the 
> latest 3.* version and compare. :) Want to do it and share?  
> I don't think anyone has done this before.

I have been looking at the contrib/benchmark sources lately (for CLucene),
and I recall Grant (I think) has put a TODO requesting just that. So I guess
it is somehow possible to do with just enhancing the benchmarker?

But if you are lazy, you can compare to old benchmarks made by others that
are posted on the Wiki (assuming you can get the same hardware).

> 
> Otis
> ----
> Sematext :: http://sematext.com/ :: Solr - Lucene - Nutch 
> Lucene ecosystem search :: http://search-lucene.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46536-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jun 25 08:56:36 2010
Return-Path: <java-user-return-46536-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45613 invoked from network); 25 Jun 2010 08:56:36 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 25 Jun 2010 08:56:36 -0000
Received: (qmail 47975 invoked by uid 500); 25 Jun 2010 08:56:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47648 invoked by uid 500); 25 Jun 2010 08:56:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47633 invoked by uid 99); 25 Jun 2010 08:56:28 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Jun 2010 08:56:28 +0000
X-ASF-Spam-Status: No, hits=-0.3 required=10.0
	tests=AWL,FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jmuguruza@gmail.com designates 72.14.220.153 as permitted sender)
Received: from [72.14.220.153] (HELO fg-out-1718.google.com) (72.14.220.153)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Jun 2010 08:56:24 +0000
Received: by fg-out-1718.google.com with SMTP id 22so154741fge.5
        for <java-user@lucene.apache.org>; Fri, 25 Jun 2010 01:56:02 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=TotqjeBHDxLBK+K+aVfWNVjIspMXykGZV5wkKGIWCkY=;
        b=ifxqnJbkrl3PpVbKiNoplS+f6NpHE+nMOtdcpq14CCbO+fe6ECqVxWQZSCCEACtHZA
         omHKWumot8tV5kEhND+0U5mhCyBYh0mSI8zPM9xiiuRjNLXyrnIE8a+HyjyTmSPU5nem
         F4WZFGQKvjTA9hpprt0y6zH6bc3KtvwogFkL0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=TNQGbytwL+LVFW7WJ+koMyBTvCTTLnWzHUiXwmGSKSvhy6Y3KDEQkHifSYvS4S+NUx
         Va0wY0lIFTxfy45A4TqtncnA1aOudydSq3M5H4d6vwfHg3qAUilmjBgCsXCejdVuOqHn
         lwhAqGHykZqOrNKgnmH5ptNAJIf0n0z7Hxu2Q=
MIME-Version: 1.0
Received: by 10.223.63.17 with SMTP id z17mr238183fah.66.1277456162703; Fri, 
	25 Jun 2010 01:56:02 -0700 (PDT)
Received: by 10.223.107.193 with HTTP; Fri, 25 Jun 2010 01:56:02 -0700 (PDT)
In-Reply-To: <0F10AB2D73B04AB9A0207AF878B8721A@hp6690ej01>
References: <AANLkTikdzQWpEuTyycHlyEi38dZL6G0CtP4aWPgXEoOP@mail.gmail.com>
	<AANLkTimXmainl0old2B0B5aI7V64Lfg83YQ_3_cO-6yE@mail.gmail.com>
	<113108.87205.qm@web50305.mail.re2.yahoo.com>
	<AANLkTil7oLdkhhzZA31MzSNI1T58Icna60_M-PeDfweW@mail.gmail.com>
	<541529.53909.qm@web50306.mail.re2.yahoo.com>
	<AANLkTimON8C5IC48A6Pi5LWAqa2jYc_Wt7IQ9rdDR64L@mail.gmail.com>
	<66768.1249.qm@web50308.mail.re2.yahoo.com>
	<0F10AB2D73B04AB9A0207AF878B8721A@hp6690ej01>
Date: Fri, 25 Jun 2010 10:56:02 +0200
Message-ID: <AANLkTimgqnKbp6_P214mBguH6vedOUIChWRORIW4Rlnm@mail.gmail.com>
Subject: Re: arguments in favour of lucene over commercial competition
From: jm <jmuguruza@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

I am pretty sure at least some number already exists...cause I have
seen mentioned several times things like '3.0 is 3 times faster than
2.4 in benchmark x' and things like that, the only thing is that
numbers are not probably consolidated in one place

On Fri, Jun 25, 2010 at 12:27 AM, Itamar Syn-Hershko <itamar@code972.com> wrote:
>> -----Original Message-----
>> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
>> Sent: Friday, June 25, 2010 1:09 AM
>> To: java-user@lucene.apache.org
>> Subject: Re: arguments in favour of lucene over commercial competition
>>
>> And I was just thinking the other day how it would be cool to
>> take, say, Lucene 1.4, then some 2.* version and now the
>> latest 3.* version and compare. :) Want to do it and share?
>> I don't think anyone has done this before.
>
> I have been looking at the contrib/benchmark sources lately (for CLucene),
> and I recall Grant (I think) has put a TODO requesting just that. So I guess
> it is somehow possible to do with just enhancing the benchmarker?
>
> But if you are lazy, you can compare to old benchmarks made by others that
> are posted on the Wiki (assuming you can get the same hardware).
>
>>
>> Otis
>> ----
>> Sematext :: http://sematext.com/ :: Solr - Lucene - Nutch
>> Lucene ecosystem search :: http://search-lucene.com/
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46537-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jun 25 10:44:23 2010
Return-Path: <java-user-return-46537-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80682 invoked from network); 25 Jun 2010 10:44:22 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 25 Jun 2010 10:44:22 -0000
Received: (qmail 52500 invoked by uid 500); 25 Jun 2010 10:44:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52034 invoked by uid 500); 25 Jun 2010 10:44:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52020 invoked by uid 99); 25 Jun 2010 10:44:16 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Jun 2010 10:44:16 +0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=SPF_HELO_PASS,SPF_NEUTRAL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Jun 2010 10:44:10 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <frueskens@ricoh-europe.com>)
	id 1OS6Nx-0002IF-D4
	for java-user@lucene.apache.org; Fri, 25 Jun 2010 03:43:49 -0700
Date: Fri, 25 Jun 2010 03:43:49 -0700 (PDT)
From: frueskens <frueskens@ricoh-europe.com>
To: java-user@lucene.apache.org
Message-ID: <1277462629398-921791.post@n3.nabble.com>
Subject: searching for wildcard as valid character
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org


Dear all,

I have to solve the following problem but without success yet.

We need to search for a content in a field 'name' that contains the wildcard
symbol appearing somewhere in a string. E.g. indexed string "1234*abc". 
The query should ignore all others that does not contain this symbol. 
A query like "name:*\**" does not work - it finds everything. 

Although if I would search for a symbol like '[' (which is also part of the
query syntax) in "1234[abc" using the query "name:*\[*" finds exactly the
indexed string.

BTW: the string  "1234*abc" was indexed as is - checked with Luke

Any clue?
Thanks
-- 
View this message in context: http://lucene.472066.n3.nabble.com/searching-for-wildcard-as-valid-character-tp921791p921791.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46538-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jun 25 11:02:04 2010
Return-Path: <java-user-return-46538-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85692 invoked from network); 25 Jun 2010 11:02:04 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 25 Jun 2010 11:02:04 -0000
Received: (qmail 87809 invoked by uid 500); 25 Jun 2010 11:02:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87645 invoked by uid 500); 25 Jun 2010 11:01:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87635 invoked by uid 99); 25 Jun 2010 11:01:58 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Jun 2010 11:01:58 +0000
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=AWL,SPF_NEUTRAL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Jun 2010 11:01:52 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id E2955D36003
	for <java-user@lucene.apache.org>; Fri, 25 Jun 2010 13:01:28 +0200 (CEST)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id EFIx3MORVGVY for <java-user@lucene.apache.org>;
	Fri, 25 Jun 2010 13:01:17 +0200 (CEST)
Received: from VEGA (WDC-MARE.marum.de [134.102.249.78])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id 14CA5D36002
	for <java-user@lucene.apache.org>; Fri, 25 Jun 2010 13:01:17 +0200 (CEST)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <1277462629398-921791.post@n3.nabble.com>
In-Reply-To: <1277462629398-921791.post@n3.nabble.com>
Subject: RE: searching for wildcard as valid character
Date: Fri, 25 Jun 2010 13:01:41 +0200
Message-ID: <000f01cb1455$cada4930$608edb90$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-index: AQEzPo1/SvMwPewhZE6z2oYFbpZ1fpPCLgGw
Content-language: de

Mybe you simply don't use QueryParser for such types of Queries and
instantiate TermQuery, BooleanQuery, WildCard, Prefix by hand. Then you
don't need to take care of syntax, you create unambiguous objects.

-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de

> -----Original Message-----
> From: frueskens [mailto:frueskens@ricoh-europe.com]
> Sent: Friday, June 25, 2010 12:44 PM
> To: java-user@lucene.apache.org
> Subject: searching for wildcard as valid character
> 
> 
> Dear all,
> 
> I have to solve the following problem but without success yet.
> 
> We need to search for a content in a field 'name' that contains the
wildcard
> symbol appearing somewhere in a string. E.g. indexed string "1234*abc".
> The query should ignore all others that does not contain this symbol.
> A query like "name:*\**" does not work - it finds everything.
> 
> Although if I would search for a symbol like '[' (which is also part of
the query
> syntax) in "1234[abc" using the query "name:*\[*" finds exactly the
indexed
> string.
> 
> BTW: the string  "1234*abc" was indexed as is - checked with Luke
> 
> Any clue?
> Thanks
> --
> View this message in context:
> http://lucene.472066.n3.nabble.com/searching-for-wildcard-as-valid-
> character-tp921791p921791.html
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46539-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jun 25 11:33:45 2010
Return-Path: <java-user-return-46539-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97864 invoked from network); 25 Jun 2010 11:33:45 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 25 Jun 2010 11:33:45 -0000
Received: (qmail 43024 invoked by uid 500); 25 Jun 2010 11:33:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42739 invoked by uid 500); 25 Jun 2010 11:33:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42725 invoked by uid 99); 25 Jun 2010 11:33:38 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Jun 2010 11:33:38 +0000
X-ASF-Spam-Status: No, hits=2.8 required=10.0
	tests=AWL,FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of t.sapra97@gmail.com designates 209.85.212.48 as permitted sender)
Received: from [209.85.212.48] (HELO mail-vw0-f48.google.com) (209.85.212.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Jun 2010 11:33:34 +0000
Received: by vws15 with SMTP id 15so2556126vws.35
        for <java-user@lucene.apache.org>; Fri, 25 Jun 2010 04:33:13 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=0TjQ62HOKa4h3/Cd2+mfNGL4b99FdT8DkrbzUGtXpRE=;
        b=QK8FQXuRR1JacV6Bs+8s7RPtIVVKx19DqaKG1qRi+IdNTUe7Sc8lNRQfkhC9FY6nE8
         GzqhK/wenIZW8FQcBsisUOBFyeENINCKmWzfNiRiJck3nxMLIrbe+LbfODShbOIVAKcq
         6LzuOLNsFBBE3KH42CxgDvzidSNcdumJ9CKy4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=wfnvpscCFUOCCRLstb8H3j1JyvhVe5VCjl+SVgh4pri7nzyrq1/1IvvFdiPPgxTwtC
         0RMacT9UJjFdw55Hxg7fkI+YteGTGS5t1eVSvD+vbOMC1bvSisyITeMCwjPQxOz4gzK8
         mPFOeHxZ3v5tiNLGwRPYQEHqO1kMc89qdTW60=
MIME-Version: 1.0
Received: by 10.220.122.217 with SMTP id m25mr307120vcr.264.1277465593458; 
	Fri, 25 Jun 2010 04:33:13 -0700 (PDT)
Received: by 10.220.189.129 with HTTP; Fri, 25 Jun 2010 04:33:13 -0700 (PDT)
In-Reply-To: <1277462629398-921791.post@n3.nabble.com>
References: <1277462629398-921791.post@n3.nabble.com>
Date: Fri, 25 Jun 2010 17:03:13 +0530
Message-ID: <AANLkTikx-P3Hh326qCB4YBIJbtDO6QGE0LwO-YBfdA1n@mail.gmail.com>
Subject: Re: searching for wildcard as valid character
From: tarun sapra <t.sapra97@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e68def54e9307e0489d922df

--0016e68def54e9307e0489d922df
Content-Type: text/plain; charset=ISO-8859-1

TermQuery should solve your problem as it would consider "1234*abc" as one
single term.

Regards
Tarun Sapra

On Fri, Jun 25, 2010 at 4:13 PM, frueskens <frueskens@ricoh-europe.com>wrote:

>
> Dear all,
>
> I have to solve the following problem but without success yet.
>
> We need to search for a content in a field 'name' that contains the
> wildcard
> symbol appearing somewhere in a string. E.g. indexed string "1234*abc".
> The query should ignore all others that does not contain this symbol.
> A query like "name:*\**" does not work - it finds everything.
>
> Although if I would search for a symbol like '[' (which is also part of the
> query syntax) in "1234[abc" using the query "name:*\[*" finds exactly the
> indexed string.
>
> BTW: the string  "1234*abc" was indexed as is - checked with Luke
>
> Any clue?
> Thanks
> --
> View this message in context:
> http://lucene.472066.n3.nabble.com/searching-for-wildcard-as-valid-character-tp921791p921791.html
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--0016e68def54e9307e0489d922df--

From java-user-return-46540-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jun 25 14:28:02 2010
Return-Path: <java-user-return-46540-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61103 invoked from network); 25 Jun 2010 14:28:01 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 25 Jun 2010 14:28:01 -0000
Received: (qmail 92280 invoked by uid 500); 25 Jun 2010 14:27:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92212 invoked by uid 500); 25 Jun 2010 14:27:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92203 invoked by uid 99); 25 Jun 2010 14:27:58 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Jun 2010 14:27:58 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of gsiasf@gmail.com designates 209.85.161.176 as permitted sender)
Received: from [209.85.161.176] (HELO mail-gx0-f176.google.com) (209.85.161.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Jun 2010 14:27:51 +0000
Received: by gxk7 with SMTP id 7so1477792gxk.35
        for <java-user@lucene.apache.org>; Fri, 25 Jun 2010 07:27:30 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:sender:content-type
         :mime-version:subject:from:in-reply-to:date
         :content-transfer-encoding:message-id:references:to:x-mailer;
        bh=Q2wuPbo/429B6uqMaHm05arFdUW8cwX9JHIVI+HKhTs=;
        b=NzsyCiYeO/gQ7M6ap09NYYI51PqPFJagL9qM7eGrUVUsT1P6P0JwZG28tplsu2JnZc
         SPs6HJjM7784E4+LlxHQv5FBQiv39q+KvB/iRiAFKDT3WPprXbEgS7d/npytOvvztB5F
         nZR9umSc3wjvkHxbGJWNQfRs4sgxQX4A4JIkE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=sender:content-type:mime-version:subject:from:in-reply-to:date
         :content-transfer-encoding:message-id:references:to:x-mailer;
        b=b0/IGGwb1ldop8pStlCThR9+jXDsiR3f798yf08g0hvZeJKQaYL4S8iXncFFjjNXy3
         GAQC0aa/oEscgOfNABsl0ywGif5yl8cJt1y4HbDj6I1GZ7cZm+77pnlvyzQ35WzDYYLQ
         RdM18Jzl2l7C52CRzjK6hh1r4RsewfhvhyKMM=
Received: by 10.100.50.17 with SMTP id x17mr1071520anx.11.1277476048695;
        Fri, 25 Jun 2010 07:27:28 -0700 (PDT)
Received: from [10.0.0.77] (adsl-065-013-152-164.sip.rdu.bellsouth.net [65.13.152.164])
        by mx.google.com with ESMTPS id 6sm3616241ank.13.2010.06.25.07.27.27
        (version=TLSv1/SSLv3 cipher=RC4-MD5);
        Fri, 25 Jun 2010 07:27:27 -0700 (PDT)
Sender: Grant Ingersoll <gsiasf@gmail.com>
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Apple Message framework v1081)
Subject: Re: arguments in favour of lucene over commercial competition
From: Grant Ingersoll <gsingers@apache.org>
In-Reply-To: <AANLkTikdzQWpEuTyycHlyEi38dZL6G0CtP4aWPgXEoOP@mail.gmail.com>
Date: Fri, 25 Jun 2010 10:27:26 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <0E0176F5-BE3B-411E-8C51-EB50475CEBA6@apache.org>
References: <AANLkTikdzQWpEuTyycHlyEi38dZL6G0CtP4aWPgXEoOP@mail.gmail.com>
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.1081)
X-Virus-Checked: Checked by ClamAV on apache.org

Hi JM,

On Jun 23, 2010, at 4:01 AM, jm wrote:

> Hi,
>=20
> I am trying to compile some arguments in favour of lucene as
> management is deciding weather to standardize on lucene or a competing
> commercial product (we have a couple of produc, one using lucene,
> another using commercial product, imagine what am i using). I searched
> the lists but could not find any post, although I remember seeing such
> posts in the past.
>=20
> Does somebody kept such posts linked or something? Or does someone
> know of some page that would help me?
>=20
> I would like to show:
> - traction of lucene, really improving a lot last couple of years

I'd venture to say it is the most used search library in the world, but =
I can't back it up w/ real numbers, unfortunately, at this point; but it =
is based on the fact that not only is it widely deployed via Solr/Nutch =
and in custom implementations, but several of the large commercial =
players use it as well so anytime you buy them, you are buying Lucene as =
well.

Some actual numbers: the Open Source Census has it at #8: =
https://www.osscensus.org/summary-report-public.php in a list of most =
popular open source projects

> - rich ecosystem (solr...)

Tika, Mahout, Nutch, UIMA, etc. all fit nicely into this ecosystem.  =
There are also a lot of non-ASF projects that work in as well.

> - references of other companies choosing lucene/solr over commercial
> (be it Fast or whatever)

We have a lot of case studies over at http://www.lucidimagination.com/, =
including several that highlight replacements of the commercial players. =
=20

-Grant

--------------------------
Grant Ingersoll
http://www.lucidimagination.com/

Search the Lucene ecosystem using Solr/Lucene: =
http://www.lucidimagination.com/search


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46541-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jun 25 15:24:58 2010
Return-Path: <java-user-return-46541-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84007 invoked from network); 25 Jun 2010 15:24:58 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 25 Jun 2010 15:24:58 -0000
Received: (qmail 86506 invoked by uid 500); 25 Jun 2010 15:24:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86413 invoked by uid 500); 25 Jun 2010 15:24:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86405 invoked by uid 99); 25 Jun 2010 15:24:55 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Jun 2010 15:24:55 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=10.0
	tests=AWL,FREEMAIL_FROM,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jmuguruza@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Jun 2010 15:24:50 +0000
Received: by fxm18 with SMTP id 18so91837fxm.35
        for <java-user@lucene.apache.org>; Fri, 25 Jun 2010 08:24:29 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=2cddr/fo6CcZ1/vIdAqIJRialmSWhXIE0/lgz6Bb2bU=;
        b=x43tQEap/XYiMFB9i5H+QefoNIvPrcWJyYGyK0IM7A7zlRVoOn9+BbZFMoH4QgnA1z
         PNtReWtmgWDxKlnUGdhh2gD9W7rGv9xKLNNY5FcIigs9MEkghrQDFey6i9WiDvOuErb2
         jUc5i8C0294zpBQjA4S9yf9toJtijCXmp21SQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=Og9xmxLpvrOCkAc2SQitvKXBIOZPA2nx7COowK+w8kVb1fSY2ZxkrRmCTNmLhH2xJ2
         WutyFT2qgMLiFIWwc56qWyCapltDfy+A9AbcI2AP0tf6Y3Y0d10JEGAfGJmzK4KuwdRt
         pEjdEKCV+/KKit/1lW1qS8aV4fnsTS3VLMYOw=
MIME-Version: 1.0
Received: by 10.223.25.74 with SMTP id y10mr673155fab.81.1277477618741; Fri, 
	25 Jun 2010 07:53:38 -0700 (PDT)
Received: by 10.223.107.193 with HTTP; Fri, 25 Jun 2010 07:53:38 -0700 (PDT)
In-Reply-To: <0E0176F5-BE3B-411E-8C51-EB50475CEBA6@apache.org>
References: <AANLkTikdzQWpEuTyycHlyEi38dZL6G0CtP4aWPgXEoOP@mail.gmail.com>
	<0E0176F5-BE3B-411E-8C51-EB50475CEBA6@apache.org>
Date: Fri, 25 Jun 2010 16:53:38 +0200
Message-ID: <AANLkTimHRXWtiTDVi8RhnMMuhvDEZ_87cckbTOllRBCr@mail.gmail.com>
Subject: Re: arguments in favour of lucene over commercial competition
From: jm <jmuguruza@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

thanks Grant, great pointers! With these and other previous replies I
think I'm good to write up a good case for lucene. I'll look for perf
numbers over releases (but I don't have the time to create those
numbers from scratch unfortunately).

regards,
javier

On Fri, Jun 25, 2010 at 4:27 PM, Grant Ingersoll <gsingers@apache.org> wrot=
e:
> Hi JM,
>
> On Jun 23, 2010, at 4:01 AM, jm wrote:
>
>> Hi,
>>
>> I am trying to compile some arguments in favour of lucene as
>> management is deciding weather to standardize on lucene or a competing
>> commercial product (we have a couple of produc, one using lucene,
>> another using commercial product, imagine what am i using). I searched
>> the lists but could not find any post, although I remember seeing such
>> posts in the past.
>>
>> Does somebody kept such posts linked or something? Or does someone
>> know of some page that would help me?
>>
>> I would like to show:
>> - traction of lucene, really improving a lot last couple of years
>
> I'd venture to say it is the most used search library in the world, but I=
 can't back it up w/ real numbers, unfortunately, at this point; but it is =
based on the fact that not only is it widely deployed via Solr/Nutch and in=
 custom implementations, but several of the large commercial players use it=
 as well so anytime you buy them, you are buying Lucene as well.
>
> Some actual numbers: the Open Source Census has it at #8: https://www.oss=
census.org/summary-report-public.php in a list of most popular open source =
projects
>
>> - rich ecosystem (solr...)
>
> Tika, Mahout, Nutch, UIMA, etc. all fit nicely into this ecosystem. =A0Th=
ere are also a lot of non-ASF projects that work in as well.
>
>> - references of other companies choosing lucene/solr over commercial
>> (be it Fast or whatever)
>
> We have a lot of case studies over at http://www.lucidimagination.com/, i=
ncluding several that highlight replacements of the commercial players.
>
> -Grant
>
> --------------------------
> Grant Ingersoll
> http://www.lucidimagination.com/
>
> Search the Lucene ecosystem using Solr/Lucene: http://www.lucidimaginatio=
n.com/search
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46542-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jun 25 17:40:07 2010
Return-Path: <java-user-return-46542-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25435 invoked from network); 25 Jun 2010 17:40:07 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 25 Jun 2010 17:40:07 -0000
Received: (qmail 76567 invoked by uid 500); 25 Jun 2010 17:40:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76518 invoked by uid 500); 25 Jun 2010 17:40:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76510 invoked by uid 99); 25 Jun 2010 17:40:04 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Jun 2010 17:40:04 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [200.193.70.181] (HELO carteiro.stela.org.br) (200.193.70.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Jun 2010 17:39:57 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by carteiro.stela.org.br (Postfix) with ESMTP id 9FA5DA8033E
	for <java-user@lucene.apache.org>; Fri, 25 Jun 2010 14:31:47 -0300 (BRT)
X-Virus-Scanned: amavisd-new at carteiro.stela.org.br
Received: from carteiro.stela.org.br ([127.0.0.1])
	by localhost (carteiro.stela.org.br [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id No1dXDyW550I for <java-user@lucene.apache.org>;
	Fri, 25 Jun 2010 14:31:47 -0300 (BRT)
Received: from [192.168.1.164] (unknown [192.168.1.164])
	by carteiro.stela.org.br (Postfix) with ESMTPSA id 38490A80329
	for <java-user@lucene.apache.org>; Fri, 25 Jun 2010 14:31:47 -0300 (BRT)
Message-ID: <4C24E9D1.1040403@stela.org.br>
Date: Fri, 25 Jun 2010 14:39:29 -0300
From: =?ISO-8859-1?Q?Alexandre_Leopoldo_Gon=E7alves?=
 <a.l.goncalves@stela.org.br>
User-Agent: Thunderbird 2.0.0.24 (Windows/20100228)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Index with multiple level structure
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit

Hi All,

I wonder if it is possible to create Lucene indexes with a multiple 
level structure. For instance,
a field named "institutions" with all institutions Ive worked and 
sub-fields to detail my
contribution in a specific institution.

The structure would be like this:

field: name
    content: person name
field: search
    content: full text from a set of papers
field: institutions
    content: institution_A  
          subfield: position
                content: manger
          subfield: admission_year
                content: 2001
    content: institution_B
          subfield: position
                content: professor
          subfield: admission_year
                content: 2006

After that, my intention is to query people which have worked with 
"information retrieval" at "institution_A"
as "professor" and admission year >= "2006".

Regards,

Alex


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46543-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jun 25 20:16:00 2010
Return-Path: <java-user-return-46543-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75318 invoked from network); 25 Jun 2010 20:16:00 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 25 Jun 2010 20:16:00 -0000
Received: (qmail 91441 invoked by uid 500); 25 Jun 2010 20:15:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91377 invoked by uid 500); 25 Jun 2010 20:15:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91369 invoked by uid 99); 25 Jun 2010 20:15:57 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Jun 2010 20:15:57 +0000
X-ASF-Spam-Status: No, hits=3.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of rcmuir@gmail.com designates 209.85.216.176 as permitted sender)
Received: from [209.85.216.176] (HELO mail-qy0-f176.google.com) (209.85.216.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Jun 2010 20:15:51 +0000
Received: by qyk33 with SMTP id 33so1089227qyk.35
        for <java-user@lucene.apache.org>; Fri, 25 Jun 2010 13:15:30 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type;
        bh=fYErmonLhKIQebTn0sWzf5ai8Xu2TzEdSxY/8HEFn8c=;
        b=KNj+IUKY+sKyUKCHkqNGjS4u7wbzmYCCTPucLco0pD2rPWBqQxwBvc7q9DVXxKrJiQ
         hnY7NxiD9uMK2kQlwO9IeE6/jRjooEePkaDGxL8N0PC6FbLsIH7Lpz7990hI9nkUayhn
         cf5s0zVEmOathPVpS3hMAfJWbFNoCuSLsS9EE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=VF9ra2zVkMOs4b1J9s6LO4ZZxG2zU+Qaf+PPoBb9fV6mR+bW5KZ/QZHA2/yUMVOvoN
         NPY5NraOLuZgNXlY0bmHchcT5qVXLXNz0K5NCkSbmEM8HnUhqiGWEFrH9Dxe2hkswuBc
         mMxH0KOpQ6K5UNNwPpqv4f3zTe5/k6EhDZFH4=
Received: by 10.224.53.97 with SMTP id l33mr999862qag.37.1277496930192; Fri, 
	25 Jun 2010 13:15:30 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.224.67.4 with HTTP; Fri, 25 Jun 2010 13:15:10 -0700 (PDT)
In-Reply-To: <000f01cb1455$cada4930$608edb90$@thetaphi.de>
References: <1277462629398-921791.post@n3.nabble.com> <000f01cb1455$cada4930$608edb90$@thetaphi.de>
From: Robert Muir <rcmuir@gmail.com>
Date: Fri, 25 Jun 2010 16:15:10 -0400
Message-ID: <AANLkTikix40W9vEFp9EUgl6JfHZJZSU9vObY9wnEm7h_@mail.gmail.com>
Subject: Re: searching for wildcard as valid character
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00c09fa21713b9cf6d0489e06e92
X-Virus-Checked: Checked by ClamAV on apache.org

--00c09fa21713b9cf6d0489e06e92
Content-Type: text/plain; charset=UTF-8

i just wanted to mention that wildcardquery (forget queryparser) has no way
to allow for an escaped character such as * or ? that is also an operator:

https://issues.apache.org/jira/browse/LUCENE-588

On Fri, Jun 25, 2010 at 7:01 AM, Uwe Schindler <uwe@thetaphi.de> wrote:

> Mybe you simply don't use QueryParser for such types of Queries and
> instantiate TermQuery, BooleanQuery, WildCard, Prefix by hand. Then you
> don't need to take care of syntax, you create unambiguous objects.
>
> -----
> Uwe Schindler
> H.-H.-Meier-Allee 63, D-28213 Bremen
> http://www.thetaphi.de
> eMail: uwe@thetaphi.de
>
> > -----Original Message-----
> > From: frueskens [mailto:frueskens@ricoh-europe.com]
> > Sent: Friday, June 25, 2010 12:44 PM
> > To: java-user@lucene.apache.org
> > Subject: searching for wildcard as valid character
> >
> >
> > Dear all,
> >
> > I have to solve the following problem but without success yet.
> >
> > We need to search for a content in a field 'name' that contains the
> wildcard
> > symbol appearing somewhere in a string. E.g. indexed string "1234*abc".
> > The query should ignore all others that does not contain this symbol.
> > A query like "name:*\**" does not work - it finds everything.
> >
> > Although if I would search for a symbol like '[' (which is also part of
> the query
> > syntax) in "1234[abc" using the query "name:*\[*" finds exactly the
> indexed
> > string.
> >
> > BTW: the string  "1234*abc" was indexed as is - checked with Luke
> >
> > Any clue?
> > Thanks
> > --
> > View this message in context:
> > http://lucene.472066.n3.nabble.com/searching-for-wildcard-as-valid-
> > character-tp921791p921791.html
> > Sent from the Lucene - Java Users mailing list archive at Nabble.com.
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


-- 
Robert Muir
rcmuir@gmail.com

--00c09fa21713b9cf6d0489e06e92--

From java-user-return-46544-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jun 26 03:03:16 2010
Return-Path: <java-user-return-46544-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55500 invoked from network); 26 Jun 2010 03:03:16 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 26 Jun 2010 03:03:16 -0000
Received: (qmail 32362 invoked by uid 500); 26 Jun 2010 03:03:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32059 invoked by uid 500); 26 Jun 2010 03:03:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32051 invoked by uid 99); 26 Jun 2010 03:03:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 26 Jun 2010 03:03:11 +0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=AWL,FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of bec.watson@gmail.com designates 209.85.212.48 as permitted sender)
Received: from [209.85.212.48] (HELO mail-vw0-f48.google.com) (209.85.212.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 26 Jun 2010 03:03:06 +0000
Received: by vws15 with SMTP id 15so3883124vws.35
        for <java-user@lucene.apache.org>; Fri, 25 Jun 2010 20:02:45 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=90KotRPdgSDbJYZ2SbWETFrNL8SHa9S2mKV+V1ehYTs=;
        b=prLoYq/hsQBmHOhavTLNFb+z7it7kBNI/dgPPy8d1TmekICMt6jcj/Dl6kqeZflAqF
         iefXi2wbymIlovjfH+I3jDy1JDkmoE5iWBKAqe5MVYU2a03ytqCxtjGGFyAuc7BzoIPW
         aQnZKyf1UeUho8Kdx9csrJswTtjEiG+cIYLGo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=j4NXdjsFuKZ1ar+avh9w4ou1MieySJG2ZcVz2tiatrOCJSqhODktXDO4Sv+igLoK2O
         k/UWukN2/B7CD2znTWE9nY1dK/PcV78M/lcn55+xkqDNxLAHhSD7jZv7dplG2EycXNII
         Nk1b5jKRgU9SeQo47Sx+N3/yeu7naYOPTUapU=
MIME-Version: 1.0
Received: by 10.220.87.69 with SMTP id v5mr962646vcl.133.1277521365806; Fri, 
	25 Jun 2010 20:02:45 -0700 (PDT)
Received: by 10.220.44.7 with HTTP; Fri, 25 Jun 2010 20:02:45 -0700 (PDT)
In-Reply-To: <4C24E9D1.1040403@stela.org.br>
References: <4C24E9D1.1040403@stela.org.br>
Date: Sat, 26 Jun 2010 11:02:45 +0800
Message-ID: <AANLkTilATAsNRIQ8dsgwKJ_vrlckEnMrYw1qB4cykDLH@mail.gmail.com>
Subject: Re: Index with multiple level structure
From: Rebecca Watson <bec.watson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

hi alex,

sounds like you are going to tackle a similar problem to what we're
trying to do
in our XML too -- as it looks like you've got a one-to-many type relationsh=
ip
you want to search over but return based on the top-level document -- simil=
ar to
an an XML i.e. structured doc search problem

-- simon willnauer pointed me this slideshow at the apache conference
in prague a little while ago which was the best solution i found (i
went there to find
one!!) and this is the one we are going to soon try and
implement/extend to allow
index/search over our XML docs:

http://www.slideshare.net/MarkHarwood/proposal-for-nested-document-support-=
in-lucene

hope that helps you too :)

bec

On 26 June 2010 01:39, Alexandre Leopoldo Gon=C3=A7alves
<a.l.goncalves@stela.org.br> wrote:
> Hi All,
>
> I wonder if it is possible to create Lucene indexes with a multiple level
> structure. For instance,
> a field named "institutions" with all institutions I=E6=89=89e worked and=
 sub-fields
> to detail my
> contribution in a specific institution.
>
> The structure would be like this:
>
> field: name
> =C2=A0 content: person name
> field: search
> =C2=A0 content: full text from a set of papers
> field: institutions
> =C2=A0 content: institution_A =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 subfield=
: position
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 content: manger
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 subfield: admission_year
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 content: 2001
> =C2=A0 content: institution_B
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 subfield: position
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 content: professor
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 subfield: admission_year
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 content: 2006
>
> After that, my intention is to query people which have worked with
> "information retrieval" at "institution_A"
> as "professor" and admission year >=3D "2006".
>
> Regards,
>
> Alex
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46545-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jun 26 03:35:00 2010
Return-Path: <java-user-return-46545-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62086 invoked from network); 26 Jun 2010 03:35:00 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 26 Jun 2010 03:35:00 -0000
Received: (qmail 38631 invoked by uid 500); 26 Jun 2010 03:34:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38406 invoked by uid 500); 26 Jun 2010 03:34:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38397 invoked by uid 99); 26 Jun 2010 03:34:53 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 26 Jun 2010 03:34:53 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of verma.sudha@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 26 Jun 2010 03:34:46 +0000
Received: by bwz5 with SMTP id 5so104882bwz.35
        for <java-user@lucene.apache.org>; Fri, 25 Jun 2010 20:34:26 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=LqXkAmK8lNlcTcMIg+BCqr1LD+TQO8GCiLgHmK0/MkQ=;
        b=Afxb6Ulq/VtU/yxsPb9MRGFleIcjUrYkVm5dAt0/MnbDHO2XUTg799i4QpWFpE+Sbx
         7PpLmMpGYj5tXUvPzsgT/xI0yqjA/HL5vfvtiXtpE95tOflJuM3peZ/uyWmtCxzg5HnR
         HHw8YdBdm1B/I35DZMNTx6n1844EdDgfTv828=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=ASWe4ZfR5hWfN+cQAcyxt/QA7JbGNOlPGr3KdKmo2endgWHcHZiFwWdixAD0r6Hu/c
         iqdogSZWZw0m6eQqdsfgnNAqqg6+k8yt4+VyzgN8nRwi0h8nPOhPJowWwfqemtvgdILm
         sO+INFWU+jaY6WTEfqQolChqRNtCMKIlE9S4o=
MIME-Version: 1.0
Received: by 10.204.69.136 with SMTP id z8mr768899bki.97.1277523266552; Fri, 
	25 Jun 2010 20:34:26 -0700 (PDT)
Received: by 10.204.99.197 with HTTP; Fri, 25 Jun 2010 20:34:26 -0700 (PDT)
In-Reply-To: <2D127F11DC79714E9B6A43AC9458147F764DA5D5@suex07-mbx-03.ad.syr.edu>
References: <AANLkTinDZW9HGxrFvyIM2N_7qeTLzR3GjQz7v1pXBux2@mail.gmail.com>
	<2D127F11DC79714E9B6A43AC9458147F764DA5D5@suex07-mbx-03.ad.syr.edu>
Date: Fri, 25 Jun 2010 21:34:26 -0600
Message-ID: <AANLkTintQQmXGt6fYBSMlTkj9YegKQ4LBIx8rSzF7N0y@mail.gmail.com>
Subject: Re: URL Tokenization
From: Sudha Verma <verma.sudha@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=001636c5c2407ec25e0489e69041
X-Virus-Checked: Checked by ClamAV on apache.org

--001636c5c2407ec25e0489e69041
Content-Type: text/plain; charset=ISO-8859-1

Thanks,

That worked from Lucene API.

Because the code is not fully released, some of it had build errors. Nothing
big. I ran into a few compile errors because the path for some of the
analysis classes got changed to standard/ or core/...A lot of the import
statements in solr source from that trunk still point to analysis (e.g.
import org.apache.lucene.analysis.Tokenizer; import
org.apache.lucene.analysis.tokenattributes.OffsetAttribute;).

-Sudha


On Wed, Jun 23, 2010 at 12:21 PM, Steven A Rowe <sarowe@syr.edu> wrote:

> Hi Sudha,
>
> There is such a tokenizer, named NewStandardTokenizer, in the most recent
> patch on the following JIRA issue:
>
>   https://issues.apache.org/jira/browse/LUCENE-2167
>
> It keeps (HTTP(S), FTP, and FILE) URLs together as single tokens, and
> e-mails too, in accordance with the relevant IETF RFCs.
>
> Steve
>
> > -----Original Message-----
> > From: Sudha Verma [mailto:verma.sudha@gmail.com]
> > Sent: Wednesday, June 23, 2010 2:07 PM
> > To: java-user@lucene.apache.org
> > Subject: URL Tokenization
> >
> > Hi,
> >
> > I am new to lucene and I am using Lucene 3.0.2.
> >
> > I am using Lucene to parse text which may contain URLs. I noticed the
> > StandardTokenizer keeps the email addresses in one token, but not the
> > URLs.
> > I also looked at Solr wiki pages, and even though the wiki page for
> > solr.StandardTokenizerFactory says it keeps track of the URL token type -
> > it does not seem to be the case.
> >
> > Is there an Analyzer implementation that can keep the URLs intact into
> one
> > token? or does anyone have an example of that for Solr or Lucene?
> >
> > Thanks much,
> > Sudha
>

--001636c5c2407ec25e0489e69041--

From java-user-return-46546-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jun 26 05:55:15 2010
Return-Path: <java-user-return-46546-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81447 invoked from network); 26 Jun 2010 05:55:15 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 26 Jun 2010 05:55:15 -0000
Received: (qmail 84126 invoked by uid 500); 26 Jun 2010 05:55:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83715 invoked by uid 500); 26 Jun 2010 05:55:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83707 invoked by uid 99); 26 Jun 2010 05:55:08 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 26 Jun 2010 05:55:08 +0000
X-ASF-Spam-Status: No, hits=2.8 required=10.0
	tests=FREEMAIL_FROM,FREEMAIL_REPLYTO,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of simon.willnauer@googlemail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 26 Jun 2010 05:55:02 +0000
Received: by fxm11 with SMTP id 11so47803fxm.35
        for <java-user@lucene.apache.org>; Fri, 25 Jun 2010 22:54:42 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:reply-to
         :in-reply-to:references:date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=ULg/Il53V0zAKpEBt+DHfMxTG+WaAW5oLsjW5M3UyeQ=;
        b=hPU3Dm9LxIXqrAydVULdC54zAaHVdCWqxSByLbT0AMVOrqCAXfAywRdXJ6Gtvk1hRI
         9AC8IfwB9RNld07rmiFHAE/BwcZpyOrcpBOBBTgrj5oKz9ddKhc5IDx0HqTTBpJWGYJp
         wDnGI6hplj7hkoPtrE3rKDvEHrvKcd5JAgqDo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=mime-version:reply-to:in-reply-to:references:date:message-id
         :subject:from:to:content-type:content-transfer-encoding;
        b=sfx1g7niCd8twOV3DpHzlRxtKv1E9L1pCXlhSLv/pR+ksVJPotxfxInfEnEePd6lRu
         ZTn9Wr6D+0YZzuoXahk0TsAJWfq9II6Ha6+Ymty/+iePKhwloge4nCOfb068vZ84Kztz
         jMS69955BH1GsRvFbPcrPM9ie12fZJybtpeXM=
MIME-Version: 1.0
Received: by 10.239.181.73 with SMTP id l9mr113012hbg.139.1277531682045; Fri, 
	25 Jun 2010 22:54:42 -0700 (PDT)
Received: by 10.239.152.68 with HTTP; Fri, 25 Jun 2010 22:54:42 -0700 (PDT)
Reply-To: simon.willnauer@gmail.com
In-Reply-To: <AANLkTilATAsNRIQ8dsgwKJ_vrlckEnMrYw1qB4cykDLH@mail.gmail.com>
References: <4C24E9D1.1040403@stela.org.br>
	<AANLkTilATAsNRIQ8dsgwKJ_vrlckEnMrYw1qB4cykDLH@mail.gmail.com>
Date: Sat, 26 Jun 2010 07:54:42 +0200
Message-ID: <AANLkTimV2xsydv3sFJ4yMK8lhrcvGNQlvg48lrZLmswm@mail.gmail.com>
Subject: Re: Index with multiple level structure
From: Simon Willnauer <simon.willnauer@googlemail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On Sat, Jun 26, 2010 at 5:02 AM, Rebecca Watson <bec.watson@gmail.com> wrot=
e:
> hi alex,
>
> sounds like you are going to tackle a similar problem to what we're
> trying to do
> in our XML too -- as it looks like you've got a one-to-many type relation=
ship
> you want to search over but return based on the top-level document -- sim=
ilar to
> an an XML i.e. structured doc search problem
>
> -- simon willnauer pointed me this slideshow at the apache conference
> in prague a little while ago which was the best solution i found (i
> went there to find
> one!!) and this is the one we are going to soon try and
> implement/extend to allow
> index/search over our XML docs:

I was just gonna post... ah! :)

here is the corresponding issue:
https://issues.apache.org/jira/browse/LUCENE-2454

simon
>
> http://www.slideshare.net/MarkHarwood/proposal-for-nested-document-suppor=
t-in-lucene
>
> hope that helps you too :)
>
> bec
>
> On 26 June 2010 01:39, Alexandre Leopoldo Gon=C3=A7alves
> <a.l.goncalves@stela.org.br> wrote:
>> Hi All,
>>
>> I wonder if it is possible to create Lucene indexes with a multiple leve=
l
>> structure. For instance,
>> a field named "institutions" with all institutions I=E6=89=89e worked an=
d sub-fields
>> to detail my
>> contribution in a specific institution.
>>
>> The structure would be like this:
>>
>> field: name
>> =C2=A0 content: person name
>> field: search
>> =C2=A0 content: full text from a set of papers
>> field: institutions
>> =C2=A0 content: institution_A =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 subfiel=
d: position
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 content: manger
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 subfield: admission_year
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 content: 2001
>> =C2=A0 content: institution_B
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 subfield: position
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 content: professor
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 subfield: admission_year
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 content: 2006
>>
>> After that, my intention is to query people which have worked with
>> "information retrieval" at "institution_A"
>> as "professor" and admission year >=3D "2006".
>>
>> Regards,
>>
>> Alex
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46547-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jun 27 14:12:49 2010
Return-Path: <java-user-return-46547-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81853 invoked from network); 27 Jun 2010 14:12:49 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 27 Jun 2010 14:12:49 -0000
Received: (qmail 55238 invoked by uid 500); 27 Jun 2010 14:12:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55150 invoked by uid 500); 27 Jun 2010 14:12:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55138 invoked by uid 99); 27 Jun 2010 14:12:45 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Jun 2010 14:12:45 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of zhoudengpeng@gmail.com designates 209.85.160.48 as permitted sender)
Received: from [209.85.160.48] (HELO mail-pw0-f48.google.com) (209.85.160.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Jun 2010 14:12:37 +0000
Received: by pwj5 with SMTP id 5so5054772pwj.35
        for <java-user@lucene.apache.org>; Sun, 27 Jun 2010 07:12:16 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:date:message-id
         :subject:from:to:content-type;
        bh=OP23jp6fujjK5QFG6TJIYDviHuLl+GCo14A175LMSJM=;
        b=oDgDfMOOwEP1C0ayL2oQdm1ig7Xew32/awfz8Y+5knR3Sd1Naizax9ouolErwss1XK
         v3ZgwrSj9ZgQqmTuX7V14yQ/XUGE/D38+AHqg/XT5fmo1GOcRqb3bpzFeBJEV8Y6pBeD
         6FDo4RCZ8yv2K4TGkvHATS+dUQY4CRVV9xP+Q=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=JMJ5QBdpKOMnSQAib6hbnq0tI48Q7R5RjlnvuTuU0xF5M+J6CojIXyyAt2UDw8DrWp
         LAefSK4ILZ3xiaAF1UZXo5LsCVuzAsVoflpu2MHjzcSg0dV8zv5/HV0k6Nxh86G9drNl
         h1yJn12lXbwaGKLoCsc1bEs0gJ0HyjQJWw2a4=
MIME-Version: 1.0
Received: by 10.142.248.21 with SMTP id v21mr4047472wfh.347.1277647935921; 
	Sun, 27 Jun 2010 07:12:15 -0700 (PDT)
Received: by 10.142.194.7 with HTTP; Sun, 27 Jun 2010 07:12:15 -0700 (PDT)
Date: Sun, 27 Jun 2010 22:12:15 +0800
Message-ID: <AANLkTin56O-WuWzPCo-hTvathMxZb4dqTlOq7un6E2MW@mail.gmail.com>
Subject: A question regarding the setSlop method of class PhraseQuery (Lucene 
	version 3.0.1)
From: a peng <zhoudengpeng@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00504502bae15e6891048a039770
X-Virus-Checked: Checked by ClamAV on apache.org

--00504502bae15e6891048a039770
Content-Type: text/plain; charset=ISO-8859-1

Hi,

I know the indexed content contains the following text: "This is a test".
And the search phrase I used is "This is a formal test", and then I set the
slop of the PhraseQuery as 2 with setSlop(2), but I found that I can not get
a search result. If I set the search phrase as "This is formal test", then I
can get the search result.

So what is the problem here, thanks in advance.


Attached is the Java doc for the setSlop method:

public void *setSlop*(int s)

Sets the number of other words permitted between words in query phrase. If
zero, then this is an exact phrase search. For larger values this works like
a WITHIN or NEAR operator.

The slop is in fact an edit-distance, where the units correspond to moves of
terms in the query phrase out of position. For example, to switch the order
of two words requires two moves (the first move places the words atop one
another), so to permit re-orderings of phrases, the slop must be at least
two.

More exact matches are scored higher than sloppier matches, thus search
results are sorted by exactness.

The slop is zero by default, requiring exact matches.

--00504502bae15e6891048a039770--

From java-user-return-46548-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jun 27 15:51:38 2010
Return-Path: <java-user-return-46548-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92786 invoked from network); 27 Jun 2010 15:51:38 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 27 Jun 2010 15:51:38 -0000
Received: (qmail 71868 invoked by uid 500); 27 Jun 2010 15:51:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71698 invoked by uid 500); 27 Jun 2010 15:51:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71690 invoked by uid 99); 27 Jun 2010 15:51:35 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Jun 2010 15:51:35 +0000
X-ASF-Spam-Status: No, hits=4.4 required=10.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of t.sapra97@gmail.com designates 209.85.212.48 as permitted sender)
Received: from [209.85.212.48] (HELO mail-vw0-f48.google.com) (209.85.212.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Jun 2010 15:51:27 +0000
Received: by vws15 with SMTP id 15so5213810vws.35
        for <java-user@lucene.apache.org>; Sun, 27 Jun 2010 08:51:07 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=Qm33gNRRrJjSbRz3fkfSDwT2BWLVvLF3x2Vjm3EAnYE=;
        b=sWuKzQJkxNw2LtWLc7ATW+ph1HtE9Vxo+1kUMcMwwHsr7AdTYq9r2MN/faIOZUVyF5
         fBc5TGZxXIivgXZNlpyWX1YbEZovK+lVfdJLCMWMOSMm8SKB1aOoEerLReISj022GsmZ
         hZ1BMnUXABb/bwSNPn4zO9bg2aJ6SDiy6CQ2A=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=BAzK60L++QYuif9qEdPM39j7Gc2Mj2AfRly5jd2uQZjqRngZTOXSAwFgjxm2HF4I+Z
         0fOWyP26GfWtvPAbGf1+q6FvGAow41ZuDGN94IP6bov7NM3IbA1OsxSrx1MkHlCYUlyt
         a0p9ZkZQvrUUC+PMnuaoH3bSIgcDXNbUm+S4w=
MIME-Version: 1.0
Received: by 10.220.126.130 with SMTP id c2mr2171844vcs.165.1277653866878; 
	Sun, 27 Jun 2010 08:51:06 -0700 (PDT)
Received: by 10.220.189.129 with HTTP; Sun, 27 Jun 2010 08:51:06 -0700 (PDT)
In-Reply-To: <AANLkTin56O-WuWzPCo-hTvathMxZb4dqTlOq7un6E2MW@mail.gmail.com>
References: <AANLkTin56O-WuWzPCo-hTvathMxZb4dqTlOq7un6E2MW@mail.gmail.com>
Date: Sun, 27 Jun 2010 08:51:06 -0700
Message-ID: <AANLkTimDUh8pIuIyg2IlydpahnPp7u-1ZR821zlraPiQ@mail.gmail.com>
Subject: Re: A question regarding the setSlop method of class PhraseQuery 
	(Lucene version 3.0.1)
From: tarun sapra <t.sapra97@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e68ee95ae1980f048a04f8a9
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e68ee95ae1980f048a04f8a9
Content-Type: text/plain; charset=ISO-8859-1

which analyzer are you usin'?


On Sun, Jun 27, 2010 at 7:12 AM, a peng <zhoudengpeng@gmail.com> wrote:

> Hi,
>
> I know the indexed content contains the following text: "This is a test".
> And the search phrase I used is "This is a formal test", and then I set the
> slop of the PhraseQuery as 2 with setSlop(2), but I found that I can not
> get
> a search result. If I set the search phrase as "This is formal test", then
> I
> can get the search result.
>
> So what is the problem here, thanks in advance.
>
>
> Attached is the Java doc for the setSlop method:
>
> public void *setSlop*(int s)
>
> Sets the number of other words permitted between words in query phrase. If
> zero, then this is an exact phrase search. For larger values this works
> like
> a WITHIN or NEAR operator.
>
> The slop is in fact an edit-distance, where the units correspond to moves
> of
> terms in the query phrase out of position. For example, to switch the order
> of two words requires two moves (the first move places the words atop one
> another), so to permit re-orderings of phrases, the slop must be at least
> two.
>
> More exact matches are scored higher than sloppier matches, thus search
> results are sorted by exactness.
>
> The slop is zero by default, requiring exact matches.
>



-- 
Thanks & Regards
Tarun Sapra

--0016e68ee95ae1980f048a04f8a9--

From java-user-return-46549-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jun 27 19:15:28 2010
Return-Path: <java-user-return-46549-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45456 invoked from network); 27 Jun 2010 19:15:27 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 27 Jun 2010 19:15:27 -0000
Received: (qmail 502 invoked by uid 500); 27 Jun 2010 19:15:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 298 invoked by uid 500); 27 Jun 2010 19:15:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 290 invoked by uid 99); 27 Jun 2010 19:15:24 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Jun 2010 19:15:24 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pwilkins@mit.edu designates 18.9.25.15 as permitted sender)
Received: from [18.9.25.15] (HELO dmz-mailsec-scanner-4.mit.edu) (18.9.25.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Jun 2010 19:15:14 +0000
X-AuditID: 1209190f-b7bd9ae0000009fe-7b-4c27a32d5554
Received: from mailhub-auth-2.mit.edu (MAILHUB-AUTH-2.MIT.EDU [18.7.62.36])
	by dmz-mailsec-scanner-4.mit.edu (Symantec Brightmail Gateway) with SMTP id 29.EB.02558.D23A72C4; Sun, 27 Jun 2010 15:14:53 -0400 (EDT)
Received: from outgoing.mit.edu (OUTGOING-EXCHANGE-2.MIT.EDU [18.9.28.16])
	by mailhub-auth-2.mit.edu (8.13.8/8.9.2) with ESMTP id o5RJEr0j019657
	for <java-user@lucene.apache.org>; Sun, 27 Jun 2010 15:14:53 -0400
Received: from oc11exedge2.exchange.mit.edu (OC11EXEDGE2.EXCHANGE.MIT.EDU [18.9.3.18])
	)
	by outgoing.mit.edu (8.13.8/8.12.4) with ESMTP id o5RJEqqR018814
	for <java-user@lucene.apache.org>; Sun, 27 Jun 2010 15:14:52 -0400
Received: from w92exhub7.exchange.mit.edu (18.7.73.13) by
 oc11exedge2.exchange.mit.edu (18.9.3.18) with Microsoft SMTP Server (TLS) id
 8.1.393.1; Sun, 27 Jun 2010 15:14:50 -0400
Received: from EXPO17.exchange.mit.edu ([18.9.4.48]) by
 w92exhub7.exchange.mit.edu ([18.7.73.13]) with mapi; Sun, 27 Jun 2010
 15:14:51 -0400
From: Peter Wilkins <pwilkins@MIT.EDU>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Sun, 27 Jun 2010 15:14:50 -0400
Subject: I don't find MultipleTermPositions in svn
Thread-Topic: I don't find MultipleTermPositions in svn
Thread-Index: AcsWLQQtcnSahY5mRK+Lz8eR3PdWMg==
Message-ID: <83E95AE8-229B-47E9-B688-77738818C8DB@mit.edu>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Brightmail-Tracker: AAAAARTf5Qg=
X-Virus-Checked: Checked by ClamAV on apache.org

This is dumb, I know, but I don't find a MultipleTermPositions.java file un=
der org.apache.lucene.index in the svn trunk.  Will someone on the list hav=
e mercy on me and tell me what obvious thing I'm missing?  I know it's ther=
e somewhere. =20

/peter=

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46550-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jun 27 19:27:25 2010
Return-Path: <java-user-return-46550-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46309 invoked from network); 27 Jun 2010 19:27:25 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 27 Jun 2010 19:27:25 -0000
Received: (qmail 3725 invoked by uid 500); 27 Jun 2010 19:27:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3679 invoked by uid 500); 27 Jun 2010 19:27:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3671 invoked by uid 99); 27 Jun 2010 19:27:22 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Jun 2010 19:27:22 +0000
X-ASF-Spam-Status: No, hits=-0.1 required=10.0
	tests=AWL,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Jun 2010 19:27:15 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id D2445D36005
	for <java-user@lucene.apache.org>; Sun, 27 Jun 2010 21:26:53 +0200 (CEST)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 6O6zAYxe+cMh for <java-user@lucene.apache.org>;
	Sun, 27 Jun 2010 21:26:42 +0200 (CEST)
Received: from VEGA (port-83-236-62-54.dynamic.qsc.de [83.236.62.54])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id 8CB8BD36003
	for <java-user@lucene.apache.org>; Sun, 27 Jun 2010 21:26:41 +0200 (CEST)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <83E95AE8-229B-47E9-B688-77738818C8DB@mit.edu>
In-Reply-To: <83E95AE8-229B-47E9-B688-77738818C8DB@mit.edu>
Subject: RE: I don't find MultipleTermPositions in svn
Date: Sun, 27 Jun 2010 21:27:08 +0200
Message-ID: <002a01cb162e$bbf47d20$33dd7760$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-index: AQKephPb68Gkz9MiUpxo8ub7gqlgZJDvESMA
Content-language: de

Trunk (aka 4.0) has a complete new API so lots of classes changed/replaced.
If you want 3.x, use the corresponding branch!

-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de


> -----Original Message-----
> From: Peter Wilkins [mailto:pwilkins@MIT.EDU]
> Sent: Sunday, June 27, 2010 9:15 PM
> To: java-user@lucene.apache.org
> Subject: I don't find MultipleTermPositions in svn
> 
> This is dumb, I know, but I don't find a MultipleTermPositions.java file
under
> org.apache.lucene.index in the svn trunk.  Will someone on the list have
> mercy on me and tell me what obvious thing I'm missing?  I know it's there
> somewhere.
> 
> /peter
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46551-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 28 00:47:30 2010
Return-Path: <java-user-return-46551-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36672 invoked from network); 28 Jun 2010 00:47:30 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 28 Jun 2010 00:47:30 -0000
Received: (qmail 51496 invoked by uid 500); 28 Jun 2010 00:47:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51445 invoked by uid 500); 28 Jun 2010 00:47:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51437 invoked by uid 99); 28 Jun 2010 00:47:27 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Jun 2010 00:47:27 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pwilkins@mit.edu designates 18.9.25.15 as permitted sender)
Received: from [18.9.25.15] (HELO dmz-mailsec-scanner-4.mit.edu) (18.9.25.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Jun 2010 00:47:18 +0000
X-AuditID: 1209190f-b7bd9ae0000009fe-d7-4c27f1019c5b
Received: from mailhub-auth-1.mit.edu (MAILHUB-AUTH-1.MIT.EDU [18.9.21.35])
	by dmz-mailsec-scanner-4.mit.edu (Symantec Brightmail Gateway) with SMTP id 0F.A0.02558.101F72C4; Sun, 27 Jun 2010 20:46:57 -0400 (EDT)
Received: from outgoing.mit.edu (OUTGOING-EXCHANGE-2.MIT.EDU [18.9.28.16])
	by mailhub-auth-1.mit.edu (8.13.8/8.9.2) with ESMTP id o5S0kulX026328
	for <java-user@lucene.apache.org>; Sun, 27 Jun 2010 20:46:57 -0400
Received: from oc11exedge1.exchange.mit.edu (OC11EXEDGE1.EXCHANGE.MIT.EDU [18.9.3.17])
	)
	by outgoing.mit.edu (8.13.8/8.12.4) with ESMTP id o5S0ku9U004358
	for <java-user@lucene.apache.org>; Sun, 27 Jun 2010 20:46:56 -0400
Received: from w92exhub10.exchange.mit.edu (18.7.73.18) by
 oc11exedge1.exchange.mit.edu (18.9.3.17) with Microsoft SMTP Server (TLS) id
 8.1.393.1; Sun, 27 Jun 2010 20:46:53 -0400
Received: from EXPO17.exchange.mit.edu ([18.9.4.48]) by
 w92exhub10.exchange.mit.edu ([18.7.73.18]) with mapi; Sun, 27 Jun 2010
 20:46:55 -0400
From: Peter Wilkins <pwilkins@MIT.EDU>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Sun, 27 Jun 2010 20:46:54 -0400
Subject: Re: I don't find MultipleTermPositions in svn
Thread-Topic: I don't find MultipleTermPositions in svn
Thread-Index: AcsWW2e4XGYRFw2QRxi6MM8HZSAIwA==
Message-ID: <9FEF26B1-90E3-446D-858D-B532F366A800@mit.edu>
References: <83E95AE8-229B-47E9-B688-77738818C8DB@mit.edu>
 <002a01cb162e$bbf47d20$33dd7760$@thetaphi.de>
In-Reply-To: <002a01cb162e$bbf47d20$33dd7760$@thetaphi.de>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Brightmail-Tracker: AAAAARTf5Qg=
X-Virus-Checked: Checked by ClamAV on apache.org

Uwe:
Thanks for the answer to my question.  If the API has changed, is there a d=
ocument describing a mapping from v3.x to v4.x, or perhaps an online discus=
sion of the changes?  It sounds like the change to v4.x will be dramatic!

Regards,
Peter

On Jun 27, 2010, at 3:27 PM, Uwe Schindler uwe@thetaphi.de wrote:

> Trunk (aka 4.0) has a complete new API so lots of classes changed/replace=
d.
> If you want 3.x, use the corresponding branch!
>=20
> -----
> Uwe Schindler
> H.-H.-Meier-Allee 63, D-28213 Bremen
> http://www.thetaphi.de
> eMail: uwe@thetaphi.de
>=20
>=20
>> -----Original Message-----
>> From: Peter Wilkins [mailto:pwilkins@MIT.EDU]
>> Sent: Sunday, June 27, 2010 9:15 PM
>> To: java-user@lucene.apache.org
>> Subject: I don't find MultipleTermPositions in svn
>>=20
>> This is dumb, I know, but I don't find a MultipleTermPositions.java file
> under
>> org.apache.lucene.index in the svn trunk.  Will someone on the list have
>> mercy on me and tell me what obvious thing I'm missing?  I know it's the=
re
>> somewhere.
>>=20
>> /peter
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46552-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 28 01:14:00 2010
Return-Path: <java-user-return-46552-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42763 invoked from network); 28 Jun 2010 01:13:59 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 28 Jun 2010 01:13:59 -0000
Received: (qmail 58611 invoked by uid 500); 28 Jun 2010 01:13:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58551 invoked by uid 500); 28 Jun 2010 01:13:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58543 invoked by uid 99); 28 Jun 2010 01:13:57 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Jun 2010 01:13:57 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of rcmuir@gmail.com designates 209.85.216.176 as permitted sender)
Received: from [209.85.216.176] (HELO mail-qy0-f176.google.com) (209.85.216.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Jun 2010 01:13:49 +0000
Received: by qyk10 with SMTP id 10so28249qyk.35
        for <java-user@lucene.apache.org>; Sun, 27 Jun 2010 18:13:28 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type;
        bh=z2TrSu+xTMT5DhjWN6SEX9HqTQJ2XJaS2RLH65PKKVI=;
        b=Oe0mNF87z8hVkMwnFo7EhIIGSjIXsAHYpV4UwbZXvobLtB9fb4iWZ7ABbgicumCWEJ
         KmXENSR36AJfakS/kZDhHUqKYSnvBcUSAFlFPi7qAaqe5MXZqeKshp5ZwF4I7SYI+LN0
         DKFdDnE7rA0yeCyWHm83PKsjpNxVe0v8UF09o=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=Kuoyjp1ECLGeHNFQaH5TwDEmwqdzJuHeY/4QPcs2aGw/qDEA2HHG7moAzkblobdXJ1
         CY5aGEATkpcdT7oHuP6pTGYTLixu+uXqPrMqU0MOJgZW/kxoPmN4cjcUlaIyxYkzhuzs
         o4S2pDLlY/TAPUKQEm8Wv7R/n1Kv6TN4O0/r8=
Received: by 10.224.43.197 with SMTP id x5mr2718771qae.127.1277687608185; Sun, 
	27 Jun 2010 18:13:28 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.224.67.4 with HTTP; Sun, 27 Jun 2010 18:13:07 -0700 (PDT)
In-Reply-To: <9FEF26B1-90E3-446D-858D-B532F366A800@mit.edu>
References: <83E95AE8-229B-47E9-B688-77738818C8DB@mit.edu> 
	<002a01cb162e$bbf47d20$33dd7760$@thetaphi.de> <9FEF26B1-90E3-446D-858D-B532F366A800@mit.edu>
From: Robert Muir <rcmuir@gmail.com>
Date: Sun, 27 Jun 2010 21:13:07 -0400
Message-ID: <AANLkTikHsYZBzTvZ8Zs2m4xkLq0ZT2fnOzdQcJMau99N@mail.gmail.com>
Subject: Re: I don't find MultipleTermPositions in svn
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00c09f88d3c2051c91048a0cd4a4
X-Virus-Checked: Checked by ClamAV on apache.org

--00c09f88d3c2051c91048a0cd4a4
Content-Type: text/plain; charset=UTF-8

On Sun, Jun 27, 2010 at 8:46 PM, Peter Wilkins <pwilkins@mit.edu> wrote:

> Uwe:
> Thanks for the answer to my question.  If the API has changed, is there a
> document describing a mapping from v3.x to v4.x, or perhaps an online
> discussion of the changes?  It sounds like the change to v4.x will be
> dramatic!
>
>
There is such a guide, see lucene/migration.txt... in this case i think you
are interested in docsandpositionsenum... you can look at multiphrasequery
for a similar example, it has a  uniondocsandpositionsenum inside it.


-- 
Robert Muir
rcmuir@gmail.com

--00c09f88d3c2051c91048a0cd4a4--

From java-user-return-46553-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 28 06:08:27 2010
Return-Path: <java-user-return-46553-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8599 invoked from network); 28 Jun 2010 06:08:27 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 28 Jun 2010 06:08:27 -0000
Received: (qmail 59371 invoked by uid 500); 28 Jun 2010 06:08:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59041 invoked by uid 500); 28 Jun 2010 06:08:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59033 invoked by uid 99); 28 Jun 2010 06:08:20 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Jun 2010 06:08:20 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of zhoudengpeng@gmail.com designates 209.85.212.176 as permitted sender)
Received: from [209.85.212.176] (HELO mail-px0-f176.google.com) (209.85.212.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Jun 2010 06:08:12 +0000
Received: by pxi12 with SMTP id 12so881788pxi.35
        for <java-user@lucene.apache.org>; Sun, 27 Jun 2010 23:07:51 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=62EvU1dqMNKOKXUJFNreimHApmz0GCwZIh4que16cX8=;
        b=pcr61Fcmu2ORpLkJGhGwPJFk2X3VoE1RpWadpoZZWU5L7S/+H7EZxyAwa70Hoceq+8
         t6ynXCZDaAfgF7bAtmvIJvOZr6OAp0SMTaUyluJhMsGjGKfnmHH7lsCPd5R0xlLe1DFZ
         yb86qS1nvPjO8s4IP7iCEH0NHs2RvXsE1QEew=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=EbN6byVyxx87onHWep7ILu6iO2lKBjHNP+nLu1DzSXZMXuDP6ieUQQMDTt9WZdot2j
         Mm877Ov75p/AqjvGtvYpmFUT16rnXS45IDdmxUwr2cnLzaXRhRNCJjhYRx7WShEH/FSN
         rzpSnD6ekX+evwaJlBFpA4qXs48d3O4GdSxWI=
MIME-Version: 1.0
Received: by 10.142.248.21 with SMTP id v21mr5063881wfh.347.1277705271378; 
	Sun, 27 Jun 2010 23:07:51 -0700 (PDT)
Received: by 10.142.194.7 with HTTP; Sun, 27 Jun 2010 23:07:51 -0700 (PDT)
In-Reply-To: <AANLkTimDUh8pIuIyg2IlydpahnPp7u-1ZR821zlraPiQ@mail.gmail.com>
References: <AANLkTin56O-WuWzPCo-hTvathMxZb4dqTlOq7un6E2MW@mail.gmail.com>
	<AANLkTimDUh8pIuIyg2IlydpahnPp7u-1ZR821zlraPiQ@mail.gmail.com>
Date: Mon, 28 Jun 2010 14:07:51 +0800
Message-ID: <AANLkTikHofQubNJ4VGCQPKGNgufyzFENj8Kf4nmxii_k@mail.gmail.com>
Subject: Re: A question regarding the setSlop method of class PhraseQuery 
	(Lucene version 3.0.1)
From: a peng <zhoudengpeng@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00504502bae1d403c2048a10f0f6
X-Virus-Checked: Checked by ClamAV on apache.org

--00504502bae1d403c2048a10f0f6
Content-Type: text/plain; charset=ISO-8859-1

Hi,

I am using StandardAnalyzer(Version.LUCENE_30);

2010/6/27 tarun sapra <t.sapra97@gmail.com>

> which analyzer are you usin'?
>
>
> On Sun, Jun 27, 2010 at 7:12 AM, a peng <zhoudengpeng@gmail.com> wrote:
>
> > Hi,
> >
> > I know the indexed content contains the following text: "This is a test".
> > And the search phrase I used is "This is a formal test", and then I set
> the
> > slop of the PhraseQuery as 2 with setSlop(2), but I found that I can not
> > get
> > a search result. If I set the search phrase as "This is formal test",
> then
> > I
> > can get the search result.
> >
> > So what is the problem here, thanks in advance.
> >
> >
> > Attached is the Java doc for the setSlop method:
> >
> > public void *setSlop*(int s)
> >
> > Sets the number of other words permitted between words in query phrase.
> If
> > zero, then this is an exact phrase search. For larger values this works
> > like
> > a WITHIN or NEAR operator.
> >
> > The slop is in fact an edit-distance, where the units correspond to moves
> > of
> > terms in the query phrase out of position. For example, to switch the
> order
> > of two words requires two moves (the first move places the words atop one
> > another), so to permit re-orderings of phrases, the slop must be at least
> > two.
> >
> > More exact matches are scored higher than sloppier matches, thus search
> > results are sorted by exactness.
> >
> > The slop is zero by default, requiring exact matches.
> >
>
>
>
> --
> Thanks & Regards
> Tarun Sapra
>

--00504502bae1d403c2048a10f0f6--

From java-user-return-46554-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 28 06:43:18 2010
Return-Path: <java-user-return-46554-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20796 invoked from network); 28 Jun 2010 06:43:18 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 28 Jun 2010 06:43:18 -0000
Received: (qmail 70943 invoked by uid 500); 28 Jun 2010 06:43:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70530 invoked by uid 500); 28 Jun 2010 06:43:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70520 invoked by uid 99); 28 Jun 2010 06:43:11 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Jun 2010 06:43:11 +0000
X-ASF-Spam-Status: No, hits=4.4 required=10.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of t.sapra97@gmail.com designates 209.85.212.48 as permitted sender)
Received: from [209.85.212.48] (HELO mail-vw0-f48.google.com) (209.85.212.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Jun 2010 06:43:03 +0000
Received: by vws15 with SMTP id 15so6086110vws.35
        for <java-user@lucene.apache.org>; Sun, 27 Jun 2010 23:41:42 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=xN52Vd1IF6sHPi+eWk09Cpxgy+T7D4ediNPnmbN4p/o=;
        b=C79Y+Ks8kk+NYXW4x44ZpvX8dZOFKeycUekGUtz8Gy4sPwWEGY8AJVUuHLGfWzd0Uj
         HbvHqdsxz/9QLrSMDomw4aQFfuXr6k9dUbS9iyoyTR/Ggfmvx1YKhbT19sW+kADkFMSg
         Tvfgib0JMaKmFG8z+xZgd5QAJoDOIOmX/mXCI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=HG9JzZQjYxbUn/a/Fit+VyQLPKVlz2gyBiqeYjR4w4Lz5IZ2PPeG9n7LQngMZRNbXH
         pjBhqBekkSxmF0FUeUmaIH0gDmqqfiqmqb2ImyslpZzRLv2cXM8lLCllNo1H8kGbkTc2
         NyPMiaOZLvgJiBqo+NeHf+g9yq+CDnyBo/+EM=
MIME-Version: 1.0
Received: by 10.220.126.216 with SMTP id d24mr2681249vcs.43.1277707301951; 
	Sun, 27 Jun 2010 23:41:41 -0700 (PDT)
Received: by 10.220.189.129 with HTTP; Sun, 27 Jun 2010 23:41:41 -0700 (PDT)
In-Reply-To: <AANLkTikHofQubNJ4VGCQPKGNgufyzFENj8Kf4nmxii_k@mail.gmail.com>
References: <AANLkTin56O-WuWzPCo-hTvathMxZb4dqTlOq7un6E2MW@mail.gmail.com>
	<AANLkTimDUh8pIuIyg2IlydpahnPp7u-1ZR821zlraPiQ@mail.gmail.com>
	<AANLkTikHofQubNJ4VGCQPKGNgufyzFENj8Kf4nmxii_k@mail.gmail.com>
Date: Mon, 28 Jun 2010 12:11:41 +0530
Message-ID: <AANLkTiktBAVn7nyKdBoXpziC_cstYbF6digUC5NOaNUL@mail.gmail.com>
Subject: Re: A question regarding the setSlop method of class PhraseQuery 
	(Lucene version 3.0.1)
From: tarun sapra <t.sapra97@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00504501635cdc1aa2048a116938
X-Virus-Checked: Checked by ClamAV on apache.org

--00504501635cdc1aa2048a116938
Content-Type: text/plain; charset=ISO-8859-1

Hi ,

I think I have been able to understand whats happening here...

Indexed Content : "This is a test".
your search phrase : "This is a formal test"
your setting the slop factor 2 , now if your slop factor is 3 it should work
because "is" and "a" are stop words thus the words "This" and "test" are 2
slop factor apart but in your search phrase "This is a formal test" the
words "This" and "test"  are 3 slop factor thats why it's nor working
now in search phrase "This is formal test" the words "This" and "test" are 2
slop factor apart thats why this phrase is working.



On Mon, Jun 28, 2010 at 11:37 AM, a peng <zhoudengpeng@gmail.com> wrote:

> Hi,
>
> I am using StandardAnalyzer(Version.LUCENE_30);
>
> 2010/6/27 tarun sapra <t.sapra97@gmail.com>
>
> > which analyzer are you usin'?
> >
> >
> > On Sun, Jun 27, 2010 at 7:12 AM, a peng <zhoudengpeng@gmail.com> wrote:
> >
> > > Hi,
> > >
> > > I know the indexed content contains the following text: "This is a
> test".
> > > And the search phrase I used is "This is a formal test", and then I set
> > the
> > > slop of the PhraseQuery as 2 with setSlop(2), but I found that I can
> not
> > > get
> > > a search result. If I set the search phrase as "This is formal test",
> > then
> > > I
> > > can get the search result.
> > >
> > > So what is the problem here, thanks in advance.
> > >
> > >
> > > Attached is the Java doc for the setSlop method:
> > >
> > > public void *setSlop*(int s)
> > >
> > > Sets the number of other words permitted between words in query phrase.
> > If
> > > zero, then this is an exact phrase search. For larger values this works
> > > like
> > > a WITHIN or NEAR operator.
> > >
> > > The slop is in fact an edit-distance, where the units correspond to
> moves
> > > of
> > > terms in the query phrase out of position. For example, to switch the
> > order
> > > of two words requires two moves (the first move places the words atop
> one
> > > another), so to permit re-orderings of phrases, the slop must be at
> least
> > > two.
> > >
> > > More exact matches are scored higher than sloppier matches, thus search
> > > results are sorted by exactness.
> > >
> > > The slop is zero by default, requiring exact matches.
> > >
> >
> >
> >
> > --
> > Thanks & Regards
> > Tarun Sapra
> >
>



-- 
Thanks & Regards
Tarun Sapra

--00504501635cdc1aa2048a116938--

From java-user-return-46555-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 28 13:11:02 2010
Return-Path: <java-user-return-46555-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74769 invoked from network); 28 Jun 2010 13:11:02 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 28 Jun 2010 13:11:02 -0000
Received: (qmail 47542 invoked by uid 500); 28 Jun 2010 13:10:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45547 invoked by uid 500); 28 Jun 2010 13:10:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45539 invoked by uid 99); 28 Jun 2010 13:10:52 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Jun 2010 13:10:52 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of zhoudengpeng@gmail.com designates 209.85.212.176 as permitted sender)
Received: from [209.85.212.176] (HELO mail-px0-f176.google.com) (209.85.212.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Jun 2010 13:10:44 +0000
Received: by pxi11 with SMTP id 11so246276pxi.35
        for <java-user@lucene.apache.org>; Mon, 28 Jun 2010 06:09:23 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=EfyNP9WOKxmjE5iyGeDnRKiMLBwyGGePwIptC9ytdrM=;
        b=n/0JtxR4Nd9ycFRE8RegZTRshHpDSOkUiJMJ4aj9aKpjwwsanrhD4V7H69x2KYcaqe
         Vk4Lg+p5S3ia96/9kDL0TZ6Azw2/AcLDB9hUlGMiRXjC71GjfMBvkv3sA+BUU9TbRfjo
         ZTNEjKA2qkpBUjCqNwpzRpuO80Lb0+bidRuq4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=sbFhuhD6LH2yL7JCZePXGAUGRbZ4A36pPiiDLxgTlTTGRaIKiTU8zl4sanjsOZ8f75
         YeI7JOz67J1bNnsEg6IKMZeR20VSwSiv3Wt5+dGclcndfXLFrCjksCAbSkmiezOWkMMU
         Gq58K4qK+ZfFeCv8zfO/ml8JkE0B2rzks2zrg=
MIME-Version: 1.0
Received: by 10.143.20.1 with SMTP id x1mr5587916wfi.148.1277730563045; Mon, 
	28 Jun 2010 06:09:23 -0700 (PDT)
Received: by 10.142.194.7 with HTTP; Mon, 28 Jun 2010 06:09:22 -0700 (PDT)
In-Reply-To: <AANLkTiktBAVn7nyKdBoXpziC_cstYbF6digUC5NOaNUL@mail.gmail.com>
References: <AANLkTin56O-WuWzPCo-hTvathMxZb4dqTlOq7un6E2MW@mail.gmail.com>
	<AANLkTimDUh8pIuIyg2IlydpahnPp7u-1ZR821zlraPiQ@mail.gmail.com>
	<AANLkTikHofQubNJ4VGCQPKGNgufyzFENj8Kf4nmxii_k@mail.gmail.com>
	<AANLkTiktBAVn7nyKdBoXpziC_cstYbF6digUC5NOaNUL@mail.gmail.com>
Date: Mon, 28 Jun 2010 21:09:22 +0800
Message-ID: <AANLkTimRuhGIJWr4oGkctlZPsUpJgR5ZcYAj5QCWK9iI@mail.gmail.com>
Subject: Re: A question regarding the setSlop method of class PhraseQuery 
	(Lucene version 3.0.1)
From: a peng <zhoudengpeng@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00504502c72154386a048a16d418
X-Virus-Checked: Checked by ClamAV on apache.org

--00504502c72154386a048a16d418
Content-Type: text/plain; charset=ISO-8859-1

Hi,

My test result is that whenever the search phrase contains a word that don't
exist in the document, the search result will be empty no matter how big the
slop factor I set, seems this is a bug of Lucene, or it is work as design?

2010/6/28 tarun sapra <t.sapra97@gmail.com>

> Hi ,
>
> I think I have been able to understand whats happening here...
>
> Indexed Content : "This is a test".
> your search phrase : "This is a formal test"
> your setting the slop factor 2 , now if your slop factor is 3 it should
> work
> because "is" and "a" are stop words thus the words "This" and "test" are 2
> slop factor apart but in your search phrase "This is a formal test" the
> words "This" and "test"  are 3 slop factor thats why it's nor working
> now in search phrase "This is formal test" the words "This" and "test" are
> 2
> slop factor apart thats why this phrase is working.
>
>
>
> On Mon, Jun 28, 2010 at 11:37 AM, a peng <zhoudengpeng@gmail.com> wrote:
>
> > Hi,
> >
> > I am using StandardAnalyzer(Version.LUCENE_30);
> >
> > 2010/6/27 tarun sapra <t.sapra97@gmail.com>
> >
> > > which analyzer are you usin'?
> > >
> > >
> > > On Sun, Jun 27, 2010 at 7:12 AM, a peng <zhoudengpeng@gmail.com>
> wrote:
> > >
> > > > Hi,
> > > >
> > > > I know the indexed content contains the following text: "This is a
> > test".
> > > > And the search phrase I used is "This is a formal test", and then I
> set
> > > the
> > > > slop of the PhraseQuery as 2 with setSlop(2), but I found that I can
> > not
> > > > get
> > > > a search result. If I set the search phrase as "This is formal test",
> > > then
> > > > I
> > > > can get the search result.
> > > >
> > > > So what is the problem here, thanks in advance.
> > > >
> > > >
> > > > Attached is the Java doc for the setSlop method:
> > > >
> > > > public void *setSlop*(int s)
> > > >
> > > > Sets the number of other words permitted between words in query
> phrase.
> > > If
> > > > zero, then this is an exact phrase search. For larger values this
> works
> > > > like
> > > > a WITHIN or NEAR operator.
> > > >
> > > > The slop is in fact an edit-distance, where the units correspond to
> > moves
> > > > of
> > > > terms in the query phrase out of position. For example, to switch the
> > > order
> > > > of two words requires two moves (the first move places the words atop
> > one
> > > > another), so to permit re-orderings of phrases, the slop must be at
> > least
> > > > two.
> > > >
> > > > More exact matches are scored higher than sloppier matches, thus
> search
> > > > results are sorted by exactness.
> > > >
> > > > The slop is zero by default, requiring exact matches.
> > > >
> > >
> > >
> > >
> > > --
> > > Thanks & Regards
> > > Tarun Sapra
> > >
> >
>
>
>
> --
> Thanks & Regards
> Tarun Sapra
>

--00504502c72154386a048a16d418--

From java-user-return-46556-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 28 13:21:45 2010
Return-Path: <java-user-return-46556-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79707 invoked from network); 28 Jun 2010 13:21:45 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 28 Jun 2010 13:21:45 -0000
Received: (qmail 72916 invoked by uid 500); 28 Jun 2010 13:21:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72603 invoked by uid 500); 28 Jun 2010 13:21:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72595 invoked by uid 99); 28 Jun 2010 13:21:39 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Jun 2010 13:21:39 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of erickerickson@gmail.com designates 74.125.83.176 as permitted sender)
Received: from [74.125.83.176] (HELO mail-pv0-f176.google.com) (74.125.83.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Jun 2010 13:21:30 +0000
Received: by pvh1 with SMTP id 1so73759pvh.35
        for <java-user@lucene.apache.org>; Mon, 28 Jun 2010 06:20:09 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=E5tVYwYksIsbCnxt6s453JUl3ggAsqNe6uCcwuJ1hZU=;
        b=iIMZEXE/3TP6zvnOVL63C7JvlFeiAtQgmisLc+v8LooVXUrCJZwcFFpk4D6o7KI3E+
         fXxlaXx7efZYiH3+W07iXLXhUHzQnWAf4EKY4IVCHJvxztd+UtNXvN1m+sHKFQfTXNez
         SXBwUDT6Tl+NVxNizuqTJ9JgTIZLdosUInAHY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=JLVVYeUY+eckdOECFNyO7Rj6CEF4xiLQIQWe/ZqaWtCcZM1jawQX68rottqX0z9N5M
         1CgnsJxR7YcOOLwyQhpbgdsERmzby7lx4OMYZXHUP6OAqzNcSMUc6PAgX0sHGvgSPhPF
         Nmd6N5en/D4hinyhfAkb3Bf2UGlcDZLBeCkpU=
MIME-Version: 1.0
Received: by 10.142.2.17 with SMTP id 17mr5848589wfb.76.1277731209031; Mon, 28 
	Jun 2010 06:20:09 -0700 (PDT)
Received: by 10.142.53.11 with HTTP; Mon, 28 Jun 2010 06:20:08 -0700 (PDT)
In-Reply-To: <AANLkTimRuhGIJWr4oGkctlZPsUpJgR5ZcYAj5QCWK9iI@mail.gmail.com>
References: <AANLkTin56O-WuWzPCo-hTvathMxZb4dqTlOq7un6E2MW@mail.gmail.com>
	<AANLkTimDUh8pIuIyg2IlydpahnPp7u-1ZR821zlraPiQ@mail.gmail.com>
	<AANLkTikHofQubNJ4VGCQPKGNgufyzFENj8Kf4nmxii_k@mail.gmail.com>
	<AANLkTiktBAVn7nyKdBoXpziC_cstYbF6digUC5NOaNUL@mail.gmail.com>
	<AANLkTimRuhGIJWr4oGkctlZPsUpJgR5ZcYAj5QCWK9iI@mail.gmail.com>
Date: Mon, 28 Jun 2010 09:20:08 -0400
Message-ID: <AANLkTilxx_fvPOPQXVSt0KjroMlnJt110HYx1yYmDf4V@mail.gmail.com>
Subject: Re: A question regarding the setSlop method of class PhraseQuery 
	(Lucene version 3.0.1)
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00504502ae02d5312e048a16fa0f
X-Virus-Checked: Checked by ClamAV on apache.org

--00504502ae02d5312e048a16fa0f
Content-Type: text/plain; charset=ISO-8859-1

I think you're misunderstanding the intent of PhraseQueries and slop. Slop
is the number of intervening tokens that may exist between the words
you're looking for. However, all the words you're looking for MUST exist.
So,

<<< whenever the search phrase contains a word that don't
exist in the document, the search result will be empty >>>

is exactly how this is intended to work.

HTH
Erick


On Mon, Jun 28, 2010 at 9:09 AM, a peng <zhoudengpeng@gmail.com> wrote:

> Hi,
>
> My test result is that whenever the search phrase contains a word that
> don't
> exist in the document, the search result will be empty no matter how big
> the
> slop factor I set, seems this is a bug of Lucene, or it is work as design?
>
> 2010/6/28 tarun sapra <t.sapra97@gmail.com>
>
> > Hi ,
> >
> > I think I have been able to understand whats happening here...
> >
> > Indexed Content : "This is a test".
> > your search phrase : "This is a formal test"
> > your setting the slop factor 2 , now if your slop factor is 3 it should
> > work
> > because "is" and "a" are stop words thus the words "This" and "test" are
> 2
> > slop factor apart but in your search phrase "This is a formal test" the
> > words "This" and "test"  are 3 slop factor thats why it's nor working
> > now in search phrase "This is formal test" the words "This" and "test"
> are
> > 2
> > slop factor apart thats why this phrase is working.
> >
> >
> >
> > On Mon, Jun 28, 2010 at 11:37 AM, a peng <zhoudengpeng@gmail.com> wrote:
> >
> > > Hi,
> > >
> > > I am using StandardAnalyzer(Version.LUCENE_30);
> > >
> > > 2010/6/27 tarun sapra <t.sapra97@gmail.com>
> > >
> > > > which analyzer are you usin'?
> > > >
> > > >
> > > > On Sun, Jun 27, 2010 at 7:12 AM, a peng <zhoudengpeng@gmail.com>
> > wrote:
> > > >
> > > > > Hi,
> > > > >
> > > > > I know the indexed content contains the following text: "This is a
> > > test".
> > > > > And the search phrase I used is "This is a formal test", and then I
> > set
> > > > the
> > > > > slop of the PhraseQuery as 2 with setSlop(2), but I found that I
> can
> > > not
> > > > > get
> > > > > a search result. If I set the search phrase as "This is formal
> test",
> > > > then
> > > > > I
> > > > > can get the search result.
> > > > >
> > > > > So what is the problem here, thanks in advance.
> > > > >
> > > > >
> > > > > Attached is the Java doc for the setSlop method:
> > > > >
> > > > > public void *setSlop*(int s)
> > > > >
> > > > > Sets the number of other words permitted between words in query
> > phrase.
> > > > If
> > > > > zero, then this is an exact phrase search. For larger values this
> > works
> > > > > like
> > > > > a WITHIN or NEAR operator.
> > > > >
> > > > > The slop is in fact an edit-distance, where the units correspond to
> > > moves
> > > > > of
> > > > > terms in the query phrase out of position. For example, to switch
> the
> > > > order
> > > > > of two words requires two moves (the first move places the words
> atop
> > > one
> > > > > another), so to permit re-orderings of phrases, the slop must be at
> > > least
> > > > > two.
> > > > >
> > > > > More exact matches are scored higher than sloppier matches, thus
> > search
> > > > > results are sorted by exactness.
> > > > >
> > > > > The slop is zero by default, requiring exact matches.
> > > > >
> > > >
> > > >
> > > >
> > > > --
> > > > Thanks & Regards
> > > > Tarun Sapra
> > > >
> > >
> >
> >
> >
> > --
> > Thanks & Regards
> > Tarun Sapra
> >
>

--00504502ae02d5312e048a16fa0f--

From java-user-return-46557-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 28 15:33:07 2010
Return-Path: <java-user-return-46557-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22016 invoked from network); 28 Jun 2010 15:33:06 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 28 Jun 2010 15:33:06 -0000
Received: (qmail 83783 invoked by uid 500); 28 Jun 2010 15:33:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83730 invoked by uid 500); 28 Jun 2010 15:33:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83722 invoked by uid 99); 28 Jun 2010 15:33:03 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Jun 2010 15:33:03 +0000
X-ASF-Spam-Status: No, hits=4.4 required=10.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of t.sapra97@gmail.com designates 209.85.212.48 as permitted sender)
Received: from [209.85.212.48] (HELO mail-vw0-f48.google.com) (209.85.212.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Jun 2010 15:32:55 +0000
Received: by vws19 with SMTP id 19so129406vws.35
        for <java-user@lucene.apache.org>; Mon, 28 Jun 2010 08:32:34 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=errlCduNqjBuLtIJ11kyTKcuwC4h6IulhuGYe2lU3lA=;
        b=eE+A6XxaW0Fr7y9YNUKebHZK86VE+kbJTlGfh/nYp6I+Mh233Xv1QmvtmL/q9WUiO2
         s28By2JiK8mQBLwpAneNo+GzxSeR/Q/ljza3IkUZc3tp6WhqoQZ9BNy2595rTqlDWOn8
         a065fqE4r0+AEO3ODgqC9CI+wMlHakffwSAGI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=kAoNrTJ00pnVDjxdw3sbXi6o5INsXBNcmWcknFkUILk6opjcP61Y1D1Exkl2ei3+Go
         d+B8xgvMpRweLgpMuAwSy5094Rl5KtjaFTlfT50VzILJOqfTauGbzEW87f+bSssq0Hiv
         HBidzOsKe4nqo/ih1zl2Xob6FDJroYvHTDy/o=
MIME-Version: 1.0
Received: by 10.220.168.10 with SMTP id s10mr1280898vcy.50.1277739154668; Mon, 
	28 Jun 2010 08:32:34 -0700 (PDT)
Received: by 10.220.189.129 with HTTP; Mon, 28 Jun 2010 08:32:34 -0700 (PDT)
In-Reply-To: <AANLkTilxx_fvPOPQXVSt0KjroMlnJt110HYx1yYmDf4V@mail.gmail.com>
References: <AANLkTin56O-WuWzPCo-hTvathMxZb4dqTlOq7un6E2MW@mail.gmail.com>
	<AANLkTimDUh8pIuIyg2IlydpahnPp7u-1ZR821zlraPiQ@mail.gmail.com>
	<AANLkTikHofQubNJ4VGCQPKGNgufyzFENj8Kf4nmxii_k@mail.gmail.com>
	<AANLkTiktBAVn7nyKdBoXpziC_cstYbF6digUC5NOaNUL@mail.gmail.com>
	<AANLkTimRuhGIJWr4oGkctlZPsUpJgR5ZcYAj5QCWK9iI@mail.gmail.com>
	<AANLkTilxx_fvPOPQXVSt0KjroMlnJt110HYx1yYmDf4V@mail.gmail.com>
Date: Mon, 28 Jun 2010 08:32:34 -0700
Message-ID: <AANLkTinxN9uEFxO1cHMVDltcKpQKqajO1WuQwo5VpoMS@mail.gmail.com>
Subject: Re: A question regarding the setSlop method of class PhraseQuery 
	(Lucene version 3.0.1)
From: tarun sapra <t.sapra97@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016364eecce6dff04048a18d414
X-Virus-Checked: Checked by ClamAV on apache.org

--0016364eecce6dff04048a18d414
Content-Type: text/plain; charset=ISO-8859-1

Hey Erick

Thanks mate!

So I guess my explanation in the mail chain above was correct!

On Mon, Jun 28, 2010 at 6:20 AM, Erick Erickson <erickerickson@gmail.com>wrote:

> I think you're misunderstanding the intent of PhraseQueries and slop. Slop
> is the number of intervening tokens that may exist between the words
> you're looking for. However, all the words you're looking for MUST exist.
> So,
>
> <<< whenever the search phrase contains a word that don't
> exist in the document, the search result will be empty >>>
>
> is exactly how this is intended to work.
>
> HTH
> Erick
>
>
> On Mon, Jun 28, 2010 at 9:09 AM, a peng <zhoudengpeng@gmail.com> wrote:
>
> > Hi,
> >
> > My test result is that whenever the search phrase contains a word that
> > don't
> > exist in the document, the search result will be empty no matter how big
> > the
> > slop factor I set, seems this is a bug of Lucene, or it is work as
> design?
> >
> > 2010/6/28 tarun sapra <t.sapra97@gmail.com>
> >
> > > Hi ,
> > >
> > > I think I have been able to understand whats happening here...
> > >
> > > Indexed Content : "This is a test".
> > > your search phrase : "This is a formal test"
> > > your setting the slop factor 2 , now if your slop factor is 3 it should
> > > work
> > > because "is" and "a" are stop words thus the words "This" and "test"
> are
> > 2
> > > slop factor apart but in your search phrase "This is a formal test" the
> > > words "This" and "test"  are 3 slop factor thats why it's nor working
> > > now in search phrase "This is formal test" the words "This" and "test"
> > are
> > > 2
> > > slop factor apart thats why this phrase is working.
> > >
> > >
> > >
> > > On Mon, Jun 28, 2010 at 11:37 AM, a peng <zhoudengpeng@gmail.com>
> wrote:
> > >
> > > > Hi,
> > > >
> > > > I am using StandardAnalyzer(Version.LUCENE_30);
> > > >
> > > > 2010/6/27 tarun sapra <t.sapra97@gmail.com>
> > > >
> > > > > which analyzer are you usin'?
> > > > >
> > > > >
> > > > > On Sun, Jun 27, 2010 at 7:12 AM, a peng <zhoudengpeng@gmail.com>
> > > wrote:
> > > > >
> > > > > > Hi,
> > > > > >
> > > > > > I know the indexed content contains the following text: "This is
> a
> > > > test".
> > > > > > And the search phrase I used is "This is a formal test", and then
> I
> > > set
> > > > > the
> > > > > > slop of the PhraseQuery as 2 with setSlop(2), but I found that I
> > can
> > > > not
> > > > > > get
> > > > > > a search result. If I set the search phrase as "This is formal
> > test",
> > > > > then
> > > > > > I
> > > > > > can get the search result.
> > > > > >
> > > > > > So what is the problem here, thanks in advance.
> > > > > >
> > > > > >
> > > > > > Attached is the Java doc for the setSlop method:
> > > > > >
> > > > > > public void *setSlop*(int s)
> > > > > >
> > > > > > Sets the number of other words permitted between words in query
> > > phrase.
> > > > > If
> > > > > > zero, then this is an exact phrase search. For larger values this
> > > works
> > > > > > like
> > > > > > a WITHIN or NEAR operator.
> > > > > >
> > > > > > The slop is in fact an edit-distance, where the units correspond
> to
> > > > moves
> > > > > > of
> > > > > > terms in the query phrase out of position. For example, to switch
> > the
> > > > > order
> > > > > > of two words requires two moves (the first move places the words
> > atop
> > > > one
> > > > > > another), so to permit re-orderings of phrases, the slop must be
> at
> > > > least
> > > > > > two.
> > > > > >
> > > > > > More exact matches are scored higher than sloppier matches, thus
> > > search
> > > > > > results are sorted by exactness.
> > > > > >
> > > > > > The slop is zero by default, requiring exact matches.
> > > > > >
> > > > >
> > > > >
> > > > >
> > > > > --
> > > > > Thanks & Regards
> > > > > Tarun Sapra
> > > > >
> > > >
> > >
> > >
> > >
> > > --
> > > Thanks & Regards
> > > Tarun Sapra
> > >
> >
>



-- 
Thanks & Regards
Tarun Sapra

--0016364eecce6dff04048a18d414--

From java-user-return-46558-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 28 18:56:38 2010
Return-Path: <java-user-return-46558-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99190 invoked from network); 28 Jun 2010 18:56:38 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 28 Jun 2010 18:56:38 -0000
Received: (qmail 20932 invoked by uid 500); 28 Jun 2010 18:56:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20874 invoked by uid 500); 28 Jun 2010 18:56:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20866 invoked by uid 99); 28 Jun 2010 18:56:35 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Jun 2010 18:56:35 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of erickerickson@gmail.com designates 209.85.212.176 as permitted sender)
Received: from [209.85.212.176] (HELO mail-px0-f176.google.com) (209.85.212.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Jun 2010 18:56:26 +0000
Received: by pxi11 with SMTP id 11so594864pxi.35
        for <java-user@lucene.apache.org>; Mon, 28 Jun 2010 11:56:05 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=4+oU2CSC6bH00u7Ujtfg4s9wQ7w9AmgxN2hUvQFEyq8=;
        b=b5c+9WQsB9+SQ0KUdffHFey8OYKERdiXWNEFg3rxnZWb80tBd+gQ+Ujx1oy8ABhmNH
         XZP52cANRr4q/jy2udAwPOZMKw2oj/bhf0wa4L2j9uaBsroKU5yqhjOCqrMmvifHfDfx
         xdu8r364uCKHJprMUDGAPZkyRd/G7z9ks6e6c=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=ZY33EbaAtcwyNLXzWHGAzA2lnuYGtt5dqgE2+wA3YMvi5QjOXwRQ8J8ByXZIQP1b1d
         mJ+TlNTv/tJkC3hrP/Uyd+oa9zPffSjfCY3k1OrutXWid/cH1nDbH6iPGyRGYDtJf8z+
         reMvQ79oxAk5PQisF1N/sMAF0rZUTio5GFE3w=
MIME-Version: 1.0
Received: by 10.142.5.42 with SMTP id 42mr6339449wfe.272.1277751364936; Mon, 
	28 Jun 2010 11:56:04 -0700 (PDT)
Received: by 10.142.53.11 with HTTP; Mon, 28 Jun 2010 11:56:04 -0700 (PDT)
In-Reply-To: <AANLkTinxN9uEFxO1cHMVDltcKpQKqajO1WuQwo5VpoMS@mail.gmail.com>
References: <AANLkTin56O-WuWzPCo-hTvathMxZb4dqTlOq7un6E2MW@mail.gmail.com>
	<AANLkTimDUh8pIuIyg2IlydpahnPp7u-1ZR821zlraPiQ@mail.gmail.com>
	<AANLkTikHofQubNJ4VGCQPKGNgufyzFENj8Kf4nmxii_k@mail.gmail.com>
	<AANLkTiktBAVn7nyKdBoXpziC_cstYbF6digUC5NOaNUL@mail.gmail.com>
	<AANLkTimRuhGIJWr4oGkctlZPsUpJgR5ZcYAj5QCWK9iI@mail.gmail.com>
	<AANLkTilxx_fvPOPQXVSt0KjroMlnJt110HYx1yYmDf4V@mail.gmail.com>
	<AANLkTinxN9uEFxO1cHMVDltcKpQKqajO1WuQwo5VpoMS@mail.gmail.com>
Date: Mon, 28 Jun 2010 14:56:04 -0400
Message-ID: <AANLkTikMSHEV_Q0yIrtWM-Q0Yoadu1TflOV_WFqmOcoV@mail.gmail.com>
Subject: Re: A question regarding the setSlop method of class PhraseQuery 
	(Lucene version 3.0.1)
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00504502b1d637e2f9048a1bac90
X-Virus-Checked: Checked by ClamAV on apache.org

--00504502b1d637e2f9048a1bac90
Content-Type: text/plain; charset=ISO-8859-1

No, I don't think so. The critical bit is that the indexed text
does NOT contain the word "formal".  So searching for
any phrase that DOES contain "formal" should fail no matter
what the slop.

Phrase queries are something like "find all the words in this
search string, ignoring some number of intervening tokens not in the
search string". There's nothing in there about "find only some of the
words in the search string"....

I'm guessing that the original post had a typo in the success case,
because it's contradicted by "a peng's" second post. It's always
possible that I'm experiencing a brain short......

Best
Erick

On Mon, Jun 28, 2010 at 11:32 AM, tarun sapra <t.sapra97@gmail.com> wrote:

> Hey Erick
>
> Thanks mate!
>
> So I guess my explanation in the mail chain above was correct!
>
> On Mon, Jun 28, 2010 at 6:20 AM, Erick Erickson <erickerickson@gmail.com
> >wrote:
>
> > I think you're misunderstanding the intent of PhraseQueries and slop.
> Slop
> > is the number of intervening tokens that may exist between the words
> > you're looking for. However, all the words you're looking for MUST exist.
> > So,
> >
> > <<< whenever the search phrase contains a word that don't
> > exist in the document, the search result will be empty >>>
> >
> > is exactly how this is intended to work.
> >
> > HTH
> > Erick
> >
> >
> > On Mon, Jun 28, 2010 at 9:09 AM, a peng <zhoudengpeng@gmail.com> wrote:
> >
> > > Hi,
> > >
> > > My test result is that whenever the search phrase contains a word that
> > > don't
> > > exist in the document, the search result will be empty no matter how
> big
> > > the
> > > slop factor I set, seems this is a bug of Lucene, or it is work as
> > design?
> > >
> > > 2010/6/28 tarun sapra <t.sapra97@gmail.com>
> > >
> > > > Hi ,
> > > >
> > > > I think I have been able to understand whats happening here...
> > > >
> > > > Indexed Content : "This is a test".
> > > > your search phrase : "This is a formal test"
> > > > your setting the slop factor 2 , now if your slop factor is 3 it
> should
> > > > work
> > > > because "is" and "a" are stop words thus the words "This" and "test"
> > are
> > > 2
> > > > slop factor apart but in your search phrase "This is a formal test"
> the
> > > > words "This" and "test"  are 3 slop factor thats why it's nor working
> > > > now in search phrase "This is formal test" the words "This" and
> "test"
> > > are
> > > > 2
> > > > slop factor apart thats why this phrase is working.
> > > >
> > > >
> > > >
> > > > On Mon, Jun 28, 2010 at 11:37 AM, a peng <zhoudengpeng@gmail.com>
> > wrote:
> > > >
> > > > > Hi,
> > > > >
> > > > > I am using StandardAnalyzer(Version.LUCENE_30);
> > > > >
> > > > > 2010/6/27 tarun sapra <t.sapra97@gmail.com>
> > > > >
> > > > > > which analyzer are you usin'?
> > > > > >
> > > > > >
> > > > > > On Sun, Jun 27, 2010 at 7:12 AM, a peng <zhoudengpeng@gmail.com>
> > > > wrote:
> > > > > >
> > > > > > > Hi,
> > > > > > >
> > > > > > > I know the indexed content contains the following text: "This
> is
> > a
> > > > > test".
> > > > > > > And the search phrase I used is "This is a formal test", and
> then
> > I
> > > > set
> > > > > > the
> > > > > > > slop of the PhraseQuery as 2 with setSlop(2), but I found that
> I
> > > can
> > > > > not
> > > > > > > get
> > > > > > > a search result. If I set the search phrase as "This is formal
> > > test",
> > > > > > then
> > > > > > > I
> > > > > > > can get the search result.
> > > > > > >
> > > > > > > So what is the problem here, thanks in advance.
> > > > > > >
> > > > > > >
> > > > > > > Attached is the Java doc for the setSlop method:
> > > > > > >
> > > > > > > public void *setSlop*(int s)
> > > > > > >
> > > > > > > Sets the number of other words permitted between words in query
> > > > phrase.
> > > > > > If
> > > > > > > zero, then this is an exact phrase search. For larger values
> this
> > > > works
> > > > > > > like
> > > > > > > a WITHIN or NEAR operator.
> > > > > > >
> > > > > > > The slop is in fact an edit-distance, where the units
> correspond
> > to
> > > > > moves
> > > > > > > of
> > > > > > > terms in the query phrase out of position. For example, to
> switch
> > > the
> > > > > > order
> > > > > > > of two words requires two moves (the first move places the
> words
> > > atop
> > > > > one
> > > > > > > another), so to permit re-orderings of phrases, the slop must
> be
> > at
> > > > > least
> > > > > > > two.
> > > > > > >
> > > > > > > More exact matches are scored higher than sloppier matches,
> thus
> > > > search
> > > > > > > results are sorted by exactness.
> > > > > > >
> > > > > > > The slop is zero by default, requiring exact matches.
> > > > > > >
> > > > > >
> > > > > >
> > > > > >
> > > > > > --
> > > > > > Thanks & Regards
> > > > > > Tarun Sapra
> > > > > >
> > > > >
> > > >
> > > >
> > > >
> > > > --
> > > > Thanks & Regards
> > > > Tarun Sapra
> > > >
> > >
> >
>
>
>
> --
> Thanks & Regards
> Tarun Sapra
>

--00504502b1d637e2f9048a1bac90--

From java-user-return-46559-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 28 20:08:16 2010
Return-Path: <java-user-return-46559-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40346 invoked from network); 28 Jun 2010 20:08:16 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 28 Jun 2010 20:08:16 -0000
Received: (qmail 23745 invoked by uid 500); 28 Jun 2010 20:08:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23559 invoked by uid 500); 28 Jun 2010 20:08:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23551 invoked by uid 99); 28 Jun 2010 20:08:13 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Jun 2010 20:08:13 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of baleksan@gmail.com designates 209.85.160.48 as permitted sender)
Received: from [209.85.160.48] (HELO mail-pw0-f48.google.com) (209.85.160.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Jun 2010 20:08:05 +0000
Received: by pwj5 with SMTP id 5so6055272pwj.35
        for <java-user@lucene.apache.org>; Mon, 28 Jun 2010 13:06:44 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:from:date
         :message-id:subject:to:content-type;
        bh=Y5N9pbOIejnELi/VKJecOuB9ig3op+b6v7vdaFZCfAc=;
        b=ngSvOxzIl2YaAH9++0IV9HQayQBteaP93cQwPTCZu0yzPnN4BvYw+XF5w1bWywwFJG
         jQ9dS5ss92b5lREA/y9FnRsU1uorZSamhguoaD2y/ZFka77ey5ZTL2+HtQCWwT4Wryln
         Mo22UJ87TBSyrUU44vnCPDw89e/+KebjysSnY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:from:date:message-id:subject:to:content-type;
        b=tHZ17kkf0JENlCnLIEj4B0gYfvgc5EHEvneKXGfwJdMFzI+4ZYRoZ3RMGKRHu/6WzM
         PDJb7xIrtXNu+JIpho2kUwuoOfWTQ/+by+O/WJ+5rX1DvK1yi9zbMPALWkN/Deb0WxUx
         QOxPKWYV1cguX+fCL9dIsdXwNu2aAdZ7BmjIc=
Received: by 10.115.38.22 with SMTP id q22mr6118684waj.41.1277755604398; Mon, 
	28 Jun 2010 13:06:44 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.42.5.8 with HTTP; Mon, 28 Jun 2010 13:06:24 -0700 (PDT)
From: Boris Aleksandrovsky <baleksan@gmail.com>
Date: Mon, 28 Jun 2010 13:06:24 -0700
Message-ID: <AANLkTim3nwLxtSCGxvOrJ3EX4dIIxFyBBjczNsXbTxys@mail.gmail.com>
Subject: header/footer identification and general scaping tools
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e64c24ace8f328048a1ca8d1
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e64c24ace8f328048a1ca8d1
Content-Type: text/plain; charset=ISO-8859-1

I was wondering if any of you know of any open-source solutions for general
issues which arise in web crawling - how do you remove
headers/footers/javascript and generally cleanup html of a web-page before
indexing? We have a first-pass solution implemented using custom code, but
this must be a problem which a lot of people face, so I am asking here.

Thanks,
Boris

--0016e64c24ace8f328048a1ca8d1--

From java-user-return-46560-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 28 20:33:13 2010
Return-Path: <java-user-return-46560-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45809 invoked from network); 28 Jun 2010 20:33:13 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 28 Jun 2010 20:33:13 -0000
Received: (qmail 55330 invoked by uid 500); 28 Jun 2010 20:33:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55276 invoked by uid 500); 28 Jun 2010 20:33:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55268 invoked by uid 99); 28 Jun 2010 20:33:10 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Jun 2010 20:33:10 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of shashi.mit@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Jun 2010 20:33:04 +0000
Received: by fxm16 with SMTP id 16so686050fxm.35
        for <java-user@lucene.apache.org>; Mon, 28 Jun 2010 13:31:43 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:sender:received
         :in-reply-to:references:from:date:x-google-sender-auth:message-id
         :subject:to:content-type;
        bh=Qsa5ZXKZu0r2p4yQ3phAMEJw1uUqxM5VapRzstW0480=;
        b=vbtg2P7cvBB1i+m36uLFolfuzeZ3H147pwspzd2icvzodEtnGjnWvqMmdnnc0hPGCR
         dOgNFoMxU8QRhFa37pE8/mv404IVdo5vkn2k46PcBDLgRidYF5zFfBEmdLrooKzYAnU3
         jkSzaDLlDQ5coZ2q8/TZdRMKJWGQTRjni9NSY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:in-reply-to:references:from:date
         :x-google-sender-auth:message-id:subject:to:content-type;
        b=aEW5kz+/QCYT+qdvF1io4+6l0wD2CzLo9mhVF7gqx2yAs65W3bowh3Yn224kL1e3UX
         mVIcLynruzqU/kbHZNBj7/qzaTNIBbaWXNDrunTtE7QqfqrExLHFpwrWzfpgN5DpYz3a
         qDFyoGJgwtPJ9xS7CacY8M4ValCvsIjdjOCUY=
Received: by 10.223.92.153 with SMTP id r25mr4531471fam.76.1277757103257; Mon, 
	28 Jun 2010 13:31:43 -0700 (PDT)
MIME-Version: 1.0
Sender: shashi.mit@gmail.com
Received: by 10.223.124.3 with HTTP; Mon, 28 Jun 2010 13:31:23 -0700 (PDT)
In-Reply-To: <AANLkTim3nwLxtSCGxvOrJ3EX4dIIxFyBBjczNsXbTxys@mail.gmail.com>
References: <AANLkTim3nwLxtSCGxvOrJ3EX4dIIxFyBBjczNsXbTxys@mail.gmail.com>
From: Shashi Kant <skant@sloan.mit.edu>
Date: Mon, 28 Jun 2010 16:31:23 -0400
X-Google-Sender-Auth: 1s5D4z9n-KuDjVfxMLYLxSP0dG0
Message-ID: <AANLkTil9lkIpaljfug8jQc6aoLNx4APDtDz6STIlXapZ@mail.gmail.com>
Subject: Re: header/footer identification and general scaping tools
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

I have used TagSoup to parse the HTML and get the elements of interest.
http://ccil.org/~cowan/XML/tagsoup/



On Mon, Jun 28, 2010 at 4:06 PM, Boris Aleksandrovsky
<baleksan@gmail.com> wrote:
> I was wondering if any of you know of any open-source solutions for general
> issues which arise in web crawling - how do you remove
> headers/footers/javascript and generally cleanup html of a web-page before
> indexing? We have a first-pass solution implemented using custom code, but
> this must be a problem which a lot of people face, so I am asking here.
>
> Thanks,
> Boris
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46561-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 28 20:50:21 2010
Return-Path: <java-user-return-46561-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56960 invoked from network); 28 Jun 2010 20:50:20 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 28 Jun 2010 20:50:20 -0000
Received: (qmail 87689 invoked by uid 500); 28 Jun 2010 20:50:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87520 invoked by uid 500); 28 Jun 2010 20:50:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87512 invoked by uid 99); 28 Jun 2010 20:50:18 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Jun 2010 20:50:18 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of baleksan@gmail.com designates 74.125.83.176 as permitted sender)
Received: from [74.125.83.176] (HELO mail-pv0-f176.google.com) (74.125.83.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Jun 2010 20:50:11 +0000
Received: by pvh1 with SMTP id 1so510638pvh.35
        for <java-user@lucene.apache.org>; Mon, 28 Jun 2010 13:48:50 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type;
        bh=fIVY0t5xovPEIRprmHa7lSuE1EQak9kCL75bp+bVGbA=;
        b=DAGf/NW1T48CTvPy6ok2kLSa3vY7dAcqNwpAae+Q/I8ZSzQiZ+cJZlftvgbjacdZrl
         hL1NSjOUGj5uZ5vlNkwxUaoyJ9Yow560E7ogHw2XcqqMiJ8viQkCz7Cky2KjLfH+YNSx
         i34/5r5MC8SeWPMuRqOXvqXZbqiO6rtnRPatE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=vO4DLsKUJrE8TyMM4BxNDvfdjmqfOSH3mF11qsTuf9WLq2dYmL5SfsSNzB7hmX6wAP
         NYs3R8l4SHmT0E/Bvj+mYDCZa3zgYjCsrhc63QeneEuE13L6DijABVpZcAoTvR1GxNNt
         g8QzPFaa//g+2Ym+OdA5IikF5HoXU4ZT9KFEs=
Received: by 10.143.86.3 with SMTP id o3mr6510161wfl.182.1277758129315; Mon, 
	28 Jun 2010 13:48:49 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.42.5.8 with HTTP; Mon, 28 Jun 2010 13:48:29 -0700 (PDT)
In-Reply-To: <AANLkTil9lkIpaljfug8jQc6aoLNx4APDtDz6STIlXapZ@mail.gmail.com>
References: <AANLkTim3nwLxtSCGxvOrJ3EX4dIIxFyBBjczNsXbTxys@mail.gmail.com> 
	<AANLkTil9lkIpaljfug8jQc6aoLNx4APDtDz6STIlXapZ@mail.gmail.com>
From: Boris Aleksandrovsky <baleksan@gmail.com>
Date: Mon, 28 Jun 2010 13:48:29 -0700
Message-ID: <AANLkTinnfQlLyjPg8-Wgq_C8HWJvK8UEP7E0Aa1skLjo@mail.gmail.com>
Subject: Re: header/footer identification and general scaping tools
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=000e0cd5cda0681f28048a1d3f4e
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd5cda0681f28048a1d3f4e
Content-Type: text/plain; charset=ISO-8859-1

Thanks, Sashi, I am asking more about a general library which will remove
those HTML element which are unwanted/useless for indexing. For instance, we
are using a general method to remove headers by comparing the structure of
HTML on the top-level document from the site (e.g. www.nytimes.com) and the
page being crawled (which happens to be further down in the hierarchy).
Generally the difference will be the header or the footer. Is there a
library out there which contains a collection of hacks like that?

On Mon, Jun 28, 2010 at 1:31 PM, Shashi Kant <skant@sloan.mit.edu> wrote:

> I have used TagSoup to parse the HTML and get the elements of interest.
> http://ccil.org/~cowan/XML/tagsoup/
>
>
>
> On Mon, Jun 28, 2010 at 4:06 PM, Boris Aleksandrovsky
> <baleksan@gmail.com> wrote:
> > I was wondering if any of you know of any open-source solutions for
> general
> > issues which arise in web crawling - how do you remove
> > headers/footers/javascript and generally cleanup html of a web-page
> before
> > indexing? We have a first-pass solution implemented using custom code,
> but
> > this must be a problem which a lot of people face, so I am asking here.
> >
> > Thanks,
> > Boris
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--000e0cd5cda0681f28048a1d3f4e--

From java-user-return-46562-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 28 20:58:02 2010
Return-Path: <java-user-return-46562-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62671 invoked from network); 28 Jun 2010 20:58:02 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 28 Jun 2010 20:58:02 -0000
Received: (qmail 6693 invoked by uid 500); 28 Jun 2010 20:58:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6597 invoked by uid 500); 28 Jun 2010 20:57:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6589 invoked by uid 99); 28 Jun 2010 20:57:59 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Jun 2010 20:57:59 +0000
X-ASF-Spam-Status: No, hits=2.8 required=10.0
	tests=FREEMAIL_FROM,FREEMAIL_REPLYTO,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of simon.willnauer@googlemail.com designates 72.14.220.152 as permitted sender)
Received: from [72.14.220.152] (HELO fg-out-1718.google.com) (72.14.220.152)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Jun 2010 20:57:53 +0000
Received: by fg-out-1718.google.com with SMTP id d23so336071fga.5
        for <java-user@lucene.apache.org>; Mon, 28 Jun 2010 13:56:44 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:reply-to
         :in-reply-to:references:date:message-id:subject:from:to:content-type;
        bh=QymBJJbktOe5xbsc0qMllTGyH7OoiGQrN0i+8KDXxCo=;
        b=pwYXY1wQMhQ5wetC7HF4xm4eIT2cWXUCgxoZ/QVE/1Undwmkd8HWb33O1qjW0VB8PY
         cLcqLjOjgtqNxWH36xljjMv0Cvv1NUYhDEFRetKwax30aSRklKVPVp1FQjRzq01vdkNQ
         KngG9N5DjyEv214dHkOucGp5EAuRDlFwwyKlE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=mime-version:reply-to:in-reply-to:references:date:message-id
         :subject:from:to:content-type;
        b=FiRcZNEPwu7wfJmP8seENlXHtf+KZIqaPudDqr7IKiU44nTrmDaF+C9a9JKnquCYZg
         TNU/PX2fhNTRsQKTaIHjAtbT76TDt2XuEtby1cV7UMrxDr62vAe6nF8Pra6qRvioV/2c
         PplHeh6mMufAYPbOuIdBeqQTEbumZLqa6P5yk=
MIME-Version: 1.0
Received: by 10.239.177.77 with SMTP id u13mr346836hbf.26.1277758604235; Mon, 
	28 Jun 2010 13:56:44 -0700 (PDT)
Received: by 10.239.152.68 with HTTP; Mon, 28 Jun 2010 13:56:44 -0700 (PDT)
Reply-To: simon.willnauer@gmail.com
In-Reply-To: <AANLkTinnfQlLyjPg8-Wgq_C8HWJvK8UEP7E0Aa1skLjo@mail.gmail.com>
References: <AANLkTim3nwLxtSCGxvOrJ3EX4dIIxFyBBjczNsXbTxys@mail.gmail.com>
	<AANLkTil9lkIpaljfug8jQc6aoLNx4APDtDz6STIlXapZ@mail.gmail.com>
	<AANLkTinnfQlLyjPg8-Wgq_C8HWJvK8UEP7E0Aa1skLjo@mail.gmail.com>
Date: Mon, 28 Jun 2010 22:56:44 +0200
Message-ID: <AANLkTimVwAiPxr_HCnES623Hyi-cU7xEeltqv4HWkBoc@mail.gmail.com>
Subject: Re: header/footer identification and general scaping tools
From: Simon Willnauer <simon.willnauer@googlemail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

Boris, you might wanna look at http://code.google.com/p/boilerpipe/

simon

On Mon, Jun 28, 2010 at 10:48 PM, Boris Aleksandrovsky
<baleksan@gmail.com> wrote:
> Thanks, Sashi, I am asking more about a general library which will remove
> those HTML element which are unwanted/useless for indexing. For instance, we
> are using a general method to remove headers by comparing the structure of
> HTML on the top-level document from the site (e.g. www.nytimes.com) and the
> page being crawled (which happens to be further down in the hierarchy).
> Generally the difference will be the header or the footer. Is there a
> library out there which contains a collection of hacks like that?
>
> On Mon, Jun 28, 2010 at 1:31 PM, Shashi Kant <skant@sloan.mit.edu> wrote:
>
>> I have used TagSoup to parse the HTML and get the elements of interest.
>> http://ccil.org/~cowan/XML/tagsoup/
>>
>>
>>
>> On Mon, Jun 28, 2010 at 4:06 PM, Boris Aleksandrovsky
>> <baleksan@gmail.com> wrote:
>> > I was wondering if any of you know of any open-source solutions for
>> general
>> > issues which arise in web crawling - how do you remove
>> > headers/footers/javascript and generally cleanup html of a web-page
>> before
>> > indexing? We have a first-pass solution implemented using custom code,
>> but
>> > this must be a problem which a lot of people face, so I am asking here.
>> >
>> > Thanks,
>> > Boris
>> >
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46563-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jun 28 20:59:21 2010
Return-Path: <java-user-return-46563-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63562 invoked from network); 28 Jun 2010 20:59:21 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 28 Jun 2010 20:59:21 -0000
Received: (qmail 11899 invoked by uid 500); 28 Jun 2010 20:59:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11800 invoked by uid 500); 28 Jun 2010 20:59:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11790 invoked by uid 99); 28 Jun 2010 20:59:18 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Jun 2010 20:59:18 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [188.121.53.2] (HELO n1plout04-02.prod.ams1.secureserver.net) (188.121.53.2)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 28 Jun 2010 20:59:10 +0000
Received: (qmail 29631 invoked from network); 28 Jun 2010 20:57:48 -0000
Received: from unknown (109.253.169.10)
  by n1plout04-02.prod.ams1.secureserver.net (188.121.53.2) with ESMTP; 28 Jun 2010 20:57:26 -0000
Message-ID: <4C290CAD.2030408@code972.com>
Date: Mon, 28 Jun 2010 23:57:17 +0300
From: Itamar Syn-Hershko <itamar@code972.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.1.10) Gecko/20100512 Lightning/1.0b1 Thunderbird/3.0.5
MIME-Version: 1.0
To: java-user@lucene.apache.org, general@lucene.apache.org
Subject: Lucene In Action free chapter on CLucene
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,


Just to let everyone know Manning have released an extra chapter from 
the excellent LIA 2E book, discussing CLucene - the C++ port of Lucene. 
It is available for free at 
http://www.code972.com/blog/2010/06/lucene-in-action-free-chapter-coupon-code/.


35% discount for CLucene users is available as well.


Thank you Mike, Eric and Otis for a great book!

Itamar.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46564-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 29 01:58:48 2010
Return-Path: <java-user-return-46564-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72143 invoked from network); 29 Jun 2010 01:58:48 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 29 Jun 2010 01:58:48 -0000
Received: (qmail 93328 invoked by uid 500); 29 Jun 2010 01:58:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93144 invoked by uid 500); 29 Jun 2010 01:58:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93136 invoked by uid 99); 29 Jun 2010 01:58:45 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Jun 2010 01:58:45 +0000
X-ASF-Spam-Status: No, hits=4.7 required=10.0
	tests=FREEMAIL_FROM,FREEMAIL_REPLY,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of zhoudengpeng@gmail.com designates 74.125.83.176 as permitted sender)
Received: from [74.125.83.176] (HELO mail-pv0-f176.google.com) (74.125.83.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Jun 2010 01:58:37 +0000
Received: by pvh1 with SMTP id 1so703342pvh.35
        for <java-user@lucene.apache.org>; Mon, 28 Jun 2010 18:57:15 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=97ynBGBHjIjOWd6mnO+PSd37FhIEQ5zWnPYv0SL6vSk=;
        b=uIHTLqJP7rYgCnSSIbwpW+cR5W7Vfx+w/OO/iPXoQCIKU9TDSYx526Qlmv36AI1OkS
         lvLABGA3Mhry+kzWa//T7bp84eszrHv5bE9q1EZZD0VF76Kde9NjaoJOK/+KlJBvz2Ba
         Pe+WtlPZby31xl81W+ykCSfvts7fgRMuXLHAI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=sSa12Y8BgJ9wXhOfHX7v9bUEGXS9L9P004MKgOw6QG086IXtQX4ijjJZboX7D0XRQX
         kxn1uf4YeMzui8kBRIbVoIUcmNuc5G1ZFop6RXcdrY3Gcw61XaTbXY+rd2ISn/21pITl
         SQQUW6RE/Jc/FSWAbLmGry+9nLhT3ug5ODj/U=
MIME-Version: 1.0
Received: by 10.143.137.1 with SMTP id p1mr6810391wfn.97.1277776635194; Mon, 
	28 Jun 2010 18:57:15 -0700 (PDT)
Received: by 10.142.194.7 with HTTP; Mon, 28 Jun 2010 18:57:15 -0700 (PDT)
In-Reply-To: <AANLkTikMSHEV_Q0yIrtWM-Q0Yoadu1TflOV_WFqmOcoV@mail.gmail.com>
References: <AANLkTin56O-WuWzPCo-hTvathMxZb4dqTlOq7un6E2MW@mail.gmail.com>
	<AANLkTimDUh8pIuIyg2IlydpahnPp7u-1ZR821zlraPiQ@mail.gmail.com>
	<AANLkTikHofQubNJ4VGCQPKGNgufyzFENj8Kf4nmxii_k@mail.gmail.com>
	<AANLkTiktBAVn7nyKdBoXpziC_cstYbF6digUC5NOaNUL@mail.gmail.com>
	<AANLkTimRuhGIJWr4oGkctlZPsUpJgR5ZcYAj5QCWK9iI@mail.gmail.com>
	<AANLkTilxx_fvPOPQXVSt0KjroMlnJt110HYx1yYmDf4V@mail.gmail.com>
	<AANLkTinxN9uEFxO1cHMVDltcKpQKqajO1WuQwo5VpoMS@mail.gmail.com>
	<AANLkTikMSHEV_Q0yIrtWM-Q0Yoadu1TflOV_WFqmOcoV@mail.gmail.com>
Date: Tue, 29 Jun 2010 09:57:15 +0800
Message-ID: <AANLkTilh0vaVDUs8ubGpBAJfFNX97LGhvnZ3B8RvqoRP@mail.gmail.com>
Subject: Re: A question regarding the setSlop method of class PhraseQuery 
	(Lucene version 3.0.1)
From: a peng <zhoudengpeng@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=000e0cd72dda716f3e048a218ef8
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd72dda716f3e048a218ef8
Content-Type: text/plain; charset=ISO-8859-1

Hi Erick,

Thanks for you reply, now I get the point why I can not get the search
result. But can you guide me how can I use Lucene to implement the following
search feature:
Basically we can call this feature "fuzzy phrase search", which means the
search phrase may contains more words or less words compared to the
sentences indexed in the document. Again I want to use the sample I posted
to demo it:

The document contains a sentence "This is a test", and the search phrase is
"This is a formal test", as there is only one word difference between the
two sentences, how can I get the "This is a test" phrase as the search
result?

Thanks.



2010/6/29 Erick Erickson <erickerickson@gmail.com>

> No, I don't think so. The critical bit is that the indexed text
> does NOT contain the word "formal".  So searching for
> any phrase that DOES contain "formal" should fail no matter
> what the slop.
>
> Phrase queries are something like "find all the words in this
> search string, ignoring some number of intervening tokens not in the
> search string". There's nothing in there about "find only some of the
> words in the search string"....
>
> I'm guessing that the original post had a typo in the success case,
> because it's contradicted by "a peng's" second post. It's always
> possible that I'm experiencing a brain short......
>
> Best
> Erick
>
> On Mon, Jun 28, 2010 at 11:32 AM, tarun sapra <t.sapra97@gmail.com> wrote:
>
> > Hey Erick
> >
> > Thanks mate!
> >
> > So I guess my explanation in the mail chain above was correct!
> >
> > On Mon, Jun 28, 2010 at 6:20 AM, Erick Erickson <erickerickson@gmail.com
> > >wrote:
> >
> > > I think you're misunderstanding the intent of PhraseQueries and slop.
> > Slop
> > > is the number of intervening tokens that may exist between the words
> > > you're looking for. However, all the words you're looking for MUST
> exist.
> > > So,
> > >
> > > <<< whenever the search phrase contains a word that don't
> > > exist in the document, the search result will be empty >>>
> > >
> > > is exactly how this is intended to work.
> > >
> > > HTH
> > > Erick
> > >
> > >
> > > On Mon, Jun 28, 2010 at 9:09 AM, a peng <zhoudengpeng@gmail.com>
> wrote:
> > >
> > > > Hi,
> > > >
> > > > My test result is that whenever the search phrase contains a word
> that
> > > > don't
> > > > exist in the document, the search result will be empty no matter how
> > big
> > > > the
> > > > slop factor I set, seems this is a bug of Lucene, or it is work as
> > > design?
> > > >
> > > > 2010/6/28 tarun sapra <t.sapra97@gmail.com>
> > > >
> > > > > Hi ,
> > > > >
> > > > > I think I have been able to understand whats happening here...
> > > > >
> > > > > Indexed Content : "This is a test".
> > > > > your search phrase : "This is a formal test"
> > > > > your setting the slop factor 2 , now if your slop factor is 3 it
> > should
> > > > > work
> > > > > because "is" and "a" are stop words thus the words "This" and
> "test"
> > > are
> > > > 2
> > > > > slop factor apart but in your search phrase "This is a formal test"
> > the
> > > > > words "This" and "test"  are 3 slop factor thats why it's nor
> working
> > > > > now in search phrase "This is formal test" the words "This" and
> > "test"
> > > > are
> > > > > 2
> > > > > slop factor apart thats why this phrase is working.
> > > > >
> > > > >
> > > > >
> > > > > On Mon, Jun 28, 2010 at 11:37 AM, a peng <zhoudengpeng@gmail.com>
> > > wrote:
> > > > >
> > > > > > Hi,
> > > > > >
> > > > > > I am using StandardAnalyzer(Version.LUCENE_30);
> > > > > >
> > > > > > 2010/6/27 tarun sapra <t.sapra97@gmail.com>
> > > > > >
> > > > > > > which analyzer are you usin'?
> > > > > > >
> > > > > > >
> > > > > > > On Sun, Jun 27, 2010 at 7:12 AM, a peng <
> zhoudengpeng@gmail.com>
> > > > > wrote:
> > > > > > >
> > > > > > > > Hi,
> > > > > > > >
> > > > > > > > I know the indexed content contains the following text: "This
> > is
> > > a
> > > > > > test".
> > > > > > > > And the search phrase I used is "This is a formal test", and
> > then
> > > I
> > > > > set
> > > > > > > the
> > > > > > > > slop of the PhraseQuery as 2 with setSlop(2), but I found
> that
> > I
> > > > can
> > > > > > not
> > > > > > > > get
> > > > > > > > a search result. If I set the search phrase as "This is
> formal
> > > > test",
> > > > > > > then
> > > > > > > > I
> > > > > > > > can get the search result.
> > > > > > > >
> > > > > > > > So what is the problem here, thanks in advance.
> > > > > > > >
> > > > > > > >
> > > > > > > > Attached is the Java doc for the setSlop method:
> > > > > > > >
> > > > > > > > public void *setSlop*(int s)
> > > > > > > >
> > > > > > > > Sets the number of other words permitted between words in
> query
> > > > > phrase.
> > > > > > > If
> > > > > > > > zero, then this is an exact phrase search. For larger values
> > this
> > > > > works
> > > > > > > > like
> > > > > > > > a WITHIN or NEAR operator.
> > > > > > > >
> > > > > > > > The slop is in fact an edit-distance, where the units
> > correspond
> > > to
> > > > > > moves
> > > > > > > > of
> > > > > > > > terms in the query phrase out of position. For example, to
> > switch
> > > > the
> > > > > > > order
> > > > > > > > of two words requires two moves (the first move places the
> > words
> > > > atop
> > > > > > one
> > > > > > > > another), so to permit re-orderings of phrases, the slop must
> > be
> > > at
> > > > > > least
> > > > > > > > two.
> > > > > > > >
> > > > > > > > More exact matches are scored higher than sloppier matches,
> > thus
> > > > > search
> > > > > > > > results are sorted by exactness.
> > > > > > > >
> > > > > > > > The slop is zero by default, requiring exact matches.
> > > > > > > >
> > > > > > >
> > > > > > >
> > > > > > >
> > > > > > > --
> > > > > > > Thanks & Regards
> > > > > > > Tarun Sapra
> > > > > > >
> > > > > >
> > > > >
> > > > >
> > > > >
> > > > > --
> > > > > Thanks & Regards
> > > > > Tarun Sapra
> > > > >
> > > >
> > >
> >
> >
> >
> > --
> > Thanks & Regards
> > Tarun Sapra
> >
>

--000e0cd72dda716f3e048a218ef8--

From java-user-return-46565-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 29 07:32:59 2010
Return-Path: <java-user-return-46565-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54833 invoked from network); 29 Jun 2010 07:32:59 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 29 Jun 2010 07:32:59 -0000
Received: (qmail 91768 invoked by uid 500); 29 Jun 2010 07:32:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91429 invoked by uid 500); 29 Jun 2010 07:32:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91421 invoked by uid 99); 29 Jun 2010 07:32:53 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Jun 2010 07:32:53 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of oren.liat@gmail.com designates 74.125.82.176 as permitted sender)
Received: from [74.125.82.176] (HELO mail-wy0-f176.google.com) (74.125.82.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Jun 2010 07:32:45 +0000
Received: by wyb29 with SMTP id 29so5562469wyb.35
        for <java-user@lucene.apache.org>; Tue, 29 Jun 2010 00:32:25 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:date:message-id
         :subject:from:to:content-type;
        bh=v+fvdDxwNN2Po4Ufj4EvNNgsz5zxk4wXe87HKF/gvy0=;
        b=XbvuFHYC1V2Gratuoo91f5BhFnZWs3RrIKCR3DczKQgpmpvbiYrUwDdIxAmEwCjeDh
         hv/MWbNKBOuLxlEDyM770b+9jSMB3ONFCnFr5Nqs+TV3DlQ8u/AGPyf3JYcHdhabNRbn
         5mM2zkJqGWjG8hBi2Jd+mYvALawtH35z761m4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=UatV3ReIyYRhAXP0A9hw1P3otk1LuCR7IpHbJF1IGl3KlgPtR1iqqQ68NuflSg30ky
         JAfRcH7z7JMOU2BgZKTvY+35W3NRxesNPJyFBg+i1+tE46Cx1f0ppDAr2mwDb/8EpG7h
         TEl/q/ArXn39qxkLfFanBQr4JuvBk7+kEYtUQ=
MIME-Version: 1.0
Received: by 10.216.91.15 with SMTP id g15mr4737499wef.15.1277796744923; Tue, 
	29 Jun 2010 00:32:24 -0700 (PDT)
Received: by 10.216.6.206 with HTTP; Tue, 29 Jun 2010 00:32:24 -0700 (PDT)
Date: Tue, 29 Jun 2010 10:32:24 +0300
Message-ID: <AANLkTikdJjrX9_rBQm8m6TLG_J1hkclPO8PkWf2EE6C6@mail.gmail.com>
Subject: Date Fields
From: liat oren <oren.liat@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e6d566ad1391c2048a263d41
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e6d566ad1391c2048a263d41
Content-Type: text/plain; charset=ISO-8859-1

Hi all,

I made a mistake, finished indexing all my database (millions of
documents..), regarding field dates as usual fields.
Instead of doing:
doc.add(Field.Keyword("indexDate", new Date());
I added it as:
doc.add(new Field("indexDate", String.valueOf(new Date().toString()),
Field.Store.YES, Field.Index.NOT_ANALYZED);

What should I do in this case?
Is there a way to do the manipulation in the search stage?
Note that I use lucene 2.3.2.

Thanks a lot,
Liat

--0016e6d566ad1391c2048a263d41--

From java-user-return-46566-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 29 08:42:23 2010
Return-Path: <java-user-return-46566-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78513 invoked from network); 29 Jun 2010 08:42:23 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 29 Jun 2010 08:42:23 -0000
Received: (qmail 69015 invoked by uid 500); 29 Jun 2010 08:42:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68644 invoked by uid 500); 29 Jun 2010 08:42:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68636 invoked by uid 99); 29 Jun 2010 08:42:16 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Jun 2010 08:42:16 +0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=SPF_HELO_PASS,SPF_NEUTRAL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Jun 2010 08:42:10 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <frueskens@ricoh-europe.com>)
	id 1OTWO4-0002uO-Cy
	for java-user@lucene.apache.org; Tue, 29 Jun 2010 01:41:48 -0700
Date: Tue, 29 Jun 2010 01:41:48 -0700 (PDT)
From: frueskens <frueskens@ricoh-europe.com>
To: java-user@lucene.apache.org
Message-ID: <1277800908393-930117.post@n3.nabble.com>
In-Reply-To: <AANLkTikix40W9vEFp9EUgl6JfHZJZSU9vObY9wnEm7h_@mail.gmail.com>
References: <1277462629398-921791.post@n3.nabble.com> <000f01cb1455$cada4930$608edb90$@thetaphi.de> <AANLkTikix40W9vEFp9EUgl6JfHZJZSU9vObY9wnEm7h_@mail.gmail.com>
Subject: Re: searching for wildcard as valid character
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org


Thank you all for your support.

I'm using now RegEx query from Lucene Contrib package which handles it fine
in my unit test. I'm waiting for confirmation from the other developer team
if this fixed their issue.


-- 
View this message in context: http://lucene.472066.n3.nabble.com/searching-for-wildcard-as-valid-character-tp921791p930117.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46567-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 29 09:05:23 2010
Return-Path: <java-user-return-46567-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89770 invoked from network); 29 Jun 2010 09:05:22 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 29 Jun 2010 09:05:22 -0000
Received: (qmail 89265 invoked by uid 500); 29 Jun 2010 09:05:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89091 invoked by uid 500); 29 Jun 2010 09:05:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89079 invoked by uid 99); 29 Jun 2010 09:05:17 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Jun 2010 09:05:17 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ian.lea@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Jun 2010 09:05:09 +0000
Received: by bwz8 with SMTP id 8so1808047bwz.35
        for <java-user@lucene.apache.org>; Tue, 29 Jun 2010 02:03:49 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type;
        bh=aNmiAexhOFZ2JtsQSH/FJtmzCyCqlIM+4k000wqELUY=;
        b=erf8xCZOkGlkqBULw1BfXEiroHGK2wGDdwLrp5i5BJWKGZfqWgwtQ2wRT/8MUuX9/K
         Ev2zJGuvg30eMADnLqtMBnDikVMUUYl+Oed77tPQsaRY42BkqQuJDdcXPwWra7HK0JSK
         b8M+uZnwnlfNk6daY1XO/FBAeMarkAra0FY8k=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=pODRwX35uto5lD1YeU/CWjoY7CSen0ZY9yeYn6AoREFMH8l8uE39Vg9lr0Nn4i0QR7
         uBqR02Kv/lPnMiG1H+zqTItltK9r4NYZYNy+q+B3p7ZBTsSK0DmaByCp5+C9oRWTDwxQ
         W/M8WUvZVGWrdXdblvrC00TY0GYlhjwJc+KSE=
Received: by 10.204.136.154 with SMTP id r26mr1468159bkt.148.1277802229324; 
	Tue, 29 Jun 2010 02:03:49 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.204.123.83 with HTTP; Tue, 29 Jun 2010 02:03:29 -0700 (PDT)
In-Reply-To: <AANLkTikdJjrX9_rBQm8m6TLG_J1hkclPO8PkWf2EE6C6@mail.gmail.com>
References: <AANLkTikdJjrX9_rBQm8m6TLG_J1hkclPO8PkWf2EE6C6@mail.gmail.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Tue, 29 Jun 2010 10:03:29 +0100
Message-ID: <AANLkTimNrl2fHCEdQh6CeanZ2qGFo4KfCnoeM2wLeJB0@mail.gmail.com>
Subject: Re: Date Fields
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

How are you searching?  If looking for exact dates I guess you could
make it work by passing in the exact value but ranges would be
challenging.

My advice would be to upgrade to a current version of Lucene and
reindex everything with the date as a NumericField.


--
Ian.


On Tue, Jun 29, 2010 at 8:32 AM, liat oren <oren.liat@gmail.com> wrote:
> Hi all,
>
> I made a mistake, finished indexing all my database (millions of
> documents..), regarding field dates as usual fields.
> Instead of doing:
> doc.add(Field.Keyword("indexDate", new Date());
> I added it as:
> doc.add(new Field("indexDate", String.valueOf(new Date().toString()),
> Field.Store.YES, Field.Index.NOT_ANALYZED);
>
> What should I do in this case?
> Is there a way to do the manipulation in the search stage?
> Note that I use lucene 2.3.2.
>
> Thanks a lot,
> Liat
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46568-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 29 09:22:56 2010
Return-Path: <java-user-return-46568-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93738 invoked from network); 29 Jun 2010 09:22:55 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 29 Jun 2010 09:22:55 -0000
Received: (qmail 11879 invoked by uid 500); 29 Jun 2010 09:22:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11074 invoked by uid 500); 29 Jun 2010 09:22:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11008 invoked by uid 99); 29 Jun 2010 09:22:48 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Jun 2010 09:22:48 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [74.125.83.48] (HELO mail-gw0-f48.google.com) (74.125.83.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Jun 2010 09:22:41 +0000
Received: by gwj15 with SMTP id 15so2277610gwj.35
        for <multiple recipients>; Tue, 29 Jun 2010 02:21:19 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.101.156.18 with SMTP id i18mr8124012ano.180.1277803279009; 
	Tue, 29 Jun 2010 02:21:19 -0700 (PDT)
Received: by 10.151.106.16 with HTTP; Tue, 29 Jun 2010 02:21:18 -0700 (PDT)
In-Reply-To: <4C290CAD.2030408@code972.com>
References: <4C290CAD.2030408@code972.com>
Date: Tue, 29 Jun 2010 05:21:18 -0400
Message-ID: <AANLkTimN2TM-ZucGPvIFwj10w3yAthar65aQANU4oZDm@mail.gmail.com>
Subject: Re: Lucene In Action free chapter on CLucene
From: Michael McCandless <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Cc: general@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

You're welcome!

One small clarification: it's the section (10.2 -- CLucene) not the
whole chapter 10 that's free for downloading...

Mike

On Mon, Jun 28, 2010 at 4:57 PM, Itamar Syn-Hershko <itamar@code972.com> wrote:
> Hi,
>
>
> Just to let everyone know Manning have released an extra chapter from the
> excellent LIA 2E book, discussing CLucene - the C++ port of Lucene. It is
> available for free at
> http://www.code972.com/blog/2010/06/lucene-in-action-free-chapter-coupon-code/.
>
>
> 35% discount for CLucene users is available as well.
>
>
> Thank you Mike, Eric and Otis for a great book!
>
> Itamar.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46569-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 29 09:25:12 2010
Return-Path: <java-user-return-46569-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95187 invoked from network); 29 Jun 2010 09:25:11 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 29 Jun 2010 09:25:11 -0000
Received: (qmail 17441 invoked by uid 500); 29 Jun 2010 09:25:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17172 invoked by uid 500); 29 Jun 2010 09:25:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17147 invoked by uid 99); 29 Jun 2010 09:25:05 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Jun 2010 09:25:05 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jerven.bolleman@isb-sib.ch designates 192.33.215.119 as permitted sender)
Received: from [192.33.215.119] (HELO mail.isb-sib.ch) (192.33.215.119)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Jun 2010 09:24:58 +0000
Received: from lin-073.isb-sib.ch (lin-000 [192.33.215.254])
	(authenticated bits=0)
	by mail.isb-sib.ch (8.13.1/8.13.1) with ESMTP id o5T9OYN8031487
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <java-user@lucene.apache.org>; Tue, 29 Jun 2010 11:24:35 +0200
Message-ID: <4C29BBD1.3050708@isb-sib.ch>
Date: Tue, 29 Jun 2010 11:24:33 +0200
From: Jerven Bolleman <jerven.bolleman@isb-sib.ch>
Reply-To: jerven.bolleman@isb-sib.ch
Organization: Swiss Institute of Bioinformatics
User-Agent: Mozilla/5.0 (X11; U; Linux i686 (x86_64); en-US; rv:1.9.1.9) Gecko/20100317 Thunderbird/3.0.4
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Unsupported operation in TermDocs.next() when migrating from 2.4
 to 2.9
Content-Type: multipart/mixed;
 boundary="------------050005060508000504010303"
X-Spam-Report: 
	*  -20 USER_IN_WHITELIST From: address is in the user's white-list
	*  0.0 SPF_SOFTFAIL SPF: sender does not match SPF record (softfail)
	* -5.0 BAYES_00 BODY: Bayes spam probability is 0 to 1%
	*      [score: 0.0000]
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on mail.isb-sib.ch
X-sib-mail-MailScanner-Information: Please contact the ISP for more information
X-sib-mail-MailScanner-ID: o5T9OYN8031487
X-sib-mail-MailScanner: Found to be clean
X-sib-mail-MailScanner-From: jerven.bolleman@isb-sib.ch
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-25.0 required=5.5 tests=BAYES_00,SPF_SOFTFAIL,
	USER_IN_WHITELIST autolearn=ham version=3.3.1

--------------050005060508000504010303
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Hi All,

I am finally having some time to upgrade our lucene from the 2.4 series 
to the 2.9 series. And I am having a problem that while everything 
compiles great I am getting a new UnsupportedOperationException.


java.lang.UnsupportedOperationException
	at 
org.apache.lucene.index.AbstractAllTermDocs.seek(AbstractAllTermDocs.java:42)
	at 
org.apache.lucene.index.DirectoryReader$MultiTermDocs.termDocs(DirectoryReader.java:1186)
	at 
org.apache.lucene.index.DirectoryReader$MultiTermDocs.next(DirectoryReader.java:1118)
	at 
org.expasy.core.index.SubQueryFilter.fastForLargeResultSets(SubQueryFilter.java:129)

I copied in the code that calls this. See an explanation of what it 
tries to achieve underneath.

private void fastForLargeResultSets(String foreignField, BitSet bits, 
TermDocs docs, TermDocs foreignDocs, IndexReader foreignReader, BitSet 
queryResults)
	throws IOException
{
	int start = queryResults.nextSetBit(0);
	TermEnum foreignEnum = foreignReader.terms(new Term(foreignField, ""));
	while (foreignEnum.next())
		{
		Term term = foreignEnum.term();
		if (term == null || !term.field().equals(foreignField))
			break;
		if (!term.text().equals("not_null"))
		{
			foreignDocs.skipTo(start);
			foreignDocs.seek(term);
//Source of exception in my code
			while (foreignDocs.next())
			{
				int doc = foreignDocs.doc();
				if (queryResults.get(doc))
				{
					foreignDocs.skipTo(doc);
					if (term != null && term.text() != null)
						buffer.add(term.text());
				}
// Use a buffer to avoid jumping around on disk to much.
//
				if (buffer.size() >= BUFFERSIZE)
				{
					emptyBuffer(buffer, bits, docs);
				}
			}
		}
	}

	if (!buffer.isEmpty())
	{
		emptyBuffer(buffer, bits, docs);
	}
}

The purpose of this code is to fill a bitset as a filter. The filter is 
used to find documents in index a who have a linking key value to them 
in index b.

While resource intensive this code path was quite fast for when you have 
multimillion documents in index b pointing to multimillion documents in 
index b.

i.e. it creates a "join" between two queries on different indexes.

for a live example
http://www.uniprot.org/uniprot/?query=citation%3A%28author%3Afink%29
this a search for fink in the field author in the "citation" index.
For each document in the "citation" index that matches term "fink" in 
the field "author" retrieve the terms that contain an uniquely 
identifying key value for documents in the "uniprot" index. Generate a 
bitset to use in filtering the documents in the "uniprot" index (done in 
the emptybuffer method).

Is this a bug? and does anyone have ideas for an effective (maybe 
superior) work around?

Regards and thanks for a great project!

Jerven


--------------050005060508000504010303
Content-Type: text/plain; charset=us-ascii


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
--------------050005060508000504010303--

From java-user-return-46570-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 29 09:53:54 2010
Return-Path: <java-user-return-46570-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1872 invoked from network); 29 Jun 2010 09:53:53 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 29 Jun 2010 09:53:53 -0000
Received: (qmail 57186 invoked by uid 500); 29 Jun 2010 09:53:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56771 invoked by uid 500); 29 Jun 2010 09:53:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56763 invoked by uid 99); 29 Jun 2010 09:53:47 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Jun 2010 09:53:47 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of oren.liat@gmail.com designates 74.125.82.48 as permitted sender)
Received: from [74.125.82.48] (HELO mail-ww0-f48.google.com) (74.125.82.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Jun 2010 09:53:40 +0000
Received: by wwi14 with SMTP id 14so5155862wwi.35
        for <java-user@lucene.apache.org>; Tue, 29 Jun 2010 02:52:19 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=3ytGzvCNgd+KapdsBQm/8m7FAHOMlvrybx40R973I0A=;
        b=jf1D1Pgntv3Cvbrj8MRb7+tIwxY1TX9sgho5NUf3TQfuxFwzQzIobqsuPD2sE1vtO0
         62p5Z3rPXnZ8y+Z9d/Y6mo9u2isITb1/xoo2lCoeIfT840y/PSG47pmZI7qvdJWGrp6+
         3dsujMad+/Xj7ph1iPWbKKn6iDlx+fgcoPUtQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=IEibYjOFqjsZ55s8M/1xY5jkzg0WbDYfSAnu2blTIX7tGA8OXlVmau5WkftUQAZXlQ
         aBIov8tOaC+F0MjKj5PoikSYvoVAf7NJ2gSrgt1/i2DLXMFEzRXf7nMXEWJim66b8YBv
         aYaXKndeTjlaVWeZrx68Ud5LUJT8HlsNNoz/w=
MIME-Version: 1.0
Received: by 10.216.89.74 with SMTP id b52mr9246477wef.27.1277805139561; Tue, 
	29 Jun 2010 02:52:19 -0700 (PDT)
Received: by 10.216.6.206 with HTTP; Tue, 29 Jun 2010 02:52:19 -0700 (PDT)
In-Reply-To: <AANLkTimNrl2fHCEdQh6CeanZ2qGFo4KfCnoeM2wLeJB0@mail.gmail.com>
References: <AANLkTikdJjrX9_rBQm8m6TLG_J1hkclPO8PkWf2EE6C6@mail.gmail.com>
	<AANLkTimNrl2fHCEdQh6CeanZ2qGFo4KfCnoeM2wLeJB0@mail.gmail.com>
Date: Tue, 29 Jun 2010 12:52:19 +0300
Message-ID: <AANLkTinnc-pIInoDIIIsm0dvU3BA7GLL52_TOtUi_Nsw@mail.gmail.com>
Subject: Re: Date Fields
From: liat oren <oren.liat@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e6d7df946f8cff048a2831fd
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e6d7df946f8cff048a2831fd
Content-Type: text/plain; charset=ISO-8859-1

I was afraid this would be the answer..
Thanks a lot!
Liat

On 29 June 2010 12:03, Ian Lea <ian.lea@gmail.com> wrote:

> How are you searching?  If looking for exact dates I guess you could
> make it work by passing in the exact value but ranges would be
> challenging.
>
> My advice would be to upgrade to a current version of Lucene and
> reindex everything with the date as a NumericField.
>
>
> --
> Ian.
>
>
> On Tue, Jun 29, 2010 at 8:32 AM, liat oren <oren.liat@gmail.com> wrote:
> > Hi all,
> >
> > I made a mistake, finished indexing all my database (millions of
> > documents..), regarding field dates as usual fields.
> > Instead of doing:
> > doc.add(Field.Keyword("indexDate", new Date());
> > I added it as:
> > doc.add(new Field("indexDate", String.valueOf(new Date().toString()),
> > Field.Store.YES, Field.Index.NOT_ANALYZED);
> >
> > What should I do in this case?
> > Is there a way to do the manipulation in the search stage?
> > Note that I use lucene 2.3.2.
> >
> > Thanks a lot,
> > Liat
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--0016e6d7df946f8cff048a2831fd--

From java-user-return-46571-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 29 11:41:45 2010
Return-Path: <java-user-return-46571-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30346 invoked from network); 29 Jun 2010 11:41:45 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 29 Jun 2010 11:41:45 -0000
Received: (qmail 80347 invoked by uid 500); 29 Jun 2010 11:41:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79824 invoked by uid 500); 29 Jun 2010 11:41:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79815 invoked by uid 99); 29 Jun 2010 11:41:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Jun 2010 11:41:37 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of id.navs@gmail.com designates 209.85.212.48 as permitted sender)
Received: from [209.85.212.48] (HELO mail-vw0-f48.google.com) (209.85.212.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Jun 2010 11:41:29 +0000
Received: by vws19 with SMTP id 19so1802487vws.35
        for <java-user@lucene.apache.org>; Tue, 29 Jun 2010 04:40:09 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:date:message-id
         :subject:from:to:content-type;
        bh=NR3sMYGVk2Gym9/vXS1l4zrFKbFQ7qEVIaREreOLhfI=;
        b=JDyTgT2o3KN7WIY0Pz8FwouX3JekW/LrZQDNaqnkpul+PUqRzu+HuZE1TOxaX6g7AK
         Y500B41y1mMLvUvXTvbACtpbOPbgvii+hZqQ0hoUi8bVmKbFyftOA9kKRhb5S4N9cusJ
         8m0dBKPuOpGPUtaVeH5tJR41ch8JDO5amj3Dw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=vpGSvqh300FlCm5Yf3JhMxbeq7pwQ2hoeKzBjHfAQ5Koo5jQ2C3Wsc8vp4DUSNOg+n
         R1GQume+6gmewCQ8ZKpSV2x0edYPsStGoBQhwLTmj2o01lGqf7ivOAE5aPg6DOMm9kFp
         hPastBag+SYPELy3EczBlaeSH8msGYnzWD5aM=
MIME-Version: 1.0
Received: by 10.229.186.18 with SMTP id cq18mr3719189qcb.266.1277811608609; 
	Tue, 29 Jun 2010 04:40:08 -0700 (PDT)
Received: by 10.229.99.78 with HTTP; Tue, 29 Jun 2010 04:40:08 -0700 (PDT)
Date: Tue, 29 Jun 2010 17:10:08 +0530
Message-ID: <AANLkTik_YreUcWYtk8R_MdLFCaSkCTCtOzptDu4H86xY@mail.gmail.com>
Subject: Adding a new field to existing Index
From: Naveen Kumar <id.navs@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00163630f34b05640d048a29b337
X-Virus-Checked: Checked by ClamAV on apache.org

--00163630f34b05640d048a29b337
Content-Type: text/plain; charset=ISO-8859-1

Hey,

I need to add a new field (a stored , not indexed field) for all documents
present in an existing large index. Reindexing the whole index will be very
costly. Is there a way to do this or any work around?

I would also like to know, if data or term vector, of a field indexed
without storing, can somehow be retrieved. This would enable a work around
solution to my problem.

Thank you
Naveen Kumar

--00163630f34b05640d048a29b337--

From java-user-return-46572-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 29 12:01:28 2010
Return-Path: <java-user-return-46572-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36284 invoked from network); 29 Jun 2010 12:01:28 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 29 Jun 2010 12:01:28 -0000
Received: (qmail 16577 invoked by uid 500); 29 Jun 2010 12:01:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16229 invoked by uid 500); 29 Jun 2010 12:01:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16221 invoked by uid 99); 29 Jun 2010 12:01:22 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Jun 2010 12:01:22 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of bghost@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Jun 2010 12:01:14 +0000
Received: by bwz8 with SMTP id 8so1915884bwz.35
        for <java-user@lucene.apache.org>; Tue, 29 Jun 2010 04:59:54 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=OQCLknGBUjLixpgFXClCa1/7jKdlzCJIsbKzuiee4iY=;
        b=JJowWIVDw9cAJR7e3BAeABEmGop0XD90qrgjqsplSDiDfyAlNpKhIqX5r0xm9kuJoP
         ziqWTtJNOBWauPHyujxj8+Fh1S5IoUg7V7xz/WrQ/xe9ZliknHSjJ3ND9+2wfMxSyB6v
         I3PLUgT7eASUv9GfjXAvfIkOwHjLQ0EcK+awI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=vJt/1FRfU8SyBwtgfT3aVFzNhaLQUQXPUSrjbeVLDFM6EwBvqB38gHwfMVtNvH9fMJ
         NszEn4cL0R5UZoUQKH2NFeA6JN6tkQ0Zy2tfh2WpxDk9E3RcDJbmR6CiXl9k/IL3ZQzE
         N7mMm8ubVyVx474BEbnoIHy+F7JvePPg7augU=
MIME-Version: 1.0
Received: by 10.204.79.203 with SMTP id q11mr4558481bkk.121.1277812794065; 
	Tue, 29 Jun 2010 04:59:54 -0700 (PDT)
Received: by 10.204.51.212 with HTTP; Tue, 29 Jun 2010 04:59:53 -0700 (PDT)
In-Reply-To: <AANLkTik_YreUcWYtk8R_MdLFCaSkCTCtOzptDu4H86xY@mail.gmail.com>
References: <AANLkTik_YreUcWYtk8R_MdLFCaSkCTCtOzptDu4H86xY@mail.gmail.com>
Date: Tue, 29 Jun 2010 13:59:53 +0200
Message-ID: <AANLkTilP6AZ4v1A3NsmknJEZaboDVs_sSnrVnjAocd61@mail.gmail.com>
Subject: Re: Adding a new field to existing Index
From: Mango <bghost@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

Unfortunately, I don't think it is possible to add new field without
re-indexing.

As for extracting content from the field, it should be possible to
retrieve data if the term vectors
were stored with positions offset
(Field.TermVector.WITH_POSITIONS_OFFSETS). If not, I don't
think it's possible.

On Tue, Jun 29, 2010 at 1:40 PM, Naveen Kumar <id.navs@gmail.com> wrote:
> Hey,
>
> I need to add a new field (a stored , not indexed field) for all documents
> present in an existing large index. Reindexing the whole index will be very
> costly. Is there a way to do this or any work around?
>
> I would also like to know, if data or term vector, of a field indexed
> without storing, can somehow be retrieved. This would enable a work around
> solution to my problem.
>
> Thank you
> Naveen Kumar
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46573-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 29 16:00:01 2010
Return-Path: <java-user-return-46573-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22156 invoked from network); 29 Jun 2010 16:00:00 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 29 Jun 2010 16:00:00 -0000
Received: (qmail 79692 invoked by uid 500); 29 Jun 2010 15:59:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79551 invoked by uid 500); 29 Jun 2010 15:59:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79543 invoked by uid 99); 29 Jun 2010 15:59:57 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Jun 2010 15:59:57 +0000
X-ASF-Spam-Status: No, hits=3.4 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,HTML_OBFUSCATE_10_20,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pablomendes@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Jun 2010 15:59:49 +0000
Received: by iwn38 with SMTP id 38so8169628iwn.35
        for <java-user@lucene.apache.org>; Tue, 29 Jun 2010 08:58:28 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:date:message-id
         :subject:from:to:content-type;
        bh=kVQNZU33SO388gY2B3x96zJzJeKI2qJkrAMbXUZMcvo=;
        b=WLFSSv/VdggqJ4osPf7fm86ivP0LjmyHOeypHBHTSW00LKH+7dVXUGaOiLmKJ3a2Jy
         LpY5SC5CkuMie8/V1yQ22tLhYouLCG4LNzXf+FEYn7Niusl2qfzTCMiK5Ly6PgM7cFw/
         8n1lrA8puFz4dMTLJxyAmAHxkXafe4P3nvsxI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=uzOTrIo9idToZVK1jem974yo2nk8H9vL2ZagB5CkVWIw2LqNDOpfysvRSUbC9tf8R7
         dviX+QfKuNMq5BhHdMGVpfpEXVRXIPEQSxnnQ7I3sXdtUwtq5iGQdCYi3WbrscgLM23E
         5krnnXZObIraSsygM9Sd7Z6dKdjLF9cRgrF20=
MIME-Version: 1.0
Received: by 10.231.150.18 with SMTP id w18mr7287026ibv.43.1277827108701; Tue, 
	29 Jun 2010 08:58:28 -0700 (PDT)
Received: by 10.231.34.6 with HTTP; Tue, 29 Jun 2010 08:58:28 -0700 (PDT)
Date: Tue, 29 Jun 2010 17:58:28 +0200
Message-ID: <AANLkTikhAOOkngzuPca5a6bRB9ZGh4xsoxXmGXWFscFD@mail.gmail.com>
Subject: IndexWriter.mergeDocument(Term term, Document doc)
From: Pablo Mendes <pablomendes@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e68dd264e60766048a2d4edf
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e68dd264e60766048a2d4edf
Content-Type: text/plain; charset=ISO-8859-1

Hi all,
I'm looking for a functionality similar to IndexWriter.updateDocument()

*IndexWriter.**updateDocument<http://lucene.apache.org/java/3_0_2/api/core/org/apache/lucene/index/IndexWriter.html#updateDocument%28org.apache.lucene.index.Term,%20org.apache.lucene.document.Document%29>
*(Term<http://lucene.apache.org/java/3_0_2/api/core/org/apache/lucene/index/Term.html>
term,
Document<http://lucene.apache.org/java/3_0_2/api/core/org/apache/lucene/document/Document.html>
 doc)
          Updates a document by first deleting the document(s) containing
term and then adding the new document.

*IndexWriter.**updateDocument<http://lucene.apache.org/java/3_0_2/api/core/org/apache/lucene/index/IndexWriter.html#updateDocument%28org.apache.lucene.index.Term,%20org.apache.lucene.document.Document,%20org.apache.lucene.analysis.Analyzer%29>
*(Term<http://lucene.apache.org/java/3_0_2/api/core/org/apache/lucene/index/Term.html>
term,
Document<http://lucene.apache.org/java/3_0_2/api/core/org/apache/lucene/document/Document.html>
doc,
Analyzer<http://lucene.apache.org/java/3_0_2/api/core/org/apache/lucene/analysis/Analyzer.html>
 analyzer)
          Updates a document by first deleting the document(s) containing
term and then adding the new document.

But instead of deleting the document containing term and then adding the new
document,
I'd like to merge the information from the new document with the document
containing the term .

*IndexWriter.merge**Document*(Term<http://lucene.apache.org/java/3_0_2/api/core/org/apache/lucene/index/Term.html>
term,
Document<http://lucene.apache.org/java/3_0_2/api/core/org/apache/lucene/document/Document.html>
 doc)
          Updates a document by merging the information in the document
containing term and the new document.

*IndexWriter.merge**Document*(Term<http://lucene.apache.org/java/3_0_2/api/core/org/apache/lucene/index/Term.html>
term,
Document<http://lucene.apache.org/java/3_0_2/api/core/org/apache/lucene/document/Document.html>
 doc, Analyzer<http://lucene.apache.org/java/3_0_2/api/core/org/apache/lucene/analysis/Analyzer.html>
 analyzer)
          Updates a document by merging the information in the document
containing term and the new document.

I couldn't find anything like that in 3.0.2 [1], so I assume I'll have to
implement it myself.
Is the implementation of IndexWriter.updateDocument itself a good starting
point?

Does anybody have suggestions on how to go about it? Or is it there in some
other shape or form?
Or is it absolutely discouraged?

Thanks,
Pablo

[1]
http://lucene.apache.org/java/3_0_2/api/core/org/apache/lucene/document/class-use/Document.html

--0016e68dd264e60766048a2d4edf--

From java-user-return-46574-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 29 17:10:52 2010
Return-Path: <java-user-return-46574-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47296 invoked from network); 29 Jun 2010 17:10:52 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 29 Jun 2010 17:10:52 -0000
Received: (qmail 88040 invoked by uid 500); 29 Jun 2010 17:10:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87901 invoked by uid 500); 29 Jun 2010 17:10:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87888 invoked by uid 99); 29 Jun 2010 17:10:49 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Jun 2010 17:10:49 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pwilkins@mit.edu designates 18.7.68.36 as permitted sender)
Received: from [18.7.68.36] (HELO dmz-mailsec-scanner-7.mit.edu) (18.7.68.36)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Jun 2010 17:10:38 +0000
X-AuditID: 12074424-b7b63ae000000a0b-37-4c2a28db10bd
Received: from mailhub-auth-2.mit.edu (MAILHUB-AUTH-2.MIT.EDU [18.7.62.36])
	by dmz-mailsec-scanner-7.mit.edu (Symantec Brightmail Gateway) with SMTP id 1B.D8.02571.BD82A2C4; Tue, 29 Jun 2010 13:09:47 -0400 (EDT)
Received: from outgoing.mit.edu (OUTGOING-EXCHANGE-2.MIT.EDU [18.9.28.16])
	by mailhub-auth-2.mit.edu (8.13.8/8.9.2) with ESMTP id o5TH9lbC020711
	for <java-user@lucene.apache.org>; Tue, 29 Jun 2010 13:09:47 -0400
Received: from w92exedge4.exchange.mit.edu (W92EXEDGE4.EXCHANGE.MIT.EDU [18.7.73.16])
	)
	by outgoing.mit.edu (8.13.8/8.12.4) with ESMTP id o5TH9knL024201
	for <java-user@lucene.apache.org>; Tue, 29 Jun 2010 13:09:47 -0400
Received: from w92exhub9.exchange.mit.edu (18.7.73.17) by
 w92exedge4.exchange.mit.edu (18.7.73.16) with Microsoft SMTP Server (TLS) id
 8.1.393.1; Tue, 29 Jun 2010 13:08:49 -0400
Received: from EXPO17.exchange.mit.edu ([18.9.4.48]) by
 w92exhub9.exchange.mit.edu ([18.7.73.17]) with mapi; Tue, 29 Jun 2010
 13:09:46 -0400
From: Peter Wilkins <pwilkins@MIT.EDU>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Tue, 29 Jun 2010 13:09:45 -0400
Subject: example of processing terms in query results?
Thread-Topic: example of processing terms in query results?
Thread-Index: AcsXrd+QF1sFg8upT8iT83dpIz0nOQ==
Message-ID: <1DF21F0C-2880-4636-B6D7-9791215583B0@mit.edu>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Brightmail-Tracker: AAAAAA==
X-Virus-Checked: Checked by ClamAV on apache.org

Can someone point me to a code example that demonstrates processing terms f=
rom a query result?  I want to extract payloads from the terms that are sel=
ected by the query.  I'm having difficulty getting to an object in the quer=
y result that implements getPayload().

Thank you for the assistance,
Peter=

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46575-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 29 20:41:57 2010
Return-Path: <java-user-return-46575-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8339 invoked from network); 29 Jun 2010 20:41:56 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 29 Jun 2010 20:41:56 -0000
Received: (qmail 77443 invoked by uid 500); 29 Jun 2010 20:41:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77363 invoked by uid 500); 29 Jun 2010 20:41:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77355 invoked by uid 99); 29 Jun 2010 20:41:53 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Jun 2010 20:41:53 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pwilkins@mit.edu designates 18.9.25.15 as permitted sender)
Received: from [18.9.25.15] (HELO dmz-mailsec-scanner-4.mit.edu) (18.9.25.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Jun 2010 20:41:43 +0000
X-AuditID: 1209190f-b7bd9ae0000009fe-53-4c2a5a72160f
Received: from mailhub-auth-2.mit.edu (MAILHUB-AUTH-2.MIT.EDU [18.7.62.36])
	by dmz-mailsec-scanner-4.mit.edu (Symantec Brightmail Gateway) with SMTP id 66.9B.02558.27A5A2C4; Tue, 29 Jun 2010 16:41:22 -0400 (EDT)
Received: from outgoing.mit.edu (OUTGOING-EXCHANGE-2.MIT.EDU [18.9.28.16])
	by mailhub-auth-2.mit.edu (8.13.8/8.9.2) with ESMTP id o5TKfM7B027699
	for <java-user@lucene.apache.org>; Tue, 29 Jun 2010 16:41:22 -0400
Received: from w92exedge4.exchange.mit.edu (W92EXEDGE4.EXCHANGE.MIT.EDU [18.7.73.16])
	)
	by outgoing.mit.edu (8.13.8/8.12.4) with ESMTP id o5TKfL4C022396
	for <java-user@lucene.apache.org>; Tue, 29 Jun 2010 16:41:22 -0400
Received: from oc11exhub3.exchange.mit.edu (18.9.3.13) by
 w92exedge4.exchange.mit.edu (18.7.73.16) with Microsoft SMTP Server (TLS) id
 8.1.393.1; Tue, 29 Jun 2010 16:40:23 -0400
Received: from EXPO17.exchange.mit.edu ([18.9.4.48]) by
 oc11exhub3.exchange.mit.edu ([18.9.3.13]) with mapi; Tue, 29 Jun 2010
 16:41:20 -0400
From: Peter Wilkins <pwilkins@MIT.EDU>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Tue, 29 Jun 2010 16:41:20 -0400
Subject: example of processing tokens from query results?
Thread-Topic: example of processing tokens from query results?
Thread-Index: AcsXy25yHxnpDlpxTnueSP3wz4t1eg==
Message-ID: <E97E0C22-E940-4F44-871A-47EF991CF351@mit.edu>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Brightmail-Tracker: AAAAAA==
X-Virus-Checked: Checked by ClamAV on apache.org

Can someone point me to a code example that demonstrates processing tokens =
from a query result?  I want to iterate over TermPositions but can't find m=
y way to an object that instantiates that interface. =20

Thank you for the assistance,
Peter=

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46576-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jun 29 22:17:10 2010
Return-Path: <java-user-return-46576-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37633 invoked from network); 29 Jun 2010 22:17:09 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 29 Jun 2010 22:17:09 -0000
Received: (qmail 86242 invoked by uid 500); 29 Jun 2010 22:17:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86178 invoked by uid 500); 29 Jun 2010 22:17:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86167 invoked by uid 99); 29 Jun 2010 22:17:07 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Jun 2010 22:17:07 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=10.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of paulmagrath@ie.ibm.com designates 194.196.100.165 as permitted sender)
Received: from [194.196.100.165] (HELO mtagate5.uk.ibm.com) (194.196.100.165)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Jun 2010 22:16:56 +0000
Received: from d06nrmr1507.portsmouth.uk.ibm.com (d06nrmr1507.portsmouth.uk.ibm.com [9.149.38.233])
	by mtagate5.uk.ibm.com (8.13.1/8.13.1) with ESMTP id o5TMEait010673
	for <java-user@lucene.apache.org>; Tue, 29 Jun 2010 22:14:36 GMT
Received: from d06av06.portsmouth.uk.ibm.com (d06av06.portsmouth.uk.ibm.com [9.149.37.217])
	by d06nrmr1507.portsmouth.uk.ibm.com (8.13.8/8.13.8/NCO v10.0) with ESMTP id o5TMEaeK1487008
	for <java-user@lucene.apache.org>; Tue, 29 Jun 2010 23:14:36 +0100
Received: from d06av06.portsmouth.uk.ibm.com (loopback [127.0.0.1])
	by d06av06.portsmouth.uk.ibm.com (8.14.4/8.13.1/NCO v10.0 AVout) with ESMTP id o5TMEagq017624
	for <java-user@lucene.apache.org>; Tue, 29 Jun 2010 16:14:36 -0600
Received: from d06ml902.portsmouth.uk.ibm.com (d06ml902.portsmouth.uk.ibm.com [9.149.38.252])
	by d06av06.portsmouth.uk.ibm.com (8.14.4/8.13.1/NCO v10.0 AVin) with ESMTP id o5TMEZWF017620
	for <java-user@lucene.apache.org>; Tue, 29 Jun 2010 16:14:35 -0600
Subject: AUTO: Paul Magrath is out of the office (returning 01/07/2010)
Auto-Submitted: auto-generated
From: Paul D Magrath <paulmagrath@ie.ibm.com>
To: java-user@lucene.apache.org
Message-ID: <OF3D2C1665.4FBB4CB1-ON80257751.007ABF67-80257751.007ABF67@ie.ibm.com>
Date: Tue, 29 Jun 2010 23:20:43 +0100
X-MIMETrack: Serialize by Router on D06ML902/06/M/IBM(Release 8.0.1|February 07, 2008) at
 29/06/2010 23:20:44
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


I am out of the office until 01/07/2010.




Note: This is an automated response to your message  "example of processing
terms in query results?" sent on 29/6/10 18:09:45.

This is the only notification you will receive while this person is away.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46577-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 30 00:31:42 2010
Return-Path: <java-user-return-46577-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73653 invoked from network); 30 Jun 2010 00:31:42 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 30 Jun 2010 00:31:42 -0000
Received: (qmail 86016 invoked by uid 500); 30 Jun 2010 00:31:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85967 invoked by uid 500); 30 Jun 2010 00:31:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85959 invoked by uid 99); 30 Jun 2010 00:31:39 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Jun 2010 00:31:39 +0000
X-ASF-Spam-Status: No, hits=4.7 required=10.0
	tests=FREEMAIL_FROM,FREEMAIL_REPLY,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of zhoudengpeng@gmail.com designates 209.85.160.48 as permitted sender)
Received: from [209.85.160.48] (HELO mail-pw0-f48.google.com) (209.85.160.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Jun 2010 00:31:31 +0000
Received: by pwj1 with SMTP id 1so58935pwj.35
        for <java-user@lucene.apache.org>; Tue, 29 Jun 2010 17:30:09 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=jYwN4+asEHp4cm6ew2C7c9RzZdSsRz8yTE2MWd+ZgUY=;
        b=WiVXDaOs3ueW47aOlzehquDPSOS7rDz2QXJSUEImQWOM8fLx4nBwdLbIpKJ4/BKOGI
         ODKJ8ZF7hSiCXIi5OoVb9P/2vWxjbD4UrkgkQMJa3NIjn/xZuOrP0/7hCyDq3D2TXX+M
         7xIZABuPn1alGo/q4kW2hyCRnxmiQ8flO+0fU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=PmfMiBmcPnhRHrbC3pl5a6/74QF0fDDCscnDL3W5pNlTDwY/ykcnkhFvxb/xbnQ5j+
         JGlPsOMcrfa5Kab279OekMt5tsURaqF4KXrfBeulN630jMqJgxbuzBciT/ZMszAssXr0
         quDlTnpJTOj3/8UQJ9LdkSVyo7fAZHuf6PqcI=
MIME-Version: 1.0
Received: by 10.142.196.10 with SMTP id t10mr9369364wff.223.1277857809778; 
	Tue, 29 Jun 2010 17:30:09 -0700 (PDT)
Received: by 10.142.194.7 with HTTP; Tue, 29 Jun 2010 17:30:09 -0700 (PDT)
In-Reply-To: <AANLkTilh0vaVDUs8ubGpBAJfFNX97LGhvnZ3B8RvqoRP@mail.gmail.com>
References: <AANLkTin56O-WuWzPCo-hTvathMxZb4dqTlOq7un6E2MW@mail.gmail.com>
	<AANLkTimDUh8pIuIyg2IlydpahnPp7u-1ZR821zlraPiQ@mail.gmail.com>
	<AANLkTikHofQubNJ4VGCQPKGNgufyzFENj8Kf4nmxii_k@mail.gmail.com>
	<AANLkTiktBAVn7nyKdBoXpziC_cstYbF6digUC5NOaNUL@mail.gmail.com>
	<AANLkTimRuhGIJWr4oGkctlZPsUpJgR5ZcYAj5QCWK9iI@mail.gmail.com>
	<AANLkTilxx_fvPOPQXVSt0KjroMlnJt110HYx1yYmDf4V@mail.gmail.com>
	<AANLkTinxN9uEFxO1cHMVDltcKpQKqajO1WuQwo5VpoMS@mail.gmail.com>
	<AANLkTikMSHEV_Q0yIrtWM-Q0Yoadu1TflOV_WFqmOcoV@mail.gmail.com>
	<AANLkTilh0vaVDUs8ubGpBAJfFNX97LGhvnZ3B8RvqoRP@mail.gmail.com>
Date: Wed, 30 Jun 2010 08:30:09 +0800
Message-ID: <AANLkTilr5enkzndYdsFbqqTC-lMTHC36HsGs8iwswAjQ@mail.gmail.com>
Subject: Re: A question regarding the setSlop method of class PhraseQuery 
	(Lucene version 3.0.1)
From: a peng <zhoudengpeng@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=000e0cd2e174d34771048a34746a
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd2e174d34771048a34746a
Content-Type: text/plain; charset=ISO-8859-1

Hi Erick,

Any comments about this requirement?

2010/6/29 a peng <zhoudengpeng@gmail.com>

> Hi Erick,
>
> Thanks for you reply, now I get the point why I can not get the search
> result. But can you guide me how can I use Lucene to implement the following
> search feature:
> Basically we can call this feature "fuzzy phrase search", which means the
> search phrase may contains more words or less words compared to the
> sentences indexed in the document. Again I want to use the sample I posted
> to demo it:
>
> The document contains a sentence "This is a test", and the search phrase is
> "This is a formal test", as there is only one word difference between the
> two sentences, how can I get the "This is a test" phrase as the search
> result?
>
> Thanks.
>
>
>
> 2010/6/29 Erick Erickson <erickerickson@gmail.com>
>
> No, I don't think so. The critical bit is that the indexed text
>> does NOT contain the word "formal".  So searching for
>> any phrase that DOES contain "formal" should fail no matter
>> what the slop.
>>
>> Phrase queries are something like "find all the words in this
>> search string, ignoring some number of intervening tokens not in the
>> search string". There's nothing in there about "find only some of the
>> words in the search string"....
>>
>> I'm guessing that the original post had a typo in the success case,
>> because it's contradicted by "a peng's" second post. It's always
>> possible that I'm experiencing a brain short......
>>
>> Best
>> Erick
>>
>> On Mon, Jun 28, 2010 at 11:32 AM, tarun sapra <t.sapra97@gmail.com>
>> wrote:
>>
>> > Hey Erick
>> >
>> > Thanks mate!
>> >
>> > So I guess my explanation in the mail chain above was correct!
>> >
>> > On Mon, Jun 28, 2010 at 6:20 AM, Erick Erickson <
>> erickerickson@gmail.com
>> > >wrote:
>> >
>> > > I think you're misunderstanding the intent of PhraseQueries and slop.
>> > Slop
>> > > is the number of intervening tokens that may exist between the words
>> > > you're looking for. However, all the words you're looking for MUST
>> exist.
>> > > So,
>> > >
>> > > <<< whenever the search phrase contains a word that don't
>> > > exist in the document, the search result will be empty >>>
>> > >
>> > > is exactly how this is intended to work.
>> > >
>> > > HTH
>> > > Erick
>> > >
>> > >
>> > > On Mon, Jun 28, 2010 at 9:09 AM, a peng <zhoudengpeng@gmail.com>
>> wrote:
>> > >
>> > > > Hi,
>> > > >
>> > > > My test result is that whenever the search phrase contains a word
>> that
>> > > > don't
>> > > > exist in the document, the search result will be empty no matter how
>> > big
>> > > > the
>> > > > slop factor I set, seems this is a bug of Lucene, or it is work as
>> > > design?
>> > > >
>> > > > 2010/6/28 tarun sapra <t.sapra97@gmail.com>
>> > > >
>> > > > > Hi ,
>> > > > >
>> > > > > I think I have been able to understand whats happening here...
>> > > > >
>> > > > > Indexed Content : "This is a test".
>> > > > > your search phrase : "This is a formal test"
>> > > > > your setting the slop factor 2 , now if your slop factor is 3 it
>> > should
>> > > > > work
>> > > > > because "is" and "a" are stop words thus the words "This" and
>> "test"
>> > > are
>> > > > 2
>> > > > > slop factor apart but in your search phrase "This is a formal
>> test"
>> > the
>> > > > > words "This" and "test"  are 3 slop factor thats why it's nor
>> working
>> > > > > now in search phrase "This is formal test" the words "This" and
>> > "test"
>> > > > are
>> > > > > 2
>> > > > > slop factor apart thats why this phrase is working.
>> > > > >
>> > > > >
>> > > > >
>> > > > > On Mon, Jun 28, 2010 at 11:37 AM, a peng <zhoudengpeng@gmail.com>
>> > > wrote:
>> > > > >
>> > > > > > Hi,
>> > > > > >
>> > > > > > I am using StandardAnalyzer(Version.LUCENE_30);
>> > > > > >
>> > > > > > 2010/6/27 tarun sapra <t.sapra97@gmail.com>
>> > > > > >
>> > > > > > > which analyzer are you usin'?
>> > > > > > >
>> > > > > > >
>> > > > > > > On Sun, Jun 27, 2010 at 7:12 AM, a peng <
>> zhoudengpeng@gmail.com>
>> > > > > wrote:
>> > > > > > >
>> > > > > > > > Hi,
>> > > > > > > >
>> > > > > > > > I know the indexed content contains the following text:
>> "This
>> > is
>> > > a
>> > > > > > test".
>> > > > > > > > And the search phrase I used is "This is a formal test", and
>> > then
>> > > I
>> > > > > set
>> > > > > > > the
>> > > > > > > > slop of the PhraseQuery as 2 with setSlop(2), but I found
>> that
>> > I
>> > > > can
>> > > > > > not
>> > > > > > > > get
>> > > > > > > > a search result. If I set the search phrase as "This is
>> formal
>> > > > test",
>> > > > > > > then
>> > > > > > > > I
>> > > > > > > > can get the search result.
>> > > > > > > >
>> > > > > > > > So what is the problem here, thanks in advance.
>> > > > > > > >
>> > > > > > > >
>> > > > > > > > Attached is the Java doc for the setSlop method:
>> > > > > > > >
>> > > > > > > > public void *setSlop*(int s)
>> > > > > > > >
>> > > > > > > > Sets the number of other words permitted between words in
>> query
>> > > > > phrase.
>> > > > > > > If
>> > > > > > > > zero, then this is an exact phrase search. For larger values
>> > this
>> > > > > works
>> > > > > > > > like
>> > > > > > > > a WITHIN or NEAR operator.
>> > > > > > > >
>> > > > > > > > The slop is in fact an edit-distance, where the units
>> > correspond
>> > > to
>> > > > > > moves
>> > > > > > > > of
>> > > > > > > > terms in the query phrase out of position. For example, to
>> > switch
>> > > > the
>> > > > > > > order
>> > > > > > > > of two words requires two moves (the first move places the
>> > words
>> > > > atop
>> > > > > > one
>> > > > > > > > another), so to permit re-orderings of phrases, the slop
>> must
>> > be
>> > > at
>> > > > > > least
>> > > > > > > > two.
>> > > > > > > >
>> > > > > > > > More exact matches are scored higher than sloppier matches,
>> > thus
>> > > > > search
>> > > > > > > > results are sorted by exactness.
>> > > > > > > >
>> > > > > > > > The slop is zero by default, requiring exact matches.
>> > > > > > > >
>> > > > > > >
>> > > > > > >
>> > > > > > >
>> > > > > > > --
>> > > > > > > Thanks & Regards
>> > > > > > > Tarun Sapra
>> > > > > > >
>> > > > > >
>> > > > >
>> > > > >
>> > > > >
>> > > > > --
>> > > > > Thanks & Regards
>> > > > > Tarun Sapra
>> > > > >
>> > > >
>> > >
>> >
>> >
>> >
>> > --
>> > Thanks & Regards
>> > Tarun Sapra
>> >
>>
>
>

--000e0cd2e174d34771048a34746a--

From java-user-return-46578-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 30 01:09:05 2010
Return-Path: <java-user-return-46578-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82148 invoked from network); 30 Jun 2010 01:09:05 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 30 Jun 2010 01:09:05 -0000
Received: (qmail 869 invoked by uid 500); 30 Jun 2010 01:09:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 823 invoked by uid 500); 30 Jun 2010 01:09:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 815 invoked by uid 99); 30 Jun 2010 01:09:02 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Jun 2010 01:09:02 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of erickerickson@gmail.com designates 209.85.160.176 as permitted sender)
Received: from [209.85.160.176] (HELO mail-gy0-f176.google.com) (209.85.160.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Jun 2010 01:08:54 +0000
Received: by gyg10 with SMTP id 10so227377gyg.35
        for <java-user@lucene.apache.org>; Tue, 29 Jun 2010 18:08:32 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=peOksGanVTm6zdLfWny/Upjv2+5F70o7UErKdK0EG3U=;
        b=MqI0r2gmPgDi36tCWzMjR8mUpbJy+IGkjYS2OyBf+A/ZgVPK+1iAVBJvrxtqR3BxK4
         rYLQp+ZyrTjoixpRBBmQxhKDY+3nEGaY66U4Bl8dblpIgHAi5MTLRc82LqsHu2v9NUaV
         ggoFaas5aZiSCq0/8Ze13ExpyXj6uT2FBpDtE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=MFMIO+ZjTgSXTGLvsn4vM4DFQVOhBYYKXx3Zfr+9eNF3IeQUX7nWRq9ZILH7lQYoP8
         DieC4O/Q501VjjV01G6rm9Afq8N1Esc1KJV7UF4MK1c9c1psAITgzb3ido24rhtUgvhi
         TPTWu7MCeY5raebSF1QMfW3rMmxdWdeYItp48=
MIME-Version: 1.0
Received: by 10.90.8.28 with SMTP id 28mr6183035agh.63.1277860112834; Tue, 29 
	Jun 2010 18:08:32 -0700 (PDT)
Received: by 10.150.198.18 with HTTP; Tue, 29 Jun 2010 18:08:32 -0700 (PDT)
In-Reply-To: <AANLkTilr5enkzndYdsFbqqTC-lMTHC36HsGs8iwswAjQ@mail.gmail.com>
References: <AANLkTin56O-WuWzPCo-hTvathMxZb4dqTlOq7un6E2MW@mail.gmail.com>
	<AANLkTimDUh8pIuIyg2IlydpahnPp7u-1ZR821zlraPiQ@mail.gmail.com>
	<AANLkTikHofQubNJ4VGCQPKGNgufyzFENj8Kf4nmxii_k@mail.gmail.com>
	<AANLkTiktBAVn7nyKdBoXpziC_cstYbF6digUC5NOaNUL@mail.gmail.com>
	<AANLkTimRuhGIJWr4oGkctlZPsUpJgR5ZcYAj5QCWK9iI@mail.gmail.com>
	<AANLkTilxx_fvPOPQXVSt0KjroMlnJt110HYx1yYmDf4V@mail.gmail.com>
	<AANLkTinxN9uEFxO1cHMVDltcKpQKqajO1WuQwo5VpoMS@mail.gmail.com>
	<AANLkTikMSHEV_Q0yIrtWM-Q0Yoadu1TflOV_WFqmOcoV@mail.gmail.com>
	<AANLkTilh0vaVDUs8ubGpBAJfFNX97LGhvnZ3B8RvqoRP@mail.gmail.com>
	<AANLkTilr5enkzndYdsFbqqTC-lMTHC36HsGs8iwswAjQ@mail.gmail.com>
Date: Tue, 29 Jun 2010 21:08:32 -0400
Message-ID: <AANLkTikMEd2YOsXrqdXmRmLFwPSE-SVx324f6KP78Ce-@mail.gmail.com>
Subject: Re: A question regarding the setSlop method of class PhraseQuery 
	(Lucene version 3.0.1)
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016361e7b901926eb048a34fe58
X-Virus-Checked: Checked by ClamAV on apache.org

--0016361e7b901926eb048a34fe58
Content-Type: text/plain; charset=ISO-8859-1

No, I really don't have a good solution off the top of my head, perhaps
others can chime in...

Although I suppose you could fire multiple queries dropping out
some number of search terms, but I don't know whether that
satisfies your requirements. E.g. search the following phrases
"this is a formal test"
"this is a formal"
"this is a test"
"this is formal test"
"this a formal test"
"is a formal test"

and so on...

Best
Erick

On Tue, Jun 29, 2010 at 8:30 PM, a peng <zhoudengpeng@gmail.com> wrote:

> Hi Erick,
>
> Any comments about this requirement?
>
> 2010/6/29 a peng <zhoudengpeng@gmail.com>
>
> > Hi Erick,
> >
> > Thanks for you reply, now I get the point why I can not get the search
> > result. But can you guide me how can I use Lucene to implement the
> following
> > search feature:
> > Basically we can call this feature "fuzzy phrase search", which means the
> > search phrase may contains more words or less words compared to the
> > sentences indexed in the document. Again I want to use the sample I
> posted
> > to demo it:
> >
> > The document contains a sentence "This is a test", and the search phrase
> is
> > "This is a formal test", as there is only one word difference between the
> > two sentences, how can I get the "This is a test" phrase as the search
> > result?
> >
> > Thanks.
> >
> >
> >
> > 2010/6/29 Erick Erickson <erickerickson@gmail.com>
> >
> > No, I don't think so. The critical bit is that the indexed text
> >> does NOT contain the word "formal".  So searching for
> >> any phrase that DOES contain "formal" should fail no matter
> >> what the slop.
> >>
> >> Phrase queries are something like "find all the words in this
> >> search string, ignoring some number of intervening tokens not in the
> >> search string". There's nothing in there about "find only some of the
> >> words in the search string"....
> >>
> >> I'm guessing that the original post had a typo in the success case,
> >> because it's contradicted by "a peng's" second post. It's always
> >> possible that I'm experiencing a brain short......
> >>
> >> Best
> >> Erick
> >>
> >> On Mon, Jun 28, 2010 at 11:32 AM, tarun sapra <t.sapra97@gmail.com>
> >> wrote:
> >>
> >> > Hey Erick
> >> >
> >> > Thanks mate!
> >> >
> >> > So I guess my explanation in the mail chain above was correct!
> >> >
> >> > On Mon, Jun 28, 2010 at 6:20 AM, Erick Erickson <
> >> erickerickson@gmail.com
> >> > >wrote:
> >> >
> >> > > I think you're misunderstanding the intent of PhraseQueries and
> slop.
> >> > Slop
> >> > > is the number of intervening tokens that may exist between the words
> >> > > you're looking for. However, all the words you're looking for MUST
> >> exist.
> >> > > So,
> >> > >
> >> > > <<< whenever the search phrase contains a word that don't
> >> > > exist in the document, the search result will be empty >>>
> >> > >
> >> > > is exactly how this is intended to work.
> >> > >
> >> > > HTH
> >> > > Erick
> >> > >
> >> > >
> >> > > On Mon, Jun 28, 2010 at 9:09 AM, a peng <zhoudengpeng@gmail.com>
> >> wrote:
> >> > >
> >> > > > Hi,
> >> > > >
> >> > > > My test result is that whenever the search phrase contains a word
> >> that
> >> > > > don't
> >> > > > exist in the document, the search result will be empty no matter
> how
> >> > big
> >> > > > the
> >> > > > slop factor I set, seems this is a bug of Lucene, or it is work as
> >> > > design?
> >> > > >
> >> > > > 2010/6/28 tarun sapra <t.sapra97@gmail.com>
> >> > > >
> >> > > > > Hi ,
> >> > > > >
> >> > > > > I think I have been able to understand whats happening here...
> >> > > > >
> >> > > > > Indexed Content : "This is a test".
> >> > > > > your search phrase : "This is a formal test"
> >> > > > > your setting the slop factor 2 , now if your slop factor is 3 it
> >> > should
> >> > > > > work
> >> > > > > because "is" and "a" are stop words thus the words "This" and
> >> "test"
> >> > > are
> >> > > > 2
> >> > > > > slop factor apart but in your search phrase "This is a formal
> >> test"
> >> > the
> >> > > > > words "This" and "test"  are 3 slop factor thats why it's nor
> >> working
> >> > > > > now in search phrase "This is formal test" the words "This" and
> >> > "test"
> >> > > > are
> >> > > > > 2
> >> > > > > slop factor apart thats why this phrase is working.
> >> > > > >
> >> > > > >
> >> > > > >
> >> > > > > On Mon, Jun 28, 2010 at 11:37 AM, a peng <
> zhoudengpeng@gmail.com>
> >> > > wrote:
> >> > > > >
> >> > > > > > Hi,
> >> > > > > >
> >> > > > > > I am using StandardAnalyzer(Version.LUCENE_30);
> >> > > > > >
> >> > > > > > 2010/6/27 tarun sapra <t.sapra97@gmail.com>
> >> > > > > >
> >> > > > > > > which analyzer are you usin'?
> >> > > > > > >
> >> > > > > > >
> >> > > > > > > On Sun, Jun 27, 2010 at 7:12 AM, a peng <
> >> zhoudengpeng@gmail.com>
> >> > > > > wrote:
> >> > > > > > >
> >> > > > > > > > Hi,
> >> > > > > > > >
> >> > > > > > > > I know the indexed content contains the following text:
> >> "This
> >> > is
> >> > > a
> >> > > > > > test".
> >> > > > > > > > And the search phrase I used is "This is a formal test",
> and
> >> > then
> >> > > I
> >> > > > > set
> >> > > > > > > the
> >> > > > > > > > slop of the PhraseQuery as 2 with setSlop(2), but I found
> >> that
> >> > I
> >> > > > can
> >> > > > > > not
> >> > > > > > > > get
> >> > > > > > > > a search result. If I set the search phrase as "This is
> >> formal
> >> > > > test",
> >> > > > > > > then
> >> > > > > > > > I
> >> > > > > > > > can get the search result.
> >> > > > > > > >
> >> > > > > > > > So what is the problem here, thanks in advance.
> >> > > > > > > >
> >> > > > > > > >
> >> > > > > > > > Attached is the Java doc for the setSlop method:
> >> > > > > > > >
> >> > > > > > > > public void *setSlop*(int s)
> >> > > > > > > >
> >> > > > > > > > Sets the number of other words permitted between words in
> >> query
> >> > > > > phrase.
> >> > > > > > > If
> >> > > > > > > > zero, then this is an exact phrase search. For larger
> values
> >> > this
> >> > > > > works
> >> > > > > > > > like
> >> > > > > > > > a WITHIN or NEAR operator.
> >> > > > > > > >
> >> > > > > > > > The slop is in fact an edit-distance, where the units
> >> > correspond
> >> > > to
> >> > > > > > moves
> >> > > > > > > > of
> >> > > > > > > > terms in the query phrase out of position. For example, to
> >> > switch
> >> > > > the
> >> > > > > > > order
> >> > > > > > > > of two words requires two moves (the first move places the
> >> > words
> >> > > > atop
> >> > > > > > one
> >> > > > > > > > another), so to permit re-orderings of phrases, the slop
> >> must
> >> > be
> >> > > at
> >> > > > > > least
> >> > > > > > > > two.
> >> > > > > > > >
> >> > > > > > > > More exact matches are scored higher than sloppier
> matches,
> >> > thus
> >> > > > > search
> >> > > > > > > > results are sorted by exactness.
> >> > > > > > > >
> >> > > > > > > > The slop is zero by default, requiring exact matches.
> >> > > > > > > >
> >> > > > > > >
> >> > > > > > >
> >> > > > > > >
> >> > > > > > > --
> >> > > > > > > Thanks & Regards
> >> > > > > > > Tarun Sapra
> >> > > > > > >
> >> > > > > >
> >> > > > >
> >> > > > >
> >> > > > >
> >> > > > > --
> >> > > > > Thanks & Regards
> >> > > > > Tarun Sapra
> >> > > > >
> >> > > >
> >> > >
> >> >
> >> >
> >> >
> >> > --
> >> > Thanks & Regards
> >> > Tarun Sapra
> >> >
> >>
> >
> >
>

--0016361e7b901926eb048a34fe58--

From java-user-return-46579-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 30 03:13:41 2010
Return-Path: <java-user-return-46579-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18591 invoked from network); 30 Jun 2010 03:13:41 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 30 Jun 2010 03:13:41 -0000
Received: (qmail 55010 invoked by uid 500); 30 Jun 2010 03:13:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54484 invoked by uid 500); 30 Jun 2010 03:13:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54473 invoked by uid 99); 30 Jun 2010 03:13:36 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Jun 2010 03:13:36 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of mail.apoorv@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Jun 2010 03:13:28 +0000
Received: by iwn39 with SMTP id 39so235968iwn.35
        for <java-user@lucene.apache.org>; Tue, 29 Jun 2010 20:13:07 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:from:date
         :message-id:subject:to:content-type;
        bh=NYBZVjEAHTL554Q6ZhwkJNe1Lbapkb+xfn4/5N5G2BQ=;
        b=C/czRctI42dcHxY1Rouahl5pWFKGBwKIydGnv901JjFd76p9wOLNKq0YD2TmBijmPP
         g+dR6EQdoIQPFHCqqD1q540N+NX/fphdgr7obAcHPDKvOAqVvLIi4HAK3XblJWjqS7uv
         prp94sh2Kg9XmQDmS46FbsRx1IxeXvsZkW4Mw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:from:date:message-id:subject:to:content-type;
        b=NjeJI27kQyu9fy17tF1hU+h+3miqCr6tcCEJAMLx968qKw8D8BXqNh4+TNqEbJzaCf
         PFQPJOwriz7hGlj7VfHGcglEEJvcZd3LL9G2wC3TM1WrMRuuWyzo3ptxpPSiPnTpWb1G
         uJNz6FfLc7M3lVCzLg0ytBexxOgmcvQbyW+7s=
Received: by 10.231.50.145 with SMTP id z17mr7243791ibf.148.1277867587277; 
	Tue, 29 Jun 2010 20:13:07 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.231.183.208 with HTTP; Tue, 29 Jun 2010 20:12:47 -0700 (PDT)
From: Apoorv Sharma <mail.apoorv@gmail.com>
Date: Wed, 30 Jun 2010 08:42:47 +0530
Message-ID: <AANLkTimKQj_kBddR0eFyPLwS5agYaUxAVxYl4An8YdxG@mail.gmail.com>
Subject: Document Order in IndexWriter.addIndexes
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0015176f02ae9c1335048a36bb6a
X-Virus-Checked: Checked by ClamAV on apache.org

--0015176f02ae9c1335048a36bb6a
Content-Type: text/plain; charset=ISO-8859-1

while calling addindexes or addindexes with no optimize can any gurantee be
given about the document order in the new documents given that the order of
directories/indexreader is fixed.

So is it that ith document coming from jth indexreader will always have some
x(i,j) position in the final merged index ?

--0015176f02ae9c1335048a36bb6a--

From java-user-return-46580-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 30 03:32:40 2010
Return-Path: <java-user-return-46580-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22028 invoked from network); 30 Jun 2010 03:32:40 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 30 Jun 2010 03:32:40 -0000
Received: (qmail 65317 invoked by uid 500); 30 Jun 2010 03:32:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64882 invoked by uid 500); 30 Jun 2010 03:32:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64874 invoked by uid 99); 30 Jun 2010 03:32:33 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Jun 2010 03:32:33 +0000
X-ASF-Spam-Status: No, hits=4.4 required=10.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of t.sapra97@gmail.com designates 209.85.212.48 as permitted sender)
Received: from [209.85.212.48] (HELO mail-vw0-f48.google.com) (209.85.212.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Jun 2010 03:32:25 +0000
Received: by vws19 with SMTP id 19so676225vws.35
        for <java-user@lucene.apache.org>; Tue, 29 Jun 2010 20:32:04 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=5WMZpwoug45U3Eiw5e0fu017+Zx17SZCyYkws685O7w=;
        b=ihWeT2LRPBqMiyPAG0F3MrfqLDvN0E305hqcoKAaXcuL+yQocHX02aUbedgR94D861
         xG/WycyPgGl5JcOOtbGYSJU/gN+zlbxz+YgPUxN8yIUHmDvxhQEqlBAfDH8Fl0gQe1yA
         rmXSdOpKCYECpRF9nrKQjLxvvdFEeBD17D/T0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=VunOyF0viVOtljp+5zjIxMtuIlBZyWM4OdYODncOkToO+z80cu9HYzwYo9A90/JAVM
         kcwWwWyn6bQObCQvebRL3xiZXoFaGR6Zqe5bBKF3fXPWHb9C8Evdn0DVFzIOoKCsHNfX
         zshn2X1h2czU9BKW2NzizypB0ZrL46CNlYf8s=
MIME-Version: 1.0
Received: by 10.220.121.224 with SMTP id i32mr132355vcr.74.1277868724401; Tue, 
	29 Jun 2010 20:32:04 -0700 (PDT)
Received: by 10.220.188.200 with HTTP; Tue, 29 Jun 2010 20:32:04 -0700 (PDT)
In-Reply-To: <E97E0C22-E940-4F44-871A-47EF991CF351@mit.edu>
References: <E97E0C22-E940-4F44-871A-47EF991CF351@mit.edu>
Date: Wed, 30 Jun 2010 09:02:04 +0530
Message-ID: <AANLkTinRcpBB-0g0CsGF0mAAbU5PRXvoZuizyN5aZBow@mail.gmail.com>
Subject: Re: example of processing tokens from query results?
From: tarun sapra <t.sapra97@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=001636d344636337d2048a36ffae
X-Virus-Checked: Checked by ClamAV on apache.org

--001636d344636337d2048a36ffae
Content-Type: text/plain; charset=ISO-8859-1

Similar kind of code is given in  Lucene in Action 2nd edition book , you
can dwld the code from the manning website.

On Wed, Jun 30, 2010 at 2:11 AM, Peter Wilkins <pwilkins@mit.edu> wrote:

> Can someone point me to a code example that demonstrates processing tokens
> from a query result?  I want to iterate over TermPositions but can't find my
> way to an object that instantiates that interface.
>
> Thank you for the assistance,
> Peter
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


-- 
Thanks & Regards
Tarun Sapra

--001636d344636337d2048a36ffae--

From java-user-return-46581-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 30 06:04:43 2010
Return-Path: <java-user-return-46581-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53811 invoked from network); 30 Jun 2010 06:04:43 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 30 Jun 2010 06:04:43 -0000
Received: (qmail 84748 invoked by uid 500); 30 Jun 2010 06:04:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84098 invoked by uid 500); 30 Jun 2010 06:04:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84090 invoked by uid 99); 30 Jun 2010 06:04:35 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Jun 2010 06:04:35 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of suman.holani@zapak.co.in designates 220.226.181.11 as permitted sender)
Received: from [220.226.181.11] (HELO mail.zapak.co.in) (220.226.181.11)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 30 Jun 2010 06:04:25 +0000
Received: (qmail 23044 invoked by uid 508); 30 Jun 2010 06:04:01 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=default; d=zapak.co.in;
  b=mvVROLmRBJA2GFAO8+eRxGwMuuJEPkxOpfeOTkmwmIZoK3PZUZi9wsFa3LRsn+SW  ;
Received: from localhost (HELO www.mail.zapak.co.in) (127.0.0.1)
  by mail.zapak.co.in with SMTP; 30 Jun 2010 06:04:01 -0000
MIME-Version: 1.0
Date: Wed, 30 Jun 2010 11:34:01 +0530
From: <suman.holani@zapak.co.in>
To: <java-user@lucene.apache.org>
Subject: inverted index in clucene
Message-ID: <ecce042ad7be77e61daf84ea1d2e450d@localhost>
X-Sender: suman.holani@zapak.co.in
User-Agent: RoundCube Webmail/0.3.1
Content-Type: multipart/alternative;
	boundary="=_b60302d493f83552c289b28b078747fd"
X-Virus-Checked: Checked by ClamAV on apache.org

--=_b60302d493f83552c289b28b078747fd
Content-Transfer-Encoding: 8bit
Content-Type: text/plain; charset=UTF-8



Hello , 

Can we use subset of documents , for searching . 

Lets say I
have hash map of 

P1 -1,2,3,4 

P2 - 3,4,5 

P3-7,5,3 

Now I have an
documents in lucene index stored as  

1-P1 

2-P1 

3-P1,P2,P3 

4-P1,P2


5-P2,P3 

7-P3 

.. 

.. 

when i search docs with P2 I get 3,4,5 

Now I
want my search to b restricted to just 3,4,5 doc only. where by I can
search only these docs for further parameters. 

1. How to go abt it. 

2.
Is there any other seraching mechanism I should use, or Lucene is better
fit? 

3. should i keep my hash map also in lucene indexes and is then thr
a method to link it to another lucene indexes. 

Regards, 

Suman 

 
--=_b60302d493f83552c289b28b078747fd--


From java-user-return-46582-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 30 06:26:16 2010
Return-Path: <java-user-return-46582-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60628 invoked from network); 30 Jun 2010 06:26:16 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 30 Jun 2010 06:26:16 -0000
Received: (qmail 1433 invoked by uid 500); 30 Jun 2010 06:26:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1129 invoked by uid 500); 30 Jun 2010 06:26:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1113 invoked by uid 99); 30 Jun 2010 06:26:09 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Jun 2010 06:26:09 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [64.202.165.31] (HELO smtpauth18.prod.mesa1.secureserver.net) (64.202.165.31)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 30 Jun 2010 06:26:01 +0000
Received: (qmail 31010 invoked from network); 30 Jun 2010 06:24:38 -0000
Received: from unknown (81.219.54.251)
  by smtpauth18.prod.mesa1.secureserver.net (64.202.165.31) with ESMTP; 30 Jun 2010 06:24:38 -0000
Message-ID: <4C2AE31A.7070906@getopt.org>
Date: Wed, 30 Jun 2010 08:24:26 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.1.9) Gecko/20100317 Thunderbird/3.0.4
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Document Order in IndexWriter.addIndexes
References: <AANLkTimKQj_kBddR0eFyPLwS5agYaUxAVxYl4An8YdxG@mail.gmail.com>
In-Reply-To: <AANLkTimKQj_kBddR0eFyPLwS5agYaUxAVxYl4An8YdxG@mail.gmail.com>
X-Enigmail-Version: 1.0.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 2010-06-30 05:12, Apoorv Sharma wrote:
> while calling addindexes or addindexes with no optimize can any gurantee be
> given about the document order in the new documents given that the order of
> directories/indexreader is fixed.
> 
> So is it that ith document coming from jth indexreader will always have some
> x(i,j) position in the final merged index ?

Currently that should be the case. SegmentMerger copies contiguous
ranges of documents from readers (removing deletions), in the same order
as they were provided to addIndexes. Document numbers are shifted to
account for deletions, but other than that they are sequentially
increased according to each sub-reader's docBase+docNum.

HOWEVER... this is an implementation detail, not any API guarantee, and
while it works today it may change silently in a minor Lucene revision.
Design your application so that it doesn't rely on this behavior. You
have been warned :)


-- 
Best regards,
Andrzej Bialecki     <><
 ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46583-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 30 06:53:33 2010
Return-Path: <java-user-return-46583-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71347 invoked from network); 30 Jun 2010 06:53:33 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 30 Jun 2010 06:53:33 -0000
Received: (qmail 24760 invoked by uid 500); 30 Jun 2010 06:53:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24372 invoked by uid 500); 30 Jun 2010 06:53:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24364 invoked by uid 99); 30 Jun 2010 06:53:26 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Jun 2010 06:53:26 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of id.navs@gmail.com designates 209.85.212.48 as permitted sender)
Received: from [209.85.212.48] (HELO mail-vw0-f48.google.com) (209.85.212.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Jun 2010 06:53:19 +0000
Received: by vws19 with SMTP id 19so910317vws.35
        for <java-user@lucene.apache.org>; Tue, 29 Jun 2010 23:52:58 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=h49pOSLXx0gRxJCP1/okk+T1VoD/HsWRgaEuh+YXm6o=;
        b=grzchOsr0dOnCmKSUDGH64DdzD7uIQa+FmgAs/n9ucKQ0utwtqbiIiSe1wNOPs/34Y
         c+x8vzPsMEQti8EAej51m2O4mYJXH5wJuegq6t4ipYzkSs4UTRtyzvnv9T55a+cDVEXw
         anlY/OwNsQ4kHSZOz5RMbD2k3ag25R/ERoPsI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=sed+q2409qgolQ7NHfTolraM/1VmTYNjAZg8b3lQeCLNHrWljpSM15uTHq7eox8RtY
         XpfuzrzxU7guO5F8LaIwC1givnHmxtxUeTVMaKrmNBUHjNVuEfTc/LYLQrZX6bmfiK7O
         euA8gGQaaIQiDH3Cxhze6a6YcAhielAmUNsoA=
MIME-Version: 1.0
Received: by 10.229.181.3 with SMTP id bw3mr4636662qcb.155.1277880778002; Tue, 
	29 Jun 2010 23:52:58 -0700 (PDT)
Received: by 10.229.75.5 with HTTP; Tue, 29 Jun 2010 23:52:57 -0700 (PDT)
In-Reply-To: <AANLkTilP6AZ4v1A3NsmknJEZaboDVs_sSnrVnjAocd61@mail.gmail.com>
References: <AANLkTik_YreUcWYtk8R_MdLFCaSkCTCtOzptDu4H86xY@mail.gmail.com>
	<AANLkTilP6AZ4v1A3NsmknJEZaboDVs_sSnrVnjAocd61@mail.gmail.com>
Date: Wed, 30 Jun 2010 12:22:57 +0530
Message-ID: <AANLkTikM1867200DnQ-8Oo3YRSTP62IMIA9Wvl7va8Lv@mail.gmail.com>
Subject: Re: Adding a new field to existing Index
From: Naveen Kumar <id.navs@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00163631011fd69312048a39cd1a
X-Virus-Checked: Checked by ClamAV on apache.org

--00163631011fd69312048a39cd1a
Content-Type: text/plain; charset=ISO-8859-1

yes, with lucene's current API's, it does not seem possible.
But, as this is a problem that many might be facing, I was hoping someone
might have figured out a solution.


On Tue, Jun 29, 2010 at 5:29 PM, Mango <bghost@gmail.com> wrote:

> Unfortunately, I don't think it is possible to add new field without
> re-indexing.
>
> As for extracting content from the field, it should be possible to
> retrieve data if the term vectors
> were stored with positions offset
> (Field.TermVector.WITH_POSITIONS_OFFSETS). If not, I don't
> think it's possible.
>
> On Tue, Jun 29, 2010 at 1:40 PM, Naveen Kumar <id.navs@gmail.com> wrote:
> > Hey,
> >
> > I need to add a new field (a stored , not indexed field) for all
> documents
> > present in an existing large index. Reindexing the whole index will be
> very
> > costly. Is there a way to do this or any work around?
> >
> > I would also like to know, if data or term vector, of a field indexed
> > without storing, can somehow be retrieved. This would enable a work
> around
> > solution to my problem.
> >
> > Thank you
> > Naveen Kumar
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--00163631011fd69312048a39cd1a--

From java-user-return-46584-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 30 07:04:54 2010
Return-Path: <java-user-return-46584-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73046 invoked from network); 30 Jun 2010 07:04:54 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 30 Jun 2010 07:04:54 -0000
Received: (qmail 31766 invoked by uid 500); 30 Jun 2010 07:04:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31510 invoked by uid 500); 30 Jun 2010 07:04:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30907 invoked by uid 99); 30 Jun 2010 07:04:46 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Jun 2010 07:04:46 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [64.202.165.31] (HELO smtpauth18.prod.mesa1.secureserver.net) (64.202.165.31)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 30 Jun 2010 07:04:39 +0000
Received: (qmail 5130 invoked from network); 30 Jun 2010 07:04:17 -0000
Received: from unknown (81.219.54.251)
  by smtpauth18.prod.mesa1.secureserver.net (64.202.165.31) with ESMTP; 30 Jun 2010 07:04:17 -0000
Message-ID: <4C2AEC65.1070904@getopt.org>
Date: Wed, 30 Jun 2010 09:04:05 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.1.9) Gecko/20100317 Thunderbird/3.0.4
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Adding a new field to existing Index
References: <AANLkTik_YreUcWYtk8R_MdLFCaSkCTCtOzptDu4H86xY@mail.gmail.com>
In-Reply-To: <AANLkTik_YreUcWYtk8R_MdLFCaSkCTCtOzptDu4H86xY@mail.gmail.com>
X-Enigmail-Version: 1.0.1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 2010-06-29 13:40, Naveen Kumar wrote:
> Hey,
> 
> I need to add a new field (a stored , not indexed field) for all
> documents present in an existing large index. Reindexing the whole
> index will be very costly. Is there a way to do this or any work
> around?

There are some other low-level ways to do this, but the easiest is to
use a FilterIndexReader, especially since you just want to add a stored
field - implement a subclass of FilterIndexReader that adds a new field
in getFieldNames() and document(int). Then use
IndexWriter.addIndexes(IndexReader[]) to create the output index.

> 
> I would also like to know, if data or term vector, of a field
> indexed without storing, can somehow be retrieved. This would enable
> a work around solution to my problem.

Not really, and the re-construction is very costly. Indexing is a lossy
process, so not all content can be recovered. See the "Reconstruct &
Edit" functionality in Luke (http://www.getopt.org/luke).

-- 
Best regards,
Andrzej Bialecki     <><
 ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46585-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 30 19:52:07 2010
Return-Path: <java-user-return-46585-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19844 invoked from network); 30 Jun 2010 19:52:07 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 30 Jun 2010 19:52:07 -0000
Received: (qmail 75258 invoked by uid 500); 30 Jun 2010 19:52:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75189 invoked by uid 500); 30 Jun 2010 19:52:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 17334 invoked by uid 99); 30 Jun 2010 16:12:23 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Apple Message framework v1081)
Subject: Re: example of processing terms in query results?
From: Grant Ingersoll <gsingers@apache.org>
In-Reply-To: <1DF21F0C-2880-4636-B6D7-9791215583B0@mit.edu>
Date: Wed, 30 Jun 2010 12:11:57 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <DD43FF5F-744F-48D1-B675-EC4431E37EC5@apache.org>
References: <1DF21F0C-2880-4636-B6D7-9791215583B0@mit.edu>
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.1081)
X-Virus-Checked: Checked by ClamAV on apache.org

h=
ttp://www.lucidimagination.com/blog/2009/08/05/getting-started-with-payloa=
ds/ and =
http://www.lucidimagination.com/blog/2010/04/18/refresh-getting-started-wi=
th-payloads/


On Jun 29, 2010, at 1:09 PM, Peter Wilkins wrote:

> Can someone point me to a code example that demonstrates processing =
terms from a query result?  I want to extract payloads from the terms =
that are selected by the query.  I'm having difficulty getting to an =
object in the query result that implements getPayload().
>=20
> Thank you for the assistance,
> Peter
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20

--------------------------
Grant Ingersoll
http://www.lucidimagination.com/

Search the Lucene ecosystem using Solr/Lucene: =
http://www.lucidimagination.com/search


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-46586-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 30 20:17:13 2010
Return-Path: <java-user-return-46586-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28748 invoked from network); 30 Jun 2010 20:17:13 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 30 Jun 2010 20:17:13 -0000
Received: (qmail 5020 invoked by uid 500); 30 Jun 2010 20:17:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4234 invoked by uid 500); 30 Jun 2010 20:17:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4226 invoked by uid 99); 30 Jun 2010 20:17:07 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Jun 2010 20:17:07 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of mail.apoorv@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Jun 2010 20:17:00 +0000
Received: by iwn39 with SMTP id 39so1413080iwn.35
        for <java-user@lucene.apache.org>; Wed, 30 Jun 2010 13:16:39 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type;
        bh=OVOdJWGHsP0gXFKx9N9ibHScKMsMQqHYU3DhI86joNw=;
        b=Dl7VNHHIsMEqNXG/v5FQLn8bAPpraa29D4OszWkEqPNal17FnXygnd3YU2eHEUFyUJ
         OvSC/jVdrn0E1GCf417eOtBAoDVPO7HL+TI4jtgmU1+RNsVxOwz8ut1uyM6vfLZW/Oam
         RuBe5FkMrCBQ30DPNnsb7tYIFsghxiNChL7pM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=NVGjyDnwKP+t1eJZjhf8z3n91qrtvJIYtmfA+Qm7I5Rba4FOb4I0UYmLm2lyVkrnwP
         RipUU4ZZUxJ70lub7Teg3b0YxHh+m6ZyZRG63AYi97/dyjLOHF30tbVLZjNgmIac9ane
         RnBoeyoe8izoQSsbZnDcSPOBKEMxeSV7QoDWs=
Received: by 10.231.167.141 with SMTP id q13mr8665193iby.34.1277928999343; 
	Wed, 30 Jun 2010 13:16:39 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.231.174.19 with HTTP; Wed, 30 Jun 2010 13:16:18 -0700 (PDT)
In-Reply-To: <4C2AE31A.7070906@getopt.org>
References: <AANLkTimKQj_kBddR0eFyPLwS5agYaUxAVxYl4An8YdxG@mail.gmail.com> 
	<4C2AE31A.7070906@getopt.org>
From: Apoorv Sharma <mail.apoorv@gmail.com>
Date: Wed, 30 Jun 2010 13:16:18 -0700
Message-ID: <AANLkTinZCUpGhYcCIjg_D5QH7gyDvzxRmrawZVS7hav-@mail.gmail.com>
Subject: Re: Document Order in IndexWriter.addIndexes
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00504502e3af0dd728048a4508bb
X-Virus-Checked: Checked by ClamAV on apache.org

--00504502e3af0dd728048a4508bb
Content-Type: text/plain; charset=ISO-8859-1

This implies there is no way to merge two parallel indexes(based on parallel
reader) to get a new parallel index. Correct me if I am wrong.

On Tue, Jun 29, 2010 at 11:24 PM, Andrzej Bialecki <ab@getopt.org> wrote:

> On 2010-06-30 05:12, Apoorv Sharma wrote:
> > while calling addindexes or addindexes with no optimize can any gurantee
> be
> > given about the document order in the new documents given that the order
> of
> > directories/indexreader is fixed.
> >
> > So is it that ith document coming from jth indexreader will always have
> some
> > x(i,j) position in the final merged index ?
>
> Currently that should be the case. SegmentMerger copies contiguous
> ranges of documents from readers (removing deletions), in the same order
> as they were provided to addIndexes. Document numbers are shifted to
> account for deletions, but other than that they are sequentially
> increased according to each sub-reader's docBase+docNum.
>
> HOWEVER... this is an implementation detail, not any API guarantee, and
> while it works today it may change silently in a minor Lucene revision.
> Design your application so that it doesn't rely on this behavior. You
> have been warned :)
>
>
> --
> Best regards,
> Andrzej Bialecki     <><
>  ___. ___ ___ ___ _ _   __________________________________
> [__ || __|__/|__||\/|  Information Retrieval, Semantic Web
> ___|||__||  \|  ||  |  Embedded Unix, System Integration
> http://www.sigram.com  Contact: info at sigram dot com
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--00504502e3af0dd728048a4508bb--

From java-user-return-46587-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jun 30 21:17:58 2010
Return-Path: <java-user-return-46587-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49367 invoked from network); 30 Jun 2010 21:17:58 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 30 Jun 2010 21:17:58 -0000
Received: (qmail 87536 invoked by uid 500); 30 Jun 2010 21:17:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87493 invoked by uid 500); 30 Jun 2010 21:17:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87485 invoked by uid 99); 30 Jun 2010 21:17:55 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Jun 2010 21:17:55 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of mmehrwald@gmx.at designates 213.165.64.20 as permitted sender)
Received: from [213.165.64.20] (HELO mail.gmx.net) (213.165.64.20)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 30 Jun 2010 21:17:46 +0000
Received: (qmail invoked by alias); 30 Jun 2010 21:17:26 -0000
Received: from p57B1C4DA.dip.t-dialin.net (EHLO [192.168.2.35]) [87.177.196.218]
  by mail.gmx.net (mp058) with SMTP; 30 Jun 2010 23:17:26 +0200
X-Authenticated: #5723743
X-Provags-ID: V01U2FsdGVkX18zaHNH/ZszsCMyq+kqWyptEW43RH8E4GM3zVAFjq
	BNr7MPt9cIe8QU
Message-ID: <4C2BB465.1010709@gmx.at>
Date: Wed, 30 Jun 2010 23:17:25 +0200
From: Markus Mehrwald <mmehrwald@gmx.at>
User-Agent: Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.1.10) Gecko/20100621 Fedora/3.0.5-1.fc13 Thunderbird/3.0.5
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Stopwords and Wildcards
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit
X-Y-GMX-Trusted: 0
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

I use an AnalyzingQueryParser with the StandardAnalyzer and german 
stopwords in Lucene 3.0.1. If I have a query with a stopword followd by 
a wildcard (e. g. das*) I get a ParseException: Cannot build PrefixQuery 
with analyzer class org.apache.lucene.analysis.standard.StandardAnalyzer 
- token consumed.
Without the wildcard it works. I can remove the stopwords before 
building the query of course but then I and the analyzer have to search 
for the stop words what might be not the best solution in my eyes.
Is there any other way to get a proper result without writing code twice?

Thanks,
Markus

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


