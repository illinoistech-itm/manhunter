From java-user-return-48592-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Feb 01 10:00:25 2011
Return-Path: <java-user-return-48592-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88423 invoked from network); 1 Feb 2011 10:00:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Feb 2011 10:00:25 -0000
Received: (qmail 48170 invoked by uid 500); 1 Feb 2011 10:00:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47926 invoked by uid 500); 1 Feb 2011 10:00:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47918 invoked by uid 99); 1 Feb 2011 10:00:18 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Feb 2011 10:00:18 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of karolina.bernat@googlemail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Feb 2011 10:00:11 +0000
Received: by qwe4 with SMTP id 4so6697946qwe.35
        for <java-user@lucene.apache.org>; Tue, 01 Feb 2011 01:59:50 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=A9MEVFl8mHxg/0uYt6yELT14B+axMAhdzZg/Cu2siHY=;
        b=xZNIH5wRdrPH5P3dKiyi9ETKafcoNgzD/kes6KrzdLim5u74ONz/R3xMEI3mDi0MkM
         1ESEvVP8BYjaMvvZahsnDy2/sVmnO6wVTy6Rjp2L7pEn+DQolfWRJa47uvIgn7VRiQ5b
         7vzvc/a3CfrbGm1DU/yVvCvQuAgWjHaJOu4XM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=LLI+CuUp1kIkaUADqblg+hFY2+LlDE4W9peI1qNDAbD+54riftJAOr96DBuzZRkH3O
         s86bWzZWt5NTJC+kfKGBXX+pi1dQD6OSM/na76B8uTF4yjW86fbku1SHf9//w48lqVoF
         ewn1k/8fDlHchmqfPxNwa0SHHTvQ1+flvD538=
Received: by 10.229.211.206 with SMTP id gp14mr6731954qcb.289.1296554390128;
 Tue, 01 Feb 2011 01:59:50 -0800 (PST)
MIME-Version: 1.0
Received: by 10.229.82.6 with HTTP; Tue, 1 Feb 2011 01:59:29 -0800 (PST)
In-Reply-To: <AANLkTin=c_qLGW_2yZGta9DPi1OOACcA74yCr=URfXEs@mail.gmail.com>
References: <AANLkTin=c_qLGW_2yZGta9DPi1OOACcA74yCr=URfXEs@mail.gmail.com>
From: Karolina Bernat <karolina.bernat@googlemail.com>
Date: Tue, 1 Feb 2011 10:59:29 +0100
Message-ID: <AANLkTikXJmwmswAKCy4R4Z+vOqXGvmrpzPj3dw+b3LTE@mail.gmail.com>
Subject: Re: Token position vs. token offset - how to bring them together?
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e6509d4adb0e12049b3597c5
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e6509d4adb0e12049b3597c5
Content-Type: text/plain; charset=ISO-8859-1

Hi,

perhaps there is someone, who's trying to do the same thing so I just write
down, how I got along with this problem. It is NOT the most elegant
solution, but it works for me. I don't really know yet, how the performance
of my search will be, but the tests look so far ok.

For my phrase search I actually used the SpnQuery - I read that the
QueryParser cant't handle this kind of queries so I do it manually by
checking, if the user entered the search text within the " ".
Handling a SpanQuery one have an access to the query spans - and the spans
give you the start and the end position of the searched words.
Furthermore I could find the positions and the offset information of the
WeightedTerms by using :
QueryTermExtractor.getIdfWeightedTerms(...)  and  TermPositionVector

Because there is no possibility (or none that I know of) of getting the
offset information if you know the terms positions, I thought of saving all
the term positions and the term offset informations.. and since I get the
span start- and end-position from a SpanQuery I can look up in the terms
positions-array, at which index/place in the array I find the position I got
from the SpanQuery and then go to my array with terms offset information and
get the one at the same index/position in this array...
With those informations I can get the start offset of the first term in the
SpanQuery and the end offset of the last term - and I can highlight those
continuous.

That is really not the best way to process, but I couldn't find any better.

Please let me know, if there is any other (better) way to do it.



On Fri, Jan 28, 2011 at 4:41 PM, Karolina Bernat <
karolina.bernat@googlemail.com> wrote:

> Hello,
>
> since I moved on with my offset-info problem in HTML files, I got a new one
> trying to bring the tokens positions information together with tokens/term
> offset information. Can someone tell me, how can I get a token, if I know
> its position? It would be nice to get the tokens position from the Token
> class, but I could only get the positionIncrement, which is not really
> helpful..
>
> What I'm actually trying to do, is to find the offset information of a
> span/phrase query. I know, that the contrib highligter can highlight phrase
> queries, but I want/need to do it one my own (or rather give the information
> to another application, that does the highlighting of my documents). I also
> couldn't really understand, how does the highlighter recognize, that the
> individual tokens/terms belong to the phrase (i.e. if I search for "peter
> pan" at the moment I also get the tokens 'peter' and 'pan' as weighted
> terms, also if they occur individually).
>
> Thanks so much in advance!
> Karolina
>
>

--0016e6509d4adb0e12049b3597c5--

From java-user-return-48593-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Feb 01 10:19:15 2011
Return-Path: <java-user-return-48593-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5337 invoked from network); 1 Feb 2011 10:19:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Feb 2011 10:19:14 -0000
Received: (qmail 67137 invoked by uid 500); 1 Feb 2011 10:19:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66933 invoked by uid 500); 1 Feb 2011 10:19:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66925 invoked by uid 99); 1 Feb 2011 10:19:07 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Feb 2011 10:19:07 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ophchu@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Feb 2011 10:18:58 +0000
Received: by fxm2 with SMTP id 2so7182476fxm.35
        for <java-user@lucene.apache.org>; Tue, 01 Feb 2011 02:18:38 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:message-id:date:from:user-agent:mime-version:to
         :subject:content-type;
        bh=f6DhZhwTAIZT2AdykRm3uFLDw6fP6EbeweTJznTpyIQ=;
        b=JzFbqhUJe8ue7mjgbeVDt0RRNhfJdY3wHxa/2XaE6QJUJpKNNrH3o+ukKZy41YHpC7
         aSdYVeTX8Cc0tmE3tKeOPWlNcXnAh5BqqSkHadBubzqnjgzXBn2eAVZOa0MQA4/PjEFe
         TO+rUxU3pzJpeoS+mjFNwhSqcDJvbVf9aQqAo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=message-id:date:from:user-agent:mime-version:to:subject
         :content-type;
        b=cLqy68ql+0kAc0/N4oOaREK4USB5PlganYeDsfO2HFF53sNjpKZ+zqzbMMkVnOmgPx
         xnW+/5roRjmbU8riRTcCg8NmAyzu6mqBqQwikDtBsB4RTymiF0hjWIgI+Lr/251BunCi
         9K2A2K0eki4yzxT4k3pYkZo8zZJKSRDYvt7U4=
Received: by 10.223.85.203 with SMTP id p11mr7201950fal.108.1296555518316;
        Tue, 01 Feb 2011 02:18:38 -0800 (PST)
Received: from [192.168.22.190] ([195.62.31.20])
        by mx.google.com with ESMTPS id e17sm7756381fak.10.2011.02.01.02.18.37
        (version=SSLv3 cipher=RC4-MD5);
        Tue, 01 Feb 2011 02:18:37 -0800 (PST)
Message-ID: <4D47DDFC.9030007@gmail.com>
Date: Tue, 01 Feb 2011 12:18:36 +0200
From: Ophir Cohen <ophchu@gmail.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.2.13) Gecko/20101207 Lightning/1.0b2 Thunderbird/3.1.7
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Fwd: Payloads API and support
Content-Type: multipart/alternative;
 boundary="------------070209010007070302050203"
X-Virus-Checked: Checked by ClamAV on apache.org

--------------070209010007070302050203
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Hi Guys,

I've been using Lucene for more than 5 years and it is a great tool - 
great job! Thanks for everything...


Lately I encountered the new payloads support and it looks its a great 
solution for my project.


*The problem:*

The use case is as follows:

I need to support a way to calculate statistics on web pages.

Each page has few metrics that comes with it (how many user saw it, what 
was the average time on page etc...).


The requirement is to support query such as:

How many users saw pages contains the tokens 'house' and 'white'.

Or

What was the average time on pages contains tokens 'horse' and 'pony'.


*First solution:*

Add pages to Lucene, index the words and store the metrics.

*The problem: performance.*

Not as regular search, I need to provide results for all matched 
documents and those I need to iterate on all results and load the 
document data.
This method take to much time.


*Better solution:*

Store the metrics as payloads and calculate the needed data without 
access to the storage - a huge performance boost.


The problem is (unless I miss something) that I can't get the payloads 
from anything except TermPositions and it isn't good enough as I want to 
use complex queries.

Is there is any other way to access it?

One option can be to get the payload with the document id in the collector.


Any ideas/comments/suggests?

-- 
Thanks in advance,
Ophir Cohen


--------------070209010007070302050203--

From java-user-return-48594-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Feb 01 13:28:10 2011
Return-Path: <java-user-return-48594-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29088 invoked from network); 1 Feb 2011 13:28:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Feb 2011 13:28:10 -0000
Received: (qmail 27346 invoked by uid 500); 1 Feb 2011 13:28:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27106 invoked by uid 500); 1 Feb 2011 13:28:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27085 invoked by uid 99); 1 Feb 2011 13:28:03 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Feb 2011 13:28:03 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of tsvika.rabkin@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Feb 2011 13:27:56 +0000
Received: by qwe4 with SMTP id 4so6897357qwe.35
        for <java-user@lucene.apache.org>; Tue, 01 Feb 2011 05:27:35 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        bh=fhTamN0qcHNvUg+cM1ACC1wVAtJVq5KCgbU7qel1TSY=;
        b=xXjHk00jA1eTTB5VSdNL4o0kWGg7awSrjZdYXqElX9jTzjT9B1jOmCsS8N/TAWJZ9V
         l/TpMa8ewQWuIQrXYq8/+0Ef46DR3SK1h2PkU72QrBvhbmQXEH9kk+qA1UW4+Iu1eqph
         iUEGemCq25jzn3o8M+pctZFUaS7OQTyO28Ta4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:from:date:message-id:subject:to:content-type
         :content-transfer-encoding;
        b=dOYDWwRpBxkSLCfn8xRhwAgYUdeg2zV7DjJ7XhMEo24fS50+8fLThUYIfaOxoQFpa2
         vtETV2y6uhoTEyFnX8H5qGXY9s4bwPqK4OmBIO0XQDz7DGjwJytCKFeLyk6eo+Kk/hQD
         dC/2eFnzS+gGVniKrLQYJJOSjZrtniry02iM8=
Received: by 10.229.215.9 with SMTP id hc9mr5262100qcb.117.1296566855259; Tue,
 01 Feb 2011 05:27:35 -0800 (PST)
MIME-Version: 1.0
Received: by 10.229.219.148 with HTTP; Tue, 1 Feb 2011 05:27:14 -0800 (PST)
From: Tsvika Rabkin <tsvika.rabkin@gmail.com>
Date: Tue, 1 Feb 2011 15:27:14 +0200
Message-ID: <AANLkTik+BXrD5tWpjk=sMpdqv-LRHFUPmJspdMhAXWrR@mail.gmail.com>
Subject: Using different field when overriding computeNorm
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

I would like to override default similarity's computeNorm to work with
a different field, other than the query field.

Here is the DefaultSimilarity implementation:

@Override
=A0=A0public float computeNorm(String field, FieldInvertState state) {
=A0=A0 =A0final int numTerms;
=A0=A0 =A0if (discountOverlaps)
=A0=A0 =A0 =A0numTerms =3D state.getLength() - state.getNumOverlap();
=A0=A0 =A0else
=A0=A0 =A0 =A0numTerms =3D state.getLength();
=A0=A0 =A0return state.getBoost() * ((float) (1.0 / Math.sqrt(numTerms)));
=A0=A0}

any ideas how to do that?

Thanks,

Tsvika

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48595-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Feb 01 18:51:07 2011
Return-Path: <java-user-return-48595-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25155 invoked from network); 1 Feb 2011 18:51:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Feb 2011 18:51:07 -0000
Received: (qmail 92800 invoked by uid 500); 1 Feb 2011 18:51:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92520 invoked by uid 500); 1 Feb 2011 18:51:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92512 invoked by uid 99); 1 Feb 2011 18:51:01 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Feb 2011 18:51:01 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ryan@glassdoor.com designates 69.50.2.38 as permitted sender)
Received: from [69.50.2.38] (HELO ht1.hostedexchange.local) (69.50.2.38)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Feb 2011 18:50:54 +0000
Received: from mbx2.hostedexchange.local ([172.16.69.30]) by
 ht2.hostedexchange.local ([172.16.69.40]) with mapi; Tue, 1 Feb 2011 10:50:34
 -0800
From: Ryan Aylward <ryan@glassdoor.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Tue, 1 Feb 2011 10:51:27 -0800
Subject: RE: Using different field when overriding computeNorm
Thread-Topic: Using different field when overriding computeNorm
Thread-Index: AcvCE92ZeElRCpkfQZWVNRUya2Ao+AALDw4Q
Message-ID: <E1E61A9983E3F94DAA95AEDE2D487E7006211AC249@mbx2.hostedexchange.local>
References: <AANLkTik+BXrD5tWpjk=sMpdqv-LRHFUPmJspdMhAXWrR@mail.gmail.com>
In-Reply-To: <AANLkTik+BXrD5tWpjk=sMpdqv-LRHFUPmJspdMhAXWrR@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

I have had to do similar things to other methods of Similarity. In my examp=
le, I wanted to have different behavior for the tf() method for each field.=
 The tf method does not include a field parameter as an input to it. The on=
ly solution I could come up with was to add a thread local to set the field=
 and then check the thread local within the tf function. Here's the tf func=
tion...

	public float tf(float freq) {

		// Get the value of the thread local...
		String field =3D FieldThreadLocal.getField();

		if ("fieldA".equals(field)) {
			// always return 1 for field A
			return 1;
		} else {
			// otherwise, use the normal tf function
			return super.tf(freq);
		}
	}

tf() is used during scoring so I had to override the TermQuery (and TermWei=
ght and TermScorer) to be able to set and clear the thread local at the app=
ropriate times. This is a pretty ugly hack, but I couldn't find another way=
 to make this work.

computeNorm() is calculated at index creation time but you try to do someth=
ing similar.

Would be curious if other people had a better suggestion as to how to do th=
is.

-----Original Message-----
From: Tsvika Rabkin [mailto:tsvika.rabkin@gmail.com]=20
Sent: Tuesday, February 01, 2011 5:27 AM
To: java-user@lucene.apache.org
Subject: Using different field when overriding computeNorm

Hi,

I would like to override default similarity's computeNorm to work with
a different field, other than the query field.

Here is the DefaultSimilarity implementation:

@Override
=A0=A0public float computeNorm(String field, FieldInvertState state) {
=A0=A0 =A0final int numTerms;
=A0=A0 =A0if (discountOverlaps)
=A0=A0 =A0 =A0numTerms =3D state.getLength() - state.getNumOverlap();
=A0=A0 =A0else
=A0=A0 =A0 =A0numTerms =3D state.getLength();
=A0=A0 =A0return state.getBoost() * ((float) (1.0 / Math.sqrt(numTerms)));
=A0=A0}

any ideas how to do that?

Thanks,

Tsvika

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48596-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Feb 01 19:10:32 2011
Return-Path: <java-user-return-48596-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47909 invoked from network); 1 Feb 2011 19:10:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Feb 2011 19:10:32 -0000
Received: (qmail 35015 invoked by uid 500); 1 Feb 2011 19:10:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34556 invoked by uid 500); 1 Feb 2011 19:10:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34542 invoked by uid 99); 1 Feb 2011 19:10:21 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Feb 2011 19:10:21 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of rcmuir@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Feb 2011 19:10:14 +0000
Received: by bwz8 with SMTP id 8so7422267bwz.35
        for <java-user@lucene.apache.org>; Tue, 01 Feb 2011 11:09:53 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=P0EGoHFPFujDeCrp81/EJoMZ5qvUnimSs/+9LvlGrWQ=;
        b=ALxkv5G32FOfUOVAWj+I1GEeZnPxxriaO0hnq6bIHbcmLgjvF+KVEyJ69I63hfB2ZH
         XSEk+ng3XqgfsRNOcdtw4lbLxkrzRrB4VcP3jfuk+gRsTo/CXCNu2OrRSU42XQd1PxzB
         /0ejcSvX9HxGBLIZu+lXhKA/Xp74fu8sQBOIQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=rD3ym7OT368J8Ra5sqUT9NhFiH0+Em9MO38k0g2Kqg4xHC2373iBmxMqmBC5R6bVHw
         dzKKYgaE3UR1G69ANtQVXWgPPnx+HzNkz9rz7NSvgVpYZ7ZmHmoOTljX52BV7a+FQ5/J
         P3zzJLu0LujKdxz9NDhGQ5Ff8QTtQxKhZdCCU=
Received: by 10.204.62.209 with SMTP id y17mr6990032bkh.98.1296587393403; Tue,
 01 Feb 2011 11:09:53 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.101.5 with HTTP; Tue, 1 Feb 2011 11:09:33 -0800 (PST)
In-Reply-To: <E1E61A9983E3F94DAA95AEDE2D487E7006211AC249@mbx2.hostedexchange.local>
References: <AANLkTik+BXrD5tWpjk=sMpdqv-LRHFUPmJspdMhAXWrR@mail.gmail.com> <E1E61A9983E3F94DAA95AEDE2D487E7006211AC249@mbx2.hostedexchange.local>
From: Robert Muir <rcmuir@gmail.com>
Date: Tue, 1 Feb 2011 14:09:33 -0500
Message-ID: <AANLkTinXfwfyoDH_-0C4pRY+hjF+8v4prz7ZmP7oMi8=@mail.gmail.com>
Subject: Re: Using different field when overriding computeNorm
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8

On Tue, Feb 1, 2011 at 1:51 PM, Ryan Aylward <ryan@glassdoor.com> wrote:
> I have had to do similar things to other methods of Similarity. In my example, I wanted to have different behavior for the tf() method for each field. The tf method does not include a field parameter as an input to it. The only solution I could come up

in Lucene's trunk, Similarity can now be controlled on a per-field
basis, see https://issues.apache.org/jira/browse/LUCENE-2236

The only exceptions are things like coord() which apply to e.g.
BooleanQuery (which might span multiple fields) and remain top-level
in the new SimilarityProvider.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48597-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Feb 01 21:13:59 2011
Return-Path: <java-user-return-48597-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31229 invoked from network); 1 Feb 2011 21:13:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Feb 2011 21:13:59 -0000
Received: (qmail 92447 invoked by uid 500); 1 Feb 2011 21:13:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92284 invoked by uid 500); 1 Feb 2011 21:13:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 27029 invoked by uid 99); 1 Feb 2011 07:59:52 -0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: unknown ~alla (athena.apache.org: encountered unrecognized mechanism during SPF processing of domain of ophirc@liveperson.com)
Message-ID: <4D47BD56.6000800@liveperson.com>
Date: Tue, 01 Feb 2011 09:59:18 +0200
From: Ophir Cohen <ophirc@liveperson.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.2.13) Gecko/20101207 Lightning/1.0b2 Thunderbird/3.1.7
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Payloads API and support
Content-Type: multipart/alternative;
 boundary="------------090509070709090809050507"

--------------090509070709090809050507
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Hi Guys,

I've been using Lucene for more than 5 years and it is a great tool - 
great job! Thanks for everything...


Lately I encountered the new payloads support and it looks its a great 
solution for my project.


*The problem:*

The use case is as follows:

I need to support a way to calculate statistics on web pages.

Each page has few metrics that comes with it (how many user saw it, what 
was the average time on page etc...).


The requirement is to support query such as:

How many users saw pages contains the tokens 'house' and 'white'.

Or

What was the average time on pages contains tokens 'horse' and 'pony'.


*First solution:*

Add pages to Lucene, index the words and store the metrics.

*The problem: performance.*

Not as regular search, I need to provide results for all matched 
documents and those I need to iterate on all results and load the 
document data.
This method take to much time.


*Better solution:*

Store the metrics as payloads and calculate the needed data without 
access to the storage - a huge performance boost.


The problem is (unless I miss something) that I can't get the payloads 
from anything except TermPositions and it isn't good enough as I want to 
use complex queries.

Is there is any other way to access it?

One option can be to get the payload with the document id in the collector.


Any ideas/comments/suggests?

-- 
Thanks in advance,
Ophir Cohen


--------------090509070709090809050507--

From java-user-return-48598-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Feb 02 16:08:10 2011
Return-Path: <java-user-return-48598-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54983 invoked from network); 2 Feb 2011 16:08:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Feb 2011 16:08:10 -0000
Received: (qmail 1935 invoked by uid 500); 2 Feb 2011 16:08:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1587 invoked by uid 500); 2 Feb 2011 16:08:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 360 invoked by uid 99); 2 Feb 2011 16:07:58 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Feb 2011 16:07:58 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=
X-Spam-Check-By: apache.org
Received: from [140.211.11.9] (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 02 Feb 2011 16:07:56 +0000
Received: (qmail 53888 invoked by uid 99); 2 Feb 2011 16:07:35 -0000
Received: from localhost.apache.org (HELO [10.0.0.15]) (127.0.0.1)
  (smtp-auth username gsingers, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Feb 2011 16:07:35 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Apple Message framework v1082)
Subject: Re: Payloads API and support
From: Grant Ingersoll <gsingers@apache.org>
In-Reply-To: <4D47BD56.6000800@liveperson.com>
Date: Wed, 2 Feb 2011 11:07:33 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <084CE8A3-4970-4D91-82FF-8592DE72D53F@apache.org>
References: <4D47BD56.6000800@liveperson.com>
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.1082)
X-Virus-Checked: Checked by ClamAV on apache.org


On Feb 1, 2011, at 2:59 AM, Ophir Cohen wrote:

> Hi Guys,
>=20
> I've been using Lucene for more than 5 years and it is a great tool - =
great job! Thanks for everything...

Thanks.

Just so you know going forward, please be patient in expecting answers, =
especially for complex questions like this that involve fairly expert =
usages of Lucene.  =46rom what I can tell, you have sent the same =
question 3 times in a matter of less than a day.  Sending more than once =
in a 2-3 day period is just going to make it less likely that you will =
get help, not more likely.

Some suggestions inline below.

>=20
>=20
> Lately I encountered the new payloads support and it looks its a great =
solution for my project.
>=20
>=20
> *The problem:*
>=20
> The use case is as follows:
>=20
> I need to support a way to calculate statistics on web pages.
>=20
> Each page has few metrics that comes with it (how many user saw it, =
what was the average time on page etc...).
>=20
>=20
> The requirement is to support query such as:
>=20
> How many users saw pages contains the tokens 'house' and 'white'.
>=20
> Or
>=20
> What was the average time on pages contains tokens 'horse' and 'pony'.
>=20
>=20
> *First solution:*
>=20
> Add pages to Lucene, index the words and store the metrics.
>=20
> *The problem: performance.*
>=20
> Not as regular search, I need to provide results for all matched =
documents and those I need to iterate on all results and load the =
document data.
> This method take to much time.
>=20
>=20
> *Better solution:*
>=20
> Store the metrics as payloads and calculate the needed data without =
access to the storage - a huge performance boost.
>=20

I think the better solution is to use the first approach, but to use the =
FieldCache on your metrics instead of stored documents and combine that =
w/ a custom Collector.

--------------------------
Grant Ingersoll
http://www.lucidimagination.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48599-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Feb 02 18:04:21 2011
Return-Path: <java-user-return-48599-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12693 invoked from network); 2 Feb 2011 18:04:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Feb 2011 18:04:15 -0000
Received: (qmail 48737 invoked by uid 500); 2 Feb 2011 18:04:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48547 invoked by uid 500); 2 Feb 2011 18:04:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48539 invoked by uid 99); 2 Feb 2011 18:04:09 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Feb 2011 18:04:09 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jason.rutherglen@gmail.com designates 209.85.212.48 as permitted sender)
Received: from [209.85.212.48] (HELO mail-vw0-f48.google.com) (209.85.212.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Feb 2011 18:04:03 +0000
Received: by vws18 with SMTP id 18so127114vws.35
        for <java-user@lucene.apache.org>; Wed, 02 Feb 2011 10:03:42 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=NgVnAdEbE8ehMj88EQwQARnLB/XlpZmgkcfn2v2dEQE=;
        b=b237YgLFTFjQxXfuOF5SHtKzW5Qzn/ssM7IfFxzynAw9KQr96z+vqIwMY246heQwDD
         LcdceQha2VjxnGpjFUV9sw1UA3khNe7r8oFCV1qBFlYGXURSYSV+ym7WJsOLJFovFPcw
         sdI6yXLGLKTJxjK6fIaxyLChUtloUvqlynCV8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=SQZfnB1a+2521p64Q+iFA2zSVvSg+hCYPn0mYWhmIyfGjPOjOqrBCcxiOixPu+fLOY
         xxbvDYM5kxICcRTuuFZJi1lQYnQ6DNRlkvKSFPVc23ep+FDLidF+ROYgQ1bbbX4RMeSb
         hcZMkFHGpkazifXlSR6kg8c5toqzm8FRa2bXI=
MIME-Version: 1.0
Received: by 10.229.28.149 with SMTP id m21mr2046772qcc.203.1296669821762;
 Wed, 02 Feb 2011 10:03:41 -0800 (PST)
Received: by 10.229.115.33 with HTTP; Wed, 2 Feb 2011 10:03:41 -0800 (PST)
Date: Wed, 2 Feb 2011 10:03:41 -0800
Message-ID: <AANLkTimkzSfv8hwcgphPK2TQ-v2yA23xbgYm3K+0iXcM@mail.gmail.com>
Subject: Storing an ID alongside a document
From: Jason Rutherglen <jason.rutherglen@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

I'm curious if there's a new way (using flex or term states) to store
IDs alongside a document and retrieve the IDs of the top N results?
The goal would be to minimize HD seeks, and not use field caches
(because they consume too much heap space) or the doc stores (which
require two seeks).  One possible way using the pre-flex system is to
place the IDs into a payload posting that would match all documents,
and then [somehow] retrieve the payload only when needed.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48600-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Feb 02 19:35:51 2011
Return-Path: <java-user-return-48600-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28662 invoked from network); 2 Feb 2011 19:35:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Feb 2011 19:35:50 -0000
Received: (qmail 17375 invoked by uid 500); 2 Feb 2011 19:35:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17219 invoked by uid 500); 2 Feb 2011 19:35:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17208 invoked by uid 99); 2 Feb 2011 19:35:47 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Feb 2011 19:35:47 +0000
X-ASF-Spam-Status: No, hits=2.0 required=5.0
	tests=SPF_NEUTRAL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [216.139.236.26] (HELO sam.nabble.com) (216.139.236.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Feb 2011 19:35:40 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by sam.nabble.com with esmtp (Exim 4.69)
	(envelope-from <mail@avomberg.de>)
	id 1PkiU3-0002pJ-S5
	for java-user@lucene.apache.org; Wed, 02 Feb 2011 11:35:19 -0800
Date: Wed, 2 Feb 2011 11:35:19 -0800 (PST)
From: Alex vB <mail@avomberg.de>
To: java-user@lucene.apache.org
Message-ID: <1296675319846-2408094.post@n3.nabble.com>
Subject: Storing payloads without term-position and frequency
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org


Hello everybody,

I am currently using Lucene 3.0.2 with payloads. I store extra information
in the payloads about the term like frequencies and therefore I don't need
frequencies and term positions stored normally by Lucene. I would like to
set f.setOmitTermFreqAndPositions(true) but then I am not able to retrieve
payloads. Would it be hard to "hack" Lucene for my requests? Anymore I only
store one payload per term if that information makes it easier.

Best regards
Alex
-- 
View this message in context: http://lucene.472066.n3.nabble.com/Storing-payloads-without-term-position-and-frequency-tp2408094p2408094.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48601-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Feb 02 19:52:57 2011
Return-Path: <java-user-return-48601-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36250 invoked from network); 2 Feb 2011 19:52:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Feb 2011 19:52:56 -0000
Received: (qmail 51457 invoked by uid 500); 2 Feb 2011 19:52:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51329 invoked by uid 500); 2 Feb 2011 19:52:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51321 invoked by uid 99); 2 Feb 2011 19:52:53 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Feb 2011 19:52:53 +0000
X-ASF-Spam-Status: No, hits=1.9 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_MED,SPF_NEUTRAL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [74.125.149.73] (HELO na3sys009aog104.obsmtp.com) (74.125.149.73)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 02 Feb 2011 19:52:48 +0000
Received: from source ([209.85.161.41]) (using TLSv1) by na3sys009aob104.postini.com ([74.125.148.12]) with SMTP
	ID DSNKTUm1+pvRtHKCCRickXRASvmljyHH9ipP@postini.com; Wed, 02 Feb 2011 11:52:28 PST
Received: by mail-fx0-f41.google.com with SMTP id 12so363535fxm.14
        for <java-user@lucene.apache.org>; Wed, 02 Feb 2011 11:52:26 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=onescreen.com; s=google;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=SWcKILCHCUD8DbA6LyeoLqeiUamp8v9XoScaF+Ew/Pc=;
        b=R9b1cxPvE6Gd68frm6ZI4KmV8VQEwy/QYRyVVYmrveguaW4qQc86vRAyiQBn92oYm8
         HhuDPWMheh7ZpUQXVnbSyqDSyturyhV9Jv0f/+wJO0n+4keP4NkylClU9UmqAggsQVX/
         DrcQaQf3LOyv6EQxgqmyGG6Qhvx09lDJfucvQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=onescreen.com; s=google;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=ccDe3QiL+yr/mGBlh2hTFnSdk8MCE/xbvQy3p2sXA7DIU7i6pyOQ4djRLkkOT6UP5W
         h6maASwMvF7UM3e7kCcndmAW/vDT3kyEGAXycyZMnBOs6WoiRXmqQ68nY9Y/HVAeks3m
         BJHnBEH0t3tpVlkErSCd9PEuQuNn3B6Lpf5h4=
MIME-Version: 1.0
Received: by 10.223.97.2 with SMTP id j2mr1027070fan.23.1296676345821; Wed, 02
 Feb 2011 11:52:25 -0800 (PST)
Received: by 10.223.119.201 with HTTP; Wed, 2 Feb 2011 11:52:25 -0800 (PST)
In-Reply-To: <1296675319846-2408094.post@n3.nabble.com>
References: <1296675319846-2408094.post@n3.nabble.com>
Date: Wed, 2 Feb 2011 11:52:25 -0800
Message-ID: <AANLkTinN1+Oa-YszHDTzrGR8jnjmYzpTuG5CTp_pCPu7@mail.gmail.com>
Subject: Re: Storing payloads without term-position and frequency
From: Yuhan Zhang <yzhang@onescreen.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf3054ac79fb3be7049b51fc3b

--20cf3054ac79fb3be7049b51fc3b
Content-Type: text/plain; charset=ISO-8859-1

HI Alex,

you can specify the infomation to be stored on a field by setting
Field.TermVector.NO

doc.add(new Field(TEXT_FIELD_NAME, text, Field.Store.NO,
Field.Index.ANALYZED, Field.TermVector.NO));

On Wed, Feb 2, 2011 at 11:35 AM, Alex vB <mail@avomberg.de> wrote:

>
> Hello everybody,
>
> I am currently using Lucene 3.0.2 with payloads. I store extra information
> in the payloads about the term like frequencies and therefore I don't need
> frequencies and term positions stored normally by Lucene. I would like to
> set f.setOmitTermFreqAndPositions(true) but then I am not able to retrieve
> payloads. Would it be hard to "hack" Lucene for my requests? Anymore I only
> store one payload per term if that information makes it easier.
>
> Best regards
> Alex
> --
> View this message in context:
> http://lucene.472066.n3.nabble.com/Storing-payloads-without-term-position-and-frequency-tp2408094p2408094.html
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--20cf3054ac79fb3be7049b51fc3b--

From java-user-return-48602-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Feb 02 22:01:26 2011
Return-Path: <java-user-return-48602-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25676 invoked from network); 2 Feb 2011 22:01:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Feb 2011 22:01:26 -0000
Received: (qmail 81244 invoked by uid 500); 2 Feb 2011 22:01:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81098 invoked by uid 500); 2 Feb 2011 22:01:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81090 invoked by uid 99); 2 Feb 2011 22:01:23 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Feb 2011 22:01:23 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of yseeley@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Feb 2011 22:01:16 +0000
Received: by fxm2 with SMTP id 2so493246fxm.35
        for <java-user@lucene.apache.org>; Wed, 02 Feb 2011 14:00:56 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:sender:reply-to:in-reply-to
         :references:date:x-google-sender-auth:message-id:subject:from:to
         :content-type;
        bh=QYfyihYOSiOxr6orNPaWEJuKe+rCkhpeNQtEvDnLf2A=;
        b=AXv+t+TzVZHD6uldUQieBnJVJBi1ca0mLUapUvEBBLtHCqpO34fOK+JbDo3YDlCogK
         j3J+uWUlV5JwTstj2y6UcksaD2lf/xU5Jt/56MSjDUXealYFA7BuEievMo41u1EsXERd
         ZlCZTAfnzWNya1KdZc7UcTlmxBtoA6B9/fRH8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:reply-to:in-reply-to:references:date
         :x-google-sender-auth:message-id:subject:from:to:content-type;
        b=hTWYLl5esCHnyiTrJLXyZExsg5/+tQycsJ4mc8Pu5UDCo2GhG2L5u4O1RWlZwhRofh
         w+DdWbq+4Zw2oIb6lcE02dyfvrRrCQzcJcL/0d+HhrE9UutXptUJ96HOGasy0kA4xDv6
         uXCF0L2nVeYtbBy871Xg/TD2dj/IvvJDv44K8=
MIME-Version: 1.0
Received: by 10.223.86.135 with SMTP id s7mr9271162fal.70.1296684055421; Wed,
 02 Feb 2011 14:00:55 -0800 (PST)
Sender: yseeley@gmail.com
Reply-To: yonik@lucidimagination.com
Received: by 10.223.78.141 with HTTP; Wed, 2 Feb 2011 14:00:55 -0800 (PST)
In-Reply-To: <AANLkTimkzSfv8hwcgphPK2TQ-v2yA23xbgYm3K+0iXcM@mail.gmail.com>
References: <AANLkTimkzSfv8hwcgphPK2TQ-v2yA23xbgYm3K+0iXcM@mail.gmail.com>
Date: Wed, 2 Feb 2011 17:00:55 -0500
X-Google-Sender-Auth: kYN1gruaEEVMzNgSOyyxaJZSrAk
Message-ID: <AANLkTik0w=L2KysvXYZ55znKK3mASVGPjSF0cFj-2zda@mail.gmail.com>
Subject: Re: Storing an ID alongside a document
From: Yonik Seeley <yonik@lucidimagination.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf3054a47d826539049b53c8a0
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf3054a47d826539049b53c8a0
Content-Type: text/plain; charset=ISO-8859-1

That's exactly what the CSF feature is for, right?  (docvalues branch)

-Yonik
http://lucidimagination.com


On Wed, Feb 2, 2011 at 1:03 PM, Jason Rutherglen <jason.rutherglen@gmail.com
> wrote:

> I'm curious if there's a new way (using flex or term states) to store
> IDs alongside a document and retrieve the IDs of the top N results?
> The goal would be to minimize HD seeks, and not use field caches
> (because they consume too much heap space) or the doc stores (which
> require two seeks).  One possible way using the pre-flex system is to
> place the IDs into a payload posting that would match all documents,
> and then [somehow] retrieve the payload only when needed.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--20cf3054a47d826539049b53c8a0--

From java-user-return-48603-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Feb 02 22:47:27 2011
Return-Path: <java-user-return-48603-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55276 invoked from network); 2 Feb 2011 22:47:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Feb 2011 22:47:26 -0000
Received: (qmail 81594 invoked by uid 500); 2 Feb 2011 22:47:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81249 invoked by uid 500); 2 Feb 2011 22:47:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81159 invoked by uid 99); 2 Feb 2011 22:47:25 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Feb 2011 22:47:25 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ophchu@gmail.com designates 209.85.215.48 as permitted sender)
Received: from [209.85.215.48] (HELO mail-ew0-f48.google.com) (209.85.215.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Feb 2011 22:47:21 +0000
Received: by ewy20 with SMTP id 20so394541ewy.35
        for <java-user@lucene.apache.org>; Wed, 02 Feb 2011 14:46:59 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=mYgUNRyGRBcMjLz4ZAiXu3fD84tDqHGVs1rnY3EYOak=;
        b=AtUwjkFgK+9WAPl8MYkGG7Vo6kwiZ4BjSz4rwtyaIYleXp9VBrLMs9vwbRxfYORovx
         tOuyhNNcC+S8mYQDOzz18AS2KNXEXf2VfEdEhUwLmHs8IvwAF4+t22a2Q1hZtD8JobFr
         FhyOdRaQCqqMr0AXhhsRrhzgqz+j9dTaSIdjA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=DdfdtlhgGo+4Ej9HU+VvyM3ohIH1pdlBzeD2YsA9R0Jg5anZjcKUg+0RliA5cUgPIw
         KAOa6R5BEpJvQLNopK6e6QjWWOj69M5jcDYaigcDphE1J9X7n3LZfBOGrItAAnAptgXJ
         HvUiTEOF9Xl7kIutczoQo2hcgCrS3qNSAqeI8=
MIME-Version: 1.0
Received: by 10.14.122.79 with SMTP id s55mr10444089eeh.32.1296686819116; Wed,
 02 Feb 2011 14:46:59 -0800 (PST)
Received: by 10.14.122.75 with HTTP; Wed, 2 Feb 2011 14:46:58 -0800 (PST)
In-Reply-To: <084CE8A3-4970-4D91-82FF-8592DE72D53F@apache.org>
References: <4D47BD56.6000800@liveperson.com>
	<084CE8A3-4970-4D91-82FF-8592DE72D53F@apache.org>
Date: Thu, 3 Feb 2011 00:46:58 +0200
Message-ID: <AANLkTi=rJPEV29zw=sf7H0-4Ri+23UHmf84MgW_i1Zz6@mail.gmail.com>
Subject: Re: Payloads API and support
From: Ophir Cohen <ophchu@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=e0cb4e70021b3d065a049b546d6f

--e0cb4e70021b3d065a049b546d6f
Content-Type: text/plain; charset=ISO-8859-1

Hi Grant,
Thanks for the answer - it wasn't a question of patient just accidentally
sent the same message more than once...
Sorry for that.

Anyway,
I'm checking right now the option to hold the metrics in in-memory array
(for all docs) and retrieve the metrics for that array rather than from
Lucene.
It looks pretty the same as using the FieldCache - but I'll try it as well.
I'll let you know the results,
Thanks again,
Ophir


On Wed, Feb 2, 2011 at 6:07 PM, Grant Ingersoll <gsingers@apache.org> wrote:

>
> On Feb 1, 2011, at 2:59 AM, Ophir Cohen wrote:
>
> > Hi Guys,
> >
> > I've been using Lucene for more than 5 years and it is a great tool -
> great job! Thanks for everything...
>
> Thanks.
>
> Just so you know going forward, please be patient in expecting answers,
> especially for complex questions like this that involve fairly expert usages
> of Lucene.  From what I can tell, you have sent the same question 3 times in
> a matter of less than a day.  Sending more than once in a 2-3 day period is
> just going to make it less likely that you will get help, not more likely.
>
> Some suggestions inline below.
>
> >
> >
> > Lately I encountered the new payloads support and it looks its a great
> solution for my project.
> >
> >
> > *The problem:*
> >
> > The use case is as follows:
> >
> > I need to support a way to calculate statistics on web pages.
> >
> > Each page has few metrics that comes with it (how many user saw it, what
> was the average time on page etc...).
> >
> >
> > The requirement is to support query such as:
> >
> > How many users saw pages contains the tokens 'house' and 'white'.
> >
> > Or
> >
> > What was the average time on pages contains tokens 'horse' and 'pony'.
> >
> >
> > *First solution:*
> >
> > Add pages to Lucene, index the words and store the metrics.
> >
> > *The problem: performance.*
> >
> > Not as regular search, I need to provide results for all matched
> documents and those I need to iterate on all results and load the document
> data.
> > This method take to much time.
> >
> >
> > *Better solution:*
> >
> > Store the metrics as payloads and calculate the needed data without
> access to the storage - a huge performance boost.
> >
>
> I think the better solution is to use the first approach, but to use the
> FieldCache on your metrics instead of stored documents and combine that w/ a
> custom Collector.
>
> --------------------------
> Grant Ingersoll
> http://www.lucidimagination.com/
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
 <http://www.google.com/search?q=accedentily%20>

--e0cb4e70021b3d065a049b546d6f--

From java-user-return-48604-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Feb 03 02:23:40 2011
Return-Path: <java-user-return-48604-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62666 invoked from network); 3 Feb 2011 02:23:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Feb 2011 02:23:39 -0000
Received: (qmail 34069 invoked by uid 500); 3 Feb 2011 02:23:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34011 invoked by uid 500); 3 Feb 2011 02:23:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34003 invoked by uid 99); 3 Feb 2011 02:23:36 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Feb 2011 02:23:36 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jason.rutherglen@gmail.com designates 209.85.216.169 as permitted sender)
Received: from [209.85.216.169] (HELO mail-qy0-f169.google.com) (209.85.216.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Feb 2011 02:23:30 +0000
Received: by qyk7 with SMTP id 7so6164678qyk.14
        for <java-user@lucene.apache.org>; Wed, 02 Feb 2011 18:23:09 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type:content-transfer-encoding;
        bh=L5E+Y7mBVI/+7bQyWUW+1BFMhHEedXVmPtIIPDQfXOI=;
        b=bKaXqYus3vfQ9tZe50+Q6IicVDcg7AXpbV0bBVHZxWWjbr8AKNy6JWzV5BTNKg3pBo
         ghfIWR+cR4kF9SmOklZekAOkqRp7ow+sXwLTWbnHZhP/aqtMjhmVCC3IWp2Qok08coCW
         97IUgiz+TWUuwA5mYOf10A+/07SJEwb6nnn8w=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=QdA0B03Q2kl2ARu2yR/hfNrgzLsDEIIXLLUPGL8aYixOQWtw/sp2Muc8H8bMMoHorg
         1RFhcnUgqtV6behIWVFd2grkZJcO8Mo4J43QiwvanARtiHMH8DdiQJgkdZ2jnhTeSkO4
         bk81UKFUrih6wDX87u7OZ3Ei8mjITDH0zDfgM=
MIME-Version: 1.0
Received: by 10.229.74.9 with SMTP id s9mr8801407qcj.165.1296699789277; Wed,
 02 Feb 2011 18:23:09 -0800 (PST)
Received: by 10.229.115.33 with HTTP; Wed, 2 Feb 2011 18:23:09 -0800 (PST)
In-Reply-To: <AANLkTik0w=L2KysvXYZ55znKK3mASVGPjSF0cFj-2zda@mail.gmail.com>
References: <AANLkTimkzSfv8hwcgphPK2TQ-v2yA23xbgYm3K+0iXcM@mail.gmail.com>
	<AANLkTik0w=L2KysvXYZ55znKK3mASVGPjSF0cFj-2zda@mail.gmail.com>
Date: Wed, 2 Feb 2011 18:23:09 -0800
Message-ID: <AANLkTim8sckgCQGa4swpZsY2ro+rn6oBz0hD4Fo8J2Bd@mail.gmail.com>
Subject: Re: Storing an ID alongside a document
From: Jason Rutherglen <jason.rutherglen@gmail.com>
To: java-user@lucene.apache.org, yonik@lucidimagination.com
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Is it?  I thought it would load the values into heap RAM like the
field cache and in addition save the values to disk?  Does it also
read the values directly from disk?

On Wed, Feb 2, 2011 at 2:00 PM, Yonik Seeley <yonik@lucidimagination.com> w=
rote:
> That's exactly what the CSF feature is for, right? =A0(docvalues branch)
>
> -Yonik
> http://lucidimagination.com
>
>
> On Wed, Feb 2, 2011 at 1:03 PM, Jason Rutherglen <jason.rutherglen@gmail.=
com
>> wrote:
>
>> I'm curious if there's a new way (using flex or term states) to store
>> IDs alongside a document and retrieve the IDs of the top N results?
>> The goal would be to minimize HD seeks, and not use field caches
>> (because they consume too much heap space) or the doc stores (which
>> require two seeks). =A0One possible way using the pre-flex system is to
>> place the IDs into a payload posting that would match all documents,
>> and then [somehow] retrieve the payload only when needed.
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48605-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Feb 03 03:06:36 2011
Return-Path: <java-user-return-48605-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85351 invoked from network); 3 Feb 2011 03:06:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Feb 2011 03:06:36 -0000
Received: (qmail 61228 invoked by uid 500); 3 Feb 2011 03:06:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61051 invoked by uid 500); 3 Feb 2011 03:06:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61043 invoked by uid 99); 3 Feb 2011 03:06:29 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Feb 2011 03:06:29 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of yseeley@gmail.com designates 74.125.82.48 as permitted sender)
Received: from [74.125.82.48] (HELO mail-ww0-f48.google.com) (74.125.82.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Feb 2011 03:06:22 +0000
Received: by wwd20 with SMTP id 20so717786wwd.5
        for <java-user@lucene.apache.org>; Wed, 02 Feb 2011 19:06:02 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:sender:reply-to:in-reply-to
         :references:date:x-google-sender-auth:message-id:subject:from:to:cc
         :content-type;
        bh=hYWbkHiTHuQM+mBHaOLtcb8K/ZsSNxOA5JDr9WyuYqU=;
        b=A4a3jEDT7wCt/0dFztHfb+B4hwPeFNM64T9S8YJ++MwWPEAlJLGHCn0fRi7vQKjzb4
         6T4uqW+yedcHuculyxizaYEzl56Mv+fUIJZGmOyZz+2XgZ+jgxV7Il0FYRbEk9P/e8DW
         GEOg/2sfzyufHUn5/El+e+Vy55hYsP/0EGVVE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:reply-to:in-reply-to:references:date
         :x-google-sender-auth:message-id:subject:from:to:cc:content-type;
        b=T0A3Ba4muuE8nkRhwoX0ZokBIKNNz26sG1l/iWL/bhq42aAlFzN83fUq2AxQxub6Mx
         VN9bDUPosNZpYBlgkW4GHJ62hBgJ8fHY0svtGJh/eT/1oWgZvPWNlk9KFQedH55mzasm
         m7nyVxuhoWeKTvu12CbTnNDPfVnNfwm/r95wI=
MIME-Version: 1.0
Received: by 10.216.183.145 with SMTP id q17mr9384738wem.5.1296702362393; Wed,
 02 Feb 2011 19:06:02 -0800 (PST)
Sender: yseeley@gmail.com
Reply-To: yonik@lucidimagination.com
Received: by 10.216.4.13 with HTTP; Wed, 2 Feb 2011 19:06:02 -0800 (PST)
In-Reply-To: <AANLkTim8sckgCQGa4swpZsY2ro+rn6oBz0hD4Fo8J2Bd@mail.gmail.com>
References: <AANLkTimkzSfv8hwcgphPK2TQ-v2yA23xbgYm3K+0iXcM@mail.gmail.com>
	<AANLkTik0w=L2KysvXYZ55znKK3mASVGPjSF0cFj-2zda@mail.gmail.com>
	<AANLkTim8sckgCQGa4swpZsY2ro+rn6oBz0hD4Fo8J2Bd@mail.gmail.com>
Date: Wed, 2 Feb 2011 22:06:02 -0500
X-Google-Sender-Auth: sWS2OWuWY-TfdhNRJAF7ypKipVk
Message-ID: <AANLkTimjJOAviDmYyV635K6omajw1g2eh-=JqRF-2uBN@mail.gmail.com>
Subject: Re: Storing an ID alongside a document
From: Yonik Seeley <yonik@lucidimagination.com>
To: Jason Rutherglen <jason.rutherglen@gmail.com>
Cc: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e649da8ab09f1e049b580b9a
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e649da8ab09f1e049b580b9a
Content-Type: text/plain; charset=ISO-8859-1

On Wed, Feb 2, 2011 at 9:23 PM, Jason Rutherglen <jason.rutherglen@gmail.com
> wrote:

> Is it?  I thought it would load the values into heap RAM like the
> field cache and in addition save the values to disk? Does it also
> read the values directly from disk?
>

Loading into memory is a separate optional part (i.e. loading a fieldcache
entry), that should use the APIs that read directly from the index.

-Yonik
http://lucidimagination.com

--0016e649da8ab09f1e049b580b9a--

From java-user-return-48606-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Feb 03 08:21:05 2011
Return-Path: <java-user-return-48606-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11950 invoked from network); 3 Feb 2011 08:21:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Feb 2011 08:21:05 -0000
Received: (qmail 89454 invoked by uid 500); 3 Feb 2011 08:21:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89000 invoked by uid 500); 3 Feb 2011 08:20:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88992 invoked by uid 99); 3 Feb 2011 08:20:58 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Feb 2011 08:20:58 +0000
X-ASF-Spam-Status: No, hits=2.8 required=5.0
	tests=FREEMAIL_FROM,FREEMAIL_REPLYTO,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of simon.willnauer@googlemail.com designates 209.85.220.176 as permitted sender)
Received: from [209.85.220.176] (HELO mail-vx0-f176.google.com) (209.85.220.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Feb 2011 08:20:53 +0000
Received: by vxb37 with SMTP id 37so213596vxb.35
        for <java-user@lucene.apache.org>; Thu, 03 Feb 2011 00:20:32 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:mime-version:reply-to:in-reply-to:references
         :date:message-id:subject:from:to:cc:content-type
         :content-transfer-encoding;
        bh=EL/05ITaRA2ayfJmE0XVGxTav/QoLg877hzo46LZG48=;
        b=fu0HbVouuJwa7zIQaVsi7HArr/sOYrWGqw3lPmyalyhur5OmlAXSo+irfgZCFJvYcE
         Ij4rR1uNB0+7W5cRPsEVjuJ9jyvID1pNQeIPwCMUE6Cnwtm2EPxJ7NSpTy0JxaDdkW+q
         UpMZIFCgSvAPXPmlNi3ao6gqZ6Gur871GkUFo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=mime-version:reply-to:in-reply-to:references:date:message-id
         :subject:from:to:cc:content-type:content-transfer-encoding;
        b=ly0XRs7L3TWs0q7DAwFO0BSsWVzasCwTnn0SIXjgSgIDn+fhUJfpWB+1L37vYakR/Z
         XRlhc9PcX6jcgi2ELa6zK9wDJj9+UoJRY6BvdgU4Lp0kLiFknxAQPJeKS5zNPTdjF+7w
         ryPV2aowPfA7061Fz2cmZJmnTJM5WbLQd1KyQ=
MIME-Version: 1.0
Received: by 10.220.192.205 with SMTP id dr13mr2699226vcb.142.1296721232217;
 Thu, 03 Feb 2011 00:20:32 -0800 (PST)
Received: by 10.220.183.4 with HTTP; Thu, 3 Feb 2011 00:20:32 -0800 (PST)
Reply-To: simon.willnauer@gmail.com
In-Reply-To: <AANLkTim8sckgCQGa4swpZsY2ro+rn6oBz0hD4Fo8J2Bd@mail.gmail.com>
References: <AANLkTimkzSfv8hwcgphPK2TQ-v2yA23xbgYm3K+0iXcM@mail.gmail.com>
	<AANLkTik0w=L2KysvXYZ55znKK3mASVGPjSF0cFj-2zda@mail.gmail.com>
	<AANLkTim8sckgCQGa4swpZsY2ro+rn6oBz0hD4Fo8J2Bd@mail.gmail.com>
Date: Thu, 3 Feb 2011 09:20:32 +0100
Message-ID: <AANLkTikAiOqTcyau3kZMPxgNgwRqenEMMV8j9gzaLy-m@mail.gmail.com>
Subject: Re: Storing an ID alongside a document
From: Simon Willnauer <simon.willnauer@googlemail.com>
To: java-user@lucene.apache.org
Cc: yonik@lucidimagination.com
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Thu, Feb 3, 2011 at 3:23 AM, Jason Rutherglen
<jason.rutherglen@gmail.com> wrote:
> Is it? =C2=A0I thought it would load the values into heap RAM like the
> field cache and in addition save the values to disk? =C2=A0Does it also
> read the values directly from disk?

there is a entire RAM resident part and a Iterator API that reads /
streams data directly from disk.
look at DocValuesEnum vs, Source

simon
>
> On Wed, Feb 2, 2011 at 2:00 PM, Yonik Seeley <yonik@lucidimagination.com>=
 wrote:
>> That's exactly what the CSF feature is for, right? =C2=A0(docvalues bran=
ch)
>>
>> -Yonik
>> http://lucidimagination.com
>>
>>
>> On Wed, Feb 2, 2011 at 1:03 PM, Jason Rutherglen <jason.rutherglen@gmail=
.com
>>> wrote:
>>
>>> I'm curious if there's a new way (using flex or term states) to store
>>> IDs alongside a document and retrieve the IDs of the top N results?
>>> The goal would be to minimize HD seeks, and not use field caches
>>> (because they consume too much heap space) or the doc stores (which
>>> require two seeks). =C2=A0One possible way using the pre-flex system is=
 to
>>> place the IDs into a payload posting that would match all documents,
>>> and then [somehow] retrieve the payload only when needed.
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48607-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Feb 03 13:22:44 2011
Return-Path: <java-user-return-48607-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45205 invoked from network); 3 Feb 2011 13:22:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Feb 2011 13:22:43 -0000
Received: (qmail 93116 invoked by uid 500); 3 Feb 2011 13:22:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92576 invoked by uid 500); 3 Feb 2011 13:22:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92563 invoked by uid 99); 3 Feb 2011 13:22:36 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Feb 2011 13:22:36 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jason.rutherglen@gmail.com designates 209.85.216.169 as permitted sender)
Received: from [209.85.216.169] (HELO mail-qy0-f169.google.com) (209.85.216.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Feb 2011 13:22:32 +0000
Received: by qyk7 with SMTP id 7so6466095qyk.14
        for <java-user@lucene.apache.org>; Thu, 03 Feb 2011 05:22:11 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:cc:content-type
         :content-transfer-encoding;
        bh=AVZJdj+8dRgIZHfK5CMXFCS+PRo7TLo1CoA22heFyME=;
        b=Wypavwf/mv+tLfQhF0iWbHxMVR9LXCu+dD5gQPHVt2RogscK55ZMNXgGpHqe8oocMx
         Ym3SjigwdUB9C+LliZ8fQFpb2WIEiiS1MDztKIu0vUbyBfud45GPphuQMV3YKZj6H6eg
         aPKsi6rUyrfGL5QCvV+Kr3xM/SmabrOO+Wx/4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type:content-transfer-encoding;
        b=AXzGiSETDQg12AnLrHsYWzAM5Tee/NGoLafh4HTQckdOEdDgJBLvVch3H5yUFA2kjM
         JbfEn1kiQsLqNoI3IxboV7fefox8yu5UPkVtz6oqcRgQB6cJHws1TFbLG8VCE7oMQfK9
         2u+XF/rBoVeHL0cIG1ey4fH5vFFiogBijTbR4=
MIME-Version: 1.0
Received: by 10.229.74.9 with SMTP id s9mr9219083qcj.165.1296739330668; Thu,
 03 Feb 2011 05:22:10 -0800 (PST)
Received: by 10.229.115.33 with HTTP; Thu, 3 Feb 2011 05:22:10 -0800 (PST)
In-Reply-To: <AANLkTikAiOqTcyau3kZMPxgNgwRqenEMMV8j9gzaLy-m@mail.gmail.com>
References: <AANLkTimkzSfv8hwcgphPK2TQ-v2yA23xbgYm3K+0iXcM@mail.gmail.com>
	<AANLkTik0w=L2KysvXYZ55znKK3mASVGPjSF0cFj-2zda@mail.gmail.com>
	<AANLkTim8sckgCQGa4swpZsY2ro+rn6oBz0hD4Fo8J2Bd@mail.gmail.com>
	<AANLkTikAiOqTcyau3kZMPxgNgwRqenEMMV8j9gzaLy-m@mail.gmail.com>
Date: Thu, 3 Feb 2011 05:22:10 -0800
Message-ID: <AANLkTikiyR3ZoxOVYiX_y9WzOk0rqKUs93LPRLpp6U_R@mail.gmail.com>
Subject: Re: Storing an ID alongside a document
From: Jason Rutherglen <jason.rutherglen@gmail.com>
To: java-user@lucene.apache.org, simon.willnauer@gmail.com
Cc: yonik@lucidimagination.com
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

> there is a entire RAM resident part and a Iterator API that reads /
> streams data directly from disk.
> look at DocValuesEnum vs, Source

Nice, thanks!

On Thu, Feb 3, 2011 at 12:20 AM, Simon Willnauer
<simon.willnauer@googlemail.com> wrote:
> On Thu, Feb 3, 2011 at 3:23 AM, Jason Rutherglen
> <jason.rutherglen@gmail.com> wrote:
>> Is it? =A0I thought it would load the values into heap RAM like the
>> field cache and in addition save the values to disk? =A0Does it also
>> read the values directly from disk?
>
> there is a entire RAM resident part and a Iterator API that reads /
> streams data directly from disk.
> look at DocValuesEnum vs, Source
>
> simon
>>
>> On Wed, Feb 2, 2011 at 2:00 PM, Yonik Seeley <yonik@lucidimagination.com=
> wrote:
>>> That's exactly what the CSF feature is for, right? =A0(docvalues branch=
)
>>>
>>> -Yonik
>>> http://lucidimagination.com
>>>
>>>
>>> On Wed, Feb 2, 2011 at 1:03 PM, Jason Rutherglen <jason.rutherglen@gmai=
l.com
>>>> wrote:
>>>
>>>> I'm curious if there's a new way (using flex or term states) to store
>>>> IDs alongside a document and retrieve the IDs of the top N results?
>>>> The goal would be to minimize HD seeks, and not use field caches
>>>> (because they consume too much heap space) or the doc stores (which
>>>> require two seeks). =A0One possible way using the pre-flex system is t=
o
>>>> place the IDs into a payload posting that would match all documents,
>>>> and then [somehow] retrieve the payload only when needed.
>>>>
>>>> ---------------------------------------------------------------------
>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>>
>>>>
>>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48608-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Feb 03 15:50:20 2011
Return-Path: <java-user-return-48608-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11449 invoked from network); 3 Feb 2011 15:50:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Feb 2011 15:50:20 -0000
Received: (qmail 36634 invoked by uid 500); 3 Feb 2011 15:50:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36425 invoked by uid 500); 3 Feb 2011 15:50:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36417 invoked by uid 99); 3 Feb 2011 15:50:13 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Feb 2011 15:50:13 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of anujshahwork@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Feb 2011 15:50:07 +0000
Received: by iwn2 with SMTP id 2so1288152iwn.35
        for <java-user@lucene.apache.org>; Thu, 03 Feb 2011 07:49:46 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=ECqlVfVaVfK9aP1KTUv30VXLOBi3Qq810bzI5DUBMJM=;
        b=JxiZfwhrQHzsUYCHu9ceiSoQmYH6r/qeZroTy9MOB5Op/SUyAEfwPRXyzIqd0rX008
         h1Z4dH44kmFUL1pGDzNGDZ0muBcXqOQ/I3dgXd+8r4nVVOXOg+W39QBjd0VVZrookP1c
         I7WPhQOJO20zKlWlI4jF4zfttcgjODbGwnZzw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=o1f/qxdGdudIkAIIChFZWffzHd7dtlZhnfpBT0K5P/pFuju8PM5iowKVwXzLhYm526
         DuM11RCrSjF+RpRi6Qd2sPtOXX97CxGjBO5lkVJrLV69Q2jrKyOdO+3AxQV+wGvIuYox
         mzF3qTGtxZaOAqvtkYl3H1JNTzW2pClm6FUcU=
MIME-Version: 1.0
Received: by 10.42.166.138 with SMTP id o10mr12886183icy.145.1296748186669;
 Thu, 03 Feb 2011 07:49:46 -0800 (PST)
Received: by 10.231.30.140 with HTTP; Thu, 3 Feb 2011 07:49:46 -0800 (PST)
Date: Thu, 3 Feb 2011 15:49:46 +0000
Message-ID: <AANLkTi=XUpyw09tcbjuTzNRpMJa730Cq-6_1agMAjYz6@mail.gmail.com>
Subject: Syntax for Numeric Range
From: Anuj Shah <anujshahwork@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=90e6ba6e8efc079188049b62b71d

--90e6ba6e8efc079188049b62b71d
Content-Type: text/plain; charset=ISO-8859-1

Is there a query syntax for specifying a numeric range for a field indexed
as a NumericField.

I've tried

numericfield:[0 TO 10]
>

But it is parsed as a TermRangeQuery and not a NumericRangeQuery.

Many thanks

Anuj

--90e6ba6e8efc079188049b62b71d--

From java-user-return-48609-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Feb 03 16:22:38 2011
Return-Path: <java-user-return-48609-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36352 invoked from network); 3 Feb 2011 16:22:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Feb 2011 16:22:37 -0000
Received: (qmail 6704 invoked by uid 500); 3 Feb 2011 16:22:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6293 invoked by uid 500); 3 Feb 2011 16:22:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6282 invoked by uid 99); 3 Feb 2011 16:22:31 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Feb 2011 16:22:31 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Feb 2011 16:22:24 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id B0095D36005
	for <java-user@lucene.apache.org>; Thu,  3 Feb 2011 17:22:03 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id zt1FWi6G6Rhq for <java-user@lucene.apache.org>;
	Thu,  3 Feb 2011 17:21:58 +0100 (CET)
Received: from VEGA (WDC-MARE.marum.de [134.102.249.84])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id 68AABD36003
	for <java-user@lucene.apache.org>; Thu,  3 Feb 2011 17:21:57 +0100 (CET)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <AANLkTi=XUpyw09tcbjuTzNRpMJa730Cq-6_1agMAjYz6@mail.gmail.com>
In-Reply-To: <AANLkTi=XUpyw09tcbjuTzNRpMJa730Cq-6_1agMAjYz6@mail.gmail.com>
Subject: RE: Syntax for Numeric Range
Date: Thu, 3 Feb 2011 17:22:25 +0100
Message-ID: <005801cbc3be$8bd6e4f0$a384aed0$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQHgJEVumKXNIykM1BGHfzo4uM8yO5PHLh/w
Content-Language: de
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Anuj,

You have to subclass QueryParser and override newRangeQuery() to parse
yourself. Automatic parsing is impossible, because QueryParser does not know
(in contrast to Apache Solr) which fields have which type (Lucene has no
field schema). 

Example how to do this:
http://mail-archives.apache.org/mod_mbox/lucene-java-user/200910.mbox/%3CBLU
140-W22F12E1C9AC650580E9852D0BE0@phx.gbl%3E

Uwe

-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de


> -----Original Message-----
> From: Anuj Shah [mailto:anujshahwork@gmail.com]
> Sent: Thursday, February 03, 2011 4:50 PM
> To: java-user@lucene.apache.org
> Subject: Syntax for Numeric Range
> 
> Is there a query syntax for specifying a numeric range for a field indexed
as a
> NumericField.
> 
> I've tried
> 
> numericfield:[0 TO 10]
> >
> 
> But it is parsed as a TermRangeQuery and not a NumericRangeQuery.
> 
> Many thanks
> 
> Anuj


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48610-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Feb 03 17:32:24 2011
Return-Path: <java-user-return-48610-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79928 invoked from network); 3 Feb 2011 17:32:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Feb 2011 17:32:24 -0000
Received: (qmail 58818 invoked by uid 500); 3 Feb 2011 17:32:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58490 invoked by uid 500); 3 Feb 2011 17:32:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58481 invoked by uid 99); 3 Feb 2011 17:32:19 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Feb 2011 17:32:19 +0000
X-ASF-Spam-Status: No, hits=3.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ee07b381@gmail.com designates 209.85.160.176 as permitted sender)
Received: from [209.85.160.176] (HELO mail-gy0-f176.google.com) (209.85.160.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Feb 2011 17:32:11 +0000
Received: by gyf1 with SMTP id 1so615296gyf.35
        for <java-user@lucene.apache.org>; Thu, 03 Feb 2011 09:31:50 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=u9gy2UWqNfAvegLioHMgL4jJ8HZrGClWj76h5IAEe08=;
        b=WvISvFdbrOUPBdDLFhKoU/x8KHBvziaIWxPFuH6FQ22kcN0QS14Gqn8EELpvYPpokx
         vJRrG1kL+xv/MjSEEjUXyRuBSvPZVM3KEtGRXzjgLm5DUZ0birJdqfs1YTIq9inTMIxo
         CoU42Q2DHCFf1DncPGBVp7/nnkBEGokTAl6Gc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=osiX9cNpTfIlhhbr63q+TqZDBWEJcZKAGNkE+fjpI9rd6tgddkSj5aXYAKHodksp8W
         kIn+yWQZJ74+XfZ7nkYzQcTu3IyecFeg668Eh3MULfbWuNhD5Z2kPx/hLm9lR4xrpV4C
         d2MXpzIZdKhoEA+6OC/E6AXRZyaA6iuv99hQA=
Received: by 10.150.172.3 with SMTP id u3mr12852216ybe.409.1296754310432; Thu,
 03 Feb 2011 09:31:50 -0800 (PST)
MIME-Version: 1.0
Received: by 10.151.157.5 with HTTP; Thu, 3 Feb 2011 09:31:29 -0800 (PST)
In-Reply-To: <AANLkTimErHJxtB4qFZVXrg1tm04pCq8d5AEsjkcHS-R8@mail.gmail.com>
References: <AANLkTimErHJxtB4qFZVXrg1tm04pCq8d5AEsjkcHS-R8@mail.gmail.com>
From: Gong Li <ee07b381@gmail.com>
Date: Fri, 4 Feb 2011 01:31:29 +0800
Message-ID: <AANLkTins+U7B=qHkdTn1eFM7ySQZmQf-FEUMKLRpApfb@mail.gmail.com>
Subject: Fwd: Lucene Problems
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=000e0cd58eb808c8f2049b6424e1
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd58eb808c8f2049b6424e1
Content-Type: text/plain; charset=ISO-8859-1

Hi,

I am developing an advanced pdf search engine in java by using pdfbox and
lucene. And I must display the context of each keyword in the user
interface, but i cannot find a method to do so. Most of the methods provided
are used to deal with documents with whole content in the specified field,
and i just need the context of each keyword (i.e. some specified part of the
contents in the specified field).

For example, the contents in the specified field is "... aaa aaa bbb aaa aaa
aaa aaa ..." and search for "bbb". And I want to display "aaa aaa *bbb* aaa
aaa" in the UI. How?

Are there any ways to do so???

Thx.

Cescy

--000e0cd58eb808c8f2049b6424e1--

From java-user-return-48611-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Feb 03 17:39:06 2011
Return-Path: <java-user-return-48611-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83913 invoked from network); 3 Feb 2011 17:39:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Feb 2011 17:39:06 -0000
Received: (qmail 73138 invoked by uid 500); 3 Feb 2011 17:39:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72821 invoked by uid 500); 3 Feb 2011 17:39:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72812 invoked by uid 99); 3 Feb 2011 17:39:01 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Feb 2011 17:39:01 +0000
X-ASF-Spam-Status: No, hits=1.3 required=5.0
	tests=URI_HEX
X-Spam-Check-By: apache.org
Received: from [140.211.11.9] (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 03 Feb 2011 17:38:59 +0000
Received: (qmail 83805 invoked by uid 99); 3 Feb 2011 17:38:37 -0000
Received: from localhost.apache.org (HELO [10.0.0.77]) (127.0.0.1)
  (smtp-auth username gsingers, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Feb 2011 17:38:37 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Apple Message framework v1082)
Subject: Re: Storing payloads without term-position and frequency
From: Grant Ingersoll <gsingers@apache.org>
In-Reply-To: <1296675319846-2408094.post@n3.nabble.com>
Date: Thu, 3 Feb 2011 12:38:35 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <B3AF9CFD-1B91-4097-BAF1-B0444D7B666B@apache.org>
References: <1296675319846-2408094.post@n3.nabble.com>
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.1082)
X-Virus-Checked: Checked by ClamAV on apache.org

Payloads only make sense in terms of specific positions in the index, so =
I don't think there is a way to hack Lucene for it.  You could, I =
suppose, just store the payload for the first instance of the term.

Also, what's the use case you are trying to solve here?  Why store term =
frequency as a payload when Lucene already does it (and it probably does =
it more efficiently)

-Grant

On Feb 2, 2011, at 2:35 PM, Alex vB wrote:

>=20
> Hello everybody,
>=20
> I am currently using Lucene 3.0.2 with payloads. I store extra =
information
> in the payloads about the term like frequencies and therefore I don't =
need
> frequencies and term positions stored normally by Lucene. I would like =
to
> set f.setOmitTermFreqAndPositions(true) but then I am not able to =
retrieve
> payloads. Would it be hard to "hack" Lucene for my requests? Anymore I =
only
> store one payload per term if that information makes it easier.
>=20
> Best regards
> Alex
> --=20
> View this message in context: =
http://lucene.472066.n3.nabble.com/Storing-payloads-without-term-position-=
and-frequency-tp2408094p2408094.html
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20

--------------------------
Grant Ingersoll
http://www.lucidimagination.com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48612-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Feb 03 17:42:12 2011
Return-Path: <java-user-return-48612-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85421 invoked from network); 3 Feb 2011 17:42:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Feb 2011 17:42:12 -0000
Received: (qmail 77070 invoked by uid 500); 3 Feb 2011 17:42:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76858 invoked by uid 500); 3 Feb 2011 17:42:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 55411 invoked by uid 99); 3 Feb 2011 17:31:06 -0000
X-ASF-Spam-Status: No, hits=4.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,FROM_EXCESS_BASE64,HTML_MESSAGE,HTML_NONELEMENT_30_40,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of 290131755@qq.com designates 64.71.138.44 as permitted sender)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=qq.com; s=s0907;
	t=1296754227; bh=OnE+9/gzGkdV4SmY94bbfXfviIK4MTNuJCMli5s1EW8=;
	h=X-QQ-SSF:X-QQ-BUSINESS-ORIGIN:X-Originating-IP:X-QQ-STYLE:
	 X-QQ-mid:From:To:Subject:Mime-Version:Content-Type:
	 Content-Transfer-Encoding:Date:X-Priority:Message-ID:X-QQ-MIME:
	 X-Mailer:X-QQ-Mailer;
	b=D0Er8+ARRvVaL8O5BQ1QTg7cSThOspLY5OTbQO3kLG472s2/LR5Y0LSrltqKdi7km
	 PAo41xbrrBn+Fwh7dkT2NcQOApxQeQJNnqyw2dAYla2m+Zq54r7VFhfMqH4LwCc
X-QQ-SSF:0000000000000060
X-QQ-BUSINESS-ORIGIN:2
X-Originating-IP: 123.119.124.215
X-QQ-STYLE:
X-QQ-mid:webmail65t1296754224t257562
From: "=?ISO-8859-1?B?Q2VzY3k=?=" <290131755@qq.com>
To: "=?ISO-8859-1?B?amF2YS11c2Vy?=" <java-user@lucene.apache.org>
Subject: Some Problem with Lucene in Java
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_4D4AE630_085322D8_1EC62C96"
Content-Transfer-Encoding: 8Bit
Date: Fri, 4 Feb 2011 01:30:24 +0800
X-Priority: 3
Message-ID: <tencent_18C16FCE718CE39964E2AD17@qq.com>
X-QQ-MIME: TCMime 1.0 by Tencent
X-Mailer: QQMail 2.x
X-QQ-Mailer: QQMail 2.x

------=_NextPart_4D4AE630_085322D8_1EC62C96
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Transfer-Encoding: base64

SGksDQoNCg0KSSBhbSBkZXZlbG9waW5nIGFuIGFkdmFuY2VkIHBkZiBzZWFyY2ggZW5naW5l
IGluIGphdmEgYnkgdXNpbmcgcGRmYm94IGFuZCBsdWNlbmUuIEFuZCBJIG11c3QgZGlzcGxh
eSB0aGUgY29udGV4dCBvZiBlYWNoIGtleXdvcmQgaW4gdGhlIHVzZXIgaW50ZXJmYWNlLCBi
dXQgaSBjYW5ub3QgZmluZCBhIG1ldGhvZCB0byBkbyBzby4gTW9zdCBvZiB0aGUgbWV0aG9k
cyBwcm92aWRlZCBhcmUgdXNlZCB0byBkZWFsIHdpdGggZG9jdW1lbnRzIHdpdGggd2hvbGUg
Y29udGVudCBpbiB0aGUgc3BlY2lmaWVkIGZpZWxkLCBhbmQgaSBqdXN0IG5lZWQgdGhlIGNv
bnRleHQgb2YgZWFjaCBrZXl3b3JkIChpLmUuIHNvbWUgc3BlY2lmaWVkIHBhcnQgb2YgdGhl
IGNvbnRlbnRzIGluIHRoZSBzcGVjaWZpZWQgZmllbGQpLiANCg0KDQpBcmUgdGhlcmUgYW55
IHdheXMgdG8gZG8gc28/Pz8NCg0KDQpUaHguDQoNCg0KQ2VzY3k=

------=_NextPart_4D4AE630_085322D8_1EC62C96--


From java-user-return-48613-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Feb 03 17:44:23 2011
Return-Path: <java-user-return-48613-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86220 invoked from network); 3 Feb 2011 17:44:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Feb 2011 17:44:23 -0000
Received: (qmail 81193 invoked by uid 500); 3 Feb 2011 17:44:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81103 invoked by uid 500); 3 Feb 2011 17:44:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81094 invoked by uid 99); 3 Feb 2011 17:44:17 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Feb 2011 17:44:17 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ian.lea@gmail.com designates 209.85.215.48 as permitted sender)
Received: from [209.85.215.48] (HELO mail-ew0-f48.google.com) (209.85.215.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Feb 2011 17:44:12 +0000
Received: by ewy20 with SMTP id 20so792129ewy.35
        for <java-user@lucene.apache.org>; Thu, 03 Feb 2011 09:43:51 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=QGQLTJSkMOontcjQy7PmEOVWEpJuCyBXsoFnhO5SXns=;
        b=Qoz2A2aiRxDheq5rtzl3yanl2yHm/Ae+GgXyqW8aFZntN4cK+l7Vo3Qucdv0hNWjXj
         l00tuyvdp1LkEfsKnaMIJfGxUJbWMM69dcYcZQe42B8+WK3i309KjOEaKlOEoJb+ObIL
         4bAZ5sDZNNifw3Wq1E+ZSw6UfCP2K8tMuwIo4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=p5nsKWCl+MtRb6g1ZbFX6rEbaUbwAKgeqh10YkdZlKMjbwtyNFmMYf1LnLsI7E8sEs
         2UEmxpjgYb/r4UwTbNxukGdGckKAS9hYIRjubw2C6F4eydyQhHK439xtiqQlHd8Ahzsv
         VnXDC6Y6GoDGaBakvFq0wy0QQ8Ieco1Jx3oJE=
Received: by 10.204.121.138 with SMTP id h10mr10252584bkr.40.1296755031140;
 Thu, 03 Feb 2011 09:43:51 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.61.147 with HTTP; Thu, 3 Feb 2011 09:43:30 -0800 (PST)
In-Reply-To: <AANLkTins+U7B=qHkdTn1eFM7ySQZmQf-FEUMKLRpApfb@mail.gmail.com>
References: <AANLkTimErHJxtB4qFZVXrg1tm04pCq8d5AEsjkcHS-R8@mail.gmail.com> <AANLkTins+U7B=qHkdTn1eFM7ySQZmQf-FEUMKLRpApfb@mail.gmail.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Thu, 3 Feb 2011 17:43:30 +0000
Message-ID: <AANLkTikZbTejWpAFGS==-SBMTuRJBDCwcBOhOabrAkAZ@mail.gmail.com>
Subject: Re: Lucene Problems
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

The Lucene highlighter sounds just what you need.
http://hrycan.com/2009/10/25/lucene-highlighter-howto/ talks about
using it on an index of PDFs.  Google will find lots of other info.


--
Ian.


On Thu, Feb 3, 2011 at 5:31 PM, Gong Li <ee07b381@gmail.com> wrote:
> Hi,
>
> I am developing an advanced pdf search engine in java by using pdfbox and
> lucene. And I must display the context of each keyword in the user
> interface, but i cannot find a method to do so. Most of the methods provided
> are used to deal with documents with whole content in the specified field,
> and i just need the context of each keyword (i.e. some specified part of the
> contents in the specified field).
>
> For example, the contents in the specified field is "... aaa aaa bbb aaa aaa
> aaa aaa ..." and search for "bbb". And I want to display "aaa aaa *bbb* aaa
> aaa" in the UI. How?
>
> Are there any ways to do so???
>
> Thx.
>
> Cescy
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48614-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Feb 03 17:51:54 2011
Return-Path: <java-user-return-48614-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88900 invoked from network); 3 Feb 2011 17:51:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Feb 2011 17:51:54 -0000
Received: (qmail 99463 invoked by uid 500); 3 Feb 2011 17:51:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99112 invoked by uid 500); 3 Feb 2011 17:51:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99089 invoked by uid 99); 3 Feb 2011 17:51:48 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Feb 2011 17:51:48 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [212.241.168.151] (HELO mua02.mx.cix.co.uk) (212.241.168.151)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Feb 2011 17:51:39 +0000
X-Envelope-From: dawn@digitorial.co.uk
Received: from mail.lemur.co.uk (host86-142-226-205.range86-142.btcentralplus.com [86.142.226.205])
	by mua02.mx.cix.co.uk (8.13.8/8.13.4) with SMTP id p13HpIUp013598
	for <java-user@lucene.apache.org>; Thu, 3 Feb 2011 17:51:18 GMT
Received: from [192.168.1.250] ([192.168.1.250])
	by mail.lemur.co.uk
	with hMailServer ; Thu, 3 Feb 2011 17:51:18 +0000
Message-ID: <4D4AEAF2.6050503@digitorial.co.uk>
Date: Thu, 03 Feb 2011 17:50:42 +0000
From: =?ISO-8859-1?Q?Dawn_Zo=EB_Raison?= <dawn@digitorial.co.uk>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.1; en-GB; rv:1.9.2.13) Gecko/20101207 Lightning/1.0b2 Thunderbird/3.1.7
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Fwd: Lucene Problems
References: <AANLkTimErHJxtB4qFZVXrg1tm04pCq8d5AEsjkcHS-R8@mail.gmail.com> <AANLkTins+U7B=qHkdTn1eFM7ySQZmQf-FEUMKLRpApfb@mail.gmail.com>
In-Reply-To: <AANLkTins+U7B=qHkdTn1eFM7ySQZmQf-FEUMKLRpApfb@mail.gmail.com>
Content-Type: multipart/alternative;
 boundary="------------080709040208030100000808"
X-Virus-Checked: Checked by ClamAV on apache.org

--------------080709040208030100000808
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

We use the contrib package 'Highlighter' to do exactly that on our PDF 
newspaper website.

Dawn

On 03/02/2011 17:31, Gong Li wrote:
> Hi,
>
> I am developing an advanced pdf search engine in java by using pdfbox and
> lucene. And I must display the context of each keyword in the user
> interface, but i cannot find a method to do so. Most of the methods provided
> are used to deal with documents with whole content in the specified field,
> and i just need the context of each keyword (i.e. some specified part of the
> contents in the specified field).
>
> For example, the contents in the specified field is "... aaa aaa bbb aaa aaa
> aaa aaa ..." and search for "bbb". And I want to display "aaa aaa *bbb* aaa
> aaa" in the UI. How?
>
> Are there any ways to do so???
>
> Thx.
>
> Cescy
>

-- 

Rgds.
*Dawn Raison*
Technical Director, Digitorial Ltd.

E:dawn@digitorial.co.uk	W:http://www.digitorial.co.uk
M: 07956 609 618	        T: 01428 729 431
Reg: 04644583, England&  Wales
Church Villas Ecchinswell, Newbury, RG20  4TT

This email and any attached files are for the exclusive use of the 
addressee and may contain privileged and/or confidential information. If 
you receive this email in error you should not disclose the contents to 
any other person nor take copies but should delete it immediately. 
Digitorial Ltd makes no warranty as to the accuracy or completeness of 
this email and accepts no liability for its contents or use. Any 
opinions expressed in this email are those of the author and do not 
necessarily reflect the opinions of Digitorial Ltd.


--------------080709040208030100000808--


From java-user-return-48615-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Feb 03 17:55:16 2011
Return-Path: <java-user-return-48615-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89951 invoked from network); 3 Feb 2011 17:55:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Feb 2011 17:55:15 -0000
Received: (qmail 5040 invoked by uid 500); 3 Feb 2011 17:55:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4767 invoked by uid 500); 3 Feb 2011 17:55:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4758 invoked by uid 99); 3 Feb 2011 17:55:10 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Feb 2011 17:55:10 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [74.125.82.176] (HELO mail-wy0-f176.google.com) (74.125.82.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Feb 2011 17:55:04 +0000
Received: by wye20 with SMTP id 20so1403057wye.35
        for <java-user@lucene.apache.org>; Thu, 03 Feb 2011 09:54:44 -0800 (PST)
MIME-Version: 1.0
Received: by 10.227.136.84 with SMTP id q20mr383910wbt.72.1296755682977; Thu,
 03 Feb 2011 09:54:42 -0800 (PST)
Sender: felipe@goshme.com
Received: by 10.216.36.78 with HTTP; Thu, 3 Feb 2011 09:54:42 -0800 (PST)
In-Reply-To: <tencent_18C16FCE718CE39964E2AD17@qq.com>
References: <tencent_18C16FCE718CE39964E2AD17@qq.com>
Date: Thu, 3 Feb 2011 14:54:42 -0300
X-Google-Sender-Auth: YsGy2sgYUr_Se9ureYakUzVDqas
Message-ID: <AANLkTikM4rJ190tvnWWANx3gfxe7E+24R2NGTabVA-OE@mail.gmail.com>
Subject: Re: Some Problem with Lucene in Java
From: Felipe Lobo <felipe@jusbrasil.com.br>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e64974e0d827bd049b647506
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e64974e0d827bd049b647506
Content-Type: text/plain; charset=ISO-8859-1

If i understand you question right, you want do generate the snippet for the
result documents.
You can do something like the code below:

QueryScorer scorer = new QueryScorer(query);
Highlighter highlighter = new Highlighter(scorer);
highlighter.setTextFragmenter(new SimpleSpanFragmenter(scorer));
String text = document.getField(fieldName).stringValue();
TokenStream tokenStream = analyzer.tokenStream(fieldName, new
StringReader(text));
String snippet = highlighter.getBestFragments(tokenStream, text,
NUM_FRAGMENTS, TOKEN_DELIMITER);


2011/2/3 Cescy <290131755@qq.com>

> Hi,
>
>
> I am developing an advanced pdf search engine in java by using pdfbox and
> lucene. And I must display the context of each keyword in the user
> interface, but i cannot find a method to do so. Most of the methods provided
> are used to deal with documents with whole content in the specified field,
> and i just need the context of each keyword (i.e. some specified part of the
> contents in the specified field).
>
>
> Are there any ways to do so???
>
>
> Thx.
>
>
> Cescy




-- 
Felipe Lobo
www.jusbrasil.com.br

--0016e64974e0d827bd049b647506--

From java-user-return-48616-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Feb 03 18:30:41 2011
Return-Path: <java-user-return-48616-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19434 invoked from network); 3 Feb 2011 18:30:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Feb 2011 18:30:40 -0000
Received: (qmail 78183 invoked by uid 500); 3 Feb 2011 18:30:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77931 invoked by uid 500); 3 Feb 2011 18:30:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 68279 invoked by uid 99); 3 Feb 2011 18:23:55 -0000
X-ASF-Spam-Status: No, hits=3.9 required=5.0
	tests=FORGED_YAHOO_RCVD,FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,RFC_ABUSE_POST,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
From: madhuri_1820@yahoo.com
To: java-user@lucene.apache.org
Message-ID: <17968213.33372.1296757408612.JavaMail.nabble@ben.nabble.com>
Subject: Regarding Search Performance
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Date: Thu, 03 Feb 2011 10:23:28 -0800

Hi,

I have searching fields from multiple indexes. I am using Boolean Query. Index Search is taking nearly 20 sec for one query.

I have read that Query Filter have a feature of caching the inner Query search results. I am not sure which Query is useful whether Query Filter or boolean query ?

Can you suggest me whether Multi-Index search (MultiSearch) or Filtered Search  can improve performance ?

Thanks in Advance.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48617-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Feb 03 18:34:15 2011
Return-Path: <java-user-return-48617-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21624 invoked from network); 3 Feb 2011 18:34:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Feb 2011 18:34:14 -0000
Received: (qmail 84264 invoked by uid 500); 3 Feb 2011 18:34:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84199 invoked by uid 500); 3 Feb 2011 18:34:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84191 invoked by uid 99); 3 Feb 2011 18:34:10 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Feb 2011 18:34:10 +0000
X-ASF-Spam-Status: No, hits=2.1 required=5.0
	tests=FREEMAIL_FROM,FREEMAIL_REPLYTO,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of simon.willnauer@googlemail.com designates 209.85.212.48 as permitted sender)
Received: from [209.85.212.48] (HELO mail-vw0-f48.google.com) (209.85.212.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Feb 2011 18:34:05 +0000
Received: by vws18 with SMTP id 18so872347vws.35
        for <java-user@lucene.apache.org>; Thu, 03 Feb 2011 10:33:44 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:mime-version:reply-to:in-reply-to:references
         :date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=v9PdGrSGZm6t9ZaAoTgRHu2BWyGxkyXEJwyjhxw85bs=;
        b=llwL9DMFP3L3hZTiCIUB+3kSZFc9hubpuTLv72LpdYp3rLxnk0EU7SmvTTxdvwzexL
         drVLErds2qCe4GGdsEFRu/z6DiqZeQ9TEyzyWUQ1lg5KIOXIYCvi7lIKLCbQkQoPSonY
         HMTxmOQkQPVguui5K9DQZ3DtMBcW7fezoKTuU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=mime-version:reply-to:in-reply-to:references:date:message-id
         :subject:from:to:content-type:content-transfer-encoding;
        b=k8n35RL7vnhVhQhh1zy6RwNsCDcK32lqogZtADIuxYe84eTafmdh22t7Gj86LYpXJY
         J0JqZWhyy4AOoX7B7oHIIYSxm6y1S5GUZNtGjoyYvm2u0OxZU172l+PSk7xbIg0bu6Tl
         ELlBt3gTmccd5v6ATwdR0UJ/k3oJPxjUjD5mw=
MIME-Version: 1.0
Received: by 10.220.195.7 with SMTP id ea7mr2578851vcb.2.1296758024663; Thu,
 03 Feb 2011 10:33:44 -0800 (PST)
Received: by 10.220.183.4 with HTTP; Thu, 3 Feb 2011 10:33:44 -0800 (PST)
Reply-To: simon.willnauer@gmail.com
In-Reply-To: <17968213.33372.1296757408612.JavaMail.nabble@ben.nabble.com>
References: <17968213.33372.1296757408612.JavaMail.nabble@ben.nabble.com>
Date: Thu, 3 Feb 2011 19:33:44 +0100
Message-ID: <AANLkTik1e-37TqZwnzShRsN1C=2V6SsV0gU331yxwsD2@mail.gmail.com>
Subject: Re: Regarding Search Performance
From: Simon Willnauer <simon.willnauer@googlemail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

You should really provide us with more info. Maybe some code too.
Valuable infos are for example:

- how big is your index?
- how does the query look like?
- are you searching from a local file system or ram dir or from remote FS?
- how fast is the second search?
- which version of lucene are you useing?

simon

On Thu, Feb 3, 2011 at 7:23 PM,  <madhuri_1820@yahoo.com> wrote:
> Hi,
>
> I have searching fields from multiple indexes. I am using Boolean Query. =
Index Search is taking nearly 20 sec for one query.
>
> I have read that Query Filter have a feature of caching the inner Query s=
earch results. I am not sure which Query is useful whether Query Filter or =
boolean query ?
>
> Can you suggest me whether Multi-Index search (MultiSearch) or Filtered S=
earch =C2=A0can improve performance ?
>
> Thanks in Advance.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48618-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Feb 03 20:27:25 2011
Return-Path: <java-user-return-48618-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72436 invoked from network); 3 Feb 2011 20:27:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Feb 2011 20:27:24 -0000
Received: (qmail 45921 invoked by uid 500); 3 Feb 2011 20:27:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45807 invoked by uid 500); 3 Feb 2011 20:27:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45799 invoked by uid 99); 3 Feb 2011 20:27:21 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Feb 2011 20:27:21 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ryan@glassdoor.com designates 69.50.2.38 as permitted sender)
Received: from [69.50.2.38] (HELO ht1.hostedexchange.local) (69.50.2.38)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Feb 2011 20:27:14 +0000
Received: from mbx2.hostedexchange.local ([172.16.69.30]) by
 ht2.hostedexchange.local ([172.16.69.40]) with mapi; Thu, 3 Feb 2011 12:26:53
 -0800
From: Ryan Aylward <ryan@glassdoor.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Thu, 3 Feb 2011 12:27:50 -0800
Subject: RE: Using different field when overriding computeNorm
Thread-Topic: Using different field when overriding computeNorm
Thread-Index: AcvCQ7Dhu5M8zRp0RnqW7Vz/AGQHSwBnNxOQ
Message-ID: <E1E61A9983E3F94DAA95AEDE2D487E700621410631@mbx2.hostedexchange.local>
References: <AANLkTik+BXrD5tWpjk=sMpdqv-LRHFUPmJspdMhAXWrR@mail.gmail.com>
 <E1E61A9983E3F94DAA95AEDE2D487E7006211AC249@mbx2.hostedexchange.local>
 <AANLkTinXfwfyoDH_-0C4pRY+hjF+8v4prz7ZmP7oMi8=@mail.gmail.com>
In-Reply-To: <AANLkTinXfwfyoDH_-0C4pRY+hjF+8v4prz7ZmP7oMi8=@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

VGhpcyBpcyBncmVhdC4gSXMgdGhlcmUgYSB0YXJnZXQgb2Ygd2hlbiA0LjAgd2lsbCBiZSByZWxl
YXNlZD8NCg0KLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCkZyb206IFJvYmVydCBNdWlyIFtt
YWlsdG86cmNtdWlyQGdtYWlsLmNvbV0gDQpTZW50OiBUdWVzZGF5LCBGZWJydWFyeSAwMSwgMjAx
MSAxMToxMCBBTQ0KVG86IGphdmEtdXNlckBsdWNlbmUuYXBhY2hlLm9yZw0KU3ViamVjdDogUmU6
IFVzaW5nIGRpZmZlcmVudCBmaWVsZCB3aGVuIG92ZXJyaWRpbmcgY29tcHV0ZU5vcm0NCg0KT24g
VHVlLCBGZWIgMSwgMjAxMSBhdCAxOjUxIFBNLCBSeWFuIEF5bHdhcmQgPHJ5YW5AZ2xhc3Nkb29y
LmNvbT4gd3JvdGU6DQo+IEkgaGF2ZSBoYWQgdG8gZG8gc2ltaWxhciB0aGluZ3MgdG8gb3RoZXIg
bWV0aG9kcyBvZiBTaW1pbGFyaXR5LiBJbiBteSBleGFtcGxlLCBJIHdhbnRlZCB0byBoYXZlIGRp
ZmZlcmVudCBiZWhhdmlvciBmb3IgdGhlIHRmKCkgbWV0aG9kIGZvciBlYWNoIGZpZWxkLiBUaGUg
dGYgbWV0aG9kIGRvZXMgbm90IGluY2x1ZGUgYSBmaWVsZCBwYXJhbWV0ZXIgYXMgYW4gaW5wdXQg
dG8gaXQuIFRoZSBvbmx5IHNvbHV0aW9uIEkgY291bGQgY29tZSB1cA0KDQppbiBMdWNlbmUncyB0
cnVuaywgU2ltaWxhcml0eSBjYW4gbm93IGJlIGNvbnRyb2xsZWQgb24gYSBwZXItZmllbGQNCmJh
c2lzLCBzZWUgaHR0cHM6Ly9pc3N1ZXMuYXBhY2hlLm9yZy9qaXJhL2Jyb3dzZS9MVUNFTkUtMjIz
Ng0KDQpUaGUgb25seSBleGNlcHRpb25zIGFyZSB0aGluZ3MgbGlrZSBjb29yZCgpIHdoaWNoIGFw
cGx5IHRvIGUuZy4NCkJvb2xlYW5RdWVyeSAod2hpY2ggbWlnaHQgc3BhbiBtdWx0aXBsZSBmaWVs
ZHMpIGFuZCByZW1haW4gdG9wLWxldmVsDQppbiB0aGUgbmV3IFNpbWlsYXJpdHlQcm92aWRlci4N
Cg0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tDQpUbyB1bnN1YnNjcmliZSwgZS1tYWlsOiBqYXZhLXVzZXItdW5zdWJz
Y3JpYmVAbHVjZW5lLmFwYWNoZS5vcmcNCkZvciBhZGRpdGlvbmFsIGNvbW1hbmRzLCBlLW1haWw6
IGphdmEtdXNlci1oZWxwQGx1Y2VuZS5hcGFjaGUub3JnDQoNCg==


From java-user-return-48619-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Feb 03 22:24:18 2011
Return-Path: <java-user-return-48619-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32368 invoked from network); 3 Feb 2011 22:24:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Feb 2011 22:24:18 -0000
Received: (qmail 40174 invoked by uid 500); 3 Feb 2011 22:24:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40108 invoked by uid 500); 3 Feb 2011 22:24:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40100 invoked by uid 99); 3 Feb 2011 22:24:15 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Feb 2011 22:24:15 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of rcmuir@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Feb 2011 22:24:10 +0000
Received: by bwz8 with SMTP id 8so2252279bwz.35
        for <java-user@lucene.apache.org>; Thu, 03 Feb 2011 14:23:48 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=lKcQDioyHmc6WC1N9Sr14T5HIAg7FNMrlL1w/OS01MY=;
        b=rmvjXGqLWfUJjWdKqfSvEBOxoCIWMYAuf/h9BpdIhsr3Aq30Ax6wFs8eHtkCah6tGO
         S7l84aVxR17zqPKFFGtDps7LmWXJq+TrOEBssjdjejFB3eWVbwCDYbB8VRAY/KXM1dfx
         KOCvOPi3RtS47Dnxyrjgz1h+G2hMTxLgR267s=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=G/CtLhpOaT9nuGYS4OhY25/hXsJT3FoEb1NullM3YpVGORLhQrDWH0FQ6rsnnkHHps
         uiFE1WEyqN+n3FMlSuiRbHQuPJl4py+2GZrUwYT/plyIHpEfAE8mF7u/+Wzn1IVlI2GQ
         Ai86+tsvkKD2gcEfoxRjZCL29bwLMfC1lrFwc=
Received: by 10.204.34.142 with SMTP id l14mr2258236bkd.152.1296771828485;
 Thu, 03 Feb 2011 14:23:48 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.101.5 with HTTP; Thu, 3 Feb 2011 14:23:28 -0800 (PST)
In-Reply-To: <E1E61A9983E3F94DAA95AEDE2D487E700621410631@mbx2.hostedexchange.local>
References: <AANLkTik+BXrD5tWpjk=sMpdqv-LRHFUPmJspdMhAXWrR@mail.gmail.com>
 <E1E61A9983E3F94DAA95AEDE2D487E7006211AC249@mbx2.hostedexchange.local>
 <AANLkTinXfwfyoDH_-0C4pRY+hjF+8v4prz7ZmP7oMi8=@mail.gmail.com> <E1E61A9983E3F94DAA95AEDE2D487E700621410631@mbx2.hostedexchange.local>
From: Robert Muir <rcmuir@gmail.com>
Date: Thu, 3 Feb 2011 17:23:28 -0500
Message-ID: <AANLkTikiQRZTuTekQD3JXLZa1WKZtNRGRZ4EdH_AtOH+@mail.gmail.com>
Subject: Re: Using different field when overriding computeNorm
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8

On Thu, Feb 3, 2011 at 3:27 PM, Ryan Aylward <ryan@glassdoor.com> wrote:
> This is great. Is there a target of when 4.0 will be released?
>

Unfortunately I think its quite a ways away: there are branches for
major features such as per-document payloads, realtime search, modern
index compression algorithms, and a variety of other exciting things
in the works. As far as releases go, currently we are working towards
release 3.1, which is the next stable minor release upgrade from 3.0.

It might be technically possible to backport this feature (per-field
similarity) to the 3.x codebase while still keeping backwards
compatibility, but I'm worried about breaking backwards compatibility
in subtle ways due to some gremlins in the code... we fixed most of
these gremlins in trunk but they are still available and deprecated in
3.1 (example: https://issues.apache.org/jira/browse/LUCENE-2828).

So, at the moment having this feature be something that has to wait
until 4.0 is the safest option in my opinion... but I feel your pain
here when trying to customize the scoring system...

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48620-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Feb 03 22:37:30 2011
Return-Path: <java-user-return-48620-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36318 invoked from network); 3 Feb 2011 22:37:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Feb 2011 22:37:30 -0000
Received: (qmail 62093 invoked by uid 500); 3 Feb 2011 22:37:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61919 invoked by uid 500); 3 Feb 2011 22:37:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 75508 invoked by uid 99); 3 Feb 2011 20:49:38 -0000
X-ASF-Spam-Status: No, hits=0.6 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of alexandervomberg@googlemail.com designates 209.85.161.48 as permitted sender)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:subject:from:to:in-reply-to:references
         :content-type:date:message-id:mime-version:x-mailer
         :content-transfer-encoding;
        bh=cAwiJy4XPL4UuASRMuepVYzQJekGR+SQT6XhMponeAQ=;
        b=pn7BsjBTg6OD1njKc2OMcwnLlcZPrPND9miRXOzA9THW/CiulO8D3y6Q1H2sASBXt0
         TylBB5fW54IyfvZ2LnnPGjVPvuqq43yM024/tpoxJj6j4jKcdFsA9Fgt9LzdpfgP1sd/
         U5CByMARYt3NAf+O9BXmaaabCLSExruEs81H8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=subject:from:to:in-reply-to:references:content-type:date:message-id
         :mime-version:x-mailer:content-transfer-encoding;
        b=Ry7zoYlM9oF3EOt7MXPt4o1+NCWJgRqSMIFbFOGTS4jLfI1UiXafBwXX0VY640R7UO
         HEfLXpYbS5PUjH5nzXrj2xC+ChBiTP6jmfeBXyjW8agT8q1p6sz3OyAS+56JNTJAjhFK
         d/zrVFTevamjpc+bBa5SXl6Ennl6CFkpEVb9U=
Subject: Re: Storing payloads without term-position and frequency
From: Alex <alexandervomberg@googlemail.com>
To: java-user@lucene.apache.org
In-Reply-To: <B3AF9CFD-1B91-4097-BAF1-B0444D7B666B@apache.org>
References: <1296675319846-2408094.post@n3.nabble.com>
	 <B3AF9CFD-1B91-4097-BAF1-B0444D7B666B@apache.org>
Content-Type: text/plain; charset="UTF-8"
Date: Thu, 03 Feb 2011 21:49:10 +0100
Message-ID: <1296766151.9163.52.camel@alex-ubuntu>
Mime-Version: 1.0
X-Mailer: Evolution 2.30.3 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hello Grant,

I am currently storing the first term instance only because I just index
each token for an article once. What I want to achieve is an index for
versioned document collections like wikipedia (See this paper
http://www.cis.poly.edu/suel/papers/archive.pdf). 

In detail I create on the first level (Lucene) a document for one
wikipedia article containing all distinct terms of its versions. On the
second level (payloads) I store the frequency information corresponding
to each article version and its terms. If I search now I can find an
article by its term and through the term and its payload I receive
informations about the other versions and how often a token occured (In
my case with one term the payload pos is always 1!). So I look on the
first level and pick only the information from the second level which I
need. By this I can avoid storing informations several times because
most wikipedia versions are very similar (in term context).

This is working so far and I just want to reduce my index size but I
don't know how much I can save by disabling term freqs/pos.
I hope I could explain the problem a little bit. If not just tell me I
try to explain it again. :)

Best regards
Alex

PS: I am currently looking for a bedroom in New York, Brooklyn (Park
Slope or near NYU Poly). Maybe somebody rents a room from 15 Feb until
15 April. :)

Am Donnerstag, den 03.02.2011, 12:38 -0500 schrieb Grant Ingersoll:
> Payloads only make sense in terms of specific positions in the index, so I don't think there is a way to hack Lucene for it.  You could, I suppose, just store the payload for the first instance of the term.
> 
> Also, what's the use case you are trying to solve here?  Why store term frequency as a payload when Lucene already does it (and it probably does it more efficiently)
> 
> -Grant
> 
> On Feb 2, 2011, at 2:35 PM, Alex vB wrote:
> 
> > 
> > Hello everybody,
> > 
> > I am currently using Lucene 3.0.2 with payloads. I store extra information
> > in the payloads about the term like frequencies and therefore I don't need
> > frequencies and term positions stored normally by Lucene. I would like to
> > set f.setOmitTermFreqAndPositions(true) but then I am not able to retrieve
> > payloads. Would it be hard to "hack" Lucene for my requests? Anymore I only
> > store one payload per term if that information makes it easier.
> > 
> > Best regards
> > Alex
> > -- 
> > View this message in context: http://lucene.472066.n3.nabble.com/Storing-payloads-without-term-position-and-frequency-tp2408094p2408094.html
> > Sent from the Lucene - Java Users mailing list archive at Nabble.com.
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> > 
> 
> --------------------------
> Grant Ingersoll
> http://www.lucidimagination.com
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48621-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Feb 03 22:57:17 2011
Return-Path: <java-user-return-48621-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43915 invoked from network); 3 Feb 2011 22:57:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Feb 2011 22:57:16 -0000
Received: (qmail 1472 invoked by uid 500); 3 Feb 2011 22:57:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1274 invoked by uid 500); 3 Feb 2011 22:57:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 949 invoked by uid 99); 3 Feb 2011 22:55:09 -0000
X-ASF-Spam-Status: No, hits=2.9 required=5.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
From: "Phil Herold" <pherold@d-wise.com>
To: <java-user@lucene.apache.org>
Subject: BooleanQuery / multiple indexes - Lucene 3.0.3
Date: Thu, 3 Feb 2011 17:57:22 -0500
Message-ID: <01d301cbc3f5$b982ec00$2c88c400$@com>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_01D4_01CBC3CB.D0ACE400"
X-Mailer: Microsoft Office Outlook 12.0
Content-Language: en-us
Thread-Index: AcvD9bcfxqfwPqNbTaCi73B1LvrXzQ==
X-ACL-Warn: {
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - mars.lunarpages.com
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - d-wise.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked by ClamAV on apache.org

------=_NextPart_000_01D4_01CBC3CB.D0ACE400
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hi,

 

I'm getting incorrect search results when I use a MultiSearcher across
multiple indexes with a Boolean query, specifically, foo AND !bar (using
QueryParser). For example, with two indexes, I have a single document that
satisfies both "foo" and "bar", so it should be excluded from the search
result. It's not. If I do the search across the one index (using just
IndexSearcher) containing the document in question, it excludes the document
as expected. I've not been able to reproduce this with a simple test case,
unfortunately. The indexes are large (10K documents), with MB worth of data.

 

I've spent several frustrating days trying to track down this problem since
it effects our users. I've traced the code through ReqExclScorer,
particularly the toNonExcluded() method. It indeed behaves slightly
differently when searching one index versus two. 

 

Here is code that "should" reproduce the problem, but alas it does not (it
works as expected), so this is probably not much help:

 

package com.dwise.reveal.indexing;

 

import junit.framework.TestCase;

 

import org.apache.lucene.analysis.Analyzer;

import org.apache.lucene.analysis.KeywordAnalyzer;

import org.apache.lucene.document.Document;

import org.apache.lucene.document.Field;

import org.apache.lucene.index.IndexWriter;

import org.apache.lucene.index.IndexWriter.MaxFieldLength;

import org.apache.lucene.queryParser.QueryParser;

import org.apache.lucene.search.IndexSearcher;

import org.apache.lucene.search.ParallelMultiSearcher;

import org.apache.lucene.search.Query;

import org.apache.lucene.search.ScoreDoc;

import org.apache.lucene.search.Searchable;

import org.apache.lucene.search.Searcher;

import org.apache.lucene.search.TopDocs;

import org.apache.lucene.search.TopScoreDocCollector;

import org.apache.lucene.store.Directory;

import org.apache.lucene.store.RAMDirectory;

import org.apache.lucene.util.Version;

 

public class LuceneTest3 extends TestCase {

   

   private Analyzer _analyzer;

   private Directory _directory;

   private Directory _directory2;

   private IndexWriter _indexWriter;

   private IndexSearcher _indexSearcher1;

   private IndexSearcher _indexSearcher2;

   private final Document _doc1 = new Document();

   private final Document _doc1b = new Document();

   private final Document _doc1c = new Document();

   private final Document _doc1d = new Document();

   private final Document _doc2 = new Document();

   private final Document _doc2b = new Document();

   private static String _defaultTerm = "path";

   private static String _nameTerm = "name";

   private static Searcher _searcher;

   

   @Override

   protected void setUp() throws Exception {

      super.setUp();

      _analyzer = new KeywordAnalyzer();

      _directory = new RAMDirectory();

      _indexWriter = new IndexWriter(_directory, _analyzer, true,
MaxFieldLength.UNLIMITED);

      addDefaultTerm(_doc1,
"/SDD/DSCLIN/CS-0917/SE917-01/Production/Data/Analysis Ready Data"); //
matches include clause

      addTerm(_doc1, _nameTerm, "remerge_all.sas");

      addDefaultTerm(_doc1b,
"/SDD/DSCLIN/CS-0917/Integrated/Production/Data/Analysis Ready
Data/ae.sas7bdat"); // matches exclude clause

      addDefaultTerm(_doc1c,
"/SDD/DSCLIN/CS-0917/Integrated/Production/Data/Analysis Ready Data"); //
this is the bad boy

      addDefaultTerm(_doc1d,
"/SDD/DSCLIN/CS-0917/Integrated/Production/Data"); // matches exclude clause

      

      _indexWriter.addDocument(_doc1); // docId 0

      _indexWriter.addDocument(_doc1b); // docId 1

      _indexWriter.addDocument(_doc1c); // docId 2

      _indexWriter.addDocument(_doc1d); // docId 3

      _indexWriter.optimize();

      _indexWriter.close();

      

      _indexSearcher1 = new IndexSearcher(_directory, true);

      

      _directory2 = new RAMDirectory();

      _indexWriter = new IndexWriter(_directory2, _analyzer, true,
MaxFieldLength.UNLIMITED);

      

      addDefaultTerm(_doc2,
"/SDD/DSCLIN/CS-1008/CS1008-A-U201/Production/Data/Analysis Ready Data"); //
matches include clause

      addDefaultTerm(_doc2b,
"/SDD/DSCLIN/CS-0917/Integrated/Production/Data/Analysis Ready
Data/cm.sas7bdat"); // matches exclude clause

      

      _indexWriter.addDocument(_doc2b); // docId 3 + 1 (4)

      _indexWriter.addDocument(_doc2); // docId 3 + 2 (5)

      _indexWriter.optimize();

      _indexWriter.close();

      

      _indexSearcher2 = new IndexSearcher(_directory2, true);

   }

   

   @Override

   protected void tearDown() throws Exception {

      super.tearDown();

      _searcher.close();

      _directory.close();

      _directory2.close();

   }

   

   public void testPathSearch() throws Exception {

      // Now search the index:

      QueryParser parser = new QueryParser(Version.LUCENE_30, _defaultTerm,
_analyzer);

      parser.setLowercaseExpandedTerms(true);

      parser.setAllowLeadingWildcard(true);

      _searcher = new ParallelMultiSearcher(new Searchable[] {
_indexSearcher1, _indexSearcher2 });

      

      // "Include" clause

      System.out.println("Include clause results (should be 3):");

      Query query =
parser.parse("/sdd/dsclin/*production*analysis?ready?data");

      TopScoreDocCollector collector = TopScoreDocCollector.create(4, true);

      _searcher.search(query, collector);

      assertEquals(3, collector.getTotalHits());

      dumpDocs(_searcher, collector, null);

      System.out.println();

      

      // "Exclude" clause

      System.out.println("Exclude clause results (should be 3):");

      query = parser.parse("(*integrated/production*)");

      collector = TopScoreDocCollector.create(4, true);

      _searcher.search(query, collector);

      assertEquals(4, collector.getTotalHits());

      dumpDocs(_searcher, collector, null);

      System.out.println();

      

      // Both together

      query = parser.parse("/sdd/dsclin/*production*analysis?ready?data
!(*integrated/production*)");

      System.out.println("parsed query: " + query);

      System.out.println("rewritten query: " + _searcher.rewrite(query));

      System.out.println();

      System.out.println("Together results (should be 2):");

      collector = TopScoreDocCollector.create(4, true);

      _searcher.search(query, collector);

      assertEquals(2, collector.getTotalHits());

      dumpDocs(_searcher, collector, query);

   }

   

   private void addTerm(Document doc, String term, String value) {

      doc.add(new Field(term, value.toLowerCase(), Field.Store.YES,
Field.Index.NOT_ANALYZED));

   }

   

   private void addDefaultTerm(Document doc, String value) {

      doc.add(new Field(_defaultTerm, value.toLowerCase(), Field.Store.YES,
Field.Index.NOT_ANALYZED));

   }

   

   private void dumpDocs(Searcher searcher, TopScoreDocCollector collector,
Query query) throws Exception {

      TopDocs topDocs = collector.topDocs();

      ScoreDoc[] hits = topDocs.scoreDocs;

      for (int i = 0; i < collector.getTotalHits(); i++) {

         int docId = hits[i].doc;

         Document doc = searcher.doc(docId);

         System.out.println("docId: " + docId + "; path: " +
doc.get(_defaultTerm));

         if (query != null) {

            System.out.println(_searcher.explain(query, docId));

         }

      }

      

   }

}

 

 

 

 

 


------=_NextPart_000_01D4_01CBC3CB.D0ACE400--


From java-user-return-48622-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Feb 03 23:18:23 2011
Return-Path: <java-user-return-48622-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59141 invoked from network); 3 Feb 2011 23:18:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Feb 2011 23:18:23 -0000
Received: (qmail 34646 invoked by uid 500); 3 Feb 2011 23:18:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34444 invoked by uid 500); 3 Feb 2011 23:18:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34436 invoked by uid 99); 3 Feb 2011 23:18:20 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Feb 2011 23:18:20 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of rcmuir@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Feb 2011 23:18:13 +0000
Received: by bwz8 with SMTP id 8so2294774bwz.35
        for <java-user@lucene.apache.org>; Thu, 03 Feb 2011 15:17:53 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=AK8nb1B1Dlk1XjC3q2uffd8ZB+0brMh9TKIYwXilpuM=;
        b=Gf8UTrJPUk9WqrmOx6nDH0QkW64ydzsfnw/6uC2qfEqDxsPp4IdY38iBz5iuWDv54x
         Jc6W0MMeKulzTW7o0kzr/WtSi/k/RLgXIcifJKTDG+OuutQyeY0yCDEaHDgNWTbnDbbY
         MGTe6fHsuuoPtHpIqof5yEfZ2d4joxwxafgo4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=dWSlxkswydS/pq244z4w1OC0ALOqRtXbIXaM8OrsrOcGIqLGH94WbBRzgaaO9DFXPd
         vpL6hAe6gkPoG/K9vt6TrCJT2wBG4qKP9kUY4m6YcJPFYE0xbWshvo2ioqNfbLGiA/GL
         CNytZJG3FqCymnpukN/WKGqpsQdcTF13LU5Vs=
Received: by 10.204.62.209 with SMTP id y17mr10392011bkh.98.1296775073292;
 Thu, 03 Feb 2011 15:17:53 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.101.5 with HTTP; Thu, 3 Feb 2011 15:17:33 -0800 (PST)
In-Reply-To: <01d301cbc3f5$b982ec00$2c88c400$@com>
References: <01d301cbc3f5$b982ec00$2c88c400$@com>
From: Robert Muir <rcmuir@gmail.com>
Date: Thu, 3 Feb 2011 18:17:33 -0500
Message-ID: <AANLkTikL6XOZSSSK21WS6UXa3vj2Evw+fKhsycOpkgfp@mail.gmail.com>
Subject: Re: BooleanQuery / multiple indexes - Lucene 3.0.3
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Thu, Feb 3, 2011 at 5:57 PM, Phil Herold <pherold@d-wise.com> wrote:
> Hi,
>
>
>
> I'm getting incorrect search results when I use a MultiSearcher across
> multiple indexes with a Boolean query, specifically, foo AND !bar (using
> QueryParser). For example, with two indexes, I have a single document that
> satisfies both "foo" and "bar", so it should be excluded from the search
> result. It's not. If I do the search across the one index (using just
> IndexSearcher) containing the document in question, it excludes the document
> as expected. I've not been able to reproduce this with a simple test case,
> unfortunately. The indexes are large (10K documents), with MB worth of data.
>

Hi, yes this is a bug: https://issues.apache.org/jira/browse/LUCENE-2756

There are fixes to this in unreleased code, but in the meantime you
can use one of these workarounds:
1. queryParser.setMultiTermRewriteMethod(MultiTermQuery.CONSTANT_SCORE_FILTER_REWRITE)
2. using IndexSearcher over MultiReader instead of MultiSearcher.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48623-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 04 00:04:30 2011
Return-Path: <java-user-return-48623-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71681 invoked from network); 4 Feb 2011 00:04:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Feb 2011 00:04:29 -0000
Received: (qmail 90166 invoked by uid 500); 4 Feb 2011 00:04:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90096 invoked by uid 500); 4 Feb 2011 00:04:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90088 invoked by uid 99); 4 Feb 2011 00:04:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Feb 2011 00:04:26 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of Lisheng.Zhang@broadvision.com designates 139.56.8.26 as permitted sender)
Received: from [139.56.8.26] (HELO mail-fw.broadvision.com) (139.56.8.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Feb 2011 00:04:20 +0000
X-ASG-Debug-ID: 1296777839-043b00a90000-H1Y1KX
X-Barracuda-URL: http://mail-fw.broadvision.com:8000/cgi-bin/mark.cgi
Received: from RW-EX2003.BROADVISION.COM (localhost [127.0.0.1])
	by mail-fw.broadvision.com (Spam Firewall) with ESMTP id 715481A8B3B
	for <java-user@lucene.apache.org>; Thu,  3 Feb 2011 16:03:59 -0800 (PST)
Received: from RW-EX2003.BROADVISION.COM ([10.10.160.33]) by mail-fw.broadvision.com with ESMTP id dDQ3BoL5p5QO16bH for <java-user@lucene.apache.org>; Thu, 03 Feb 2011 16:03:59 -0800 (PST)
X-ASG-Whitelist: Client
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-ASG-Orig-Subj: outlook MSG file text extraction tool?
Subject: outlook MSG file text extraction tool?
Date: Thu, 3 Feb 2011 16:03:59 -0800
Message-ID: <ED081AC9AEEE0248BBCCDE9989AAE3FC02CB18DB@rw-ex2003.BROADVISION.COM>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: outlook MSG file text extraction tool?
Thread-Index: AcvD/wXkK/LRMiSMQuq/wyYv9Cs2gA==
From: "Zhang, Lisheng" <Lisheng.Zhang@BroadVision.com>
To: <java-user@lucene.apache.org>
X-Barracuda-Connect: UNKNOWN[10.10.160.33]
X-Barracuda-Start-Time: 1296777839
X-Barracuda-Virus-Scanned: by Barracuda Spam Firewall at broadvision.com


Hi,

Do you know any good open source tool to extract text from MS outlook =
MSG
files?

1) Apache Tika seems not to support *.msg yet.

2) Apache POI recently started to support *.msg (3.7 10/2010), but I run =
into
   several problems (cannot process Japanese well, null pointer =
exception ..)?

Thanks very much for helps, Lisheng

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48624-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 04 04:55:35 2011
Return-Path: <java-user-return-48624-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92491 invoked from network); 4 Feb 2011 04:55:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Feb 2011 04:55:35 -0000
Received: (qmail 5630 invoked by uid 500); 4 Feb 2011 04:55:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5112 invoked by uid 500); 4 Feb 2011 04:55:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5015 invoked by uid 99); 4 Feb 2011 04:55:22 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Feb 2011 04:55:22 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=FREEMAIL_FROM,MIME_QP_LONG_LINE,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_NEUTRAL,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [121.101.151.213] (HELO nm4-vm0.bullet.mail.in.yahoo.com) (121.101.151.213)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 04 Feb 2011 04:55:16 +0000
Received: from [121.101.151.236] by nm4.bullet.mail.in.yahoo.com with NNFMP; 04 Feb 2011 04:55:02 -0000
Received: from [121.101.151.232] by tm1.bullet.mail.in.yahoo.com with NNFMP; 04 Feb 2011 04:54:54 -0000
Received: from [127.0.0.1] by omp1001.mail.in.yahoo.com with NNFMP; 04 Feb 2011 04:55:16 -0000
X-Yahoo-Newman-Id: 874292.51282.bm@omp1001.mail.in.yahoo.com
Received: (qmail 23297 invoked from network); 4 Feb 2011 04:54:53 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=DKIM-Signature:Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:References:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE;
  b=ndQXcjs6Ze91PcKEU4U33W443jDHwSo6Dqa+EC4zUWxAnEtPRrFtl9BB8LLj7ZF5OUBHo41D/0pb/nESUhOtWLNYkZGhH5CR4kMPJVW6fgDYv3bX1vao1oPY0XsdrpJq/YnJKjbEFRVbtUjQwgatswkS7RMaSenip2+TlyUHTFU=  ;
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.in; s=s1024; t=1296795293; bh=ZunWOu8IlbfjUruKL3nVInTc5doaRoMdXCD331P/xGE=; h=Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:References:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE; b=Ge0zbANFXtq2WEYws6lXJX2VaqePN0H32CcUm2JMmStMkhVSWT26Gw6Y+DJ0dcC9cDlypL3pUf130AyC6TD9VJRp7C55xBzlCD5zkjSYBdlQ1dcEprYPo8d3bgvkeqosN4PBFPxmJ62LsljSLQFBZEEhWeS+cB+7MhFPa4Qb2KM=
Received: from GaneshM (emailgane@121.244.159.130 with login)
        by smtp101.mail.in.yahoo.com with SMTP; 04 Feb 2011 10:24:53 +0530 IST
X-Yahoo-SMTP: JObyHkuswBBrNSLZp.Ycd7Boqpr_GQ--
X-YMail-OSG: QVkxyecVM1kdwIYE.p2ZjNTpx1NSptBIvKl8hXmroYNkm7z
 2ocmiZZgm27DecIzwzCgrPd4pkzs8pohuNz0XRLEtJ5Wxwhzp._wNC8f00gR
 PuXzrdkw8zKjTYt6CQDo776FKCGt7kZefHdZSXYbzChp0d6G8Q6ddyM1TABl
 pfI9YpxBEkS5XD86ePBH1aKo7Uu.DEPQqYhhnLk9uq45XuzNaFe2j7YPYB7p
 TJqWBs5IYgqESEvU5tPZCCRWTP4reR1m5G2UPuw5jHlF0O7FdA4AX
X-Yahoo-Newman-Property: ymail-3
Message-ID: <B1D3B13B65AA41109AA37C61A91D52C7@sv.us.sonicwall.com>
From: "Ganesh" <emailgane@yahoo.co.in>
To: <java-user@lucene.apache.org>, <solr-user@lucene.apache.org>
References: <3A79253D430F44B4947C210BE1FFC929@sv.us.sonicwall.com> <AANLkTik6YYi0i7ezhwSV32qMuuB7NCpoh8PGxNX7_kxj@mail.gmail.com>
Subject: Re: Scale out design patterns
Date: Fri, 4 Feb 2011 10:24:51 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.5931
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.5931

I am also in the same idea. Based on the field, I could shard but there =
are two practical difficulties.

1. If normal user logged-in then result could be fetched from the =
corresponding search server but if Admin user logged-in, then he may =
need to see all data. The query should be issued across servers and =
results should be consolidated.

2. Consider a scenario I am sharding based on the User, I am having =
single search server and It is handling 1000 members. Now as the memory =
consumption is high,  I have added one more search server. New users =
could access the second server but what about the old users, their data =
will be still added to the server1. How to address this issue. Is =
rebuilding the index the only way.    =20

Could any one share their experience, How they solved scale out =
problems?

Regards
Ganesh=20


----- Original Message -----=20
From: "Anshum" <anshumg@gmail.com>
To: <java-user@lucene.apache.org>
Sent: Friday, January 21, 2011 12:04 PM
Subject: Re: Scale out design patterns


> Hi Ganesh,
> I'd suggest, if you have a particular dimension/field on which you =
could
> shard your data such that the query/data breakup gets predictable, =
that
> would be a good way to scale out e.g. if you have users which are =
equally
> active/searched then you may want to split their data on a simple mod =
of
> some numeric (auto increment) userid.
> This works well under normal cases unless your partitioning is not
> predictable.
>=20
> --
> Anshum Gupta
> http://ai-cafe.blogspot.com
>=20
>=20
> On Fri, Jan 21, 2011 at 10:52 AM, Ganesh <emailgane@yahoo.co.in> =
wrote:
>=20
>> Hello all,
>>
>> Could you any one guide me what all the various ways we could scale =
out?
>>
>> 1. Index:  Add data to the nodes in round-robin.
>>   Search: Query all the nodes and cluster the results using carrot2.
>>
>> 2.Horizontal partitioning and No shared architecture,
>>   Index:   Split the data based on userid and index few set of users =
data
>> in each node.
>>   Search: Have a mapper kind of application which could tell which =
userid
>> is mapped to node, redirect the search traffic to corresponding node.
>>
>> Which one is best? Did you guys tried any of these approach. Please =
share
>> your thoughts.
>>
>> Regards
>> Ganesh
>> Send free SMS to your Friends on Mobile from your Yahoo! Messenger.
>> Download Now! http://messenger.yahoo.com/download.php
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
Send free SMS to your Friends on Mobile from your Yahoo! Messenger. Download Now! http://messenger.yahoo.com/download.php

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48625-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 04 05:43:43 2011
Return-Path: <java-user-return-48625-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23367 invoked from network); 4 Feb 2011 05:43:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Feb 2011 05:43:43 -0000
Received: (qmail 48411 invoked by uid 500); 4 Feb 2011 05:43:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48109 invoked by uid 500); 4 Feb 2011 05:43:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48101 invoked by uid 99); 4 Feb 2011 05:43:36 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Feb 2011 05:43:36 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of findbestopensource@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Feb 2011 05:43:32 +0000
Received: by fxm2 with SMTP id 2so2057597fxm.35
        for <java-user@lucene.apache.org>; Thu, 03 Feb 2011 21:43:11 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=yTl2wGzK5TAv6h7vwi3nV4clL+91D8B9dPO73Tg1iqY=;
        b=RN11Ugsb5KQFsfoMRCnhuHyItvVwFyL9Jq6xwNgKY0LVjPB44prK2Ni3Sqrxzp6DDU
         fbu3G+74UBYciV3KJZtLBE7INjbWZXCpJ5CxXfGKd3snWA/knhJznaT/2hnTklUA/qyF
         rm0CbrzPLSrZ1Ow8N1wsDkzVysJpnf5tnLOWo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=TXyGNOaxoTZiIhtaBaWrwKMDhauiNOJXwFVF24ru8huPzmlvmOpg8gMQbmcTq2xkn8
         TYN9tWt5SBMseof7cBAEke7NgcoQefldI+ZopS3WuU1VvmnvzlLaXrg4YUMmxpOdb/52
         Er63DWluLKPO1sqtec2D3M08OqUKCz+2D3XNM=
MIME-Version: 1.0
Received: by 10.223.96.73 with SMTP id g9mr298749fan.24.1296798190313; Thu, 03
 Feb 2011 21:43:10 -0800 (PST)
Received: by 10.223.59.17 with HTTP; Thu, 3 Feb 2011 21:43:10 -0800 (PST)
In-Reply-To: <ED081AC9AEEE0248BBCCDE9989AAE3FC02CB18DB@rw-ex2003.BROADVISION.COM>
References: <ED081AC9AEEE0248BBCCDE9989AAE3FC02CB18DB@rw-ex2003.BROADVISION.COM>
Date: Fri, 4 Feb 2011 11:13:10 +0530
Message-ID: <AANLkTikE0-gzYrW-aaVj7p2daiKDi_iaSuCDygkfv5-5@mail.gmail.com>
Subject: Re: outlook MSG file text extraction tool?
From: findbestopensource <findbestopensource@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf3054a5117aa1c1049b6e5b57

--20cf3054a5117aa1c1049b6e5b57
Content-Type: text/plain; charset=ISO-8859-1

Here are few projects tagged text-extraction.
http://www.findbestopensource.com/tagged/text-extraction I am not sure, If
any product actually extract content from msg files. But take a look.


On Fri, Feb 4, 2011 at 5:33 AM, Zhang, Lisheng <
Lisheng.Zhang@broadvision.com> wrote:

>
> Hi,
>
> Do you know any good open source tool to extract text from MS outlook MSG
> files?
>
> 1) Apache Tika seems not to support *.msg yet.
>
> 2) Apache POI recently started to support *.msg (3.7 10/2010), but I run
> into
>   several problems (cannot process Japanese well, null pointer exception
> ..)?
>
> Thanks very much for helps, Lisheng
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--20cf3054a5117aa1c1049b6e5b57--

From java-user-return-48626-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 04 06:25:17 2011
Return-Path: <java-user-return-48626-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40655 invoked from network); 4 Feb 2011 06:25:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Feb 2011 06:25:16 -0000
Received: (qmail 88044 invoked by uid 500); 4 Feb 2011 06:25:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87717 invoked by uid 500); 4 Feb 2011 06:25:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87709 invoked by uid 99); 4 Feb 2011 06:25:10 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Feb 2011 06:25:10 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [130.225.24.68] (HELO sbexch03.sb.statsbiblioteket.dk) (130.225.24.68)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Feb 2011 06:25:03 +0000
Received: from [130.225.25.198] (130.225.25.198) by
 sbexch03.sb.statsbiblioteket.dk (130.225.24.68) with Microsoft SMTP Server id
 8.3.137.0; Fri, 4 Feb 2011 07:24:40 +0100
Subject: Re: Scale out design patterns
From: Toke Eskildsen <te@statsbiblioteket.dk>
Reply-To: te@statsbiblioteket.dk
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
In-Reply-To: <B1D3B13B65AA41109AA37C61A91D52C7@sv.us.sonicwall.com>
References: <3A79253D430F44B4947C210BE1FFC929@sv.us.sonicwall.com>
	 <AANLkTik6YYi0i7ezhwSV32qMuuB7NCpoh8PGxNX7_kxj@mail.gmail.com>
	 <B1D3B13B65AA41109AA37C61A91D52C7@sv.us.sonicwall.com>
Content-Type: text/plain; charset="UTF-8"
Organization: State and University Library, Denmark
Date: Fri, 4 Feb 2011 07:24:40 +0100
Message-ID: <1296800680.17441.16.camel@te-prime>
MIME-Version: 1.0
X-Mailer: Evolution 2.28.3 
Content-Transfer-Encoding: 7bit

On Fri, 2011-02-04 at 05:54 +0100, Ganesh wrote:
> 2. Consider a scenario I am sharding based on the User, I am having single search server and It is handling 1000 members. Now as the memory consumption is high,  I have added one more search server. New users could access the second server but what about the old users, their data will be still added to the server1. How to address this issue. Is rebuilding the index the only way.

You can move old users by reindexing their data at the new server and
deleting them from the old one? That's only a partial modification.

If you are about to move a whole lot of users, you can copy the old
index, delete all documents from the copy, except the ones that are to
be moved, then merge the pruned index with the new one.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48627-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 04 13:53:49 2011
Return-Path: <java-user-return-48627-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22162 invoked from network); 4 Feb 2011 13:53:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Feb 2011 13:53:48 -0000
Received: (qmail 95607 invoked by uid 500); 4 Feb 2011 13:53:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94421 invoked by uid 500); 4 Feb 2011 13:53:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94412 invoked by uid 99); 4 Feb 2011 13:53:40 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Feb 2011 13:53:40 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of anujshahwork@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Feb 2011 13:53:35 +0000
Received: by iyb26 with SMTP id 26so2343087iyb.35
        for <java-user@lucene.apache.org>; Fri, 04 Feb 2011 05:53:14 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=Xeps+k0zaL37inaQMqm2KxADRq3f4UfasaNbd/CfSfk=;
        b=IdhNtLX41i31JKEDq0LtDmeSFjJc2WHDoYCs9cxlXrbHmiYQPmIuw7fXLxw94nftZ2
         o3E6GAi6gXtWDV8037b97fg0tKfXeBj1QD8i26Qj6MI/CTkajPxQGFVqR1BLeHuf4bcX
         YvfGTR6bsB2FPOTeA3Vz7223D3WgcXIUCaeOQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=JerkUoHd/eFEx05EbGJRiZgPhXF71REktXnvNF6O1LsFBDs7SBsIVlM4ivQaFaCTyl
         6hggl+xi0xOvJUdHAVbNIq6eQc45QZL7uonVzGWZuTZUn5HxpO0PlCY1S3HG9WwhJIat
         TSnBIebNSvtIrUd7LogPUI0iYoJH4rIshn2Ww=
MIME-Version: 1.0
Received: by 10.231.206.69 with SMTP id ft5mr13168306ibb.88.1296827594425;
 Fri, 04 Feb 2011 05:53:14 -0800 (PST)
Received: by 10.231.30.140 with HTTP; Fri, 4 Feb 2011 05:53:14 -0800 (PST)
In-Reply-To: <005801cbc3be$8bd6e4f0$a384aed0$@thetaphi.de>
References: <AANLkTi=XUpyw09tcbjuTzNRpMJa730Cq-6_1agMAjYz6@mail.gmail.com>
	<005801cbc3be$8bd6e4f0$a384aed0$@thetaphi.de>
Date: Fri, 4 Feb 2011 13:53:14 +0000
Message-ID: <AANLkTik5Y5GVsX4pq0EQ_9xG_JxT9=EnThTEnaO6KCiJ@mail.gmail.com>
Subject: Re: Syntax for Numeric Range
From: Anuj Shah <anujshahwork@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=90e6ba53a69e19c5ce049b753462

--90e6ba53a69e19c5ce049b753462
Content-Type: text/plain; charset=ISO-8859-1

Hi,

I see why the existing syntax cannot be used to automatically generate a
NumericRange. But, is it possible to extend the QueryParser to include
additional syntax for a numeric range. e.g.

numericfield:[1;10]
>

The user can be trained to use this syntax for certain fields (i.e those
that I know are indexed as NumericField)

Thanks

Anuj





On 3 February 2011 16:22, Uwe Schindler <uwe@thetaphi.de> wrote:

> Hi Anuj,
>
> You have to subclass QueryParser and override newRangeQuery() to parse
> yourself. Automatic parsing is impossible, because QueryParser does not
> know
> (in contrast to Apache Solr) which fields have which type (Lucene has no
> field schema).
>
> Example how to do this:
>
> http://mail-archives.apache.org/mod_mbox/lucene-java-user/200910.mbox/%3CBLU
> 140-W22F12E1C9AC650580E9852D0BE0@phx.gbl%3E<http://mail-archives.apache.org/mod_mbox/lucene-java-user/200910.mbox/%3CBLU%0A140-W22F12E1C9AC650580E9852D0BE0@phx.gbl%3E>
>
> Uwe
>
> -----
> Uwe Schindler
> H.-H.-Meier-Allee 63, D-28213 Bremen
> http://www.thetaphi.de
> eMail: uwe@thetaphi.de
>
>
> > -----Original Message-----
> > From: Anuj Shah [mailto:anujshahwork@gmail.com]
> > Sent: Thursday, February 03, 2011 4:50 PM
> > To: java-user@lucene.apache.org
> > Subject: Syntax for Numeric Range
> >
> > Is there a query syntax for specifying a numeric range for a field
> indexed
> as a
> > NumericField.
> >
> > I've tried
> >
> > numericfield:[0 TO 10]
> > >
> >
> > But it is parsed as a TermRangeQuery and not a NumericRangeQuery.
> >
> > Many thanks
> >
> > Anuj
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--90e6ba53a69e19c5ce049b753462--

From java-user-return-48628-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 04 15:03:01 2011
Return-Path: <java-user-return-48628-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49846 invoked from network); 4 Feb 2011 15:03:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Feb 2011 15:03:00 -0000
Received: (qmail 90029 invoked by uid 500); 4 Feb 2011 15:02:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89479 invoked by uid 500); 4 Feb 2011 15:02:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89468 invoked by uid 99); 4 Feb 2011 15:02:52 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Feb 2011 15:02:52 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Feb 2011 15:02:44 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id 44F09D36005
	for <java-user@lucene.apache.org>; Fri,  4 Feb 2011 16:02:24 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id MI47VJFKKNVX for <java-user@lucene.apache.org>;
	Fri,  4 Feb 2011 16:02:18 +0100 (CET)
Received: from VEGA (WDC-MARE.marum.de [134.102.249.78])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id 14550D36003
	for <java-user@lucene.apache.org>; Fri,  4 Feb 2011 16:02:18 +0100 (CET)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <AANLkTi=XUpyw09tcbjuTzNRpMJa730Cq-6_1agMAjYz6@mail.gmail.com>	<005801cbc3be$8bd6e4f0$a384aed0$@thetaphi.de> <AANLkTik5Y5GVsX4pq0EQ_9xG_JxT9=EnThTEnaO6KCiJ@mail.gmail.com>
In-Reply-To: <AANLkTik5Y5GVsX4pq0EQ_9xG_JxT9=EnThTEnaO6KCiJ@mail.gmail.com>
Subject: RE: Syntax for Numeric Range
Date: Fri, 4 Feb 2011 16:02:47 +0100
Message-ID: <001201cbc47c$95d823b0$c1886b10$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQHgJEVumKXNIykM1BGHfzo4uM8yOwKDeGtrAU+SYQ+Tqhgw8A==
Content-Language: de
X-Virus-Checked: Checked by ClamAV on apache.org

You have everything you need to implement this. This is much easier to
change the syntax.

-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de

> -----Original Message-----
> From: Anuj Shah [mailto:anujshahwork@gmail.com]
> Sent: Friday, February 04, 2011 2:53 PM
> To: java-user@lucene.apache.org
> Subject: Re: Syntax for Numeric Range
> 
> Hi,
> 
> I see why the existing syntax cannot be used to automatically generate a
> NumericRange. But, is it possible to extend the QueryParser to include
> additional syntax for a numeric range. e.g.
> 
> numericfield:[1;10]
> >
> 
> The user can be trained to use this syntax for certain fields (i.e those
that I
> know are indexed as NumericField)
> 
> Thanks
> 
> Anuj
> 
> 
> 
> 
> 
> On 3 February 2011 16:22, Uwe Schindler <uwe@thetaphi.de> wrote:
> 
> > Hi Anuj,
> >
> > You have to subclass QueryParser and override newRangeQuery() to parse
> > yourself. Automatic parsing is impossible, because QueryParser does
> > not know (in contrast to Apache Solr) which fields have which type
> > (Lucene has no field schema).
> >
> > Example how to do this:
> >
> > http://mail-archives.apache.org/mod_mbox/lucene-java-
> user/200910.mbox/
> > %3CBLU
> > 140-W22F12E1C9AC650580E9852D0BE0@phx.gbl%3E<http://mail-
> archives.apach
> > e.org/mod_mbox/lucene-java-user/200910.mbox/%3CBLU%0A140-
> W22F12E1C9AC6
> > 50580E9852D0BE0@phx.gbl%3E>
> >
> > Uwe
> >
> > -----
> > Uwe Schindler
> > H.-H.-Meier-Allee 63, D-28213 Bremen
> > http://www.thetaphi.de
> > eMail: uwe@thetaphi.de
> >
> >
> > > -----Original Message-----
> > > From: Anuj Shah [mailto:anujshahwork@gmail.com]
> > > Sent: Thursday, February 03, 2011 4:50 PM
> > > To: java-user@lucene.apache.org
> > > Subject: Syntax for Numeric Range
> > >
> > > Is there a query syntax for specifying a numeric range for a field
> > indexed
> > as a
> > > NumericField.
> > >
> > > I've tried
> > >
> > > numericfield:[0 TO 10]
> > > >
> > >
> > > But it is parsed as a TermRangeQuery and not a NumericRangeQuery.
> > >
> > > Many thanks
> > >
> > > Anuj
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48629-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 04 15:39:35 2011
Return-Path: <java-user-return-48629-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70107 invoked from network); 4 Feb 2011 15:39:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Feb 2011 15:39:35 -0000
Received: (qmail 59891 invoked by uid 500); 4 Feb 2011 15:39:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59647 invoked by uid 500); 4 Feb 2011 15:39:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59639 invoked by uid 99); 4 Feb 2011 15:39:28 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Feb 2011 15:39:28 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of anujshahwork@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Feb 2011 15:39:21 +0000
Received: by iyb26 with SMTP id 26so2450172iyb.35
        for <java-user@lucene.apache.org>; Fri, 04 Feb 2011 07:39:00 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=GcwfxGXGPwmQ3PzrZ/U7G0CRFp9eEwt5BjKvk8rM/dg=;
        b=nrkvlEDp6k+7CUl5CNc0aklEll5VTYn/H9Er5vMN6WNwhbcVmEmaAbb7Vg4zVKT7dg
         +K7Q6laaAe9UpcqteGesfJrTj+i8/tkViLUf1QtIN71DI4ii1i5MXnFvMiRJaWhH67Lu
         wLpSCuW8Y0Flm8KLYDNJzm2d0hvNYYUFotxG8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=t5nXZAMOe4oyQxBYtBzsgxS8CTM8PK5eFzMwAvpXj33JpFQ2AtYaWkmIQNHn1jdmqC
         JHG+2p1qR0bSDKEwWmYjBVQqruwm9cqU0WZyGUrqzL6qGFl4bXEh+30zpJ9igN9mQgxQ
         uputYOGCgg8p2GVLnotD3x461FwPMRJI7XbHs=
MIME-Version: 1.0
Received: by 10.231.199.198 with SMTP id et6mr12766475ibb.13.1296833940265;
 Fri, 04 Feb 2011 07:39:00 -0800 (PST)
Received: by 10.231.30.140 with HTTP; Fri, 4 Feb 2011 07:39:00 -0800 (PST)
In-Reply-To: <001201cbc47c$95d823b0$c1886b10$@thetaphi.de>
References: <AANLkTi=XUpyw09tcbjuTzNRpMJa730Cq-6_1agMAjYz6@mail.gmail.com>
	<005801cbc3be$8bd6e4f0$a384aed0$@thetaphi.de>
	<AANLkTik5Y5GVsX4pq0EQ_9xG_JxT9=EnThTEnaO6KCiJ@mail.gmail.com>
	<001201cbc47c$95d823b0$c1886b10$@thetaphi.de>
Date: Fri, 4 Feb 2011 15:39:00 +0000
Message-ID: <AANLkTimHTPhE5NXXt+StX3+h9WvhnaLqu=DjjB1cWHpd@mail.gmail.com>
Subject: Re: Syntax for Numeric Range
From: Anuj Shah <anujshahwork@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=90e6ba4fc482579a6c049b76aeb1
X-Virus-Checked: Checked by ClamAV on apache.org

--90e6ba4fc482579a6c049b76aeb1
Content-Type: text/plain; charset=ISO-8859-1

In my case the query engine is very generic and, along side the QueryParser,
doesn't know about the fields. So I can't decide whether a TermRangeQuery
and a NumericRangeQuery.

How about a syntax like:

> numericfield:[{1 TO 10}]
>

Using Luke this seems to parse into a TermRangeQuery with the { } in place.
It should be possible to pick this case out in newRangeQuery and construct a
NumericRangeQuery instead.

Would you know if this is likely to cause other unwanted effects when used
with more complicated query strings?

Thanks

Anuj


On 4 February 2011 15:02, Uwe Schindler <uwe@thetaphi.de> wrote:

> You have everything you need to implement this. This is much easier to
> change the syntax.
>
> -----
> Uwe Schindler
> H.-H.-Meier-Allee 63, D-28213 Bremen
> http://www.thetaphi.de
> eMail: uwe@thetaphi.de
>
> > -----Original Message-----
> > From: Anuj Shah [mailto:anujshahwork@gmail.com]
> > Sent: Friday, February 04, 2011 2:53 PM
> > To: java-user@lucene.apache.org
> > Subject: Re: Syntax for Numeric Range
> >
> > Hi,
> >
> > I see why the existing syntax cannot be used to automatically generate a
> > NumericRange. But, is it possible to extend the QueryParser to include
> > additional syntax for a numeric range. e.g.
> >
> > numericfield:[1;10]
> > >
> >
> > The user can be trained to use this syntax for certain fields (i.e those
> that I
> > know are indexed as NumericField)
> >
> > Thanks
> >
> > Anuj
> >
> >
> >
> >
> >
> > On 3 February 2011 16:22, Uwe Schindler <uwe@thetaphi.de> wrote:
> >
> > > Hi Anuj,
> > >
> > > You have to subclass QueryParser and override newRangeQuery() to parse
> > > yourself. Automatic parsing is impossible, because QueryParser does
> > > not know (in contrast to Apache Solr) which fields have which type
> > > (Lucene has no field schema).
> > >
> > > Example how to do this:
> > >
> > > http://mail-archives.apache.org/mod_mbox/lucene-java-
> > user/200910.mbox/
> > > %3CBLU
> > > 140-W22F12E1C9AC650580E9852D0BE0@phx.gbl%3E<http://mail-
> > archives.apach
> > > e.org/mod_mbox/lucene-java-user/200910.mbox/%3CBLU%0A140-
> > W22F12E1C9AC6
> > > 50580E9852D0BE0@phx.gbl%3E>
> > >
> > > Uwe
> > >
> > > -----
> > > Uwe Schindler
> > > H.-H.-Meier-Allee 63, D-28213 Bremen
> > > http://www.thetaphi.de
> > > eMail: uwe@thetaphi.de
> > >
> > >
> > > > -----Original Message-----
> > > > From: Anuj Shah [mailto:anujshahwork@gmail.com]
> > > > Sent: Thursday, February 03, 2011 4:50 PM
> > > > To: java-user@lucene.apache.org
> > > > Subject: Syntax for Numeric Range
> > > >
> > > > Is there a query syntax for specifying a numeric range for a field
> > > indexed
> > > as a
> > > > NumericField.
> > > >
> > > > I've tried
> > > >
> > > > numericfield:[0 TO 10]
> > > > >
> > > >
> > > > But it is parsed as a TermRangeQuery and not a NumericRangeQuery.
> > > >
> > > > Many thanks
> > > >
> > > > Anuj
> > >
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> > >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--90e6ba4fc482579a6c049b76aeb1--

From java-user-return-48630-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 04 17:47:33 2011
Return-Path: <java-user-return-48630-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31737 invoked from network); 4 Feb 2011 17:47:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Feb 2011 17:47:33 -0000
Received: (qmail 83036 invoked by uid 500); 4 Feb 2011 17:47:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82565 invoked by uid 500); 4 Feb 2011 17:47:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82557 invoked by uid 99); 4 Feb 2011 17:47:27 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Feb 2011 17:47:27 +0000
X-ASF-Spam-Status: No, hits=-0.1 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [141.211.3.201] (HELO itcs-ehub-01.adsroot.itcs.umich.edu) (141.211.3.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Feb 2011 17:47:19 +0000
Received: from ITCS-ECLS-1-VS3.adsroot.itcs.umich.edu ([141.211.3.232]) by
 itcs-ehub-01.adsroot.itcs.umich.edu ([141.211.3.201]) with mapi; Fri, 4 Feb
 2011 12:46:57 -0500
From: "Burton-West, Tom" <tburtonw@umich.edu>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Fri, 4 Feb 2011 12:46:54 -0500
Subject: Bigrams for CJK with ICUTokenizer ?
Thread-Topic: Bigrams for CJK with ICUTokenizer ?
Thread-Index: AcvEk4Ma2V6xNPTmR0eAr4QMw0Pe1g==
Message-ID: <47316FE3F6BA0D4DADF99663512552680AF3BC0569@ITCS-ECLS-1-VS3.adsroot.itcs.umich.edu>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-cr-hashedpuzzle: AJrZ ApRQ BSNT Bbkr Bj0m CQ7O CZax CdPa DRHV FJKI G32y
 HPvy ImIT JjKj JoyA
 KS15;1;agBhAHYAYQAtAHUAcwBlAHIAQABsAHUAYwBlAG4AZQAuAGEAcABhAGMAaABlAC4AbwByAGcA;Sosha1_v1;7;{DE61B800-2ABF-4D74-962C-AC482888922E};dABiAHUAcgB0AG8AbgB3AEAAdQBtAGkAYwBoAC4AZQBkAHUA;Fri,
 04 Feb 2011 17:46:54
 GMT;QgBpAGcAcgBhAG0AcwAgAGYAbwByACAAQwBKAEsAIAB3AGkAdABoACAASQBDAFUAVABvAGsAZQBuAGkAegBlAHIAIAA/AA==
x-cr-puzzleid: {DE61B800-2ABF-4D74-962C-AC482888922E}
acceptlanguage: en-US
Content-Type: multipart/alternative;
	boundary="_000_47316FE3F6BA0D4DADF99663512552680AF3BC0569ITCSECLS1VS3a_"
MIME-Version: 1.0

--_000_47316FE3F6BA0D4DADF99663512552680AF3BC0569ITCSECLS1VS3a_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hello all,

We are using the ICUTokenizer because we have documents in about 400 differ=
ent languages.   We are also setting autoGeneratePhraseQueries to false so =
that CJK and other languages that don't use space to separate words won't g=
et tokenized properly by the ICUTokenizer and then the tokens automatically=
 searched as a phrase.

 The ICUTokenizer emits unigrams for Chinese (HAN). We would prefer to use =
overlapping bigrams as in the CJKAnalyzer.   Is it possible to configure th=
e ICUTokenizer to emit overlapping bigrams?

Alternatively, is there some way to put some filter in the filter chain aft=
er the ICUTokenizer that would produce overlapping bigrams for CJK?

Tom Burton-West


--_000_47316FE3F6BA0D4DADF99663512552680AF3BC0569ITCSECLS1VS3a_--

From java-user-return-48631-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 04 17:58:52 2011
Return-Path: <java-user-return-48631-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34266 invoked from network); 4 Feb 2011 17:58:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Feb 2011 17:58:52 -0000
Received: (qmail 15134 invoked by uid 500); 4 Feb 2011 17:58:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14760 invoked by uid 500); 4 Feb 2011 17:58:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14751 invoked by uid 99); 4 Feb 2011 17:58:46 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Feb 2011 17:58:46 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of rcmuir@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Feb 2011 17:58:39 +0000
Received: by bwz8 with SMTP id 8so3110953bwz.35
        for <java-user@lucene.apache.org>; Fri, 04 Feb 2011 09:58:19 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type:content-transfer-encoding;
        bh=bN5ejXufGbXfp6wKV84Dwgt2eUSVNBBVwqIG/h8MQVs=;
        b=UVhWup/1YPfgBaT3QRSNWbqI4oh9vQKq7JZY1q0Ou/wjYemVrY8UjjW9kcgxEglvvg
         2rEQQ0DnwVGFfd940ezbdf5WVARIQmr8Ra/pE/EjtrQGLiuH2G9Rrd400qZa4Q/iePbF
         g6qV0rx+QPAsNmekP0+lbldX+aKQG/PSMJA3U=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=JshvVLi5NsLyvw8D2d3lZWMlnc5EeJQ2hmqmueiqj76dckKlQ1+6mZKBaX2ff/nurU
         5zD20DHdWNIECOAn5PdYQdTw6q5ivSxOgY2DGdHU+xuXJL+SY+fZ1Q7bLJv450HSaLxn
         4TZamEqPJf5WVZLZe3Re1kdCF/vW6oejdbraU=
Received: by 10.204.34.142 with SMTP id l14mr3506545bkd.152.1296842298739;
 Fri, 04 Feb 2011 09:58:18 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.101.5 with HTTP; Fri, 4 Feb 2011 09:57:58 -0800 (PST)
In-Reply-To: <47316FE3F6BA0D4DADF99663512552680AF3BC0569@ITCS-ECLS-1-VS3.adsroot.itcs.umich.edu>
References: <47316FE3F6BA0D4DADF99663512552680AF3BC0569@ITCS-ECLS-1-VS3.adsroot.itcs.umich.edu>
From: Robert Muir <rcmuir@gmail.com>
Date: Fri, 4 Feb 2011 12:57:58 -0500
Message-ID: <AANLkTim53vbRYjP8NFoZJ7BUcwDfWy4vudPpQ6paEYcn@mail.gmail.com>
Subject: Re: Bigrams for CJK with ICUTokenizer ?
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On Fri, Feb 4, 2011 at 12:46 PM, Burton-West, Tom <tburtonw@umich.edu> wrot=
e:
> Hello all,
>
> We are using the ICUTokenizer because we have documents in about 400 diff=
erent languages. =C2=A0 We are also setting autoGeneratePhraseQueries to fa=
lse so that CJK and other languages that don't use space to separate words =
won't get tokenized properly by the ICUTokenizer and then the tokens automa=
tically searched as a phrase.
>
> =C2=A0The ICUTokenizer emits unigrams for Chinese (HAN). We would prefer =
to use overlapping bigrams as in the CJKAnalyzer. =C2=A0 Is it possible to =
configure the ICUTokenizer to emit overlapping bigrams?
>
> Alternatively, is there some way to put some filter in the filter chain a=
fter the ICUTokenizer that would produce overlapping bigrams for CJK?
>

Hi Tom, Let's open JIRA issue for this, we can add it.
The gist of it, is that ICUTokenizer sets a ScriptAttribute (an
integer) per token indicating its writing system.
So its easy to make an efficient filter that basically only "shingles"
on this attribute.

The reason there isnt one, is because I'd really like for us to
eventually somehow solve this with
https://issues.apache.org/jira/browse/LUCENE-2470

But for now, i think it would be good to be practical and add the
explicit filter (we can just mark the api experimental, hoping we will
make it more general with 2470) so people can easily get good out of
box performance in situations like yours.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48632-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 04 20:08:25 2011
Return-Path: <java-user-return-48632-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9497 invoked from network); 4 Feb 2011 20:08:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Feb 2011 20:08:25 -0000
Received: (qmail 1292 invoked by uid 500); 4 Feb 2011 20:08:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1098 invoked by uid 500); 4 Feb 2011 20:08:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1082 invoked by uid 99); 4 Feb 2011 20:08:22 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Feb 2011 20:08:22 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [141.211.3.201] (HELO itcs-ehub-01.adsroot.itcs.umich.edu) (141.211.3.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Feb 2011 20:08:14 +0000
Received: from ITCS-ECLS-1-VS3.adsroot.itcs.umich.edu ([141.211.3.232]) by
 itcs-ehub-01.adsroot.itcs.umich.edu ([141.211.3.201]) with mapi; Fri, 4 Feb
 2011 15:07:52 -0500
From: "Burton-West, Tom" <tburtonw@umich.edu>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Fri, 4 Feb 2011 15:07:50 -0500
Subject: RE: Bigrams for CJK with ICUTokenizer ?
Thread-Topic: Bigrams for CJK with ICUTokenizer ?
Thread-Index: AcvElS9pX5/ORTqsRcKAxptrCCI/fwACjN/Q
Message-ID: <47316FE3F6BA0D4DADF99663512552680AF3BC0601@ITCS-ECLS-1-VS3.adsroot.itcs.umich.edu>
References: <47316FE3F6BA0D4DADF99663512552680AF3BC0569@ITCS-ECLS-1-VS3.adsroot.itcs.umich.edu>
 <AANLkTim53vbRYjP8NFoZJ7BUcwDfWy4vudPpQ6paEYcn@mail.gmail.com>
In-Reply-To: <AANLkTim53vbRYjP8NFoZJ7BUcwDfWy4vudPpQ6paEYcn@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

VGhhbmtzIFJvYmVydCwNCg0KTHVjZW5lIDI3NDAgbG9va3MgcmVhbGx5IGludGVyZXN0aW5nLiAg
SW4gdGhlIG1lYW50aW1lIGEgSklSQSBpc3N1ZSBmb3IgdGhpcyBzb3VuZHMgbGlrZSBhIGdvb2Qg
aWRlYSBzaW5jZSBJJ20gZ3Vlc3Npbmcgb3RoZXIgcGVvcGxlIHdvdWxkIGxpa2UgdG8gdXNlIHRo
ZSBJQ1VUb2tlbml6ZXIgYnV0IHdvdWxkIGFsc28gbGlrZSBiaWdyYW1zIGZvciBDSksuDQoNCkkn
bSBhIGJpdCBjb25mdXNlZCBvdmVyIHRoZSByZWxhdGlvbnNoaXAgb2YgdGhlIHF1ZXJ5cGFyc2Vy
IHRvIHRoZSBmaWx0ZXIgY2hhaW4gYW5kIHdoZXRoZXIgYSBmaWx0ZXIgaW4gdGhlIGNoYWluIGFm
dGVyIHRoZSBJQ1VUb2tlbml6ZXIgY291bGQgY29uc3RydWN0IGJpZ3JhbXMgaWYgdGhlIElDVVRv
a2VuaXplciBpcyBzcGl0dGluZyBvdXQgdW5pZ3JhbXMgYW5kIHRoZSBxdWVyeXBhcnNlciBpcyB0
aGVuIGNvbnZlcnRpbmcgdGhlIHVuaWdyYW1zIHRvIGEgQm9vbGVhbiBjbGF1c2VzIChpLmUuIGF1
dG9HZW5lcmF0ZVBocmFzZVF1ZXJpZXM9ZmFsc2UuKSAgDQoNCklmIEFCQyBpcyBhIHN0cmluZyBv
ZiBIYW4gY2hhcmFjdGVycyBhbmQgdGhlIElDVVRva2VuaXplciBzcGl0IG91dCB1bmlncmFtcyBB
IEIgQyAgKGFuZCB3ZSBoYXZlIGF1dG9HZW5lcmF0ZVBocmFzZVF1ZXJpZXMgc2V0IHRvIGZhbHNl
KSB3b24ndCB0aGUgbmV4dCBmaWx0ZXIgaW4gdGhlIGNoYWluIGdldCBlYWNoIG9mIHRoZSB1bmln
cmFtcyBpbiBhIEJvb2xlYW4gY2xhdXNlIG9uZSBhdCBhIHRpbWU/ICBJIGd1ZXNzIEkgZG9uJ3Qg
c2VlIGhvdyB0aGUgbmV4dCBmaWx0ZXIgaW4gdGhlIGNoYWluIGNhbiByZWFzc2VtYmxlIHRoZSB1
bmlncmFtcyBpbnRvIG92ZXJsYXBwaW5nIGJpZ3JhbXMuICAgTWF5YmUgSSdtIG5vdCB1bmRlcnN0
YW5kaW5nIGhvdyB0b2tlbnMgZ2V0IHBhc3NlZCBmcm9tIG9uZSBmaWx0ZXIgdG8gdGhlIG5leHQg
d2hlbiBvbmUgb2YgdGhlIGZpbHRlcnMgKG9yIGluIHRoaXMgY2FzZSB0aGUgdG9rZW5pemVyKSBi
cmVha3MgYSB0b2tlbiB1cCBpbnRvIG11bHRpcGxlIHRva2Vucy4NCg0KT3IgYW0gSSBnZXR0aW5n
IGluZGV4IHRpbWUgYW5hbHlzaXMgY29uZnVzZWQgd2l0aCBxdWVyeSB0aW1lIGFuYWx5c2lzPw0K
DQpEaWQgeW91IG1lYW4gdGhhdCBJQ1VUb2tlbml6ZXIgY291bGQgYmUgbW9kaWZpZWQgdG8gb3V0
cHV0IGJpZ3JhbXMgIG9yIHRoYXQgYSBmaWx0ZXIgY291bGQgYmUgZGVzaWduZWQgdGhhdCB3b3Vs
ZCB0YWtlIHRoZSBvdXRwdXQgb2YgdGhlIElDVVRva2VuaXplciBhbmQgY3JlYXRlIHNoaW5nbGVz
IG9uIHRva2VucyB3aXRoIHRoZSBhdHRyaWJ1dGUgZm9yIEhhbj8NCg0KDQpUb20NCg0KLS0tLS1P
cmlnaW5hbCBNZXNzYWdlLS0tLS0NCkZyb206IFJvYmVydCBNdWlyIFttYWlsdG86cmNtdWlyQGdt
YWlsLmNvbV0gDQpTZW50OiBGcmlkYXksIEZlYnJ1YXJ5IDA0LCAyMDExIDEyOjU4IFBNDQpUbzog
amF2YS11c2VyQGx1Y2VuZS5hcGFjaGUub3JnDQpTdWJqZWN0OiBSZTogQmlncmFtcyBmb3IgQ0pL
IHdpdGggSUNVVG9rZW5pemVyID8NCg0KT24gRnJpLCBGZWIgNCwgMjAxMSBhdCAxMjo0NiBQTSwg
QnVydG9uLVdlc3QsIFRvbSA8dGJ1cnRvbndAdW1pY2guZWR1PiB3cm90ZToNCj4gSGVsbG8gYWxs
LA0KPg0KPiBXZSBhcmUgdXNpbmcgdGhlIElDVVRva2VuaXplciBiZWNhdXNlIHdlIGhhdmUgZG9j
dW1lbnRzIGluIGFib3V0IDQwMCBkaWZmZXJlbnQgbGFuZ3VhZ2VzLiDCoCBXZSBhcmUgYWxzbyBz
ZXR0aW5nIGF1dG9HZW5lcmF0ZVBocmFzZVF1ZXJpZXMgdG8gZmFsc2Ugc28gdGhhdCBDSksgYW5k
IG90aGVyIGxhbmd1YWdlcyB0aGF0IGRvbid0IHVzZSBzcGFjZSB0byBzZXBhcmF0ZSB3b3JkcyB3
b24ndCBnZXQgdG9rZW5pemVkIHByb3Blcmx5IGJ5IHRoZSBJQ1VUb2tlbml6ZXIgYW5kIHRoZW4g
dGhlIHRva2VucyBhdXRvbWF0aWNhbGx5IHNlYXJjaGVkIGFzIGEgcGhyYXNlLg0KPg0KPiDCoFRo
ZSBJQ1VUb2tlbml6ZXIgZW1pdHMgdW5pZ3JhbXMgZm9yIENoaW5lc2UgKEhBTikuIFdlIHdvdWxk
IHByZWZlciB0byB1c2Ugb3ZlcmxhcHBpbmcgYmlncmFtcyBhcyBpbiB0aGUgQ0pLQW5hbHl6ZXIu
IMKgIElzIGl0IHBvc3NpYmxlIHRvIGNvbmZpZ3VyZSB0aGUgSUNVVG9rZW5pemVyIHRvIGVtaXQg
b3ZlcmxhcHBpbmcgYmlncmFtcz8NCj4NCj4gQWx0ZXJuYXRpdmVseSwgaXMgdGhlcmUgc29tZSB3
YXkgdG8gcHV0IHNvbWUgZmlsdGVyIGluIHRoZSBmaWx0ZXIgY2hhaW4gYWZ0ZXIgdGhlIElDVVRv
a2VuaXplciB0aGF0IHdvdWxkIHByb2R1Y2Ugb3ZlcmxhcHBpbmcgYmlncmFtcyBmb3IgQ0pLPw0K
Pg0KDQpIaSBUb20sIExldCdzIG9wZW4gSklSQSBpc3N1ZSBmb3IgdGhpcywgd2UgY2FuIGFkZCBp
dC4NClRoZSBnaXN0IG9mIGl0LCBpcyB0aGF0IElDVVRva2VuaXplciBzZXRzIGEgU2NyaXB0QXR0
cmlidXRlIChhbg0KaW50ZWdlcikgcGVyIHRva2VuIGluZGljYXRpbmcgaXRzIHdyaXRpbmcgc3lz
dGVtLg0KU28gaXRzIGVhc3kgdG8gbWFrZSBhbiBlZmZpY2llbnQgZmlsdGVyIHRoYXQgYmFzaWNh
bGx5IG9ubHkgInNoaW5nbGVzIg0Kb24gdGhpcyBhdHRyaWJ1dGUuDQoNClRoZSByZWFzb24gdGhl
cmUgaXNudCBvbmUsIGlzIGJlY2F1c2UgSSdkIHJlYWxseSBsaWtlIGZvciB1cyB0bw0KZXZlbnR1
YWxseSBzb21laG93IHNvbHZlIHRoaXMgd2l0aA0KaHR0cHM6Ly9pc3N1ZXMuYXBhY2hlLm9yZy9q
aXJhL2Jyb3dzZS9MVUNFTkUtMjQ3MA0KDQpCdXQgZm9yIG5vdywgaSB0aGluayBpdCB3b3VsZCBi
ZSBnb29kIHRvIGJlIHByYWN0aWNhbCBhbmQgYWRkIHRoZQ0KZXhwbGljaXQgZmlsdGVyICh3ZSBj
YW4ganVzdCBtYXJrIHRoZSBhcGkgZXhwZXJpbWVudGFsLCBob3Bpbmcgd2Ugd2lsbA0KbWFrZSBp
dCBtb3JlIGdlbmVyYWwgd2l0aCAyNDcwKSBzbyBwZW9wbGUgY2FuIGVhc2lseSBnZXQgZ29vZCBv
dXQgb2YNCmJveCBwZXJmb3JtYW5jZSBpbiBzaXR1YXRpb25zIGxpa2UgeW91cnMuDQoNCi0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLQ0KVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogamF2YS11c2VyLXVuc3Vic2NyaWJlQGx1
Y2VuZS5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1tYWlsOiBqYXZhLXVz
ZXItaGVscEBsdWNlbmUuYXBhY2hlLm9yZw0KDQo=


From java-user-return-48633-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 04 20:20:07 2011
Return-Path: <java-user-return-48633-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18836 invoked from network); 4 Feb 2011 20:20:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Feb 2011 20:20:07 -0000
Received: (qmail 20260 invoked by uid 500); 4 Feb 2011 20:20:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20165 invoked by uid 500); 4 Feb 2011 20:20:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20157 invoked by uid 99); 4 Feb 2011 20:20:03 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Feb 2011 20:20:03 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of rcmuir@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Feb 2011 20:19:57 +0000
Received: by bwz8 with SMTP id 8so3252288bwz.35
        for <java-user@lucene.apache.org>; Fri, 04 Feb 2011 12:19:37 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type:content-transfer-encoding;
        bh=Jdtu5O34IiMlTpIipHcxP23M7SqNqD3BM8iCpzOuf7w=;
        b=scDZ8BXgYVL/VzwpHqKaWLr3kBxE5xv+bWKoXzRuphm1+uvOZvTew8SEe0OIGBTC63
         zGqyQGNqy0UaOFIzhJbgLIH2n6Z/luZe7A3lPxnJXRYSvh2+jGtR12AB7POSaAl5QHR8
         eynrL0ua0qvA7TvOwlRT0p8mHR7bnfTTPMf7s=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=i3zt7kNYEutOPLHARLEcQJhNy6LSZyRToab7D++6SNDMvwr52+cjkvfdzsYCLKjg+Q
         w6mwHxYJZd8JTfNRCKdd6FzOrdFYMB7FLIfCa9RSQuoOQEJXfAdCij5VUiYl8QuIYqYT
         kIdIdZMS+8Ovp5f+aOF6DIiKK4a8PjHAJdzHQ=
Received: by 10.204.66.148 with SMTP id n20mr11764273bki.44.1296850777087;
 Fri, 04 Feb 2011 12:19:37 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.101.5 with HTTP; Fri, 4 Feb 2011 12:19:16 -0800 (PST)
In-Reply-To: <47316FE3F6BA0D4DADF99663512552680AF3BC0601@ITCS-ECLS-1-VS3.adsroot.itcs.umich.edu>
References: <47316FE3F6BA0D4DADF99663512552680AF3BC0569@ITCS-ECLS-1-VS3.adsroot.itcs.umich.edu>
 <AANLkTim53vbRYjP8NFoZJ7BUcwDfWy4vudPpQ6paEYcn@mail.gmail.com> <47316FE3F6BA0D4DADF99663512552680AF3BC0601@ITCS-ECLS-1-VS3.adsroot.itcs.umich.edu>
From: Robert Muir <rcmuir@gmail.com>
Date: Fri, 4 Feb 2011 15:19:16 -0500
Message-ID: <AANLkTim3boqP1wnujNKcpAhtXr_R3aiwVjfO0=11gjfQ@mail.gmail.com>
Subject: Re: Bigrams for CJK with ICUTokenizer ?
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On Fri, Feb 4, 2011 at 3:07 PM, Burton-West, Tom <tburtonw@umich.edu> wrote=
:
> Thanks Robert,
>
> Lucene 2740 looks really interesting. =C2=A0In the meantime a JIRA issue =
for this sounds like a good idea since I'm guessing other people would like=
 to use the ICUTokenizer but would also like bigrams for CJK.
>
> I'm a bit confused over the relationship of the queryparser to the filter=
 chain and whether a filter in the chain after the ICUTokenizer could const=
ruct bigrams if the ICUTokenizer is spitting out unigrams and the querypars=
er is then converting the unigrams to a Boolean clauses (i.e. autoGenerateP=
hraseQueries=3Dfalse.)

the QP only sees two things:
1. the input string, which it parses before the analyzer
2. the result of the entire analyzer (tokenizer and all filters).

So in this case, only #2 would be different, as the entire analyzer
would output AB, BC instead of A, B, C
With your settings, for an input of ABC, you will get a regular
boolean query with AB, BC.
If the user puts "ABC" in quotes though, you will get a phrase query of "AB=
 BC"

>
> If ABC is a string of Han characters and the ICUTokenizer spit out unigra=
ms A B C =C2=A0(and we have autoGeneratePhraseQueries set to false) won't t=
he next filter in the chain get each of the unigrams in a Boolean clause on=
e at a time? =C2=A0I guess I don't see how the next filter in the chain can=
 reassemble the unigrams into overlapping bigrams. =C2=A0 Maybe I'm not und=
erstanding how tokens get passed from one filter to the next when one of th=
e filters (or in this case the tokenizer) breaks a token up into multiple t=
okens.

In this case it works just like a selective shinglefilter?

>
> Or am I getting index time analysis confused with query time analysis?
> Did you mean that ICUTokenizer could be modified to output bigrams =C2=A0=
or that a filter could be designed that would take the output of the ICUTok=
enizer and create shingles on tokens with the attribute for Han?
>

I think the latter. this way, we can provide the most options: unigram
(what it does by default: A,B,C), but also filters for bigram (AB BC),
or unibigram  (A, AB, B, BC, C)
This is why i said, we can make these filters experimental for now,
because ideally at some point you will be able to use shinglefilter
"conditionally" over the ScriptAttribute for these use-cases, without
having to have a special filter.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48634-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 04 20:34:55 2011
Return-Path: <java-user-return-48634-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25346 invoked from network); 4 Feb 2011 20:34:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Feb 2011 20:34:54 -0000
Received: (qmail 35854 invoked by uid 500); 4 Feb 2011 20:34:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35797 invoked by uid 500); 4 Feb 2011 20:34:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35789 invoked by uid 99); 4 Feb 2011 20:34:51 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Feb 2011 20:34:51 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [141.211.3.201] (HELO itcs-ehub-01.adsroot.itcs.umich.edu) (141.211.3.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Feb 2011 20:34:43 +0000
Received: from ITCS-ECLS-1-VS3.adsroot.itcs.umich.edu ([141.211.3.232]) by
 itcs-ehub-01.adsroot.itcs.umich.edu ([141.211.3.201]) with mapi; Fri, 4 Feb
 2011 15:34:23 -0500
From: "Burton-West, Tom" <tburtonw@umich.edu>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Fri, 4 Feb 2011 15:34:21 -0500
Subject: RE: Bigrams for CJK with ICUTokenizer ?
Thread-Topic: Bigrams for CJK with ICUTokenizer ?
Thread-Index: AcvEqOt3De6QNK0RTvyLUx1U/t8LlQAAZh1Q
Message-ID: <47316FE3F6BA0D4DADF99663512552680AF3BC0611@ITCS-ECLS-1-VS3.adsroot.itcs.umich.edu>
References: <47316FE3F6BA0D4DADF99663512552680AF3BC0569@ITCS-ECLS-1-VS3.adsroot.itcs.umich.edu>
 <AANLkTim53vbRYjP8NFoZJ7BUcwDfWy4vudPpQ6paEYcn@mail.gmail.com>
 <47316FE3F6BA0D4DADF99663512552680AF3BC0601@ITCS-ECLS-1-VS3.adsroot.itcs.umich.edu>
 <AANLkTim3boqP1wnujNKcpAhtXr_R3aiwVjfO0=11gjfQ@mail.gmail.com>
In-Reply-To: <AANLkTim3boqP1wnujNKcpAhtXr_R3aiwVjfO0=11gjfQ@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

VGhhbmtzIFJvYmVydCwNCg0KSSBvcGVuZWQgdXAgTFVDRU5FIDI5MDYuIEJ1dCBJIGp1c3QgcmVh
bGl6ZWQgaW4gdGhlIGVmZm9ydCB0byBrZWVwIHRoZSBkZXNjcmlwdGlvbiBzaG9ydCwgSSBmb3Jn
b3QgdG8gaW5jbHVkZSB5b3VyIG9wdGlvbiBvZiBwcm9kdWNpbmcgYm90aCB1bmlncmFtcyBhbmQg
YmlncmFtcywgd2hpY2ggaXMgYSBuaWNlIG9wdGlvbi4NCg0KVG9tDQoNCg0KLS0tLS1PcmlnaW5h
bCBNZXNzYWdlLS0tLS0NCkZyb206IFJvYmVydCBNdWlyIFttYWlsdG86cmNtdWlyQGdtYWlsLmNv
bV0gDQpTZW50OiBGcmlkYXksIEZlYnJ1YXJ5IDA0LCAyMDExIDM6MTkgUE0NClRvOiBqYXZhLXVz
ZXJAbHVjZW5lLmFwYWNoZS5vcmcNClN1YmplY3Q6IFJlOiBCaWdyYW1zIGZvciBDSksgd2l0aCBJ
Q1VUb2tlbml6ZXIgPw0KDQpPbiBGcmksIEZlYiA0LCAyMDExIGF0IDM6MDcgUE0sIEJ1cnRvbi1X
ZXN0LCBUb20gPHRidXJ0b253QHVtaWNoLmVkdT4gd3JvdGU6DQo+IFRoYW5rcyBSb2JlcnQsDQo+
DQo+IEx1Y2VuZSAyNzQwIGxvb2tzIHJlYWxseSBpbnRlcmVzdGluZy4gwqBJbiB0aGUgbWVhbnRp
bWUgYSBKSVJBIGlzc3VlIGZvciB0aGlzIHNvdW5kcyBsaWtlIGEgZ29vZCBpZGVhIHNpbmNlIEkn
bSBndWVzc2luZyBvdGhlciBwZW9wbGUgd291bGQgbGlrZSB0byB1c2UgdGhlIElDVVRva2VuaXpl
ciBidXQgd291bGQgYWxzbyBsaWtlIGJpZ3JhbXMgZm9yIENKSy4NCj4NCj4gSSdtIGEgYml0IGNv
bmZ1c2VkIG92ZXIgdGhlIHJlbGF0aW9uc2hpcCBvZiB0aGUgcXVlcnlwYXJzZXIgdG8gdGhlIGZp
bHRlciBjaGFpbiBhbmQgd2hldGhlciBhIGZpbHRlciBpbiB0aGUgY2hhaW4gYWZ0ZXIgdGhlIElD
VVRva2VuaXplciBjb3VsZCBjb25zdHJ1Y3QgYmlncmFtcyBpZiB0aGUgSUNVVG9rZW5pemVyIGlz
IHNwaXR0aW5nIG91dCB1bmlncmFtcyBhbmQgdGhlIHF1ZXJ5cGFyc2VyIGlzIHRoZW4gY29udmVy
dGluZyB0aGUgdW5pZ3JhbXMgdG8gYSBCb29sZWFuIGNsYXVzZXMgKGkuZS4gYXV0b0dlbmVyYXRl
UGhyYXNlUXVlcmllcz1mYWxzZS4pDQoNCnRoZSBRUCBvbmx5IHNlZXMgdHdvIHRoaW5nczoNCjEu
IHRoZSBpbnB1dCBzdHJpbmcsIHdoaWNoIGl0IHBhcnNlcyBiZWZvcmUgdGhlIGFuYWx5emVyDQoy
LiB0aGUgcmVzdWx0IG9mIHRoZSBlbnRpcmUgYW5hbHl6ZXIgKHRva2VuaXplciBhbmQgYWxsIGZp
bHRlcnMpLg0KDQpTbyBpbiB0aGlzIGNhc2UsIG9ubHkgIzIgd291bGQgYmUgZGlmZmVyZW50LCBh
cyB0aGUgZW50aXJlIGFuYWx5emVyDQp3b3VsZCBvdXRwdXQgQUIsIEJDIGluc3RlYWQgb2YgQSwg
QiwgQw0KV2l0aCB5b3VyIHNldHRpbmdzLCBmb3IgYW4gaW5wdXQgb2YgQUJDLCB5b3Ugd2lsbCBn
ZXQgYSByZWd1bGFyDQpib29sZWFuIHF1ZXJ5IHdpdGggQUIsIEJDLg0KSWYgdGhlIHVzZXIgcHV0
cyAiQUJDIiBpbiBxdW90ZXMgdGhvdWdoLCB5b3Ugd2lsbCBnZXQgYSBwaHJhc2UgcXVlcnkgb2Yg
IkFCIEJDIg0KDQo+DQo+IElmIEFCQyBpcyBhIHN0cmluZyBvZiBIYW4gY2hhcmFjdGVycyBhbmQg
dGhlIElDVVRva2VuaXplciBzcGl0IG91dCB1bmlncmFtcyBBIEIgQyDCoChhbmQgd2UgaGF2ZSBh
dXRvR2VuZXJhdGVQaHJhc2VRdWVyaWVzIHNldCB0byBmYWxzZSkgd29uJ3QgdGhlIG5leHQgZmls
dGVyIGluIHRoZSBjaGFpbiBnZXQgZWFjaCBvZiB0aGUgdW5pZ3JhbXMgaW4gYSBCb29sZWFuIGNs
YXVzZSBvbmUgYXQgYSB0aW1lPyDCoEkgZ3Vlc3MgSSBkb24ndCBzZWUgaG93IHRoZSBuZXh0IGZp
bHRlciBpbiB0aGUgY2hhaW4gY2FuIHJlYXNzZW1ibGUgdGhlIHVuaWdyYW1zIGludG8gb3Zlcmxh
cHBpbmcgYmlncmFtcy4gwqAgTWF5YmUgSSdtIG5vdCB1bmRlcnN0YW5kaW5nIGhvdyB0b2tlbnMg
Z2V0IHBhc3NlZCBmcm9tIG9uZSBmaWx0ZXIgdG8gdGhlIG5leHQgd2hlbiBvbmUgb2YgdGhlIGZp
bHRlcnMgKG9yIGluIHRoaXMgY2FzZSB0aGUgdG9rZW5pemVyKSBicmVha3MgYSB0b2tlbiB1cCBp
bnRvIG11bHRpcGxlIHRva2Vucy4NCg0KSW4gdGhpcyBjYXNlIGl0IHdvcmtzIGp1c3QgbGlrZSBh
IHNlbGVjdGl2ZSBzaGluZ2xlZmlsdGVyPw0KDQo+DQo+IE9yIGFtIEkgZ2V0dGluZyBpbmRleCB0
aW1lIGFuYWx5c2lzIGNvbmZ1c2VkIHdpdGggcXVlcnkgdGltZSBhbmFseXNpcz8NCj4gRGlkIHlv
dSBtZWFuIHRoYXQgSUNVVG9rZW5pemVyIGNvdWxkIGJlIG1vZGlmaWVkIHRvIG91dHB1dCBiaWdy
YW1zIMKgb3IgdGhhdCBhIGZpbHRlciBjb3VsZCBiZSBkZXNpZ25lZCB0aGF0IHdvdWxkIHRha2Ug
dGhlIG91dHB1dCBvZiB0aGUgSUNVVG9rZW5pemVyIGFuZCBjcmVhdGUgc2hpbmdsZXMgb24gdG9r
ZW5zIHdpdGggdGhlIGF0dHJpYnV0ZSBmb3IgSGFuPw0KPg0KDQpJIHRoaW5rIHRoZSBsYXR0ZXIu
IHRoaXMgd2F5LCB3ZSBjYW4gcHJvdmlkZSB0aGUgbW9zdCBvcHRpb25zOiB1bmlncmFtDQood2hh
dCBpdCBkb2VzIGJ5IGRlZmF1bHQ6IEEsQixDKSwgYnV0IGFsc28gZmlsdGVycyBmb3IgYmlncmFt
IChBQiBCQyksDQpvciB1bmliaWdyYW0gIChBLCBBQiwgQiwgQkMsIEMpDQpUaGlzIGlzIHdoeSBp
IHNhaWQsIHdlIGNhbiBtYWtlIHRoZXNlIGZpbHRlcnMgZXhwZXJpbWVudGFsIGZvciBub3csDQpi
ZWNhdXNlIGlkZWFsbHkgYXQgc29tZSBwb2ludCB5b3Ugd2lsbCBiZSBhYmxlIHRvIHVzZSBzaGlu
Z2xlZmlsdGVyDQoiY29uZGl0aW9uYWxseSIgb3ZlciB0aGUgU2NyaXB0QXR0cmlidXRlIGZvciB0
aGVzZSB1c2UtY2FzZXMsIHdpdGhvdXQNCmhhdmluZyB0byBoYXZlIGEgc3BlY2lhbCBmaWx0ZXIu
DQoNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLQ0KVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogamF2YS11c2VyLXVuc3Vi
c2NyaWJlQGx1Y2VuZS5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1tYWls
OiBqYXZhLXVzZXItaGVscEBsdWNlbmUuYXBhY2hlLm9yZw0KDQo=


From java-user-return-48635-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Feb 06 07:25:53 2011
Return-Path: <java-user-return-48635-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27978 invoked from network); 6 Feb 2011 07:25:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 6 Feb 2011 07:25:53 -0000
Received: (qmail 81909 invoked by uid 500); 6 Feb 2011 07:25:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81388 invoked by uid 500); 6 Feb 2011 07:25:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81379 invoked by uid 99); 6 Feb 2011 07:25:45 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Feb 2011 07:25:45 +0000
X-ASF-Spam-Status: No, hits=2.3 required=5.0
	tests=FREEMAIL_FROM,RFC_ABUSE_POST,SPF_SOFTFAIL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: softfail (athena.apache.org: transitioning domain of oracle9iii@hotmail.com does not designate 216.139.236.26 as permitted sender)
Received: from [216.139.236.26] (HELO sam.nabble.com) (216.139.236.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Feb 2011 07:25:40 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by sam.nabble.com with esmtp (Exim 4.69)
	(envelope-from <oracle9iii@hotmail.com>)
	id 1Plyzo-0006PG-ED
	for java-user@lucene.apache.org; Sat, 05 Feb 2011 23:25:20 -0800
Date: Sat, 5 Feb 2011 23:25:20 -0800 (PST)
From: OracleGuru <oracle9iii@hotmail.com>
To: java-user@lucene.apache.org
Message-ID: <1296977120408-2436023.post@n3.nabble.com>
In-Reply-To: <ED081AC9AEEE0248BBCCDE9989AAE3FC02CB18DB@rw-ex2003.BROADVISION.COM>
References: <ED081AC9AEEE0248BBCCDE9989AAE3FC02CB18DB@rw-ex2003.BROADVISION.COM>
Subject: Re: outlook MSG file text extraction tool?
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit


There is good Java API to create/read Outlook .msg files: 
http://www.independentsoft.de/jmsg JMSG 

- Steven
-- 
View this message in context: http://lucene.472066.n3.nabble.com/outlook-MSG-file-text-extraction-tool-tp2419666p2436023.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48636-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Feb 06 20:29:16 2011
Return-Path: <java-user-return-48636-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78008 invoked from network); 6 Feb 2011 20:29:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 6 Feb 2011 20:29:16 -0000
Received: (qmail 26938 invoked by uid 500); 6 Feb 2011 20:29:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26821 invoked by uid 500); 6 Feb 2011 20:29:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26812 invoked by uid 99); 6 Feb 2011 20:29:13 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Feb 2011 20:29:13 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of georger.araujo@gmail.com designates 209.85.215.176 as permitted sender)
Received: from [209.85.215.176] (HELO mail-ey0-f176.google.com) (209.85.215.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Feb 2011 20:29:06 +0000
Received: by eyz10 with SMTP id 10so1923284eyz.35
        for <java-user@lucene.apache.org>; Sun, 06 Feb 2011 12:28:45 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=LjVK13J+I8r37rVcEdCqDUwgd7jrteG19RUHZ7KoMQE=;
        b=M+FG9zGBq1rijMxpa4rb4ocfh36+VnR3NR9V6rq0I5pvTYy7D0dyebinO10m4UZMXS
         h8X30XxudaptQPxUwLCcGhg5+UpQ67LBx/FlhX/a7HRLRfPz3UsNeFQsbSFFRnAFMPv5
         ueu6czAy+QTYRsArbGojbRDaiYrm557P1Cgn0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=gM/JYy1/kCl9erHQnLh29lxX27P31itwvhf9qr+aLMnbPL3ylATf85Ry4W1pZ60Vqx
         8m/FpMgZORM8htfm15LxaZMiD7Fe9zIXFcCbnxb4xXzwCwXQg2755SDcHbU6gKF7Kw07
         9FC9nttQTK5AKYBt3k8/SO4NLMLmRhZybF1+k=
MIME-Version: 1.0
Received: by 10.14.127.134 with SMTP id d6mr4218649eei.24.1297024123762; Sun,
 06 Feb 2011 12:28:43 -0800 (PST)
Received: by 10.14.47.65 with HTTP; Sun, 6 Feb 2011 12:28:42 -0800 (PST)
Date: Sun, 6 Feb 2011 17:28:42 -0300
Message-ID: <AANLkTi=w+EOZ9y_vNAwMJ64_mtj64mYxSGOvBJhgaGGa@mail.gmail.com>
Subject: Extending org.apache.lucene.analysis.br.BrazilianAnalyzer to discard
 numeric tokens
From: Georger Araujo <georger.araujo@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=90e6ba61528c2979b5049ba2f659

--90e6ba61528c2979b5049ba2f659
Content-Type: text/plain; charset=ISO-8859-1

Hi,
I started using Lucene a few weeks ago, and I must say I'm amazed. Hats off
to the developers and the community!
I'd like to write a custom analyzer whose only difference to
org.apache.lucene.analysis.br.BrazilianAnalyzer is that I want it to discard
numeric tokens from the input. I've looked at the code and also at the
discussion in [1], but I'm lost about what is the simplest/cleanest way to
go.
What do you think?

[1]
http://mail-archives.apache.org/mod_mbox/lucene-java-user/200809.mbox/%3C48D7948B.4030804@gmail.com%3E

Best regards,

Georger

--90e6ba61528c2979b5049ba2f659--

From java-user-return-48637-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Feb 07 10:58:38 2011
Return-Path: <java-user-return-48637-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19730 invoked from network); 7 Feb 2011 10:58:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Feb 2011 10:58:37 -0000
Received: (qmail 94207 invoked by uid 500); 7 Feb 2011 10:58:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93949 invoked by uid 500); 7 Feb 2011 10:58:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93941 invoked by uid 99); 7 Feb 2011 10:58:31 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Feb 2011 10:58:31 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of anujshahwork@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Feb 2011 10:58:23 +0000
Received: by iyb26 with SMTP id 26so4858388iyb.35
        for <java-user@lucene.apache.org>; Mon, 07 Feb 2011 02:58:02 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=yI52EjDorQWbuV49l7f8yxwbKrjMkwMu7/ZSD8KQ0lA=;
        b=c36NjzDGRg7fumbbQttnFecQ7+0z7DNo9NknVGS0Uoa7CKtnt0Yk/iUn5weOEJhC41
         qGcc2oWDGI0tl8MNwHBYYhOGnWCG6FH3DLK9/BX3sJr3US+dEBl/6SOkq6J41ZE9Way8
         4CZb2t5OV7PRzh6d9PLGHGkAZh5yonIn0V9Aw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=Xw65L06kKGRISR9a31icrw+VZBx2d3KGgLKN54YnT6hCG1sVjawBnzCbROJvK7CEZN
         5D8iEOxALB2crQpWX0Gy7h8bkQoa1fE+xJ2s6tTGYbceov4wvWHo6KoBswo2Z4IUP4UU
         5tOfWRvOdNPUOUkLOf/JRAnz703aeK+oNpXb0=
MIME-Version: 1.0
Received: by 10.231.206.69 with SMTP id ft5mr17147849ibb.88.1297076282515;
 Mon, 07 Feb 2011 02:58:02 -0800 (PST)
Received: by 10.231.30.140 with HTTP; Mon, 7 Feb 2011 02:58:02 -0800 (PST)
Date: Mon, 7 Feb 2011 10:58:02 +0000
Message-ID: <AANLkTikjLDWhd58pbF09WZe6wKv3xeJtzQUxJ_dzTqPj@mail.gmail.com>
Subject: termInfosIndexDivisor vs termIndexInterval
From: Anuj Shah <anujshahwork@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=90e6ba53a69e10e048049baf1b23
X-Virus-Checked: Checked by ClamAV on apache.org

--90e6ba53a69e10e048049baf1b23
Content-Type: text/plain; charset=ISO-8859-1

Hi,

Is someone able to explain the purpose of both these properties. By reading
the documentation I don't understand the benefit of setting the
termIndexInterval on the IndexWriter.

Thanks

Anuj

--90e6ba53a69e10e048049baf1b23--

From java-user-return-48638-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Feb 07 11:45:19 2011
Return-Path: <java-user-return-48638-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40061 invoked from network); 7 Feb 2011 11:45:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Feb 2011 11:45:19 -0000
Received: (qmail 48482 invoked by uid 500); 7 Feb 2011 11:45:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47993 invoked by uid 500); 7 Feb 2011 11:45:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47985 invoked by uid 99); 7 Feb 2011 11:45:12 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Feb 2011 11:45:12 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jc.dauphin@gmail.com designates 209.85.220.176 as permitted sender)
Received: from [209.85.220.176] (HELO mail-vx0-f176.google.com) (209.85.220.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Feb 2011 11:45:08 +0000
Received: by vxb37 with SMTP id 37so1481448vxb.35
        for <java-user@lucene.apache.org>; Mon, 07 Feb 2011 03:44:47 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=Xvc+2yuGvrRhVgbrjdsEWEvLLhD1SIjT9Fu2cOGkEgo=;
        b=oHELduUFW85G3kGp6e8NRlykjI7UHfip5qAkV2hvBfQq9Tzn7vpKfvJ22lsoPtzAPe
         swXDT7xfre8DWCMrc/pjiI1Fa0VERiErVJHFGFBW6wb8rCyZNG0XziM0oH7c2q3sOWM4
         Hxf7O32J3UmxcbauJMMe/vXWcfipFdTSJ/wvA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=iy/b4hKd+8TEvYDnfnrRikK2XP0a3BgXMGLA9K1WB2WveVbKmGFXNdlyacODkP9IWL
         CSTC5/AgtlbY581zftydz6TiD8yrWUb5lO5UCyS471cVIG6D22ncZnQDmu7SRDNVJ2L1
         frrF/nK57+vKmLGWDQpabLi8AD4lH6yr6/SNM=
MIME-Version: 1.0
Received: by 10.220.183.67 with SMTP id cf3mr781249vcb.164.1297079086511; Mon,
 07 Feb 2011 03:44:46 -0800 (PST)
Received: by 10.220.66.15 with HTTP; Mon, 7 Feb 2011 03:44:46 -0800 (PST)
Date: Mon, 7 Feb 2011 12:44:46 +0100
Message-ID: <AANLkTinULcgOQ+yVBz4BWVQJr3xTZ4wRL5hUj8GEQ2RD@mail.gmail.com>
Subject: Indexing a date from a POJO
From: Jean-Claude Dauphin <jc.dauphin@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=90e6ba53a67e3276ce049bafc23e

--90e6ba53a67e3276ce049bafc23e
Content-Type: text/plain; charset=ISO-8859-1

Hi,

I would like to know if the code below  is correct, because the date is not
well displayed in Luke

I have a POJO with a date defined as follow:

public class SolrPositionDTO {

  @Field
  private String address;

  @Field
  private Date beginDate;

And in the schema config file the field is defined as:
<field name="beginDate" type="date" indexed="true" stored="true" />

Thanks in advance for yr help

JCD
-- 
Jean-Claude Dauphin

jc.dauphin@gmail.com
jc.dauphin@afus.unesco.org

http://kenai.com/projects/j-isis/
http://www.unesco.org/isis/
http://www.unesco.org/idams/
http://www.greenstone.org

--90e6ba53a67e3276ce049bafc23e--

From java-user-return-48639-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Feb 07 13:35:50 2011
Return-Path: <java-user-return-48639-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97307 invoked from network); 7 Feb 2011 13:35:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Feb 2011 13:35:49 -0000
Received: (qmail 80026 invoked by uid 500); 7 Feb 2011 13:35:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79539 invoked by uid 500); 7 Feb 2011 13:35:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79173 invoked by uid 99); 7 Feb 2011 13:35:42 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Feb 2011 13:35:42 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [77.238.189.21] (HELO nm7.bullet.mail.ird.yahoo.com) (77.238.189.21)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 07 Feb 2011 13:35:33 +0000
Received: from [77.238.189.51] by nm7.bullet.mail.ird.yahoo.com with NNFMP; 07 Feb 2011 13:35:11 -0000
Received: from [212.82.108.244] by tm4.bullet.mail.ird.yahoo.com with NNFMP; 07 Feb 2011 13:35:11 -0000
Received: from [127.0.0.1] by omp1009.mail.ird.yahoo.com with NNFMP; 07 Feb 2011 13:35:11 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 670870.65038.bm@omp1009.mail.ird.yahoo.com
Received: (qmail 11996 invoked by uid 60001); 7 Feb 2011 13:35:11 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.uk; s=s1024; t=1297085711; bh=GL991BQCQUFGT+Az5aIhuqCaO9S/ouNRrZ5wA/zoQqQ=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=jpk6sr3j+qTKB2Fl4qMVmhznFB7ELi3F9ob1hzpBZFYEnayxKlKCV6yEskAnOpjM4izyphjIprojpI9zt0eKvdw5hq7W4swPZPNtmt5P8/Qrp2f0XNLqa93LCuORXyILkdTaSGzyTc4C4+rWkCo4HO63xEttSdYNIMS1ZGnfGjs=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=6EMhB0iV63MWtHIp4IukjCA3kJLt0Z2+gTYUMsumTifrv3YlxJZjugAeF1RcARlOyDDvgPS45DP1P3dNnQkrzY/bpv8mlYVSqujBy65jE1oUxZnhXmBXKQsFWJRHUKPB1vRBL7pbkg03zstEDQXuTjHU8+0/S+jMdNi0vczojok=;
Message-ID: <558634.10144.qm@web29007.mail.ird.yahoo.com>
X-YMail-OSG: A2sEl20VM1kZcwx5wiMSY63AHPLz626i.VHlybGXWzvvJDI
 ITt8Ccky_aow22a3ZTOBUMBpM_BwO7DhMQJ6uhfJrk32Iq0IoKYvK5YWBY7z
 Pj78ryEY9kEIKMfjwoy_W0dt9lrWZzWNqL1RZIVN9P2CzajyH5wIYIpy0kj5
 CXi5QRkO2Y51K.NMQyrGwuP6k.hU5KwVAubNqzKiIArsYkdSxLc4S1qrxqy_
 J_Kq5ahElnH17BmUFFyf1niT97EbF45NvBfz0.M87tOj3sP4ugXnebgqrM7O
 rdsFlD4.kKDtqNvMhkVzA7j8OJp.bXszSsusRwTu.rZ4VQeEg
Received: from [194.116.198.179] by web29007.mail.ird.yahoo.com via HTTP; Mon, 07 Feb 2011 13:35:11 GMT
X-Mailer: YahooMailRC/555 YahooMailWebService/0.8.108.291010
References: <AANLkTikjLDWhd58pbF09WZe6wKv3xeJtzQUxJ_dzTqPj@mail.gmail.com>
Date: Mon, 7 Feb 2011 13:35:11 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: termInfosIndexDivisor vs termIndexInterval
To: java-user@lucene.apache.org
In-Reply-To: <AANLkTikjLDWhd58pbF09WZe6wKv3xeJtzQUxJ_dzTqPj@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable

Somewhat historic reasons.=0AIt used to be IndexWriter was the only place y=
ou could define this setting =0A(making it an index-time decision burnt int=
o the index).=0AThe IndexReader option is a relatively newer addition that =
adds the flexibility =0Ato decide about memory usage whenever you open the =
index (giving you the luxury =0Aof not having to decide on a sensible inter=
val setting up front)=0A=0ACheers=0AMark=0A=0A=0A----- Original Message ---=
-=0AFrom: Anuj Shah <anujshahwork@gmail.com>=0ATo: java-user@lucene.apache.=
org=0ASent: Mon, 7 February, 2011 10:58:02=0ASubject: termInfosIndexDivisor=
 vs termIndexInterval=0A=0AHi,=0A=0AIs someone able to explain the purpose =
of both these properties. By reading=0Athe documentation I don't understand=
 the benefit of setting the=0AtermIndexInterval on the IndexWriter.=0A=0ATh=
anks=0A=0AAnuj=0A=0A=0A=0A      

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48640-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Feb 07 16:45:27 2011
Return-Path: <java-user-return-48640-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83988 invoked from network); 7 Feb 2011 16:45:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Feb 2011 16:45:27 -0000
Received: (qmail 38740 invoked by uid 500); 7 Feb 2011 16:45:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38282 invoked by uid 500); 7 Feb 2011 16:45:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38274 invoked by uid 99); 7 Feb 2011 16:45:20 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Feb 2011 16:45:20 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=FREEMAIL_FROM,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of rcmuir@gmail.com designates 209.85.220.48 as permitted sender)
Received: from [209.85.220.48] (HELO mail-dy0-f48.google.com) (209.85.220.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Feb 2011 16:45:12 +0000
Received: by dyd9 with SMTP id 9so40380dyd.35
        for <java-user@lucene.apache.org>; Mon, 07 Feb 2011 08:44:52 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=EYkouCUUEm+SWzByx5JbMTXDmmVmXNnDBSpKCZPTfv0=;
        b=Zw8V8AeuO2RcQy1p2YsE0q8SfyuOuCw9AjNLeoMsAG664LXme3TtDkaFSkZGokLyVt
         StKbsEluGvN6rYcxn1ouVgJRo2uB9ldrk1DtY9buq8U+OBnwrpjLWpGobt5S5dhf5a6V
         7ore0aX3G4znbbR513BWcjK1Fbt9OxJeu9d28=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=m7ZQD43so7jhMvBaFGclbU669OTJAU0p2e8uDG3PJXmgcoFvW3iPvolbEyvz/h55H+
         N35NJ181ZZvuhlRjqzuMnakTn5PDhDz9lXQPy7fD7oYAD9yvHFzHxmUhoNDE4cc5lLGV
         typEyEQNNTW5T6BKvab+D9fP9rTPlxdxOGpu0=
Received: by 10.223.85.208 with SMTP id p16mr372216fal.107.1297097091844; Mon,
 07 Feb 2011 08:44:51 -0800 (PST)
MIME-Version: 1.0
Received: by 10.223.86.136 with HTTP; Mon, 7 Feb 2011 08:44:31 -0800 (PST)
In-Reply-To: <AANLkTi=w+EOZ9y_vNAwMJ64_mtj64mYxSGOvBJhgaGGa@mail.gmail.com>
References: <AANLkTi=w+EOZ9y_vNAwMJ64_mtj64mYxSGOvBJhgaGGa@mail.gmail.com>
From: Robert Muir <rcmuir@gmail.com>
Date: Mon, 7 Feb 2011 11:44:31 -0500
Message-ID: <AANLkTikO1qzHriFnoHWFVP7=rqTbO=-eMukuCgBfp3iR@mail.gmail.com>
Subject: Re: Extending org.apache.lucene.analysis.br.BrazilianAnalyzer to
 discard numeric tokens
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Sun, Feb 6, 2011 at 3:28 PM, Georger Araujo <georger.araujo@gmail.com> wrote:
> Hi,
> I started using Lucene a few weeks ago, and I must say I'm amazed. Hats off
> to the developers and the community!
> I'd like to write a custom analyzer whose only difference to
> org.apache.lucene.analysis.br.BrazilianAnalyzer is that I want it to discard
> numeric tokens from the input. I've looked at the code and also at the
> discussion in [1], but I'm lost about what is the simplest/cleanest way to
> go.
> What do you think?

Hi, in general the supplied analyzers are basically very general
purpose examples.

So i would make your own analyzer: except using a tokenizer that
discards numbers (like lowercasetokenizer) instead of
standardtokenizer: something like LowerCaseTokenizer +
BrazilianStemFilter + Brazilian stopwords in a stopfilter.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48641-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Feb 07 17:56:25 2011
Return-Path: <java-user-return-48641-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12490 invoked from network); 7 Feb 2011 17:56:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Feb 2011 17:56:24 -0000
Received: (qmail 51885 invoked by uid 500); 7 Feb 2011 17:56:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51459 invoked by uid 500); 7 Feb 2011 17:56:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51451 invoked by uid 99); 7 Feb 2011 17:56:18 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Feb 2011 17:56:18 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pulkitsinghal@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Feb 2011 17:56:10 +0000
Received: by qwe4 with SMTP id 4so3668319qwe.35
        for <java-user@lucene.apache.org>; Mon, 07 Feb 2011 09:55:50 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=cHu2LSOGzjjRSXfszANSAdS06MouURNVhneomTYQKeU=;
        b=oNCL84NdHI8auc461VIVFVz0in5yhiZeMABsg5Xb3HsfBdqDNYKI0bojeoYDFUc5Ve
         XSHqHBnZ2hE29KD/8qxeqihv8cYHlrjDNOgX2kMMeH3FXAVFLESS50NztEda79OhGrYB
         uzCdtbaCbwiWFD+4q1VYdMnclgKlPtBbuZrOY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=EC6AbVE6TkPe3P8SwC+rJFE8+LmJCPHm/GrfqNgsbM1I+JcSHBcPHe6eWQZPFD8QFj
         gQJ1gPJ4xctuAwvY9Jr484Gg8bMklMn7pb7HB5VmBRL9ySkVpK+ZE9ENlee9t0ZwUtw0
         Wekj87wnkrA+NxeMB3L/XzwvRPULIcf9k93WA=
MIME-Version: 1.0
Received: by 10.224.28.134 with SMTP id m6mr14533168qac.145.1297101349883;
 Mon, 07 Feb 2011 09:55:49 -0800 (PST)
Received: by 10.220.74.140 with HTTP; Mon, 7 Feb 2011 09:55:49 -0800 (PST)
Date: Mon, 7 Feb 2011 09:55:49 -0800
Message-ID: <AANLkTi=XFyoosqDHoxny4DBR8kD8SDCzjprXTLA+-A7w@mail.gmail.com>
Subject: Works on Windows, crashes on Linux
From: Pulkit Singhal <pulkitsinghal@gmail.com>
To: Lucene <java-user@lucene.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

Hello Folks,

I'm using Lucene 3.0, my code runs fine on Windows but when I test it
on Linux, I run into the following stack trace:

java.io.FileNotFoundException:
/opt/apache/tomcat/webapps/myapp/luceneData/backend_IP/en_US/_1.fdt
(No such file or directory)
        at java.io.RandomAccessFile.open(Native Method)
        at java.io.RandomAccessFile.<init>(RandomAccessFile.java:212)
        at org.apache.lucene.store.SimpleFSDirectory$SimpleFSIndexOutput.<init>(SimpleFSDirectory.java:180)
        at org.apache.lucene.store.NIOFSDirectory.createOutput(NIOFSDirectory.java:74)
        at org.apache.lucene.index.FieldsWriter.<init>(FieldsWriter.java:65)
        at org.apache.lucene.index.StoredFieldsWriter.initFieldsWriter(StoredFieldsWriter.java:66)
        at org.apache.lucene.index.StoredFieldsWriter.finishDocument(StoredFieldsWriter.java:144)
        at org.apache.lucene.index.StoredFieldsWriter$PerDoc.finish(StoredFieldsWriter.java:193)
        at org.apache.lucene.index.DocumentsWriter$WaitQueue.writeDocument(DocumentsWriter.java:1443)
        at org.apache.lucene.index.DocumentsWriter$WaitQueue.add(DocumentsWriter.java:1462)
        at org.apache.lucene.index.DocumentsWriter.finishDocument(DocumentsWriter.java:1082)
        at org.apache.lucene.index.DocumentsWriter.updateDocument(DocumentsWriter.java:776)
        at org.apache.lucene.index.DocumentsWriter.addDocument(DocumentsWriter.java:751)
        at org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:1928)

Things I tried:
1) At first I thought that it had something to do with permissions but
the permissions on the directory where all my indexes are nested and
stored is 755 so I don't see how that could be an issue.
2) Then I realized that l was using Directory directory =
FSDirectory.open(dir) to create the directory that I passed to the
IndexWriter ... and the value of my dir was
...luceneData/backend_IP/en_US/ ... now the two directories
backend_IP/en_US are really placeholders ... the real names are known
to me just before I call FSDirectory.open() ... so I thought that the
problem maybe that in Windows the backend_IP/en_US directories may be
getting created auto-magically by the FSDirectory.open()
implementation ... but in Linux I need to create them manually before
calling FSDirectory.open() ... so I tried that but that didn't help
either.

Now I'm out of clues.

Anyone have any advice?

- Pulkit

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48642-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Feb 07 19:59:28 2011
Return-Path: <java-user-return-48642-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72847 invoked from network); 7 Feb 2011 19:59:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Feb 2011 19:59:28 -0000
Received: (qmail 53091 invoked by uid 500); 7 Feb 2011 19:59:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52950 invoked by uid 500); 7 Feb 2011 19:59:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52941 invoked by uid 99); 7 Feb 2011 19:59:24 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Feb 2011 19:59:24 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [217.72.192.247] (HELO fmmailgate06.web.de) (217.72.192.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Feb 2011 19:59:15 +0000
Received:  from mwmweb011  ( [172.20.18.20])
	by fmmailgate06.web.de (Postfix) with ESMTP id 077B6817156
	for <java-user@lucene.apache.org>; Mon,  7 Feb 2011 20:58:55 +0100 (CET)
Received:  from [84.173.26.166]  by  mwmweb011  with HTTP; Mon
 Feb 07 20:58:55 CET 2011
Date: Mon, 7 Feb 2011 20:58:55 +0100 (CET)
From: "Livia Hauser" <livia.hauser@web.de>
To: java-user@lucene.apache.org
Message-ID: <1026148301.5478182.1297108735024.JavaMail.fmail@mwmweb011>
Subject: How to implement a proximity search using LINES as slop
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Priority: 3
Importance: normal
Sensitivity: Normal
X-Provags-ID: V01U2FsdGVkX18pGYcAN1duDZ9f9supLgvMpU/h+BlCVmE4tQzfWn6s6cV3P/pz87JT
 nUwGAhmOP4zCOYUjTSKxZrNSBvleTtXS
X-Virus-Checked: Checked by ClamAV on apache.org

Hi All,

I use solr 3.x and put excel documents into an index.
I have my own query parser and use SpanQueries to provide a proximity search feature. It works really good.
Most often than not its better to limit the proxmity to one or two line's, not to X words.
I try to find a NewLine indicator... unsuccessfully.
How can use the number of lines as proximity?

Thx!
___________________________________________________________
WEB.DE DSL Doppel-Flat ab 19,99 &euro;/mtl.! Jetzt mit 
gratis Handy-Flat! http://produkte.web.de/go/DSL_Doppel_Flatrate/2

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48643-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Feb 08 08:38:31 2011
Return-Path: <java-user-return-48643-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44842 invoked from network); 8 Feb 2011 08:38:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 8 Feb 2011 08:38:31 -0000
Received: (qmail 15267 invoked by uid 500); 8 Feb 2011 08:38:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14802 invoked by uid 500); 8 Feb 2011 08:38:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14794 invoked by uid 99); 8 Feb 2011 08:38:23 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Feb 2011 08:38:23 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pierre.gosse@arisem.com designates 192.93.160.42 as permitted sender)
Received: from [192.93.160.42] (HELO mail.arisem.com) (192.93.160.42)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Feb 2011 08:38:17 +0000
Received: from enodios.ARISEM.COM (192.168.1.105) by mail.arisem.com
 (192.168.3.42) with Microsoft SMTP Server (TLS) id 8.1.436.0; Tue, 8 Feb 2011
 09:37:57 +0100
Received: from enodios.ARISEM.COM ([192.168.1.105]) by enodios.ARISEM.COM
 ([192.168.1.105]) with mapi; Tue, 8 Feb 2011 09:37:55 +0100
From: Pierre GOSSE <pierre.gosse@arisem.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Tue, 8 Feb 2011 09:37:53 +0100
Subject: RE: How to implement a proximity search using LINES as slop
Thread-Topic: How to implement a proximity search using LINES as slop
Thread-Index: AcvHAYc7s5UEUlycTTubJrYbM1WJHQAaJJwQ
Message-ID: <4A1AC1E08A1A4A438C4E4502E73AFC7449D8F255D1@enodios.ARISEM.COM>
References: <1026148301.5478182.1297108735024.JavaMail.fmail@mwmweb011>
In-Reply-To: <1026148301.5478182.1297108735024.JavaMail.fmail@mwmweb011>
Accept-Language: fr-FR, en-US
Content-Language: fr-FR
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: fr-FR, en-US
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0

SGkgTGl2aWEsDQoNCk9uZSB3YXkgb2YgZG9pbmcgdGhpcyBsaW5lIHNsb3BlIHdvdWxkIGJlIHRv
IGltcGxlbWVudCBhIGN1c3RvbSB0b2tlbml6ZXIgdGhhdCBjb3VsZCB0b2tlbml6ZSBvbiBuZXcg
bGluZSwgYW5kIHNwbGl0IGVhY2ggdG9rZW4gaW50byB0aGUgd29yZHMgaXQgY29udGFpbnMuIEku
ZS4gRWFjaCB3b3JkIG9mIGEgbGluZSB3b3VsZCBiZSBzZWVuIGFzIGJlaW5nIGF0IHRoZSBzYW1l
IHBvc2l0aW9uIChhbmQgaGF2aW5nIHNhbWUgb2Zmc2V0IGFuZCBsZW5ndGggYXMgdGhlIGNvbXBs
ZXRlIGxpbmUpLiANCg0KSSBkb24ndCB0aGluayB1c3VhbCBxdWVyaWVzIHdvdWxkIHJlc3BvbmQg
d2VsbCB3aXRoIHRoYXQgZmllbGQsIHNvIG1heWJlIHlvdSB3aWxsIGhhdmUgdG8gaGF2ZSB0d28g
ZmllbGRzLCBvbmUgc3RhbmRhcmQgZm9yIHNlYXJjaGluZyBhbmQgc2NvcmluZyBhbmQgb25lIGN1
c3RvbSBmb3IgZmlsdGVyaW5nIHlvdXIgcmVzdWx0cy4NCg0KQnV0IG1heWJlIHRoYXQncyBvdmVy
a2lsbCwgYW5kIHRoZXJlJ3MgYSBzaW1wbGVyIG1hbm5lciB0byBhY2hpZXZlIHRoaXMgbGluZSBz
bG9wZSwgSSdtIHF1aXRlIG5ldyB0byBzb2xyLiA6KQ0KDQpQaWVycmUNCg0KLS0tLS1NZXNzYWdl
IGQnb3JpZ2luZS0tLS0tDQpEZcKgOiBMaXZpYSBIYXVzZXIgW21haWx0bzpsaXZpYS5oYXVzZXJA
d2ViLmRlXSANCkVudm95w6nCoDogbHVuZGkgNyBmw6l2cmllciAyMDExIDIwOjU5DQrDgMKgOiBq
YXZhLXVzZXJAbHVjZW5lLmFwYWNoZS5vcmcNCk9iamV0wqA6IEhvdyB0byBpbXBsZW1lbnQgYSBw
cm94aW1pdHkgc2VhcmNoIHVzaW5nIExJTkVTIGFzIHNsb3ANCg0KSGkgQWxsLA0KDQpJIHVzZSBz
b2xyIDMueCBhbmQgcHV0IGV4Y2VsIGRvY3VtZW50cyBpbnRvIGFuIGluZGV4Lg0KSSBoYXZlIG15
IG93biBxdWVyeSBwYXJzZXIgYW5kIHVzZSBTcGFuUXVlcmllcyB0byBwcm92aWRlIGEgcHJveGlt
aXR5IHNlYXJjaCBmZWF0dXJlLiBJdCB3b3JrcyByZWFsbHkgZ29vZC4NCk1vc3Qgb2Z0ZW4gdGhh
biBub3QgaXRzIGJldHRlciB0byBsaW1pdCB0aGUgcHJveG1pdHkgdG8gb25lIG9yIHR3byBsaW5l
J3MsIG5vdCB0byBYIHdvcmRzLg0KSSB0cnkgdG8gZmluZCBhIE5ld0xpbmUgaW5kaWNhdG9yLi4u
IHVuc3VjY2Vzc2Z1bGx5Lg0KSG93IGNhbiB1c2UgdGhlIG51bWJlciBvZiBsaW5lcyBhcyBwcm94
aW1pdHk/DQoNClRoeCENCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fDQpXRUIuREUgRFNMIERvcHBlbC1GbGF0IGFiIDE5LDk5ICZldXJv
Oy9tdGwuISBKZXR6dCBtaXQgDQpncmF0aXMgSGFuZHktRmxhdCEgaHR0cDovL3Byb2R1a3RlLndl
Yi5kZS9nby9EU0xfRG9wcGVsX0ZsYXRyYXRlLzINCg0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQpUbyB1bnN1YnNj
cmliZSwgZS1tYWlsOiBqYXZhLXVzZXItdW5zdWJzY3JpYmVAbHVjZW5lLmFwYWNoZS5vcmcNCkZv
ciBhZGRpdGlvbmFsIGNvbW1hbmRzLCBlLW1haWw6IGphdmEtdXNlci1oZWxwQGx1Y2VuZS5hcGFj
aGUub3JnDQoNCg==


From java-user-return-48644-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Feb 08 09:41:18 2011
Return-Path: <java-user-return-48644-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68211 invoked from network); 8 Feb 2011 09:41:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 8 Feb 2011 09:41:18 -0000
Received: (qmail 95438 invoked by uid 500); 8 Feb 2011 09:41:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95033 invoked by uid 500); 8 Feb 2011 09:41:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95025 invoked by uid 99); 8 Feb 2011 09:41:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Feb 2011 09:41:11 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ian.lea@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Feb 2011 09:41:04 +0000
Received: by bwz8 with SMTP id 8so6292627bwz.35
        for <java-user@lucene.apache.org>; Tue, 08 Feb 2011 01:40:43 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type:content-transfer-encoding;
        bh=d1VY0mltP0NiqW4nVaehk+0saLL2Tsv7cOAEIEI5mFg=;
        b=xD3DkWNMlWY5WSVic6FondylRj7h41JEZDELx6hsAYNLs/kYRYOHcxg7kNNad0kj2E
         mi82ZZ9/ov+r4hgIv3WAdyOIB79lrJcz6pL8sec63Bfw6kuvsAkwkRwMkJlljVPR3Ytu
         x5TPDGUWShFbxPHenXSPhrX0Bbqicn/11qCNI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=bvPh85kRvi/nNXPNybuDhDSM6oV7qxTZHZCn5kz6kafvxB/qncvPq2xVmmzk3HRiiw
         dSIB9DU4XyzGB9XuFSho+srPCrk8q9OMLxrF4ZC4QQmw1DlAUfFKt+IUZlpnEDhk8YzG
         qC9vzWuqvNExdJi3BuEW8yKWcHLgPDVcTKLsY=
Received: by 10.204.66.130 with SMTP id n2mr6803107bki.175.1297158043094; Tue,
 08 Feb 2011 01:40:43 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.61.147 with HTTP; Tue, 8 Feb 2011 01:40:22 -0800 (PST)
In-Reply-To: <AANLkTi=XFyoosqDHoxny4DBR8kD8SDCzjprXTLA+-A7w@mail.gmail.com>
References: <AANLkTi=XFyoosqDHoxny4DBR8kD8SDCzjprXTLA+-A7w@mail.gmail.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Tue, 8 Feb 2011 09:40:22 +0000
Message-ID: <AANLkTin=33+mh5PVZpKrdfEeM6KdPYdn+ry5PcTucfLQ@mail.gmail.com>
Subject: Re: Works on Windows, crashes on Linux
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

That stack trace appears to be triggered in IndexWriter.addDocument()
rather than .open() which leads one to speculate that the directory is
fine, or was at any rate, but something is messing with the contents.

Evidently you are running this in tomcat - have you got multiple
threads writing to the same index directory at the same time?  Lucene
locking should prevent this - are you bypassing or ignoring locks?


--
Ian.

On Mon, Feb 7, 2011 at 5:55 PM, Pulkit Singhal <pulkitsinghal@gmail.com> wr=
ote:
> Hello Folks,
>
> I'm using Lucene 3.0, my code runs fine on Windows but when I test it
> on Linux, I run into the following stack trace:
>
> java.io.FileNotFoundException:
> /opt/apache/tomcat/webapps/myapp/luceneData/backend_IP/en_US/_1.fdt
> (No such file or directory)
> =A0 =A0 =A0 =A0at java.io.RandomAccessFile.open(Native Method)
> =A0 =A0 =A0 =A0at java.io.RandomAccessFile.<init>(RandomAccessFile.java:2=
12)
> =A0 =A0 =A0 =A0at org.apache.lucene.store.SimpleFSDirectory$SimpleFSIndex=
Output.<init>(SimpleFSDirectory.java:180)
> =A0 =A0 =A0 =A0at org.apache.lucene.store.NIOFSDirectory.createOutput(NIO=
FSDirectory.java:74)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.FieldsWriter.<init>(FieldsWrite=
r.java:65)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.StoredFieldsWriter.initFieldsWr=
iter(StoredFieldsWriter.java:66)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.StoredFieldsWriter.finishDocume=
nt(StoredFieldsWriter.java:144)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.StoredFieldsWriter$PerDoc.finis=
h(StoredFieldsWriter.java:193)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.DocumentsWriter$WaitQueue.write=
Document(DocumentsWriter.java:1443)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.DocumentsWriter$WaitQueue.add(D=
ocumentsWriter.java:1462)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.DocumentsWriter.finishDocument(=
DocumentsWriter.java:1082)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.DocumentsWriter.updateDocument(=
DocumentsWriter.java:776)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.DocumentsWriter.addDocument(Doc=
umentsWriter.java:751)
> =A0 =A0 =A0 =A0at org.apache.lucene.index.IndexWriter.addDocument(IndexWr=
iter.java:1928)
>
> Things I tried:
> 1) At first I thought that it had something to do with permissions but
> the permissions on the directory where all my indexes are nested and
> stored is 755 so I don't see how that could be an issue.
> 2) Then I realized that l was using Directory directory =3D
> FSDirectory.open(dir) to create the directory that I passed to the
> IndexWriter ... and the value of my dir was
> ...luceneData/backend_IP/en_US/ ... now the two directories
> backend_IP/en_US are really placeholders ... the real names are known
> to me just before I call FSDirectory.open() ... so I thought that the
> problem maybe that in Windows the backend_IP/en_US directories may be
> getting created auto-magically by the FSDirectory.open()
> implementation ... but in Linux I need to create them manually before
> calling FSDirectory.open() ... so I tried that but that didn't help
> either.
>
> Now I'm out of clues.
>
> Anyone have any advice?
>
> - Pulkit
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48645-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Feb 08 15:58:04 2011
Return-Path: <java-user-return-48645-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61109 invoked from network); 8 Feb 2011 15:58:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 8 Feb 2011 15:58:03 -0000
Received: (qmail 99037 invoked by uid 500); 8 Feb 2011 15:58:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98722 invoked by uid 500); 8 Feb 2011 15:57:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98714 invoked by uid 99); 8 Feb 2011 15:57:57 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Feb 2011 15:57:57 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of georger.araujo@gmail.com designates 209.85.215.48 as permitted sender)
Received: from [209.85.215.48] (HELO mail-ew0-f48.google.com) (209.85.215.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Feb 2011 15:57:49 +0000
Received: by ewy20 with SMTP id 20so2892616ewy.35
        for <java-user@lucene.apache.org>; Tue, 08 Feb 2011 07:57:29 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=rX3/3rbQGtVJqA5jMWBEXDcbDsYGV4lJXuM4I8uoUeY=;
        b=m3IqkVK++OCA2+Ziz1tlS53orqxHE8ZX5KF6d4sHwaietvqlT+yRgwK8S7Ze8mHtQr
         ZbL6oHYaKc93Tt/I+sQOcGOvGDqtvtu78qRHvJXVO1Q7pW7YWNAIIcQzxXVzqJeQcnpZ
         N0cv/2oRM6KMsysxo10uPeNQ6hYP70J+rEGXw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=xP+IN2t2khnQF2sIypu7j6QbgEf5NaNMPIROi68nBYEyYzSxdtdBS8qoXzX5pN+gyu
         18RMbfM0aU8WQ04Udxt9C7MblDo57+TrKgSvnWv+Bu8pw4bCPfDG/5VNVGRvCzOtGKBo
         QZI1tZ7rKpPAddRCoNQbIvgrRAgEMTkxt6/fY=
MIME-Version: 1.0
Received: by 10.14.127.1 with SMTP id c1mr1628762eei.3.1297180648873; Tue, 08
 Feb 2011 07:57:28 -0800 (PST)
Received: by 10.14.47.65 with HTTP; Tue, 8 Feb 2011 07:57:28 -0800 (PST)
In-Reply-To: <AANLkTikO1qzHriFnoHWFVP7=rqTbO=-eMukuCgBfp3iR@mail.gmail.com>
References: <AANLkTi=w+EOZ9y_vNAwMJ64_mtj64mYxSGOvBJhgaGGa@mail.gmail.com>
	<AANLkTikO1qzHriFnoHWFVP7=rqTbO=-eMukuCgBfp3iR@mail.gmail.com>
Date: Tue, 8 Feb 2011 12:57:28 -0300
Message-ID: <AANLkTiknusmXkT3oS4vf9W-M_K=LvXHyV_rW+OykS0pi@mail.gmail.com>
Subject: Re: Extending org.apache.lucene.analysis.br.BrazilianAnalyzer to
 discard numeric tokens
From: Georger Araujo <georger.araujo@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00248c0ef0dcc91f46049bc76799
X-Virus-Checked: Checked by ClamAV on apache.org

--00248c0ef0dcc91f46049bc76799
Content-Type: text/plain; charset=ISO-8859-1

2011/2/7 Robert Muir <rcmuir@gmail.com>

> On Sun, Feb 6, 2011 at 3:28 PM, Georger Araujo <georger.araujo@gmail.com>
> wrote:
> > Hi,
> > I started using Lucene a few weeks ago, and I must say I'm amazed. Hats
> off
> > to the developers and the community!
> > I'd like to write a custom analyzer whose only difference to
> > org.apache.lucene.analysis.br.BrazilianAnalyzer is that I want it to
> discard
> > numeric tokens from the input. I've looked at the code and also at the
> > discussion in [1], but I'm lost about what is the simplest/cleanest way
> to
> > go.
> > What do you think?
>
> Hi, in general the supplied analyzers are basically very general
> purpose examples.
>
> So i would make your own analyzer: except using a tokenizer that
> discards numbers (like lowercasetokenizer) instead of
> standardtokenizer: something like LowerCaseTokenizer +
> BrazilianStemFilter + Brazilian stopwords in a stopfilter.
>
>
>
Hi,
I investigated this issue further and found out that StandardTokenizer is
actually desirable for my needs - I need to index emails, acronyms, etc. So
I'll use package org.apache.lucene.analysis.StopFilter as a starting point
to try and write a custom TokenFilter to discard numbers, then just extend
BrazilianAnalyzer and use this custom TokenFilter as the final filter in the
chain. I believe the end result will be simpler and cleaner this way.
Best regards,

Georger

--00248c0ef0dcc91f46049bc76799--

From java-user-return-48646-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Feb 08 16:37:41 2011
Return-Path: <java-user-return-48646-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86860 invoked from network); 8 Feb 2011 16:37:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 8 Feb 2011 16:37:40 -0000
Received: (qmail 87220 invoked by uid 500); 8 Feb 2011 16:37:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86791 invoked by uid 500); 8 Feb 2011 16:37:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86763 invoked by uid 99); 8 Feb 2011 16:37:30 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Feb 2011 16:37:30 +0000
X-ASF-Spam-Status: No, hits=3.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ee07b381@gmail.com designates 74.125.83.48 as permitted sender)
Received: from [74.125.83.48] (HELO mail-gw0-f48.google.com) (74.125.83.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Feb 2011 16:37:24 +0000
Received: by gwj15 with SMTP id 15so2521344gwj.35
        for <java-user@lucene.apache.org>; Tue, 08 Feb 2011 08:37:03 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:from:date:message-id:subject:to
         :content-type;
        bh=6HwP79cGEj6mcsQ3h+7D/vqZVbyVZknqmomSkMz40kc=;
        b=UeAmLdIdjZpjaac0IM+zgOLSEzJjM9HIxvKJchvSA1/YAj5awKhyU3eaXYOYQv55dW
         4e+3VB4+m/zA1poi0eO/W9/yu56LjUjwKhcNfrzj9KgfKMfsehs2hBIi1XmrcNuZYrj3
         OrYywPmxC2mUEzlfRp/yaEpX4PQ6ddd7Lbvu0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:from:date:message-id:subject:to:content-type;
        b=HNHgIJc7vqRxM3r+FoPbCSYR6tyRDta4XjGxe5LT+xenXuoRS9GLBUP9UpGweElVLy
         zS+V/LYiK+Yi+HL+FOzKqnwt6r6DmlhwoG+6Gp0LxSlBtvFdnkTZubFiT/DNwmEvxlap
         hS6NrFIMuNUZ1k9rFfi/yxshUoc2ys/OAqSd8=
Received: by 10.151.106.2 with SMTP id i2mr256696ybm.124.1297183023107; Tue,
 08 Feb 2011 08:37:03 -0800 (PST)
MIME-Version: 1.0
Received: by 10.151.157.5 with HTTP; Tue, 8 Feb 2011 08:36:41 -0800 (PST)
From: Gong Li <ee07b381@gmail.com>
Date: Wed, 9 Feb 2011 00:36:41 +0800
Message-ID: <AANLkTimth-NRcAMg+v9oxzoou98VKy-qx-b2nsLHgrAQ@mail.gmail.com>
Subject: Lucene Questions about query and highlighter~^^
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00151750dd764d0f57049bc7f5a9

--00151750dd764d0f57049bc7f5a9
Content-Type: text/plain; charset=ISO-8859-1

Hi,

I am coding a *local pdf search engine* in Java.(If someone did it before,
could you please give some tips?) So I need query parse.

Assume I want to search for "hello user" in the document.

*Q1*. I have 4 kinds of queries in my program. They are:

  1. Match Exact words or phases. e.g. "hello user", "hello users", etc. can
be the search results. Note: the words must be in right order.

  2. Match Exact words or phases, but whole words only. e.g. only "hello
user" can be the search result. Note: the words must be in right order.

  3. Match Any words. e.g. "hello", "user", "users", etc. can be the search
results.

  4. Match Any words or phases, but whole words only. e.g. only "hello",
"user", "hello user" can be the search results.

My question: what the query expressions are for these 4 kind that i can use
it to parse?

  2nd expression is: "hello user".

  4th expression is: "hello" OR "user".

  Correct? And what about the other 2?

*Q2*. Then I use the following code to get context of the search result.
Note: the result must be ordered by relevance.

  Query q = new QueryParser(Version.LUCENE_30,"field",
analyzer).parse(expression);
  QueryScorer scorer = new QueryScorer(query);
  Highlighter highlighter = new Highlighter(scorer);
  highlighter.setTextFragmenter(new SimpleSpanFragmenter(scorer, 500));

And there are something wrong in line 2 for the 4 kinds of queries. How can
I modify the code to get the snippet of the content?

Thanks.

--00151750dd764d0f57049bc7f5a9--

From java-user-return-48647-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Feb 08 16:51:34 2011
Return-Path: <java-user-return-48647-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90856 invoked from network); 8 Feb 2011 16:51:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 8 Feb 2011 16:51:34 -0000
Received: (qmail 28971 invoked by uid 500); 8 Feb 2011 16:51:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28118 invoked by uid 500); 8 Feb 2011 16:51:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28108 invoked by uid 99); 8 Feb 2011 16:51:23 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Feb 2011 16:51:23 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of larsmans@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Feb 2011 16:51:18 +0000
Received: by fxm2 with SMTP id 2so6566361fxm.35
        for <java-user@lucene.apache.org>; Tue, 08 Feb 2011 08:50:57 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=fQGyGNeuzpDsABPm+GgLC8h7cQ/rlg3OgNNdBs8a6nc=;
        b=HY0F+5VkjahUNAwRvImWDOMYy6pMUou6i0GinHUF3EUiMX555qXiRuvyZdP+A5hhWY
         QROuM71utODXDzp3++XYbQozRSCDGoY+y/8zn+6ba7cCnz2efFaLPzk9XDz5ggClulyU
         YD6LT5ACpIDlDpTiaTdm/9FFSLHmNs5AdLaLU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=BYo1l7+KqW3OPvCo87k1U7pbt01GHq0WoFdMtmIPKkMMXwJTJ11SXvb2ShyixYM9+U
         bM4itLvMbQzTdQjHB1FgtvXwIazVFGdeTsLZAwocM24IPUQIwduaCLi+nSfjbzdpPzoX
         ePtJ1ls8gh5FdJrlpUnBam2U7Q6vHEzD+9qTc=
MIME-Version: 1.0
Received: by 10.223.96.68 with SMTP id g4mr2831212fan.33.1297183857026; Tue,
 08 Feb 2011 08:50:57 -0800 (PST)
Received: by 10.223.119.65 with HTTP; Tue, 8 Feb 2011 08:50:56 -0800 (PST)
Date: Tue, 8 Feb 2011 17:50:56 +0100
Message-ID: <AANLkTi=+StvX94X_fOtErnn0zSFdW4P7Em1V04ux2=UT@mail.gmail.com>
Subject: [ANNOUNCEMENT] NLP-based Analyzer library for Lucene
From: Lars Buitinck <larsmans@gmail.com>
To: Apache Lucene users <java-user@lucene.apache.org>
Content-Type: text/plain; charset=UTF-8

Dear all,

For anyone wanting to add some NLP abilities to Lucene, I've released
a small library at
https://github.com/larsmans/lucene-stanford-lemmatizer . This library
performs part-of-speech tagging (determining word categories such as
noun, verb), filtering based on part-of-speech and lemmatizing
(reducing words to their base form).

In other words: this is an NLP-based replacement for a stemmer and a
stop list, implemented as a Lucene analyzer. It requires the Stanford
POS Tagger.

lucene-stanford-lemmatizer can be used to index or query lemmas as
well as the terms as they appear in text, and/or to filter out terms
before indexing/querying based on their part-of-speech. By default, it
filters out pronouns, determiners (the, a) and several other
non-informative word categories.

I've seen this code improve search quality, even on very noisy data.
The software is designed for English, but does a pretty good job at
detecting non-English words and leaving those alone (in contrast to
the Porter/Snowball stemmer).

Regards,
Lars Buitinck

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48648-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Feb 08 17:22:18 2011
Return-Path: <java-user-return-48648-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10438 invoked from network); 8 Feb 2011 17:22:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 8 Feb 2011 17:22:18 -0000
Received: (qmail 92927 invoked by uid 500); 8 Feb 2011 17:22:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90865 invoked by uid 500); 8 Feb 2011 17:22:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90857 invoked by uid 99); 8 Feb 2011 17:22:07 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Feb 2011 17:22:07 +0000
X-ASF-Spam-Status: No, hits=3.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ee07b381@gmail.com designates 209.85.213.48 as permitted sender)
Received: from [209.85.213.48] (HELO mail-yw0-f48.google.com) (209.85.213.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Feb 2011 17:22:01 +0000
Received: by ywc21 with SMTP id 21so2558350ywc.35
        for <java-user@lucene.apache.org>; Tue, 08 Feb 2011 09:21:40 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=wMJhE6xg24Z4a7/egjN8TfaSHBcebdU+SPhVkQ9m2TI=;
        b=FPaN0QeCOTnPz9Y6gWH8K/oUZZ/eNk2+FZHUAmRbIwOnooKkmi5vIJxGa9weSuw736
         YTWROymmA4ZEVR2qIVvwvNhcgKb7BqDRxX0f9Qq5R5A3j6nhl4p4Bwvfht8CsGPuNDCy
         ssfqrg2ua33IPzOoeogK3w8UQ0XjkLBN50veU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=KndZgsC1GurTaxAdCdySvThQtP1B3nUz+OcdGPCjE4v6T33dW4M+EQbvzCAJPhMgzB
         XjpDPOrpJk8RmMs2BgzugRckqeQ+nJIpaReJBXtiK2AVG1/+ugIDX+hZNsa6PJ1uwzme
         6I6jbUq6BDAYCiRBsBwyTdtlgAXlUUNXbFvL0=
Received: by 10.150.192.20 with SMTP id p20mr346942ybf.67.1297185700810; Tue,
 08 Feb 2011 09:21:40 -0800 (PST)
MIME-Version: 1.0
Received: by 10.151.157.5 with HTTP; Tue, 8 Feb 2011 09:21:20 -0800 (PST)
In-Reply-To: <AANLkTimth-NRcAMg+v9oxzoou98VKy-qx-b2nsLHgrAQ@mail.gmail.com>
References: <AANLkTimth-NRcAMg+v9oxzoou98VKy-qx-b2nsLHgrAQ@mail.gmail.com>
From: Gong Li <ee07b381@gmail.com>
Date: Wed, 9 Feb 2011 01:21:20 +0800
Message-ID: <AANLkTi=RC-hLHEvbQ1mG3Q0quJDpvfqX8NhMaoSNbfo_@mail.gmail.com>
Subject: Lucene Questions about query and highlighter~^^
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=000e0cd695dae7944e049bc89450

--000e0cd695dae7944e049bc89450
Content-Type: text/plain; charset=ISO-8859-1

Hi,

I am coding a *local pdf search engine* in Java.(If someone did it before,
could you please give some tips?) So I need query parse.

Assume I want to search for "hello user" in the document.

*Q1*. I have 4 kinds of queries in my program. They are:

  1. Match Exact words or phases. e.g. "hello user", "hello users", etc. can
be the search results. Note: the words must be in right order.

  2. Match Exact words or phases, but whole words only. e.g. only "hello
user" can be the search result. Note: the words must be in right order.

  3. Match Any words. e.g. "hello", "user", "users", etc. can be the search
results.

  4. Match Any words or phases, but whole words only. e.g. only "hello",
"user", "hello user" can be the search results.

My question: what the query expressions are for these 4 kind that i can use
it to parse?

  2nd expression is: "hello user".

  4th expression is: "hello" OR "user".

  Correct? And what about the other 2?

*Q2*. Then I use the following code to get context of the search result.
Note: the result must be ordered by relevance.

  Query q = new QueryParser(Version.LUCENE_30,"field",
analyzer).parse(expression);
  QueryScorer scorer = new QueryScorer(query);
  Highlighter highlighter = new Highlighter(scorer);
  highlighter.setTextFragmenter(new SimpleSpanFragmenter(scorer, 500));

And there are something wrong in line 2 for the 4 kinds of queries. How can
I modify the code to get the snippet of the content?

Thanks.

--000e0cd695dae7944e049bc89450--

From java-user-return-48649-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Feb 08 18:24:14 2011
Return-Path: <java-user-return-48649-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36240 invoked from network); 8 Feb 2011 18:24:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 8 Feb 2011 18:24:13 -0000
Received: (qmail 6890 invoked by uid 500); 8 Feb 2011 18:24:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6509 invoked by uid 500); 8 Feb 2011 18:24:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6496 invoked by uid 99); 8 Feb 2011 18:24:07 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Feb 2011 18:24:07 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [216.254.141.183] (HELO mail-02.primus.ca) (216.254.141.183)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Feb 2011 18:23:58 +0000
Received: from ottawa-hs-64-26-155-186.s-ip.magma.ca ([64.26.155.186] helo=[192.168.0.203])
	by mail-02.primus.ca with esmtpa (Exim 4.72)
	(envelope-from <dev@brightminds.org>)
	id 1PmsDv-00077E-0M
	for java-user@lucene.apache.org; Tue, 08 Feb 2011 13:23:36 -0500
Message-ID: <4D518A26.1010805@brightminds.org>
Date: Tue, 08 Feb 2011 13:23:34 -0500
From: BrightMinds Dev <dev@brightminds.org>
Reply-To: dev@brightminds.org
Organization: BrightMinds Software Inc.
User-Agent: Thunderbird 2.0.0.24 (Macintosh/20100228)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: HA Configuration / Best Practices
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Authenticated: bm011 - ottawa-hs-64-26-155-186.s-ip.magma.ca ([192.168.0.203]) [64.26.155.186]
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

We are developing a site with a 4 tier design (RP, UI, WS, DB) and on 
the WS tier are looking at how we would setup Lucene in a HA 
configuration i.e. so there is no single point of failure.  The initial 
deployment will involve pairs of servers at each tier.

As there are at least 2 servers at the WS (Lucene) tier that implies at 
least 2 indexes.

As far as best practices go:

1) What is the typical architecture for Lucene in a HA configuration?

2) How are indexes typically maintained in some sort of sync?  i.e. if a 
request comes in to do a search on the UI tier and returns a set of 
results and we want the next page of results but aren't using say 
stickiness if the indexes are out of sync this could be problematic.  
No?  How are these issues solved?

3) What types of things are done to the DB to keep track of updates e.g. 
having a last indexed timestamp is great but if you have 2 indexes are 
you adding 2 columns on each table?

4) Are there any white papers or references worth looking at?

FYI... the site is being designed to scale to millions of users and 
already incorporates Sharding for user data and related content.

Much Appreciated.

--Nikolaos

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48650-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Feb 08 20:04:44 2011
Return-Path: <java-user-return-48650-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81107 invoked from network); 8 Feb 2011 20:04:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 8 Feb 2011 20:04:44 -0000
Received: (qmail 53766 invoked by uid 500); 8 Feb 2011 20:04:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53558 invoked by uid 500); 8 Feb 2011 20:04:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53550 invoked by uid 99); 8 Feb 2011 20:04:41 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Feb 2011 20:04:41 +0000
X-ASF-Spam-Status: No, hits=0.9 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_MED,SPF_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: softfail (nike.apache.org: transitioning domain of ben@avvo.com does not designate 216.82.253.99 as permitted sender)
Received: from [216.82.253.99] (HELO mail160.messagelabs.com) (216.82.253.99)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Feb 2011 20:04:32 +0000
X-VirusChecked: Checked
X-Env-Sender: ben@avvo.com
X-Msg-Ref: server-4.tower-160.messagelabs.com!1297195446!12016345!10
X-StarScan-Version: 6.2.9; banners=-,-,-
X-Originating-IP: [216.166.12.31]
Received: (qmail 3228 invoked from network); 8 Feb 2011 20:04:09 -0000
Received: from out001.collaborationhost.net (HELO out001.collaborationhost.net) (216.166.12.31)
  by server-4.tower-160.messagelabs.com with RC4-SHA encrypted SMTP; 8 Feb 2011 20:04:09 -0000
Received: from AUSP01VMBX05.collaborationhost.net ([10.2.8.86]) by
 AUSP01MHUB01.collaborationhost.net ([10.2.8.25]) with mapi; Tue, 8 Feb 2011
 14:04:02 -0600
From: Ben VandenBos <ben@avvo.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Tue, 8 Feb 2011 14:04:01 -0600
Subject: boosting on a sint results in high cpu spikes and ultimately hangs
 solr
Thread-Topic: boosting on a sint results in high cpu spikes and ultimately
 hangs solr
Thread-Index: AcvHy1RRPd8wdNHzSYWPnPqtjfb1Xg==
Message-ID: <2848BD3F-7F2C-42AB-9129-056DA2FDEC88@avvo.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: multipart/alternative;
	boundary="_000_2848BD3F7F2C42AB9129056DA2FDEC88avvocom_"
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

--_000_2848BD3F7F2C42AB9129056DA2FDEC88avvocom_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi,

We've been using solr for several years now with great success.  Recently, =
we modified a boost query to reference a dynamic sint field defined as foll=
ows:

    <dynamicField name=3D"*_i"  type=3D"sint" indexed=3D"true" stored=3D"fa=
lse" omitNorms=3D"true"/>

We index a handful of these fields per document.  Their field names are of =
the form:

    _<id>_specialty_percent_i

Examples:

    _56_specialty_percent_i
    _71_specialty_percent_i

There are roughly 240 different ids.  No document has more than 20 of these=
 fields, most of 1-4.  Many have none.  We have about ~3 million documents.

We added the following clause to our boost query:

    _<id>_specialty_percent_i^10.0

We insert the appropriate id into the boost clause at query time.

Our average response time from solr prior to this change was around 12-20 m=
s.  Immediately after, it went up a bit to 16-32ms.  Unfortunate, but accep=
table.  Then in the following minutes, the response time begins to fluctuat=
e heavily, spiking to 100ms and then back down to 20, then to 150ms and bac=
k down.  After 30-60 mins, the response time spikes to 15K ms which effecti=
vely kills the instance and it never recovers until our monitoring restarts=
 solr.

Initially we were giving the JVM 6gigs of memory.  As a test, we bumped it =
up to 10.  That delayed the effect, but it still happened.  It took about 2=
-3 hours to tank.  Here's the commandline:

  /usr/bin/java \
  -Djetty.home=3D/srv/solr \
  -Dsolr.solr.home=3D/srv/solr/solr \
  -Xms6144m -Xmx6144m \
  -jar /srv/solr/start.jar \

I've isolated this issue to the boost query, even if it's the only clause i=
n the boost query, it still happens.  Without it, everything runs great.  I=
 cannot reproduce the problem using any other field.

We boost on other *_i fields with no problems.

We're running solr 1.4.1.  All queries are going against slaves.  Here's ou=
r cache config:

    <filterCache class=3D"solr.LRUCache" size=3D"1000" initialSize=3D"1000"=
 autowarmCount=3D"1000"/>

Any advice or ideas would be greatly appreciated.

thanks!

ben

--_000_2848BD3F7F2C42AB9129056DA2FDEC88avvocom_--

From java-user-return-48651-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Feb 08 21:51:52 2011
Return-Path: <java-user-return-48651-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30269 invoked from network); 8 Feb 2011 21:51:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 8 Feb 2011 21:51:52 -0000
Received: (qmail 58888 invoked by uid 500); 8 Feb 2011 21:51:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58650 invoked by uid 500); 8 Feb 2011 21:51:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58642 invoked by uid 99); 8 Feb 2011 21:51:49 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Feb 2011 21:51:49 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [217.72.192.242] (HELO fmmailgate04.web.de) (217.72.192.242)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Feb 2011 21:51:43 +0000
Received:  from mwmweb009  ( [172.20.18.18])
	by fmmailgate04.web.de (Postfix) with ESMTP id 683DA6C70AF4
	for <java-user@lucene.apache.org>; Tue,  8 Feb 2011 22:51:21 +0100 (CET)
Received:  from [84.173.21.5]  by  mwmweb009  with HTTP; Tue Feb
 08 22:51:21 CET 2011
Date: Tue, 8 Feb 2011 22:51:21 +0100 (CET)
From: "Livia Hauser" <livia.hauser@web.de>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Message-ID: <491675137.10930680.1297201881419.JavaMail.fmail@mwmweb009>
In-Reply-To: <4A1AC1E08A1A4A438C4E4502E73AFC7449D8F255D1@enodios.ARISEM.COM>
References: <1026148301.5478182.1297108735024.JavaMail.fmail@mwmweb011>,
 <4A1AC1E08A1A4A438C4E4502E73AFC7449D8F255D1@enodios.ARISEM.COM>
Subject: RE: How to implement a proximity search using LINES as slop
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-UI-Message-Type: mail
X-UI-ATTACHMENT-ID-POSTFIX: e7cf5a51-c232-49be-aea0-05a4de8f74b5
X-Priority: 3
Importance: normal
Sensitivity: Normal
X-Provags-ID: V01U2FsdGVkX19jHFMeqANKlIe18+/HbK4KcASgQlSMDVrW3lJ7hMhQm/MPUhi36xL8
 K/c+SCGHCe7XpJDOQL3e8QU9vO5fwBMY7eKM88M6k90=

Hi Pierre,

many thanks for your idear.
I had a look to Payloads ... should it possible to store the line number as=
 payload?

Best Regards,
Livia


-----Urspr=C3=BCngliche Nachricht-----
Von: "Pierre GOSSE" <pierre.gosse@arisem.com>
Gesendet: 08.02.2011 09:37:53
An: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Betreff: RE: How to implement a proximity search using LINES as slop

>Hi Livia,
>
>One way of doing this line slope would be to implement a custom tokenizer =
that could tokenize on new line, and split each token into the words it con=
tains. I.e. Each word of a line would be seen as being at the same position=
 (and having same offset and length as the complete line).=20
>
>I don't think usual queries would respond well with that field, so maybe y=
ou will have to have two fields, one standard for searching and scoring and=
 one custom for filtering your results.
>
>But maybe that's overkill, and there's a simpler manner to achieve this li=
ne slope, I'm quite new to solr. :)
>
>Pierre
>
>-----Message d'origine-----
>De=C2=A0: Livia Hauser [mailto:livia.hauser@web.de]=20
>Envoy=C3=A9=C2=A0: lundi 7 f=C3=A9vrier 2011 20:59
>=C3=80=C2=A0: java-user@lucene.apache.org
>Objet=C2=A0: How to implement a proximity search using LINES as slop
>
>Hi All,
>
>I use solr 3.x and put excel documents into an index.
>I have my own query parser and use SpanQueries to provide a proximity sear=
ch feature. It works really good.
>Most often than not its better to limit the proxmity to one or two line's,=
 not to X words.
>I try to find a NewLine indicator... unsuccessfully.
>How can use the number of lines as proximity?
>
>Thx!
>___________________________________________________________
>WEB.DE DSL Doppel-Flat ab 19,99 =E2=82=AC/mtl.! Jetzt mit=20
>gratis Handy-Flat! http://produkte.web.de/go/DSL_Doppel_Flatrate/2
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
___________________________________________________________
Neu: WEB.DE De-Mail - Einfach wie E-Mail, sicher wie ein Brief! =20
Jetzt De-Mail-Adresse reservieren: https://produkte.web.de/go/demail02

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48652-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Feb 09 01:10:39 2011
Return-Path: <java-user-return-48652-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36295 invoked from network); 9 Feb 2011 01:10:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 9 Feb 2011 01:10:38 -0000
Received: (qmail 48185 invoked by uid 500); 9 Feb 2011 01:10:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47630 invoked by uid 500); 9 Feb 2011 01:10:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47614 invoked by uid 99); 9 Feb 2011 01:10:29 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Feb 2011 01:10:29 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [128.230.18.92] (HELO smtp2.syr.edu) (128.230.18.92)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Feb 2011 01:10:17 +0000
Received: from suex07-hub-02.ad.syr.edu (suex07-hub-02.ad.syr.edu [128.230.108.196])
	by smtp2.syr.edu (8.14.3/8.14.3) with ESMTP id p1919tfi030788
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=FAIL);
	Tue, 8 Feb 2011 20:09:55 -0500
Received: from suex07-mbx-03.ad.syr.edu ([128.230.108.133]) by
 suex07-hub-02.ad.syr.edu ([128.230.108.196]) with mapi; Tue, 8 Feb 2011
 20:09:55 -0500
From: Steven A Rowe <sarowe@syr.edu>
To: "solr-user@lucene.apache.org" <solr-user@lucene.apache.org>,
        "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Tue, 8 Feb 2011 20:10:02 -0500
Subject: [RESULTS] [POLL] Where do you get Lucene/Solr from?  Maven?  ASF
 Mirrors?
Thread-Topic: [RESULTS] [POLL] Where do you get Lucene/Solr from?  Maven?
  ASF Mirrors?
Thread-Index: AcvH83f1cy8y7AuTTbiPyH4wUZhUww==
Message-ID: <2D127F11DC79714E9B6A43AC9458147F9C143848@suex07-mbx-03.ad.syr.edu>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: multipart/mixed;
	boundary="_003_2D127F11DC79714E9B6A43AC9458147F9C143848suex07mbx03adsy_"
MIME-Version: 1.0
X-Proofpoint-Virus-Version: vendor=fsecure engine=2.50.10432:5.2.15,1.0.148,0.0.0000
 definitions=2011-02-09_01:2011-02-09,2011-02-09,1970-01-01 signatures=0
X-Proofpoint-Spam-Reason: safe
X-Virus-Checked: Checked by ClamAV on apache.org

--_003_2D127F11DC79714E9B6A43AC9458147F9C143848suex07mbx03adsy_
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64

SSB0YWJ1bGF0ZWQgcmVzcG9uc2VzIHRvIHRoaXMgcG9sbC4NCg0KU2VlIHRoZSBhdHRhY2hlZCBF
eGNlbCBzcHJlYWRzaGVldCBvciAuY3N2IGZpbGUgZm9yIGRldGFpbHMgKHRoZXkgYm90aCBjb250
YWluIHRoZSBzYW1lIGluZm8pLg0KDQpSZXN1bHRzOg0KDQogICAgIyBSZXNwb25kZW50czogNzcq
DQogICAgICBBU0YgTWlycm9yczogMzkgKDUxJSkNCiAgICAgICBNYXZlbiBSZXBvOiA0NSAoNTgl
KQ0KQnVpbGQgZnJvbSBzb3VyY2U6IDM1ICg0NSUpDQogICAgICAgICAgICBPdGhlcjogIDQgICg1
JSkNCg0KKkxhbmNlIE5vcnNrb2cgcmVzcG9uZGVkLCBidXQgd2l0aCBub25lIG9mIHRoZSBmb3Vy
IHN0YW5kYXJkIHJlc3BvbnNlcywgYW5kIHNvIHdhcyBleGNsdWRlZCBmcm9tIHRoZSByZXNwb25k
ZW50IGNvdW50OyB0aGUgYXR0YWNoZWQgc3ByZWFkc2hlZXQgbmV2ZXJ0aGVsZXNzIGluY2x1ZGVz
IGhpcyBjb21tZW50Lg0KDQo=

--_003_2D127F11DC79714E9B6A43AC9458147F9C143848suex07mbx03adsy_
Content-Type: application/vnd.ms-excel;
	name="Lucene Solr Source Poll Results.xls"
Content-Description: Lucene Solr Source Poll Results.xls
Content-Disposition: attachment;
	filename="Lucene Solr Source Poll Results.xls"; size=44032;
	creation-date="Wed, 09 Feb 2011 00:53:52 GMT";
	modification-date="Wed, 09 Feb 2011 01:08:08 GMT"
Content-Transfer-Encoding: base64

0M8R4KGxGuEAAAAAAAAAAAAAAAAAAAAAPgADAP7/CQAGAAAAAAAAAAAAAAABAAAAVAAAAAAAAAAA
EAAA/v///wAAAAD+////AAAAAFMAAAD/////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////8J
CBAAAAYFAGYyzQfBgAEABgYAAOEAAgCwBMEAAgAAAOIAAABcAHAABgAAc2Fyb3dlICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEIAAgCwBGEBAgAAAMABAAA9AQIA
AQCcAAIAEQAZAAIAAAASAAIAAAATAAIAAACvAQIAAAC8AQIAAAA9ABIAeACWAFNhKy84AAAAAAAB
AFgCQAACAAAAjQACAAAAIgACAAAADgACAAEAtwECAAAA2gACAAAAMQAeANwAAAAIAJABAAAAAgAA
BwFDAGEAbABpAGIAcgBpADEAHgDcAAAACACQAQAAAAIAAAcBQwBhAGwAaQBiAHIAaQAxAB4A3AAA
AAgAkAEAAAACAAAHAUMAYQBsAGkAYgByAGkAMQAeANwAAAAIAJABAAAAAgAABwFDAGEAbABpAGIA
cgBpADEAHgDcAAAACACQAQAAAAIAAAcBQwBhAGwAaQBiAHIAaQAxAB4AaAEBADgAvAIAAAACAAAH
AUMAYQBtAGIAcgBpAGEAMQAeACwBAQA4ALwCAAAAAgAABwFDAGEAbABpAGIAcgBpADEAHgAEAQEA
OAC8AgAAAAIAAAcBQwBhAGwAaQBiAHIAaQAxAB4A3AABADgAvAIAAAACAAAHAUMAYQBsAGkAYgBy
AGkAMQAeANwAAAARAJABAAAAAgAABwFDAGEAbABpAGIAcgBpADEAHgDcAAAAFACQAQAAAAIAAAcB
QwBhAGwAaQBiAHIAaQAxAB4A3AAAADwAkAEAAAACAAAHAUMAYQBsAGkAYgByAGkAMQAeANwAAAA+
AJABAAAAAgAABwFDAGEAbABpAGIAcgBpADEAHgDcAAEAPwC8AgAAAAIAAAcBQwBhAGwAaQBiAHIA
aQAxAB4A3AABADQAvAIAAAACAAAHAUMAYQBsAGkAYgByAGkAMQAeANwAAAA0AJABAAAAAgAABwFD
AGEAbABpAGIAcgBpADEAHgDcAAEACQC8AgAAAAIAAAcBQwBhAGwAaQBiAHIAaQAxAB4A3AAAAAoA
kAEAAAACAAAHAUMAYQBsAGkAYgByAGkAMQAeANwAAgAXAJABAAAAAgAABwFDAGEAbABpAGIAcgBp
ADEAHgDcAAEACAC8AgAAAAIAAAcBQwBhAGwAaQBiAHIAaQAxAB4A3AAAAAkAkAEAAAACAAAHAUMA
YQBsAGkAYgByAGkAMQAeANwABAAMAJABAAABAgAABwFDAGEAbABpAGIAcgBpAB4EHAAFABcAACIk
IiMsIyMwXyk7XCgiJCIjLCMjMFwpHgQhAAYAHAAAIiQiIywjIzBfKTtbUmVkXVwoIiQiIywjIzBc
KR4EIgAHAB0AACIkIiMsIyMwLjAwXyk7XCgiJCIjLCMjMC4wMFwpHgQnAAgAIgAAIiQiIywjIzAu
MDBfKTtbUmVkXVwoIiQiIywjIzAuMDBcKR4ENwAqADIAAF8oIiQiKiAjLCMjMF8pO18oIiQiKiBc
KCMsIyMwXCk7XygiJCIqICItIl8pO18oQF8pHgQuACkAKQAAXygqICMsIyMwXyk7XygqIFwoIywj
IzBcKTtfKCogIi0iXyk7XyhAXykeBD8ALAA6AABfKCIkIiogIywjIzAuMDBfKTtfKCIkIiogXCgj
LCMjMC4wMFwpO18oIiQiKiAiLSI/P18pO18oQF8pHgQ2ACsAMQAAXygqICMsIyMwLjAwXyk7Xygq
IFwoIywjIzAuMDBcKTtfKCogIi0iPz9fKTtfKEBfKR4EEACkAAsAACIkIiMsIyMwLjAwHgQkAKUA
HwAAWyQtNDA5XWRkZGRcLFwgbW1tbVwgZGRcLFwgeXl5eR4EGgCmABUAAFskLTQwOV1oOm1tOnNz
XCBBTS9QTR4EIQCnABwAAFskLTQwOV1tL2QveXlcIGg6bW1cIEFNL1BNO0AeBB8AqAAaAAB5eXl5
XC1tbVwtZGRcIGhoOm1tXCBBTS9QTR4EHgCpABkAAHl5eXlcLW1tXC1kZFwgaDptbVwgQU0vUE0e
BCAAqgAbAAB5eXl5XC1tbVwtZGRcIFwgaDptbVwgQU0vUE0eBCEAqwAcAAB5eXl5XC1tbVwtZGRc
IFwgaGg6bW1cIEFNL1BNHgQVAKwAEAAAIlllcyI7IlllcyI7Ik5vIh4EGgCtABUAACJUcnVlIjsi
VHJ1ZSI7IkZhbHNlIh4EFACuAA8AACJPbiI7Ik9uIjsiT2ZmIh4EXQCvACwAAVsAJACsIC0AMgBd
AFwAIAAjACwAIwAjADAALgAwADAAXwApADsAWwBSAGUAZABdAFwAKABbACQArCAtADIAXQBcACAA
IwAsACMAIwAwAC4AMAAwAFwAKQDgABQAAAAAAPX/IAAAAAAAAAAAAAAAwCDgABQAAQAAAPX/IAAA
9AAAAAAAAAAAwCDgABQAAQAAAPX/IAAA9AAAAAAAAAAAwCDgABQAAgAAAPX/IAAA9AAAAAAAAAAA
wCDgABQAAgAAAPX/IAAA9AAAAAAAAAAAwCDgABQAAAAAAPX/IAAA9AAAAAAAAAAAwCDgABQAAAAA
APX/IAAA9AAAAAAAAAAAwCDgABQAAAAAAPX/IAAA9AAAAAAAAAAAwCDgABQAAAAAAPX/IAAA9AAA
AAAAAAAAwCDgABQAAAAAAPX/IAAA9AAAAAAAAAAAwCDgABQAAAAAAPX/IAAA9AAAAAAAAAAAwCDg
ABQAAAAAAPX/IAAA9AAAAAAAAAAAwCDgABQAAAAAAPX/IAAA9AAAAAAAAAAAwCDgABQAAAAAAPX/
IAAA9AAAAAAAAAAAwCDgABQAAAAAAPX/IAAA9AAAAAAAAAAAwCDgABQAAAAAAAEAIAAAAAAAAAAA
AAACwCDgABQABQAAAPX/IAAAtAAAAAAAAAAEnyDgABQABQAAAPX/IAAAtAAAAAAAAAAErSDgABQA
BQAAAPX/IAAAtAAAAAAAAAAEqiDgABQABQAAAPX/IAAAtAAAAAAAAAAEriDgABQABQAAAPX/IAAA
tAAAAAAAAAAEmyDgABQABQAAAPX/IAAAtAAAAAAAAAAEryDgABQABQAAAPX/IAAAtAAAAAAAAAAE
rCDgABQABQAAAPX/IAAAtAAAAAAAAAAEnSDgABQABQAAAPX/IAAAtAAAAAAAAAAEiyDgABQABQAA
APX/IAAAtAAAAAAAAAAEriDgABQABQAAAPX/IAAAtAAAAAAAAAAErCDgABQABQAAAPX/IAAAtAAA
AAAAAAAEsyDgABQAFQAAAPX/IAAAtAAAAAAAAAAEniDgABQAFQAAAPX/IAAAtAAAAAAAAAAEnSDg
ABQAFQAAAPX/IAAAtAAAAAAAAAAEiyDgABQAFQAAAPX/IAAAtAAAAAAAAAAEpCDgABQAFQAAAPX/
IAAAtAAAAAAAAAAEsSDgABQAFQAAAPX/IAAAtAAAAAAAAAAEtCDgABQAFQAAAPX/IAAAtAAAAAAA
AAAEviDgABQAFQAAAPX/IAAAtAAAAAAAAAAEiiDgABQAFQAAAPX/IAAAtAAAAAAAAAAEuSDgABQA
FQAAAPX/IAAAtAAAAAAAAAAEpCDgABQAFQAAAPX/IAAAtAAAAAAAAAAEsSDgABQAFQAAAPX/IAAA
tAAAAAAAAAAEtSDgABQACwAAAPX/IAAAtAAAAAAAAAAErSDgABQADwAAAPX/IAAAlBERlwuXCwAE
liDgABQAEQAAAPX/IAAAlGZmvx+/HwAEtyDgABQABQArAPX/IAAA+AAAAAAAAAAAwCDgABQABQAp
APX/IAAA+AAAAAAAAAAAwCDgABQABQAsAPX/IAAA+AAAAAAAAAAAwCDgABQABQAqAPX/IAAA+AAA
AAAAAAAAwCDgABQAEwAAAPX/IAAA9AAAAAAAAAAAwCDgABQACgAAAPX/IAAAtAAAAAAAAAAEqiDg
ABQABwAAAPX/IAAA1ABQAAAAHwAAwCDgABQACAAAAPX/IAAA1ABQAAAACwAAwCDgABQACQAAAPX/
IAAA1AAgAAAADwAAwCDgABQACQAAAPX/IAAA9AAAAAAAAAAAwCDgABQAFgAAAPX/IAAA9AAAAAAA
AAAAwCDgABQADQAAAPX/IAAAlBERlwuXCwAEryDgABQAEAAAAPX/IAAA1ABgAAAAGgAAwCDgABQA
DAAAAPX/IAAAtAAAAAAAAAAEqyDgABQABQAAAPX/IAAAnBERFgsWCwAEmiDgABQADgAAAPX/IAAA
lBERvx+/HwAEliDgABQABQAJAPX/IAAA+AAAAAAAAAAAwCDgABQABgAAAPX/IAAA9AAAAAAAAAAA
wCDgABQAFAAAAPX/IAAA1ABhAAA+HwAAwCDgABQAEgAAAPX/IAAA9AAAAAAAAAAAwCDgABQAFACk
AAEAGgAAHAAAAAAAAAACwCDgABQAAAAAAAEAEAAAEAAAAAAAAAACwCDgABQAAAAAAAEAEgAAEAAA
AAAAAAACwCDgABQAFACrAAEAGgAAHAAAAAAAAAACwCDgABQAAAAAAAEAEAAAGAAAAAAAAAACwCDg
ABQAAAAAAAEAKAAAEAAAAAAAAAACwCDgABQAAAAAAAEAGAAAGAAAAAAAAAACwCDgABQAAACrAAEA
EAAAFAAAAAAAAAACwCDgABQAFAAAAAEAEwAAGAAAAAAAAAACwCDgABQAFAADAAEAIAAALAAGAABA
AAACwCDgABQAFAAJAAEAEwAAHAAAAAAAAAACwCB8CBQAfAgAAAAAAAAAAAAAAABKABuzrut9CC0A
fQgAAAAAAAAAAAAAAAAAAAAAAgANABQAAwAAAAEAAAAAMAAwAF8AKQ4ABQACfQgtAH0IAAAAAAAA
AAAAAAAAAQAAAAIADQAUAAMAAAABAAAAADAAMABfACkOAAUAAn0ILQB9CAAAAAAAAAAAAAAAAAIA
AAACAA0AFAADAAAAAQAAAAAwADAAXwApDgAFAAJ9CC0AfQgAAAAAAAAAAAAAAAADAAAAAgANABQA
AwAAAAEAAAAAMAAwAF8AKQ4ABQACfQgtAH0IAAAAAAAAAAAAAAAABAAAAAIADQAUAAMAAAABAAAA
ADAAMABfACkOAAUAAn0ILQB9CAAAAAAAAAAAAAAAAAUAAAACAA0AFAADAAAAAQAAAAAwADAAXwAp
DgAFAAJ9CC0AfQgAAAAAAAAAAAAAAAAGAAAAAgANABQAAwAAAAEAAAAAMAAwAF8AKQ4ABQACfQgt
AH0IAAAAAAAAAAAAAAAABwAAAAIADQAUAAMAAAABAAAAADAAMABfACkOAAUAAn0ILQB9CAAAAAAA
AAAAAAAAAAgAAAACAA0AFAADAAAAAQAAAAAwADAAXwApDgAFAAJ9CC0AfQgAAAAAAAAAAAAAAAAJ
AAAAAgANABQAAwAAAAEAAAAAMAAwAF8AKQ4ABQACfQgtAH0IAAAAAAAAAAAAAAAACgAAAAIADQAU
AAMAAAABAAAAADAAMABfACkOAAUAAn0ILQB9CAAAAAAAAAAAAAAAAAsAAAACAA0AFAADAAAAAQAA
AAAwADAAXwApDgAFAAJ9CC0AfQgAAAAAAAAAAAAAAAAMAAAAAgANABQAAwAAAAEAAAAAMAAwAF8A
KQ4ABQACfQgtAH0IAAAAAAAAAAAAAAAADQAAAAIADQAUAAMAAAABAAAAADAAMABfACkOAAUAAn0I
LQB9CAAAAAAAAAAAAAAAAA4AAAACAA0AFAADAAAAAQAAAAAwADAAXwApDgAFAAJ9CC0AfQgAAAAA
AAAAAAAAAAAPAAAAAgANABQAAwAAAAEAAAAAMAAwAF8AKQ4ABQACfQgtAH0IAAAAAAAAAAAAAAAA
KwAAAAIADQAUAAMAAAABAAAAADAAMABfACkOAAUAAn0ILQB9CAAAAAAAAAAAAAAAACwAAAACAA0A
FAADAAAAAQAAAAAwADAAXwApDgAFAAJ9CC0AfQgAAAAAAAAAAAAAAAAtAAAAAgANABQAAwAAAAEA
AAAAMAAwAF8AKQ4ABQACfQgtAH0IAAAAAAAAAAAAAAAALgAAAAIADQAUAAMAAAABAAAAADAAMABf
ACkOAAUAAn0ILQB9CAAAAAAAAAAAAAAAADsAAAACAA0AFAADAAAAAQAAAAAwADAAXwApDgAFAAJ9
CC0AfQgAAAAAAAAAAAAAAAA8AAAAAgANABQAAwAAAAMAAAAAMAAwAF8AKQ4ABQABfQhBAH0IAAAA
AAAAAAAAAAAAMQAAAAMADQAUAAMAAAADAAAAADAAMABfACkOAAUAAggAFAADAAAABAAAAFsAJACs
IC0AfQhBAH0IAAAAAAAAAAAAAAAAMgAAAAMADQAUAAMAAAADAAAAADAAMABfACkOAAUAAggAFAAD
AP8/BAAAAFsAJACsIC0AfQhBAH0IAAAAAAAAAAAAAAAAMwAAAAMADQAUAAMAAAADAAAAADAAMABf
ACkOAAUAAggAFAADADIzBAAAAFsAJACsIC0AfQgtAH0IAAAAAAAAAAAAAAAANAAAAAIADQAUAAMA
AAADAAAAADAAMABfACkOAAUAAn0IQQB9CAAAAAAAAAAAAAAAADAAAAADAA0AFAACAAAAAGEA/wAw
ADAAXwApDgAFAAIEABQAAgAAAMbvzv9bACQArCAtAH0IQQB9CAAAAAAAAAAAAAAAACgAAAADAA0A
FAACAAAAnAAG/wAwADAAXwApDgAFAAIEABQAAgAAAP/Hzv9bACQArCAtAH0IQQB9CAAAAAAAAAAA
AAAAADgAAAADAA0AFAACAAAAnGUA/wAwADAAXwApDgAFAAIEABQAAgAAAP/rnP9bACQArCAtAH0I
kQB9CAAAAAAAAAAAAAAAADYAAAAHAA0AFAACAAAAPz92/wAwADAAXwApDgAFAAIEABQAAgAAAP/M
mf9bACQArCAtAAcAFAACAAAAf39//yMAIwAwAC4ACAAUAAIAAAB/f3//ICAgICAgICAJABQAAgAA
AH9/f/8AAAAAAAAAAAoAFAACAAAAf39//wAAAAAAAAAAfQiRAH0IAAAAAAAAAAAAAAAAOgAAAAcA
DQAUAAIAAAA/Pz//ADAAMABfACkOAAUAAgQAFAACAAAA8vLy/1sAJACsIC0ABwAUAAIAAAA/Pz//
IwAjADAALgAIABQAAgAAAD8/P/8gICAgICAgIAkAFAACAAAAPz8//wAAAAAAAAAACgAUAAIAAAA/
Pz//AAAAAAAAAAB9CJEAfQgAAAAAAAAAAAAAAAApAAAABwANABQAAgAAAPp9AP8AMAAwAF8AKQ4A
BQACBAAUAAIAAADy8vL/WwAkAKwgLQAHABQAAgAAAH9/f/8jACMAMAAuAAgAFAACAAAAf39//yAg
ICAgICAgCQAUAAIAAAB/f3//AAAAAAAAAAAKABQAAgAAAH9/f/8AAAAAAAAAAH0IQQB9CAAAAAAA
AAAAAAAAADcAAAADAA0AFAACAAAA+n0A/wAwADAAXwApDgAFAAIIABQAAgAAAP+AAf9bACQArCAt
AH0IkQB9CAAAAAAAAAAAAAAAACoAAAAHAA0AFAADAAAAAAAAAAAwADAAXwApDgAFAAIEABQAAgAA
AKWlpf9bACQArCAtAAcAFAACAAAAPz8//yMAIwAwAC4ACAAUAAIAAAA/Pz//ICAgICAgICAJABQA
AgAAAD8/P/8AAAAAAAAAAAoAFAACAAAAPz8//wAAAAAAAAAAfQgtAH0IAAAAAAAAAAAAAAAAPgAA
AAIADQAUAAIAAAD/AAD/ADAAMABfACkOAAUAAn0IkQB9CAAAAAAAAAAAAAAAADkAAAAHAA0AFAAD
AAAAAQAAAAAwADAAXwApDgAFAAIEABQAAgAAAP//zP9bACQArCAtAAcAFAACAAAAsrKy/yMAIwAw
AC4ACAAUAAIAAACysrL/ICAgICAgICAJABQAAgAAALKysv8AAAAAAAAAAAoAFAACAAAAsrKy/wAA
AAAAAAAAfQgtAH0IAAAAAAAAAAAAAAAALwAAAAIADQAUAAIAAAB/f3//ADAAMABfACkOAAUAAn0I
VQB9CAAAAAAAAAAAAAAAAD0AAAAEAA0AFAADAAAAAQAAAAAwADAAXwApDgAFAAIHABQAAwAAAAQA
AABbACQArCAtAAgAFAADAAAABAAAACMAIwAwAC4AfQhBAH0IAAAAAAAAAAAAAAAAIgAAAAMADQAU
AAMAAAAAAAAAADAAMABfACkOAAUAAgQAFAADAAAABAAAAFsAJACsIC0AfQhBAH0IAAAAAAAAAAAA
AAAAEAAAAAMADQAUAAMAAAABAAAAADAAMABfACkOAAUAAgQAFAADAGVmBAAAAFsAJACsIC0AfQhB
AH0IAAAAAAAAAAAAAAAAFgAAAAMADQAUAAMAAAABAAAAADAAMABfACkOAAUAAgQAFAADAMxMBAAA
AFsAJACsIC0AfQhBAH0IAAAAAAAAAAAAAAAAHAAAAAMADQAUAAMAAAAAAAAAADAAMABfACkOAAUA
AgQAFAADADIzBAAAAFsAJACsIC0AfQhBAH0IAAAAAAAAAAAAAAAAIwAAAAMADQAUAAMAAAAAAAAA
ADAAMABfACkOAAUAAgQAFAADAAAABQAAAFsAJACsIC0AfQhBAH0IAAAAAAAAAAAAAAAAEQAAAAMA
DQAUAAMAAAABAAAAADAAMABfACkOAAUAAgQAFAADAGVmBQAAAFsAJACsIC0AfQhBAH0IAAAAAAAA
AAAAAAAAFwAAAAMADQAUAAMAAAABAAAAADAAMABfACkOAAUAAgQAFAADAMxMBQAAAFsAJACsIC0A
fQhBAH0IAAAAAAAAAAAAAAAAHQAAAAMADQAUAAMAAAAAAAAAADAAMABfACkOAAUAAgQAFAADADIz
BQAAAFsAJACsIC0AfQhBAH0IAAAAAAAAAAAAAAAAJAAAAAMADQAUAAMAAAAAAAAAADAAMABfACkO
AAUAAgQAFAADAAAABgAAAFsAJACsIC0AfQhBAH0IAAAAAAAAAAAAAAAAEgAAAAMADQAUAAMAAAAB
AAAAADAAMABfACkOAAUAAgQAFAADAGVmBgAAAFsAJACsIC0AfQhBAH0IAAAAAAAAAAAAAAAAGAAA
AAMADQAUAAMAAAABAAAAADAAMABfACkOAAUAAgQAFAADAMxMBgAAAFsAJACsIC0AfQhBAH0IAAAA
AAAAAAAAAAAAHgAAAAMADQAUAAMAAAAAAAAAADAAMABfACkOAAUAAgQAFAADADIzBgAAAFsAJACs
IC0AfQhBAH0IAAAAAAAAAAAAAAAAJQAAAAMADQAUAAMAAAAAAAAAADAAMABfACkOAAUAAgQAFAAD
AAAABwAAAFsAJACsIC0AfQhBAH0IAAAAAAAAAAAAAAAAEwAAAAMADQAUAAMAAAABAAAAADAAMABf
ACkOAAUAAgQAFAADAGVmBwAAAFsAJACsIC0AfQhBAH0IAAAAAAAAAAAAAAAAGQAAAAMADQAUAAMA
AAABAAAAADAAMABfACkOAAUAAgQAFAADAMxMBwAAAFsAJACsIC0AfQhBAH0IAAAAAAAAAAAAAAAA
HwAAAAMADQAUAAMAAAAAAAAAADAAMABfACkOAAUAAgQAFAADADIzBwAAAFsAJACsIC0AfQhBAH0I
AAAAAAAAAAAAAAAAJgAAAAMADQAUAAMAAAAAAAAAADAAMABfACkOAAUAAgQAFAADAAAACAAAAFsA
JACsIC0AfQhBAH0IAAAAAAAAAAAAAAAAFAAAAAMADQAUAAMAAAABAAAAADAAMABfACkOAAUAAgQA
FAADAGVmCAAAAFsAJACsIC0AfQhBAH0IAAAAAAAAAAAAAAAAGgAAAAMADQAUAAMAAAABAAAAADAA
MABfACkOAAUAAgQAFAADAMxMCAAAAFsAJACsIC0AfQhBAH0IAAAAAAAAAAAAAAAAIAAAAAMADQAU
AAMAAAAAAAAAADAAMABfACkOAAUAAgQAFAADADIzCAAAAFsAJACsIC0AfQhBAH0IAAAAAAAAAAAA
AAAAJwAAAAMADQAUAAMAAAAAAAAAADAAMABfACkOAAUAAgQAFAADAAAACQAAAFsAJACsIC0AfQhB
AH0IAAAAAAAAAAAAAAAAFQAAAAMADQAUAAMAAAABAAAAADAAMABfACkOAAUAAgQAFAADAGVmCQAA
AFsAJACsIC0AfQhBAH0IAAAAAAAAAAAAAAAAGwAAAAMADQAUAAMAAAABAAAAADAAMABfACkOAAUA
AgQAFAADAMxMCQAAAFsAJACsIC0AfQhBAH0IAAAAAAAAAAAAAAAAIQAAAAMADQAUAAMAAAAAAAAA
ADAAMABfACkOAAUAAgQAFAADADIzCQAAAFsAJACsIC0AfQgtAH0IAAAAAAAAAAAAAAAAPwAAAAIA
DQAUAAMAAAABAAAAADAAMABfACkOAAUAAn0ILQB9CAAAAAAAAAAAAAAAAEAAAAACAA0AFAADAAAA
AQAAAAAwADAAXwApDgAFAAJ9CC0AfQgAAAAAAAAAAAAAAABBAAAAAgANABQAAwAAAAEAAAAAMAAw
AF8AKQ4ABQACfQgtAH0IAAAAAAAAAAAAAAAANQAAAAIADQAUAAMAAAAKAAAAADAAMABfACkOAAUA
An0ILQB9CAAAAAAAAAAAAAAAAEIAAAACAA0AFAADAAAAAQAAAAAwADAAXwApDgAFAAJ9CC0AfQgA
AAAAAAAAAAAAAABDAAAAAgANABQAAwAAAAEAAAAAMAAwAF8AKQ4ABQACfQgtAH0IAAAAAAAAAAAA
AAAARAAAAAIADQAUAAMAAAABAAAAADAAMABfACkOAAUAAn0ILQB9CAAAAAAAAAAAAAAAAEUAAAAC
AA0AFAADAAAAAQAAAAAwADAAXwApDgAFAAJ9CC0AfQgAAAAAAAAAAAAAAABGAAAAAgANABQAAwAA
AAEAAAAAMAAwAF8AKQ4ABQACfQgtAH0IAAAAAAAAAAAAAAAARwAAAAIADQAUAAMAAAABAAAAADAA
MABfACkOAAUAAn0ILQB9CAAAAAAAAAAAAAAAAEgAAAACAA0AFAADAAAAAQAAAAAwADAAXwApDgAF
AAJ9CC0AfQgAAAAAAAAAAAAAAABJAAAAAgANABQAAwAAAAEAAAAAMAAwAF8AKQ4ABQACkwISABAA
DQAAMjAlIC0gQWNjZW50MZIITQCSCAAAAAAAAAAAAAAFBB7/DQAyADAAJQAgAC0AIABBAGMAYwBl
AG4AdAAxAAAAAwABAAwABwRlZtzm8f8FAAwABwEAAAAAAP8lAAUAApMCEgARAA0AADIwJSAtIEFj
Y2VudDKSCE0AkggAAAAAAAAAAAAABQQi/w0AMgAwACUAIAAtACAAQQBjAGMAZQBuAHQAMgAAAAMA
AQAMAAcFZWby3Nv/BQAMAAcBAAAAAAD/JQAFAAKTAhIAEgANAAAyMCUgLSBBY2NlbnQzkghNAJII
AAAAAAAAAAAAAAUEJv8NADIAMAAlACAALQAgAEEAYwBjAGUAbgB0ADMAAAADAAEADAAHBmVm6/He
/wUADAAHAQAAAAAA/yUABQACkwISABMADQAAMjAlIC0gQWNjZW50NJIITQCSCAAAAAAAAAAAAAAF
BCr/DQAyADAAJQAgAC0AIABBAGMAYwBlAG4AdAA0AAAAAwABAAwABwdlZuTf7P8FAAwABwEAAAAA
AP8lAAUAApMCEgAUAA0AADIwJSAtIEFjY2VudDWSCE0AkggAAAAAAAAAAAAABQQu/w0AMgAwACUA
IAAtACAAQQBjAGMAZQBuAHQANQAAAAMAAQAMAAcIZWba7vP/BQAMAAcBAAAAAAD/JQAFAAKTAhIA
FQANAAAyMCUgLSBBY2NlbnQ2kghNAJIIAAAAAAAAAAAAAAUEMv8NADIAMAAlACAALQAgAEEAYwBj
AGUAbgB0ADYAAAADAAEADAAHCWVm/enZ/wUADAAHAQAAAAAA/yUABQACkwISABYADQAANDAlIC0g
QWNjZW50MZIITQCSCAAAAAAAAAAAAAAFBB//DQA0ADAAJQAgAC0AIABBAGMAYwBlAG4AdAAxAAAA
AwABAAwABwTMTLjM5P8FAAwABwEAAAAAAP8lAAUAApMCEgAXAA0AADQwJSAtIEFjY2VudDKSCE0A
kggAAAAAAAAAAAAABQQj/w0ANAAwACUAIAAtACAAQQBjAGMAZQBuAHQAMgAAAAMAAQAMAAcFzEzm
uLf/BQAMAAcBAAAAAAD/JQAFAAKTAhIAGAANAAA0MCUgLSBBY2NlbnQzkghNAJIIAAAAAAAAAAAA
AAUEJ/8NADQAMAAlACAALQAgAEEAYwBjAGUAbgB0ADMAAAADAAEADAAHBsxM2OS8/wUADAAHAQAA
AAAA/yUABQACkwISABkADQAANDAlIC0gQWNjZW50NJIITQCSCAAAAAAAAAAAAAAFBCv/DQA0ADAA
JQAgAC0AIABBAGMAYwBlAG4AdAA0AAAAAwABAAwABwfMTMzA2v8FAAwABwEAAAAAAP8lAAUAApMC
EgAaAA0AADQwJSAtIEFjY2VudDWSCE0AkggAAAAAAAAAAAAABQQv/w0ANAAwACUAIAAtACAAQQBj
AGMAZQBuAHQANQAAAAMAAQAMAAcIzEy33uj/BQAMAAcBAAAAAAD/JQAFAAKTAhIAGwANAAA0MCUg
LSBBY2NlbnQ2kghNAJIIAAAAAAAAAAAAAAUEM/8NADQAMAAlACAALQAgAEEAYwBjAGUAbgB0ADYA
AAADAAEADAAHCcxM/NW0/wUADAAHAQAAAAAA/yUABQACkwISABwADQAANjAlIC0gQWNjZW50MZII
TQCSCAAAAAAAAAAAAAAFBCD/DQA2ADAAJQAgAC0AIABBAGMAYwBlAG4AdAAxAAAAAwABAAwABwQy
M5Wz1/8FAAwABwAAAP////8lAAUAApMCEgAdAA0AADYwJSAtIEFjY2VudDKSCE0AkggAAAAAAAAA
AAAABQQk/w0ANgAwACUAIAAtACAAQQBjAGMAZQBuAHQAMgAAAAMAAQAMAAcFMjPalpT/BQAMAAcA
AAD/////JQAFAAKTAhIAHgANAAA2MCUgLSBBY2NlbnQzkghNAJIIAAAAAAAAAAAAAAUEKP8NADYA
MAAlACAALQAgAEEAYwBjAGUAbgB0ADMAAAADAAEADAAHBjIzxNeb/wUADAAHAAAA/////yUABQAC
kwISAB8ADQAANjAlIC0gQWNjZW50NJIITQCSCAAAAAAAAAAAAAAFBCz/DQA2ADAAJQAgAC0AIABB
AGMAYwBlAG4AdAA0AAAAAwABAAwABwcyM7Ggx/8FAAwABwAAAP////8lAAUAApMCEgAgAA0AADYw
JSAtIEFjY2VudDWSCE0AkggAAAAAAAAAAAAABQQw/w0ANgAwACUAIAAtACAAQQBjAGMAZQBuAHQA
NQAAAAMAAQAMAAcIMjOSzdz/BQAMAAcAAAD/////JQAFAAKTAhIAIQANAAA2MCUgLSBBY2NlbnQ2
kghNAJIIAAAAAAAAAAAAAAUENP8NADYAMAAlACAALQAgAEEAYwBjAGUAbgB0ADYAAAADAAEADAAH
CTIz+r+P/wUADAAHAAAA/////yUABQACkwIMACIABwAAQWNjZW50MZIIQQCSCAAAAAAAAAAAAAAF
BB3/BwBBAGMAYwBlAG4AdAAxAAAAAwABAAwABwQAAE+Bvf8FAAwABwAAAP////8lAAUAApMCDAAj
AAcAAEFjY2VudDKSCEEAkggAAAAAAAAAAAAABQQh/wcAQQBjAGMAZQBuAHQAMgAAAAMAAQAMAAcF
AADAUE3/BQAMAAcAAAD/////JQAFAAKTAgwAJAAHAABBY2NlbnQzkghBAJIIAAAAAAAAAAAAAAUE
Jf8HAEEAYwBjAGUAbgB0ADMAAAADAAEADAAHBgAAm7tZ/wUADAAHAAAA/////yUABQACkwIMACUA
BwAAQWNjZW50NJIIQQCSCAAAAAAAAAAAAAAFBCn/BwBBAGMAYwBlAG4AdAA0AAAAAwABAAwABwcA
AIBkov8FAAwABwAAAP////8lAAUAApMCDAAmAAcAAEFjY2VudDWSCEEAkggAAAAAAAAAAAAABQQt
/wcAQQBjAGMAZQBuAHQANQAAAAMAAQAMAAcIAABLrMb/BQAMAAcAAAD/////JQAFAAKTAgwAJwAH
AABBY2NlbnQ2kghBAJIIAAAAAAAAAAAAAAUEMf8HAEEAYwBjAGUAbgB0ADYAAAADAAEADAAHCQAA
95ZG/wUADAAHAAAA/////yUABQACkwIIACgAAwAAQmFkkgg5AJIIAAAAAAAAAAAAAAUBG/8DAEIA
YQBkAAAAAwABAAwABf8AAP/Hzv8FAAwABf8AAJwABv8lAAUAApMCEAApAAsAAENhbGN1bGF0aW9u
kgiBAJIIAAAAAAAAAAAAAAUCFv8LAEMAYQBsAGMAdQBsAGEAdABpAG8AbgAAAAcAAQAMAAX/AADy
8vL/BQAMAAX/AAD6fQD/JQAFAAIGAA4ABf8AAH9/f/8BAAcADgAF/wAAf39//wEACAAOAAX/AAB/
f3//AQAJAA4ABf8AAH9/f/8BAJMCDwAqAAoAAENoZWNrIENlbGySCH8AkggAAAAAAAAAAAAABQIX
/woAQwBoAGUAYwBrACAAQwBlAGwAbAAAAAcAAQAMAAX/AAClpaX/BQAMAAcAAAD/////JQAFAAIG
AA4ABf8AAD8/P/8GAAcADgAF/wAAPz8//wYACAAOAAX/AAA/Pz//BgAJAA4ABf8AAD8/P/8GAJMC
BAArgAP/kgggAJIIAAAAAAAAAAAAAAEFA/8FAEMAbwBtAG0AYQAAAAAAkwIEACyABv+SCCgAkggA
AAAAAAAAAAAAAQUG/wkAQwBvAG0AbQBhACAAWwAwAF0AAAAAAJMCBAAtgAT/kggmAJIIAAAAAAAA
AAAAAAEFBP8IAEMAdQByAHIAZQBuAGMAeQAAAAAAkwIEAC6AB/+SCC4AkggAAAAAAAAAAAAAAQUH
/wwAQwB1AHIAcgBlAG4AYwB5ACAAWwAwAF0AAAAAAJMCFQAvABAAAEV4cGxhbmF0b3J5IFRleHSS
CEcAkggAAAAAAAAAAAAABQI1/xAARQB4AHAAbABhAG4AYQB0AG8AcgB5ACAAVABlAHgAdAAAAAIA
BQAMAAX/AAB/f3//JQAFAAKTAgkAMAAEAABHb29kkgg7AJIIAAAAAAAAAAAAAAUBGv8EAEcAbwBv
AGQAAAADAAEADAAF/wAAxu/O/wUADAAF/wAAAGEA/yUABQACkwIOADEACQAASGVhZGluZyAxkghH
AJIIAAAAAAAAAAAAAAUDEP8JAEgAZQBhAGQAaQBuAGcAIAAxAAAAAwAFAAwABwMAAB9Jff8lAAUA
AgcADgAHBAAAT4G9/wUAkwIOADIACQAASGVhZGluZyAykghHAJIIAAAAAAAAAAAAAAUDEf8JAEgA
ZQBhAGQAaQBuAGcAIAAyAAAAAwAFAAwABwMAAB9Jff8lAAUAAgcADgAHBP8/p7/e/wUAkwIOADMA
CQAASGVhZGluZyAzkghHAJIIAAAAAAAAAAAAAAUDEv8JAEgAZQBhAGQAaQBuAGcAIAAzAAAAAwAF
AAwABwMAAB9Jff8lAAUAAgcADgAHBDIzlbPX/wIAkwIOADQACQAASGVhZGluZyA0kgg5AJIIAAAA
AAAAAAAAAAUDE/8JAEgAZQBhAGQAaQBuAGcAIAA0AAAAAgAFAAwABwMAAB9Jff8lAAUAApMCBAA1
gAj/kgg5AJIIAAAAAAAAAAAAAAECCP8JAEgAeQBwAGUAcgBsAGkAbgBrAAAAAgAFAAwABwoAAAAA
//8lAAUAApMCCgA2AAUAAElucHV0kgh1AJIIAAAAAAAAAAAAAAUCFP8FAEkAbgBwAHUAdAAAAAcA
AQAMAAX/AAD/zJn/BQAMAAX/AAA/P3b/JQAFAAIGAA4ABf8AAH9/f/8BAAcADgAF/wAAf39//wEA
CAAOAAX/AAB/f3//AQAJAA4ABf8AAH9/f/8BAJMCEAA3AAsAAExpbmtlZCBDZWxskghLAJIIAAAA
AAAAAAAAAAUCGP8LAEwAaQBuAGsAZQBkACAAQwBlAGwAbAAAAAMABQAMAAX/AAD6fQD/JQAFAAIH
AA4ABf8AAP+AAf8GAJMCDAA4AAcAAE5ldXRyYWySCEEAkggAAAAAAAAAAAAABQEc/wcATgBlAHUA
dAByAGEAbAAAAAMAAQAMAAX/AAD/65z/BQAMAAX/AACcZQD/JQAFAAKTAgQAAIAA/5IIMwCSCAAA
AAAAAAAAAAABAQD/BgBOAG8AcgBtAGEAbAAAAAIABQAMAAcBAAAAAAD/JQAFAAKTAgkAOQAEAABO
b3RlkghiAJIIAAAAAAAAAAAAAAUCCv8EAE4AbwB0AGUAAAAFAAEADAAF/wAA///M/wYADgAF/wAA
srKy/wEABwAOAAX/AACysrL/AQAIAA4ABf8AALKysv8BAAkADgAF/wAAsrKy/wEAkwILADoABgAA
T3V0cHV0kgh3AJIIAAAAAAAAAAAAAAUCFf8GAE8AdQB0AHAAdQB0AAAABwABAAwABf8AAPLy8v8F
AAwABf8AAD8/P/8lAAUAAgYADgAF/wAAPz8//wEABwAOAAX/AAA/Pz//AQAIAA4ABf8AAD8/P/8B
AAkADgAF/wAAPz8//wEAkwIEADuABf+SCCQAkggAAAAAAAAAAAAAAQUF/wcAUABlAHIAYwBlAG4A
dAAAAAAAkwIKADwABQAAVGl0bGWSCDEAkggAAAAAAAAAAAAABQMP/wUAVABpAHQAbABlAAAAAgAF
AAwABwMAAB9Jff8lAAUAAZMCCgA9AAUAAFRvdGFskghNAJIIAAAAAAAAAAAAAAUDGf8FAFQAbwB0
AGEAbAAAAAQABQAMAAcBAAAAAAD/JQAFAAIGAA4ABwQAAE+Bvf8BAAcADgAHBAAAT4G9/wYAkwIR
AD4ADAAAV2FybmluZyBUZXh0kgg/AJIIAAAAAAAAAAAAAAUCC/8MAFcAYQByAG4AaQBuAGcAIABU
AGUAeAB0AAAAAgAFAAwABf8AAP8AAP8lAAUAAo4IWACOCAAAAAAAAAAAAACQAAAAEQARAFQAYQBi
AGwAZQBTAHQAeQBsAGUATQBlAGQAaQB1AG0AMgBQAGkAdgBvAHQAUwB0AHkAbABlAEwAaQBnAGgA
dAAxADYAYAECAAAAhQAnAHo8AAAAAB8ATHVjZW5lIFNvbHIgU291cmNlIFBvbGwgUmVzdWx0c5oI
GACaCAAAAAAAAAAAAAABAAAAAAAAAAQAAACjCBAAowgAAAAAAAAAAAAAAAAAAIwABAABAAEAwQEI
AMEBAACNNAIA/AB2CD0BAABgAAAACwAAQVNGIE1pcnJvcnMQAABNYXZlbiBSZXBvc2l0b3J5BQAA
T3RoZXINAABNYXJrdXMgSmVsc21hDgAATHVrYSBTb2phbm92aWMBAABYEgAARGF0ZS9UaW1lIChV
UyBFU1QpDwAAR3JhbnQgSW5nZXJzb2xsEQAAUGF0cmljayBTYW1ib3Jza2kMAABSeWFuIEF5bHdh
cmQLAABHbGVuIE5ld3RvbhMAAFBoaWxpcCBQdWZmaW5idXJnZXINAABTdGV2ZW4gQSBSb3dlCQAA
RWFybCBIb29kEQAASGFyZHkgRmVyZW50c2NoaWsPAABCZWF0cml6IE5vbWJlbGEHAABJYW4gTGVl
DQAAUnlhbiBNY0tpbmxleREAAEx1a2FzIEthaHdlIFNtaXRoDAAAQWhtZXQgQXJzbGFuEwAAQ2hy
aXN0b3BoZXIgU3QgSm9obgwAAENyaXN0aWFuIFZhdA8AAFRvbW1hc28gVGVvZmlsaQoAAENocmlz
IE1hbGUMAABCaWxsIEphbnNzZW4PAABCcmlnaHRNaW5kcyBEZXYQAABTaXRodSBEIFN1ZGFyc2Fu
BgAAcm9ibyAtEAAAQ2hyaXMgQSBNYXR0bWFubg0AAEZhYmlhbm8gTnVuZXMQAABPdGlzIEdvc3Bv
ZG5ldGljBgAAQW5zaHVtDQAAV291dGVyIEhlaWprZQoAAEphbiBFbmdsZXIMAABQ6XRlciBLaXLh
bHlBAABJIHJhcmVseSBidWlsZCwgb25seSBpZiBJIHdvdWxkIGxpa2UgdG8gdHJ5IGFuIGludGVy
ZXN0aW5nIHBhdGNoLgcAAENvbW1lbnQOAABQYXVsIExpYmJyZWNodOgAAEZvciB0aGUgbGFzdCBv
bmUgdGhhdCBkb2Vzbid0IHNlZW0gcG9wdWxhcjogd2Ugc3VyZSBzaGlwIEx1Y2VuZSB3aXRoIGJp
bmFyeSBkZWxpdmVyaWVzIHNvIGFueW9uZSBpbiB0aGUgY29tcGFueSB1c2luZyBiaW5hcmllcyB1
c2VzIHRoYXQuIE1vcmVvdmVyIHdlIGRvIHN0b3JlIGx1Y2VuZSBqYXJzIGluIENWUyBmb3Igb2xk
ZXIgYnVpbGQtc3lzdGVtcy4gSSdtIHN1cmUgbW9zdCBvdGhlcnMgZG8gdGhhdC4MAABJdmFuIFZh
c2lsZXYLAABEYWFuIGRlIFdpdA8AAEhlaWtraSBEb2VsZW1hbg8AAERhd24gWm/rIFJhaXNvbhQA
AFBhbmFnaW90aXMgVmxpc3NpZGlzCwAAS2FybCBXZXR0aW4RAABCdWlsZCBmcm9tIFNvdXJjZWoA
CAQATWF2ZW4gUmVwb3NpdG9yeTogVmlhIHJlcG8xIHVzaW5nIE1hdmVuIGZvciBzdGFibGUgYnVp
bGRzOyBCdWlsZCBmcm9tIFNvdXJjZTogRm9yIHRydW5rIGFuZCBicmFuY2ggYnVpbGRzLgAAFAAQ
AAAAOwAUAEwAAAAMAABQaWVycmUgR09TU0UOAABSYWZhZWwgUm9zc2luaQsAAEplbnMgV2lsbWVy
EAAAamF2YS11c2VyIEBsLmEubxAAAHNvbHItdXNlciBAbC5hLm8KAABkZXYgQGwuYS5vGAAAQWxl
a3NhbmRhciBTdG9pc2F2bGpldmljCwAAY24ubWluZ3l1YW4JAAB2aXJ1c2x2aXYLAABZdWhhbiBa
aGFuZwcAAE4uIEhpcmERAABK/HJnZW4gSmFrb2JpdHNjaAwAAFN0ZWZhbiBUcmNlaxUAAFRvbeFz
IEZlcm7hbmRleiBM9mJiZRAAAEJyZW5kYW4gR3JhaW5nZXINAABNaWtlIEFuZGVyc29uEgAAS2hv
c3JvIEFzZ2hhcmlmYXJkDAAAVW1lc2ggUHJhc2FkCgAASmFtZXMgRHllcg0AAEpha2UgQnJvd25l
bGwMAAA1IERpYW1vbmQgSVQKAABUaGlqcyBWb25rCAAAY2Jlbm5ldHQJAABFcmljIFB1Z2jHAABE
ZXBlbmRpbmcgb24gdGhlIHByb2plY3QsIEkgZWl0aGVyIHB1bGwgZnJvbSBBU0YgTWlycm9ycyBv
ciBTb3VyY2UuICBIb3dldmVyLCBJIGRvIHJlZmVyZW5jZSBNYXZlbiByZXBvc2l0b3J5IHdoZW4g
d3JpdGluZyBKYXZhIGNvZGUgdGhhdCBpcyBidWlsdCBieSBNYXZlbi4gIEFuZCBpdCdzIG9mdGVu
IGEgcGFpbiBnZXR0aW5nIGl0IHRvIHdvcmshDgAAS29qaSBTZWtpZ3VjaGkMAABQZXRlciBLYXJp
Y2gOAABUb2tlIEVza2lsZHNlbg4AAFN0ZXBoZW4gQm9lc2NoDAABUwB0AGUAdgBvACAAUwBsAGEA
dgBpAAcBDAAAR29yYSBNb2hhbnR5CQAAU2FyYXRoIFBTCgAAUGFpZ2UgQ29vawwAAE1hdHRoZXcg
SGFsbBMAAE1hcnRpam4gdiBHcm9uaW5nZW4QAABNYXR0aGlhcyBFcGhlc2VyEgAARXplcXVpZWwg
Q2FsZGVyYXJhDAAARmxvcmlhbiBIb3BmCwAASnVhbiBHcmFuZGULAABUaW0gR2lsYmVydA0AAExh
bmNlIE5vcnNrb2dPAABUaGUgSmFyIEZhaXJ5IGJyaW5ncyB0aGVtIGluIHRoZSBuaWdodCwgd2hl
biBhbGwgdGhlIGNoaWxkcmVuIGFyZSBzb3VuZCBhc2xlZXAuCgAAU2FtaSBTaXJlbg0AAEphbi1P
bGF2IEVpZGUJAABSb24gTWF5ZXIJAABEYXJ4IE9tYW4HAABDb3VudHM6DAAAUGVyY2VudGFnZXM6
CgAAUmVzcG9uZGVudP8AYgAIAEwzAAAMAAAAwTMAAIEAAABKNAAACgEAAMs0AACLAQAARzUAAAcC
AADMNgAAjAMAAMU3AACFBAAATDgAAAwFAADXOAAAlwUAAAA6AADABgAAhToAAEUHAAANOwAAzQcA
AGMIFgBjCAAAAAAAAAAAAAAWAAAAAAAAAAIAlggQAJYIAAAAAAAAAAAAAELlAQCbCBAAmwgAAAAA
AAAAAAAAAQAAAIwIEACMCAAAAAAAAAAAAAAAAAAACgAAAAkIEAAABhAAZjLNB8GAAQAGBgAACwIc
AAAAAAAAAAAAUQAAABplAAAhcQAAWX0AAI2EAAANAAIAAQAMAAIAZAAPAAIAAQARAAIAAAAQAAgA
/Knx0k1iUD9fAAIAAQAqAAIAAAArAAIAAACCAAIAAQCAAAgAAAAAAAAAAAAlAgQAAAAsAYEAAgDB
BBQAAAAVAAAAgwACAAAAhAACAAAAJgAIAGZmZmZmZuY/JwAIAGZmZmZmZuY/KAAIAAAAAAAAAOg/
KQAIAAAAAAAAAOg/TQAgIAAAQwBOAEwAUAAgAEQAZQBsAGwAIAAyADMAMwAwAGQAbgAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEEAAbcAJwmQ/+ABwEAAQDqCm8IZAABAA8AWAIBAAEA
WAICAAEATABlAHQAdABlAHIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAgAAACwBAAD/////AAAAAAAA
AAAAAAAAAAAAAERJTlUiADgDdAUoIW+BfYEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIgAA
AAEAAAAAAAAAAAAAAAEAAAAAAAAAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AQAAAAAAAAAAAAAAOAMAAFNNVEoAAAAAEAAoA0QAZQBsAGwAIAAyADMAMwAwAGQAbgAgAEwAYQBz
AGUAcgAgAFAAcgBpAG4AdABlAHIAIABYAEwAAABJbnB1dEJpbgBBdXRvU2VsZWN0AFJFU0RMTABV
bmlyZXNETEwAQ29sb3JNb2RlAE1vbm8AUHJpbnRlckxpbWl0AE9OAFBhcGVyRmVlZFR5cGUAQ2Vu
dGVyRmVlZABPcmllbnRhdGlvbgBQT1JUUkFJVABSZXNvbHV0aW9uADEyMDBJUQBCb29rbGV0SW5w
dXRCaW4AQXV0b1NlbGVjdABEdXBsZXgATk9ORQBCYXNpY0xheW91dABPbgBCb29rbGV0Tm9Db3Zl
cgBPZmYAQm9va2xldEZGcm9udENvdmVyAE9mZgBCb29rbGV0QkZyb250Q292ZXIAT2ZmAEJvb2ts
ZXRGQmFja0NvdmVyAE9mZgBCb29rbGV0QkJhY2tDb3ZlcgBPZmYAT3V0cHV0QmluAFN0YW5kYXJk
QmluAENvbGxhdGUAT0ZGAFRvbmVyRGFya25lc3MAUHJpbnRlclNldHRpbmcAUGljdHVyZUdyYWRl
AFByaW50ZXJTZXR0aW5nAFByaW50QW5kSG9sZABUUlVFAEhhc0tlZXBQcmV2aW91c1BISm9icwBU
UlVFAEFkdmFuY2VkQm9vb2tsZXRBbGdvcml0aG0AVFJVRQBTdGF0dXNXaW5kb3cAVFJVRQBTaG93
U3RhdHVzV2luZG93QWZ0ZXJQcmludGluZwBUUlVFAEhhc1ByaW50UXVhbGl0eQBUUlVFAEhhc01h
bnVhbENvbG9yAFRSVUUAQml0bWFwSUQANTcATmV3RHVwbGV4AFRSVUUAUGl4ZWxCb29zdABUUlVF
AFBhcGVyU2l6ZQBMRVRURVIATWVkaWFUeXBlAFVzZVByaW50ZXJEZWZhdWx0AEJvb2tsZXRNZWRp
YVR5cGUAVXNlUHJpbnRlckRlZmF1bHQARGl0aGVyAExPUVVBTElUWQBUcnVlVHlwZUZvcm1hdABP
VVRMSU5FAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoIQAAS01YTAEAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEEAcgBp
AGEAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AEgAAAAAAAAAAAAAAGQAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQQByAGkA
YQBsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
SAAAAAAAAAAAAAAAZAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8AFoHAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAVQBzAGUAUwBhAG0AZQBTAGkAegBlAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKEAIgABAGQAAQABAAEAAgBYAlgC
MzMzMzMz0z8zMzMzMzPTPwEAnAgmAJwIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8MwAAAAAA
AAAAVQACAAgAfQAMAAAAAAAkFkAAAgAAAH0ADAABAAMA2whBAAIAAAB9AAwABAAEAEkTRgACAAAA
fQAMAAUACABJCkEAAgAAAH0ADAAJAAkAtidEAAIAAACQABEAAAAKAAAAKENvbHVtbiBBKQAAAg4A
AAAAAFEAAAAAAAoAAAAIAhAAAAAAAAoAWAIAAAAAwAE/AAgCEAABAAAACgAsAQAAAAAAAQ8ACAIQ
AAIAAAAKACwBAAAAAAABDwAIAhAAAwAAAAoALAEAAAAAAAEPAAgCEAAEAAAACgAsAQAAAAAAAQ8A
CAIQAAUAAAAKACwBAAAAAAABDwAIAhAABgAAAAoALAEAAAAAAAEPAAgCEAAHAAAACgAsAQAAAAAA
AQ8ACAIQAAgAAAAKACwBAAAAAAABDwAIAhAACQAAAAoALAEAAAAAAAEPAAgCEAAKAAAACgAsAQAA
AAAAAQ8ACAIQAAsAAAAKACwBAAAAAAABDwAIAhAADAAAAAoALAEAAAAAAAEPAAgCEAANAAAACgAs
AQAAAAAAAQ8ACAIQAA4AAAAKACwBAAAAAAABDwAIAhAADwAAAAoALAEAAAAAAAEPAAgCEAAQAAAA
CgAsAQAAAAAAAQ8ACAIQABEAAAAKACwBAAAAAAABDwAIAhAAEgAAAAoALAEAAAAAAAEPAAgCEAAT
AAAACgDcBQAAAAAAAQ8ACAIQABQAAAAKACwBAAAAAAABDwAIAhAAFQAAAAoALAEAAAAAAAEPAAgC
EAAWAAAACgAsAQAAAAAAAQ8ACAIQABcAAAAKACwBAAAAAAABDwAIAhAAGAAAAAoALAEAAAAAAAEP
AAgCEAAZAAAACgAsAQAAAAAAAQ8ACAIQABoAAAAKACwBAAAAAAABDwAIAhAAGwAAAAoALAEAAAAA
AAEPAAgCEAAcAAAACgAsAQAAAAAAAQ8ACAIQAB0AAAAKACwBAAAAAAABDwAIAhAAHgAAAAoALAEA
AAAAAAEPAAgCEAAfAAAACgAsAQAAAAAAAQ8A/QAKAAAAAAA/AF8AAAD9AAoAAAABAD8AMgAAAP0A
CgAAAAIAPwAzAAAA/QAKAAAAAwA/ADQAAAD9AAoAAAAEAEIABgAAAP0ACgAAAAUAPwAAAAAA/QAK
AAAABgA/AAEAAAD9AAoAAAAHAD8ALQAAAP0ACgAAAAgAPwACAAAA/QAKAAAACQA/ACQAAAD9AAoA
AQAAAEAAQwAAAP0ACgABAAIAQQAFAAAAAwIOAAEABABGAPVJn/Q1zuNA/QAKAAEABQBBAAUAAAD9
AAoAAgAAAEAAEwAAAP0ACgACAAEAQQAFAAAA/QAKAAIAAgBBAAUAAAADAg4AAgAEAEYAVVVVVTfO
40D9AAoAAgAGAEEABQAAAP0ACgADAAAAQAA1AAAA/QAKAAMAAwBBAAUAAAADAg4AAwAEAEYA7+7u
7kvO40D9AAoAAwAGAEEABQAAAP0ACgAEAAAAQAAfAAAA/QAKAAQAAQBBAAUAAAADAg4ABAAEAEYA
fdInfUHO40D9AAoABAAFAEEABQAAAP0ACgAEAAcAQQAFAAAA/QAKAAUAAABAAA8AAAD9AAoABQAB
AEEABQAAAP0ACgAFAAIAQQAFAAAAAwIOAAUABABGADMzMzM2zuNA/QAKAAUABgBBAAUAAAD9AAoA
BgAAAEAAGAAAAP0ACgAGAAEAQQAFAAAA/QAKAAYAAgBBAAUAAAB+AgoABgAEAEYAOM7jQP0ACgAG
AAUAQQAFAAAA/QAKAAYABwBBAAUAAAD9AAoABwAAAEAAPQAAAP0ACgAHAAEAQQAFAAAA/QAKAAcA
AgBBAAUAAAADAg4ABwAEAEYAd3d3d3HO40D9AAoABwAGAEEABQAAAP0ACgAIAAAAQAAZAAAA/QAK
AAgAAQBBAAUAAAADAg4ACAAEAEYAUPqkTzjO40D9AAoACAAGAEEABQAAAP0ACgAJAAAAQABFAAAA
/QAKAAkAAgBBAAUAAAADAg4ACQAEAEYALtiCLTbO40D9AAoACQAFAEEABQAAAP0ACgAJAAcAQQAF
AAAA/QAKAAoAAABAABwAAAD9AAoACgABAEEABQAAAP0ACgAKAAIAQQAFAAAAAwIOAAoABABGAPVJ
n/Q8zuNA/QAKAAoABgBBAAUAAAD9AAoACwAAAEAAFwAAAP0ACgALAAEAQQAFAAAA/QAKAAsAAgBB
AAUAAAADAg4ACwAEAEYA3t3d3TfO40D9AAoACwAFAEEABQAAAP0ACgALAAYAQQAFAAAA/QAKAAwA
AABAABQAAAD9AAoADAABAEEABQAAAAMCDgAMAAQARgBbsAVbN87jQP0ACgAMAAYAQQAFAAAA/QAK
AA0AAABAADYAAAD9AAoADQABAEEABQAAAAMCDgANAAQARgByHMdxS87jQP0ACgANAAUAQQAFAAAA
/QAKAA4AAABAABUAAAD9AAoADgABAEEABQAAAAMCDgAOAAQARgB3d3d3N87jQP0ACgAOAAUAQQAF
AAAA/QAKAA8AAABAACgAAAD9AAoADwABAEEABQAAAAMCDgAPAAQARgBERERERs7jQP0ACgAPAAYA
QQAFAAAA/QAKABAAAABAAFwAAAD9AAoAEAACAEEABQAAAAMCDgAQAAQARgDYgi3YDtDjQP0ACgAQ
AAUAQQAFAAAA/QAKABAABwBBAAUAAAD9AAoAEQAAAEAAKgAAAP0ACgARAAEAQQAFAAAAAwIOABEA
BABGAMdxHMdGzuNA/QAKABEABQBBAAUAAAD9AAoAEgAAAEAADQAAAP0ACgASAAEAQQAFAAAAAwIO
ABIABABGACIiIiI2zuNA/QAKABIABQBBAAUAAAD9AAoAEwAAAEAARgAAAP0ACgATAAIAQQAFAAAA
AwIOABMABABGAD/pkz42zuNA/QAKABMABQBBAAUAAAD9AAoAEwAGAEEABQAAAP0ACgATAAcAQQAF
AAAA/QAKABMACQBFAEcAAAD9AAoAFAAAAEAAUwAAAP0ACgAUAAIAQQAFAAAAAwIOABQABABGAPqk
T/qKzuNA/QAKABQABQBBAAUAAAD9AAoAFAAIAEEABQAAAAECBgAUAAkARQD9AAoAFQAAAEAAHQAA
AP0ACgAVAAEAQQAFAAAAAwIOABUABABGAN7d3d0+zuNA/QAKABUABgBBAAUAAAD9AAoAFgAAAEAA
VAAAAP0ACgAWAAIAQQAFAAAAAwIOABYABABGAFD6pE+LzuNA/QAKABYABgBBAAUAAAD9AAoAFgAH
AEEABQAAAP0ACgAXAAAAQAAKAAAA/QAKABcAAQBBAAUAAAD9AAoAFwACAEEABQAAAAMCDgAXAAQA
RgDkOI7jNc7jQP0ACgAXAAUAQQAFAAAA/QAKABgAAABAAE0AAAD9AAoAGAACAEEABQAAAAMCDgAY
AAQARgDNzMzMQc7jQP0ACgAYAAUAQQAFAAAA/QAKABgABwBBAAUAAAD9AAoAGQAAAEAABwAAAP0A
CgAZAAEAQQAFAAAA/QAKABkAAgBBAAUAAAADAg4AGQAEAEYAn/RJnzXO40D9AAoAGQAGAEEABQAA
AP0ACgAZAAcAQQAFAAAA/QAKABoAAABAAA4AAAD9AAoAGgABAEEABQAAAAMCDgAaAAQARgAiIiIi
Ns7jQP0ACgAaAAYAQQAFAAAA/QAKABsAAABDACkAAAD9AAoAGwABAEEABQAAAAMCDgAbAAQARgCf
9EmfRs7jQP0ACgAbAAYAQQAFAAAA/QAKABwAAABAABAAAAD9AAoAHAABAEEABQAAAAMCDgAcAAQA
RgA/6ZM+Ns7jQP0ACgAcAAUAQQAFAAAA/QAKAB0AAABAACcAAAD9AAoAHQABAEEABQAAAAMCDgAd
AAQARgBERERERc7jQP0ACgAdAAUAQQAFAAAA/QAKAB0ABwBBAAUAAAD9AAoAHgAAAEAAQgAAAP0A
CgAeAAIAQQAFAAAAAwIOAB4ABABGAMEWbME1zuNA/QAKAB4ABgBBAAUAAAD9AAoAHwAAAEAAQQAA
AP0ACgAfAAIAQQAFAAAAAwIOAB8ABABGAJQ+6ZM1zuNA/QAKAB8ABQBBAAUAAAD9AAoAHwAHAEEA
BQAAANcARACKCwAAbAKMADwASgA8AEoASgBUAEoAPABKAEoAWAA8ADwAPAA8AEoAPAA8AGYAVAA8
AEoASgBKAFgAPAA8ADwASgA8AAgCEAAgAAAACgAsAQAAAAAAAQ8ACAIQACEAAAAKACwBAAAAAAAB
DwAIAhAAIgAAAAoALAEAAAAAAAEPAAgCEAAjAAAACgAsAQAAAAAAAQ8ACAIQACQAAAAKACwBAAAA
AAABDwAIAhAAJQAAAAoAhAMAAAAAAAEPAAgCEAAmAAAACgAsAQAAAAAAAQ8ACAIQACcAAAAKACwB
AAAAAAABDwAIAhAAKAAAAAoAWAIAAAAAAAEPAAgCEAApAAAACgAsAQAAAAAAAQ8ACAIQACoAAAAK
ACwBAAAAAAABDwAIAhAAKwAAAAoALAEAAAAAAAEPAAgCEAAsAAAACgAsAQAAAAAAAQ8ACAIQAC0A
AAAKACwBAAAAAAABDwAIAhAALgAAAAoALAEAAAAAAAEPAAgCEAAvAAAACgAsAQAAAAAAAQ8ACAIQ
ADAAAAAKACwBAAAAAAABDwAIAhAAMQAAAAoALAEAAAAAAAEPAAgCEAAyAAAACgAsAQAAAAAAAQ8A
CAIQADMAAAAKACwBAAAAAAABDwAIAhAANAAAAAoALAEAAAAAAAEPAAgCEAA1AAAACgAIBwAAAAAA
AQ8ACAIQADYAAAAKACwBAAAAAAABDwAIAhAANwAAAAoAWAIAAAAAAAEPAAgCEAA4AAAACgAsAQAA
AAAAAQ8ACAIQADkAAAAKACwBAAAAAAABDwAIAhAAOgAAAAoALAEAAAAAAAEPAAgCEAA7AAAACgAs
AQAAAAAAAQ8ACAIQADwAAAAKACwBAAAAAAABDwAIAhAAPQAAAAoALAEAAAAAAAEPAAgCEAA+AAAA
CgAsAQAAAAAAAQ8ACAIQAD8AAAAKACwBAAAAAAABDwD9AAoAIAAAAEAAIQAAAP0ACgAgAAEAQQAF
AAAAAwIOACAABABGAHIcx3FEzuNA/QAKACAABQBBAAUAAAD9AAoAIAAGAEEABQAAAP0ACgAhAAAA
QABaAAAA/QAKACEAAgBBAAUAAAADAg4AIQAEAEYAOY7jOLDO40D9AAoAIQAGAEEABQAAAP0ACgAi
AAAAQAAxAAAA/QAKACIAAwBBAAUAAAADAg4AIgAEAEYASp/0SUvO40D9AAoAIgAGAEEABQAAAP0A
CgAjAAAAQABVAAAA/QAKACMAAgBBAAUAAAADAg4AIwAEAEYA5DiO443O40D9AAoAIwAGAEEABQAA
AP0ACgAjAAcAQQAFAAAA/QAKACQAAABAADoAAAD9AAoAJAABAEEABQAAAP0ACgAkAAIAQQAFAAAA
fgIKACQABABGAGTO40D9AAoAJAAGAEEABQAAAP0ACgAkAAcAQQAFAAAA/QAKACUAAABAACwAAAD9
AAoAJQABAEEABQAAAAMCDgAlAAQARgCDLdiCSM7jQP0ACgAlAAYAQQAFAAAA/QAKACUABwBBAAUA
AAD9AAoAJQAJAEQALgAAAP0ACgAmAAAAQAA/AAAA/QAKACYAAQBBAAUAAAD9AAoAJgACAEEABQAA
AAMCDgAmAAQARgDBFmzBoc7jQP0ACgAmAAUAQQAFAAAA/QAKACYABwBBAAUAAAD9AAoAJwAAAEAA
SAAAAP0ACgAnAAIAQQAFAAAAAwIOACcABABGACIiIiI3zuNA/QAKACcABQBBAAUAAAD9AAoAJwAH
AEEABQAAAP0ACgAoAAAAQABXAAAA/QAKACgAAgBBAAUAAAADAg4AKAAEAEYA6ZM+6aPO40D9AAoA
KAAJAEQAWAAAAP0ACgApAAAAQAAEAAAA/QAKACkAAQBBAAUAAAADAg4AKQAEAEYAiYiIiDXO40D9
AAoAKQAGAEEABQAAAP0ACgAqAAAAQAASAAAA/QAKACoAAQBBAAUAAAD9AAoAKgACAEEABQAAAAMC
DgAqAAQARgBhC7ZgNs7jQP0ACgAqAAUAQQAFAAAA/QAKACoABwBBAAUAAAD9AAoAKwAAAEAAAwAA
AP0ACgArAAEAQQAFAAAA/QAKACsAAgBBAAUAAAADAg4AKwAEAEYAgy3YgjXO40D9AAoAKwAFAEEA
BQAAAP0ACgArAAcAQQAFAAAA/QAKACwAAABAAFEAAAD9AAoALAACAEEABQAAAAMCDgAsAAQARgD1
SZ/0Ts7jQP0ACgAsAAYAQQAFAAAA/QAKACwABwBBAAUAAAD9AAoALQAAAEAAUAAAAP0ACgAtAAIA
QQAFAAAAAwIOAC0ABABGAPqkT/pLzuNA/QAKAC0ABQBBAAUAAAD9AAoALgAAAEAAUgAAAP0ACgAu
AAIAQQAFAAAAAwIOAC4ABABGAFD6pE9MzuNA/QAKAC4ABgBBAAUAAAD9AAoALwAAAEAAPgAAAP0A
CgAvAAEAQQAFAAAA/QAKAC8AAgBBAAUAAAADAg4ALwAEAEYAYQu2YI/O40D9AAoALwAFAEEABQAA
AP0ACgAvAAcAQQAFAAAA/QAKADAAAABAADkAAAD9AAoAMAABAEEABQAAAAMCDgAwAAQARgCf9Emf
XM7jQP0ACgAwAAUAQQAFAAAA/QAKADEAAABAAB4AAAD9AAoAMQABAEEABQAAAAMCDgAxAAQARgCJ
iIiIP87jQP0ACgAxAAUAQQAFAAAA/QAKADEABgBBAAUAAAD9AAoAMQAHAEEABQAAAP0ACgAyAAAA
QABPAAAA/QAKADIAAgBBAAUAAAADAg4AMgAEAEYA9Umf9EvO40D9AAoAMgAFAEEABQAAAP0ACgAy
AAcAQQAFAAAA/QAKADMAAABAACsAAAD9AAoAMwABAEEABQAAAAMCDgAzAAQARgDe3d3dRs7jQP0A
CgAzAAUAQQAFAAAA/QAKADQAAABAAAgAAAD9AAoANAABAEEABQAAAP0ACgA0AAIAQQAFAAAAAwIO
ADQABABGAKuqqqo1zuNA/QAKADQABQBBAAUAAAD9AAoANQAAAEAAJQAAAP0ACgA1AAEAQQAFAAAA
AwIOADUABABGADMzMzNFzuNA/QAKADUABQBBAAUAAAD9AAoANQAGAEEABQAAAP0ACgA1AAcAQQAF
AAAA/QAKADUACABBAAUAAAD9AAoANQAJAEUAJgAAAP0ACgA2AAAAQABJAAAA/QAKADYAAgBBAAUA
AAADAg4ANgAEAEYAUPqkTzfO40D9AAoANgAGAEEABQAAAP0ACgA2AAcAQQAFAAAAAQIGADYACQBF
AP0ACgA3AAAAQAAiAAAA/QAKADcAAQBBAAUAAAD9AAoANwACAEEABQAAAAMCDgA3AAQARgByHMdx
RM7jQP0ACgA3AAUAQQAFAAAA/QAKADcABwBBAAUAAAD9AAoANwAJAEUAIwAAAP0ACgA4AAAAQAAL
AAAA/QAKADgAAQBBAAUAAAADAg4AOAAEAEYA9Umf9DXO40D9AAoAOAAGAEEABQAAAP0ACgA5AAAA
QAAvAAAA/QAKADkAAQBBAAUAAAADAg4AOQAEAEYA9Umf9EjO40D9AAoAOQAGAEEABQAAAP0ACgA5
AAcAQQAFAAAA/QAKADoAAABAADAAAAD9AAoAOgABAEEABQAAAAMCDgA6AAQARgBswRZsSs7jQP0A
CgA6AAYAQQAFAAAA/QAKADsAAABAABsAAAD9AAoAOwABAEEABQAAAP0ACgA7AAIAQQAFAAAAAwIO
ADsABABGAAu2YAs2zuNA/QAKADsABQBBAAUAAAD9AAoAPAAAAEAAWwAAAP0ACgA8AAIAQQAFAAAA
AwIOADwABABGABzHcRwL0ONA/QAKADwABwBBAAUAAAD9AAoAPAAIAEEABQAAAP0ACgA9AAAAQAAJ
AAAA/QAKAD0AAQBBAAUAAAD9AAoAPQACAEEABQAAAAMCDgA9AAQARgDe3d3dNc7jQP0ACgA9AAYA
QQAFAAAA/QAKAD4AAABAABEAAAD9AAoAPgABAEEABQAAAP0ACgA+AAIAQQAFAAAAAwIOAD4ABABG
AFD6pE82zuNA/QAKAD4ABgBBAAUAAAD9AAoAPgAHAEEABQAAAP0ACgA/AAAAQABZAAAA/QAKAD8A
AgBBAAUAAAADAg4APwAEAEYAvLu7u6PO40D9AAoAPwAGAEEABQAAAP0ACgA/AAcAQQAFAAAA1wBE
APALAABsAkoAPAA8AEoAVABYAFgASgA8ADwAWABYAEoAPAA8AFgAPABYAEoAPABKAHQAVABmADwA
SgA8AEoASgBKAFgACAIQAEAAAAAJACwBAAAAAAABDwAIAhAAQQAAAAkALAEAAAAAAAEPAAgCEABC
AAAACQAsAQAAAAAAAQ8ACAIQAEMAAAAJACwBAAAAAAABDwAIAhAARAAAAAkALAEAAAAAAAEPAAgC
EABFAAAACQAsAQAAAAAAAQ8ACAIQAEYAAAAJACwBAAAAAAABDwAIAhAARwAAAAkALAEAAAAAAAEP
AAgCEABIAAAACQAsAQAAAAAAAQ8ACAIQAEkAAAAJACwBAAAAAAABDwAIAhAASgAAAAkALAEAAAAA
AAEPAAgCEABLAAAACQAsAQAAAAAAAQ8ACAIQAEwAAAAJACwBAAAAAAABDwAIAhAATQAAAAkALAEA
AAAAAAEPAAgCEABOAAAACQA7AQAAAAAAAQ8gCAIQAE8AAAAJADsBAAAAAAABDxAIAhAAUAAEAAkA
LAEAAAAAAAEPAP0ACgBAAAAAQABOAAAA/QAKAEAAAgBBAAUAAAADAg4AQAAEAEYA3t3d3UHO40D9
AAoAQAAGAEEABQAAAP0ACgBBAAAAQAAaAAAA/QAKAEEAAQBBAAUAAAADAg4AQQAEAEYASp/0STnO
40D9AAoAQQAFAEEABQAAAP0ACgBBAAcAQQAFAAAA/QAKAEIAAABAADsAAAD9AAoAQgABAEEABQAA
AAMCDgBCAAQARgDBFmzBZs7jQP0ACgBCAAUAQQAFAAAA/QAKAEMAAABAAEsAAAD9AAoAQwACAEEA
BQAAAAMCDgBDAAQARgBmZmZmN87jQP0ACgBDAAUAQQAFAAAA/QAKAEMABgBBAAUAAAD9AAoAQwAH
AEEABQAAAP0ACgBEAAAAQAAMAAAA/QAKAEQAAQBBAAUAAAD9AAoARAACAEEABQAAAAMCDgBEAAQA
RgAXbMEWNs7jQP0ACgBEAAUAQQAFAAAA/QAKAEQABgBBAAUAAAD9AAoARAAHAEEABQAAAP0ACgBF
AAAAQABMAAAA/QAKAEUAAgBBAAUAAAADAg4ARQAEAEYAC7ZgCzjO40D9AAoARQAGAEEABQAAAP0A
CgBGAAAAQABEAAAA/QAKAEYAAgBBAAUAAAADAg4ARgAEAEYAERERETbO40D9AAoARgAGAEEABQAA
AP0ACgBGAAcAQQAFAAAA/QAKAEcAAABAAFYAAAD9AAoARwACAEEABQAAAAMCDgBHAAQARgA5juM4
js7jQP0ACgBHAAUAQQAFAAAA/QAKAEcABwBBAAUAAAD9AAoASAAAAEAASgAAAP0ACgBIAAIAQQAF
AAAAAwIOAEgABABGAFD6pE83zuNA/QAKAEgABgBBAAUAAAD9AAoASAAHAEEABQAAAP0ACgBIAAgA
QQAFAAAA/QAKAEkAAABAADwAAAD9AAoASQABAEEABQAAAP0ACgBJAAIAQQAFAAAAAwIOAEkABABG
AFVVVVVxzuNA/QAKAEkABgBBAAUAAAD9AAoASgAAAEAAFgAAAP0ACgBKAAEAQQAFAAAAAwIOAEoA
BABGALAFW7A3zuNA/QAKAEoABQBBAAUAAAD9AAoASgAGAEEABQAAAP0ACgBLAAAAQABAAAAA/QAK
AEsAAQBBAAUAAAD9AAoASwACAEEABQAAAAMCDgBLAAQARgBEREREo87jQP0ACgBLAAYAQQAFAAAA
/QAKAEsABwBBAAUAAAD9AAoATAAAAEAANwAAAP0ACgBMAAEAQQAFAAAAAwIOAEwABABGAFVVVVVW
zuNA/QAKAEwABgBBAAUAAAD9AAoATQAAAEAAIAAAAP0ACgBNAAEAQQAFAAAAAwIOAE0ABABGAFuw
BVtEzuNA/QAKAE0ABgBBAAUAAAD9AAoATgAAAEAAOAAAAP0ACgBOAAEAQQAFAAAAAwIOAE4ABABG
ABdswRZbzuNA/QAKAE4ABQBBAAUAAAD9AAoATwAEAEcAXQAAAAYAJgBPAAUASAAAAAAAAIBDQCAA
UAAF/hAAJQEATgAFwAXAFwEAWEFaAQYAJgBPAAYASAAAAAAAAIBGQCAAUAAG/xAAJQEATgAGwAbA
FwEAWEFaAQYAJgBPAAcASAAAAAAAAIBBQCAAUAAH/xAAJQEATgAHwAfAFwEAWEFaAQYAJgBPAAgA
SAAAAAAAAAAQQCAAUAAI/xAAJQEATgAIwAjAFwEAWEFaAf0ACgBQAAQARwBeAAAABgAfAFAABQBJ
AMfUwN4xNeA/IABPAAj/CQBETwAFwB5NAAYGAB8AUAAGAEkAIc7KT4iz4j8gAPoP+P0JAERPAAbA
Hk0ABgYAHwBQAAcASQAXXXTRRRfdPyAATwAG/wkARE8AB8AeTQAGBgAfAFAACABJAL5jamDvmKo/
IABPAAf/CQBETwAIwB5NAAbXACYA7AYAAEABPABKADwAWABmADwASgBKAFgASgBKAFgAPAA8ADwA
tgA+AhIAvgcAAAAAQAAAAAAAAADvmAAAiwgQAIsIAAAAAAAAAAAAAAAA6phBAAoAAAABAAEAAAAC
AB0ADwADAAAAAAAAAQAAAAAAAAAdAA8AAhMACQAAAAEAEwATAAkJZwgXAGcIAAAAAAAAAAAAAAIA
Af////8DRAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP7/AAAGAQIAAAAA
AAAAAAAAAAAAAAAAAAEAAADghZ/y+U9oEKuRCAArJ7PZMAAAAKAAAAAHAAAAAQAAAEAAAAAEAAAA
SAAAAAgAAABYAAAAEgAAAGgAAAAMAAAAgAAAAA0AAACMAAAAEwAAAJgAAAACAAAA5AQAAB4AAAAI
AAAAc2Fyb3dlAAAeAAAACAAAAHNhcm93ZQAAHgAAABAAAABNaWNyb3NvZnQgRXhjZWwAQAAAAICa
wkHix8sBQAAAAABM9M/1x8sBAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD+/wAABgECAAAAAAAAAAAAAAAA
AAAAAAABAAAAAtXN1ZwuGxCTlwgAKyz5rjAAAADsAAAACQAAAAEAAABQAAAADwAAAFgAAAAXAAAA
dAAAAAsAAAB8AAAAEAAAAIQAAAATAAAAjAAAABYAAACUAAAADQAAAJwAAAAMAAAAyAAAAAIAAADk
BAAAHgAAABQAAABTeXJhY3VzZSBVbml2ZXJzaXR5AAMAAAAAAA4ACwAAAAAAAAALAAAAAAAAAAsA
AAAAAAAACwAAAAAAAAAeEAAAAQAAACAAAABMdWNlbmUgU29sciBTb3VyY2UgUG9sbCBSZXN1bHRz
AAwQAAACAAAAHgAAAAsAAABXb3Jrc2hlZXRzAAMAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAA
AAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAA
FgAAABcAAAAYAAAAGQAAABoAAAAbAAAAHAAAAB0AAAAeAAAAHwAAACAAAAAhAAAAIgAAACMAAAAk
AAAAJQAAACYAAAAnAAAAKAAAACkAAAAqAAAAKwAAACwAAAAtAAAALgAAAC8AAAAwAAAAMQAAADIA
AAAzAAAANAAAADUAAAA2AAAANwAAADgAAAA5AAAAOgAAADsAAAA8AAAAPQAAAD4AAAA/AAAAQAAA
AEEAAABCAAAA/v///0QAAABFAAAARgAAAEcAAABIAAAASQAAAEoAAAD+////TAAAAE0AAABOAAAA
TwAAAFAAAABRAAAAUgAAAP7////9/////v//////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////9SAG8AbwB0ACAARQBuAHQAcgB5AAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFgAFAf//////////AgAAACAIAgAA
AAAAwAAAAAAAAEYAAAAAAAAAAAAAAAAAAAAAAAAAAP7///8AAAAAAAAAAFcAbwByAGsAYgBvAG8A
awAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASAAIB////
////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADSFAAAAAAAA
BQBTAHUAbQBtAGEAcgB5AEkAbgBmAG8AcgBtAGEAdABpAG8AbgAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAACgAAgEBAAAAAwAAAP////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AABDAAAAABAAAAAAAAAFAEQAbwBjAHUAbQBlAG4AdABTAHUAbQBtAGEAcgB5AEkAbgBmAG8AcgBt
AGEAdABpAG8AbgAAAAAAAAAAAAAAOAACAf///////////////wAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAEsAAAAAEAAAAAAAAA==


--_003_2D127F11DC79714E9B6A43AC9458147F9C143848suex07mbx03adsy_
Content-Type: text/plain; charset=us-ascii


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
--_003_2D127F11DC79714E9B6A43AC9458147F9C143848suex07mbx03adsy_--

From java-user-return-48653-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Feb 09 08:16:10 2011
Return-Path: <java-user-return-48653-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8158 invoked from network); 9 Feb 2011 08:16:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 9 Feb 2011 08:16:09 -0000
Received: (qmail 25565 invoked by uid 500); 9 Feb 2011 08:16:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24952 invoked by uid 500); 9 Feb 2011 08:16:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24944 invoked by uid 99); 9 Feb 2011 08:16:01 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Feb 2011 08:16:01 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pierre.gosse@arisem.com designates 192.93.160.42 as permitted sender)
Received: from [192.93.160.42] (HELO mail.arisem.com) (192.93.160.42)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Feb 2011 08:15:54 +0000
Received: from enodios.ARISEM.COM (192.168.1.105) by mail.arisem.com
 (192.168.3.42) with Microsoft SMTP Server (TLS) id 8.1.436.0; Wed, 9 Feb 2011
 09:15:34 +0100
Received: from enodios.ARISEM.COM ([192.168.1.105]) by enodios.ARISEM.COM
 ([192.168.1.105]) with mapi; Wed, 9 Feb 2011 09:15:33 +0100
From: Pierre GOSSE <pierre.gosse@arisem.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Wed, 9 Feb 2011 09:15:31 +0100
Subject: RE: How to implement a proximity search using LINES as slop
Thread-Topic: How to implement a proximity search using LINES as slop
Thread-Index: AcvH2mWx2FB/pEGPRoCBNxDewAVMgQAVVnrA
Message-ID: <4A1AC1E08A1A4A438C4E4502E73AFC7449D8F256C6@enodios.ARISEM.COM>
References: <1026148301.5478182.1297108735024.JavaMail.fmail@mwmweb011>,
 <4A1AC1E08A1A4A438C4E4502E73AFC7449D8F255D1@enodios.ARISEM.COM>
 <491675137.10930680.1297201881419.JavaMail.fmail@mwmweb009>
In-Reply-To: <491675137.10930680.1297201881419.JavaMail.fmail@mwmweb009>
Accept-Language: fr-FR, en-US
Content-Language: fr-FR
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: fr-FR, en-US
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

SSd2ZSBqdXN0IHJlYWQgYWJvdXQgcGF5bG9hZCwgYW5kIEknbSBub3Qgc3VyZSBpdCB3b3VsZCBi
ZSBlYXN5IHRvIHVzZSB0aGF0IGZlYXR1cmUgaW4gY2FsY3VsYXRpbmcgZGlzdGFuY2VzIGZvciBT
cGFuUXVlcmllcy4gSSBndWVzcyBZb3Ugd291bGQgaGF2ZSB0byBidWlsZCB5b3VyIG93biBTcGFu
UXVlcnksIHVzaW5nIHBheWxvYWQgaW5zdGVhZCBvZiB0ZXJtIHBvc2l0aW9uLiBCdXQgaXQgd291
bGQgYmUgbXVjaCBsaWdodGVyIGZvciBpbmRleCBzaXplIGlmIGl0IHdlcmUgcG9zc2libGUsIGlu
ZGVlZC4NCg0KSSBob3BlIHNvbWUgbHVjZW5lIGV4cGVydCBjYW4gZ2l2ZSBoaXMgaW5zaWdodCBh
Ym91dCBhbGwgdGhpcy4gOikNCg0KUGllcnJlDQoNCi0tLS0tTWVzc2FnZSBkJ29yaWdpbmUtLS0t
LQ0KRGXCoDogTGl2aWEgSGF1c2VyIFttYWlsdG86bGl2aWEuaGF1c2VyQHdlYi5kZV0gDQpFbnZv
ecOpwqA6IG1hcmRpIDggZsOpdnJpZXIgMjAxMSAyMjo1MQ0Kw4DCoDogamF2YS11c2VyQGx1Y2Vu
ZS5hcGFjaGUub3JnDQpPYmpldMKgOiBSRTogSG93IHRvIGltcGxlbWVudCBhIHByb3hpbWl0eSBz
ZWFyY2ggdXNpbmcgTElORVMgYXMgc2xvcA0KDQpIaSBQaWVycmUsDQoNCm1hbnkgdGhhbmtzIGZv
ciB5b3VyIGlkZWFyLg0KSSBoYWQgYSBsb29rIHRvIFBheWxvYWRzIC4uLiBzaG91bGQgaXQgcG9z
c2libGUgdG8gc3RvcmUgdGhlIGxpbmUgbnVtYmVyIGFzIHBheWxvYWQ/DQoNCkJlc3QgUmVnYXJk
cywNCkxpdmlhDQoNCg0KLS0tLS1VcnNwcsO8bmdsaWNoZSBOYWNocmljaHQtLS0tLQ0KVm9uOiAi
UGllcnJlIEdPU1NFIiA8cGllcnJlLmdvc3NlQGFyaXNlbS5jb20+DQpHZXNlbmRldDogMDguMDIu
MjAxMSAwOTozNzo1Mw0KQW46ICJqYXZhLXVzZXJAbHVjZW5lLmFwYWNoZS5vcmciIDxqYXZhLXVz
ZXJAbHVjZW5lLmFwYWNoZS5vcmc+DQpCZXRyZWZmOiBSRTogSG93IHRvIGltcGxlbWVudCBhIHBy
b3hpbWl0eSBzZWFyY2ggdXNpbmcgTElORVMgYXMgc2xvcA0KDQo+SGkgTGl2aWEsDQo+DQo+T25l
IHdheSBvZiBkb2luZyB0aGlzIGxpbmUgc2xvcGUgd291bGQgYmUgdG8gaW1wbGVtZW50IGEgY3Vz
dG9tIHRva2VuaXplciB0aGF0IGNvdWxkIHRva2VuaXplIG9uIG5ldyBsaW5lLCBhbmQgc3BsaXQg
ZWFjaCB0b2tlbiBpbnRvIHRoZSB3b3JkcyBpdCBjb250YWlucy4gSS5lLiBFYWNoIHdvcmQgb2Yg
YSBsaW5lIHdvdWxkIGJlIHNlZW4gYXMgYmVpbmcgYXQgdGhlIHNhbWUgcG9zaXRpb24gKGFuZCBo
YXZpbmcgc2FtZSBvZmZzZXQgYW5kIGxlbmd0aCBhcyB0aGUgY29tcGxldGUgbGluZSkuIA0KPg0K
PkkgZG9uJ3QgdGhpbmsgdXN1YWwgcXVlcmllcyB3b3VsZCByZXNwb25kIHdlbGwgd2l0aCB0aGF0
IGZpZWxkLCBzbyBtYXliZSB5b3Ugd2lsbCBoYXZlIHRvIGhhdmUgdHdvIGZpZWxkcywgb25lIHN0
YW5kYXJkIGZvciBzZWFyY2hpbmcgYW5kIHNjb3JpbmcgYW5kIG9uZSBjdXN0b20gZm9yIGZpbHRl
cmluZyB5b3VyIHJlc3VsdHMuDQo+DQo+QnV0IG1heWJlIHRoYXQncyBvdmVya2lsbCwgYW5kIHRo
ZXJlJ3MgYSBzaW1wbGVyIG1hbm5lciB0byBhY2hpZXZlIHRoaXMgbGluZSBzbG9wZSwgSSdtIHF1
aXRlIG5ldyB0byBzb2xyLiA6KQ0KPg0KPlBpZXJyZQ0KPg0KPi0tLS0tTWVzc2FnZSBkJ29yaWdp
bmUtLS0tLQ0KPkRlwqA6IExpdmlhIEhhdXNlciBbbWFpbHRvOmxpdmlhLmhhdXNlckB3ZWIuZGVd
IA0KPkVudm95w6nCoDogbHVuZGkgNyBmw6l2cmllciAyMDExIDIwOjU5DQo+w4DCoDogamF2YS11
c2VyQGx1Y2VuZS5hcGFjaGUub3JnDQo+T2JqZXTCoDogSG93IHRvIGltcGxlbWVudCBhIHByb3hp
bWl0eSBzZWFyY2ggdXNpbmcgTElORVMgYXMgc2xvcA0KPg0KPkhpIEFsbCwNCj4NCj5JIHVzZSBz
b2xyIDMueCBhbmQgcHV0IGV4Y2VsIGRvY3VtZW50cyBpbnRvIGFuIGluZGV4Lg0KPkkgaGF2ZSBt
eSBvd24gcXVlcnkgcGFyc2VyIGFuZCB1c2UgU3BhblF1ZXJpZXMgdG8gcHJvdmlkZSBhIHByb3hp
bWl0eSBzZWFyY2ggZmVhdHVyZS4gSXQgd29ya3MgcmVhbGx5IGdvb2QuDQo+TW9zdCBvZnRlbiB0
aGFuIG5vdCBpdHMgYmV0dGVyIHRvIGxpbWl0IHRoZSBwcm94bWl0eSB0byBvbmUgb3IgdHdvIGxp
bmUncywgbm90IHRvIFggd29yZHMuDQo+SSB0cnkgdG8gZmluZCBhIE5ld0xpbmUgaW5kaWNhdG9y
Li4uIHVuc3VjY2Vzc2Z1bGx5Lg0KPkhvdyBjYW4gdXNlIHRoZSBudW1iZXIgb2YgbGluZXMgYXMg
cHJveGltaXR5Pw0KPg0KPlRoeCENCj5fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fXw0KPldFQi5ERSBEU0wgRG9wcGVsLUZsYXQgYWIgMTks
OTkg4oKsL210bC4hIEpldHp0IG1pdCANCj5ncmF0aXMgSGFuZHktRmxhdCEgaHR0cDovL3Byb2R1
a3RlLndlYi5kZS9nby9EU0xfRG9wcGVsX0ZsYXRyYXRlLzINCj4NCj4tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCj5U
byB1bnN1YnNjcmliZSwgZS1tYWlsOiBqYXZhLXVzZXItdW5zdWJzY3JpYmVAbHVjZW5lLmFwYWNo
ZS5vcmcNCj5Gb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1tYWlsOiBqYXZhLXVzZXItaGVscEBs
dWNlbmUuYXBhY2hlLm9yZw0KPg0KX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX18NCk5ldTogV0VCLkRFIERlLU1haWwgLSBFaW5mYWNoIHdp
ZSBFLU1haWwsIHNpY2hlciB3aWUgZWluIEJyaWVmISAgDQpKZXR6dCBEZS1NYWlsLUFkcmVzc2Ug
cmVzZXJ2aWVyZW46IGh0dHBzOi8vcHJvZHVrdGUud2ViLmRlL2dvL2RlbWFpbDAyDQoNCi0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLQ0KVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogamF2YS11c2VyLXVuc3Vic2NyaWJlQGx1
Y2VuZS5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1tYWlsOiBqYXZhLXVz
ZXItaGVscEBsdWNlbmUuYXBhY2hlLm9yZw0KDQo=


From java-user-return-48654-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Feb 09 08:44:19 2011
Return-Path: <java-user-return-48654-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24751 invoked from network); 9 Feb 2011 08:44:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 9 Feb 2011 08:44:19 -0000
Received: (qmail 68757 invoked by uid 500); 9 Feb 2011 08:44:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68246 invoked by uid 500); 9 Feb 2011 08:44:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68232 invoked by uid 99); 9 Feb 2011 08:44:12 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Feb 2011 08:44:12 +0000
X-ASF-Spam-Status: No, hits=4.4 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [68.142.200.119] (HELO web30506.mail.mud.yahoo.com) (68.142.200.119)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 09 Feb 2011 08:44:02 +0000
Received: (qmail 41508 invoked by uid 60001); 9 Feb 2011 08:43:41 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1297241021; bh=3JfEsZ1iZqhto8vDb+erZ04oROoTADcO7yx4G/RHNjA=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type; b=mItg0sC55qgoAjySInobT3sGdh/1nEYIYktoR7TxnqTX8WzPLlCxI8d5lpOpc0qHtkp1p27ssbKrQbZZ6QX/DKuC59bjGCiPvpWZuk8Zqlr5oS2k3HdiveGrLUjgeTVi0hZ7SogSeKM0YxliCRmZhTcNJ38cn5iGgVbEee0lOOE=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type;
  b=rCNW+sYg8lDucmWRlyMk22dR87sgNGkBQCtAL+qX1Pm0xIyLbLZA8fvp2AD4zt1HdLQQDAO22t4yEnVaKkqCF7TU8nXmJ4IgyKMUnFDTbWZfshBGsz7CDPix3sWc8ci1VocbyRquUQhDtCKTMj0OgMamftwP/uvigOkrXRw2dL0=;
Message-ID: <241926.37404.qm@web30506.mail.mud.yahoo.com>
X-YMail-OSG: 5oEb0JkVM1mt3bM4C1IrCSweGri61.ypK1nBSB4zB_Se1Ds
 cyjGR.LeK8UX.gwisUrmr17vDVYNqkKke8rUeEF13OXrxa_NyLFG25CvIsEY
 5WmuMtVfkB0EMyfu3PKMFwZ7nVHWhi.Zgi6pp.uZGD2kn9SLuYTMpw7MgLk8
 sAs5ecBONzGY_gwS8KRvYhfNbHdgapp2iI._c9Q2.yDWW7rTm.qGOoVpUW51
 HWqwVsheyE7fcJtGN80BQP8xLuBqCOkBsdaof5zdo5Iw_XOvjhNpbEXIkmi0
 pkyRC8s8SJvTxXhCVdqexLTb_TibXzb2cWCWMbmikxzmfTCCYp10X0o5jj6t
 SWA--
Received: from [212.235.4.36] by web30506.mail.mud.yahoo.com via HTTP; Wed, 09 Feb 2011 00:43:41 PST
X-Mailer: YahooMailClassic/11.4.20 YahooMailWebService/0.8.108.291010
Date: Wed, 9 Feb 2011 00:43:41 -0800 (PST)
From: sol myr <solmyr72@yahoo.com>
Subject: [Lucene] custom Query, and Stop Words
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-975463120-1297241021=:37404"
X-Virus-Checked: Checked by ClamAV on apache.org

--0-975463120-1297241021=:37404
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Hi,

I'm building my own BooleanQuery (rather than using Query Parser). That's b=
ecause I need different defaults from my users:=20
If a user types:=A0 java program
I need to run the query: +java* +program* (namely AND search, with Prefix s=
o as to hit "programS", "programMER").

So naively I split the user's input into words, and build my query term-by-=
term:
=A0=A0 String[] words=3D userInput.split(" ");
=A0=A0 BooleanQuery query=3Dnew BooleanQuery();
=A0=A0 for(String word: words)
=A0=A0=A0=A0=A0=A0 query.add(new PrefixQuery(new Term("topic", word)), Occu=
r.MUST);

But since my index is built with StandardAnalyzer, I'm having trouble with =
Stop Words.
If the user types: program of java
Then of course my query (+program* +of* +java+) returns zero results.

Is there an easy solution?
I'd like to keep using StandardAnalyzer (I don't want to index by stupid ke=
ywords such as "of"). I would just like stop-words to be removed from my qu=
ery (as QueryParser does).
Is there some utility method for this? Direct access to the list of stop-wo=
rds?

Thanks=20
=0A=0A=0A =0A______________________________________________________________=
______________________=0ABored stiff? Loosen up... =0ADownload and play hun=
dreds of games for free on Yahoo! Games.=0Ahttp://games.yahoo.com/games/fro=
nt
--0-975463120-1297241021=:37404--

From java-user-return-48655-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Feb 09 09:59:41 2011
Return-Path: <java-user-return-48655-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56950 invoked from network); 9 Feb 2011 09:59:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 9 Feb 2011 09:59:41 -0000
Received: (qmail 84096 invoked by uid 500); 9 Feb 2011 09:59:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83699 invoked by uid 500); 9 Feb 2011 09:59:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83691 invoked by uid 99); 9 Feb 2011 09:59:34 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Feb 2011 09:59:34 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ian.lea@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Feb 2011 09:59:27 +0000
Received: by bwz8 with SMTP id 8so805812bwz.35
        for <java-user@lucene.apache.org>; Wed, 09 Feb 2011 01:59:06 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type:content-transfer-encoding;
        bh=yIBFy7EpgOQwt50qpqgnnhO0DFY3QsxjlzwxtYNTOso=;
        b=QyuF7XxaMCROQOTJUsACnixc+facFduCo6zt4eZTQX/p77prGjFijk0J8sQVh7j8Xh
         cYF3JfKz94Y1BP6EhKabKzAB6o6vSqN2+vg1P0S7FgzvfHveAUxn8eSVQo1NLo/ZNqCW
         pgKCG2elYhPlgGskIOTmDkf9MsBYHxXy/N+64=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=lVKzfn76WFRYlgnWwkuengKYeIYgQ+ebIo9EhCqRPM2cS6uTFiKcEAH/rC3/MwKdMj
         ixscnkHIc6SwOIzpGcRRSM1y0VDdD8FGb8KtnkQfcd9a8Xp9qGRgjdZaNpvqoMVBcNR6
         iFjbYpX3+3nzy86g+AKbV2kcfgKjF/PXYSAXU=
Received: by 10.204.80.161 with SMTP id t33mr8446230bkk.121.1297245546647;
 Wed, 09 Feb 2011 01:59:06 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.61.147 with HTTP; Wed, 9 Feb 2011 01:58:46 -0800 (PST)
In-Reply-To: <241926.37404.qm@web30506.mail.mud.yahoo.com>
References: <241926.37404.qm@web30506.mail.mud.yahoo.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Wed, 9 Feb 2011 09:58:46 +0000
Message-ID: <AANLkTin+apmk8A9HkO8L10E6ocBd0rz8sWnAa8AYuv2o@mail.gmail.com>
Subject: Re: [Lucene] custom Query, and Stop Words
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Have you considered using stemming instead?  Sounds like that might
make most of your problems go away and achieve the same result.

I'm not aware of a utility method to remove stop words from a string
but there are ways of passing data through analyzers/tokenizers and
grabbing the output. StandardAnalyzer stores the stop words in
STOP_WORDS_SET and you might be able to use that directly, or pass in
your own set of stop works which you would obviously have access to.

If you stick with your split/word by word approach, watch out for
punctuation.and Mixed Case and other complications.


--
Ian.

On Wed, Feb 9, 2011 at 8:43 AM, sol myr <solmyr72@yahoo.com> wrote:
> Hi,
>
> I'm building my own BooleanQuery (rather than using Query Parser). That's=
 because I need different defaults from my users:
> If a user types:=A0 java program
> I need to run the query: +java* +program* (namely AND search, with Prefix=
 so as to hit "programS", "programMER").
>
> So naively I split the user's input into words, and build my query term-b=
y-term:
> =A0=A0 String[] words=3D userInput.split(" ");
> =A0=A0 BooleanQuery query=3Dnew BooleanQuery();
> =A0=A0 for(String word: words)
> =A0=A0=A0=A0=A0=A0 query.add(new PrefixQuery(new Term("topic", word)), Oc=
cur.MUST);
>
> But since my index is built with StandardAnalyzer, I'm having trouble wit=
h Stop Words.
> If the user types: program of java
> Then of course my query (+program* +of* +java+) returns zero results.
>
> Is there an easy solution?
> I'd like to keep using StandardAnalyzer (I don't want to index by stupid =
keywords such as "of"). I would just like stop-words to be removed from my =
query (as QueryParser does).
> Is there some utility method for this? Direct access to the list of stop-=
words?
>
> Thanks
>
>
>
>
> _________________________________________________________________________=
___________
> Bored stiff? Loosen up...
> Download and play hundreds of games for free on Yahoo! Games.
> http://games.yahoo.com/games/front

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48656-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Feb 09 10:22:19 2011
Return-Path: <java-user-return-48656-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72541 invoked from network); 9 Feb 2011 10:22:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 9 Feb 2011 10:22:19 -0000
Received: (qmail 22965 invoked by uid 500); 9 Feb 2011 10:22:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22654 invoked by uid 500); 9 Feb 2011 10:22:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22646 invoked by uid 99); 9 Feb 2011 10:22:13 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Feb 2011 10:22:13 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ian.lea@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Feb 2011 10:22:06 +0000
Received: by bwz8 with SMTP id 8so824654bwz.35
        for <java-user@lucene.apache.org>; Wed, 09 Feb 2011 02:21:45 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type:content-transfer-encoding;
        bh=skUv6eRucTLpZlhHpG1tFyLpE4s8RgtEaOXDSqoScPo=;
        b=A58pDIc7pW6M5L2mC8f/doRODUKNf8aZ73+6EeqvpTyJ4EPAPnK7PCQis6DrhRPKJo
         I419O3s3kZm7aiYaF7ewy4SMH1dsidPd5G4Wnjw29JWRYXHjP1jnDv0DlQjJaP76jAOW
         g05EcLurpfDH76Kyrnl6Azp+TDSrnL8tZADFc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=KYSjL+vKQcdGupwFCJAYV48ZimWl/hm2qqYiFfk1vyxzxLtiY2vx//cT/aLvBAHZRf
         MCsiITx9K2qzBhc1anbb6ZKP/oXI+GhbduwMXs9SWdGwZl2gqq2DxIiIvwmTZtgIYwCe
         trCgzLsi70G2qi/Iw/K3sOE3XZbdOIb+H/VOs=
Received: by 10.204.58.80 with SMTP id f16mr2803905bkh.148.1297246905055; Wed,
 09 Feb 2011 02:21:45 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.61.147 with HTTP; Wed, 9 Feb 2011 02:21:24 -0800 (PST)
In-Reply-To: <AANLkTimth-NRcAMg+v9oxzoou98VKy-qx-b2nsLHgrAQ@mail.gmail.com>
References: <AANLkTimth-NRcAMg+v9oxzoou98VKy-qx-b2nsLHgrAQ@mail.gmail.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Wed, 9 Feb 2011 10:21:24 +0000
Message-ID: <AANLkTimxa21gNXOzHxV1W0n-imusMVhywRoHG8X_n8M9@mail.gmail.com>
Subject: Re: Lucene Questions about query and highlighter~^^
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

http://lucene.apache.org/java/3_0_3/queryparsersyntax.html should have
answers to your query formulation questions.  You might also like to
consider building the queries yourself programatically and using Span
queries.  They are good for specifying slop and order and so on. There
is useful info on the Lucid Imagination site - google "lucid
imagination span query".

Sorry, can't help you with highlighting except to say there was a
recent thread on it. Or you could post again with something more
specific than "there is something wrong".


--
Ian.


On Tue, Feb 8, 2011 at 4:36 PM, Gong Li <ee07b381@gmail.com> wrote:
> Hi,
>
> I am coding a *local pdf search engine* in Java.(If someone did it before=
,
> could you please give some tips?) So I need query parse.
>
> Assume I want to search for "hello user" in the document.
>
> *Q1*. I have 4 kinds of queries in my program. They are:
>
> =A01. Match Exact words or phases. e.g. "hello user", "hello users", etc.=
 can
> be the search results. Note: the words must be in right order.
>
> =A02. Match Exact words or phases, but whole words only. e.g. only "hello
> user" can be the search result. Note: the words must be in right order.
>
> =A03. Match Any words. e.g. "hello", "user", "users", etc. can be the sea=
rch
> results.
>
> =A04. Match Any words or phases, but whole words only. e.g. only "hello",
> "user", "hello user" can be the search results.
>
> My question: what the query expressions are for these 4 kind that i can u=
se
> it to parse?
>
> =A02nd expression is: "hello user".
>
> =A04th expression is: "hello" OR "user".
>
> =A0Correct? And what about the other 2?
>
> *Q2*. Then I use the following code to get context of the search result.
> Note: the result must be ordered by relevance.
>
> =A0Query q =3D new QueryParser(Version.LUCENE_30,"field",
> analyzer).parse(expression);
> =A0QueryScorer scorer =3D new QueryScorer(query);
> =A0Highlighter highlighter =3D new Highlighter(scorer);
> =A0highlighter.setTextFragmenter(new SimpleSpanFragmenter(scorer, 500));
>
> And there are something wrong in line 2 for the 4 kinds of queries. How c=
an
> I modify the code to get the snippet of the content?
>
> Thanks.
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48657-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Feb 09 10:27:44 2011
Return-Path: <java-user-return-48657-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73652 invoked from network); 9 Feb 2011 10:27:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 9 Feb 2011 10:27:43 -0000
Received: (qmail 30305 invoked by uid 500); 9 Feb 2011 10:27:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30247 invoked by uid 500); 9 Feb 2011 10:27:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30239 invoked by uid 99); 9 Feb 2011 10:27:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Feb 2011 10:27:37 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ian.lea@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Feb 2011 10:27:30 +0000
Received: by bwz8 with SMTP id 8so829013bwz.35
        for <java-user@lucene.apache.org>; Wed, 09 Feb 2011 02:27:10 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type:content-transfer-encoding;
        bh=L+GxjqVqDtyt8BvFF3Bsh74mRIkY8BttzPaMIaCHWqY=;
        b=DLEl0m4yI3j0vzcbN3CjnhUnR3zQ3BSwPsKkPk2XmfsMPWncc7gU0ClbhUbeEJ0wJ6
         VruZ3dQTgEyXrBlJmPxDP3kAYCUcA9wq9T0OOaX8QGh8DAFu6mwxV1qBCK1HINXyPVpe
         F9k39gQsFbnBFW8MnAqbY/8YoJ7ZdAzy/sh48=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=XQEwhIZouEwD/XKgSJcIykvbd//a8/zOW3gakbEtrxGoSRfLMPgNa/hI7G/05gTd5f
         QoXrzwZ1M0Mhe+p1OQzw9o4Rc2PmuvPNgAcM0vKbmeJz+fz+HgJgo8FRmw9YmicPdlXU
         FH5kbMgQxlgWuyg01fyN9mZqWZWFXNzyKbUeA=
Received: by 10.204.118.138 with SMTP id v10mr19113672bkq.94.1297247230620;
 Wed, 09 Feb 2011 02:27:10 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.61.147 with HTTP; Wed, 9 Feb 2011 02:26:50 -0800 (PST)
In-Reply-To: <4D518A26.1010805@brightminds.org>
References: <4D518A26.1010805@brightminds.org>
From: Ian Lea <ian.lea@gmail.com>
Date: Wed, 9 Feb 2011 10:26:50 +0000
Message-ID: <AANLkTi=simY2WzHhFT669Tupv6xcA63wagybDiL=Nimi@mail.gmail.com>
Subject: Re: HA Configuration / Best Practices
To: java-user@lucene.apache.org, dev@brightminds.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

One way, not necessarily typical or best practice, but known to work,
is to designate one of your WS layer machines, or another server, as
the master indexer.  Run all index updates on that server and copy
indexes out to other server(s) using rsync.  That is normally quick
since it only takes changes.  Have something that notified slave
servers when they need to reopen their indexes so that searches don't
get out of synch.

Or look at solr.  I believe it takes care of most of this out of the box.


--
Ian.



On Tue, Feb 8, 2011 at 6:23 PM, BrightMinds Dev <dev@brightminds.org> wrote=
:
> Hi,
>
> We are developing a site with a 4 tier design (RP, UI, WS, DB) and on the=
 WS
> tier are looking at how we would setup Lucene in a HA configuration i.e. =
so
> there is no single point of failure. =A0The initial deployment will invol=
ve
> pairs of servers at each tier.
>
> As there are at least 2 servers at the WS (Lucene) tier that implies at
> least 2 indexes.
>
> As far as best practices go:
>
> 1) What is the typical architecture for Lucene in a HA configuration?
>
> 2) How are indexes typically maintained in some sort of sync? =A0i.e. if =
a
> request comes in to do a search on the UI tier and returns a set of resul=
ts
> and we want the next page of results but aren't using say stickiness if t=
he
> indexes are out of sync this could be problematic. =A0No? =A0How are thes=
e
> issues solved?
>
> 3) What types of things are done to the DB to keep track of updates e.g.
> having a last indexed timestamp is great but if you have 2 indexes are yo=
u
> adding 2 columns on each table?
>
> 4) Are there any white papers or references worth looking at?
>
> FYI... the site is being designed to scale to millions of users and alrea=
dy
> incorporates Sharding for user data and related content.
>
> Much Appreciated.
>
> --Nikolaos
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48658-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Feb 09 17:06:46 2011
Return-Path: <java-user-return-48658-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84578 invoked from network); 9 Feb 2011 17:06:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 9 Feb 2011 17:06:46 -0000
Received: (qmail 585 invoked by uid 500); 9 Feb 2011 17:06:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 127 invoked by uid 500); 9 Feb 2011 17:06:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 118 invoked by uid 99); 9 Feb 2011 17:06:38 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Feb 2011 17:06:38 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pablomendes@gmail.com designates 74.125.82.176 as permitted sender)
Received: from [74.125.82.176] (HELO mail-wy0-f176.google.com) (74.125.82.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Feb 2011 17:06:30 +0000
Received: by wye20 with SMTP id 20so395649wye.35
        for <java-user@lucene.apache.org>; Wed, 09 Feb 2011 09:06:10 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=xPDxcRaHA2qU2putsf23nREi9Bp2eLEgL+Fb0HkPouI=;
        b=deGJB3aD4EbOrNFD24utH6xCDkgoqnCgUGUe5WbQ1REoe4Soe0QPF8he/w23B6gU7W
         ZucBuUE2IGI1ilnrKRm1pcgpFzps2LRHG9x36OPoteJW6BB2gyPjv770lGCR2Q4AYA/j
         n2s18M2O16g8MGSb9DpSp/E7w2N2v0vzWa3z0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=kL3krr4WpZ3IjPzJ3EiP71FqvFVahJM3IHglKj+EYBV/VIGU4ZccwmXuo+03layH4+
         xyDGYUc0CvixK/OjLhWzlaQ5pfKO84dwM5014m16CEtzpStOIHh+ac2kMAMy3jwBwEGJ
         nH4apqEp3SJXPo7D1gkLZ5coomDdpqsCR6Qi4=
MIME-Version: 1.0
Received: by 10.216.22.131 with SMTP id t3mr17465814wet.2.1297271170418; Wed,
 09 Feb 2011 09:06:10 -0800 (PST)
Received: by 10.216.38.74 with HTTP; Wed, 9 Feb 2011 09:06:10 -0800 (PST)
Date: Wed, 9 Feb 2011 18:06:10 +0100
Message-ID: <AANLkTi=O+Wvi9B+sOczRpATwwYTd6ZnoLjZCaV=Nexiq@mail.gmail.com>
Subject: HighFreqTerms patch
From: Pablo Mendes <pablomendes@gmail.com>
To: java-user <java-user@lucene.apache.org>
Content-Type: multipart/alternative; boundary=0016364c79494a4dd2049bdc7bcf
X-Virus-Checked: Checked by ClamAV on apache.org

--0016364c79494a4dd2049bdc7bcf
Content-Type: text/plain; charset=ISO-8859-1

Guys,
this is tiny and probably not relevant. But I'll bet a beer that at least a
dozen people had to dirtymod this class while they could have run it from
command line.
A 15 min time save that took 15 min to create. I guess it's a tie.

Best,
Pablo

--- HighFreqTerms.java
+++ ExtractStopwords.java
@@ -30,7 +30,7 @@
 public class HighFreqTerms {

   // The top numTerms will be displayed
-  public static final int numTerms = 100;
+  public static int numTerms = 100;

   public static void main(String[] args) throws Exception {
     IndexReader reader = null;
@@ -40,6 +40,10 @@
     } else if (args.length == 2) {
       reader = IndexReader.open(args[0]);
       field = args[1];
+    } else if (args.length == 3) {
+      reader = IndexReader.open(args[0]);
+      field = args[1];
+      numTerms = new Integer(args[2]);
     } else {
       usage();
       System.exit(1);
@@ -71,7 +75,7 @@
   private static void usage() {
     System.out.println(
          "\n\n"
-         + "java org.apache.lucene.misc.HighFreqTerms <index dir>
[field]\n\n");
+         + "java org.apache.lucene.misc.HighFreqTerms <index dir> [field]
[numTerms] \n\n");
   }
 }

--0016364c79494a4dd2049bdc7bcf--

From java-user-return-48659-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Feb 09 18:55:31 2011
Return-Path: <java-user-return-48659-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52985 invoked from network); 9 Feb 2011 18:55:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 9 Feb 2011 18:55:30 -0000
Received: (qmail 20981 invoked by uid 500); 9 Feb 2011 18:55:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19131 invoked by uid 500); 9 Feb 2011 18:55:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18378 invoked by uid 99); 9 Feb 2011 18:55:21 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Feb 2011 18:55:21 +0000
X-ASF-Spam-Status: No, hits=2.9 required=5.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [67.210.116.230] (HELO mars.lunarpages.com) (67.210.116.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Feb 2011 18:55:13 +0000
Received: from 154-229-113-74.rev.celito.net ([74.113.229.154] helo=legolas)
	by mars.lunarpages.com with esmtp (Exim 4.69)
	(envelope-from <pherold@d-wise.com>)
	id 1PnFBh-0008QN-4y
	for java-user@lucene.apache.org; Wed, 09 Feb 2011 10:54:49 -0800
From: "Phil Herold" <pherold@d-wise.com>
To: <java-user@lucene.apache.org>
Subject: index size doubling / optimization (Lucene 3.0.3)
Date: Wed, 9 Feb 2011 13:58:00 -0500
Message-ID: <00cd01cbc88b$4771f0d0$d655d270$@com>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_00CE_01CBC861.5E9BE8D0"
X-Mailer: Microsoft Office Outlook 12.0
Thread-Index: AcvIi0XIpffJO4TRRbGJCZ/1yDImZg==
Content-Language: en-us
X-ACL-Warn: {
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - mars.lunarpages.com
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - d-wise.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 

------=_NextPart_000_00CE_01CBC861.5E9BE8D0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

I know that the size of a Lucene index can double while optimization is
underway, but it's supposed to eventually settle back down to the original
size, correct? We have a Lucene index consisting of 100K documents, that is
normally about 12GB in size. It is split across 10 sub-indexes which we
search using MultiSearcher. It takes our system about 7 hours to traverse
the file system and update the index, which typically adds, updates or
deletes anywhere from a dozen to a few hundred documents. We optimize each
sub-index at the end (although this is configurable). The system seems to
run fine for several days, with the total size of the index staying fairly
consistent, then all of the sudden the index size doubles to about 25GB, and
stays there. I'm assuming this is happening after an optimization-there is
certainly not a doubling of the data that is being added.

 

Is this expected or known behavior, or a bug of some kind?

 

I've read various postings on the 'net regarding optimization, and when to
do it, if at all, and I'm certainly open to other strategies. Search time is
critical for our users. 

 

FWIW, we have the following tunable parameters configured for our index:

 

mergeFactor: 5

maxMergeDocs: 1000

maxBufferedDocs: 200

RAMBufferSizeMB: 16

 

Any advice or help is appreciated. 


------=_NextPart_000_00CE_01CBC861.5E9BE8D0--


From java-user-return-48660-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Feb 09 23:15:15 2011
Return-Path: <java-user-return-48660-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5957 invoked from network); 9 Feb 2011 23:15:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 9 Feb 2011 23:15:15 -0000
Received: (qmail 19513 invoked by uid 500); 9 Feb 2011 23:15:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19358 invoked by uid 500); 9 Feb 2011 23:15:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19350 invoked by uid 99); 9 Feb 2011 23:15:12 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Feb 2011 23:15:12 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.213.48] (HELO mail-yw0-f48.google.com) (209.85.213.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Feb 2011 23:15:07 +0000
Received: by ywc21 with SMTP id 21so347556ywc.35
        for <java-user@lucene.apache.org>; Wed, 09 Feb 2011 15:14:45 -0800 (PST)
MIME-Version: 1.0
Received: by 10.91.27.32 with SMTP id e32mr2028564agj.37.1297293285693; Wed,
 09 Feb 2011 15:14:45 -0800 (PST)
Received: by 10.147.41.19 with HTTP; Wed, 9 Feb 2011 15:14:45 -0800 (PST)
In-Reply-To: <00cd01cbc88b$4771f0d0$d655d270$@com>
References: <00cd01cbc88b$4771f0d0$d655d270$@com>
Date: Wed, 9 Feb 2011 18:14:45 -0500
Message-ID: <AANLkTinQ8en2J3TQPjuxE2CJcqizCoqN7wnWy1UJ9qG1@mail.gmail.com>
Subject: Re: index size doubling / optimization (Lucene 3.0.3)
From: Michael McCandless <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

This is not expected.

Did the last IW exit "gracefully"?  If so, it should delete the old
segments after swapping in the optimized one.

Can you post infoStream output after running optimize?

Mike

On Wed, Feb 9, 2011 at 1:58 PM, Phil Herold <pherold@d-wise.com> wrote:
> I know that the size of a Lucene index can double while optimization is
> underway, but it's supposed to eventually settle back down to the original
> size, correct? We have a Lucene index consisting of 100K documents, that is
> normally about 12GB in size. It is split across 10 sub-indexes which we
> search using MultiSearcher. It takes our system about 7 hours to traverse
> the file system and update the index, which typically adds, updates or
> deletes anywhere from a dozen to a few hundred documents. We optimize each
> sub-index at the end (although this is configurable). The system seems to
> run fine for several days, with the total size of the index staying fairly
> consistent, then all of the sudden the index size doubles to about 25GB, and
> stays there. I'm assuming this is happening after an optimization-there is
> certainly not a doubling of the data that is being added.
>
>
>
> Is this expected or known behavior, or a bug of some kind?
>
>
>
> I've read various postings on the 'net regarding optimization, and when to
> do it, if at all, and I'm certainly open to other strategies. Search time is
> critical for our users.
>
>
>
> FWIW, we have the following tunable parameters configured for our index:
>
>
>
> mergeFactor: 5
>
> maxMergeDocs: 1000
>
> maxBufferedDocs: 200
>
> RAMBufferSizeMB: 16
>
>
>
> Any advice or help is appreciated.
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48661-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Feb 09 23:16:41 2011
Return-Path: <java-user-return-48661-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6326 invoked from network); 9 Feb 2011 23:16:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 9 Feb 2011 23:16:41 -0000
Received: (qmail 24863 invoked by uid 500); 9 Feb 2011 23:16:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24821 invoked by uid 500); 9 Feb 2011 23:16:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24813 invoked by uid 99); 9 Feb 2011 23:16:38 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Feb 2011 23:16:38 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.160.176] (HELO mail-gy0-f176.google.com) (209.85.160.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Feb 2011 23:16:30 +0000
Received: by gyf1 with SMTP id 1so349949gyf.35
        for <java-user@lucene.apache.org>; Wed, 09 Feb 2011 15:16:09 -0800 (PST)
MIME-Version: 1.0
Received: by 10.150.92.1 with SMTP id p1mr162392ybb.199.1297293369118; Wed, 09
 Feb 2011 15:16:09 -0800 (PST)
Received: by 10.147.41.19 with HTTP; Wed, 9 Feb 2011 15:16:09 -0800 (PST)
In-Reply-To: <AANLkTi=O+Wvi9B+sOczRpATwwYTd6ZnoLjZCaV=Nexiq@mail.gmail.com>
References: <AANLkTi=O+Wvi9B+sOczRpATwwYTd6ZnoLjZCaV=Nexiq@mail.gmail.com>
Date: Wed, 9 Feb 2011 18:16:09 -0500
Message-ID: <AANLkTimDqw3KEzSG5iXeVBu=EOQfg_F2PpOtiB+BnEHr@mail.gmail.com>
Subject: Re: HighFreqTerms patch
From: Michael McCandless <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Hmm, which version of Lucene are you using?  Newer versions let you
specify a field...

Mike

On Wed, Feb 9, 2011 at 12:06 PM, Pablo Mendes <pablomendes@gmail.com> wrote=
:
> Guys,
> this is tiny and probably not relevant. But I'll bet a beer that at least=
 a
> dozen people had to dirtymod this class while they could have run it from
> command line.
> A 15 min time save that took 15 min to create. I guess it's a tie.
>
> Best,
> Pablo
>
> --- HighFreqTerms.java
> +++ ExtractStopwords.java
> @@ -30,7 +30,7 @@
> =A0public class HighFreqTerms {
>
> =A0 // The top numTerms will be displayed
> - =A0public static final int numTerms =3D 100;
> + =A0public static int numTerms =3D 100;
>
> =A0 public static void main(String[] args) throws Exception {
> =A0 =A0 IndexReader reader =3D null;
> @@ -40,6 +40,10 @@
> =A0 =A0 } else if (args.length =3D=3D 2) {
> =A0 =A0 =A0 reader =3D IndexReader.open(args[0]);
> =A0 =A0 =A0 field =3D args[1];
> + =A0 =A0} else if (args.length =3D=3D 3) {
> + =A0 =A0 =A0reader =3D IndexReader.open(args[0]);
> + =A0 =A0 =A0field =3D args[1];
> + =A0 =A0 =A0numTerms =3D new Integer(args[2]);
> =A0 =A0 } else {
> =A0 =A0 =A0 usage();
> =A0 =A0 =A0 System.exit(1);
> @@ -71,7 +75,7 @@
> =A0 private static void usage() {
> =A0 =A0 System.out.println(
> =A0 =A0 =A0 =A0 =A0"\n\n"
> - =A0 =A0 =A0 =A0 + "java org.apache.lucene.misc.HighFreqTerms <index dir=
>
> [field]\n\n");
> + =A0 =A0 =A0 =A0 + "java org.apache.lucene.misc.HighFreqTerms <index dir=
> [field]
> [numTerms] \n\n");
> =A0 }
> =A0}
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48662-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Feb 09 23:17:18 2011
Return-Path: <java-user-return-48662-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6425 invoked from network); 9 Feb 2011 23:17:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 9 Feb 2011 23:17:18 -0000
Received: (qmail 26996 invoked by uid 500); 9 Feb 2011 23:17:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26804 invoked by uid 500); 9 Feb 2011 23:17:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26796 invoked by uid 99); 9 Feb 2011 23:17:15 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Feb 2011 23:17:15 +0000
X-ASF-Spam-Status: No, hits=2.0 required=5.0
	tests=RCVD_IN_BL_SPAMCOP_NET,RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.161.176] (HELO mail-gx0-f176.google.com) (209.85.161.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Feb 2011 23:17:09 +0000
Received: by gxk4 with SMTP id 4so348491gxk.35
        for <java-user@lucene.apache.org>; Wed, 09 Feb 2011 15:16:48 -0800 (PST)
MIME-Version: 1.0
Received: by 10.146.167.16 with SMTP id p16mr361272yae.6.1297293408153; Wed,
 09 Feb 2011 15:16:48 -0800 (PST)
Received: by 10.147.41.19 with HTTP; Wed, 9 Feb 2011 15:16:48 -0800 (PST)
In-Reply-To: <AANLkTimDqw3KEzSG5iXeVBu=EOQfg_F2PpOtiB+BnEHr@mail.gmail.com>
References: <AANLkTi=O+Wvi9B+sOczRpATwwYTd6ZnoLjZCaV=Nexiq@mail.gmail.com>
	<AANLkTimDqw3KEzSG5iXeVBu=EOQfg_F2PpOtiB+BnEHr@mail.gmail.com>
Date: Wed, 9 Feb 2011 18:16:48 -0500
Message-ID: <AANLkTikgFxoz1Nk6Jn8bvuL1MAS50f2yH049OemOGprG@mail.gmail.com>
Subject: Re: HighFreqTerms patch
From: Michael McCandless <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Sorry, I mean "let you specify numTerms".

Mike

On Wed, Feb 9, 2011 at 6:16 PM, Michael McCandless
<lucene@mikemccandless.com> wrote:
> Hmm, which version of Lucene are you using? =A0Newer versions let you
> specify a field...
>
> Mike
>
> On Wed, Feb 9, 2011 at 12:06 PM, Pablo Mendes <pablomendes@gmail.com> wro=
te:
>> Guys,
>> this is tiny and probably not relevant. But I'll bet a beer that at leas=
t a
>> dozen people had to dirtymod this class while they could have run it fro=
m
>> command line.
>> A 15 min time save that took 15 min to create. I guess it's a tie.
>>
>> Best,
>> Pablo
>>
>> --- HighFreqTerms.java
>> +++ ExtractStopwords.java
>> @@ -30,7 +30,7 @@
>> =A0public class HighFreqTerms {
>>
>> =A0 // The top numTerms will be displayed
>> - =A0public static final int numTerms =3D 100;
>> + =A0public static int numTerms =3D 100;
>>
>> =A0 public static void main(String[] args) throws Exception {
>> =A0 =A0 IndexReader reader =3D null;
>> @@ -40,6 +40,10 @@
>> =A0 =A0 } else if (args.length =3D=3D 2) {
>> =A0 =A0 =A0 reader =3D IndexReader.open(args[0]);
>> =A0 =A0 =A0 field =3D args[1];
>> + =A0 =A0} else if (args.length =3D=3D 3) {
>> + =A0 =A0 =A0reader =3D IndexReader.open(args[0]);
>> + =A0 =A0 =A0field =3D args[1];
>> + =A0 =A0 =A0numTerms =3D new Integer(args[2]);
>> =A0 =A0 } else {
>> =A0 =A0 =A0 usage();
>> =A0 =A0 =A0 System.exit(1);
>> @@ -71,7 +75,7 @@
>> =A0 private static void usage() {
>> =A0 =A0 System.out.println(
>> =A0 =A0 =A0 =A0 =A0"\n\n"
>> - =A0 =A0 =A0 =A0 + "java org.apache.lucene.misc.HighFreqTerms <index di=
r>
>> [field]\n\n");
>> + =A0 =A0 =A0 =A0 + "java org.apache.lucene.misc.HighFreqTerms <index di=
r> [field]
>> [numTerms] \n\n");
>> =A0 }
>> =A0}
>>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48663-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Feb 10 01:03:59 2011
Return-Path: <java-user-return-48663-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56070 invoked from network); 10 Feb 2011 01:03:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Feb 2011 01:03:58 -0000
Received: (qmail 37140 invoked by uid 500); 10 Feb 2011 01:03:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37078 invoked by uid 500); 10 Feb 2011 01:03:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37066 invoked by uid 99); 10 Feb 2011 01:03:55 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Feb 2011 01:03:55 +0000
X-ASF-Spam-Status: No, hits=2.9 required=5.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [67.210.116.230] (HELO mars.lunarpages.com) (67.210.116.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Feb 2011 01:03:46 +0000
Received: from 154-229-113-74.rev.celito.net ([74.113.229.154] helo=legolas)
	by mars.lunarpages.com with esmtp (Exim 4.69)
	(envelope-from <pherold@d-wise.com>)
	id 1PnKwI-0001in-GY
	for java-user@lucene.apache.org; Wed, 09 Feb 2011 17:03:20 -0800
From: "Phil Herold" <pherold@d-wise.com>
To: <java-user@lucene.apache.org>
Subject: Re: index size doubling / optimization (Lucene 3.0.3)
Date: Wed, 9 Feb 2011 20:06:30 -0500
Message-ID: <013a01cbc8be$c1fd8570$45f89050$@com>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_013B_01CBC894.D9277D70"
X-Mailer: Microsoft Office Outlook 12.0
Thread-Index: AcvIvsBaousocFaFT5q98ORGCE1vTQ==
Content-Language: en-us
X-ACL-Warn: {
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - mars.lunarpages.com
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - d-wise.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked by ClamAV on apache.org

------=_NextPart_000_013B_01CBC894.D9277D70
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

I didn't have any errors or exceptions. Sorry to be dense, but what exactly
is the "infoStream output" you're asking about?

 

>This is not expected.

> 

>Did the last IW exit "gracefully"?  If so, it should delete the old

>segments after swapping in the optimized one.

 

>Can you post infoStream output after running optimize?

> 

>Mike

 


------=_NextPart_000_013B_01CBC894.D9277D70--


From java-user-return-48664-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Feb 10 05:39:39 2011
Return-Path: <java-user-return-48664-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80609 invoked from network); 10 Feb 2011 05:39:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Feb 2011 05:39:39 -0000
Received: (qmail 29054 invoked by uid 500); 10 Feb 2011 05:39:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28654 invoked by uid 500); 10 Feb 2011 05:39:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28635 invoked by uid 99); 10 Feb 2011 05:39:32 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Feb 2011 05:39:32 +0000
X-ASF-Spam-Status: No, hits=3.2 required=5.0
	tests=ASF_LIST_OPS,EXTRA_MPART_TYPE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [182.71.53.3] (HELO mail.otssolutions.com) (182.71.53.3)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Feb 2011 05:39:27 +0000
Received: from MAIL.otssolutions.com ([fe80::204d:b7bb:ceb3:c049]) by
 MAIL.otssolutions.com ([fe80::204d:b7bb:ceb3:c049%11]) with mapi; Thu, 10 Feb
 2011 11:08:32 +0530
From: Ranjit Kumar <Ranjit.Kumar@otssolutions.com>
To: "java-user-help@lucene.apache.org" <java-user-help@lucene.apache.org>,
	"java-user@lucene.apache.org" <java-user@lucene.apache.org>
Subject: lucene 3.0.3 | phrase query problem
Thread-Topic: lucene 3.0.3 | phrase query problem
Thread-Index: AcvI5L+cu3x6b/aAQRee0H1dsgQPOw==
Date: Thu, 10 Feb 2011 05:38:30 +0000
Message-ID: <AD21521D44870544AC66F4FDFC0A474C35412904@MAIL.otssolutions.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator:
Content-Type: multipart/related;
	boundary="_004_AD21521D44870544AC66F4FDFC0A474C35412904MAILotssolution_";
	type="multipart/alternative"
MIME-Version: 1.0

--_004_AD21521D44870544AC66F4FDFC0A474C35412904MAILotssolution_
Content-Type: multipart/alternative;
	boundary="_000_AD21521D44870544AC66F4FDFC0A474C35412904MAILotssolution_"

--_000_AD21521D44870544AC66F4FDFC0A474C35412904MAILotssolution_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi,

I am using SpanQuery and SpanNearQuery to get phrase query like "Sql Server=
".

In my text file in which I am searching, it is present like (sql. server) m=
ean 'sql dot server'  which is not a span like "Sql Server".

While searching for phrase query "Sql Server". It gives result for (sql. se=
rver) which is not correct.

I am using StandardAnalyzer on both side while creating index or searching =
on files. While creating index Field.Index.NOT_ANALYZED  is used.



Please, give your suggestion !!!


Thanks & Regards,
Ranjit Kumar
Associate Software Engineer

[cid:image002.jpg@01CB7089.C0069B40]

US:       +1 408.540.0001
UK:       +44 208.099.1660
India:   +91 124.474.8100 | +91 124.410.1350
FAX:     +1 408.516.9050
http://www.otssolutions.com

=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D Pr=
ivate, Confidential and Privileged. This e-mail and any files and attachmen=
ts transmitted with it are confidential and/or privileged. They are intende=
d solely for the use of the intended recipient. The content of this e-mail =
and any file or attachment transmitted with it may have been changed or alt=
ered without the consent of the author. If you are not the intended recipie=
nt, please note that any review, dissemination, disclosure, alteration, pri=
nting, circulation or Transmission of this e-mail and/or any file or attach=
ment transmitted with it, is prohibited and may be unlawful. If you have re=
ceived this e-mail or any file or attachment transmitted with it in error p=
lease notify OTS Solutions at info@otssolutions.com =3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D

--_000_AD21521D44870544AC66F4FDFC0A474C35412904MAILotssolution_
Content-Type: text/html; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" xmlns:o=3D"urn:schemas-micr=
osoft-com:office:office" xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns:m=3D"http://schemas.microsoft.com/office/2004/12/omml" xmlns=3D"http:=
//www.w3.org/TR/REC-html40">
<head>
<meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dus-ascii"=
>
<meta name=3D"Generator" content=3D"Microsoft Word 12 (filtered medium)">
<!--[if !mso]><style>v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style><![endif]--><style><!--
/* Font Definitions */
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Palatino Linotype";
	panose-1:2 4 5 2 5 5 5 3 3 4;}
/* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
a:link, span.MsoHyperlink
	{mso-style-priority:99;
	color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{mso-style-priority:99;
	color:purple;
	text-decoration:underline;}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-priority:99;
	mso-style-link:"Balloon Text Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:8.0pt;
	font-family:"Tahoma","sans-serif";}
p.MsoIntenseQuote, li.MsoIntenseQuote, div.MsoIntenseQuote
	{mso-style-priority:30;
	mso-style-link:"Intense Quote Char";
	margin-top:10.0pt;
	margin-right:.65in;
	margin-bottom:14.0pt;
	margin-left:.65in;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";
	color:#4F81BD;
	font-weight:bold;
	font-style:italic;}
span.EmailStyle17
	{mso-style-type:personal-compose;
	font-family:"Calibri","sans-serif";
	color:windowtext;}
span.BalloonTextChar
	{mso-style-name:"Balloon Text Char";
	mso-style-priority:99;
	mso-style-link:"Balloon Text";
	font-family:"Tahoma","sans-serif";}
span.IntenseQuoteChar
	{mso-style-name:"Intense Quote Char";
	mso-style-priority:30;
	mso-style-link:"Intense Quote";
	font-family:"Calibri","sans-serif";
	color:#4F81BD;
	font-weight:bold;
	font-style:italic;}
.MsoChpDefault
	{mso-style-type:export-only;}
@page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
--></style><!--[if gte mso 9]><xml>
<o:shapedefaults v:ext=3D"edit" spidmax=3D"2050" />
</xml><![endif]--><!--[if gte mso 9]><xml>
<o:shapelayout v:ext=3D"edit">
<o:idmap v:ext=3D"edit" data=3D"1" />
</o:shapelayout></xml><![endif]-->
</head>
<body lang=3D"EN-US" link=3D"blue" vlink=3D"purple">
<div class=3D"WordSection1">
<p class=3D"MsoIntenseQuote" style=3D"text-align:justify"><span style=3D"fo=
nt-weight:normal;font-style:normal">Hi,<o:p></o:p></span></p>
<p class=3D"MsoIntenseQuote" style=3D"text-align:justify"><span style=3D"fo=
nt-weight:normal;font-style:normal">I am using</span> SpanQuery
<span style=3D"font-weight:normal;font-style:normal">and</span> SpanNearQue=
ry <span style=3D"font-weight:normal;font-style:normal">
to get phrase query like</span> &#8220;Sql Server&#8221;.<o:p></o:p></p>
<p class=3D"MsoIntenseQuote" style=3D"text-align:justify"><span style=3D"fo=
nt-weight:normal;font-style:normal">In my text file in which I am searching=
, it is present like</span> (<span style=3D"color:#00B050">sql</span><span =
style=3D"color:red">.
</span><span style=3D"color:#00B050">server</span>) mean <span style=3D"fon=
t-weight:normal;font-style:normal">
&#8216;sql dot server&#8217; &nbsp;which is not a span like &#8220;Sql Serv=
er&#8221;.</span><o:p></o:p></p>
<p class=3D"MsoIntenseQuote" style=3D"text-align:justify"><span style=3D"fo=
nt-weight:normal;font-style:normal">While searching for phrase query &#8220=
;Sql Server&#8221;. It gives result for</span> (<span style=3D"color:#00B05=
0">sql</span><span style=3D"color:red">.
</span><span style=3D"color:#00B050">server</span>) <span style=3D"font-wei=
ght:normal;font-style:normal">
which is not correct</span>.<o:p></o:p></p>
<p class=3D"MsoIntenseQuote" style=3D"text-align:justify"><span style=3D"fo=
nt-weight:normal;font-style:normal">I am using</span> StandardAnalyzer
<span style=3D"font-weight:normal;font-style:normal">on both side while cre=
ating index or searching on files. While creating index</span> Field.Index.=
NOT_ANALYZED &nbsp;<span style=3D"font-weight:normal;font-style:normal">is =
used.</span><o:p></o:p></p>
<p class=3D"MsoIntenseQuote" style=3D"text-align:justify"><o:p>&nbsp;</o:p>=
</p>
<p class=3D"MsoIntenseQuote" style=3D"text-align:justify">Please, give your=
 suggestion !!!<o:p></o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal"><span style=3D"font-family:&quot;Palatino Linotype&q=
uot;,&quot;serif&quot;;color:navy">Thanks &amp; Regards,</span><span style=
=3D"font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:navy"=
><o:p></o:p></span></p>
<p class=3D"MsoNormal"><b><span style=3D"font-family:&quot;Palatino Linotyp=
e&quot;,&quot;serif&quot;;color:purple">Ranjit Kumar&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></b><b><span style=3D"font-size:12.0pt;font-family:&quot;Palatino Li=
notype&quot;,&quot;serif&quot;;color:purple"><o:p></o:p></span></b></p>
<p class=3D"MsoNormal"><span style=3D"font-family:&quot;Palatino Linotype&q=
uot;,&quot;serif&quot;;color:navy">Associate Software Engineer<o:p></o:p></=
span></p>
<p class=3D"MsoNormal"><span style=3D"font-family:&quot;Palatino Linotype&q=
uot;,&quot;serif&quot;;color:navy"><o:p>&nbsp;</o:p></span></p>
<p class=3D"MsoNormal"><span style=3D"font-family:&quot;Palatino Linotype&q=
uot;,&quot;serif&quot;;color:navy"><img width=3D"236" height=3D"53" id=3D"P=
icture_x0020_1" src=3D"cid:image001.jpg@01CBC912.D04358E0" alt=3D"cid:image=
002.jpg@01CB7089.C0069B40"><o:p></o:p></span></p>
<p class=3D"MsoNormal"><span style=3D"font-family:&quot;Palatino Linotype&q=
uot;,&quot;serif&quot;;color:navy"><o:p>&nbsp;</o:p></span></p>
<p class=3D"MsoNormal"><b><span style=3D"font-family:&quot;Palatino Linotyp=
e&quot;,&quot;serif&quot;;color:navy">US:</span></b><span style=3D"font-fam=
ily:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:navy"> &nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp; &#43;1 408.540.0001
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><b><span style=3D"font-family:&quot;Palatino Linotyp=
e&quot;,&quot;serif&quot;;color:navy">UK:</span></b><span style=3D"font-fam=
ily:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:navy"> &nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp; &#43;44 208.099.1660<o:p></o:p></span></p>
<p class=3D"MsoNormal"><b><span style=3D"font-family:&quot;Palatino Linotyp=
e&quot;,&quot;serif&quot;;color:navy">India:</span></b><span style=3D"font-=
family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:navy"> &nbsp;&=
nbsp;&#43;91 124.474.8100 | &#43;91 124.410.1350<o:p></o:p></span></p>
<p class=3D"MsoNormal" style=3D"margin-bottom:12.0pt"><b><span style=3D"fon=
t-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:navy">FAX:</=
span></b><span style=3D"font-family:&quot;Palatino Linotype&quot;,&quot;ser=
if&quot;;color:navy"> &nbsp;&nbsp;&nbsp; &#43;1 408.516.9050<o:p></o:p></sp=
an></p>
<p class=3D"MsoNormal"><span style=3D"font-family:&quot;Palatino Linotype&q=
uot;,&quot;serif&quot;;color:navy"><a href=3D"http://www.otssolutions.com">=
<span style=3D"color:blue">http://www.otssolutions.com</span></a><o:p></o:p=
></span></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
</div>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D Pr=
ivate, Confidential and Privileged. This e-mail and any files and attachmen=
ts transmitted with it are confidential and/or privileged. They are intende=
d solely
 for the use of the intended recipient. The content of this e-mail and any =
file or attachment transmitted with it may have been changed or altered wit=
hout the consent of the author. If you are not the intended recipient, plea=
se note that any review, dissemination,
 disclosure, alteration, printing, circulation or Transmission of this e-ma=
il and/or any file or attachment transmitted with it, is prohibited and may=
 be unlawful. If you have received this e-mail or any file or attachment tr=
ansmitted with it in error please
 notify OTS Solutions at info@otssolutions.com =3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
</body>
</html>

--_000_AD21521D44870544AC66F4FDFC0A474C35412904MAILotssolution_--

--_004_AD21521D44870544AC66F4FDFC0A474C35412904MAILotssolution_--

From java-user-return-48665-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Feb 10 06:16:07 2011
Return-Path: <java-user-return-48665-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 934 invoked from network); 10 Feb 2011 06:16:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Feb 2011 06:16:07 -0000
Received: (qmail 49163 invoked by uid 500); 10 Feb 2011 06:16:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48779 invoked by uid 500); 10 Feb 2011 06:16:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48771 invoked by uid 99); 10 Feb 2011 06:16:01 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Feb 2011 06:16:01 +0000
X-ASF-Spam-Status: No, hits=0.2 required=5.0
	tests=ASF_LIST_OPS,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of Lisheng.Zhang@broadvision.com designates 139.56.8.26 as permitted sender)
Received: from [139.56.8.26] (HELO mail-fw.broadvision.com) (139.56.8.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Feb 2011 06:15:55 +0000
X-ASG-Debug-ID: 1297318534-3e91000c0000-H1Y1KX
X-Barracuda-URL: http://mail-fw.broadvision.com:8000/cgi-bin/mark.cgi
Received: from RW-EX2003.BROADVISION.COM (localhost [127.0.0.1])
	by mail-fw.broadvision.com (Spam Firewall) with ESMTP
	id 82CAE8371A; Wed,  9 Feb 2011 22:15:34 -0800 (PST)
Received: from RW-EX2003.BROADVISION.COM ([10.10.160.33]) by mail-fw.broadvision.com with ESMTP id 5xr9UXHVIy03d1JI; Wed, 09 Feb 2011 22:15:34 -0800 (PST)
X-ASG-Whitelist: Client
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01CBC8E9.ED40CE57"
X-ASG-Orig-Subj: RE: lucene 3.0.3 | phrase query problem
Subject: RE: lucene 3.0.3 | phrase query problem
Date: Wed, 9 Feb 2011 22:15:34 -0800
Message-ID: <ED081AC9AEEE0248BBCCDE9989AAE3FC02CB18E6@rw-ex2003.BROADVISION.COM>
In-Reply-To: <AD21521D44870544AC66F4FDFC0A474C35412904@MAIL.otssolutions.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: lucene 3.0.3 | phrase query problem
Thread-Index: AcvI5L+cu3x6b/aAQRee0H1dsgQPOwABCibw
From: "Zhang, Lisheng" <Lisheng.Zhang@BroadVision.com>
To: <java-user@lucene.apache.org>,
	<java-user-help@lucene.apache.org>
X-Barracuda-Connect: UNKNOWN[10.10.160.33]
X-Barracuda-Start-Time: 1297318534
X-Barracuda-Virus-Scanned: by Barracuda Spam Firewall at broadvision.com

------_=_NextPart_001_01CBC8E9.ED40CE57
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,
=20
I think using Field.Index.NOT_ANALYZED means ignoring StandardAnalyzer, =
so we
index "sql. server" as one word. You may use luke to see how this field =
is indexed.
=20
In this case we can only search whole term (without case change even), =
if using the
StandardAnalyzer to analyze "sql. server" we should not get result?
=20
Best regards, Lisheng

-----Original Message-----
From: Ranjit Kumar [mailto:Ranjit.Kumar@otssolutions.com]
Sent: Wednesday, February 09, 2011 9:39 PM
To: java-user-help@lucene.apache.org; java-user@lucene.apache.org
Subject: lucene 3.0.3 | phrase query problem



Hi,

I am using SpanQuery and SpanNearQuery to get phrase query like "Sql =
Server".

In my text file in which I am searching, it is present like (sql. =
server) mean 'sql dot server'  which is not a span like "Sql Server".

While searching for phrase query "Sql Server". It gives result for (sql. =
server) which is not correct.

I am using StandardAnalyzer on both side while creating index or =
searching on files. While creating index Field.Index.NOT_ANALYZED  is =
used.

=20

Please, give your suggestion !!!

=20

=20

Thanks & Regards,

Ranjit Kumar                      =20

Associate Software Engineer

=20

cid:image002.jpg@01CB7089.C0069B40

=20

US:       +1 408.540.0001=20

UK:       +44 208.099.1660

India:   +91 124.474.8100 | +91 124.410.1350

FAX:     +1 408.516.9050

 <http://www.otssolutions.com> http://www.otssolutions.com

=20

=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D =
Private, Confidential and Privileged. This e-mail and any files and =
attachments transmitted with it are confidential and/or privileged. They =
are intended solely for the use of the intended recipient. The content =
of this e-mail and any file or attachment transmitted with it may have =
been changed or altered without the consent of the author. If you are =
not the intended recipient, please note that any review, dissemination, =
disclosure, alteration, printing, circulation or Transmission of this =
e-mail and/or any file or attachment transmitted with it, is prohibited =
and may be unlawful. If you have received this e-mail or any file or =
attachment transmitted with it in error please notify OTS Solutions at =
info@otssolutions.com =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D =



------_=_NextPart_001_01CBC8E9.ED40CE57--

From java-user-return-48666-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Feb 10 08:35:10 2011
Return-Path: <java-user-return-48666-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66601 invoked from network); 10 Feb 2011 08:35:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Feb 2011 08:35:09 -0000
Received: (qmail 81821 invoked by uid 500); 10 Feb 2011 08:35:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81318 invoked by uid 500); 10 Feb 2011 08:35:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81310 invoked by uid 99); 10 Feb 2011 08:35:03 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Feb 2011 08:35:03 +0000
X-ASF-Spam-Status: No, hits=4.4 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [68.142.200.115] (HELO web30502.mail.mud.yahoo.com) (68.142.200.115)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 10 Feb 2011 08:34:55 +0000
Received: (qmail 16763 invoked by uid 60001); 10 Feb 2011 08:34:34 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1297326874; bh=CEuYmM2O4qrM5vaPE3ETwo72pbZM7f8jrbCbGKcu5ak=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=FAsVHHezf3DaRPDmWLnE3WZGnp21Y3OLdnNRD2JeIMNVcccEFICFGLNwnI51H4vWoUIGO3v7kcfKbvZT5J/ZauiuKSMZnRyqR694aR80/h39UY8Tk1NFhE0w8KBQM0Vstv4dRtpqS03fS2G2f3MKm8ZXU26Yp22IlOTraOcaNL0=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=m3IvvDEdDGzPo5D7ouUtuMNB0pLRwyrlwm5bfGytyu+iDd3AHFVTfm+V7i8bpM2mOIGRP8YKz+usNviWGg/VPX5+ei4WLX3EcRbmj/cIklSlvbCwjfwJbY/GPUlBtjW0JJOsSkYSwdWiWoWlq0W7pPpGY8LH8YyCaRXJ60VH3xw=;
Message-ID: <153475.71123.qm@web30502.mail.mud.yahoo.com>
X-YMail-OSG: gRi4PpYVM1mVhz7GIaEiAO88kOaVVixtH4msI1jk8TDvQo6
 NB2KUXE8YGee2uYIzqYgEc8efsT7.rSwuTQtK4sceMEdXnxGy.HZXKZi1l9o
 gnmHiqxkcwhY2NEuGo4EbKQi8wbzXqYzQgzLc_J6IEGxLFfvvobc8wcWdF0J
 g0cKsb8VF4yjvV_rMdQTSBVZYMziP2vEp7DI3kGzqHzaL_.lCLGUA9IaFP.G
 2CAee7d0gMPA2KMFdYp2g9X1wmPBvZ8w5jm90zbAC3AsnSSpMWsjWQpdzyh6
 _zNbRoqZItu5VPQHWOjEJs2k5k9X0cOQrYSkPe7L0JfjxkUHxOheTNTjCb2G
 Crlt.kT3FgpQuDHddA9A9Sbly89kolMFHBsZwmClulPuXeWlqdzalBQ--
Received: from [199.203.197.196] by web30502.mail.mud.yahoo.com via HTTP; Thu, 10 Feb 2011 00:34:33 PST
X-Mailer: YahooMailClassic/11.4.20 YahooMailWebService/0.8.108.291010
Date: Thu, 10 Feb 2011 00:34:33 -0800 (PST)
From: sol myr <solmyr72@yahoo.com>
Subject: Re: [Lucene] custom Query, and Stop Words
To: java-user@lucene.apache.org
In-Reply-To: <AANLkTin+apmk8A9HkO8L10E6ocBd0rz8sWnAa8AYuv2o@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-112861539-1297326873=:71123"

--0-112861539-1297326873=:71123
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Thanks so much - I used STOP_WORDS_SET and it works fine (luckily, punctuat=
ion and case are not a problem in our case).
Thanks !

--- On Wed, 2/9/11, Ian Lea <ian.lea@gmail.com> wrote:

From: Ian Lea <ian.lea@gmail.com>
Subject: Re: [Lucene] custom Query, and Stop Words
To: java-user@lucene.apache.org
Date: Wednesday, February 9, 2011, 1:58 AM

Have you considered using stemming instead?=A0 Sounds like that might
make most of your problems go away and achieve the same result.

I'm not aware of a utility method to remove stop words from a string
but there are ways of passing data through analyzers/tokenizers and
grabbing the output. StandardAnalyzer stores the stop words in
STOP_WORDS_SET and you might be able to use that directly, or pass in
your own set of stop works which you would obviously have access to.

If you stick with your split/word by word approach, watch out for
punctuation.and Mixed Case and other complications.


--
Ian.

On Wed, Feb 9, 2011 at 8:43 AM, sol myr <solmyr72@yahoo.com> wrote:
> Hi,
>
> I'm building my own BooleanQuery (rather than using Query Parser). That's=
 because I need different defaults from my users:
> If a user types:=A0 java program
> I need to run the query: +java* +program* (namely AND search, with Prefix=
 so as to hit "programS", "programMER").
>
> So naively I split the user's input into words, and build my query term-b=
y-term:
> =A0=A0 String[] words=3D userInput.split(" ");
> =A0=A0 BooleanQuery query=3Dnew BooleanQuery();
> =A0=A0 for(String word: words)
> =A0=A0=A0=A0=A0=A0 query.add(new PrefixQuery(new Term("topic", word)), Oc=
cur.MUST);
>
> But since my index is built with StandardAnalyzer, I'm having trouble wit=
h Stop Words.
> If the user types: program of java
> Then of course my query (+program* +of* +java+) returns zero results.
>
> Is there an easy solution?
> I'd like to keep using StandardAnalyzer (I don't want to index by stupid =
keywords such as "of"). I would just like stop-words to be removed from my =
query (as QueryParser does).
> Is there some utility method for this? Direct access to the list of stop-=
words?
>
> Thanks
>
>
>
>
> _________________________________________________________________________=
___________
> Bored stiff? Loosen up...
> Download and play hundreds of games for free on Yahoo! Games.
> http://games.yahoo.com/games/front

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

=0A=0A=0A      
--0-112861539-1297326873=:71123--

From java-user-return-48667-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Feb 10 12:20:12 2011
Return-Path: <java-user-return-48667-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24359 invoked from network); 10 Feb 2011 12:20:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Feb 2011 12:20:12 -0000
Received: (qmail 33734 invoked by uid 500); 10 Feb 2011 12:20:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33174 invoked by uid 500); 10 Feb 2011 12:20:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33149 invoked by uid 99); 10 Feb 2011 12:20:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Feb 2011 12:20:06 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pablomendes@gmail.com designates 74.125.82.176 as permitted sender)
Received: from [74.125.82.176] (HELO mail-wy0-f176.google.com) (74.125.82.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Feb 2011 12:20:01 +0000
Received: by wye20 with SMTP id 20so1277127wye.35
        for <java-user@lucene.apache.org>; Thu, 10 Feb 2011 04:19:39 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=A1ViRe0/91v0eOJ0JO72cZlFDZ1AfLEXTuXV/KQe8wk=;
        b=Ol2ru0QNt/U4xCoLV6BNIBY1CVBmAkwJt7YSyP+Z/6KRX0wy6MLdI7+6ATJFn/ZKdo
         eV4Kr371GK3iZvG0SzWvN5O/o1WDMqdzIYZQS5iHUCdcdFk0ipAIXtYlIFA3JW8ro0cI
         tU0VORazoDIfyg92bO0VICNVEopJpT7TGJysw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=jfvCvAs3OX3lgJC+vxRJQytHeiVJ2WXb76xqaAAYRXiGn/2ODtrMKU6KL7fn5BiEfb
         yW+aIuB/60kK0/hbeTieqRbw37YCDXop+EKLfKcoUwVWMaXFDDof32WtT+FExReOkLCW
         z2O+V4lv+YWZME9ss04ROvCq0o+EhBYPgUPyc=
MIME-Version: 1.0
Received: by 10.216.176.142 with SMTP id b14mr18471552wem.32.1297340379684;
 Thu, 10 Feb 2011 04:19:39 -0800 (PST)
Received: by 10.216.38.74 with HTTP; Thu, 10 Feb 2011 04:19:39 -0800 (PST)
In-Reply-To: <AANLkTikgFxoz1Nk6Jn8bvuL1MAS50f2yH049OemOGprG@mail.gmail.com>
References: <AANLkTi=O+Wvi9B+sOczRpATwwYTd6ZnoLjZCaV=Nexiq@mail.gmail.com>
	<AANLkTimDqw3KEzSG5iXeVBu=EOQfg_F2PpOtiB+BnEHr@mail.gmail.com>
	<AANLkTikgFxoz1Nk6Jn8bvuL1MAS50f2yH049OemOGprG@mail.gmail.com>
Date: Thu, 10 Feb 2011 13:19:39 +0100
Message-ID: <AANLkTi=StXPKqjvwHv_EZ=uNxgZB4OYcWSXY9RskFan_@mail.gmail.com>
Subject: Re: HighFreqTerms patch
From: Pablo Mendes <pablomendes@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e65842467bf007049bec98f1

--0016e65842467bf007049bec98f1
Content-Type: text/plain; charset=ISO-8859-1

You're right. My bad! I was looking at 2.9.3. :(
I guess I owe somebody a beer. :)

On Thu, Feb 10, 2011 at 12:16 AM, Michael McCandless <
lucene@mikemccandless.com> wrote:

> Sorry, I mean "let you specify numTerms".
>
> Mike
>
> On Wed, Feb 9, 2011 at 6:16 PM, Michael McCandless
> <lucene@mikemccandless.com> wrote:
> > Hmm, which version of Lucene are you using?  Newer versions let you
> > specify a field...
> >
> > Mike
> >
> > On Wed, Feb 9, 2011 at 12:06 PM, Pablo Mendes <pablomendes@gmail.com>
> wrote:
> >> Guys,
> >> this is tiny and probably not relevant. But I'll bet a beer that at
> least a
> >> dozen people had to dirtymod this class while they could have run it
> from
> >> command line.
> >> A 15 min time save that took 15 min to create. I guess it's a tie.
> >>
> >> Best,
> >> Pablo
> >>
> >> --- HighFreqTerms.java
> >> +++ ExtractStopwords.java
> >> @@ -30,7 +30,7 @@
> >>  public class HighFreqTerms {
> >>
> >>   // The top numTerms will be displayed
> >> -  public static final int numTerms = 100;
> >> +  public static int numTerms = 100;
> >>
> >>   public static void main(String[] args) throws Exception {
> >>     IndexReader reader = null;
> >> @@ -40,6 +40,10 @@
> >>     } else if (args.length == 2) {
> >>       reader = IndexReader.open(args[0]);
> >>       field = args[1];
> >> +    } else if (args.length == 3) {
> >> +      reader = IndexReader.open(args[0]);
> >> +      field = args[1];
> >> +      numTerms = new Integer(args[2]);
> >>     } else {
> >>       usage();
> >>       System.exit(1);
> >> @@ -71,7 +75,7 @@
> >>   private static void usage() {
> >>     System.out.println(
> >>          "\n\n"
> >> -         + "java org.apache.lucene.misc.HighFreqTerms <index dir>
> >> [field]\n\n");
> >> +         + "java org.apache.lucene.misc.HighFreqTerms <index dir>
> [field]
> >> [numTerms] \n\n");
> >>   }
> >>  }
> >>
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--0016e65842467bf007049bec98f1--

From java-user-return-48668-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Feb 10 13:24:10 2011
Return-Path: <java-user-return-48668-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60277 invoked from network); 10 Feb 2011 13:24:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Feb 2011 13:24:10 -0000
Received: (qmail 4568 invoked by uid 500); 10 Feb 2011 13:24:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4091 invoked by uid 500); 10 Feb 2011 13:24:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4079 invoked by uid 99); 10 Feb 2011 13:24:03 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Feb 2011 13:24:03 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.160.176] (HELO mail-gy0-f176.google.com) (209.85.160.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Feb 2011 13:23:57 +0000
Received: by gyf1 with SMTP id 1so621517gyf.35
        for <java-user@lucene.apache.org>; Thu, 10 Feb 2011 05:23:36 -0800 (PST)
MIME-Version: 1.0
Received: by 10.150.136.6 with SMTP id j6mr3148812ybd.142.1297344216573; Thu,
 10 Feb 2011 05:23:36 -0800 (PST)
Received: by 10.147.41.19 with HTTP; Thu, 10 Feb 2011 05:23:36 -0800 (PST)
In-Reply-To: <013a01cbc8be$c1fd8570$45f89050$@com>
References: <013a01cbc8be$c1fd8570$45f89050$@com>
Date: Thu, 10 Feb 2011 08:23:36 -0500
Message-ID: <AANLkTi=t6Nbwndc7YrQqPM==kyWr+ioivBfP0hgBpdUE@mail.gmail.com>
Subject: Re: index size doubling / optimization (Lucene 3.0.3)
From: Michael McCandless <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

IndexWriter.setInfoStream -- when you set that, it produces lots of
verbose output detailing what IW is doing to the index...

Mike

On Wed, Feb 9, 2011 at 8:06 PM, Phil Herold <pherold@d-wise.com> wrote:
> I didn't have any errors or exceptions. Sorry to be dense, but what exact=
ly
> is the "infoStream output" you're asking about?
>
>
>
>>This is not expected.
>
>>
>
>>Did the last IW exit "gracefully"? =A0If so, it should delete the old
>
>>segments after swapping in the optimized one.
>
>
>
>>Can you post infoStream output after running optimize?
>
>>
>
>>Mike
>
>
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48669-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Feb 10 13:54:45 2011
Return-Path: <java-user-return-48669-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74971 invoked from network); 10 Feb 2011 13:54:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Feb 2011 13:54:45 -0000
Received: (qmail 55979 invoked by uid 500); 10 Feb 2011 13:54:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53579 invoked by uid 500); 10 Feb 2011 13:54:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53570 invoked by uid 99); 10 Feb 2011 13:54:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Feb 2011 13:54:37 +0000
X-ASF-Spam-Status: No, hits=4.0 required=5.0
	tests=FREEMAIL_FROM,FREEMAIL_REPLY,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of cdoronc@gmail.com designates 74.125.83.48 as permitted sender)
Received: from [74.125.83.48] (HELO mail-gw0-f48.google.com) (74.125.83.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Feb 2011 13:54:30 +0000
Received: by gwj15 with SMTP id 15so634304gwj.35
        for <java-user@lucene.apache.org>; Thu, 10 Feb 2011 05:54:09 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=ld1uyjYKBYv4r58zzOMbz18EO/S4lRD/gg3bZ6JGPNA=;
        b=ke9GS2wlzeXCX7xFkWC6UEf7AW4BPtlTxkuBTOMQIUjIJPg41RukKsIb+mllNRDn5p
         YLOxI4rBIXBDmTQRR5wwk/GL5fi0RxtqeMe3cJCjXrdL6GNhrBPnYxrR4SWIRBU+ohkG
         QSSiDcm/YO6W3V1zkWkKkrfabJrsP6e0TG5TQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=tELJdr7Y3g1KUYI+UgbKddTrF1+Bdzo/g8yWZxNkDljHM/WCgr7CSNWbeYXA0lkf0e
         9thor43xiT1U0zDW7/3ZsdlezM1JuZbXrC0JRqZ2dAF5uI0hY/GikzKzTZdnSJCahNGT
         Bw+TYqWwlTz3o0BovDL3zXYkRWoKrPwrvIzJs=
MIME-Version: 1.0
Received: by 10.90.115.17 with SMTP id n17mr2684859agc.176.1297346049130; Thu,
 10 Feb 2011 05:54:09 -0800 (PST)
Received: by 10.90.54.5 with HTTP; Thu, 10 Feb 2011 05:54:09 -0800 (PST)
In-Reply-To: <4A1AC1E08A1A4A438C4E4502E73AFC7449D8F256C6@enodios.ARISEM.COM>
References: <1026148301.5478182.1297108735024.JavaMail.fmail@mwmweb011>
	<4A1AC1E08A1A4A438C4E4502E73AFC7449D8F255D1@enodios.ARISEM.COM>
	<491675137.10930680.1297201881419.JavaMail.fmail@mwmweb009>
	<4A1AC1E08A1A4A438C4E4502E73AFC7449D8F256C6@enodios.ARISEM.COM>
Date: Thu, 10 Feb 2011 15:54:09 +0200
Message-ID: <AANLkTikMOLLrOBc9RctVHy3wHNotRCuMECzCV-XWC9gA@mail.gmail.com>
Subject: Re: How to implement a proximity search using LINES as slop
From: Doron Cohen <cdoronc@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016367d66aa68c21b049bedea6b
X-Virus-Checked: Checked by ClamAV on apache.org

--0016367d66aa68c21b049bedea6b
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: quoted-printable

IIUC what you are trying to achieve I think the following could help,
without setting all words in a line to be in the same position:
At indexing, set a position increment of N (e.g. 100) at line start tokens.
This would set a position gap of N between last token of line x to first
token of line x+1.
At search, if using span near queries (or sloppy phrase queries), set the
acceptable span as N, to only accept matches from the same line.
If this makes sense, take a look at Analyzer.getPositionIncrementGap().
If you also want scores in these cases to treat distances based on line
numbers, in your custom Similarity change sloppyFreq(distance) to be aware
of N, e.g. use (1+distance/N) instead of distance for the computation.
HTH,
Doron

On Wed, Feb 9, 2011 at 10:15 AM, Pierre GOSSE <pierre.gosse@arisem.com>wrot=
e:

> I've just read about payload, and I'm not sure it would be easy to use th=
at
> feature in calculating distances for SpanQueries. I guess You would have =
to
> build your own SpanQuery, using payload instead of term position. But it
> would be much lighter for index size if it were possible, indeed.
>
> I hope some lucene expert can give his insight about all this. :)
>
> Pierre
>
> -----Message d'origine-----
> De : Livia Hauser [mailto:livia.hauser@web.de]
> Envoy=E9 : mardi 8 f=E9vrier 2011 22:51
> =C0 : java-user@lucene.apache.org
> Objet : RE: How to implement a proximity search using LINES as slop
>
> Hi Pierre,
>
> many thanks for your idear.
> I had a look to Payloads ... should it possible to store the line number =
as
> payload?
>
> Best Regards,
> Livia
>
>
> -----Urspr=FCngliche Nachricht-----
> Von: "Pierre GOSSE" <pierre.gosse@arisem.com>
> Gesendet: 08.02.2011 09:37:53
> An: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
> Betreff: RE: How to implement a proximity search using LINES as slop
>
> >Hi Livia,
> >
> >One way of doing this line slope would be to implement a custom tokenize=
r
> that could tokenize on new line, and split each token into the words it
> contains. I.e. Each word of a line would be seen as being at the same
> position (and having same offset and length as the complete line).
> >
> >I don't think usual queries would respond well with that field, so maybe
> you will have to have two fields, one standard for searching and scoring =
and
> one custom for filtering your results.
> >
> >But maybe that's overkill, and there's a simpler manner to achieve this
> line slope, I'm quite new to solr. :)
> >
> >Pierre
> >
> >-----Message d'origine-----
> >De : Livia Hauser [mailto:livia.hauser@web.de]
> >Envoy=E9 : lundi 7 f=E9vrier 2011 20:59
> >=C0 : java-user@lucene.apache.org
> >Objet : How to implement a proximity search using LINES as slop
> >
> >Hi All,
> >
> >I use solr 3.x and put excel documents into an index.
> >I have my own query parser and use SpanQueries to provide a proximity
> search feature. It works really good.
> >Most often than not its better to limit the proxmity to one or two line'=
s,
> not to X words.
> >I try to find a NewLine indicator... unsuccessfully.
> >How can use the number of lines as proximity?
> >
> >Thx!
> >___________________________________________________________
> >WEB.DE DSL Doppel-Flat ab 19,99 =80/mtl.! Jetzt mit
> >gratis Handy-Flat! http://produkte.web.de/go/DSL_Doppel_Flatrate/2
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> ___________________________________________________________
> Neu: WEB.DE De-Mail - Einfach wie E-Mail, sicher wie ein Brief!
> Jetzt De-Mail-Adresse reservieren: https://produkte.web.de/go/demail02
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--0016367d66aa68c21b049bedea6b--

From java-user-return-48670-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Feb 10 14:30:26 2011
Return-Path: <java-user-return-48670-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92905 invoked from network); 10 Feb 2011 14:30:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Feb 2011 14:30:26 -0000
Received: (qmail 8898 invoked by uid 500); 10 Feb 2011 14:30:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8268 invoked by uid 500); 10 Feb 2011 14:30:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8240 invoked by uid 99); 10 Feb 2011 14:30:17 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Feb 2011 14:30:17 +0000
X-ASF-Spam-Status: No, hits=3.2 required=5.0
	tests=ASF_LIST_OPS,EXTRA_MPART_TYPE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [182.71.53.3] (HELO mail.otssolutions.com) (182.71.53.3)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Feb 2011 14:30:10 +0000
Received: from MAIL.otssolutions.com ([fe80::204d:b7bb:ceb3:c049]) by
 MAIL.otssolutions.com ([fe80::204d:b7bb:ceb3:c049%11]) with mapi; Thu, 10 Feb
 2011 19:59:17 +0530
From: Ranjit Kumar <Ranjit.Kumar@otssolutions.com>
To: "java-user-help@lucene.apache.org" <java-user-help@lucene.apache.org>,
	"java-user@lucene.apache.org" <java-user@lucene.apache.org>
Subject: lucene 3.0.3 | phrase query problem
Thread-Topic: lucene 3.0.3 | phrase query problem
Thread-Index: AcvJLuKoxThbz7OIR+yY2hJKcIE/Fg==
Date: Thu, 10 Feb 2011 14:29:11 +0000
Message-ID: <AD21521D44870544AC66F4FDFC0A474C3541510D@MAIL.otssolutions.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator:
Content-Type: multipart/related;
	boundary="_004_AD21521D44870544AC66F4FDFC0A474C3541510DMAILotssolution_";
	type="multipart/alternative"
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

--_004_AD21521D44870544AC66F4FDFC0A474C3541510DMAILotssolution_
Content-Type: multipart/alternative;
	boundary="_000_AD21521D44870544AC66F4FDFC0A474C3541510DMAILotssolution_"

--_000_AD21521D44870544AC66F4FDFC0A474C3541510DMAILotssolution_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

searchString =3D "i am using sql. server setting is easy task.";

while i am searching for phrase query "Sql Server" in above string it gives=
 result which is not correct. As In the above string sql and server is sepe=
rated by dot(.)

using both PhraseQuery and SpanQuery gives same result.


Hi,
      Thanks for replay..
I am creating index using syntax below:
            doc.add(new Field("contents", new FileReader(f),Field.TermVecto=
r.WITH_POSITIONS_OFFSETS));
As index need to stored in my system.


      even if I am searching whole term (without case change even) using Ph=
raseQuery

PhraseQuery pq_query =3D new PhraseQuery();

pq_query.setSlop(1);

pq_query.add( new Term( field, "sql" ) );

pq_query.add( new Term( field, "server" ) );
TopDocs topDocs =3D searcher.search(pq_query,20);
System.out.println(Total hits :"+topDocs.totalHits);


It gives incorrect result or document. In case of using SpanQuery and SpanN=
earQuery it gives same result.
Is this a bug?
Can you give some hint about luke?
Any suggestion will be appreciated.



Thanks & Regards,
Ranjit Kumar
Associate Software Engineer

[cid:image002.jpg@01CB7089.C0069B40]

US:       +1 408.540.0001
UK:       +44 208.099.1660
India:   +91 124.474.8100 | +91 124.410.1350
FAX:     +1 408.516.9050
http://www.otssolutions.com

=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D Pr=
ivate, Confidential and Privileged. This e-mail and any files and attachmen=
ts transmitted with it are confidential and/or privileged. They are intende=
d solely for the use of the intended recipient. The content of this e-mail =
and any file or attachment transmitted with it may have been changed or alt=
ered without the consent of the author. If you are not the intended recipie=
nt, please note that any review, dissemination, disclosure, alteration, pri=
nting, circulation or Transmission of this e-mail and/or any file or attach=
ment transmitted with it, is prohibited and may be unlawful. If you have re=
ceived this e-mail or any file or attachment transmitted with it in error p=
lease notify OTS Solutions at info@otssolutions.com =3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D

--_000_AD21521D44870544AC66F4FDFC0A474C3541510DMAILotssolution_
Content-Type: text/html; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" xmlns:o=3D"urn:schemas-micr=
osoft-com:office:office" xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns:m=3D"http://schemas.microsoft.com/office/2004/12/omml" xmlns=3D"http:=
//www.w3.org/TR/REC-html40">
<head>
<meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dus-ascii"=
>
<meta name=3D"Generator" content=3D"Microsoft Word 12 (filtered medium)">
<!--[if !mso]><style>v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style><![endif]--><style><!--
/* Font Definitions */
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;}
@font-face
	{font-family:"Palatino Linotype";
	panose-1:2 4 5 2 5 5 5 3 3 4;}
/* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
a:link, span.MsoHyperlink
	{mso-style-priority:99;
	color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{mso-style-priority:99;
	color:purple;
	text-decoration:underline;}
p.MsoPlainText, li.MsoPlainText, div.MsoPlainText
	{mso-style-priority:99;
	mso-style-link:"Plain Text Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:10.5pt;
	font-family:Consolas;}
pre
	{mso-style-priority:99;
	mso-style-link:"HTML Preformatted Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:"Courier New";}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-priority:99;
	mso-style-link:"Balloon Text Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:8.0pt;
	font-family:"Tahoma","sans-serif";}
span.EmailStyle17
	{mso-style-type:personal-compose;
	font-family:"Calibri","sans-serif";
	color:windowtext;}
span.BalloonTextChar
	{mso-style-name:"Balloon Text Char";
	mso-style-priority:99;
	mso-style-link:"Balloon Text";
	font-family:"Tahoma","sans-serif";}
span.HTMLPreformattedChar
	{mso-style-name:"HTML Preformatted Char";
	mso-style-priority:99;
	mso-style-link:"HTML Preformatted";
	font-family:"Courier New";}
span.PlainTextChar
	{mso-style-name:"Plain Text Char";
	mso-style-priority:99;
	mso-style-link:"Plain Text";
	font-family:Consolas;}
.MsoChpDefault
	{mso-style-type:export-only;}
@page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
--></style><!--[if gte mso 9]><xml>
<o:shapedefaults v:ext=3D"edit" spidmax=3D"2050" />
</xml><![endif]--><!--[if gte mso 9]><xml>
<o:shapelayout v:ext=3D"edit">
<o:idmap v:ext=3D"edit" data=3D"1" />
</o:shapelayout></xml><![endif]-->
</head>
<body lang=3D"EN-US" link=3D"blue" vlink=3D"purple">
<div class=3D"WordSection1">
<p class=3D"MsoNormal" style=3D"text-indent:.5in"><span style=3D"font-size:=
10.0pt;font-family:&quot;Courier New&quot;">searchString =3D &quot;i am usi=
ng sql. server setting is easy task.&quot;;<o:p></o:p></span></p>
<p class=3D"MsoNormal" style=3D"text-indent:.5in"><span style=3D"font-size:=
10.0pt;font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>
<p class=3D"MsoNormal" style=3D"margin-left:.5in"><span style=3D"font-size:=
10.0pt;font-family:&quot;Courier New&quot;">while i am searching for phrase=
 query &quot;Sql Server&quot; in above string it gives result which is not =
correct. As In the above string sql and server is seperated
 by dot(.)<o:p></o:p></span></p>
<p class=3D"MsoNormal" style=3D"text-indent:.5in"><span style=3D"font-size:=
10.0pt;font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>
<p class=3D"MsoNormal" style=3D"text-indent:.5in"><span style=3D"font-size:=
10.0pt;font-family:&quot;Courier New&quot;">using both PhraseQuery and Span=
Query gives same result.<o:p></o:p></span></p>
<div style=3D"mso-element:para-border-div;border:none;border-bottom:double =
windowtext 2.25pt;padding:0in 0in 1.0pt 0in">
<p class=3D"MsoNormal" style=3D"border:none;padding:0in"><span style=3D"fon=
t-size:10.0pt;font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span>=
</p>
</div>
<p class=3D"MsoNormal"><span style=3D"font-size:10.0pt;font-family:&quot;Co=
urier New&quot;"><o:p>&nbsp;</o:p></span></p>
<p class=3D"MsoNormal"><span style=3D"font-size:10.0pt;font-family:&quot;Co=
urier New&quot;">Hi,
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span style=3D"font-size:10.0pt;font-family:&quot;Co=
urier New&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Thanks for replay..<o:p></o=
:p></span></p>
<p class=3D"MsoNormal" style=3D"text-indent:.5in"><span style=3D"font-size:=
10.0pt;font-family:&quot;Courier New&quot;">I am creating index using synta=
x below:<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span style=3D"font-size:10.0pt;font-family:&quot;Co=
urier New&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp; doc.add(new Field(&quot;contents&quot;, new FileReader(f),Field.TermVec=
tor.WITH_POSITIONS_OFFSETS));<o:p></o:p></span></p>
<p class=3D"MsoNormal" style=3D"text-indent:.5in"><span style=3D"font-size:=
10.0pt;font-family:&quot;Courier New&quot;">As index need to stored in my s=
ystem.<o:p></o:p></span></p>
<p class=3D"MsoNormal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <o:p></o:p></p>
<pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; even if I am searching whole term (with=
out case change even) using <b>PhraseQuery <o:p></o:p></b></pre>
<pre style=3D"margin-left:45.8pt">PhraseQuery pq_query =3D new PhraseQuery(=
);<o:p></o:p></pre>
<pre style=3D"margin-left:45.8pt">pq_query.setSlop(1);<o:p></o:p></pre>
<pre style=3D"margin-left:45.8pt">pq_query.add( new Term( field, &quot;sql&=
quot; ) );<o:p></o:p></pre>
<pre style=3D"margin-left:45.8pt">pq_query.add( new Term( field, &quot;serv=
er&quot; ) );<o:p></o:p></pre>
<p class=3D"MsoNormal" style=3D"margin-left:45.8pt"><span style=3D"font-siz=
e:10.0pt;font-family:&quot;Courier New&quot;">TopDocs topDocs =3D searcher.=
search(pq_query,20);<o:p></o:p></span></p>
<p class=3D"MsoNormal" style=3D"margin-left:45.8pt"><span style=3D"font-siz=
e:10.0pt;font-family:&quot;Courier New&quot;">System.out.println(Total hits=
 :&quot;&#43;topDocs.totalHits);<o:p></o:p></span></p>
<p class=3D"MsoNormal" style=3D"margin-left:.5in"><o:p>&nbsp;</o:p></p>
<pre>It gives incorrect result or document. In case of using SpanQuery and =
SpanNearQuery it gives same result.<o:p></o:p></pre>
<p class=3D"MsoNormal"><b><span style=3D"font-size:10.0pt;font-family:&quot=
;Courier New&quot;;color:red">Is this a bug?<o:p></o:p></span></b></p>
<p class=3D"MsoNormal">Can you give some hint about luke? <o:p></o:p></p>
<p class=3D"MsoNormal">Any suggestion will be appreciated.<o:p></o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal"><span style=3D"font-family:&quot;Palatino Linotype&q=
uot;,&quot;serif&quot;;color:navy">Thanks &amp; Regards,</span><span style=
=3D"font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:navy"=
><o:p></o:p></span></p>
<p class=3D"MsoNormal"><b><span style=3D"font-family:&quot;Palatino Linotyp=
e&quot;,&quot;serif&quot;;color:purple">Ranjit Kumar&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></b><b><span style=3D"font-size:12.0pt;font-family:&quot;Palatino Li=
notype&quot;,&quot;serif&quot;;color:purple"><o:p></o:p></span></b></p>
<p class=3D"MsoNormal"><span style=3D"font-family:&quot;Palatino Linotype&q=
uot;,&quot;serif&quot;;color:navy">Associate Software Engineer<o:p></o:p></=
span></p>
<p class=3D"MsoNormal"><span style=3D"font-family:&quot;Palatino Linotype&q=
uot;,&quot;serif&quot;;color:navy"><o:p>&nbsp;</o:p></span></p>
<p class=3D"MsoNormal"><span style=3D"font-family:&quot;Palatino Linotype&q=
uot;,&quot;serif&quot;;color:navy"><img width=3D"236" height=3D"53" id=3D"P=
icture_x0020_1" src=3D"cid:image001.jpg@01CBC959.F53366D0" alt=3D"cid:image=
002.jpg@01CB7089.C0069B40"><o:p></o:p></span></p>
<p class=3D"MsoNormal"><span style=3D"font-family:&quot;Palatino Linotype&q=
uot;,&quot;serif&quot;;color:navy"><o:p>&nbsp;</o:p></span></p>
<p class=3D"MsoNormal"><b><span style=3D"font-family:&quot;Palatino Linotyp=
e&quot;,&quot;serif&quot;;color:navy">US:</span></b><span style=3D"font-fam=
ily:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:navy"> &nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp; &#43;1 408.540.0001
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><b><span style=3D"font-family:&quot;Palatino Linotyp=
e&quot;,&quot;serif&quot;;color:navy">UK:</span></b><span style=3D"font-fam=
ily:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:navy"> &nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp; &#43;44 208.099.1660<o:p></o:p></span></p>
<p class=3D"MsoNormal"><b><span style=3D"font-family:&quot;Palatino Linotyp=
e&quot;,&quot;serif&quot;;color:navy">India:</span></b><span style=3D"font-=
family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:navy"> &nbsp;&=
nbsp;&#43;91 124.474.8100 | &#43;91 124.410.1350<o:p></o:p></span></p>
<p class=3D"MsoNormal" style=3D"margin-bottom:12.0pt"><b><span style=3D"fon=
t-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:navy">FAX:</=
span></b><span style=3D"font-family:&quot;Palatino Linotype&quot;,&quot;ser=
if&quot;;color:navy"> &nbsp;&nbsp;&nbsp; &#43;1 408.516.9050<o:p></o:p></sp=
an></p>
<p class=3D"MsoNormal"><span style=3D"font-family:&quot;Palatino Linotype&q=
uot;,&quot;serif&quot;;color:navy"><a href=3D"http://www.otssolutions.com">=
<span style=3D"color:blue">http://www.otssolutions.com</span></a><o:p></o:p=
></span></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
</div>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D Pr=
ivate, Confidential and Privileged. This e-mail and any files and attachmen=
ts transmitted with it are confidential and/or privileged. They are intende=
d solely
 for the use of the intended recipient. The content of this e-mail and any =
file or attachment transmitted with it may have been changed or altered wit=
hout the consent of the author. If you are not the intended recipient, plea=
se note that any review, dissemination,
 disclosure, alteration, printing, circulation or Transmission of this e-ma=
il and/or any file or attachment transmitted with it, is prohibited and may=
 be unlawful. If you have received this e-mail or any file or attachment tr=
ansmitted with it in error please
 notify OTS Solutions at info@otssolutions.com =3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
</body>
</html>

--_000_AD21521D44870544AC66F4FDFC0A474C3541510DMAILotssolution_--

--_004_AD21521D44870544AC66F4FDFC0A474C3541510DMAILotssolution_--

From java-user-return-48671-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Feb 10 14:37:19 2011
Return-Path: <java-user-return-48671-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95611 invoked from network); 10 Feb 2011 14:37:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Feb 2011 14:37:19 -0000
Received: (qmail 21088 invoked by uid 500); 10 Feb 2011 14:37:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20818 invoked by uid 500); 10 Feb 2011 14:37:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20810 invoked by uid 99); 10 Feb 2011 14:37:12 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Feb 2011 14:37:12 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of anshumg@gmail.com designates 209.85.215.176 as permitted sender)
Received: from [209.85.215.176] (HELO mail-ey0-f176.google.com) (209.85.215.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Feb 2011 14:37:07 +0000
Received: by eyz10 with SMTP id 10so710052eyz.35
        for <java-user@lucene.apache.org>; Thu, 10 Feb 2011 06:36:45 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=54Cy7+P+GM0u5VhrddD/flIWvREIrRuYyrP5pX0Xiew=;
        b=Yoiq8xWjRmhlrBPhxy/Qlt7N0SiwPhtI921uWSc570rXqYK14AjuCGz2OZfHI2duGW
         UgVoGsp2uSAI1eJFNNJYa6Z9opHiEP/6FMuaKdlx3wTHhPsN+f9dT5lX69VZK4sdWqwJ
         JhhRdQbNcCr+g1zm/V1Ipd+6iNboEbUtMdNcs=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=tUglbn2fmkGKz+nP16sfQa0lJcyrc9Ol80yN4MK1qblwNQXlqxv2Hm1Ons67pkbr/U
         cs4dwVqxdkFyotKEfSt7eBlodXMRdlCrWldoUPtRA7n5lHiwMqn86wDHTOuN6MdRlAtS
         mQQ6eX1Eo4nqPiA8CCodbwIEl3otBpbGpn84Y=
Received: by 10.223.123.142 with SMTP id p14mr7616430far.56.1297348604611;
 Thu, 10 Feb 2011 06:36:44 -0800 (PST)
MIME-Version: 1.0
Received: by 10.223.108.71 with HTTP; Thu, 10 Feb 2011 06:36:24 -0800 (PST)
In-Reply-To: <AD21521D44870544AC66F4FDFC0A474C3541510D@MAIL.otssolutions.com>
References: <AD21521D44870544AC66F4FDFC0A474C3541510D@MAIL.otssolutions.com>
From: Anshum <anshumg@gmail.com>
Date: Thu, 10 Feb 2011 20:06:24 +0530
Message-ID: <AANLkTikWrexM-969F4Z6BB6=oCgNnFuzLC7dQn5++UqZ@mail.gmail.com>
Subject: Re: lucene 3.0.3 | phrase query problem
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=001636c594daba4d5e049bee825f

--001636c594daba4d5e049bee825f
Content-Type: text/plain; charset=ISO-8859-1

Hi Ranjit,
That would be because all stop words (space, comma, stop word set, etc..)
would be treated in a similar fashion and escaped while indexing, subject to
the analyzer you use while index your content.
Hope that explains the issue.

--
Anshum Gupta
http://ai-cafe.blogspot.com


On Thu, Feb 10, 2011 at 7:59 PM, Ranjit Kumar <Ranjit.Kumar@otssolutions.com
> wrote:

>  searchString = "i am using sql. server setting is easy task.";
>
>
>
> while i am searching for phrase query "Sql Server" in above string it gives
> result which is not correct. As In the above string sql and server is
> seperated by dot(.)
>
>
>
> using both PhraseQuery and SpanQuery gives same result.
>
>
>
>
>
> Hi,
>
>       Thanks for replay..
>
> I am creating index using syntax below:
>
>             doc.add(new Field("contents", new
> FileReader(f),Field.TermVector.WITH_POSITIONS_OFFSETS));
>
> As index need to stored in my system.
>
>
>
>       even if I am searching whole term (without case change even) using *PhraseQuery *
>
> PhraseQuery pq_query = new PhraseQuery();
>
> pq_query.setSlop(1);
>
> pq_query.add( new Term( field, "sql" ) );
>
> pq_query.add( new Term( field, "server" ) );
>
> TopDocs topDocs = searcher.search(pq_query,20);
>
> System.out.println(Total hits :"+topDocs.totalHits);
>
>
>
> It gives incorrect result or document. In case of using SpanQuery and SpanNearQuery it gives same result.
>
> *Is this a bug?*
>
> Can you give some hint about luke?
>
> Any suggestion will be appreciated.
>
>
>
>
>
>
>
> Thanks & Regards,
>
> *Ranjit Kumar                       ***
>
> Associate Software Engineer
>
>
>
> [image: cid:image002.jpg@01CB7089.C0069B40]
>
>
>
> *US:*       +1 408.540.0001
>
> *UK:*       +44 208.099.1660
>
> *India:*   +91 124.474.8100 | +91 124.410.1350
>
> *FAX:*     +1 408.516.9050
>
> http://www.otssolutions.com
>
>
> ===================================================================================================
> Private, Confidential and Privileged. This e-mail and any files and
> attachments transmitted with it are confidential and/or privileged. They are
> intended solely for the use of the intended recipient. The content of this
> e-mail and any file or attachment transmitted with it may have been changed
> or altered without the consent of the author. If you are not the intended
> recipient, please note that any review, dissemination, disclosure,
> alteration, printing, circulation or Transmission of this e-mail and/or any
> file or attachment transmitted with it, is prohibited and may be unlawful.
> If you have received this e-mail or any file or attachment transmitted with
> it in error please notify OTS Solutions at info@otssolutions.com===================================================================================================
>
>

--001636c594daba4d5e049bee825f--

From java-user-return-48672-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Feb 10 18:14:11 2011
Return-Path: <java-user-return-48672-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5887 invoked from network); 10 Feb 2011 18:14:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Feb 2011 18:14:11 -0000
Received: (qmail 89846 invoked by uid 500); 10 Feb 2011 18:14:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88755 invoked by uid 500); 10 Feb 2011 18:14:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88740 invoked by uid 99); 10 Feb 2011 18:14:04 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Feb 2011 18:14:04 +0000
X-ASF-Spam-Status: No, hits=4.0 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,PLING_QUERY,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ee07b381@gmail.com designates 209.85.213.176 as permitted sender)
Received: from [209.85.213.176] (HELO mail-yx0-f176.google.com) (209.85.213.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Feb 2011 18:13:57 +0000
Received: by yxm8 with SMTP id 8so781451yxm.35
        for <java-user@lucene.apache.org>; Thu, 10 Feb 2011 10:13:37 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:from:date:message-id:subject:to
         :content-type;
        bh=cNW8M8metz9DnmS1cyGpASl4xglRbzdc/O71WjC+3fg=;
        b=L30lGcRMZeZWWw6rgRrWdWeiimhQkACo2LYQpPD8peeVJpJhE9hLyanHnm3Uuc2LtT
         ZXGdQI9MSLuODEUWwejjRKUPtq43+a7M9ekkG3UNNTZIb4P6Ru8w+DssA41+en9UIXq3
         jalWP2Vim0YkUJ09MSZebsj4PYetcmygQoqBU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:from:date:message-id:subject:to:content-type;
        b=fMdN/cjP3H0IEhXIAme/rvYNmpXqiQC1DYmS/ZndvseDa+KYBq8Lp5pERmCxYcfxCg
         jy/GLhF9cobgIOGNy8yOp6NQ1Xy01pxsy5MY9tfZTdrY9UR25nJoOBBGbS+Fnx7HNj7W
         SAB+fOTf6EF4x1zB0bXsnimRPRSaqW83+vrmM=
Received: by 10.151.98.2 with SMTP id a2mr3840511ybm.10.1297361590857; Thu, 10
 Feb 2011 10:13:10 -0800 (PST)
MIME-Version: 1.0
Received: by 10.151.157.5 with HTTP; Thu, 10 Feb 2011 10:05:52 -0800 (PST)
From: Gong Li <ee07b381@gmail.com>
Date: Fri, 11 Feb 2011 02:05:52 +0800
Message-ID: <AANLkTin-HcLWkuxYY+6S=BtRDoS7r7qRwbTzTcevvU+L@mail.gmail.com>
Subject: Question about Case Sensitive?!
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0015174c1a10c4b147049bf18833

--0015174c1a10c4b147049bf18833
Content-Type: text/plain; charset=ISO-8859-1

Hi,

I use standardAnalyzer, queryParser, highlighter in my program, but they
lowercase the keywords. Now i need to search the keywords CASE SENSITIVE. Is
there any methods to achieve this and also use standardAnalyzer and
queryParser? Or some other ways? HOW???

Thx.

--0015174c1a10c4b147049bf18833--

From java-user-return-48673-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Feb 10 21:02:23 2011
Return-Path: <java-user-return-48673-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84326 invoked from network); 10 Feb 2011 21:02:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Feb 2011 21:02:23 -0000
Received: (qmail 64946 invoked by uid 500); 10 Feb 2011 21:02:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64841 invoked by uid 500); 10 Feb 2011 21:02:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64833 invoked by uid 99); 10 Feb 2011 21:02:19 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Feb 2011 21:02:19 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of tavi.nathanson@gmail.com designates 209.85.215.176 as permitted sender)
Received: from [209.85.215.176] (HELO mail-ey0-f176.google.com) (209.85.215.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Feb 2011 21:02:11 +0000
Received: by eyz10 with SMTP id 10so1042813eyz.35
        for <java-user@lucene.apache.org>; Thu, 10 Feb 2011 13:01:34 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=oiX+rs6o9qVVRV/+lzqanrFYFQm22mV1gVR72jnpcX4=;
        b=tIsfS2CuoJTSCdYhEN4iXZJFbFuyADxD5FFi3p9opVAY3I6jexgUk1RTqQIOiktPy9
         Y60b3ga8WvoIVNM0Q4NvO1zPUnMv8MQxP70XrQhcunFrekWtzdhddlbNBD3840OoAolS
         jReyQPFaRfBsk3Cyqm2xFHKMl8V6Hwz9vDRg8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=qu/S70fiMJAa/PtVMeGpwokjqbXLLdbz2Dq90yqnB0bG/maYi9qUhFYSsrrdoatzn+
         AYBChM8WDomjrc8AuhzUbEXc7K9WEBMYz7gOFn65H/G+TQJcSLw0TjGyzp3jrqTxuBee
         tPrCUBbHB5iyXtxg+799aHIdAQA7IRvT4cB5k=
MIME-Version: 1.0
Received: by 10.216.17.3 with SMTP id i3mr118860wei.80.1297371694578; Thu, 10
 Feb 2011 13:01:34 -0800 (PST)
Received: by 10.216.56.69 with HTTP; Thu, 10 Feb 2011 13:01:34 -0800 (PST)
Date: Thu, 10 Feb 2011 13:01:34 -0800
Message-ID: <AANLkTikORQZ1DP5eHA-Mo8Npo1MAD_p5KZe_i-9yW8tw@mail.gmail.com>
Subject: Running a string through a simple Tokenizer, and then additional
 Tokenizers (vs. TokenFilters)
From: Tavi Nathanson <tavi.nathanson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016364c7c23ff3de8049bf3e2f8
X-Virus-Checked: Checked by ClamAV on apache.org

--0016364c7c23ff3de8049bf3e2f8
Content-Type: text/plain; charset=ISO-8859-1

Hey everyone,



I'm trying to do the following:



1. Run a string through a simple tokenizer (i.e. WhitespaceTokenizer)

2. Run the resultant tokens through my current tokenizer as well as
StandardTokenizer, in order to isolate the tokens that are different between
them. (Background: I want to do this so that I can maintain my current
tokenization scheme while allowing for matches against the StandardTokenizer
scheme.)

~~

Example:



Original string: "Bob v2document"



1. "Bob v2document" => ["Bob", "v2document"]

2. Run each of these through my current tokenizer and StandardTokenizer. For
"v2document", let's say that my tokenizer spits out ["v", "2", "document"]
and StandardTokenizer spits out ["v2document"]. I would take the latter
token and append it, and get something like ["Bob", "v", "2", "document",
GAP_SO_PHRASE_QUERIES_SKIP, "v2document"].

~~

I'll be doing this at scale when I index any document, and I'm concerned
about performance. For every single original token, I'll need to a build a
StringReader and pass it through both Tokenizers.


I know that in general, what I'm doing seems more appropriate for
TokenFilter's, but I see two issues:


- It looks like there's no TokenFilter version of StandardTokenizer that
applies the rules to each token. Maybe I'm overlooking something?

- If I pass ["Bob", "v2document"] through two TokenFilters separately, I'll
get something like: ["Bob", "v", "2", "document"] / ["Bob", "v2document"].
And then I won't know which tokens belong to which original token.



Any suggestions for doing this in a performant way?


 Thanks!

Tavi

--0016364c7c23ff3de8049bf3e2f8--

From java-user-return-48674-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Feb 10 21:28:27 2011
Return-Path: <java-user-return-48674-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98773 invoked from network); 10 Feb 2011 21:28:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Feb 2011 21:28:27 -0000
Received: (qmail 9613 invoked by uid 500); 10 Feb 2011 21:28:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9425 invoked by uid 500); 10 Feb 2011 21:28:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9416 invoked by uid 99); 10 Feb 2011 21:28:23 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Feb 2011 21:28:23 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.212.176] (HELO mail-px0-f176.google.com) (209.85.212.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Feb 2011 21:28:14 +0000
Received: by pxi11 with SMTP id 11so344709pxi.35
        for <java-user@lucene.apache.org>; Thu, 10 Feb 2011 13:27:51 -0800 (PST)
Received: by 10.142.112.13 with SMTP id k13mr5688318wfc.73.1297373271730;
        Thu, 10 Feb 2011 13:27:51 -0800 (PST)
Received: from [10.0.1.90] (203-114-161-15.wir.sta.inspire.net.nz [203.114.161.15])
        by mx.google.com with ESMTPS id b11sm503682wff.21.2011.02.10.13.27.49
        (version=TLSv1/SSLv3 cipher=OTHER);
        Thu, 10 Feb 2011 13:27:51 -0800 (PST)
Sender: Todd Nine <todd@spidertracks.co.nz>
Subject: escaping of queries with solr
From: Todd Nine <todd@spidertracks.com>
Reply-To: todd@spidertracks.com
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary="=-aCC6r73mcLsrUXYWkQCk"
Organization: Spidertracks
Date: Fri, 11 Feb 2011 10:27:18 +1300
Message-ID: <1297373238.2655.22.camel@greenlantern>
Mime-Version: 1.0
X-Mailer: Evolution 2.30.3
X-Virus-Checked: Checked by ClamAV on apache.org

--=-aCC6r73mcLsrUXYWkQCk
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: 7bit

Hi guys,
  We're migrating from Lucene to Solr.  We have a lot of existing code
that created queries in memory with Lucene.  Below is an example of such
a query.


		BooleanQuery query = new BooleanQuery();

		BooleanQuery inputTerms = new BooleanQuery();
		inputTerms.add(new TermQuery(new Term(FIELD_EMAIL, input)),
				Occur.SHOULD);

		String numeric = getNumericString(input);

		if (StringUtils.hasText(numeric)) {
			inputTerms.add(new TermQuery(new Term(FIELD_PHONE, numeric)),
					Occur.SHOULD);
		}

		query.add(inputTerms, Occur.MUST);

		NumericRangeQuery time = NumericRangeQuery.newLongRange(
				FIELD_CREATETIME, null, endTime, true, true);

		query.add(time, Occur.MUST);

		return getResults(query, count);


As per an old thread in the mailing list, I can generally call
query.toString() which will generate a query I can send to solr.
However, we're getting some strings such as this.

+(email_string_multi_index:+6411122222
phone_string_multi_index:6411122222) +rslved_string_index:false
+crttime_long_index:[* TO 1284093338200]':

Which will generate this error Encountered " "+" "+ "" at line 1, column
27.

The cause is the "+6411122222".  

Is there an equivalent for building a query tree in the Solr4j client
that will properly escape the input sequence?

Thanks,
Todd








--=-aCC6r73mcLsrUXYWkQCk--


From java-user-return-48675-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Feb 10 22:01:54 2011
Return-Path: <java-user-return-48675-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9456 invoked from network); 10 Feb 2011 22:01:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Feb 2011 22:01:54 -0000
Received: (qmail 67423 invoked by uid 500); 10 Feb 2011 22:01:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67362 invoked by uid 500); 10 Feb 2011 22:01:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67354 invoked by uid 99); 10 Feb 2011 22:01:50 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Feb 2011 22:01:50 +0000
X-ASF-Spam-Status: No, hits=0.9 required=5.0
	tests=PLING_QUERY,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Feb 2011 22:01:43 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id DAF3545F5DA
	for <java-user@lucene.apache.org>; Thu, 10 Feb 2011 23:01:22 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id pVqgiMMRXNoB for <java-user@lucene.apache.org>;
	Thu, 10 Feb 2011 23:01:17 +0100 (CET)
Received: from VEGA (port-92-196-22-202.dynamic.qsc.de [92.196.22.202])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id 902E845F5AE
	for <java-user@lucene.apache.org>; Thu, 10 Feb 2011 23:01:15 +0100 (CET)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <AANLkTin-HcLWkuxYY+6S=BtRDoS7r7qRwbTzTcevvU+L@mail.gmail.com>
In-Reply-To: <AANLkTin-HcLWkuxYY+6S=BtRDoS7r7qRwbTzTcevvU+L@mail.gmail.com>
Subject: RE: Question about Case Sensitive?!
Date: Thu, 10 Feb 2011 23:01:52 +0100
Message-ID: <005201cbc96e$21518fd0$63f4af70$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-index: AQIUEQ/gf2pZxUqniTcBJNoZc0eV8ZNquZMA
Content-language: de

Hi Gong Li,

You can create your own Analyzer that does not add LowerCaseFilter to the
FilterChain. To achieve this, use the source code from Lucene source, rename
the class (e.g. org.yourpackage.NoLowercasingStandardAnalyzer) and remove
LowerCaseFilter from the tokenStream() and reuseableTokenStream() factory
methods.

Uwe

-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de

> -----Original Message-----
> From: Gong Li [mailto:ee07b381@gmail.com]
> Sent: Thursday, February 10, 2011 7:06 PM
> To: java-user@lucene.apache.org
> Subject: Question about Case Sensitive?!
> 
> Hi,
> 
> I use standardAnalyzer, queryParser, highlighter in my program, but they
> lowercase the keywords. Now i need to search the keywords CASE
> SENSITIVE. Is there any methods to achieve this and also use
> standardAnalyzer and queryParser? Or some other ways? HOW???
> 
> Thx.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48676-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 11 06:42:29 2011
Return-Path: <java-user-return-48676-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38687 invoked from network); 11 Feb 2011 06:42:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Feb 2011 06:42:29 -0000
Received: (qmail 3561 invoked by uid 500); 11 Feb 2011 06:42:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3035 invoked by uid 500); 11 Feb 2011 06:42:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3013 invoked by uid 99); 11 Feb 2011 06:42:18 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Feb 2011 06:42:18 +0000
X-ASF-Spam-Status: No, hits=0.2 required=5.0
	tests=ASF_LIST_OPS,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [182.71.53.3] (HELO mail.otssolutions.com) (182.71.53.3)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Feb 2011 06:42:13 +0000
Received: from MAIL.otssolutions.com ([fe80::204d:b7bb:ceb3:c049]) by
 MAIL.otssolutions.com ([fe80::204d:b7bb:ceb3:c049%11]) with mapi; Fri, 11 Feb
 2011 12:11:15 +0530
From: Ranjit Kumar <Ranjit.Kumar@otssolutions.com>
To: "java-user-help@lucene.apache.org" <java-user-help@lucene.apache.org>,
	"java-user@lucene.apache.org" <java-user@lucene.apache.org>
Subject: lucene 3.0.3 | phrase query problem
Thread-Topic: lucene 3.0.3 | phrase query problem
Thread-Index: AcvJtqzfXAxeIaQWTaSv8RgW35N1Lg==
Date: Fri, 11 Feb 2011 06:41:13 +0000
Message-ID: <AD21521D44870544AC66F4FDFC0A474C35EF2A95@MAIL.otssolutions.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: multipart/alternative;
	boundary="_000_AD21521D44870544AC66F4FDFC0A474C35EF2A95MAILotssolution_"
MIME-Version: 1.0

--_000_AD21521D44870544AC66F4FDFC0A474C35EF2A95MAILotssolution_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi Anshum,



Thanks for your replay..



Yes, I am agree with you.

As right now, I am using StandardAnalyzer it remove stop words, Puts text i=
n lowercase and do not create index for most common word in English.

        Searching on index created by StandardAnalyzer it gives result as d=
iscussed.



In case of SimpleAnalyzer while indexing it puts text in lowercase, also ig=
nore stop words.

        Searching on index created by SimpleAnalyzer it gives result like S=
tandardAnalyzer. But, also give result for most common words.



While using WhitespaceAnalyzer for indexing it Splits tokens at whitespace.

        Searching on index created by WhitespaceAnalyzer it gives result be=
tter and do not gives result for "sql. Resver"

But also do not gives result for "SQL Server 2005/2000/CE" which is not cor=
rect.



Can you suggest me analyzer that works properly with this condition.



Thanks & Regards,
Ranjit Kumar
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D Pr=
ivate, Confidential and Privileged. This e-mail and any files and attachmen=
ts transmitted with it are confidential and/or privileged. They are intende=
d solely for the use of the intended recipient. The content of this e-mail =
and any file or attachment transmitted with it may have been changed or alt=
ered without the consent of the author. If you are not the intended recipie=
nt, please note that any review, dissemination, disclosure, alteration, pri=
nting, circulation or Transmission of this e-mail and/or any file or attach=
ment transmitted with it, is prohibited and may be unlawful. If you have re=
ceived this e-mail or any file or attachment transmitted with it in error p=
lease notify OTS Solutions at info@otssolutions.com =3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D

--_000_AD21521D44870544AC66F4FDFC0A474C35EF2A95MAILotssolution_--

From java-user-return-48677-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 11 13:15:11 2011
Return-Path: <java-user-return-48677-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10247 invoked from network); 11 Feb 2011 13:15:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Feb 2011 13:15:11 -0000
Received: (qmail 40231 invoked by uid 500); 11 Feb 2011 13:15:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39716 invoked by uid 500); 11 Feb 2011 13:15:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39702 invoked by uid 99); 11 Feb 2011 13:15:04 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Feb 2011 13:15:04 +0000
X-ASF-Spam-Status: No, hits=-2.0 required=5.0
	tests=ASF_LIST_OPS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of Lisheng.Zhang@broadvision.com designates 139.56.8.26 as permitted sender)
Received: from [139.56.8.26] (HELO mail-fw.broadvision.com) (139.56.8.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Feb 2011 13:14:59 +0000
X-ASG-Debug-ID: 1297430077-464000ad0000-H1Y1KX
X-Barracuda-URL: http://mail-fw.broadvision.com:8000/cgi-bin/mark.cgi
Received: from RW-EX2003.BROADVISION.COM (localhost [127.0.0.1])
	by mail-fw.broadvision.com (Spam Firewall) with ESMTP
	id CC4A9D21E3; Fri, 11 Feb 2011 05:14:37 -0800 (PST)
Received: from RW-EX2003.BROADVISION.COM ([10.10.160.33]) by mail-fw.broadvision.com with ESMTP id HSWeERo32jgb7Jiu; Fri, 11 Feb 2011 05:14:37 -0800 (PST)
X-ASG-Whitelist: Client
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-ASG-Orig-Subj: RE: lucene 3.0.3 | phrase query problem
Subject: RE: lucene 3.0.3 | phrase query problem
Date: Fri, 11 Feb 2011 05:14:37 -0800
Message-ID: <ED081AC9AEEE0248BBCCDE9989AAE3FC02CB18EA@rw-ex2003.BROADVISION.COM>
In-Reply-To: <AD21521D44870544AC66F4FDFC0A474C35EF2A95@MAIL.otssolutions.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: lucene 3.0.3 | phrase query problem
Thread-Index: AcvJtqzfXAxeIaQWTaSv8RgW35N1LgANHjvw
From: "Zhang, Lisheng" <Lisheng.Zhang@BroadVision.com>
To: <java-user@lucene.apache.org>,
	<java-user-help@lucene.apache.org>
X-Barracuda-Connect: UNKNOWN[10.10.160.33]
X-Barracuda-Start-Time: 1297430077
X-Barracuda-Virus-Scanned: by Barracuda Spam Firewall at broadvision.com

Hi Kumar,

1) For your question in last mail: for tool luke, go to site =
http://www.getopt.org/luke/
and click "launch luke now", then pointing to your lucene data folder. =
Also the book
"Lucene in Action" is a great source (go to wwww.amazon.com and search =
this book) where
everything (almost) is explained.

2) For analyzers, to make sure that analyzer is used only when we use =
QueryParser, I did
not test but from source code I think WhitespaceAnalyzer should pick up =
"SQL Server 2005/2000/CE"=20
if we index this phrase into myfield and use a query string as=20

myfield:"SQL Server 2005/2000/CE"

to feed into QueryParser. If we create lucene Query object directly like =
TermQuery, then the
QueryParser is not used.

Best regards, Lisheng

-----Original Message-----
From: Ranjit Kumar [mailto:Ranjit.Kumar@otssolutions.com]
Sent: Thursday, February 10, 2011 10:41 PM
To: java-user-help@lucene.apache.org; java-user@lucene.apache.org
Subject: lucene 3.0.3 | phrase query problem


Hi Anshum,



Thanks for your replay..



Yes, I am agree with you.

As right now, I am using StandardAnalyzer it remove stop words, Puts =
text in lowercase and do not create index for most common word in =
English.

        Searching on index created by StandardAnalyzer it gives result =
as discussed.



In case of SimpleAnalyzer while indexing it puts text in lowercase, also =
ignore stop words.

        Searching on index created by SimpleAnalyzer it gives result =
like StandardAnalyzer. But, also give result for most common words.



While using WhitespaceAnalyzer for indexing it Splits tokens at =
whitespace.

        Searching on index created by WhitespaceAnalyzer it gives result =
better and do not gives result for "sql. Resver"

But also do not gives result for "SQL Server 2005/2000/CE" which is not =
correct.



Can you suggest me analyzer that works properly with this condition.



Thanks & Regards,
Ranjit Kumar
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D =
Private, Confidential and Privileged. This e-mail and any files and =
attachments transmitted with it are confidential and/or privileged. They =
are intended solely for the use of the intended recipient. The content =
of this e-mail and any file or attachment transmitted with it may have =
been changed or altered without the consent of the author. If you are =
not the intended recipient, please note that any review, dissemination, =
disclosure, alteration, printing, circulation or Transmission of this =
e-mail and/or any file or attachment transmitted with it, is prohibited =
and may be unlawful. If you have received this e-mail or any file or =
attachment transmitted with it in error please notify OTS Solutions at =
info@otssolutions.com =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48678-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 11 14:56:45 2011
Return-Path: <java-user-return-48678-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50618 invoked from network); 11 Feb 2011 14:56:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Feb 2011 14:56:44 -0000
Received: (qmail 14204 invoked by uid 500); 11 Feb 2011 14:56:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13874 invoked by uid 500); 11 Feb 2011 14:56:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13866 invoked by uid 99); 11 Feb 2011 14:56:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Feb 2011 14:56:37 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [85.18.95.80] (HELO aa001msb.fastweb.it) (85.18.95.80)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Feb 2011 14:56:28 +0000
Received: from [192.168.1.222] (83.103.113.106) by aa001msb.fastweb.it (8.5.016.6)
        id 4D381A5001B01FFB for java-user@lucene.apache.org; Fri, 11 Feb 2011 15:56:07 +0100
Message-ID: <4D554E07.4020700@fissore.org>
Date: Fri, 11 Feb 2011 15:56:07 +0100
From: Federico Fissore <federico@fissore.org>
User-Agent: Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.2.13) Gecko/20101208 Thunderbird/3.1.7
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: is OpenBitSet / SortedVIntList compressed bit map index?
References: <AANLkTimnD9Ma+3=SzWbqxt4ct9urxiG819yCTOJhO0ob@mail.gmail.com>	<4D279DA9.70506@fissore.org>	<E1E61A9983E3F94DAA95AEDE2D487E700618C7FE30@mbx2.hostedexchange.local> <AANLkTik6wRDiXHuf6SgjD0=qdBVd__mCyumHwSxFLuCp@mail.gmail.com>
In-Reply-To: <AANLkTik6wRDiXHuf6SgjD0=qdBVd__mCyumHwSxFLuCp@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Raavan, il 08/01/2011 19:17, ha scritto:
> Thanks Ryan. I will test this to see if it uses much less memory than
> SortedVIntList.
>
> -Raavan


Hello Raavan,

have you tested those implementations? How do they look?

federico

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48679-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 11 22:59:42 2011
Return-Path: <java-user-return-48679-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5960 invoked from network); 11 Feb 2011 22:59:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Feb 2011 22:59:42 -0000
Received: (qmail 72330 invoked by uid 500); 11 Feb 2011 22:59:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72250 invoked by uid 500); 11 Feb 2011 22:59:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72240 invoked by uid 99); 11 Feb 2011 22:59:38 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Feb 2011 22:59:38 +0000
X-ASF-Spam-Status: No, hits=2.9 required=5.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [67.210.116.230] (HELO mars.lunarpages.com) (67.210.116.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Feb 2011 22:59:31 +0000
Received: from 154-229-113-74.rev.celito.net ([74.113.229.154] helo=legolas)
	by mars.lunarpages.com with esmtp (Exim 4.69)
	(envelope-from <pherold@d-wise.com>)
	id 1Po1xD-0002k7-BX
	for java-user@lucene.apache.org; Fri, 11 Feb 2011 14:59:07 -0800
From: "Phil Herold" <pherold@d-wise.com>
To: <java-user@lucene.apache.org>
Subject: Re: index size doubling / optimization (Lucene 3.0.3)
Date: Fri, 11 Feb 2011 18:02:15 -0500
Message-ID: <029401cbca3f$bb818890$328499b0$@com>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0295_01CBCA15.D2AB8090"
X-Mailer: Microsoft Office Outlook 12.0
Thread-Index: AcvKP7lxjzAGJ9PuQ8qfDD6BFY+y8w==
Content-Language: en-us
X-ACL-Warn: {
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - mars.lunarpages.com
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - d-wise.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 

------=_NextPart_000_0295_01CBCA15.D2AB8090
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

New information: it appears that the index size increasing (not always
doubling but going up significantly) occurs when I search the index while
building it. Calling indexWriter.optimize(1, true); when I'm done adding
documents sometimes reduces the index down to size, but not always.

 

Has anyone else seen this?


------=_NextPart_000_0295_01CBCA15.D2AB8090--


From java-user-return-48680-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 11 23:06:30 2011
Return-Path: <java-user-return-48680-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15712 invoked from network); 11 Feb 2011 23:06:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Feb 2011 23:06:29 -0000
Received: (qmail 81588 invoked by uid 500); 11 Feb 2011 23:06:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81519 invoked by uid 500); 11 Feb 2011 23:06:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81511 invoked by uid 99); 11 Feb 2011 23:06:26 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Feb 2011 23:06:26 +0000
X-ASF-Spam-Status: No, hits=2.9 required=5.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Feb 2011 23:06:19 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id 7A7D6D36004
	for <java-user@lucene.apache.org>; Sat, 12 Feb 2011 00:05:59 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id uRhJGU5t4RDH for <java-user@lucene.apache.org>;
	Sat, 12 Feb 2011 00:05:43 +0100 (CET)
Received: from [192.168.1.173] (port-92-196-22-202.dynamic.qsc.de [92.196.22.202])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id A95F8D36003
	for <java-user@lucene.apache.org>; Sat, 12 Feb 2011 00:05:42 +0100 (CET)
References: <029401cbca3f$bb818890$328499b0$@com>
User-Agent: K-9 Mail for Android
In-Reply-To: <029401cbca3f$bb818890$328499b0$@com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="----8PUHXY462HAEC4CRJINTHMUBR9NV26"
Subject: Re: index size doubling / optimization (Lucene 3.0.3)
From: Uwe Schindler <uwe@thetaphi.de>
Date: Sat, 12 Feb 2011 00:05:35 +0100
To: java-user@lucene.apache.org
Message-ID: <70ba32d8-a5e1-4aad-919a-6ff74b675362@email.android.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------8PUHXY462HAEC4CRJINTHMUBR9NV26
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 8bit

Hi,

That is as expected. When IndexReader or IndexSearcher are open, the snapshot of this index is preserved until you reopen it, as all readers only see the index in the state when it was opened, so disk space is still acquired and on windows you even see the files. For optimize (what you should really do only when you deleted lots of documents) this triples the required space. This is even part of Javadocs.

When you are finished with updating the index you have to reopen your readers.

Uwe
--
Uwe Schindler
H.-H.-Meier-Allee 63, 28213 Bremen
http://www.thetaphi.de



Phil Herold <pherold@d-wise.com> schrieb:

New information: it appears that the index size increasing (not always doubling but going up significantly) occurs when I search the index while building it. Calling indexWriter.optimize(1, true); when I'm done adding documents sometimes reduces the index down to size, but not always. Has anyone else seen this? 


------8PUHXY462HAEC4CRJINTHMUBR9NV26--


From java-user-return-48681-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Feb 12 11:05:03 2011
Return-Path: <java-user-return-48681-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58976 invoked from network); 12 Feb 2011 11:05:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 12 Feb 2011 11:05:03 -0000
Received: (qmail 54949 invoked by uid 500); 12 Feb 2011 11:05:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54585 invoked by uid 500); 12 Feb 2011 11:04:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54577 invoked by uid 99); 12 Feb 2011 11:04:55 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Feb 2011 11:04:55 +0000
X-ASF-Spam-Status: No, hits=3.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ee07b381@gmail.com designates 74.125.83.48 as permitted sender)
Received: from [74.125.83.48] (HELO mail-gw0-f48.google.com) (74.125.83.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Feb 2011 11:04:47 +0000
Received: by gwj15 with SMTP id 15so1563448gwj.35
        for <java-user@lucene.apache.org>; Sat, 12 Feb 2011 03:04:27 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:from:date:message-id:subject:to
         :content-type;
        bh=qZNBbLuWZ9Wq4YZW2Cxtx3ZQPYPbYe229DryrRZGMhE=;
        b=BMBRO9hOTczP71g3YcY8ekHvA+HejV9dYyfYXkKGoAgN2ywS8yrdN5TNoCKuEJx5iP
         KMOmDTvTptuy5WrkcTiJKmoInd5EQpbbuF8YR6dmfrLGMhUKdcVCdg+kWoNN/BwUiIBz
         +n+Wwryv12LKvQy51HqR5OuIGZstbENCQTzC8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:from:date:message-id:subject:to:content-type;
        b=MJS0BY13a4nFOYA1l3SzuZV0d4UuVtFbgdDBccYlcmWC4AWs1zjG8sI2kqBKn/wpQz
         RSsLrKg2lh/999kZm4QLy9p7Yi9aWvV9+8Cb9YTLSEL9pHbfdyjGXxH6ASSnESKht9me
         4yXfxqBixop9qdABeaq3GuhT0O27N9k1Jx6IQ=
Received: by 10.150.192.20 with SMTP id p20mr1831984ybf.67.1297508666928; Sat,
 12 Feb 2011 03:04:26 -0800 (PST)
MIME-Version: 1.0
Received: by 10.151.157.5 with HTTP; Sat, 12 Feb 2011 03:04:05 -0800 (PST)
From: Gong Li <ee07b381@gmail.com>
Date: Sat, 12 Feb 2011 19:04:05 +0800
Message-ID: <AANLkTik5oGP+17YfvS=J_B8dSRAdGp3KHMnwOmrZKzvr@mail.gmail.com>
Subject: About WordNet synonyms search
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=000e0cd695da2f6fe1049c13c7ce
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd695da2f6fe1049c13c7ce
Content-Type: text/plain; charset=ISO-8859-1

Hi,

I am tying WordNet synonyms into an SynonymAnalyzer. But I find there is a
wrong in the search result as following:

input keywords: *browned fox*

query.toString(): (content:browned content:brown) (content:fox content:trick
content:throw content:slyboots content:fuddle content:fob content:dodger
content:discombobulate content:confuse content:confound content:befuddle
content:bedevil)

topDocs.totalHits: 2

doc.get("content"):
Result1: We can <b><font color = RED>*make*</font></b> it easy by Bluetooth
for the communications between computer
Result2: The quick <b><font color = RED>*brown*</font></b> <b><font color =
RED>*fox*</font></b> jump over the lazy dog

Result2 is desired result. WHY does it find *make *as the search result???
HOW can I fix the problem???

--000e0cd695da2f6fe1049c13c7ce--

From java-user-return-48682-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Feb 12 11:42:33 2011
Return-Path: <java-user-return-48682-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72679 invoked from network); 12 Feb 2011 11:42:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 12 Feb 2011 11:42:33 -0000
Received: (qmail 75149 invoked by uid 500); 12 Feb 2011 11:42:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74750 invoked by uid 500); 12 Feb 2011 11:42:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74742 invoked by uid 99); 12 Feb 2011 11:42:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Feb 2011 11:42:26 +0000
X-ASF-Spam-Status: No, hits=3.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ee07b381@gmail.com designates 209.85.160.176 as permitted sender)
Received: from [209.85.160.176] (HELO mail-gy0-f176.google.com) (209.85.160.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Feb 2011 11:42:20 +0000
Received: by gyf1 with SMTP id 1so1574047gyf.35
        for <java-user@lucene.apache.org>; Sat, 12 Feb 2011 03:41:59 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:from:date:message-id:subject:to
         :content-type;
        bh=zrILkK25o3qOfceM1ye1pouHtotzf8PcZM8abMK2I+w=;
        b=rApQ0B71UiB44RSemEARtXZXVailHSf+05zDtuH2iiYeAyqpKu6o41kGY8N2S30Hly
         ETsa2px9DHNHVNWN9Ne0mIfX34RgZTFUA87mvcD/cpDh3hBivL6dwvLOSQQp0SjkzJR8
         vMMDa4QFlkSiNEMum6Oao33IQJY1+s8SJNw70=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:from:date:message-id:subject:to:content-type;
        b=DiSLbwjA31jILWjcPB/nupFDpOeLsjTCIMFSzbIn9zBstaiThxaWE8bUqBxjix7nl8
         Z9mrfmkYKdPkA9T/A/RP5cfnYbaPvPVj8dm4mPTeJDUq/xAtowXrdbTVwW0bCRDLjKWO
         mAdwoCmVhoRKmAFOcSgiBumwwoHXelqIQCASs=
Received: by 10.151.98.2 with SMTP id a2mr1875676ybm.10.1297510919629; Sat, 12
 Feb 2011 03:41:59 -0800 (PST)
MIME-Version: 1.0
Received: by 10.151.157.5 with HTTP; Sat, 12 Feb 2011 03:41:39 -0800 (PST)
From: Gong Li <ee07b381@gmail.com>
Date: Sat, 12 Feb 2011 19:41:39 +0800
Message-ID: <AANLkTinnaG0od10A6M4+a7MCsvXMJn+dGMOcRK=64E+a@mail.gmail.com>
Subject: About export as .jar
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0015174c1a1074ec1c049c144dcf

--0015174c1a1074ec1c049c144dcf
Content-Type: text/plain; charset=ISO-8859-1

Hi,

How can I export the wordnet index to the execute jar that program can
execute without absolute path???

Thx

--0015174c1a1074ec1c049c144dcf--

From java-user-return-48683-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Feb 12 14:08:07 2011
Return-Path: <java-user-return-48683-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30185 invoked from network); 12 Feb 2011 14:08:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 12 Feb 2011 14:08:06 -0000
Received: (qmail 55694 invoked by uid 500); 12 Feb 2011 14:08:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55022 invoked by uid 500); 12 Feb 2011 14:08:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54997 invoked by uid 99); 12 Feb 2011 14:07:59 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Feb 2011 14:07:59 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of georger.araujo@gmail.com designates 209.85.215.176 as permitted sender)
Received: from [209.85.215.176] (HELO mail-ey0-f176.google.com) (209.85.215.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Feb 2011 14:07:54 +0000
Received: by eyz10 with SMTP id 10so1689740eyz.35
        for <java-user@lucene.apache.org>; Sat, 12 Feb 2011 06:07:33 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=P9IantO1RHLuDUylHt+HeIJC3Q/LloD/tmDsk55eiw0=;
        b=EGTFugI4UP/HeOXXJ0MT+vuphYafUUq1KI7Z3BMtbOPFFjW3MskvJ20M60rtNkF92v
         7IVJokwp+mndlcdPoyZm2CM7fIwSdx6ElIUcgNr6I2jI+XGnwzeAwkP9modRO7KKU1bZ
         dLffA5PsJ2hirSRnpzfK0XMxQhT9OYK4J65pE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=uHhwgKfiLyXyS+kfDN7sbEJjRIUI4BcIb+2IuWcJ1vAPv45PCLxOMGQIdryDbp5tRO
         Gp5ZLml0S6M55CYErWxWZkvxjOn7rliYqgM3fLZqrxeDZrAYAnvKlnpeEC++1serT6kW
         HzWpHHyhQPm6sZPitoLbLtisoLH2oywILT4wQ=
MIME-Version: 1.0
Received: by 10.14.127.134 with SMTP id d6mr1720926eei.24.1297519652128; Sat,
 12 Feb 2011 06:07:32 -0800 (PST)
Received: by 10.14.47.65 with HTTP; Sat, 12 Feb 2011 06:07:32 -0800 (PST)
Date: Sat, 12 Feb 2011 11:07:32 -0300
Message-ID: <AANLkTimmxJamCe8pVPHkK3HOM5JSOhKS9kFCm0KfBw4b@mail.gmail.com>
Subject: Iterating over all documents in an index
From: Georger Araujo <georger.araujo@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=90e6ba61528cf446db049c1655a1

--90e6ba61528cf446db049c1655a1
Content-Type: text/plain; charset=ISO-8859-1

Hi,
I want to iterate over all documents in a given index. I've found the
following piece of code [1]:

IndexReader reader = // create IndexReader
for (int i=0; i<reader.maxDoc(); i++) {
    if (reader.isDeleted(i))
        continue;

    Document doc = reader.document(i);
    String docId = doc.get("docId");

    // do something with docId here...
}

I implemented it in my code and it worked fine. After that, I found out
about MatchAllDocsQuery.
I am not concerned with scoring nor sorting - all I want to do is iterate
over all documents in the index and collect their terms. My ultimate goal is
to build a bag-of-words of all documents and their terms so that I can run a
clustering algorithm on it.I've also found out about Mahout's built-in
vector creation utility [2], but I need to do this task from my own code.

I ask, what is the recommended approach?

[1]
http://stackoverflow.com/questions/2311845/is-it-possible-to-iterate-through-documents-stored-in-lucene-index
[2]
https://cwiki.apache.org/confluence/display/MAHOUT/Creating%20Vectors%20from%20Text

Regards,

Georger

--90e6ba61528cf446db049c1655a1--

From java-user-return-48684-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Feb 12 16:04:00 2011
Return-Path: <java-user-return-48684-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62050 invoked from network); 12 Feb 2011 16:04:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 12 Feb 2011 16:04:00 -0000
Received: (qmail 34308 invoked by uid 500); 12 Feb 2011 16:03:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33875 invoked by uid 500); 12 Feb 2011 16:03:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33867 invoked by uid 99); 12 Feb 2011 16:03:52 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Feb 2011 16:03:52 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of erickerickson@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Feb 2011 16:03:44 +0000
Received: by qwe4 with SMTP id 4so2271694qwe.35
        for <java-user@lucene.apache.org>; Sat, 12 Feb 2011 08:03:23 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=GgR7DyJYXU37Jo4xlnHh7zUfFIPnCDEIN2HVvPNZNco=;
        b=B+Oggia185AQKFZ5xWrIKUDzXYP1j+XDK+Dbp93tJ5djiSR1DXiO1fEAxdLefwT2DB
         vBBYFErjrr6D7XJTjECt51pAdT0VLxvT/de4ylGdpYFjCmEP9BwOfAIOpFeOOQFIdbP5
         CYrQytXv8FqkQiVztA65ALI1k3ychSxjI02PI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=b1mXdotmwQoLA+/mAUJss/5+vOevNazG20MQZqX8Ww/EBKtVzeZhRUHuo8A2xKCWrI
         a3blFK17Jb7lD9ivFEco0cN2daSmW6lNtOuaV0Wcru9sm+2IHBqPDVc+2TsQkXgYSGhU
         RFa04PDvmFowsvk/m7Uw83eIdFSQYgMMt+bjI=
MIME-Version: 1.0
Received: by 10.229.211.206 with SMTP id gp14mr1484600qcb.289.1297526603682;
 Sat, 12 Feb 2011 08:03:23 -0800 (PST)
Received: by 10.229.228.144 with HTTP; Sat, 12 Feb 2011 08:03:23 -0800 (PST)
In-Reply-To: <AANLkTik5oGP+17YfvS=J_B8dSRAdGp3KHMnwOmrZKzvr@mail.gmail.com>
References: <AANLkTik5oGP+17YfvS=J_B8dSRAdGp3KHMnwOmrZKzvr@mail.gmail.com>
Date: Sat, 12 Feb 2011 11:03:23 -0500
Message-ID: <AANLkTi=p=3Cw4NOue4f3xvcL1N3WvHAEXcA3WQiq65fh@mail.gmail.com>
Subject: Re: About WordNet synonyms search
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

At a guess make is a synonym for one of your search terms. doc.get
returns the original content, not synonyms.


So what are your synonyms that might be a factor here?

Best
Erick

On Sat, Feb 12, 2011 at 6:04 AM, Gong Li <ee07b381@gmail.com> wrote:
> Hi,
>
> I am tying WordNet synonyms into an SynonymAnalyzer. But I find there is a
> wrong in the search result as following:
>
> input keywords: *browned fox*
>
> query.toString(): (content:browned content:brown) (content:fox content:trick
> content:throw content:slyboots content:fuddle content:fob content:dodger
> content:discombobulate content:confuse content:confound content:befuddle
> content:bedevil)
>
> topDocs.totalHits: 2
>
> doc.get("content"):
> Result1: We can <b><font color = RED>*make*</font></b> it easy by Bluetooth
> for the communications between computer
> Result2: The quick <b><font color = RED>*brown*</font></b> <b><font color =
> RED>*fox*</font></b> jump over the lazy dog
>
> Result2 is desired result. WHY does it find *make *as the search result???
> HOW can I fix the problem???
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48685-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Feb 12 17:05:48 2011
Return-Path: <java-user-return-48685-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91236 invoked from network); 12 Feb 2011 17:05:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 12 Feb 2011 17:05:47 -0000
Received: (qmail 86735 invoked by uid 500); 12 Feb 2011 17:05:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86193 invoked by uid 500); 12 Feb 2011 17:05:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86184 invoked by uid 99); 12 Feb 2011 17:05:42 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Feb 2011 17:05:42 +0000
X-ASF-Spam-Status: No, hits=3.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ee07b381@gmail.com designates 209.85.161.176 as permitted sender)
Received: from [209.85.161.176] (HELO mail-gx0-f176.google.com) (209.85.161.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Feb 2011 17:05:34 +0000
Received: by gxk4 with SMTP id 4so1654148gxk.35
        for <java-user@lucene.apache.org>; Sat, 12 Feb 2011 09:05:13 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=qol9yPgLTpt4zV98QALrI0UFq0VooLHx0m8t5TC7Mi4=;
        b=sl5OFijN4iUmVB2tvGB7rh5WuanI0DmklC8p9CFMbISVB2SNg99Q7BDliQlf0VDq5l
         cKcQTYEALFvJKQHXwpkCDWQbseR2ACwG64t5DyGqwZnWoriQm+HycTXG5dAJcIx77/Ke
         CVzGcTAvOW/svpquTVRIrywTdC6Hf1LHLP1B8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=OoBZq/3TYcA84A4f16ZYu8fqqworlV8sn+N1vfShedh9260FtdB6GwJYgPsU9gFeUP
         UAY8fsje7o+OCGVniGRBdU7/EzVs0Bf0EGHP7Wk9LJuMROkPacHDMJlGLX5cjcVgQe4b
         Zx6qvhCJ3K5p6gesrQOCDWA/SM+T1JrzFevAI=
Received: by 10.151.106.2 with SMTP id i2mr2205194ybm.124.1297530313466; Sat,
 12 Feb 2011 09:05:13 -0800 (PST)
MIME-Version: 1.0
Received: by 10.151.157.5 with HTTP; Sat, 12 Feb 2011 09:04:53 -0800 (PST)
In-Reply-To: <AANLkTi=p=3Cw4NOue4f3xvcL1N3WvHAEXcA3WQiq65fh@mail.gmail.com>
References: <AANLkTik5oGP+17YfvS=J_B8dSRAdGp3KHMnwOmrZKzvr@mail.gmail.com> <AANLkTi=p=3Cw4NOue4f3xvcL1N3WvHAEXcA3WQiq65fh@mail.gmail.com>
From: Gong Li <ee07b381@gmail.com>
Date: Sun, 13 Feb 2011 01:04:53 +0800
Message-ID: <AANLkTikULyb13Y94ZSwsxgdYBAGz5Adc-k=_6CeacZ5Q@mail.gmail.com>
Subject: Re: About WordNet synonyms search
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00151750dd766b64e9049c18d14d
X-Virus-Checked: Checked by ClamAV on apache.org

--00151750dd766b64e9049c18d14d
Content-Type: text/plain; charset=ISO-8859-1

I print out the synonym for browned fox shown as following. But NO "make" is
in the list.

I mean I can use synonym to search the contents. When I search for "browned
fox", it should get "brown fox" as the result, but it get "make" as one of
the results. make is not the synonym, so it should not in the result.

What is wrong???

browned  (content:browned content:brown)
fox (content:fox content:trick content:throw content:slyboots content:fuddle
content:fob content:dodger content:discombobulate content:confuse
content:confound content:befuddle content:bedevil)

2011/2/13 Erick Erickson <erickerickson@gmail.com>

> At a guess make is a synonym for one of your search terms. doc.get
> returns the original content, not synonyms.
>
>
> So what are your synonyms that might be a factor here?
>
> Best
> Erick
>
> On Sat, Feb 12, 2011 at 6:04 AM, Gong Li <ee07b381@gmail.com> wrote:
> > Hi,
> >
> > I am tying WordNet synonyms into an SynonymAnalyzer. But I find there is
> a
> > wrong in the search result as following:
> >
> > input keywords: *browned fox*
> >
> > query.toString(): (content:browned content:brown) (content:fox
> content:trick
> > content:throw content:slyboots content:fuddle content:fob content:dodger
> > content:discombobulate content:confuse content:confound content:befuddle
> > content:bedevil)
> >
> > topDocs.totalHits: 2
> >
> > doc.get("content"):
> > Result1: We can <b><font color = RED>*make*</font></b> it easy by
> Bluetooth
> > for the communications between computer
> > Result2: The quick <b><font color = RED>*brown*</font></b> <b><font color
> =
> > RED>*fox*</font></b> jump over the lazy dog
> >
> > Result2 is desired result. WHY does it find *make *as the search
> result???
> > HOW can I fix the problem???
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--00151750dd766b64e9049c18d14d--

From java-user-return-48686-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Feb 12 17:31:00 2011
Return-Path: <java-user-return-48686-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99669 invoked from network); 12 Feb 2011 17:30:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 12 Feb 2011 17:30:59 -0000
Received: (qmail 1002 invoked by uid 500); 12 Feb 2011 17:30:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 532 invoked by uid 500); 12 Feb 2011 17:30:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 524 invoked by uid 99); 12 Feb 2011 17:30:53 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Feb 2011 17:30:53 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erickerickson@gmail.com designates 209.85.216.176 as permitted sender)
Received: from [209.85.216.176] (HELO mail-qy0-f176.google.com) (209.85.216.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Feb 2011 17:30:48 +0000
Received: by qyk10 with SMTP id 10so2648193qyk.14
        for <java-user@lucene.apache.org>; Sat, 12 Feb 2011 09:30:27 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type:content-transfer-encoding;
        bh=QknaSxbcMCkRa9kbFr+8tROGCh4UYGF3Q5hwSw5f9f4=;
        b=jx2qTkKtOIfC900AUhprHXwz6oG4pdd1WX9djF+/nstsbAWSfLamUYnQZiBGZwM5e4
         16NqQW2PtZz24POB8OZejLD5TFQDusGKZMoyton8MQ2pciEEYCHqatTyWmE9SuF3/McE
         oWV5dYkyNJzK9JvB+O7m6aIZimsQ71ew1Taps=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=InYF/HpYdrpCza8lV2os/ahUGnuqm7wes8155kyuAV83VBSSuUXHzsK8sAYDALif9m
         1SV99ZoVtP00alYZPAEkQydLvXBRFES9nm8PscAd3uudK7qO5NzHf8Z82b1Zdzg+rvVY
         4mpzvmnbH/ksed45mFAWRxilPVc5oINlmowaw=
MIME-Version: 1.0
Received: by 10.229.237.6 with SMTP id km6mr1548113qcb.213.1297531827457; Sat,
 12 Feb 2011 09:30:27 -0800 (PST)
Received: by 10.229.228.144 with HTTP; Sat, 12 Feb 2011 09:30:27 -0800 (PST)
In-Reply-To: <AANLkTimmxJamCe8pVPHkK3HOM5JSOhKS9kFCm0KfBw4b@mail.gmail.com>
References: <AANLkTimmxJamCe8pVPHkK3HOM5JSOhKS9kFCm0KfBw4b@mail.gmail.com>
Date: Sat, 12 Feb 2011 12:30:27 -0500
Message-ID: <AANLkTinZho0-JSthV_1awJ8L-yUAN4N2upNpCMAAWp4W@mail.gmail.com>
Subject: Re: Iterating over all documents in an index
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Be aware that when you do a doc.get(), the fields are the
*stored* fields in their original, unanalyzed form. Is that really
what you want? Or do you want the tokenized form of the fields?

If the latter, you might get the Luke code, it reconstructs all the fields
in the document from the terms that are actually indexed. Note two
things: 1> it's slow. You're really undoing all the work that went into
inverting the index in the first place.
2> it's lossy. For instance, a term that's been stemmed will only have
the stemmed version in the index. Is that OK?

Best
Erick

On Sat, Feb 12, 2011 at 9:07 AM, Georger Araujo
<georger.araujo@gmail.com> wrote:
> Hi,
> I want to iterate over all documents in a given index. I've found the
> following piece of code [1]:
>
> IndexReader reader =3D // create IndexReader
> for (int i=3D0; i<reader.maxDoc(); i++) {
> =A0 =A0if (reader.isDeleted(i))
> =A0 =A0 =A0 =A0continue;
>
> =A0 =A0Document doc =3D reader.document(i);
> =A0 =A0String docId =3D doc.get("docId");
>
> =A0 =A0// do something with docId here...
> }
>
> I implemented it in my code and it worked fine. After that, I found out
> about MatchAllDocsQuery.
> I am not concerned with scoring nor sorting - all I want to do is iterate
> over all documents in the index and collect their terms. My ultimate goal=
 is
> to build a bag-of-words of all documents and their terms so that I can ru=
n a
> clustering algorithm on it.I've also found out about Mahout's built-in
> vector creation utility [2], but I need to do this task from my own code.
>
> I ask, what is the recommended approach?
>
> [1]
> http://stackoverflow.com/questions/2311845/is-it-possible-to-iterate-thro=
ugh-documents-stored-in-lucene-index
> [2]
> https://cwiki.apache.org/confluence/display/MAHOUT/Creating%20Vectors%20f=
rom%20Text
>
> Regards,
>
> Georger
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48687-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Feb 12 17:35:46 2011
Return-Path: <java-user-return-48687-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1049 invoked from network); 12 Feb 2011 17:35:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 12 Feb 2011 17:35:46 -0000
Received: (qmail 5181 invoked by uid 500); 12 Feb 2011 17:35:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4929 invoked by uid 500); 12 Feb 2011 17:35:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4921 invoked by uid 99); 12 Feb 2011 17:35:41 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Feb 2011 17:35:41 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erickerickson@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Feb 2011 17:35:34 +0000
Received: by qwe4 with SMTP id 4so2306448qwe.35
        for <java-user@lucene.apache.org>; Sat, 12 Feb 2011 09:35:13 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type:content-transfer-encoding;
        bh=Ijh9sZd1xPS25Cww4KmiH8BeIJuNVk00a2nx5eYaxqg=;
        b=mo8TX16TvNZDn7H2Jv8AZpgykWS4v2CBPiXIqUBhVONa1hbtLueBxf2dcMPQNSxAog
         /awco2bIOL9EIU7+8tRWbyfnDJftewCMg3aWeYW7V9CS+lV6sJGahHlCmfap1emiK5Xz
         51+5TToXCTy97DRwrpFGQgEJ7SjvgdwrQrm4A=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=occkIitwBCQqvvp+dZ/LhEg6sCE3cxOTBTxyx938DytIjf1wr7JJJRimrHu/pegsg7
         hNoiSb22z9Wgnr+1aYpxXUoFeoPlSXAd4Lz4WKIuoxxFLFqiDeH2x3Hsmd1P4+r9BkfA
         qMwzyxCIu5g40D4AtVnC7dkt9AjxsjAHkkVAQ=
MIME-Version: 1.0
Received: by 10.224.37.2 with SMTP id v2mr1695179qad.92.1297532113634; Sat, 12
 Feb 2011 09:35:13 -0800 (PST)
Received: by 10.229.228.144 with HTTP; Sat, 12 Feb 2011 09:35:13 -0800 (PST)
In-Reply-To: <AANLkTikULyb13Y94ZSwsxgdYBAGz5Adc-k=_6CeacZ5Q@mail.gmail.com>
References: <AANLkTik5oGP+17YfvS=J_B8dSRAdGp3KHMnwOmrZKzvr@mail.gmail.com>
	<AANLkTi=p=3Cw4NOue4f3xvcL1N3WvHAEXcA3WQiq65fh@mail.gmail.com>
	<AANLkTikULyb13Y94ZSwsxgdYBAGz5Adc-k=_6CeacZ5Q@mail.gmail.com>
Date: Sat, 12 Feb 2011 12:35:13 -0500
Message-ID: <AANLkTincwf5tRW5VvSKmuCeCZ+i_JUwnq5GJkK3fnmiq@mail.gmail.com>
Subject: Re: About WordNet synonyms search
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Ah, you're expanding synonyms at query time. Missed that.

How is the indexing done in the first place? What analyzer is used? Have yo=
u
even tried using Luke to look into your index and see what's actually in th=
ere?

What is shown when you do an explain?

Most often this kind of thing is a result of your index not having what you
expect, but until you look you can only guess..

Best
Erick

On Sat, Feb 12, 2011 at 12:04 PM, Gong Li <ee07b381@gmail.com> wrote:
> I print out the synonym for browned fox shown as following. But NO "make"=
 is
> in the list.
>
> I mean I can use synonym to search the contents. When I search for "brown=
ed
> fox", it should get "brown fox" as the result, but it get "make" as one o=
f
> the results. make is not the synonym, so it should not in the result.
>
> What is wrong???
>
> browned =A0(content:browned content:brown)
> fox (content:fox content:trick content:throw content:slyboots content:fud=
dle
> content:fob content:dodger content:discombobulate content:confuse
> content:confound content:befuddle content:bedevil)
>
> 2011/2/13 Erick Erickson <erickerickson@gmail.com>
>
>> At a guess make is a synonym for one of your search terms. doc.get
>> returns the original content, not synonyms.
>>
>>
>> So what are your synonyms that might be a factor here?
>>
>> Best
>> Erick
>>
>> On Sat, Feb 12, 2011 at 6:04 AM, Gong Li <ee07b381@gmail.com> wrote:
>> > Hi,
>> >
>> > I am tying WordNet synonyms into an SynonymAnalyzer. But I find there =
is
>> a
>> > wrong in the search result as following:
>> >
>> > input keywords: *browned fox*
>> >
>> > query.toString(): (content:browned content:brown) (content:fox
>> content:trick
>> > content:throw content:slyboots content:fuddle content:fob content:dodg=
er
>> > content:discombobulate content:confuse content:confound content:befudd=
le
>> > content:bedevil)
>> >
>> > topDocs.totalHits: 2
>> >
>> > doc.get("content"):
>> > Result1: We can <b><font color =3D RED>*make*</font></b> it easy by
>> Bluetooth
>> > for the communications between computer
>> > Result2: The quick <b><font color =3D RED>*brown*</font></b> <b><font =
color
>> =3D
>> > RED>*fox*</font></b> jump over the lazy dog
>> >
>> > Result2 is desired result. WHY does it find *make *as the search
>> result???
>> > HOW can I fix the problem???
>> >
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48688-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Feb 12 17:55:31 2011
Return-Path: <java-user-return-48688-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5277 invoked from network); 12 Feb 2011 17:55:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 12 Feb 2011 17:55:31 -0000
Received: (qmail 17647 invoked by uid 500); 12 Feb 2011 17:55:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17427 invoked by uid 500); 12 Feb 2011 17:55:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17414 invoked by uid 99); 12 Feb 2011 17:55:25 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Feb 2011 17:55:25 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of georger.araujo@gmail.com designates 209.85.215.48 as permitted sender)
Received: from [209.85.215.48] (HELO mail-ew0-f48.google.com) (209.85.215.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Feb 2011 17:55:20 +0000
Received: by ewy20 with SMTP id 20so1738399ewy.35
        for <java-user@lucene.apache.org>; Sat, 12 Feb 2011 09:54:59 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=WqM2HeZ1BgbeI9VQFc0vIRCg+GRYVFlMDVtBJ/Ms0/8=;
        b=BazTkOoXisj4InIiNZCPVTentOAIi8Qs7AqvZ9BocaB4pSs6zoBcmPVMwZ5zk7SM4a
         E5UQB5iAuATcOmER7wIIi4SHBC2+0phzGJbwjnsmin3dhQJhdRJNcxUGM/uN7GsQGXdy
         TdWxdndKXUEoFZXbrodPyhJ9rRKx4CFUmxNg0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=QUL0ZCti8LmmDpZIuRFI/ed1klQRNuBbP9SPS793YeUUo4y1g5BSA+aMJ8B42Di2TJ
         fZU81ULCIi/7yFPhvE2Vu/YikK5cXTuDGEhhlhX79FGHmHWwfAf7nwY7CJoWbzARvaA4
         CcRPgk4x45o5L77teVsFm7Mh7Xao1CkyfwW3Q=
MIME-Version: 1.0
Received: by 10.14.10.141 with SMTP id 13mr1916745eev.45.1297533298013; Sat,
 12 Feb 2011 09:54:58 -0800 (PST)
Received: by 10.14.47.65 with HTTP; Sat, 12 Feb 2011 09:54:57 -0800 (PST)
In-Reply-To: <AANLkTinZho0-JSthV_1awJ8L-yUAN4N2upNpCMAAWp4W@mail.gmail.com>
References: <AANLkTimmxJamCe8pVPHkK3HOM5JSOhKS9kFCm0KfBw4b@mail.gmail.com>
	<AANLkTinZho0-JSthV_1awJ8L-yUAN4N2upNpCMAAWp4W@mail.gmail.com>
Date: Sat, 12 Feb 2011 14:54:57 -0300
Message-ID: <AANLkTi==mPOSZQCKS+yisnK7s5gBL2no_UEddcRGGV32@mail.gmail.com>
Subject: Re: Iterating over all documents in an index
From: Georger Araujo <georger.araujo@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016364164694ff53e049c19836c

--0016364164694ff53e049c19836c
Content-Type: text/plain; charset=ISO-8859-1

Hi Erick,
Thanks for the input. I didn't really do the doc.get() in my code, because
what I'm really looking for are the stemmed terms in the index. I only
borrowed the idea from the snippet. Here's how my code looks like now:

Map<String,Integer> termMap = new TreeMap<String,Integer>();
List<String> filenames = new ArrayList<String>( reader.maxDoc() );

for ( int i = 0; i < reader.maxDoc(); i++ ) {
    if ( reader.isDeleted( i ) )
        continue;

        Document doc = reader.document( i );
        filenames.add( i, doc.get( "filename" ) );

        TermFreqVector tfVector = reader.getTermFreqVector( i,
"filecontents" );
        for ( int j = 0; j < tfVector.getTerms().length; j++ ) {
            // Add terms to the map...
        }
    }

The point is that I need to read the term frequency vector for each
document. I actually want the stemmed terms. From that and the filenames
(stored in the "filename" field), i was able to build a matrix that looks
like this:
        term1 term2 ... termn
doc1    1        1            0
doc2    0        1            0
...
docn    1        0            1

I already have this working. I just don't know if I'm doing it the
simplest/quickest way, though - and that's going to be an issue because I
intend to run the clustering algorithm on matrices as big as 5000 x 100000.
Regards,

Georger

2011/2/12 Erick Erickson <erickerickson@gmail.com>

> Be aware that when you do a doc.get(), the fields are the
> *stored* fields in their original, unanalyzed form. Is that really
> what you want? Or do you want the tokenized form of the fields?
>
> If the latter, you might get the Luke code, it reconstructs all the fields
> in the document from the terms that are actually indexed. Note two
> things: 1> it's slow. You're really undoing all the work that went into
> inverting the index in the first place.
> 2> it's lossy. For instance, a term that's been stemmed will only have
> the stemmed version in the index. Is that OK?
>
> Best
> Erick
>
> On Sat, Feb 12, 2011 at 9:07 AM, Georger Araujo
> <georger.araujo@gmail.com> wrote:
> > Hi,
> > I want to iterate over all documents in a given index. I've found the
> > following piece of code [1]:
> >
> > IndexReader reader = // create IndexReader
> > for (int i=0; i<reader.maxDoc(); i++) {
> >    if (reader.isDeleted(i))
> >        continue;
> >
> >    Document doc = reader.document(i);
> >    String docId = doc.get("docId");
> >
> >    // do something with docId here...
> > }
> >
> > I implemented it in my code and it worked fine. After that, I found out
> > about MatchAllDocsQuery.
> > I am not concerned with scoring nor sorting - all I want to do is iterate
> > over all documents in the index and collect their terms. My ultimate goal
> is
> > to build a bag-of-words of all documents and their terms so that I can
> run a
> > clustering algorithm on it.I've also found out about Mahout's built-in
> > vector creation utility [2], but I need to do this task from my own code.
> >
> > I ask, what is the recommended approach?
> >
> > [1]
> >
> http://stackoverflow.com/questions/2311845/is-it-possible-to-iterate-through-documents-stored-in-lucene-index
> > [2]
> >
> https://cwiki.apache.org/confluence/display/MAHOUT/Creating%20Vectors%20from%20Text
> >
> > Regards,
> >
> > Georger
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--0016364164694ff53e049c19836c--

From java-user-return-48689-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Feb 13 12:10:32 2011
Return-Path: <java-user-return-48689-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95267 invoked from network); 13 Feb 2011 12:10:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 13 Feb 2011 12:10:31 -0000
Received: (qmail 71611 invoked by uid 500); 13 Feb 2011 12:10:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71139 invoked by uid 500); 13 Feb 2011 12:10:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71127 invoked by uid 99); 13 Feb 2011 12:10:25 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Feb 2011 12:10:25 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of narayansinghbhati@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Feb 2011 12:10:17 +0000
Received: by fxm2 with SMTP id 2so4255033fxm.35
        for <java-user@lucene.apache.org>; Sun, 13 Feb 2011 04:09:57 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=1eWV3NLeeVghP0OVnzDKovreFU55opIDBS2NjfESFDA=;
        b=PLTBmn+0hHmROfFCGDrAz8+Ndcv4DhFWNY9oXkIrLEXIOJxqDJ4+5Q3iTnURf9fmDe
         nGSUgs6nq2yig1tIPLwcypQq/r6gfxYNalk7AdMjzCeCi4K63ZcamzUpiOCeVmkeA5QN
         fvxMB5mY6+SNzWmYj75ZTmFJgVnycgc0EEAbQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=am8DSZCtXvH4KlqpPdvTrwNqVLcoxWM5vaPE9gQuMZgO9iKMCIs76Llq0sxpui+m+P
         Vjrl1bGHAqZqkKQlxw2spKu+8F2pIPgzdo7gIv/Mxrjy+HLjXymda4JwdWyC6/HLPAz3
         dAEsNPNcRvwTSfE6fqNnSJmFdhdaDdubBNc5c=
MIME-Version: 1.0
Received: by 10.223.81.76 with SMTP id w12mr3022666fak.26.1297598997697; Sun,
 13 Feb 2011 04:09:57 -0800 (PST)
Received: by 10.223.74.13 with HTTP; Sun, 13 Feb 2011 04:09:57 -0800 (PST)
Date: Sun, 13 Feb 2011 17:39:57 +0530
Message-ID: <AANLkTi=VhOjNvpRt6Wx3yPPgHF8rocGj8HUOqqH7cbeE@mail.gmail.com>
Subject: where can i download a sample index
From: narayan bhati <narayansinghbhati@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00248c05002f519346049c28cfd0
X-Virus-Checked: Checked by ClamAV on apache.org

--00248c05002f519346049c28cfd0
Content-Type: text/plain; charset=ISO-8859-1

Hi All,
i am trying to get a sample index to which i can perform queries.
can anyone point to a location where i can download such a index.
for example index of wikipedia docs or any other such large repository
i am looking for index of 100 MB or so

thanks
Narayan

--00248c05002f519346049c28cfd0--

From java-user-return-48690-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Feb 13 12:21:44 2011
Return-Path: <java-user-return-48690-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97514 invoked from network); 13 Feb 2011 12:21:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 13 Feb 2011 12:21:44 -0000
Received: (qmail 81044 invoked by uid 500); 13 Feb 2011 12:21:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80839 invoked by uid 500); 13 Feb 2011 12:21:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80824 invoked by uid 99); 13 Feb 2011 12:21:37 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Feb 2011 12:21:37 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of anshumg@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Feb 2011 12:21:32 +0000
Received: by fxm2 with SMTP id 2so4259740fxm.35
        for <java-user@lucene.apache.org>; Sun, 13 Feb 2011 04:21:10 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=EQeokWyBwsNsbAYcmLx61XTEpM1kaiJbYRdN8gnQMkw=;
        b=Ic0ixS/4f5NULFCTiW2bpJurdfPpDYwB1bgfr2VvjGoCusMwpt3vhvGa7HMP04GiKp
         4dn+GXg63Xu8paW5z74lJEgsxffOAmch78OK8lQfM8gcLpw17wrb4XKMvX1SQv8JKd/U
         7YMwDjC6JNrCoS3buAzCnpeLEyC7fenhB48JI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=NxsEWocCA7Kx5qjWN5NaahabL4KFy88rI+AbvNv/tE1p2QfaTD+NIKFDVbwb076C2r
         zCJsS2GSUO9YyRHN3f4xn6cqxAhJULgJF727kbDb/wCZAREENF8b2J5oWSFcmKNnt1QI
         EiIL6ZC9Ps1cYmqFfc740a6q5bQosUTPQvVoA=
Received: by 10.223.102.77 with SMTP id f13mr3056390fao.113.1297599670784;
 Sun, 13 Feb 2011 04:21:10 -0800 (PST)
MIME-Version: 1.0
Received: by 10.223.108.71 with HTTP; Sun, 13 Feb 2011 04:20:50 -0800 (PST)
In-Reply-To: <AANLkTi=VhOjNvpRt6Wx3yPPgHF8rocGj8HUOqqH7cbeE@mail.gmail.com>
References: <AANLkTi=VhOjNvpRt6Wx3yPPgHF8rocGj8HUOqqH7cbeE@mail.gmail.com>
From: Anshum <anshumg@gmail.com>
Date: Sun, 13 Feb 2011 17:50:50 +0530
Message-ID: <AANLkTik8GWyQZWKY-XH_Pmm22hx-F3EXP1y576kVTTCw@mail.gmail.com>
Subject: Re: where can i download a sample index
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf3043449e701506049c28f7e5

--20cf3043449e701506049c28f7e5
Content-Type: text/plain; charset=ISO-8859-1

Why don't you generate your own index off some sample docs or dataset. Would
give you a lot more flexibility to play around as otherwise even if you get
an index, you wouldn't have info in the analyzer used etc.. while indexing.

--
Anshum Gupta
http://ai-cafe.blogspot.com


On Sun, Feb 13, 2011 at 5:39 PM, narayan bhati
<narayansinghbhati@gmail.com>wrote:

> Hi All,
> i am trying to get a sample index to which i can perform queries.
> can anyone point to a location where i can download such a index.
> for example index of wikipedia docs or any other such large repository
> i am looking for index of 100 MB or so
>
> thanks
> Narayan
>

--20cf3043449e701506049c28f7e5--

From java-user-return-48691-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Feb 13 13:04:59 2011
Return-Path: <java-user-return-48691-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11595 invoked from network); 13 Feb 2011 13:04:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 13 Feb 2011 13:04:59 -0000
Received: (qmail 5743 invoked by uid 500); 13 Feb 2011 13:04:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5354 invoked by uid 500); 13 Feb 2011 13:04:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5345 invoked by uid 99); 13 Feb 2011 13:04:51 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Feb 2011 13:04:51 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of narayansinghbhati@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Feb 2011 13:04:44 +0000
Received: by fxm2 with SMTP id 2so4277490fxm.35
        for <java-user@lucene.apache.org>; Sun, 13 Feb 2011 05:04:23 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=iVnMpMJrB34ITuQAxWCHiBkQ2O9EM8EjlFakKHXLvT4=;
        b=wiiL00Qc/ooypD4c07HjXGgZ+jTZmwvP00sI32in/HcXmYtV93bmCIGXYrTHyGQmGt
         7Ie+DzzbdVHqfK7W4ilnWiJheQChbDPJqzZwqlGViIe6kZh/a8bjtUooWab1Pf8raxFg
         5ScHE9SyaczWCuzOLkOeyD5NtGAd2OKiSUJ4c=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=RLnPjpm7py09m9zfX5Zi52RhRyGvUefj+R+8giBUabQ45azjngAmiKUIww/XtWp8oU
         JQJFe6vXVtypkZumdcwYqLMNSY1prKRtbyJ3pWIg5Jl/+iFadAgOX6YY07Wdkk62EDHE
         g8swPk9GiZDKoD2+7xBmDVbKJ9mlEuFc1DO3c=
MIME-Version: 1.0
Received: by 10.223.72.14 with SMTP id k14mr3075336faj.45.1297602262742; Sun,
 13 Feb 2011 05:04:22 -0800 (PST)
Received: by 10.223.74.13 with HTTP; Sun, 13 Feb 2011 05:04:22 -0800 (PST)
In-Reply-To: <AANLkTik8GWyQZWKY-XH_Pmm22hx-F3EXP1y576kVTTCw@mail.gmail.com>
References: <AANLkTi=VhOjNvpRt6Wx3yPPgHF8rocGj8HUOqqH7cbeE@mail.gmail.com>
	<AANLkTik8GWyQZWKY-XH_Pmm22hx-F3EXP1y576kVTTCw@mail.gmail.com>
Date: Sun, 13 Feb 2011 18:34:22 +0530
Message-ID: <AANLkTi=u9FXGnFuduM0nMseBWMmYFByuWQziypeiTj-i@mail.gmail.com>
Subject: Re: where can i download a sample index
From: narayan bhati <narayansinghbhati@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf3054a203ee3624049c2991b0
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf3054a203ee3624049c2991b0
Content-Type: text/plain; charset=ISO-8859-1

i built one with text files on my system.but it was not as rich with
different field types so was looking for one like wikipedia or so
yeah i agree analyzers will be problem
i got one from mannings site with source code of lucene in action.
lets see if that works out for me

thanks
narayan

On Sun, Feb 13, 2011 at 5:50 PM, Anshum <anshumg@gmail.com> wrote:

> Why don't you generate your own index off some sample docs or dataset.
> Would
> give you a lot more flexibility to play around as otherwise even if you get
> an index, you wouldn't have info in the analyzer used etc.. while indexing.
>
> --
> Anshum Gupta
> http://ai-cafe.blogspot.com
>
>
> On Sun, Feb 13, 2011 at 5:39 PM, narayan bhati
> <narayansinghbhati@gmail.com>wrote:
>
> > Hi All,
> > i am trying to get a sample index to which i can perform queries.
> > can anyone point to a location where i can download such a index.
> > for example index of wikipedia docs or any other such large repository
> > i am looking for index of 100 MB or so
> >
> > thanks
> > Narayan
> >
>

--20cf3054a203ee3624049c2991b0--

From java-user-return-48692-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Feb 13 15:28:26 2011
Return-Path: <java-user-return-48692-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55072 invoked from network); 13 Feb 2011 15:28:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 13 Feb 2011 15:28:25 -0000
Received: (qmail 60102 invoked by uid 500); 13 Feb 2011 15:28:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59518 invoked by uid 500); 13 Feb 2011 15:28:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59510 invoked by uid 99); 13 Feb 2011 15:28:18 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Feb 2011 15:28:18 +0000
X-ASF-Spam-Status: No, hits=3.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ee07b381@gmail.com designates 209.85.160.176 as permitted sender)
Received: from [209.85.160.176] (HELO mail-gy0-f176.google.com) (209.85.160.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Feb 2011 15:28:10 +0000
Received: by gyf1 with SMTP id 1so1913566gyf.35
        for <java-user@lucene.apache.org>; Sun, 13 Feb 2011 07:27:49 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:from:date:message-id:subject:to
         :content-type;
        bh=nGf6ljkm/ssj5rLFYjjbWLagBpp2/TzSC8UTo/K8npQ=;
        b=HRoMbedTokB/0Ohv6k/1b8Q06v/sAcR7qIl2+uXmI/ibgAqwFl+mmD74q4axcXaiJx
         XDeQSPxco9F9id8GlJYAOQSKxmVKVs4x2X8yHdmMRweTXML8s74yorar7LgeMIL1oMPG
         /kjlx9jxHZruC/WOQNv4b466W2aDBmA9lVMvk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:from:date:message-id:subject:to:content-type;
        b=GsSpp6M2ms3E7B4kTINzQrHYlezPRZvPYYAF2d7rE0japSfATduH05+s8n2+KlgR0z
         0EUKafMQqVIN3Il9TERB67HHsEGyra6Nxl32xVbFywo4ZfDzvtcKXMvEKFE2HKiIFBic
         aHwcrnPZ6EeMipFFfRTKYveIqJJ30z2haRNx0=
Received: by 10.150.158.11 with SMTP id g11mr3108395ybe.238.1297610869032;
 Sun, 13 Feb 2011 07:27:49 -0800 (PST)
MIME-Version: 1.0
Received: by 10.151.157.5 with HTTP; Sun, 13 Feb 2011 07:27:28 -0800 (PST)
From: Gong Li <ee07b381@gmail.com>
Date: Sun, 13 Feb 2011 23:27:28 +0800
Message-ID: <AANLkTino4wEQO9E6hC9uqCrSgksDTShqyx=0MDkQJo4p@mail.gmail.com>
Subject: About FSDirectory, File
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=000e0cd5d01ae7c67d049c2b9265
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd5d01ae7c67d049c2b9265
Content-Type: text/plain; charset=ISO-8859-1

Hi,

I need to generate executable JAR.

In my code, it has some lines as following:

String path = "d:\\project\\";
File f = new File(path);
Directory dir = FSDirectory.open(f);

In the path, there is a wordnet index which is used to search by synonyms.
When I run the JAR, it needs local directory d:\project in my computer. So
how to do to wrap the directory and the files in it into JAR that the
program can run independently.

Thx.

--000e0cd5d01ae7c67d049c2b9265--

From java-user-return-48693-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Feb 13 20:01:09 2011
Return-Path: <java-user-return-48693-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49001 invoked from network); 13 Feb 2011 20:01:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 13 Feb 2011 20:01:09 -0000
Received: (qmail 86023 invoked by uid 500); 13 Feb 2011 20:01:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85811 invoked by uid 500); 13 Feb 2011 20:01:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85803 invoked by uid 99); 13 Feb 2011 20:01:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Feb 2011 20:01:05 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of narayansinghbhati@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Feb 2011 20:01:00 +0000
Received: by fxm2 with SMTP id 2so4485592fxm.35
        for <java-user@lucene.apache.org>; Sun, 13 Feb 2011 12:00:39 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=gP6R8Vg3Mf0O4qfITmNm25r5qg2z3cFCle9vl3p2fc4=;
        b=bpxCpMIcCDTUIaRt2GLrK2TqyT47OVYJhabXK2zNjOKtAyQ1YqLw7louXcep/PgNc1
         hwwBwXrk659mAm09lAShCESq6aP6HIn+spwgXNdGbvJWd1tnif8RRi3Gpy/lVy69Lft2
         s7trfIc/WAGBcsLurcbHZKbjTjAcKZbnns8vg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=Aany6N8E2Xjo4CYP8ygwyHBwYmx8rFJuoPyizzz4iLZbmynE4SVDCXtrVR4Woj0Abh
         gq6vN2vG3eo/L0Ls5TQ5wc5o9825Bgu9OWklCK1D7p+93Z5mihiRqnfdYMCrEBjN2H4S
         ykb6i8BXEsTyvTfVYlIj+rDEpXLNDbS0jC/Tw=
MIME-Version: 1.0
Received: by 10.223.81.76 with SMTP id w12mr3449155fak.26.1297627234769; Sun,
 13 Feb 2011 12:00:34 -0800 (PST)
Received: by 10.223.74.13 with HTTP; Sun, 13 Feb 2011 12:00:34 -0800 (PST)
In-Reply-To: <AANLkTino4wEQO9E6hC9uqCrSgksDTShqyx=0MDkQJo4p@mail.gmail.com>
References: <AANLkTino4wEQO9E6hC9uqCrSgksDTShqyx=0MDkQJo4p@mail.gmail.com>
Date: Mon, 14 Feb 2011 01:30:34 +0530
Message-ID: <AANLkTinK4ZSVu6D6i8_GzF=WcrqNYPQtqMtKeon6c5x7@mail.gmail.com>
Subject: Re: About FSDirectory, File
From: narayan bhati <narayansinghbhati@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00248c05002f6129e1049c2f62db

--00248c05002f6129e1049c2f62db
Content-Type: text/plain; charset=ISO-8859-1

Hi,
you can export index with jar itself
and do not provide absolute path relative to file system
instead create folder named index in your project space
then as below you can get index directory

directory=FSDirectory.open(new File("index"));

here path is relative to you workspace which will not mess up, when you send
jar to other systems
eventually when you export project as jar or so, it will create folder named
index for index files.
 below is link for exporting and related stuff
http://stackoverflow.com/questions/502960/eclipse-how-to-build-an-executable-jar-with-external-jar

HTH
Narayan

On Sun, Feb 13, 2011 at 8:57 PM, Gong Li <ee07b381@gmail.com> wrote:

> Hi,
>
> I need to generate executable JAR.
>
> In my code, it has some lines as following:
>
> String path = "d:\\project\\";
> File f = new File(path);
> Directory dir = FSDirectory.open(f);
>
> In the path, there is a wordnet index which is used to search by synonyms.
> When I run the JAR, it needs local directory d:\project in my computer. So
> how to do to wrap the directory and the files in it into JAR that the
> program can run independently.
>
> Thx.
>

--00248c05002f6129e1049c2f62db--

From java-user-return-48694-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Feb 13 23:51:51 2011
Return-Path: <java-user-return-48694-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38083 invoked from network); 13 Feb 2011 23:51:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 13 Feb 2011 23:51:51 -0000
Received: (qmail 44139 invoked by uid 500); 13 Feb 2011 23:51:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44074 invoked by uid 500); 13 Feb 2011 23:51:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44066 invoked by uid 99); 13 Feb 2011 23:51:48 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Feb 2011 23:51:48 +0000
X-ASF-Spam-Status: No, hits=-2.8 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_HI,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of dennis.schmidt@sap.com designates 155.56.66.97 as permitted sender)
Received: from [155.56.66.97] (HELO smtpgw.sap-ag.de) (155.56.66.97)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Feb 2011 23:51:41 +0000
From: "Schmidt, Dennis" <dennis.schmidt@sap.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Mon, 14 Feb 2011 00:51:06 +0100
Subject: Search requires too long search term
Thread-Topic: Search requires too long search term
Thread-Index: AcvL2OFkfcryOPf9SHWFUnhoUYKvtA==
Message-ID: <8114345E47541748A416B7EA55839E17030D87EDCF@DEWDFECCR05.wdf.sap.corp>
Accept-Language: en-US, de-DE
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US, de-DE
Content-Type: multipart/alternative;
	boundary="_000_8114345E47541748A416B7EA55839E17030D87EDCFDEWDFECCR05wd_"
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

--_000_8114345E47541748A416B7EA55839E17030D87EDCFDEWDFECCR05wd_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi there,

I am using Lucene for an actually quite simple search. I am not indexing lo=
ng texts, but instead each document only has a couple of fields with texts =
from one word to a very short sentence (no more than 6 words usually). Now =
I need to find documents even with only two characters typed in by the user=
.

So for instance, I have a document with only the fields 'hasName', 'hasTech=
Name' and the value 'create'. What I need is to find this document, when th=
e user typed in 'cr'. But at the moment I would at least have to type in 'c=
reat'. The query I send to the QueryParser looks like this "hasName:*cr* OR=
 hasTechName:*cr*" and I pass true to setAllowLeadingWildcard . For collect=
ing the results I use the TopScoreDocCollector.

Any suggestions on where I would have to change something to make my search=
 be more "generous"? At the moment I have really no idea what to do...
Thanks, Dennis

Dennis Schmidt
Research Intern
SAP Research Sydney | Level 3, 168 Walker Street | 2065 North Sydney, NSW |=
 Australia
mailto:dennis.schmidt@sap.com<mailto:dennis.schmidt@sap.com>
www.sap.com<http://www.sap.com/>
Please consider the impact on the environment before printing this e-mail.




--_000_8114345E47541748A416B7EA55839E17030D87EDCFDEWDFECCR05wd_--

From java-user-return-48695-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Feb 14 06:14:26 2011
Return-Path: <java-user-return-48695-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94394 invoked from network); 14 Feb 2011 06:14:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Feb 2011 06:14:25 -0000
Received: (qmail 20964 invoked by uid 500); 14 Feb 2011 06:14:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20553 invoked by uid 500); 14 Feb 2011 06:14:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20545 invoked by uid 99); 14 Feb 2011 06:14:19 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Feb 2011 06:14:19 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of findbestopensource@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Feb 2011 06:14:13 +0000
Received: by fxm2 with SMTP id 2so4781390fxm.35
        for <java-user@lucene.apache.org>; Sun, 13 Feb 2011 22:13:52 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=bThPE1ZC7jmZukIBgbpntAnhe9JgBWWczlva4mwhesA=;
        b=ps5D1+Mbm9lzetomuvn3hFi10UwODUnvs6C58EqkjewRiUJMlZvTtRmmFPzl0LXGZG
         /efoVSbWXww1oB/9SIBxmfAa4WmgZZQAKeLMWyM5OfoCwG1PYnNxTfQzuP+UHsfFqys2
         +KpCTBI8jXNGhBQ4O5AHD04J95ryVJkgHyLck=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=HVpjXRJ9yeAgOqVvdcVzdr8Pvvb40KZP9sm5dZcJLCEtz8a/uhccWl1bcwwtzVInzd
         Fh2jZe9YOclDFVCxcBeBZZNp10LwKgYvmzWoqRwhGqyeS/el1h5/pASgHh8EzGlNXdjm
         a/oRpCEo3F73bfwDEHtkj6hmW0HpqctA4v8SQ=
MIME-Version: 1.0
Received: by 10.223.112.79 with SMTP id v15mr23747784fap.143.1297664032708;
 Sun, 13 Feb 2011 22:13:52 -0800 (PST)
Received: by 10.223.101.201 with HTTP; Sun, 13 Feb 2011 22:13:52 -0800 (PST)
In-Reply-To: <8114345E47541748A416B7EA55839E17030D87EDCF@DEWDFECCR05.wdf.sap.corp>
References: <8114345E47541748A416B7EA55839E17030D87EDCF@DEWDFECCR05.wdf.sap.corp>
Date: Mon, 14 Feb 2011 11:43:52 +0530
Message-ID: <AANLkTin2bVgJZOqnZ3708saZQK2AOdM6c+vCTP+7Uqbc@mail.gmail.com>
Subject: Re: Search requires too long search term
From: findbestopensource <findbestopensource@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=001636c5b45fb518b0049c37f352
X-Virus-Checked: Checked by ClamAV on apache.org

--001636c5b45fb518b0049c37f352
Content-Type: text/plain; charset=ISO-8859-1

You may need to use ngrams.
http://lucene.apache.org/java/3_0_3/api/all/org/apache/lucene/analysis/ngram/EdgeNGramTokenFilter.html

Another option would be doing wildcard query without enabling leading
wildcard search. search for cr* and not *cr* as the auto suggest
feature should give suggestion for words after "cr" and not before "cr".
Regards
Aditya
www.findbestopensource.com


On Mon, Feb 14, 2011 at 5:21 AM, Schmidt, Dennis <dennis.schmidt@sap.com>wrote:

> Hi there,
>
> I am using Lucene for an actually quite simple search. I am not indexing
> long texts, but instead each document only has a couple of fields with texts
> from one word to a very short sentence (no more than 6 words usually). Now I
> need to find documents even with only two characters typed in by the user.
>
> So for instance, I have a document with only the fields 'hasName',
> 'hasTechName' and the value 'create'. What I need is to find this document,
> when the user typed in 'cr'. But at the moment I would at least have to type
> in 'creat'. The query I send to the QueryParser looks like this
> "hasName:*cr* OR hasTechName:*cr*" and I pass true to
> setAllowLeadingWildcard . For collecting the results I use the
> TopScoreDocCollector.
>
> Any suggestions on where I would have to change something to make my search
> be more "generous"? At the moment I have really no idea what to do...
> Thanks, Dennis
>
> Dennis Schmidt
> Research Intern
> SAP Research Sydney | Level 3, 168 Walker Street | 2065 North Sydney, NSW |
> Australia
> mailto:dennis.schmidt@sap.com<mailto:dennis.schmidt@sap.com>
> www.sap.com<http://www.sap.com/>
> Please consider the impact on the environment before printing this e-mail.
>
>
>
>

--001636c5b45fb518b0049c37f352--

From java-user-return-48696-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Feb 14 16:35:38 2011
Return-Path: <java-user-return-48696-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72007 invoked from network); 14 Feb 2011 16:35:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Feb 2011 16:35:38 -0000
Received: (qmail 75906 invoked by uid 500); 14 Feb 2011 16:35:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75364 invoked by uid 500); 14 Feb 2011 16:35:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75349 invoked by uid 99); 14 Feb 2011 16:35:30 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Feb 2011 16:35:30 +0000
X-ASF-Spam-Status: No, hits=3.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ee07b381@gmail.com designates 209.85.213.176 as permitted sender)
Received: from [209.85.213.176] (HELO mail-yx0-f176.google.com) (209.85.213.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Feb 2011 16:35:24 +0000
Received: by yxm8 with SMTP id 8so2376096yxm.35
        for <java-user@lucene.apache.org>; Mon, 14 Feb 2011 08:35:03 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:from:date:message-id:subject:to
         :content-type;
        bh=veJ/vzQRHaxXHvggiKQ2qycqQqVKeVjxD/LnexnRzuE=;
        b=sz5L6LZMcCqV08lluUNVrvsKiTogw7jtCPZMhHWbmOn+TJitdVHB/yIaDfmmAu2kZF
         LIU5d0IwpInTetakdJYPwtGQ+NSTDoyZqwKXfFM+eSar2f4OMsQeerrIV9f8SV5Kyz/S
         Rmq1gi3CG6AXoPwpy/XvRxVC1eK8DCS6MPoc0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:from:date:message-id:subject:to:content-type;
        b=X6DXGlsKrotjUXqKcUreJHlA5ljoZo7D/gXSYhsPEez3Nww1QLwuLQgIM8jndQonJi
         CSG8muembHSuqdPlpdvi5mDCeTbInGQctHxuipXhqxQPiGjK4VIFTDALGmhIYayZiSJ8
         OlDdO9/p5xziwblgLxZnySsEOxc6Phrd8gfKY=
Received: by 10.150.96.17 with SMTP id t17mr4647294ybb.217.1297701303451; Mon,
 14 Feb 2011 08:35:03 -0800 (PST)
MIME-Version: 1.0
Received: by 10.151.153.13 with HTTP; Mon, 14 Feb 2011 08:34:43 -0800 (PST)
From: Gong Li <ee07b381@gmail.com>
Date: Tue, 15 Feb 2011 00:34:43 +0800
Message-ID: <AANLkTinXQgpP-d80aUzAAAkQvQa8_Sn3woh=S_gsW15b@mail.gmail.com>
Subject: Lucene Wordnet
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=000e0cd6a9d8378017049c40a1c5

--000e0cd6a9d8378017049c40a1c5
Content-Type: text/plain; charset=ISO-8859-1

Hi,

I need to generate a *single *executable JAR.

In my code, it needs the wordnet index directory.

So When I run the JAR, it needs local directory in my computer. And other
computer can't run.

Is there any way to search by using wordnet synonyms index with a single
executable file?

Thx.

--000e0cd6a9d8378017049c40a1c5--

From java-user-return-48697-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Feb 14 17:44:00 2011
Return-Path: <java-user-return-48697-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2799 invoked from network); 14 Feb 2011 17:43:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Feb 2011 17:43:59 -0000
Received: (qmail 74056 invoked by uid 500); 14 Feb 2011 17:43:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73594 invoked by uid 500); 14 Feb 2011 17:43:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73586 invoked by uid 99); 14 Feb 2011 17:43:53 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Feb 2011 17:43:53 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ian.lea@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Feb 2011 17:43:48 +0000
Received: by bwz8 with SMTP id 8so6129075bwz.35
        for <java-user@lucene.apache.org>; Mon, 14 Feb 2011 09:43:27 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=GhnkqHK59Bn90tI8Vc38M07qapuvrQbQZp/XKR0Ud7c=;
        b=CMO4/ZwT3juQjHKJUs66Q5qxrs3upI+yDzliiQtN8V1U29nXntC/IFm3NWkH6UixCc
         oLo8bzBv03bslQ2HkKM3SrUae2AoKHcACA2isB+P2uwpWxeUBxteYH8HlOARDM/uwvi3
         ny6vUN2jA0+x5kUQfAWs/nNLlp5FE/plCRRPc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=DHf/nqZ0hQGi6gSkKM6ZCLFPp1WoXj0Lq2lK/px5TxN4C2PecGOVHVzRatXn0liB9J
         0V4AcaSojXo65X8WdcDzbKbWCr8to9dcJWDH8kzq9/pdnMa2JTAhKE8+FnWO5M3TNmTc
         lPqyKWUFhlB7cv5nFQUubkKH7WyUZFlpe6dbM=
Received: by 10.204.52.75 with SMTP id h11mr3692075bkg.67.1297705407018; Mon,
 14 Feb 2011 09:43:27 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.85.79 with HTTP; Mon, 14 Feb 2011 09:43:06 -0800 (PST)
In-Reply-To: <AANLkTinXQgpP-d80aUzAAAkQvQa8_Sn3woh=S_gsW15b@mail.gmail.com>
References: <AANLkTinXQgpP-d80aUzAAAkQvQa8_Sn3woh=S_gsW15b@mail.gmail.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Mon, 14 Feb 2011 17:43:06 +0000
Message-ID: <AANLkTineAAVA-NBAxZcj8LPB4LZEjYfQjhnJB1YwjHQd@mail.gmail.com>
Subject: Re: Lucene Wordnet
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

There's some stuff in an old thread at
http://www.gossamer-threads.com/lists/lucene/java-user/61602 that
might be relevant.  The idea of storing the index in the jar and
extracting it before use seems to me to have the greatest chance of
success.


--
Ian.

On Mon, Feb 14, 2011 at 4:34 PM, Gong Li <ee07b381@gmail.com> wrote:
> Hi,
>
> I need to generate a *single *executable JAR.
>
> In my code, it needs the wordnet index directory.
>
> So When I run the JAR, it needs local directory in my computer. And other
> computer can't run.
>
> Is there any way to search by using wordnet synonyms index with a single
> executable file?
>
> Thx.
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48698-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Feb 14 18:17:21 2011
Return-Path: <java-user-return-48698-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22186 invoked from network); 14 Feb 2011 18:17:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Feb 2011 18:17:20 -0000
Received: (qmail 50454 invoked by uid 500); 14 Feb 2011 18:17:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50132 invoked by uid 500); 14 Feb 2011 18:17:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50124 invoked by uid 99); 14 Feb 2011 18:17:14 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Feb 2011 18:17:14 +0000
X-ASF-Spam-Status: No, hits=3.9 required=5.0
	tests=FORGED_YAHOO_RCVD,FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,RFC_ABUSE_POST,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [216.139.236.26] (HELO sam.nabble.com) (216.139.236.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Feb 2011 18:17:06 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by sam.nabble.com with esmtp (Exim 4.69)
	(envelope-from <madhuri_1820@yahoo.com>)
	id 1Pp2yb-0004d9-Ho
	for java-user@lucene.apache.org; Mon, 14 Feb 2011 10:16:45 -0800
From: madhuri_1820@yahoo.com
To: java-user@lucene.apache.org
Message-ID: <31036291.49766.1297707405546.JavaMail.nabble@ben.nabble.com>
Subject: Multi Index Search Query
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Date: Mon, 14 Feb 2011 10:16:45 -0800
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

I have two index files. I am searching id1 from Index A and id2 from Index B.
By using id1 (Index A) results , I am searching id2 from Index B. I stored these two index files in local file system.
I am using filter as a result of Index A.
IndexSearcher.search(Query,filter,10000);

I am running queries individually. Is there any possibility that I can combine these two queries into single query. Can I use Multi index search in this case ?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48699-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Feb 14 18:23:11 2011
Return-Path: <java-user-return-48699-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24124 invoked from network); 14 Feb 2011 18:23:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Feb 2011 18:23:11 -0000
Received: (qmail 66534 invoked by uid 500); 14 Feb 2011 18:23:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66141 invoked by uid 500); 14 Feb 2011 18:23:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66129 invoked by uid 99); 14 Feb 2011 18:23:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Feb 2011 18:23:05 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of oren.liat@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Feb 2011 18:22:58 +0000
Received: by qwe4 with SMTP id 4so3436071qwe.35
        for <java-user@lucene.apache.org>; Mon, 14 Feb 2011 10:22:37 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=F7DDP7ZDoM+siCxGoCm4pCEQdZHHS85TiHdoaEMlYq0=;
        b=u+Lnfwt0wgut2AcoJ2k+BCvsT13hicTauBqo5pvysmrHAUrNms5+yiWOrb7G7T79TU
         5AruWskKmVmsLCGh7BVjr5soUFqBiDRE/AddkO/1CUEFIGsQE5gZUsug2kHzU7Ikh95b
         rO249Pf+qRbUi38jLWtUwiFQ1ALXeetfe7qPk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=C00TsM9rzNIDhymt4dxqslEv8QBCrm3cdam7qqHY8szkg7n3TPA/48hOtz2uL14yOx
         mRCCkUYUj18kaX+OCH8zpwx51+q1iYqIVgo05PJC55qDX562vyB7zzoid8faeh9C+LCI
         nsl+znq/tRLn00x1Pr4s5rNeLEcqA2+ajtqyI=
MIME-Version: 1.0
Received: by 10.229.235.69 with SMTP id kf5mr3270834qcb.49.1297707757672; Mon,
 14 Feb 2011 10:22:37 -0800 (PST)
Received: by 10.229.10.20 with HTTP; Mon, 14 Feb 2011 10:22:37 -0800 (PST)
Date: Mon, 14 Feb 2011 13:22:37 -0500
Message-ID: <AANLkTikvnMqCu8X-6v_q_7B-TH_VFC=QF3AstZ4VnkFL@mail.gmail.com>
Subject: Search in multiple indexes which have differnt field name
From: liat oren <oren.liat@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00163630f98beb41eb049c4221b1

--00163630f98beb41eb049c4221b1
Content-Type: text/plain; charset=ISO-8859-1

Hey All,

I try to construct a boolean query that has to run on 3 different set of
indexes:
in two of them, it should query a field name "contents" and in one of them,
it should query a field named "text".
How can I use MultiSearcher to support this structure?

Thanks a lot,
Liat

--00163630f98beb41eb049c4221b1--

From java-user-return-48700-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Feb 14 18:24:07 2011
Return-Path: <java-user-return-48700-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24271 invoked from network); 14 Feb 2011 18:24:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Feb 2011 18:24:06 -0000
Received: (qmail 68347 invoked by uid 500); 14 Feb 2011 18:24:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68193 invoked by uid 500); 14 Feb 2011 18:24:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68184 invoked by uid 99); 14 Feb 2011 18:24:01 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Feb 2011 18:24:01 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of anshumg@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Feb 2011 18:23:54 +0000
Received: by fxm2 with SMTP id 2so5419701fxm.35
        for <java-user@lucene.apache.org>; Mon, 14 Feb 2011 10:23:34 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=Vo/Ucwg7Lz/fpA97Gg7oEoCCKKzaP+tsdCQ39v5wDXQ=;
        b=oOskd98VtVkw2AK+713VlI7Bolt2CKbmIUWBahd57BJFo/AmIUbM8q8NUb7HBVT/WV
         g9EJrVV/IPXfTxTiTLLxq526SHocP4HFen335gqOc1mSrLKSnSPXAQzQJhIIxuQBsn99
         ijQ9LHiBKNDTJ3Y5YSPbi5BPxaFjvaluPV2yw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=Ffr+rNS7w4xt407AnJSeiXUvdVkpfzZEQQ6CSpaS5iyetxN7U4OvXEQSngCZ6u7J/E
         zY+AEB2YwmcDiulmDSejkIPWFyXc3eVBJjST75FgAM/A7dYkUQIkLI4askpIgB8Ue/hx
         FOaDpWB07CkNVLNS6gfmEsHP22VP7gPcPZEgU=
Received: by 10.223.123.142 with SMTP id p14mr4905374far.56.1297707813816;
 Mon, 14 Feb 2011 10:23:33 -0800 (PST)
MIME-Version: 1.0
Received: by 10.223.108.71 with HTTP; Mon, 14 Feb 2011 10:23:13 -0800 (PST)
In-Reply-To: <31036291.49766.1297707405546.JavaMail.nabble@ben.nabble.com>
References: <31036291.49766.1297707405546.JavaMail.nabble@ben.nabble.com>
From: Anshum <anshumg@gmail.com>
Date: Mon, 14 Feb 2011 23:53:13 +0530
Message-ID: <AANLkTim_+A4w=FNzgn+fd_qo8vxgcrbHMaLFbpZP4W12@mail.gmail.com>
Subject: Re: Multi Index Search Query
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=001636c594da43cc6d049c4225a7
X-Virus-Checked: Checked by ClamAV on apache.org

--001636c594da43cc6d049c4225a7
Content-Type: text/plain; charset=ISO-8859-1

If you actually intend at getting the intersection of 2 results from a
'union' of 2 indexes, you could use the filter and query approach. You could
use a multi searcher or a parallel multi searcher to perform the search in
this case.

--
Anshum Gupta
http://ai-cafe.blogspot.com


On Mon, Feb 14, 2011 at 11:46 PM, <madhuri_1820@yahoo.com> wrote:

> Hi,
>
> I have two index files. I am searching id1 from Index A and id2 from Index
> B.
> By using id1 (Index A) results , I am searching id2 from Index B. I stored
> these two index files in local file system.
> I am using filter as a result of Index A.
> IndexSearcher.search(Query,filter,10000);
>
> I am running queries individually. Is there any possibility that I can
> combine these two queries into single query. Can I use Multi index search in
> this case ?
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--001636c594da43cc6d049c4225a7--

From java-user-return-48701-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Feb 14 18:26:25 2011
Return-Path: <java-user-return-48701-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30375 invoked from network); 14 Feb 2011 18:26:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Feb 2011 18:26:25 -0000
Received: (qmail 71889 invoked by uid 500); 14 Feb 2011 18:26:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71742 invoked by uid 500); 14 Feb 2011 18:26:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71734 invoked by uid 99); 14 Feb 2011 18:26:20 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Feb 2011 18:26:20 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of anshumg@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Feb 2011 18:26:14 +0000
Received: by fxm2 with SMTP id 2so5421952fxm.35
        for <java-user@lucene.apache.org>; Mon, 14 Feb 2011 10:25:53 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=kJwfQezO8AmJ5IupvE9Fladthzrk7FDnYpCh+Jp2bKk=;
        b=wB7Y5/UzFP7oQlqynnALxC6x122ANWn/HjgDRWn2YmcmXw8UktEJRnvSrKFB2PhZIX
         d2wgyiR201T7oj8HM1dOvCrddrIzWmSmSWiumwAamlsFFz4LQW4s+QMVUG654sB+WqKz
         D9xSCeGCxWtc3vWa+9Q125b90DddIWUCmkdts=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=iNpgUlPWoooEX2oxaegc0C50P5dZ48DxdqNwVSMZEjRZAf0yLdx8X9raRP8eBcO1ti
         07NCDOqNwLro6sEBw2YEK2SZdRjC7U0/e+90Zv8enu5nQQK4pPV0mMaK/PlfxqyF6dvC
         XrdY5uBUYSwvA6ZxAuC8l5pU41TWX2zthXZK8=
Received: by 10.223.83.8 with SMTP id d8mr2542678fal.94.1297707952156; Mon, 14
 Feb 2011 10:25:52 -0800 (PST)
MIME-Version: 1.0
Received: by 10.223.108.71 with HTTP; Mon, 14 Feb 2011 10:25:30 -0800 (PST)
In-Reply-To: <AANLkTikvnMqCu8X-6v_q_7B-TH_VFC=QF3AstZ4VnkFL@mail.gmail.com>
References: <AANLkTikvnMqCu8X-6v_q_7B-TH_VFC=QF3AstZ4VnkFL@mail.gmail.com>
From: Anshum <anshumg@gmail.com>
Date: Mon, 14 Feb 2011 23:55:30 +0530
Message-ID: <AANLkTikgg-CDeN8fbCaq9eroJh+kZSiOmj18pPh8GQgT@mail.gmail.com>
Subject: Re: Search in multiple indexes which have differnt field name
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf3054a5e382b036049c422d47

--20cf3054a5e382b036049c422d47
Content-Type: text/plain; charset=ISO-8859-1

Hi Liat,
You could use open a multi/parallelmultisearcher on the indexes that you
have and then construct an OR query e.g. (contents:A OR text:A)
I am assuming that the field names do not overlap. If that is not the case
then you'd need another solution.

--
Anshum Gupta
http://ai-cafe.blogspot.com


On Mon, Feb 14, 2011 at 11:52 PM, liat oren <oren.liat@gmail.com> wrote:

> Hey All,
>
> I try to construct a boolean query that has to run on 3 different set of
> indexes:
> in two of them, it should query a field name "contents" and in one of them,
> it should query a field named "text".
> How can I use MultiSearcher to support this structure?
>
> Thanks a lot,
> Liat
>

--20cf3054a5e382b036049c422d47--

From java-user-return-48702-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Feb 14 18:36:47 2011
Return-Path: <java-user-return-48702-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37567 invoked from network); 14 Feb 2011 18:36:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Feb 2011 18:36:46 -0000
Received: (qmail 88679 invoked by uid 500); 14 Feb 2011 18:36:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88465 invoked by uid 500); 14 Feb 2011 18:36:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88456 invoked by uid 99); 14 Feb 2011 18:36:39 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Feb 2011 18:36:39 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ssmith@mainstreamdata.com designates 209.63.42.201 as permitted sender)
Received: from [209.63.42.201] (HELO nexus1.mainstreamdata.com) (209.63.42.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Feb 2011 18:36:33 +0000
Received: from localhost (localhost [127.0.0.1])
	by nexus1.mainstreamdata.com (Postfix) with ESMTP id BA3384901E
	for <java-user@lucene.apache.org>; Mon, 14 Feb 2011 11:36:11 -0700 (MST)
X-Virus-Scanned: Debian amavisd-new at nexus1.mainstreamdata.com
Received: from nexus1.mainstreamdata.com ([127.0.0.1])
	by localhost (nexus1.mainstreamdata.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id djAFdNZI6FgU for <java-user@lucene.apache.org>;
	Mon, 14 Feb 2011 11:36:07 -0700 (MST)
Received: from webmail.mainstreamdata.com (hedwig.slc.mainstreamdata.com [10.2.1.133])
	by nexus1.mainstreamdata.com (Postfix) with ESMTP id 2FB6E4900E
	for <java-user@lucene.apache.org>; Mon, 14 Feb 2011 11:36:07 -0700 (MST)
Received: from hedwig.slc.mainstreamdata.com ([::1]) by
 hedwig.slc.mainstreamdata.com ([::1]) with mapi id 14.01.0270.001; Mon, 14
 Feb 2011 11:36:07 -0700
From: Scott Smith <ssmith@mainstreamdata.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Subject: RE: [ANNOUNCEMENT] NLP-based Analyzer library for Lucene
Thread-Topic: [ANNOUNCEMENT] NLP-based Analyzer library for Lucene
Thread-Index: AQHLx7Bz+NZa8ql5LUegzYSBgRrl7ZQBW5BQ
Date: Mon, 14 Feb 2011 18:36:05 +0000
Message-ID: <B29111A755EFB5419E6C7BC998C6E8671C8EFE@hedwig.slc.mainstreamdata.com>
References: <AANLkTi=+StvX94X_fOtErnn0zSFdW4P7Em1V04ux2=UT@mail.gmail.com>
In-Reply-To: <AANLkTi=+StvX94X_fOtErnn0zSFdW4P7Em1V04ux2=UT@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [10.7.11.126]
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

T25lIHRoaW5nIHRvIG5vdGUgaXMgdGhhdCB0aGUgU3RhbmZvcmQgUE9TIFRhZ2dlciBpcyBsaWNl
bnNlZCB1c2luZyBHUEwgdjIuICBBIGNvbW1lcmNpYWwgbGljZW5zZSBpcyBhdmFpbGFibGUsIGJ1
dCBpdCBkb2Vzbid0IGFwcGVhciB0byBiZSBmcmVlICgkM2sgbWluIGlmIEkgcmVhZCBjb3JyZWN0
bHkpLg0KDQpJIHdvbmRlciB3aGF0IGl0IHdvdWxkIHRha2UgdG8gbWFrZSB0aGlzIGF2YWlsYWJs
ZSB1c2luZyBPcGVuTkxQIHdoaWNoIGhhcyBhIGZyaWVuZGxpZXIgbGljZW5zZS4NCg0KLS0tLS1P
cmlnaW5hbCBNZXNzYWdlLS0tLS0NCkZyb206IExhcnMgQnVpdGluY2sgW21haWx0bzpsYXJzbWFu
c0BnbWFpbC5jb21dIA0KU2VudDogVHVlc2RheSwgRmVicnVhcnkgMDgsIDIwMTEgOTo1MSBBTQ0K
VG86IEFwYWNoZSBMdWNlbmUgdXNlcnMNClN1YmplY3Q6IFtBTk5PVU5DRU1FTlRdIE5MUC1iYXNl
ZCBBbmFseXplciBsaWJyYXJ5IGZvciBMdWNlbmUNCg0KRGVhciBhbGwsDQoNCkZvciBhbnlvbmUg
d2FudGluZyB0byBhZGQgc29tZSBOTFAgYWJpbGl0aWVzIHRvIEx1Y2VuZSwgSSd2ZSByZWxlYXNl
ZA0KYSBzbWFsbCBsaWJyYXJ5IGF0DQpodHRwczovL2dpdGh1Yi5jb20vbGFyc21hbnMvbHVjZW5l
LXN0YW5mb3JkLWxlbW1hdGl6ZXIgLiBUaGlzIGxpYnJhcnkNCnBlcmZvcm1zIHBhcnQtb2Ytc3Bl
ZWNoIHRhZ2dpbmcgKGRldGVybWluaW5nIHdvcmQgY2F0ZWdvcmllcyBzdWNoIGFzDQpub3VuLCB2
ZXJiKSwgZmlsdGVyaW5nIGJhc2VkIG9uIHBhcnQtb2Ytc3BlZWNoIGFuZCBsZW1tYXRpemluZw0K
KHJlZHVjaW5nIHdvcmRzIHRvIHRoZWlyIGJhc2UgZm9ybSkuDQoNCkluIG90aGVyIHdvcmRzOiB0
aGlzIGlzIGFuIE5MUC1iYXNlZCByZXBsYWNlbWVudCBmb3IgYSBzdGVtbWVyIGFuZCBhDQpzdG9w
IGxpc3QsIGltcGxlbWVudGVkIGFzIGEgTHVjZW5lIGFuYWx5emVyLiBJdCByZXF1aXJlcyB0aGUg
U3RhbmZvcmQNClBPUyBUYWdnZXIuDQoNCmx1Y2VuZS1zdGFuZm9yZC1sZW1tYXRpemVyIGNhbiBi
ZSB1c2VkIHRvIGluZGV4IG9yIHF1ZXJ5IGxlbW1hcyBhcw0Kd2VsbCBhcyB0aGUgdGVybXMgYXMg
dGhleSBhcHBlYXIgaW4gdGV4dCwgYW5kL29yIHRvIGZpbHRlciBvdXQgdGVybXMNCmJlZm9yZSBp
bmRleGluZy9xdWVyeWluZyBiYXNlZCBvbiB0aGVpciBwYXJ0LW9mLXNwZWVjaC4gQnkgZGVmYXVs
dCwgaXQNCmZpbHRlcnMgb3V0IHByb25vdW5zLCBkZXRlcm1pbmVycyAodGhlLCBhKSBhbmQgc2V2
ZXJhbCBvdGhlcg0Kbm9uLWluZm9ybWF0aXZlIHdvcmQgY2F0ZWdvcmllcy4NCg0KSSd2ZSBzZWVu
IHRoaXMgY29kZSBpbXByb3ZlIHNlYXJjaCBxdWFsaXR5LCBldmVuIG9uIHZlcnkgbm9pc3kgZGF0
YS4NClRoZSBzb2Z0d2FyZSBpcyBkZXNpZ25lZCBmb3IgRW5nbGlzaCwgYnV0IGRvZXMgYSBwcmV0
dHkgZ29vZCBqb2IgYXQNCmRldGVjdGluZyBub24tRW5nbGlzaCB3b3JkcyBhbmQgbGVhdmluZyB0
aG9zZSBhbG9uZSAoaW4gY29udHJhc3QgdG8NCnRoZSBQb3J0ZXIvU25vd2JhbGwgc3RlbW1lciku
DQoNClJlZ2FyZHMsDQpMYXJzIEJ1aXRpbmNrDQoNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KVG8gdW5zdWJzY3Jp
YmUsIGUtbWFpbDogamF2YS11c2VyLXVuc3Vic2NyaWJlQGx1Y2VuZS5hcGFjaGUub3JnDQpGb3Ig
YWRkaXRpb25hbCBjb21tYW5kcywgZS1tYWlsOiBqYXZhLXVzZXItaGVscEBsdWNlbmUuYXBhY2hl
Lm9yZw0KDQo=


From java-user-return-48703-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Feb 14 18:46:06 2011
Return-Path: <java-user-return-48703-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40297 invoked from network); 14 Feb 2011 18:46:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Feb 2011 18:46:06 -0000
Received: (qmail 928 invoked by uid 500); 14 Feb 2011 18:46:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 642 invoked by uid 500); 14 Feb 2011 18:46:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 634 invoked by uid 99); 14 Feb 2011 18:46:00 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Feb 2011 18:46:00 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of oren.liat@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Feb 2011 18:45:54 +0000
Received: by qwe4 with SMTP id 4so3453619qwe.35
        for <java-user@lucene.apache.org>; Mon, 14 Feb 2011 10:45:33 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=DHvE7yFJ4Ec8i8pRYuhds+wNO3G5ITebAoydOribDo4=;
        b=qBG8ZKn3ZncmFXhiKQlcbf2801uhQT7jzleLKdXSKymSkpEYYO0PzVnGsVo5IloBYN
         E96duz4MMarX+BA0VxRu0OCbKqqGeutV4L53wpp1ccmFg/LbIxQ8gLU6zH/sI/XlvKWa
         PiGW0ZLNSVxhM/EWw2jCavU49WvNVQK7wNjI0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=XtBUDMtnQkRE3yaEHUJmm89HBZLsiBLZYZAJE8aBHCYxrHBlJkxV0xUxead3X9HEXZ
         pRz4fBZKHQXLYWJJ0ixbNNqEkHd3EJ7yzjVCCRkDKwQ31XMsnmNNh11qbASvkF3QJbB3
         EvapimP+ZKjZtvq8WkC8gzcd8kWbw94roGZv8=
MIME-Version: 1.0
Received: by 10.229.235.69 with SMTP id kf5mr3298842qcb.49.1297709133434; Mon,
 14 Feb 2011 10:45:33 -0800 (PST)
Received: by 10.229.10.20 with HTTP; Mon, 14 Feb 2011 10:45:33 -0800 (PST)
In-Reply-To: <AANLkTikgg-CDeN8fbCaq9eroJh+kZSiOmj18pPh8GQgT@mail.gmail.com>
References: <AANLkTikvnMqCu8X-6v_q_7B-TH_VFC=QF3AstZ4VnkFL@mail.gmail.com>
	<AANLkTikgg-CDeN8fbCaq9eroJh+kZSiOmj18pPh8GQgT@mail.gmail.com>
Date: Mon, 14 Feb 2011 13:45:33 -0500
Message-ID: <AANLkTikpJ9kTbayqwdxoP9PpnVU38enXc1YTi800fSof@mail.gmail.com>
Subject: Re: Search in multiple indexes which have differnt field name
From: liat oren <oren.liat@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00163630f98beba1b9049c427314

--00163630f98beba1b9049c427314
Content-Type: text/plain; charset=ISO-8859-1

Ok, thanks a lot !
I will try that

On 14 February 2011 13:25, Anshum <anshumg@gmail.com> wrote:

> Hi Liat,
> You could use open a multi/parallelmultisearcher on the indexes that you
> have and then construct an OR query e.g. (contents:A OR text:A)
> I am assuming that the field names do not overlap. If that is not the case
> then you'd need another solution.
>
> --
> Anshum Gupta
> http://ai-cafe.blogspot.com
>
>
> On Mon, Feb 14, 2011 at 11:52 PM, liat oren <oren.liat@gmail.com> wrote:
>
> > Hey All,
> >
> > I try to construct a boolean query that has to run on 3 different set of
> > indexes:
> > in two of them, it should query a field name "contents" and in one of
> them,
> > it should query a field named "text".
> > How can I use MultiSearcher to support this structure?
> >
> > Thanks a lot,
> > Liat
> >
>

--00163630f98beba1b9049c427314--

From java-user-return-48704-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Feb 14 20:49:40 2011
Return-Path: <java-user-return-48704-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95536 invoked from network); 14 Feb 2011 20:49:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Feb 2011 20:49:39 -0000
Received: (qmail 52943 invoked by uid 500); 14 Feb 2011 20:49:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52777 invoked by uid 500); 14 Feb 2011 20:49:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52760 invoked by uid 99); 14 Feb 2011 20:49:36 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Feb 2011 20:49:36 +0000
X-ASF-Spam-Status: No, hits=4.9 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_BL_SPAMCOP_NET,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [74.125.149.238] (HELO na3sys009aog115.obsmtp.com) (74.125.149.238)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 14 Feb 2011 20:49:28 +0000
Received: from source ([209.85.161.44]) (using TLSv1) by na3sys009aob115.postini.com ([74.125.148.12]) with SMTP
	ID DSNKTVmVPMN5QX/dxKl6S6BRDb8+Beh9yUAv@postini.com; Mon, 14 Feb 2011 12:49:07 PST
Received: by mail-fx0-f44.google.com with SMTP id 9so6152397fxm.31
        for <java-user@lucene.apache.org>; Mon, 14 Feb 2011 12:49:00 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=onescreen.com; s=google;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=41nxk8j7CcTWV/MRvvkuRGgCW6CNVS39xNNrpKyeQzI=;
        b=MBULhzz/emkkasC1Mv9pnlDpwyY1kEgeMkUgawRjiadZOJtoy/fe5yMNvc5zsGTP00
         spLqAQ8tim3aAGzJ2r5HQOJx5w/TTVZOJ/2DuSnSv7UL/EU3A0EgQ65XVWN4clIYYBm9
         LYSUPn6u4Qy0AsRU8RNCAGV2cKv+/udavQwAI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=onescreen.com; s=google;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=f0zUASH6he0tasv1nDKzc74T7kudiy3qsxifx5lYS/TNpdi7seZQR9cJq4Uzkj24R6
         +poLx+kDd3t4yRNZ4eRXIQniQWTw57FcIMuLw9PYWa9LadB8MlHDMl9q9Cfsi9n1bUdG
         9zsNjh5IiCCXjaqevDFI3MsOGM4rSaAtGN7rk=
MIME-Version: 1.0
Received: by 10.223.74.143 with SMTP id u15mr213957faj.27.1297716540091; Mon,
 14 Feb 2011 12:49:00 -0800 (PST)
Received: by 10.223.115.207 with HTTP; Mon, 14 Feb 2011 12:48:59 -0800 (PST)
Date: Mon, 14 Feb 2011 12:49:00 -0800
Message-ID: <AANLkTinEjDh=1_3OJvAo1jk7n+gcjxERt=Pf+HwwAB8b@mail.gmail.com>
Subject: construct a field without analyzer?
From: Yuhan Zhang <yzhang@onescreen.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf3054a531643111049c442df1
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf3054a531643111049c442df1
Content-Type: text/plain; charset=ISO-8859-1

Hi all,

I am trying to index documents by phrases (multiple words) in the text, and
want to get around the StandardAnalyzer for this field. (however, I will
still
use standardAnalyzer for the other fields in the same document).

so, how should I approach it? is there a way to construct a field by
directly
providing the terms without analyzer? (by tokenstream?) which class can
construct a set of keywords into a tokenstream?


Thank you.

Yuhan

--20cf3054a531643111049c442df1--

From java-user-return-48705-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Feb 15 00:55:01 2011
Return-Path: <java-user-return-48705-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14582 invoked from network); 15 Feb 2011 00:55:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Feb 2011 00:55:01 -0000
Received: (qmail 44672 invoked by uid 500); 15 Feb 2011 00:54:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44495 invoked by uid 500); 15 Feb 2011 00:54:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44487 invoked by uid 99); 15 Feb 2011 00:54:58 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Feb 2011 00:54:58 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [132.249.20.60] (HELO billthecat.sdsc.edu) (132.249.20.60)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Feb 2011 00:54:50 +0000
Received: from [192.168.11.51] (c-67-180-28-210.hsd1.ca.comcast.net [67.180.28.210])
	(authenticated bits=0)
	by billthecat.sdsc.edu (8.14.2/8.14.1/SDSCrelay/16) with ESMTP id p1F0sRcq002981
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NO)
	for <java-user@lucene.apache.org>; Mon, 14 Feb 2011 16:54:28 -0800 (PST)
Message-ID: <4D59CEBF.5050307@sdsc.edu>
Date: Mon, 14 Feb 2011 16:54:23 -0800
From: Christopher Condit <condit@sdsc.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.2.13) Gecko/20101207 Thunderbird/3.1.7
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Phrase query with boolean matches
References: <AANLkTimBJPHxPaGkGLD0Z5_m-cEhiZW0LGiwWpn+xYOE@mail.gmail.com> <004701cb5da4$4c170d70$e4452850$@thetaphi.de>
In-Reply-To: <004701cb5da4$4c170d70$e4452850$@thetaphi.de>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

I'm trying to use the QueryParser in 3.0.2 to make "foo and bar" (with
the quotes) return documents with the exact phrase "foo and bar". When I
run it through the QueryParser (with a StandardAnalyzer) I end up with
"foo ? bar", which doesn't match the documents in the index. I know that
"and" is a stop word, but I'm curious why it's translated into ? instead
of a * during this parsing (or just left along because it's a phrase
query)...
Can I escape boolean keywords somehow?

Here's a runnable example: http://www.pastie.org/1564773

Thanks,
-Chris

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48706-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Feb 15 04:15:29 2011
Return-Path: <java-user-return-48706-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99899 invoked from network); 15 Feb 2011 04:15:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Feb 2011 04:15:29 -0000
Received: (qmail 96563 invoked by uid 500); 15 Feb 2011 04:15:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96149 invoked by uid 500); 15 Feb 2011 04:15:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96141 invoked by uid 99); 15 Feb 2011 04:15:22 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Feb 2011 04:15:22 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of anshumg@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Feb 2011 04:15:16 +0000
Received: by fxm2 with SMTP id 2so5885886fxm.35
        for <java-user@lucene.apache.org>; Mon, 14 Feb 2011 20:14:55 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=jBtaY+vv681J+EKtmo+3EqQKAJfGfP/sMWgxDQVAq40=;
        b=HAnino9uJrUzlPe+XWbsQOkygNMloC4dnF014l1ZERH4wN4gRvQXupVCO5/B5/5zym
         dEtMm93HQ8kLZgg1J9JW6MWWmSHOkyo3FNO019W0/vQD03aZ7R0ocAj2JMwOhrp11mU7
         zFTevYhf7hd73YEPBHi/GgQKDeC2nJ4aZbzNI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=uiRSxlDJG06rHwakt90tGd9BZEofmD3K2chkofCQdZ0unbxLOv9PGjCOKhyvX5Wa2T
         0wNHQTOGbWc3OGHU8n3GRrMhMZJYEFUKgMSTZwQF9F1EIl1kx3KFMWot+102Io1x9hvX
         aJU+Udv6TvMYvyC8hhqs9HgfAaKECtAA+xnkc=
Received: by 10.223.83.194 with SMTP id g2mr3649817fal.75.1297743295664; Mon,
 14 Feb 2011 20:14:55 -0800 (PST)
MIME-Version: 1.0
Received: by 10.223.108.71 with HTTP; Mon, 14 Feb 2011 20:14:35 -0800 (PST)
In-Reply-To: <AANLkTinEjDh=1_3OJvAo1jk7n+gcjxERt=Pf+HwwAB8b@mail.gmail.com>
References: <AANLkTinEjDh=1_3OJvAo1jk7n+gcjxERt=Pf+HwwAB8b@mail.gmail.com>
From: Anshum <anshumg@gmail.com>
Date: Tue, 15 Feb 2011 09:44:35 +0530
Message-ID: <AANLkTikp7ooUwoDsE+WpDDdZ+Hg65vm7x=Mba=YwPJFr@mail.gmail.com>
Subject: Re: construct a field without analyzer?
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf30433e4c25d464049c4a6809

--20cf30433e4c25d464049c4a6809
Content-Type: text/plain; charset=ISO-8859-1

Hi Yuhan,

By what I understand you are trying to construct an index and add a field to
it which would not be analyzed. Am I correct?  You could simply declare that
field as
new Field(...... , Index.NOT_ANALYZED)
http://lucene.apache.org/java/3_0_1/api/core/org/apache/lucene/document/Field.html

Also, if you want to analyze it using an analyzer that is different from the
one that you'd use for the other fields, you could use the perfieldanalyzer
<snip>
analyzer = new PerFieldAnalyzerWrapper(new StandardAnalyzer(
        Version.LUCENE_30));
analyzer.addAnalyzer("anotherfield", new KeywordAnalyzer());
</snip>

In the above snip, I instantiate an analyzer which by default would use the
StandardAnalyzer but for 'anotherfield' would use KeywordAnalyzer.

Hope this helps you.

--
Anshum Gupta
http://ai-cafe.blogspot.com


On Tue, Feb 15, 2011 at 2:19 AM, Yuhan Zhang <yzhang@onescreen.com> wrote:

> Hi all,
>
> I am trying to index documents by phrases (multiple words) in the text, and
> want to get around the StandardAnalyzer for this field. (however, I will
> still
> use standardAnalyzer for the other fields in the same document).
>
> so, how should I approach it? is there a way to construct a field by
> directly
> providing the terms without analyzer? (by tokenstream?) which class can
> construct a set of keywords into a tokenstream?
>
>
> Thank you.
>
> Yuhan
>

--20cf30433e4c25d464049c4a6809--

From java-user-return-48707-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Feb 15 09:39:48 2011
Return-Path: <java-user-return-48707-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31139 invoked from network); 15 Feb 2011 09:39:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Feb 2011 09:39:47 -0000
Received: (qmail 19983 invoked by uid 500); 15 Feb 2011 09:39:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19485 invoked by uid 500); 15 Feb 2011 09:39:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19477 invoked by uid 99); 15 Feb 2011 09:39:41 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Feb 2011 09:39:41 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ian.lea@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Feb 2011 09:39:34 +0000
Received: by bwz8 with SMTP id 8so259047bwz.35
        for <java-user@lucene.apache.org>; Tue, 15 Feb 2011 01:39:14 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type:content-transfer-encoding;
        bh=99EP9PvVvPIAIziq74BGr4YnbsrjX++kp4SA2kMwdjs=;
        b=aUBCZ9AalczepaI4NO6XE29zKD1T0BFr6slcxdRgjUCY488VxWYtiibmVr9X/GJ3kR
         +UW2CxeLiwC9hqq1khgBUkQ+XptQw5YLmKjaNxEpAniYpCKOUIgO1VjbtEUy6qto0E5R
         o1hEaOumS6SMkTkl2QpCwo6t6qJWRRKUAxLqI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=rR30nQV7+FKSQI+4KifPxzsggOdTi3JkUU+pDc8QklXlZ1MgdzcmsAdW77coV9aryk
         cOSJuJV7x/ibT3JCDHdei2N/pU1foFTFgtWzSYCFcrNfs//vSems5WQiP9/eNF0rZUPU
         NaOmyl7jEvmD+X6YT+5i9O/wq4+Vr17tQDbCg=
Received: by 10.204.66.130 with SMTP id n2mr16268154bki.175.1297762754153;
 Tue, 15 Feb 2011 01:39:14 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.85.79 with HTTP; Tue, 15 Feb 2011 01:38:53 -0800 (PST)
In-Reply-To: <AANLkTikp7ooUwoDsE+WpDDdZ+Hg65vm7x=Mba=YwPJFr@mail.gmail.com>
References: <AANLkTinEjDh=1_3OJvAo1jk7n+gcjxERt=Pf+HwwAB8b@mail.gmail.com> <AANLkTikp7ooUwoDsE+WpDDdZ+Hg65vm7x=Mba=YwPJFr@mail.gmail.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Tue, 15 Feb 2011 09:38:53 +0000
Message-ID: <AANLkTimS95sG-KF_mDb+c+1R+sydq=D4utHNyJeA+gG6@mail.gmail.com>
Subject: Re: construct a field without analyzer?
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Or maybe WhitespaceAnalyzer.  That would split a set of keywords into
a token stream if the set looked like "word1 word2 word3", without any
other processing on the keywords.  Use via PerFieldAnalyzerWrapper as
Anshum says.

--
Ian.


On Tue, Feb 15, 2011 at 4:14 AM, Anshum <anshumg@gmail.com> wrote:
> Hi Yuhan,
>
> By what I understand you are trying to construct an index and add a field=
 to
> it which would not be analyzed. Am I correct? =A0You could simply declare=
 that
> field as
> new Field(...... , Index.NOT_ANALYZED)
> http://lucene.apache.org/java/3_0_1/api/core/org/apache/lucene/document/F=
ield.html
>
> Also, if you want to analyze it using an analyzer that is different from =
the
> one that you'd use for the other fields, you could use the perfieldanalyz=
er
> <snip>
> analyzer =3D new PerFieldAnalyzerWrapper(new StandardAnalyzer(
> =A0 =A0 =A0 =A0Version.LUCENE_30));
> analyzer.addAnalyzer("anotherfield", new KeywordAnalyzer());
> </snip>
>
> In the above snip, I instantiate an analyzer which by default would use t=
he
> StandardAnalyzer but for 'anotherfield' would use KeywordAnalyzer.
>
> Hope this helps you.
>
> --
> Anshum Gupta
> http://ai-cafe.blogspot.com
>
>
> On Tue, Feb 15, 2011 at 2:19 AM, Yuhan Zhang <yzhang@onescreen.com> wrote=
:
>
>> Hi all,
>>
>> I am trying to index documents by phrases (multiple words) in the text, =
and
>> want to get around the StandardAnalyzer for this field. (however, I will
>> still
>> use standardAnalyzer for the other fields in the same document).
>>
>> so, how should I approach it? is there a way to construct a field by
>> directly
>> providing the terms without analyzer? (by tokenstream?) which class can
>> construct a set of keywords into a tokenstream?
>>
>>
>> Thank you.
>>
>> Yuhan
>>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48708-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Feb 15 12:30:16 2011
Return-Path: <java-user-return-48708-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 680 invoked from network); 15 Feb 2011 12:30:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Feb 2011 12:30:16 -0000
Received: (qmail 81741 invoked by uid 500); 15 Feb 2011 12:30:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81403 invoked by uid 500); 15 Feb 2011 12:30:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81391 invoked by uid 99); 15 Feb 2011 12:30:10 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Feb 2011 12:30:10 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of fancyerii@gmail.com designates 209.85.213.176 as permitted sender)
Received: from [209.85.213.176] (HELO mail-yx0-f176.google.com) (209.85.213.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Feb 2011 12:30:03 +0000
Received: by yxm8 with SMTP id 8so48759yxm.35
        for <java-user@lucene.apache.org>; Tue, 15 Feb 2011 04:29:42 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=RZeV4bgl5SZcciPYY0A8msTlGY8fEFA6mdP0+lKYjOk=;
        b=nocqg0oTeez1svKbVVtDeaGgy5nnbx2WFNDMD9TUKnq5i5NSw6anTCZb6ajbqlOb0r
         yLrgAqu96ycbZO0DmWPHQvuKg0g6pgObIsMceYpr31AK+vjoNyT5xsD8nwvJMfDLLUBS
         uK9GAAcoO+xqt6PzADDK1wGCSSuKFkl90XOvk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=vOK45aYBqDR0T1TmugVDdqYnv80s527ahyNrvkqZshAhtOgGdcP59v5DWWx+PFkgDK
         JcjA/KbFCXq26yy3Gf8axqEYOO+8pTyhCP3TnhctG9P391umNF+1UmyU19fRz7CsWMy1
         Q0n8R0ku/krYmgm27iSWdOLZx7k9DqHvEO96M=
MIME-Version: 1.0
Received: by 10.151.24.17 with SMTP id b17mr14284ybj.365.1297772982778; Tue,
 15 Feb 2011 04:29:42 -0800 (PST)
Received: by 10.147.83.2 with HTTP; Tue, 15 Feb 2011 04:29:42 -0800 (PST)
Date: Tue, 15 Feb 2011 20:29:42 +0800
Message-ID: <AANLkTik9r5URO96Cj2Ax4AX3p3MRMcVus0tyFDbU9wFc@mail.gmail.com>
Subject: I can't post email to dev@lucene.apache.org maillist
From: Li Li <fancyerii@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

hi all
    is there any limit to post email to this maillist now? thanks

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48709-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Feb 15 13:26:40 2011
Return-Path: <java-user-return-48709-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36742 invoked from network); 15 Feb 2011 13:26:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Feb 2011 13:26:39 -0000
Received: (qmail 76430 invoked by uid 500); 15 Feb 2011 13:26:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76060 invoked by uid 500); 15 Feb 2011 13:26:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76052 invoked by uid 99); 15 Feb 2011 13:26:32 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Feb 2011 13:26:32 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erickerickson@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Feb 2011 13:26:26 +0000
Received: by qwe4 with SMTP id 4so118511qwe.35
        for <java-user@lucene.apache.org>; Tue, 15 Feb 2011 05:26:05 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=AoKRuwIx4ZLKQ7tDQzyDtyd/rkNSx24ZHuhtncEDYc8=;
        b=eLgouRb6JkGjbpHQKgxH9eVfWErO5jTk529UxVx+2RW4jyE48yi7kvKjWpHkMSlTpk
         gDmuhAbXesr3KxLnwJZYrw91rM5ruZu09aKIOH9ORznSSEKrFhin5MNgpWCZ3jOUylki
         FohBe//oLb38Hv64FO5dRNIbSugN1rB+ZBRJE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=hG5vV4AU4A9bnoo9i1TrPs1IV1N0X6M3OWvSASUcWpgRvePeCsTdIEsNcS/EG5k1zp
         2qOLDvvGr119mdhb+NjPUF3gawabKZBDlaQ3SELuGoUbu62CiFexDvlOxVQhiRio+2GF
         uGQDRLWqZTQACgsPEPmEL7RjIohFiRJcEfGkc=
MIME-Version: 1.0
Received: by 10.224.28.76 with SMTP id l12mr525817qac.142.1297776365101; Tue,
 15 Feb 2011 05:26:05 -0800 (PST)
Received: by 10.229.228.144 with HTTP; Tue, 15 Feb 2011 05:26:04 -0800 (PST)
In-Reply-To: <31036291.49766.1297707405546.JavaMail.nabble@ben.nabble.com>
References: <31036291.49766.1297707405546.JavaMail.nabble@ben.nabble.com>
Date: Tue, 15 Feb 2011 08:26:04 -0500
Message-ID: <AANLkTi=st3F1H2FY4fU+n=SkDkVkL+rLXxiC9z791Vgw@mail.gmail.com>
Subject: Re: Multi Index Search Query
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

This is usually something you should not do. Is there any possibility you can
combine these indexes into one? Maybe sharded? Because this approach
is almost guaranteed to scale poorly.

This smells like an XY problem, perhaps you can back up and explain
what the higher-level problem you're trying to solve is...

See: http://people.apache.org/~hossman/#xyproblem

Best
Erick

On Mon, Feb 14, 2011 at 1:16 PM,  <madhuri_1820@yahoo.com> wrote:
> Hi,
>
> I have two index files. I am searching id1 from Index A and id2 from Index B.
> By using id1 (Index A) results , I am searching id2 from Index B. I stored these two index files in local file system.
> I am using filter as a result of Index A.
> IndexSearcher.search(Query,filter,10000);
>
> I am running queries individually. Is there any possibility that I can combine these two queries into single query. Can I use Multi index search in this case ?
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48710-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Feb 15 13:41:08 2011
Return-Path: <java-user-return-48710-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41444 invoked from network); 15 Feb 2011 13:41:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Feb 2011 13:41:07 -0000
Received: (qmail 4714 invoked by uid 500); 15 Feb 2011 13:41:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4390 invoked by uid 500); 15 Feb 2011 13:41:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4382 invoked by uid 99); 15 Feb 2011 13:41:01 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Feb 2011 13:41:01 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erickerickson@gmail.com designates 209.85.216.169 as permitted sender)
Received: from [209.85.216.169] (HELO mail-qy0-f169.google.com) (209.85.216.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Feb 2011 13:40:55 +0000
Received: by qyk7 with SMTP id 7so2141029qyk.14
        for <java-user@lucene.apache.org>; Tue, 15 Feb 2011 05:40:34 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type:content-transfer-encoding;
        bh=vsVxCMoJZrcSAZYvDsAULxKeShQ80faYJmuy0aSLDoM=;
        b=JmNr5J1fnXvSleSv09juW2pNcJXCYlNQqr+dsh6w9UIW5xjlK7uWnvslFxvTq7t8Am
         0MAALIhZhLX8NIqMJ5nIWrp4l23Nvh4BnAYlaPO63rADmqtOhK3Z8+jRHtAM1pkqJZTf
         Dm3Vfg3ZSR+LOsMtll1N0ua3M0lKjlFnWtPhE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=meKpl/Mejxx6N9EosThfgvXIm2tBqZVrVQSGcEjB13PbrCQ3TJnKtw3kBuwLenSJ1G
         YVU+5ImZ8qFYxGlCwDukEyQX/XA80voUJzX5AfRSrya/vMudjaix8SRst3VZoKFgQIZ3
         p1WeMtcsbZKcWapxJ+pKqImcy0OISUAj2Uxq8=
MIME-Version: 1.0
Received: by 10.229.189.6 with SMTP id dc6mr3907660qcb.175.1297777234077; Tue,
 15 Feb 2011 05:40:34 -0800 (PST)
Received: by 10.229.228.144 with HTTP; Tue, 15 Feb 2011 05:40:34 -0800 (PST)
In-Reply-To: <AANLkTik9r5URO96Cj2Ax4AX3p3MRMcVus0tyFDbU9wFc@mail.gmail.com>
References: <AANLkTik9r5URO96Cj2Ax4AX3p3MRMcVus0tyFDbU9wFc@mail.gmail.com>
Date: Tue, 15 Feb 2011 08:40:34 -0500
Message-ID: <AANLkTik6Ud55CJoEs4L2ELTVqOqyapgstbmej4Lc-DE1@mail.gmail.com>
Subject: Re: I can't post email to dev@lucene.apache.org maillist
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

What does "can't post" mean? Bounced as spam? rejected for other
reasons? This question came through so obviously you can post
something....

I found that sending mail as "plain text" kept the spam filter
from kicking in.

Best
Erick

On Tue, Feb 15, 2011 at 7:29 AM, Li Li <fancyerii@gmail.com> wrote:
> hi all
> =A0 =A0is there any limit to post email to this maillist now? thanks
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48711-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Feb 15 14:04:58 2011
Return-Path: <java-user-return-48711-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54080 invoked from network); 15 Feb 2011 14:04:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Feb 2011 14:04:56 -0000
Received: (qmail 68473 invoked by uid 500); 15 Feb 2011 14:04:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68049 invoked by uid 500); 15 Feb 2011 14:04:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68041 invoked by uid 99); 15 Feb 2011 14:04:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Feb 2011 14:04:47 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of fancyerii@gmail.com designates 209.85.218.48 as permitted sender)
Received: from [209.85.218.48] (HELO mail-yi0-f48.google.com) (209.85.218.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Feb 2011 14:04:40 +0000
Received: by yib17 with SMTP id 17so87770yib.35
        for <java-user@lucene.apache.org>; Tue, 15 Feb 2011 06:04:20 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type:content-transfer-encoding;
        bh=XNN2PfdG7dJvRmbUoWn2TkU+ao53xYHZlmopnKv2oQE=;
        b=upiAjk4m2WbH/eWfjjvdwXq4OIvCVkwT6wUkaw6BLZFTV67kRxyq5N6VMoZnnTrasf
         vKklnclhooA0JGghpFyRxmxh19wozM0ZlyXgLAGFT+stQwVLzXuu+YMNJ3xK1mTb87zy
         8wBZy5j3DtSrCCPe2rh+ITEjf/BBtwpuC05pg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=oArE7Xj0KzaqrPySlMnXLHDDtowsdQqJRQSayIV5CYXI9bG3QivGz6V8pnAIBmrH3a
         PEQUjWox/N3BAU/pTIZwwBCi6FRXFy43YZiJXkEHD3zc6u9TkOKZN9BH5U7foA2YBn9Y
         dIHU5I/T0l930NOmRJdog58GuQ3w8zN0rgoGQ=
MIME-Version: 1.0
Received: by 10.147.83.17 with SMTP id k17mr7064892yal.9.1297778660225; Tue,
 15 Feb 2011 06:04:20 -0800 (PST)
Received: by 10.147.83.2 with HTTP; Tue, 15 Feb 2011 06:04:20 -0800 (PST)
In-Reply-To: <AANLkTik6Ud55CJoEs4L2ELTVqOqyapgstbmej4Lc-DE1@mail.gmail.com>
References: <AANLkTik9r5URO96Cj2Ax4AX3p3MRMcVus0tyFDbU9wFc@mail.gmail.com>
	<AANLkTik6Ud55CJoEs4L2ELTVqOqyapgstbmej4Lc-DE1@mail.gmail.com>
Date: Tue, 15 Feb 2011 22:04:20 +0800
Message-ID: <AANLkTi=og4+62j8-JY7k_=toP=7LPd_gdNZq7BkcXSw-@mail.gmail.com>
Subject: Re: I can't post email to dev@lucene.apache.org maillist
From: Li Li <fancyerii@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

I understood it wrongly.
I used to receive the email myself because I subscribe the maillist.
but recently if I post a email to the maillist, I can't receive the
email posted by me. So I thought I failed to post this email.

2011/2/15 Erick Erickson <erickerickson@gmail.com>:
> What does "can't post" mean? Bounced as spam? rejected for other
> reasons? This question came through so obviously you can post
> something....
>
> I found that sending mail as "plain text" kept the spam filter
> from kicking in.
>
> Best
> Erick
>
> On Tue, Feb 15, 2011 at 7:29 AM, Li Li <fancyerii@gmail.com> wrote:
>> hi all
>> =A0 =A0is there any limit to post email to this maillist now? thanks
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48712-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Feb 16 01:00:43 2011
Return-Path: <java-user-return-48712-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7701 invoked from network); 16 Feb 2011 01:00:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 16 Feb 2011 01:00:42 -0000
Received: (qmail 75607 invoked by uid 500); 16 Feb 2011 01:00:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75027 invoked by uid 500); 16 Feb 2011 01:00:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75010 invoked by uid 99); 16 Feb 2011 01:00:35 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Feb 2011 01:00:35 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of michael.bohlig@lucidimagination.com designates 38.102.63.181 as permitted sender)
Received: from [38.102.63.181] (HELO smtp-2.01.com) (38.102.63.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Feb 2011 01:00:28 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by smtp-2.01.com (Postfix) with ESMTP id 37F671AD45D;
	Tue, 15 Feb 2011 19:00:07 -0600 (CST)
Received: from smtp-2.01.com ([127.0.0.1])
	by localhost (smtp-2.01.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id yTNRP95VoB6t; Tue, 15 Feb 2011 19:00:07 -0600 (CST)
Received: by smtp-2.01.com (Postfix, from userid 99)
	id 19DFF1AD5AE; Tue, 15 Feb 2011 19:00:07 -0600 (CST)
Received: from mail-5.01.com (mail-5.01.com [38.102.63.175])
	by smtp-2.01.com (Postfix) with ESMTP id EE9431AD45D;
	Tue, 15 Feb 2011 19:00:06 -0600 (CST)
Date: Tue, 15 Feb 2011 19:00:06 -0600 (CST)
From: Michael Bohlig <michael.bohlig@lucidimagination.com>
To: solr-user@lucene.apache.org, java-user@lucene.apache.org
Message-ID: <2070323096.117437.1297818006897.JavaMail.root@mail-5.01.com>
In-Reply-To: <1951223568.111027.1295400179815.JavaMail.root@mail-5.01.com>
Subject: Reminder: Lucene Revolution 2011 Call For Papers Closing March 2
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_117436_49954718.1297818006896"
X-Originating-IP: [67.188.109.33]
X-Mailer: Zimbra 6.0.7_GA_2476.RHEL4 (ZimbraWebClient - FF3.0 (Mac)/6.0.7_GA_2470.RHEL5_64)
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_117436_49954718.1297818006896
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable

Please submit your Call For Participation (CFP) proposals for Lucene Revolu=
tion 2011 by March 2. If you have a great Solr or Lucene talk, this is a fa=
ntastic opportunity to share it with the community at the largest worldwide=
 conference dedicated to Lucene and Solr which will take place at the San F=
rancisco Airport Hyatt Regency May 25-26.=20

To submit a proposal for a 45-minute presentation, complete the form at:=20
http://www.lucidimagination.com/revolution/2011/cfp=20

Topics of interest include:=20
- Lucene and Solr in the Enterprise (case studies, implementation, return o=
n investment, etc.)=20
- Use of LucidWorks Enterprise=20
- =E2=80=9CHow We Did It=E2=80=9D development case studies=20
- Lucene/Solr technology deep dives: features, how to use, etc.=20
- Spatial/Geo/local search=20
- Lucene and Solr in the Cloud=20
- Scalability and performance tuning=20
- Large Scale Search=20
- Real Time Search (or NRT search)=20
- Data Integration/Data Management=20
- Lucene & Solr for Mobile Applications=20
- Associated technologies: Mahout, Nutch, NLP, etc.=20

All accepted speakers will get complimentary conference passes. Financial a=
ssistance is available for speakers that qualify.=20

Submissions must be received by Wednesday , March 2 , 2011 , 12 Midnight PS=
T=20












Registration is now open for Lucene Revolution 2011 at: http://lucenerevolu=
tion.com/register=20

Interested in conference news? Want to be added to the conference mailing l=
ist? Is your organization interested in sponsorship opportunities? Please s=
end an email to: info@lucenerevolution.org=20

Regards,=20
Mike=20




Michael Bohlig | Lucid Imagination=20
Enterprise Marketing=20
p +1 650 353 4057 x132=20
m+1 650 703 8383=20
www.lucidimagination.com=20



------=_Part_117436_49954718.1297818006896--

From java-user-return-48713-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Feb 16 01:58:27 2011
Return-Path: <java-user-return-48713-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28631 invoked from network); 16 Feb 2011 01:58:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 16 Feb 2011 01:58:26 -0000
Received: (qmail 29114 invoked by uid 500); 16 Feb 2011 01:58:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29059 invoked by uid 500); 16 Feb 2011 01:58:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29050 invoked by uid 99); 16 Feb 2011 01:58:23 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Feb 2011 01:58:23 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.215.48] (HELO mail-ew0-f48.google.com) (209.85.215.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Feb 2011 01:58:16 +0000
Received: by ewy20 with SMTP id 20so211521ewy.35
        for <java-user@lucene.apache.org>; Tue, 15 Feb 2011 17:57:54 -0800 (PST)
Received: by 10.14.45.15 with SMTP id o15mr98086eeb.46.1297821474303;
        Tue, 15 Feb 2011 17:57:54 -0800 (PST)
Received: from bester.local ([65.78.136.75])
        by mx.google.com with ESMTPS id q52sm4146943eei.3.2011.02.15.17.57.52
        (version=SSLv3 cipher=OTHER);
        Tue, 15 Feb 2011 17:57:53 -0800 (PST)
Date: Tue, 15 Feb 2011 17:57:50 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: Lucene Users <java-user@lucene.apache.org>
Subject: Re: I can't post email to dev@lucene.apache.org maillist
In-Reply-To: <AANLkTi=og4+62j8-JY7k_=toP=7LPd_gdNZq7BkcXSw-@mail.gmail.com>
Message-ID: <alpine.DEB.2.00.1102151754430.29235@bester>
References: <AANLkTik9r5URO96Cj2Ax4AX3p3MRMcVus0tyFDbU9wFc@mail.gmail.com> <AANLkTik6Ud55CJoEs4L2ELTVqOqyapgstbmej4Lc-DE1@mail.gmail.com> <AANLkTi=og4+62j8-JY7k_=toP=7LPd_gdNZq7BkcXSw-@mail.gmail.com>
User-Agent: Alpine 2.00 (DEB 1167 2008-08-23)
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII


: I used to receive the email myself because I subscribe the maillist.
: but recently if I post a email to the maillist, I can't receive the
: email posted by me. So I thought I failed to post this email.

I notice you are using gmail -- I recently migrated to using Goolge Apps 
for my domain and idscovered this is something that gmail does even if you 
use their IMAP and SMTP servers (and not their UI) -- messages you send 
(through their SMTP server) will not be delivered back to you under any 
circumstances, no matter what new headers might be added.  AS far as gmail 
is concerned you already hav acopy of htat message in your "Sent Mail", 
you don't need another one...

http://mail.google.com/support/bin/answer.py?hl=en&answer=82454


-Hoss

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48714-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Feb 16 07:50:05 2011
Return-Path: <java-user-return-48714-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90909 invoked from network); 16 Feb 2011 07:50:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 16 Feb 2011 07:50:05 -0000
Received: (qmail 86029 invoked by uid 500); 16 Feb 2011 07:50:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85524 invoked by uid 500); 16 Feb 2011 07:49:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85516 invoked by uid 99); 16 Feb 2011 07:49:58 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Feb 2011 07:49:58 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of findbestopensource@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Feb 2011 07:49:53 +0000
Received: by fxm2 with SMTP id 2so1095757fxm.35
        for <java-user@lucene.apache.org>; Tue, 15 Feb 2011 23:49:32 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=FVtlApMKbDmhZcBCnfrV5YcXSpRklBPTvC1eEFKIHS0=;
        b=edy8c9QGtwbE+3i0yiCcLWP9hkAXJNM7/8qgAxWtKDxlcE1GSWOJRpxdGTJkdXOIRv
         IkA5au30a7eN4cWudaLXAzgfCTlcRs+o9CrMqMjmdSGFexJ+ZYyv6kZ5irCfXoDa7OY8
         WBgUQHvb+13kfU338jB3mqDvASm7NHoAfC1Pg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=fs7vd57lawJBiy6sghsCj/1IBAUhralZaoPaePLcgpRPIZaQtMTwUbvhDYfyXUlq/P
         rU3unFhFRY5HcrjbEu8oXBzSe87Uf53eGIzmuKKhlKij5Kz4BhVG3IjFi+IgruAjUD96
         UsKgMpYPBTGhXN1fufaM4yem3EgLaFtJmoQrQ=
MIME-Version: 1.0
Received: by 10.223.125.196 with SMTP id z4mr305293far.124.1297842544516; Tue,
 15 Feb 2011 23:49:04 -0800 (PST)
Received: by 10.223.101.201 with HTTP; Tue, 15 Feb 2011 23:49:04 -0800 (PST)
In-Reply-To: <31036291.49766.1297707405546.JavaMail.nabble@ben.nabble.com>
References: <31036291.49766.1297707405546.JavaMail.nabble@ben.nabble.com>
Date: Wed, 16 Feb 2011 13:19:04 +0530
Message-ID: <AANLkTikenhP3GyUM8S9scCKXqasyC79Bd+L7szUchY_F@mail.gmail.com>
Subject: Re: Multi Index Search Query
From: findbestopensource <findbestopensource@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=001636c5c241d71ec4049c618309

--001636c5c241d71ec4049c618309
Content-Type: text/plain; charset=ISO-8859-1

I don't think so, you could combine the queries. You are first searching
Index A and the results are given as input to Index B. You cannot combine
the queries and you cannot use multi searcher or parallel multi searcher.
You need to search two indexes independently and sequentially.

Regards
Aditya
www.findbestopensource.com



On Mon, Feb 14, 2011 at 11:46 PM, <madhuri_1820@yahoo.com> wrote:

> Hi,
>
> I have two index files. I am searching id1 from Index A and id2 from Index
> B.
> By using id1 (Index A) results , I am searching id2 from Index B. I stored
> these two index files in local file system.
> I am using filter as a result of Index A.
> IndexSearcher.search(Query,filter,10000);
>
> I am running queries individually. Is there any possibility that I can
> combine these two queries into single query. Can I use Multi index search in
> this case ?
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--001636c5c241d71ec4049c618309--

From java-user-return-48715-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Feb 16 09:23:56 2011
Return-Path: <java-user-return-48715-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24195 invoked from network); 16 Feb 2011 09:23:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 16 Feb 2011 09:23:56 -0000
Received: (qmail 78986 invoked by uid 500); 16 Feb 2011 09:23:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78604 invoked by uid 500); 16 Feb 2011 09:23:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78587 invoked by uid 99); 16 Feb 2011 09:23:48 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Feb 2011 09:23:48 +0000
X-ASF-Spam-Status: No, hits=3.0 required=5.0
	tests=FORGED_YAHOO_RCVD,FREEMAIL_FROM,RFC_ABUSE_POST,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [216.139.236.26] (HELO sam.nabble.com) (216.139.236.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Feb 2011 09:23:43 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by sam.nabble.com with esmtp (Exim 4.69)
	(envelope-from <farag_ahmed@yahoo.com>)
	id 1PpdbW-0004XX-SJ
	for java-user@lucene.apache.org; Wed, 16 Feb 2011 01:23:22 -0800
Date: Wed, 16 Feb 2011 01:23:22 -0800 (PST)
From: starz10de <farag_ahmed@yahoo.com>
To: java-user@lucene.apache.org
Message-ID: <1297848202860-2508060.post@n3.nabble.com>
Subject: problem with the lucene and tomcat server
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit


Hi All,

I have an application in java use lucene 3.0.3 which run fine. I wanted to
use servlet to make this application as web application. However, I got this
error:

java.lang.NoSuchMethodError:
org.apache.lucene.store.FSDirectory.open(Ljava/io/File;)Lorg/apache/lucene/store/FSDirectory;


I searched for this error and all solution suggested that might two version
of lucene are used but I also have other projects in my work space which
used older version of lucene.

In my project class path there is only one version of lucene which is 3.03. 
I even checked the lucene version in run time using :
System.out.println(LucenePackage.get().getImplementationVersion());  and the
result was:

3.0.3	1039909 

Any hints which might help?

Thanks

saad

-- 
View this message in context: http://lucene.472066.n3.nabble.com/problem-with-the-lucene-and-tomcat-server-tp2508060p2508060.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48716-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Feb 16 09:48:33 2011
Return-Path: <java-user-return-48716-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30408 invoked from network); 16 Feb 2011 09:48:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 16 Feb 2011 09:48:32 -0000
Received: (qmail 98713 invoked by uid 500); 16 Feb 2011 09:48:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98376 invoked by uid 500); 16 Feb 2011 09:48:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98368 invoked by uid 99); 16 Feb 2011 09:48:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Feb 2011 09:48:26 +0000
X-ASF-Spam-Status: No, hits=0.6 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of dawid.weiss@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Feb 2011 09:48:21 +0000
Received: by iyb26 with SMTP id 26so1077876iyb.35
        for <java-user@lucene.apache.org>; Wed, 16 Feb 2011 01:48:00 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type:content-transfer-encoding;
        bh=kkf8+cEoXt3r8mPNLe5MVO9Nm+cjSDapEjc1Yk73oxE=;
        b=O9k/ou0tf9/5ocZUwgCRSSGlL0V1xi2pLQ3zIeR2czSnhFo4YnoYqAwC4Ff9gq96s/
         uqPJ+z8eceQCZwazWdDaOkkvsUHvNJXAzg141ZU4V6NH2/V3JPeDPPvo5tMJvbMpNprF
         3+DSTXka4geHLcRF1KY5gez2sQS9Lwq5o6sfo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=S8upgZGQK/Uxyi8oiwZ83oPI0OZCKy4WjhoeIbYYNMY9hCfKDeu8ny9oKWqVuU23qo
         8XfXCWfGOpgHataKNwjIaYrgNGPiQqx0RUouY3Xo5sj0AtRkI/QyQpiO+FoVHL34ztAY
         VHLpc8DxFD/JJg8uQ4t47Aq07cAog0r1wKIlE=
Received: by 10.42.158.200 with SMTP id i8mr418769icx.216.1297849680245; Wed,
 16 Feb 2011 01:48:00 -0800 (PST)
MIME-Version: 1.0
Received: by 10.231.84.82 with HTTP; Wed, 16 Feb 2011 01:47:40 -0800 (PST)
In-Reply-To: <1297848202860-2508060.post@n3.nabble.com>
References: <1297848202860-2508060.post@n3.nabble.com>
From: Dawid Weiss <dawid.weiss@gmail.com>
Date: Wed, 16 Feb 2011 10:47:40 +0100
Message-ID: <AANLkTikvWftnL-gaJhhwxV0oUmuetHjoygNAU-fBZ=Fj@mail.gmail.com>
Subject: Re: problem with the lucene and tomcat server
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Start Tomcat with class loading info and inspect the logs for multiple
Lucene JARs (even though the version seems to be fine)?

export CATALINA_OPTS=3D-XX:+TraceClassLoading
$TOMCAT_HOME/bin/catalina run

Dawid

On Wed, Feb 16, 2011 at 10:23 AM, starz10de <farag_ahmed@yahoo.com> wrote:
>
> Hi All,
>
> I have an application in java use lucene 3.0.3 which run fine. I wanted t=
o
> use servlet to make this application as web application. However, I got t=
his
> error:
>
> java.lang.NoSuchMethodError:
> org.apache.lucene.store.FSDirectory.open(Ljava/io/File;)Lorg/apache/lucen=
e/store/FSDirectory;
>
>
> I searched for this error and all solution suggested that might two versi=
on
> of lucene are used but I also have other projects in my work space which
> used older version of lucene.
>
> In my project class path there is only one version of lucene which is 3.0=
3.
> I even checked the lucene version in run time using :
> System.out.println(LucenePackage.get().getImplementationVersion()); =C2=
=A0and the
> result was:
>
> 3.0.3 =C2=A0 1039909
>
> Any hints which might help?
>
> Thanks
>
> saad
>
> --
> View this message in context: http://lucene.472066.n3.nabble.com/problem-=
with-the-lucene-and-tomcat-server-tp2508060p2508060.html
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48717-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Feb 16 09:54:18 2011
Return-Path: <java-user-return-48717-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31465 invoked from network); 16 Feb 2011 09:54:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 16 Feb 2011 09:54:18 -0000
Received: (qmail 10945 invoked by uid 500); 16 Feb 2011 09:54:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9834 invoked by uid 500); 16 Feb 2011 09:54:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9826 invoked by uid 99); 16 Feb 2011 09:54:12 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Feb 2011 09:54:12 +0000
X-ASF-Spam-Status: No, hits=3.0 required=5.0
	tests=FORGED_YAHOO_RCVD,FREEMAIL_FROM,RFC_ABUSE_POST,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [216.139.236.26] (HELO sam.nabble.com) (216.139.236.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Feb 2011 09:54:06 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by sam.nabble.com with esmtp (Exim 4.69)
	(envelope-from <farag_ahmed@yahoo.com>)
	id 1Ppe4v-0006ee-1V
	for java-user@lucene.apache.org; Wed, 16 Feb 2011 01:53:45 -0800
Date: Wed, 16 Feb 2011 01:53:45 -0800 (PST)
From: starz10de <farag_ahmed@yahoo.com>
To: java-user@lucene.apache.org
Message-ID: <1297850025040-2508186.post@n3.nabble.com>
In-Reply-To: <1297848202860-2508060.post@n3.nabble.com>
References: <1297848202860-2508060.post@n3.nabble.com>
Subject: Re: problem with the lucene and tomcat server
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org


i found the solution:


in WEB-INF\lib

was the old version so I replaced it with the new one
-- 
View this message in context: http://lucene.472066.n3.nabble.com/problem-with-the-lucene-and-tomcat-server-tp2508060p2508186.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48718-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Feb 16 10:40:28 2011
Return-Path: <java-user-return-48718-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49877 invoked from network); 16 Feb 2011 10:40:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 16 Feb 2011 10:40:27 -0000
Received: (qmail 60869 invoked by uid 500); 16 Feb 2011 10:40:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60256 invoked by uid 500); 16 Feb 2011 10:40:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60248 invoked by uid 99); 16 Feb 2011 10:40:20 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Feb 2011 10:40:20 +0000
X-ASF-Spam-Status: No, hits=0.6 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_MED,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [64.208.49.57] (HELO smail2.alcatel.fr) (64.208.49.57)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Feb 2011 10:40:10 +0000
Received: from FRMRSSXCHHUB03.dc-m.alcatel-lucent.com (FRMRSSXCHHUB03.dc-m.alcatel-lucent.com [135.120.45.63])
	by smail2.alcatel.fr (8.14.3/8.14.3/ICT) with ESMTP id p1GAc3eU004481
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NOT)
	for <java-user@lucene.apache.org>; Wed, 16 Feb 2011 11:39:47 +0100
Received: from FRMRSSXCHMBSD1.dc-m.alcatel-lucent.com ([135.120.45.51]) by
 FRMRSSXCHHUB03.dc-m.alcatel-lucent.com ([135.120.45.63]) with mapi; Wed, 16
 Feb 2011 11:39:18 +0100
From: "ZYWALEWSKI, DANIEL (DANIEL)" <daniel.zywalewski@alcatel-lucent.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Wed, 16 Feb 2011 11:39:16 +0100
Subject: query with long names
Thread-Topic: query with long names
Thread-Index: AcvNxcJfalHssZMJRhSWF/BU4U12GA==
Message-ID: <DD3CD532C204E24992220E891AD05CA4472C722556@FRMRSSXCHMBSD1.dc-m.alcatel-lucent.com>
Accept-Language: fr-FR, en-US
Content-Language: fr-FR
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: fr-FR, en-US
Content-Type: multipart/alternative;
	boundary="_000_DD3CD532C204E24992220E891AD05CA4472C722556FRMRSSXCHMBSD_"
MIME-Version: 1.0
X-Scanned-By: MIMEDefang 2.64 on 155.132.188.80
X-Virus-Checked: Checked by ClamAV on apache.org

--_000_DD3CD532C204E24992220E891AD05CA4472C722556FRMRSSXCHMBSD_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hello,
 I have a problem with documents that much the same query. So I do not inde=
x anything what can identify clearly my documents (like id). That's why I w=
ant add a document that is already indexed I don't add. And If I want delet=
e a document and more documents match my query I don't delete any of them. =
The problem is that the only difference between them is a name. So it looks=
 like this:
1) I want to index "Crazy Network"
2) I create a document Lucene with Field "name" and value Crazy Network"
3) I use a Query Parser with Standard Analyzer to see If I haven't already =
indexed it:
    - so I use StringBuffer to add the quotes before and after the name I'm=
 looking or -> So query is "Crazy Network" in nameField.
 4) If there is no match I index, If not I do not index

So if the first name I indexed is "Private Network Really" I cannot index a=
fter it "Private Network" (because Private Network Really will match the qu=
ery, and for me it means that this document is already indexed).

Is there any way to format the query to indentify clearly the name I'm look=
ing for? So if I want find "Private Network" I won't also find "Private Net=
work Really"?
Thanks
D


--_000_DD3CD532C204E24992220E891AD05CA4472C722556FRMRSSXCHMBSD_--

From java-user-return-48719-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Feb 16 11:14:42 2011
Return-Path: <java-user-return-48719-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68899 invoked from network); 16 Feb 2011 11:14:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 16 Feb 2011 11:14:42 -0000
Received: (qmail 270 invoked by uid 500); 16 Feb 2011 11:14:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99867 invoked by uid 500); 16 Feb 2011 11:14:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99859 invoked by uid 99); 16 Feb 2011 11:14:35 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Feb 2011 11:14:35 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of fancyerii@gmail.com designates 209.85.161.176 as permitted sender)
Received: from [209.85.161.176] (HELO mail-gx0-f176.google.com) (209.85.161.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Feb 2011 11:14:29 +0000
Received: by gxk4 with SMTP id 4so600494gxk.35
        for <java-user@lucene.apache.org>; Wed, 16 Feb 2011 03:14:09 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type:content-transfer-encoding;
        bh=AP8whqAUp6LqSAf5d6jbfq4Tf40sCtW2mbePZQ8jxgI=;
        b=CAcmsjNWKCfeoOxaE3uKRGU2yba5C4ziza8NeXEsSOAsVMT1evIRJBgSa+RQ87kDDC
         lcUuRZHDMvjT8hUmIkq+fLsdYiMwF+wq2xn2vmgGz4Ro03mp82ALRH/Zw3JKmMEWNVLX
         2T5dSjE/pxazBzV4X4wNCNhHfaqvwDdymfDRA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=mT9Iu4VXQwCivCIf6vBTHJlENDu05KZ3+O+KDeG70XzL5UXbZs/h7fgm2pTVYoa5QS
         PYVJNI/C8B1vgIjI/N3x+O7ShgTK+XfSBSvZhzaN7JiZfyWHt8b8ZvdDjCrTJyfHZ0d9
         FcqfL0z3bdIwZa7KAVgE+PlKZrwPxk1u/MDfg=
MIME-Version: 1.0
Received: by 10.150.177.16 with SMTP id z16mr538464ybe.422.1297854848947; Wed,
 16 Feb 2011 03:14:08 -0800 (PST)
Received: by 10.147.83.2 with HTTP; Wed, 16 Feb 2011 03:14:08 -0800 (PST)
In-Reply-To: <alpine.DEB.2.00.1102151754430.29235@bester>
References: <AANLkTik9r5URO96Cj2Ax4AX3p3MRMcVus0tyFDbU9wFc@mail.gmail.com>
	<AANLkTik6Ud55CJoEs4L2ELTVqOqyapgstbmej4Lc-DE1@mail.gmail.com>
	<AANLkTi=og4+62j8-JY7k_=toP=7LPd_gdNZq7BkcXSw-@mail.gmail.com>
	<alpine.DEB.2.00.1102151754430.29235@bester>
Date: Wed, 16 Feb 2011 19:14:08 +0800
Message-ID: <AANLkTikRARYPTg7w-Q0n82gxLJ_YTSFq1wqBKxhkgtXM@mail.gmail.com>
Subject: Re: I can't post email to dev@lucene.apache.org maillist
From: Li Li <fancyerii@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

thank you. I got it.

2011/2/16 Chris Hostetter <hossman_lucene@fucit.org>:
>
> : I used to receive the email myself because I subscribe the maillist.
> : but recently if I post a email to the maillist, I can't receive the
> : email posted by me. So I thought I failed to post this email.
>
> I notice you are using gmail -- I recently migrated to using Goolge Apps
> for my domain and idscovered this is something that gmail does even if yo=
u
> use their IMAP and SMTP servers (and not their UI) -- messages you send
> (through their SMTP server) will not be delivered back to you under any
> circumstances, no matter what new headers might be added. =A0AS far as gm=
ail
> is concerned you already hav acopy of htat message in your "Sent Mail",
> you don't need another one...
>
> http://mail.google.com/support/bin/answer.py?hl=3Den&answer=3D82454
>
>
> -Hoss
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48720-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Feb 16 12:40:47 2011
Return-Path: <java-user-return-48720-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8706 invoked from network); 16 Feb 2011 12:40:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 16 Feb 2011 12:40:46 -0000
Received: (qmail 4839 invoked by uid 500); 16 Feb 2011 12:40:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4425 invoked by uid 500); 16 Feb 2011 12:40:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4292 invoked by uid 99); 16 Feb 2011 12:40:40 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Feb 2011 12:40:40 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of erickerickson@gmail.com designates 209.85.216.169 as permitted sender)
Received: from [209.85.216.169] (HELO mail-qy0-f169.google.com) (209.85.216.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Feb 2011 12:40:34 +0000
Received: by qyk7 with SMTP id 7so3285875qyk.14
        for <java-user@lucene.apache.org>; Wed, 16 Feb 2011 04:40:13 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type:content-transfer-encoding;
        bh=zKVKwHncZeRm7GmKQVHnf6F1PH1vjib/pPZtoBHjVaQ=;
        b=wHW4rBaOtZZ7TPXGFQMDrAdHCDRJW/mrk89KHV347gqDhiTz0eXUO45jaanjA6VzGw
         XBYWnjzCbe/Y5AAFz5OkXvNeoe8xV164Yj0Bs6r0ybyyjzW3XZIX8VoCLw1zOZVPzKk4
         /OR1GQWq8x/lhD5iqxiykui0hNCGi2UASih6E=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=s6b40Zvzv8FPvk5X2mEV0XjHXIMQtP2yzxElX3MSNxIXcRiUbahESxTD3EU9qAQgKG
         lcMeQUBSWGf3mWVxx7bLiltkq0RrUN2z+ZCGsAAHF8vpYwDFW1T1fcBDkGyYjL6AZtxs
         miFmozgYnh0lXVjuipkG1qkn8FfunKfxAU/s4=
MIME-Version: 1.0
Received: by 10.229.237.6 with SMTP id km6mr614313qcb.213.1297860012825; Wed,
 16 Feb 2011 04:40:12 -0800 (PST)
Received: by 10.229.228.144 with HTTP; Wed, 16 Feb 2011 04:40:12 -0800 (PST)
In-Reply-To: <DD3CD532C204E24992220E891AD05CA4472C722556@FRMRSSXCHMBSD1.dc-m.alcatel-lucent.com>
References: <DD3CD532C204E24992220E891AD05CA4472C722556@FRMRSSXCHMBSD1.dc-m.alcatel-lucent.com>
Date: Wed, 16 Feb 2011 07:40:12 -0500
Message-ID: <AANLkTinPdcytNte2qA+OogDXqaEZYpwAEYR0z05gpxe-@mail.gmail.com>
Subject: Re: query with long names
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Sure, just use a field that is not analyzed. Perhaps you want to
define a new field in your documents like "nameKey" that is
analyzed with something like KeywordAnalyzer. See:
http://lucene.apache.org/java/3_0_3/api/all/index.html

PerFieldAnalyzerWrapper will let you use different
analyzers for different fields.

Best
Erick

On Wed, Feb 16, 2011 at 5:39 AM, ZYWALEWSKI, DANIEL (DANIEL)
<daniel.zywalewski@alcatel-lucent.com> wrote:
> Hello,
> =A0I have a problem with documents that much the same query. So I do not =
index anything what can identify clearly my documents (like id). That's why=
 I want add a document that is already indexed I don't add. And If I want d=
elete a document and more documents match my query I don't delete any of th=
em. The problem is that the only difference between them is a name. So it l=
ooks like this:
> 1) I want to index "Crazy Network"
> 2) I create a document Lucene with Field "name" and value Crazy Network"
> 3) I use a Query Parser with Standard Analyzer to see If I haven't alread=
y indexed it:
> =A0 =A0- so I use StringBuffer to add the quotes before and after the nam=
e I'm looking or -> So query is "Crazy Network" in nameField.
> =A04) If there is no match I index, If not I do not index
>
> So if the first name I indexed is "Private Network Really" I cannot index=
 after it "Private Network" (because Private Network Really will match the =
query, and for me it means that this document is already indexed).
>
> Is there any way to format the query to indentify clearly the name I'm lo=
oking for? So if I want find "Private Network" I won't also find "Private N=
etwork Really"?
> Thanks
> D
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48721-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Feb 16 15:37:11 2011
Return-Path: <java-user-return-48721-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33778 invoked from network); 16 Feb 2011 15:37:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 16 Feb 2011 15:37:10 -0000
Received: (qmail 73312 invoked by uid 500); 16 Feb 2011 15:37:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72532 invoked by uid 500); 16 Feb 2011 15:37:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72508 invoked by uid 99); 16 Feb 2011 15:37:01 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Feb 2011 15:37:01 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of akos.tajti@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Feb 2011 15:36:55 +0000
Received: by bwz8 with SMTP id 8so1670468bwz.35
        for <java-user@lucene.apache.org>; Wed, 16 Feb 2011 07:36:33 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=+0V0fUof/QOjSsyK7J/60whclQuka2yJj8TMkCeypww=;
        b=V00q8QQEs2nYmgbjrMck1vnpVuINf4DRXLUS5mCfCQeVXwKyalSqAkIUuoZb/mrNVz
         327opbogGtbYlK5AWJKjF6tqeVWwRQSg0MZEl1r7i57n1H/2L8DbFA8W10ntSbufSCQ5
         saAY0LvPyNB35IDWuzamDL6mNPVmSgf72mBEU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=U+0Xr0OkMNDKTN6qpC+bNytF78ydP3a3h6sEh1SiHPnOtSoKcbSE+D6Ryl6NQWcAdu
         x7B7Utg1GGsm2OWQoZPOMbyjsvRn9b0bdqjp3ZpV+FTDTEzxbmdU0iLlU9k0AKPjqY4N
         Omgl8ZeENhHa+JxM8tblAwyFBu/dnupjx91dI=
MIME-Version: 1.0
Received: by 10.204.71.77 with SMTP id g13mr599730bkj.170.1297870593684; Wed,
 16 Feb 2011 07:36:33 -0800 (PST)
Received: by 10.204.102.211 with HTTP; Wed, 16 Feb 2011 07:36:33 -0800 (PST)
Date: Wed, 16 Feb 2011 16:36:33 +0100
Message-ID: <AANLkTimW-HdshWg8B14acbbZxCgzG7iqjXRLqRZiN=7z@mail.gmail.com>
Subject: boost value is always 1
From: Akos Tajti <akos.tajti@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00504502dd82b376ed049c680bcc

--00504502dd82b376ed049c680bcc
Content-Type: text/plain; charset=ISO-8859-1

I'm trying to set different boost values for different fields. Before adding
the document to the index every value is fine. But when I run a search in
the explanation every boost is 1 and the final score of the matches is not
affected by the boost values set. I set omitNorms to false and index to
ANALYZED. The only solution I found is setting store to YES. Do you have any
ideas?

Akos Tajti

--00504502dd82b376ed049c680bcc--

From java-user-return-48722-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Feb 17 07:57:15 2011
Return-Path: <java-user-return-48722-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28952 invoked from network); 17 Feb 2011 07:57:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 17 Feb 2011 07:57:15 -0000
Received: (qmail 70256 invoked by uid 500); 17 Feb 2011 07:57:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69797 invoked by uid 500); 17 Feb 2011 07:57:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69777 invoked by uid 99); 17 Feb 2011 07:57:07 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Feb 2011 07:57:07 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of akos.tajti@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Feb 2011 07:56:59 +0000
Received: by bwz8 with SMTP id 8so2395098bwz.35
        for <java-user@lucene.apache.org>; Wed, 16 Feb 2011 23:56:39 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=Ip9xN5LPLpzGa31WM7c4VwCiVTLUYdMf3Y7FT7ru1ag=;
        b=Cp8asJg9fAKDOBUFF/cUg3McXKZecY7+f0Y8k91fxO8qkDQvccPHOwFo04G175fw1k
         BGcBvdXcBNojvPkbNJlyEsw0Vgk4cDwMP/FbyEULAxoSg3sMIrjPM3C0U6Hy3KK4mSgO
         Ia+kv/+Rwh0A1hpnv7P3c7Exkf0+Pk98fddm0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=HPjcSVW3h5qfpssNUa8ZLq3P9CpXatk5CC/F3SfVX4kwFH2EhEshxzO0mN8kubK7h8
         c8pMNxtBBusbbWD/0fIBVwN7BxYPUP6bp3ruE1iYh0V+wrociGJ7b3AKk39bfziOfrXv
         QyDDj/9TD70P8U3n/WRdZTsCdvZO3vIY5fFLg=
MIME-Version: 1.0
Received: by 10.204.138.142 with SMTP id a14mr1337512bku.197.1297929399372;
 Wed, 16 Feb 2011 23:56:39 -0800 (PST)
Received: by 10.204.102.211 with HTTP; Wed, 16 Feb 2011 23:56:39 -0800 (PST)
Date: Thu, 17 Feb 2011 08:56:39 +0100
Message-ID: <AANLkTikVfaHC+9GajiW_qT=gM9vF0Hh5d3WC_mXjjAXJ@mail.gmail.com>
Subject: Boost value is always 1
From: Akos Tajti <akos.tajti@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0015174c1e4acb0ab4049c75bcaf
X-Virus-Checked: Checked by ClamAV on apache.org

--0015174c1e4acb0ab4049c75bcaf
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

I'm trying to set different boost values for different fields. Before addin=
g
the document to the index every value is fine. But when I run a search in
the explanation every boost is 1 and the final score of the matches is not
affected by the boost values set. I set omitNorms to false and index to
ANALYZED. The only solution I found is setting store to YES. Do you have an=
y
ideas?

Thanks in advance,
=C1kos Tajti

--0015174c1e4acb0ab4049c75bcaf--

From java-user-return-48723-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Feb 17 10:44:54 2011
Return-Path: <java-user-return-48723-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94839 invoked from network); 17 Feb 2011 10:44:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 17 Feb 2011 10:44:54 -0000
Received: (qmail 91290 invoked by uid 500); 17 Feb 2011 10:44:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90873 invoked by uid 500); 17 Feb 2011 10:44:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90859 invoked by uid 99); 17 Feb 2011 10:44:46 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Feb 2011 10:44:46 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,MSGID_MULTIPLE_AT,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of suman.holani@zapak.co.in designates 220.226.181.11 as permitted sender)
Received: from [220.226.181.11] (HELO mail.zapak.co.in) (220.226.181.11)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 17 Feb 2011 10:44:41 +0000
Received: (qmail 8741 invoked by uid 508); 17 Feb 2011 10:44:18 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=default; d=zapak.co.in;
  b=qs1kmjv5pinQVNFNQkA+ccP3r5VGolHx576MOtcU2/WEOxzi6cYtBhLTW9PkiUWl  ;
Received: from unknown (HELO wksinfi04d899) (suman.holani@zapak.co.in@192.168.2.20)
  by mail.zapak.co.in with ESMTPA; 17 Feb 2011 10:44:18 -0000
From: "suman.holani" <suman.holani@zapak.co.in>
To: <java-user@lucene.apache.org>
Subject: fields : stored and indexed
Date: Thu, 17 Feb 2011 16:09:25 +0530
Message-ID: <002301cbce8e$f26f9d30$d74ed790$@holani@zapak.co.in>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0024_01CBCEBD.0C27D930"
X-Mailer: Microsoft Office Outlook 12.0
Thread-Index: AcvOjvH9DcgXwzaoSMGiiaylEVZcpw==
Content-Language: en-us

------=_NextPart_000_0024_01CBCEBD.0C27D930
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hello,

 

I am little confused on the stored and index part of lucene

 

How it actually stores the indexed field and stored field

Is it that for every field indexed , all the store fields added .I mean do
we create diff indexes for every indexed field ,replicating the stored field
in each of them.

 

 

I have read that less the number of fields in document , more will b the
faster search would be.The number of fields is actual number of fields or
the indexed fields?

So , in that case if we use  STORE.YES and INDEX.NO  for major non
searchable fields ,will searching  be faster.

 

 

 

Regards,

Suman


------=_NextPart_000_0024_01CBCEBD.0C27D930--



From java-user-return-48724-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Feb 17 12:08:49 2011
Return-Path: <java-user-return-48724-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32400 invoked from network); 17 Feb 2011 12:08:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 17 Feb 2011 12:08:49 -0000
Received: (qmail 85288 invoked by uid 500); 17 Feb 2011 12:08:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84755 invoked by uid 500); 17 Feb 2011 12:08:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84743 invoked by uid 99); 17 Feb 2011 12:08:41 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Feb 2011 12:08:41 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ian.lea@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Feb 2011 12:08:33 +0000
Received: by bwz8 with SMTP id 8so2572379bwz.35
        for <java-user@lucene.apache.org>; Thu, 17 Feb 2011 04:08:13 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type:content-transfer-encoding;
        bh=12vslmujjRmE7Pw2uCzsi5EzLXMlZBKUNUJ0zkbIHGs=;
        b=NEZF1Kyaw9Fy2KyzZ+Ligj4iIiy8nrU8l8ErEFAqxgYT5go320cInsYNm6sANA8fKc
         5Y7rx9V+42u5gL68UI3Pbx37MbUmFTtcKZrUaBc4cW8xfgRx9IeJ4qF9Y2oO2NXRb019
         w6zMrA0KXtahFJ71xb/lJaU/z2g+SKGbp1eqo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=X9xIMZpT/83sUp2vNubDqlpYHrGXmsjkgUxTyhNYxVDgaSZOB9YYQlDtoWtiQzM8T9
         r7VXAXWwFg3Oc4bn7Z7qnBV9VHx/lvoBobWOj68QTFtwSA6MSNezH0xAgTsKG55houLN
         B2NEiTw2JVvveM0wo/TZdijwc+ETZbIh9Eqwk=
Received: by 10.204.14.3 with SMTP id e3mr1622714bka.202.1297944492685; Thu,
 17 Feb 2011 04:08:12 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.85.79 with HTTP; Thu, 17 Feb 2011 04:07:51 -0800 (PST)
In-Reply-To: <AANLkTikVfaHC+9GajiW_qT=gM9vF0Hh5d3WC_mXjjAXJ@mail.gmail.com>
References: <AANLkTikVfaHC+9GajiW_qT=gM9vF0Hh5d3WC_mXjjAXJ@mail.gmail.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Thu, 17 Feb 2011 12:07:51 +0000
Message-ID: <AANLkTikWt_FJCu=oQ3UWWJAMN=+JeWibiqj+28dBb65K@mail.gmail.com>
Subject: Re: Boost value is always 1
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Try different boost values with larger gaps between low and high.  If
that doesn't help, post a tiny but complete self-contained example
that demonstrates the problem.  And you should always say what version
of lucene you are using.


--
Ian.


On Thu, Feb 17, 2011 at 7:56 AM, Akos Tajti <akos.tajti@gmail.com> wrote:
> I'm trying to set different boost values for different fields. Before add=
ing
> the document to the index every value is fine. But when I run a search in
> the explanation every boost is 1 and the final score of the matches is no=
t
> affected by the boost values set. I set omitNorms to false and index to
> ANALYZED. The only solution I found is setting store to YES. Do you have =
any
> ideas?
>
> Thanks in advance,
> =C1kos Tajti
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48725-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Feb 17 12:22:58 2011
Return-Path: <java-user-return-48725-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35299 invoked from network); 17 Feb 2011 12:22:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 17 Feb 2011 12:22:57 -0000
Received: (qmail 97534 invoked by uid 500); 17 Feb 2011 12:22:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97130 invoked by uid 500); 17 Feb 2011 12:22:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97122 invoked by uid 99); 17 Feb 2011 12:22:50 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Feb 2011 12:22:50 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ian.lea@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Feb 2011 12:22:44 +0000
Received: by bwz8 with SMTP id 8so2585652bwz.35
        for <java-user@lucene.apache.org>; Thu, 17 Feb 2011 04:22:24 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type:content-transfer-encoding;
        bh=81zv04m7vFeqvXiqD08q5Arsn8kJNQZ53XcNUdGlMgw=;
        b=Zu4VEyFG6Xyn8BxZ3qUFghxjNR87y5e9Zkd11w696DQ/S46d2MK9YBeuuMvEHxFoUr
         IAWnCtlnXcCv0kzqgqYvbNyi+11sBnZUk9+R5Fs+crLM4RcD93SGHEGWWMePnE//AAA1
         JgQ1Yhw4e7h3uhlqAvuFLVeveApGHdbmigaoQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=VN3vK2H9rkiBx0hPPrTtGvjoc08d+1FGyosU0A5AiAKMcLKNNBxfUexvkTyiG+hZBJ
         hF170emDGpHyFKZl/+ERkQD1yfTF8JKKLe8qu5yV67tbG0Jzx5Dh/qYN90UPrjX7IYTI
         KjivabK4nOYJkk3aIgmiKunS60LakEZ37nhDU=
Received: by 10.204.118.138 with SMTP id v10mr1623509bkq.94.1297945344192;
 Thu, 17 Feb 2011 04:22:24 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.85.79 with HTTP; Thu, 17 Feb 2011 04:22:04 -0800 (PST)
In-Reply-To: <1028411385997465758@unknownmsgid>
References: <1028411385997465758@unknownmsgid>
From: Ian Lea <ian.lea@gmail.com>
Date: Thu, 17 Feb 2011 12:22:04 +0000
Message-ID: <AANLkTimtg+8goYFY_x1U97USm714gxErt0zBgzUy7Kxb@mail.gmail.com>
Subject: Re: fields : stored and indexed
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

http://lucene.apache.org/java/3_0_3/fileformats.html will tell you all
you need to know about what is stored where and how.

In general, the speed of searching i.e. finding matching docs will not
be affected by the number of stored fields but retrieving data from
lots of stored fields will certainly take longer than retrieving data
from fewer stored fields.

Only index the fields you need to search on and only store the fields
you need to retrieve.  If you only need to retrieve some of the stored
fields use a FieldSelector.


http://wiki.apache.org/lucene-java/ImproveSearchingSpeed has good info
on making searching fast.


--
Ian.

On Thu, Feb 17, 2011 at 10:39 AM, suman.holani <suman.holani@zapak.co.in> w=
rote:
> Hello,
>
>
>
> I am little confused on the stored and index part of lucene
>
>
>
> How it actually stores the indexed field and stored field
>
> Is it that for every field indexed , all the store fields added .I mean d=
o
> we create diff indexes for every indexed field ,replicating the stored fi=
eld
> in each of them.
>
>
>
>
>
> I have read that less the number of fields in document , more will b the
> faster search would be.The number of fields is actual number of fields or
> the indexed fields?
>
> So , in that case if we use =A0STORE.YES and INDEX.NO =A0for major non
> searchable fields ,will searching =A0be faster.
>
>
>
>
>
>
>
> Regards,
>
> Suman
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48726-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Feb 17 13:02:25 2011
Return-Path: <java-user-return-48726-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52503 invoked from network); 17 Feb 2011 13:02:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 17 Feb 2011 13:02:25 -0000
Received: (qmail 51871 invoked by uid 500); 17 Feb 2011 13:02:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51501 invoked by uid 500); 17 Feb 2011 13:02:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51492 invoked by uid 99); 17 Feb 2011 13:02:17 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Feb 2011 13:02:17 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=MSGID_MULTIPLE_AT,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of suman.holani@zapak.co.in designates 220.226.181.11 as permitted sender)
Received: from [220.226.181.11] (HELO mail.zapak.co.in) (220.226.181.11)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 17 Feb 2011 13:02:11 +0000
Received: (qmail 11558 invoked by uid 508); 17 Feb 2011 13:01:47 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=default; d=zapak.co.in;
  b=mNN8htu5NYg3o6gfe+tU3sCO/2n/tDy1j4LTenY6Yzd9FlB70/oEsFweA7BKQsDs  ;
Received: from unknown (HELO wksinfi04d899) (suman.holani@zapak.co.in@192.168.2.20)
  by mail.zapak.co.in with ESMTPA; 17 Feb 2011 13:01:47 -0000
From: "suman.holani" <suman.holani@zapak.co.in>
To: <java-user@lucene.apache.org>
References: <1028411385997465758@unknownmsgid> <AANLkTimtg+8goYFY_x1U97USm714gxErt0zBgzUy7Kxb@mail.gmail.com>
In-Reply-To: <AANLkTimtg+8goYFY_x1U97USm714gxErt0zBgzUy7Kxb@mail.gmail.com>
Subject: RE: fields : stored and indexed
Date: Thu, 17 Feb 2011 18:26:55 +0530
Message-ID: <002f01cbcea2$27db7a30$77926e90$@holani@zapak.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Office Outlook 12.0
Thread-Index: AcvOnWr3hw+jghMvQlmWazsSTXYUcgAA5wzg
Content-Language: en-us
X-Virus-Checked: Checked by ClamAV on apache.org

Hi ,

Thanks its useful.

One thing , if I reduce the number of fields by setting them INDEX.NO =
will
it affect searching speed.But yes ,I will be storing those fields in =
index.

Let say there are 5 fields A,B,C,D,E

---with first index having all fields config as  STORE.YES and
INDEX.ANALYZED

---another index having =20
A  STORE.YES and INDEX.NO
B  STORE.YES and INDEX.NO
C  STORE.YES and INDEX.NO
D  STORE.YES and INDEX.ANALYZED
E  STORE.YES and INDEX.ANALYZED


Will second index searching will be faster.


Regards,
suman


-----Original Message-----
From: Ian Lea [mailto:ian.lea@gmail.com]=20
Sent: Thursday, February 17, 2011 5:52 PM
To: java-user@lucene.apache.org
Subject: Re: fields : stored and indexed

http://lucene.apache.org/java/3_0_3/fileformats.html will tell you all
you need to know about what is stored where and how.

In general, the speed of searching i.e. finding matching docs will not
be affected by the number of stored fields but retrieving data from
lots of stored fields will certainly take longer than retrieving data
from fewer stored fields.

Only index the fields you need to search on and only store the fields
you need to retrieve.  If you only need to retrieve some of the stored
fields use a FieldSelector.


http://wiki.apache.org/lucene-java/ImproveSearchingSpeed has good info
on making searching fast.


--
Ian.

On Thu, Feb 17, 2011 at 10:39 AM, suman.holani =
<suman.holani@zapak.co.in>
wrote:
> Hello,
>
>
>
> I am little confused on the stored and index part of lucene
>
>
>
> How it actually stores the indexed field and stored field
>
> Is it that for every field indexed , all the store fields added .I =
mean do
> we create diff indexes for every indexed field ,replicating the stored
field
> in each of them.
>
>
>
>
>
> I have read that less the number of fields in document , more will b =
the
> faster search would be.The number of fields is actual number of fields =
or
> the indexed fields?
>
> So , in that case if we use =A0STORE.YES and INDEX.NO =A0for major non
> searchable fields ,will searching =A0be faster.
>
>
>
>
>
>
>
> Regards,
>
> Suman
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48727-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Feb 17 13:43:27 2011
Return-Path: <java-user-return-48727-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69484 invoked from network); 17 Feb 2011 13:43:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 17 Feb 2011 13:43:27 -0000
Received: (qmail 8120 invoked by uid 500); 17 Feb 2011 13:43:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7576 invoked by uid 500); 17 Feb 2011 13:43:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7568 invoked by uid 99); 17 Feb 2011 13:43:19 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Feb 2011 13:43:19 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ian.lea@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Feb 2011 13:43:15 +0000
Received: by bwz8 with SMTP id 8so2671830bwz.35
        for <java-user@lucene.apache.org>; Thu, 17 Feb 2011 05:42:53 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type:content-transfer-encoding;
        bh=Ck5iBKaJ8TrTulytLMPeZBR2zj2qkj5mYVDb23SKvP0=;
        b=c9alLdGMMQ3XhSL7a1aQpl95NBOhGp+MSu+UNcAKrHjdJ9Xgyrxke4RWwruRlTWVBr
         1m5FKDZRNoLKPX4v4QA6YYQLr2kPyY/rLTpLSNDA6RL1ZTO6T9AlYoUhPCmk8FlhhouE
         Dl0LapDHl01i1rFObZYrDszluHoBwgm7gBkzQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=H3q6TLvfX3pJ0XC0fndDjHZhJ3Kwsfscf7AgLqkCoDIidO4aLVVlCXlKEyZ+kgrfCW
         SIkLMHaSXNcBBezMneqRDv60o4oL17ijivU4MVPeF7IEo4pwcSan+oyhr0DmmzArDCYg
         0p6R1PQRjgXg0RTioaV/gVmvdSybEAa+8+pW8=
Received: by 10.204.80.161 with SMTP id t33mr1713466bkk.121.1297950161714;
 Thu, 17 Feb 2011 05:42:41 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.85.79 with HTTP; Thu, 17 Feb 2011 05:42:07 -0800 (PST)
In-Reply-To: <-2890310633037951184@unknownmsgid>
References: <1028411385997465758@unknownmsgid> <AANLkTimtg+8goYFY_x1U97USm714gxErt0zBgzUy7Kxb@mail.gmail.com>
 <-2890310633037951184@unknownmsgid>
From: Ian Lea <ian.lea@gmail.com>
Date: Thu, 17 Feb 2011 13:42:07 +0000
Message-ID: <AANLkTinXT8O8ZF2FvUqQj1Kktqg1sSgOGfx_TaTGnsCA@mail.gmail.com>
Subject: Re: fields : stored and indexed
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

In the second case I guess that searching might be faster by the odd
fraction of a millisecond, but any affect will likely be dwarfed by
most of the stuff on the Wiki page mentioned before.


--
Ian.

On Thu, Feb 17, 2011 at 12:56 PM, suman.holani <suman.holani@zapak.co.in> w=
rote:
> Hi ,
>
> Thanks its useful.
>
> One thing , if I reduce the number of fields by setting them INDEX.NO wil=
l
> it affect searching speed.But yes ,I will be storing those fields in inde=
x.
>
> Let say there are 5 fields A,B,C,D,E
>
> ---with first index having all fields config as =A0STORE.YES and
> INDEX.ANALYZED
>
> ---another index having
> A =A0STORE.YES and INDEX.NO
> B =A0STORE.YES and INDEX.NO
> C =A0STORE.YES and INDEX.NO
> D =A0STORE.YES and INDEX.ANALYZED
> E =A0STORE.YES and INDEX.ANALYZED
>
>
> Will second index searching will be faster.
>
>
> Regards,
> suman
>
>
> -----Original Message-----
> From: Ian Lea [mailto:ian.lea@gmail.com]
> Sent: Thursday, February 17, 2011 5:52 PM
> To: java-user@lucene.apache.org
> Subject: Re: fields : stored and indexed
>
> http://lucene.apache.org/java/3_0_3/fileformats.html will tell you all
> you need to know about what is stored where and how.
>
> In general, the speed of searching i.e. finding matching docs will not
> be affected by the number of stored fields but retrieving data from
> lots of stored fields will certainly take longer than retrieving data
> from fewer stored fields.
>
> Only index the fields you need to search on and only store the fields
> you need to retrieve. =A0If you only need to retrieve some of the stored
> fields use a FieldSelector.
>
>
> http://wiki.apache.org/lucene-java/ImproveSearchingSpeed has good info
> on making searching fast.
>
>
> --
> Ian.
>
> On Thu, Feb 17, 2011 at 10:39 AM, suman.holani <suman.holani@zapak.co.in>
> wrote:
>> Hello,
>>
>>
>>
>> I am little confused on the stored and index part of lucene
>>
>>
>>
>> How it actually stores the indexed field and stored field
>>
>> Is it that for every field indexed , all the store fields added .I mean =
do
>> we create diff indexes for every indexed field ,replicating the stored
> field
>> in each of them.
>>
>>
>>
>>
>>
>> I have read that less the number of fields in document , more will b the
>> faster search would be.The number of fields is actual number of fields o=
r
>> the indexed fields?
>>
>> So , in that case if we use =A0STORE.YES and INDEX.NO =A0for major non
>> searchable fields ,will searching =A0be faster.
>>
>>
>>
>>
>>
>>
>>
>> Regards,
>>
>> Suman
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48728-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Feb 17 19:06:21 2011
Return-Path: <java-user-return-48728-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37909 invoked from network); 17 Feb 2011 19:06:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 17 Feb 2011 19:06:20 -0000
Received: (qmail 60587 invoked by uid 500); 17 Feb 2011 19:06:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60168 invoked by uid 500); 17 Feb 2011 19:06:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60159 invoked by uid 99); 17 Feb 2011 19:06:14 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Feb 2011 19:06:14 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of cassuser@gmail.com designates 209.85.220.176 as permitted sender)
Received: from [209.85.220.176] (HELO mail-vx0-f176.google.com) (209.85.220.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Feb 2011 19:06:06 +0000
Received: by vxb37 with SMTP id 37so1347422vxb.35
        for <java-user@lucene.apache.org>; Thu, 17 Feb 2011 11:05:45 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=Yv8MUKj+oKbT7ROnEYLv8dukM6XM8m8HXxPDxO4QjUo=;
        b=BqnpahasQWgsW4YfH2MxQQYz0rWpr8H5FHFa2DIX68LZhcfAS/TMF1cwtqDeROerSV
         Itm9hdDPFPmegn9QEZT+Acgj8TftdjWrnksiEfwCGKsy9UePfaogoDznM2RkRNd/zFCp
         qPipxe1j7G5uXlwGqUrqxGEbgwTunAwBLQSoM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=Mq2Fu2Odx8PZuBeDpHrUd8KaTjAjYid7jSwcszZ9pjFn0aPLgt16mqW7fmehJ09LEI
         Iekv87lXHZszAYlffG4+ONbK8EnZnmI2H943xXJm/iq4sLvQhLaGzDuz169t6OZLZS3F
         U39N1VGnEoY8oOPZtFcV4YXdwN7dwvpXB7H4g=
MIME-Version: 1.0
Received: by 10.52.164.168 with SMTP id yr8mr379842vdb.222.1297969545586; Thu,
 17 Feb 2011 11:05:45 -0800 (PST)
Received: by 10.220.123.141 with HTTP; Thu, 17 Feb 2011 11:05:45 -0800 (PST)
Date: Thu, 17 Feb 2011 11:05:45 -0800
Message-ID: <AANLkTimNww=oSPZFUW=E3j22niwdx_HpuDE82nozpUN1@mail.gmail.com>
Subject: Splitting word tokens - other languages
From: CassUser CassUser <cassuser@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=bcaec53f95c5b1a7de049c7f15cf
X-Virus-Checked: Checked by ClamAV on apache.org

--bcaec53f95c5b1a7de049c7f15cf
Content-Type: text/plain; charset=ISO-8859-1

Hey all,

I'm somewhat new to Lucene.  Meaning I used it some time ago for a parser we
wrote to tokenize a document into word grams.

the approach I took was simple as follows:

1. extended the lucene Analyzer
2. In the tokenStream method use ShingleMatrixFilter.  Passed in the
standard tokenizer, and shingle min/max/splitter.

This worked pretty well for us.  Now we would like to tokenize hangul/korean
into word grams.

I'm curious others have done something similar and would share their
experience.  Any pointers to get started with this would be great.

Thanks.

--bcaec53f95c5b1a7de049c7f15cf--

From java-user-return-48729-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 18 10:39:25 2011
Return-Path: <java-user-return-48729-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26104 invoked from network); 18 Feb 2011 10:39:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 18 Feb 2011 10:39:25 -0000
Received: (qmail 99608 invoked by uid 500); 18 Feb 2011 10:39:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99299 invoked by uid 500); 18 Feb 2011 10:39:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99289 invoked by uid 99); 18 Feb 2011 10:39:19 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Feb 2011 10:39:19 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=FREEMAIL_FROM,MIME_QP_LONG_LINE,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_NEUTRAL,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [121.101.151.210] (HELO nm2-vm0.bullet.mail.in.yahoo.com) (121.101.151.210)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 18 Feb 2011 10:39:12 +0000
Received: from [121.101.151.236] by nm2.bullet.mail.in.yahoo.com with NNFMP; 18 Feb 2011 10:38:41 -0000
Received: from [121.101.151.234] by tm1.bullet.mail.in.yahoo.com with NNFMP; 18 Feb 2011 10:38:50 -0000
Received: from [127.0.0.1] by omp1003.mail.in.yahoo.com with NNFMP; 18 Feb 2011 10:38:44 -0000
X-Yahoo-Newman-Id: 588977.75328.bm@omp1003.mail.in.yahoo.com
Received: (qmail 7686 invoked from network); 18 Feb 2011 10:38:49 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=DKIM-Signature:Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE;
  b=n1WlLFi5rguJdRNM+252wpryfZJqzWr3Ff4thXTK0ZDCGDs4nN7ILmfEIBpyTs5oigZzDeJX+BUIcjM/I+IgjOgJjZk0cVB0Fo08tIx3jlIORCgREcaQV3NtZcEG+tHJsQ0pQwZWdJahnPzhxmFpoOxNP6KmY1xA3buNAsR48PI=  ;
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.in; s=s1024; t=1298025529; bh=7TjeJdIrLBtt7wHf+KxSlj5NB3jzvG/qMhm29DmIgwM=; h=Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE; b=DEchtYutFx61iXE/GZQJLnoZ5jLoyv6JFQ5jPo4M9Ops5cQshdn4UXvHCpWzYTfLxwDkB5EM09B82CR3PG+xmcdSPbgBjeSmTULUmZohlZY3UN+rPk3Hb0WNH1uk1aA7YFrQ65kypg2JC4CEP9Mf4uM2/6DFQXsrBzeGQs8T4vQ=
Received: from GaneshM (emailgane@121.244.159.130 with login)
        by smtp101.mail.in.yahoo.com with SMTP; 18 Feb 2011 16:08:49 +0530 IST
X-Yahoo-SMTP: JObyHkuswBBrNSLZp.Ycd7Boqpr_GQ--
X-YMail-OSG: pWjzGZoVM1kujuRFStI6GsQm8fdP.SulGb3efT7Sqv5T0Lp
 rFFNVGi9d3T88UmgU2CU9eSlFGXkGNXZf0ROil.6AEViGB5kiDy25i2bd_Zm
 _nLxLufUn7YCXgsl7AbIn4E.XZ38a4h8cyzacCcpAJQWcwHzeSLPH9aDEEfD
 JOkkXhI6Xg5.Yn3blLbJqrDaYOAz.3klb
X-Yahoo-Newman-Property: ymail-3
Message-ID: <F752D440396C44C3BD5C71D783D1563E@sv.us.sonicwall.com>
From: "Ganesh" <emailgane@yahoo.co.in>
To: <java-user@lucene.apache.org>
Subject: Keyword Analyzer
Date: Fri, 18 Feb 2011 16:08:48 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.5931
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.5931

Hello all,
=20
I am using Keyword analyzer to index a field and while using =
queryparser, I am using the same analyzer.  I am indexing the text Hello =
world and while searching using queryparser.parse it is not returning me =
any results. I need to use the text within the codes qp.parse("Hello =
world");  =20

My question is why i need to give the text within codes (basically as a =
phrase). While indexing i have not given and it is indexing as single =
term and while searching also it should consider the complete text as =
single term.

Regards
Ganesh
Send free SMS to your Friends on Mobile from your Yahoo! Messenger. Download Now! http://messenger.yahoo.com/download.php

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48730-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 18 11:05:45 2011
Return-Path: <java-user-return-48730-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40457 invoked from network); 18 Feb 2011 11:05:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 18 Feb 2011 11:05:44 -0000
Received: (qmail 23679 invoked by uid 500); 18 Feb 2011 11:05:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23354 invoked by uid 500); 18 Feb 2011 11:05:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23344 invoked by uid 99); 18 Feb 2011 11:05:37 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Feb 2011 11:05:37 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ian.lea@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Feb 2011 11:05:32 +0000
Received: by bwz8 with SMTP id 8so3636968bwz.35
        for <java-user@lucene.apache.org>; Fri, 18 Feb 2011 03:05:11 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type:content-transfer-encoding;
        bh=kohLv21auk32Sr6s07h4c8+be+RWQsOvDTexCao34hU=;
        b=Yru3pyHxpfapU07zJEV2bp7xj/omXjMgOo4rcuggWts3Xt1Nfj0r/GYA16DET+ynj3
         N9uNqkCgKxmvTKtiDGaIi9uqrdJ0UeryqaXDVZPhmCVjBn1b+rGG+do1H5bajEDHYWis
         nvcZIcfFycTYALQVlwo2qi8M0i6eouCo8A9D8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=l5ZW6CMLmzQ+qxZK7Vj1WaCgg7/a5jRpK+wYCczviBKX1m5vxqW11jLBg5ytU5IS5E
         fKKVqJ6s+9Kf2jMhnu2XzFHra5g5YRf3REMhWOlvHZ+QnbxbZ5oWYTewuFEcCFdSYIMz
         U0Bw+QRfI8PQuFsPCc5J8DATCU06YN2AtyaHo=
Received: by 10.204.81.72 with SMTP id w8mr509794bkk.205.1298027110403; Fri,
 18 Feb 2011 03:05:10 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.70.139 with HTTP; Fri, 18 Feb 2011 03:04:50 -0800 (PST)
In-Reply-To: <F752D440396C44C3BD5C71D783D1563E@sv.us.sonicwall.com>
References: <F752D440396C44C3BD5C71D783D1563E@sv.us.sonicwall.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Fri, 18 Feb 2011 11:04:50 +0000
Message-ID: <AANLkTiksyQS_+aYvZkHN2SOT63LJoonWtY8fT4S3rhrd@mail.gmail.com>
Subject: Re: Keyword Analyzer
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Presumably because without the quotes the parser is splitting it up
into 2 terms.  Why bother parsing it?  Just build the query directly.


--
Ian.


On Fri, Feb 18, 2011 at 10:38 AM, Ganesh <emailgane@yahoo.co.in> wrote:
> Hello all,
>
> I am using Keyword analyzer to index a field and while using queryparser,=
 I am using the same analyzer. =A0I am indexing the text Hello world and wh=
ile searching using queryparser.parse it is not returning me any results. I=
 need to use the text within the codes qp.parse("Hello world");
>
> My question is why i need to give the text within codes (basically as a p=
hrase). While indexing i have not given and it is indexing as single term a=
nd while searching also it should consider the complete text as single term=
.
>
> Regards
> Ganesh
> Send free SMS to your Friends on Mobile from your Yahoo! Messenger. Downl=
oad Now! http://messenger.yahoo.com/download.php
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48731-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 18 11:33:34 2011
Return-Path: <java-user-return-48731-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48456 invoked from network); 18 Feb 2011 11:33:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 18 Feb 2011 11:33:34 -0000
Received: (qmail 60449 invoked by uid 500); 18 Feb 2011 11:33:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59988 invoked by uid 500); 18 Feb 2011 11:33:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59973 invoked by uid 99); 18 Feb 2011 11:33:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Feb 2011 11:33:26 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=FREEMAIL_FROM,MIME_QP_LONG_LINE,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_NEUTRAL,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [121.101.151.239] (HELO nm1.bullet.mail.in.yahoo.com) (121.101.151.239)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 18 Feb 2011 11:33:19 +0000
Received: from [121.101.151.237] by nm1.bullet.mail.in.yahoo.com with NNFMP; 18 Feb 2011 11:32:56 -0000
Received: from [121.101.151.232] by tm2.bullet.mail.in.yahoo.com with NNFMP; 18 Feb 2011 11:32:52 -0000
Received: from [127.0.0.1] by omp1001.mail.in.yahoo.com with NNFMP; 18 Feb 2011 11:33:19 -0000
X-Yahoo-Newman-Id: 520613.68162.bm@omp1001.mail.in.yahoo.com
Received: (qmail 45453 invoked from network); 18 Feb 2011 11:32:56 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=DKIM-Signature:Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:References:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE;
  b=uQCcvcWJF6HALRfjL1x48DTveQqTqQPdI0qRDMIMW65ZydzR4+8aHHu+ZUPu0zc/wP5CU+VdA/h9VJAhXTWIX8HxZik+LifxebBPfu7Bx2TSuvngTJDs+gAE6Uesd5Q1/g8grCQRU54QEh2NHxkfhpAylI7ao+WkbU5uDR9apDE=  ;
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.in; s=s1024; t=1298028776; bh=Hqk8rxPm087BANFQ4EqIrURcF1jNlIsS4zS9ewg2X7Y=; h=Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:References:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE; b=bOearapiFg+vY1ewULGy0eASuSgC1nVYOORugC2Uhll0bFqHpM42Om53qAUhFvulYT6lTCajH3Vj4XcOXHGikHXDwcxcJIa9p2r5/INGbOcYqkxPfol3s6uE/wuw7sM64zx6VnLAXyFXGtJCOQoJNIa/rIjOFW07/VKyNr3ozFg=
Received: from GaneshM (emailgane@121.244.159.130 with login)
        by smtp105.mail.in.yahoo.com with SMTP; 18 Feb 2011 17:02:56 +0530 IST
X-Yahoo-SMTP: JObyHkuswBBrNSLZp.Ycd7Boqpr_GQ--
X-YMail-OSG: brqr.RIVM1mmovTxAMfoU2ri0N4J_YL8DjD8cKnbOT06BmT
 ZmgeldMnzxEPP03rinI5mgIgz035D2j4cC99Kg.xwMBmy.NB1T3p6A18nC6G
 vF5vS0lLaGYmzjLB_eNpBwOnSnkNJ3S56hxB3r9Y.hebGzo9zwxLk1E9NFLT
 0SPj9mHizPWnoXbDqsm4FOBxeM9ltAwYG7QFmxrZdIDIO5gejsRQU7jVRQm_
 cpxc7oUbxzsA_Mutj.1ugI6tPbaVkegElpCmL8bol6YVPMBmf3Q--
X-Yahoo-Newman-Property: ymail-3
Message-ID: <A86559DD9FB84AE396B6AC1D5EF91A6D@sv.us.sonicwall.com>
From: "Ganesh" <emailgane@yahoo.co.in>
To: <java-user@lucene.apache.org>
References: <F752D440396C44C3BD5C71D783D1563E@sv.us.sonicwall.com> <AANLkTiksyQS_+aYvZkHN2SOT63LJoonWtY8fT4S3rhrd@mail.gmail.com>
Subject: Re: Keyword Analyzer
Date: Fri, 18 Feb 2011 17:02:55 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.5931
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.5931

Exactly. QueryParser is splitting it in to two words.=20

>>Just build the query directly.
TermQuery or PhraseQuery?

Regards
Ganesh=20


----- Original Message -----=20
From: "Ian Lea" <ian.lea@gmail.com>
To: <java-user@lucene.apache.org>
Sent: Friday, February 18, 2011 4:34 PM
Subject: Re: Keyword Analyzer


Presumably because without the quotes the parser is splitting it up
into 2 terms.  Why bother parsing it?  Just build the query directly.


--
Ian.


On Fri, Feb 18, 2011 at 10:38 AM, Ganesh <emailgane@yahoo.co.in> wrote:
> Hello all,
>
> I am using Keyword analyzer to index a field and while using =
queryparser, I am using the same analyzer. I am indexing the text Hello =
world and while searching using queryparser.parse it is not returning me =
any results. I need to use the text within the codes qp.parse("Hello =
world");
>
> My question is why i need to give the text within codes (basically as =
a phrase). While indexing i have not given and it is indexing as single =
term and while searching also it should consider the complete text as =
single term.
>
> Regards
> Ganesh
> Send free SMS to your Friends on Mobile from your Yahoo! Messenger. =
Download Now! http://messenger.yahoo.com/download.php
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

Send free SMS to your Friends on Mobile from your Yahoo! Messenger. Download Now! http://messenger.yahoo.com/download.php

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48732-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 18 11:37:01 2011
Return-Path: <java-user-return-48732-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49247 invoked from network); 18 Feb 2011 11:37:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 18 Feb 2011 11:37:00 -0000
Received: (qmail 64746 invoked by uid 500); 18 Feb 2011 11:36:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64514 invoked by uid 500); 18 Feb 2011 11:36:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64506 invoked by uid 99); 18 Feb 2011 11:36:55 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Feb 2011 11:36:55 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ian.lea@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Feb 2011 11:36:49 +0000
Received: by bwz8 with SMTP id 8so3659866bwz.35
        for <java-user@lucene.apache.org>; Fri, 18 Feb 2011 03:36:28 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type:content-transfer-encoding;
        bh=h/z77ftRkmxBV8qkVq5W5pL3Hd4wS/jc5coemi0+dfc=;
        b=n58W3g0jtFeuOtlyrtBpgR4PBZKAWF7ZMvuYXzBcSXRmxlfCwsQG/7mOCxmCd6paBq
         WH0T1DdwvrmOcxMJefhNKRw7P00Bf6ydKSv7LV7VDdxZpzGVdqkLvl7L1GWLZLjOGFoB
         xFpGGs905Vurrbrf1l7aFb/OEN9sdl+m6j+o4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=g9Uvh4A/ZdYGhvjJ6zBy8CSPm3WXZRbk6yOfYA17TpQpqvE5DYUn+Zs5SCt/EjvaLY
         2XCayFPYpapaS9EjxrYiapvLq8ZuGzk/uqIzr5u/79P5CwSQGGMrZoiYtsGsFB3r/QcR
         niNZGxjVbHzIHNCQC4ezXKJ5P4gN+ETyiuwjA=
Received: by 10.204.53.78 with SMTP id l14mr567394bkg.16.1298028984335; Fri,
 18 Feb 2011 03:36:24 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.70.139 with HTTP; Fri, 18 Feb 2011 03:36:04 -0800 (PST)
In-Reply-To: <A86559DD9FB84AE396B6AC1D5EF91A6D@sv.us.sonicwall.com>
References: <F752D440396C44C3BD5C71D783D1563E@sv.us.sonicwall.com>
 <AANLkTiksyQS_+aYvZkHN2SOT63LJoonWtY8fT4S3rhrd@mail.gmail.com> <A86559DD9FB84AE396B6AC1D5EF91A6D@sv.us.sonicwall.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Fri, 18 Feb 2011 11:36:04 +0000
Message-ID: <AANLkTikDSTiAZ98gpxrq07LYH1f7Z3QCHTo+EET4QQ=b@mail.gmail.com>
Subject: Re: Keyword Analyzer
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

You say you are indexing it as a single term, so TermQuery.

--
Ian.


On Fri, Feb 18, 2011 at 11:32 AM, Ganesh <emailgane@yahoo.co.in> wrote:
> Exactly. QueryParser is splitting it in to two words.
>
>>>Just build the query directly.
> TermQuery or PhraseQuery?
>
> Regards
> Ganesh
>
>
> ----- Original Message -----
> From: "Ian Lea" <ian.lea@gmail.com>
> To: <java-user@lucene.apache.org>
> Sent: Friday, February 18, 2011 4:34 PM
> Subject: Re: Keyword Analyzer
>
>
> Presumably because without the quotes the parser is splitting it up
> into 2 terms. =A0Why bother parsing it? =A0Just build the query directly.
>
>
> --
> Ian.
>
>
> On Fri, Feb 18, 2011 at 10:38 AM, Ganesh <emailgane@yahoo.co.in> wrote:
>> Hello all,
>>
>> I am using Keyword analyzer to index a field and while using queryparser=
, I am using the same analyzer. I am indexing the text Hello world and whil=
e searching using queryparser.parse it is not returning me any results. I n=
eed to use the text within the codes qp.parse("Hello world");
>>
>> My question is why i need to give the text within codes (basically as a =
phrase). While indexing i have not given and it is indexing as single term =
and while searching also it should consider the complete text as single ter=
m.
>>
>> Regards
>> Ganesh
>> Send free SMS to your Friends on Mobile from your Yahoo! Messenger. Down=
load Now! http://messenger.yahoo.com/download.php
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
> Send free SMS to your Friends on Mobile from your Yahoo! Messenger. Downl=
oad Now! http://messenger.yahoo.com/download.php
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48733-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 18 16:17:32 2011
Return-Path: <java-user-return-48733-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73396 invoked from network); 18 Feb 2011 16:17:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 18 Feb 2011 16:17:31 -0000
Received: (qmail 39822 invoked by uid 500); 18 Feb 2011 16:17:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39532 invoked by uid 500); 18 Feb 2011 16:17:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39508 invoked by uid 99); 18 Feb 2011 16:17:24 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Feb 2011 16:17:24 +0000
X-ASF-Spam-Status: No, hits=0.2 required=5.0
	tests=ASF_LIST_OPS,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [182.71.53.3] (HELO mail.otssolutions.com) (182.71.53.3)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Feb 2011 16:17:18 +0000
Received: from MAIL.otssolutions.com ([fe80::204d:b7bb:ceb3:c049]) by
 MAIL.otssolutions.com ([fe80::204d:b7bb:ceb3:c049%11]) with mapi; Fri, 18 Feb
 2011 21:46:00 +0530
From: Ranjit Kumar <Ranjit.Kumar@otssolutions.com>
To: "java-user-help@lucene.apache.org" <java-user-help@lucene.apache.org>,
	"java-user@lucene.apache.org" <java-user@lucene.apache.org>
Subject: lucene3.0.3 | get correct document in case of multiple Boolean
 query in search criteria
Thread-Topic: lucene3.0.3 | get correct document in case of multiple Boolean
 query in search criteria
Thread-Index: AcvPhx+k61Pau1EpTBC01/MDuMGL6g==
Date: Fri, 18 Feb 2011 16:15:56 +0000
Message-ID: <AD21521D44870544AC66F4FDFC0A474C39ED04AB@MAIL.otssolutions.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: multipart/alternative;
	boundary="_000_AD21521D44870544AC66F4FDFC0A474C39ED04ABMAILotssolution_"
MIME-Version: 1.0

--_000_AD21521D44870544AC66F4FDFC0A474C39ED04ABMAILotssolution_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

hi,

I am using query like

criteria =3D (sql OR sqlserver OR "sql server") AND java AND delphi .

In this case when i am using default parser as code mention below:

QueryParser parser =3D new QueryParser(Version.LUCENE_CURRENT, field, analy=
zer);

Query query =3D parser.parse(criteria);

I am getting same number of document when i am using QueryParser.OR_OPERATO=
R in code below:

QueryParser parser =3D new QueryParser(Version.LUCENE_CURRENT, field, analy=
zer); parser.setDefaultOperator(QueryParser.OR_OPERATOR);

Query query =3D parser.parse(criteria);

which is not correct. please! suggest me feasible solution.

how could get correct document in case of multiple Boolean query in search =
criteria?


Thanks & Regards,
Ranjit Kumar
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D Pr=
ivate, Confidential and Privileged. This e-mail and any files and attachmen=
ts transmitted with it are confidential and/or privileged. They are intende=
d solely for the use of the intended recipient. The content of this e-mail =
and any file or attachment transmitted with it may have been changed or alt=
ered without the consent of the author. If you are not the intended recipie=
nt, please note that any review, dissemination, disclosure, alteration, pri=
nting, circulation or Transmission of this e-mail and/or any file or attach=
ment transmitted with it, is prohibited and may be unlawful. If you have re=
ceived this e-mail or any file or attachment transmitted with it in error p=
lease notify OTS Solutions at info@otssolutions.com =3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D

--_000_AD21521D44870544AC66F4FDFC0A474C39ED04ABMAILotssolution_--

From java-user-return-48734-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 18 16:41:45 2011
Return-Path: <java-user-return-48734-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84450 invoked from network); 18 Feb 2011 16:41:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 18 Feb 2011 16:41:45 -0000
Received: (qmail 88083 invoked by uid 500); 18 Feb 2011 16:41:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87516 invoked by uid 500); 18 Feb 2011 16:41:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87499 invoked by uid 99); 18 Feb 2011 16:41:35 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Feb 2011 16:41:35 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ian.lea@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Feb 2011 16:41:28 +0000
Received: by bwz8 with SMTP id 8so3944115bwz.35
        for <java-user@lucene.apache.org>; Fri, 18 Feb 2011 08:41:08 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=UBkIa3o2dCBJYjR77lwzFQHwDS66jujoKatktI75nH0=;
        b=f02CEy5hM89iouG1pNP/Q+IfaVy+iqlXF93Fsf2rLnze38SM8Fwa//7fK/KdsIzMEM
         Bfku5Kfha7Hr518cVprf5zoqMdvy0Sw8Tf4Mdbu4U/l2gA8mhPEccSqkS2iF02OLyolg
         etJf+jWmNcS7fG23rWbEHB/OacUBkp6F/Kdu4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=RNJI4zBTjAIHHTWSGJxSlM2VhD5s9dOf+3g+eO/bjGWeGLdbkVSkLooJLyCjibnyvK
         M4Arcgp/+SaFKX4va1sxQNcQ2Qi2gYp6zxJ5YmOP5fITZkAuYt4yqL7DQPkJlJF1vA69
         /xqZ4NhnR6xB3j/ack6Rvou0hTV+CdctMmu10=
Received: by 10.204.101.133 with SMTP id c5mr879452bko.124.1298047267118; Fri,
 18 Feb 2011 08:41:07 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.70.139 with HTTP; Fri, 18 Feb 2011 08:40:46 -0800 (PST)
In-Reply-To: <AD21521D44870544AC66F4FDFC0A474C39ED04AB@MAIL.otssolutions.com>
References: <AD21521D44870544AC66F4FDFC0A474C39ED04AB@MAIL.otssolutions.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Fri, 18 Feb 2011 16:40:46 +0000
Message-ID: <AANLkTinL-4pddh_xzT+ZjiEj_8BtcA_eoqkNkOhQ9qVK@mail.gmail.com>
Subject: Re: lucene3.0.3 | get correct document in case of multiple Boolean
 query in search criteria
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

OR is the default operator, but since you are explicitly specifying
ANDs and ORs, the default is probably not relevant anyway.

See what query.toString() says.

See also http://lucene.apache.org/java/3_0_3/queryparsersyntax.html
and http://wiki.apache.org/lucene-java/LuceneFAQ#Why_am_I_getting_no_hits_.2BAC8_incorrect_hits.3F
if you still can't match the correct docs.


--
Ian.


On Fri, Feb 18, 2011 at 4:15 PM, Ranjit Kumar
<Ranjit.Kumar@otssolutions.com> wrote:
> hi,
>
> I am using query like
>
> criteria = (sql OR sqlserver OR "sql server") AND java AND delphi .
>
> In this case when i am using default parser as code mention below:
>
> QueryParser parser = new QueryParser(Version.LUCENE_CURRENT, field, analyzer);
>
> Query query = parser.parse(criteria);
>
> I am getting same number of document when i am using QueryParser.OR_OPERATOR in code below:
>
> QueryParser parser = new QueryParser(Version.LUCENE_CURRENT, field, analyzer); parser.setDefaultOperator(QueryParser.OR_OPERATOR);
>
> Query query = parser.parse(criteria);
>
> which is not correct. please! suggest me feasible solution.
>
> how could get correct document in case of multiple Boolean query in search criteria?
>
>
> Thanks & Regards,
> Ranjit Kumar

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48735-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 18 18:30:53 2011
Return-Path: <java-user-return-48735-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40404 invoked from network); 18 Feb 2011 18:30:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 18 Feb 2011 18:30:53 -0000
Received: (qmail 49766 invoked by uid 500); 18 Feb 2011 18:30:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49402 invoked by uid 500); 18 Feb 2011 18:30:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49394 invoked by uid 99); 18 Feb 2011 18:30:47 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Feb 2011 18:30:47 +0000
X-ASF-Spam-Status: No, hits=3.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ee07b381@gmail.com designates 209.85.160.176 as permitted sender)
Received: from [209.85.160.176] (HELO mail-gy0-f176.google.com) (209.85.160.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Feb 2011 18:30:40 +0000
Received: by gyf1 with SMTP id 1so1869440gyf.35
        for <java-user@lucene.apache.org>; Fri, 18 Feb 2011 10:30:19 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:from:date:message-id:subject:to
         :content-type;
        bh=MXGv/5CIc++J1VTMGPPtkitTnpv+4ONBgUwqFoVMtHs=;
        b=hIsyUjEMfw13qipzYSAb3IgDnQrY+UD3Y3D9dA8Sjo7XprPrUW1g8dC58NOyHuzFD2
         IyoRAxicC79brGUUxQ9rvi/IajYqFEwHqOJvg4nIQnTow2uNG1GzVGgi8oeOOqXwnkWP
         Lz4dwOqoRCJg4Z7P+xjgeZVZummpCKNC2Sn9s=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:from:date:message-id:subject:to:content-type;
        b=gQZ1yR6eJdU+xCkIWrVg2+TBHiTFKJMGqlnWQ1hzosvDW68ISHxQxaOF7py/+UwxT0
         YZ1oTX2jXBkF+8zqgRVKB8V9bqDifnYefPEaUAgDht3a72JqRqKLj8HryQt8VYIOjSSA
         DNIu8dNSqApCvWXafqvgXetiVGbEJQp+gvYK4=
Received: by 10.150.195.3 with SMTP id s3mr1483018ybf.274.1298053819095; Fri,
 18 Feb 2011 10:30:19 -0800 (PST)
MIME-Version: 1.0
Received: by 10.150.135.4 with HTTP; Fri, 18 Feb 2011 10:29:59 -0800 (PST)
From: Gong Li <ee07b381@gmail.com>
Date: Sat, 19 Feb 2011 02:29:59 +0800
Message-ID: <AANLkTinpNBnyYSvqmZG2-dmsruJNZu_Uw-T8JNKuz+CA@mail.gmail.com>
Subject: Lucene: If I have picture, table, or somthing others in the PDF
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=000e0cd48470c959ba049c92b419
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd48470c959ba049c92b419
Content-Type: text/plain; charset=ISO-8859-1

Hi,

I am developing a PDF search engine, locally. I have used API: pdfbox and
lucene.

I must show the user the PDF page containing the keywords(if highlight, it's
great) and sort by relevance(default in lucene). HOW???

Maybe, if there are some pictures in the PDF page, how could it display to
the user after index and search the extracted text???

Thanks

--000e0cd48470c959ba049c92b419--

From java-user-return-48736-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Feb 19 02:25:21 2011
Return-Path: <java-user-return-48736-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35871 invoked from network); 19 Feb 2011 02:25:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 19 Feb 2011 02:25:20 -0000
Received: (qmail 55281 invoked by uid 500); 19 Feb 2011 02:25:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55210 invoked by uid 500); 19 Feb 2011 02:25:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55202 invoked by uid 99); 19 Feb 2011 02:25:17 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 Feb 2011 02:25:17 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jason.rutherglen@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 Feb 2011 02:25:10 +0000
Received: by qwe4 with SMTP id 4so3957818qwe.35
        for <java-user@lucene.apache.org>; Fri, 18 Feb 2011 18:24:49 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=z4cc3JC1xNrIn5AR1Dgrdy3J8AimQaCBHj4FYWwI2HA=;
        b=hreQ0ltxSfc85VAyoIsDiJDwrmFduEf9NJIj/YFYbc8nJtWa/DquhSeBvPRqwUZIfl
         4IUAAcJpVTqqigJ8olcC/Yp7W48zbdnwoZ2QbotBraRso00kuxl1laradmjiDFZwm33V
         j5y8Y0cUKpxmp7qd3oq16c0/2hr4owcdjfBMY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=YvFQu3ZJEKyR02zWuM7QXAnNp/Q7ZscRHr1wvotRai8xkra57Lgi2bOoHMRw3dG9QL
         en4ODvOQkM3yby62vbUDU6Obbd6bC5N8xW3PAsbX6Fwh3L2EshMZp4T0M34xlyHxSVzD
         ZdGhvtjOeuEZ+VYFLj+j4j7SyoU39xZ8ilxP4=
MIME-Version: 1.0
Received: by 10.224.67.72 with SMTP id q8mr1225161qai.222.1298082288987; Fri,
 18 Feb 2011 18:24:48 -0800 (PST)
Received: by 10.229.65.198 with HTTP; Fri, 18 Feb 2011 18:24:48 -0800 (PST)
Date: Fri, 18 Feb 2011 18:24:48 -0800
Message-ID: <AANLkTimpKMD1dojwMB=kdJmWTuCY4BBDRUkYuZb_FgRw@mail.gmail.com>
Subject: Last/max term in Lucene 4.x
From: Jason Rutherglen <jason.rutherglen@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

This could be a rhetorical question.  The way to find the last/max
term that is a unique per document is to use TermsEnum to seek to the
first term of a field, then call seek to the docFreq-1 for the last
ord, then get the term, or is there a better/faster way?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48737-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Feb 19 11:33:47 2011
Return-Path: <java-user-return-48737-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69300 invoked from network); 19 Feb 2011 11:33:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 19 Feb 2011 11:33:47 -0000
Received: (qmail 94189 invoked by uid 500); 19 Feb 2011 11:33:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93708 invoked by uid 500); 19 Feb 2011 11:33:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93696 invoked by uid 99); 19 Feb 2011 11:33:39 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 Feb 2011 11:33:39 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.161.176] (HELO mail-gx0-f176.google.com) (209.85.161.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 Feb 2011 11:33:32 +0000
Received: by gxk20 with SMTP id 20so682101gxk.35
        for <java-user@lucene.apache.org>; Sat, 19 Feb 2011 03:33:11 -0800 (PST)
MIME-Version: 1.0
Received: by 10.151.105.11 with SMTP id h11mr2353790ybm.85.1298115190852; Sat,
 19 Feb 2011 03:33:10 -0800 (PST)
Received: by 10.147.41.19 with HTTP; Sat, 19 Feb 2011 03:33:10 -0800 (PST)
In-Reply-To: <AANLkTimpKMD1dojwMB=kdJmWTuCY4BBDRUkYuZb_FgRw@mail.gmail.com>
References: <AANLkTimpKMD1dojwMB=kdJmWTuCY4BBDRUkYuZb_FgRw@mail.gmail.com>
Date: Sat, 19 Feb 2011 06:33:10 -0500
Message-ID: <AANLkTi=Wq=6eLoyRdcOkRpSZiS+nucYeiAcTqLQ5Kzn6@mail.gmail.com>
Subject: Re: Last/max term in Lucene 4.x
From: Michael McCandless <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Cc: Jason Rutherglen <jason.rutherglen@gmail.com>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

I don't quite understand your question Jason...

Seeking to the first term of the field just gets you the smallest term
(in unsigned byte[] order, ie Unicode order if the byte[] is UTF8)
across all docs.

Instead of docFreq, did you mean numUniqueTerms?  Ie, you want to seek
to the largest term for that field?  In which case, yes seeking by
term ord to numUniqueTerms-1 gets you to that term.  But you have to
use a terms index impl that supports ord (eg FixedGap).

Mike

On Fri, Feb 18, 2011 at 9:24 PM, Jason Rutherglen
<jason.rutherglen@gmail.com> wrote:
> This could be a rhetorical question. =A0The way to find the last/max
> term that is a unique per document is to use TermsEnum to seek to the
> first term of a field, then call seek to the docFreq-1 for the last
> ord, then get the term, or is there a better/faster way?
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>



--=20
Mike

http://blog.mikemccandless.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48738-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Feb 19 13:43:05 2011
Return-Path: <java-user-return-48738-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20647 invoked from network); 19 Feb 2011 13:43:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 19 Feb 2011 13:43:04 -0000
Received: (qmail 50746 invoked by uid 500); 19 Feb 2011 13:43:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50394 invoked by uid 500); 19 Feb 2011 13:42:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50381 invoked by uid 99); 19 Feb 2011 13:42:57 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 Feb 2011 13:42:57 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jason.rutherglen@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 Feb 2011 13:42:51 +0000
Received: by qwe4 with SMTP id 4so4176106qwe.35
        for <java-user@lucene.apache.org>; Sat, 19 Feb 2011 05:42:30 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:cc:content-type
         :content-transfer-encoding;
        bh=CCc8OBhYnJC0DnHozG89hVc3Zvv5X2HxWqjVYNVK8n8=;
        b=cvEBVZPi+j+5FvO1OHIVKtbLy7Mj29Q7+PmHMnufUpPcI9CZ3+Haww+aJFgI2d/xrl
         z2tst6YJ55yrwx6WBeggSD/n2PKmtYYJ0sHvjNYmEClTbDCE9mIbuXSunIKdr++LMosr
         OsiutAkQOQGVyGyRsy/zIzMs7/0kbUaLjIVPU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type:content-transfer-encoding;
        b=izSMx/FZgzU4K0V9tB15jiBJ4rhNEjkHSIM7jrcIFjMvKKj8qFKcGYG1YUJfq/muCs
         O/knYA8VsZDkS6ZE4xP0SrgdxbnPwyq2vsWjtkXBb9oQ8KgM88hN0/+FTTg/Jz43LgZi
         VCwz26OSUzU1X2UqgfmAagy2unkcGoT2BzVh0=
MIME-Version: 1.0
Received: by 10.229.189.4 with SMTP id dc4mr1405502qcb.173.1298122949987; Sat,
 19 Feb 2011 05:42:29 -0800 (PST)
Received: by 10.229.65.198 with HTTP; Sat, 19 Feb 2011 05:42:29 -0800 (PST)
In-Reply-To: <AANLkTi=Wq=6eLoyRdcOkRpSZiS+nucYeiAcTqLQ5Kzn6@mail.gmail.com>
References: <AANLkTimpKMD1dojwMB=kdJmWTuCY4BBDRUkYuZb_FgRw@mail.gmail.com>
	<AANLkTi=Wq=6eLoyRdcOkRpSZiS+nucYeiAcTqLQ5Kzn6@mail.gmail.com>
Date: Sat, 19 Feb 2011 05:42:29 -0800
Message-ID: <AANLkTimLWwzCW+xbk5AL1GdcYcAU0LtBEXk5=Ri_4sYh@mail.gmail.com>
Subject: Re: Last/max term in Lucene 4.x
From: Jason Rutherglen <jason.rutherglen@gmail.com>
To: Michael McCandless <lucene@mikemccandless.com>
Cc: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

> Instead of docFreq, did you mean numUniqueTerms?

Right.

> But you have to
> use a terms index impl that supports ord (eg FixedGap).

Ok, and the VariableGap is the new standard because the FST is much
more efficient as a terms index?  Perhaps I'd need to create a codec
(or patch the existing) to automatically store the max term?

On Sat, Feb 19, 2011 at 3:33 AM, Michael McCandless
<lucene@mikemccandless.com> wrote:
> I don't quite understand your question Jason...
>
> Seeking to the first term of the field just gets you the smallest term
> (in unsigned byte[] order, ie Unicode order if the byte[] is UTF8)
> across all docs.
>
> Instead of docFreq, did you mean numUniqueTerms? =A0Ie, you want to seek
> to the largest term for that field? =A0In which case, yes seeking by
> term ord to numUniqueTerms-1 gets you to that term. =A0But you have to
> use a terms index impl that supports ord (eg FixedGap).
>
> Mike
>
> On Fri, Feb 18, 2011 at 9:24 PM, Jason Rutherglen
> <jason.rutherglen@gmail.com> wrote:
>> This could be a rhetorical question. =A0The way to find the last/max
>> term that is a unique per document is to use TermsEnum to seek to the
>> first term of a field, then call seek to the docFreq-1 for the last
>> ord, then get the term, or is there a better/faster way?
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
>
>
> --
> Mike
>
> http://blog.mikemccandless.com
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48739-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Feb 19 13:45:03 2011
Return-Path: <java-user-return-48739-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22800 invoked from network); 19 Feb 2011 13:45:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 19 Feb 2011 13:45:02 -0000
Received: (qmail 55944 invoked by uid 500); 19 Feb 2011 13:45:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55585 invoked by uid 500); 19 Feb 2011 13:44:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55577 invoked by uid 99); 19 Feb 2011 13:44:56 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 Feb 2011 13:44:56 +0000
X-ASF-Spam-Status: No, hits=3.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ee07b381@gmail.com designates 209.85.160.176 as permitted sender)
Received: from [209.85.160.176] (HELO mail-gy0-f176.google.com) (209.85.160.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 Feb 2011 13:44:49 +0000
Received: by gyf1 with SMTP id 1so2156272gyf.35
        for <java-user@lucene.apache.org>; Sat, 19 Feb 2011 05:44:29 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:from:date:message-id:subject:to
         :content-type;
        bh=XLaseEdD7o74tGQodYsNZes9yYR+Wc2kYVYlYvVUkuI=;
        b=e3KgNhhmyV0yLKLcrlUX8vkuLkGKjkX8bsI+bLu/bDL4BYxyoZIXowV7u6bMPk0/Xz
         CK0ZtG4ToeAvq+MOUV7YWdY4kwBl2+kmyZXwGhqtYTP1fGACmkxLYAAmC+tKaR8Dz2pd
         qMIh/nKTggRQEFjoC4y02rxkblICuswIzPU4o=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:from:date:message-id:subject:to:content-type;
        b=vcGdYNS6M0psUuhQyKK97ntRz1WrXt+BJG366mmzPye1RYbLArzvVG2qJZpGPaTNBv
         qLZuv1bXSKEfjNlFsR2G+W+pcAP0HOpNkUvGyRuJnN1PGTgmDgxJR6gIC/A3Uuf9e2KV
         zAna8QV7rfBHlz4VGLHd2YVbDOS4+PZ1XtfUQ=
Received: by 10.150.195.3 with SMTP id s3mr2535141ybf.274.1298123069114; Sat,
 19 Feb 2011 05:44:29 -0800 (PST)
MIME-Version: 1.0
Received: by 10.150.135.4 with HTTP; Sat, 19 Feb 2011 05:44:09 -0800 (PST)
From: Gong Li <ee07b381@gmail.com>
Date: Sat, 19 Feb 2011 21:44:09 +0800
Message-ID: <AANLkTim7qWeVM-QQQk6HXpxjh-nbRfEg65gYuYxat3TF@mail.gmail.com>
Subject: About PDF+Lucene
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=000e0cd4847068ca16049ca2d420

--000e0cd4847068ca16049ca2d420
Content-Type: text/plain; charset=ISO-8859-1

Hi,

I use PDFBOX to extract the text in the PDF and then use Lucene to index and
search. Finally, I can find the context of the keyword but in String.

Question: I need to create a new PDF which contains the context of the
keyword. The format is like the original one, but only contains the context
of the keyword. HOW???

Thanks.

--000e0cd4847068ca16049ca2d420--

From java-user-return-48740-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Feb 19 23:17:02 2011
Return-Path: <java-user-return-48740-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21972 invoked from network); 19 Feb 2011 23:17:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 19 Feb 2011 23:17:02 -0000
Received: (qmail 5693 invoked by uid 500); 19 Feb 2011 23:16:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5601 invoked by uid 500); 19 Feb 2011 23:16:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5593 invoked by uid 99); 19 Feb 2011 23:16:58 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 Feb 2011 23:16:58 +0000
X-ASF-Spam-Status: No, hits=2.8 required=5.0
	tests=FREEMAIL_FROM,FREEMAIL_REPLYTO,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of simon.willnauer@googlemail.com designates 209.85.220.176 as permitted sender)
Received: from [209.85.220.176] (HELO mail-vx0-f176.google.com) (209.85.220.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 Feb 2011 23:16:53 +0000
Received: by vxc41 with SMTP id 41so304775vxc.35
        for <java-user@lucene.apache.org>; Sat, 19 Feb 2011 15:16:33 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:mime-version:reply-to:in-reply-to:references
         :date:message-id:subject:from:to:cc:content-type;
        bh=KpyoLD0mvJtDRlWpvMJusqJdxYlHl04TEs49r9wrtWQ=;
        b=C0Fpah1oWTxB7eDY03RA0aQQ5ROWIGtnq4MKxXhu/JYCmmnZLes4RRSttHmaC2FaZD
         8QfXj3efrEy5nCDNER8lZpN4lZXBawTEO+u6IPr4hlCAXEUbZMFa5rvHjbPe5kbLRaXE
         UZJNsP1mp99kFI6lWpdjnfKwHZw4lflr4bqTw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=mime-version:reply-to:in-reply-to:references:date:message-id
         :subject:from:to:cc:content-type;
        b=up8pK5ppkUv24+B1MUOitX7S6gT+3QRpnulMbmiSqX5cskPbOZ1r27M2yUC3ty/X+0
         JXCmaIGiiylyrMrZleqU4c5lhsmfG+xQa8uQ7g0/LYXumgONVn1EwP9jZDBwqFIHJ7Tp
         c8bilH0qqhmSTMVcwwmBS/5p2OZPfVTbyR5o0=
MIME-Version: 1.0
Received: by 10.52.164.3 with SMTP id ym3mr3790881vdb.64.1298157392656; Sat,
 19 Feb 2011 15:16:32 -0800 (PST)
Received: by 10.220.200.13 with HTTP; Sat, 19 Feb 2011 15:16:32 -0800 (PST)
Reply-To: simon.willnauer@gmail.com
In-Reply-To: <AANLkTim7qWeVM-QQQk6HXpxjh-nbRfEg65gYuYxat3TF@mail.gmail.com>
References: <AANLkTim7qWeVM-QQQk6HXpxjh-nbRfEg65gYuYxat3TF@mail.gmail.com>
Date: Sun, 20 Feb 2011 00:16:32 +0100
Message-ID: <AANLkTineJAN7uTM7wG8KXhYecxH4PMyrXT0qmEB8fFfx@mail.gmail.com>
Subject: Re: About PDF+Lucene
From: Simon Willnauer <simon.willnauer@googlemail.com>
To: java-user@lucene.apache.org
Cc: Gong Li <ee07b381@gmail.com>
Content-Type: text/plain; charset=UTF-8

Hi Gong Li,

your question is out of scope of this list. It seems like you can find
your docs - this is what lucene does for you. PDF creation entirely
out of scope.

simon

On Sat, Feb 19, 2011 at 2:44 PM, Gong Li <ee07b381@gmail.com> wrote:
> Hi,
>
> I use PDFBOX to extract the text in the PDF and then use Lucene to index and
> search. Finally, I can find the context of the keyword but in String.
>
> Question: I need to create a new PDF which contains the context of the
> keyword. The format is like the original one, but only contains the context
> of the keyword. HOW???
>
> Thanks.
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48741-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Feb 19 23:17:57 2011
Return-Path: <java-user-return-48741-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22191 invoked from network); 19 Feb 2011 23:17:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 19 Feb 2011 23:17:57 -0000
Received: (qmail 9043 invoked by uid 500); 19 Feb 2011 23:17:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8857 invoked by uid 500); 19 Feb 2011 23:17:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8849 invoked by uid 99); 19 Feb 2011 23:17:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 Feb 2011 23:17:54 +0000
X-ASF-Spam-Status: No, hits=2.8 required=5.0
	tests=FREEMAIL_FROM,FREEMAIL_REPLYTO,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of simon.willnauer@googlemail.com designates 209.85.220.176 as permitted sender)
Received: from [209.85.220.176] (HELO mail-vx0-f176.google.com) (209.85.220.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 Feb 2011 23:17:49 +0000
Received: by vxc41 with SMTP id 41so305015vxc.35
        for <java-user@lucene.apache.org>; Sat, 19 Feb 2011 15:17:28 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:mime-version:reply-to:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=bWv8JrqfLSC66lrjB3aoqeNGswbkmSyfqCScikhDM8o=;
        b=t/pcW3gbV/V+XSBhyEvFnbeiK9pVhiYS6C3O+WDJm6wySZ0Q9uf7JfmQnVQT38QBhT
         j9+SrX135Crii7B+JRrmzfHgcd/127FLelp7+eqnxrji/qj39giFEVDfV22mmP3P0Kkb
         bibR43h4HypUGsik8BgK/xjJPlSw+i/0h+qEk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=mime-version:reply-to:in-reply-to:references:date:message-id
         :subject:from:to:content-type;
        b=OflE06OV4cRIrMiQU2OmkG3WJLFnHAWfEmMzdopXKl+n685wz8At1+NaGvA8Kwk9hK
         3ZTiO+A85syc8bySmoLwjH6latOLU5S0FtCZZvU5MQh4hRoIwoJuYCPlfJM3WB95zzhi
         M8EIzocOTUTgoAfT+OYs6kXyo95sk8UchDOk0=
MIME-Version: 1.0
Received: by 10.52.168.104 with SMTP id zv8mr3791038vdb.24.1298157448704; Sat,
 19 Feb 2011 15:17:28 -0800 (PST)
Received: by 10.220.200.13 with HTTP; Sat, 19 Feb 2011 15:17:28 -0800 (PST)
Reply-To: simon.willnauer@gmail.com
In-Reply-To: <AANLkTinpNBnyYSvqmZG2-dmsruJNZu_Uw-T8JNKuz+CA@mail.gmail.com>
References: <AANLkTinpNBnyYSvqmZG2-dmsruJNZu_Uw-T8JNKuz+CA@mail.gmail.com>
Date: Sun, 20 Feb 2011 00:17:28 +0100
Message-ID: <AANLkTikYSm_9sEkpGJy9TMa9rF2apmZO6ajRCGO9ic=3@mail.gmail.com>
Subject: Re: Lucene: If I have picture, table, or somthing others in the PDF
From: Simon Willnauer <simon.willnauer@googlemail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8

hi Gong Li,

your question is out of scope of this mailing list.

thanks,

simon

On Fri, Feb 18, 2011 at 7:29 PM, Gong Li <ee07b381@gmail.com> wrote:
> Hi,
>
> I am developing a PDF search engine, locally. I have used API: pdfbox and
> lucene.
>
> I must show the user the PDF page containing the keywords(if highlight, it's
> great) and sort by relevance(default in lucene). HOW???
>
> Maybe, if there are some pictures in the PDF page, how could it display to
> the user after index and search the extracted text???
>
> Thanks
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48742-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Feb 19 23:24:06 2011
Return-Path: <java-user-return-48742-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23120 invoked from network); 19 Feb 2011 23:24:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 19 Feb 2011 23:24:06 -0000
Received: (qmail 13246 invoked by uid 500); 19 Feb 2011 23:24:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13169 invoked by uid 500); 19 Feb 2011 23:24:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13161 invoked by uid 99); 19 Feb 2011 23:24:03 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 Feb 2011 23:24:03 +0000
X-ASF-Spam-Status: No, hits=2.8 required=5.0
	tests=FREEMAIL_FROM,FREEMAIL_REPLYTO,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of simon.willnauer@googlemail.com designates 209.85.220.176 as permitted sender)
Received: from [209.85.220.176] (HELO mail-vx0-f176.google.com) (209.85.220.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 Feb 2011 23:23:58 +0000
Received: by vxc41 with SMTP id 41so306560vxc.35
        for <java-user@lucene.apache.org>; Sat, 19 Feb 2011 15:23:38 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:mime-version:reply-to:in-reply-to:references
         :date:message-id:subject:from:to:cc:content-type
         :content-transfer-encoding;
        bh=gyo7s3oC0Y0JH3PquSs9N+ETdyfHKgN8BMWhfyz2Veg=;
        b=m9mxXxILkr64EvoKE6U0d7ppVYnXaivxqN9tdT36uInLCTGsnJFH7hv9eaL8b3jl2c
         TBqkxTXkcAsCM75OWEQhbOhS2ikISBsQriheDeuZVUzRUl9YL/B7P6rQuIBv4xR/H+eG
         MT3WJf0QpT8B7J+ZLnR6CRlcMRSRwCDCmiHpU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=mime-version:reply-to:in-reply-to:references:date:message-id
         :subject:from:to:cc:content-type:content-transfer-encoding;
        b=sPCzL5R1oN3xA69NH7l47Ud1I9tf3j0FWrzqSsBKwCkmqhrv3DaSO9XgJbR2/2LCMr
         /iJ4SszyhkmhhyjFN9qTMowvwxXtdn304ZRRnt1/iAHNNbv8/UyXObTorsMszmo9UJIE
         mmqStKl/RF7SRH739YqCJsduYtT4vcJqlVDok=
MIME-Version: 1.0
Received: by 10.220.182.76 with SMTP id cb12mr20083vcb.19.1298157817512; Sat,
 19 Feb 2011 15:23:37 -0800 (PST)
Received: by 10.220.200.13 with HTTP; Sat, 19 Feb 2011 15:23:37 -0800 (PST)
Reply-To: simon.willnauer@gmail.com
In-Reply-To: <AANLkTimNww=oSPZFUW=E3j22niwdx_HpuDE82nozpUN1@mail.gmail.com>
References: <AANLkTimNww=oSPZFUW=E3j22niwdx_HpuDE82nozpUN1@mail.gmail.com>
Date: Sun, 20 Feb 2011 00:23:37 +0100
Message-ID: <AANLkTimD8A+6-3oLXQbfRvqY+mmqcbLtmo=M0t5N+peb@mail.gmail.com>
Subject: Re: Splitting word tokens - other languages
From: Simon Willnauer <simon.willnauer@googlemail.com>
To: java-user@lucene.apache.org
Cc: CassUser CassUser <cassuser@gmail.com>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Hey,

I am not an expert on this but I think you should look into
CJKAnalyzer / CJKTokenizer

simon

On Thu, Feb 17, 2011 at 8:05 PM, CassUser CassUser <cassuser@gmail.com> wro=
te:
> Hey all,
>
> I'm somewhat new to Lucene. =C2=A0Meaning I used it some time ago for a p=
arser we
> wrote to tokenize a document into word grams.
>
> the approach I took was simple as follows:
>
> 1. extended the lucene Analyzer
> 2. In the tokenStream method use ShingleMatrixFilter. =C2=A0Passed in the
> standard tokenizer, and shingle min/max/splitter.
>
> This worked pretty well for us. =C2=A0Now we would like to tokenize hangu=
l/korean
> into word grams.
>
> I'm curious others have done something similar and would share their
> experience. =C2=A0Any pointers to get started with this would be great.
>
> Thanks.
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48743-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Feb 20 06:36:33 2011
Return-Path: <java-user-return-48743-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72115 invoked from network); 20 Feb 2011 06:36:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 20 Feb 2011 06:36:33 -0000
Received: (qmail 55608 invoked by uid 500); 20 Feb 2011 06:36:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55128 invoked by uid 500); 20 Feb 2011 06:36:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55118 invoked by uid 99); 20 Feb 2011 06:36:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Feb 2011 06:36:26 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of alexander.aristov@gmail.com designates 209.85.210.48 as permitted sender)
Received: from [209.85.210.48] (HELO mail-pz0-f48.google.com) (209.85.210.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Feb 2011 06:36:19 +0000
Received: by pzk28 with SMTP id 28so841839pzk.35
        for <java-user@lucene.apache.org>; Sat, 19 Feb 2011 22:35:59 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:cc:content-type;
        bh=oKpwBRG4ZRsODNKNkbgYHKGastFTGdpeTFXJAL5QGC0=;
        b=rP9t3eULZrgJx641mSt7giZLJMJXL/Q26/5di+O+iP7ZC/QAxKB5zZOVLhtuhFOzMc
         dLDmM/0onruJPTX+dv4pdbnuLwwBWbg2CxtS+saoWVzlglLPulNvuGiIzlWPmC3+J3jU
         Qf06l/hAWIm6z7l59sby8UCBcRR9aTlYWnewA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :cc:content-type;
        b=kj4v+X2SzyJbWf/kFkQbslE42fubCF0yFauyfXP0SJt4DXz+UUkqdFxBSDe/ZkKHgh
         IYmmrpfazIxeYxS3VUbE66dj7NDVmqMXSFn4ajPA3o0xVUc5ZUap4JI+U8ai5UaBvevT
         HsAsx0LA9QaCm09hds26bbZ0316CcpxyaLkWg=
Received: by 10.142.104.13 with SMTP id b13mr56910wfc.243.1298183759079; Sat,
 19 Feb 2011 22:35:59 -0800 (PST)
MIME-Version: 1.0
Received: by 10.142.230.2 with HTTP; Sat, 19 Feb 2011 22:35:39 -0800 (PST)
In-Reply-To: <AANLkTinpNBnyYSvqmZG2-dmsruJNZu_Uw-T8JNKuz+CA@mail.gmail.com>
References: <AANLkTinpNBnyYSvqmZG2-dmsruJNZu_Uw-T8JNKuz+CA@mail.gmail.com>
From: Alexander Aristov <alexander.aristov@gmail.com>
Date: Sun, 20 Feb 2011 09:35:39 +0300
Message-ID: <AANLkTim8dYbYDgjGx5JAc15bwbRdRTJ0noM18+GUFDgs@mail.gmail.com>
Subject: Re: Lucene: If I have picture, table, or somthing others in the PDF
To: java-user@lucene.apache.org
Cc: Gong Li <ee07b381@gmail.com>
Content-Type: multipart/alternative; boundary=001636e9123ad02a10049cb0f57b

--001636e9123ad02a10049cb0f57b
Content-Type: text/plain; charset=ISO-8859-1

your search engine would extract text content from a PDF file and all
markup, pictures etc would be lost. and so when you search you would get
only text, highlighted or not.


Best Regards
Alexander Aristov


On 18 February 2011 21:29, Gong Li <ee07b381@gmail.com> wrote:

> Hi,
>
> I am developing a PDF search engine, locally. I have used API: pdfbox and
> lucene.
>
> I must show the user the PDF page containing the keywords(if highlight,
> it's
> great) and sort by relevance(default in lucene). HOW???
>
> Maybe, if there are some pictures in the PDF page, how could it display to
> the user after index and search the extracted text???
>
> Thanks
>

--001636e9123ad02a10049cb0f57b--

From java-user-return-48744-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Feb 20 08:06:34 2011
Return-Path: <java-user-return-48744-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99031 invoked from network); 20 Feb 2011 08:06:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 20 Feb 2011 08:06:33 -0000
Received: (qmail 82961 invoked by uid 500); 20 Feb 2011 08:06:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82633 invoked by uid 500); 20 Feb 2011 08:06:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82624 invoked by uid 99); 20 Feb 2011 08:06:26 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Feb 2011 08:06:26 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of alexander.aristov@gmail.com designates 209.85.212.176 as permitted sender)
Received: from [209.85.212.176] (HELO mail-px0-f176.google.com) (209.85.212.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Feb 2011 08:06:19 +0000
Received: by pxi11 with SMTP id 11so7223pxi.35
        for <java-user@lucene.apache.org>; Sun, 20 Feb 2011 00:05:58 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:cc:content-type;
        bh=zUgVk9i9+AoS6wG5k+hESLD2cIb3K2pISmkkKh4J5y4=;
        b=feBzxqQOh6eyDhmIXh8vXZsq8wvbd7Juk6t4rQ+DvzRrzukYDl00lji8T8YLRCLujP
         zrD4CtlWvre42T/mNMTrPmaJ2uSB2tFyyFm+Kqx1LuAULvKoh1FBnRO0m+a1jBRSNG+O
         NhiKkxa1pNnjufuc4+Dgm+cTW+zIGNZ7mP52Q=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :cc:content-type;
        b=qoAn5hIFtKZCdloS93YfNT+zZnR8sPJu5hz9m6iZNiW48ZrdtG4gxFJFZtMBsCM2a7
         a9XMWdsxG9negklVhpAt0LYMH8S/2uDTM8DTMGTzVZ1lsSDJ1ytKP9DEVp/YZ3jUjcVr
         zps01nNBVcR8bHo+N4wuEMSWLAWgytnOz8EBA=
Received: by 10.142.192.16 with SMTP id p16mr104051wff.357.1298189158070; Sun,
 20 Feb 2011 00:05:58 -0800 (PST)
MIME-Version: 1.0
Received: by 10.142.230.2 with HTTP; Sun, 20 Feb 2011 00:05:38 -0800 (PST)
In-Reply-To: <AANLkTineJAN7uTM7wG8KXhYecxH4PMyrXT0qmEB8fFfx@mail.gmail.com>
References: <AANLkTim7qWeVM-QQQk6HXpxjh-nbRfEg65gYuYxat3TF@mail.gmail.com> <AANLkTineJAN7uTM7wG8KXhYecxH4PMyrXT0qmEB8fFfx@mail.gmail.com>
From: Alexander Aristov <alexander.aristov@gmail.com>
Date: Sun, 20 Feb 2011 11:05:38 +0300
Message-ID: <AANLkTi=HHcX6MZtA4d2tY=eJJu1A4H9qe8nh7BQ0zKxk@mail.gmail.com>
Subject: Re: About PDF+Lucene
To: java-user@lucene.apache.org, simon.willnauer@gmail.com
Cc: Simon Willnauer <simon.willnauer@googlemail.com>, Gong Li <ee07b381@gmail.com>
Content-Type: multipart/alternative; boundary=000e0cd23df49e3af0049cb237f8
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd23df49e3af0049cb237f8
Content-Type: text/plain; charset=ISO-8859-1

use PDFBOX for the purpose. It can create PDF docs. But you will have to do
it yourself.

And Gong is right, it's not write place asking such questions

Best Regards
Alexander Aristov


On 20 February 2011 02:16, Simon Willnauer
<simon.willnauer@googlemail.com>wrote:

> Hi Gong Li,
>
> your question is out of scope of this list. It seems like you can find
> your docs - this is what lucene does for you. PDF creation entirely
> out of scope.
>
> simon
>
> On Sat, Feb 19, 2011 at 2:44 PM, Gong Li <ee07b381@gmail.com> wrote:
> > Hi,
> >
> > I use PDFBOX to extract the text in the PDF and then use Lucene to index
> and
> > search. Finally, I can find the context of the keyword but in String.
> >
> > Question: I need to create a new PDF which contains the context of the
> > keyword. The format is like the original one, but only contains the
> context
> > of the keyword. HOW???
> >
> > Thanks.
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--000e0cd23df49e3af0049cb237f8--

From java-user-return-48745-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Feb 20 22:52:12 2011
Return-Path: <java-user-return-48745-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90187 invoked from network); 20 Feb 2011 22:52:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 20 Feb 2011 22:52:12 -0000
Received: (qmail 35668 invoked by uid 500); 20 Feb 2011 22:52:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35611 invoked by uid 500); 20 Feb 2011 22:52:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35603 invoked by uid 99); 20 Feb 2011 22:52:08 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Feb 2011 22:52:08 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.213.176] (HELO mail-yx0-f176.google.com) (209.85.213.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Feb 2011 22:52:03 +0000
Received: by yxd5 with SMTP id 5so1046413yxd.35
        for <java-user@lucene.apache.org>; Sun, 20 Feb 2011 14:51:42 -0800 (PST)
MIME-Version: 1.0
Received: by 10.151.105.11 with SMTP id h11mr889020ybm.85.1298242302073; Sun,
 20 Feb 2011 14:51:42 -0800 (PST)
Received: by 10.147.41.19 with HTTP; Sun, 20 Feb 2011 14:51:42 -0800 (PST)
In-Reply-To: <AANLkTimLWwzCW+xbk5AL1GdcYcAU0LtBEXk5=Ri_4sYh@mail.gmail.com>
References: <AANLkTimpKMD1dojwMB=kdJmWTuCY4BBDRUkYuZb_FgRw@mail.gmail.com>
	<AANLkTi=Wq=6eLoyRdcOkRpSZiS+nucYeiAcTqLQ5Kzn6@mail.gmail.com>
	<AANLkTimLWwzCW+xbk5AL1GdcYcAU0LtBEXk5=Ri_4sYh@mail.gmail.com>
Date: Sun, 20 Feb 2011 17:51:42 -0500
Message-ID: <AANLkTi=0jxLJFsbTuK40kRdLz60+kG3vy2=5fM5rW-ZL@mail.gmail.com>
Subject: Re: Last/max term in Lucene 4.x
From: Michael McCandless <lucene@mikemccandless.com>
To: Jason Rutherglen <jason.rutherglen@gmail.com>
Cc: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On Sat, Feb 19, 2011 at 8:42 AM, Jason Rutherglen
<jason.rutherglen@gmail.com> wrote:

>> But you have to
>> use a terms index impl that supports ord (eg FixedGap).
>
> Ok, and the VariableGap is the new standard because the FST is much
> more efficient as a terms index? =A0Perhaps I'd need to create a codec
> (or patch the existing) to automatically store the max term?

It's really easy to make a codec that eg copies Standard but swaps in
FixedGap terms index instead...

Though, if you just want to get to the last term... VarGap's terms
index can quickly tell you the last indexed term, and from there you
can scan to the last term?  (It'd be at most 32 (by default) scans).

--=20
Mike

http://blog.mikemccandless.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48746-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Feb 21 00:05:31 2011
Return-Path: <java-user-return-48746-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20526 invoked from network); 21 Feb 2011 00:05:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 21 Feb 2011 00:05:30 -0000
Received: (qmail 75285 invoked by uid 500); 21 Feb 2011 00:05:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75238 invoked by uid 500); 21 Feb 2011 00:05:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75230 invoked by uid 99); 21 Feb 2011 00:05:28 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Feb 2011 00:05:28 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of kimkokkonen@gmail.com designates 209.85.216.53 as permitted sender)
Received: from [209.85.216.53] (HELO mail-qw0-f53.google.com) (209.85.216.53)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Feb 2011 00:05:19 +0000
Received: by qwc9 with SMTP id 9so1217255qwc.12
        for <java-user@lucene.apache.org>; Sun, 20 Feb 2011 16:04:58 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=11D2vHIwfOzN4mtoF+cjbkkJ19nCKPk67yhFoX/o4K0=;
        b=tgNkKte3UrwClFNoSc/cPOkPML6upb40tcn5OL6YRrtQFwVuPD7NTK4L1hnqBQiwDI
         9YgJSP4KtCTNBpoXKFsUtiBvBqTtJE/tMoF8yODY59MAggffsMMVY5OQfonlxghQkd9q
         nwO+fD814L0gNCYIbs+MV/5b7PRiIs5Fsp5s8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=RE/+knnVORctX4meZas3ZZ7O6V5JQpKBdwY/HXEW2f3hTWz0zYRd8KgqSjzpu5ZxXJ
         akn7uUQiROrL9lOqjvnCn+PB3H3xYv/XBPsqCQzj0+ib00BpobPjCxokW3LTVL4/0E54
         Ocua3QiG5GQ8PvmxBHIMaEpQpDBairqiIghIw=
MIME-Version: 1.0
Received: by 10.224.89.6 with SMTP id c6mr579007qam.206.1298246698866; Sun, 20
 Feb 2011 16:04:58 -0800 (PST)
Received: by 10.229.106.222 with HTTP; Sun, 20 Feb 2011 16:04:58 -0800 (PST)
Date: Sun, 20 Feb 2011 17:04:58 -0700
Message-ID: <AANLkTiniYKAQNzgvbPRVvvgfjyoKQNKY9YeH6U4VbLdg@mail.gmail.com>
Subject: encodeNormValue
From: Kim Kokkonen <kimkokkonen@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0015175cae90511a09049cbf9d3b
X-Virus-Checked: Checked by ClamAV on apache.org

--0015175cae90511a09049cbf9d3b
Content-Type: text/plain; charset=ISO-8859-1

Hi. I'd like to take advantage of the overrideable encodeNormValue method in
Similarity. From revision history it looks like this change was checked in
on 11/24/09, and that a Branch for 3.x was created after that. But when I
look in Lucene 3.0.3, apparently released on 11/28/10, the method is not
there. Is there an official release where I would find it?

Thanks,
Kim

--0015175cae90511a09049cbf9d3b--

From java-user-return-48747-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Feb 21 01:48:27 2011
Return-Path: <java-user-return-48747-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57913 invoked from network); 21 Feb 2011 01:48:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 21 Feb 2011 01:48:27 -0000
Received: (qmail 31964 invoked by uid 500); 21 Feb 2011 01:48:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31856 invoked by uid 500); 21 Feb 2011 01:48:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31848 invoked by uid 99); 21 Feb 2011 01:48:24 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Feb 2011 01:48:24 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jason.rutherglen@gmail.com designates 209.85.216.169 as permitted sender)
Received: from [209.85.216.169] (HELO mail-qy0-f169.google.com) (209.85.216.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Feb 2011 01:48:17 +0000
Received: by qyk2 with SMTP id 2so1625609qyk.14
        for <java-user@lucene.apache.org>; Sun, 20 Feb 2011 17:47:57 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type:content-transfer-encoding;
        bh=oObUDva3guOHJG+pRFLobzivP8qTBf7jzpZJBcn/CIE=;
        b=VHWN+/K4MYPZOmoM8PdkGP+oErAD2UgMLSPkCHGsVgPsY81KJGe+oSVKMLkwOBLhl5
         oykiL0h66r5yTEzGKLqlz2uyMXrEMhKnrrALBjbumLeyh5S9RHeCOaVCzYVRnP5oUaGJ
         R29iLClGOoj+TNjtooeuyA1ZG1W0beapzfYTg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=VcD+NWCrDTRbzTrlApvnMzzZP7A3Du5miJLULc+z+MfTMSnxUsn7nHl8nPaMH2hTBG
         sQGPJj4FCCpxpY4m40v6UQHp39WVbgySCL6Kao+A3CxdSx3uE4sW9bEigPCRS+kAdOFF
         GHbQ1mNNNaLry90Dl6QAN0KeBbYEEzav5CeB0=
MIME-Version: 1.0
Received: by 10.229.189.4 with SMTP id dc4mr555108qcb.173.1298252876210; Sun,
 20 Feb 2011 17:47:56 -0800 (PST)
Received: by 10.229.65.198 with HTTP; Sun, 20 Feb 2011 17:47:56 -0800 (PST)
In-Reply-To: <AANLkTi=0jxLJFsbTuK40kRdLz60+kG3vy2=5fM5rW-ZL@mail.gmail.com>
References: <AANLkTimpKMD1dojwMB=kdJmWTuCY4BBDRUkYuZb_FgRw@mail.gmail.com>
	<AANLkTi=Wq=6eLoyRdcOkRpSZiS+nucYeiAcTqLQ5Kzn6@mail.gmail.com>
	<AANLkTimLWwzCW+xbk5AL1GdcYcAU0LtBEXk5=Ri_4sYh@mail.gmail.com>
	<AANLkTi=0jxLJFsbTuK40kRdLz60+kG3vy2=5fM5rW-ZL@mail.gmail.com>
Date: Sun, 20 Feb 2011 17:47:56 -0800
Message-ID: <AANLkTikdLsmqHjKd6fUyXBe4i_6Rti70PcGG2qCMryUs@mail.gmail.com>
Subject: Re: Last/max term in Lucene 4.x
From: Jason Rutherglen <jason.rutherglen@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

> Though, if you just want to get to the last term... VarGap's terms
> index can quickly tell you the last indexed term, and from there you
> can scan to the last term?  (It'd be at most 32 (by default) scans).

In VariableGapTermsIndexReader, IndexEnum doesn't support ord.  How
would I seek to the last term in the index using VarGaps?  Or do I
need to interact directly with the FST class (and if so I'm not sure
what to do there either).

Thanks Mike.

On Sun, Feb 20, 2011 at 2:51 PM, Michael McCandless
<lucene@mikemccandless.com> wrote:
> On Sat, Feb 19, 2011 at 8:42 AM, Jason Rutherglen
> <jason.rutherglen@gmail.com> wrote:
>
>>> But you have to
>>> use a terms index impl that supports ord (eg FixedGap).
>>
>> Ok, and the VariableGap is the new standard because the FST is much
>> more efficient as a terms index? =A0Perhaps I'd need to create a codec
>> (or patch the existing) to automatically store the max term?
>
> It's really easy to make a codec that eg copies Standard but swaps in
> FixedGap terms index instead...
>
> Though, if you just want to get to the last term... VarGap's terms
> index can quickly tell you the last indexed term, and from there you
> can scan to the last term? =A0(It'd be at most 32 (by default) scans).
>
> --
> Mike
>
> http://blog.mikemccandless.com
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48748-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Feb 21 08:15:59 2011
Return-Path: <java-user-return-48748-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17238 invoked from network); 21 Feb 2011 08:15:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 21 Feb 2011 08:15:59 -0000
Received: (qmail 47597 invoked by uid 500); 21 Feb 2011 08:15:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47124 invoked by uid 500); 21 Feb 2011 08:15:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47112 invoked by uid 99); 21 Feb 2011 08:15:52 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Feb 2011 08:15:52 +0000
X-ASF-Spam-Status: No, hits=2.8 required=5.0
	tests=FREEMAIL_FROM,FREEMAIL_REPLYTO,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_PASS,T_FRT_COCK,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of simon.willnauer@googlemail.com designates 209.85.220.176 as permitted sender)
Received: from [209.85.220.176] (HELO mail-vx0-f176.google.com) (209.85.220.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Feb 2011 08:15:45 +0000
Received: by vxc41 with SMTP id 41so877959vxc.35
        for <java-user@lucene.apache.org>; Mon, 21 Feb 2011 00:15:24 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:mime-version:reply-to:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=U0YsjH2/ltaMb32iKo0EA4sEiPFWXgPDUgeQz4Pi274=;
        b=FN7RCzW0Uf+zBHK+ppbvjxk8hjX0qnSDRUiLOpiNokYFYa08aqE/3okUA8YXxCj+Cw
         +ht8Eyct1T5BfUg4zVpy7iQbIrtGmcMDn/L7GVFxNQf6zMugewcBFDq1OGS3fnXBdZQa
         h/6f/Q/E2/U8KYZoiYPippYbKUudv6z4HQ52k=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=mime-version:reply-to:in-reply-to:references:date:message-id
         :subject:from:to:content-type;
        b=Y7rpHD6drjxDyOUXuFy2cAVoX7Krtbekn8HC6bvEWjVm9O5nSCLGmgSQIf8HWWvdBR
         d0/Br90vn89BpDoGblHjtNyashEXLYXQybvsQU+x81D1sVdwiaSXO3TadDTW1oUV2x03
         DWdwj6dFkT7D9CiGZjfGWSLRwU/OrYEX8xO10=
MIME-Version: 1.0
Received: by 10.52.168.104 with SMTP id zv8mr1379256vdb.24.1298276124311; Mon,
 21 Feb 2011 00:15:24 -0800 (PST)
Received: by 10.220.200.13 with HTTP; Mon, 21 Feb 2011 00:15:24 -0800 (PST)
Reply-To: simon.willnauer@gmail.com
In-Reply-To: <AANLkTiniYKAQNzgvbPRVvvgfjyoKQNKY9YeH6U4VbLdg@mail.gmail.com>
References: <AANLkTiniYKAQNzgvbPRVvvgfjyoKQNKY9YeH6U4VbLdg@mail.gmail.com>
Date: Mon, 21 Feb 2011 09:15:24 +0100
Message-ID: <AANLkTikQx8yhFphN1sEj-CUs=J+mfzQ5Sa+RK9wgwyZg@mail.gmail.com>
Subject: Re: encodeNormValue
From: Simon Willnauer <simon.willnauer@googlemail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Kim,

Bad news, branch_3x has not been released yet! Good news, we are about
to release 3_x in the very near future. Branch is already in a code
freeze status so the release might happen very soon though (next 2
weeks I hope / guess). You can follow the dev@lucene.apache.org if you
are interested in the status. Once the release is out we will announce
on the user list too.

simon

On Mon, Feb 21, 2011 at 1:04 AM, Kim Kokkonen <kimkokkonen@gmail.com> wrote:
> Hi. I'd like to take advantage of the overrideable encodeNormValue method in
> Similarity. From revision history it looks like this change was checked in
> on 11/24/09, and that a Branch for 3.x was created after that. But when I
> look in Lucene 3.0.3, apparently released on 11/28/10, the method is not
> there. Is there an official release where I would find it?
>
> Thanks,
> Kim
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48749-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Feb 21 08:39:54 2011
Return-Path: <java-user-return-48749-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20940 invoked from network); 21 Feb 2011 08:39:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 21 Feb 2011 08:39:53 -0000
Received: (qmail 68365 invoked by uid 500); 21 Feb 2011 08:39:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67946 invoked by uid 500); 21 Feb 2011 08:39:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67937 invoked by uid 99); 21 Feb 2011 08:39:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Feb 2011 08:39:47 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [141.26.64.15] (HELO deliver.uni-koblenz.de) (141.26.64.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Feb 2011 08:39:39 +0000
X-CHKRCPT: Envelopesender vrfy david@uni-koblenz.de
Received: from [192.168.1.101] (trir-4d0d80a6.pool.mediaWays.net [77.13.128.166])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by deliver.uni-koblenz.de (Postfix) with ESMTP id 6BE8C7816F88
	for <java-user@lucene.apache.org>; Mon, 21 Feb 2011 09:39:18 +0100 (CET)
From: David Saile <david@uni-koblenz.de>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Subject: ParallelReader
Date: Mon, 21 Feb 2011 09:39:17 +0100
Message-Id: <58408B86-BE1E-40DF-A0C8-466EBAA3721B@uni-koblenz.de>
To: java-user@lucene.apache.org
Mime-Version: 1.0 (Apple Message framework v1082)
X-Mailer: Apple Mail (2.1082)

Hello everybody,

I was wondering, if someone could point me to what I need to be aware =
of, using a ParallelReader.

My intention is to modify Nutch (http://nutch.apache.org/) in a way, =
that in the Lucene-index Nutch uses, only documents for changed websites =
are updated.=20

However, due to the existing scoring-algorithms, most page's page-score =
will change. After doing some research about updating single fields in a =
Lucene-index, I found =
http://wiki.apache.org/lucene-java/ParallelIncrementalIndexing
This brought me to the idea, to create a separate index for the =
page-scores.=20

Are there maybe any other approaches around, that I overlooked? What do =
I need to be aware of, when using two parallel indices?


Thanks for any help!

David

=20


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48750-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Feb 21 08:53:57 2011
Return-Path: <java-user-return-48750-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23454 invoked from network); 21 Feb 2011 08:53:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 21 Feb 2011 08:53:56 -0000
Received: (qmail 81786 invoked by uid 500); 21 Feb 2011 08:53:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81388 invoked by uid 500); 21 Feb 2011 08:53:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81379 invoked by uid 99); 21 Feb 2011 08:53:50 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Feb 2011 08:53:50 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Feb 2011 08:53:44 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id DDD6045F821
	for <java-user@lucene.apache.org>; Mon, 21 Feb 2011 09:53:21 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id NIk0cunvgSVh for <java-user@lucene.apache.org>;
	Mon, 21 Feb 2011 09:53:06 +0100 (CET)
Received: from VEGA (WDC-MARE.marum.de [134.102.249.78])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id 16CD445F19B
	for <java-user@lucene.apache.org>; Mon, 21 Feb 2011 09:53:02 +0100 (CET)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <58408B86-BE1E-40DF-A0C8-466EBAA3721B@uni-koblenz.de>
In-Reply-To: <58408B86-BE1E-40DF-A0C8-466EBAA3721B@uni-koblenz.de>
Subject: RE: ParallelReader
Date: Mon, 21 Feb 2011 09:53:52 +0100
Message-ID: <000a01cbd1a4$dfbfc5c0$9f3f5140$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQJbHPGOTOJWyZ9bGMvF74f6pQvn+pLtDqrg
Content-Language: de

Hi David,

With current Lucene versions, the usage of ParallelReader is very
complicated to keep in sync. The problem is how merges occur. For
ParallelReader to work, all internal document ids (the integers) must be
parallel. As the new MergePolicies now work on size of documents and also
may work concurrent, it's almost impossible to have all merges also done in
parallel s internal doc ids keep the same, so ParallelReader, as it is, is
currently only working with carefully optimized indexes. Also it is not
really useable for your usecase at the moment.

There are approaches in Lucene trunk to support updateable fields (so called
parallel indexing), but this is not yet working. Please search in JIRA for
corresponding issues.

-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de

> -----Original Message-----
> From: David Saile [mailto:david@uni-koblenz.de]
> Sent: Monday, February 21, 2011 9:39 AM
> To: java-user@lucene.apache.org
> Subject: ParallelReader
> 
> Hello everybody,
> 
> I was wondering, if someone could point me to what I need to be aware of,
> using a ParallelReader.
> 
> My intention is to modify Nutch (http://nutch.apache.org/) in a way, that
in
> the Lucene-index Nutch uses, only documents for changed websites are
> updated.
> 
> However, due to the existing scoring-algorithms, most page's page-score
will
> change. After doing some research about updating single fields in a
Lucene-
> index, I found http://wiki.apache.org/lucene-
> java/ParallelIncrementalIndexing
> This brought me to the idea, to create a separate index for the
page-scores.
> 
> Are there maybe any other approaches around, that I overlooked? What do I
> need to be aware of, when using two parallel indices?
> 
> 
> Thanks for any help!
> 
> David
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48751-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Feb 21 10:28:36 2011
Return-Path: <java-user-return-48751-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67791 invoked from network); 21 Feb 2011 10:28:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 21 Feb 2011 10:28:35 -0000
Received: (qmail 89520 invoked by uid 500); 21 Feb 2011 10:28:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89113 invoked by uid 500); 21 Feb 2011 10:28:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89093 invoked by uid 99); 21 Feb 2011 10:28:28 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Feb 2011 10:28:28 +0000
X-ASF-Spam-Status: No, hits=0.2 required=5.0
	tests=ASF_LIST_OPS,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [182.71.53.3] (HELO mail.otssolutions.com) (182.71.53.3)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Feb 2011 10:28:22 +0000
Received: from MAIL.otssolutions.com ([fe80::204d:b7bb:ceb3:c049]) by
 MAIL.otssolutions.com ([fe80::204d:b7bb:ceb3:c049%11]) with mapi; Mon, 21 Feb
 2011 15:56:55 +0530
From: Ranjit Kumar <Ranjit.Kumar@otssolutions.com>
To: "java-user-help@lucene.apache.org" <java-user-help@lucene.apache.org>,
	"java-user@lucene.apache.org" <java-user@lucene.apache.org>
Subject: Re: lucene3.0.3 | get correct document in case of multiple Boolean
 query in search criteria
Thread-Topic: Re: lucene3.0.3 | get correct document in case of multiple
 Boolean query in search criteria
Thread-Index: AcvRsd8cFmuR4f1VQpOCrdO1iawnkQ==
Date: Mon, 21 Feb 2011 10:26:59 +0000
Message-ID: <AD21521D44870544AC66F4FDFC0A474C3B74CE79@MAIL.otssolutions.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: multipart/alternative;
	boundary="_000_AD21521D44870544AC66F4FDFC0A474C3B74CE79MAILotssolution_"
MIME-Version: 1.0

--_000_AD21521D44870544AC66F4FDFC0A474C3B74CE79MAILotssolution_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi Ian;

As you told we can use explicitly specify ANDs and ORs operator set parser.=
 Otherwise we can use default parser to get hit(document) which is ORs. Do =
not gives correct hit(document)!!!

My question is that, Is there any parser we can use in case of multiple Boo=
lean clause in search string?

If not? Please suggest me how to get correct hit(document).



Your suggestion will be very helpful for me.

Thanks & Regards,
Ranjit Kumar

=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D Pr=
ivate, Confidential and Privileged. This e-mail and any files and attachmen=
ts transmitted with it are confidential and/or privileged. They are intende=
d solely for the use of the intended recipient. The content of this e-mail =
and any file or attachment transmitted with it may have been changed or alt=
ered without the consent of the author. If you are not the intended recipie=
nt, please note that any review, dissemination, disclosure, alteration, pri=
nting, circulation or Transmission of this e-mail and/or any file or attach=
ment transmitted with it, is prohibited and may be unlawful. If you have re=
ceived this e-mail or any file or attachment transmitted with it in error p=
lease notify OTS Solutions at info@otssolutions.com =3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D

--_000_AD21521D44870544AC66F4FDFC0A474C3B74CE79MAILotssolution_--

From java-user-return-48752-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Feb 21 13:32:31 2011
Return-Path: <java-user-return-48752-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55384 invoked from network); 21 Feb 2011 13:32:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 21 Feb 2011 13:32:30 -0000
Received: (qmail 19824 invoked by uid 500); 21 Feb 2011 13:32:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19343 invoked by uid 500); 21 Feb 2011 13:32:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19335 invoked by uid 99); 21 Feb 2011 13:32:24 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Feb 2011 13:32:24 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [74.125.83.46] (HELO mail-gw0-f46.google.com) (74.125.83.46)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Feb 2011 13:32:17 +0000
Received: by gwj20 with SMTP id 20so595286gwj.5
        for <java-user@lucene.apache.org>; Mon, 21 Feb 2011 05:31:54 -0800 (PST)
MIME-Version: 1.0
Received: by 10.150.73.35 with SMTP id v35mr1733231yba.22.1298295114575; Mon,
 21 Feb 2011 05:31:54 -0800 (PST)
Received: by 10.147.39.19 with HTTP; Mon, 21 Feb 2011 05:31:54 -0800 (PST)
In-Reply-To: <AANLkTikdLsmqHjKd6fUyXBe4i_6Rti70PcGG2qCMryUs@mail.gmail.com>
References: <AANLkTimpKMD1dojwMB=kdJmWTuCY4BBDRUkYuZb_FgRw@mail.gmail.com>
	<AANLkTi=Wq=6eLoyRdcOkRpSZiS+nucYeiAcTqLQ5Kzn6@mail.gmail.com>
	<AANLkTimLWwzCW+xbk5AL1GdcYcAU0LtBEXk5=Ri_4sYh@mail.gmail.com>
	<AANLkTi=0jxLJFsbTuK40kRdLz60+kG3vy2=5fM5rW-ZL@mail.gmail.com>
	<AANLkTikdLsmqHjKd6fUyXBe4i_6Rti70PcGG2qCMryUs@mail.gmail.com>
Date: Mon, 21 Feb 2011 08:31:54 -0500
Message-ID: <AANLkTinPsbGVp6q72kTKA79a-g4SC3S7Ch8vJHLa3+p3@mail.gmail.com>
Subject: Re: Last/max term in Lucene 4.x
From: Michael McCandless <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Cc: Jason Rutherglen <jason.rutherglen@gmail.com>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On Sun, Feb 20, 2011 at 8:47 PM, Jason Rutherglen
<jason.rutherglen@gmail.com> wrote:
>> Though, if you just want to get to the last term... VarGap's terms
>> index can quickly tell you the last indexed term, and from there you
>> can scan to the last term? =A0(It'd be at most 32 (by default) scans).
>
> In VariableGapTermsIndexReader, IndexEnum doesn't support ord. =A0How
> would I seek to the last term in the index using VarGaps? =A0Or do I
> need to interact directly with the FST class (and if so I'm not sure
> what to do there either).

Right, you'd have to work directly w/ the FSTEnum (ie, code changes).
The FSTEnum "feels" like a TreeMap, so, you can eg seekFloor to eg
0xffffffff, get the term, seek the TermsEnum there, then .next() until
you hit the end.

Maybe we need a seekFloor in the TermsEnum?  (What we have now is
really seekCeil).  But, what's the larger use case here..?

Mike

--=20
Mike

http://blog.mikemccandless.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48753-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Feb 21 16:05:00 2011
Return-Path: <java-user-return-48753-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18453 invoked from network); 21 Feb 2011 16:05:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 21 Feb 2011 16:05:00 -0000
Received: (qmail 43439 invoked by uid 500); 21 Feb 2011 16:04:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42908 invoked by uid 500); 21 Feb 2011 16:04:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42889 invoked by uid 99); 21 Feb 2011 16:04:52 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Feb 2011 16:04:52 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_FRT_COCK,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of kimkokkonen@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Feb 2011 16:04:45 +0000
Received: by qwd6 with SMTP id 6so1075990qwd.35
        for <java-user@lucene.apache.org>; Mon, 21 Feb 2011 08:04:24 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=ex5jjicap8J3TdLnMXSlgPtbig1aRHF+E2omNsevjFY=;
        b=xbcGj44TMGnkbanWH6IQkhD8cVpw/r3iCyJpCSY42l/g+i/5jAsWFYQejfyYOweHlu
         wIE9pe0drHwsxxx+7tJTBEob8BHXu3oQYBkdL3P+9PZUubNiS2CTj1CEuY33HWWuxQz3
         8CjeQLA6KFL6otjzpbnO0uUSPXzrTYf/rEVdc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=dZy8IbQTgBnBaKAr/y/BxDkyyfKYQQj0rrgZu+BCyalOHw2Y0BQTrLgAzrh364SIZJ
         iP2B/2t2/k09BbagNEJJuL0Ox3gPqb0mqiaELwCMsiXrNXe1tGKDBkxkIUc/CCjwo5t/
         9kv9NKmZYC8Iwa1gHnqfimYel+uzPRNXuLSgU=
MIME-Version: 1.0
Received: by 10.229.183.67 with SMTP id cf3mr1099701qcb.279.1298304264592;
 Mon, 21 Feb 2011 08:04:24 -0800 (PST)
Received: by 10.229.106.222 with HTTP; Mon, 21 Feb 2011 08:04:24 -0800 (PST)
In-Reply-To: <AANLkTikQx8yhFphN1sEj-CUs=J+mfzQ5Sa+RK9wgwyZg@mail.gmail.com>
References: <AANLkTiniYKAQNzgvbPRVvvgfjyoKQNKY9YeH6U4VbLdg@mail.gmail.com>
	<AANLkTikQx8yhFphN1sEj-CUs=J+mfzQ5Sa+RK9wgwyZg@mail.gmail.com>
Date: Mon, 21 Feb 2011 09:04:24 -0700
Message-ID: <AANLkTimZqErdLVAmxBSk7KLBzFAfXhJ8rdtORu0j2Rgp@mail.gmail.com>
Subject: Re: encodeNormValue
From: Kim Kokkonen <kimkokkonen@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016362844aa805bb3049ccd04f1
X-Virus-Checked: Checked by ClamAV on apache.org

--0016362844aa805bb3049ccd04f1
Content-Type: text/plain; charset=ISO-8859-1

Thanks for the good news, Simon. That kind of timing will work for my
project.

Kim

On Mon, Feb 21, 2011 at 1:15 AM, Simon Willnauer <
simon.willnauer@googlemail.com> wrote:

> Hi Kim,
>
> Bad news, branch_3x has not been released yet! Good news, we are about
> to release 3_x in the very near future. Branch is already in a code
> freeze status so the release might happen very soon though (next 2
> weeks I hope / guess). You can follow the dev@lucene.apache.org if you
> are interested in the status. Once the release is out we will announce
> on the user list too.
>
> simon
>
> On Mon, Feb 21, 2011 at 1:04 AM, Kim Kokkonen <kimkokkonen@gmail.com>
> wrote:
> > Hi. I'd like to take advantage of the overrideable encodeNormValue method
> in
> > Similarity. From revision history it looks like this change was checked
> in
> > on 11/24/09, and that a Branch for 3.x was created after that. But when I
> > look in Lucene 3.0.3, apparently released on 11/28/10, the method is not
> > there. Is there an official release where I would find it?
> >
> > Thanks,
> > Kim
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--0016362844aa805bb3049ccd04f1--

From java-user-return-48754-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Feb 21 16:05:56 2011
Return-Path: <java-user-return-48754-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26844 invoked from network); 21 Feb 2011 16:05:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 21 Feb 2011 16:05:55 -0000
Received: (qmail 45299 invoked by uid 500); 21 Feb 2011 16:05:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45096 invoked by uid 500); 21 Feb 2011 16:05:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45085 invoked by uid 99); 21 Feb 2011 16:05:50 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Feb 2011 16:05:50 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [212.243.6.182] (HELO mail.mysigninternational.com) (212.243.6.182)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Feb 2011 16:05:44 +0000
Received: from localhost (localhost [127.0.0.1])
	by mail.mysigninternational.com (Postfix) with ESMTP id 76C32C2185
	for <java-user@lucene.apache.org>; Mon, 21 Feb 2011 17:05:23 +0100 (CET)
Received: from mail.mysigninternational.com ([127.0.0.1])
	by localhost (mysign-postfix1.INTERNET [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id MVUjV7cLMQLm for <java-user@lucene.apache.org>;
	Mon, 21 Feb 2011 17:05:23 +0100 (CET)
Received: from Exchange2007.mysigndomain.corp (unknown [192.168.13.8])
	by mail.mysigninternational.com (Postfix) with ESMTP id 5A19CC217E
	for <java-user@lucene.apache.org>; Mon, 21 Feb 2011 17:05:23 +0100 (CET)
Received: from Exchange2007.mysigndomain.corp ([fe80::b93b:88fd:f694:bc31]) by
 Exchange2007.mysigndomain.corp ([fe80::b93b:88fd:f694:bc31%10]) with mapi;
 Mon, 21 Feb 2011 17:05:23 +0100
From: Clemens Wyss <clemensdev@mysign.ch>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Mon, 21 Feb 2011 17:05:22 +0100
Subject: Suggest search terms
Thread-Topic: Suggest search terms
Thread-Index: AcvR4SPjnPil7ps3QRGpNW/NOH/C1g==
Message-ID: <E594BA962D832C49A3CF858DAA3A696C11356923F5@Exchange2007.mysigndomain.corp>
Accept-Language: de-DE, de-CH
Content-Language: de-DE
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: de-DE, de-CH
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

I'd like to suggest search terms to my users. My na=EFve approach would hav=
e been:
After at least n characters have been typed (asynchronously) find terms in =
IndexReader.terms()  which "match"

Is there a (even) more straight forward (and possible faster) approach to g=
et "search term suggestions"?
Could/Should the terms "per se" be indexed in an own index?
Isn't this a common desire, hence shouldn't/doesn't Lucene support this out=
-oif-the-box? --> Collection<String> IndexReader.termsMatching(String term)

Hope to get some real-life feedback

Thx in advance
Clemens

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48755-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Feb 21 18:15:47 2011
Return-Path: <java-user-return-48755-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82098 invoked from network); 21 Feb 2011 18:15:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 21 Feb 2011 18:15:47 -0000
Received: (qmail 26862 invoked by uid 500); 21 Feb 2011 18:15:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26352 invoked by uid 500); 21 Feb 2011 18:15:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26344 invoked by uid 99); 21 Feb 2011 18:15:41 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Feb 2011 18:15:41 +0000
X-ASF-Spam-Status: No, hits=2.9 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [66.94.239.42] (HELO web130122.mail.mud.yahoo.com) (66.94.239.42)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 21 Feb 2011 18:15:34 +0000
Received: (qmail 77165 invoked by uid 60001); 21 Feb 2011 18:15:10 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com.ar; s=s1024; t=1298312110; bh=kf6OckrMUcVuaI5WENY1YXr1+fUytEGEP6iBcAOzqdU=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=MAkV+QT/Afbqxl8YIvXnwYJ6Lbipg9JnJw41QRZ3UZKmYQvi5HTk7sVNq7Lgiu7vJ98ObkI9fhoHPTI8FLkVexfWrF0NnA7M/Wvn5ky0T1Sp2SlRlSVqCx9X5wy8RuEx4jiVPtkDGE54xwdeoGDxtVD+5V5JKmjB3at47HZQEcE=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com.ar;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=5/42HUwfsJIffPK8Udidzh7DoT+hYyPGbbPJn05Zbxpz3CjPyfLNTMqdGwCG1APJhxRi3jhnAHvXxNZ9b1bJzoTTazPcyD59x2YEOl6zKSBsgCRx+mp+3jE0d9PkdLyiizZ/VqovHSozEXT4+404D2Z58QL+U/KpGJi8e2juYQM=;
Message-ID: <916746.76928.qm@web130122.mail.mud.yahoo.com>
X-YMail-OSG: 3yQHcoAVM1nsAlHKJd4bJS9s0uDhuJziy5PcgQBEpqDah9N
 o0Pel69FBBMB2pThSWz4K6.SW8l_Cs7e7TCtdAavMZh3umIL.JY87.qbZg1O
 o2XzuMdrVphXANpRKAGFmQ9jiNL9X.Uq25oWLJwHY47S0IqQrQdN1Inyd.F5
 aLp2I9ZQo5TysXWMimpWlUCRqCQ2rnak7gBfeFUr1GF4H2w87pJYRS3GRbmd
 nt81I2DqGmHH_wFa4.Uf4TfG5qklEpeW.BMca_3Kf7iGZqb9GJNDg2q5Ri3A
 n6F.3KPT8vNePrDn943FDg1I1whcfgYGzoDuFygLv8f5gR4.a6qGCOrEhLQx
 9jc_V4Q4tlOvvmTHAmxkjCyd0LAk919tYC8jp2YSxDbfsvFy7pAt1inZ_W2Q
 SSgOjjXo7k4j28A--
Received: from [190.220.136.250] by web130122.mail.mud.yahoo.com via HTTP; Mon, 21 Feb 2011 10:15:10 PST
X-Mailer: YahooMailRC/555 YahooMailWebService/0.8.109.292656
References: <E594BA962D832C49A3CF858DAA3A696C11356923F5@Exchange2007.mysigndomain.corp>
Date: Mon, 21 Feb 2011 10:15:10 -0800 (PST)
From: Fernando Wasylyszyn <ferwasy@yahoo.com.ar>
Subject: Re: Suggest search terms
To: java-user@lucene.apache.org, clemensdev@mysign.ch
In-Reply-To: <E594BA962D832C49A3CF858DAA3A696C11356923F5@Exchange2007.mysigndomain.corp>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-441346985-1298312110=:76928"
X-Virus-Checked: Checked by ClamAV on apache.org

--0-441346985-1298312110=:76928
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Hello Clemens: a short time ago, I 've faced the same exact problem. Using =
=0AApache Solr I built a "suggest" index as a complete separated index, whi=
ch =0Aindexes all the possible terms for suggest (terms that come from the =
documents =0Ato be indexed, using n-grams from a minimum to a maximum numbe=
r of characters.=0A=0AFor example: if "ferrari" is a valid term for suggest=
, then it will be indexed =0Aas the following (each n-gram is a term in the=
 index):=0A=0Af=0Afe=0Afer=0Aferr=0Aferra=0Aferrar=0Aferrari=0A=0AOf course=
, the minimum and maximum number of ngrams should be customized in =0Aorder=
 to not make the index bigger. For example, you start indexing starting at =
=0Athe first threee characters:=0A=0Afer=0Aferr=0Aferra=0Aferrar=0Aferrari.=
=0A=0AThe token filter that I used for this is:=0A=0A=0Aorg.apache.lucene.a=
nalysis.ngram.EdgeNGramTokenFilter=0A=0ATake a look to that class.=0ARegard=
s.=0AFernando.=0A=0A=0A=0A=0A=0A________________________________=0ADe: Clem=
ens Wyss <clemensdev@mysign.ch>=0APara: "java-user@lucene.apache.org" <java=
-user@lucene.apache.org>=0AEnviado: lunes, 21 de febrero, 2011 13:05:22=0AA=
sunto: Suggest search terms=0A=0AI'd like to suggest search terms to my use=
rs. My na=EFve approach would have been:=0AAfter at least n characters have=
 been typed (asynchronously) find terms in =0AIndexReader.terms()  which "m=
atch"=0A=0AIs there a (even) more straight forward (and possible faster) ap=
proach to get =0A"search term suggestions"?=0ACould/Should the terms "per s=
e" be indexed in an own index?=0AIsn't this a common desire, hence shouldn'=
t/doesn't Lucene support this =0Aout-oif-the-box? --> Collection<String> In=
dexReader.termsMatching(String term)=0A=0AHope to get some real-life feedba=
ck=0A=0AThx in advance=0AClemens=0A=0A-------------------------------------=
--------------------------------=0ATo unsubscribe, e-mail: java-user-unsubs=
cribe@lucene.apache.org=0AFor additional commands, e-mail: java-user-help@l=
ucene.apache.org=0A=0A=0A      
--0-441346985-1298312110=:76928--

From java-user-return-48756-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Feb 21 18:29:48 2011
Return-Path: <java-user-return-48756-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92172 invoked from network); 21 Feb 2011 18:29:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 21 Feb 2011 18:29:47 -0000
Received: (qmail 54516 invoked by uid 500); 21 Feb 2011 18:29:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54112 invoked by uid 500); 21 Feb 2011 18:29:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54104 invoked by uid 99); 21 Feb 2011 18:29:42 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Feb 2011 18:29:42 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Feb 2011 18:29:33 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id 2FADB45F8CA
	for <java-user@lucene.apache.org>; Mon, 21 Feb 2011 19:29:10 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id W68lNryGPWQV for <java-user@lucene.apache.org>;
	Mon, 21 Feb 2011 19:28:45 +0100 (CET)
Received: from VEGA (port-92-196-95-211.dynamic.qsc.de [92.196.95.211])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id 13E1745F8BB
	for <java-user@lucene.apache.org>; Mon, 21 Feb 2011 19:28:45 +0100 (CET)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <E594BA962D832C49A3CF858DAA3A696C11356923F5@Exchange2007.mysigndomain.corp>
In-Reply-To: <E594BA962D832C49A3CF858DAA3A696C11356923F5@Exchange2007.mysigndomain.corp>
Subject: RE: Suggest search terms
Date: Mon, 21 Feb 2011 19:29:35 +0100
Message-ID: <002e01cbd1f5$4accf590$e066e0b0$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQGJoWJKmqH70DMXoZWXKVUGzAkVR5SQppBw
Content-Language: de
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

I just have a suggestion to your first idea of enumerating terms, which =
is
very fast if done right:

> I'd like to suggest search terms to my users. My na=EFve approach =
would have
> been:
> After at least n characters have been typed (asynchronously) find =
terms in
> IndexReader.terms()  which "match"

Much easier is to use IR.terms() but wrap a PrefixTermEnum around it =
(it's
in search package). Then you simply iterate (please don't forget that =
the
enum is already positioned on the first term!!! If no such term exists, =
the
enum's term() returns null). Just use a "if (enum.term() !=3D null) do { =
}
while (enum.next()!=3Dnull && numberOfTermCollectex <=3D max)", with =
Lucene
trunk this is much better now, but with 3.x, you have to use this ugly
iteration.

Uwe


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48757-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Feb 21 19:22:10 2011
Return-Path: <java-user-return-48757-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13789 invoked from network); 21 Feb 2011 19:22:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 21 Feb 2011 19:22:10 -0000
Received: (qmail 33673 invoked by uid 500); 21 Feb 2011 19:22:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33335 invoked by uid 500); 21 Feb 2011 19:22:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33327 invoked by uid 99); 21 Feb 2011 19:22:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Feb 2011 19:22:04 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jason.rutherglen@gmail.com designates 209.85.216.176 as permitted sender)
Received: from [209.85.216.176] (HELO mail-qy0-f176.google.com) (209.85.216.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Feb 2011 19:21:59 +0000
Received: by qyk30 with SMTP id 30so1677806qyk.14
        for <java-user@lucene.apache.org>; Mon, 21 Feb 2011 11:21:39 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:cc:content-type
         :content-transfer-encoding;
        bh=pKJEL4e8BqaNb0rOa1A7Aqda3/4qgTjlKJMl4kaRp0A=;
        b=hgM0iZGt0oNK0MNSfer8W7gzDZ+i2FpbgBqR4fQ+4THqaO8f96m5Hts2rTiUvb5fnn
         rhjYksTgeMs9LBgyhJUBElUf5nJq6YuQHn4cQfHG87J6XvFgnMDPxVmoEx+s51rYTMVa
         6njqrvuBLi+Gwbrgz7uS5cSSkSjw3aCCJkI3o=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type:content-transfer-encoding;
        b=XWIqZyCCEtjiWMGRjLiawWgublYE6GjYN/dx71TzIiMArEpQtc7t/6WPE62UPInSdI
         Cr8ttajDax/MyO34Lwd0iy8xb8R4xhPydRkwk6SLY5sN4WENlMB5OXDt1MLkihrNqnVD
         TAKuJUp60hBzOyTiNLEwC7gFNUeqTLJU1TBXM=
MIME-Version: 1.0
Received: by 10.229.99.130 with SMTP id u2mr1287408qcn.211.1298316098583; Mon,
 21 Feb 2011 11:21:38 -0800 (PST)
Received: by 10.229.65.198 with HTTP; Mon, 21 Feb 2011 11:21:38 -0800 (PST)
In-Reply-To: <AANLkTinPsbGVp6q72kTKA79a-g4SC3S7Ch8vJHLa3+p3@mail.gmail.com>
References: <AANLkTimpKMD1dojwMB=kdJmWTuCY4BBDRUkYuZb_FgRw@mail.gmail.com>
	<AANLkTi=Wq=6eLoyRdcOkRpSZiS+nucYeiAcTqLQ5Kzn6@mail.gmail.com>
	<AANLkTimLWwzCW+xbk5AL1GdcYcAU0LtBEXk5=Ri_4sYh@mail.gmail.com>
	<AANLkTi=0jxLJFsbTuK40kRdLz60+kG3vy2=5fM5rW-ZL@mail.gmail.com>
	<AANLkTikdLsmqHjKd6fUyXBe4i_6Rti70PcGG2qCMryUs@mail.gmail.com>
	<AANLkTinPsbGVp6q72kTKA79a-g4SC3S7Ch8vJHLa3+p3@mail.gmail.com>
Date: Mon, 21 Feb 2011 11:21:38 -0800
Message-ID: <AANLkTimF6nfV_hn98U5KBoHUep3dpUnGkfUe+5QLdDfy@mail.gmail.com>
Subject: Re: Last/max term in Lucene 4.x
From: Jason Rutherglen <jason.rutherglen@gmail.com>
To: Michael McCandless <lucene@mikemccandless.com>
Cc: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

> Maybe we need a seekFloor in the TermsEnum? =A0(What we have now is
> really seekCeil). =A0But, what's the larger use case here..?

I opened an issue LUCENE-2930 to simply store the last/max term,
however the seekFloor would work just as well.  The use case is
finding the last of the ordered IDs stored in the index, so that
remaining documents (that lets say were left in RAM prior to process
termination) can be indexed.  It's an inferred transaction checkpoint.

On Mon, Feb 21, 2011 at 5:31 AM, Michael McCandless
<lucene@mikemccandless.com> wrote:
> On Sun, Feb 20, 2011 at 8:47 PM, Jason Rutherglen
> <jason.rutherglen@gmail.com> wrote:
>>> Though, if you just want to get to the last term... VarGap's terms
>>> index can quickly tell you the last indexed term, and from there you
>>> can scan to the last term? =A0(It'd be at most 32 (by default) scans).
>>
>> In VariableGapTermsIndexReader, IndexEnum doesn't support ord. =A0How
>> would I seek to the last term in the index using VarGaps? =A0Or do I
>> need to interact directly with the FST class (and if so I'm not sure
>> what to do there either).
>
> Right, you'd have to work directly w/ the FSTEnum (ie, code changes).
> The FSTEnum "feels" like a TreeMap, so, you can eg seekFloor to eg
> 0xffffffff, get the term, seek the TermsEnum there, then .next() until
> you hit the end.
>
> Maybe we need a seekFloor in the TermsEnum? =A0(What we have now is
> really seekCeil). =A0But, what's the larger use case here..?
>
> Mike
>
> --
> Mike
>
> http://blog.mikemccandless.com
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48758-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Feb 21 19:57:01 2011
Return-Path: <java-user-return-48758-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22613 invoked from network); 21 Feb 2011 19:57:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 21 Feb 2011 19:57:01 -0000
Received: (qmail 87047 invoked by uid 500); 21 Feb 2011 19:56:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86992 invoked by uid 500); 21 Feb 2011 19:56:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86984 invoked by uid 99); 21 Feb 2011 19:56:58 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Feb 2011 19:56:58 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ajaydarez@gmail.com designates 74.125.82.176 as permitted sender)
Received: from [74.125.82.176] (HELO mail-wy0-f176.google.com) (74.125.82.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Feb 2011 19:56:50 +0000
Received: by wya21 with SMTP id 21so868900wya.35
        for <java-user@lucene.apache.org>; Mon, 21 Feb 2011 11:56:30 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=qmDLljnf0Zru7+iuObXLJVyt4hcHvxZ7zAqICUs+HXc=;
        b=L1/DiDL9kDSQ6boeEnWvOIe7ES0ereyl2I9ZvbYtL/krmmqP4XtZzCbuWg/PD9lHsK
         HvttcLCZXGmnz0pN6zrNaQnT9YCSDd08/ccdvU6n6aqY4Ju+SClUvWSn4ap3RBgIUek2
         5f6ETcnYt470akIfH38gaIh4BROoYnnBouXCQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=YlEVOd7QOxzrDjU91ERQfyYdpLRovDU1pXq7srq3fuYCqUg55TiAaHX+n0tF6H73uR
         vN6sA2xyj5bepl1jruH9XOwR1ha1O29/kKebXU7JvVx82hHfX9Ia9aimXnIz56kuPyBF
         NMEsY7E5WUIUgv9t5zWFzxrOI9NOAD+vz2ZRE=
MIME-Version: 1.0
Received: by 10.216.159.69 with SMTP id r47mr2391298wek.105.1298318190101;
 Mon, 21 Feb 2011 11:56:30 -0800 (PST)
Received: by 10.216.20.142 with HTTP; Mon, 21 Feb 2011 11:56:30 -0800 (PST)
Date: Mon, 21 Feb 2011 13:56:30 -0600
Message-ID: <AANLkTi=G_CzfaGbnXwPxke7jb03ByAiC8u27KLwNAy4y@mail.gmail.com>
Subject: Lucene TermVector
From: Ajay Anandan <ajaydarez@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e65b40b886c717049cd04257
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e65b40b886c717049cd04257
Content-Type: text/plain; charset=ISO-8859-1

Hi
I am trying to implement an Expectation Maximization algorithm for document
clustering.  I am planning to use Lucene Term Vectors for finding similarity
between 2 documents.  There are 2 kinds of EM algos using naive Bayes: the
multivariate model and the multinomial model.  In simple terms, the
multinomial model uses the frequencies of different words in the documents
which the multivariate model just uses the info of whether a word is present
or not in the document(a boolean vector).

I know that the term vectors in Lucene store the terms present in the
current document along with their frequencies.  This is exactly what is
needed for the multinomial model.

But the multivariate model requires the following:
A vector which stores the presence or absence of a particular term.  Thus
all the terms in all the documents must be handled by this vector.

As an example:

doc1 : field CONTENT has the following terms : this is the world of
pleasure.

doc2 : field CONTENT has the following terms : this amazing world is full of
sarcastic people.

now the vector that I need should be

< this is the world of pleasure amazing full sarcastic people > ( it
contains all the words in all the documents )

for doc1 the value of this vector is <1 1 1 1 1 1 0 0 0 0>

for doc2 the vakue of this vector is <1 1 0 1 0 0 1 1 1 1>

Is there any way to generate such a boolean vector in Lucene?

-- 

Ajay Anandan.
MSc,computing Science, University of Alberta.

--0016e65b40b886c717049cd04257--

From java-user-return-48759-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Feb 21 20:12:00 2011
Return-Path: <java-user-return-48759-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34353 invoked from network); 21 Feb 2011 20:12:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 21 Feb 2011 20:12:00 -0000
Received: (qmail 12179 invoked by uid 500); 21 Feb 2011 20:11:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12096 invoked by uid 500); 21 Feb 2011 20:11:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12085 invoked by uid 99); 21 Feb 2011 20:11:57 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Feb 2011 20:11:57 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [66.94.238.133] (HELO web130106.mail.mud.yahoo.com) (66.94.238.133)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 21 Feb 2011 20:11:50 +0000
Received: (qmail 82365 invoked by uid 60001); 21 Feb 2011 20:11:28 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com.ar; s=s1024; t=1298319088; bh=O1Fl27eBIFBrgtxn/tUwcPVPhZt/lwaFBAy19mjvNyw=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=2G2zWWEeL8/wICj1cijrsIj/XHRFJJlP1OcAsX3KBVhDF4fqZFr8OYfxVr+r6D9IskL//dUfQOqVJclopOxC5aire2YRP3yEP7DA/0lsCghGL+zpOtSell+v6KN7I2N6T7SBt5EBWm7NWjBQUKfosY2jAi35vSgH1K81hwLSTBw=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com.ar;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=BIKlCs2DWrDC4LzQtvgkjGznunBV0BvKmno8iMoa42YbeBrSfs5kgnVeSTEk5MHyBphd4a6NcSOBi5JVhMjL17E9Z2RhB9kPhRPNy6vBaSLW6vOaf8q7Z6vX/N5uR4WUUB57Qulx4uAWCSE136jVVA/j3ybenIMrgOnsCAOVoQg=;
Message-ID: <182096.81941.qm@web130106.mail.mud.yahoo.com>
X-YMail-OSG: 1WnRshwVM1m2Bjv9sXbTU5GYObdZFwzT.ybk60wytHwm6aU
 UoIu9zPpK4mMP353A0WZ9a38SA.Rf3YlYBpWfNsW46mC6PMWHoMUHh7c8CKq
 WwPkVwGgAy4rLIjiOxwjICeeP241QnrfcK1vioSQ0tSr5ZOqbS1kfcP87aRg
 TAoItckSvIOSTM8xpa4jEzAzVy7uNUmJVg6A71s2yvBQTZH.BWo6ccZvNqMV
 Ikj8kjr95u1_mlHLt4avQKhiQz2BHOKphrGk2P2kd1xGGYHmDzirDX4c_fJW
 84BHWwXXQk1M5epqkjv2LKRee2d1wDYQSCjpDZKU.S8WhiImsPg--
Received: from [190.220.136.250] by web130106.mail.mud.yahoo.com via HTTP; Mon, 21 Feb 2011 12:11:28 PST
X-Mailer: YahooMailRC/555 YahooMailWebService/0.8.109.292656
References: <E594BA962D832C49A3CF858DAA3A696C11356923F5@Exchange2007.mysigndomain.corp> <002e01cbd1f5$4accf590$e066e0b0$@thetaphi.de>
Date: Mon, 21 Feb 2011 12:11:28 -0800 (PST)
From: Fernando Wasylyszyn <ferwasy@yahoo.com.ar>
Subject: Re: Suggest search terms
To: java-user@lucene.apache.org
In-Reply-To: <002e01cbd1f5$4accf590$e066e0b0$@thetaphi.de>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1053684362-1298319088=:81941"
X-Virus-Checked: Checked by ClamAV on apache.org

--0-1053684362-1298319088=:81941
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

I think that the idea that Uwe mentions is completely valid. Although it ha=
s a =0Afew disadvantages:=0A=0AFor example, what if you want to suggest "mu=
ltiword suggestions" and in your =0Aindex you have only "single word" token=
s.=0A=0AQuery: Ferrari=0AIdeal suggestions: Ferrari 354 BT, Ferrari 355 C, =
Ferrari 356=0AIndex have the tokens: Ferrari, 354, 355, 356, BT, C=0A=0A=0A=
=0A=0A=0A________________________________=0ADe: Uwe Schindler <uwe@thetaphi=
.de>=0APara: java-user@lucene.apache.org=0AEnviado: lunes, 21 de febrero, 2=
011 15:29:35=0AAsunto: RE: Suggest search terms=0A=0AHi,=0A=0AI just have a=
 suggestion to your first idea of enumerating terms, which is=0Avery fast i=
f done right:=0A=0A> I'd like to suggest search terms to my users. My na=EF=
ve approach would have=0A> been:=0A> After at least n characters have been =
typed (asynchronously) find terms in=0A> IndexReader.terms()  which "match"=
=0A=0AMuch easier is to use IR.terms() but wrap a PrefixTermEnum around it =
(it's=0Ain search package). Then you simply iterate (please don't forget th=
at the=0Aenum is already positioned on the first term!!! If no such term ex=
ists, the=0Aenum's term() returns null). Just use a "if (enum.term() !=3D n=
ull) do { }=0Awhile (enum.next()!=3Dnull && numberOfTermCollectex <=3D max)=
", with Lucene=0Atrunk this is much better now, but with 3.x, you have to u=
se this ugly=0Aiteration.=0A=0AUwe=0A=0A=0A--------------------------------=
-------------------------------------=0ATo unsubscribe, e-mail: java-user-u=
nsubscribe@lucene.apache.org=0AFor additional commands, e-mail: java-user-h=
elp@lucene.apache.org=0A=0A=0A      
--0-1053684362-1298319088=:81941--

From java-user-return-48760-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Feb 22 08:02:54 2011
Return-Path: <java-user-return-48760-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14770 invoked from network); 22 Feb 2011 08:02:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Feb 2011 08:02:54 -0000
Received: (qmail 42247 invoked by uid 500); 22 Feb 2011 08:02:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41492 invoked by uid 500); 22 Feb 2011 08:02:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41484 invoked by uid 99); 22 Feb 2011 08:02:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Feb 2011 08:02:47 +0000
X-ASF-Spam-Status: No, hits=2.1 required=5.0
	tests=FREEMAIL_FROM,FREEMAIL_REPLYTO,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of simon.willnauer@googlemail.com designates 209.85.212.48 as permitted sender)
Received: from [209.85.212.48] (HELO mail-vw0-f48.google.com) (209.85.212.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Feb 2011 08:02:41 +0000
Received: by vws20 with SMTP id 20so2622467vws.35
        for <java-user@lucene.apache.org>; Tue, 22 Feb 2011 00:02:21 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:mime-version:reply-to:in-reply-to:references
         :date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=q5QO7Ze7WXkC5gqc/TxjLNcmiTWs3YqHNGeFiL0BlZY=;
        b=N5xUZ3cUNgo3pKvs6CLvWqM0Y82pPg1o0KQCLN1fzmLQcxlw4Krh2lfoBmdG9EstXP
         DOlSS7CRf91A61LZKiL1eCZBGTfhsMMw/DleUWWjTqVEUtxBhadVgCwoVW4qyZVEPcYR
         xH8IhMOkP0RhT6rLThMT8/hPwsaXEsYtnGn5w=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=mime-version:reply-to:in-reply-to:references:date:message-id
         :subject:from:to:content-type:content-transfer-encoding;
        b=YqUE5t4WcqWOLSDIXR39i6OUQmu8u2w2jiVzdifKyYWW0wd2thK6RmEUEgE+ghUc9Q
         0TsZrmQ8e14NoBn3MtUyNI0+CMoglRUxBnEJgPJxNg/taFINXIrvArtUOfoZN4cBbpJ0
         FX+GHF0NO90aDA3cnVmyMj5X3YY5xi6ZZpkNI=
MIME-Version: 1.0
Received: by 10.52.163.34 with SMTP id yf2mr3411279vdb.22.1298361740780; Tue,
 22 Feb 2011 00:02:20 -0800 (PST)
Received: by 10.220.176.137 with HTTP; Tue, 22 Feb 2011 00:02:20 -0800 (PST)
Reply-To: simon.willnauer@gmail.com
In-Reply-To: <AANLkTi=G_CzfaGbnXwPxke7jb03ByAiC8u27KLwNAy4y@mail.gmail.com>
References: <AANLkTi=G_CzfaGbnXwPxke7jb03ByAiC8u27KLwNAy4y@mail.gmail.com>
Date: Tue, 22 Feb 2011 09:02:20 +0100
Message-ID: <AANLkTi=DnrNVCw0oxs56Q52J6OmBBxCoHpjSeC5MVTp0@mail.gmail.com>
Subject: Re: Lucene TermVector
From: Simon Willnauer <simon.willnauer@googlemail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Hey,

On Mon, Feb 21, 2011 at 8:56 PM, Ajay Anandan <ajaydarez@gmail.com> wrote:
> Hi
> I am trying to implement an Expectation Maximization algorithm for docume=
nt
> clustering. =C2=A0I am planning to use Lucene Term Vectors for finding si=
milarity
> between 2 documents. =C2=A0There are 2 kinds of EM algos using naive Baye=
s: the
> multivariate model and the multinomial model. =C2=A0In simple terms, the
> multinomial model uses the frequencies of different words in the document=
s
> which the multivariate model just uses the info of whether a word is pres=
ent
> or not in the document(a boolean vector).
>
> I know that the term vectors in Lucene store the terms present in the
> current document along with their frequencies. =C2=A0This is exactly what=
 is
> needed for the multinomial model.
>
> But the multivariate model requires the following:
> A vector which stores the presence or absence of a particular term. =C2=
=A0Thus
> all the terms in all the documents must be handled by this vector.
>
> As an example:
>
> doc1 : field CONTENT has the following terms : this is the world of
> pleasure.
>
> doc2 : field CONTENT has the following terms : this amazing world is full=
 of
> sarcastic people.
>
> now the vector that I need should be
>
> < this is the world of pleasure amazing full sarcastic people > ( it
> contains all the words in all the documents )
>
> for doc1 the value of this vector is <1 1 1 1 1 1 0 0 0 0>
>
> for doc2 the vakue of this vector is <1 1 0 1 0 0 1 1 1 1>
>
> Is there any way to generate such a boolean vector in Lucene?

Lucene stores as you found correctly a sparse representation of
TermVectors along with their frequencies, positions and / or offsets
if needed. The terms which occur in other document but are not in a
particular one are omitted (they might even not be present when the
vector is stored). Yet, what lucene offers you is one big vector with
all unique terms for each field, its term dictionary. you can simply
build your dense vector as needed at runtime. You can simply traverse
the TermEnum for that field and the TermVector at the same time. for
each term in the TermEnum not present in you vector you insert a 0.

Maybe there is a better way to do it or already existing
infrastructure for this I don't know about just a possibility.

simon
>
> --
>
> Ajay Anandan.
> MSc,computing Science, University of Alberta.
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48761-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Feb 22 08:16:06 2011
Return-Path: <java-user-return-48761-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26699 invoked from network); 22 Feb 2011 08:16:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Feb 2011 08:16:06 -0000
Received: (qmail 53936 invoked by uid 500); 22 Feb 2011 08:16:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53468 invoked by uid 500); 22 Feb 2011 08:16:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53446 invoked by uid 99); 22 Feb 2011 08:15:59 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Feb 2011 08:15:59 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [80.169.233.11] (HELO mailbck.lombardodier.ch) (80.169.233.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Feb 2011 08:15:51 +0000
In-Reply-To: <AANLkTimbGCcP4BH8-xJyWtXJ3H32UBE_0jSd4cvB2hvk@mail.gmail.com>
To: java-user@lucene.apache.org
MIME-Version: 1.0
X-KeepSent: A004C9EB:B3021770-C125783F:002B8D13;
 type=4; name=$KeepSent
X-Mailer: OpenMailer1.0
From: v.sevel@lombardodier.com
Message-ID: <OFA004C9EB.B3021770-ONC125783F.002B8D13-C125783F.002D557A@biz.lodh.com>
Date: Tue, 22 Feb 2011 09:15:09 +0100
Subject: Re: recurrent IO/CPU peaks
X-SendAsMailing: 0
X-MIMETrack: Cleaned
Content-Type: multipart/alternative; boundary="=_alternative 002D5578C125783F_="
X-Virus-Checked: Checked by ClamAV on apache.org

--=_alternative 002D5578C125783F_=
Content-Type: text/plain; charset="US-ASCII"

Hi,

I did some tests with the BalancedSegmentMergePolicy, looking specifically 
at the optimize. I have an index that is 70 Gb large, and contains around 
35 millions documents.
I duplicated the index 4 times, and I ran 2 optimize with the default 
merge policy, and 2 with the balanced policy.

Here is how long it took for each run : 
 - default : run 1 = 55 minutes, run 2 = 59 minutes
 - balanced : run 1 = 145 minutes, run 2 = 121 minutes

Is that an expected behavior?

Here is how looks like the index:

17.02.2011  21:17                20 segments.gen
17.02.2011  21:17             2'873 segments_3o28n
17.02.2011  02:35    41'789'132'035 _41kn6.fdt
17.02.2011  02:35       276'660'588 _41kn6.fdx
17.02.2011  01:59             5'163 _41kn6.fnm
17.02.2011  03:31    15'498'740'184 _41kn6.frq
17.02.2011  03:31     6'664'489'716 _41kn6.prx
17.02.2011  03:31        98'362'869 _41kn6.tii
17.02.2011  03:31     8'756'995'362 _41kn6.tis
17.02.2011  14:13         4'322'830 _41kn6_3.del
17.02.2011  09:24       401'321'405 _41xfs.cfs
17.02.2011  09:45       215'300'691 _41yhd.cfs
17.02.2011  10:25       280'570'874 _42084.cfs
17.02.2011  11:30       307'418'387 _422jg.cfs
17.02.2011  14:54       205'896'267 _428l0.cfs
17.02.2011  18:48       102'062'480 _42ebh.cfs
17.02.2011  19:28        21'168'238 _42fpz.cfs
17.02.2011  21:11        16'359'338 _42i2q.cfs
17.02.2011  21:17           909'887 _42i5t.cfs
17.02.2011  21:17            18'484 _42i5u.cfs
              20 File(s) 74'639'737'691 bytes

I did not change the default merge factor. Do you think I should?

Thanks,

Vincent 







Michael McCandless <lucene@mikemccandless.com> 
 
 
19.01.2011 14:38
Please respond to
java-user@lucene.apache.org



To
java-user@lucene.apache.org
cc

Subject
Re: recurrent IO/CPU peaks






This is normal behavior, unfortunately.

The default LogByteSizeMergePolicy does mergeFactor (default 10) small
merges in a row, then must do a 10X bigger merge.  Every 100 small
merges it does a 100X bigger merge, etc.

You can try using the BalancedSegmentMergePolicy (in contrib/misc) --
it tries to reduce the large merges, and never "inadvertently
optimizes" like Lucene's default merge policy.

If you do use it, please report back... we are tempted to improve the
default merge policy by either slurping BSMP into core, or, borrowing
it's approach...

If you are on Linux, you could also try using the
DirectIOLinuxDirectory, which avoid messing up the OS's buffer cache
due to merging.  But that dir impl is experimental, and you can't just
"use" it across the board (you should use it only for IndexWriter, and
possibly only when merges are kicking off).

Mike

On Wed, Jan 19, 2011 at 2:31 AM,  <v.sevel> wrote:
>
> Hi,
>
> I have an application that continously indexes 140 documents/s (we 
commit
> after each second) using lucene 2.9. at the beginning of the test the 
index
> is empty. during the test, I monitored this application, specifically in
> terms of IOs and CPU.
>
> what I have seen, is that, on a regular basis (a few minutes), there are
> small peaks both for IOs and CPU, and once in a while, there is a much
> higher peak. the small peaks are small enough that do not disrupt the
> system, however, the high peak tends to steal some resources out of the
> other processes, and gets disruptive when the machine is loaded.
>
> I logged the internal activity of the lucene writer during the high 
peak,
> and what I have seen that could correlate is the number of merge 
documents
> that suddenly grows, and executes shortly after another merge:
>
>         Line 131: 17:46:26.268 IW 0 [Lucene Merge Thread #215]: merge: 
total
> 1391 docs
>         Line 539: 17:46:36.449 IW 0 [Lucene Merge Thread #216]: merge: 
total
> 1462 docs
>         Line 570: 17:46:36.565 IW 0 [Lucene Merge Thread #216]: merge: 
total
> 13753 docs
>         Line 597: 17:46:37.381 IW 0 [Lucene Merge Thread #216]: merge: 
total
> 171593 docs
>         Line 991: 17:46:46.503 IW 0 [Lucene Merge Thread #217]: merge: 
total
> 1537 docs
>         Line 1439: 17:46:57.602 IW 0 [Lucene Merge Thread #218]: merge:
> total 1710 docs
>         Line 1874: 17:47:07.680 IW 0 [Lucene Merge Thread #219]: merge:
> total 1532 docs
>         Line 2282: 17:47:17.804 IW 0 [Lucene Merge Thread #220]: merge:
> total 1555 docs
>
>
> Assuming this is a normal behavior, are there ways to minimize the 
amplitude
> of the high peaks?
>
> I am attaching the lucene writer log and the systar report.
>
> Thanks for the help.
>
>
>
>
> Vincent
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




************************ DISCLAIMER ************************
This message is intended only for use by the person to
whom it is addressed. It may contain information that is
privileged and confidential. Its content does not
constitute a formal commitment by Lombard Odier
Darier Hentsch & Cie or any of its branches or affiliates.
If you are not the intended recipient of this message,
kindly notify the sender immediately and destroy this
message. Thank You.
*****************************************************************

--=_alternative 002D5578C125783F_=--

From java-user-return-48762-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Feb 22 09:51:14 2011
Return-Path: <java-user-return-48762-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64149 invoked from network); 22 Feb 2011 09:51:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Feb 2011 09:51:13 -0000
Received: (qmail 77964 invoked by uid 500); 22 Feb 2011 09:51:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77543 invoked by uid 500); 22 Feb 2011 09:51:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77524 invoked by uid 99); 22 Feb 2011 09:51:07 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Feb 2011 09:51:07 +0000
X-ASF-Spam-Status: No, hits=0.2 required=5.0
	tests=ASF_LIST_OPS,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [182.71.53.3] (HELO mail.otssolutions.com) (182.71.53.3)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Feb 2011 09:51:00 +0000
Received: from MAIL.otssolutions.com ([fe80::204d:b7bb:ceb3:c049]) by
 MAIL.otssolutions.com ([fe80::204d:b7bb:ceb3:c049%11]) with mapi; Tue, 22 Feb
 2011 15:19:30 +0530
From: Ranjit Kumar <Ranjit.Kumar@otssolutions.com>
To: "java-user-help@lucene.apache.org" <java-user-help@lucene.apache.org>,
	"java-user@lucene.apache.org" <java-user@lucene.apache.org>
Subject: Re: lucene3.0.3 | get correct document in case of multiple Boolean
 query in search criteria
Thread-Topic: Re: lucene3.0.3 | get correct document in case of multiple
 Boolean query in search criteria
Thread-Index: AcvSdcpO8XPbD6NdTjOndZSd48nMMg==
Date: Tue, 22 Feb 2011 09:49:25 +0000
Message-ID: <AD21521D44870544AC66F4FDFC0A474C3C9440FE@MAIL.otssolutions.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: multipart/alternative;
	boundary="_000_AD21521D44870544AC66F4FDFC0A474C3C9440FEMAILotssolution_"
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

--_000_AD21521D44870544AC66F4FDFC0A474C3C9440FEMAILotssolution_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi,

As, mention above i am using query like:

criteria =3D (sql OR sqlserver OR "sql server") AND java AND delphi

In the above scenario i need hit(document) containing at least one occurren=
ce of (sql OR sqlserver OR "sql server"). Also java and delphi must present=
 in document.

Still I have not got solution for that!!



but, if my query changes to:

criteria =3D sql OR sqlserver OR "sql server" AND java AND delphi

we can use MultiFieldQueryParser in this way =3D=3D>



String[] queree =3D {"sql ", "sqlserver ","sql server","java ","delphi"};

String[] fields =3D {"contents","contents","contents","contents","contents"=
};

BooleanClause.Occur[] flags=3D{BooleanClause.Occur.SHOULD,BooleanClause.Occ=
ur.SHOULD,BooleanClause.Occur.SHOULD,BooleanClause.Occur.MUST, BooleanClaus=
e.Occur.MUST};

Query query =3D MultiFieldQueryParser.parse(Version.LUCENE_CURRENT, queree,=
 fields, flags, analyzer);

TopDocs docs =3D searcher.search(query, null, n);

System.out.println("Total document matched: "+docs.totalHits);



          **It gives correct document!!**

suggest me to get hit(document) in the context mention in my first query!!


Thanks & Regards,
Ranjit Kumar
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D Pr=
ivate, Confidential and Privileged. This e-mail and any files and attachmen=
ts transmitted with it are confidential and/or privileged. They are intende=
d solely for the use of the intended recipient. The content of this e-mail =
and any file or attachment transmitted with it may have been changed or alt=
ered without the consent of the author. If you are not the intended recipie=
nt, please note that any review, dissemination, disclosure, alteration, pri=
nting, circulation or Transmission of this e-mail and/or any file or attach=
ment transmitted with it, is prohibited and may be unlawful. If you have re=
ceived this e-mail or any file or attachment transmitted with it in error p=
lease notify OTS Solutions at info@otssolutions.com =3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D

--_000_AD21521D44870544AC66F4FDFC0A474C3C9440FEMAILotssolution_--

From java-user-return-48763-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Feb 22 10:23:37 2011
Return-Path: <java-user-return-48763-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78848 invoked from network); 22 Feb 2011 10:23:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Feb 2011 10:23:37 -0000
Received: (qmail 8655 invoked by uid 500); 22 Feb 2011 10:23:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8250 invoked by uid 500); 22 Feb 2011 10:23:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8240 invoked by uid 99); 22 Feb 2011 10:23:30 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Feb 2011 10:23:30 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [212.243.6.182] (HELO mail.mysigninternational.com) (212.243.6.182)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Feb 2011 10:23:24 +0000
Received: from localhost (localhost [127.0.0.1])
	by mail.mysigninternational.com (Postfix) with ESMTP id 3110AC216B
	for <java-user@lucene.apache.org>; Tue, 22 Feb 2011 11:23:04 +0100 (CET)
Received: from mail.mysigninternational.com ([127.0.0.1])
	by localhost (mysign-postfix1.INTERNET [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 0IwQXMkd3+AY for <java-user@lucene.apache.org>;
	Tue, 22 Feb 2011 11:23:04 +0100 (CET)
Received: from Exchange2007.mysigndomain.corp (unknown [192.168.13.8])
	by mail.mysigninternational.com (Postfix) with ESMTP id 0436EC2169
	for <java-user@lucene.apache.org>; Tue, 22 Feb 2011 11:23:04 +0100 (CET)
Received: from Exchange2007.mysigndomain.corp ([fe80::b93b:88fd:f694:bc31]) by
 Exchange2007.mysigndomain.corp ([fe80::b93b:88fd:f694:bc31%10]) with mapi;
 Tue, 22 Feb 2011 11:23:03 +0100
From: Clemens Wyss <clemensdev@mysign.ch>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Tue, 22 Feb 2011 11:23:03 +0100
Subject: AW: Suggest search terms
Thread-Topic: Suggest search terms
Thread-Index: AcvSA5oxPNkap/+NRdaNM8tGn4un2QAdn7Rw
Message-ID: <E594BA962D832C49A3CF858DAA3A696C1135692454@Exchange2007.mysigndomain.corp>
References: <E594BA962D832C49A3CF858DAA3A696C11356923F5@Exchange2007.mysigndomain.corp>
 <002e01cbd1f5$4accf590$e066e0b0$@thetaphi.de>
 <182096.81941.qm@web130106.mail.mud.yahoo.com>
In-Reply-To: <182096.81941.qm@web130106.mail.mud.yahoo.com>
Accept-Language: de-DE, de-CH
Content-Language: de-DE
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: de-DE, de-CH
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

Fernando, Uwe thanks for your suggestions.=20
Is it possible to get the number of "hits" per term?
ferrari (125)
lamborghini (34)
...

> -----Urspr=FCngliche Nachricht-----
> Von: Fernando Wasylyszyn [mailto:ferwasy@yahoo.com.ar]
> Gesendet: Montag, 21. Februar 2011 21:11
> An: java-user@lucene.apache.org
> Betreff: Re: Suggest search terms
>=20
> I think that the idea that Uwe mentions is completely valid. Although it =
has a
> few disadvantages:
>=20
> For example, what if you want to suggest "multiword suggestions" and in
> your index you have only "single word" tokens.
>=20
> Query: Ferrari
> Ideal suggestions: Ferrari 354 BT, Ferrari 355 C, Ferrari 356 Index have =
the
> tokens: Ferrari, 354, 355, 356, BT, C
>=20
>=20
>=20
>=20
>=20
> ________________________________
> De: Uwe Schindler <uwe@thetaphi.de>
> Para: java-user@lucene.apache.org
> Enviado: lunes, 21 de febrero, 2011 15:29:35
> Asunto: RE: Suggest search terms
>=20
> Hi,
>=20
> I just have a suggestion to your first idea of enumerating terms, which i=
s very
> fast if done right:
>=20
> > I'd like to suggest search terms to my users. My na=EFve approach would
> > have
> > been:
> > After at least n characters have been typed (asynchronously) find
> > terms in
> > IndexReader.terms()  which "match"
>=20
> Much easier is to use IR.terms() but wrap a PrefixTermEnum around it (it'=
s in
> search package). Then you simply iterate (please don't forget that the en=
um
> is already positioned on the first term!!! If no such term exists, the en=
um's
> term() returns null). Just use a "if (enum.term() !=3D null) do { } while
> (enum.next()!=3Dnull && numberOfTermCollectex <=3D max)", with Lucene
> trunk this is much better now, but with 3.x, you have to use this ugly
> iteration.
>=20
> Uwe
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48764-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Feb 22 11:30:08 2011
Return-Path: <java-user-return-48764-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6948 invoked from network); 22 Feb 2011 11:30:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Feb 2011 11:30:08 -0000
Received: (qmail 85639 invoked by uid 500); 22 Feb 2011 11:30:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85305 invoked by uid 500); 22 Feb 2011 11:30:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85297 invoked by uid 99); 22 Feb 2011 11:30:01 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Feb 2011 11:30:01 +0000
X-ASF-Spam-Status: No, hits=2.1 required=5.0
	tests=FREEMAIL_FROM,FREEMAIL_REPLYTO,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of simon.willnauer@googlemail.com designates 209.85.212.48 as permitted sender)
Received: from [209.85.212.48] (HELO mail-vw0-f48.google.com) (209.85.212.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Feb 2011 11:29:57 +0000
Received: by vws20 with SMTP id 20so2728745vws.35
        for <java-user@lucene.apache.org>; Tue, 22 Feb 2011 03:29:36 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:mime-version:reply-to:in-reply-to:references
         :date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=DcpgMbMZliYf0PzFIqMkQ1OgHgA9Nv6BjKSWIHBqDF8=;
        b=OlifbpCzgu/P/ARXPu02wQSVlBy7XnW4BvGhyAzmj+Pac7td68wa/Sv1zXxn4k8tQH
         rZE3ZryzZA9Y6DtwJNMYf5U5wnZ5WUR85eujla+NqCW0X6xEUv04FrO0gywGcxRz1IRu
         HWbClkZrgvsaYZKToEcujTwCEDTYTYpAm26qw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=mime-version:reply-to:in-reply-to:references:date:message-id
         :subject:from:to:content-type:content-transfer-encoding;
        b=eAvy/vAQ+rtTSsiAApHMFNcxgS1bMBEOUU7tJruYMLcKniwCubzH080qvzjWCRan0A
         Cqj24fd/vWZG9jPCFajmWeBS0xmnusVP4shew5efZbT2kqQkKteiV8WrgyP2RD+HSMbV
         sRS8HapDvkJ/Xr6NZeD43wCAvzIjqdePB7mbM=
MIME-Version: 1.0
Received: by 10.52.163.34 with SMTP id yf2mr3714673vdb.22.1298374176551; Tue,
 22 Feb 2011 03:29:36 -0800 (PST)
Received: by 10.220.176.137 with HTTP; Tue, 22 Feb 2011 03:29:36 -0800 (PST)
Reply-To: simon.willnauer@gmail.com
In-Reply-To: <E594BA962D832C49A3CF858DAA3A696C1135692454@Exchange2007.mysigndomain.corp>
References: <E594BA962D832C49A3CF858DAA3A696C11356923F5@Exchange2007.mysigndomain.corp>
	<002e01cbd1f5$4accf590$e066e0b0$@thetaphi.de>
	<182096.81941.qm@web130106.mail.mud.yahoo.com>
	<E594BA962D832C49A3CF858DAA3A696C1135692454@Exchange2007.mysigndomain.corp>
Date: Tue, 22 Feb 2011 12:29:36 +0100
Message-ID: <AANLkTimLgLsg59dSqevYPCaLaF7kbhPOUHp_=DssWKEC@mail.gmail.com>
Subject: Re: Suggest search terms
From: Simon Willnauer <simon.willnauer@googlemail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Tue, Feb 22, 2011 at 11:23 AM, Clemens Wyss <clemensdev@mysign.ch> wrote=
:
> Fernando, Uwe thanks for your suggestions.
> Is it possible to get the number of "hits" per term?
> ferrari (125)
> lamborghini (34)
> ...

I think you can just call TermEnum#docFreq(), no?

simon
>
>> -----Urspr=C3=BCngliche Nachricht-----
>> Von: Fernando Wasylyszyn [mailto:ferwasy@yahoo.com.ar]
>> Gesendet: Montag, 21. Februar 2011 21:11
>> An: java-user@lucene.apache.org
>> Betreff: Re: Suggest search terms
>>
>> I think that the idea that Uwe mentions is completely valid. Although it=
 has a
>> few disadvantages:
>>
>> For example, what if you want to suggest "multiword suggestions" and in
>> your index you have only "single word" tokens.
>>
>> Query: Ferrari
>> Ideal suggestions: Ferrari 354 BT, Ferrari 355 C, Ferrari 356 Index have=
 the
>> tokens: Ferrari, 354, 355, 356, BT, C
>>
>>
>>
>>
>>
>> ________________________________
>> De: Uwe Schindler <uwe@thetaphi.de>
>> Para: java-user@lucene.apache.org
>> Enviado: lunes, 21 de febrero, 2011 15:29:35
>> Asunto: RE: Suggest search terms
>>
>> Hi,
>>
>> I just have a suggestion to your first idea of enumerating terms, which =
is very
>> fast if done right:
>>
>> > I'd like to suggest search terms to my users. My na=C3=AFve approach w=
ould
>> > have
>> > been:
>> > After at least n characters have been typed (asynchronously) find
>> > terms in
>> > IndexReader.terms() =C2=A0which "match"
>>
>> Much easier is to use IR.terms() but wrap a PrefixTermEnum around it (it=
's in
>> search package). Then you simply iterate (please don't forget that the e=
num
>> is already positioned on the first term!!! If no such term exists, the e=
num's
>> term() returns null). Just use a "if (enum.term() !=3D null) do { } whil=
e
>> (enum.next()!=3Dnull && numberOfTermCollectex <=3D max)", with Lucene
>> trunk this is much better now, but with 3.x, you have to use this ugly
>> iteration.
>>
>> Uwe
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48765-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Feb 22 11:50:07 2011
Return-Path: <java-user-return-48765-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12566 invoked from network); 22 Feb 2011 11:50:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Feb 2011 11:50:07 -0000
Received: (qmail 7698 invoked by uid 500); 22 Feb 2011 11:50:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7388 invoked by uid 500); 22 Feb 2011 11:50:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7380 invoked by uid 99); 22 Feb 2011 11:50:00 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Feb 2011 11:50:00 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.160.176] (HELO mail-gy0-f176.google.com) (209.85.160.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Feb 2011 11:49:54 +0000
Received: by gyg10 with SMTP id 10so950467gyg.35
        for <java-user@lucene.apache.org>; Tue, 22 Feb 2011 03:49:33 -0800 (PST)
MIME-Version: 1.0
Received: by 10.147.125.13 with SMTP id c13mr4244850yan.15.1298375372772; Tue,
 22 Feb 2011 03:49:32 -0800 (PST)
Received: by 10.147.39.19 with HTTP; Tue, 22 Feb 2011 03:49:32 -0800 (PST)
In-Reply-To: <OFA004C9EB.B3021770-ONC125783F.002B8D13-C125783F.002D557A@biz.lodh.com>
References: <AANLkTimbGCcP4BH8-xJyWtXJ3H32UBE_0jSd4cvB2hvk@mail.gmail.com>
	<OFA004C9EB.B3021770-ONC125783F.002B8D13-C125783F.002D557A@biz.lodh.com>
Date: Tue, 22 Feb 2011 06:49:32 -0500
Message-ID: <AANLkTikfbuHoKCfjYJOmOr6OG0Z442ejrnPuGKnUmYf4@mail.gmail.com>
Subject: Re: recurrent IO/CPU peaks
From: Michael McCandless <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Cc: v.sevel@lombardodier.com
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On Tue, Feb 22, 2011 at 3:15 AM,  <v.sevel@lombardodier.com> wrote:

> Here is how long it took for each run :
> =A0- default : run 1 =3D 55 minutes, run 2 =3D 59 minutes
> =A0- balanced : run 1 =3D 145 minutes, run 2 =3D 121 minutes
>
> Is that an expected behavior?

Hmm BalancedSegmentMergePolicy was over 2X slower to optimize...?
That's curious.

Though, BSMP is supposed to be better only for the non-optimize case
(ie just adding/deleting docs and never calling optimize).  It tries
to defer picking very large segment merges.

You could also try the TieredMergePolicy (currently still a patch on
http://issues.apache.org/jira/browse/LUCENE-854); it also tries to not
over-merge like LogByteSizeMergePolicy does (sometimes).  I wrote
about this in http://blog.mikemccandless.com/2011/02/visualizing-lucenes-se=
gment-merges.html

--=20
Mike

http://blog.mikemccandless.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48766-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Feb 22 12:12:39 2011
Return-Path: <java-user-return-48766-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28115 invoked from network); 22 Feb 2011 12:12:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Feb 2011 12:12:39 -0000
Received: (qmail 30745 invoked by uid 500); 22 Feb 2011 12:12:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30439 invoked by uid 500); 22 Feb 2011 12:12:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30431 invoked by uid 99); 22 Feb 2011 12:12:32 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Feb 2011 12:12:32 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [66.94.238.133] (HELO web130106.mail.mud.yahoo.com) (66.94.238.133)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 22 Feb 2011 12:12:25 +0000
Received: (qmail 54811 invoked by uid 60001); 22 Feb 2011 12:12:03 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com.ar; s=s1024; t=1298376723; bh=NDMS3Q/geCyzKFB5XQVnvZsjj3vD+WLbXQ8IpxVwKBE=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=K/n5/8skVRIQeiMjYjapQzOVB1sBTulDqG2epJ1vC+lp/+v8MEGtoaOmo4HQqdCXemjrfRqh2idqVQtG7KuXVwEVthtNGjUPGe86i2GDi7elYjSySdQ0LOhiSGIPxAKO3X1ZmVEQNclwxV79/zyD+l6eyw+J+ADVUU35kv3IG4M=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com.ar;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=pmZSBgFyLGvjYhYL8naJq8+0c89MxDe64t7SMe3XJ9MyyBAY8k1Uk62d6qop6gkAn+nY5mbOQQIQCEfs7EOSsXqJymFduhO5pth4rZUANOXAV4u3duAkAoApsaP39JxNhUE+HN5f45XqPBa1TAx/j/fDt2nvbvhX4wRwJpzCwqg=;
Message-ID: <18813.54129.qm@web130106.mail.mud.yahoo.com>
X-YMail-OSG: KwIEWFQVM1lxXTPoNmL_8ushn1eTcvIBT5TiMyDn_EdAN6f
 x0a1PxgNil9qy81wtVYSO8K5nQ2Il67Sw3.76QbbVRaH4XfgIttduOX4bdkr
 KUDqSwBuAnzlPIhQhT9o0zUuVHWhzeo4q93c0YH8xmViqt0oPFW2F4tsy_64
 lHtqenpLT1G81QepI8QJyFizqBSAZQMrQeJabmOqywMbK5p1HgYdlxUA82qp
 iHuuOfpYW9lfJhyxLF38LoZnDR4DGUTw9cVu4WxqBjaN.JmonwQi1qMPsEIw
 TBt97uV73MUA5jqaTkhE7ZRChb0WwyCph5pTndhh.qEaUdFI31VdFQ0nLLWU
 VzxsO1IhUMiL36FU-
Received: from [190.220.136.250] by web130106.mail.mud.yahoo.com via HTTP; Tue, 22 Feb 2011 04:12:02 PST
X-Mailer: YahooMailRC/555 YahooMailWebService/0.8.109.292656
References: <E594BA962D832C49A3CF858DAA3A696C11356923F5@Exchange2007.mysigndomain.corp> <002e01cbd1f5$4accf590$e066e0b0$@thetaphi.de> <182096.81941.qm@web130106.mail.mud.yahoo.com> <E594BA962D832C49A3CF858DAA3A696C1135692454@Exchange2007.mysigndomain.corp> <AANLkTimLgLsg59dSqevYPCaLaF7kbhPOUHp_=DssWKEC@mail.gmail.com>
Date: Tue, 22 Feb 2011 04:12:02 -0800 (PST)
From: Fernando Wasylyszyn <ferwasy@yahoo.com.ar>
Subject: Re: Suggest search terms
To: java-user@lucene.apache.org
In-Reply-To: <AANLkTimLgLsg59dSqevYPCaLaF7kbhPOUHp_=DssWKEC@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-25046817-1298376722=:54129"
X-Virus-Checked: Checked by ClamAV on apache.org

--0-25046817-1298376722=:54129
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Well, actually it depends....=0AIf your suggestion terms corresponds with t=
he terms in your "main" index, then =0Ayou can use TermEnum#docFreq()+=0AOt=
herwise, if you develop a separate index for the suggestions (that do not =
=0Acorrespond with the terms in your main index), then you just can add a =
=0Acalculated field with the number of documents that contain the suggestio=
n, =0Asomething like:=0A=0ADocument:=0A    "suggestion" field: "Ferrari 455=
 GT"=0A    "docCount" field: 20=0A=0AAs you control the updates in the sugg=
estions index, this can be achieved in =0Aeach update of the main index.=0A=
=0ARegards.=0AFernando.=0A=0A=0A=0A=0A________________________________=0ADe=
: Simon Willnauer <simon.willnauer@googlemail.com>=0APara: java-user@lucene=
.apache.org=0AEnviado: martes, 22 de febrero, 2011 8:29:36=0AAsunto: Re: Su=
ggest search terms=0A=0AOn Tue, Feb 22, 2011 at 11:23 AM, Clemens Wyss <cle=
mensdev@mysign.ch> wrote:=0A> Fernando, Uwe thanks for your suggestions.=0A=
> Is it possible to get the number of "hits" per term?=0A> ferrari (125)=0A=
> lamborghini (34)=0A> ...=0A=0AI think you can just call TermEnum#docFreq(=
), no?=0A=0Asimon=0A>=0A>> -----Urspr=FCngliche Nachricht-----=0A>> Von: Fe=
rnando Wasylyszyn [mailto:ferwasy@yahoo.com.ar]=0A>> Gesendet: Montag, 21. =
Februar 2011 21:11=0A>> An: java-user@lucene.apache.org=0A>> Betreff: Re: S=
uggest search terms=0A>>=0A>> I think that the idea that Uwe mentions is co=
mpletely valid. Although it has =0Aa=0A>> few disadvantages:=0A>>=0A>> For =
example, what if you want to suggest "multiword suggestions" and in=0A>> yo=
ur index you have only "single word" tokens.=0A>>=0A>> Query: Ferrari=0A>> =
Ideal suggestions: Ferrari 354 BT, Ferrari 355 C, Ferrari 356 Index have th=
e=0A>> tokens: Ferrari, 354, 355, 356, BT, C=0A>>=0A>>=0A>>=0A>>=0A>>=0A>> =
________________________________=0A>> De: Uwe Schindler <uwe@thetaphi.de>=
=0A>> Para: java-user@lucene.apache.org=0A>> Enviado: lunes, 21 de febrero,=
 2011 15:29:35=0A>> Asunto: RE: Suggest search terms=0A>>=0A>> Hi,=0A>>=0A>=
> I just have a suggestion to your first idea of enumerating terms, which i=
s =0A>very=0A>> fast if done right:=0A>>=0A>> > I'd like to suggest search =
terms to my users. My na=EFve approach would=0A>> > have=0A>> > been:=0A>> =
> After at least n characters have been typed (asynchronously) find=0A>> > =
terms in=0A>> > IndexReader.terms()  which "match"=0A>>=0A>> Much easier is=
 to use IR.terms() but wrap a PrefixTermEnum around it (it's in=0A>> search=
 package). Then you simply iterate (please don't forget that the enum=0A>> =
is already positioned on the first term!!! If no such term exists, the enum=
's=0A>> term() returns null). Just use a "if (enum.term() !=3D null) do { }=
 while=0A>> (enum.next()!=3Dnull && numberOfTermCollectex <=3D max)", with =
Lucene=0A>> trunk this is much better now, but with 3.x, you have to use th=
is ugly=0A>> iteration.=0A>>=0A>> Uwe=0A>>=0A>>=0A>> ----------------------=
-----------------------------------------------=0A>> To unsubscribe, e-mail=
: java-user-unsubscribe@lucene.apache.org=0A>> For additional commands, e-m=
ail: java-user-help@lucene.apache.org=0A>>=0A>>=0A>>=0A>=0A> --------------=
-------------------------------------------------------=0A> To unsubscribe,=
 e-mail: java-user-unsubscribe@lucene.apache.org=0A> For additional command=
s, e-mail: java-user-help@lucene.apache.org=0A>=0A>=0A=0A------------------=
---------------------------------------------------=0ATo unsubscribe, e-mai=
l: java-user-unsubscribe@lucene.apache.org=0AFor additional commands, e-mai=
l: java-user-help@lucene.apache.org=0A=0A=0A      
--0-25046817-1298376722=:54129--

From java-user-return-48767-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Feb 22 13:58:54 2011
Return-Path: <java-user-return-48767-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67910 invoked from network); 22 Feb 2011 13:58:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Feb 2011 13:58:53 -0000
Received: (qmail 36386 invoked by uid 500); 22 Feb 2011 13:58:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35920 invoked by uid 500); 22 Feb 2011 13:58:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35909 invoked by uid 99); 22 Feb 2011 13:58:45 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Feb 2011 13:58:45 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [141.35.1.28] (HELO fsuj26.rz.uni-jena.de) (141.35.1.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Feb 2011 13:58:37 +0000
Received: from mailsmtp1.rz.uni-jena.de (smtp.uni-jena.de [141.35.1.18])
	by fsuj26.rz.uni-jena.de (8.13.8/8.13.8) with ESMTP id p1MDwHIj018891
	for <java-user@lucene.apache.org>; Tue, 22 Feb 2011 14:58:17 +0100
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=uni-jena.de;
	s=dkim-2011; t=1298383097;
	bh=NsCtHOpLJnBHJ6G0IH8ktnpoUDBQU4/HwGm5IANLFn4=;
	h=Message-ID:Date:From:To:Subject;
	b=dNei87ENvDB8MGWl0dEqQQMOAB2ikbBFg7XwpWeAbbgW2H4XdTsdnfwuK4bTWEqML
	 Xew+pRm9q/v/ywGVbia5skCS1EAS4kVEmAWmBEm5p9nXq7eZsVr50KtYND46ZxM7uI
	 89fMUvb8/EU3BhD5C+r/DLu+dFYFujXdzdwKPwkQ=
Received: from [141.35.141.140] (autokino.coling.uni-jena.de [141.35.141.140])
	(authenticated id=erik.faessler@uni-jena.de bits=0)
	by mailsmtp1.rz.uni-jena.de (8.13.1/8.13.1) with ESMTP id p1MDwHc2021176
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <java-user@lucene.apache.org>; Tue, 22 Feb 2011 14:58:17 +0100
Message-ID: <4D63C0ED.1090103@uni-jena.de>
Date: Tue, 22 Feb 2011 14:58:05 +0100
From: =?ISO-8859-15?Q?Erik_F=E4=DFler?= <erik.faessler@uni-jena.de>
User-Agent: Mozilla/5.0 (X11; U; Linux x86_64; de; rv:1.9.2.9) Gecko/20100914 SUSE/3.1.4 Thunderbird/3.1.4
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Serialization of Lucene Document objects
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

  Hi there,

I'd like to serialize some Lucene Documents I've built before. My goal 
is to send the documents over a http connection to a Solr server which 
then should add them to its index.

I thought this would work as the Document class implements Serializable 
as do the Fields. Unfortunately, the serialization fails because the 
TokenStream class is not serializable. But if you create Fields on 
TokenStreams, these are stored in the Field objects and so the 
serialization does not seem possible.

Did I miss something? Or is it just the case that you can serialize 
documents whose fields only have String values (I didn't check if this 
works indeed, but I guess so) and no documents which need a TokenStream?

Other ideas how to archive my goal? I already have a solution where I 
let Solr build the document. This is too slow, however, I'd like to 
scale to document construction, so I'd rather want to do as much as work 
before as possible (my data is rather large and of a bit complicated 
structure).

Thanks for any hints!

Regards,

     Erik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48768-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Feb 22 14:05:17 2011
Return-Path: <java-user-return-48768-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73120 invoked from network); 22 Feb 2011 14:05:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Feb 2011 14:05:17 -0000
Received: (qmail 46953 invoked by uid 500); 22 Feb 2011 14:05:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46816 invoked by uid 500); 22 Feb 2011 14:05:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46802 invoked by uid 99); 22 Feb 2011 14:05:09 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Feb 2011 14:05:09 +0000
X-ASF-Spam-Status: No, hits=2.8 required=5.0
	tests=FREEMAIL_FROM,FREEMAIL_REPLYTO,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of simon.willnauer@googlemail.com designates 209.85.220.176 as permitted sender)
Received: from [209.85.220.176] (HELO mail-vx0-f176.google.com) (209.85.220.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Feb 2011 14:05:03 +0000
Received: by vxc41 with SMTP id 41so1993534vxc.35
        for <java-user@lucene.apache.org>; Tue, 22 Feb 2011 06:04:42 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:mime-version:reply-to:in-reply-to:references
         :date:message-id:subject:from:to:cc:content-type
         :content-transfer-encoding;
        bh=o4BmSW3rEtcgQl8gqSzbLxfPGUdGc/Jbyj3cNLz8dsM=;
        b=sb51M+nNIvQBhWKdbSOWZbI7SummcMl73d78mpl7uYOfqHMSlzT2BK8RoHhN2WVjJk
         PcqAwpAe8RJ3K0yNyaB31b7uz0OUERLNH12hNAOcE3O2m+IjMTzNBibhk05epsz1LJCL
         mLXWh/JnnVjRmKolku9h0nzhOOlxMR0wPJaKk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=mime-version:reply-to:in-reply-to:references:date:message-id
         :subject:from:to:cc:content-type:content-transfer-encoding;
        b=nNLWq0AZCrUgdPbRoIecj4NUK3K8R08lBxd3XP6NM3T0C2+ht6wrxF0O+iYY83bGyb
         ZcV0FXEZi6juN8hb9zm0F45jH3Go9TcbA3UfyXNtiQPRRMqF3SXdBEX+rSlp6un6vvA+
         B+ru/MnRs9q7DnwqyKDTYHww6yzwMguEOWPFw=
MIME-Version: 1.0
Received: by 10.52.164.228 with SMTP id yt4mr3979775vdb.102.1298383482021;
 Tue, 22 Feb 2011 06:04:42 -0800 (PST)
Received: by 10.220.176.137 with HTTP; Tue, 22 Feb 2011 06:04:41 -0800 (PST)
Reply-To: simon.willnauer@gmail.com
In-Reply-To: <4D63C0ED.1090103@uni-jena.de>
References: <4D63C0ED.1090103@uni-jena.de>
Date: Tue, 22 Feb 2011 15:04:41 +0100
Message-ID: <AANLkTinA1SsHtDFYAaP+=vAdvqz8MoewviEDBajBa3VX@mail.gmail.com>
Subject: Re: Serialization of Lucene Document objects
From: Simon Willnauer <simon.willnauer@googlemail.com>
To: java-user@lucene.apache.org
Cc: =?UTF-8?B?RXJpayBGw6TDn2xlcg==?= <erik.faessler@uni-jena.de>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On Tue, Feb 22, 2011 at 2:58 PM, Erik F=C3=A4=C3=9Fler <erik.faessler@uni-j=
ena.de> wrote:
> =C2=A0Hi there,
>
> I'd like to serialize some Lucene Documents I've built before. My goal is=
 to
> send the documents over a http connection to a Solr server which then sho=
uld
> add them to its index.

ok so why do you build lucene documents if you use solr? Can you use
SolrJ which does all the serialization work for you?!
>
> I thought this would work as the Document class implements Serializable a=
s
> do the Fields. Unfortunately, the serialization fails because the
> TokenStream class is not serializable. But if you create Fields on
> TokenStreams, these are stored in the Field objects and so the serializat=
ion
> does not seem possible.
>
> Did I miss something? Or is it just the case that you can serialize
> documents whose fields only have String values (I didn't check if this wo=
rks
> indeed, but I guess so) and no documents which need a TokenStream?

Again solr should do all the tokenization work for you - no need to
use a TokenSTream on the client side.
>
> Other ideas how to archive my goal? I already have a solution where I let
> Solr build the document. This is too slow, however, I'd like to scale to
> document construction, so I'd rather want to do as much as work before as
> possible (my data is rather large and of a bit complicated structure).
so you mean you would want to do that analysis on the client side and
only shoot the already tokenized values to the server?
What exactly is too slow? Can you provide more info what the problem is?

After all I think you should ask on the solr-user list instead.

Simon
>
> Thanks for any hints!
>
> Regards,
>
> =C2=A0 =C2=A0Erik
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48769-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Feb 22 14:54:25 2011
Return-Path: <java-user-return-48769-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91640 invoked from network); 22 Feb 2011 14:54:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Feb 2011 14:54:24 -0000
Received: (qmail 19687 invoked by uid 500); 22 Feb 2011 14:54:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19185 invoked by uid 500); 22 Feb 2011 14:54:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19172 invoked by uid 99); 22 Feb 2011 14:54:18 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Feb 2011 14:54:18 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [141.35.1.28] (HELO fsuj26.rz.uni-jena.de) (141.35.1.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Feb 2011 14:54:11 +0000
Received: from mailsmtp1.rz.uni-jena.de (mailsmtp1.rz.uni-jena.de [141.35.1.18])
	by fsuj26.rz.uni-jena.de (8.13.8/8.13.8) with ESMTP id p1MErmEo030040;
	Tue, 22 Feb 2011 15:53:48 +0100
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=uni-jena.de;
	s=dkim-2011; t=1298386428;
	bh=HvAWW4X7XD/D8G7AZ073oyZ1SKHF3FB5KT2VWfJVxfY=;
	h=Message-ID:Date:From:To:Subject;
	b=ED1nT2o9yreD2/Mu6K83uwsPmPfwnpCRxulhLNDNkLHn3jZzid3OSAxlXmVntfvcK
	 3fSMYBC2Goxi8cGT4WYr9WHJxTceB2oxflGKol9zUzcyh1t9OR6WbArRV4lbon64AB
	 sg5jwVwSQgihyBsPW0Ac/hZXLp+r3veFNNP44/Js=
Received: from [141.35.141.140] (autokino.coling.uni-jena.de [141.35.141.140])
	(authenticated id=erik.faessler@uni-jena.de bits=0)
	by mailsmtp1.rz.uni-jena.de (8.13.1/8.13.1) with ESMTP id p1MErljO032754
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO);
	Tue, 22 Feb 2011 15:53:48 +0100
Message-ID: <4D63CDF0.10505@uni-jena.de>
Date: Tue, 22 Feb 2011 15:53:36 +0100
From: =?UTF-8?B?RXJpayBGw6TDn2xlcg==?= <erik.faessler@uni-jena.de>
User-Agent: Mozilla/5.0 (X11; U; Linux x86_64; de; rv:1.9.2.9) Gecko/20100914 SUSE/3.1.4 Thunderbird/3.1.4
MIME-Version: 1.0
To: simon.willnauer@gmail.com
CC: Simon Willnauer <simon.willnauer@googlemail.com>,
        java-user@lucene.apache.org
Subject: Re: Serialization of Lucene Document objects
References: <4D63C0ED.1090103@uni-jena.de> <AANLkTinA1SsHtDFYAaP+=vAdvqz8MoewviEDBajBa3VX@mail.gmail.com>
In-Reply-To: <AANLkTinA1SsHtDFYAaP+=vAdvqz8MoewviEDBajBa3VX@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit

  Hi Simon,

thanks for your answer. My comments below:
> so you mean you would want to do that analysis on the client side and
> only shoot the already tokenized values to the server?
> What exactly is too slow? Can you provide more info what the problem is?
>
> After all I think you should ask on the solr-user list instead.
The point is, I'm using some quite sophisticated NLP pipeline which 
outputs data I'd like to index. I have a component which maps this data 
structure (actually a UIMA CAS object) to lucene documents. A lot of 
things are done with the input data, including some quite custom 
adaptions of position_increments and aligning several other TokenStreams 
in terms of again position_increment and position_offset.
I cannot do such things with the native Solr XML format because I need 
several fields with the same name but different indexing / storing 
options. This is because I enrich my documents' texts with meta data 
extracted by my pipeline. So a field gets much more terms then could 
have been extracted from the text by Lucene/Solr analysis. Solr 
approximates this capability by multi-valued fields but this can't work 
the same.

I measured the timings for batches of 1000 documents sent to Solr.  I am 
sending the whole UIMA CAS in a serialized form which is a quite verbose 
XMI format.
Processing 1000 documents in Solr then takes
* approx. 11sec for deserialization
* approx. 4sec for mapping to a document
* less then 1sec for writing the documents to the index.

So most of the times gets lost by deserialization. By sending the Lucene 
documents directly I hope to reduce this overhead greatly as I'm not 
sending the verbose raw data but an already condensed form.
Second, the time for the mapping still takes some time for work which 
not necessarily has to be done on the server side. I can scale the 
clients arbitrarily so they should do most of the work.

This is why I'd like to build the Lucene documents on the client side 
and just send them to server. But now I wonder if this is possible at 
all after the serialization of lucene documents failed...

Sorry for the long read and thanks for you help :)

Erik
> Simon
>> Thanks for any hints!
>>
>> Regards,
>>
>>     Erik
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48770-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Feb 22 15:45:47 2011
Return-Path: <java-user-return-48770-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17090 invoked from network); 22 Feb 2011 15:45:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Feb 2011 15:45:47 -0000
Received: (qmail 87919 invoked by uid 500); 22 Feb 2011 15:45:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87532 invoked by uid 500); 22 Feb 2011 15:45:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87520 invoked by uid 99); 22 Feb 2011 15:45:39 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Feb 2011 15:45:39 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [173.164.230.50] (HELO mailhost.transaxtions.com) (173.164.230.50)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 22 Feb 2011 15:45:33 +0000
Received: (qmail 13414 invoked from network); 22 Feb 2011 07:39:20 -0800
Received: from unknown (HELO ?192.168.1.120?) (192.168.1.120)
  by mymailhost.transaxtions.com with SMTP; 22 Feb 2011 07:39:20 -0800
Message-ID: <4D63DA0A.9060304@transaxtions.com>
Date: Tue, 22 Feb 2011 07:45:14 -0800
From: Nagendra Nagarajayya <nnagarajayya@transaxtions.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.2.13) Gecko/20101207 Thunderbird/3.1.7
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: [Announce] RankingAlgorithm ver 1.1
Content-Type: multipart/alternative;
 boundary="------------060106000007050301040706"
X-Virus-Checked: Checked by ClamAV on apache.org

--------------060106000007050301040706
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Hi!

I would like to announce the release of RankingAlgorithm ver 1.1 and 
would like to invite you to try it out. It is very good and does not 
need any changes to your existing indexes but the way they are accessed, 
ranked and scored changes. This version has Score Boosting  enabling  
Document, Field and Query & Query Term boosting, norms and bug fixes to 
scoring and ranking, and is a little more faster.

You can download and try it out from here:
http://rankingalgorithm.tgels.com


Regards,

- Nagendra Nagarajayya
http://rankingalgorithm.tgels.com <http://rankingalgorithm.tgels.com/>
http://solr-ra.tgels.com


--------------060106000007050301040706--

From java-user-return-48771-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Feb 22 17:15:22 2011
Return-Path: <java-user-return-48771-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64271 invoked from network); 22 Feb 2011 17:15:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Feb 2011 17:15:22 -0000
Received: (qmail 48642 invoked by uid 500); 22 Feb 2011 17:15:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48544 invoked by uid 500); 22 Feb 2011 17:15:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48534 invoked by uid 99); 22 Feb 2011 17:15:15 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Feb 2011 17:15:15 +0000
X-ASF-Spam-Status: No, hits=1.8 required=5.0
	tests=HTML_FONT_FACE_BAD,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of mark.kristensson@smartsheet.com designates 209.85.215.48 as permitted sender)
Received: from [209.85.215.48] (HELO mail-ew0-f48.google.com) (209.85.215.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Feb 2011 17:15:08 +0000
Received: by ewy25 with SMTP id 25so1219755ewy.35
        for <java-user@lucene.apache.org>; Tue, 22 Feb 2011 09:14:48 -0800 (PST)
MIME-Version: 1.0
Received: by 10.213.16.140 with SMTP id o12mr3274838eba.29.1298394888066; Tue,
 22 Feb 2011 09:14:48 -0800 (PST)
Received: by 10.213.28.207 with HTTP; Tue, 22 Feb 2011 09:14:48 -0800 (PST)
In-Reply-To: <0B90E668-A9BA-4C0B-A531-9E77C3FCB61E@smartsheet.com>
References: <B0BF640B-3986-42D6-B081-9C8B51B8E07E@smartsheet.com>
	<AANLkTi=JbCXFPSNucwnY5OK4fKTfQojk_5yt0==avpr8@mail.gmail.com>
	<79A8B638-16FD-486C-BE62-76CCAE58D620@smartsheet.com>
	<8ED783FE-BBE2-415A-A3B0-847D7500509E@smartsheet.com>
	<AANLkTi=N-4VbdG1qDRUH+0rMyOjSQ8f_GTZJMJ_=_s4B@mail.gmail.com>
	<1D4E4B59-1D3E-4CC2-B655-2729861E179B@smartsheet.com>
	<AANLkTimJjZC8ZJYsKpSn50ER-nSUhmOG_ZMQYYwLVHA5@mail.gmail.com>
	<ACBD00C9-7962-4E60-9F5D-0C8A9A6A730C@smartsheet.com>
	<AANLkTinZcwETVu3VXLqhzBpin6UpP2c5e417V3nduaPs@mail.gmail.com>
	<1F455CF6-C0F6-48E0-906D-989B374BB23E@smartsheet.com>
	<AANLkTinyXmXnN3xftEugQnF3EAT+LmHeEe_64ytvojhy@mail.gmail.com>
	<AANLkTikQx9OgpZw7RWZUdjNJrTtriKGO5Zv7F7EpNqxp@mail.gmail.com>
	<50E7FE59-B632-471A-A3E0-6B46FE5FDC10@smartsheet.com>
	<AANLkTim=onWvY2Re3rXSMqzG8UPkgz64SO=6dgCPFJ3H@mail.gmail.com>
	<0B90E668-A9BA-4C0B-A531-9E77C3FCB61E@smartsheet.com>
Date: Tue, 22 Feb 2011 09:14:48 -0800
Message-ID: <AANLkTikUAADDJCryA1rNz-M-seDQyyN0XUt28FesouqZ@mail.gmail.com>
Subject: Re: IndexWriter.close() performance issue
From: Mark Kristensson <mark.kristensson@smartsheet.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0015174c111014d7fe049ce21ea5
X-Virus-Checked: Checked by ClamAV on apache.org

--0015174c111014d7fe049ce21ea5
Content-Type: text/plain; charset=UTF-8

I'm resurrecting this old thread because this issue is now reaching a
critical point for us and I'm going to have to modify the Lucene source code
for it to continue to work for us.

Just a quick refresher: we have one index with several hundred thousand
unqiue field names and found that opening an index writer and closing an
index reader results in horribly slow performance on that one index. I have
isolated the problem down to the calls to String.intern() that are used to
allow for quick string comparisons of field names throughout Lucene.

FYI, the requirement that necessitates all of those unique field names
cannot be changed without effectively removing a major piece of
functionality from our application.

It is clear that Lucene has already gone through a couple of battles with
String.intern() judging by the closed issues (LUCENE-1600 and LUCENE-1607)
and the fact that a simple hashmap has been created in SimpleStringInterner
(and before that StringInterner, which appears to be unused now) to minimize
the number of calls to String.intern().

My first question is: is the call to String.intern() in SimpleStringInterner
really necessary? Since you are already using a hashmap to return the same
instance without calling String.intern() in the case where you have already
encountered that String, why bother to call .intern() when you add the
String to the HashMap?

Additionally, the fact that all of the calls to String.intern() in the
Lucene code base have been replaced with calls to StringHelper.intern(),
which uses the SimpleStringInterner, tells me that no String comparisons
will happen without calling StringHelper.intern() which uses the hashmap in
SimpleStringInterner to ensure it gets back the same String instance for
equivalent strings.

Second question: rather than using the very simple hashmap in
SimpleStringInterner, would I be better off using a ConcurrentHashMap in
StringHelper? Something like this:


  //  public static StringInterner interner = new
SimpleStringInterner(1024,8);
  public static ConcurrentHashMap<String, String> uniqueStrings = new
ConcurrentHashMap<String, String>();

  /** Return the same string object for all equal strings */
  public static String intern(String s) {
  //    return interner.intern(s);
    String v = uniqueStrings.putIfAbsent(s, s);
    return (v != null) ? v : s;
  }

Since this issue has become critical for us, I am planning to proceed with
testing using a ConcurrentHashMap in StringHelper. My quick testing back in
November confirmed the basics of the approach would work, but the feedback
here was twofold: 1) make it thread-safe and 2) make sure your hashkey won't
lead to collisions (I was passing the String.hashCode() in as the key
before).

Third question, as I test out this solution, are there any particular
actions/methods/operations that I should test out because this kind of a
change might be especially problematic?

Finally, back on the root issue. I understand intuitively why having so many
unique field names might cause a problem opening an index reader. However,
I'm not sure why closing (committing changes to) an index writer would have
such a problem. Why is that?

Thank you!
Mark


On Tue, Nov 23, 2010 at 2:22 PM, Mark Kristensson <
mark.kristensson@smartsheet.com> wrote:

> I've tried the suggestion below, but it really doesn't seem to have any
> impact. I guess that's not surprising since 80% of the CPU time when I ran
> hprof was in String.intern(), not in the StringHelper class.
>
> Clearly, if I'm going to hack things up at this level, I've got some work
> do to, including:
> - Synchronizing access to the storage mechanism I use for the strings
> - Using something else (String?) for the hashCode (instead of the String's
> built-in integer hashcode).
>
> Could I not use the HashMap solution I proposed to ensure that all field
> name strings that are the same refer to the same instance of the String?
> Does a HashMap.get() not return the same instance with every call?
>
> I'm also intrigued by a comment from Mike about FieldInfos and using those
> to control the uniqueness. Any suggestions on how I go about doing that?
> Would that be instead of monkeying with StringHelper or in addition to it?
>
> Thanks,
> Mark
>
>
>
> On Nov 20, 2010, at 5:44 AM, Yonik Seeley wrote:
>
> > On Fri, Nov 19, 2010 at 5:41 PM, Mark Kristensson
> > <mark.kristensson@smartsheet.com> wrote:
> >> Here's the changes I made to org.apache.lucene.util.StringHelper:
> >>
> >>  //public static StringInterner interner = new
> SimpleStringInterner(1024,8);
> >
> > As Mike said, the real fix for trunk is to get rid of interning.
> > But for your version, you could try making the string intern cache
> larger.
> >
> > StringHelper.interner = new SimpleStringInterner(300000,8);
> >
> > -Yonik
> > http://www.lucidimagination.com
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
>
>

--0015174c111014d7fe049ce21ea5--

From java-user-return-48772-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Feb 22 18:22:09 2011
Return-Path: <java-user-return-48772-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98221 invoked from network); 22 Feb 2011 18:22:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Feb 2011 18:22:09 -0000
Received: (qmail 59064 invoked by uid 500); 22 Feb 2011 18:22:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58693 invoked by uid 500); 22 Feb 2011 18:22:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58684 invoked by uid 99); 22 Feb 2011 18:22:03 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Feb 2011 18:22:03 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of lasanthasridinesh@gmail.com designates 74.125.82.176 as permitted sender)
Received: from [74.125.82.176] (HELO mail-wy0-f176.google.com) (74.125.82.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Feb 2011 18:21:55 +0000
Received: by wya21 with SMTP id 21so1890836wya.35
        for <java-user@lucene.apache.org>; Tue, 22 Feb 2011 10:21:35 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:reply-to:date:message-id:subject
         :from:to:content-type;
        bh=c8wyYfDrJrdgh5DWqiqccKbf9Buf188QyD73PhOjSq8=;
        b=bdqgLhJ4bwr5w1gd2LHOugPXo3kLXPmimxHNDu1DUtS2ZBSObwEjYkuAYEatdl2YOr
         iF28RRKfSsO4PFu3gLd8rdBtfJZGuUXaA9yVeKdZJ4zC+An0bzLVD0dZ71PYUXNufHEa
         bidSBYeudW16TmUAEK2ARazil6tx55hZPMARw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:reply-to:date:message-id:subject:from:to:content-type;
        b=Wt+tFkvaUMRghIQPt6ETDZ/58ew3xp2KESPWg/GHahA0eyqS1fsBg34Y7Qg8DyEU3a
         rf63l+IWC5N5zSTjc+sEF1q2HKFaPzPi76utmzgP19FTBs0zP1xLT+52iPsANkzXm3O9
         hCfgtrJSAVMDoI3iMFF7GDM2QNBOWIPztnB7w=
MIME-Version: 1.0
Received: by 10.216.51.130 with SMTP id b2mr2716053wec.42.1298398895678; Tue,
 22 Feb 2011 10:21:35 -0800 (PST)
Received: by 10.216.153.134 with HTTP; Tue, 22 Feb 2011 10:21:35 -0800 (PST)
Reply-To: lasanthasridinesh@gmail.com
Date: Tue, 22 Feb 2011 10:21:35 -0800
Message-ID: <AANLkTimUepQF0jbeQ_tEcN-1kfuh2UZrm_ug=CMDHg1O@mail.gmail.com>
Subject: Are you going to enter Google Summer of Code?
From: Lasantha Bandara <lasanthasridinesh@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e6dd8c8df425d2049ce30cbb
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e6dd8c8df425d2049ce30cbb
Content-Type: text/plain; charset=ISO-8859-1

Hi,

When I searched for java projects that can be acceptable for GSOC 2011, I
found Lucene. It nicely matches with my interests. Could you please tell me
whether you are going to be there this time. If yes, what kind of ideas that
you will be present. I like to start quite earlier working on this project,
if you are going to participate.

Thank you.

-- 
*
Lasantha Bandara,
Computer Science and Engineering,
University of Moratuwa,
Sri Lanka.
*

--0016e6dd8c8df425d2049ce30cbb--

From java-user-return-48773-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Feb 22 23:47:37 2011
Return-Path: <java-user-return-48773-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47582 invoked from network); 22 Feb 2011 23:47:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 22 Feb 2011 23:47:36 -0000
Received: (qmail 7400 invoked by uid 500); 22 Feb 2011 23:47:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7314 invoked by uid 500); 22 Feb 2011 23:47:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7306 invoked by uid 99); 22 Feb 2011 23:47:33 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Feb 2011 23:47:33 +0000
X-ASF-Spam-Status: No, hits=-0.1 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [208.66.139.15] (HELO tems6a.ironmountain.com) (208.66.139.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Feb 2011 23:47:25 +0000
Received: from kcsmtp01.ironmountain.com (kcsmtp01.ironmountain.com [216.229.158.20])
	(Using TLS) by tems6a.ironmountain.com;
	Tue, 22 Feb 2011 18:47:02 -0500
Received: from ([10.130.80.69])
	by kcsmtp01.ironmountain.com with ESMTP with TLS id 6GMF5H1.148477364;
	Tue, 22 Feb 2011 17:46:57 -0600
Received: from NUMEVP12.na.imtn.com ([169.254.1.227]) by NUMEHTP02.na.imtn.com
 ([fe80::41a8:a9a7:1cd1:d3c6%10]) with mapi; Tue, 22 Feb 2011 18:46:58 -0500
From: "Groose, Brian" <Brian.Groose@ironmountain.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Tue, 22 Feb 2011 18:46:54 -0500
Subject: ParallelReader and updateDocument don't play nice?
Thread-Topic: ParallelReader and updateDocument don't play nice?
Thread-Index: AcvS6sjgxHfhI/UYQxmJ6S57bgJSVQ==
Message-ID: <DC78AF06EBB33E47B8C8ED1214B33BF0CEC3F1C2ED@NUMEVP12.na.imtn.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
X-MC-Unique: 111022218470202201
Content-Type: multipart/alternative;
	boundary="_000_DC78AF06EBB33E47B8C8ED1214B33BF0CEC3F1C2EDNUMEVP12naimt_"

--_000_DC78AF06EBB33E47B8C8ED1214B33BF0CEC3F1C2EDNUMEVP12naimt_
Content-Type: text/plain; charset=WINDOWS-1252
Content-Transfer-Encoding: quoted-printable

I have been looking at using ParallelReader as its documentation indicates,=
 to allow certain fields to be updated while most of the fields will not be=
 updated.

However, this does not seem possible.  Let's say I have two indexes, A and =
B, which are used in a ParallelReader.  If I update a document in index B, =
then I must also update the same document in index A, otherwise the documen=
ts in the two indexes do not line up.  This kind of defeats the purpose of =
using two indexes with ParallelReader, since I could just use a single inde=
x and update the one document as usual, ParallelReader buys me nothing but =
more complexity.

Am I missing something here?  Is there some way to update a Document (or Fi=
eld) so that it won't actually be a delete+add?

It would seem that to update a single Document or Field in index B I really=
 need to fully re-index B with the documents in the same order, which gets =
expensive if you have tens of millions of documents in the index.

Thoughts?

Thanks!



The information contained in this email message and its attachments is inte=
nded only for the private and confidential use of the recipient(s) named ab=
ove, unless the sender expressly agrees otherwise. Transmission of email ov=
er the Internet is not a secure communications medium. If you are requestin=
g or have requested the transmittal of personal data, as defined in applica=
ble privacy laws by means of email or in an attachment to email, you must s=
elect a more secure alternate means of transmittal that supports your oblig=
ations to protect such personal data. If the reader of this message is not =
the intended recipient and/or you have received this email in error, you mu=
st take no action based on the information in this email and you are hereby=
 notified that any dissemination, misuse or copying or disclosure of this c=
ommunication is strictly prohibited. If you have received this communicatio=
n in error, please notify us immediately by email and delete the original m=
essage.=20
--_000_DC78AF06EBB33E47B8C8ED1214B33BF0CEC3F1C2EDNUMEVP12naimt_--


From java-user-return-48774-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Feb 23 09:00:43 2011
Return-Path: <java-user-return-48774-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80096 invoked from network); 23 Feb 2011 09:00:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 23 Feb 2011 09:00:41 -0000
Received: (qmail 31616 invoked by uid 500); 23 Feb 2011 09:00:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31339 invoked by uid 500); 23 Feb 2011 09:00:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31320 invoked by uid 99); 23 Feb 2011 09:00:34 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Feb 2011 09:00:34 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=FREEMAIL_FROM,MIME_QP_LONG_LINE,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_NEUTRAL,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [121.101.151.226] (HELO nm4.bullet.mail.in.yahoo.com) (121.101.151.226)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 23 Feb 2011 09:00:26 +0000
Received: from [121.101.151.237] by nm4.bullet.mail.in.yahoo.com with NNFMP; 23 Feb 2011 09:00:13 -0000
Received: from [121.101.151.233] by tm2.bullet.mail.in.yahoo.com with NNFMP; 23 Feb 2011 09:00:00 -0000
Received: from [127.0.0.1] by omp1002.mail.in.yahoo.com with NNFMP; 23 Feb 2011 08:59:56 -0000
X-Yahoo-Newman-Id: 654721.10833.bm@omp1002.mail.in.yahoo.com
Received: (qmail 94062 invoked from network); 23 Feb 2011 09:00:04 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=DKIM-Signature:Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE;
  b=y2gLCapcUMuIBTO182P1WKI/Tj0ZwMcLewkG8FsyQ5OMCfLNcFA2hzVLZkdGr9r4Q/028bQmMNDQObIWhpJ01nSHc7rvuQAETsXY2Fs5mnXWdYoB21pyvTk6EYCp+V4axAvV+5zddglFGb3oM17v9YdRZ3arGgolCLZXG2iJmhs=  ;
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.in; s=s1024; t=1298451604; bh=g1N7zBqifa+eb9XOiyqYPcVINx+x4qKiNbKKtEfiJK0=; h=Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE; b=InBN+uvnzmqU3uMdXfXGqIEZ2kvWyHK/UK6h/HRgTSPRBVeYYccCecgysQFXONvxxm7Ft4IDsE/rN85Oh0cPIw09NEcsmzUeA8RkrarlRF1Q5aj4oXjhMiy0QPaOZSYWU3kEe1NgON4juNDGgWVeiOrC5T93o68HoiR+nUhyPvw=
Received: from GaneshM (emailgane@121.244.159.130 with login)
        by smtp108.mail.in.yahoo.com with SMTP; 23 Feb 2011 14:30:04 +0530 IST
X-Yahoo-SMTP: JObyHkuswBBrNSLZp.Ycd7Boqpr_GQ--
X-YMail-OSG: DE00rYgVM1m_F0ThDYAFjOpCDQM9NbbN6W654kGjTFNm2nm
 B4p6Kicx5L1ji2Fax2_ETVlci8YU1zI6BCXPPEliUSZ9n.fovDsfl8Nr9O4S
 Cn1HiGY6eH2EHgxaWr1ONq0xgEDh1IPW5L_t9wCobYyZ1PDBhLS2qj.NCBIn
 Gf_kg5Yl5Y9SdXMx8Dxs7f.NGEYstlN2y
X-Yahoo-Newman-Property: ymail-3
Message-ID: <6DA286C6929845B5A5BB53F0E7CE2E6C@sv.us.sonicwall.com>
From: "Ganesh" <emailgane@yahoo.co.in>
To: <java-user@lucene.apache.org>
Subject: Facet search
Date: Wed, 23 Feb 2011 14:30:03 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.5931
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.5931
X-Virus-Checked: Checked by ClamAV on apache.org

Hello all,

I am using Lucene for my project and we have new requirement  to present =
data in the form of Analytics. Facet could be used for that but for this =
purpose i don't want to migrate to Solr. How to acheive this with =
Lucene. Will facet feature be part of future release of Lucene?=20

We require results in the below fashion. Top 3 results in each column.

Top users                 Country                 PageAccessed    =20
UserA (100)             India (1000)           /Articles/abc (200)
UserB (100)             US(500)                 /Articles/xyz (200)
UserC (100)             Russia(200)            /Articles/aaa (100)

When click on particular user, the results should be grouped for that =
User.
Top users                 Country                 PageAccessed    =20
UserA (100)             India (100)           /Articles/abc (55)
                                US(50)                 /Articles/xyz =
(25)
                                                             =
/Articles/aaa (10)

Regards
Ganesh
Send free SMS to your Friends on Mobile from your Yahoo! Messenger. Download Now! http://messenger.yahoo.com/download.php

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48775-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Feb 23 09:06:52 2011
Return-Path: <java-user-return-48775-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91152 invoked from network); 23 Feb 2011 09:06:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 23 Feb 2011 09:06:52 -0000
Received: (qmail 41269 invoked by uid 500); 23 Feb 2011 09:06:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40890 invoked by uid 500); 23 Feb 2011 09:06:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40882 invoked by uid 99); 23 Feb 2011 09:06:45 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Feb 2011 09:06:45 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [194.109.24.28] (HELO smtp-vbr8.xs4all.nl) (194.109.24.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Feb 2011 09:06:36 +0000
Received: from webmail.xs4all.nl (dovemail1.xs4all.nl [194.109.26.3])
	by smtp-vbr8.xs4all.nl (8.13.8/8.13.8) with ESMTP id p1N96FR9093260
	for <java-user@lucene.apache.org>; Wed, 23 Feb 2011 10:06:15 +0100 (CET)
	(envelope-from wheijke@xs4all.nl)
Received: from 85.90.76.130
        (SquirrelMail authenticated user wheijke)
        by webmail.xs4all.nl with HTTP;
        Wed, 23 Feb 2011 10:06:15 +0100
Message-ID: <43cb7752896d15a055b9058af73c492b.squirrel@webmail.xs4all.nl>
In-Reply-To: <6DA286C6929845B5A5BB53F0E7CE2E6C@sv.us.sonicwall.com>
References: <6DA286C6929845B5A5BB53F0E7CE2E6C@sv.us.sonicwall.com>
Date: Wed, 23 Feb 2011 10:06:15 +0100
Subject: Re: Facet search
From: "Wouter Heijke" <wheijke@xs4all.nl>
To: java-user@lucene.apache.org
User-Agent: SquirrelMail/1.4.18
MIME-Version: 1.0
Content-Type: text/plain;charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,
Same here, don't want Solr, so if you want facets BoBo is your friend!

http://sna-projects.com/bobo/

Works great, very easy to use...the only thing is the name, is like dog
food :-)
But give BoBo a try!

Wouter

> Hello all,
>
> I am using Lucene for my project and we have new requirement  to present
> data in the form of Analytics. Facet could be used for that but for this
> purpose i don't want to migrate to Solr. How to acheive this with Lucene.
> Will facet feature be part of future release of Lucene?
>



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48776-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Feb 23 09:08:16 2011
Return-Path: <java-user-return-48776-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91495 invoked from network); 23 Feb 2011 09:08:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 23 Feb 2011 09:08:15 -0000
Received: (qmail 44264 invoked by uid 500); 23 Feb 2011 09:08:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43146 invoked by uid 500); 23 Feb 2011 09:08:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43113 invoked by uid 99); 23 Feb 2011 09:08:06 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Feb 2011 09:08:06 +0000
X-ASF-Spam-Status: No, hits=2.8 required=5.0
	tests=FREEMAIL_FROM,FREEMAIL_REPLYTO,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of simon.willnauer@googlemail.com designates 209.85.220.176 as permitted sender)
Received: from [209.85.220.176] (HELO mail-vx0-f176.google.com) (209.85.220.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Feb 2011 09:08:00 +0000
Received: by vxc41 with SMTP id 41so2829928vxc.35
        for <multiple recipients>; Wed, 23 Feb 2011 01:07:39 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:mime-version:reply-to:date:message-id:subject
         :from:to:cc:content-type:content-transfer-encoding;
        bh=6hx794vrete6K7tugs3Rjgp6KJ3iIrgQtrhDkA6CrQw=;
        b=GGA3nUq20MLRMFedXq1ai8OzvVy8QbRR6ws2qFOi5lEMKJWE+qYp8wSU878r9S0RVc
         JyKcyyel1H/N0AxJwnHFKBzYRve+XetMcZJ/Igd5+GQsIQJ05sjXfBZV2rM8+fHh6LjM
         PqFlxkm1R/oE3hLerTBC0AHgJhnIYJdwgYohI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=mime-version:reply-to:date:message-id:subject:from:to:cc
         :content-type:content-transfer-encoding;
        b=MNJIHJ8wHgfeoDgT0Doo4GkaQxr/lt+YX91JdrU7mYlnOOfwLVNjFrcyvYdnLsrPrW
         dSs8+4GdgYeWA8LfpvnNGxL/Qdiwc1MQjyyz/P4Ic7hTaDpwieEdz73ay0JPi/kkb8o6
         5Rz9b1djtpAinDXB6gRN2KZC4MTqAqE9XG0OM=
MIME-Version: 1.0
Received: by 10.220.70.135 with SMTP id d7mr865017vcj.32.1298452059217; Wed,
 23 Feb 2011 01:07:39 -0800 (PST)
Received: by 10.220.176.137 with HTTP; Wed, 23 Feb 2011 01:07:39 -0800 (PST)
Reply-To: simon.willnauer@gmail.com
Date: Wed, 23 Feb 2011 10:07:39 +0100
Message-ID: <AANLkTinhBy61TFdJH_jevwv-ccX=V=6RuJuuPL4Kzp_-@mail.gmail.com>
Subject: BerlinBuzzwords CfP - one week to go
From: Simon Willnauer <simon.willnauer@googlemail.com>
To: simonw@apache.org
Cc: general@lucene.apache.org, java-user <java-user@lucene.apache.org>, 
	dev@lucene.apache.org, lucy-dev@incubator.apache.org, 
	lucy-user@incubator.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

As a reminder: the call for presentations of Berlin Buzzwords will
close next week on Tuesday, March 1st. Submissions on scalable search, data
storage and analysis are all welcome. We are looking for presentations on
the core technologies such as Apache Hadoop, CouchDB, Lucene, Redis,
Voldemort but also talks on interesting use cases and system architectures:

http://berlinbuzzwords.de/content/call-presentations

We are very proud to announce that Doug Cutting as well as Ted Dunning have
agreed to join us as keynote speakers. Several very interesting talk propos=
als
have been submitted already. The list of accepted speakers will be publishe=
d
soon after the CfP closes. Tickets are out for sale - don=E2=80=99t wait to=
o long to get
your early bird ticket.

In addition we are in the process of drafting some additional packages for
those of you who would like to bring their non-tech spouse to the conferenc=
e
or need day care facilities for their children. If you are interested in
either package please provide feedback online:

http://berlinbuzzwords.de/content/one-big-family

http://berlinbuzzwords.de/content/children-welcome

Looking forward to seeing you in Berlin this summer,
Simon

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48777-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Feb 23 09:31:32 2011
Return-Path: <java-user-return-48777-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99339 invoked from network); 23 Feb 2011 09:31:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 23 Feb 2011 09:31:32 -0000
Received: (qmail 84899 invoked by uid 500); 23 Feb 2011 09:31:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83657 invoked by uid 500); 23 Feb 2011 09:31:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83639 invoked by uid 99); 23 Feb 2011 09:31:25 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Feb 2011 09:31:25 +0000
X-ASF-Spam-Status: No, hits=2.8 required=5.0
	tests=FREEMAIL_FROM,FREEMAIL_REPLYTO,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of simon.willnauer@googlemail.com designates 209.85.220.176 as permitted sender)
Received: from [209.85.220.176] (HELO mail-vx0-f176.google.com) (209.85.220.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Feb 2011 09:31:20 +0000
Received: by vxc41 with SMTP id 41so2841800vxc.35
        for <multiple recipients>; Wed, 23 Feb 2011 01:30:59 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:mime-version:reply-to:in-reply-to:references
         :date:message-id:subject:from:to:cc:content-type
         :content-transfer-encoding;
        bh=deUnkAuQ+8u8QwMV1DkCGJMa1dSqElEZRmrX7VjguH4=;
        b=DV8YoSQ3ijjeDd+9EyrAoIBopslH/zs8JIr/+rgPsa/tNunOZfqiLMr0PP8Xww7Iyd
         MnD6hQOdtryb9IDzZSVczG+9+pYxAEWQXhYMry/c+ehVB3j7Mxo7pKX2eddrYII3sRXE
         EivDCGCSJkGof8hJ0e37QYMFykkUA6M1zLHOg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=mime-version:reply-to:in-reply-to:references:date:message-id
         :subject:from:to:cc:content-type:content-transfer-encoding;
        b=sRlFE8gjfW872k/kgEjwS31q1oI4ZJ8tDLJxCm9IKcsKjLQwoejFQSaKX/faqjInwv
         qeQ7PZtlK9tVJr4MlNfqdBNVHaDjhwu17S6pICx+v9pLp78u5TuLleAaU4znZOWpgCIS
         IYJMPFYT5cFqz1mbj8oJCIrQe5w9Fz4Jt6qKc=
MIME-Version: 1.0
Received: by 10.220.62.15 with SMTP id v15mr868628vch.67.1298453459638; Wed,
 23 Feb 2011 01:30:59 -0800 (PST)
Received: by 10.220.176.137 with HTTP; Wed, 23 Feb 2011 01:30:59 -0800 (PST)
Reply-To: simon.willnauer@gmail.com
In-Reply-To: <43cb7752896d15a055b9058af73c492b.squirrel@webmail.xs4all.nl>
References: <6DA286C6929845B5A5BB53F0E7CE2E6C@sv.us.sonicwall.com>
	<43cb7752896d15a055b9058af73c492b.squirrel@webmail.xs4all.nl>
Date: Wed, 23 Feb 2011 10:30:59 +0100
Message-ID: <AANLkTik0i8tNwQheMaaobZ=eQ5K=dbFcGNfCsJi8-UqU@mail.gmail.com>
Subject: Re: Facet search
From: Simon Willnauer <simon.willnauer@googlemail.com>
To: java-user@lucene.apache.org
Cc: java-dev <java-dev@lucene.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

This is another indicator that we should really try to extract Solr's
capabilities like Faceting into modules! Solr should not be required
if you want to use the facteing stuff we already have.

simon

On Wed, Feb 23, 2011 at 10:06 AM, Wouter Heijke <wheijke@xs4all.nl> wrote:
> Hi,
> Same here, don't want Solr, so if you want facets BoBo is your friend!
>
> http://sna-projects.com/bobo/
>
> Works great, very easy to use...the only thing is the name, is like dog
> food :-)
> But give BoBo a try!
>
> Wouter
>
>> Hello all,
>>
>> I am using Lucene for my project and we have new requirement =C2=A0to pr=
esent
>> data in the form of Analytics. Facet could be used for that but for this
>> purpose i don't want to migrate to Solr. How to acheive this with Lucene=
.
>> Will facet feature be part of future release of Lucene?
>>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48778-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Feb 23 11:25:13 2011
Return-Path: <java-user-return-48778-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51406 invoked from network); 23 Feb 2011 11:25:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 23 Feb 2011 11:25:12 -0000
Received: (qmail 12053 invoked by uid 500); 23 Feb 2011 11:25:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11873 invoked by uid 500); 23 Feb 2011 11:25:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11864 invoked by uid 99); 23 Feb 2011 11:25:05 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Feb 2011 11:25:05 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of akos.tajti@gmail.com designates 209.85.214.53 as permitted sender)
Received: from [209.85.214.53] (HELO mail-bw0-f53.google.com) (209.85.214.53)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Feb 2011 11:24:57 +0000
Received: by bwg12 with SMTP id 12so2901919bwg.12
        for <java-user@lucene.apache.org>; Wed, 23 Feb 2011 03:24:36 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=MI2B1GmvIbIOo0eVJD4clE+4yhuGPaqGPLCINPpyS4w=;
        b=jWF0ZSkV6mrseL4a7lb4HY3Mx7bh7ZVd75cjz9DDGh0G3tyokhMriIHM/CKJjIOTCe
         jxFW6ESfFu83rCJpg5XxKQoxh3TAXb01A3y3fe7tDi7D/oRzKZoyncVtsxbXGRk25ZaQ
         es76fXZc0QCfpXkai8W5cbkIcJsRpBC8Xu6aY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=VFxQgFjoOr14PBiD1G/3vcSS1QL8kGN9GO3B1vPHSepvw4pghoATXRL7hhDE0kLOZ9
         BRdLEoUcPW+HQtORbRFFpJV/HLB411q52EOuJzSQN6M9Wv3i8ka0XVVMO5G5QRzVWTqJ
         +ejxp3nqpCez/r80YSuXHGbYKYPcwzd1R1KBY=
MIME-Version: 1.0
Received: by 10.204.72.207 with SMTP id n15mr3588334bkj.62.1298460276529; Wed,
 23 Feb 2011 03:24:36 -0800 (PST)
Received: by 10.204.102.211 with HTTP; Wed, 23 Feb 2011 03:24:36 -0800 (PST)
Date: Wed, 23 Feb 2011 12:24:36 +0100
Message-ID: <AANLkTimfn7cZuXoTiF-y-j2hfWL_CDiAEYXP8S81UAkK@mail.gmail.com>
Subject: ClosedChannelException
From: Akos Tajti <akos.tajti@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=001636d34c44899c22049cf157a3
X-Virus-Checked: Checked by ClamAV on apache.org

--001636d34c44899c22049cf157a3
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Hi,

I'm using lucene 3.0.3 on ubuntu and always getting ClosedChannelException:

java.nio.channels.ClosedChannelException
at sun.nio.ch.FileChannelImpl.ensureOpen(Unknown Source)
at sun.nio.ch.FileChannelImpl.read(Unknown Source)
at
org.apache.lucene.store.NIOFSDirectory$NIOFSIndexInput.readInternal(NIOFSDi=
rectory.java:168)
at
org.apache.lucene.store.BufferedIndexInput.refill(BufferedIndexInput.java:1=
60)
at
org.apache.lucene.store.BufferedIndexInput.readByte(BufferedIndexInput.java=
:39)
at org.apache.lucene.store.IndexInput.readVLong(IndexInput.java:99)
at org.apache.lucene.index.SegmentTermEnum.next(SegmentTermEnum.java:135)
at org.apache.lucene.index.SegmentMergeInfo.next(SegmentMergeInfo.java:69)
at
org.apache.lucene.index.DirectoryReader$MultiTermEnum.next(DirectoryReader.=
java:1045)
at org.apache.lucene.search.FilteredTermEnum.next(FilteredTermEnum.java:77)
at
org.apache.lucene.search.FilteredTermEnum.setEnum(FilteredTermEnum.java:56)
at org.apache.lucene.search.FuzzyTermEnum.<init>(FuzzyTermEnum.java:121)
at
org.apache.lucene.search.FuzzyLikeThisQuery.addTerms(FuzzyLikeThisQuery.jav=
a:202)
at
org.apache.lucene.search.FuzzyLikeThisQuery.rewrite(FuzzyLikeThisQuery.java=
:261)
at org.apache.lucene.search.BooleanQuery.rewrite(BooleanQuery.java:386)
at org.apache.lucene.search.BooleanQuery.rewrite(BooleanQuery.java:371)
at org.apache.lucene.search.BooleanQuery.rewrite(BooleanQuery.java:386)
at org.apache.lucene.search.BooleanQuery.rewrite(BooleanQuery.java:386)
at org.apache.lucene.search.IndexSearcher.rewrite(IndexSearcher.java:272)
at org.apache.lucene.search.Query.weight(Query.java:100)
at org.apache.lucene.search.Searcher.createWeight(Searcher.java:147)
at org.apache.lucene.search.Searcher.search(Searcher.java:49)

This exception usually occurs when one or more3 searches run at the same
time. I modified the code to check indexReader.refCount before colsing the
indexSearcher and it seems that the problem disappeared. However, I'm not
sure that this is the best solution. Do you have any other ideas?

Thanks in advance,
=C1kos Tajti

--001636d34c44899c22049cf157a3--

From java-user-return-48779-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Feb 23 11:35:11 2011
Return-Path: <java-user-return-48779-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55436 invoked from network); 23 Feb 2011 11:35:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 23 Feb 2011 11:35:11 -0000
Received: (qmail 25864 invoked by uid 500); 23 Feb 2011 11:35:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25279 invoked by uid 500); 23 Feb 2011 11:35:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25271 invoked by uid 99); 23 Feb 2011 11:35:05 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Feb 2011 11:35:05 +0000
X-ASF-Spam-Status: No, hits=2.8 required=5.0
	tests=FREEMAIL_FROM,FREEMAIL_REPLYTO,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of simon.willnauer@googlemail.com designates 209.85.220.176 as permitted sender)
Received: from [209.85.220.176] (HELO mail-vx0-f176.google.com) (209.85.220.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Feb 2011 11:34:58 +0000
Received: by vxc41 with SMTP id 41so2909757vxc.35
        for <java-user@lucene.apache.org>; Wed, 23 Feb 2011 03:34:37 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:mime-version:reply-to:in-reply-to:references
         :date:message-id:subject:from:to:cc:content-type
         :content-transfer-encoding;
        bh=EQnU5aX/C5iqzojMVQQjqMdBbEqWwQVp0yrfMpNK16s=;
        b=Yf+desquaVaveroCDBH7xI/7JE9ORdhIwKZeqw90OetUsg/vr704i2JhJd6EC9eiSC
         90hMAUu77OjPjjY2bhxEvoqbxLJj044Z6A7T7EiLoMDy5AAtqhL2SwKzvCEl0fR6/HoR
         0S5U1yjRNZFEqD5QLlUMhQMY+ctk2G8V+3Sm4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=mime-version:reply-to:in-reply-to:references:date:message-id
         :subject:from:to:cc:content-type:content-transfer-encoding;
        b=x34qwGRDqp0V9PHxu6jtiAaIClXtHuqnOYQswPjOsbtWOGj04NZ+Fw9+nUIXAFpCnq
         4tFVFqTHedQARtfCpptlk6ZL5lIaQ7w2LUSobJ6dux22h0D5JhhRsmlceLTYpcNf7FXp
         WpWtiHI1wPMO23lLh3hDZbuwFA+BhmZKy6izM=
MIME-Version: 1.0
Received: by 10.220.62.15 with SMTP id v15mr893307vch.67.1298460877359; Wed,
 23 Feb 2011 03:34:37 -0800 (PST)
Received: by 10.220.176.137 with HTTP; Wed, 23 Feb 2011 03:34:37 -0800 (PST)
Reply-To: simon.willnauer@gmail.com
In-Reply-To: <AANLkTimfn7cZuXoTiF-y-j2hfWL_CDiAEYXP8S81UAkK@mail.gmail.com>
References: <AANLkTimfn7cZuXoTiF-y-j2hfWL_CDiAEYXP8S81UAkK@mail.gmail.com>
Date: Wed, 23 Feb 2011 12:34:37 +0100
Message-ID: <AANLkTi=MD8_N7K0NiiDan5XdT4HCG4Lj6XnV4eWCB51+@mail.gmail.com>
Subject: Re: ClosedChannelException
From: Simon Willnauer <simon.willnauer@googlemail.com>
To: java-user@lucene.apache.org
Cc: Akos Tajti <akos.tajti@gmail.com>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Hey, are you using Thread.interrupt() or Future.cancel() somewhere in
your code? If so, this seems to be a limitation in java's NIO library.
see https://issues.apache.org/jira/browse/LUCENE-2239 for details.

If you are running on 64bit then you could try MMapDirectory there
this limitation is by far less likely to happen (only when you open
the index)

Simon

On Wed, Feb 23, 2011 at 12:24 PM, Akos Tajti <akos.tajti@gmail.com> wrote:
> Hi,
>
> I'm using lucene 3.0.3 on ubuntu and always getting ClosedChannelExceptio=
n:
>
> java.nio.channels.ClosedChannelException
> at sun.nio.ch.FileChannelImpl.ensureOpen(Unknown Source)
> at sun.nio.ch.FileChannelImpl.read(Unknown Source)
> at
> org.apache.lucene.store.NIOFSDirectory$NIOFSIndexInput.readInternal(NIOFS=
Directory.java:168)
> at
> org.apache.lucene.store.BufferedIndexInput.refill(BufferedIndexInput.java=
:160)
> at
> org.apache.lucene.store.BufferedIndexInput.readByte(BufferedIndexInput.ja=
va:39)
> at org.apache.lucene.store.IndexInput.readVLong(IndexInput.java:99)
> at org.apache.lucene.index.SegmentTermEnum.next(SegmentTermEnum.java:135)
> at org.apache.lucene.index.SegmentMergeInfo.next(SegmentMergeInfo.java:69=
)
> at
> org.apache.lucene.index.DirectoryReader$MultiTermEnum.next(DirectoryReade=
r.java:1045)
> at org.apache.lucene.search.FilteredTermEnum.next(FilteredTermEnum.java:7=
7)
> at
> org.apache.lucene.search.FilteredTermEnum.setEnum(FilteredTermEnum.java:5=
6)
> at org.apache.lucene.search.FuzzyTermEnum.<init>(FuzzyTermEnum.java:121)
> at
> org.apache.lucene.search.FuzzyLikeThisQuery.addTerms(FuzzyLikeThisQuery.j=
ava:202)
> at
> org.apache.lucene.search.FuzzyLikeThisQuery.rewrite(FuzzyLikeThisQuery.ja=
va:261)
> at org.apache.lucene.search.BooleanQuery.rewrite(BooleanQuery.java:386)
> at org.apache.lucene.search.BooleanQuery.rewrite(BooleanQuery.java:371)
> at org.apache.lucene.search.BooleanQuery.rewrite(BooleanQuery.java:386)
> at org.apache.lucene.search.BooleanQuery.rewrite(BooleanQuery.java:386)
> at org.apache.lucene.search.IndexSearcher.rewrite(IndexSearcher.java:272)
> at org.apache.lucene.search.Query.weight(Query.java:100)
> at org.apache.lucene.search.Searcher.createWeight(Searcher.java:147)
> at org.apache.lucene.search.Searcher.search(Searcher.java:49)
>
> This exception usually occurs when one or more3 searches run at the same
> time. I modified the code to check indexReader.refCount before colsing th=
e
> indexSearcher and it seems that the problem disappeared. However, I'm not
> sure that this is the best solution. Do you have any other ideas?
>
> Thanks in advance,
> =C3=81kos Tajti
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48780-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Feb 24 01:59:49 2011
Return-Path: <java-user-return-48780-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56911 invoked from network); 24 Feb 2011 01:59:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 24 Feb 2011 01:59:49 -0000
Received: (qmail 6262 invoked by uid 500); 24 Feb 2011 01:59:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6070 invoked by uid 500); 24 Feb 2011 01:59:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6062 invoked by uid 99); 24 Feb 2011 01:59:46 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Feb 2011 01:59:46 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [74.125.82.42] (HELO mail-ww0-f42.google.com) (74.125.82.42)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Feb 2011 01:59:38 +0000
Received: by wwe15 with SMTP id 15so66937wwe.5
        for <java-user@lucene.apache.org>; Wed, 23 Feb 2011 17:59:17 -0800 (PST)
Received: by 10.216.160.84 with SMTP id t62mr158284wek.69.1298512756954;
        Wed, 23 Feb 2011 17:59:16 -0800 (PST)
Received: from bester.local ([65.78.136.75])
        by mx.google.com with ESMTPS id n1sm3513589weq.7.2011.02.23.17.59.15
        (version=SSLv3 cipher=OTHER);
        Wed, 23 Feb 2011 17:59:16 -0800 (PST)
Date: Wed, 23 Feb 2011 17:59:13 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: Lucene Users <java-user@lucene.apache.org>
Subject: Re: Facet search
In-Reply-To: <AANLkTik0i8tNwQheMaaobZ=eQ5K=dbFcGNfCsJi8-UqU@mail.gmail.com>
Message-ID: <alpine.DEB.2.00.1102231731480.8001@bester>
References: <6DA286C6929845B5A5BB53F0E7CE2E6C@sv.us.sonicwall.com> <43cb7752896d15a055b9058af73c492b.squirrel@webmail.xs4all.nl> <AANLkTik0i8tNwQheMaaobZ=eQ5K=dbFcGNfCsJi8-UqU@mail.gmail.com>
User-Agent: Alpine 2.00 (DEB 1167 2008-08-23)
MIME-Version: 1.0
Content-Type: MULTIPART/MIXED; BOUNDARY="8323328-1399534100-1298512755=:8001"

--8323328-1399534100-1298512755=:8001
Content-Type: TEXT/PLAIN; charset=UTF-8
Content-Transfer-Encoding: 8BIT


: This is another indicator that we should really try to extract Solr's
: capabilities like Faceting into modules! Solr should not be required
: if you want to use the facteing stuff we already have.

the most basic logic of (field) faceting used by solr is simple TermEnum 
iteration and document set intersection.  Any Lucene application can do 
that w/o really refactoring any code out of Solr.  it's very straight 
forward.

The real value adds that solr provides are:

 * DocSet caching and cache warming which solr can do for you because it 
knows when index changes (because it manages all the writes and reader 
reopening).  
 * select alternate facet algorithms based on schema knowledge -- looking 
at field types and value cardinality to determine when FieldCache or 
UnInvertedField would be more efficient then TermEnumeration and DocSets
 * acurate counts when doing distributed searching

This aren't things that seem like they could really be extracted in a very 
reusable manner -- the pre-requisets and scaffolding you'd need to 
setup and use these pieces in a meaningful way outside of solr would 
probably wind up being just like solr.

There are however lots of pieces that oculd be extracted and reused -- but 
those things have allready been started/discussed (DocSets, hooks for 
generic caches that are notified when IndexReaders are reopened, or 
segments are changed, multivalue support in FieldCache, etc...)

: >> I am using Lucene for my project and we have new requirement to present
: >> data in the form of Analytics. Facet could be used for that but for this

thats kind of a vague requirement -- if you can elaborate a bit on what 
types of info you actaully want to compute/return, there may be a very 
straightforward way to do it.  

like i said: the basics of faceting over all terms in a field is *really* 
trivial ... the original implementation in Solr was about 40 lines of 
code...

http://svn.apache.org/viewvc/incubator/solr/trunk/src/java/org/apache/solr/request/SimpleFacets.java?view=markup&pathrev=441175#l163


-Hoss

--8323328-1399534100-1298512755=:8001
Content-Type: text/plain; charset=us-ascii


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
--8323328-1399534100-1298512755=:8001--

From java-user-return-48781-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Feb 24 06:21:59 2011
Return-Path: <java-user-return-48781-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59790 invoked from network); 24 Feb 2011 06:21:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 24 Feb 2011 06:21:59 -0000
Received: (qmail 99674 invoked by uid 500); 24 Feb 2011 06:21:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99025 invoked by uid 500); 24 Feb 2011 06:21:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99015 invoked by uid 99); 24 Feb 2011 06:21:51 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Feb 2011 06:21:51 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=FREEMAIL_FROM,MIME_QP_LONG_LINE,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_NEUTRAL,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [121.101.151.210] (HELO nm2-vm0.bullet.mail.in.yahoo.com) (121.101.151.210)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 24 Feb 2011 06:21:45 +0000
Received: from [121.101.151.238] by nm2.bullet.mail.in.yahoo.com with NNFMP; 24 Feb 2011 06:21:14 -0000
Received: from [121.101.151.235] by tm3.bullet.mail.in.yahoo.com with NNFMP; 24 Feb 2011 06:21:25 -0000
Received: from [127.0.0.1] by omp1004.mail.in.yahoo.com with NNFMP; 24 Feb 2011 06:21:41 -0000
X-Yahoo-Newman-Id: 781783.34209.bm@omp1004.mail.in.yahoo.com
Received: (qmail 52596 invoked from network); 24 Feb 2011 06:21:22 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=DKIM-Signature:Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:References:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE;
  b=QJjaZPPhLBN9jLDXcNEyGjLUPWJ6B+c7ktpxXcNwXIBXUQdrWvCBgRH/Bs2Fa0mW6BGmsu1vFnqHzA2kB8QI7yqa3rXWK8tkraMU4IF+cePzywIk4YCUZLspNWtk27kPR5gm11BX3Loa306eTXj7QHeC2CwdN5v5WqP90FApABg=  ;
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.in; s=s1024; t=1298528482; bh=OdZCDifSQa4E5aev92EqlB6GD9FhSG/Fp97aaWCBaEM=; h=Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:References:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE; b=C5LJgfrWdzA2HBvX9ge5GbRUzsNMEecMNZgUFmNuEd5qy028xEOo67K6aXo9OGy6HC1aUo7DbWyDnw27K/X27LwD48w7BoWQefL1DUAlUMDrVaCuOUzvi2Pc3C6I+9bLHiiRkOlUvZsu+3GXKeyGrJo037ulowpiJziXm8kj8QE=
Received: from GaneshM (emailgane@121.244.159.130 with login)
        by smtp108.mail.in.yahoo.com with SMTP; 24 Feb 2011 11:51:22 +0530 IST
X-Yahoo-SMTP: JObyHkuswBBrNSLZp.Ycd7Boqpr_GQ--
X-YMail-OSG: yqH7xiQVM1lTD7sbqOFGWa.F828WilWq1Ad6xlOD4Mb0hxm
 mf8LGvC0xC25rDMSSBO4Tmc6OjLhQVUFad4OBMo3Rxh_1zyKfNGQd4HeHPTo
 atJ3UIwgqylzPQ5Rho2yHHNjOkdDtdO5qVqRCPN1YrMJPFnRRESdmGTNcfuz
 aDxzuldpdMXF3L.GRpceI3oDLXEuCSdng44Cn6M8MiEr8bdnJ1qPCgptu6kd
 7_12zBeOJD15rNrHreRUiCChbUGAdz3J1Y0qWdm9CYQEyqVyN8g--
X-Yahoo-Newman-Property: ymail-3
Message-ID: <F81C654AEEC341B4BA8CFAF04B06F4DC@sv.us.sonicwall.com>
From: "Ganesh" <emailgane@yahoo.co.in>
To: <java-user@lucene.apache.org>
References: <6DA286C6929845B5A5BB53F0E7CE2E6C@sv.us.sonicwall.com> <43cb7752896d15a055b9058af73c492b.squirrel@webmail.xs4all.nl> <AANLkTik0i8tNwQheMaaobZ=eQ5K=dbFcGNfCsJi8-UqU@mail.gmail.com> <alpine.DEB.2.00.1102231731480.8001@bester>
Subject: Re: Re: Facet search
Date: Thu, 24 Feb 2011 11:51:25 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.5931
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.5931

My requirement is, I want to display the Top Terms with their count for =
every field. I am having 10 fields and in Each field Top 3 terms with =
their count should be displayed. When User selects any term then the =
search will be performed to filter the results.=20

I could use term vector and enumurate the term freqeuncy and sort it but =
it may be time consuming task. =20

Field_1                   Field_2                     Field_N =20
Term_1_1(100)     Term_2_1(389)       Term_N_1(216)
Term_1_2(78)      Term_2_2(134)        Term_N_2(156)
Term_1_3(56)      Term_2_3(78)          Term_N_3(89)

Sample:
-------------
Top users                 Country                 PageAccessed    =20
UserA (100)             India (1000)           /Articles/abc (200)
UserB (100)             US(500)                 /Articles/xyz (200)
UserC (100)             Russia(200)            /Articles/aaa (100)

When click on particular user, the results should be grouped for that =
User.
Top users                 Country                 PageAccessed    =20
UserA (100)             India (100)           /Articles/abc (55)
                                US(50)                 /Articles/xyz =
(25)
                                                             =
/Articles/aaa (10)
Regards
Ganesh


----- Original Message -----=20
From: "Chris Hostetter" <hossman_lucene@fucit.org>
To: "Lucene Users" <java-user@lucene.apache.org>
Sent: Thursday, February 24, 2011 7:29 AM
Subject: [Bulk] Re: Facet search


>=20
> : This is another indicator that we should really try to extract =
Solr's
> : capabilities like Faceting into modules! Solr should not be required
> : if you want to use the facteing stuff we already have.
>=20
> the most basic logic of (field) faceting used by solr is simple =
TermEnum=20
> iteration and document set intersection.  Any Lucene application can =
do=20
> that w/o really refactoring any code out of Solr.  it's very straight=20
> forward.
>=20
> The real value adds that solr provides are:
>=20
> * DocSet caching and cache warming which solr can do for you because =
it=20
> knows when index changes (because it manages all the writes and reader =

> reopening). =20
> * select alternate facet algorithms based on schema knowledge -- =
looking=20
> at field types and value cardinality to determine when FieldCache or=20
> UnInvertedField would be more efficient then TermEnumeration and =
DocSets
> * acurate counts when doing distributed searching
>=20
> This aren't things that seem like they could really be extracted in a =
very=20
> reusable manner -- the pre-requisets and scaffolding you'd need to=20
> setup and use these pieces in a meaningful way outside of solr would=20
> probably wind up being just like solr.
>=20
> There are however lots of pieces that oculd be extracted and reused -- =
but=20
> those things have allready been started/discussed (DocSets, hooks for=20
> generic caches that are notified when IndexReaders are reopened, or=20
> segments are changed, multivalue support in FieldCache, etc...)
>=20
> : >> I am using Lucene for my project and we have new requirement to =
present
> : >> data in the form of Analytics. Facet could be used for that but =
for this
>=20
> thats kind of a vague requirement -- if you can elaborate a bit on =
what=20
> types of info you actaully want to compute/return, there may be a very =

> straightforward way to do it. =20
>=20
> like i said: the basics of faceting over all terms in a field is =
*really*=20
> trivial ... the original implementation in Solr was about 40 lines of=20
> code...
>=20
> =
http://svn.apache.org/viewvc/incubator/solr/trunk/src/java/org/apache/sol=
r/request/SimpleFacets.java?view=3Dmarkup&pathrev=3D441175#l163
>=20
>=20
> -Hoss
>


-------------------------------------------------------------------------=
-------


>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
Send free SMS to your Friends on Mobile from your Yahoo! Messenger. Download Now! http://messenger.yahoo.com/download.php

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48782-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Feb 24 13:57:52 2011
Return-Path: <java-user-return-48782-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42119 invoked from network); 24 Feb 2011 13:57:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 24 Feb 2011 13:57:52 -0000
Received: (qmail 44097 invoked by uid 500); 24 Feb 2011 13:57:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43536 invoked by uid 500); 24 Feb 2011 13:57:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43516 invoked by uid 99); 24 Feb 2011 13:57:39 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Feb 2011 13:57:39 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [140.211.11.9] (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 24 Feb 2011 13:57:38 +0000
Received: (qmail 42036 invoked by uid 99); 24 Feb 2011 13:57:18 -0000
Received: from localhost.apache.org (HELO [10.58.171.114]) (127.0.0.1)
  (smtp-auth username gsingers, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Feb 2011 13:57:18 +0000
From: Grant Ingersoll <gsingers@apache.org>
Content-Type: multipart/alternative; boundary=Apple-Mail-1-273573405
Subject: Free Webcast/Technical Case Study:  How Bazaarvoice moved to Solr to implement Search Strategies for Social and eCommerce
Date: Thu, 24 Feb 2011 05:57:16 -0800
Message-Id: <5BC04FF4-6408-4AA9-8B5D-CEDD19992D02@apache.org>
To: solr-user@lucene.apache.org,
 java-user@lucene.apache.org
Mime-Version: 1.0 (Apple Message framework v1082)
X-Mailer: Apple Mail (2.1082)

--Apple-Mail-1-273573405
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset=us-ascii

I thought you might be interested in a technical webcast on
Solr/Lucene and e-commerce/social media that we are sponsoring,
featuring RC Johnson of Bazaarvoice. It's Wednesday, March 2, 2011 at
11:00am PST/2:00pm EST/19:00 GMT.

RC has been leading efforts at Bazaarvoice to build out their Solr
search applications moving beyond a more traditional RDBMS-centered
data strategy. If you've not heard of Bazaarovoice, they provide
user-generated content and ratings in a white-label service offering.
They use Solr to index and search millions online customer
conversations that deliver billions of monthly impressions for leading
companies in retail, manufacturing, financial services, health care,
travel and media.

Key topics this webcast will cover include:

Iterative expansion of search features and content collections
Migrating from simplistic database search to Solr-based search
Integrating statistical analytics into search at scale
Considering NoSQL for scalability and deployability of big data, to
make data easier to consume across applications

You can sign up here: http://www.eventsvc.com/lucidimagination/030211?trk=ap
and mark you calendars for Wednesday, March 2, 2011 at 11:00am
PST/2:00pm EST/19:00 GMT.

-Grant
--Apple-Mail-1-273573405--

From java-user-return-48783-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 25 05:17:18 2011
Return-Path: <java-user-return-48783-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15187 invoked from network); 25 Feb 2011 05:17:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Feb 2011 05:17:18 -0000
Received: (qmail 3793 invoked by uid 500); 25 Feb 2011 05:17:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3228 invoked by uid 500); 25 Feb 2011 05:17:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3219 invoked by uid 99); 25 Feb 2011 05:17:10 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 05:17:10 +0000
X-ASF-Spam-Status: No, hits=3.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of vaiju1981@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 05:17:02 +0000
Received: by iyj12 with SMTP id 12so802570iyj.35
        for <java-user@lucene.apache.org>; Thu, 24 Feb 2011 21:16:41 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=1CNqbByfp6MW6Qnf2viyk1BVKWDqqSmFFLsdExPSsCA=;
        b=ibMpFxBi9PFFN6weaNI/MJmMIvZWgjzWhJBXD2xx1RhZBLPzH3jyvM7Fz0H+3r4jk/
         f2DZvr8OSFDn0BlvEUXuW5MjnyyqN1aLRYQTxlH4PZUHOV14BaPI8AfXmXp+H/xq4r4n
         j1q31Dez1sW2pFRxuxGfuLSRTpLIWvpvRjigU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=Ab4q/Q9ilY3ctgSSIu9qqx3mS8BGqhTD77ofB15ZntTs1Hcel+0yVXaUCEbZnHEyor
         8q9o9Vp19sV8hIZOsNMZV3gli87J65+CJPnjKCIwzC9GMsdSutrbb9szHYk7UC3MmBwx
         dXPgGITWQ+Zbo01t0WSajY1VqqQjqZJ07tr90=
MIME-Version: 1.0
Received: by 10.231.11.68 with SMTP id s4mr2620812ibs.14.1298611001691; Thu,
 24 Feb 2011 21:16:41 -0800 (PST)
Received: by 10.231.184.162 with HTTP; Thu, 24 Feb 2011 21:16:41 -0800 (PST)
Date: Fri, 25 Feb 2011 10:46:41 +0530
Message-ID: <AANLkTik1k3FohohidLLM8CXLTFzwkca2aW1428vHKjOW@mail.gmail.com>
Subject: Best way to Use SHOULD and MUST Clauses
From: Vaijanath Rao <vaiju1981@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00221532c7cc751159049d146f1a
X-Virus-Checked: Checked by ClamAV on apache.org

--00221532c7cc751159049d146f1a
Content-Type: text/plain; charset=ISO-8859-1

Hi All,

I need to create a boolean query with MUST clause as well as SHOULD Clause.
The result I get is the one which has MUST Clause but there are no SHOULD
Clause present.
I need something like the following
+term:abc +loc:nyc and one of the ngrams for spell check like spell:co,
spell:cor and so on

Currently if include them as one BooleanQuery I get the doc maching the must
clause on top but does not have any of the spell field used. So I tried to
used setMinimumNumberShouldMatch(1), which causes no documents to match.

I tried the following approaches

Approach : 1
a. All Must Terms in one BooleanQuery
b. All SpellTerms as Should in Second BooleanQuery
c. FinalQuery as MustBooleanQuery and SpellBooleanQuery ( both added as
Must) : output no results found

Approach : 2
a. All Must Terms in One BooleanQuery
b. All SpellTerms added as Should Clauses to finalQuery
c. Adding MustBooleanQuery to finalQuery : Top record match found only has
Must part and no should clauses

Approach :3
Same as 2 but with setMinimumNumberShouldMatch(1), so that atleast one
spellTerms is matched : Output is no result found

Approach :4
a. Add All Must terms into finalquery as Must Clause
b.All SpellTerms added as Should Clauses to finalQuery
c.Result: Top record match found only has Must part and no should clauses

Approach :5
Same as 4 but with setMinimumNumberShouldMatch(1)
c.Result: No Result Found

I am calling TopDocs = searcher.search(finalQuery,MAX_HITS); in all the
above cases and using Lucene 3.0.2

Can someone help me in getting this query right to get atleast one spellterm
to be matched with the document.

--Thanks and Regards
Vaijanath N. Rao

--00221532c7cc751159049d146f1a--

From java-user-return-48784-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 25 06:27:28 2011
Return-Path: <java-user-return-48784-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59624 invoked from network); 25 Feb 2011 06:27:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Feb 2011 06:27:28 -0000
Received: (qmail 39059 invoked by uid 500); 25 Feb 2011 06:27:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37731 invoked by uid 500); 25 Feb 2011 06:27:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37716 invoked by uid 99); 25 Feb 2011 06:27:19 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 06:27:19 +0000
X-ASF-Spam-Status: No, hits=3.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lsingh.969@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 06:27:13 +0000
Received: by iwr19 with SMTP id 19so1096308iwr.35
        for <multiple recipients>; Thu, 24 Feb 2011 22:26:52 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to:cc
         :content-type;
        bh=naWA1MCaub23q1X+iCJb5sIAyF+YmP0gm5RdgpTCOsA=;
        b=DxCXwUU2GrUfGsrH15aCTKY41AmYq/eSglXf6unLMrPOUnKj+JbD42COBOorzG9qU5
         d+SZMnQZPOyrons18RLTUUSDUc99T4vNReA9YDHNrJKeeyI+HUg+bk1G8xuJcTK4kHDZ
         odh/IvJZO4QreH0Oy2FPkORQhoDz43h+xcrw8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:cc:content-type;
        b=xRgeTQhVb1WIe++tAxdWEjW6dDfeJ34VVoHgvrTph46P0YCWa0KLn+U7YLm3jrpZQp
         bzlT8DLEMomGNUdrokEny/Kpb8zO+FhpaaUAP1J2lUpwjoTINCbmF1bImC5zqny9x+Cf
         dR0NOv1F+FkvgMJgDHodhrTPDFhuqkdr7wQkE=
MIME-Version: 1.0
Received: by 10.42.230.193 with SMTP id jn1mr363617icb.87.1298615212531; Thu,
 24 Feb 2011 22:26:52 -0800 (PST)
Received: by 10.231.10.200 with HTTP; Thu, 24 Feb 2011 22:26:52 -0800 (PST)
Date: Fri, 25 Feb 2011 11:56:52 +0530
Message-ID: <AANLkTikyEeWgBmKYtiOS6Bw_bdiNc8mOcxsY1in1YtwT@mail.gmail.com>
Subject: Converting an existing index format to Lucene Index
From: Lokendra Singh <lsingh.969@gmail.com>
To: java-user@lucene.apache.org
Cc: dev@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf3054a0397160b2049d156a64

--20cf3054a0397160b2049d156a64
Content-Type: text/plain; charset=ISO-8859-1

Hi all,

I am seeking for some guidelines to directly convert an already existing
index to Lucene index.
The index available to me is of a set of <value1,value2> pairs. Where each
pair is :
< word ,  fileName >
i.e a word as a 'value1', and the 'value2' being the fileName containing
that word.

A word might appear in several fileNames as well a same file can contain
multiple copies of a word. For eg, following index is possible:
< "my"  , "file1" >
< "you" , "file2" >
< "my",  "file2" >
< "my", "file1">

My actual problem is that the index available to me is very large in size,
hence I am bit reluctant to create 'Document' object for each file because
for that I will have to read through all the pairs first and store them in
memory. Or I will have to 'update' the 'Document' object of a particular
file while iterating through the Pairs of my index, this 'update', again, is
a costly operation.

Please correct me if my understanding of Lucene is wrong or other
alternative ways.

Regards
Lokendra

--20cf3054a0397160b2049d156a64--

From java-user-return-48785-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 25 07:05:42 2011
Return-Path: <java-user-return-48785-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78618 invoked from network); 25 Feb 2011 07:05:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Feb 2011 07:05:42 -0000
Received: (qmail 75231 invoked by uid 500); 25 Feb 2011 07:05:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74934 invoked by uid 500); 25 Feb 2011 07:05:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74920 invoked by uid 99); 25 Feb 2011 07:05:35 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 07:05:35 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of findbestopensource@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 07:05:28 +0000
Received: by fxm2 with SMTP id 2so1719988fxm.35
        for <multiple recipients>; Thu, 24 Feb 2011 23:05:08 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:cc:content-type;
        bh=J5YXTpGDH1uF+fA24p382phjnCUNf2px99/VYDuDR3U=;
        b=wz+pj5PJ5VJFEJmqh7vearkK1tJJ3sIkgaKcwkOgOk/2jEDsiBX7oOvm4B+kNLK7Yq
         t00lTRty9SssQojZJsU82H21sTMJVFOLx0hgzxnvvSXHjTGY9fIBmntKGnr5QCOB/pfL
         JEDGqdvv1mXjXESyeBdOh1b8rnWaU48Zkwdrw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type;
        b=QV3rlENKr//gP22A4MGgfqz+iZQUosbx9a5yMBJrYqg3DcIo4LqlJnLJD8emOjE5kj
         4i2KQAFKfU0IspLMK9fU5v2yveXWqsenVLNwJnklvbWkbwAtgd8qxNoDMZRG/mQqemL4
         vRGJMQWgS7jlwT5oA2n+0ipEv3wsp1l03Tjz4=
MIME-Version: 1.0
Received: by 10.223.87.67 with SMTP id v3mr2145713fal.130.1298617508119; Thu,
 24 Feb 2011 23:05:08 -0800 (PST)
Received: by 10.223.123.16 with HTTP; Thu, 24 Feb 2011 23:05:08 -0800 (PST)
In-Reply-To: <AANLkTikyEeWgBmKYtiOS6Bw_bdiNc8mOcxsY1in1YtwT@mail.gmail.com>
References: <AANLkTikyEeWgBmKYtiOS6Bw_bdiNc8mOcxsY1in1YtwT@mail.gmail.com>
Date: Fri, 25 Feb 2011 12:35:08 +0530
Message-ID: <AANLkTik86D+0YSretOg6HtFML-S-+mUHyoA5LKj53Wcz@mail.gmail.com>
Subject: Re: Converting an existing index format to Lucene Index
From: findbestopensource <findbestopensource@gmail.com>
To: java-user@lucene.apache.org
Cc: Lokendra Singh <lsingh.969@gmail.com>, dev@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf304345484546bf049d15f3c1
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf304345484546bf049d15f3c1
Content-Type: text/plain; charset=ISO-8859-1

Hello Lokendra,

You could updates frequently. Anyway i think it is one time job.

My advice would be do insertion and updates in batch.
1. Parse your file and read 1000 lines
2. Do some aggregation and insert / update with lucene.

Regards
Aditya
www.findbestopensource.com



On Fri, Feb 25, 2011 at 11:56 AM, Lokendra Singh <lsingh.969@gmail.com>wrote:

> Hi all,
>
> I am seeking for some guidelines to directly convert an already existing
> index to Lucene index.
> The index available to me is of a set of <value1,value2> pairs. Where each
> pair is :
> < word ,  fileName >
> i.e a word as a 'value1', and the 'value2' being the fileName containing
> that word.
>
> A word might appear in several fileNames as well a same file can contain
> multiple copies of a word. For eg, following index is possible:
> < "my"  , "file1" >
> < "you" , "file2" >
> < "my",  "file2" >
> < "my", "file1">
>
> My actual problem is that the index available to me is very large in size,
> hence I am bit reluctant to create 'Document' object for each file because
> for that I will have to read through all the pairs first and store them in
> memory. Or I will have to 'update' the 'Document' object of a particular
> file while iterating through the Pairs of my index, this 'update', again,
> is
> a costly operation.
>
> Please correct me if my understanding of Lucene is wrong or other
> alternative ways.
>
> Regards
> Lokendra
>

--20cf304345484546bf049d15f3c1--

From java-user-return-48786-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 25 07:49:42 2011
Return-Path: <java-user-return-48786-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88625 invoked from network); 25 Feb 2011 07:49:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Feb 2011 07:49:42 -0000
Received: (qmail 26332 invoked by uid 500); 25 Feb 2011 07:49:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25757 invoked by uid 500); 25 Feb 2011 07:49:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25749 invoked by uid 99); 25 Feb 2011 07:49:36 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 07:49:36 +0000
X-ASF-Spam-Status: No, hits=3.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of vaiju1981@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 07:49:29 +0000
Received: by iwr19 with SMTP id 19so1139043iwr.35
        for <java-user@lucene.apache.org>; Thu, 24 Feb 2011 23:49:09 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=JeTaQyhezrcXhe44gx3me02JQ71wl3HfgWipUSjGPlI=;
        b=FApHXz7vNXYSwYGycDZreyzhtu27UBgWjvM+u1m2eAU49zjLbLAglHuae0Xl0yaL8T
         QpVm55oQTAoNLS3AvoE1EM3lbq7e0mTEuAvy+d6dbuALMFZoNX/+DdJCZTFxvhdPeUsg
         JhdbmB9hU/3TK9eHxsMqL5J6gNOryu5nUNOb0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=N4F75Ma/NKt/zVjDEppS/wBYIx55nGaDx6aWIhJehSMb0Vw+2M64RE5+8c4oJrcGzW
         4myi0Ve/l5io2RdqNZ6ZTL3TcWgSSECg7UdpkWbiTBKHVoztH5RPlL75pSIicETPBZ0+
         KuJWfqBpmhlP8mDkilgJLezjMfEX9NjHYl42s=
MIME-Version: 1.0
Received: by 10.231.11.68 with SMTP id s4mr2701976ibs.14.1298620149001; Thu,
 24 Feb 2011 23:49:09 -0800 (PST)
Received: by 10.231.184.162 with HTTP; Thu, 24 Feb 2011 23:49:08 -0800 (PST)
In-Reply-To: <AANLkTik1k3FohohidLLM8CXLTFzwkca2aW1428vHKjOW@mail.gmail.com>
References: <AANLkTik1k3FohohidLLM8CXLTFzwkca2aW1428vHKjOW@mail.gmail.com>
Date: Fri, 25 Feb 2011 13:19:08 +0530
Message-ID: <AANLkTimpiw2-P5Gp_7JKa8CCvq5Hens-c0WGfdY7zHj-@mail.gmail.com>
Subject: Re: Best way to Use SHOULD and MUST Clauses
From: Vaijanath Rao <vaiju1981@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00221532c7ccaded4c049d169077

--00221532c7ccaded4c049d169077
Content-Type: text/plain; charset=ISO-8859-1

Hi All,

Sorry just ignore this mail, did not realize I was hitting a different index
and looking at different index all together.
It's working like it should be.

--Thanks and Regards
Vaijanath N. Rao

On Fri, Feb 25, 2011 at 10:46 AM, Vaijanath Rao <vaiju1981@gmail.com> wrote:

> Hi All,
>
> I need to create a boolean query with MUST clause as well as SHOULD Clause.
> The result I get is the one which has MUST Clause but there are no SHOULD
> Clause present.
> I need something like the following
> +term:abc +loc:nyc and one of the ngrams for spell check like spell:co,
> spell:cor and so on
>
> Currently if include them as one BooleanQuery I get the doc maching the
> must clause on top but does not have any of the spell field used. So I tried
> to used setMinimumNumberShouldMatch(1), which causes no documents to match.
>
> I tried the following approaches
>
> Approach : 1
> a. All Must Terms in one BooleanQuery
> b. All SpellTerms as Should in Second BooleanQuery
> c. FinalQuery as MustBooleanQuery and SpellBooleanQuery ( both added as
> Must) : output no results found
>
> Approach : 2
> a. All Must Terms in One BooleanQuery
> b. All SpellTerms added as Should Clauses to finalQuery
> c. Adding MustBooleanQuery to finalQuery : Top record match found only has
> Must part and no should clauses
>
> Approach :3
> Same as 2 but with setMinimumNumberShouldMatch(1), so that atleast one
> spellTerms is matched : Output is no result found
>
> Approach :4
> a. Add All Must terms into finalquery as Must Clause
> b.All SpellTerms added as Should Clauses to finalQuery
> c.Result: Top record match found only has Must part and no should clauses
>
> Approach :5
> Same as 4 but with setMinimumNumberShouldMatch(1)
> c.Result: No Result Found
>
> I am calling TopDocs = searcher.search(finalQuery,MAX_HITS); in all the
> above cases and using Lucene 3.0.2
>
> Can someone help me in getting this query right to get atleast one
> spellterm to be matched with the document.
>
> --Thanks and Regards
> Vaijanath N. Rao
>



-- 
I am feeling fine, healthier and Happier, what about you

--00221532c7ccaded4c049d169077--

From java-user-return-48787-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 25 08:58:47 2011
Return-Path: <java-user-return-48787-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11909 invoked from network); 25 Feb 2011 08:58:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Feb 2011 08:58:46 -0000
Received: (qmail 77852 invoked by uid 500); 25 Feb 2011 08:58:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76878 invoked by uid 500); 25 Feb 2011 08:58:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 72481 invoked by uid 99); 25 Feb 2011 08:54:33 -0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Message-ID: <4D676E25.6010305@wolfram.com>
Date: Fri, 25 Feb 2011 02:53:57 -0600
From: Edward Drapkin <edwardd@wolfram.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.2.13) Gecko/20101207 Thunderbird/3.1.7
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Converting an existing index format to Lucene Index
References: <AANLkTikyEeWgBmKYtiOS6Bw_bdiNc8mOcxsY1in1YtwT@mail.gmail.com>
In-Reply-To: <AANLkTikyEeWgBmKYtiOS6Bw_bdiNc8mOcxsY1in1YtwT@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 2/25/2011 12:26 AM, Lokendra Singh wrote:
> Hi all,
>
> I am seeking for some guidelines to directly convert an already 
> existing index to Lucene index.
> The index available to me is of a set of <value1,value2> pairs. Where 
> each pair is :
> < word ,  fileName >
> i.e a word as a 'value1', and the 'value2' being the fileName 
> containing that word.
>
> A word might appear in several fileNames as well a same file can 
> contain multiple copies of a word. For eg, following index is possible:
> < "my"  , "file1" >
> < "you" , "file2" >
> < "my",  "file2" >
> < "my", "file1">
>
> My actual problem is that the index available to me is very large in 
> size, hence I am bit reluctant to create 'Document' object for each 
> file because for that I will have to read through all the pairs first 
> and store them in memory. Or I will have to 'update' the 'Document' 
> object of a particular file while iterating through the Pairs of my 
> index, this 'update', again, is a costly operation.
>
> Please correct me if my understanding of Lucene is wrong or other 
> alternative ways.
>
> Regards
> Lokendra


Er, sorry for the blank email, hit the wrong button!

There are basically two ways to do this:

1) Buffer everything in RAM and then write all at once - this is 
probably the quickest way to do it, but the most resource intensive and 
prone to failure (OOM will lose all work, for example).
2) Iterate through the list, collecting some number of values and then 
periodically committing them to the index.

There's not really any other way: you either write it out in chunks or 
you write it out all at once.  However, there is some leeway in how you 
iterate through your old index.  Iterating through the entire index and 
buffering everything in RAM and writing it all out at once is, like you 
said, probably prohibitively resource intensive.  You could, on the 
other hand, iterate through the index and only collect values for a 
particular file, then commit that, then iterate again.  I would imagine 
this is a much slower approach, but it will be less memory intensive.

Personally, the way I'd approach this problem... I'd iterate through the 
old index in one pass.  Every time I encountered a new file, I'd create 
a new Document and store it somewhere (something trivial like 
Map<String, Document> where the key is the filename).   I'd also ensure 
that the Documents have a field called "file" so that I could easily 
query them later.  Every iteration, I'd continue to add to the Documents 
and every n iterations I'd commit all the Documents to the index 
(ostensibly calling IndexWriter.updateDocument).  By tuning the number 
of iterations that triggers an index write optimization, you can adjust 
the balance between RAM usage and CPU/IO time spent.  n=1 would 
obviously be the most CPU/IO intensive and n=inf would be the most RAM 
intensive and the "sweet spot" for your requirements is very probably 
somewhere between those two points.

How big is this old index, by the way?   Have you run tests to ensure 
that the memory limit or cpu cost in either method is actually a 
problem?  I think you may be surprised at the speeds you get, if you 
haven't run tests already.

Thanks,
Eddie

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48788-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 25 09:56:10 2011
Return-Path: <java-user-return-48788-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38313 invoked from network); 25 Feb 2011 09:56:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Feb 2011 09:56:10 -0000
Received: (qmail 71965 invoked by uid 500); 25 Feb 2011 09:56:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71843 invoked by uid 500); 25 Feb 2011 09:56:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71832 invoked by uid 99); 25 Feb 2011 09:56:04 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 09:56:04 +0000
X-ASF-Spam-Status: No, hits=3.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of lsingh.969@gmail.com designates 209.85.161.176 as permitted sender)
Received: from [209.85.161.176] (HELO mail-gx0-f176.google.com) (209.85.161.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 09:55:57 +0000
Received: by gxk20 with SMTP id 20so906152gxk.35
        for <java-user@lucene.apache.org>; Fri, 25 Feb 2011 01:55:36 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=fvahaqfCpz/aOnFq4uEJ7VtvuoumBcpGYHvG32XqoEs=;
        b=Q1LYwueUPrPVyZyNef2IdkpP7E8YxQht0RJTN8Y9enYSPPrLAb/5migRPNmUVk4F8y
         cQqQc59n+neyzRkMJgbTMLID1XfHDe3snN2h2onUQd1bs9cZy13z+GdORqcpB7R08LUM
         vihYH1srE0y5IWu1VmJ2anS2MYBw/Bfj6rD1A=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=IssG8VFapakPlzJzfXQO47uRX/dKoS+YQFVTm9bI2lFleZPzuI82pp0xlUSI82TuKK
         XWWTNW66KBaelmJ8YJVIBmEN8AvrBVA+9PdA9zPWmOrZMogkg3cnACa4p7Q5idcNU+uJ
         tDkrHhVAgefz8Nozd8g+i9VoHhd4LlPjWSkGU=
MIME-Version: 1.0
Received: by 10.151.83.19 with SMTP id k19mr3332406ybl.139.1298627736665; Fri,
 25 Feb 2011 01:55:36 -0800 (PST)
Received: by 10.151.43.20 with HTTP; Fri, 25 Feb 2011 01:55:36 -0800 (PST)
In-Reply-To: <4D676E25.6010305@wolfram.com>
References: <AANLkTikyEeWgBmKYtiOS6Bw_bdiNc8mOcxsY1in1YtwT@mail.gmail.com>
	<4D676E25.6010305@wolfram.com>
Date: Fri, 25 Feb 2011 15:25:36 +0530
Message-ID: <AANLkTimfD+r87_LDXHu-Qe2SbN-Pvz5p_yAr7X7C3PKt@mail.gmail.com>
Subject: Re: Converting an existing index format to Lucene Index
From: Lokendra Singh <lsingh.969@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=000e0cd4d912f080b0049d1854f9
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd4d912f080b0049d1854f9
Content-Type: text/plain; charset=ISO-8859-1

Eddie and Aditya: Thanks a lot for your suggestions!!.

The collect-and-commit approach looks good.

@Eddie: My old index size is of order of  ~Milion pairs. Though, I haven't
run any such tests, I will be running them quickly for analysis.

Regards
Lokendra


On Fri, Feb 25, 2011 at 2:23 PM, Edward Drapkin <edwardd@wolfram.com> wrote:

> On 2/25/2011 12:26 AM, Lokendra Singh wrote:
>
>> Hi all,
>>
>> I am seeking for some guidelines to directly convert an already existing
>> index to Lucene index.
>> The index available to me is of a set of <value1,value2> pairs. Where each
>> pair is :
>> < word ,  fileName >
>> i.e a word as a 'value1', and the 'value2' being the fileName containing
>> that word.
>>
>> A word might appear in several fileNames as well a same file can contain
>> multiple copies of a word. For eg, following index is possible:
>> < "my"  , "file1" >
>> < "you" , "file2" >
>> < "my",  "file2" >
>> < "my", "file1">
>>
>> My actual problem is that the index available to me is very large in size,
>> hence I am bit reluctant to create 'Document' object for each file because
>> for that I will have to read through all the pairs first and store them in
>> memory. Or I will have to 'update' the 'Document' object of a particular
>> file while iterating through the Pairs of my index, this 'update', again, is
>> a costly operation.
>>
>> Please correct me if my understanding of Lucene is wrong or other
>> alternative ways.
>>
>> Regards
>> Lokendra
>>
>
>
> Er, sorry for the blank email, hit the wrong button!
>
> There are basically two ways to do this:
>
> 1) Buffer everything in RAM and then write all at once - this is probably
> the quickest way to do it, but the most resource intensive and prone to
> failure (OOM will lose all work, for example).
> 2) Iterate through the list, collecting some number of values and then
> periodically committing them to the index.
>
> There's not really any other way: you either write it out in chunks or you
> write it out all at once.  However, there is some leeway in how you iterate
> through your old index.  Iterating through the entire index and buffering
> everything in RAM and writing it all out at once is, like you said, probably
> prohibitively resource intensive.  You could, on the other hand, iterate
> through the index and only collect values for a particular file, then commit
> that, then iterate again.  I would imagine this is a much slower approach,
> but it will be less memory intensive.
>
> Personally, the way I'd approach this problem... I'd iterate through the
> old index in one pass.  Every time I encountered a new file, I'd create a
> new Document and store it somewhere (something trivial like Map<String,
> Document> where the key is the filename).   I'd also ensure that the
> Documents have a field called "file" so that I could easily query them
> later.  Every iteration, I'd continue to add to the Documents and every n
> iterations I'd commit all the Documents to the index (ostensibly calling
> IndexWriter.updateDocument).  By tuning the number of iterations that
> triggers an index write optimization, you can adjust the balance between RAM
> usage and CPU/IO time spent.  n=1 would obviously be the most CPU/IO
> intensive and n=inf would be the most RAM intensive and the "sweet spot" for
> your requirements is very probably somewhere between those two points.
>
> How big is this old index, by the way?   Have you run tests to ensure that
> the memory limit or cpu cost in either method is actually a problem?  I
> think you may be surprised at the speeds you get, if you haven't run tests
> already.
>
> Thanks,
> Eddie
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--000e0cd4d912f080b0049d1854f9--

From java-user-return-48789-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 25 10:24:05 2011
Return-Path: <java-user-return-48789-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53460 invoked from network); 25 Feb 2011 10:24:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Feb 2011 10:24:05 -0000
Received: (qmail 6031 invoked by uid 500); 25 Feb 2011 10:24:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5552 invoked by uid 500); 25 Feb 2011 10:23:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5544 invoked by uid 99); 25 Feb 2011 10:23:57 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 10:23:57 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of bernd.fehling@uni-bielefeld.de designates 129.70.204.65 as permitted sender)
Received: from [129.70.204.65] (HELO mux1-unibi-smtp.hrz.uni-bielefeld.de) (129.70.204.65)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 10:23:49 +0000
MIME-version: 1.0
Content-transfer-encoding: 7BIT
Content-type: text/plain; charset=ISO-8859-15
Received: from pmxchannel-daemon.mux1-unibi-smtp.hrz.uni-bielefeld.de by
 mux1-unibi-smtp.hrz.uni-bielefeld.de
 (Sun Java(tm) System Messaging Server 6.3-6.03 (built Mar 14 2008; 32bit))
 id <0LH600K004V41I00@mux1-unibi-smtp.hrz.uni-bielefeld.de> for
 java-user@lucene.apache.org; Fri, 25 Feb 2011 11:23:28 +0100 (CET)
Received: from [129.70.11.68] ([129.70.11.68])
 by mux1-unibi-smtp.hrz.uni-bielefeld.de
 (Sun Java(tm) System Messaging Server 6.3-6.03 (built Mar 14 2008; 32bit))
 with ESMTPPSA id <0LH600AR44V3IG70@mux1-unibi-smtp.hrz.uni-bielefeld.de> for
 java-user@lucene.apache.org; Fri, 25 Feb 2011 11:23:28 +0100 (CET)
Date: Fri, 25 Feb 2011 11:23:27 +0100
From: Bernd Fehling <bernd.fehling@uni-bielefeld.de>
Subject: which unicode version is supported with lucene
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Message-id: <14212_1298629418_ZZh0k3sw3i7S6.00_4D67831F.90801@uni-bielefeld.de>
X-EnvFrom: bernd.fehling@uni-bielefeld.de
X-PMX-Version: 5.5.9.395186, Antispam-Engine: 2.7.2.376379,
 Antispam-Data: 2011.2.25.101517, pmx9
X-Connecting-IP: 129.70.11.68
User-Agent: Mozilla/5.0 (X11; U; Linux x86_64; de; rv:1.9.1.16) Gecko/20101125
 SUSE/3.0.11 Thunderbird/3.0.11

Dear list,

a very basic question about lucene, which version of
unicode can be handled (indexed and searched) with lucene?

It looks like lucene can only handle the very old Unicode 2.0
but not the newer 3.1 version (4 byte utf-8 unicode).

Is that true?

Regards,
Bernd

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48790-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 25 11:05:27 2011
Return-Path: <java-user-return-48790-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70211 invoked from network); 25 Feb 2011 11:05:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Feb 2011 11:05:27 -0000
Received: (qmail 38791 invoked by uid 500); 25 Feb 2011 11:05:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38512 invoked by uid 500); 25 Feb 2011 11:05:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38498 invoked by uid 99); 25 Feb 2011 11:05:20 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 11:05:20 +0000
X-ASF-Spam-Status: No, hits=2.1 required=5.0
	tests=FREEMAIL_FROM,FREEMAIL_REPLYTO,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of simon.willnauer@googlemail.com designates 209.85.212.48 as permitted sender)
Received: from [209.85.212.48] (HELO mail-vw0-f48.google.com) (209.85.212.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 11:05:15 +0000
Received: by vws20 with SMTP id 20so1599010vws.35
        for <java-user@lucene.apache.org>; Fri, 25 Feb 2011 03:04:55 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:mime-version:reply-to:in-reply-to:references
         :date:message-id:subject:from:to:cc:content-type;
        bh=WszUJFn+FKctjheCay2wGo+Zl4YL6B8v4r7Z+P+H4N4=;
        b=MlNFlWKRwA9DAmr5X1zO8XW5qD0I3FIkAcjY2GzEk1C/QeMh42EWD4cpL+2bKTFRsK
         dZ8/cIwyqFB7H9yChgFgIVPg25rVNkghPCbJm23QQ+1LLdlNjxBDmLep3/2QsbZsuo9n
         S1DmYI+gb3sr2L2qlSDoX5jGi05FxDpTWaVH8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=mime-version:reply-to:in-reply-to:references:date:message-id
         :subject:from:to:cc:content-type;
        b=dYloQVCP0EZ8BVChPOUg2iqYPhmVSveiBCskOoYAKSUXoFqjwQctD1gv3TXCqT5rdJ
         zbK0etSs2ZgJC8kxETd9TYBnZbHm95lyBKa5/uSvXomQwehqKdSjiK/+pIcqLcOsjjf8
         h3PbcXjbfmrrh33P1D3rtDCLEergFYz83uCFg=
MIME-Version: 1.0
Received: by 10.52.164.99 with SMTP id yp3mr3790828vdb.79.1298631894582; Fri,
 25 Feb 2011 03:04:54 -0800 (PST)
Received: by 10.52.163.231 with HTTP; Fri, 25 Feb 2011 03:04:54 -0800 (PST)
Reply-To: simon.willnauer@gmail.com
In-Reply-To: <14212_1298629418_ZZh0k3sw3i7S6.00_4D67831F.90801@uni-bielefeld.de>
References: <14212_1298629418_ZZh0k3sw3i7S6.00_4D67831F.90801@uni-bielefeld.de>
Date: Fri, 25 Feb 2011 12:04:54 +0100
Message-ID: <AANLkTi=M6oAO2ZApNB-Cr+fpHL5Oct3PY+mCkbFbUVd9@mail.gmail.com>
Subject: Re: which unicode version is supported with lucene
From: Simon Willnauer <simon.willnauer@googlemail.com>
To: java-user@lucene.apache.org
Cc: Bernd Fehling <bernd.fehling@uni-bielefeld.de>
Content-Type: text/plain; charset=UTF-8

Hey Bernd,

On Fri, Feb 25, 2011 at 11:23 AM, Bernd Fehling
<bernd.fehling@uni-bielefeld.de> wrote:
> Dear list,
>
> a very basic question about lucene, which version of
> unicode can be handled (indexed and searched) with lucene?

if you ask for what the indexer / query can handle then it is really
what UTF-8 can handle. Strings passed to the writer / reader are
converted to UTF-8 internally (rough picture). On Trunk we are
indexing bytes only (UTF-8 bytes by default). so the question is
really what you platform supports in terms of utilities / operations
on characters and strings. Since Lucene 3.0 we are on Java 1.5 and
have the possibility to respect code points which are above the BMP.
Lucene 2.9 still has Java 1.4 System Requirements that prevented us
from moving forward to Unicode 4.0. If you look at Character.java all
methods have been converted to operate on UTF-32 code points instead
of UTF-16 code points in Java 1.4.

Since 3.0 is a Java Generics / move to Java 1.5 only release these
APIs are not in use yet in the latest released version. Lucene 3.1
holds a largely converted Analyzer / TokenFilter / Tokenizer codebase
(I think there are one or two which still have problems, I should
check... Robert did we fix all NGram stuff?).

So long story short 3.0 / 2.9 Tokenizer and TokenFilter will only
support characters within the BMP <= 0xFFFF. 3.1 (to be released soon
I hope) will fix most of the problems and includes ICU based analysis
for full Unicode 5 support.

hope that helps

simon
>
> It looks like lucene can only handle the very old Unicode 2.0
> but not the newer 3.1 version (4 byte utf-8 unicode).
>
> Is that true?
>
> Regards,
> Bernd
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48791-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 25 12:03:00 2011
Return-Path: <java-user-return-48791-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84970 invoked from network); 25 Feb 2011 12:03:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Feb 2011 12:03:00 -0000
Received: (qmail 93669 invoked by uid 500); 25 Feb 2011 12:02:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93165 invoked by uid 500); 25 Feb 2011 12:02:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93147 invoked by uid 99); 25 Feb 2011 12:02:53 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 12:02:53 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of bernd.fehling@uni-bielefeld.de designates 129.70.204.73 as permitted sender)
Received: from [129.70.204.73] (HELO mux2-unibi-smtp.hrz.uni-bielefeld.de) (129.70.204.73)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 12:02:46 +0000
MIME-version: 1.0
Content-transfer-encoding: 7BIT
Content-type: text/plain; charset=UTF-8
Received: from pmxchannel-daemon.mux2-unibi-smtp.hrz.uni-bielefeld.de by
 mux2-unibi-smtp.hrz.uni-bielefeld.de
 (Sun Java(tm) System Messaging Server 6.3-6.03 (built Mar 14 2008; 32bit))
 id <0LH6005009G1D600@mux2-unibi-smtp.hrz.uni-bielefeld.de> for
 java-user@lucene.apache.org; Fri, 25 Feb 2011 13:02:25 +0100 (CET)
Received: from [129.70.11.68] ([129.70.11.68])
 by mux2-unibi-smtp.hrz.uni-bielefeld.de
 (Sun Java(tm) System Messaging Server 6.3-6.03 (built Mar 14 2008; 32bit))
 with ESMTPPSA id <0LH600JTL9G0Q650@mux2-unibi-smtp.hrz.uni-bielefeld.de>; Fri,
 25 Feb 2011 13:02:24 +0100 (CET)
Date: Fri, 25 Feb 2011 13:02:24 +0100
From: Bernd Fehling <bernd.fehling@uni-bielefeld.de>
Subject: Re: which unicode version is supported with lucene
In-reply-to: <AANLkTi=M6oAO2ZApNB-Cr+fpHL5Oct3PY+mCkbFbUVd9@mail.gmail.com>
To: java-user@lucene.apache.org
Cc: Simon Willnauer <simon.willnauer@googlemail.com>
Message-id:
 <23538_1298635379_ZZh0k6skodisY.00_4D679A50.1000308@uni-bielefeld.de>
X-EnvFrom: bernd.fehling@uni-bielefeld.de
X-PMX-Version: 5.5.9.395186, Antispam-Engine: 2.7.2.376379,
 Antispam-Data: 2011.2.25.115115, pmx10
X-Connecting-IP: 129.70.11.68
References: <14212_1298629418_ZZh0k3sw3i7S6.00_4D67831F.90801@uni-bielefeld.de>
 <AANLkTi=M6oAO2ZApNB-Cr+fpHL5Oct3PY+mCkbFbUVd9@mail.gmail.com>
User-Agent: Mozilla/5.0 (X11; U; Linux x86_64; de; rv:1.9.1.16) Gecko/20101125
 SUSE/3.0.11 Thunderbird/3.0.11

Hi Simon,

thanks for the details.

My platform supports and uses code above BMP (0x10000 and up).
So the limit is Lucene.
Don't know how to handle this problem.
May be deleting all code above BMP...???

Good to hear that Lucene 3.1 will come soon.
Any rough estimation when Lucene 3.1 will be available?

Regards,
Bernd

Am 25.02.2011 12:04, schrieb Simon Willnauer:
> Hey Bernd,
> 
> On Fri, Feb 25, 2011 at 11:23 AM, Bernd Fehling
> <bernd.fehling@uni-bielefeld.de> wrote:
>> Dear list,
>>
>> a very basic question about lucene, which version of
>> unicode can be handled (indexed and searched) with lucene?
> 
> if you ask for what the indexer / query can handle then it is really
> what UTF-8 can handle. Strings passed to the writer / reader are
> converted to UTF-8 internally (rough picture). On Trunk we are
> indexing bytes only (UTF-8 bytes by default). so the question is
> really what you platform supports in terms of utilities / operations
> on characters and strings. Since Lucene 3.0 we are on Java 1.5 and
> have the possibility to respect code points which are above the BMP.
> Lucene 2.9 still has Java 1.4 System Requirements that prevented us
> from moving forward to Unicode 4.0. If you look at Character.java all
> methods have been converted to operate on UTF-32 code points instead
> of UTF-16 code points in Java 1.4.
> 
> Since 3.0 is a Java Generics / move to Java 1.5 only release these
> APIs are not in use yet in the latest released version. Lucene 3.1
> holds a largely converted Analyzer / TokenFilter / Tokenizer codebase
> (I think there are one or two which still have problems, I should
> check... Robert did we fix all NGram stuff?).
> 
> So long story short 3.0 / 2.9 Tokenizer and TokenFilter will only
> support characters within the BMP <= 0xFFFF. 3.1 (to be released soon
> I hope) will fix most of the problems and includes ICU based analysis
> for full Unicode 5 support.
> 
> hope that helps
> 
> simon
>>
>> It looks like lucene can only handle the very old Unicode 2.0
>> but not the newer 3.1 version (4 byte utf-8 unicode).
>>
>> Is that true?
>>
>> Regards,
>> Bernd
>>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48792-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 25 12:44:31 2011
Return-Path: <java-user-return-48792-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9040 invoked from network); 25 Feb 2011 12:44:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Feb 2011 12:44:30 -0000
Received: (qmail 36551 invoked by uid 500); 25 Feb 2011 12:44:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36113 invoked by uid 500); 25 Feb 2011 12:44:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36105 invoked by uid 99); 25 Feb 2011 12:44:25 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 12:44:25 +0000
X-ASF-Spam-Status: No, hits=2.1 required=5.0
	tests=FREEMAIL_FROM,FREEMAIL_REPLYTO,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of simon.willnauer@googlemail.com designates 209.85.212.48 as permitted sender)
Received: from [209.85.212.48] (HELO mail-vw0-f48.google.com) (209.85.212.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 12:44:21 +0000
Received: by vws20 with SMTP id 20so1670663vws.35
        for <java-user@lucene.apache.org>; Fri, 25 Feb 2011 04:44:00 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:mime-version:reply-to:in-reply-to:references
         :date:message-id:subject:from:to:cc:content-type;
        bh=6TbTdwVcQD79TAGU7mSLKJ0Fywra1Erec7oPHwabXtY=;
        b=NVd9vza84sZ+FR7yyxKOmreifBHSZYH6CwPq+EiyK8FI4eeo5cXqC35Ji8RzsiJK9Y
         N3SoWHAN0+UYkBuHFT6AA+6snvant+rsJe6ipUIaASS7QNjssZbNghsRG0cpQNGsUchD
         OBeVwcpDjzN1SArz/bgCT0kCciJp7nQ2GSy1c=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=mime-version:reply-to:in-reply-to:references:date:message-id
         :subject:from:to:cc:content-type;
        b=wAk138lWaRvp6aSat4JGH3UXhesV0MtG/H229RVlvSGishGVgc0YVSfYKlKS8/y+0O
         GAIL67kYTjhWnWvZnOzXwThQaecJiMU82Ejdwve/TcMno3Ysl3BlQrBShGVhjXShzGkP
         vkZ6M7tMJqkRO8YevJaRuZdHxG4jwUAaGXYPc=
MIME-Version: 1.0
Received: by 10.52.158.66 with SMTP id ws2mr3816911vdb.177.1298637815596; Fri,
 25 Feb 2011 04:43:35 -0800 (PST)
Received: by 10.52.168.3 with HTTP; Fri, 25 Feb 2011 04:43:35 -0800 (PST)
Reply-To: simon.willnauer@gmail.com
In-Reply-To: <23538_1298635379_ZZh0k6skodisY.00_4D679A50.1000308@uni-bielefeld.de>
References: <14212_1298629418_ZZh0k3sw3i7S6.00_4D67831F.90801@uni-bielefeld.de>
	<AANLkTi=M6oAO2ZApNB-Cr+fpHL5Oct3PY+mCkbFbUVd9@mail.gmail.com>
	<23538_1298635379_ZZh0k6skodisY.00_4D679A50.1000308@uni-bielefeld.de>
Date: Fri, 25 Feb 2011 13:43:35 +0100
Message-ID: <AANLkTinc3Rm=sQCvm=tYUHFThFSC+DF8xNYB81jmdatY@mail.gmail.com>
Subject: Re: which unicode version is supported with lucene
From: Simon Willnauer <simon.willnauer@googlemail.com>
To: Bernd Fehling <bernd.fehling@uni-bielefeld.de>
Cc: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8

On Fri, Feb 25, 2011 at 1:02 PM, Bernd Fehling
<bernd.fehling@uni-bielefeld.de> wrote:
> Hi Simon,
>
> thanks for the details.
>
> My platform supports and uses code above BMP (0x10000 and up).
> So the limit is Lucene.
> Don't know how to handle this problem.
> May be deleting all code above BMP...???

the code will work fine even if they are in you text. It will just not
respect them maybe throw them away during tokenization etc. so it
really depends what you are using on the analyzer side. maybe you can
give us little more details on what you use for analysis. One option
would be to build 3.1 from the source and use the analyzers from
there?!

>
> Good to hear that Lucene 3.1 will come soon.
> Any rough estimation when Lucene 3.1 will be available?

I hope it will happen within the next 4 weeks

simon

>
> Regards,
> Bernd
>
> Am 25.02.2011 12:04, schrieb Simon Willnauer:
>> Hey Bernd,
>>
>> On Fri, Feb 25, 2011 at 11:23 AM, Bernd Fehling
>> <bernd.fehling@uni-bielefeld.de> wrote:
>>> Dear list,
>>>
>>> a very basic question about lucene, which version of
>>> unicode can be handled (indexed and searched) with lucene?
>>
>> if you ask for what the indexer / query can handle then it is really
>> what UTF-8 can handle. Strings passed to the writer / reader are
>> converted to UTF-8 internally (rough picture). On Trunk we are
>> indexing bytes only (UTF-8 bytes by default). so the question is
>> really what you platform supports in terms of utilities / operations
>> on characters and strings. Since Lucene 3.0 we are on Java 1.5 and
>> have the possibility to respect code points which are above the BMP.
>> Lucene 2.9 still has Java 1.4 System Requirements that prevented us
>> from moving forward to Unicode 4.0. If you look at Character.java all
>> methods have been converted to operate on UTF-32 code points instead
>> of UTF-16 code points in Java 1.4.
>>
>> Since 3.0 is a Java Generics / move to Java 1.5 only release these
>> APIs are not in use yet in the latest released version. Lucene 3.1
>> holds a largely converted Analyzer / TokenFilter / Tokenizer codebase
>> (I think there are one or two which still have problems, I should
>> check... Robert did we fix all NGram stuff?).
>>
>> So long story short 3.0 / 2.9 Tokenizer and TokenFilter will only
>> support characters within the BMP <= 0xFFFF. 3.1 (to be released soon
>> I hope) will fix most of the problems and includes ICU based analysis
>> for full Unicode 5 support.
>>
>> hope that helps
>>
>> simon
>>>
>>> It looks like lucene can only handle the very old Unicode 2.0
>>> but not the newer 3.1 version (4 byte utf-8 unicode).
>>>
>>> Is that true?
>>>
>>> Regards,
>>> Bernd
>>>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48793-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 25 13:07:10 2011
Return-Path: <java-user-return-48793-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25056 invoked from network); 25 Feb 2011 13:07:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Feb 2011 13:07:10 -0000
Received: (qmail 73771 invoked by uid 500); 25 Feb 2011 13:07:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73488 invoked by uid 500); 25 Feb 2011 13:07:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73480 invoked by uid 99); 25 Feb 2011 13:07:04 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 13:07:04 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of rcmuir@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 13:06:59 +0000
Received: by bwz8 with SMTP id 8so2432048bwz.35
        for <java-user@lucene.apache.org>; Fri, 25 Feb 2011 05:06:38 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=9Qris0LptiwycwTfTvFT0WYUl9HvUg8zJTbZEmPecbk=;
        b=HnujlyQ3vKz6WiA8AtSe2RiVuhnXvSql93or+eMbj1/8pvD25jy2hpD4wjAN9Ujk8+
         dhbj7+9WLRI/zPu49W8pRLicdTcn4F4mUnHnoKCthjh7AGuy578oQIwYdbj+7WK765ci
         iixxNf2A0Fmut80wQw4jnog+RarMpAK6Vtnm8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=nDFAbq9UAqf2AfUOOwRu9sceo5rbfQ9AL/HNihHKMlf0QcI78S5gyU7WOsrbp6IKpT
         NNpFMxNHa8EbfPjd8MBEvQ0GUPgFtVc06LfZIc3W0k7C5xJn6H2/V95kjRL3LTo0SCzS
         zki+NFTK5cmNd5Bq35vaK6b7iMQaWuhoxkTzU=
Received: by 10.204.16.211 with SMTP id p19mr2002652bka.162.1298639198068;
 Fri, 25 Feb 2011 05:06:38 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.80.143 with HTTP; Fri, 25 Feb 2011 05:06:18 -0800 (PST)
In-Reply-To: <AANLkTi=M6oAO2ZApNB-Cr+fpHL5Oct3PY+mCkbFbUVd9@mail.gmail.com>
References: <14212_1298629418_ZZh0k3sw3i7S6.00_4D67831F.90801@uni-bielefeld.de>
 <AANLkTi=M6oAO2ZApNB-Cr+fpHL5Oct3PY+mCkbFbUVd9@mail.gmail.com>
From: Robert Muir <rcmuir@gmail.com>
Date: Fri, 25 Feb 2011 08:06:18 -0500
Message-ID: <AANLkTim0xvVJ=SSW_MuUJODzu+uyvtncs3YwJ_z=Lc0O@mail.gmail.com>
Subject: Re: which unicode version is supported with lucene
To: java-user@lucene.apache.org, simon.willnauer@gmail.com
Content-Type: multipart/alternative; boundary=000325553532179f1b049d1b00f4

--000325553532179f1b049d1b00f4
Content-Type: text/plain; charset=UTF-8

On Fri, Feb 25, 2011 at 6:04 AM, Simon Willnauer <
simon.willnauer@googlemail.com> wrote:

> Since 3.0 is a Java Generics / move to Java 1.5 only release these
> APIs are not in use yet in the latest released version. Lucene 3.1
> holds a largely converted Analyzer / TokenFilter / Tokenizer codebase
> (I think there are one or two which still have problems, I should
> check... Robert did we fix all NGram stuff?).
>
>
No... and honestly they have other serious problems (such as only looking at
first 1024 chars of input in the document, look at the jira issues). I
recommend against using them in general, but definitely if you have
codepoints outside of the BMP...

--000325553532179f1b049d1b00f4--

From java-user-return-48794-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 25 13:12:27 2011
Return-Path: <java-user-return-48794-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25958 invoked from network); 25 Feb 2011 13:12:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Feb 2011 13:12:27 -0000
Received: (qmail 78811 invoked by uid 500); 25 Feb 2011 13:12:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78506 invoked by uid 500); 25 Feb 2011 13:12:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78496 invoked by uid 99); 25 Feb 2011 13:12:20 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 13:12:20 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of akos.tajti@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 13:12:13 +0000
Received: by bwz8 with SMTP id 8so2436679bwz.35
        for <java-user@lucene.apache.org>; Fri, 25 Feb 2011 05:11:52 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=1/uq9rvJX7P17gE7xPanXw/cKurDBzOXZOelYgsw/+A=;
        b=X+DOFISxLiOLOYS7VYA+KUjN4Vwi7oWQqVDLynlJ+Xj5L2W/Lf3f1v55IsP+uC6Thg
         1wRctm29thXIau20d5jY8Bu7d70rhMLVqp+nMu6lKsxHN53OKQzWZ6lBYUhzIY06vh2M
         8iwI+VrKPqQz54+n/JjHNzLw++UX2cMQ469H4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=cw9YhQpH6es6wPXgMcbq8JtKpNjkHrS4cDqcgKWB92LRn34mirFFrlP5+lYNW02MCd
         BI0SnGX0m8gx3ueZd6v39C3eB7KSYVs6xMiSWyCnFXqiy/iVfl1Ei8sz4UURlivY3bEw
         to1jZF1DIjjCyMHTzGKa8a4PRarWiwXr52t1E=
MIME-Version: 1.0
Received: by 10.204.118.138 with SMTP id v10mr2063234bkq.94.1298639512077;
 Fri, 25 Feb 2011 05:11:52 -0800 (PST)
Received: by 10.204.102.211 with HTTP; Fri, 25 Feb 2011 05:11:52 -0800 (PST)
Date: Fri, 25 Feb 2011 14:11:52 +0100
Message-ID: <AANLkTikovbLwQE7t7Mg27pDT572641=JAHqveUu9yAV-@mail.gmail.com>
Subject: shared IndexSearcher (lucene 3.0.3)
From: Akos Tajti <akos.tajti@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e6d77d9bcf09a7049d1b12ea

--0016e6d77d9bcf09a7049d1b12ea
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Hi all,

in our project we're using lucene in tomcat. To avoid some overhead we have
a shared IndexSearcher instance. In the past we had too many open files
errors many times. To prevent this the IndexSearcher is closed and reopened
after indexing. The shared instance is not closed anywhere else in the code=
.
Is this the right way of preventing these kind of errors?

Thanks in advance for your answers,
=C1kos Tajti

--0016e6d77d9bcf09a7049d1b12ea--

From java-user-return-48795-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 25 13:19:56 2011
Return-Path: <java-user-return-48795-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28399 invoked from network); 25 Feb 2011 13:19:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Feb 2011 13:19:56 -0000
Received: (qmail 95237 invoked by uid 500); 25 Feb 2011 13:19:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94930 invoked by uid 500); 25 Feb 2011 13:19:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94922 invoked by uid 99); 25 Feb 2011 13:19:50 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 13:19:50 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of bernd.fehling@uni-bielefeld.de designates 129.70.204.73 as permitted sender)
Received: from [129.70.204.73] (HELO mux2-unibi-smtp.hrz.uni-bielefeld.de) (129.70.204.73)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 13:19:43 +0000
MIME-version: 1.0
Content-transfer-encoding: 8BIT
Content-type: text/plain; charset=UTF-8
Received: from pmxchannel-daemon.mux2-unibi-smtp.hrz.uni-bielefeld.de by
 mux2-unibi-smtp.hrz.uni-bielefeld.de
 (Sun Java(tm) System Messaging Server 6.3-6.03 (built Mar 14 2008; 32bit))
 id <0LH600K00D0BXV00@mux2-unibi-smtp.hrz.uni-bielefeld.de> for
 java-user@lucene.apache.org; Fri, 25 Feb 2011 14:19:23 +0100 (CET)
Received: from [129.70.11.68] ([129.70.11.68])
 by mux2-unibi-smtp.hrz.uni-bielefeld.de
 (Sun Java(tm) System Messaging Server 6.3-6.03 (built Mar 14 2008; 32bit))
 with ESMTPPSA id <0LH600HARD0AR120@mux2-unibi-smtp.hrz.uni-bielefeld.de>; Fri,
 25 Feb 2011 14:19:22 +0100 (CET)
Date: Fri, 25 Feb 2011 14:19:22 +0100
From: Bernd Fehling <bernd.fehling@uni-bielefeld.de>
Subject: Re: which unicode version is supported with lucene
In-reply-to: <AANLkTinc3Rm=sQCvm=tYUHFThFSC+DF8xNYB81jmdatY@mail.gmail.com>
To: simon.willnauer@gmail.com
Cc: java-user@lucene.apache.org
Message-id:
 <23505_1298639997_ZZh0k5s9GBkrP.00_4D67AC5A.7080708@uni-bielefeld.de>
X-EnvFrom: bernd.fehling@uni-bielefeld.de
X-PMX-Version: 5.5.9.395186, Antispam-Engine: 2.7.2.376379,
 Antispam-Data: 2011.2.25.130916, pmx10
X-Connecting-IP: 129.70.11.68
References: <14212_1298629418_ZZh0k3sw3i7S6.00_4D67831F.90801@uni-bielefeld.de>
 <AANLkTi=M6oAO2ZApNB-Cr+fpHL5Oct3PY+mCkbFbUVd9@mail.gmail.com>
 <23538_1298635379_ZZh0k6skodisY.00_4D679A50.1000308@uni-bielefeld.de>
 <AANLkTinc3Rm=sQCvm=tYUHFThFSC+DF8xNYB81jmdatY@mail.gmail.com>
User-Agent: Mozilla/5.0 (X11; U; Linux x86_64; de; rv:1.9.1.16) Gecko/20101125
 SUSE/3.0.11 Thunderbird/3.0.11
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Simon,

actually I'm working with Solr from trunk but followed the problem
all the way down to Lucene. I think Solr trunk is build with Lucene 3.0.3.

My field is:
<field name="dcdescription" type="string" indexed="false" stored="true" />

No analysis done at all, just stored the content for result display.
But the result is unpredictable and can end in invalid utf-8 code.

Regards,
Bernd


Am 25.02.2011 13:43, schrieb Simon Willnauer:
> On Fri, Feb 25, 2011 at 1:02 PM, Bernd Fehling
> <bernd.fehling@uni-bielefeld.de> wrote:
>> Hi Simon,
>>
>> thanks for the details.
>>
>> My platform supports and uses code above BMP (0x10000 and up).
>> So the limit is Lucene.
>> Don't know how to handle this problem.
>> May be deleting all code above BMP...???
> 
> the code will work fine even if they are in you text. It will just not
> respect them maybe throw them away during tokenization etc. so it
> really depends what you are using on the analyzer side. maybe you can
> give us little more details on what you use for analysis. One option
> would be to build 3.1 from the source and use the analyzers from
> there?!
> 
>>
>> Good to hear that Lucene 3.1 will come soon.
>> Any rough estimation when Lucene 3.1 will be available?
> 
> I hope it will happen within the next 4 weeks
> 
> simon
> 
>>
>> Regards,
>> Bernd
>>
>> Am 25.02.2011 12:04, schrieb Simon Willnauer:
>>> Hey Bernd,
>>>
>>> On Fri, Feb 25, 2011 at 11:23 AM, Bernd Fehling
>>> <bernd.fehling@uni-bielefeld.de> wrote:
>>>> Dear list,
>>>>
>>>> a very basic question about lucene, which version of
>>>> unicode can be handled (indexed and searched) with lucene?
>>>
>>> if you ask for what the indexer / query can handle then it is really
>>> what UTF-8 can handle. Strings passed to the writer / reader are
>>> converted to UTF-8 internally (rough picture). On Trunk we are
>>> indexing bytes only (UTF-8 bytes by default). so the question is
>>> really what you platform supports in terms of utilities / operations
>>> on characters and strings. Since Lucene 3.0 we are on Java 1.5 and
>>> have the possibility to respect code points which are above the BMP.
>>> Lucene 2.9 still has Java 1.4 System Requirements that prevented us
>>> from moving forward to Unicode 4.0. If you look at Character.java all
>>> methods have been converted to operate on UTF-32 code points instead
>>> of UTF-16 code points in Java 1.4.
>>>
>>> Since 3.0 is a Java Generics / move to Java 1.5 only release these
>>> APIs are not in use yet in the latest released version. Lucene 3.1
>>> holds a largely converted Analyzer / TokenFilter / Tokenizer codebase
>>> (I think there are one or two which still have problems, I should
>>> check... Robert did we fix all NGram stuff?).
>>>
>>> So long story short 3.0 / 2.9 Tokenizer and TokenFilter will only
>>> support characters within the BMP <= 0xFFFF. 3.1 (to be released soon
>>> I hope) will fix most of the problems and includes ICU based analysis
>>> for full Unicode 5 support.
>>>
>>> hope that helps
>>>
>>> simon
>>>>
>>>> It looks like lucene can only handle the very old Unicode 2.0
>>>> but not the newer 3.1 version (4 byte utf-8 unicode).
>>>>
>>>> Is that true?
>>>>
>>>> Regards,
>>>> Bernd
>>>>
>>

-- 
*************************************************************
Bernd Fehling                Universittsbibliothek Bielefeld
Dipl.-Inform. (FH)                        Universittsstr. 25
Tel. +49 521 106-4060                   Fax. +49 521 106-4052
bernd.fehling@uni-bielefeld.de                33615 Bielefeld

BASE - Bielefeld Academic Search Engine - www.base-search.net
*************************************************************

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48796-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 25 13:40:31 2011
Return-Path: <java-user-return-48796-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32663 invoked from network); 25 Feb 2011 13:40:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Feb 2011 13:40:31 -0000
Received: (qmail 22433 invoked by uid 500); 25 Feb 2011 13:40:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22033 invoked by uid 500); 25 Feb 2011 13:40:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22025 invoked by uid 99); 25 Feb 2011 13:40:24 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 13:40:24 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 13:40:19 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id 20BF4D36002
	for <java-user@lucene.apache.org>; Fri, 25 Feb 2011 14:39:57 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id wQEbgUrGqhnH for <java-user@lucene.apache.org>;
	Fri, 25 Feb 2011 14:39:40 +0100 (CET)
Received: from VEGA (WDC-MARE.marum.de [134.102.249.81])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id 12F58D36001
	for <java-user@lucene.apache.org>; Fri, 25 Feb 2011 14:39:39 +0100 (CET)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <14212_1298629418_ZZh0k3sw3i7S6.00_4D67831F.90801@uni-bielefeld.de> <AANLkTi=M6oAO2ZApNB-Cr+fpHL5Oct3PY+mCkbFbUVd9@mail.gmail.com> <23538_1298635379_ZZh0k6skodisY.00_4D679A50.1000308@uni-bielefeld.de> <AANLkTinc3Rm=sQCvm=tYUHFThFSC+DF8xNYB81jmdatY@mail.gmail.com> <23505_1298639997_ZZh0k5s9GBkrP.00_4D67AC5A.7080708@uni-bielefeld.de>
In-Reply-To: <23505_1298639997_ZZh0k5s9GBkrP.00_4D67AC5A.7080708@uni-bielefeld.de>
Subject: RE: which unicode version is supported with lucene
Date: Fri, 25 Feb 2011 14:40:34 +0100
Message-ID: <006e01cbd4f1$94590560$bd0b1020$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Outlook 14.0
Thread-index: AQJgT4j57ILItKNXquSmYbd5SLswTwDA6WRnAP3RwU0DHZnPRwDIHJzekrwgazA=
Content-language: de

Solr trunk is using Lucene trunk since Lucene and Solr are merged.

-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de

> -----Original Message-----
> From: Bernd Fehling [mailto:bernd.fehling@uni-bielefeld.de]
> Sent: Friday, February 25, 2011 2:19 PM
> To: simon.willnauer@gmail.com
> Cc: java-user@lucene.apache.org
> Subject: Re: which unicode version is supported with lucene
>=20
> Hi Simon,
>=20
> actually I'm working with Solr from trunk but followed the problem all =
the
> way down to Lucene. I think Solr trunk is build with Lucene 3.0.3.
>=20
> My field is:
> <field name=3D"dcdescription" type=3D"string" indexed=3D"false" =
stored=3D"true" />
>=20
> No analysis done at all, just stored the content for result display.
> But the result is unpredictable and can end in invalid utf-8 code.
>=20
> Regards,
> Bernd
>=20
>=20
> Am 25.02.2011 13:43, schrieb Simon Willnauer:
> > On Fri, Feb 25, 2011 at 1:02 PM, Bernd Fehling
> > <bernd.fehling@uni-bielefeld.de> wrote:
> >> Hi Simon,
> >>
> >> thanks for the details.
> >>
> >> My platform supports and uses code above BMP (0x10000 and up).
> >> So the limit is Lucene.
> >> Don't know how to handle this problem.
> >> May be deleting all code above BMP...???
> >
> > the code will work fine even if they are in you text. It will just =
not
> > respect them maybe throw them away during tokenization etc. so it
> > really depends what you are using on the analyzer side. maybe you =
can
> > give us little more details on what you use for analysis. One option
> > would be to build 3.1 from the source and use the analyzers from
> > there?!
> >
> >>
> >> Good to hear that Lucene 3.1 will come soon.
> >> Any rough estimation when Lucene 3.1 will be available?
> >
> > I hope it will happen within the next 4 weeks
> >
> > simon
> >
> >>
> >> Regards,
> >> Bernd
> >>
> >> Am 25.02.2011 12:04, schrieb Simon Willnauer:
> >>> Hey Bernd,
> >>>
> >>> On Fri, Feb 25, 2011 at 11:23 AM, Bernd Fehling
> >>> <bernd.fehling@uni-bielefeld.de> wrote:
> >>>> Dear list,
> >>>>
> >>>> a very basic question about lucene, which version of unicode can =
be
> >>>> handled (indexed and searched) with lucene?
> >>>
> >>> if you ask for what the indexer / query can handle then it is =
really
> >>> what UTF-8 can handle. Strings passed to the writer / reader are
> >>> converted to UTF-8 internally (rough picture). On Trunk we are
> >>> indexing bytes only (UTF-8 bytes by default). so the question is
> >>> really what you platform supports in terms of utilities / =
operations
> >>> on characters and strings. Since Lucene 3.0 we are on Java 1.5 and
> >>> have the possibility to respect code points which are above the =
BMP.
> >>> Lucene 2.9 still has Java 1.4 System Requirements that prevented =
us
> >>> from moving forward to Unicode 4.0. If you look at Character.java
> >>> all methods have been converted to operate on UTF-32 code points
> >>> instead of UTF-16 code points in Java 1.4.
> >>>
> >>> Since 3.0 is a Java Generics / move to Java 1.5 only release these
> >>> APIs are not in use yet in the latest released version. Lucene 3.1
> >>> holds a largely converted Analyzer / TokenFilter / Tokenizer
> >>> codebase (I think there are one or two which still have problems, =
I
> >>> should check... Robert did we fix all NGram stuff?).
> >>>
> >>> So long story short 3.0 / 2.9 Tokenizer and TokenFilter will only
> >>> support characters within the BMP <=3D 0xFFFF. 3.1 (to be released
> >>> soon I hope) will fix most of the problems and includes ICU based
> >>> analysis for full Unicode 5 support.
> >>>
> >>> hope that helps
> >>>
> >>> simon
> >>>>
> >>>> It looks like lucene can only handle the very old Unicode 2.0 but
> >>>> not the newer 3.1 version (4 byte utf-8 unicode).
> >>>>
> >>>> Is that true?
> >>>>
> >>>> Regards,
> >>>> Bernd
> >>>>
> >>
>=20
> --
> **********************************************************
> ***
> Bernd Fehling                Universit=C3=A4tsbibliothek Bielefeld
> Dipl.-Inform. (FH)                        Universit=C3=A4tsstr. 25
> Tel. +49 521 106-4060                   Fax. +49 521 106-4052
> bernd.fehling@uni-bielefeld.de                33615 Bielefeld
>=20
> BASE - Bielefeld Academic Search Engine - www.base-search.net
> **********************************************************
> ***
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48797-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 25 13:49:11 2011
Return-Path: <java-user-return-48797-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35369 invoked from network); 25 Feb 2011 13:49:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Feb 2011 13:49:11 -0000
Received: (qmail 40492 invoked by uid 500); 25 Feb 2011 13:49:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40021 invoked by uid 500); 25 Feb 2011 13:49:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40013 invoked by uid 99); 25 Feb 2011 13:49:04 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 13:49:04 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of bernd.fehling@uni-bielefeld.de designates 129.70.204.65 as permitted sender)
Received: from [129.70.204.65] (HELO mux1-unibi-smtp.hrz.uni-bielefeld.de) (129.70.204.65)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 13:48:56 +0000
MIME-version: 1.0
Content-transfer-encoding: 7BIT
Content-type: text/plain; charset=UTF-8
Received: from pmxchannel-daemon.mux1-unibi-smtp.hrz.uni-bielefeld.de by
 mux1-unibi-smtp.hrz.uni-bielefeld.de
 (Sun Java(tm) System Messaging Server 6.3-6.03 (built Mar 14 2008; 32bit))
 id <0LH600E00ED0Z800@mux1-unibi-smtp.hrz.uni-bielefeld.de> for
 java-user@lucene.apache.org; Fri, 25 Feb 2011 14:48:36 +0100 (CET)
Received: from [129.70.11.68] ([129.70.11.68])
 by mux1-unibi-smtp.hrz.uni-bielefeld.de
 (Sun Java(tm) System Messaging Server 6.3-6.03 (built Mar 14 2008; 32bit))
 with ESMTPPSA id <0LH6004ETECJ0990@mux1-unibi-smtp.hrz.uni-bielefeld.de> for
 java-user@lucene.apache.org; Fri, 25 Feb 2011 14:48:19 +0100 (CET)
Date: Fri, 25 Feb 2011 14:48:18 +0100
From: Bernd Fehling <bernd.fehling@uni-bielefeld.de>
Subject: Re: which unicode version is supported with lucene
In-reply-to: <006e01cbd4f1$94590560$bd0b1020$@thetaphi.de>
To: java-user@lucene.apache.org
Message-id:
 <23510_1298641750_ZZh0k1svNf89G.00_4D67B322.1010403@uni-bielefeld.de>
X-EnvFrom: bernd.fehling@uni-bielefeld.de
X-PMX-Version: 5.5.9.395186, Antispam-Engine: 2.7.2.376379,
 Antispam-Data: 2011.2.25.133918, pmx10
X-Connecting-IP: 129.70.11.68
References: <14212_1298629418_ZZh0k3sw3i7S6.00_4D67831F.90801@uni-bielefeld.de>
 <AANLkTi=M6oAO2ZApNB-Cr+fpHL5Oct3PY+mCkbFbUVd9@mail.gmail.com>
 <23538_1298635379_ZZh0k6skodisY.00_4D679A50.1000308@uni-bielefeld.de>
 <AANLkTinc3Rm=sQCvm=tYUHFThFSC+DF8xNYB81jmdatY@mail.gmail.com>
 <23505_1298639997_ZZh0k5s9GBkrP.00_4D67AC5A.7080708@uni-bielefeld.de>
 <006e01cbd4f1$94590560$bd0b1020$@thetaphi.de>
User-Agent: Mozilla/5.0 (X11; U; Linux x86_64; de; rv:1.9.1.16) Gecko/20101125
 SUSE/3.0.11 Thunderbird/3.0.11
X-Virus-Checked: Checked by ClamAV on apache.org


So Solr trunk should already handle Unicode above BMP for field type string?
Strange...

Regards,
Bernd

Am 25.02.2011 14:40, schrieb Uwe Schindler:
> Solr trunk is using Lucene trunk since Lucene and Solr are merged.
> 
> -----
> Uwe Schindler
> H.-H.-Meier-Allee 63, D-28213 Bremen
> http://www.thetaphi.de
> eMail: uwe@thetaphi.de
> 
>> -----Original Message-----
>> From: Bernd Fehling [mailto:bernd.fehling@uni-bielefeld.de]
>> Sent: Friday, February 25, 2011 2:19 PM
>> To: simon.willnauer@gmail.com
>> Cc: java-user@lucene.apache.org
>> Subject: Re: which unicode version is supported with lucene
>>
>> Hi Simon,
>>
>> actually I'm working with Solr from trunk but followed the problem all the
>> way down to Lucene. I think Solr trunk is build with Lucene 3.0.3.
>>
>> My field is:
>> <field name="dcdescription" type="string" indexed="false" stored="true" />
>>
>> No analysis done at all, just stored the content for result display.
>> But the result is unpredictable and can end in invalid utf-8 code.
>>
>> Regards,
>> Bernd
>>
>>
>> Am 25.02.2011 13:43, schrieb Simon Willnauer:
>>> On Fri, Feb 25, 2011 at 1:02 PM, Bernd Fehling
>>> <bernd.fehling@uni-bielefeld.de> wrote:
>>>> Hi Simon,
>>>>
>>>> thanks for the details.
>>>>
>>>> My platform supports and uses code above BMP (0x10000 and up).
>>>> So the limit is Lucene.
>>>> Don't know how to handle this problem.
>>>> May be deleting all code above BMP...???
>>>
>>> the code will work fine even if they are in you text. It will just not
>>> respect them maybe throw them away during tokenization etc. so it
>>> really depends what you are using on the analyzer side. maybe you can
>>> give us little more details on what you use for analysis. One option
>>> would be to build 3.1 from the source and use the analyzers from
>>> there?!
>>>
>>>>
>>>> Good to hear that Lucene 3.1 will come soon.
>>>> Any rough estimation when Lucene 3.1 will be available?
>>>
>>> I hope it will happen within the next 4 weeks
>>>
>>> simon
>>>
>>>>
>>>> Regards,
>>>> Bernd
>>>>
>>>> Am 25.02.2011 12:04, schrieb Simon Willnauer:
>>>>> Hey Bernd,
>>>>>
>>>>> On Fri, Feb 25, 2011 at 11:23 AM, Bernd Fehling
>>>>> <bernd.fehling@uni-bielefeld.de> wrote:
>>>>>> Dear list,
>>>>>>
>>>>>> a very basic question about lucene, which version of unicode can be
>>>>>> handled (indexed and searched) with lucene?
>>>>>
>>>>> if you ask for what the indexer / query can handle then it is really
>>>>> what UTF-8 can handle. Strings passed to the writer / reader are
>>>>> converted to UTF-8 internally (rough picture). On Trunk we are
>>>>> indexing bytes only (UTF-8 bytes by default). so the question is
>>>>> really what you platform supports in terms of utilities / operations
>>>>> on characters and strings. Since Lucene 3.0 we are on Java 1.5 and
>>>>> have the possibility to respect code points which are above the BMP.
>>>>> Lucene 2.9 still has Java 1.4 System Requirements that prevented us
>>>>> from moving forward to Unicode 4.0. If you look at Character.java
>>>>> all methods have been converted to operate on UTF-32 code points
>>>>> instead of UTF-16 code points in Java 1.4.
>>>>>
>>>>> Since 3.0 is a Java Generics / move to Java 1.5 only release these
>>>>> APIs are not in use yet in the latest released version. Lucene 3.1
>>>>> holds a largely converted Analyzer / TokenFilter / Tokenizer
>>>>> codebase (I think there are one or two which still have problems, I
>>>>> should check... Robert did we fix all NGram stuff?).
>>>>>
>>>>> So long story short 3.0 / 2.9 Tokenizer and TokenFilter will only
>>>>> support characters within the BMP <= 0xFFFF. 3.1 (to be released
>>>>> soon I hope) will fix most of the problems and includes ICU based
>>>>> analysis for full Unicode 5 support.
>>>>>
>>>>> hope that helps
>>>>>
>>>>> simon
>>>>>>
>>>>>> It looks like lucene can only handle the very old Unicode 2.0 but
>>>>>> not the newer 3.1 version (4 byte utf-8 unicode).
>>>>>>
>>>>>> Is that true?
>>>>>>
>>>>>> Regards,
>>>>>> Bernd
>>>>>>
>>>>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48798-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 25 13:53:57 2011
Return-Path: <java-user-return-48798-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36034 invoked from network); 25 Feb 2011 13:53:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Feb 2011 13:53:57 -0000
Received: (qmail 51886 invoked by uid 500); 25 Feb 2011 13:53:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51635 invoked by uid 500); 25 Feb 2011 13:53:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51619 invoked by uid 99); 25 Feb 2011 13:53:49 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 13:53:49 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 13:53:44 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id F1CFED36003
	for <java-user@lucene.apache.org>; Fri, 25 Feb 2011 14:53:22 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id DtNcUtGzu8WC for <java-user@lucene.apache.org>;
	Fri, 25 Feb 2011 14:53:07 +0100 (CET)
Received: from VEGA (WDC-MARE.marum.de [134.102.249.81])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id 3186DD36002
	for <java-user@lucene.apache.org>; Fri, 25 Feb 2011 14:53:02 +0100 (CET)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <14212_1298629418_ZZh0k3sw3i7S6.00_4D67831F.90801@uni-bielefeld.de> <AANLkTi=M6oAO2ZApNB-Cr+fpHL5Oct3PY+mCkbFbUVd9@mail.gmail.com> <23538_1298635379_ZZh0k6skodisY.00_4D679A50.1000308@uni-bielefeld.de> <AANLkTinc3Rm=sQCvm=tYUHFThFSC+DF8xNYB81jmdatY@mail.gmail.com> <23505_1298639997_ZZh0k5s9GBkrP.00_4D67AC5A.7080708@uni-bielefeld.de> <006e01cbd4f1$94590560$bd0b1020$@thetaphi.de> <23510_1298641750_ZZh0k1svNf89G.00_4D67B322.1010403@uni-bielefeld.de>
In-Reply-To: <23510_1298641750_ZZh0k1svNf89G.00_4D67B322.1010403@uni-bielefeld.de>
Subject: RE: which unicode version is supported with lucene
Date: Fri, 25 Feb 2011 14:53:56 +0100
Message-ID: <006f01cbd4f3$756a6700$603f3500$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Outlook 14.0
Thread-index: AQJgT4j57ILItKNXquSmYbd5SLswTwDA6WRnAP3RwU0DHZnPRwDIHJzeAjA/VdMBTPweRpKgOiVw
Content-language: de

What APIs are you using to communicate with Solr? If you are using XML =
it may be limited by the XML parser used... If you are using SolrJ with =
binary request handler it should in all cases go through.

-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de


> -----Original Message-----
> From: Bernd Fehling [mailto:bernd.fehling@uni-bielefeld.de]
> Sent: Friday, February 25, 2011 2:48 PM
> To: java-user@lucene.apache.org
> Subject: Re: which unicode version is supported with lucene
>=20
>=20
> So Solr trunk should already handle Unicode above BMP for field type =
string?
> Strange...
>=20
> Regards,
> Bernd
>=20
> Am 25.02.2011 14:40, schrieb Uwe Schindler:
> > Solr trunk is using Lucene trunk since Lucene and Solr are merged.
> >
> > -----
> > Uwe Schindler
> > H.-H.-Meier-Allee 63, D-28213 Bremen
> > http://www.thetaphi.de
> > eMail: uwe@thetaphi.de
> >
> >> -----Original Message-----
> >> From: Bernd Fehling [mailto:bernd.fehling@uni-bielefeld.de]
> >> Sent: Friday, February 25, 2011 2:19 PM
> >> To: simon.willnauer@gmail.com
> >> Cc: java-user@lucene.apache.org
> >> Subject: Re: which unicode version is supported with lucene
> >>
> >> Hi Simon,
> >>
> >> actually I'm working with Solr from trunk but followed the problem
> >> all the way down to Lucene. I think Solr trunk is build with Lucene =
3.0.3.
> >>
> >> My field is:
> >> <field name=3D"dcdescription" type=3D"string" indexed=3D"false"
> >> stored=3D"true" />
> >>
> >> No analysis done at all, just stored the content for result =
display.
> >> But the result is unpredictable and can end in invalid utf-8 code.
> >>
> >> Regards,
> >> Bernd
> >>
> >>
> >> Am 25.02.2011 13:43, schrieb Simon Willnauer:
> >>> On Fri, Feb 25, 2011 at 1:02 PM, Bernd Fehling
> >>> <bernd.fehling@uni-bielefeld.de> wrote:
> >>>> Hi Simon,
> >>>>
> >>>> thanks for the details.
> >>>>
> >>>> My platform supports and uses code above BMP (0x10000 and up).
> >>>> So the limit is Lucene.
> >>>> Don't know how to handle this problem.
> >>>> May be deleting all code above BMP...???
> >>>
> >>> the code will work fine even if they are in you text. It will just
> >>> not respect them maybe throw them away during tokenization etc. so
> >>> it really depends what you are using on the analyzer side. maybe =
you
> >>> can give us little more details on what you use for analysis. One
> >>> option would be to build 3.1 from the source and use the analyzers
> >>> from there?!
> >>>
> >>>>
> >>>> Good to hear that Lucene 3.1 will come soon.
> >>>> Any rough estimation when Lucene 3.1 will be available?
> >>>
> >>> I hope it will happen within the next 4 weeks
> >>>
> >>> simon
> >>>
> >>>>
> >>>> Regards,
> >>>> Bernd
> >>>>
> >>>> Am 25.02.2011 12:04, schrieb Simon Willnauer:
> >>>>> Hey Bernd,
> >>>>>
> >>>>> On Fri, Feb 25, 2011 at 11:23 AM, Bernd Fehling
> >>>>> <bernd.fehling@uni-bielefeld.de> wrote:
> >>>>>> Dear list,
> >>>>>>
> >>>>>> a very basic question about lucene, which version of unicode =
can
> >>>>>> be handled (indexed and searched) with lucene?
> >>>>>
> >>>>> if you ask for what the indexer / query can handle then it is
> >>>>> really what UTF-8 can handle. Strings passed to the writer /
> >>>>> reader are converted to UTF-8 internally (rough picture). On =
Trunk
> >>>>> we are indexing bytes only (UTF-8 bytes by default). so the
> >>>>> question is really what you platform supports in terms of
> >>>>> utilities / operations on characters and strings. Since Lucene =
3.0
> >>>>> we are on Java 1.5 and have the possibility to respect code =
points
> which are above the BMP.
> >>>>> Lucene 2.9 still has Java 1.4 System Requirements that prevented
> >>>>> us from moving forward to Unicode 4.0. If you look at
> >>>>> Character.java all methods have been converted to operate on
> >>>>> UTF-32 code points instead of UTF-16 code points in Java 1.4.
> >>>>>
> >>>>> Since 3.0 is a Java Generics / move to Java 1.5 only release =
these
> >>>>> APIs are not in use yet in the latest released version. Lucene =
3.1
> >>>>> holds a largely converted Analyzer / TokenFilter / Tokenizer
> >>>>> codebase (I think there are one or two which still have =
problems,
> >>>>> I should check... Robert did we fix all NGram stuff?).
> >>>>>
> >>>>> So long story short 3.0 / 2.9 Tokenizer and TokenFilter will =
only
> >>>>> support characters within the BMP <=3D 0xFFFF. 3.1 (to be =
released
> >>>>> soon I hope) will fix most of the problems and includes ICU =
based
> >>>>> analysis for full Unicode 5 support.
> >>>>>
> >>>>> hope that helps
> >>>>>
> >>>>> simon
> >>>>>>
> >>>>>> It looks like lucene can only handle the very old Unicode 2.0 =
but
> >>>>>> not the newer 3.1 version (4 byte utf-8 unicode).
> >>>>>>
> >>>>>> Is that true?
> >>>>>>
> >>>>>> Regards,
> >>>>>> Bernd
> >>>>>>
> >>>>
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48799-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 25 13:55:24 2011
Return-Path: <java-user-return-48799-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36506 invoked from network); 25 Feb 2011 13:55:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Feb 2011 13:55:23 -0000
Received: (qmail 55635 invoked by uid 500); 25 Feb 2011 13:55:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55069 invoked by uid 500); 25 Feb 2011 13:55:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55061 invoked by uid 99); 25 Feb 2011 13:55:17 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 13:55:17 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of yseeley@gmail.com designates 74.125.82.48 as permitted sender)
Received: from [74.125.82.48] (HELO mail-ww0-f48.google.com) (74.125.82.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 13:55:13 +0000
Received: by wwi14 with SMTP id 14so1170271wwi.5
        for <java-user@lucene.apache.org>; Fri, 25 Feb 2011 05:54:52 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:sender:reply-to:in-reply-to
         :references:date:x-google-sender-auth:message-id:subject:from:to:cc
         :content-type;
        bh=kDJ47rNCJ1cFuTrESrv6+1CGyqOb1EdQymaa0qqm1LE=;
        b=mqAK9l347ABmu6hzjojfrZmkIPpb9cTWHvC9LSoedGVc1CM5f9Y7un+SLgVKbPe/zy
         24exaNR8dDSPUMdWPxXByJXW9ZAAhpi41FXkC4l894Gj+inueyOx50D7713saYGIiQlc
         dla6Q1zeC14yHj94tVOWPBly538u2fRo7mjm4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:reply-to:in-reply-to:references:date
         :x-google-sender-auth:message-id:subject:from:to:cc:content-type;
        b=WdR3wfi0RUZ+H+YVAwVyLDW4uVwu4XF6mu0nDn4aO3uKNSraBgd90XBePH5ZtGqObI
         MiTv9DcZ31n5jVmai5AqOoBizIujygCRwxnm8wuW867DQngsEoapJJBeWnOlPDqJS9jv
         ksChp+bS20vrjSmkw+C+SZ8PBYREQ0pCoQTW8=
MIME-Version: 1.0
Received: by 10.216.181.141 with SMTP id l13mr2086535wem.22.1298642085994;
 Fri, 25 Feb 2011 05:54:45 -0800 (PST)
Sender: yseeley@gmail.com
Reply-To: yonik@lucidimagination.com
Received: by 10.216.4.13 with HTTP; Fri, 25 Feb 2011 05:54:45 -0800 (PST)
In-Reply-To: <23510_1298641750_ZZh0k1svNf89G.00_4D67B322.1010403@uni-bielefeld.de>
References: <14212_1298629418_ZZh0k3sw3i7S6.00_4D67831F.90801@uni-bielefeld.de>
	<AANLkTi=M6oAO2ZApNB-Cr+fpHL5Oct3PY+mCkbFbUVd9@mail.gmail.com>
	<23538_1298635379_ZZh0k6skodisY.00_4D679A50.1000308@uni-bielefeld.de>
	<AANLkTinc3Rm=sQCvm=tYUHFThFSC+DF8xNYB81jmdatY@mail.gmail.com>
	<23505_1298639997_ZZh0k5s9GBkrP.00_4D67AC5A.7080708@uni-bielefeld.de>
	<006e01cbd4f1$94590560$bd0b1020$@thetaphi.de>
	<23510_1298641750_ZZh0k1svNf89G.00_4D67B322.1010403@uni-bielefeld.de>
Date: Fri, 25 Feb 2011 08:54:45 -0500
X-Google-Sender-Auth: D_5Utd-Kj6lXcagdrP-WwzE0_TI
Message-ID: <AANLkTikbfEa2ABFaGUo1EUtrfLahP7CvgZh5L7NaEwX4@mail.gmail.com>
Subject: Re: which unicode version is supported with lucene
From: Yonik Seeley <yonik@lucidimagination.com>
To: java-user@lucene.apache.org
Cc: Bernd Fehling <bernd.fehling@uni-bielefeld.de>
Content-Type: text/plain; charset=ISO-8859-1

On Fri, Feb 25, 2011 at 8:48 AM, Bernd Fehling
<bernd.fehling@uni-bielefeld.de> wrote:
> So Solr trunk should already handle Unicode above BMP for field type string?
> Strange...

One issue is that jetty doesn't support UTF-8 beyond the BMP:

/opt/code/lusolr/solr/example/exampledocs$ ./test_utf8.sh
Solr server is up.
HTTP GET is accepting UTF-8
HTTP POST is accepting UTF-8
HTTP POST defaults to UTF-8
ERROR: HTTP GET is not accepting UTF-8 beyond the basic multilingual plane
ERROR: HTTP POST is not accepting UTF-8 beyond the basic multilingual plane
ERROR: HTTP POST + URL params is not accepting UTF-8 beyond the basic
multilingual plane

-Yonik
http://lucidimagination.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48800-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 25 14:10:00 2011
Return-Path: <java-user-return-48800-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48387 invoked from network); 25 Feb 2011 14:10:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Feb 2011 14:10:00 -0000
Received: (qmail 70869 invoked by uid 500); 25 Feb 2011 14:09:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70001 invoked by uid 500); 25 Feb 2011 14:09:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69983 invoked by uid 99); 25 Feb 2011 14:09:52 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 14:09:52 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of bernd.fehling@uni-bielefeld.de designates 129.70.204.73 as permitted sender)
Received: from [129.70.204.73] (HELO mux2-unibi-smtp.hrz.uni-bielefeld.de) (129.70.204.73)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 14:09:45 +0000
MIME-version: 1.0
Content-transfer-encoding: 7BIT
Content-type: text/plain; charset=ISO-8859-1
Received: from pmxchannel-daemon.mux2-unibi-smtp.hrz.uni-bielefeld.de by
 mux2-unibi-smtp.hrz.uni-bielefeld.de
 (Sun Java(tm) System Messaging Server 6.3-6.03 (built Mar 14 2008; 32bit))
 id <0LH600804FBO4M00@mux2-unibi-smtp.hrz.uni-bielefeld.de> for
 java-user@lucene.apache.org; Fri, 25 Feb 2011 15:09:25 +0100 (CET)
Received: from [129.70.11.68] ([129.70.11.68])
 by mux2-unibi-smtp.hrz.uni-bielefeld.de
 (Sun Java(tm) System Messaging Server 6.3-6.03 (built Mar 14 2008; 32bit))
 with ESMTPPSA id <0LH600H65FBIR1A0@mux2-unibi-smtp.hrz.uni-bielefeld.de>; Fri,
 25 Feb 2011 15:09:19 +0100 (CET)
Date: Fri, 25 Feb 2011 15:09:19 +0100
From: Bernd Fehling <bernd.fehling@uni-bielefeld.de>
Subject: Re: which unicode version is supported with lucene
In-reply-to: <AANLkTikbfEa2ABFaGUo1EUtrfLahP7CvgZh5L7NaEwX4@mail.gmail.com>
To: yonik@lucidimagination.com
Cc: java-user@lucene.apache.org
Message-id:
 <22191_1298642974_ZZh0k5sBSB3rn.00_4D67B80F.3020304@uni-bielefeld.de>
X-EnvFrom: bernd.fehling@uni-bielefeld.de
X-PMX-Version: 5.5.9.395186, Antispam-Engine: 2.7.2.376379,
 Antispam-Data: 2011.2.25.135717, pmx9
X-Connecting-IP: 129.70.11.68
References: <14212_1298629418_ZZh0k3sw3i7S6.00_4D67831F.90801@uni-bielefeld.de>
 <AANLkTi=M6oAO2ZApNB-Cr+fpHL5Oct3PY+mCkbFbUVd9@mail.gmail.com>
 <23538_1298635379_ZZh0k6skodisY.00_4D679A50.1000308@uni-bielefeld.de>
 <AANLkTinc3Rm=sQCvm=tYUHFThFSC+DF8xNYB81jmdatY@mail.gmail.com>
 <23505_1298639997_ZZh0k5s9GBkrP.00_4D67AC5A.7080708@uni-bielefeld.de>
 <006e01cbd4f1$94590560$bd0b1020$@thetaphi.de>
 <23510_1298641750_ZZh0k1svNf89G.00_4D67B322.1010403@uni-bielefeld.de>
 <AANLkTikbfEa2ABFaGUo1EUtrfLahP7CvgZh5L7NaEwX4@mail.gmail.com>
User-Agent: Mozilla/5.0 (X11; U; Linux x86_64; de; rv:1.9.1.16) Gecko/20101125
 SUSE/3.0.11 Thunderbird/3.0.11
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Yonik,

good point, yes we are using Jetty.
Do you know if Tomcat has this limitation?

Regards,
Bernd

Am 25.02.2011 14:54, schrieb Yonik Seeley:
> On Fri, Feb 25, 2011 at 8:48 AM, Bernd Fehling
> <bernd.fehling@uni-bielefeld.de> wrote:
>> So Solr trunk should already handle Unicode above BMP for field type string?
>> Strange...
> 
> One issue is that jetty doesn't support UTF-8 beyond the BMP:
> 
> /opt/code/lusolr/solr/example/exampledocs$ ./test_utf8.sh
> Solr server is up.
> HTTP GET is accepting UTF-8
> HTTP POST is accepting UTF-8
> HTTP POST defaults to UTF-8
> ERROR: HTTP GET is not accepting UTF-8 beyond the basic multilingual plane
> ERROR: HTTP POST is not accepting UTF-8 beyond the basic multilingual plane
> ERROR: HTTP POST + URL params is not accepting UTF-8 beyond the basic
> multilingual plane
> 
> -Yonik
> http://lucidimagination.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48801-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 25 14:17:32 2011
Return-Path: <java-user-return-48801-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50691 invoked from network); 25 Feb 2011 14:17:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Feb 2011 14:17:32 -0000
Received: (qmail 81736 invoked by uid 500); 25 Feb 2011 14:17:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81331 invoked by uid 500); 25 Feb 2011 14:17:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81314 invoked by uid 99); 25 Feb 2011 14:17:25 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 14:17:25 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of yseeley@gmail.com designates 209.85.215.176 as permitted sender)
Received: from [209.85.215.176] (HELO mail-ey0-f176.google.com) (209.85.215.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 14:17:20 +0000
Received: by eya28 with SMTP id 28so672003eya.35
        for <java-user@lucene.apache.org>; Fri, 25 Feb 2011 06:16:59 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:sender:reply-to:in-reply-to
         :references:date:x-google-sender-auth:message-id:subject:from:to:cc
         :content-type;
        bh=qNehAXaHJsQWPkIEib1pc2mh4FycAuayxV6m2sMSSUI=;
        b=G5ITV/gtCyfU0skvB8jxwp10ghT1b88jSzq3f6tsgd4Q8Ro2JHNQonyQ7bxKEkTPhF
         e98AmqHsxgUCDqb6BIIItPijJ/I5lqCoy/YQA0W8xiUOtU+hwsw2ZNEdropG60JVx2m1
         wRrg3K+PdhrpSUt7pl+Tx8yyZofgOJ8Bh7YAU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:reply-to:in-reply-to:references:date
         :x-google-sender-auth:message-id:subject:from:to:cc:content-type;
        b=oXGj31llP8rLBuwMdTu20JN9VrUqG13MFacOuJCqF7TFK0ZbHCRQqzETIRYyBgWWB3
         HQJ2EivymU6WZts25H+SHs3V0VoRjwwhYzx82Mc5CWVN5akBxtKuZfkqsTHU094o6dUh
         5GShn3YMp4/lxJzARFKIkrbN+vxq8TYdOWBeM=
MIME-Version: 1.0
Received: by 10.216.182.212 with SMTP id o62mr7124733wem.52.1298643419251;
 Fri, 25 Feb 2011 06:16:59 -0800 (PST)
Sender: yseeley@gmail.com
Reply-To: yonik@lucidimagination.com
Received: by 10.216.4.13 with HTTP; Fri, 25 Feb 2011 06:16:59 -0800 (PST)
In-Reply-To: <22191_1298642974_ZZh0k5sBSB3rn.00_4D67B80F.3020304@uni-bielefeld.de>
References: <14212_1298629418_ZZh0k3sw3i7S6.00_4D67831F.90801@uni-bielefeld.de>
	<AANLkTi=M6oAO2ZApNB-Cr+fpHL5Oct3PY+mCkbFbUVd9@mail.gmail.com>
	<23538_1298635379_ZZh0k6skodisY.00_4D679A50.1000308@uni-bielefeld.de>
	<AANLkTinc3Rm=sQCvm=tYUHFThFSC+DF8xNYB81jmdatY@mail.gmail.com>
	<23505_1298639997_ZZh0k5s9GBkrP.00_4D67AC5A.7080708@uni-bielefeld.de>
	<006e01cbd4f1$94590560$bd0b1020$@thetaphi.de>
	<23510_1298641750_ZZh0k1svNf89G.00_4D67B322.1010403@uni-bielefeld.de>
	<AANLkTikbfEa2ABFaGUo1EUtrfLahP7CvgZh5L7NaEwX4@mail.gmail.com>
	<22191_1298642974_ZZh0k5sBSB3rn.00_4D67B80F.3020304@uni-bielefeld.de>
Date: Fri, 25 Feb 2011 09:16:59 -0500
X-Google-Sender-Auth: zLZ9vaSuSGK12CFnlozjm4k03xU
Message-ID: <AANLkTi=ezv+=2zCh5_iA97y_5z-fLjWoL3qa0SHeRs8Q@mail.gmail.com>
Subject: Re: which unicode version is supported with lucene
From: Yonik Seeley <yonik@lucidimagination.com>
To: Bernd Fehling <bernd.fehling@uni-bielefeld.de>
Cc: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

On Fri, Feb 25, 2011 at 9:09 AM, Bernd Fehling
<bernd.fehling@uni-bielefeld.de> wrote:
> Hi Yonik,
>
> good point, yes we are using Jetty.
> Do you know if Tomcat has this limitation?

Tomcat's defaults are worse - you need to configure it to use UTF-8 by
default for URLs.
Once you do, it passes all those tests (last I checked).  Those tests
are really about UTF-8 working in GET/POST query arguments.  Solr may
still be able to handle indexing and returning full UTF-8, but you
wouldn't be able to query for it w/o using surrogates if you're using
Jetty.

It would be good to test though - does anyone know how to add a char
above the BMP to utf8-example.xml?

-Yonik
http://lucidimagination.com


> Regards,
> Bernd
>
> Am 25.02.2011 14:54, schrieb Yonik Seeley:
>> On Fri, Feb 25, 2011 at 8:48 AM, Bernd Fehling
>> <bernd.fehling@uni-bielefeld.de> wrote:
>>> So Solr trunk should already handle Unicode above BMP for field type string?
>>> Strange...
>>
>> One issue is that jetty doesn't support UTF-8 beyond the BMP:
>>
>> /opt/code/lusolr/solr/example/exampledocs$ ./test_utf8.sh
>> Solr server is up.
>> HTTP GET is accepting UTF-8
>> HTTP POST is accepting UTF-8
>> HTTP POST defaults to UTF-8
>> ERROR: HTTP GET is not accepting UTF-8 beyond the basic multilingual plane
>> ERROR: HTTP POST is not accepting UTF-8 beyond the basic multilingual plane
>> ERROR: HTTP POST + URL params is not accepting UTF-8 beyond the basic
>> multilingual plane
>>
>> -Yonik
>> http://lucidimagination.com
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48802-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 25 14:23:10 2011
Return-Path: <java-user-return-48802-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52570 invoked from network); 25 Feb 2011 14:23:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Feb 2011 14:23:10 -0000
Received: (qmail 89604 invoked by uid 500); 25 Feb 2011 14:23:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89069 invoked by uid 500); 25 Feb 2011 14:23:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89061 invoked by uid 99); 25 Feb 2011 14:23:03 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 14:23:03 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jasontesser@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 14:22:57 +0000
Received: by iwr19 with SMTP id 19so1428484iwr.35
        for <java-user@lucene.apache.org>; Fri, 25 Feb 2011 06:22:37 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:from:date:message-id:subject:to
         :content-type;
        bh=FaF0QioLOYg/6qOK4PSCN0GmPPd5MDm9uGwFrZK3Oyk=;
        b=XDDR8n/tNbZeGWXczrZPUISnn967R1pA/zhjyKJj0XFfNEEbpcpM5ldAZ9zfW+drBw
         5JKuGYfWmb3LjdZorqBOJ8gm8NbQYLRZMsOj3FWC+PSl3XuRxUnJd7ebVgkXI9+spf1z
         mH54bAJokCy7sMtVs3jdKPmNAQMvMWGyDuRDQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:from:date:message-id:subject:to:content-type;
        b=CteTLX23jFbVWd+z9VLnUWDGJ9VnbXWqA7tY86sLuuwlJtltwPQ/5O+GprB6/kEGS0
         hawkJxMhxn7kcGDSKWUCJ8QjULe+bxS7KIxjLwHa4nNS7COZCxEBeV6gnteHIYScDFwv
         Ex7xvIvSyFMHBma8+Fxwf5ex5rtjhkb0DKL6k=
Received: by 10.42.150.137 with SMTP id a9mr790143icw.466.1298643757045; Fri,
 25 Feb 2011 06:22:37 -0800 (PST)
MIME-Version: 1.0
Received: by 10.43.65.197 with HTTP; Fri, 25 Feb 2011 06:22:17 -0800 (PST)
From: Jason Tesser <jasontesser@gmail.com>
Date: Fri, 25 Feb 2011 09:22:17 -0500
Message-ID: <AANLkTinL=GMSnxedtznnadYPJDVf0+9Q3opegzcAUjN4@mail.gmail.com>
Subject: Proper way to deal with shared indexer exception
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=90e6ba6e8bf2d417ab049d1c0f38

--90e6ba6e8bf2d417ab049d1c0f38
Content-Type: text/plain; charset=UTF-8

We are having issues with FileChannelClosed and are NOT calling
Thread.interrupt.  We also start to see AlreadyClosedException on Reader.

*
*

we are running the latest 3.0.3


We have code in my lucene Util class like this  http://pastebin.com/ifbxhVLi

*
*

we have a single shared searcher and a single writer which is only checked
out once not shared single threaded http://pastebin.com/YF8nmwg0

*
*

we use to call destroy in all the caches of the first paste bin which I
think is a problem

*
*

 1. what would be the recommended way here?

*
*

in other words if I catch AlreadyClosedException ace OR
ClosedChannelException OR IOException what would be the best to do with my
shared searcher

*
*

2.  is reopen enough?  or should I get a brand new searcher?


Thanks,
Jason Tesser
dotCMS Lead Development Manager
1-305-858-1422

--90e6ba6e8bf2d417ab049d1c0f38--

From java-user-return-48803-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 25 14:32:06 2011
Return-Path: <java-user-return-48803-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54807 invoked from network); 25 Feb 2011 14:32:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Feb 2011 14:32:06 -0000
Received: (qmail 2560 invoked by uid 500); 25 Feb 2011 14:32:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2200 invoked by uid 500); 25 Feb 2011 14:31:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2183 invoked by uid 99); 25 Feb 2011 14:31:58 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 14:31:58 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of rcmuir@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 14:31:52 +0000
Received: by bwz8 with SMTP id 8so2512686bwz.35
        for <java-user@lucene.apache.org>; Fri, 25 Feb 2011 06:31:31 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type:content-transfer-encoding;
        bh=DGF8vYtQnm0v3538dHQawL/+EK92kfBkhQiEWfF7uZ0=;
        b=mh5ERiE+Uo2XnPTUI8J7gnomswotAmyFZs2sD/mNJGe+lwwt5N7BvVWRDCXUlhFWu0
         j03RnoGfeCnCIziMUqAcEizz7lO2meeGX21Q2yAez7mY/kSniAlzM+CK7hAXdTJbZc6O
         d+KsAPI3kSBudMaKPj+BH4ssbf/uQQQT7PObM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=IPcC2XT3YQfFxcNems6cU6WwPnBmQSGOCPoAr4iUhWlky9oEdhMwDPnRyXH81i/B5s
         jxBG1ENVAL+696Aa0TeMXiPKOAw3LdrzRYIZFAWwccBRt3h5S6vCqbiqrsFsyxhSJmpk
         1+TtKvtn5u2d2BE0WZEj1B+VIAb4/k5w6b1ec=
Received: by 10.204.114.81 with SMTP id d17mr2133625bkq.135.1298644291168;
 Fri, 25 Feb 2011 06:31:31 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.80.143 with HTTP; Fri, 25 Feb 2011 06:31:11 -0800 (PST)
In-Reply-To: <AANLkTi=ezv+=2zCh5_iA97y_5z-fLjWoL3qa0SHeRs8Q@mail.gmail.com>
References: <14212_1298629418_ZZh0k3sw3i7S6.00_4D67831F.90801@uni-bielefeld.de>
 <AANLkTi=M6oAO2ZApNB-Cr+fpHL5Oct3PY+mCkbFbUVd9@mail.gmail.com>
 <23538_1298635379_ZZh0k6skodisY.00_4D679A50.1000308@uni-bielefeld.de>
 <AANLkTinc3Rm=sQCvm=tYUHFThFSC+DF8xNYB81jmdatY@mail.gmail.com>
 <23505_1298639997_ZZh0k5s9GBkrP.00_4D67AC5A.7080708@uni-bielefeld.de>
 <006e01cbd4f1$94590560$bd0b1020$@thetaphi.de> <23510_1298641750_ZZh0k1svNf89G.00_4D67B322.1010403@uni-bielefeld.de>
 <AANLkTikbfEa2ABFaGUo1EUtrfLahP7CvgZh5L7NaEwX4@mail.gmail.com>
 <22191_1298642974_ZZh0k5sBSB3rn.00_4D67B80F.3020304@uni-bielefeld.de> <AANLkTi=ezv+=2zCh5_iA97y_5z-fLjWoL3qa0SHeRs8Q@mail.gmail.com>
From: Robert Muir <rcmuir@gmail.com>
Date: Fri, 25 Feb 2011 09:31:11 -0500
Message-ID: <AANLkTikeAKx=nWmSAKzbyhMStT_WZQHW0=1PeojHUSSf@mail.gmail.com>
Subject: Re: which unicode version is supported with lucene
To: java-user@lucene.apache.org, yonik@lucidimagination.com
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On Fri, Feb 25, 2011 at 9:16 AM, Yonik Seeley
<yonik@lucidimagination.com> wrote:
>
> On Fri, Feb 25, 2011 at 9:09 AM, Bernd Fehling
> <bernd.fehling@uni-bielefeld.de> wrote:
> > Hi Yonik,
> >
> > good point, yes we are using Jetty.
> > Do you know if Tomcat has this limitation?
>
> Tomcat's defaults are worse - you need to configure it to use UTF-8 by
> default for URLs.
> Once you do, it passes all those tests (last I checked). =C2=A0Those test=
s
> are really about UTF-8 working in GET/POST query arguments. =C2=A0Solr ma=
y
> still be able to handle indexing and returning full UTF-8, but you
> wouldn't be able to query for it w/o using surrogates if you're using
> Jetty.
>
> It would be good to test though - does anyone know how to add a char
> above the BMP to utf8-example.xml?
>

I tried the following, then tried to search on this character (U+29B05
/ UTF8:[f0 a9 ac 85]) with jetty and got no results.
I also went to the analysis.jsp as a quick test, and noted that jetty
treats it as if it were U+9B05 / UTF8:=C2=A0[e9 ac 85].

Then i searched on 'range' via the admin gui to retrieve this
document, and chrome blew up with "This page contains the following
errors: error on line 17 at column 306: Encoding error"

Didn't try tomcat.

Index: utf8-example.xml
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
--- utf8-example.xml (revision 1074125)
+++ utf8-example.xml (working copy)
@@ -34,6 +34,7 @@
=C2=A0=C2=A0 =C2=A0 <field name=3D"features">eaiou with umlauts: =C3=AB=C3=
=A4=C3=AF=C3=B6=C3=BC</field>
=C2=A0=C2=A0 =C2=A0 <field name=3D"features">tag with escaped chars: &lt;ni=
cetag/&gt;</field>
=C2=A0=C2=A0 =C2=A0 <field name=3D"features">escaped ampersand: Bonnie &amp=
; Clyde</field>
+ =C2=A0 =C2=A0<field name=3D"features">full unicode range (supplementary c=
har): =F0=A9=AC=85</field>
=C2=A0=C2=A0 =C2=A0 <field name=3D"price">0</field>
=C2=A0=C2=A0 =C2=A0 <!-- no popularity, get the default from schema.xml -->
=C2=A0=C2=A0 =C2=A0 <field name=3D"inStock">true</field>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48804-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 25 14:47:19 2011
Return-Path: <java-user-return-48804-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59795 invoked from network); 25 Feb 2011 14:47:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Feb 2011 14:47:18 -0000
Received: (qmail 29056 invoked by uid 500); 25 Feb 2011 14:47:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28705 invoked by uid 500); 25 Feb 2011 14:47:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28691 invoked by uid 99); 25 Feb 2011 14:47:12 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 14:47:12 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of bernd.fehling@uni-bielefeld.de designates 129.70.204.65 as permitted sender)
Received: from [129.70.204.65] (HELO mux1-unibi-smtp.hrz.uni-bielefeld.de) (129.70.204.65)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 14:47:07 +0000
MIME-version: 1.0
Content-transfer-encoding: 7BIT
Content-type: text/plain; charset=ISO-8859-1
Received: from pmxchannel-daemon.mux1-unibi-smtp.hrz.uni-bielefeld.de by
 mux1-unibi-smtp.hrz.uni-bielefeld.de
 (Sun Java(tm) System Messaging Server 6.3-6.03 (built Mar 14 2008; 32bit))
 id <0LH600200H1XY800@mux1-unibi-smtp.hrz.uni-bielefeld.de> for
 java-user@lucene.apache.org; Fri, 25 Feb 2011 15:46:45 +0100 (CET)
Received: from [129.70.11.68] ([129.70.11.68])
 by mux1-unibi-smtp.hrz.uni-bielefeld.de
 (Sun Java(tm) System Messaging Server 6.3-6.03 (built Mar 14 2008; 32bit))
 with ESMTPPSA id <0LH600MFVH1WB320@mux1-unibi-smtp.hrz.uni-bielefeld.de> for
 java-user@lucene.apache.org; Fri, 25 Feb 2011 15:46:45 +0100 (CET)
Date: Fri, 25 Feb 2011 15:46:44 +0100
From: Bernd Fehling <bernd.fehling@uni-bielefeld.de>
Subject: Re: which unicode version is supported with lucene
In-reply-to: <AANLkTi=ezv+=2zCh5_iA97y_5z-fLjWoL3qa0SHeRs8Q@mail.gmail.com>
To: java-user@lucene.apache.org
Message-id:
 <12738_1298645207_ZZh0k7t_03PJq.00_4D67C0D4.6080902@uni-bielefeld.de>
X-EnvFrom: bernd.fehling@uni-bielefeld.de
X-PMX-Version: 5.5.9.395186, Antispam-Engine: 2.7.2.376379,
 Antispam-Data: 2011.2.25.143615, pmx8
X-Connecting-IP: 129.70.11.68
References: <14212_1298629418_ZZh0k3sw3i7S6.00_4D67831F.90801@uni-bielefeld.de>
 <AANLkTi=M6oAO2ZApNB-Cr+fpHL5Oct3PY+mCkbFbUVd9@mail.gmail.com>
 <23538_1298635379_ZZh0k6skodisY.00_4D679A50.1000308@uni-bielefeld.de>
 <AANLkTinc3Rm=sQCvm=tYUHFThFSC+DF8xNYB81jmdatY@mail.gmail.com>
 <23505_1298639997_ZZh0k5s9GBkrP.00_4D67AC5A.7080708@uni-bielefeld.de>
 <006e01cbd4f1$94590560$bd0b1020$@thetaphi.de>
 <23510_1298641750_ZZh0k1svNf89G.00_4D67B322.1010403@uni-bielefeld.de>
 <AANLkTikbfEa2ABFaGUo1EUtrfLahP7CvgZh5L7NaEwX4@mail.gmail.com>
 <22191_1298642974_ZZh0k5sBSB3rn.00_4D67B80F.3020304@uni-bielefeld.de>
 <AANLkTi=ezv+=2zCh5_iA97y_5z-fLjWoL3qa0SHeRs8Q@mail.gmail.com>
User-Agent: Mozilla/5.0 (X11; U; Linux x86_64; de; rv:1.9.1.16) Gecko/20101125
 SUSE/3.0.11 Thunderbird/3.0.11


I just tried vim as editor, seams to work.

- start vim
- enter i (for insert)
- enter <ctrl>+v and then <shift>+U (for uppercase U)
- enter upper Unicode with 8 digits
(e.g. 0001D5A0 for U+1D5A0 [MATHEMATICAL SANS-SERIF CAPITAL A])


Am 25.02.2011 15:16, schrieb Yonik Seeley:
> On Fri, Feb 25, 2011 at 9:09 AM, Bernd Fehling
> <bernd.fehling@uni-bielefeld.de> wrote:
>> Hi Yonik,
>>
>> good point, yes we are using Jetty.
>> Do you know if Tomcat has this limitation?
> 
> Tomcat's defaults are worse - you need to configure it to use UTF-8 by
> default for URLs.
> Once you do, it passes all those tests (last I checked).  Those tests
> are really about UTF-8 working in GET/POST query arguments.  Solr may
> still be able to handle indexing and returning full UTF-8, but you
> wouldn't be able to query for it w/o using surrogates if you're using
> Jetty.
> 
> It would be good to test though - does anyone know how to add a char
> above the BMP to utf8-example.xml?
> 
> -Yonik
> http://lucidimagination.com
> 
> 
>> Regards,
>> Bernd
>>
>> Am 25.02.2011 14:54, schrieb Yonik Seeley:
>>> On Fri, Feb 25, 2011 at 8:48 AM, Bernd Fehling
>>> <bernd.fehling@uni-bielefeld.de> wrote:
>>>> So Solr trunk should already handle Unicode above BMP for field type string?
>>>> Strange...
>>>
>>> One issue is that jetty doesn't support UTF-8 beyond the BMP:
>>>
>>> /opt/code/lusolr/solr/example/exampledocs$ ./test_utf8.sh
>>> Solr server is up.
>>> HTTP GET is accepting UTF-8
>>> HTTP POST is accepting UTF-8
>>> HTTP POST defaults to UTF-8
>>> ERROR: HTTP GET is not accepting UTF-8 beyond the basic multilingual plane
>>> ERROR: HTTP POST is not accepting UTF-8 beyond the basic multilingual plane
>>> ERROR: HTTP POST + URL params is not accepting UTF-8 beyond the basic
>>> multilingual plane
>>>
>>> -Yonik
>>> http://lucidimagination.com
>>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48805-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 25 15:05:33 2011
Return-Path: <java-user-return-48805-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72749 invoked from network); 25 Feb 2011 15:05:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Feb 2011 15:05:33 -0000
Received: (qmail 46402 invoked by uid 500); 25 Feb 2011 15:05:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46153 invoked by uid 500); 25 Feb 2011 15:05:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46145 invoked by uid 99); 25 Feb 2011 15:05:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 15:05:26 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of yseeley@gmail.com designates 74.125.82.176 as permitted sender)
Received: from [74.125.82.176] (HELO mail-wy0-f176.google.com) (74.125.82.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 15:05:21 +0000
Received: by wya21 with SMTP id 21so2098240wya.35
        for <java-user@lucene.apache.org>; Fri, 25 Feb 2011 07:05:00 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:sender:reply-to:in-reply-to
         :references:date:x-google-sender-auth:message-id:subject:from:to:cc
         :content-type:content-transfer-encoding;
        bh=VEVtl7yiICWGTK4ZZAnuNZgIn9HtGNi10H6VUrB31M8=;
        b=DVsNYi7VHio50PVfAuJWJPCSGLdOI8obq2Tymyi6W8J2RGQWQdIckFL1Zs1/lbZ9GJ
         PmzctP9wZLrL13fAyW2gcDR7VzuAP0i+YLTfF7/H/JSZjMppMR9pcKiiqStme70Hp9dj
         LpQBmz/wmPYHaKvTOUXdhhVHXVRcBfi8h+Dxw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:reply-to:in-reply-to:references:date
         :x-google-sender-auth:message-id:subject:from:to:cc:content-type
         :content-transfer-encoding;
        b=OMXOAB7mm4+6/Fz5SDBD5iVJqjsuA+Xsxo/fs+aTaPVbTZceC780okPNcUeGRMRjAg
         I+/0/tRyAy1CipSfUgdtZSNgPaMQ2jogSmd1ukPdhUkweICgIxiFmmuFTtg2O/ADp9dW
         RNohXAqM8GsbKrouDQDeO11qblAROrKATocNU=
MIME-Version: 1.0
Received: by 10.216.254.89 with SMTP id g67mr4511959wes.7.1298646300001; Fri,
 25 Feb 2011 07:05:00 -0800 (PST)
Sender: yseeley@gmail.com
Reply-To: yonik@lucidimagination.com
Received: by 10.216.4.13 with HTTP; Fri, 25 Feb 2011 07:04:59 -0800 (PST)
In-Reply-To: <AANLkTikeAKx=nWmSAKzbyhMStT_WZQHW0=1PeojHUSSf@mail.gmail.com>
References: <14212_1298629418_ZZh0k3sw3i7S6.00_4D67831F.90801@uni-bielefeld.de>
	<AANLkTi=M6oAO2ZApNB-Cr+fpHL5Oct3PY+mCkbFbUVd9@mail.gmail.com>
	<23538_1298635379_ZZh0k6skodisY.00_4D679A50.1000308@uni-bielefeld.de>
	<AANLkTinc3Rm=sQCvm=tYUHFThFSC+DF8xNYB81jmdatY@mail.gmail.com>
	<23505_1298639997_ZZh0k5s9GBkrP.00_4D67AC5A.7080708@uni-bielefeld.de>
	<006e01cbd4f1$94590560$bd0b1020$@thetaphi.de>
	<23510_1298641750_ZZh0k1svNf89G.00_4D67B322.1010403@uni-bielefeld.de>
	<AANLkTikbfEa2ABFaGUo1EUtrfLahP7CvgZh5L7NaEwX4@mail.gmail.com>
	<22191_1298642974_ZZh0k5sBSB3rn.00_4D67B80F.3020304@uni-bielefeld.de>
	<AANLkTi=ezv+=2zCh5_iA97y_5z-fLjWoL3qa0SHeRs8Q@mail.gmail.com>
	<AANLkTikeAKx=nWmSAKzbyhMStT_WZQHW0=1PeojHUSSf@mail.gmail.com>
Date: Fri, 25 Feb 2011 10:04:59 -0500
X-Google-Sender-Auth: KWc1qagbCylR0djHczskwogXgNs
Message-ID: <AANLkTimB9nhEEyf1npgb3GJH49Uugje8a6GypqTvtqcL@mail.gmail.com>
Subject: Re: which unicode version is supported with lucene
From: Yonik Seeley <yonik@lucidimagination.com>
To: Robert Muir <rcmuir@gmail.com>
Cc: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Fri, Feb 25, 2011 at 9:31 AM, Robert Muir <rcmuir@gmail.com> wrote:
> Then i searched on 'range' via the admin gui to retrieve this
> document, and chrome blew up with "This page contains the following
> errors: error on line 17 at column 306: Encoding error"

I got an error in firefox too.
I added the following example (commented out for now):
    <field name=3D"features">Outside the BMP:=F0=90=8C=88 codepoint=3D10308=
, a
circle with an x inside. UTF8=3Df0908c88 UTF16=3Dd800 df08</field>

I can verify it got into Solr OK by querying with python format (which
escapes everything outside the ascii range for each 16 bit char):
http://localhost:8983/solr/select?q=3DBMP&wt=3Dpython&indent=3Dtrue

[...]
          u'Outside the BMP:\ud800\udf08 codepoint=3D10308, a circle
with an x inside. UTF8=3Df0908c88 UTF16=3Dd800 df08']}]

But firefox complains on XML output, and any other output like JSON it
looks mangled.
My bet is Jetty's UTF8 encoding for the response also doesn't handle
the full range.

-Yonik
http://lucidimagination.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48806-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 25 16:29:43 2011
Return-Path: <java-user-return-48806-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5844 invoked from network); 25 Feb 2011 16:29:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Feb 2011 16:29:42 -0000
Received: (qmail 65082 invoked by uid 500); 25 Feb 2011 16:29:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64784 invoked by uid 500); 25 Feb 2011 16:29:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64772 invoked by uid 99); 25 Feb 2011 16:29:36 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 16:29:36 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of rcmuir@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 16:29:30 +0000
Received: by bwz8 with SMTP id 8so2656175bwz.35
        for <java-user@lucene.apache.org>; Fri, 25 Feb 2011 08:29:10 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:cc:content-type;
        bh=84x0RsLH7HvZnmfGnHMiwhjhqhNeNvXsDys3UmPQVu4=;
        b=apQwBUSA8IjOi+P7UTC8sLXIhRAJyDVaxxeeFx4MdfgCzcWhOod476W4pF8IM7HwAJ
         kkN/rWd44NQfR5qRwj7Z543Xn7ASHh2Reuw6z8RHV2Kr+EyPGk6Dp29Ro8O1jTUyH1dd
         DdCL7HvvE718olhlDTEJ58Sjx9jLcIcCz72Jw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :cc:content-type;
        b=XK8Vq076uQomLqFcb/6GenMu2/Fo5fIYrC9eRwAm2esf3yRjBCa2SO6FQ459jXaz/5
         gBBu540Er+UKilEREM7E8Ukyi7+ScswRkLM0Kcwgt3OuDsH5Gshn0ekhk4Mj20hTyNFv
         SA0heuAM7F5WvoCM8KJAa9jvVBLHY8oBFeqzk=
Received: by 10.204.114.81 with SMTP id d17mr2278253bkq.135.1298651349172;
 Fri, 25 Feb 2011 08:29:09 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.80.143 with HTTP; Fri, 25 Feb 2011 08:28:49 -0800 (PST)
In-Reply-To: <AANLkTimB9nhEEyf1npgb3GJH49Uugje8a6GypqTvtqcL@mail.gmail.com>
References: <14212_1298629418_ZZh0k3sw3i7S6.00_4D67831F.90801@uni-bielefeld.de>
 <AANLkTi=M6oAO2ZApNB-Cr+fpHL5Oct3PY+mCkbFbUVd9@mail.gmail.com>
 <23538_1298635379_ZZh0k6skodisY.00_4D679A50.1000308@uni-bielefeld.de>
 <AANLkTinc3Rm=sQCvm=tYUHFThFSC+DF8xNYB81jmdatY@mail.gmail.com>
 <23505_1298639997_ZZh0k5s9GBkrP.00_4D67AC5A.7080708@uni-bielefeld.de>
 <006e01cbd4f1$94590560$bd0b1020$@thetaphi.de> <23510_1298641750_ZZh0k1svNf89G.00_4D67B322.1010403@uni-bielefeld.de>
 <AANLkTikbfEa2ABFaGUo1EUtrfLahP7CvgZh5L7NaEwX4@mail.gmail.com>
 <22191_1298642974_ZZh0k5sBSB3rn.00_4D67B80F.3020304@uni-bielefeld.de>
 <AANLkTi=ezv+=2zCh5_iA97y_5z-fLjWoL3qa0SHeRs8Q@mail.gmail.com>
 <AANLkTikeAKx=nWmSAKzbyhMStT_WZQHW0=1PeojHUSSf@mail.gmail.com> <AANLkTimB9nhEEyf1npgb3GJH49Uugje8a6GypqTvtqcL@mail.gmail.com>
From: Robert Muir <rcmuir@gmail.com>
Date: Fri, 25 Feb 2011 11:28:49 -0500
Message-ID: <AANLkTikbsfJrxfi4HJRw0nVh4E6dFLCeOdbcZ2XD05-U@mail.gmail.com>
Subject: Re: which unicode version is supported with lucene
To: yonik@lucidimagination.com
Cc: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Fri, Feb 25, 2011 at 10:04 AM, Yonik Seeley
<yonik@lucidimagination.com> wrote:
> But firefox complains on XML output, and any other output like JSON it
> looks mangled.
> My bet is Jetty's UTF8 encoding for the response also doesn't handle
> the full range.
>

I created a JIRA issue on jetty's issue tracker with a tentative fix:
http://jira.codehaus.org/browse/JETTY-1340

Our test_utf8.sh passes with this.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48807-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 25 18:15:41 2011
Return-Path: <java-user-return-48807-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60643 invoked from network); 25 Feb 2011 18:15:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Feb 2011 18:15:41 -0000
Received: (qmail 29026 invoked by uid 500); 25 Feb 2011 18:15:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28624 invoked by uid 500); 25 Feb 2011 18:15:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28611 invoked by uid 99); 25 Feb 2011 18:15:35 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 18:15:35 +0000
X-ASF-Spam-Status: No, hits=2.8 required=5.0
	tests=FREEMAIL_FROM,FREEMAIL_REPLYTO,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of simon.willnauer@googlemail.com designates 209.85.220.176 as permitted sender)
Received: from [209.85.220.176] (HELO mail-vx0-f176.google.com) (209.85.220.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 18:15:28 +0000
Received: by vxc41 with SMTP id 41so2038710vxc.35
        for <java-user@lucene.apache.org>; Fri, 25 Feb 2011 10:15:08 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:mime-version:reply-to:in-reply-to:references
         :date:message-id:subject:from:to:cc:content-type
         :content-transfer-encoding;
        bh=pt9hCjZHdAvoWswyF4XUSQtPDqkxGVvg5dNkgcqP5N8=;
        b=YAghQY+483/owUPF2vs7gCZ5tyqX+/klMgUxAH0Tda+f56D3JQ7oH8obpHbF/7FOUf
         n4LFbbbbVtnmWY3O3QmrEkFJbR7pFBzhyfYb4rngqUU2zgNLzYcCFIerVWt0wfzIF8nu
         3NTxL360MQE6m7Qq3v+keI2Xd0Xq3IwPjvXu0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=mime-version:reply-to:in-reply-to:references:date:message-id
         :subject:from:to:cc:content-type:content-transfer-encoding;
        b=hnnm1rHZvqqIxa4cPf+OE7TJ8lqSsd/nb8GDhunfRJz5o8LaWzjT9X4uO/S3JcVEiE
         qxhyHVzJkKDW7U9Wyb4UhG+9dKWxixpwIaQwWfLN2msjLrgYinsHfyjmV7Q4a5olDsJf
         ONa1cd2v+WKhzM4P/NBs2ZNkstnMWscW+G3wA=
MIME-Version: 1.0
Received: by 10.52.172.15 with SMTP id ay15mr95270vdc.257.1298657600523; Fri,
 25 Feb 2011 10:13:20 -0800 (PST)
Received: by 10.52.168.3 with HTTP; Fri, 25 Feb 2011 10:13:20 -0800 (PST)
Reply-To: simon.willnauer@gmail.com
In-Reply-To: <AANLkTikovbLwQE7t7Mg27pDT572641=JAHqveUu9yAV-@mail.gmail.com>
References: <AANLkTikovbLwQE7t7Mg27pDT572641=JAHqveUu9yAV-@mail.gmail.com>
Date: Fri, 25 Feb 2011 19:13:20 +0100
Message-ID: <AANLkTim0007k0YAyAp2CZEdUgBhBYg7GD3Rv8=BZOAFM@mail.gmail.com>
Subject: Re: shared IndexSearcher (lucene 3.0.3)
From: Simon Willnauer <simon.willnauer@googlemail.com>
To: java-user@lucene.apache.org
Cc: Akos Tajti <akos.tajti@gmail.com>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Hey,

the too many open files can be prevented by raising the limit of open files=
 ;)

there is a nice summary on the FAQ you might wanna look at:

http://wiki.apache.org/lucene-java/LuceneFAQ#Why_am_I_getting_an_IOExceptio=
n_that_says_.22Too_many_open_files.22.3F

if you have further questions just come back here!

Simon

On Fri, Feb 25, 2011 at 2:11 PM, Akos Tajti <akos.tajti@gmail.com> wrote:
> Hi all,
>
> in our project we're using lucene in tomcat. To avoid some overhead we ha=
ve
> a shared IndexSearcher instance. In the past we had too many open files
> errors many times. To prevent this the IndexSearcher is closed and reopen=
ed
> after indexing. The shared instance is not closed anywhere else in the co=
de.
> Is this the right way of preventing these kind of errors?
>
> Thanks in advance for your answers,
> =C3=81kos Tajti
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48808-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 25 18:31:51 2011
Return-Path: <java-user-return-48808-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71878 invoked from network); 25 Feb 2011 18:31:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Feb 2011 18:31:51 -0000
Received: (qmail 54213 invoked by uid 500); 25 Feb 2011 18:31:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53800 invoked by uid 500); 25 Feb 2011 18:31:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53788 invoked by uid 99); 25 Feb 2011 18:31:46 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 18:31:46 +0000
X-ASF-Spam-Status: No, hits=2.8 required=5.0
	tests=FREEMAIL_FROM,FREEMAIL_REPLYTO,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of simon.willnauer@googlemail.com designates 209.85.220.176 as permitted sender)
Received: from [209.85.220.176] (HELO mail-vx0-f176.google.com) (209.85.220.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 18:31:39 +0000
Received: by vxc41 with SMTP id 41so2056609vxc.35
        for <java-user@lucene.apache.org>; Fri, 25 Feb 2011 10:31:18 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:mime-version:reply-to:in-reply-to:references
         :date:message-id:subject:from:to:cc:content-type
         :content-transfer-encoding;
        bh=c685GrvAREIQUqwAKHSv7dOqukhV6MxLGl0+/73zXiU=;
        b=TaoLPGZPsS6hXN6Gj16TRzFcsTBoA5y7JaXKfTY9DFch7ie9J9OahXvRPosZpS2x3A
         CiGtg7ZcxKTAB1R7dQGRI+DmjYVgLv9AGuFLPn5WnE1SZpzyHCpRdXLKUfXuEpTpkboA
         Pjh+V5nBNoKB3Ad3ipPaRQ+l+idK80i6RFIpM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=mime-version:reply-to:in-reply-to:references:date:message-id
         :subject:from:to:cc:content-type:content-transfer-encoding;
        b=L3TwooIWdipm9AhWG/7X7580orHj2XmQosnaEB4nXs8JepYK73dFhuS7ZyG0omYbB+
         YdEWB7ihayOwx7itVXQGqxMDOyYSxM2gsVaLbDsVzMknLfDUDrXX1+lXgyliodwfvuY0
         PA50Mqe1W/bH4+0bGOwjP9dfTuP6pkZJoJZ2o=
MIME-Version: 1.0
Received: by 10.52.163.34 with SMTP id yf2mr4713861vdb.97.1298658677729; Fri,
 25 Feb 2011 10:31:17 -0800 (PST)
Received: by 10.52.168.3 with HTTP; Fri, 25 Feb 2011 10:31:17 -0800 (PST)
Reply-To: simon.willnauer@gmail.com
In-Reply-To: <AANLkTinL=GMSnxedtznnadYPJDVf0+9Q3opegzcAUjN4@mail.gmail.com>
References: <AANLkTinL=GMSnxedtznnadYPJDVf0+9Q3opegzcAUjN4@mail.gmail.com>
Date: Fri, 25 Feb 2011 19:31:17 +0100
Message-ID: <AANLkTik0RBiKSp_YP9GQqe=wx0O_SqGBWH9+BPsmhHR-@mail.gmail.com>
Subject: Re: Proper way to deal with shared indexer exception
From: Simon Willnauer <simon.willnauer@googlemail.com>
To: java-user@lucene.apache.org
Cc: Jason Tesser <jasontesser@gmail.com>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

I looked at your code briefly. I could imagine that you have a problem
if you close the IndexReader while there is still Search going on
holding on to the already replaced IndexSearcher. I usually recommend
to use a some kind of a "transactional" pattern. When you do a search
you ask for the IndexSearcher (lets call it public IndexSearcher
beginSearch();) once you are done you return the Searcher with void
finishSearch(IndexSearcher)

you would then search like this

IndexSearcher searcher =3D x.beginSearch();
try {

// do search
} finally {
 x.finishSearch(searcher);
}

public IndexSearcher beginSearch() {
  this.searcher.getIndexReader().incRef()
  return searcher;
}


public void finishSearch(IndexSearcher searcher) {
  searcher.getIndexReader().decRef();
}

that way you can just call searcher.getindexReader().close()

once you switch to a new IndexReader. if there is still a referenced
IndexReader out there doing some searches the close will happen once
the last ref is decremented.

maybe that solves your problem and make your code simpler too..


simon
On Fri, Feb 25, 2011 at 3:22 PM, Jason Tesser <jasontesser@gmail.com> wrote=
:
> We are having issues with FileChannelClosed and are NOT calling
> Thread.interrupt. =C2=A0We also start to see AlreadyClosedException on Re=
ader.
>
> *
> *
>
> we are running the latest 3.0.3
>
>
> We have code in my lucene Util class like this =C2=A0http://pastebin.com/=
ifbxhVLi
>
> *
> *
>
> we have a single shared searcher and a single writer which is only checke=
d
> out once not shared single threaded http://pastebin.com/YF8nmwg0
>
> *
> *
>
> we use to call destroy in all the caches of the first paste bin which I
> think is a problem
>
> *
> *
>
> =C2=A01. what would be the recommended way here?
>
> *
> *
>
> in other words if I catch AlreadyClosedException ace OR
> ClosedChannelException OR IOException what would be the best to do with m=
y
> shared searcher
>
> *
> *
>
> 2. =C2=A0is reopen enough? =C2=A0or should I get a brand new searcher?
>
>
> Thanks,
> Jason Tesser
> dotCMS Lead Development Manager
> 1-305-858-1422
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48809-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 25 22:02:00 2011
Return-Path: <java-user-return-48809-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68994 invoked from network); 25 Feb 2011 22:02:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Feb 2011 22:02:00 -0000
Received: (qmail 7228 invoked by uid 500); 25 Feb 2011 22:01:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7175 invoked by uid 500); 25 Feb 2011 22:01:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7167 invoked by uid 99); 25 Feb 2011 22:01:56 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 22:01:56 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of rcmuir@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 22:01:51 +0000
Received: by bwz8 with SMTP id 8so3002368bwz.35
        for <java-user@lucene.apache.org>; Fri, 25 Feb 2011 14:01:30 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=HbOANWvIE1Y1iGxH+M4335EJnhOyGOZmzoGn2nKL6gQ=;
        b=oWtLFHC0YbmsjP3ZM/bCuEIm7Hs76Hla2iMrtADBJ2baFyUylB+Q+Vs5tdxUIC3qHA
         zm6iXZJTBnS5l4SFsQJMiwJWV1G8PFj46Clq2DkQN78+58b7WDswOYJ0zyVgajxW0GEc
         oVV4vXcVYJ0iLHiZNcPjRx0Nv430fESrWK3ew=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=sccLJii3tSm7DiQ2sUo3K15aFzdsEHqszTYPlgbzLFQIvdaVU3IJ/cb43DWDONl5C9
         JF6t7RXWnZ580etOTlQxfaIMDdgnoDvCBQR2Td2Pf4unVuYDipOA/EW2318fEvHN+wWN
         +l1OCM+y3ugLkqTx6BduO8ziYTKc8uVlbK4H8=
Received: by 10.204.56.14 with SMTP id w14mr2565494bkg.27.1298671290190; Fri,
 25 Feb 2011 14:01:30 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.80.143 with HTTP; Fri, 25 Feb 2011 14:01:10 -0800 (PST)
In-Reply-To: <22191_1298642974_ZZh0k5sBSB3rn.00_4D67B80F.3020304@uni-bielefeld.de>
References: <14212_1298629418_ZZh0k3sw3i7S6.00_4D67831F.90801@uni-bielefeld.de>
 <AANLkTi=M6oAO2ZApNB-Cr+fpHL5Oct3PY+mCkbFbUVd9@mail.gmail.com>
 <23538_1298635379_ZZh0k6skodisY.00_4D679A50.1000308@uni-bielefeld.de>
 <AANLkTinc3Rm=sQCvm=tYUHFThFSC+DF8xNYB81jmdatY@mail.gmail.com>
 <23505_1298639997_ZZh0k5s9GBkrP.00_4D67AC5A.7080708@uni-bielefeld.de>
 <006e01cbd4f1$94590560$bd0b1020$@thetaphi.de> <23510_1298641750_ZZh0k1svNf89G.00_4D67B322.1010403@uni-bielefeld.de>
 <AANLkTikbfEa2ABFaGUo1EUtrfLahP7CvgZh5L7NaEwX4@mail.gmail.com> <22191_1298642974_ZZh0k5sBSB3rn.00_4D67B80F.3020304@uni-bielefeld.de>
From: Robert Muir <rcmuir@gmail.com>
Date: Fri, 25 Feb 2011 17:01:10 -0500
Message-ID: <AANLkTimbqgMgT_74Ln4OtexVfmoarSwe+GOBmcY0XBo9@mail.gmail.com>
Subject: Re: which unicode version is supported with lucene
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8

On Fri, Feb 25, 2011 at 9:09 AM, Bernd Fehling
<bernd.fehling@uni-bielefeld.de> wrote:
> Hi Yonik,
>
> good point, yes we are using Jetty.
> Do you know if Tomcat has this limitation?
>

Hi Bernd, I placed some patched Jetty jar files on
https://issues.apache.org/jira/browse/SOLR-2381 for the meantime.

Maybe then you can get past your problem with Jetty.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48810-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Feb 25 22:11:46 2011
Return-Path: <java-user-return-48810-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79916 invoked from network); 25 Feb 2011 22:11:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 25 Feb 2011 22:11:46 -0000
Received: (qmail 24614 invoked by uid 500); 25 Feb 2011 22:11:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24511 invoked by uid 500); 25 Feb 2011 22:11:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24503 invoked by uid 99); 25 Feb 2011 22:11:43 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 22:11:43 +0000
X-ASF-Spam-Status: No, hits=1.6 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_PASS,SUBJ_ALL_CAPS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of crackeur@comcast.net designates 76.96.30.32 as permitted sender)
Received: from [76.96.30.32] (HELO qmta03.emeryville.ca.mail.comcast.net) (76.96.30.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Feb 2011 22:11:33 +0000
Received: from omta24.emeryville.ca.mail.comcast.net ([76.96.30.92])
	by qmta03.emeryville.ca.mail.comcast.net with comcast
	id CMuv1g0051zF43QA3NBCeX; Fri, 25 Feb 2011 22:11:12 +0000
Received: from JimmyZhangPC ([24.6.50.139])
	by omta24.emeryville.ca.mail.comcast.net with comcast
	id CNBB1g00730BdcQ8kNBBZn; Fri, 25 Feb 2011 22:11:11 +0000
Message-ID: <17A84E0D09E547B98AAFFA954F52DC02@JimmyZhangPC>
From: "Jimmy Zhang" <crackeur@comcast.net>
To: <java-user@lucene.apache.org>
References: <AANLkTimC8WpzxDWTNcqMhWW6yEfx5VvT3978xso_Crk3@mail.gmail.com> <AANLkTikSMtHdiKAU7LgmaeK=euUiNpj74WZ05h+jJFuY@mail.gmail.com>
In-Reply-To: <AANLkTikSMtHdiKAU7LgmaeK=euUiNpj74WZ05h+jJFuY@mail.gmail.com>
Subject: [ANN]VTD-XML 2.10
Date: Fri, 25 Feb 2011 14:11:13 -0800
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
Importance: Normal
X-Mailer: Microsoft Windows Live Mail 15.4.3508.1109
X-MimeOLE: Produced By Microsoft MimeOLE V15.4.3508.1109
X-Virus-Checked: Checked by ClamAV on apache.org

VTD-XML 2.10 is now released. It can be downloaded at 
https://sourceforge.net/projects/vtd-xml/files/vtd-xml/ximpleware_2.10/.
This release includes a number of new features and enhancement.

* The core API of VTD-XML has been expanded. Users can now perform 
cut/paste/insert on an empty element.
* This release also adds the support of deeper location cache support for 
parsing and indexing. This feature is useful for application performance 
tuning for
processing various XML documents.
* The java version also added support for processing zip and gzip files. 
Direct processing of httpURL based XML is enhanced.
* Extended Java version now support Iso-8859-10~16 encoding.
* A full featured C++ port is released.
* C version of VTD-XML now make use of thread local storage to achieve 
thread safety for multi-threaded application.
* There are also a number of bugs fixed. Special thanks to Jozef Aerts, John 
Sillers, Chris Tornau and a number of other users for input and suggestions 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48811-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Feb 27 01:00:19 2011
Return-Path: <java-user-return-48811-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31101 invoked from network); 27 Feb 2011 01:00:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 27 Feb 2011 01:00:19 -0000
Received: (qmail 14121 invoked by uid 500); 27 Feb 2011 01:00:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13962 invoked by uid 500); 27 Feb 2011 01:00:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13954 invoked by uid 99); 27 Feb 2011 01:00:15 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Feb 2011 01:00:15 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of Lisheng.Zhang@broadvision.com designates 139.56.8.26 as permitted sender)
Received: from [139.56.8.26] (HELO mail-fw.broadvision.com) (139.56.8.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Feb 2011 01:00:09 +0000
X-ASG-Debug-ID: 1298768388-0bcd00100000-H1Y1KX
X-Barracuda-URL: http://mail-fw.broadvision.com:8000/cgi-bin/mark.cgi
Received: from RW-EX2003.BROADVISION.COM (localhost [127.0.0.1])
	by mail-fw.broadvision.com (Spam Firewall) with ESMTP id 9913519468E
	for <java-user@lucene.apache.org>; Sat, 26 Feb 2011 16:59:48 -0800 (PST)
Received: from RW-EX2003.BROADVISION.COM ([10.10.160.33]) by mail-fw.broadvision.com with ESMTP id 8kpu7zWj8BqbcAl1 for <java-user@lucene.apache.org>; Sat, 26 Feb 2011 16:59:48 -0800 (PST)
X-ASG-Whitelist: Client
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-ASG-Orig-Subj: Lucene search result produced wrong result (due to java Collation)?
Subject: Lucene search result produced wrong result (due to java Collation)?
Date: Sat, 26 Feb 2011 16:59:48 -0800
Message-ID: <ED081AC9AEEE0248BBCCDE9989AAE3FC02CB191F@rw-ex2003.BROADVISION.COM>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lucene search result produced wrong result (due to java Collation)?
Thread-Index: AcvWGaGrtpDQ26DXQxuYsIfCyDS0IQ==
From: "Zhang, Lisheng" <Lisheng.Zhang@BroadVision.com>
To: "java-user@lucene.apache.org" <'java-user@lucene.apache.org'>
X-Barracuda-Connect: UNKNOWN[10.10.160.33]
X-Barracuda-Start-Time: 1298768388
X-Barracuda-Virus-Scanned: by Barracuda Spam Firewall at broadvision.com


Hi,

Today I have noticed that sometimes lucene sort produced strange result =
in plain
English names, like (String ASC)

l yy
liu yu

I traced to lucene source code, it seems to be a java English Collator =
problem (I=20
set Locale.English to SortField), below I reproduced issue by a trivial =
code (pure
java):

/////
import java.util.Locale;
import java.text.Collator;

public class T1 {
  static public void main(String[] argv) {

    String s1 =3D "l yy";
    String s2 =3D "liu yu";

    //s1 =3D "l";
    //s2 =3D "liu";

    Collator col1 =3D Collator.getInstance(Locale.US);
    System.out.println("COLL_RES  =3D" + col1.compare(s1, s2));
    System.out.println("STRI_RES  =3D" + s1.compareTo(s2));
  }
}
/////

The result is:

COLL_RES  =3D1
STRI_RES  =3D-73

I tested different java versions and get same result, maybe I missed sth =
trivial, but
above test is really simple?

Thanks very much for helps, Lisheng


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48812-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Feb 27 14:04:51 2011
Return-Path: <java-user-return-48812-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80904 invoked from network); 27 Feb 2011 14:04:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 27 Feb 2011 14:04:50 -0000
Received: (qmail 6222 invoked by uid 500); 27 Feb 2011 14:04:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5822 invoked by uid 500); 27 Feb 2011 14:04:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5810 invoked by uid 99); 27 Feb 2011 14:04:42 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Feb 2011 14:04:42 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of bernd.fehling@uni-bielefeld.de designates 129.70.204.73 as permitted sender)
Received: from [129.70.204.73] (HELO mux2-unibi-smtp.hrz.uni-bielefeld.de) (129.70.204.73)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Feb 2011 14:04:34 +0000
MIME-version: 1.0
Content-transfer-encoding: 7BIT
Content-disposition: inline
Content-type: text/plain; charset=us-ascii
Received: from pmxchannel-daemon.mux2-unibi-smtp.hrz.uni-bielefeld.de by
 mux2-unibi-smtp.hrz.uni-bielefeld.de
 (Sun Java(tm) System Messaging Server 6.3-6.03 (built Mar 14 2008; 32bit))
 id <0LHA004004F1YD00@mux2-unibi-smtp.hrz.uni-bielefeld.de> for
 java-user@lucene.apache.org; Sun, 27 Feb 2011 15:04:13 +0100 (CET)
Received: from msg-int.uni-bielefeld.de ([129.70.242.10])
 by mux2-unibi-smtp.hrz.uni-bielefeld.de
 (Sun Java(tm) System Messaging Server 6.3-6.03 (built Mar 14 2008; 32bit))
 with ESMTPPA id <0LHA00LG54F1WZ20@mux2-unibi-smtp.hrz.uni-bielefeld.de> for
 java-user@lucene.apache.org; Sun, 27 Feb 2011 15:04:13 +0100 (CET)
Received: from [129.70.204.91] (Forwarded-For: 217.25.164.234)
 by mux3-unibi-web.hrz.uni-bielefeld.de (mshttpd); Sun,
 27 Feb 2011 15:04:12 +0100
Date: Sun, 27 Feb 2011 15:04:12 +0100
From: Bernd Fehling <bernd.fehling@uni-bielefeld.de>
Subject: Re: which unicode version is supported with lucene
In-reply-to: <AANLkTimbqgMgT_74Ln4OtexVfmoarSwe+GOBmcY0XBo9@mail.gmail.com>
To: java-user@lucene.apache.org
Message-id:
 <17626_1298815491_ZZh0k6D9nVRNb.00_fbeca5b8472aa.4d6a67ec@uni-bielefeld.de>
X-Mailer: Sun Java(tm) System Messenger Express 6.3-8.03 (built Apr 24 2009;
 32bit)
Content-language: de
X-Accept-Language: de
Priority: normal
X-EnvFrom: bernd.fehling@uni-bielefeld.de
X-PMX-Version: 5.5.9.395186, Antispam-Engine: 2.7.2.376379,
 Antispam-Data: 2011.2.27.135717, pmx10
X-Connecting-IP: 129.70.242.10
References: <14212_1298629418_ZZh0k3sw3i7S6.00_4D67831F.90801@uni-bielefeld.de>
 <AANLkTi=M6oAO2ZApNB-Cr+fpHL5Oct3PY+mCkbFbUVd9@mail.gmail.com>
 <23538_1298635379_ZZh0k6skodisY.00_4D679A50.1000308@uni-bielefeld.de>
 <AANLkTinc3Rm=sQCvm=tYUHFThFSC+DF8xNYB81jmdatY@mail.gmail.com>
 <23505_1298639997_ZZh0k5s9GBkrP.00_4D67AC5A.7080708@uni-bielefeld.de>
 <006e01cbd4f1$94590560$bd0b1020$@thetaphi.de>
 <23510_1298641750_ZZh0k1svNf89G.00_4D67B322.1010403@uni-bielefeld.de>
 <AANLkTikbfEa2ABFaGUo1EUtrfLahP7CvgZh5L7NaEwX4@mail.gmail.com>
 <22191_1298642974_ZZh0k5sBSB3rn.00_4D67B80F.3020304@uni-bielefeld.de>
 <AANLkTimbqgMgT_74Ln4OtexVfmoarSwe+GOBmcY0XBo9@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Robert,

thanks to you and Yonik for looking into this.
As soon as Apache jira is back online I will try your jetty version
and give feedback.

Regards,
Bernd

> On Fri, Feb 25, 2011 at 9:09 AM, Bernd Fehling
> <bernd.fehling@uni-bielefeld.de> wrote:
> > Hi Yonik,
> >
> > good point, yes we are using Jetty.
> > Do you know if Tomcat has this limitation?
> >
> 
> Hi Bernd, I placed some patched Jetty jar files on
> https://issues.apache.org/jira/browse/SOLR-2381 for the meantime.
> 
> Maybe then you can get past your problem with Jetty.
> 
> -----------------------------------------------------------------
> ----
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48813-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Feb 27 14:19:01 2011
Return-Path: <java-user-return-48813-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92329 invoked from network); 27 Feb 2011 14:19:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 27 Feb 2011 14:19:01 -0000
Received: (qmail 15770 invoked by uid 500); 27 Feb 2011 14:18:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15559 invoked by uid 500); 27 Feb 2011 14:18:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15551 invoked by uid 99); 27 Feb 2011 14:18:53 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Feb 2011 14:18:53 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Feb 2011 14:18:48 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id 7271F45E635
	for <java-user@lucene.apache.org>; Sun, 27 Feb 2011 15:18:25 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id G3AAev23WKGT for <java-user@lucene.apache.org>;
	Sun, 27 Feb 2011 15:18:05 +0100 (CET)
Received: from VEGA (port-92-196-44-226.dynamic.qsc.de [92.196.44.226])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id 38C3445E609
	for <java-user@lucene.apache.org>; Sun, 27 Feb 2011 15:18:03 +0100 (CET)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <14212_1298629418_ZZh0k3sw3i7S6.00_4D67831F.90801@uni-bielefeld.de> <AANLkTi=M6oAO2ZApNB-Cr+fpHL5Oct3PY+mCkbFbUVd9@mail.gmail.com> <23538_1298635379_ZZh0k6skodisY.00_4D679A50.1000308@uni-bielefeld.de> <AANLkTinc3Rm=sQCvm=tYUHFThFSC+DF8xNYB81jmdatY@mail.gmail.com> <23505_1298639997_ZZh0k5s9GBkrP.00_4D67AC5A.7080708@uni-bielefeld.de> <006e01cbd4f1$94590560$bd0b1020$@thetaphi.de> <23510_1298641750_ZZh0k1svNf89G.00_4D67B322.1010403@uni-bielefeld.de> <AANLkTikbfEa2ABFaGUo1EUtrfLahP7CvgZh5L7NaEwX4@mail.gmail.com> <22191_1298642974_ZZh0k5sBSB3rn.00_4D67B80F.3020304@uni-bielefeld.de> <AANLkTimbqgMgT_74Ln4OtexVfmoarSwe+GOBmcY0XBo9@mail.gmail.com> <17626_1298815491_ZZh0k6D9nVRNb.00_fbeca5b8472aa.4d6a67ec@uni-bielefeld.de>
In-Reply-To: <17626_1298815491_ZZh0k6D9nVRNb.00_fbeca5b8472aa.4d6a67ec@uni-bielefeld.de>
Subject: RE: which unicode version is supported with lucene
Date: Sun, 27 Feb 2011 15:19:00 +0100
Message-ID: <000a01cbd689$47d4e7b0$d77eb710$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Content-language: de
Thread-Index: AQJgT4j57ILItKNXquSmYbd5SLswTwDA6WRnAP3RwU0DHZnPRwDIHJzeAjA/VdMBTPweRgKeOK2jAmpatmcCeQpm8QHwiWjaklfUosA=

It's back online! It would be good, if you could confirm, we did hard work
to fix this and report the bugs in Jetty to Jetty itself

Thanks,
Uwe!

-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de

> -----Original Message-----
> From: Bernd Fehling [mailto:bernd.fehling@uni-bielefeld.de]
> Sent: Sunday, February 27, 2011 3:04 PM
> To: java-user@lucene.apache.org
> Subject: Re: which unicode version is supported with lucene
> 
> Hi Robert,
> 
> thanks to you and Yonik for looking into this.
> As soon as Apache jira is back online I will try your jetty version and
give
> feedback.
> 
> Regards,
> Bernd
> 
> > On Fri, Feb 25, 2011 at 9:09 AM, Bernd Fehling
> > <bernd.fehling@uni-bielefeld.de> wrote:
> > > Hi Yonik,
> > >
> > > good point, yes we are using Jetty.
> > > Do you know if Tomcat has this limitation?
> > >
> >
> > Hi Bernd, I placed some patched Jetty jar files on
> > https://issues.apache.org/jira/browse/SOLR-2381 for the meantime.
> >
> > Maybe then you can get past your problem with Jetty.
> >
> > -----------------------------------------------------------------
> > ----
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48814-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Feb 27 19:16:24 2011
Return-Path: <java-user-return-48814-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25157 invoked from network); 27 Feb 2011 19:16:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 27 Feb 2011 19:16:24 -0000
Received: (qmail 43606 invoked by uid 500); 27 Feb 2011 19:16:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43513 invoked by uid 500); 27 Feb 2011 19:16:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43504 invoked by uid 99); 27 Feb 2011 19:16:21 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Feb 2011 19:16:20 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of bernd.fehling@uni-bielefeld.de designates 129.70.204.73 as permitted sender)
Received: from [129.70.204.73] (HELO mux2-unibi-smtp.hrz.uni-bielefeld.de) (129.70.204.73)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Feb 2011 19:16:13 +0000
MIME-version: 1.0
Content-transfer-encoding: 7BIT
Content-disposition: inline
Content-type: text/plain; charset=us-ascii
Received: from pmxchannel-daemon.mux2-unibi-smtp.hrz.uni-bielefeld.de by
 mux2-unibi-smtp.hrz.uni-bielefeld.de
 (Sun Java(tm) System Messaging Server 6.3-6.03 (built Mar 14 2008; 32bit))
 id <0LHA00L00IUGVJ00@mux2-unibi-smtp.hrz.uni-bielefeld.de> for
 java-user@lucene.apache.org; Sun, 27 Feb 2011 20:15:52 +0100 (CET)
Received: from msg-int.uni-bielefeld.de ([129.70.242.10])
 by mux2-unibi-smtp.hrz.uni-bielefeld.de
 (Sun Java(tm) System Messaging Server 6.3-6.03 (built Mar 14 2008; 32bit))
 with ESMTPPA id <0LHA00DPVIUG48C0@mux2-unibi-smtp.hrz.uni-bielefeld.de> for
 java-user@lucene.apache.org; Sun, 27 Feb 2011 20:15:52 +0100 (CET)
Received: from [129.70.204.91] (Forwarded-For: 217.25.164.234)
 by mux3-unibi-web.hrz.uni-bielefeld.de (mshttpd); Sun,
 27 Feb 2011 20:15:52 +0100
Date: Sun, 27 Feb 2011 20:15:52 +0100
From: Bernd Fehling <bernd.fehling@uni-bielefeld.de>
Subject: RE: which unicode version is supported with lucene
In-reply-to: <000a01cbd689$47d4e7b0$d77eb710$@thetaphi.de>
To: java-user@lucene.apache.org
Message-id:
 <9140_1298834162_ZZh0k4EBw9UCt.00_fc71defd44511.4d6ab0f8@uni-bielefeld.de>
X-Mailer: Sun Java(tm) System Messenger Express 6.3-8.03 (built Apr 24 2009;
 32bit)
Content-language: de
X-Accept-Language: de
Priority: normal
X-EnvFrom: bernd.fehling@uni-bielefeld.de
X-PMX-Version: 5.5.9.395186, Antispam-Engine: 2.7.2.376379,
 Antispam-Data: 2011.2.27.190316, pmx9
X-Connecting-IP: 129.70.242.10
References: <14212_1298629418_ZZh0k3sw3i7S6.00_4D67831F.90801@uni-bielefeld.de>
 <AANLkTi=M6oAO2ZApNB-Cr+fpHL5Oct3PY+mCkbFbUVd9@mail.gmail.com>
 <23538_1298635379_ZZh0k6skodisY.00_4D679A50.1000308@uni-bielefeld.de>
 <AANLkTinc3Rm=sQCvm=tYUHFThFSC+DF8xNYB81jmdatY@mail.gmail.com>
 <23505_1298639997_ZZh0k5s9GBkrP.00_4D67AC5A.7080708@uni-bielefeld.de>
 <006e01cbd4f1$94590560$bd0b1020$@thetaphi.de>
 <23510_1298641750_ZZh0k1svNf89G.00_4D67B322.1010403@uni-bielefeld.de>
 <AANLkTikbfEa2ABFaGUo1EUtrfLahP7CvgZh5L7NaEwX4@mail.gmail.com>
 <22191_1298642974_ZZh0k5sBSB3rn.00_4D67B80F.3020304@uni-bielefeld.de>
 <AANLkTimbqgMgT_74Ln4OtexVfmoarSwe+GOBmcY0XBo9@mail.gmail.com>
 <17626_1298815491_ZZh0k6D9nVRNb.00_fbeca5b8472aa.4d6a67ec@uni-bielefeld.de>
 <000a01cbd689$47d4e7b0$d77eb710$@thetaphi.de>
X-Virus-Checked: Checked by ClamAV on apache.org

Jepp, its back online. 
Just did a short test and reported my results to jira, but is the
error from the xml output still a jetty problem or is it from XMLwriter? 

Regards, Bernd

> It's back online! It would be good, if you could confirm, we did 
> hard work
> to fix this and report the bugs in Jetty to Jetty itself
> 
> Thanks,
> Uwe!
> 
> -----
> Uwe Schindler
> H.-H.-Meier-Allee 63, D-28213 Bremen
> http://www.thetaphi.de
> eMail: uwe@thetaphi.de
> 
> > -----Original Message-----
> > From: Bernd Fehling [mailto:bernd.fehling@uni-bielefeld.de]
> > Sent: Sunday, February 27, 2011 3:04 PM
> > To: java-user@lucene.apache.org
> > Subject: Re: which unicode version is supported with lucene
> > 
> > Hi Robert,
> > 
> > thanks to you and Yonik for looking into this.
> > As soon as Apache jira is back online I will try your jetty 
> version and
> give
> > feedback.
> > 
> > Regards,
> > Bernd
> > 
> > > On Fri, Feb 25, 2011 at 9:09 AM, Bernd Fehling
> > > <bernd.fehling@uni-bielefeld.de> wrote:
> > > > Hi Yonik,
> > > >
> > > > good point, yes we are using Jetty.
> > > > Do you know if Tomcat has this limitation?
> > > >
> > >
> > > Hi Bernd, I placed some patched Jetty jar files on
> > > https://issues.apache.org/jira/browse/SOLR-2381 for the meantime.
> > >
> > > Maybe then you can get past your problem with Jetty.
> > >
> > > -------------------------------------------------------------
> ----
> > > ----
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> > 
> > ---------------------------------------------------------------
> ------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 
> -----------------------------------------------------------------
> ----
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48815-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Feb 27 20:43:36 2011
Return-Path: <java-user-return-48815-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65037 invoked from network); 27 Feb 2011 20:43:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 27 Feb 2011 20:43:33 -0000
Received: (qmail 690 invoked by uid 500); 27 Feb 2011 20:43:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99772 invoked by uid 500); 27 Feb 2011 20:43:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99764 invoked by uid 99); 27 Feb 2011 20:43:29 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Feb 2011 20:43:29 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of yseeley@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Feb 2011 20:43:25 +0000
Received: by fxm2 with SMTP id 2so4224064fxm.35
        for <java-user@lucene.apache.org>; Sun, 27 Feb 2011 12:43:03 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:sender:reply-to:in-reply-to
         :references:date:x-google-sender-auth:message-id:subject:from:to:cc
         :content-type;
        bh=Kobs9cktG9nVToXAOQNvyxjA+yMWh7CNN08DBa6WheE=;
        b=Z0Eb+U7eY38x6myxqySlJ2ESejIsF7t4uSwwF+uZyfXUE8JEH+tOi9fyZ8YiKiHJM3
         7yyq0DbZYWhqDjhqI1QBafZI6cc7WybAX/qrm/+bnPWRl+Z0vKbtamGxGxrkl61X8XvI
         sLA/IlHCIJciEJJuYqQJu5IUTQM5ouG7qRCQ0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:reply-to:in-reply-to:references:date
         :x-google-sender-auth:message-id:subject:from:to:cc:content-type;
        b=wj3KQ+uJqQ6eWVj/8YnLcxPjf0/7d7WCzXv75MOO0/I8KeQNhMBkKkJfq+xo9WP10n
         pC3yWU5Ic/GVS+Mqkz+WFf+fwqoeC3iU5SjRZMyyOGo1/b3yT278OAzMG1WrbWgVEGmw
         0jphDH3gvfbBZgeMGwk/YJy55Lxs6bHJzTBss=
MIME-Version: 1.0
Received: by 10.223.99.84 with SMTP id t20mr1777297fan.86.1298839383683; Sun,
 27 Feb 2011 12:43:03 -0800 (PST)
Sender: yseeley@gmail.com
Reply-To: yonik@lucidimagination.com
Received: by 10.223.3.15 with HTTP; Sun, 27 Feb 2011 12:43:03 -0800 (PST)
In-Reply-To: <9140_1298834162_ZZh0k4EBw9UCt.00_fc71defd44511.4d6ab0f8@uni-bielefeld.de>
References: <14212_1298629418_ZZh0k3sw3i7S6.00_4D67831F.90801@uni-bielefeld.de>
	<AANLkTi=M6oAO2ZApNB-Cr+fpHL5Oct3PY+mCkbFbUVd9@mail.gmail.com>
	<23538_1298635379_ZZh0k6skodisY.00_4D679A50.1000308@uni-bielefeld.de>
	<AANLkTinc3Rm=sQCvm=tYUHFThFSC+DF8xNYB81jmdatY@mail.gmail.com>
	<23505_1298639997_ZZh0k5s9GBkrP.00_4D67AC5A.7080708@uni-bielefeld.de>
	<006e01cbd4f1$94590560$bd0b1020$@thetaphi.de>
	<23510_1298641750_ZZh0k1svNf89G.00_4D67B322.1010403@uni-bielefeld.de>
	<AANLkTikbfEa2ABFaGUo1EUtrfLahP7CvgZh5L7NaEwX4@mail.gmail.com>
	<22191_1298642974_ZZh0k5sBSB3rn.00_4D67B80F.3020304@uni-bielefeld.de>
	<AANLkTimbqgMgT_74Ln4OtexVfmoarSwe+GOBmcY0XBo9@mail.gmail.com>
	<17626_1298815491_ZZh0k6D9nVRNb.00_fbeca5b8472aa.4d6a67ec@uni-bielefeld.de>
	<000a01cbd689$47d4e7b0$d77eb710$@thetaphi.de>
	<9140_1298834162_ZZh0k4EBw9UCt.00_fc71defd44511.4d6ab0f8@uni-bielefeld.de>
Date: Sun, 27 Feb 2011 15:43:03 -0500
X-Google-Sender-Auth: 2F9zqK16KLSO0I-siQ-7UElmf0U
Message-ID: <AANLkTinb=9tCxAAf23S3tgrDki5yqRv=_mDQ-FJmEEqN@mail.gmail.com>
Subject: Re: which unicode version is supported with lucene
From: Yonik Seeley <yonik@lucidimagination.com>
To: java-user@lucene.apache.org
Cc: Bernd Fehling <bernd.fehling@uni-bielefeld.de>
Content-Type: text/plain; charset=ISO-8859-1

On Sun, Feb 27, 2011 at 2:15 PM, Bernd Fehling
<bernd.fehling@uni-bielefeld.de> wrote:
> Jepp, its back online.
> Just did a short test and reported my results to jira, but is the
> error from the xml output still a jetty problem or is it from XMLwriter?

The patch has been committed, so you should just be able to try trunk (or 3x).

I also just committed a char beyond the BMP to utf8-example.xml
and the indexing and XML output works fine for me.

Index the example docs, then do a query for "BMP" to bring up that document.

-Yonik
http://lucidimagination.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48816-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Feb 28 10:13:32 2011
Return-Path: <java-user-return-48816-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5203 invoked from network); 28 Feb 2011 10:13:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 28 Feb 2011 10:13:32 -0000
Received: (qmail 17379 invoked by uid 500); 28 Feb 2011 10:13:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16930 invoked by uid 500); 28 Feb 2011 10:13:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16906 invoked by uid 99); 28 Feb 2011 10:13:24 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Feb 2011 10:13:24 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of amel.fraisse@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Feb 2011 10:13:18 +0000
Received: by qwd6 with SMTP id 6so3289611qwd.35
        for <java-user@lucene.apache.org>; Mon, 28 Feb 2011 02:12:57 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=tcH0u6WiacC5gAlX2uv3bpyzKQVJpJkkHOAHug8YTeU=;
        b=oVfiaLtYOugi+r90GOxJ43dS4fdsHDjrWMXRj73/zddJ0pCj5z8/xVH9fazO9DhlBU
         3hksmelpAKZ/0oc+np4jZUxCegP7Z4Dfy5OpRwKyafDvtQIXoIXcH6LEdyOQXkfE68wl
         5NedoZyvuh6UvIy1zRWgoQd+eOwOG8Nix7bJI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=cFBuVlHQHGFEEVEQFxixQEU5RMRqJc42ZShVpQ/Vbqb49p5YQbkyR+fADEeQJ4sF6a
         5+kQTPyGe27NO0LUrj6Sn4rSZDnE9cxn2OEp2iduYXQU1x/JdsNE3Z3Vfb2NJqb+/QTg
         uHVtFbP7Hr+b6Nf6JwpjPIayND/H/wKwYFSSg=
MIME-Version: 1.0
Received: by 10.224.211.134 with SMTP id go6mr4289715qab.246.1298887977466;
 Mon, 28 Feb 2011 02:12:57 -0800 (PST)
Received: by 10.229.183.210 with HTTP; Mon, 28 Feb 2011 02:12:57 -0800 (PST)
Date: Mon, 28 Feb 2011 11:12:57 +0100
Message-ID: <AANLkTing4a7Ob-v3S6pD8ezW75n2ikSPCS97k4CzYPfL@mail.gmail.com>
Subject: It is possible to do Higligthing with the MoreLikeThisHandler ?
From: Amel Fraisse <amel.fraisse@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf300fb2237ffc3c049d54ec9c

--20cf300fb2237ffc3c049d54ec9c
Content-Type: text/plain; charset=ISO-8859-1

Hello,

I am using The MoreLikeThisHandler to get similar document with  document in
the query.

I would like to do Highlighting on the solr document result.

It is possible to do Higligthing with the MoreLikeThisHandler ?

Thank you for your help.

Amel.

--20cf300fb2237ffc3c049d54ec9c--

From java-user-return-48817-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Feb 28 21:38:53 2011
Return-Path: <java-user-return-48817-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55408 invoked from network); 28 Feb 2011 21:38:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 28 Feb 2011 21:38:52 -0000
Received: (qmail 61078 invoked by uid 500); 28 Feb 2011 21:38:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60647 invoked by uid 500); 28 Feb 2011 21:38:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60639 invoked by uid 99); 28 Feb 2011 21:38:48 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Feb 2011 21:38:48 +0000
X-ASF-Spam-Status: No, hits=2.0 required=5.0
	tests=SPF_NEUTRAL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [216.139.236.26] (HELO sam.nabble.com) (216.139.236.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Feb 2011 21:38:41 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by sam.nabble.com with esmtp (Exim 4.69)
	(envelope-from <mail@avomberg.de>)
	id 1PuAnM-0007kK-95
	for java-user@lucene.apache.org; Mon, 28 Feb 2011 13:38:20 -0800
Date: Mon, 28 Feb 2011 13:38:20 -0800 (PST)
From: Alex vB <mail@avomberg.de>
To: java-user@lucene.apache.org
Message-ID: <1298929100271-2598739.post@n3.nabble.com>
Subject: How are stored Fields/Payloads loaded
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hello everybody,

I am currently unsure how stored data is written and loaded from index. 
I want to store for every term of a document some binary data but only once
and not for every position! 
Therefore I am not sure if Payloads or stored Fields are the better solution
(Or the not implemented feature Column Stride Field).

As far as I know all fields of a document are loaded by Lucene during
search. With large stored fields this can be time consuming and therefore
exists the possibility to load specific fields with FieldSelector. Maybe I
could create for each term a stored Field (up to several thousand Fields!)
and read those fields depending on the query term. Is this a common
approach?
The other possibility (like I have implemented it at the moment) is to store
per term a payload but only on the first term position. Payloads are loaded
only if I retrieve them from a hit right? So my current posting list looks
like this:
http://lucene.472066.n3.nabble.com/file/n2598739/Payload.png 
Picture adapted from M. McCandless "Fun with Flex"

How will the feature Column Stride Field (or per-document field) work? It's
not clear for me what "per Document" exactly means for the posting list
entries. I think (hope :P) it works like this:
http://lucene.472066.n3.nabble.com/file/n2598739/CSD.png 
Picture adapted from M. McCandless "Fun with Flex"


Do I understand the Column Stride Field correct? What would give me the best
performance (Stored Field, Payload, CSD)? Are there other ways to retrieve
payloads during search than Spanquery (I would like to use a normal query
here)?

Regards
Alex

-- 
View this message in context: http://lucene.472066.n3.nabble.com/How-are-stored-Fields-Payloads-loaded-tp2598739p2598739.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48818-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Feb 28 21:44:55 2011
Return-Path: <java-user-return-48818-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58989 invoked from network); 28 Feb 2011 21:44:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 28 Feb 2011 21:44:55 -0000
Received: (qmail 72470 invoked by uid 500); 28 Feb 2011 21:44:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72412 invoked by uid 500); 28 Feb 2011 21:44:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72404 invoked by uid 99); 28 Feb 2011 21:44:52 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Feb 2011 21:44:52 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of Lisheng.Zhang@broadvision.com designates 139.56.8.26 as permitted sender)
Received: from [139.56.8.26] (HELO mail-fw.broadvision.com) (139.56.8.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Feb 2011 21:44:44 +0000
X-ASG-Debug-ID: 1298929462-699b00250000-H1Y1KX
X-Barracuda-URL: http://mail-fw.broadvision.com:8000/cgi-bin/mark.cgi
Received: from RW-EX2003.BROADVISION.COM (localhost [127.0.0.1])
	by mail-fw.broadvision.com (Spam Firewall) with ESMTP id A0E135A66E
	for <java-user@lucene.apache.org>; Mon, 28 Feb 2011 13:44:22 -0800 (PST)
Received: from RW-EX2003.BROADVISION.COM ([10.10.160.33]) by mail-fw.broadvision.com with ESMTP id jr4ioAt3zTs5up7I for <java-user@lucene.apache.org>; Mon, 28 Feb 2011 13:44:22 -0800 (PST)
X-ASG-Whitelist: Client
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-ASG-Orig-Subj: RE: Lucene search result produced wrong result (due to java Collation)?
Subject: RE: Lucene search result produced wrong result (due to java Collation)?
Date: Mon, 28 Feb 2011 13:44:22 -0800
Message-ID: <ED081AC9AEEE0248BBCCDE9989AAE3FC02CB1926@rw-ex2003.BROADVISION.COM>
In-Reply-To: <ED081AC9AEEE0248BBCCDE9989AAE3FC02CB191F@rw-ex2003.BROADVISION.COM>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lucene search result produced wrong result (due to java Collation)?
Thread-Index: AcvWGaGrtpDQ26DXQxuYsIfCyDS0IQBdlbTg
From: "Zhang, Lisheng" <Lisheng.Zhang@BroadVision.com>
To: <java-user@lucene.apache.org>
X-Barracuda-Connect: UNKNOWN[10.10.160.33]
X-Barracuda-Start-Time: 1298929462
X-Barracuda-Virus-Scanned: by Barracuda Spam Firewall at broadvision.com
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

Very sorry I made a typo, what I meant to say is that lucene sort =
produced wrong
result in English names (String ASC):

liu yu
l yy

(previously I put other way round), and the problem is in java Collator =
which lucene
is using (I can produce bug by sample code below).

Thanks very much for helps, Lisheng

-----Original Message-----
From: Zhang, Lisheng [mailto:Lisheng.Zhang@BroadVision.com]
Sent: Saturday, February 26, 2011 5:00 PM
To: java-user@lucene.apache.org
Subject: Lucene search result produced wrong result (due to java
Collation)?



Hi,

Today I have noticed that sometimes lucene sort produced strange result =
in plain
English names, like (String ASC)

l yy
liu yu

I traced to lucene source code, it seems to be a java English Collator =
problem (I=20
set Locale.English to SortField), below I reproduced issue by a trivial =
code (pure
java):

/////
import java.util.Locale;
import java.text.Collator;

public class T1 {
  static public void main(String[] argv) {

    String s1 =3D "l yy";
    String s2 =3D "liu yu";

    //s1 =3D "l";
    //s2 =3D "liu";

    Collator col1 =3D Collator.getInstance(Locale.US);
    System.out.println("COLL_RES  =3D" + col1.compare(s1, s2));
    System.out.println("STRI_RES  =3D" + s1.compareTo(s2));
  }
}
/////

The result is:

COLL_RES  =3D1
STRI_RES  =3D-73

I tested different java versions and get same result, maybe I missed sth =
trivial, but
above test is really simple?

Thanks very much for helps, Lisheng


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


