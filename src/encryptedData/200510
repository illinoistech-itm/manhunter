From java-user-return-16680-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 01 17:56:22 2005
Return-Path: <java-user-return-16680-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37880 invoked from network); 1 Oct 2005 17:56:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Oct 2005 17:56:22 -0000
Received: (qmail 97867 invoked by uid 500); 1 Oct 2005 17:56:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97808 invoked by uid 500); 1 Oct 2005 17:56:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97791 invoked by uid 99); 1 Oct 2005 17:56:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Oct 2005 10:56:15 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [216.21.138.129] (HELO mx2.radiant.net) (216.21.138.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Oct 2005 10:56:20 -0700
Received: from [24.86.131.91] (account dczarkowski@infinitesource.ca)
  by mx2.radiant.net (CommuniGate Pro WebUser 4.1.8)
  with HTTP id 215341392 for java-user@lucene.apache.org; Sat, 01 Oct 2005 10:54:34 -0700
From: "Darek Czarkowski" <dczarkowski@infinitesource.ca>
Subject: lock file in tomcat
To: java-user@lucene.apache.org
X-Mailer: CommuniGate Pro WebUser Interface v.4.1.8
Date: Sat, 01 Oct 2005 10:54:34 -0700
Message-ID: <web-215341392@mx2.radiant.net>
MIME-Version: 1.0
Content-Type: text/plain; charset="ISO-8859-1"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

Based on what criteria is the lock file name created? 
I have a multiple applications deployed on the same
instance of tomcat, each one of them has its own documents,
and lucene index. is write lock also unique to each of the
applications?
If you have multiple instances of tomcat on the same box,
sharing the same documents directory, and the same Lucene
index, do they have separate lock files?
What if each one of the instances needs to modify the index
at the same time?

Thank you,
DarekC.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16681-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 02 12:28:15 2005
Return-Path: <java-user-return-16681-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42909 invoked from network); 2 Oct 2005 12:28:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Oct 2005 12:28:14 -0000
Received: (qmail 46178 invoked by uid 500); 2 Oct 2005 12:28:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46145 invoked by uid 500); 2 Oct 2005 12:28:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46134 invoked by uid 99); 2 Oct 2005 12:28:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 02 Oct 2005 05:28:08 -0700
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=DATE_IN_PAST_24_48
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [134.96.188.26] (HELO mail.dfki.de) (134.96.188.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 02 Oct 2005 05:28:13 -0700
Received: from mail.dfki.de (localhost.dfki.uni-sb.de [127.0.0.1])
	by localhost (Postfix) with ESMTP id BF318E4813
	for <java-user@lucene.apache.org>; Sun,  2 Oct 2005 14:27:44 +0200 (CEST)
Received: from [127.0.0.1] (dave.dfki.uni-sb.de [134.96.184.220])
	by mail.dfki.de (Postfix) with ESMTP id 85752E47C3
	for <java-user@lucene.apache.org>; Sun,  2 Oct 2005 14:27:44 +0200 (CEST)
Message-ID: <433D8DBE.40908@activemath.org>
Date: Fri, 30 Sep 2005 21:10:54 +0200
From: Paul Libbrecht <paul@activemath.org>
Reply-To: paul@activemath.org
User-Agent: Thunderbird 1.4 (Macintosh/20050908)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: idea of a useful reporting in search results
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

      
Hello,

I come to realize that a very nifty way to add explanations inside the 
search results to a user would be to do so in the list (and not in the 
elementary result display).

What would be real nice would be to be able to say:
- below, no more match of term x
- below only match in this field
... and so on. In my case it'd get reformulated into such things as 
"below only phonetic matches"...

I think it should be possible to realize this today with the explanation 
function but it seems pretty expensive. Would there be better ways ? 
Maybe using QueryFilters to intersect elementary queries with the result?

How does this idea sound ?

paul


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16682-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 02 17:05:59 2005
Return-Path: <java-user-return-16682-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12321 invoked from network); 2 Oct 2005 17:05:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Oct 2005 17:05:59 -0000
Received: (qmail 3947 invoked by uid 500); 2 Oct 2005 17:05:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3901 invoked by uid 500); 2 Oct 2005 17:05:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3890 invoked by uid 99); 2 Oct 2005 17:05:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 02 Oct 2005 10:05:54 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [212.27.42.28] (HELO smtp2-g19.free.fr) (212.27.42.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 02 Oct 2005 10:05:58 -0700
Received: from [127.0.0.1] (che78-1-82-232-202-34.fbx.proxad.net [82.232.202.34])
	by smtp2-g19.free.fr (Postfix) with ESMTP id 89E6625DA8
	for <java-user@lucene.apache.org>; Sun,  2 Oct 2005 19:05:29 +0200 (CEST)
Message-ID: <434014AB.1040702@jalios.com>
Date: Sun, 02 Oct 2005 19:11:07 +0200
From: Olivier Jaquemet <olivier.jaquemet@jalios.com>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Renewing IndexSearcher on index change.
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi all,

As I read it on LIA, and as it has already been said on the mailing list 
multiple times, you only need one IndexSearcher for all your thread, and 
when your index change, you just need to create a new one to reflect 
changes.

Otis said in this post you could replaced old searcher and let it being 
collected by the GC.
http://mail-archives.apache.org/mod_mbox/lucene-java-user/200502.mbox/%3c20050218222949.15826.qmail@web31111.mail.mud.yahoo.com%3e

Note that my question is maybe more java related than anything else, 
but, anyway...
In the source code of IndexSearcher (and all searchers), I could not 
find any finalize method that closes the searcher, how can you be sure 
you old searcher is going to be closed? am I missing something? Is there 
still a step I need to do in order to close the searcher properly ? Do I 
need to create a facade to the searcher, keep my own reference of uses 
and call a close in a finalize method?

Thanks in advance for your answers :)

Olivier

PS: Another small question while I'm there, if a long indexation of a 
lot Documents occurs, can the old searcher still be used for some time 
while the indexation takes place, without problems? Cause I encoutered 
an ArrayOutOfBoundException under some scorer class, unfortunately I did 
not kept the trace.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16683-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 03 15:25:28 2005
Return-Path: <java-user-return-16683-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35522 invoked from network); 3 Oct 2005 15:25:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Oct 2005 15:25:26 -0000
Received: (qmail 98892 invoked by uid 500); 3 Oct 2005 15:25:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98613 invoked by uid 500); 3 Oct 2005 15:25:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98497 invoked by uid 99); 3 Oct 2005 15:25:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Oct 2005 08:25:12 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [129.97.152.11] (HELO services04.student.cs.uwaterloo.ca) (129.97.152.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Oct 2005 08:25:16 -0700
Received: from rees.math.uwaterloo.ca (daemon@rees.math.uwaterloo.ca [129.97.204.28])
	by services04.student.cs.uwaterloo.ca (8.11.7/8.11.7) with ESMTP id j93FOkv05994
	(using TLSv1/SSLv3 with cipher EDH-RSA-DES-CBC3-SHA (168 bits) verified NO)
	for <java-user@lucene.apache.org>; Mon, 3 Oct 2005 11:24:48 -0400 (EDT)
Received: (from pgwillia@localhost)
	by rees.math.uwaterloo.ca (8.11.7/8.11.7) id j93FOiG16729;
	Mon, 3 Oct 2005 11:24:44 -0400 (EDT)
Date: Mon, 3 Oct 2005 11:24:43 -0400 (EDT)
From: Tricia Williams <pgwillia@student.cs.uwaterloo.ca>
X-X-Sender: pgwillia@rees.math.uwaterloo.ca
To: java-user@lucene.apache.org
Subject: Re: TermDocs.freq()
In-Reply-To: <Pine.GSO.4.58.0509291130030.15828@rees.math.uwaterloo.ca>
Message-ID: <Pine.GSO.4.58.0510031114070.8953@rees.math.uwaterloo.ca>
References: <433BC5DB.4010208@eworx.gr> <433BD00A.4010704@getopt.org>
 <Pine.GSO.4.58.0509291130030.15828@rees.math.uwaterloo.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-2.0 (services04.student.cs.uwaterloo.ca [129.97.152.11]); Mon, 03 Oct 2005 11:24:48 -0400 (EDT)
X-Miltered: at rhadamanthus with ID 43414D3F.000 by Joe's j-chkmail (http://j-chkmail.ensmp.fr)!
X-Virus-Scanned: ClamAV version 0.86.2, clamav-milter version 0.86 on localhost
X-Virus-Status: Clean
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

To follow up on my post from Thursday.  I have written a very basic test
for TermPositions.  This test allows me to identify that only the
first 10001 tokens are considered to determine term frequency (ie with
the searching term in a position greater than 10001 my test fails).

Is this by design?  Is there an obvious work-around so that the frequency
that I receive is correct for my document?

Thank you for your consideration,
Tricia

On Thu, 29 Sep 2005, Tricia Williams wrote:

> I am finding that TermDocs.freq() method is returning an incorrect value.
> I was wondering if anyone else had experienced this problem.
>
> I am using tp = IndexReader.termPositions( queryTerm ) to return a object
> which implements TermPositions.  I then use tp.skipTo( docid ) to go
> directly to the document from which I wish to retrieve term positions. The
> following for loop adds the positions to my ArrayList which I use later:
>
> for( 	int pos = tp.nextPosition(), k = 0;
> 	k < tp.freq();
> 	pos = tp.nextPosition(), k++ )
> {
> 	positionMatches.add( new Integer( pos ) );
> }
>
> In a document which I know has 48 references to the term, a frequency of
> 23 is returned.  There doesn't seem to be a pattern to this as some other
> documents have (frequency, actual): (25, 48), (36, 43), (30, 149).
>
> These frequencies are from results within my code and confirmed in Luke,
> so I'm pretty certain that this isn't an error on my part.
>
> I've been trying to find out where the origin of this issue is without
> luck thus far.  Any help or advice would be appreciated.
>
> Thanks,
> Tricia
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16684-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 03 16:04:30 2005
Return-Path: <java-user-return-16684-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53896 invoked from network); 3 Oct 2005 16:04:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Oct 2005 16:04:30 -0000
Received: (qmail 65927 invoked by uid 500); 3 Oct 2005 16:04:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65032 invoked by uid 500); 3 Oct 2005 16:04:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65020 invoked by uid 99); 3 Oct 2005 16:04:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Oct 2005 09:04:26 -0700
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=HTML_30_40,HTML_MESSAGE,RCVD_BY_IP,RCVD_IN_BL_SPAMCOP_NET,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 72.14.204.200 as permitted sender)
Received: from [72.14.204.200] (HELO qproxy.gmail.com) (72.14.204.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Oct 2005 09:04:31 -0700
Received: by qproxy.gmail.com with SMTP id q18so495842qba
        for <java-user@lucene.apache.org>; Mon, 03 Oct 2005 09:04:04 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=GOgmrpWp0Chpf5p8x/LBBLyANSneebR7Bik+drOf7/rEWuCnN8iwhxx9oShhAcczs2v7HoYVbUI0icdXwIvSs+jTxiyMYg7NqU3VaswIW/W+dlbDlkme8X+HvwypO+YdOHwXPJLiGimdCS7UJXvs26zAi1nHQkETFzWqzDZ9X50=
Received: by 10.65.116.20 with SMTP id t20mr2623548qbm;
        Mon, 03 Oct 2005 09:04:04 -0700 (PDT)
Received: by 10.65.121.10 with HTTP; Mon, 3 Oct 2005 09:04:04 -0700 (PDT)
Message-ID: <c68e39170510030904q2e472a1bhb63ad7606bc86ed8@mail.gmail.com>
Date: Mon, 3 Oct 2005 12:04:04 -0400
From: Yonik Seeley <yseeley@gmail.com>
Reply-To: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: TermDocs.freq()
In-Reply-To: <Pine.GSO.4.58.0510031114070.8953@rees.math.uwaterloo.ca>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_122_31510392.1128355444086"
References: <433BC5DB.4010208@eworx.gr> <433BD00A.4010704@getopt.org>
	 <Pine.GSO.4.58.0509291130030.15828@rees.math.uwaterloo.ca>
	 <Pine.GSO.4.58.0510031114070.8953@rees.math.uwaterloo.ca>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_122_31510392.1128355444086
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

See IndexWriter.setMaxFieldLength()

-Yonik
Now hiring -- http://tinyurl.com/7m67g

On 10/3/05, Tricia Williams <pgwillia@student.cs.uwaterloo.ca> wrote:
>
> To follow up on my post from Thursday. I have written a very basic test
> for TermPositions. This test allows me to identify that only the
> first 10001 tokens are considered to determine term frequency (ie with
> the searching term in a position greater than 10001 my test fails).
>
> Is this by design? Is there an obvious work-around so that the frequency
> that I receive is correct for my document?
>
> Thank you for your consideration,
> Tricia
>
> On Thu, 29 Sep 2005, Tricia Williams wrote:
>
> > I am finding that TermDocs.freq() method is returning an incorrect
> value.
> > I was wondering if anyone else had experienced this problem.
> >
> > I am using tp =3D IndexReader.termPositions( queryTerm ) to return a
> object
> > which implements TermPositions. I then use tp.skipTo( docid ) to go
> > directly to the document from which I wish to retrieve term positions.
> The
> > following for loop adds the positions to my ArrayList which I use later=
:
> >
> > for( int pos =3D tp.nextPosition(), k =3D 0;
> > k < tp.freq();
> > pos =3D tp.nextPosition(), k++ )
> > {
> > positionMatches.add( new Integer( pos ) );
> > }
> >
> > In a document which I know has 48 references to the term, a frequency o=
f
> > 23 is returned. There doesn't seem to be a pattern to this as some othe=
r
> > documents have (frequency, actual): (25, 48), (36, 43), (30, 149).
> >
> > These frequencies are from results within my code and confirmed in Luke=
,
> > so I'm pretty certain that this isn't an error on my part.
> >
> > I've been trying to find out where the origin of this issue is without
> > luck thus far. Any help or advice would be appreciated.
> >
> > Thanks,
> > Tricia
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_122_31510392.1128355444086--

From java-user-return-16685-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 03 23:47:12 2005
Return-Path: <java-user-return-16685-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18952 invoked from network); 3 Oct 2005 23:47:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Oct 2005 23:47:12 -0000
Received: (qmail 34467 invoked by uid 500); 3 Oct 2005 23:47:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34414 invoked by uid 500); 3 Oct 2005 23:47:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34403 invoked by uid 99); 3 Oct 2005 23:47:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Oct 2005 16:47:06 -0700
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of john.wang@gmail.com designates 64.233.162.203 as permitted sender)
Received: from [64.233.162.203] (HELO zproxy.gmail.com) (64.233.162.203)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Oct 2005 16:47:11 -0700
Received: by zproxy.gmail.com with SMTP id i28so363447nzi
        for <java-user@lucene.apache.org>; Mon, 03 Oct 2005 16:46:45 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=RTyqRsx6qr5yDbOpECn+xa9T0y6HDG4z043uMu6x0Whpu/6t9DX4Hxm2iKcSnD/ZryP7Z+QZFsxHO3qFcQQ9IgfNfC7P7ocv7npq0l53N9qOz7/Vk9zImTdgQ3Lbda1AyuNffxMwjNT+Cnj0XwXxG0y0ybEko325e6I15u5eMq8=
Received: by 10.36.9.13 with SMTP id 13mr5879nzi;
        Mon, 03 Oct 2005 16:46:45 -0700 (PDT)
Received: by 10.36.10.11 with HTTP; Mon, 3 Oct 2005 16:46:45 -0700 (PDT)
Message-ID: <8837fb770510031646r208a1e0ay5d122893c128cf8@mail.gmail.com>
Date: Mon, 3 Oct 2005 16:46:45 -0700
From: John Wang <john.wang@gmail.com>
Reply-To: John Wang <john.wang@gmail.com>
To: java-user@lucene.apache.org
Subject: korean and lucene
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_2109_16810962.1128383205397"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_2109_16810962.1128383205397
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi:

We are running into problems with searching on korean documents. We are
using the StandardAnalyzer and everything works with Chinese and Japanese.
Are there known problems with Korean with Lucene?

Thanks

-John

------=_Part_2109_16810962.1128383205397--

From java-user-return-16686-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 04 00:29:10 2005
Return-Path: <java-user-return-16686-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25734 invoked from network); 4 Oct 2005 00:29:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Oct 2005 00:29:09 -0000
Received: (qmail 68130 invoked by uid 500); 4 Oct 2005 00:29:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67615 invoked by uid 500); 4 Oct 2005 00:29:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67604 invoked by uid 99); 4 Oct 2005 00:29:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Oct 2005 17:29:03 -0700
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=MIME_BASE64_BLANKS,MIME_BASE64_TEXT
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [220.117.45.144] (HELO mail.nannet.co.kr) (220.117.45.144)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Oct 2005 17:29:07 -0700
Received: from win98 ([221.146.159.218])
	by mail.nannet.co.kr (8.13.1/8.13.1) with SMTP id j940SWAL028979;
	Tue, 4 Oct 2005 09:28:32 +0900
Message-ID: <000f01c5c87b$6f907d40$0201a8c0@local>
Reply-To: "Youngho Cho" <youngho@nannet.co.kr>
From: "Youngho Cho" <youngho@nannet.co.kr>
To: <java-user@lucene.apache.org>, "John Wang" <john.wang@gmail.com>
References: <8837fb770510031646r208a1e0ay5d122893c128cf8@mail.gmail.com>
Subject: Re: korean and lucene
Date: Tue, 4 Oct 2005 09:34:52 +0900
Organization: Nannet
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

V291bGQgeW91IHNoYXJlIHdoYXQgdGhlIHByb2JsZW0gaXMgPw0KDQpJIHVzZWQgQ0pLQW5hbHl6
ZXIgZm9yIEtvcmVhbiBvdmVyIDIgeWVhcnMgd2l0aG91dCBhbnkgcHJvYmxlbS4NCiggSSByZW1l
bWJlcmVkIHRoYXQgdGhlcmUgd2FzIHNvbWUgcXVlcnkgcmVzdWx0IHByb2JsZW0gd2l0aCBTdGFu
ZGFyZEFuYWx5emVyIGF0IHRoYXQgdGltZSApDQpCdXQgSSB0cmluZyB0byBzd2l0Y2ggdG8gdGhl
IFN0YW5kYXJkQW5hbHl6ZXIgYWdhaW4uDQoNClRoYW5rcywNCg0KWW91bmdobw0KDQoNCi0tLS0t
IE9yaWdpbmFsIE1lc3NhZ2UgLS0tLS0gDQpGcm9tOiAiSm9obiBXYW5nIiA8am9obi53YW5nQGdt
YWlsLmNvbT4NClRvOiA8amF2YS11c2VyQGx1Y2VuZS5hcGFjaGUub3JnPg0KU2VudDogVHVlc2Rh
eSwgT2N0b2JlciAwNCwgMjAwNSA4OjQ2IEFNDQpTdWJqZWN0OiBrb3JlYW4gYW5kIGx1Y2VuZQ0K
DQoNCkhpOg0KDQpXZSBhcmUgcnVubmluZyBpbnRvIHByb2JsZW1zIHdpdGggc2VhcmNoaW5nIG9u
IGtvcmVhbiBkb2N1bWVudHMuIFdlIGFyZQ0KdXNpbmcgdGhlIFN0YW5kYXJkQW5hbHl6ZXIgYW5k
IGV2ZXJ5dGhpbmcgd29ya3Mgd2l0aCBDaGluZXNlIGFuZCBKYXBhbmVzZS4NCkFyZSB0aGVyZSBr
bm93biBwcm9ibGVtcyB3aXRoIEtvcmVhbiB3aXRoIEx1Y2VuZT8NCg0KVGhhbmtzDQoNCi1Kb2hu
DQo=




From java-user-return-16687-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 04 01:12:10 2005
Return-Path: <java-user-return-16687-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33895 invoked from network); 4 Oct 2005 01:12:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Oct 2005 01:12:10 -0000
Received: (qmail 5728 invoked by uid 500); 4 Oct 2005 01:12:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5707 invoked by uid 500); 4 Oct 2005 01:12:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5696 invoked by uid 99); 4 Oct 2005 01:12:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Oct 2005 18:12:05 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of appler@gmail.com designates 72.14.204.206 as permitted sender)
Received: from [72.14.204.206] (HELO qproxy.gmail.com) (72.14.204.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Oct 2005 18:12:09 -0700
Received: by qproxy.gmail.com with SMTP id a10so533128qbd
        for <java-user@lucene.apache.org>; Mon, 03 Oct 2005 18:11:43 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=mcO8hGnYaLH9YLruz05/XSH1CCuT6wjV4JIOdFPY8ybLlTgVGR2213PWjUpGIWbgnINcUN9F1iQxo+NJihdBRh6gz4RWGqIuqENohNTVDcwQX8VxMQ3rT271XGiVFgTw1ff9LXvRG9PkrE69SUSzrif6P0XTojypMBRlc5vdIYk=
Received: by 10.64.201.5 with SMTP id y5mr308233qbf;
        Mon, 03 Oct 2005 18:11:43 -0700 (PDT)
Received: by 10.64.196.2 with HTTP; Mon, 3 Oct 2005 18:11:43 -0700 (PDT)
Message-ID: <48b708490510031811q27980b2cj44b7e1565193d8d1@mail.gmail.com>
Date: Tue, 4 Oct 2005 10:11:43 +0900
From: Cheolgoo Kang <appler@gmail.com>
Reply-To: Cheolgoo Kang <appler@gmail.com>
To: java-user@lucene.apache.org, John Wang <john.wang@gmail.com>
Subject: Re: korean and lucene
In-Reply-To: <8837fb770510031646r208a1e0ay5d122893c128cf8@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <8837fb770510031646r208a1e0ay5d122893c128cf8@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

StandardAnalyzer's JavaCC based StandardTokenizer.jj cannot read
Korean part of Unicode character blocks.

You should 1) use CJKAnalyzer or 2) add Korean character
block(0xAC00~0xD7AF) to the CJK token definition on the
StandardTokenizer.jj file.

Hope it helps.


On 10/4/05, John Wang <john.wang@gmail.com> wrote:
> Hi:
>
> We are running into problems with searching on korean documents. We are
> using the StandardAnalyzer and everything works with Chinese and Japanese=
.
> Are there known problems with Korean with Lucene?
>
> Thanks
>
> -John
>
>


--
Cheolgoo

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16688-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 04 10:23:39 2005
Return-Path: <java-user-return-16688-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14097 invoked from network); 4 Oct 2005 10:23:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Oct 2005 10:23:39 -0000
Received: (qmail 26367 invoked by uid 500); 4 Oct 2005 10:23:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26068 invoked by uid 500); 4 Oct 2005 10:23:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26057 invoked by uid 99); 4 Oct 2005 10:23:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 03:23:33 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [82.109.82.162] (HELO mmi044surmsx02.enterprisenet.org) (82.109.82.162)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 03:23:37 -0700
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C5C8CD.7C832A7E"
Subject: Performance Improvments?
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Date: Tue, 4 Oct 2005 11:22:13 +0100
Message-ID: <5E7B95B618BA914AAE0AF7E9BF1F40190B28A8@mmi044surmsx02.enterprisenet.org>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Performance Improvments?
Thread-Index: AcXIzXx12YGM6kN+S7ebhLS0BXcbVQ==
From: "Palmer, Andrew MMI Woking" <andrew.palmer@vnuinc.co.uk>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C5C8CD.7C832A7E
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi,

=20

I am looking at changing the value BufferedIndexOutput.BUFFER_SIZE  from
1024 to maybe 8192.  Has anyone done anything similar and did they get
any performance improvements. =20

=20

Generally I am looking to reduce the time it takes to optimize the
index, currently a 20GB index takes about an hour.  I have at least four
indexes of this size and they are all in the critical path for the
production cycle.

=20

Any other suggestion would be appreciated.

=20

=20

Andrew

=20

=20


------_=_NextPart_001_01C5C8CD.7C832A7E--

From java-user-return-16689-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 04 15:18:47 2005
Return-Path: <java-user-return-16689-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81852 invoked from network); 4 Oct 2005 15:18:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Oct 2005 15:18:47 -0000
Received: (qmail 27797 invoked by uid 500); 4 Oct 2005 15:18:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27547 invoked by uid 500); 4 Oct 2005 15:18:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27534 invoked by uid 99); 4 Oct 2005 15:18:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 08:18:40 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [193.252.22.29] (HELO smtp2.wanadoo.fr) (193.252.22.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 08:18:43 -0700
Received: from me-wanadoo.net (localhost [127.0.0.1])
	by mwinf0207.wanadoo.fr (SMTP Server) with ESMTP id EDFFD1C0013C
	for <java-user@lucene.apache.org>; Tue,  4 Oct 2005 17:18:14 +0200 (CEST)
Received: from [127.0.0.1] (AVelizy-115-2-1-38.w81-48.abo.wanadoo.fr [81.48.163.38])
	by mwinf0207.wanadoo.fr (SMTP Server) with ESMTP id A68E41C00135
	for <java-user@lucene.apache.org>; Tue,  4 Oct 2005 17:18:14 +0200 (CEST)
X-ME-UUID: 20051004151814682.A68E41C00135@mwinf0207.wanadoo.fr
Message-ID: <43429D35.4010106@jalios.com>
Date: Tue, 04 Oct 2005 17:18:13 +0200
From: Olivier Jaquemet <olivier.jaquemet@jalios.com>
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Renewing IndexSearcher on index change.
References: <434014AB.1040702@jalios.com>
In-Reply-To: <434014AB.1040702@jalios.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

any thoughts on this subjects ?

Olivier Jaquemet wrote:

> Hi all,
>
> As I read it on LIA, and as it has already been said on the mailing 
> list multiple times, you only need one IndexSearcher for all your 
> thread, and when your index change, you just need to create a new one 
> to reflect changes.
>
> Otis said in this post you could replaced old searcher and let it 
> being collected by the GC.
> http://mail-archives.apache.org/mod_mbox/lucene-java-user/200502.mbox/%3c20050218222949.15826.qmail@web31111.mail.mud.yahoo.com%3e 
>
>
> Note that my question is maybe more java related than anything else, 
> but, anyway...
> In the source code of IndexSearcher (and all searchers), I could not 
> find any finalize method that closes the searcher, how can you be sure 
> you old searcher is going to be closed? am I missing something? Is 
> there still a step I need to do in order to close the searcher 
> properly ? Do I need to create a facade to the searcher, keep my own 
> reference of uses and call a close in a finalize method?
>
> Thanks in advance for your answers :)
>
> Olivier
>
> PS: Another small question while I'm there, if a long indexation of a 
> lot Documents occurs, can the old searcher still be used for some time 
> while the indexation takes place, without problems? Cause I encoutered 
> an ArrayOutOfBoundException under some scorer class, unfortunately I 
> did not kept the trace.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>


-- 
Olivier Jaquemet <olivier.jaquemet@jalios.com>
Ingénieur R&D Jalios S.A.
Tel: 01.39.23.92.83
http://www.jalios.com/
http://support.jalios.com/




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16690-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 04 15:36:19 2005
Return-Path: <java-user-return-16690-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88275 invoked from network); 4 Oct 2005 15:36:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Oct 2005 15:36:18 -0000
Received: (qmail 64087 invoked by uid 500); 4 Oct 2005 15:36:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64062 invoked by uid 500); 4 Oct 2005 15:36:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64051 invoked by uid 99); 4 Oct 2005 15:36:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 08:36:13 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.20.168.25] (HELO uar.i-hypergrid.com) (217.20.168.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 08:36:16 -0700
Received: from [192.168.0.86] (vbychkoviak.jforce [192.168.0.86])
	by uar.i-hypergrid.com (Postfix) with ESMTP id B64F71B5B4
	for <java-user@lucene.apache.org>; Tue,  4 Oct 2005 18:35:35 +0300 (EEST)
Message-ID: <4342A139.3050305@i-hypergrid.com>
Date: Tue, 04 Oct 2005 18:35:21 +0300
From: Volodymyr Bychkoviak <vbychkoviak@i-hypergrid.com>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Renewing IndexSearcher on index change.
References: <434014AB.1040702@jalios.com>
In-Reply-To: <434014AB.1040702@jalios.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Olivier!

In my code i'm using following IndexSearcher extention:

public class IndexSearcherWrapper extends IndexSearcher {

  private int referenceCount;

  private final IndexReader indexReader;

  public IndexSearcherWrapper(IndexReader indexReader) {
    super(indexReader);
    this.indexReader = indexReader;
    this.referenceCount = 1;
  }

  public IndexSearcher getReference() {
    referenceCount++;
    return this;
  }

  public void close() throws IOException {
    referenceCount--;
    if (referenceCount <= 0) {
      super.close();
      indexReader.close();
    }
  }

};

in the code obtaining IndexSearcher I do call getReference() method and 
use indexSearcher as usual (search & close);
also referenceCount initially is set to 1 to prevent underlying 
indexReader being closed after first call of close() method.

when opening new IndexSearcher (after index change) I do call close() 
method one more time ensuring this IndexSearcher will be closed as soon 
as last thread closes this IndexSearcher.

and about second question:
while changing index all open IndexReaders(and IndexSearchers) don't 
"see" changes until reopening.


Olivier Jaquemet wrote:

> Hi all,
>
> As I read it on LIA, and as it has already been said on the mailing 
> list multiple times, you only need one IndexSearcher for all your 
> thread, and when your index change, you just need to create a new one 
> to reflect changes.
>
> Otis said in this post you could replaced old searcher and let it 
> being collected by the GC.
> http://mail-archives.apache.org/mod_mbox/lucene-java-user/200502.mbox/%3c20050218222949.15826.qmail@web31111.mail.mud.yahoo.com%3e 
>
>
> Note that my question is maybe more java related than anything else, 
> but, anyway...
> In the source code of IndexSearcher (and all searchers), I could not 
> find any finalize method that closes the searcher, how can you be sure 
> you old searcher is going to be closed? am I missing something? Is 
> there still a step I need to do in order to close the searcher 
> properly ? Do I need to create a facade to the searcher, keep my own 
> reference of uses and call a close in a finalize method?
>
> Thanks in advance for your answers :)
>
> Olivier
>
> PS: Another small question while I'm there, if a long indexation of a 
> lot Documents occurs, can the old searcher still be used for some time 
> while the indexation takes place, without problems? Cause I encoutered 
> an ArrayOutOfBoundException under some scorer class, unfortunately I 
> did not kept the trace.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

-- 
regards,
Volodymyr Bychkoviak


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16691-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 04 15:44:12 2005
Return-Path: <java-user-return-16691-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90570 invoked from network); 4 Oct 2005 15:44:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Oct 2005 15:44:12 -0000
Received: (qmail 71002 invoked by uid 500); 4 Oct 2005 15:44:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70103 invoked by uid 500); 4 Oct 2005 15:44:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70092 invoked by uid 99); 4 Oct 2005 15:44:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 08:44:07 -0700
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of daniel.h.funk@gmail.com designates 64.233.184.198 as permitted sender)
Received: from [64.233.184.198] (HELO wproxy.gmail.com) (64.233.184.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 08:44:11 -0700
Received: by wproxy.gmail.com with SMTP id 71so305711wri
        for <java-user@lucene.apache.org>; Tue, 04 Oct 2005 08:43:45 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=d3EwnqXmDjChwqGu9C6A/uipk9ab6s8d63EsXPKKEJ0yyZaPmqaZ5q6PXukTTQp6pt0mdtPbADEAJ5q3qFHr30BPtp5XlRPf3fC8PdC4cIcdvTeCMjAx3+sh139LoHbhf7XelLQgLgRNi6NjJ8tTtgHWrmXpcedD56QcMU0sLpk=
Received: by 10.54.16.64 with SMTP id 64mr2275407wrp;
        Tue, 04 Oct 2005 08:43:45 -0700 (PDT)
Received: by 10.54.145.12 with HTTP; Tue, 4 Oct 2005 08:43:45 -0700 (PDT)
Message-ID: <fb81d4720510040843x68c65edbpcb5db76b9b0558f9@mail.gmail.com>
Date: Tue, 4 Oct 2005 11:43:45 -0400
From: Dan Funk <daniel.h.funk@gmail.com>
Reply-To: Dan Funk <daniel.h.funk@gmail.com>
To: java-user@lucene.apache.org
Subject: Folksonomies
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_7600_22472305.1128440625174"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_7600_22472305.1128440625174
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I've been reading about Folksonomies (
http://en.wikipedia.org/wiki/Folksonomy), and I would like to incorporate
them into a project I'm developing with Lucene.

The concept is pretty simple, a targeted community of users add labels of
their choosing (just off the top of their head, not from a list) to
documents (or sections of documents) as a way of bookmarking them for later
reference. I'll most likely keep the information in a derby database to
begin with, and use it as personalization feature. It's not my idea, I thin=
k
it originated with del.icio.us <http://del.icio.us>.

In the long run however, all those labels should be pretty cool to play
around with - it would be extremely interesting to write tools for analyzin=
g
what labels ended up where, which occur really often, etc ... and use this
information to create a mutating browse feature. Identify oft-used terms an=
d
create categories, or possibly even hierarchies of topics.

Is anyone out there incorporating folksonomies into their lucene indexes,
and if so, how are you going about it, and is proving useful?

------=_Part_7600_22472305.1128440625174--

From java-user-return-16692-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 04 15:53:25 2005
Return-Path: <java-user-return-16692-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94042 invoked from network); 4 Oct 2005 15:53:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Oct 2005 15:53:25 -0000
Received: (qmail 86969 invoked by uid 500); 4 Oct 2005 15:53:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86930 invoked by uid 500); 4 Oct 2005 15:53:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86902 invoked by uid 99); 4 Oct 2005 15:53:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 08:53:16 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.215] (HELO web26004.mail.ukl.yahoo.com) (217.12.10.215)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 04 Oct 2005 08:53:17 -0700
Received: (qmail 1060 invoked by uid 60001); 4 Oct 2005 15:52:50 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=qpvlb+IdTpl5UNJXsX1tbMMACTcqgaJSrSoV9MNK4WOT7uAIOSukz83CLPI30P8Vo4g5zpbZHvBOGF5O8+K9YRywz6Khv+ugEyLxQ6Mr3p/Jrzv6XO0TicNVGwnsjuAEMCggP/4NrGVBTU6ChTKDupfM5HTlrEHw9sl/py+2MlA=  ;
Message-ID: <20051004155250.1058.qmail@web26004.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26004.mail.ukl.yahoo.com via HTTP; Tue, 04 Oct 2005 16:52:50 BST
Date: Tue, 4 Oct 2005 16:52:50 +0100 (BST)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: Folksonomies
To: java-user@lucene.apache.org, Dan Funk <daniel.h.funk@gmail.com>
In-Reply-To: <fb81d4720510040843x68c65edbpcb5db76b9b0558f9@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> Is anyone out there incorporating folksonomies into
> their lucene indexes,

Technorati uses Lucene.




	
	
		
___________________________________________________________ 
Yahoo! Messenger - NEW crystal clear PC to PC calling worldwide with voicemail http://uk.messenger.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16693-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 04 16:08:34 2005
Return-Path: <java-user-return-16693-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 368 invoked from network); 4 Oct 2005 16:08:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Oct 2005 16:08:34 -0000
Received: (qmail 10414 invoked by uid 500); 4 Oct 2005 16:08:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10393 invoked by uid 500); 4 Oct 2005 16:08:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10382 invoked by uid 99); 4 Oct 2005 16:08:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 09:08:28 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [193.252.22.22] (HELO smtp9.wanadoo.fr) (193.252.22.22)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 09:08:32 -0700
Received: from me-wanadoo.net (localhost [127.0.0.1])
	by mwinf0902.wanadoo.fr (SMTP Server) with ESMTP id CEC571C001E0
	for <java-user@lucene.apache.org>; Tue,  4 Oct 2005 18:08:05 +0200 (CEST)
Received: from [127.0.0.1] (AVelizy-115-2-1-38.w81-48.abo.wanadoo.fr [81.48.163.38])
	by mwinf0902.wanadoo.fr (SMTP Server) with ESMTP id 963E61C001C8
	for <java-user@lucene.apache.org>; Tue,  4 Oct 2005 18:08:05 +0200 (CEST)
X-ME-UUID: 20051004160805615.963E61C001C8@mwinf0902.wanadoo.fr
Message-ID: <4342A8E4.3030407@jalios.com>
Date: Tue, 04 Oct 2005 18:08:04 +0200
From: Olivier Jaquemet <olivier.jaquemet@jalios.com>
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Renewing IndexSearcher on index change.
References: <434014AB.1040702@jalios.com> <4342A139.3050305@i-hypergrid.com>
In-Reply-To: <4342A139.3050305@i-hypergrid.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thank you very much Volodymyr!
Exactly the perfect answer I needed.
One last question: how do you manage brutal interruption of you program? 
Cause as far as I am concerned, if I don't use a finalize method in 
which I close opened searchers, if for some reason the jvm terminates, 
on next run of my program, lucene throws TimeOut exception when trying 
to open lock file, as it was not close properly.

Oh, by the way, because I'm sure every lucene developper once had the 
same kind of need, maybe it should figure in the distribution of Lucene...?

Volodymyr Bychkoviak wrote:

> Hi Olivier!
>
> In my code i'm using following IndexSearcher extention:
>
> public class IndexSearcherWrapper extends IndexSearcher {
>
>  private int referenceCount;
>
>  private final IndexReader indexReader;
>
>  public IndexSearcherWrapper(IndexReader indexReader) {
>    super(indexReader);
>    this.indexReader = indexReader;
>    this.referenceCount = 1;
>  }
>
>  public IndexSearcher getReference() {
>    referenceCount++;
>    return this;
>  }
>
>  public void close() throws IOException {
>    referenceCount--;
>    if (referenceCount <= 0) {
>      super.close();
>      indexReader.close();
>    }
>  }
>
> };
>
> in the code obtaining IndexSearcher I do call getReference() method 
> and use indexSearcher as usual (search & close);
> also referenceCount initially is set to 1 to prevent underlying 
> indexReader being closed after first call of close() method.
>
> when opening new IndexSearcher (after index change) I do call close() 
> method one more time ensuring this IndexSearcher will be closed as 
> soon as last thread closes this IndexSearcher.
>
> and about second question:
> while changing index all open IndexReaders(and IndexSearchers) don't 
> "see" changes until reopening.
>
>
> Olivier Jaquemet wrote:
>
>> Hi all,
>>
>> As I read it on LIA, and as it has already been said on the mailing 
>> list multiple times, you only need one IndexSearcher for all your 
>> thread, and when your index change, you just need to create a new one 
>> to reflect changes.
>>
>> Otis said in this post you could replaced old searcher and let it 
>> being collected by the GC.
>> http://mail-archives.apache.org/mod_mbox/lucene-java-user/200502.mbox/%3c20050218222949.15826.qmail@web31111.mail.mud.yahoo.com%3e 
>>
>>
>> Note that my question is maybe more java related than anything else, 
>> but, anyway...
>> In the source code of IndexSearcher (and all searchers), I could not 
>> find any finalize method that closes the searcher, how can you be 
>> sure you old searcher is going to be closed? am I missing something? 
>> Is there still a step I need to do in order to close the searcher 
>> properly ? Do I need to create a facade to the searcher, keep my own 
>> reference of uses and call a close in a finalize method?
>>
>> Thanks in advance for your answers :)
>>
>> Olivier
>>
>> PS: Another small question while I'm there, if a long indexation of a 
>> lot Documents occurs, can the old searcher still be used for some 
>> time while the indexation takes place, without problems? Cause I 
>> encoutered an ArrayOutOfBoundException under some scorer class, 
>> unfortunately I did not kept the trace.
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>


-- 
Olivier Jaquemet <olivier.jaquemet@jalios.com>
Ingénieur R&D Jalios S.A.
Tel: 01.39.23.92.83
http://www.jalios.com/
http://support.jalios.com/




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16694-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 04 16:17:56 2005
Return-Path: <java-user-return-16694-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3282 invoked from network); 4 Oct 2005 16:17:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Oct 2005 16:17:56 -0000
Received: (qmail 28647 invoked by uid 500); 4 Oct 2005 16:17:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28511 invoked by uid 500); 4 Oct 2005 16:17:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28444 invoked by uid 99); 4 Oct 2005 16:17:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 09:17:48 -0700
X-ASF-Spam-Status: No, hits=1.7 required=10.0
	tests=RCVD_IN_NJABL_DUL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.74] (HELO ylpvm43.prodigy.net) (207.115.57.74)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 09:17:51 -0700
Received: from pimout1-ext.prodigy.net (pimout1-int.prodigy.net [207.115.5.65])
	by ylpvm43.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id j94GHPdQ013571
	for <java-user@lucene.apache.org>; Tue, 4 Oct 2005 12:17:25 -0400
X-ORBL: [69.228.220.53]
Received: from [192.168.168.81] (adsl-69-228-220-53.dsl.pltn13.pacbell.net [69.228.220.53])
	by pimout1-ext.prodigy.net (8.13.4 outbound domainkey aix/8.13.4) with ESMTP id j94GHDbV131622;
	Tue, 4 Oct 2005 12:17:18 -0400
Message-ID: <4342AB08.3060705@apache.org>
Date: Tue, 04 Oct 2005 09:17:12 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7-1.1.fc3 (X11/20050929)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Performance Improvments?
References: <5E7B95B618BA914AAE0AF7E9BF1F40190B28A8@mmi044surmsx02.enterprisenet.org>
In-Reply-To: <5E7B95B618BA914AAE0AF7E9BF1F40190B28A8@mmi044surmsx02.enterprisenet.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Palmer, Andrew MMI Woking wrote:
> I am looking at changing the value BufferedIndexOutput.BUFFER_SIZE  from
> 1024 to maybe 8192.  Has anyone done anything similar and did they get
> any performance improvements.  

I doubt this will speed things much.

> Generally I am looking to reduce the time it takes to optimize the
> index, currently a 20GB index takes about an hour.  I have at least four
> indexes of this size and they are all in the critical path for the
> production cycle.

A RAID device with higher i/o throughput might help.

Or perhaps you can just optimize the index less often.  Instead use a 
very small merge factor (i.e., 2) to minimize the number of segments. 
This will make searches faster.  Increase minMergeDocs to 1000 or so to 
keep updates fast.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16695-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 04 16:20:53 2005
Return-Path: <java-user-return-16695-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4220 invoked from network); 4 Oct 2005 16:20:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Oct 2005 16:20:53 -0000
Received: (qmail 33436 invoked by uid 500); 4 Oct 2005 16:20:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32493 invoked by uid 500); 4 Oct 2005 16:20:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32482 invoked by uid 99); 4 Oct 2005 16:20:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 09:20:47 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.20.168.25] (HELO uar.i-hypergrid.com) (217.20.168.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 09:20:50 -0700
Received: from [192.168.0.86] (vbychkoviak.jforce [192.168.0.86])
	by uar.i-hypergrid.com (Postfix) with ESMTP id 9197C1B592
	for <java-user@lucene.apache.org>; Tue,  4 Oct 2005 19:20:23 +0300 (EEST)
Message-ID: <4342ABB9.1090409@i-hypergrid.com>
Date: Tue, 04 Oct 2005 19:20:09 +0300
From: Volodymyr Bychkoviak <vbychkoviak@i-hypergrid.com>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Renewing IndexSearcher on index change.
References: <434014AB.1040702@jalios.com> <4342A139.3050305@i-hypergrid.com> <4342A8E4.3030407@jalios.com>
In-Reply-To: <4342A8E4.3030407@jalios.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N



Olivier Jaquemet wrote:

> Thank you very much Volodymyr!
> Exactly the perfect answer I needed.
> One last question: how do you manage brutal interruption of you 
> program? Cause as far as I am concerned, if I don't use a finalize 
> method in which I close opened searchers, if for some reason the jvm 
> terminates, on next run of my program, lucene throws TimeOut exception 
> when trying to open lock file, as it was not close properly.
>
>
I'm using following code during program startup

    try {
      if ( !IndexReader.indexExists(indexDirectory)) {
        // working index doesn't exist so try to create a dummy index.
        IndexWriter iw = new IndexWriter(indexDirectory, new 
StandardAnalyzer(), true);
        iw.close();
      } else {
        IndexReader.unlock(FSDirectory.getDirectory(indexDirectory, false));
      }
    } catch (IOException e) {
      // exception
    }

but this method should be used if you are running only one instance of 
such program (because one program can unlock index locked by another 
program for indexing for example)

-- 
regards,
Volodymyr Bychkoviak


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16696-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 04 16:40:02 2005
Return-Path: <java-user-return-16696-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13129 invoked from network); 4 Oct 2005 16:40:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Oct 2005 16:40:01 -0000
Received: (qmail 67110 invoked by uid 500); 4 Oct 2005 16:39:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67080 invoked by uid 500); 4 Oct 2005 16:39:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67058 invoked by uid 99); 4 Oct 2005 16:39:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 09:39:55 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [193.252.22.24] (HELO smtp7.wanadoo.fr) (193.252.22.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 09:39:58 -0700
Received: from me-wanadoo.net (localhost [127.0.0.1])
	by mwinf0704.wanadoo.fr (SMTP Server) with ESMTP id 1131514000F7
	for <java-user@lucene.apache.org>; Tue,  4 Oct 2005 18:39:30 +0200 (CEST)
Received: from [127.0.0.1] (AVelizy-115-2-1-38.w81-48.abo.wanadoo.fr [81.48.163.38])
	by mwinf0704.wanadoo.fr (SMTP Server) with ESMTP id C5694140006C
	for <java-user@lucene.apache.org>; Tue,  4 Oct 2005 18:39:29 +0200 (CEST)
X-ME-UUID: 20051004163929808.C5694140006C@mwinf0704.wanadoo.fr
Message-ID: <4342B040.1020704@jalios.com>
Date: Tue, 04 Oct 2005 18:39:28 +0200
From: Olivier Jaquemet <olivier.jaquemet@jalios.com>
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Renewing IndexSearcher on index change.
References: <434014AB.1040702@jalios.com> <4342A139.3050305@i-hypergrid.com> <4342A8E4.3030407@jalios.com> <4342ABB9.1090409@i-hypergrid.com>
In-Reply-To: <4342ABB9.1090409@i-hypergrid.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Volodymyr Bychkoviak wrote:

> I'm using following code during program startup 

[...]

> but this method should be used if you are running only one instance of 
> such program (because one program can unlock index locked by another 
> program for indexing for example)
>
Okay this perfect for our application as only one instance can be 
launched at the same time. thank you very much.

In every case I think I will use this to prevent any problem but why 
nobody uses finalize methods? is it somehow bad to try to close things 
correctly that way?

Olivier



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16697-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 04 17:06:05 2005
Return-Path: <java-user-return-16697-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23679 invoked from network); 4 Oct 2005 17:06:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Oct 2005 17:06:05 -0000
Received: (qmail 18469 invoked by uid 500); 4 Oct 2005 17:06:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18446 invoked by uid 500); 4 Oct 2005 17:05:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18435 invoked by uid 99); 4 Oct 2005 17:05:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 10:05:59 -0700
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of andy.kishore@gmail.com designates 64.233.184.202 as permitted sender)
Received: from [64.233.184.202] (HELO wproxy.gmail.com) (64.233.184.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 10:06:04 -0700
Received: by wproxy.gmail.com with SMTP id i21so35066wra
        for <java-user@lucene.apache.org>; Tue, 04 Oct 2005 10:05:38 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=EFFgHSe//GQpFcPLzNIPcXUm/NW91hDgfa9q3OOFiny1dJAPXNpdyqoZYuHBnQ58DpZY2GggpzzwmXB5cl4S9eA3knFEXrwf0SHSNdSl55xi4WDRQdPZdslAEFFG9D21tTdjRZqGW7+D3fpGwUxGZfmj4cCSOJLhutUivJ++C0Q=
Received: by 10.54.16.44 with SMTP id 44mr1058034wrp;
        Tue, 04 Oct 2005 10:05:37 -0700 (PDT)
Received: by 10.54.84.9 with HTTP; Tue, 4 Oct 2005 10:05:37 -0700 (PDT)
Message-ID: <1036df940510041005v2d2fc37bra3c9e0ee9d57785e@mail.gmail.com>
Date: Tue, 4 Oct 2005 10:05:37 -0700
From: Anand Kishore <andy.kishore@gmail.com>
Reply-To: Anand Kishore <andy.kishore@gmail.com>
To: java-user@lucene.apache.org
Subject: Indexing-Searching Design
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_7776_26308040.1128445537732"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_7776_26308040.1128445537732
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi all,

Having read the mail in the mailing list archive about Best
Indexing-Searching Practices I have come up with the following architecture
for my application. Kindly evaluate and comment regarding the same.

Figure:

http://www.flickr.com/photos/28219682@N00/49301053/

Explanation:

The primary indexer (daemon) recieves the documents to be indexed. It
dispatches the documents to one of the secondary indexer nodes (via load
balancing). These indexing nodes index the documents in the RAMDirectory,
periodically writing it to a local index in the filesystem.

A cron process running on the central server (which contains the main index=
)
periodically checks for any new/updated indexes (small in size) on the
secondary nodes. It copies these new (small) indexes to the central server
(based on 'push changes onto main index'). An optimizer process running on
the central server periodically merges/optimizes the main index with the
smaller newer indexes. It also creates a checkpoint of the consistent index
everytime it performs optimization (the index.DATE approach).

The 'updaters' (cron processes on searcher nodes) periodically copy new
checkpoints via rsync onto their local system and create symbolic links to
them (same as proposed and used by Doug for Technorati).


--
- Andy

------=_Part_7776_26308040.1128445537732--

From java-user-return-16698-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 04 17:17:55 2005
Return-Path: <java-user-return-16698-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29173 invoked from network); 4 Oct 2005 17:17:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Oct 2005 17:17:55 -0000
Received: (qmail 47336 invoked by uid 500); 4 Oct 2005 17:17:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47312 invoked by uid 500); 4 Oct 2005 17:17:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47297 invoked by uid 99); 4 Oct 2005 17:17:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 10:17:49 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jjl@panix.com designates 166.84.1.73 as permitted sender)
Received: from [166.84.1.73] (HELO mail2.panix.com) (166.84.1.73)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 10:17:52 -0700
Received: from mailspool3.panix.com (mailspool3.panix.com [166.84.1.78])
	by mail2.panix.com (Postfix) with ESMTP id A35009D9FC
	for <java-user@lucene.apache.org>; Tue,  4 Oct 2005 13:17:24 -0400 (EDT)
Received: from [10.0.1.6] (pool-64-223-55-186.prov.east.verizon.net [64.223.55.186])
	by mailspool3.panix.com (Postfix) with ESMTP id 752F53607E2
	for <java-user@lucene.apache.org>; Tue,  4 Oct 2005 13:17:24 -0400 (EDT)
Mime-Version: 1.0
Message-Id: <p06210206bf6866c0eba2@[10.0.1.6]>
In-Reply-To: <4342B040.1020704@jalios.com>
References: <434014AB.1040702@jalios.com>
 <4342A139.3050305@i-hypergrid.com> <4342A8E4.3030407@jalios.com>
 <4342ABB9.1090409@i-hypergrid.com> <4342B040.1020704@jalios.com>
Date: Tue, 4 Oct 2005 13:17:16 -0400
To: java-user@lucene.apache.org
From: "J.J. Larrea" <jjl@panix.com>
Subject: Re: Renewing IndexSearcher on index change.
Content-Type: text/plain; charset="us-ascii"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

At 6:39 PM +0200 10/4/05, Olivier Jaquemet wrote:
>In every case I think I will use this to prevent any problem but why nobody uses finalize methods? is it somehow bad to try to close things correctly that way?

Because they are not run under "brutal termination" conditions.  For that you need to add a shutdown hook to the Java runtime.  A shutdown hook will run if the runtime process receives a signal eg. SIGHUP which on Unix occurs if the controlling terminal "hangs up", etc. It won't get run on a SIGKILL, but nothing will.  It also runs if you get an OutOfMemoryException or similar problem in the runtime, though there is no guarantee the hook code e.g. close() won't also fail in that case.

For example, my indexing code looks something like this:

    final IndexWriter writer = ...
   
    Thread shutdown = new Thread() {
        public void run() {
	    if(writer != null) {
		// feebly try to prevent concurrent reentry problems
		IndexWriter w = writer;
		w = null;
                try {
                    w.close();
                } catch(Exception ex) {
                    logger.error("Closing", ex);
                }
            }
        }
    };
    Runtime.getRuntime().addShutdownHook(shutdown);

    // do indexing here
    doit(writer, ...);

    // no abnormal termination
    // just exit and the shutdown hook will run

In a multi-threaded context, one might need to add synchronization to prevent concurrent entry from causing problems.

I'm not sure whether this relates to the IndexSearcher problem you're trying to solve, but it is certainly useful when indexing.

- J.J.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16699-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 04 17:30:38 2005
Return-Path: <java-user-return-16699-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37003 invoked from network); 4 Oct 2005 17:30:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Oct 2005 17:30:38 -0000
Received: (qmail 74699 invoked by uid 500); 4 Oct 2005 17:30:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74680 invoked by uid 500); 4 Oct 2005 17:30:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74669 invoked by uid 99); 4 Oct 2005 17:30:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 10:30:31 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 10:30:34 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 1C83B5B778; Tue,  4 Oct 2005 10:30:07 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP
	id 149847F471; Tue,  4 Oct 2005 10:30:07 -0700 (PDT)
Date: Tue, 4 Oct 2005 10:30:07 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org,
	Anand Kishore <andy.kishore@gmail.com>
Subject: Re: Indexing-Searching Design
In-Reply-To: <1036df940510041005v2d2fc37bra3c9e0ee9d57785e@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0510041027020.23491@hal.rescomp.berkeley.edu>
References: <1036df940510041005v2d2fc37bra3c9e0ee9d57785e@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: The primary indexer (daemon) recieves the documents to be indexed. It
: dispatches the documents to one of the secondary indexer nodes (via load
: balancing). These indexing nodes index the documents in the RAMDirectory,
: periodically writing it to a local index in the filesystem.

I'm not certain, but unless your analysis is extremely intensive, I can't
think of any advantage in having the secondary indexer nodes.  I believe
your central server is going to do roughly the same ammount of work
merging those smaller indexes in as it would if the documents were added
directly.


I could be wrong however, I haven't really looked that closely at the
internals of addIndex.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16700-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 04 17:34:22 2005
Return-Path: <java-user-return-16700-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38750 invoked from network); 4 Oct 2005 17:34:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Oct 2005 17:34:22 -0000
Received: (qmail 83187 invoked by uid 500); 4 Oct 2005 17:34:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82594 invoked by uid 500); 4 Oct 2005 17:34:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82579 invoked by uid 99); 4 Oct 2005 17:34:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 10:34:16 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 10:34:20 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 0CC1C5B778; Tue,  4 Oct 2005 10:33:55 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 015D57F471
	for <java-user@lucene.apache.org>; Tue,  4 Oct 2005 10:33:54 -0700 (PDT)
Date: Tue, 4 Oct 2005 10:33:54 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Renewing IndexSearcher on index change.
In-Reply-To: <p06210206bf6866c0eba2@[10.0.1.6]>
Message-ID: <Pine.LNX.4.58.0510041032350.23491@hal.rescomp.berkeley.edu>
References: <434014AB.1040702@jalios.com> <4342A139.3050305@i-hypergrid.com>
 <4342A8E4.3030407@jalios.com> <4342ABB9.1090409@i-hypergrid.com>
 <4342B040.1020704@jalios.com> <p06210206bf6866c0eba2@[10.0.1.6]>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: 		// feebly try to prevent concurrent reentry problems
: 		IndexWriter w = writer;
: 		w = null;
:                 try {
:                     w.close();

Just to clarify for the folks at home, I'm pretty sure you ment...

                IndexWriter w = writer;
                writer = null;
                  try {
                      w.close();

...correct?

-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16701-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 04 18:14:34 2005
Return-Path: <java-user-return-16701-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56311 invoked from network); 4 Oct 2005 18:14:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Oct 2005 18:14:34 -0000
Received: (qmail 44822 invoked by uid 500); 4 Oct 2005 18:14:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43921 invoked by uid 500); 4 Oct 2005 18:14:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43904 invoked by uid 99); 4 Oct 2005 18:14:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 11:14:29 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [193.194.158.19] (HELO exchange.bvdep.com) (193.194.158.19)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 11:14:32 -0700
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Subject: RE: live update of index used by Tomcat
Date: Tue, 4 Oct 2005 20:14:01 +0200
Message-ID: <950FF7DE40C2B64CAF80B564732927E104CA163B@exchange.be.bvd>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: live update of index used by Tomcat
Thread-Index: AcXE7e3QrL0yiJDrT9OhJLPTO9dLMwEIT1YQ
From: "Vanlerberghe, Luc" <Luc.Vanlerberghe@bvdep.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I've posted the code as a jira attachment.

See http://issues.apache.org/jira/browse/LUCENE-445

Feedback would be much appreciated!

Regards,

Luc=20

-----Original Message-----
From: Carsten Burghardt [mailto:carsten@cburghardt.com]=20
Sent: donderdag 29 september 2005 13:24
To: java-user@lucene.apache.org
Cc: Vanlerberghe, Luc
Subject: RE: live update of index used by Tomcat

> I can post the code and testcases if you're interested.

Luc,

that would be great as I have the very same problem.


Regards,

Carsten


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16702-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 04 18:14:55 2005
Return-Path: <java-user-return-16702-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56368 invoked from network); 4 Oct 2005 18:14:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Oct 2005 18:14:55 -0000
Received: (qmail 45055 invoked by uid 500); 4 Oct 2005 18:14:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45027 invoked by uid 500); 4 Oct 2005 18:14:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45016 invoked by uid 99); 4 Oct 2005 18:14:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 11:14:49 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jjl@panix.com designates 166.84.1.72 as permitted sender)
Received: from [166.84.1.72] (HELO mail1.panix.com) (166.84.1.72)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 11:14:52 -0700
Received: from mailspool3.panix.com (mailspool3.panix.com [166.84.1.78])
	by mail1.panix.com (Postfix) with ESMTP id 32E685889E
	for <java-user@lucene.apache.org>; Tue,  4 Oct 2005 14:14:24 -0400 (EDT)
Received: from [10.0.1.6] (pool-64-223-55-186.prov.east.verizon.net [64.223.55.186])
	by mailspool3.panix.com (Postfix) with ESMTP id BD9463607E1
	for <java-user@lucene.apache.org>; Tue,  4 Oct 2005 14:14:23 -0400 (EDT)
Mime-Version: 1.0
Message-Id: <p06210209bf6876418e0a@[10.0.1.6]>
In-Reply-To: <Pine.LNX.4.58.0510041032350.23491@hal.rescomp.berkeley.edu>
References: <434014AB.1040702@jalios.com>
 <4342A139.3050305@i-hypergrid.com> <4342A8E4.3030407@jalios.com>
 <4342ABB9.1090409@i-hypergrid.com> <4342B040.1020704@jalios.com>
 <p06210206bf6866c0eba2@[10.0.1.6]>
 <Pine.LNX.4.58.0510041032350.23491@hal.rescomp.berkeley.edu>
Date: Tue, 4 Oct 2005 14:14:15 -0400
To: java-user@lucene.apache.org
From: "J.J. Larrea" <jjl@panix.com>
Subject: Re: Renewing IndexSearcher on index change.
Content-Type: text/plain; charset="us-ascii"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Oops!  Yes that's correct.  Thanks for catching it...  - J.J.

At 10:33 AM -0700 10/4/05, Chris Hostetter wrote:
>:		// feebly try to prevent concurrent reentry problems
>:		IndexWriter w = writer;
>:		w = null;
>:                 try {
>:                     w.close();
>
>Just to clarify for the folks at home, I'm pretty sure you ment...
>
>                IndexWriter w = writer;
>                writer = null;
>                  try {
>                      w.close();
>
>...correct?
>
>-Hoss

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16703-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 04 18:28:58 2005
Return-Path: <java-user-return-16703-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62055 invoked from network); 4 Oct 2005 18:28:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Oct 2005 18:28:57 -0000
Received: (qmail 74853 invoked by uid 500); 4 Oct 2005 18:28:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74573 invoked by uid 500); 4 Oct 2005 18:28:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74562 invoked by uid 99); 4 Oct 2005 18:28:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 11:28:52 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [193.194.158.19] (HELO exchange.bvdep.com) (193.194.158.19)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 11:28:55 -0700
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Subject: RE: Renewing IndexSearcher on index change.
Date: Tue, 4 Oct 2005 20:28:28 +0200
Message-ID: <950FF7DE40C2B64CAF80B564732927E104CA163F@exchange.be.bvd>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Renewing IndexSearcher on index change.
Thread-Index: AcXJAkSmm5EAUAdNRr2Vuj/M2RAipwADXDow
From: "Vanlerberghe, Luc" <Luc.Vanlerberghe@bvdep.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I've just posted the solution I use as a jira attachment.

See http://issues.apache.org/jira/browse/LUCENE-445

It was designed to be used in a multithread environment (tomcat)
It contains javadoc to explain the usage.

It extends IndexSearcher since that is the object that searches are
executed against.

So an application module that needs to execute a search does:
IndexSearcher searcher=3DsearcherFactory.createSearch();
hits=3Dsearcher.search(query);
... handle results
searcher.close();

The factory actually returns the same DelayCloseIndexSearcher over and
over until it determines the index has changed.  It then calls
closeWhenDone() and initialises a new instance.  (In my application, a
separate thread does this, the old instance still gets used until the
new one is fully initialised)

Feedback would be much appreciated!

Thanks,

Luc

P.s.: finalize() should not be relied on since ther's no way to know
when it will be called (if ever).  it could be used to detect bugs, but
even just adding a finalize() method actually creates some overhead (at
least in the sun VM) and may keep objects in memory longer than they
would without it.


-----Original Message-----
From: Olivier Jaquemet [mailto:olivier.jaquemet@jalios.com]=20
Sent: dinsdag 4 oktober 2005 18:39
To: java-user@lucene.apache.org
Subject: Re: Renewing IndexSearcher on index change.

Volodymyr Bychkoviak wrote:

> I'm using following code during program startup=20

[...]

> but this method should be used if you are running only one instance of

> such program (because one program can unlock index locked by another=20
> program for indexing for example)
>
Okay this perfect for our application as only one instance can be=20
launched at the same time. thank you very much.

In every case I think I will use this to prevent any problem but why=20
nobody uses finalize methods? is it somehow bad to try to close things=20
correctly that way?

Olivier



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16704-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 04 19:01:02 2005
Return-Path: <java-user-return-16704-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75668 invoked from network); 4 Oct 2005 19:01:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Oct 2005 19:01:02 -0000
Received: (qmail 50622 invoked by uid 500); 4 Oct 2005 19:00:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50590 invoked by uid 500); 4 Oct 2005 19:00:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50579 invoked by uid 99); 4 Oct 2005 19:00:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 12:00:56 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 12:00:59 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 9D74213E200A; Tue,  4 Oct 2005 15:00:30 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 483E913E2007
	for <java-user@lucene.apache.org>; Tue,  4 Oct 2005 14:57:20 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <20051004155250.1058.qmail@web26004.mail.ukl.yahoo.com>
References: <20051004155250.1058.qmail@web26004.mail.ukl.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <14B0E6EE-7E1B-4757-8046-87DEEA745FEE@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Folksonomies
Date: Tue, 4 Oct 2005 14:57:13 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.9 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Oct 4, 2005, at 11:52 AM, mark harwood wrote:

>> Is anyone out there incorporating folksonomies into
>> their lucene indexes,
>>
>
> Technorati uses Lucene.

So does Simpy - it's the social bookmarking / folksonomy system  
developed by our very own Otis Gospodnetic.

I'm also building a collaborative and social "bookmarking" system  
(hopefully deployed live in the next few weeks in pre-alpha status  
for scholars to tinker with).  My current architecture does not use  
Lucene for tags, but rather RDF and Kowari.  I have full-text search  
for content, but tags are currently treated precisely and full-text  
search is not needed on them.

     Erik




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16705-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 04 20:20:35 2005
Return-Path: <java-user-return-16705-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53667 invoked from network); 4 Oct 2005 20:20:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Oct 2005 20:20:35 -0000
Received: (qmail 87972 invoked by uid 500); 4 Oct 2005 20:20:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87945 invoked by uid 500); 4 Oct 2005 20:20:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87934 invoked by uid 99); 4 Oct 2005 20:20:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 13:20:28 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_30_40,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of daniel.h.funk@gmail.com designates 64.233.184.198 as permitted sender)
Received: from [64.233.184.198] (HELO wproxy.gmail.com) (64.233.184.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 13:20:29 -0700
Received: by wproxy.gmail.com with SMTP id i31so989wra
        for <java-user@lucene.apache.org>; Tue, 04 Oct 2005 13:20:04 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=XJaPudAEqGLeXXJg4VTmaUW/fmnkiOYcXIj4t0yVVbyhAIKW95wcMXDbt8l+qnQqxbEvxOuianR9EqTYKLCnuNEzVEBpNQ65VZbmuUfQfrhracohVHkayExC1O7+Yx8Ra2nbWoaStW2ISIBOdofMkHe/PzjqcYu/unPhgx5PGzo=
Received: by 10.54.117.17 with SMTP id p17mr2374005wrc;
        Tue, 04 Oct 2005 13:20:04 -0700 (PDT)
Received: by 10.54.145.12 with HTTP; Tue, 4 Oct 2005 13:20:03 -0700 (PDT)
Message-ID: <fb81d4720510041320s4271d3a7j71e7cb613399038f@mail.gmail.com>
Date: Tue, 4 Oct 2005 16:20:03 -0400
From: Dan Funk <daniel.h.funk@gmail.com>
Reply-To: Dan Funk <daniel.h.funk@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Folksonomies
In-Reply-To: <14B0E6EE-7E1B-4757-8046-87DEEA745FEE@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_10771_14190931.1128457203968"
References: <20051004155250.1058.qmail@web26004.mail.ukl.yahoo.com>
	 <14B0E6EE-7E1B-4757-8046-87DEEA745FEE@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_10771_14190931.1128457203968
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

 Thanks Erik, seems Otis keeps a very nice blog about simply
http://blog.simpy.com/blojsom/blog/ that's full of helpful advice on the
topic.

On 10/4/05, Erik Hatcher <erik@ehatchersolutions.com> wrote:
>
>
> On Oct 4, 2005, at 11:52 AM, mark harwood wrote:
>
> >> Is anyone out there incorporating folksonomies into
> >> their lucene indexes,
> >>
> >
> > Technorati uses Lucene.
>
> So does Simpy - it's the social bookmarking / folksonomy system
> developed by our very own Otis Gospodnetic.
>
> I'm also building a collaborative and social "bookmarking" system
> (hopefully deployed live in the next few weeks in pre-alpha status
> for scholars to tinker with). My current architecture does not use
> Lucene for tags, but rather RDF and Kowari. I have full-text search
> for content, but tags are currently treated precisely and full-text
> search is not needed on them.
>
> Erik
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_10771_14190931.1128457203968--

From java-user-return-16706-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 04 20:26:07 2005
Return-Path: <java-user-return-16706-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59367 invoked from network); 4 Oct 2005 20:26:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Oct 2005 20:26:06 -0000
Received: (qmail 95031 invoked by uid 500); 4 Oct 2005 20:26:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95006 invoked by uid 500); 4 Oct 2005 20:26:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94994 invoked by uid 99); 4 Oct 2005 20:26:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 13:26:01 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.200.35] (HELO web31102.mail.mud.yahoo.com) (68.142.200.35)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 04 Oct 2005 13:26:05 -0700
Received: (qmail 89368 invoked by uid 60001); 4 Oct 2005 20:25:39 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=jUqy0uEWsIxQ2TYQoBdkNHwf7Kk87tYnCuAE3V18lPCVa3NjKuBRKTDbfWwkDLacc8auEzoA7Uchu5G6/Vd1vNhrsOXsh+qsEsiXktLdUOCLLpmclmFa0xH1po/oH59T2iFzKJwDe0zENTuhxzztAOn+eSaMvMNLvFODcrcevuY=  ;
Message-ID: <20051004202538.89366.qmail@web31102.mail.mud.yahoo.com>
Received: from [69.201.142.21] by web31102.mail.mud.yahoo.com via HTTP; Tue, 04 Oct 2005 13:25:38 PDT
Date: Tue, 4 Oct 2005 13:25:38 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Folksonomies
To: java-user@lucene.apache.org
In-Reply-To: <fb81d4720510040843x68c65edbpcb5db76b9b0558f9@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Dan,

You are describing Simpy :) - http://www.simpy.com/

If you look at Simpy's blog at http://blog.simpy.com/blojsom/blog/ ,
you 
will see I started a little series of posts about the analysis of
tagging and bookmarking in Simpy.  If I find time, I'll post the next
part of the series tonight.  Future analysis I plan on doing will
include doing POS analysis of tags, and if you would like to see other
types of analysis, please feel free to email/comment on the blog.

Otis

--- Dan Funk <daniel.h.funk@gmail.com> wrote:

> I've been reading about Folksonomies (
> http://en.wikipedia.org/wiki/Folksonomy), and I would like to
> incorporate
> them into a project I'm developing with Lucene.
> 
> The concept is pretty simple, a targeted community of users add
> labels of
> their choosing (just off the top of their head, not from a list) to
> documents (or sections of documents) as a way of bookmarking them for
> later
> reference. I'll most likely keep the information in a derby database
> to
> begin with, and use it as personalization feature. It's not my idea,
> I think
> it originated with del.icio.us <http://del.icio.us>.
> 
> In the long run however, all those labels should be pretty cool to
> play
> around with - it would be extremely interesting to write tools for
> analyzing
> what labels ended up where, which occur really often, etc ... and use
> this
> information to create a mutating browse feature. Identify oft-used
> terms and
> create categories, or possibly even hierarchies of topics.
> 
> Is anyone out there incorporating folksonomies into their lucene
> indexes,
> and if so, how are you going about it, and is proving useful?
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16707-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 04 20:55:48 2005
Return-Path: <java-user-return-16707-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71034 invoked from network); 4 Oct 2005 20:55:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Oct 2005 20:55:48 -0000
Received: (qmail 45184 invoked by uid 500); 4 Oct 2005 20:55:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45097 invoked by uid 500); 4 Oct 2005 20:55:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45044 invoked by uid 99); 4 Oct 2005 20:55:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 13:55:28 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.45.34.102] (HELO darksleep.com) (66.45.34.102)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 13:55:30 -0700
Received: by darksleep.com (Postfix, from userid 1009)
	id D241F10225; Tue,  4 Oct 2005 15:59:12 -0400 (EDT)
Date: Tue, 4 Oct 2005 15:59:12 -0400
From: "Steven J. Owens" <puffmail@darksleep.com>
To: java-user@lucene.apache.org, Dan Funk <daniel.h.funk@gmail.com>
Subject: Re: Folksonomies
Message-ID: <20051004195912.GE21451@darksleep.com>
Reply-To: puff@darksleep.com
References: <fb81d4720510040843x68c65edbpcb5db76b9b0558f9@mail.gmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <fb81d4720510040843x68c65edbpcb5db76b9b0558f9@mail.gmail.com>
Sender: Steven J.Owens <puffmail@darksleep.com>
User-Agent: Mutt/1.5.9i
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Tue, Oct 04, 2005 at 11:43:45AM -0400, Dan Funk wrote:
> I've been reading about Folksonomies (
> http://en.wikipedia.org/wiki/Folksonomy), and I would like to incorporate
> them into a project I'm developing with Lucene.
> 
> The concept is pretty simple, a targeted community of users add labels of
> their choosing (just off the top of their head, not from a list) to
> documents (or sections of documents) as a way of bookmarking them for later
> reference. I'll most likely keep the information in a derby database to
> begin with, and use it as personalization feature. It's not my idea, I think
> it originated with del.icio.us <http://del.icio.us>.

     I've been meaning to build something like this for a searchable,
annotatable mailing list archive, for years and years.  It's what got
me interested in lucene to begin with, then I got sidetracked into using
lucene for work purposes :-).  

     I actually started thinking about tackling this again, just this
week.  The main questions are generally where/how to store the
annotations, and whether I want to use lucene for the mail store or
use an adjacent sql database.

> In the long run however, all those labels should be pretty cool to play
> around with - it would be extremely interesting to write tools for analyzing
> what labels ended up where, which occur really often, etc ... and use this
> information to create a mutating browse feature. Identify oft-used terms and
> create categories, or possibly even hierarchies of topics.

     This is the part that's always fascinated me - the idea of giving
a community of users the ability to add metadata to the archive and
facilitate the evolution of new ways of using/looking at the data.
 
-- 
Steven J. Owens
puff@darksleep.com

"I'm going to make broad, sweeping generalizations and strong,
 declarative statements, because otherwise I'll be here all night and
 this document will be four times longer and much less fun to read.
 Take it all with a grain of salt." - http://darksleep.com/notablog


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16708-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 04 22:16:03 2005
Return-Path: <java-user-return-16708-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99017 invoked from network); 4 Oct 2005 22:16:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Oct 2005 22:16:02 -0000
Received: (qmail 47549 invoked by uid 500); 4 Oct 2005 22:15:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47524 invoked by uid 500); 4 Oct 2005 22:15:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47509 invoked by uid 99); 4 Oct 2005 22:15:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 15:15:57 -0700
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of archie.cowan@gmail.com designates 64.233.162.206 as permitted sender)
Received: from [64.233.162.206] (HELO zproxy.gmail.com) (64.233.162.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 15:16:00 -0700
Received: by zproxy.gmail.com with SMTP id i28so12639nzi
        for <java-user@lucene.apache.org>; Tue, 04 Oct 2005 15:15:34 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=b9V6nhJpBWxX2IbZTEB6iDDLOVncYL2iok5BKxY/K4kiCFaWWGTVZnXNdsUcNsQensRzRhxEe5vwfy3Zp42+exAFebXgYEW7eXWnTYJNthn1smC4H4iZYAZoEeuhXz/lbvT6JhBPZgil0GHUW9LYgfdMcDA6qZi4Zk9n3qF+P94=
Received: by 10.37.20.8 with SMTP id x8mr104541nzi;
        Tue, 04 Oct 2005 15:15:34 -0700 (PDT)
Received: by 10.36.222.47 with HTTP; Tue, 4 Oct 2005 15:15:34 -0700 (PDT)
Message-ID: <dc5e88ed0510041515q17aeaf07sb8512f43ab0655b3@mail.gmail.com>
Date: Tue, 4 Oct 2005 18:15:34 -0400
From: Archie Cowan <archie.cowan@gmail.com>
Reply-To: Archie Cowan <archie.cowan@gmail.com>
To: java-user@lucene.apache.org
Subject: Threads locking around getFSDirectory
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_6575_4368671.1128464134533"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_6575_4368671.1128464134533
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Lucene users,

We run an EJB search application that has been experiencing some locking
issues. By taking thread dumps when the jvm seems to be frozen, many thread=
s
in the application are locked around calls to getFSDirectory.

"Thread-84" daemon prio=3D1 tid=3D0x053117b0 nid=3D0x2274 waiting for monit=
or
entry [4666000..466686c]
at org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:109)
- waiting to lock <0x4d3a86a0> (a org.apache.lucene.store.FSDirectory)
at org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:83)
at org.apache.lucene.index.IndexReader.open(IndexReader.java:95)
at org.apache.lucene.search.IndexSearcher.<init>(IndexSearcher.java:38)

Details about our app:
We run inside JBoss 4.0.0
Sun JDK 1.4.2
Lucene 1.4.3
Compound Index Format
Red Hat Linux 3

Our initial research into the problem only brought up comments around
performance improvements made to lucene last year that are present in
version 1.4.3. We're wondering if the lucene user community can give any
advice for pursuing this further. Some questions we have are:

How many IndexSearchers do people usually use in their applications?
- In previous lucene versions, we found we had better concurrency using
multiple IndexSearchers
- Our current app uses an separate IndexSearcher for each thread (as needed=
)
from a pool

We've seen reports that the multi file indexes offer a faster search. Are
there any performance numbers around on concurrency with the multifile inde=
x
format? It seems like this could either improve or further increase
contention with locking depending on what our problem is.

Some of our searching around this problem revealed some work on something
using the java nio package.... NioFSDirectory that offered better
concurrency (
http://mail-archives.apache.org/mod_mbox/lucene-java-dev/200505.mbox/%3C429=
5F65B.8030100@apache.org%3E).
We haven't found this in the lucene repository... where or is this availabl=
e
for use?

Thanks in advance.

Regards,

Archie

------=_Part_6575_4368671.1128464134533--

From java-user-return-16709-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 04 22:23:16 2005
Return-Path: <java-user-return-16709-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1261 invoked from network); 4 Oct 2005 22:23:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Oct 2005 22:23:16 -0000
Received: (qmail 60600 invoked by uid 500); 4 Oct 2005 22:23:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60572 invoked by uid 500); 4 Oct 2005 22:23:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60560 invoked by uid 99); 4 Oct 2005 22:23:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 15:23:11 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 15:23:14 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 7C0BC5B778; Tue,  4 Oct 2005 15:22:46 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP
	id 795CB7F474; Tue,  4 Oct 2005 15:22:46 -0700 (PDT)
Date: Tue, 4 Oct 2005 15:22:46 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org,
	Archie Cowan <archie.cowan@gmail.com>
Subject: Re: Threads locking around getFSDirectory
In-Reply-To: <dc5e88ed0510041515q17aeaf07sb8512f43ab0655b3@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0510041520400.3675@hal.rescomp.berkeley.edu>
References: <dc5e88ed0510041515q17aeaf07sb8512f43ab0655b3@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: How many IndexSearchers do people usually use in their applications?
: - In previous lucene versions, we found we had better concurrency using
: multiple IndexSearchers
: - Our current app uses an separate IndexSearcher for each thread (as needed)
: from a pool

In my experience, one "live" searcher is allways plenty, with an "on-deck"
searcher that is opened and used to warm up FieldCaches and filehandles
before being swaped over to replce the "live" searcher when updates have
been made.


: using the java nio package.... NioFSDirectory that offered better
: concurrency (
: http://mail-archives.apache.org/mod_mbox/lucene-java-dev/200505.mbox/%3C4295F65B.8030100@apache.org%3E).
: We haven't found this in the lucene repository... where or is this available
: for use?

I think this is what you are looking for, but i'm not familiar with it at
all...

	http://issues.apache.org/jira/browse/LUCENE-414


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16710-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 03:11:38 2005
Return-Path: <java-user-return-16710-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8443 invoked from network); 5 Oct 2005 03:11:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 03:11:38 -0000
Received: (qmail 8857 invoked by uid 500); 5 Oct 2005 03:11:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8826 invoked by uid 500); 5 Oct 2005 03:11:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8814 invoked by uid 99); 5 Oct 2005 03:11:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 20:11:33 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [66.51.199.81] (HELO mail5.dslextreme.com) (66.51.199.81)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 04 Oct 2005 20:11:36 -0700
Received: (qmail 23764 invoked from network); 5 Oct 2005 03:10:32 -0000
Received: from unknown (HELO x1000.msqr.us) (66.159.228.205)
	by mail5.dslextreme.com with (EDH-RSA-DES-CBC3-SHA encrypted) SMTP; Tue, 04 Oct 2005 20:10:32 -0700
Received: from x1000.msqr.us (x1000.msqr.us [127.0.0.1])
	by x1000.msqr.us (8.13.1/8.13.1) with ESMTP id j953AMXA020121
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <java-user@lucene.apache.org>; Tue, 4 Oct 2005 20:10:22 -0700
Received: (from apache@localhost)
	by x1000.msqr.us (8.13.1/8.13.1/Submit) id j953AJca020119;
	Tue, 4 Oct 2005 20:10:19 -0700
Received: from 204.56.114.43
        (SquirrelMail authenticated user matt);
        by msqr.us with HTTP;
        Tue, 4 Oct 2005 20:10:19 -0700 (PDT)
Message-ID: <50711.204.56.114.43.1128481819.squirrel@msqr.us>
Date: Tue, 4 Oct 2005 20:10:19 -0700 (PDT)
Subject: QueryParser exception on escaped double quote character
From: "Matt Magoffin" <apache.org@msqr.us>
To: java-user@lucene.apache.org
User-Agent: SquirrelMail/1.4.3a-12.EL4
X-Mailer: SquirrelMail/1.4.3a-12.EL4
MIME-Version: 1.0
Content-Type: text/plain;charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'm having a problem getting the QueryParser to correctly parse a string
like the following:

addr:"Foo \"Bar\" Street"

Should this work, or is there some other way to escape double quotes
within a quoted query term? Here is a unit test that shows the problem:

import junit.framework.TestCase;

import org.apache.lucene.analysis.standard.StandardAnalyzer;
import org.apache.lucene.queryParser.QueryParser;
import org.apache.lucene.search.Query;

public class TestQueryParser extends TestCase {

	public void testLuceneEscapedQuotesBug() throws Exception {
		// this fails
		Query q = new QueryParser("foo",new StandardAnalyzer()).parse(
			"addr:\"My \\\"A\\\" Street\"");
	}

}


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16711-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 03:24:11 2005
Return-Path: <java-user-return-16711-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21231 invoked from network); 5 Oct 2005 03:24:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 03:24:11 -0000
Received: (qmail 14171 invoked by uid 500); 5 Oct 2005 03:24:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14145 invoked by uid 500); 5 Oct 2005 03:24:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14134 invoked by uid 99); 5 Oct 2005 03:24:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 20:24:06 -0700
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=RCVD_BY_IP,RCVD_IN_BL_SPAMCOP_NET,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of chaiqiaozi@gmail.com designates 72.14.204.203 as permitted sender)
Received: from [72.14.204.203] (HELO qproxy.gmail.com) (72.14.204.203)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 20:24:11 -0700
Received: by qproxy.gmail.com with SMTP id c8so83561qbc
        for <java-user@lucene.apache.org>; Tue, 04 Oct 2005 20:23:45 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=kCEC4J+cTqjkzXaQkiiYkGNk+TZiySoIKwdQsRdj09u1zVG2CukAFiQXi2psZIaJmQAOVCD/NdGkL6hrYeRNP4tDVtUzpD+OqwHcXRMMl8ArAN1G8OM3mAB89zIbbBG/6p/Vstsqn+Q6irduxgbm5KwcGVa517W+ILfOId/nIuU=
Received: by 10.65.154.7 with SMTP id g7mr172348qbo;
        Tue, 04 Oct 2005 20:23:45 -0700 (PDT)
Received: by 10.65.159.15 with HTTP; Tue, 4 Oct 2005 20:23:45 -0700 (PDT)
Message-ID: <93a7e2f30510042023y562f6far@mail.gmail.com>
Date: Wed, 5 Oct 2005 11:23:45 +0800
From: chai qiaozi <chaiqiaozi@gmail.com>
Reply-To: chai qiaozi <chaiqiaozi@gmail.com>
To: java-user@lucene.apache.org
Subject: who could tell me the equation of the scoring in detail? i'm confused about two days
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

hello everyone,
   I'm a newer to lucence.
   I want to know the scoring algorithm in lucence. but  there are
many different explations aobut it, who may give me the scoring
equation in detail please?
   thank you in advance!

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16712-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 03:38:52 2005
Return-Path: <java-user-return-16712-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39759 invoked from network); 5 Oct 2005 03:38:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 03:38:52 -0000
Received: (qmail 22872 invoked by uid 500); 5 Oct 2005 03:38:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22847 invoked by uid 500); 5 Oct 2005 03:38:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22832 invoked by uid 99); 5 Oct 2005 03:38:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 20:38:48 -0700
X-ASF-Spam-Status: No, hits=2.9 required=10.0
	tests=FROM_ENDS_IN_NUMS,HTML_30_40,HTML_MESSAGE,RCVD_BY_IP,RCVD_IN_BL_SPAMCOP_NET,SPF_HELO_PASS,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of chenjian1227@gmail.com designates 72.14.204.198 as permitted sender)
Received: from [72.14.204.198] (HELO qproxy.gmail.com) (72.14.204.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 20:38:51 -0700
Received: by qproxy.gmail.com with SMTP id c8so86157qbc
        for <java-user@lucene.apache.org>; Tue, 04 Oct 2005 20:38:25 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=Q8zQZ/i2uhbZa+OZcsoGBK2auwbfZi9xSDXd1kz7wIAL+cP4hThYfS3ZwwO9zAPYBqmwftUEpc3eCp7sIQC2gU4UDElnn1a2Ge5vLcQH1053rmQ/x5qbljZuxU4iulTTQKw5gD/OwdYq2pDfC887BufC/aOzL/KccS9ixbJcZsA=
Received: by 10.65.154.7 with SMTP id g7mr178770qbo;
        Tue, 04 Oct 2005 20:38:25 -0700 (PDT)
Received: by 10.65.145.3 with HTTP; Tue, 4 Oct 2005 20:38:25 -0700 (PDT)
Message-ID: <7ca123910510042038h12dc7e97q39e7de103f0c0a68@mail.gmail.com>
Date: Tue, 4 Oct 2005 20:38:25 -0700
From: jian chen <chenjian1227@gmail.com>
Reply-To: jian chen <chenjian1227@gmail.com>
To: java-user@lucene.apache.org, chai qiaozi <chaiqiaozi@gmail.com>
Subject: Re: who could tell me the equation of the scoring in detail? i'm confused about two days
In-Reply-To: <93a7e2f30510042023y562f6far@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_3607_8436954.1128483505353"
References: <93a7e2f30510042023y562f6far@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_3607_8436954.1128483505353
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,

Lucene uses a variant version of vector space model for ranking the
documents.

You can look at
1)
http://lucene.apache.org/java/docs/api/org/apache/lucene/search/Similarity.=
htmlfor
the fomula,

2) there is an article some one wrote about the Lucene's Ranking function
vs. standard vsm. However, that link has been removed and I think it does
not exist anymore. I still keep a copy of that file, so, you may download i=
t
from my website at the following url:
http://jhsystems.net:9090/lucene_ranking.pdf

Let me know of any other problem.

Cheers,

Jian

On 10/4/05, chai qiaozi <chaiqiaozi@gmail.com> wrote:
>
> hello everyone,
> I'm a newer to lucence.
> I want to know the scoring algorithm in lucence. but there are
> many different explations aobut it, who may give me the scoring
> equation in detail please?
> thank you in advance!
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_3607_8436954.1128483505353--

From java-user-return-16713-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 04:04:35 2005
Return-Path: <java-user-return-16713-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68003 invoked from network); 5 Oct 2005 04:04:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 04:04:34 -0000
Received: (qmail 43676 invoked by uid 500); 5 Oct 2005 04:04:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43528 invoked by uid 500); 5 Oct 2005 04:04:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43517 invoked by uid 99); 5 Oct 2005 04:04:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 21:04:29 -0700
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=HTML_40_50,HTML_MESSAGE,RCVD_BY_IP,RCVD_IN_BL_SPAMCOP_NET,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 72.14.204.205 as permitted sender)
Received: from [72.14.204.205] (HELO qproxy.gmail.com) (72.14.204.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 21:04:32 -0700
Received: by qproxy.gmail.com with SMTP id c8so90595qbc
        for <java-user@lucene.apache.org>; Tue, 04 Oct 2005 21:04:06 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=Hs6KS2rh+F3L4liPB4zPki1a0xKWIZ1ytekKzTsPTuuTNpVmKjVGNx01YgrPC15n8fcrf8GEKG6NunHvY/ymA10vgKgkxOjHGF2gxWnPMKRwOHMJ7IiFyVIiUGz0KPPPHnfnoNcLovIL3zToWabU8lpN1qtLIRrskGm0I+wrsv4=
Received: by 10.65.112.20 with SMTP id p20mr191127qbm;
        Tue, 04 Oct 2005 21:04:06 -0700 (PDT)
Received: by 10.65.121.10 with HTTP; Tue, 4 Oct 2005 21:04:06 -0700 (PDT)
Message-ID: <c68e39170510042104t7d261bd1n13c8f455f205fb73@mail.gmail.com>
Date: Wed, 5 Oct 2005 00:04:06 -0400
From: Yonik Seeley <yseeley@gmail.com>
Reply-To: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: QueryParser exception on escaped double quote character
In-Reply-To: <50711.204.56.114.43.1128481819.squirrel@msqr.us>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_6264_30901783.1128485046907"
References: <50711.204.56.114.43.1128481819.squirrel@msqr.us>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_6264_30901783.1128485046907
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Unfortunately, the QueryParser doesn't handle any escaping inside a quoted
string.
http://www.mail-archive.com/java-user@lucene.apache.org/msg02354.html

-Yonik
Now hiring -- http://tinyurl.com/7m67g

On 10/4/05, Matt Magoffin <apache.org@msqr.us> wrote:
>
> I'm having a problem getting the QueryParser to correctly parse a string
> like the following:
>
> addr:"Foo \"Bar\" Street"
>
> Should this work, or is there some other way to escape double quotes
> within a quoted query term?

------=_Part_6264_30901783.1128485046907--

From java-user-return-16714-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 04:09:34 2005
Return-Path: <java-user-return-16714-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74357 invoked from network); 5 Oct 2005 04:09:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 04:09:34 -0000
Received: (qmail 46144 invoked by uid 500); 5 Oct 2005 04:09:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46115 invoked by uid 500); 5 Oct 2005 04:09:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46098 invoked by uid 99); 5 Oct 2005 04:09:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 21:09:29 -0700
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=HTML_50_60,HTML_MESSAGE,RCVD_BY_IP,RCVD_IN_BL_SPAMCOP_NET,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 72.14.204.206 as permitted sender)
Received: from [72.14.204.206] (HELO qproxy.gmail.com) (72.14.204.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Oct 2005 21:09:32 -0700
Received: by qproxy.gmail.com with SMTP id c8so91433qbc
        for <java-user@lucene.apache.org>; Tue, 04 Oct 2005 21:09:06 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=ayPnuFpglCgtCV0690Y5B+UseYPdJZL5j5gcGldx970NQAhA3y9yK9/OeVEnvLs94saxxVni6pFmYWDw0eFq9Qk8Cjjh7DWkwgKtrzGm1zxeVe1vDuMaJzokKrivpaMV4mbf2K/e6D/sWiQkLrUd8VfCVSvjawr48HqFGejKBs0=
Received: by 10.65.54.7 with SMTP id g7mr193608qbk;
        Tue, 04 Oct 2005 21:09:06 -0700 (PDT)
Received: by 10.65.121.10 with HTTP; Tue, 4 Oct 2005 21:09:06 -0700 (PDT)
Message-ID: <c68e39170510042109w49e0b77dsd1d14f408c34f7c8@mail.gmail.com>
Date: Wed, 5 Oct 2005 00:09:06 -0400
From: Yonik Seeley <yseeley@gmail.com>
Reply-To: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Sorting results by both score and date
In-Reply-To: <9239D85FA271BB4FBC6AE3D2AE8D685A1B3046@UKEXBE01.UK.CorpLAN.net>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_6373_21317763.1128485346408"
References: <9239D85FA271BB4FBC6AE3D2AE8D685A1B3046@UKEXBE01.UK.CorpLAN.net>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_6373_21317763.1128485346408
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Another way to tackle this could be FunctionQuery. It can create a score
based on the value of a field.

http://issues.apache.org/jira/browse/LUCENE-446

-Yonik
Now hiring -- http://tinyurl.com/7m67g

On 9/16/05, Tim.Wright@informa.com <Tim.Wright@informa.com> wrote:

> What I really want to do is sort by "A * (1-(B/700))", where A is the
> score, and B is the age (in days) of the document. IE - the score is
> basically "scaled down" with date.
>
>

------=_Part_6373_21317763.1128485346408--

From java-user-return-16715-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 07:41:36 2005
Return-Path: <java-user-return-16715-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39302 invoked from network); 5 Oct 2005 07:41:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 07:41:35 -0000
Received: (qmail 68829 invoked by uid 500); 5 Oct 2005 07:41:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68801 invoked by uid 500); 5 Oct 2005 07:41:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68790 invoked by uid 99); 5 Oct 2005 07:41:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 00:41:28 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [193.252.22.23] (HELO smtp8.wanadoo.fr) (193.252.22.23)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 00:41:32 -0700
Received: from me-wanadoo.net (localhost [127.0.0.1])
	by mwinf0804.wanadoo.fr (SMTP Server) with ESMTP id E8ED91C003E4
	for <java-user@lucene.apache.org>; Wed,  5 Oct 2005 09:41:04 +0200 (CEST)
Received: from [127.0.0.1] (AVelizy-115-2-1-38.w81-48.abo.wanadoo.fr [81.48.163.38])
	by mwinf0804.wanadoo.fr (SMTP Server) with ESMTP id B7F031C003CF
	for <java-user@lucene.apache.org>; Wed,  5 Oct 2005 09:41:04 +0200 (CEST)
X-ME-UUID: 20051005074104753.B7F031C003CF@mwinf0804.wanadoo.fr
Message-ID: <4343838F.7060605@jalios.com>
Date: Wed, 05 Oct 2005 09:41:03 +0200
From: Olivier Jaquemet <olivier.jaquemet@jalios.com>
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Renewing IndexSearcher on index change.
References: <434014AB.1040702@jalios.com> <4342A139.3050305@i-hypergrid.com> <4342A8E4.3030407@jalios.com> <4342ABB9.1090409@i-hypergrid.com> <4342B040.1020704@jalios.com> <p06210206bf6866c0eba2@[10.0.1.6]>
In-Reply-To: <p06210206bf6866c0eba2@[10.0.1.6]>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

J.J. Larrea wrote:

>At 6:39 PM +0200 10/4/05, Olivier Jaquemet wrote:
>  
>
>>In every case I think I will use this to prevent any problem but why nobody uses finalize methods? is it somehow bad to try to close things correctly that way?
>>    
>>
>
>Because they are not run under "brutal termination" conditions.  For that you need to add a shutdown hook to the Java runtime.  A shutdown hook will run if the runtime process receives a signal eg. SIGHUP which on Unix occurs if the controlling terminal "hangs up", etc. It won't get run on a SIGKILL, but nothing will.  It also runs if you get an OutOfMemoryException or similar problem in the runtime, though there is no guarantee the hook code e.g. close() won't also fail in that case.
>  
>
[...]

>I'm not sure whether this relates to the IndexSearcher problem you're trying to solve, but it is certainly useful when indexing.
>  
>
It does clarify a lot of things regarding proper use (close) of 
IndexWriter and IndexSearcher. thanks.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16716-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 08:02:56 2005
Return-Path: <java-user-return-16716-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46858 invoked from network); 5 Oct 2005 08:02:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 08:02:55 -0000
Received: (qmail 89964 invoked by uid 500); 5 Oct 2005 08:02:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89923 invoked by uid 500); 5 Oct 2005 08:02:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89898 invoked by uid 99); 5 Oct 2005 08:02:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 01:02:26 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [212.8.42.126] (HELO jdevoff.zssm.zp.ua) (212.8.42.126)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 01:02:27 -0700
Received: from jdevoff.zssm.zp.ua (localhost [127.0.0.1])
	by jdevoff.zssm.zp.ua (8.13.3/8.13.3) with ESMTP id j958117u000965;
	Wed, 5 Oct 2005 11:01:01 +0300 (EEST)
	(envelope-from eugenydzh@jdevelop.com)
Received: (from bofh@localhost)
	by jdevoff.zssm.zp.ua (8.13.3/8.13.3/Submit) id j95810d6000964;
	Wed, 5 Oct 2005 11:01:00 +0300 (EEST)
	(envelope-from eugenydzh@jdevelop.com)
X-Authentication-Warning: jdevoff.zssm.zp.ua: bofh set sender to eugenydzh@jdevelop.com using -f
Date: Wed, 5 Oct 2005 11:01:00 +0300
From: Eugeny N Dzhurinsky <eugenydzh@jdevelop.com>
To: java-user@lucene.apache.org
Subject: partial reindex
Message-ID: <20051005080100.GD457@jdevoff.zssm.zp.ua>
Mime-Version: 1.0
Content-Type: text/plain; charset=koi8-r
Content-Disposition: inline
User-Agent: Mutt/1.5.11
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Is it possible somehow to change some partial fields in indexed documents
without reindexing all documents?

The thing is we have set of "searchable" documents and set of access
privileges (which builds the tree-like structure, i'e access privileges could be 
inherited from parent node) for these documents. I was supposed to provide 
some "keyword" when indexing documents, which keyword will be "flatten" rights, 
i'e privileges merged from parent nodes (if required), in the same way as it is
described in the Lucene in action book appendix (SecurityFilterTest).

But if some of parent nodes changes, I need to reindex underlying documents,
in the worst case - if root node is changed, whole set of documents needs to be
reindexed, which could take a lot of time.

So if it is possible to reindex only specified field in document index - it
will be great, if it is possible to reindex some specified field in specified
set of documents - it will do the best for me.

-- 
Eugene N Dzhurinsky

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16732-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 16:50:58 2005
Return-Path: <java-user-return-16732-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32495 invoked from network); 5 Oct 2005 16:50:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 16:50:58 -0000
Received: (qmail 43541 invoked by uid 500); 5 Oct 2005 13:57:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43442 invoked by uid 500); 5 Oct 2005 13:57:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43431 invoked by uid 99); 5 Oct 2005 13:57:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 06:57:33 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.11.95] (HELO smtp006.mail.ukl.yahoo.com) (217.12.11.95)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 05 Oct 2005 06:57:35 -0700
Received: (qmail 40408 invoked from network); 5 Oct 2005 13:57:03 -0000
Received: from unknown (HELO ME) (directcareer@82.33.132.136 with login)
  by smtp006.mail.ukl.yahoo.com with SMTP; 5 Oct 2005 13:57:03 -0000
Message-ID: <016b01c5c9b4$5dbad9f0$0802a8c0@ME>
Reply-To: "Cyril Barlow" <info@fantasyfooty.org>
From: "Cyril Barlow" <info@fantasyfooty.org>
To: <java-user@lucene.apache.org>
References: <00cd01c5c9ae$d7af2780$0802a8c0@ME> <1DD0177B-91D8-4B2E-BCDE-07DEE558E826@ehatchersolutions.com>
Subject: Re: IndexSearcher in servlet containers
Date: Wed, 5 Oct 2005 14:54:52 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks all for your feedback. I'm going to look at building a dedicated
server that keeps one IndexSearcher open and each servlet would use that.
Either that or look deeper into the Jetty framework to see if I can simply
invoke a global IndexSearcher when the server starts and use that. Not quite
sure how. Luc, DelayCloseIndexSearcher looks like something that might be of
help - I'll have a look at that as well.

Cheers


		
___________________________________________________________ 
To help you stay safe and secure online, we've developed the all new Yahoo! Security Centre. http://uk.security.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16720-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 16:51:12 2005
Return-Path: <java-user-return-16720-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32639 invoked from network); 5 Oct 2005 16:51:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 16:51:12 -0000
Received: (qmail 23215 invoked by uid 500); 5 Oct 2005 12:43:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23141 invoked by uid 500); 5 Oct 2005 12:43:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23130 invoked by uid 99); 5 Oct 2005 12:43:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 05:43:07 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 05:43:10 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id EDED213E2033; Wed,  5 Oct 2005 08:42:41 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 31D8113E2007
	for <java-user@lucene.apache.org>; Wed,  5 Oct 2005 08:42:03 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <20051005113829.GA59420@jdevoff.zssm.zp.ua>
References: <20051005080100.GD457@jdevoff.zssm.zp.ua> <70FACC95-878A-4A0A-BBA5-187B1871E26B@ehatchersolutions.com> <20051005113829.GA59420@jdevoff.zssm.zp.ua>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <58431494-1EA4-48F6-A7C6-4777FE2E89C2@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: partial reindex
Date: Wed, 5 Oct 2005 08:38:21 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.8 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Oct 5, 2005, at 7:38 AM, Eugeny N Dzhurinsky wrote:
> On Wed, Oct 05, 2005 at 07:03:45AM -0400, Erik Hatcher wrote:
>
>> On Oct 5, 2005, at 4:01 AM, Eugeny N Dzhurinsky wrote:
>>
>>> Is it possible somehow to change some partial fields in indexed
>>> documents without reindexing all documents?
>>>
>> No, not with Lucene 1.4.3.  But the Subversion trunk has a feature
>> that can facilitate this sort of thing by building two indexes, one
>> with the data and one with the security information.  Look at
>> ParallelReader and it's javadocs.
>>
>
> Ok, thanks, I will review things you mentioned. But could Lucene  
> mix up 2
> indexes in single query?

Using ParallelReader - yes.  Read the javadocs to learn more.

>> However, for data like permissions, ACL's, groups, etc, it may be
>> better to keep the information where it originally resides and have a
>> Filter that accesses the external data.  It would likely be easier
>> and quicker to re-instantiate Filter's than to rebuild a security
>> index and less duplication.
>>
>
> But what about the case if only 1 result is allowed to be displayed by
> application, but there are thousands of hits, which needs to be  
> filtered for
> ACLs?

Filters may be expensive to create, but once created and cached they  
are rapid.  Each user, for example, may have their own associated  
filter.  Or each group, or something like that.  You'd only need to  
rebuild the filters when permissions changed, but that may be better  
than rebuilding an index.

> As far as I understand, this can be the pain, because Lucene keeps  
> the results
> in memory, correct?

Results?!  As in Hits?  No.   Filters, yes, perhaps.  Architecturally  
that is your decision though.

> So it is better to find solution for pre-filtering rather
> than post-filtering, since last one could be resource-expensive.

I recommend trying it out and seeing if it works for you.

> May be you
> could suggest some another index/search engines?

I'm a little too biased for that :)

     Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16733-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 17:04:08 2005
Return-Path: <java-user-return-16733-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49373 invoked from network); 5 Oct 2005 17:04:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 17:04:08 -0000
Received: (qmail 60484 invoked by uid 500); 5 Oct 2005 14:10:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60296 invoked by uid 500); 5 Oct 2005 14:10:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60142 invoked by uid 99); 5 Oct 2005 14:10:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 07:10:39 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [145.253.241.43] (HELO mail.hauk-sasko.de) (145.253.241.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 07:10:41 -0700
Received: from homer.hauk-sasko.de (core1 [172.19.1.103])
	by mail.hauk-sasko.de (Postfix) with ESMTP id F1235B4B4
	for <java-user@lucene.apache.org>; Wed,  5 Oct 2005 16:10:27 +0200 (CEST)
Received: from core1 (localhost [127.0.0.1])
	by localhost (Postfix) with SMTP id B70C911F7
	for <java-user@lucene.apache.org>; Wed,  5 Oct 2005 16:10:13 +0200 (CEST)
Received: by homer.hauk-sasko.de (Postfix, from userid 1050)
	id A898111F4; Wed,  5 Oct 2005 16:10:13 +0200 (CEST)
Received: from [172.19.3.123] (lx-el.hauk-sasko.de [172.19.3.123])
	by homer.hauk-sasko.de (Postfix) with ESMTP id 8D7A62CA
	for <java-user@lucene.apache.org>; Wed,  5 Oct 2005 16:10:13 +0200 (CEST)
Message-ID: <4343DEC5.4000908@hauk-sasko.de>
Date: Wed, 05 Oct 2005 16:10:13 +0200
From: Eric Louvard <eric.louvard@hauk-sasko.de>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: fr-fr, de-de, en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: IndexWriter.optimize() need to much time.
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Level: 
X-Spam-Checker-Version: SpamAssassin 2.55 (1.174.2.19-2003-05-19-exp)
X-Sanitizer: This message has been sanitized!
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, hits=-105.4 required=4.0
	tests=BAYES_01,USER_AGENT_MOZILLA_UA,USER_IN_WHITELIST
	version=2.55
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

my problem is that IndexWriter.optimize() take 20 minutes. OK it is not 
a lot of time, but I can't allow me to block the system such a long time 
:-(.
I don't know when I can take the time for optimize().

Has someone allready find a workarround for this problem ?
Is it possible to make a sleep in the 'optimize() while' so that the 
index is avaible for another Thread ? Would it be usefull ?

thanks
    Éric.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16721-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 17:04:56 2005
Return-Path: <java-user-return-16721-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50663 invoked from network); 5 Oct 2005 17:04:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 17:04:55 -0000
Received: (qmail 51386 invoked by uid 500); 5 Oct 2005 12:56:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51359 invoked by uid 500); 5 Oct 2005 12:56:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51340 invoked by uid 99); 5 Oct 2005 12:56:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 05:56:50 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [212.8.42.126] (HELO jdevoff.zssm.zp.ua) (212.8.42.126)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 05:56:54 -0700
Received: from jdevoff.zssm.zp.ua (localhost [127.0.0.1])
	by jdevoff.zssm.zp.ua (8.13.3/8.13.3) with ESMTP id j95CuJUg010442;
	Wed, 5 Oct 2005 15:56:20 +0300 (EEST)
	(envelope-from eugenydzh@jdevelop.com)
Received: (from bofh@localhost)
	by jdevoff.zssm.zp.ua (8.13.3/8.13.3/Submit) id j95CuJrg010441;
	Wed, 5 Oct 2005 15:56:19 +0300 (EEST)
	(envelope-from eugenydzh@jdevelop.com)
X-Authentication-Warning: jdevoff.zssm.zp.ua: bofh set sender to eugenydzh@jdevelop.com using -f
Date: Wed, 5 Oct 2005 15:56:19 +0300
From: Eugeny N Dzhurinsky <eugenydzh@jdevelop.com>
To: java-user@lucene.apache.org
Subject: Re: partial reindex
Message-ID: <20051005125619.GC59420@jdevoff.zssm.zp.ua>
References: <20051005080100.GD457@jdevoff.zssm.zp.ua> <70FACC95-878A-4A0A-BBA5-187B1871E26B@ehatchersolutions.com> <20051005113829.GA59420@jdevoff.zssm.zp.ua> <58431494-1EA4-48F6-A7C6-4777FE2E89C2@ehatchersolutions.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=koi8-r
Content-Disposition: inline
In-Reply-To: <58431494-1EA4-48F6-A7C6-4777FE2E89C2@ehatchersolutions.com>
User-Agent: Mutt/1.5.11
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Wed, Oct 05, 2005 at 08:38:21AM -0400, Erik Hatcher wrote:
> > But could Lucene mix up 2 indexes in single query?
> Using ParallelReader - yes.  Read the javadocs to learn more.

May be MultiReader? I didn't find ParallelReader in my API docs for Lucene
1.4.3.

Im'm trying to think in this way:

let's say we have index of documents, each document has it's own unique ID.
and we have another index of ACLs for each document. Is it possible to use
some kind of "join" for the document index and for the ACL index, and create
search query, which will instantly validate the ACL for document, using UID
key in both document index and acl index?

I'm just trying to avoid post-filtering at all.

P.S. Really useful book, I like it.

-- 
Eugene N Dzhurinsky

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16722-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 17:07:44 2005
Return-Path: <java-user-return-16722-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54662 invoked from network); 5 Oct 2005 17:07:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 17:07:43 -0000
Received: (qmail 58711 invoked by uid 500); 5 Oct 2005 12:59:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58691 invoked by uid 500); 5 Oct 2005 12:59:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58680 invoked by uid 99); 5 Oct 2005 12:59:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 05:59:38 -0700
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,NO_REAL_NAME,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of rrshwrk@gmail.com designates 72.14.204.207 as permitted sender)
Received: from [72.14.204.207] (HELO qproxy.gmail.com) (72.14.204.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 05:59:42 -0700
Received: by qproxy.gmail.com with SMTP id a10so146115qbd
        for <java-user@lucene.apache.org>; Wed, 05 Oct 2005 05:59:17 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=LbA+pXHRB4+CFgWXkBiYWU4lymKtB1XWpVG0rp76AqcDpveqFUDOYDLKmPLGvd+MRK+tQSz61pegaVDwsdCwkAlJkeEa/0lg4wUklz1TKfWfo9KP7U7AGEOSqw7x3om7mG/EyW3JJ+Un7fQ3rlfywtf1oKLCfOSCmB0I8QkZY0w=
Received: by 10.64.152.9 with SMTP id z9mr409736qbd;
        Wed, 05 Oct 2005 05:59:17 -0700 (PDT)
Received: by 10.64.210.14 with HTTP; Wed, 5 Oct 2005 05:59:17 -0700 (PDT)
Message-ID: <bf155c6c0510050559o10274075vd11c9d8a3e69d0e6@mail.gmail.com>
Date: Wed, 5 Oct 2005 18:29:17 +0530
From:  <rrshwrk@gmail.com>
Reply-To: rrshwrk@gmail.com
To: java-user@lucene.apache.org
Subject: Regarding Lucene and LSI
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_22914_6848966.1128517157029"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_22914_6848966.1128517157029
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi all,

I am looking for LSI implementation i lucene. Is it available. I couldnt
find it in the website. I searched in the archives but no help. could some
one tell me if it is available or not.

Could you tell me where can i see to find if there are any Language
processing tools for Indexing and retrieval stuff available in Lucene

thanks

------=_Part_22914_6848966.1128517157029--

From java-user-return-16717-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 17:11:40 2005
Return-Path: <java-user-return-16717-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62014 invoked from network); 5 Oct 2005 17:11:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 17:11:40 -0000
Received: (qmail 16042 invoked by uid 500); 5 Oct 2005 11:30:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16013 invoked by uid 500); 5 Oct 2005 11:30:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15972 invoked by uid 99); 5 Oct 2005 11:30:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 04:30:49 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 04:04:32 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id D5E9513E2007; Wed,  5 Oct 2005 07:04:03 -0400 (EDT)
Received: from [172.16.1.101] (va-71-48-138-146.dhcp.sprint-hsd.net [71.48.138.146])
	by ehatchersolutions.com (Postfix) with ESMTP id 80C9E13E2007
	for <java-user@lucene.apache.org>; Wed,  5 Oct 2005 07:03:46 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <20051005080100.GD457@jdevoff.zssm.zp.ua>
References: <20051005080100.GD457@jdevoff.zssm.zp.ua>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <70FACC95-878A-4A0A-BBA5-187B1871E26B@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: partial reindex
Date: Wed, 5 Oct 2005 07:03:45 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Oct 5, 2005, at 4:01 AM, Eugeny N Dzhurinsky wrote:
> Is it possible somehow to change some partial fields in indexed  
> documents
> without reindexing all documents?

No, not with Lucene 1.4.3.  But the Subversion trunk has a feature  
that can facilitate this sort of thing by building two indexes, one  
with the data and one with the security information.  Look at  
ParallelReader and it's javadocs.

> The thing is we have set of "searchable" documents and set of access
> privileges (which builds the tree-like structure, i'e access  
> privileges could be
> inherited from parent node) for these documents. I was supposed to  
> provide
> some "keyword" when indexing documents, which keyword will be  
> "flatten" rights,
> i'e privileges merged from parent nodes (if required), in the same  
> way as it is
> described in the Lucene in action book appendix (SecurityFilterTest).

However, for data like permissions, ACL's, groups, etc, it may be  
better to keep the information where it originally resides and have a  
Filter that accesses the external data.  It would likely be easier  
and quicker to re-instantiate Filter's than to rebuild a security  
index and less duplication.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16723-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 17:13:47 2005
Return-Path: <java-user-return-16723-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65565 invoked from network); 5 Oct 2005 17:13:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 17:13:46 -0000
Received: (qmail 64425 invoked by uid 500); 5 Oct 2005 13:05:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64406 invoked by uid 500); 5 Oct 2005 13:05:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64395 invoked by uid 99); 5 Oct 2005 13:05:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 06:05:42 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of TAigner@wescodist.com designates 12.29.179.202 as permitted sender)
Received: from [12.29.179.202] (HELO mail01.wescodist.com) (12.29.179.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 06:05:45 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Optimization
Date: Wed, 5 Oct 2005 09:05:19 -0400
Message-ID: <14FBF41EF1411B45B2EC4ADEAC53D131040BF321@MAIL01.wescodist.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Optimization
Thread-Index: AcXJqmgE2yVAVnpBTqiuXwSkgZkiDQAAMBiQ
From: "Aigner, Thomas" <TAigner@WescoDist.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Howdy all,

	Have a question.. Is there any obvious things that can be done
to help speed up query lookups especially wildcard searches (i.e.
*lamps). =20
	We have created a server application on a linux box that listens
to a socket and processes searches as they come in.  We thought that you
should only have one Index Searcher instantiated at a time but this
caused some result set issues so we create a new Index Searcher each
time a query comes in.  (Should this be the case?)  Also, when we scale
up our stress test to 8+ users at the same time, we are seeing large
latency issues from when we call the search to getting results
(eventhough the search lookup time itself is normally very fast except
wildcard lookups).  I am thinking that perhaps there is a queuing method
on the search waiting for resources to do the actual lookup? =20

	If any of you have run into a problem akin to this, please don't
hesitate reply with ideas and set me straight as to what I am doing
wrong.

We have played with java heap size but it seems that the memory size of
the java pool does not seem to help with speed too much, just with
looking up with the too many clauses exceptions.

Hope this is not too vague..
Thanks all ahead of time,
Tom


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16734-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 17:14:42 2005
Return-Path: <java-user-return-16734-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67314 invoked from network); 5 Oct 2005 17:14:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 17:14:42 -0000
Received: (qmail 80844 invoked by uid 500); 5 Oct 2005 14:21:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80800 invoked by uid 500); 5 Oct 2005 14:21:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80769 invoked by uid 99); 5 Oct 2005 14:21:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 07:21:17 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.35.35.7] (HELO mailgw3a.lmco.com) (192.35.35.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 07:21:21 -0700
Received: from emss04g01.ems.lmco.com (relay4.ems.lmco.com [166.17.13.122])
	by mailgw3a.lmco.com (8.12.10/8.12.10) with ESMTP id j95EKtbW005984
	for <java-user@lucene.apache.org>; Wed, 5 Oct 2005 10:20:55 -0400 (EDT)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30884)
 id <0INW0090156VR3@lmco.com> for java-user@lucene.apache.org; Wed, 05 Oct 2005 10:20:55 -0400 (EDT)
Received: from EMSS10M01.us.lmco.com ([158.187.0.150]) by lmco.com (PMDF V6.1-1X6 #30884)
 with ESMTP id <0INW000YP56UN5@lmco.com> for java-user@lucene.apache.org; Wed, 05 Oct 2005 10:20:55 -0400 (EDT)
Received: from EMSS10M03.us.lmco.com ([158.187.0.148]) by EMSS10M01.us.lmco.com with Microsoft SMTPSVC(5.0.2195.6713); Wed,
 05 Oct 2005 10:20:54 -0400
Date: Wed, 05 Oct 2005 10:20:31 -0400
From: "Mordo, Aviran (EXP N-NANNATEK)" <aviran.mordo@lmco.com>
Subject: RE: IndexWriter.optimize() need to much time.
To: java-user@lucene.apache.org
Message-id: <92A278501EF50444AD3EE1FFB51219550BCE3987@emss10m03.rck.atm.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: quoted-printable
Thread-Topic: IndexWriter.optimize() need to much time.
thread-index: AcXJtpeDHCBiFDU2QWuaHb1nL2sBuAAATMLg
Content-Class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 05 Oct 2005 14:20:54.0535 (UTC) FILETIME=[FF0FC970:01C5C9B7]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

The index is available for search even during optimization, you should =
not have any problem with that.

Aviran
http://www.aviransplace.com

-----Original Message-----
From: Eric Louvard [mailto:eric.louvard@hauk-sasko.de]=20
Sent: Wednesday, October 05, 2005 10:10 AM
To: java-user@lucene.apache.org
Subject: IndexWriter.optimize() need to much time.

Hello,

my problem is that IndexWriter.optimize() take 20 minutes. OK it is not =
a lot of time, but I can't allow me to block the system such a long time =
:-(.
I don't know when I can take the time for optimize().

Has someone allready find a workarround for this problem ?
Is it possible to make a sleep in the 'optimize() while' so that the =
index is avaible for another Thread ? Would it be usefull ?

thanks
    =C9ric.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16718-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 17:15:03 2005
Return-Path: <java-user-return-16718-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67657 invoked from network); 5 Oct 2005 17:15:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 17:15:03 -0000
Received: (qmail 34486 invoked by uid 500); 5 Oct 2005 11:38:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34466 invoked by uid 500); 5 Oct 2005 11:38:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34451 invoked by uid 99); 5 Oct 2005 11:38:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 04:38:58 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [212.8.42.126] (HELO jdevoff.zssm.zp.ua) (212.8.42.126)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 04:39:01 -0700
Received: from jdevoff.zssm.zp.ua (localhost [127.0.0.1])
	by jdevoff.zssm.zp.ua (8.13.3/8.13.3) with ESMTP id j95BcUx8060954;
	Wed, 5 Oct 2005 14:38:30 +0300 (EEST)
	(envelope-from eugenydzh@jdevelop.com)
Received: (from bofh@localhost)
	by jdevoff.zssm.zp.ua (8.13.3/8.13.3/Submit) id j95BcUNX060953;
	Wed, 5 Oct 2005 14:38:30 +0300 (EEST)
	(envelope-from eugenydzh@jdevelop.com)
X-Authentication-Warning: jdevoff.zssm.zp.ua: bofh set sender to eugenydzh@jdevelop.com using -f
Date: Wed, 5 Oct 2005 14:38:29 +0300
From: Eugeny N Dzhurinsky <eugenydzh@jdevelop.com>
To: java-user@lucene.apache.org
Subject: Re: partial reindex
Message-ID: <20051005113829.GA59420@jdevoff.zssm.zp.ua>
References: <20051005080100.GD457@jdevoff.zssm.zp.ua> <70FACC95-878A-4A0A-BBA5-187B1871E26B@ehatchersolutions.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=koi8-r
Content-Disposition: inline
In-Reply-To: <70FACC95-878A-4A0A-BBA5-187B1871E26B@ehatchersolutions.com>
User-Agent: Mutt/1.5.11
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Wed, Oct 05, 2005 at 07:03:45AM -0400, Erik Hatcher wrote:
> On Oct 5, 2005, at 4:01 AM, Eugeny N Dzhurinsky wrote:
> >Is it possible somehow to change some partial fields in indexed  
> >documents without reindexing all documents?
> No, not with Lucene 1.4.3.  But the Subversion trunk has a feature  
> that can facilitate this sort of thing by building two indexes, one  
> with the data and one with the security information.  Look at  
> ParallelReader and it's javadocs.

Ok, thanks, I will review things you mentioned. But could Lucene mix up 2
indexes in single query?

> >The thing is we have set of "searchable" documents and set of access
> >privileges (which builds the tree-like structure, i'e access  
> >privileges could be
> >inherited from parent node) for these documents. I was supposed to  
> >provide
> >some "keyword" when indexing documents, which keyword will be  
> >"flatten" rights,
> >i'e privileges merged from parent nodes (if required), in the same  
> >way as it is
> >described in the Lucene in action book appendix (SecurityFilterTest).
> 
> However, for data like permissions, ACL's, groups, etc, it may be  
> better to keep the information where it originally resides and have a  
> Filter that accesses the external data.  It would likely be easier  
> and quicker to re-instantiate Filter's than to rebuild a security  
> index and less duplication.

But what about the case if only 1 result is allowed to be displayed by
application, but there are thousands of hits, which needs to be filtered for
ACLs?

As far as I understand, this can be the pain, because Lucene keeps the results
in memory, correct? So it is better to find solution for pre-filtering rather
than post-filtering, since last one could be resource-expensive. May be you
could suggest some another index/search engines?

-- 
Eugene N Dzhurinsky

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16740-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 17:16:09 2005
Return-Path: <java-user-return-16740-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70082 invoked from network); 5 Oct 2005 17:16:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 17:16:08 -0000
Received: (qmail 77980 invoked by uid 500); 5 Oct 2005 17:16:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77948 invoked by uid 500); 5 Oct 2005 17:16:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77933 invoked by uid 99); 5 Oct 2005 17:16:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 10:16:01 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=TO_ADDRESS_EQ_REAL
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [148.87.122.31] (HELO rgminet02.oracle.com) (148.87.122.31)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 10:16:04 -0700
Received: from rgmsgw301.us.oracle.com (rgmsgw301.us.oracle.com [138.1.186.50])
	by rgminet02.oracle.com (Switch-3.1.6/Switch-3.1.7) with ESMTP id j95HFbNR004904
	for <java-user@lucene.apache.org>; Wed, 5 Oct 2005 11:15:37 -0600
Received: from rgmsgw301.us.oracle.com (localhost [127.0.0.1])
	by rgmsgw301.us.oracle.com (Switch-3.1.7/Switch-3.1.7) with ESMTP id j95HFbTT002606
	for <java-user@lucene.apache.org>; Wed, 5 Oct 2005 11:15:37 -0600
Received: from us.oracle.com (dhcp-4op5-4op6-west-144-25-174-214.dhcpamer.oracle.com [144.25.174.214])
	by rgmsgw301.us.oracle.com (Switch-3.1.7/Switch-3.1.7) with ESMTP id j95HFa2C002599
	(version=TLSv1/SSLv3 cipher=EDH-RSA-DES-CBC3-SHA bits=168 verify=NO)
	for <java-user@lucene.apache.org>; Wed, 5 Oct 2005 11:15:36 -0600
From: houyang <hui.ouyang@oracle.com>
Reply-To: "hui.ouyang@oracle.com" <hui.ouyang@oracle.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Subject: RE: partial reindex
Date: Wed, 5 Oct 2005 10:14:05 -0700
Organization: st
In-Reply-To: <70FACC95-878A-4A0A-BBA5-187B1871E26B@ehatchersolutions.com>
X-Mailer: Oracle Connector for Outlook 10.1.1.0.2 70418 (11.0.5608)
Message-ID: <20051005101406125.00000003632@huixp>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable
X-Brightmail-Tracker: AAAAAQAAAAI=
X-Whitelist: TRUE
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Erik
Practically it is a big performance issue by access external security data =
through filter. And it could take even longer than the end user could wait.=

It is true that it is an extra cost to rebuild the security index but it se=
ems there are no other better options.

Regards,
hui
-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com] =

Sent: Wednesday, October 05, 2005 4:04 AM
To: java-user@lucene.apache.org
Subject: Re: partial reindex


On Oct 5, 2005, at 4:01 AM, Eugeny N Dzhurinsky wrote:
> Is it possible somehow to change some partial fields in indexed
> documents
> without reindexing all documents?

No, not with Lucene 1.4.3.  But the Subversion trunk has a feature
that can facilitate this sort of thing by building two indexes, one
with the data and one with the security information.  Look at
ParallelReader and it's javadocs.

> The thing is we have set of "searchable" documents and set of access
> privileges (which builds the tree-like structure, i'e access
> privileges could be
> inherited from parent node) for these documents. I was supposed to
> provide
> some "keyword" when indexing documents, which keyword will be
> "flatten" rights,
> i'e privileges merged from parent nodes (if required), in the same
> way as it is
> described in the Lucene in action book appendix (SecurityFilterTest).

However, for data like permissions, ACL's, groups, etc, it may be
better to keep the information where it originally resides and have a
Filter that accesses the external data.  It would likely be easier
and quicker to re-instantiate Filter's than to rebuild a security
index and less duplication.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16719-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 17:17:37 2005
Return-Path: <java-user-return-16719-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71986 invoked from network); 5 Oct 2005 17:17:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 17:17:37 -0000
Received: (qmail 38811 invoked by uid 500); 5 Oct 2005 11:41:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38577 invoked by uid 500); 5 Oct 2005 11:41:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38566 invoked by uid 99); 5 Oct 2005 11:41:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 04:41:31 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [147.83.41.105] (HELO mail.fib.upc.es) (147.83.41.105)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 04:41:35 -0700
Received: from [147.83.58.160] (tarragona.fib.upc.es [147.83.58.160])
	by mail.fib.upc.es (Postfix) with ESMTP id 1F6131BB5E
	for <java-user@lucene.apache.org>; Wed,  5 Oct 2005 13:40:09 +0200 (CEST)
Message-ID: <4343BB98.4010901@fib.upc.edu>
Date: Wed, 05 Oct 2005 13:40:08 +0200
From: Daniel Cortes <dcortes@fib.upc.edu>
Organization: FIB
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Multiple Index in other machine
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Scaned-FIB: AntiVirus/AntiSpam en fib.upc.es
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi, I want to know about your experience about indexs used by others 
machines.

I have a multiple index in a Machine, and I search in these indexes with 
a Multisearcher. Now I new to add another computer to the platform and I 
don't know well how can I do to have this multiple index accessible for 
the second computer. These indexes would can be writed by all the computers.

Excuse for my bad english. thks for any advice.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16735-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 17:18:10 2005
Return-Path: <java-user-return-16735-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72370 invoked from network); 5 Oct 2005 17:18:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 17:18:09 -0000
Received: (qmail 81167 invoked by uid 500); 5 Oct 2005 14:21:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81136 invoked by uid 500); 5 Oct 2005 14:21:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81111 invoked by uid 99); 5 Oct 2005 14:21:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 07:21:19 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.11.96] (HELO smtp007.mail.ukl.yahoo.com) (217.12.11.96)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 05 Oct 2005 07:21:22 -0700
Received: (qmail 90681 invoked from network); 5 Oct 2005 14:20:55 -0000
Received: from unknown (HELO ME) (directcareer@82.33.132.136 with login)
  by smtp007.mail.ukl.yahoo.com with SMTP; 5 Oct 2005 14:20:55 -0000
Message-ID: <01a701c5c9b7$b3103870$0802a8c0@ME>
Reply-To: "Cyril Barlow" <info@fantasyfooty.org>
From: "Cyril Barlow" <info@fantasyfooty.org>
To: <java-user@lucene.apache.org>
References: <4343DEC5.4000908@hauk-sasko.de>
Subject: Re: IndexWriter.optimize() need to much time.
Date: Wed, 5 Oct 2005 15:18:45 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Just use 2 different indices? One temp one that is being optimized and one
current being used. Then switch the paths on your application when the temp
one is ready.

----- Original Message -----
From: "Eric Louvard" <eric.louvard@hauk-sasko.de>
To: <java-user@lucene.apache.org>
Sent: Wednesday, October 05, 2005 3:10 PM
Subject: IndexWriter.optimize() need to much time.


> Hello,
>
> my problem is that IndexWriter.optimize() take 20 minutes. OK it is not
> a lot of time, but I can't allow me to block the system such a long time
> :-(.
> I don't know when I can take the time for optimize().
>
> Has someone allready find a workarround for this problem ?
> Is it possible to make a sleep in the 'optimize() while' so that the
> index is avaible for another Thread ? Would it be usefull ?
>
> thanks
>     Éric.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


		
___________________________________________________________ 
How much free photo storage do you get? Store your holiday 
snaps for FREE with Yahoo! Photos http://uk.photos.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16736-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 17:20:18 2005
Return-Path: <java-user-return-16736-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75160 invoked from network); 5 Oct 2005 17:20:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 17:20:17 -0000
Received: (qmail 93296 invoked by uid 500); 5 Oct 2005 14:26:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93274 invoked by uid 500); 5 Oct 2005 14:26:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93263 invoked by uid 99); 5 Oct 2005 14:26:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 07:26:53 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [145.253.241.43] (HELO mail.hauk-sasko.de) (145.253.241.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 07:26:56 -0700
Received: from homer.hauk-sasko.de (core1 [172.19.1.103])
	by mail.hauk-sasko.de (Postfix) with ESMTP id C5B54B4B4
	for <java-user@lucene.apache.org>; Wed,  5 Oct 2005 16:26:44 +0200 (CEST)
Received: from core1 (localhost [127.0.0.1])
	by localhost (Postfix) with SMTP id 8D94511F9
	for <java-user@lucene.apache.org>; Wed,  5 Oct 2005 16:26:30 +0200 (CEST)
Received: by homer.hauk-sasko.de (Postfix, from userid 1050)
	id 729E611F7; Wed,  5 Oct 2005 16:26:30 +0200 (CEST)
Received: from [172.19.3.123] (lx-el.hauk-sasko.de [172.19.3.123])
	by homer.hauk-sasko.de (Postfix) with ESMTP id 55DB72CA
	for <java-user@lucene.apache.org>; Wed,  5 Oct 2005 16:26:30 +0200 (CEST)
Message-ID: <4343E296.4090307@hauk-sasko.de>
Date: Wed, 05 Oct 2005 16:26:30 +0200
From: Eric Louvard <eric.louvard@hauk-sasko.de>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: fr-fr, de-de, en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: IndexWriter.optimize() need to much time.
References: <92A278501EF50444AD3EE1FFB51219550BCE3987@emss10m03.rck.atm.lmco.com>
In-Reply-To: <92A278501EF50444AD3EE1FFB51219550BCE3987@emss10m03.rck.atm.lmco.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Level: 
X-Spam-Checker-Version: SpamAssassin 2.55 (1.174.2.19-2003-05-19-exp)
X-Sanitizer: This message has been sanitized!
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, hits=-106.3 required=4.0
	tests=BAYES_01,EMAIL_ATTRIBUTION,IN_REP_TO,REFERENCES,
	      REPLY_WITH_QUOTES,USER_AGENT_MOZILLA_UA,USER_IN_WHITELIST
	version=2.55
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Of course I can acces IndexReader, but I need to acces IndexWriter 
during optimization.
If I am using a 'temp-index' I need to merge it with the optimized index 
how can I do it ?

Thanks.
    Éric

Mordo, Aviran (EXP N-NANNATEK) wrote:

>The index is available for search even during optimization, you should not have any problem with that.
>
>Aviran
>http://www.aviransplace.com
>
>-----Original Message-----
>From: Eric Louvard [mailto:eric.louvard@hauk-sasko.de] 
>Sent: Wednesday, October 05, 2005 10:10 AM
>To: java-user@lucene.apache.org
>Subject: IndexWriter.optimize() need to much time.
>
>Hello,
>
>my problem is that IndexWriter.optimize() take 20 minutes. OK it is not a lot of time, but I can't allow me to block the system such a long time :-(.
>I don't know when I can take the time for optimize().
>
>Has someone allready find a workarround for this problem ?
>Is it possible to make a sleep in the 'optimize() while' so that the index is avaible for another Thread ? Would it be usefull ?
>
>thanks
>    Éric.
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
>  
>



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16737-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 17:23:46 2005
Return-Path: <java-user-return-16737-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79570 invoked from network); 5 Oct 2005 17:23:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 17:23:40 -0000
Received: (qmail 99333 invoked by uid 500); 5 Oct 2005 14:30:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99312 invoked by uid 500); 5 Oct 2005 14:30:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99301 invoked by uid 99); 5 Oct 2005 14:30:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 07:30:08 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.20.168.25] (HELO uar.i-hypergrid.com) (217.20.168.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 07:30:10 -0700
Received: from [192.168.0.86] (vbychkoviak.jforce [192.168.0.86])
	by uar.i-hypergrid.com (Postfix) with ESMTP id 3B9FD1B5D5
	for <java-user@lucene.apache.org>; Wed,  5 Oct 2005 17:29:42 +0300 (EEST)
Message-ID: <4343E346.5010504@i-hypergrid.com>
Date: Wed, 05 Oct 2005 17:29:26 +0300
From: Volodymyr Bychkoviak <vbychkoviak@i-hypergrid.com>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: IndexWriter.optimize() need to much time.
References: <92A278501EF50444AD3EE1FFB51219550BCE3987@emss10m03.rck.atm.lmco.com> <4343E296.4090307@hauk-sasko.de>
In-Reply-To: <4343E296.4090307@hauk-sasko.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

you can do indexing in separate thread keeping waiting documents in some 
kind of queue waiting to be indexed.

Eric Louvard wrote:

> Of course I can acces IndexReader, but I need to acces IndexWriter 
> during optimization.
> If I am using a 'temp-index' I need to merge it with the optimized 
> index how can I do it ?
>
> Thanks.
>    Éric
>
> Mordo, Aviran (EXP N-NANNATEK) wrote:
>
>> The index is available for search even during optimization, you 
>> should not have any problem with that.
>>
>> Aviran
>> http://www.aviransplace.com
>>
>> -----Original Message-----
>> From: Eric Louvard [mailto:eric.louvard@hauk-sasko.de] Sent: 
>> Wednesday, October 05, 2005 10:10 AM
>> To: java-user@lucene.apache.org
>> Subject: IndexWriter.optimize() need to much time.
>>
>> Hello,
>>
>> my problem is that IndexWriter.optimize() take 20 minutes. OK it is 
>> not a lot of time, but I can't allow me to block the system such a 
>> long time :-(.
>> I don't know when I can take the time for optimize().
>>
>> Has someone allready find a workarround for this problem ?
>> Is it possible to make a sleep in the 'optimize() while' so that the 
>> index is avaible for another Thread ? Would it be usefull ?
>>
>> thanks
>>    Éric.
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>
>>
>>  
>>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

-- 
regards,
Volodymyr Bychkoviak


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16724-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 17:27:47 2005
Return-Path: <java-user-return-16724-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82745 invoked from network); 5 Oct 2005 17:26:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 17:26:04 -0000
Received: (qmail 83551 invoked by uid 500); 5 Oct 2005 13:17:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83530 invoked by uid 500); 5 Oct 2005 13:17:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83508 invoked by uid 99); 5 Oct 2005 13:17:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 06:17:56 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_30_40,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.11.32] (HELO smtp001.mail.ukl.yahoo.com) (217.12.11.32)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 05 Oct 2005 06:17:59 -0700
Received: (qmail 18893 invoked from network); 5 Oct 2005 13:17:32 -0000
Received: from unknown (HELO ME) (directcareer@82.33.132.136 with login)
  by smtp001.mail.ukl.yahoo.com with SMTP; 5 Oct 2005 13:17:31 -0000
Message-ID: <00cd01c5c9ae$d7af2780$0802a8c0@ME>
Reply-To: "Cyril Barlow" <info@fantasyfooty.org>
From: "Cyril Barlow" <info@fantasyfooty.org>
To: <java-user@lucene.apache.org>
Subject: IndexSearcher in servlet containers
Date: Wed, 5 Oct 2005 14:15:22 +0100
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_00CA_01C5C9B7.39274440"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_00CA_01C5C9B7.39274440
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Has anyone got experience of using the IndexSearcher in a servlet? I'm =
having caching problems when there's a lot of different concurrent users =
with the current setup. Currently the setup is to create a IndexSearcher =
per servlet doPost call and close it after. But with concurrent requests =
- especially ones which are performing fairly complex ranked boolean =
queries that take a few seconds are causing caching problems - sometimes =
a completely different set of results will be returned or nothing at =
all. Has anyone come across errors like these before or know best =
practices for searching in concurrent servlets?

Thanks
------=_NextPart_000_00CA_01C5C9B7.39274440--


		
___________________________________________________________ 
To help you stay safe and secure online, we've developed the all new Yahoo! Security Centre. http://uk.security.yahoo.com

From java-user-return-16738-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 17:27:53 2005
Return-Path: <java-user-return-16738-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87031 invoked from network); 5 Oct 2005 17:27:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 17:27:53 -0000
Received: (qmail 11276 invoked by uid 500); 5 Oct 2005 14:34:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11259 invoked by uid 500); 5 Oct 2005 14:34:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11248 invoked by uid 99); 5 Oct 2005 14:34:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 07:34:28 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.35.35.7] (HELO mailgw3a.lmco.com) (192.35.35.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 07:34:31 -0700
Received: from emss04g01.ems.lmco.com (relay4.ems.lmco.com [166.17.13.122])
	by mailgw3a.lmco.com (8.12.10/8.12.10) with ESMTP id j95EY5bW013822
	for <java-user@lucene.apache.org>; Wed, 5 Oct 2005 10:34:05 -0400 (EDT)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30884)
 id <0INW00I015STH2@lmco.com> for java-user@lucene.apache.org; Wed, 05 Oct 2005 10:34:05 -0400 (EDT)
Received: from EMSS10M01.us.lmco.com ([158.187.0.150]) by lmco.com (PMDF V6.1-1X6 #30884)
 with ESMTP id <0INW006R55SPE2@lmco.com> for java-user@lucene.apache.org; Wed, 05 Oct 2005 10:34:05 -0400 (EDT)
Received: from EMSS10M03.us.lmco.com ([158.187.0.148]) by EMSS10M01.us.lmco.com with Microsoft SMTPSVC(5.0.2195.6713); Wed,
 05 Oct 2005 10:34:01 -0400
Date: Wed, 05 Oct 2005 10:33:36 -0400
From: "Mordo, Aviran (EXP N-NANNATEK)" <aviran.mordo@lmco.com>
Subject: RE: IndexWriter.optimize() need to much time.
To: java-user@lucene.apache.org
Message-id: <92A278501EF50444AD3EE1FFB51219550BCE3988@emss10m03.rck.atm.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: quoted-printable
Thread-Topic: IndexWriter.optimize() need to much time.
thread-index: AcXJuNyaj9o2rdo8RgWkdgUV4mALZwAAKRow
Content-Class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 05 Oct 2005 14:34:01.0880 (UTC) FILETIME=[D45B1980:01C5C9B9]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

While optimizing you can create a new temp index (you can even use a =
RAMDirectory - since it'll be fairly small), and index all the new =
documents there. When you are finished with the optimizing just merge =
the temp into the main index.

HTH

Aviran
http://www.aviransplace.com=20

-----Original Message-----
From: Eric Louvard [mailto:eric.louvard@hauk-sasko.de]=20
Sent: Wednesday, October 05, 2005 10:27 AM
To: java-user@lucene.apache.org
Subject: Re: IndexWriter.optimize() need to much time.

Of course I can acces IndexReader, but I need to acces IndexWriter =
during optimization.
If I am using a 'temp-index' I need to merge it with the optimized index =
how can I do it ?

Thanks.
    =C9ric

Mordo, Aviran (EXP N-NANNATEK) wrote:

>The index is available for search even during optimization, you should =
not have any problem with that.
>
>Aviran
>http://www.aviransplace.com
>
>-----Original Message-----
>From: Eric Louvard [mailto:eric.louvard@hauk-sasko.de]
>Sent: Wednesday, October 05, 2005 10:10 AM
>To: java-user@lucene.apache.org
>Subject: IndexWriter.optimize() need to much time.
>
>Hello,
>
>my problem is that IndexWriter.optimize() take 20 minutes. OK it is not =
a lot of time, but I can't allow me to block the system such a long time =
:-(.
>I don't know when I can take the time for optimize().
>
>Has someone allready find a workarround for this problem ?
>Is it possible to make a sleep in the 'optimize() while' so that the =
index is avaible for another Thread ? Would it be usefull ?
>
>thanks
>    =C9ric.
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
> =20
>



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16725-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 17:27:58 2005
Return-Path: <java-user-return-16725-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87156 invoked from network); 5 Oct 2005 17:27:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 17:27:58 -0000
Received: (qmail 86720 invoked by uid 500); 5 Oct 2005 13:19:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86506 invoked by uid 500); 5 Oct 2005 13:19:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86475 invoked by uid 99); 5 Oct 2005 13:19:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 06:19:53 -0700
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=HTML_30_40,HTML_MESSAGE,RCVD_BY_IP,RCVD_IN_BL_SPAMCOP_NET,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 72.14.204.200 as permitted sender)
Received: from [72.14.204.200] (HELO qproxy.gmail.com) (72.14.204.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 06:19:56 -0700
Received: by qproxy.gmail.com with SMTP id c8so189507qbc
        for <java-user@lucene.apache.org>; Wed, 05 Oct 2005 06:19:30 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=NCIHLfC9Q6qQZmjprwKu9JWkEt8sBAL6gCm5pyPxBH+RM0QDdlYzGys8BF5mtpHGMYo/yiB384pOy6dHUDXikgdSHMQc29BekH9+Dy/2yuBKQl0tqaKZ3ww0FL+ODIWYWSBH0WlaRgAVhgIELWfSQSZ3Y5vwxul/DHel/JdWqbk=
Received: by 10.65.156.11 with SMTP id i11mr423024qbo;
        Wed, 05 Oct 2005 06:19:30 -0700 (PDT)
Received: by 10.65.121.10 with HTTP; Wed, 5 Oct 2005 06:19:30 -0700 (PDT)
Message-ID: <c68e39170510050619w77fcea2t4fc28681dfc2b89e@mail.gmail.com>
Date: Wed, 5 Oct 2005 09:19:30 -0400
From: Yonik Seeley <yseeley@gmail.com>
Reply-To: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: partial reindex
In-Reply-To: <20051005125619.GC59420@jdevoff.zssm.zp.ua>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_11478_21326937.1128518370916"
References: <20051005080100.GD457@jdevoff.zssm.zp.ua>
	 <70FACC95-878A-4A0A-BBA5-187B1871E26B@ehatchersolutions.com>
	 <20051005113829.GA59420@jdevoff.zssm.zp.ua>
	 <58431494-1EA4-48F6-A7C6-4777FE2E89C2@ehatchersolutions.com>
	 <20051005125619.GC59420@jdevoff.zssm.zp.ua>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_11478_21326937.1128518370916
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

> May be MultiReader? I didn't find ParallelReader in my API docs for Lucen=
e
1.4.3.

It's not in 1.4.3... you need to check out the latest 1.9 development
version from Subversion (the source code repository used now).


-Yonik
Now hiring -- http://tinyurl.com/7m67g


On 10/5/05, Eugeny N Dzhurinsky <eugenydzh@jdevelop.com> wrote:
>
> On Wed, Oct 05, 2005 at 08:38:21AM -0400, Erik Hatcher wrote:
> > > But could Lucene mix up 2 indexes in single query?
> > Using ParallelReader - yes. Read the javadocs to learn more.
>
> May be MultiReader? I didn't find ParallelReader in my API docs for Lucen=
e
> 1.4.3.
>
> Im'm trying to think in this way:
>
> let's say we have index of documents, each document has it's own unique
> ID.
> and we have another index of ACLs for each document. Is it possible to us=
e
> some kind of "join" for the document index and for the ACL index, and
> create
> search query, which will instantly validate the ACL for document, using
> UID
> key in both document index and acl index?
>
> I'm just trying to avoid post-filtering at all.
>
> P.S. Really useful book, I like it.
>
> --
> Eugene N Dzhurinsky
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_11478_21326937.1128518370916--

From java-user-return-16726-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 17:29:20 2005
Return-Path: <java-user-return-16726-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88424 invoked from network); 5 Oct 2005 17:29:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 17:29:20 -0000
Received: (qmail 88114 invoked by uid 500); 5 Oct 2005 13:21:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87994 invoked by uid 500); 5 Oct 2005 13:21:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87983 invoked by uid 99); 5 Oct 2005 13:21:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 06:21:15 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_30_40,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of adam.saltiel@gmail.com designates 66.249.82.204 as permitted sender)
Received: from [66.249.82.204] (HELO xproxy.gmail.com) (66.249.82.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 06:21:16 -0700
Received: by xproxy.gmail.com with SMTP id s19so92414wxc
        for <java-user@lucene.apache.org>; Wed, 05 Oct 2005 06:20:51 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=FEdvbzAlyyJlOvG0upp3dvheb2UqyLkeHW8X+xZ+bv6fiJwEHhX6i8qNK2C0S/CZ9sQwvkm1JdvQh5jiwHfhvzn2cUc8qWlkk7bL7g2D8T0qQWJyMC1qdT2aFBs5JGjpgFqTwvPuCrpyQ9tbwcEDS/Lkf6Qy1N5qlJLEzrbHmL8=
Received: by 10.70.63.6 with SMTP id l6mr395993wxa;
        Wed, 05 Oct 2005 06:20:51 -0700 (PDT)
Received: by 10.70.105.18 with HTTP; Wed, 5 Oct 2005 06:20:51 -0700 (PDT)
Message-ID: <e8aa138c0510050620s53c85eeay7b9b5a460f43d963@mail.gmail.com>
Date: Wed, 5 Oct 2005 14:20:51 +0100
From: adasal <adam.saltiel@gmail.com>
Reply-To: adasal <adam.saltiel@gmail.com>
To: java-user@lucene.apache.org, rrshwrk@gmail.com
Subject: Re: Regarding Lucene and LSI
In-Reply-To: <bf155c6c0510050559o10274075vd11c9d8a3e69d0e6@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_28841_29329302.1128518451182"
References: <bf155c6c0510050559o10274075vd11c9d8a3e69d0e6@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_28841_29329302.1128518451182
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

There are LSI and LSI like implementations in open source, but I am unsure
what the state of play is in Java. The most interesting work I know of is i=
n
Perl available (cvs permitting) from
NITLE.<http://www.nitle.org/tools/semantic/search.htm>
What I would like to see is an implementation of Magnus Sahlgren, *Random
Indexing *which is described as "a very simple and effective approach to
automatic [which can also be used for] bilingual lexicon acquisition. The
approach is cooccurrence-based, and uses the Random Indexing vector space
methodology applied to aligned bilingual data. The approach is simple,
efficient and scalable, and generate promising results when compared to a
manually compiled lexicon." The point here is its scalability since
implementations of LSI are inefficient when documents are removed from the
collection. It seems to me that it is also less computationalyy intensive,
and should be possible to implement quite simply in Java. Does anyone know
of such an attempt?
Adam

On 10/5/05, rrshwrk@gmail.com <rrshwrk@gmail.com> wrote:
>
> Hi all,
>
> I am looking for LSI implementation i lucene. Is it available. I couldnt
> find it in the website. I searched in the archives but no help. could som=
e
> one tell me if it is available or not.
>
> Could you tell me where can i see to find if there are any Language
> processing tools for Indexing and retrieval stuff available in Lucene
>
> thanks
>
>

------=_Part_28841_29329302.1128518451182--

From java-user-return-16727-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 17:30:30 2005
Return-Path: <java-user-return-16727-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89671 invoked from network); 5 Oct 2005 17:30:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 17:30:29 -0000
Received: (qmail 90031 invoked by uid 500); 5 Oct 2005 13:22:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90002 invoked by uid 500); 5 Oct 2005 13:22:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89985 invoked by uid 99); 5 Oct 2005 13:22:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 06:22:25 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 06:22:28 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id EAB5713E2033; Wed,  5 Oct 2005 09:22:00 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id CA6F613E200A
	for <java-user@lucene.apache.org>; Wed,  5 Oct 2005 09:21:50 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <20051005125619.GC59420@jdevoff.zssm.zp.ua>
References: <20051005080100.GD457@jdevoff.zssm.zp.ua> <70FACC95-878A-4A0A-BBA5-187B1871E26B@ehatchersolutions.com> <20051005113829.GA59420@jdevoff.zssm.zp.ua> <58431494-1EA4-48F6-A7C6-4777FE2E89C2@ehatchersolutions.com> <20051005125619.GC59420@jdevoff.zssm.zp.ua>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <5BD7E53C-34FD-4165-811D-3C2BE0B49BC4@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: partial reindex
Date: Wed, 5 Oct 2005 09:21:46 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.8 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Oct 5, 2005, at 8:56 AM, Eugeny N Dzhurinsky wrote:

> On Wed, Oct 05, 2005 at 08:38:21AM -0400, Erik Hatcher wrote:
>
>>> But could Lucene mix up 2 indexes in single query?
>>>
>> Using ParallelReader - yes.  Read the javadocs to learn more.
>>
>
> May be MultiReader? I didn't find ParallelReader in my API docs for  
> Lucene
> 1.4.3.

*arg* :)  As I said in my original message... ParallelReader is in  
Subversion trunk.  It does not exist in a released version of Lucene  
yet.  It will be part of 1.9.  The trunk of Subversion is quite  
stable - feel free to build Lucene from there and use it.

> let's say we have index of documents, each document has it's own  
> unique ID.
> and we have another index of ACLs for each document. Is it possible  
> to use
> some kind of "join" for the document index and for the ACL index,  
> and create
> search query, which will instantly validate the ACL for document,  
> using UID
> key in both document index and acl index?

This is basically what ParallelReader does - joins two parallel  
indexes that line up _exactly_ in document insertion order.

> I'm just trying to avoid post-filtering at all.

One strong recommendation I make regarding Lucene (and coding in  
general): don't pre-suppose things about performance.  Implement the  
solution in the cleanest most logical way, try it, and if there are  
issues, then tune.

> P.S. Really useful book, I like it.

Thank you!

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16739-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 17:31:23 2005
Return-Path: <java-user-return-16739-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90309 invoked from network); 5 Oct 2005 17:31:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 17:31:22 -0000
Received: (qmail 20014 invoked by uid 500); 5 Oct 2005 14:37:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19988 invoked by uid 500); 5 Oct 2005 14:37:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19977 invoked by uid 99); 5 Oct 2005 14:37:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 07:37:57 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.20.168.25] (HELO uar.i-hypergrid.com) (217.20.168.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 07:38:00 -0700
Received: from [192.168.0.86] (vbychkoviak.jforce [192.168.0.86])
	by uar.i-hypergrid.com (Postfix) with ESMTP id BF8ED1B6A7
	for <java-user@lucene.apache.org>; Wed,  5 Oct 2005 17:37:28 +0300 (EEST)
Message-ID: <4343E519.5070304@i-hypergrid.com>
Date: Wed, 05 Oct 2005 17:37:13 +0300
From: Volodymyr Bychkoviak <vbychkoviak@i-hypergrid.com>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: IndexWriter.optimize() need to much time.
References: <92A278501EF50444AD3EE1FFB51219550BCE3988@emss10m03.rck.atm.lmco.com>
In-Reply-To: <92A278501EF50444AD3EE1FFB51219550BCE3988@emss10m03.rck.atm.lmco.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

this approach has one pitfall:
    merging indexes call optimize() two times (before and after merge)

Mordo, Aviran (EXP N-NANNATEK) wrote:

>While optimizing you can create a new temp index (you can even use a RAMDirectory - since it'll be fairly small), and index all the new documents there. When you are finished with the optimizing just merge the temp into the main index.
>
>HTH
>
>Aviran
>http://www.aviransplace.com 
>
>-----Original Message-----
>From: Eric Louvard [mailto:eric.louvard@hauk-sasko.de] 
>Sent: Wednesday, October 05, 2005 10:27 AM
>To: java-user@lucene.apache.org
>Subject: Re: IndexWriter.optimize() need to much time.
>
>Of course I can acces IndexReader, but I need to acces IndexWriter during optimization.
>If I am using a 'temp-index' I need to merge it with the optimized index how can I do it ?
>
>Thanks.
>    Éric
>
>Mordo, Aviran (EXP N-NANNATEK) wrote:
>
>  
>
>>The index is available for search even during optimization, you should not have any problem with that.
>>
>>Aviran
>>http://www.aviransplace.com
>>
>>-----Original Message-----
>>From: Eric Louvard [mailto:eric.louvard@hauk-sasko.de]
>>Sent: Wednesday, October 05, 2005 10:10 AM
>>To: java-user@lucene.apache.org
>>Subject: IndexWriter.optimize() need to much time.
>>
>>Hello,
>>
>>my problem is that IndexWriter.optimize() take 20 minutes. OK it is not a lot of time, but I can't allow me to block the system such a long time :-(.
>>I don't know when I can take the time for optimize().
>>
>>Has someone allready find a workarround for this problem ?
>>Is it possible to make a sleep in the 'optimize() while' so that the index is avaible for another Thread ? Would it be usefull ?
>>
>>thanks
>>   Éric.
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>
>>
>> 
>>
>>    
>>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  
>

-- 
regards,
Volodymyr Bychkoviak


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16741-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 17:35:05 2005
Return-Path: <java-user-return-16741-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93590 invoked from network); 5 Oct 2005 17:35:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 17:35:04 -0000
Received: (qmail 98072 invoked by uid 500); 5 Oct 2005 17:34:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98054 invoked by uid 500); 5 Oct 2005 17:34:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98043 invoked by uid 99); 5 Oct 2005 17:34:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 10:34:59 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 10:35:02 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 50D9013E200A; Wed,  5 Oct 2005 13:34:33 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 2CD3913E2007
	for <java-user@lucene.apache.org>; Wed,  5 Oct 2005 13:34:09 -0400 (EDT)
In-Reply-To: <016b01c5c9b4$5dbad9f0$0802a8c0@ME>
References: <00cd01c5c9ae$d7af2780$0802a8c0@ME> <1DD0177B-91D8-4B2E-BCDE-07DEE558E826@ehatchersolutions.com> <016b01c5c9b4$5dbad9f0$0802a8c0@ME>
Mime-Version: 1.0 (Apple Message framework v734)
X-Priority: 3
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <CBD20115-AC43-4EC7-908F-C07633B82643@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: IndexSearcher in servlet containers
Date: Wed, 5 Oct 2005 13:34:01 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.8 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Oct 5, 2005, at 9:54 AM, Cyril Barlow wrote:
> Thanks all for your feedback. I'm going to look at building a  
> dedicated
> server that keeps one IndexSearcher open and each servlet would use  
> that.
> Either that or look deeper into the Jetty framework to see if I can  
> simply
> invoke a global IndexSearcher when the server starts and use that.  
> Not quite
> sure how. Luc, DelayCloseIndexSearcher looks like something that  
> might be of
> help - I'll have a look at that as well.

I'm really confused on the dilemma here.

You can create a startup hook using one of the Servlet specification  
listeners, create an IndexSearcher there, stuff it into application  
scope (context.setAttribute()).

There is no digging into Jetty's guts needed, just plain and simple  
servlet API will suffice.

Of course you'll also want a facility to re-instantiate the  
IndexSearcher if the index is changing, but that is just building  
upon the pieces I just described.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16728-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 17:35:50 2005
Return-Path: <java-user-return-16728-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94153 invoked from network); 5 Oct 2005 17:35:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 17:35:49 -0000
Received: (qmail 708 invoked by uid 500); 5 Oct 2005 13:27:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 679 invoked by uid 500); 5 Oct 2005 13:27:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 662 invoked by uid 99); 5 Oct 2005 13:27:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 06:27:45 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.35.35.7] (HELO mailgw3a.lmco.com) (192.35.35.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 06:27:48 -0700
Received: from emss04g01.ems.lmco.com (relay4.ems.lmco.com [166.17.13.122])
	by mailgw3a.lmco.com (8.12.10/8.12.10) with ESMTP id j95DRIbY004372;
	Wed, 5 Oct 2005 09:27:18 -0400 (EDT)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30884) id <0INW00K012PH7K@lmco.com>; Wed,
 05 Oct 2005 09:27:17 -0400 (EDT)
Received: from EMSS10M01.us.lmco.com ([158.187.0.150]) by lmco.com (PMDF V6.1-1X6 #30884)
 with ESMTP id <0INW006YI2PHE2@lmco.com>; Wed, 05 Oct 2005 09:27:17 -0400 (EDT)
Received: from EMSS10M03.us.lmco.com ([158.187.0.148]) by EMSS10M01.us.lmco.com with Microsoft SMTPSVC(5.0.2195.6713); Wed,
 05 Oct 2005 09:27:17 -0400
Date: Wed, 05 Oct 2005 09:27:02 -0400
From: "Mordo, Aviran (EXP N-NANNATEK)" <aviran.mordo@lmco.com>
Subject: RE: IndexSearcher in servlet containers
To: java-user@lucene.apache.org, Cyril Barlow <info@fantasyfooty.org>
Message-id: <92A278501EF50444AD3EE1FFB51219550BCE3986@emss10m03.rck.atm.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-type: text/plain; charset=US-ASCII
Content-transfer-encoding: 7BIT
Thread-Topic: IndexSearcher in servlet containers
thread-index: AcXJrzd33yiDNHQ8SEmu6U3YKzd4/wAAMcIg
Content-Class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 05 Oct 2005 13:27:17.0816 (UTC) FILETIME=[81BF6B80:01C5C9B0]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

There where no problems for me. 
Do you use the same IndexReader for all your searchers ?

Aviran
http://www.aviransplace.com

-----Original Message-----
From: Cyril Barlow [mailto:info@fantasyfooty.org] 
Sent: Wednesday, October 05, 2005 9:15 AM
To: java-user@lucene.apache.org
Subject: IndexSearcher in servlet containers

Has anyone got experience of using the IndexSearcher in a servlet? I'm
having caching problems when there's a lot of different concurrent users
with the current setup. Currently the setup is to create a IndexSearcher
per servlet doPost call and close it after. But with concurrent requests
- especially ones which are performing fairly complex ranked boolean
queries that take a few seconds are causing caching problems - sometimes
a completely different set of results will be returned or nothing at
all. Has anyone come across errors like these before or know best
practices for searching in concurrent servlets?

Thanks


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16729-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 17:36:08 2005
Return-Path: <java-user-return-16729-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94313 invoked from network); 5 Oct 2005 17:36:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 17:36:07 -0000
Received: (qmail 1844 invoked by uid 500); 5 Oct 2005 13:28:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1815 invoked by uid 500); 5 Oct 2005 13:28:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1804 invoked by uid 99); 5 Oct 2005 13:28:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 06:28:02 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 06:28:06 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 090E813E2007; Wed,  5 Oct 2005 09:27:30 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id C862613E2007
	for <java-user@lucene.apache.org>; Wed,  5 Oct 2005 09:27:13 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <14FBF41EF1411B45B2EC4ADEAC53D131040BF321@MAIL01.wescodist.com>
References: <14FBF41EF1411B45B2EC4ADEAC53D131040BF321@MAIL01.wescodist.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <DE2BFCF8-A642-4109-A695-B91AAB1BCD84@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Optimization
Date: Wed, 5 Oct 2005 09:27:11 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.8 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Oct 5, 2005, at 9:05 AM, Aigner, Thomas wrote:
>     Have a question.. Is there any obvious things that can be done
> to help speed up query lookups especially wildcard searches (i.e.
> *lamps).

Obvious?  Sort of.  *lamps needs to scan through _every_ single term  
in the index (for the specified field only, of course) because terms  
are lexicographically ordered.

If you reverse terms during analysis and lay them in the same  
position (increment 0) as the original token you'd end up with  
"spmal..." terms.  Now pre-process the query string and if there is a  
prefixed wildcard query, reverse it so that "*lamps" turns into  
"spmal*" and you will likely achieve a dramatic speed-up.

This is just one technique for dealing with prefixed wildcard  
queries.  There is more fun to be had with queries like *lamps*.  A  
technique I learned from the book Managing Gigabytes is to rotate  
terms through all their possible variations and index all of those,  
which also requires cleverness on the querying side of things.

     Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16730-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 17:41:36 2005
Return-Path: <java-user-return-16730-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98615 invoked from network); 5 Oct 2005 17:41:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 17:41:36 -0000
Received: (qmail 7150 invoked by uid 500); 5 Oct 2005 13:33:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7131 invoked by uid 500); 5 Oct 2005 13:33:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7120 invoked by uid 99); 5 Oct 2005 13:33:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 06:33:29 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 06:33:33 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id B896113E2007; Wed,  5 Oct 2005 09:33:06 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 1F51113E2007
	for <java-user@lucene.apache.org>; Wed,  5 Oct 2005 09:32:31 -0400 (EDT)
In-Reply-To: <00cd01c5c9ae$d7af2780$0802a8c0@ME>
References: <00cd01c5c9ae$d7af2780$0802a8c0@ME>
Mime-Version: 1.0 (Apple Message framework v734)
X-Priority: 3
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <1DD0177B-91D8-4B2E-BCDE-07DEE558E826@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: IndexSearcher in servlet containers
Date: Wed, 5 Oct 2005 09:28:36 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.8 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Cache IndexSearcher and only use *one* instance for all requests.   
Application scope works well for this in a servlet environment.

     Erik

On Oct 5, 2005, at 9:15 AM, Cyril Barlow wrote:

> Has anyone got experience of using the IndexSearcher in a servlet?  
> I'm having caching problems when there's a lot of different  
> concurrent users with the current setup. Currently the setup is to  
> create a IndexSearcher per servlet doPost call and close it after.  
> But with concurrent requests - especially ones which are performing  
> fairly complex ranked boolean queries that take a few seconds are  
> causing caching problems - sometimes a completely different set of  
> results will be returned or nothing at all. Has anyone come across  
> errors like these before or know best practices for searching in  
> concurrent servlets?
>
> Thanks


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16731-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 17:44:09 2005
Return-Path: <java-user-return-16731-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1163 invoked from network); 5 Oct 2005 17:44:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 17:44:08 -0000
Received: (qmail 12086 invoked by uid 500); 5 Oct 2005 13:36:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12065 invoked by uid 500); 5 Oct 2005 13:36:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12054 invoked by uid 99); 5 Oct 2005 13:36:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 06:36:03 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [193.194.158.19] (HELO exchange.bvdep.com) (193.194.158.19)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 06:36:06 -0700
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: IndexSearcher in servlet containers
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Date: Wed, 5 Oct 2005 15:35:40 +0200
Message-ID: <950FF7DE40C2B64CAF80B564732927E104CA1901@exchange.be.bvd>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: IndexSearcher in servlet containers
thread-index: AcXJrzeJzvnAEtPiT72R6Wg+tYpKuAAAc1LQ
From: "Vanlerberghe, Luc" <Luc.Vanlerberghe@bvdep.com>
To: <java-user@lucene.apache.org>,
	"Cyril Barlow" <info@fantasyfooty.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Take a look at the DelayCloseIndexSearcher I contributed yesterday.

http://issues.apache.org/jira/browse/LUCENE-445

You should set up a SearcherFactory in an object that implements
ServletContextListener that receives webapp startup/shutdown events and
your servlets should get an IndexSearcher from that factory, use it and
then close it (as if it was a normal IndexSearcher instance)

There's an example of a simple SearcherFactory in the javadoc.  I'll
perhaps post a more performant version later on based on what I am (or
rather will be) using in production.

Luc


-----Original Message-----
From: Cyril Barlow [mailto:info@fantasyfooty.org]=20
Sent: woensdag 5 oktober 2005 15:15
To: java-user@lucene.apache.org
Subject: IndexSearcher in servlet containers

Has anyone got experience of using the IndexSearcher in a servlet? I'm
having caching problems when there's a lot of different concurrent users
with the current setup. Currently the setup is to create a IndexSearcher
per servlet doPost call and close it after. But with concurrent requests
- especially ones which are performing fairly complex ranked boolean
queries that take a few seconds are causing caching problems - sometimes
a completely different set of results will be returned or nothing at
all. Has anyone come across errors like these before or know best
practices for searching in concurrent servlets?

Thanks


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16742-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 17:56:50 2005
Return-Path: <java-user-return-16742-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8217 invoked from network); 5 Oct 2005 17:56:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 17:56:49 -0000
Received: (qmail 22157 invoked by uid 500); 5 Oct 2005 17:56:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22133 invoked by uid 500); 5 Oct 2005 17:56:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22122 invoked by uid 99); 5 Oct 2005 17:56:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 10:56:44 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.63.98] (HELO pimout4-ext.prodigy.net) (207.115.63.98)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 10:56:46 -0700
X-ORBL: [69.228.220.53]
Received: from [192.168.168.81] (adsl-69-228-220-53.dsl.pltn13.pacbell.net [69.228.220.53])
	by pimout4-ext.prodigy.net (8.13.4 outbound domainkey aix/8.13.4) with ESMTP id j95HuARP163814;
	Wed, 5 Oct 2005 13:56:15 -0400
Message-ID: <434413BA.10108@apache.org>
Date: Wed, 05 Oct 2005 10:56:10 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7-1.1.fc3 (X11/20050929)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: IndexWriter.optimize() need to much time.
References: <4343DEC5.4000908@hauk-sasko.de>
In-Reply-To: <4343DEC5.4000908@hauk-sasko.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Eric Louvard wrote:
> my problem is that IndexWriter.optimize() take 20 minutes. OK it is not 
> a lot of time, but I can't allow me to block the system such a long time 
> :-(.

If you're worried about blocking, queue changes to the index and have a 
separate thread which processes the queue, adding and deleting 
documents.  If your index changes frequently then don't bother 
optimizing, rather simply use mergeFactor=2 to minimize the number of 
segments searched and a large minMergeDocs (~1000).  Optimizing is good 
for indexes which change only seldom.  Large mergeFactors are good for 
batch indexing, when optimization will be performed at the end, but 
create too many segments for efficient search.

So, best practices for fast indexing and search:

Increase minMergeDocs to proportional to the number of documents you can 
store in the Java heap.  1000 is usually safe with a 100Mb heap and 
typical document lengths.

When batch-building, use mergeFactor=50, and optimize index at the end.

With rapidly changing index, use mergeFactor=2 to minimize the number of 
segments.  Do not optimize.  Queue index updates and process queue in a 
separate thread.  Queue processing should look something like:
   loop:
     - open IndexReader;
     - process all queued document deletions;
     - close IndexReader;
     - open IndexWriter;
     - set mergeFactor=2;
     - process all queued document additions;
     - close IndexWriter;
     - publish new IndexSearcher
     - sleep one minute

Such a system will be able to handle thousands of changes per minute, 
publishing a new index nearly every minute in most cases.  Ocassionally 
it will take longer, as large segments are merged.

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16743-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 18:11:52 2005
Return-Path: <java-user-return-16743-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17388 invoked from network); 5 Oct 2005 18:11:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 18:11:51 -0000
Received: (qmail 58217 invoked by uid 500); 5 Oct 2005 18:11:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58195 invoked by uid 500); 5 Oct 2005 18:11:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58184 invoked by uid 99); 5 Oct 2005 18:11:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 11:11:45 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.11.36] (HELO smtp005.mail.ukl.yahoo.com) (217.12.11.36)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 05 Oct 2005 11:11:48 -0700
Received: (qmail 82139 invoked from network); 5 Oct 2005 18:11:22 -0000
Received: from unknown (HELO ME) (directcareer@82.33.132.136 with login)
  by smtp005.mail.ukl.yahoo.com with SMTP; 5 Oct 2005 18:11:21 -0000
Message-ID: <034f01c5c9d7$e41cee20$0802a8c0@ME>
Reply-To: "Cyril Barlow" <info@fantasyfooty.org>
From: "Cyril Barlow" <info@fantasyfooty.org>
To: <java-user@lucene.apache.org>
References: <00cd01c5c9ae$d7af2780$0802a8c0@ME> <1DD0177B-91D8-4B2E-BCDE-07DEE558E826@ehatchersolutions.com> <016b01c5c9b4$5dbad9f0$0802a8c0@ME> <CBD20115-AC43-4EC7-908F-C07633B82643@ehatchersolutions.com>
Subject: Re: IndexSearcher in servlet containers
Date: Wed, 5 Oct 2005 19:09:10 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


----- Original Message -----
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: <java-user@lucene.apache.org>
Sent: Wednesday, October 05, 2005 6:34 PM
Subject: Re: IndexSearcher in servlet containers


>
> On Oct 5, 2005, at 9:54 AM, Cyril Barlow wrote:
> > Thanks all for your feedback. I'm going to look at building a
> > dedicated
> > server that keeps one IndexSearcher open and each servlet would use
> > that.
> > Either that or look deeper into the Jetty framework to see if I can
> > simply
> > invoke a global IndexSearcher when the server starts and use that.
> > Not quite
> > sure how. Luc, DelayCloseIndexSearcher looks like something that
> > might be of
> > help - I'll have a look at that as well.
>
> I'm really confused on the dilemma here.
>
> You can create a startup hook using one of the Servlet specification
> listeners, create an IndexSearcher there, stuff it into application
> scope (context.setAttribute()).
>
> There is no digging into Jetty's guts needed, just plain and simple
> servlet API will suffice.
>
> Of course you'll also want a facility to re-instantiate the
> IndexSearcher if the index is changing, but that is just building
> upon the pieces I just described.
>
>      Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

>You can create a startup hook using one of the Servlet specification
> listeners, create an IndexSearcher there, stuff it into application
> scope (context.setAttribute()).

OK, I add a IndexSearcher object using the context.setAttribute(IS) but how
do I refer back to it from the servlet code?



		
___________________________________________________________ 
To help you stay safe and secure online, we've developed the all new Yahoo! Security Centre. http://uk.security.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16744-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 18:19:03 2005
Return-Path: <java-user-return-16744-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23080 invoked from network); 5 Oct 2005 18:19:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 18:19:03 -0000
Received: (qmail 75486 invoked by uid 500); 5 Oct 2005 18:18:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75234 invoked by uid 500); 5 Oct 2005 18:18:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 39067 invoked by uid 99); 5 Oct 2005 18:04:41 -0000
X-ASF-Spam-Status: No, hits=2.4 required=10.0
	tests=HTML_20_30,HTML_MESSAGE,RCVD_BY_IP,RCVD_IN_BL_SPAMCOP_NET,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of steven.m.thompson@gmail.com designates 72.14.204.194 as permitted sender)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=II8oEtYRNB737MtS3ZQUZd5eJAAlLPqErTJfOyyWt8iWU2HLzDIHuDruIkBd9TFoh/75Vi1BC11HH8wYoVHbcXgHwMvL2ndUSYOkH7u7pcv9/BNG+WQseQa7vb2ogaYQ0HoljqfkIUVE4K8nPw7nHB8RS8JNqoRVG4lHjuCAMqQ=
Message-ID: <b7e272990510051104x1dbf0941ua04746187efa68cf@mail.gmail.com>
Date: Wed, 5 Oct 2005 14:04:19 -0400
From: Steven Thompson <steven.m.thompson@gmail.com>
Reply-To: Steven Thompson <steven.m.thompson@gmail.com>
To: java-user@lucene.apache.org
Subject: Lucene Security Advice
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_33241_26705754.1128535459266"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_33241_26705754.1128535459266
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

The simple scenario is this:
 One large text document with three sections
 Section A
Section B
Section C
 Three user groups:
 User Group X
User Group Y
User Group Z
 I want to provide security to the various sections of the document to
certain groups of users. For example, User Group X can only search on
Section A, and User Group Y can search on Section A and Section B.
 We have considered various scenarios such as partitioning the document int=
o
separate fields or even having separate repositories, but we then get hung
up on search syntax.
 In searching the archives and reading the LIA book I see examples of
document-level security, but this almost seems to be a different security
problem. I'm not necessarily looking for the perfect solution, but rather
different approaches that we can look at.
 -Steve Thompson

------=_Part_33241_26705754.1128535459266--

From java-user-return-16745-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 18:48:00 2005
Return-Path: <java-user-return-16745-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38858 invoked from network); 5 Oct 2005 18:48:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 18:48:00 -0000
Received: (qmail 40095 invoked by uid 500); 5 Oct 2005 18:47:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40069 invoked by uid 500); 5 Oct 2005 18:47:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40058 invoked by uid 99); 5 Oct 2005 18:47:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 11:47:54 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [83.247.21.91] (HELO wis.nl) (83.247.21.91)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 11:47:57 -0700
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Lucene Security Advice
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Date: Wed, 5 Oct 2005 20:46:45 +0200
Message-ID: <50CA25BD6EEA954FA592C097399942E303081EED@CM1.wis.local>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lucene Security Advice
thread-index: AcXJ2SiFChFStmmkTsms5Bzj8iNsrwAA3ASg
From: "Daan de Wit" <d.de.wit@wis.nl>
To: <java-user@lucene.apache.org>,
	"Steven Thompson" <steven.m.thompson@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Steve,

I think you can best split up the document into separate fields, and
then use FilteredQueries to search. The QueryFilter (which does not
effect scoring) can be built using a BooleanQuery with the sections the
user can search on as optional Terms

Regards,
Daan

-----Original Message-----
From: Steven Thompson [mailto:steven.m.thompson@gmail.com]=20
Sent: Wednesday, October 05, 2005 20:04
To: java-user@lucene.apache.org
Subject: Lucene Security Advice

The simple scenario is this:
 One large text document with three sections
 Section A
Section B
Section C
 Three user groups:
 User Group X
User Group Y
User Group Z
 I want to provide security to the various sections of the document to
certain groups of users. For example, User Group X can only search on
Section A, and User Group Y can search on Section A and Section B.
 We have considered various scenarios such as partitioning the document
into
separate fields or even having separate repositories, but we then get
hung
up on search syntax.
 In searching the archives and reading the LIA book I see examples of
document-level security, but this almost seems to be a different
security
problem. I'm not necessarily looking for the perfect solution, but
rather
different approaches that we can look at.
 -Steve Thompson

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16746-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 18:52:49 2005
Return-Path: <java-user-return-16746-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40569 invoked from network); 5 Oct 2005 18:52:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 18:52:48 -0000
Received: (qmail 44113 invoked by uid 500); 5 Oct 2005 18:52:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44079 invoked by uid 500); 5 Oct 2005 18:52:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44065 invoked by uid 99); 5 Oct 2005 18:52:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 11:52:43 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [83.247.21.91] (HELO wis.nl) (83.247.21.91)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 11:52:46 -0700
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Lucene Security Advice
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Date: Wed, 5 Oct 2005 20:51:33 +0200
Message-ID: <50CA25BD6EEA954FA592C097399942E303081EEE@CM1.wis.local>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lucene Security Advice
thread-index: AcXJ2SiFChFStmmkTsms5Bzj8iNsrwAA3ASgAAA65eA=
From: "Daan de Wit" <d.de.wit@wis.nl>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'm sorry, the moment I pressed the send-button I realized that this is
not a solution for your problem.

A solution might be to index split up the sections into different
documents with a field 'section' on which you can filter.

Regards,
Daan

-----Original Message-----
From: Daan de Wit [mailto:d.de.wit@wis.nl]=20
Sent: Wednesday, October 05, 2005 20:47
To: java-user@lucene.apache.org; Steven Thompson
Subject: RE: Lucene Security Advice

Hi Steve,

I think you can best split up the document into separate fields, and
then use FilteredQueries to search. The QueryFilter (which does not
effect scoring) can be built using a BooleanQuery with the sections the
user can search on as optional Terms

Regards,
Daan

-----Original Message-----
From: Steven Thompson [mailto:steven.m.thompson@gmail.com]=20
Sent: Wednesday, October 05, 2005 20:04
To: java-user@lucene.apache.org
Subject: Lucene Security Advice

The simple scenario is this:
 One large text document with three sections
 Section A
Section B
Section C
 Three user groups:
 User Group X
User Group Y
User Group Z
 I want to provide security to the various sections of the document to
certain groups of users. For example, User Group X can only search on
Section A, and User Group Y can search on Section A and Section B.
 We have considered various scenarios such as partitioning the document
into
separate fields or even having separate repositories, but we then get
hung
up on search syntax.
 In searching the archives and reading the LIA book I see examples of
document-level security, but this almost seems to be a different
security
problem. I'm not necessarily looking for the perfect solution, but
rather
different approaches that we can look at.
 -Steve Thompson

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16747-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 19:08:59 2005
Return-Path: <java-user-return-16747-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49061 invoked from network); 5 Oct 2005 19:08:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 19:08:58 -0000
Received: (qmail 68323 invoked by uid 500); 5 Oct 2005 19:08:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68304 invoked by uid 500); 5 Oct 2005 19:08:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68289 invoked by uid 99); 5 Oct 2005 19:08:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 12:08:51 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.35.35.7] (HELO mailgw3a.lmco.com) (192.35.35.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 12:08:53 -0700
Received: from emss04g01.ems.lmco.com (relay4.ems.lmco.com [166.17.13.122])
	by mailgw3a.lmco.com (8.12.10/8.12.10) with ESMTP id j95J1ngc019554;
	Wed, 5 Oct 2005 15:08:26 -0400 (EDT)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30884) id <0INW00D01GFMHA@lmco.com>; Wed,
 05 Oct 2005 14:23:46 -0400 (EDT)
Received: from EMSS10M01.us.lmco.com ([158.187.0.150]) by lmco.com (PMDF V6.1-1X6 #30884)
 with ESMTP id <0INW00FRNGFLWK@lmco.com>; Wed, 05 Oct 2005 14:23:46 -0400 (EDT)
Received: from EMSS10M03.us.lmco.com ([158.187.0.148]) by EMSS10M01.us.lmco.com with Microsoft SMTPSVC(5.0.2195.6713); Wed,
 05 Oct 2005 14:23:46 -0400
Date: Wed, 05 Oct 2005 14:22:54 -0400
From: "Mordo, Aviran (EXP N-NANNATEK)" <aviran.mordo@lmco.com>
Subject: RE: Lucene Security Advice
To: java-user@lucene.apache.org, Steven Thompson <steven.m.thompson@gmail.com>
Message-id: <92A278501EF50444AD3EE1FFB51219550BCE3989@emss10m03.rck.atm.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-type: text/plain; charset=US-ASCII
Content-transfer-encoding: 7BIT
Thread-Topic: Lucene Security Advice
thread-index: AcXJ2URZzG9tyZd4STKqrkDUC+Ev4wAAGPWw
Content-Class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 05 Oct 2005 18:23:46.0076 (UTC) FILETIME=[EC607DC0:01C5C9D9]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

The simple solution is to put each section in a separate field and query
the appropriate fields according to the user group.

Aviran
http://www.aviransplace.com 

-----Original Message-----
From: Steven Thompson [mailto:steven.m.thompson@gmail.com] 
Sent: Wednesday, October 05, 2005 2:04 PM
To: java-user@lucene.apache.org
Subject: Lucene Security Advice

The simple scenario is this:
 One large text document with three sections  Section A Section B
Section C  Three user groups:
 User Group X
User Group Y
User Group Z
 I want to provide security to the various sections of the document to
certain groups of users. For example, User Group X can only search on
Section A, and User Group Y can search on Section A and Section B.
 We have considered various scenarios such as partitioning the document
into separate fields or even having separate repositories, but we then
get hung up on search syntax.
 In searching the archives and reading the LIA book I see examples of
document-level security, but this almost seems to be a different
security problem. I'm not necessarily looking for the perfect solution,
but rather different approaches that we can look at.
 -Steve Thompson


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16748-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 19:21:50 2005
Return-Path: <java-user-return-16748-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54057 invoked from network); 5 Oct 2005 19:21:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 19:21:46 -0000
Received: (qmail 92399 invoked by uid 500); 5 Oct 2005 19:21:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92378 invoked by uid 500); 5 Oct 2005 19:21:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92367 invoked by uid 99); 5 Oct 2005 19:21:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 12:21:33 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 12:21:36 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id F1F0113E2007; Wed,  5 Oct 2005 15:21:07 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 7BD7513E2033
	for <java-user@lucene.apache.org>; Wed,  5 Oct 2005 15:20:53 -0400 (EDT)
In-Reply-To: <034f01c5c9d7$e41cee20$0802a8c0@ME>
References: <00cd01c5c9ae$d7af2780$0802a8c0@ME> <1DD0177B-91D8-4B2E-BCDE-07DEE558E826@ehatchersolutions.com> <016b01c5c9b4$5dbad9f0$0802a8c0@ME> <CBD20115-AC43-4EC7-908F-C07633B82643@ehatchersolutions.com> <034f01c5c9d7$e41cee20$0802a8c0@ME>
Mime-Version: 1.0 (Apple Message framework v734)
X-Priority: 3
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <64803E10-C4F0-465B-AA83-4707C7665357@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: IndexSearcher in servlet containers
Date: Wed, 5 Oct 2005 15:20:49 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.8 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Oct 5, 2005, at 2:09 PM, Cyril Barlow wrote:
>> I'm really confused on the dilemma here.
>>
>> You can create a startup hook using one of the Servlet specification
>> listeners, create an IndexSearcher there, stuff it into application
>> scope (context.setAttribute()).
>>
>> There is no digging into Jetty's guts needed, just plain and simple
>> servlet API will suffice.
>>
>> Of course you'll also want a facility to re-instantiate the
>> IndexSearcher if the index is changing, but that is just building
>> upon the pieces I just described.
>>
>
> OK, I add a IndexSearcher object using the context.setAttribute(IS)  
> but how
> do I refer back to it from the servlet code?

Uh... IndexSearcher searcher = (IndexSearcher) context.getAttribute 
("<some key>")

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16749-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 19:29:03 2005
Return-Path: <java-user-return-16749-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62445 invoked from network); 5 Oct 2005 19:29:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 19:29:03 -0000
Received: (qmail 99833 invoked by uid 500); 5 Oct 2005 19:28:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99803 invoked by uid 500); 5 Oct 2005 19:28:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99789 invoked by uid 99); 5 Oct 2005 19:28:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 12:28:57 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.11.36] (HELO smtp005.mail.ukl.yahoo.com) (217.12.11.36)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 05 Oct 2005 12:29:00 -0700
Received: (qmail 21214 invoked from network); 5 Oct 2005 19:28:33 -0000
Received: from unknown (HELO ME) (directcareer@82.33.132.136 with login)
  by smtp005.mail.ukl.yahoo.com with SMTP; 5 Oct 2005 19:28:33 -0000
Message-ID: <03a301c5c9e2$accdfda0$0802a8c0@ME>
Reply-To: "Cyril Barlow" <info@fantasyfooty.org>
From: "Cyril Barlow" <info@fantasyfooty.org>
To: <java-user@lucene.apache.org>
References: <92A278501EF50444AD3EE1FFB51219550BCE3989@emss10m03.rck.atm.lmco.com>
Subject: What is a Hits object?
Date: Wed, 5 Oct 2005 20:26:01 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Is it an actual array of full Documents or a list of reference points to
Documents? And what's the typical size in memory of a Hits object with say
1000 avg size docs?


	
	
		
___________________________________________________________ 
Yahoo! Messenger - NEW crystal clear PC to PC calling worldwide with voicemail http://uk.messenger.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16750-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 19:35:50 2005
Return-Path: <java-user-return-16750-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66787 invoked from network); 5 Oct 2005 19:35:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 19:35:50 -0000
Received: (qmail 13412 invoked by uid 500); 5 Oct 2005 19:35:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13392 invoked by uid 500); 5 Oct 2005 19:35:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13381 invoked by uid 99); 5 Oct 2005 19:35:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 12:35:44 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.35.35.7] (HELO mailgw3a.lmco.com) (192.35.35.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 12:35:47 -0700
Received: from emss04g01.ems.lmco.com (relay4.ems.lmco.com [166.17.13.122])
	by mailgw3a.lmco.com (8.12.10/8.12.10) with ESMTP id j95JZLbW016363;
	Wed, 5 Oct 2005 15:35:21 -0400 (EDT)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30884) id <0INW00701JQWA1@lmco.com>; Wed,
 05 Oct 2005 15:35:20 -0400 (EDT)
Received: from EMSS10M01.us.lmco.com ([158.187.0.150]) by lmco.com (PMDF V6.1-1X6 #30884)
 with ESMTP id <0INW00JVIJQWZP@lmco.com>; Wed, 05 Oct 2005 15:35:20 -0400 (EDT)
Received: from EMSS10M03.us.lmco.com ([158.187.0.148]) by EMSS10M01.us.lmco.com with Microsoft SMTPSVC(5.0.2195.6713); Wed,
 05 Oct 2005 15:35:20 -0400
Date: Wed, 05 Oct 2005 15:34:22 -0400
From: "Mordo, Aviran (EXP N-NANNATEK)" <aviran.mordo@lmco.com>
Subject: RE: What is a Hits object?
To: java-user@lucene.apache.org, Cyril Barlow <info@fantasyfooty.org>
Message-id: <92A278501EF50444AD3EE1FFB51219550BCE398F@emss10m03.rck.atm.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-type: text/plain; charset=US-ASCII
Content-transfer-encoding: 7BIT
Thread-Topic: What is a Hits object?
thread-index: AcXJ40WKf/Qf6MITSmm++Y7e5H3mZAAAE0ZQ
Content-Class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 05 Oct 2005 19:35:20.0509 (UTC) FILETIME=[EC0EF6D0:01C5C9E3]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hits is a list of reference points to Documents, it does not contain the
entire document, only when you ask for a document it goes and read the
document from the index

Aviran
http://www.aviransplace.com

-----Original Message-----
From: Cyril Barlow [mailto:info@fantasyfooty.org] 
Sent: Wednesday, October 05, 2005 3:26 PM
To: java-user@lucene.apache.org
Subject: What is a Hits object?

Is it an actual array of full Documents or a list of reference points to
Documents? And what's the typical size in memory of a Hits object with
say 1000 avg size docs?


	
	
		
___________________________________________________________
Yahoo! Messenger - NEW crystal clear PC to PC calling worldwide with
voicemail http://uk.messenger.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16751-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 19:44:54 2005
Return-Path: <java-user-return-16751-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69487 invoked from network); 5 Oct 2005 19:44:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 19:44:54 -0000
Received: (qmail 29410 invoked by uid 500); 5 Oct 2005 19:44:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29363 invoked by uid 500); 5 Oct 2005 19:44:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29344 invoked by uid 99); 5 Oct 2005 19:44:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 12:44:46 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [70.84.109.20] (HELO box4.just-hosting.com) (70.84.109.20)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 12:44:45 -0700
Received: from [85.96.156.214] (helo=[127.0.0.1])
	by box4.just-hosting.com with esmtpa (Exim 4.52)
	id 1ENFBe-00051X-JX
	for java-user@lucene.apache.org; Wed, 05 Oct 2005 19:44:23 +0000
Message-ID: <43442CED.9030407@axtelsoft.com>
Date: Wed, 05 Oct 2005 22:43:41 +0300
From: Ahmet Aksoy <ahmetax@axtelsoft.com>
Reply-To:  ahmetax@axtelsoft.com
Organization: Axtelsoft
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Query returns an empty result set; but it is not empty actually!
Content-Type: text/plain; charset=ISO-8859-9; format=flowed
Content-Transfer-Encoding: 8bit
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - box4.just-hosting.com
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - axtelsoft.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
I have a dictionary. It is indexed as follows:

    private Document buildDocument(SozlukBirimi birim){
        Document doc = new Document();
        doc.add(Field.Keyword("soz", birim.getSoz()));
        doc.add(Field.Text("soz1", birim.getSoz()));
        doc.add(Field.Text("anlam", birim.getAnlam()));
        return doc;
    }

And my query is defined as:

    public List gelismisAnlamAra(String sorgu) throws ParseException
    {
        if(sorgu==null || sorgu.length()<2)
          return Collections.EMPTY_LIST;
        try
        {
            IndexSearcher searcher = new 
IndexSearcher(Indeksleyici.getRootDir()+Indeksleyici.INDEX_ROOT);
            Query q = QueryParser.parse(sorgu, "anlam", new 
TurkishAnalyser());
            Hits hits = searcher.search(q);
            return sonuclariIsle(hits);
        } catch (IOException e)
        {
            e.printStackTrace();
            return Collections.EMPTY_LIST;
        }
    }

TurkishAnalyzer is very simple!

public class TurkishAnalyser extends StandardAnalyzer
{
    private static Set _stopTable;

    public static final String[] STOP_WORDS =
            {
            ",", "$", ";", "-", ".",":"
            };
}

Some single Turkish words "menteþe", "eczane", "menekþe" returns an 
empty list for the query.
However, when a "*", or a "?" appended at the end of the query string, 
it returns the actual words in the result set.
What might the reason for that problem?
IMHO, Turkish characters do not have an affect on the problem. For 
example in "eczane" there is no special Turkish characters, but it has 
the same problem.

Ahmet Aksoy


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16752-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 21:26:29 2005
Return-Path: <java-user-return-16752-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7267 invoked from network); 5 Oct 2005 21:26:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 21:26:29 -0000
Received: (qmail 83300 invoked by uid 500); 5 Oct 2005 21:26:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82426 invoked by uid 500); 5 Oct 2005 21:26:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82415 invoked by uid 99); 5 Oct 2005 21:26:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 14:26:24 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of goodell@gmail.com designates 64.233.162.201 as permitted sender)
Received: from [64.233.162.201] (HELO zproxy.gmail.com) (64.233.162.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 14:26:27 -0700
Received: by zproxy.gmail.com with SMTP id i28so165653nzi
        for <java-user@lucene.apache.org>; Wed, 05 Oct 2005 14:26:01 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=MUXnFg1N9eneaZuSlrJuKM6hEF9kxfwqh+XMJBZDfv22f6fvXcjZ/SLsiOfoINTJ0NzNUjJ9hJlYNP4ZFZTZtRyqPstWwCFpVbyx54/vH5UAJAa4JfwANxOY40sPmdrvXPUzmA29DH6Aloeq34SQPsLHen+p1a9AtfkdhzPH7l8=
Received: by 10.36.79.6 with SMTP id c6mr896754nzb;
        Wed, 05 Oct 2005 14:26:01 -0700 (PDT)
Received: by 10.36.2.17 with HTTP; Wed, 5 Oct 2005 14:26:01 -0700 (PDT)
Message-ID: <55b2c6b90510051426j520f8c6ar@mail.gmail.com>
Date: Wed, 5 Oct 2005 14:26:01 -0700
From: Andy Goodell <goodell@gmail.com>
Reply-To: Andy Goodell <goodell@gmail.com>
To: java-user@lucene.apache.org
Subject: Query to return all documents in the index
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_21792_2805446.1128547561897"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_21792_2805446.1128547561897
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,
In my project we've been using the Searcher.search(query, filter, sort)
method to gather results. But as it turns out, sometimes we just want all o=
f
the documents that match with the filter, sorted by the sort field. Does
anyone know a query that returns all the documents in the index, so that i
could use that in this case?

thanks,
andy g

------=_Part_21792_2805446.1128547561897--

From java-user-return-16753-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 21:32:29 2005
Return-Path: <java-user-return-16753-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9340 invoked from network); 5 Oct 2005 21:32:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 21:32:29 -0000
Received: (qmail 86366 invoked by uid 500); 5 Oct 2005 21:32:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86335 invoked by uid 500); 5 Oct 2005 21:32:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86324 invoked by uid 99); 5 Oct 2005 21:32:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 14:32:25 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jjl@panix.com designates 166.84.1.74 as permitted sender)
Received: from [166.84.1.74] (HELO mail3.panix.com) (166.84.1.74)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 14:32:28 -0700
Received: from mailspool3.panix.com (mailspool3.panix.com [166.84.1.78])
	by mail3.panix.com (Postfix) with ESMTP id 5E5AD13A867
	for <java-user@lucene.apache.org>; Wed,  5 Oct 2005 17:32:00 -0400 (EDT)
Received: from [10.0.1.6] (pool-70-109-206-139.prov.east.verizon.net [70.109.206.139])
	by mailspool3.panix.com (Postfix) with ESMTP id 0A4D53607E2
	for <java-user@lucene.apache.org>; Wed,  5 Oct 2005 17:31:58 -0400 (EDT)
Mime-Version: 1.0
Message-Id: <p0621020cbf69eefcd9d4@[10.0.1.6]>
In-Reply-To: <03a301c5c9e2$accdfda0$0802a8c0@ME>
References:
 <92A278501EF50444AD3EE1FFB51219550BCE3989@emss10m03.rck.atm.lmco.com>
 <03a301c5c9e2$accdfda0$0802a8c0@ME>
Date: Wed, 5 Oct 2005 17:31:48 -0400
To: java-user@lucene.apache.org
From: "J.J. Larrea" <jjl@panix.com>
Subject: Re: What is a Hits object?
Content-Type: text/plain; charset="us-ascii"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

A Hits object is essentially a cache on query results.  It caches in 2 ways:

1. When a query returning Hits is requested, only the top 100 document IDs and scores are requested from the scoring system, and the ID/Score pairs are stored in a list in the Hits object.  Whenever a document ID, score, or Document object are requested that lie beyond the end of that list, the query is reexecuted in order to grow the list to at or beyond the request, typically 100% beyond it.

2. Returning a Document object (rather than a score or document ID) requires reconstituting the Document from the stored fields in the index, which is an expensive operation.  The Hits object maintains a cache of the 200 most recently requested Document objects, so it is unlikely they will need to be reconstituted more than once.

This is all optimized around typical hitlist access patterns - navigate forward and backwards through the results pages a small number of documents at a time.  For applications which cannot benefit from the Hits caching, for example which employ their own hit caching layer, one can effectively use the so-called "low level" IndexSearcher routines which return TopDocs rather than Hits.

- J.J.

At 8:26 PM +0100 10/5/05, Cyril Barlow wrote:
>Is it an actual array of full Documents or a list of reference points to
>Documents? And what's the typical size in memory of a Hits object with say
>1000 avg size docs?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16754-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 21:33:44 2005
Return-Path: <java-user-return-16754-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9654 invoked from network); 5 Oct 2005 21:33:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 21:33:44 -0000
Received: (qmail 88399 invoked by uid 500); 5 Oct 2005 21:33:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88255 invoked by uid 500); 5 Oct 2005 21:33:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88244 invoked by uid 99); 5 Oct 2005 21:33:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 14:33:39 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_50_60,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of adam.saltiel@gmail.com designates 66.249.82.203 as permitted sender)
Received: from [66.249.82.203] (HELO xproxy.gmail.com) (66.249.82.203)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 14:33:41 -0700
Received: by xproxy.gmail.com with SMTP id s15so52985wxc
        for <java-user@lucene.apache.org>; Wed, 05 Oct 2005 14:33:15 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=Qch4GPWzDsv0PToFi+b516d6+mvPPeGscOzpNl9E+Dw4uJQJdenij7vKVAkx3uLhdXAG2AW2I/p2oSt1dgNYqLhiVuXf57dJW7QDC7iCDWzIBQdBWCxz8j0+sRKq0RlrPkyS5cDDwbzfoWq6b/UyU474EIIXhtfjVGNFhhlVIvM=
Received: by 10.70.63.8 with SMTP id l8mr601703wxa;
        Wed, 05 Oct 2005 14:33:15 -0700 (PDT)
Received: by 10.70.105.18 with HTTP; Wed, 5 Oct 2005 14:33:15 -0700 (PDT)
Message-ID: <e8aa138c0510051433p4d9440a9wf98680c3a5ecdc33@mail.gmail.com>
Date: Wed, 5 Oct 2005 22:33:15 +0100
From: adasal <adam.saltiel@gmail.com>
Reply-To: adasal <adam.saltiel@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Regarding Lucene and LSI
In-Reply-To: <bf155c6c0510050630q923fd33nc6541101210cb96d@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_7217_27939138.1128547995498"
References: <bf155c6c0510050559o10274075vd11c9d8a3e69d0e6@mail.gmail.com>
	 <e8aa138c0510050620s53c85eeay7b9b5a460f43d963@mail.gmail.com>
	 <bf155c6c0510050630q923fd33nc6541101210cb96d@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_7217_27939138.1128547995498
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

gossamerthreads<http://www.gossamer-threads.com/lists/lucene/general/28530?=
page=3Dlast>shows
an exchange about this. It seems not yet.
BTW, meant to post to the list so forward my last email.

Adam

On 10/5/05, rrshwrk@gmail.com <rrshwrk@gmail.com> wrote:
>
>
>
> On 10/5/05, adasal <adam.saltiel@gmail.com> wrote:
> >
> > There are LSI and LSI like implementations in open source, but I am
> > unsure what the state of play is in Java. The most interesting work I k=
now
> > of is in Perl available (cvs permitting) from NITLE.<http://www.nitle.o=
rg/tools/semantic/search.htm>
>
>
> I have heard of one software called JAMA which is a java implementation.
> But i was seeing if lucene already supports LSI or not.
>
> What I would like to see is an implementation of Magnus Sahlgren, *Random
> > Indexing *which is described as "a very simple and effective approach t=
o
> > automatic [which can also be used for] bilingual lexicon acquisition. T=
he
> > approach is cooccurrence-based, and uses the Random Indexing vector spa=
ce
> > methodology applied to aligned bilingual data. The approach is simple,
> > efficient and scalable, and generate promising results when compared to=
 a
> > manually compiled lexicon." The point here is its scalability since
> > implementations of LSI are inefficient when documents are removed from =
the
> > collection. It seems to me that it is also less computationalyy intensi=
ve,
> > and should be possible to implement quite simply in Java. Does anyone k=
now
> > of such an attempt?
> > Adam
> >
> > On 10/5/05, rrshwrk@gmail.com <rrshwrk@gmail.com> wrote:
> > >
> > > Hi all,
> > >
> > > I am looking for LSI implementation i lucene. Is it available. I
> > > couldnt
> > > find it in the website. I searched in the archives but no help. could
> > > some
> > > one tell me if it is available or not.
> > >
> > > Could you tell me where can i see to find if there are any Language
> > > processing tools for Indexing and retrieval stuff available in Lucene
> > >
> > > thanks
> > >
> > >
> >
>

------=_Part_7217_27939138.1128547995498--

From java-user-return-16755-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 22:03:54 2005
Return-Path: <java-user-return-16755-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16043 invoked from network); 5 Oct 2005 22:03:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 22:03:53 -0000
Received: (qmail 22791 invoked by uid 500); 5 Oct 2005 22:03:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22766 invoked by uid 500); 5 Oct 2005 22:03:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22755 invoked by uid 99); 5 Oct 2005 22:03:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 15:03:49 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 15:03:52 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 537975B7B0; Wed,  5 Oct 2005 15:03:24 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP
	id 50B2C7F466; Wed,  5 Oct 2005 15:03:24 -0700 (PDT)
Date: Wed, 5 Oct 2005 15:03:24 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org, Andy Goodell <goodell@gmail.com>
Subject: Re: Query to return all documents in the index
In-Reply-To: <55b2c6b90510051426j520f8c6ar@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0510051501380.31218@hal.rescomp.berkeley.edu>
References: <55b2c6b90510051426j520f8c6ar@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: method to gather results. But as it turns out, sometimes we just want all of
: the documents that match with the filter, sorted by the sort field. Does
: anyone know a query that returns all the documents in the index, so that i
: could use that in this case?

use a ConstantScoreQuery wrapped arround your filter.  It works with
lucene1.4.3, but requires java1.4 ...

	http://issues.apache.org/jira/browse/LUCENE-383


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16756-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 05 22:41:57 2005
Return-Path: <java-user-return-16756-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30203 invoked from network); 5 Oct 2005 22:41:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Oct 2005 22:41:57 -0000
Received: (qmail 79382 invoked by uid 500); 5 Oct 2005 22:41:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78514 invoked by uid 500); 5 Oct 2005 22:41:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78503 invoked by uid 99); 5 Oct 2005 22:41:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 15:41:51 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 72.14.204.206 as permitted sender)
Received: from [72.14.204.206] (HELO qproxy.gmail.com) (72.14.204.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 15:41:54 -0700
Received: by qproxy.gmail.com with SMTP id a10so239851qbd
        for <java-user@lucene.apache.org>; Wed, 05 Oct 2005 15:41:28 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=a0fvnkkIg88xDE3yOfUXD5tXa1bAbTf65lqHcuJ8Wx9lifm5J41SSG+YSJsOJ/WHgqwUQsN9uJ3zmk3rHHr2WjwbQL+Nl4cBs0YM3TuG10nfgFdhI5fNihWJJIt7QtO/pSR8CpSVRfxzfRMAwtyaZhFPu5M/gbRf/3OANEXtDwU=
Received: by 10.65.44.20 with SMTP id w20mr632344qbj;
        Wed, 05 Oct 2005 15:41:28 -0700 (PDT)
Received: by 10.64.10.17 with HTTP; Wed, 5 Oct 2005 15:41:28 -0700 (PDT)
Message-ID: <50f433360510051541r7af7e409pe5b94d2f14624d8f@mail.gmail.com>
Date: Wed, 5 Oct 2005 15:41:28 -0700
From: Jeff Rodenburg <jeff.rodenburg@gmail.com>
Reply-To: Jeff Rodenburg <jeff.rodenburg@gmail.com>
To: java-user@lucene.apache.org
Subject: RemoteSearchable and sorting
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_6172_21271442.1128552088413"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_6172_21271442.1128552088413
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Are there known limitations or issues with sorting and RemoteSearchable? I'=
m
encountering problems attempting to sort through a MultiSearcher
(ParallelMultiSearcher, actually). I'm using an array of RemoteSearchable
objects as the Searchable[] source. If I change the source indexes to be
local IndexSearchers, sorting works just fine.

I've searched the threads of this mailing list as well as the outstanding
issues on the Apache issue tracker, but haven't found anything related to
this problem.

Thanks,
j

------=_Part_6172_21271442.1128552088413--

From java-user-return-16757-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 06 00:17:49 2005
Return-Path: <java-user-return-16757-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72165 invoked from network); 6 Oct 2005 00:17:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Oct 2005 00:17:48 -0000
Received: (qmail 621 invoked by uid 500); 6 Oct 2005 00:17:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99641 invoked by uid 500); 6 Oct 2005 00:17:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99630 invoked by uid 99); 6 Oct 2005 00:17:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 17:17:43 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.11.96] (HELO smtp007.mail.ukl.yahoo.com) (217.12.11.96)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 05 Oct 2005 17:17:46 -0700
Received: (qmail 29947 invoked from network); 6 Oct 2005 00:17:19 -0000
Received: from unknown (HELO ME) (directcareer@82.33.132.136 with login)
  by smtp007.mail.ukl.yahoo.com with SMTP; 6 Oct 2005 00:17:19 -0000
Message-ID: <04f201c5ca0b$03c1a300$0802a8c0@ME>
Reply-To: "Cyril Barlow" <info@fantasyfooty.org>
From: "Cyril Barlow" <info@fantasyfooty.org>
To: <java-user@lucene.apache.org>
References: <00cd01c5c9ae$d7af2780$0802a8c0@ME> <1DD0177B-91D8-4B2E-BCDE-07DEE558E826@ehatchersolutions.com> <016b01c5c9b4$5dbad9f0$0802a8c0@ME> <CBD20115-AC43-4EC7-908F-C07633B82643@ehatchersolutions.com> <034f01c5c9d7$e41cee20$0802a8c0@ME> <64803E10-C4F0-465B-AA83-4707C7665357@ehatchersolutions.com>
Subject: Re: IndexSearcher in servlet containers
Date: Thu, 6 Oct 2005 01:15:10 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


----- Original Message -----
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: <java-user@lucene.apache.org>
Sent: Wednesday, October 05, 2005 8:20 PM
Subject: Re: IndexSearcher in servlet containers


>
> On Oct 5, 2005, at 2:09 PM, Cyril Barlow wrote:
> >> I'm really confused on the dilemma here.
> >>
> >> You can create a startup hook using one of the Servlet specification
> >> listeners, create an IndexSearcher there, stuff it into application
> >> scope (context.setAttribute()).
> >>
> >> There is no digging into Jetty's guts needed, just plain and simple
> >> servlet API will suffice.
> >>
> >> Of course you'll also want a facility to re-instantiate the
> >> IndexSearcher if the index is changing, but that is just building
> >> upon the pieces I just described.
> >>
> >
> > OK, I add a IndexSearcher object using the context.setAttribute(IS)
> > but how
> > do I refer back to it from the servlet code?
>
> Uh... IndexSearcher searcher = (IndexSearcher) context.getAttribute
> ("<some key>")
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

Using one IndexSearcher across the whole application doesn't seem to work.
I'm getting :

 java.io.IOException: The handle is invalid at
java.io.RandomAccessFile.seek(Native Method) at
org.apache.lucene.store.FSInputStream.readInternal(FSDirectory.java:415) at
org.apache.lucene.store.InputStream.readBytes(InputStream.java:61) at
org.apache.lucene.index.CompoundFileReader$CSInputStream.readInternal(Compou
ndFileReader.java:220) at
org.apache.lucene.store.InputStream.refill(InputStream.java:158) at
org.apache.lucene.store.InputStream.readByte(InputStream.java:43) at
org.apache.lucene.store.InputStream.readVInt(InputStream.java:83) at
org.apache.lucene.index.SegmentTermEnum.readTerm(SegmentTermEnum.java:142)
at org.apache.lucene.index.SegmentTermEnum.next(SegmentTermEnum.java:115) at
org.apache.lucene.index.TermInfosReader.scanEnum(TermInfosReader.java:143)
at org.apache.lucene.index.TermInfosReader.get(TermInfosReader.java:132) at
org.apache.lucene.index.SegmentReader.docFreq(SegmentReader.java:253) at
org.apache.lucene.index.MultiReader.docFreq(MultiReader.java:192) at
org.apache.lucene.search.IndexSearcher.docFreq(IndexSearcher.java:69) at
org.apache.lucene.search.Similarity.idf(Similarity.java:255) at
org.apache.lucene.search.TermQuery$TermWeight.sumOfSquaredWeights(TermQuery.
java:47) at
org.apache.lucene.search.BooleanQuery$BooleanWeight.sumOfSquaredWeights(Bool
eanQuery.java:110) at org.apache.lucene.search.Query.weight(Query.java:86)
at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:117) at
org.apache.lucene.search.Hits.getMoreDocs(Hits.java:64) at
org.apache.lucene.search.Hits.(Hits.java:51) at
org.apache.lucene.search.Searcher.search(Searcher.java:41) at  ..........

This is after a few searches. Its ok before that. Any ideas?


		
___________________________________________________________ 
To help you stay safe and secure online, we've developed the all new Yahoo! Security Centre. http://uk.security.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16758-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 06 00:24:06 2005
Return-Path: <java-user-return-16758-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77795 invoked from network); 6 Oct 2005 00:24:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Oct 2005 00:24:06 -0000
Received: (qmail 4983 invoked by uid 500); 6 Oct 2005 00:24:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4115 invoked by uid 500); 6 Oct 2005 00:24:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4104 invoked by uid 99); 6 Oct 2005 00:24:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 17:24:01 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of rbpandey@gmail.com designates 64.233.184.205 as permitted sender)
Received: from [64.233.184.205] (HELO wproxy.gmail.com) (64.233.184.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 17:24:04 -0700
Received: by wproxy.gmail.com with SMTP id i21so132149wra
        for <java-user@lucene.apache.org>; Wed, 05 Oct 2005 17:23:38 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=gUGvk+lzL08La4HLgGodDKqJagPmsFUdRC5wpUOLnknwW24OmoPQw+QztQka4ObjTp04h/8YQLnuJOpgqcJF6ePJei3xT9cgYsTXge22r12Lx2cgW390Zqn0jGZssfH3gu0x2i6/g36RvZebc1kOJBcPw51BHlxiK7P1QcMIIYY=
Received: by 10.54.120.20 with SMTP id s20mr689663wrc;
        Wed, 05 Oct 2005 17:23:38 -0700 (PDT)
Received: by 10.54.69.16 with HTTP; Wed, 5 Oct 2005 17:23:38 -0700 (PDT)
Message-ID: <80d298bc0510051723i5cdbccf7y4f476c2b0133a3a@mail.gmail.com>
Date: Wed, 5 Oct 2005 20:23:38 -0400
From: Rasik Pandey <rbpandey@gmail.com>
Reply-To: Rasik Pandey <rbpandey@gmail.com>
To: java-user@lucene.apache.org, Jeff Rodenburg <jeff.rodenburg@gmail.com>
Subject: Re: RemoteSearchable and sorting
In-Reply-To: <50f433360510051541r7af7e409pe5b94d2f14624d8f@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <50f433360510051541r7af7e409pe5b94d2f14624d8f@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Jeff,

Sorting needs access to an IndexReader so it can do Term lookups, and
I don't think there is a remote impl of IndexReader probably because,
among other reasons, not all objects related to Terms are
Serializable. IMHO, it would be NICE to have a RemoteReader and a
ParallelMultiReader to round out the API like:

ParallelMultiReader, RemoteReader, MultiReader, Reader

AND

ParallelMultiSearcher,RemoteSearcher, MultiSearcher, Searcher

Regards,
Rus




On 10/5/05, Jeff Rodenburg <jeff.rodenburg@gmail.com> wrote:
> Are there known limitations or issues with sorting and RemoteSearchable? =
I'm
> encountering problems attempting to sort through a MultiSearcher
> (ParallelMultiSearcher, actually). I'm using an array of RemoteSearchable
> objects as the Searchable[] source. If I change the source indexes to be
> local IndexSearchers, sorting works just fine.
>
> I've searched the threads of this mailing list as well as the outstanding
> issues on the Apache issue tracker, but haven't found anything related to
> this problem.
>
> Thanks,
> j
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16759-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 06 00:48:26 2005
Return-Path: <java-user-return-16759-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86787 invoked from network); 6 Oct 2005 00:48:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Oct 2005 00:48:26 -0000
Received: (qmail 17726 invoked by uid 500); 6 Oct 2005 00:48:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17701 invoked by uid 500); 6 Oct 2005 00:48:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17690 invoked by uid 99); 6 Oct 2005 00:48:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 17:48:21 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 17:48:24 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 28D5113E200A; Wed,  5 Oct 2005 20:47:56 -0400 (EDT)
Received: from [172.16.1.101] (va-71-48-138-146.dhcp.sprint-hsd.net [71.48.138.146])
	by ehatchersolutions.com (Postfix) with ESMTP id 5E2BD13E200A
	for <java-user@lucene.apache.org>; Wed,  5 Oct 2005 20:47:40 -0400 (EDT)
In-Reply-To: <04f201c5ca0b$03c1a300$0802a8c0@ME>
References: <00cd01c5c9ae$d7af2780$0802a8c0@ME> <1DD0177B-91D8-4B2E-BCDE-07DEE558E826@ehatchersolutions.com> <016b01c5c9b4$5dbad9f0$0802a8c0@ME> <CBD20115-AC43-4EC7-908F-C07633B82643@ehatchersolutions.com> <034f01c5c9d7$e41cee20$0802a8c0@ME> <64803E10-C4F0-465B-AA83-4707C7665357@ehatchersolutions.com> <04f201c5ca0b$03c1a300$0802a8c0@ME>
Mime-Version: 1.0 (Apple Message framework v734)
X-Priority: 3
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <3D1DA7ED-3DC7-43B3-8A2A-BF6623D05C73@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: IndexSearcher in servlet containers
Date: Wed, 5 Oct 2005 20:47:36 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Oct 5, 2005, at 8:15 PM, Cyril Barlow wrote:
> Using one IndexSearcher across the whole application doesn't seem  
> to work.

It works for lucenebook.com :)

> I'm getting :
>
>  java.io.IOException: The handle is invalid at
> java.io.RandomAccessFile.seek(Native Method) at

Did you perhaps close the IndexSearcher somewhere along the way?

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16760-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 06 00:51:26 2005
Return-Path: <java-user-return-16760-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87701 invoked from network); 6 Oct 2005 00:51:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Oct 2005 00:51:26 -0000
Received: (qmail 21065 invoked by uid 500); 6 Oct 2005 00:51:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21040 invoked by uid 500); 6 Oct 2005 00:51:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21018 invoked by uid 99); 6 Oct 2005 00:51:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 17:51:20 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=HTML_20_30,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 72.14.204.199 as permitted sender)
Received: from [72.14.204.199] (HELO qproxy.gmail.com) (72.14.204.199)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 17:51:22 -0700
Received: by qproxy.gmail.com with SMTP id a10so250931qbd
        for <java-user@lucene.apache.org>; Wed, 05 Oct 2005 17:50:57 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:cc:in-reply-to:mime-version:content-type:references;
        b=TxSkSz1jmXJj/Wj4yb1toJ7pg6/rcqFESErlZRdcO3pzf2hOP22s+x1vAUg4xVZ0Kgx+0fT8u2TCimYz40bWUgzXgaDuPr2CAX+1dSB3KV5f8tD8yqCdbrXSnPJyd/A/hhbSqSbDAV/LSXl1Ox6jC2i1lOba3GBMh3pyRLjVvk8=
Received: by 10.64.204.6 with SMTP id b6mr690368qbg;
        Wed, 05 Oct 2005 17:50:57 -0700 (PDT)
Received: by 10.64.10.17 with HTTP; Wed, 5 Oct 2005 17:50:57 -0700 (PDT)
Message-ID: <50f433360510051750v184d36fek3d5aa5af64f6313@mail.gmail.com>
Date: Wed, 5 Oct 2005 17:50:57 -0700
From: Jeff Rodenburg <jeff.rodenburg@gmail.com>
Reply-To: Jeff Rodenburg <jeff.rodenburg@gmail.com>
To: Rasik Pandey <rbpandey@gmail.com>
Subject: Re: RemoteSearchable and sorting
Cc: java-user@lucene.apache.org
In-Reply-To: <80d298bc0510051723i5cdbccf7y4f476c2b0133a3a@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_8843_9160187.1128559857240"
References: <50f433360510051541r7af7e409pe5b94d2f14624d8f@mail.gmail.com>
	 <80d298bc0510051723i5cdbccf7y4f476c2b0133a3a@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_8843_9160187.1128559857240
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Thanks Rasik.

If this is the case, why is this exposed in the API? Should the overloaded
search method on ParallelMultiSearcher that takes a Sort object be removed?
I'm using the 1.4.3 codebase.

-j


On 10/5/05, Rasik Pandey <rbpandey@gmail.com> wrote:
>
> Hi Jeff,
>
> Sorting needs access to an IndexReader so it can do Term lookups, and
> I don't think there is a remote impl of IndexReader probably because,
> among other reasons, not all objects related to Terms are
> Serializable. IMHO, it would be NICE to have a RemoteReader and a
> ParallelMultiReader to round out the API like:
>
> ParallelMultiReader, RemoteReader, MultiReader, Reader
>
> AND
>
> ParallelMultiSearcher,RemoteSearcher, MultiSearcher, Searcher
>
> Regards,
> Rus
>
>
>
>
> On 10/5/05, Jeff Rodenburg <jeff.rodenburg@gmail.com> wrote:
> > Are there known limitations or issues with sorting and RemoteSearchable=
?
> I'm
> > encountering problems attempting to sort through a MultiSearcher
> > (ParallelMultiSearcher, actually). I'm using an array of
> RemoteSearchable
> > objects as the Searchable[] source. If I change the source indexes to b=
e
> > local IndexSearchers, sorting works just fine.
> >
> > I've searched the threads of this mailing list as well as the
> outstanding
> > issues on the Apache issue tracker, but haven't found anything related
> to
> > this problem.
> >
> > Thanks,
> > j
> >
> >
>

------=_Part_8843_9160187.1128559857240--

From java-user-return-16761-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 06 01:05:47 2005
Return-Path: <java-user-return-16761-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89635 invoked from network); 6 Oct 2005 01:05:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Oct 2005 01:05:46 -0000
Received: (qmail 30081 invoked by uid 500); 6 Oct 2005 01:05:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30056 invoked by uid 500); 6 Oct 2005 01:05:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30045 invoked by uid 99); 6 Oct 2005 01:05:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 18:05:42 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.11.34] (HELO smtp003.mail.ukl.yahoo.com) (217.12.11.34)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 05 Oct 2005 18:05:44 -0700
Received: (qmail 1307 invoked from network); 6 Oct 2005 01:05:18 -0000
Received: from unknown (HELO ME) (directcareer@82.33.132.136 with login)
  by smtp003.mail.ukl.yahoo.com with SMTP; 6 Oct 2005 01:05:17 -0000
Message-ID: <057101c5ca11$b6ed31a0$0802a8c0@ME>
Reply-To: "Cyril Barlow" <info@fantasyfooty.org>
From: "Cyril Barlow" <info@fantasyfooty.org>
To: <java-user@lucene.apache.org>
References: <00cd01c5c9ae$d7af2780$0802a8c0@ME> <1DD0177B-91D8-4B2E-BCDE-07DEE558E826@ehatchersolutions.com> <016b01c5c9b4$5dbad9f0$0802a8c0@ME> <CBD20115-AC43-4EC7-908F-C07633B82643@ehatchersolutions.com> <034f01c5c9d7$e41cee20$0802a8c0@ME> <64803E10-C4F0-465B-AA83-4707C7665357@ehatchersolutions.com> <04f201c5ca0b$03c1a300$0802a8c0@ME> <3D1DA7ED-3DC7-43B3-8A2A-BF6623D05C73@ehatchersolutions.com>
Subject: Re: IndexSearcher in servlet containers
Date: Thu, 6 Oct 2005 02:03:04 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


> > I'm getting :
> >
> >  java.io.IOException: The handle is invalid at
> > java.io.RandomAccessFile.seek(Native Method) at
>
> Did you perhaps close the IndexSearcher somewhere along the way?
>
>      Erik


No, but I'm now creating new IndexSearchers every servlet doPost method and
not closing them. It works without the caching probems for some reason and
it's much quicker?? I'm hoping the garbage collector sorts the cleaning up
though..


	
	
		
___________________________________________________________ 
Yahoo! Messenger - NEW crystal clear PC to PC calling worldwide with voicemail http://uk.messenger.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16762-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 06 01:11:46 2005
Return-Path: <java-user-return-16762-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95879 invoked from network); 6 Oct 2005 01:11:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Oct 2005 01:11:46 -0000
Received: (qmail 41728 invoked by uid 500); 6 Oct 2005 01:11:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41503 invoked by uid 500); 6 Oct 2005 01:11:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41492 invoked by uid 99); 6 Oct 2005 01:11:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 18:11:40 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 18:11:43 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 5A35E13E2007; Wed,  5 Oct 2005 21:11:16 -0400 (EDT)
Received: from [172.16.1.101] (va-71-48-138-146.dhcp.sprint-hsd.net [71.48.138.146])
	by ehatchersolutions.com (Postfix) with ESMTP id 06DC713E200A
	for <java-user@lucene.apache.org>; Wed,  5 Oct 2005 21:11:06 -0400 (EDT)
In-Reply-To: <057101c5ca11$b6ed31a0$0802a8c0@ME>
References: <00cd01c5c9ae$d7af2780$0802a8c0@ME> <1DD0177B-91D8-4B2E-BCDE-07DEE558E826@ehatchersolutions.com> <016b01c5c9b4$5dbad9f0$0802a8c0@ME> <CBD20115-AC43-4EC7-908F-C07633B82643@ehatchersolutions.com> <034f01c5c9d7$e41cee20$0802a8c0@ME> <64803E10-C4F0-465B-AA83-4707C7665357@ehatchersolutions.com> <04f201c5ca0b$03c1a300$0802a8c0@ME> <3D1DA7ED-3DC7-43B3-8A2A-BF6623D05C73@ehatchersolutions.com> <057101c5ca11$b6ed31a0$0802a8c0@ME>
Mime-Version: 1.0 (Apple Message framework v734)
X-Priority: 3
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <45381D0B-7A4D-4C66-AA40-7AB5B7A5121C@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: IndexSearcher in servlet containers
Date: Wed, 5 Oct 2005 21:10:17 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Oct 5, 2005, at 9:03 PM, Cyril Barlow wrote:

>
>
>>> I'm getting :
>>>
>>>  java.io.IOException: The handle is invalid at
>>> java.io.RandomAccessFile.seek(Native Method) at
>>>
>>
>> Did you perhaps close the IndexSearcher somewhere along the way?
>>
>>      Erik
>>
>
>
> No, but I'm now creating new IndexSearchers every servlet doPost  
> method and
> not closing them. It works without the caching probems for some  
> reason and
> it's much quicker?? I'm hoping the garbage collector sorts the  
> cleaning up
> though..

Creating an IndexSearcher for every request goes against how to use  
Lucene best.  A _single_ IndexSearcher for all searches is optimum.

You really ought to look into using a single instance.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16763-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 06 01:34:54 2005
Return-Path: <java-user-return-16763-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8025 invoked from network); 6 Oct 2005 01:34:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Oct 2005 01:34:53 -0000
Received: (qmail 66889 invoked by uid 500); 6 Oct 2005 01:34:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66857 invoked by uid 500); 6 Oct 2005 01:34:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66846 invoked by uid 99); 6 Oct 2005 01:34:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Oct 2005 18:34:48 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.11.35] (HELO smtp004.mail.ukl.yahoo.com) (217.12.11.35)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 05 Oct 2005 18:34:52 -0700
Received: (qmail 93141 invoked from network); 6 Oct 2005 01:34:25 -0000
Received: from unknown (HELO ME) (directcareer@82.33.132.136 with login)
  by smtp004.mail.ukl.yahoo.com with SMTP; 6 Oct 2005 01:34:25 -0000
Message-ID: <059901c5ca15$c8f96a40$0802a8c0@ME>
Reply-To: "Cyril Barlow" <info@fantasyfooty.org>
From: "Cyril Barlow" <info@fantasyfooty.org>
To: <java-user@lucene.apache.org>
References: <00cd01c5c9ae$d7af2780$0802a8c0@ME> <1DD0177B-91D8-4B2E-BCDE-07DEE558E826@ehatchersolutions.com> <016b01c5c9b4$5dbad9f0$0802a8c0@ME> <CBD20115-AC43-4EC7-908F-C07633B82643@ehatchersolutions.com> <034f01c5c9d7$e41cee20$0802a8c0@ME> <64803E10-C4F0-465B-AA83-4707C7665357@ehatchersolutions.com> <04f201c5ca0b$03c1a300$0802a8c0@ME> <3D1DA7ED-3DC7-43B3-8A2A-BF6623D05C73@ehatchersolutions.com> <057101c5ca11$b6ed31a0$0802a8c0@ME> <45381D0B-7A4D-4C66-AA40-7AB5B7A5121C@ehatchersolutions.com>
Subject: Re: IndexSearcher in servlet containers
Date: Thu, 6 Oct 2005 02:32:16 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


----- Original Message -----
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: <java-user@lucene.apache.org>
Sent: Thursday, October 06, 2005 2:10 AM
Subject: Re: IndexSearcher in servlet containers


>
> On Oct 5, 2005, at 9:03 PM, Cyril Barlow wrote:
>
> >
> >
> >>> I'm getting :
> >>>
> >>>  java.io.IOException: The handle is invalid at
> >>> java.io.RandomAccessFile.seek(Native Method) at
> >>>
> >>
> >> Did you perhaps close the IndexSearcher somewhere along the way?
> >>
> >>      Erik
> >>
> >
> >
> > No, but I'm now creating new IndexSearchers every servlet doPost
> > method and
> > not closing them. It works without the caching probems for some
> > reason and
> > it's much quicker?? I'm hoping the garbage collector sorts the
> > cleaning up
> > though..
>
> Creating an IndexSearcher for every request goes against how to use
> Lucene best.  A _single_ IndexSearcher for all searches is optimum.
>
> You really ought to look into using a single instance.
>
>      Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

Actually scrap that idea - it's back to caching problems again, back to find
a work around for the single instance indexsearcher- there probably is a
close method somewhere I've not commented out in the servlet..
When you create a IndexSearcher with a string directory rather than an
IndexReader - do you still have an IndexReader underneath - and if so do you
have to close that as well as an IndexSearcher?


	
	
		
___________________________________________________________ 
Yahoo! Messenger - NEW crystal clear PC to PC calling worldwide with voicemail http://uk.messenger.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16764-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 06 09:23:26 2005
Return-Path: <java-user-return-16764-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47009 invoked from network); 6 Oct 2005 09:23:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Oct 2005 09:23:25 -0000
Received: (qmail 60680 invoked by uid 500); 6 Oct 2005 09:23:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60623 invoked by uid 500); 6 Oct 2005 09:23:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60596 invoked by uid 99); 6 Oct 2005 09:23:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Oct 2005 02:23:20 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [193.194.158.19] (HELO exchange.bvdep.com) (193.194.158.19)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Oct 2005 02:23:23 -0700
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Subject: RE: Query to return all documents in the index
Date: Thu, 6 Oct 2005 11:22:56 +0200
Message-ID: <950FF7DE40C2B64CAF80B564732927E104CA1B1E@exchange.be.bvd>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Query to return all documents in the index
thread-index: AcXJ+LAR108LBb3CSiKAX2HyxILZugAXp2cA
From: "Vanlerberghe, Luc" <Luc.Vanlerberghe@bvdep.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

There is a MatchAllDocsQuery available (in the current development trunk
I believe) in org.apache.lucene.search.
I simply took the source and compiled it along with my project to use
it...

Luc


-----Original Message-----
From: hossman@hal.rescomp.berkeley.edu
[mailto:hossman@hal.rescomp.berkeley.edu] On Behalf Of Chris Hostetter
Sent: donderdag 6 oktober 2005 0:03
To: java-user@lucene.apache.org; Andy Goodell
Subject: Re: Query to return all documents in the index


: method to gather results. But as it turns out, sometimes we just want
all of
: the documents that match with the filter, sorted by the sort field.
Does
: anyone know a query that returns all the documents in the index, so
that i
: could use that in this case?

use a ConstantScoreQuery wrapped arround your filter.  It works with
lucene1.4.3, but requires java1.4 ...

	http://issues.apache.org/jira/browse/LUCENE-383


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16765-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 06 09:26:24 2005
Return-Path: <java-user-return-16765-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47448 invoked from network); 6 Oct 2005 09:26:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Oct 2005 09:26:23 -0000
Received: (qmail 62275 invoked by uid 500); 6 Oct 2005 09:26:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62250 invoked by uid 500); 6 Oct 2005 09:26:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62239 invoked by uid 99); 6 Oct 2005 09:26:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Oct 2005 02:26:18 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=HTML_MESSAGE,HTML_TEXT_AFTER_BODY,HTML_TEXT_AFTER_HTML
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [212.179.127.169] (HELO koutmail.amdocs.com) (212.179.127.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Oct 2005 02:26:19 -0700
Received: from omail2.amdocs.com ([212.179.127.133])
	by koutmail.amdocs.com (8.12.11/8.12.9) with ESMTP id j969NcdL009702
	for <java-user@lucene.apache.org>; Thu, 6 Oct 2005 11:23:39 +0200
Received: from tlvmail7.corp.amdocs.com (localhost.localdomain [127.0.0.1])
	by omail2.amdocs.com (8.12.11/8.12.11) with ESMTP id j969Pj17004900
	for <java-user@lucene.apache.org>; Thu, 6 Oct 2005 11:25:45 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C5CA58.099CEDAD"
Subject: IndexWriter recreating
Date: Thu, 6 Oct 2005 12:26:31 +0300
Message-ID: <191B11CF22BAC54292E97F3B5CDC9C85AC8E0E@tlvmail7.corp.amdocs.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: IndexWriter recreating
Thread-Index: AcXKWAlNrHs2GACgSUqYVv9EZL8YdA==
From: "Alex Kiselevski" <ALEXKIS@Amdocs.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C5CA58.099CEDAD
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable


Hi,

I have a strange exception when I'm trying to recreate an IndexWriter
that was previously defined.

=0D

I did the following steps:

1.	    mWriter =3D new IndexWriter(indexPath, analyzer, true);=0D
2.	    mWriter.addDocument(document);=0D
3.	    mWriter.optimize();=0D
4.	    mWriter.close();=0D

=0D

In the next step I try to recreate the indexWriter by the same way I did
it in the first step

5.	    mWriter =3D new IndexWriter(indexPath, analyzer, true);=0D

And I got an Exception:

=0D

java.io.IOException: Cannot delete _a.cfs

=0D

            at
org.apache.lucene.store.FSDirectory.create(FSDirectory.java:144)

=0D

            at
org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:105)

=0D

            at
org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:83)

=0D

            at
org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:173)

=0D

            at
com.stp.core.cv.index.AbstractIndexer.<init>(AbstractIndexer.java:28)

=0D

            at com.stp.core.cv.index.CVIndexer.<init>(CVIndexer.java:27)

=0D

            at com.stp.core.CVFacade.indexDocuments(CVFacade.java:102)

=0D

            at
com.stp.test.STPTestUtility.indexDocuments(STPTestUtility.java:129)

=0D

            at
com.stp.test.STPStorePanel$IndexThread.run(STPStorePanel.java:649)

=0D

=0D

=0D

Alex Kiselevski=0D

Solution Engineer  Pre Sales

+9.729.776.7086 (desk)
+9.729.776.1504 (fax)

AMDOCS > INTEGRATED CUSTOMER MANAGEMENT

=0D

=0D

=0D

Alex Kiselevski=0D

Solution Engineer  Pre Sales

+9.729.776.7086 (desk)
+9.729.776.1504 (fax)

AMDOCS > INTEGRATED CUSTOMER MANAGEMENT

=0D



The information contained in this message is proprietary of Amdocs,
protected from disclosure, and may be privileged.
The information is intended to be conveyed only to the designated=
 recipient(s)
of the message. If the reader of this message is not the intended=
 recipient,
you are hereby notified that any dissemination, use, distribution or=
 copying of=0D
this communication is strictly prohibited and may be unlawful.=0D
If you have received this communication in error, please notify us=
 immediately
by replying to the message and deleting it from your computer.
Thank you.
------_=_NextPart_001_01C5CA58.099CEDAD--

From java-user-return-16766-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 06 11:57:14 2005
Return-Path: <java-user-return-16766-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15430 invoked from network); 6 Oct 2005 11:57:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Oct 2005 11:57:14 -0000
Received: (qmail 95866 invoked by uid 500); 6 Oct 2005 11:57:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95847 invoked by uid 500); 6 Oct 2005 11:57:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95836 invoked by uid 99); 6 Oct 2005 11:57:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Oct 2005 04:57:07 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.11.32] (HELO smtp001.mail.ukl.yahoo.com) (217.12.11.32)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 06 Oct 2005 04:57:10 -0700
Received: (qmail 20196 invoked from network); 6 Oct 2005 11:56:42 -0000
Received: from unknown (HELO ME) (directcareer@82.33.132.136 with login)
  by smtp001.mail.ukl.yahoo.com with SMTP; 6 Oct 2005 11:56:41 -0000
Message-ID: <000b01c5ca6c$b6b410e0$0802a8c0@ME>
Reply-To: "Cyril Barlow" <info@fantasyfooty.org>
From: "Cyril Barlow" <info@fantasyfooty.org>
To: <java-user@lucene.apache.org>
References: <950FF7DE40C2B64CAF80B564732927E104CA1B1E@exchange.be.bvd>
Subject: Re: Query to return all documents in the index
Date: Thu, 6 Oct 2005 12:54:31 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Have a look at your fields to see if they share a certain term. eg if you
have a URL field then 'http' will probably bring them all up.


		
___________________________________________________________ 
To help you stay safe and secure online, we've developed the all new Yahoo! Security Centre. http://uk.security.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16767-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 06 12:37:17 2005
Return-Path: <java-user-return-16767-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30556 invoked from network); 6 Oct 2005 12:37:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Oct 2005 12:37:16 -0000
Received: (qmail 43444 invoked by uid 500); 6 Oct 2005 12:37:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43412 invoked by uid 500); 6 Oct 2005 12:37:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43399 invoked by uid 99); 6 Oct 2005 12:37:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Oct 2005 05:37:11 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Oct 2005 05:37:13 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 29EF213E2033; Thu,  6 Oct 2005 08:36:47 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id DF21F13E2007
	for <java-user@lucene.apache.org>; Thu,  6 Oct 2005 08:36:35 -0400 (EDT)
In-Reply-To: <059901c5ca15$c8f96a40$0802a8c0@ME>
References: <00cd01c5c9ae$d7af2780$0802a8c0@ME> <1DD0177B-91D8-4B2E-BCDE-07DEE558E826@ehatchersolutions.com> <016b01c5c9b4$5dbad9f0$0802a8c0@ME> <CBD20115-AC43-4EC7-908F-C07633B82643@ehatchersolutions.com> <034f01c5c9d7$e41cee20$0802a8c0@ME> <64803E10-C4F0-465B-AA83-4707C7665357@ehatchersolutions.com> <04f201c5ca0b$03c1a300$0802a8c0@ME> <3D1DA7ED-3DC7-43B3-8A2A-BF6623D05C73@ehatchersolutions.com> <057101c5ca11$b6ed31a0$0802a8c0@ME> <45381D0B-7A4D-4C66-AA40-7AB5B7A5121C@ehatchersolutions.com> <059901c5ca15$c8f96a40$0802a8c0@ME>
Mime-Version: 1.0 (Apple Message framework v734)
X-Priority: 3
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <3885A5E4-6D4E-4233-B482-5783A2ABFCA5@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: IndexSearcher in servlet containers
Date: Thu, 6 Oct 2005 08:36:30 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.7 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Oct 5, 2005, at 9:32 PM, Cyril Barlow wrote:
>> Creating an IndexSearcher for every request goes against how to use
>> Lucene best.  A _single_ IndexSearcher for all searches is optimum.
>>
>> You really ought to look into using a single instance.
>>
>>      Erik
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
> Actually scrap that idea - it's back to caching problems again,  
> back to find
> a work around for the single instance indexsearcher- there probably  
> is a
> close method somewhere I've not commented out in the servlet..
> When you create a IndexSearcher with a string directory rather than an
> IndexReader - do you still have an IndexReader underneath - and if  
> so do you
> have to close that as well as an IndexSearcher?

There really is no need to close an IndexSearcher until you need to  
instantiate another one, and even then you can let the old instance  
go without closing and all will still be well.  If you construct  
IndexSearcher with a String directory name, there is no need to close  
anything other than (optionally) the IndexSearcher.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16768-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 06 12:48:04 2005
Return-Path: <java-user-return-16768-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35420 invoked from network); 6 Oct 2005 12:48:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Oct 2005 12:48:04 -0000
Received: (qmail 64298 invoked by uid 500); 6 Oct 2005 12:47:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64278 invoked by uid 500); 6 Oct 2005 12:47:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64267 invoked by uid 99); 6 Oct 2005 12:47:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Oct 2005 05:47:58 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.11.36] (HELO smtp005.mail.ukl.yahoo.com) (217.12.11.36)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 06 Oct 2005 05:48:01 -0700
Received: (qmail 45931 invoked from network); 6 Oct 2005 12:47:35 -0000
Received: from unknown (HELO ME) (directcareer@82.33.132.136 with login)
  by smtp005.mail.ukl.yahoo.com with SMTP; 6 Oct 2005 12:47:34 -0000
Message-ID: <00cc01c5ca73$d292c110$0802a8c0@ME>
Reply-To: "Cyril Barlow" <info@fantasyfooty.org>
From: "Cyril Barlow" <info@fantasyfooty.org>
To: <java-user@lucene.apache.org>
References: <191B11CF22BAC54292E97F3B5CDC9C85AC8E0E@tlvmail7.corp.amdocs.com>
Subject: IndexSearcher over RMI
Date: Thu, 6 Oct 2005 13:45:22 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'm trying to pass an IndexSearcher over RMI but I'm getting a :

java.rmi.UnmarshalException: error unmarshalling return; nested exception
is:
        java.io.WriteAbortedException: writing aborted;
java.io.NotSerializableException: org.apache.lucene.search.IndexSearcher

Is there any way around this?


		
___________________________________________________________ 
To help you stay safe and secure online, we've developed the all new Yahoo! Security Centre. http://uk.security.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16769-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 06 12:51:59 2005
Return-Path: <java-user-return-16769-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36781 invoked from network); 6 Oct 2005 12:51:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Oct 2005 12:51:57 -0000
Received: (qmail 67532 invoked by uid 500); 6 Oct 2005 12:50:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67445 invoked by uid 500); 6 Oct 2005 12:50:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67075 invoked by uid 99); 6 Oct 2005 12:50:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Oct 2005 05:50:45 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Oct 2005 05:50:49 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id A031F13E2007; Thu,  6 Oct 2005 08:50:24 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id CE0FA13E2007
	for <java-user@lucene.apache.org>; Thu,  6 Oct 2005 08:50:01 -0400 (EDT)
In-Reply-To: <00cc01c5ca73$d292c110$0802a8c0@ME>
References: <191B11CF22BAC54292E97F3B5CDC9C85AC8E0E@tlvmail7.corp.amdocs.com> <00cc01c5ca73$d292c110$0802a8c0@ME>
Mime-Version: 1.0 (Apple Message framework v734)
X-Priority: 3
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <E0821CFA-8BAB-405B-B2ED-33977EDE10AF@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: IndexSearcher over RMI
Date: Thu, 6 Oct 2005 08:49:59 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.7 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Oct 6, 2005, at 8:45 AM, Cyril Barlow wrote:
> I'm trying to pass an IndexSearcher over RMI but I'm getting a :
>
> java.rmi.UnmarshalException: error unmarshalling return; nested  
> exception
> is:
>         java.io.WriteAbortedException: writing aborted;
> java.io.NotSerializableException:  
> org.apache.lucene.search.IndexSearcher
>
> Is there any way around this?

Yes - use RemoteSearchable.

Might I suggest you pick up a copy of "Lucene in Action" where most  
of the questions you've asked recently are answered?! :)

     http://www.lucenebook.com

Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16770-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 06 12:52:08 2005
Return-Path: <java-user-return-16770-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37148 invoked from network); 6 Oct 2005 12:52:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Oct 2005 12:52:07 -0000
Received: (qmail 68951 invoked by uid 500); 6 Oct 2005 12:51:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68902 invoked by uid 500); 6 Oct 2005 12:51:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68872 invoked by uid 99); 6 Oct 2005 12:51:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Oct 2005 05:51:03 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.11.96] (HELO smtp007.mail.ukl.yahoo.com) (217.12.11.96)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 06 Oct 2005 05:51:06 -0700
Received: (qmail 14939 invoked from network); 6 Oct 2005 12:50:40 -0000
Received: from unknown (HELO ME) (directcareer@82.33.132.136 with login)
  by smtp007.mail.ukl.yahoo.com with SMTP; 6 Oct 2005 12:50:39 -0000
Message-ID: <00d601c5ca74$40fb3830$0802a8c0@ME>
Reply-To: "Cyril Barlow" <info@fantasyfooty.org>
From: "Cyril Barlow" <info@fantasyfooty.org>
To: <java-user@lucene.apache.org>
References: <00cd01c5c9ae$d7af2780$0802a8c0@ME> <1DD0177B-91D8-4B2E-BCDE-07DEE558E826@ehatchersolutions.com> <016b01c5c9b4$5dbad9f0$0802a8c0@ME> <CBD20115-AC43-4EC7-908F-C07633B82643@ehatchersolutions.com> <034f01c5c9d7$e41cee20$0802a8c0@ME> <64803E10-C4F0-465B-AA83-4707C7665357@ehatchersolutions.com> <04f201c5ca0b$03c1a300$0802a8c0@ME> <3D1DA7ED-3DC7-43B3-8A2A-BF6623D05C73@ehatchersolutions.com> <057101c5ca11$b6ed31a0$0802a8c0@ME> <45381D0B-7A4D-4C66-AA40-7AB5B7A5121C@ehatchersolutions.com> <059901c5ca15$c8f96a40$0802a8c0@ME> <3885A5E4-6D4E-4233-B482-5783A2ABFCA5@ehatchersolutions.com>
Subject: Re: IndexSearcher in servlet containers
Date: Thu, 6 Oct 2005 13:48:25 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


>
> There really is no need to close an IndexSearcher until you need to
> instantiate another one, and even then you can let the old instance
> go without closing and all will still be well.  If you construct
> IndexSearcher with a String directory name, there is no need to close
> anything other than (optionally) the IndexSearcher.
>
>      Erik
>

Cheers Erik. Looking at IndexSearcher over RMI but that seems to be throwing
up serialization problems.


		
___________________________________________________________ 
To help you stay safe and secure online, we've developed the all new Yahoo! Security Centre. http://uk.security.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16771-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 06 15:19:04 2005
Return-Path: <java-user-return-16771-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17285 invoked from network); 6 Oct 2005 15:19:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Oct 2005 15:19:04 -0000
Received: (qmail 78154 invoked by uid 500); 6 Oct 2005 15:18:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78118 invoked by uid 500); 6 Oct 2005 15:18:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78107 invoked by uid 99); 6 Oct 2005 15:18:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Oct 2005 08:18:57 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.11.36] (HELO smtp005.mail.ukl.yahoo.com) (217.12.11.36)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 06 Oct 2005 08:19:00 -0700
Received: (qmail 25614 invoked from network); 6 Oct 2005 15:18:33 -0000
Received: from unknown (HELO ME) (directcareer@82.33.132.136 with login)
  by smtp005.mail.ukl.yahoo.com with SMTP; 6 Oct 2005 15:18:33 -0000
Message-ID: <01b701c5ca88$ea10a6d0$0802a8c0@ME>
Reply-To: "Cyril Barlow" <info@fantasyfooty.org>
From: "Cyril Barlow" <info@fantasyfooty.org>
To: <java-user@lucene.apache.org>
References: <191B11CF22BAC54292E97F3B5CDC9C85AC8E0E@tlvmail7.corp.amdocs.com> <00cc01c5ca73$d292c110$0802a8c0@ME> <E0821CFA-8BAB-405B-B2ED-33977EDE10AF@ehatchersolutions.com>
Subject: Re: IndexSearcher over RMI
Date: Thu, 6 Oct 2005 16:16:23 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


----- Original Message ----- 
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: <java-user@lucene.apache.org>
Sent: Thursday, October 06, 2005 1:49 PM
Subject: Re: IndexSearcher over RMI


> 
> On Oct 6, 2005, at 8:45 AM, Cyril Barlow wrote:
> > I'm trying to pass an IndexSearcher over RMI but I'm getting a :
> >
> > java.rmi.UnmarshalException: error unmarshalling return; nested  
> > exception
> > is:
> >         java.io.WriteAbortedException: writing aborted;
> > java.io.NotSerializableException:  
> > org.apache.lucene.search.IndexSearcher
> >
> > Is there any way around this?
> 
> Yes - use RemoteSearchable.
> 
> Might I suggest you pick up a copy of "Lucene in Action" where most  
> of the questions you've asked recently are answered?! :)
> 
>      http://www.lucenebook.com
> 
> Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
Cool I'll have a look

	
	
		
___________________________________________________________ 
Yahoo! Messenger - NEW crystal clear PC to PC calling worldwide with voicemail http://uk.messenger.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16772-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 06 15:31:19 2005
Return-Path: <java-user-return-16772-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28574 invoked from network); 6 Oct 2005 15:31:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Oct 2005 15:31:19 -0000
Received: (qmail 4078 invoked by uid 500); 6 Oct 2005 15:31:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3683 invoked by uid 500); 6 Oct 2005 15:31:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3672 invoked by uid 99); 6 Oct 2005 15:31:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Oct 2005 08:31:12 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.11.35] (HELO smtp004.mail.ukl.yahoo.com) (217.12.11.35)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 06 Oct 2005 08:31:16 -0700
Received: (qmail 84581 invoked from network); 6 Oct 2005 15:30:50 -0000
Received: from unknown (HELO ME) (directcareer@82.33.132.136 with login)
  by smtp004.mail.ukl.yahoo.com with SMTP; 6 Oct 2005 15:30:50 -0000
Message-ID: <01e501c5ca8a$a12ee5b0$0802a8c0@ME>
Reply-To: "Cyril Barlow" <info@fantasyfooty.org>
From: "Cyril Barlow" <info@fantasyfooty.org>
To: <java-user@lucene.apache.org>
References: <92A278501EF50444AD3EE1FFB51219550BCE3989@emss10m03.rck.atm.lmco.com> <03a301c5c9e2$accdfda0$0802a8c0@ME> <p0621020cbf69eefcd9d4@[10.0.1.6]>
Subject: Re: What is a Hits object?
Date: Thu, 6 Oct 2005 16:28:40 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


----- Original Message -----
From: "J.J. Larrea" <jjl@panix.com>
To: <java-user@lucene.apache.org>
Sent: Wednesday, October 05, 2005 10:31 PM
Subject: Re: What is a Hits object?


> A Hits object is essentially a cache on query results.  It caches in 2
ways:
>
> 1. When a query returning Hits is requested, only the top 100 document IDs
and scores are requested from the scoring system, and the ID/Score pairs are
stored in a list in the Hits object.  Whenever a document ID, score, or
Document object are requested that lie beyond the end of that list, the
query is reexecuted in order to grow the list to at or beyond the request,
typically 100% beyond it.
>
> 2. Returning a Document object (rather than a score or document ID)
requires reconstituting the Document from the stored fields in the index,
which is an expensive operation.  The Hits object maintains a cache of the
200 most recently requested Document objects, so it is unlikely they will
need to be reconstituted more than once.
>
> This is all optimized around typical hitlist access patterns - navigate
forward and backwards through the results pages a small number of documents
at a time.  For applications which cannot benefit from the Hits caching, for
example which employ their own hit caching layer, one can effectively use
the so-called "low level" IndexSearcher routines which return TopDocs rather
than Hits.
>
> - J.J.
>
> At 8:26 PM +0100 10/5/05, Cyril Barlow wrote:
> >Is it an actual array of full Documents or a list of reference points to
> >Documents? And what's the typical size in memory of a Hits object with
say
> >1000 avg size docs?
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

How long does the Hits object stay in memory for? Until the IndexSearcher
closes? And if you just use 1 IndexSearcher would there be a big collection
of Hits in memory?


	
	
		
___________________________________________________________ 
Yahoo! Messenger - NEW crystal clear PC to PC calling worldwide with voicemail http://uk.messenger.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16773-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 06 15:56:59 2005
Return-Path: <java-user-return-16773-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41695 invoked from network); 6 Oct 2005 15:56:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Oct 2005 15:56:59 -0000
Received: (qmail 66062 invoked by uid 500); 6 Oct 2005 15:56:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66041 invoked by uid 500); 6 Oct 2005 15:56:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66030 invoked by uid 99); 6 Oct 2005 15:56:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Oct 2005 08:56:53 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.200.39] (HELO web31106.mail.mud.yahoo.com) (68.142.200.39)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 06 Oct 2005 08:56:55 -0700
Received: (qmail 39858 invoked by uid 60001); 6 Oct 2005 15:56:29 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=Tjfhj62hVu6iSPpRGqqMPXplKmCJ8AtT7MULnB6I2OMbCOl+ulsR9BzRNckxofeqOdeEjYzSUDrdBppu30Iks7liqos8MhIlPmYFJ3ODO9w6mqe4n6k4ZzQTuVHvmbPPz2tLrrunXPkpL6YkPiVE60ii3BIJlt+j4HCvJ+lpiio=  ;
Message-ID: <20051006155629.39856.qmail@web31106.mail.mud.yahoo.com>
Received: from [216.194.55.187] by web31106.mail.mud.yahoo.com via HTTP; Thu, 06 Oct 2005 08:56:29 PDT
Date: Thu, 6 Oct 2005 08:56:29 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: IndexWriter recreating
To: java-user@lucene.apache.org
In-Reply-To: <191B11CF22BAC54292E97F3B5CDC9C85AC8E0E@tlvmail7.corp.amdocs.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Alex,

Please wrap this in a unit test (using JUnit) that makes it repeatable.
 When yo uhave that, please file the bug in JIRA and attach your unit
test.

Thanks,
Otis


--- Alex Kiselevski <ALEXKIS@Amdocs.com> wrote:

> 
> Hi,
> 
> I have a strange exception when I'm trying to recreate an IndexWriter
> that was previously defined.
> 
> 
> 
> I did the following steps:
> 
> 1.	    mWriter = new IndexWriter(indexPath, analyzer, true);
> 2.	    mWriter.addDocument(document);
> 3.	    mWriter.optimize();
> 4.	    mWriter.close();
> 
> 
> 
> In the next step I try to recreate the indexWriter by the same way I
> did
> it in the first step
> 
> 5.	    mWriter = new IndexWriter(indexPath, analyzer, true);
> 
> And I got an Exception:
> 
> 
> 
> java.io.IOException: Cannot delete _a.cfs
> 
> 
> 
>             at
> org.apache.lucene.store.FSDirectory.create(FSDirectory.java:144)
> 
> 
> 
>             at
>
org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:105)
> 
> 
> 
>             at
> org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:83)
> 
> 
> 
>             at
> org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:173)
> 
> 
> 
>             at
> com.stp.core.cv.index.AbstractIndexer.<init>(AbstractIndexer.java:28)
> 
> 
> 
>             at
> com.stp.core.cv.index.CVIndexer.<init>(CVIndexer.java:27)
> 
> 
> 
>             at
> com.stp.core.CVFacade.indexDocuments(CVFacade.java:102)
> 
> 
> 
>             at
> com.stp.test.STPTestUtility.indexDocuments(STPTestUtility.java:129)
> 
> 
> 
>             at
> com.stp.test.STPStorePanel$IndexThread.run(STPStorePanel.java:649)
> 
> 
> 
> 
> 
> 
> 
> Alex Kiselevski
> 
> Solution Engineer  Pre Sales
> 
> +9.729.776.7086 (desk)
> +9.729.776.1504 (fax)
> 
> AMDOCS > INTEGRATED CUSTOMER MANAGEMENT
> 
> 
> 
> 
> 
> 
> 
> Alex Kiselevski
> 
> Solution Engineer  Pre Sales
> 
> +9.729.776.7086 (desk)
> +9.729.776.1504 (fax)
> 
> AMDOCS > INTEGRATED CUSTOMER MANAGEMENT
> 
> 
> 
> 
> 
> The information contained in this message is proprietary of Amdocs,
> protected from disclosure, and may be privileged.
> The information is intended to be conveyed only to the designated
> recipient(s)
> of the message. If the reader of this message is not the intended
> recipient,
> you are hereby notified that any dissemination, use, distribution or
> copying of
> this communication is strictly prohibited and may be unlawful.
> If you have received this communication in error, please notify us
> immediately
> by replying to the message and deleting it from your computer.
> Thank you.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16774-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 06 15:59:10 2005
Return-Path: <java-user-return-16774-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42541 invoked from network); 6 Oct 2005 15:59:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Oct 2005 15:59:10 -0000
Received: (qmail 74054 invoked by uid 500); 6 Oct 2005 15:59:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74027 invoked by uid 500); 6 Oct 2005 15:59:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74012 invoked by uid 99); 6 Oct 2005 15:59:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Oct 2005 08:59:03 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.200.43] (HELO web31110.mail.mud.yahoo.com) (68.142.200.43)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 06 Oct 2005 08:59:06 -0700
Received: (qmail 89745 invoked by uid 60001); 6 Oct 2005 15:58:40 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=UuiV6FTZVY0uSm5xjzhL0VzXFslSZbvalJL+TO6W46LnabvzRMVOlOAsMoQxswKb3jv3ETVDd+DjPd7aZQCYlHViyMb/7l35F2nIEsdwLSClYCxjhrrP6BSJKR6qjOecL4TBB1K1QD2eo8Z2rxRrqr7aE3M7SmsbQru+jLlCJnE=  ;
Message-ID: <20051006155840.89743.qmail@web31110.mail.mud.yahoo.com>
Received: from [216.194.55.187] by web31110.mail.mud.yahoo.com via HTTP; Thu, 06 Oct 2005 08:58:40 PDT
Date: Thu, 6 Oct 2005 08:58:40 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: repetition of document while indexing..................
To: java-user@lucene.apache.org
In-Reply-To: <20051006081931.38113.qmail@web8604.mail.in.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

This is a question for java-user@ list, not java-dev@

Hello Shadab,

You need to make your application perform the "primary key"-like logic.
 It can, for instance, look in the index first, before adding a
document, using a field designated to be the PK.  If it finds an
existing document, delete it before re-adding it.

Otis

--- shadab khan <callforshadab@yahoo.co.in> wrote:

> When i am indexing a document which i already have indexed, it is
> creating a different index for that. Therefore when i am going to
> search for a particular field. it is showing the result for these two
> documents. 
> Now my problem is that how to control that repetition of data????
> Hoping for your help.. 
>  
> with regards,
> shadab
> 
> 		
> ---------------------------------
>  Yahoo! India Matrimony: Find your partner now.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16775-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 06 16:23:19 2005
Return-Path: <java-user-return-16775-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54341 invoked from network); 6 Oct 2005 16:23:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Oct 2005 16:23:18 -0000
Received: (qmail 47134 invoked by uid 500); 6 Oct 2005 16:23:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47046 invoked by uid 500); 6 Oct 2005 16:23:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47017 invoked by uid 99); 6 Oct 2005 16:23:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Oct 2005 09:23:06 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Oct 2005 09:23:08 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 37F6F13E2033; Thu,  6 Oct 2005 12:22:40 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 74C6413E200A
	for <java-user@lucene.apache.org>; Thu,  6 Oct 2005 12:22:23 -0400 (EDT)
In-Reply-To: <01e501c5ca8a$a12ee5b0$0802a8c0@ME>
References: <92A278501EF50444AD3EE1FFB51219550BCE3989@emss10m03.rck.atm.lmco.com> <03a301c5c9e2$accdfda0$0802a8c0@ME> <p0621020cbf69eefcd9d4@[10.0.1.6]> <01e501c5ca8a$a12ee5b0$0802a8c0@ME>
Mime-Version: 1.0 (Apple Message framework v734)
X-Priority: 3
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <7C373F4C-DD9B-472D-BADA-16D6A2E03387@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: What is a Hits object?
Date: Thu, 6 Oct 2005 12:22:19 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.7 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Oct 6, 2005, at 11:28 AM, Cyril Barlow wrote:
> How long does the Hits object stay in memory for?

As long as you keep it around.  Lucene isn't responsible for keeping  
a reference to it, your application is.

> Until the IndexSearcher closes? And if you just use 1 IndexSearcher  
> would there be a big collection
> of Hits in memory?

See above.  You're entirely in charge of the Hits object being kept  
around, or not.

Since you're obviously in a servlet environment, you probably will  
want to implement some sort of paging through Hits.  One option is to  
simply throw Hits away after every request and re-search for every  
page.  That works well enough in every case I've encountered that I  
haven't used the alternative of keeping Hits around across requests.

     Erik




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16776-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 06 16:46:22 2005
Return-Path: <java-user-return-16776-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63314 invoked from network); 6 Oct 2005 16:46:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Oct 2005 16:46:22 -0000
Received: (qmail 85206 invoked by uid 500); 6 Oct 2005 16:46:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85183 invoked by uid 500); 6 Oct 2005 16:46:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85172 invoked by uid 99); 6 Oct 2005 16:46:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Oct 2005 09:46:16 -0700
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_50_60,HTML_MESSAGE,MSGID_FROM_MTA_HEADER,NO_REAL_NAME,SPF_HELO_PASS,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Msftblows@aol.com designates 64.12.137.9 as permitted sender)
Received: from [64.12.137.9] (HELO imo-m28.mx.aol.com) (64.12.137.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Oct 2005 09:46:17 -0700
Received: from Msftblows@aol.com
	by imo-m28.mx.aol.com (mail_out_v38_r5.5.) id h.1b9.1d662883 (15898);
	Thu, 6 Oct 2005 12:45:47 -0400 (EDT)
Received: from  MBLK-M10 (mblk-m10.mblk.aol.com [64.12.136.43]) by air-id09.mx.aol.com (v107.13) with ESMTP id MAILINID91-3e1a434554bb2c7; Thu, 06 Oct 2005 12:45:47 -0400
Date: Thu, 06 Oct 2005 12:45:47 -0400
Message-Id: <8C798AC891E9824-1578-7C7E@MBLK-M10.sysops.aol.com>
From: msftblows@aol.com
References: <93a7e2f30510042023y562f6far@mail.gmail.com> <7ca123910510042038h12dc7e97q39e7de103f0c0a68@mail.gmail.com>
Received: from 38.117.191.162 by MBLK-M10.sysops.aol.com (64.12.136.43) with HTTP (WebMailUI); Thu, 06 Oct 2005 12:45:47 -0400
X-MB-Message-Source: WebUI
X-MB-Message-Type: User
In-Reply-To: <7ca123910510042038h12dc7e97q39e7de103f0c0a68@mail.gmail.com>
X-Mailer: AOL WebMail 1.1.0.14204
Subject: Re: who could tell me the equation of the scoring in detail? i'm confused
 about two days
Content-Type: multipart/alternative;
 boundary="--------MailBlocks_8C798AC891E9824_1578_7ACC_MBLK-M10.sysops.aol.com"
MIME-Version: 1.0
To: java-user@lucene.apache.org, chenjian1227@gmail.com
X-AOL-IP: 64.12.136.43
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Flag: NO
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

----------MailBlocks_8C798AC891E9824_1578_7ACC_MBLK-M10.sysops.aol.com
Content-Type: text/plain; charset="us-ascii"

Your site is down...but I would also liek to read that doc. 
 
-----Original Message-----
From: jian chen <chenjian1227@gmail.com>
To: java-user@lucene.apache.org; chai qiaozi <chaiqiaozi@gmail.com>
Sent: Tue, 4 Oct 2005 20:38:25 -0700
Subject: Re: who could tell me the equation of the scoring in detail? i'm confused about two days


Hi,

Lucene uses a variant version of vector space model for ranking the
documents.

You can look at
1)
http://lucene.apache.org/java/docs/api/org/apache/lucene/search/Similarity.htmlfor
the fomula,

2) there is an article some one wrote about the Lucene's Ranking function
vs. standard vsm. However, that link has been removed and I think it does
not exist anymore. I still keep a copy of that file, so, you may download it
from my website at the following url:
http://jhsystems.net:9090/lucene_ranking.pdf

Let me know of any other problem.

Cheers,

Jian

On 10/4/05, chai qiaozi <chaiqiaozi@gmail.com> wrote:
>
> hello everyone,
> I'm a newer to lucence.
> I want to know the scoring algorithm in lucence. but there are
> many different explations aobut it, who may give me the scoring
> equation in detail please?
> thank you in advance!
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

----------MailBlocks_8C798AC891E9824_1578_7ACC_MBLK-M10.sysops.aol.com--

From java-user-return-16777-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 06 19:21:56 2005
Return-Path: <java-user-return-16777-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19601 invoked from network); 6 Oct 2005 19:21:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Oct 2005 19:21:55 -0000
Received: (qmail 39410 invoked by uid 500); 6 Oct 2005 19:21:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39389 invoked by uid 500); 6 Oct 2005 19:21:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 30201 invoked by uid 99); 6 Oct 2005 19:16:53 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jakmcbane@gmail.com designates 64.233.184.207 as permitted sender)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=YbDERyzJcMxNPGmzq6Q4ofvKwLhxAHQZsgajloW0od+7bgLLtK7WY+jRsAzcufjMIhe90sz5EBfkksAmr5HCB25JmJHHE1ViSFU0fFY18b1lfBAiA9FFxy4odMyipR/EFeMb6fZFGfWrIsZyMrdtaUHyJY9OeVubH9pOGm4L0V4=
Message-ID: <c21b69d10510061216i2a09d77ctc55f768b6bfac4ba@mail.gmail.com>
Date: Thu, 6 Oct 2005 13:16:31 -0600
From: Jack McBane <jakmcbane@gmail.com>
Reply-To: Jack McBane <jakmcbane@gmail.com>
To: java-user@lucene.apache.org
Subject: change of document ids accross optimize
In-Reply-To: <c21b69d10510060900g29ee2861x4ac5f59ed2a7726e@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_935_10172112.1128626191005"
References: <c21b69d10510060900g29ee2861x4ac5f59ed2a7726e@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_935_10172112.1128626191005
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I know that in general if you optimize an index the document id that a
HitCollector would see is not guarenteed to stay the same since any deleted
documents would get removed from the index completely and all later
documents pushed up to fill in the gaps. I'm wondering though, are the
document ids are preserved accross an optimize if there were no deletions
(which could be checked with a call to IndexReader.hasDeletions())?

Similarly, if you populate an index using IndexWriter.addIndexes(Directory[=
])
are the document ids preserved except with offsets added? That is, if you
have two indices with 10 documents each (so that each has document ids 0-9)
and combine them in this way, does document 0 in the new index correspond t=
o
document 0 in the Directory[0] index, ..., document[9] correspond to
document 9 in Directory[0], document[10] correspond to document 0 in
Directory[1],...,document[17] correspond to document 9 in Directory[1].

I've been creating a prototype of something that for a first pass assumed
that documents are preserved as described above, but some of my results are
starting to look like that is not the case.

Thanks.

------=_Part_935_10172112.1128626191005--

From java-user-return-16778-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 06 19:30:18 2005
Return-Path: <java-user-return-16778-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28278 invoked from network); 6 Oct 2005 19:30:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Oct 2005 19:30:18 -0000
Received: (qmail 57670 invoked by uid 500); 6 Oct 2005 19:30:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57621 invoked by uid 500); 6 Oct 2005 19:30:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57578 invoked by uid 99); 6 Oct 2005 19:30:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Oct 2005 12:30:02 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=HTML_20_30,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 72.14.204.195 as permitted sender)
Received: from [72.14.204.195] (HELO qproxy.gmail.com) (72.14.204.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Oct 2005 12:30:06 -0700
Received: by qproxy.gmail.com with SMTP id q18so526489qba
        for <java-user@lucene.apache.org>; Thu, 06 Oct 2005 12:29:41 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=FaYxHtcX4lUcrFOH93HxF6fbxkSOBOWvhSS4W7RGHemf6J9MA1bsZ++xIswV3CQrqiweU5aYwHJIQjA063l6lrYdLJtYqZcBFLnlYbQzRO6hgzTBhvL4SCU1ijx7vEFEqrMuMmuOyQvLdysGRW8kdSeZvfaZUcDq9Wkt903I6l8=
Received: by 10.65.159.17 with SMTP id l17mr418236qbo;
        Thu, 06 Oct 2005 12:29:41 -0700 (PDT)
Received: by 10.65.121.10 with HTTP; Thu, 6 Oct 2005 12:29:41 -0700 (PDT)
Message-ID: <c68e39170510061229n3feef42fgfb8bfb730315e36b@mail.gmail.com>
Date: Thu, 6 Oct 2005 15:29:41 -0400
From: Yonik Seeley <yseeley@gmail.com>
Reply-To: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org, Jack McBane <jakmcbane@gmail.com>
Subject: Re: change of document ids accross optimize
In-Reply-To: <c21b69d10510061216i2a09d77ctc55f768b6bfac4ba@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_5007_11820341.1128626981188"
References: <c21b69d10510060900g29ee2861x4ac5f59ed2a7726e@mail.gmail.com>
	 <c21b69d10510061216i2a09d77ctc55f768b6bfac4ba@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_5007_11820341.1128626981188
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

ids can also change as the result of an add(), not just optimize(). An add
can trigger a segment merge which can squeeze out deleted docs and thus
change the ids. I think everything else you said is pretty much correct.

On 10/6/05, Jack McBane <jakmcbane@gmail.com> wrote:
>
> I know that in general if you optimize an index the document id that a
> HitCollector would see is not guarenteed to stay the same since any
> deleted
> documents would get removed from the index completely and all later
> documents pushed up to fill in the gaps. I'm wondering though, are the
> document ids are preserved accross an optimize if there were no deletions
> (which could be checked with a call to IndexReader.hasDeletions())?
>
> Similarly, if you populate an index using IndexWriter.addIndexes
> (Directory[])
> are the document ids preserved except with offsets added? That is, if you
> have two indices with 10 documents each (so that each has document ids
> 0-9)
> and combine them in this way, does document 0 in the new index correspond
> to
> document 0 in the Directory[0] index, ..., document[9] correspond to
> document 9 in Directory[0], document[10] correspond to document 0 in
> Directory[1],...,document[17] correspond to document 9 in Directory[1].
>
> I've been creating a prototype of something that for a first pass assumed
> that documents are preserved as described above, but some of my results
> are
> starting to look like that is not the case.
>
> Thanks.
>
>


--
-Yonik
Now hiring -- http://tinyurl.com/7m67g

------=_Part_5007_11820341.1128626981188--

From java-user-return-16779-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 06 22:10:32 2005
Return-Path: <java-user-return-16779-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78249 invoked from network); 6 Oct 2005 22:10:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Oct 2005 22:10:32 -0000
Received: (qmail 45169 invoked by uid 500); 6 Oct 2005 22:10:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45148 invoked by uid 500); 6 Oct 2005 22:10:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45137 invoked by uid 99); 6 Oct 2005 22:10:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Oct 2005 15:10:23 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [212.247.155.225] (HELO swip.net) (212.247.155.225)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Oct 2005 15:10:26 -0700
X-T2-Posting-ID: BjP/VPIhrta35NvfgpYBhA==
Received: from [83.72.128.240] (HELO [127.0.0.1])
  by mailfe16.swip.net (CommuniGate Pro SMTP 4.3.4)
  with ESMTP id 31148596 for java-user@lucene.apache.org; Fri, 07 Oct 2005 00:09:58 +0200
Message-ID: <4345A0B5.3010302@nable.dk>
Date: Fri, 07 Oct 2005 00:09:57 +0200
From: Filip Anselm <filip@nable.dk>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Mailing list <java-user@lucene.apache.org>
Subject: searching on special characters as in "C++"
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

How can I make it possible to search on words that includes special
characters like + and # as in "C++" and "C#" ?

Filip


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16780-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 06 23:10:55 2005
Return-Path: <java-user-return-16780-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96324 invoked from network); 6 Oct 2005 23:10:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Oct 2005 23:10:54 -0000
Received: (qmail 15280 invoked by uid 500); 6 Oct 2005 23:10:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15232 invoked by uid 500); 6 Oct 2005 23:10:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15219 invoked by uid 99); 6 Oct 2005 23:10:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Oct 2005 16:10:46 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [65.209.1.80] (HELO webmail.cymfony.com) (65.209.1.80)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Oct 2005 16:10:49 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: IllegalArgumentException: attempt to access a deleted document
Date: Thu, 6 Oct 2005 19:08:08 -0400
Message-ID: <13F36D2926AD444697093282F20041B7037AFFD0@buf-ex01.cymfony.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: IllegalArgumentException: attempt to access a deleted document
Thread-Index: AcXKytDUEJzjWVc5QFW+bhoiu84++A==
From: "Peter Kim" <pkim@cymfony.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I'm getting this error from trying to access a document in my custom hit
collector:

java.lang.IllegalArgumentException: attempt to access a deleted document
        at
org.apache.lucene.index.SegmentReader.document(SegmentReader.java:235
)
        at
org.apache.lucene.index.MultiReader.document(MultiReader.java:108)
        at
org.apache.lucene.search.IndexSearcher.doc(IndexSearcher.java:74)
        at
org.apache.lucene.search.MultiSearcher.doc(MultiSearcher.java:66)


Does anyone know why I'm getting this error? Shouldn't the ids passed to

HitCollector.collect(int id, float score) all be valid? Or are deleted
ids not ignored?

I noticed one way to get around this is to use IndexReader.isDeleted()
to check if it's deleted or not. The problem with that is I only have
access to a MultiSearcher in my HitCollector which doesn't give me
access to the underlying IndexReader. I don't want to have to open an
IndexReader in my custom hit collector to use its isDeleted() method.

Anyone know any workarounds?

Thanks!
peter

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16781-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 06 23:42:36 2005
Return-Path: <java-user-return-16781-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6386 invoked from network); 6 Oct 2005 23:42:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Oct 2005 23:42:36 -0000
Received: (qmail 39514 invoked by uid 500); 6 Oct 2005 23:42:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39497 invoked by uid 500); 6 Oct 2005 23:42:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39486 invoked by uid 99); 6 Oct 2005 23:42:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Oct 2005 16:42:30 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of clamprecht@gmail.com designates 66.249.82.200 as permitted sender)
Received: from [66.249.82.200] (HELO xproxy.gmail.com) (66.249.82.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Oct 2005 16:42:33 -0700
Received: by xproxy.gmail.com with SMTP id h33so146532wxd
        for <java-user@lucene.apache.org>; Thu, 06 Oct 2005 16:42:08 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=d+f2SnzW8DSXpMDcy1IJesVx3s0XZLyADyzc7uHzZMbBjeg4aC62XEOQgqulCl0kQ3RqEqYf99JJTZLFObm1jmSKMo01AoN+uzdChsxfMtoYsD23wQMllz9k7gOkywCZFm3d25ofSyahJUCAvmYtRkbkDTZQ/2P3NB+x7awvIoU=
Received: by 10.70.58.8 with SMTP id g8mr55103wxa;
        Thu, 06 Oct 2005 16:42:08 -0700 (PDT)
Received: by 10.70.55.14 with HTTP; Thu, 6 Oct 2005 16:42:08 -0700 (PDT)
Message-ID: <88c6a6720510061642j14b641f6o9509201035f3a46f@mail.gmail.com>
Date: Thu, 6 Oct 2005 18:42:08 -0500
From: Chris Lamprecht <clamprecht@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: searching on special characters as in "C++"
In-Reply-To: <4345A0B5.3010302@nable.dk>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <4345A0B5.3010302@nable.dk>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

StandardAnalyzer's grammar tokenizes C# and C++ down to "C".  So you
can either use an analyzer that tokenizes differently (such as
WhitespaceAnalyzer), or modify the JavaCC grammar for StandardAnalyzer
and rebuild your own custom version.  If you go the latter route, have
a look at NutchAnalysis.jj (in the nutch project), it correctly
handles C++ and C#.

-chris

On 10/6/05, Filip Anselm <filip@nable.dk> wrote:
> How can I make it possible to search on words that includes special
> characters like + and # as in "C++" and "C#" ?
>
> Filip
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16782-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 07 00:18:44 2005
Return-Path: <java-user-return-16782-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12921 invoked from network); 7 Oct 2005 00:18:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Oct 2005 00:18:44 -0000
Received: (qmail 62764 invoked by uid 500); 7 Oct 2005 00:18:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62733 invoked by uid 500); 7 Oct 2005 00:18:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62722 invoked by uid 99); 7 Oct 2005 00:18:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Oct 2005 17:18:39 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [65.209.1.80] (HELO webmail.cymfony.com) (65.209.1.80)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Oct 2005 17:18:42 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: IllegalArgumentException: attempt to access a deleted document
Date: Thu, 6 Oct 2005 20:16:01 -0400
Message-ID: <13F36D2926AD444697093282F20041B7037AFFD4@buf-ex01.cymfony.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: IllegalArgumentException: attempt to access a deleted document
Thread-Index: AcXKytDUEJzjWVc5QFW+bhoiu84++AACTn/w
From: "Peter Kim" <pkim@cymfony.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I think my best option will just be to optimize the index after each
deletion. I guess this will be good for me anyways... For the cases
where optimizing is not a luxury one can afford, it would be nice if
there was another way around this.

Peter=20

> -----Original Message-----
> From: Peter Kim [mailto:pkim@cymfony.com]=20
> Sent: Thursday, October 06, 2005 7:08 PM
> To: java-user@lucene.apache.org
> Subject: IllegalArgumentException: attempt to access a=20
> deleted document
>=20
> Hi,
>=20
> I'm getting this error from trying to access a document in my=20
> custom hit
> collector:
>=20
> java.lang.IllegalArgumentException: attempt to access a=20
> deleted document
>         at
> org.apache.lucene.index.SegmentReader.document(SegmentReader.java:235
> )
>         at
> org.apache.lucene.index.MultiReader.document(MultiReader.java:108)
>         at
> org.apache.lucene.search.IndexSearcher.doc(IndexSearcher.java:74)
>         at
> org.apache.lucene.search.MultiSearcher.doc(MultiSearcher.java:66)
>=20
>=20
> Does anyone know why I'm getting this error? Shouldn't the=20
> ids passed to
>=20
> HitCollector.collect(int id, float score) all be valid? Or=20
> are deleted ids not ignored?
>=20
> I noticed one way to get around this is to use=20
> IndexReader.isDeleted() to check if it's deleted or not. The=20
> problem with that is I only have access to a MultiSearcher in=20
> my HitCollector which doesn't give me access to the=20
> underlying IndexReader. I don't want to have to open an=20
> IndexReader in my custom hit collector to use its isDeleted() method.
>=20
> Anyone know any workarounds?
>=20
> Thanks!
> peter
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16783-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 07 00:36:24 2005
Return-Path: <java-user-return-16783-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14990 invoked from network); 7 Oct 2005 00:36:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Oct 2005 00:36:24 -0000
Received: (qmail 71836 invoked by uid 500); 7 Oct 2005 00:36:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71804 invoked by uid 500); 7 Oct 2005 00:36:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71786 invoked by uid 99); 7 Oct 2005 00:36:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Oct 2005 17:36:20 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.200.230] (HELO web31111.mail.mud.yahoo.com) (68.142.200.230)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 06 Oct 2005 17:36:18 -0700
Received: (qmail 60814 invoked by uid 60001); 7 Oct 2005 00:35:53 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=DeLHOHg6xX55mDHrKLINEnz4nbUZvIDoF9OaYQbkGFf1/eZ0uOy+o7p6AzlH+XEhkjn4EiYROhdrXGWc6b4W88qlbokIwec2RYnVu2A4KjWlYq+ZwHl/T6b/MqNePLXS3KA/pcWNIv2B0i6b7KPcZb1eO2iTwpSapgxGFaR0Tpk=  ;
Message-ID: <20051007003553.60812.qmail@web31111.mail.mud.yahoo.com>
Received: from [69.201.142.21] by web31111.mail.mud.yahoo.com via HTTP; Thu, 06 Oct 2005 17:35:53 PDT
Date: Thu, 6 Oct 2005 17:35:53 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: IllegalArgumentException: attempt to access a deleted document
To: java-user@lucene.apache.org
In-Reply-To: <13F36D2926AD444697093282F20041B7037AFFD4@buf-ex01.cymfony.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Maybe somebody will suggest some workarounds, but I'll only suggest you
don't optimize your index after each deletion - see
http://www.lucenebook.com/search?query=when+to+optimize - the
suggestions are in the snippet of the 1st hit.

Otis


--- Peter Kim <pkim@cymfony.com> wrote:

> I think my best option will just be to optimize the index after each
> deletion. I guess this will be good for me anyways... For the cases
> where optimizing is not a luxury one can afford, it would be nice if
> there was another way around this.
> 
> Peter 
> 
> > -----Original Message-----
> > From: Peter Kim [mailto:pkim@cymfony.com] 
> > Sent: Thursday, October 06, 2005 7:08 PM
> > To: java-user@lucene.apache.org
> > Subject: IllegalArgumentException: attempt to access a 
> > deleted document
> > 
> > Hi,
> > 
> > I'm getting this error from trying to access a document in my 
> > custom hit
> > collector:
> > 
> > java.lang.IllegalArgumentException: attempt to access a 
> > deleted document
> >         at
> >
> org.apache.lucene.index.SegmentReader.document(SegmentReader.java:235
> > )
> >         at
> > org.apache.lucene.index.MultiReader.document(MultiReader.java:108)
> >         at
> > org.apache.lucene.search.IndexSearcher.doc(IndexSearcher.java:74)
> >         at
> > org.apache.lucene.search.MultiSearcher.doc(MultiSearcher.java:66)
> > 
> > 
> > Does anyone know why I'm getting this error? Shouldn't the 
> > ids passed to
> > 
> > HitCollector.collect(int id, float score) all be valid? Or 
> > are deleted ids not ignored?
> > 
> > I noticed one way to get around this is to use 
> > IndexReader.isDeleted() to check if it's deleted or not. The 
> > problem with that is I only have access to a MultiSearcher in 
> > my HitCollector which doesn't give me access to the 
> > underlying IndexReader. I don't want to have to open an 
> > IndexReader in my custom hit collector to use its isDeleted()
> method.
> > 
> > Anyone know any workarounds?
> > 
> > Thanks!
> > peter
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> > 
> > 
> > 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16784-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 07 04:48:49 2005
Return-Path: <java-user-return-16784-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96704 invoked from network); 7 Oct 2005 04:48:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Oct 2005 04:48:49 -0000
Received: (qmail 67070 invoked by uid 500); 7 Oct 2005 04:48:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67014 invoked by uid 500); 7 Oct 2005 04:48:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66997 invoked by uid 99); 7 Oct 2005 04:48:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Oct 2005 21:48:42 -0700
X-ASF-Spam-Status: No, hits=1.7 required=10.0
	tests=RCVD_IN_NJABL_DUL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.74] (HELO ylpvm43.prodigy.net) (207.115.57.74)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Oct 2005 21:48:45 -0700
Received: from pimout1-ext.prodigy.net (pimout1-int.prodigy.net [207.115.5.65])
	by ylpvm43.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id j974mKZY026182
	for <java-user@lucene.apache.org>; Fri, 7 Oct 2005 00:48:20 -0400
X-ORBL: [69.228.220.53]
Received: from [192.168.168.81] (adsl-69-228-220-53.dsl.pltn13.pacbell.net [69.228.220.53])
	by pimout1-ext.prodigy.net (8.13.4 outbound domainkey aix/8.13.4) with ESMTP id j974mEHr172286;
	Fri, 7 Oct 2005 00:48:17 -0400
Message-ID: <4345FE0E.3030502@apache.org>
Date: Thu, 06 Oct 2005 21:48:14 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7-1.1.fc3 (X11/20050929)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: IllegalArgumentException: attempt to access a deleted document
References: <13F36D2926AD444697093282F20041B7037AFFD0@buf-ex01.cymfony.com>
In-Reply-To: <13F36D2926AD444697093282F20041B7037AFFD0@buf-ex01.cymfony.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Peter Kim wrote:
> I noticed one way to get around this is to use IndexReader.isDeleted()
> to check if it's deleted or not. The problem with that is I only have
> access to a MultiSearcher in my HitCollector which doesn't give me
> access to the underlying IndexReader. I don't want to have to open an
> IndexReader in my custom hit collector to use its isDeleted() method.

Check out the MultiSearcher methods subSearcher() and subDoc().  If you 
keep an array of the IndexReaders that your MultiSearcher searches, then 
you can use:

readers[searcher.subSearcher(doc)].isDeleted(searcher.subDoc(doc))

Hope that helps.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16785-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 07 07:35:17 2005
Return-Path: <java-user-return-16785-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49669 invoked from network); 7 Oct 2005 07:35:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Oct 2005 07:35:17 -0000
Received: (qmail 72334 invoked by uid 500); 7 Oct 2005 07:35:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72313 invoked by uid 500); 7 Oct 2005 07:35:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72302 invoked by uid 99); 7 Oct 2005 07:35:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Oct 2005 00:35:10 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [134.96.188.26] (HELO mail.dfki.de) (134.96.188.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Oct 2005 00:35:14 -0700
Received: from mail.dfki.de (localhost.dfki.uni-sb.de [127.0.0.1])
	by localhost (Postfix) with ESMTP id 9B4F1E47F2
	for <java-user@lucene.apache.org>; Fri,  7 Oct 2005 09:34:43 +0200 (CEST)
Received: from [IPv6:::1] (dave.dfki.uni-sb.de [134.96.184.220])
	by mail.dfki.de (Postfix) with ESMTP id 5CDB7E4751
	for <java-user@lucene.apache.org>; Fri,  7 Oct 2005 09:34:43 +0200 (CEST)
Mime-Version: 1.0 (Apple Message framework v623)
In-Reply-To: <bf155c6c0510050559o10274075vd11c9d8a3e69d0e6@mail.gmail.com>
References: <bf155c6c0510050559o10274075vd11c9d8a3e69d0e6@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Message-Id: <400e82f2efc192f468ff75c566afa231@activemath.org>
Content-Transfer-Encoding: quoted-printable
From: Paul Libbrecht <paul@activemath.org>
Subject: Re: Regarding Lucene and LSI
Date: Fri, 7 Oct 2005 09:34:41 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.623)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


I've met other persons with such needs and we would also be interested.

Unfortunately, this seems not to be available.
A clear issue might be that LSI, in its original form at least, is=20
covered by an US patent. But maybe someone finds another form which is=20=

not.

paul


Le 5 oct. 05, =E0 14:59, <rrshwrk@gmail.com> a =E9crit :
> I am looking for LSI implementation i lucene. Is it available. I=20
> couldnt find it in the website. I searched in the archives but no=20
> help. could some one tell me if it is available or not.
>
> Could you tell me where can i see to find if there are any Language=20
> processing tools for Indexing and retrieval stuff available=


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16786-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 07 08:14:53 2005
Return-Path: <java-user-return-16786-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62331 invoked from network); 7 Oct 2005 08:14:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Oct 2005 08:14:53 -0000
Received: (qmail 9606 invoked by uid 500); 7 Oct 2005 08:14:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9586 invoked by uid 500); 7 Oct 2005 08:14:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9575 invoked by uid 99); 7 Oct 2005 08:14:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Oct 2005 01:14:46 -0700
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of get.sameer@gmail.com designates 66.249.82.207 as permitted sender)
Received: from [66.249.82.207] (HELO xproxy.gmail.com) (66.249.82.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Oct 2005 01:14:49 -0700
Received: by xproxy.gmail.com with SMTP id i28so429209wxd
        for <java-user@lucene.apache.org>; Fri, 07 Oct 2005 01:14:23 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=h5rL96kKhrb2TXkzFsJ9co5Zj5Pp3k7I4Vvmo3BFIfQc+bDtR8Xy+sLuxDG205zn8UGS8N8kXC4IM2TTjjTgOzw1hBfIcj8ONtaglpz0p4gmSLgJXVSwvFgTs2fwR+5cFGIK9lJr971M5eGMny3cRbVUrl7ZOLtMlCJhz/42QnA=
Received: by 10.70.43.15 with SMTP id q15mr543436wxq;
        Fri, 07 Oct 2005 01:14:23 -0700 (PDT)
Received: by 10.70.42.4 with HTTP; Fri, 7 Oct 2005 01:14:23 -0700 (PDT)
Message-ID: <9ce5095c0510070114l6813628boe52a7f4ba3a7040@mail.gmail.com>
Date: Fri, 7 Oct 2005 13:44:23 +0530
From: Sameer Shisodia <get.sameer@gmail.com>
Reply-To: Sameer Shisodia <get.sameer@gmail.com>
To: java-user@lucene.apache.org
Subject: Field length normalization
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_50152_18732781.1128672863658"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_50152_18732781.1128672863658
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,
Have started using Lucene recently so this might be a oft repeated
qn (Do point me to archives if any).
I'm storing multiple values of a field as a comma separated string
during indexing.
Obviously, some docs have more values and some only one and
so hits against those with multiple values for the field suffer.
Is there are trivial way of changing this without writing my own
version Similarity() completely ?
Rgds,
Sameer

--
Sameer, Bangalore

------=_Part_50152_18732781.1128672863658--

From java-user-return-16787-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 07 08:47:33 2005
Return-Path: <java-user-return-16787-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72067 invoked from network); 7 Oct 2005 08:47:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Oct 2005 08:47:33 -0000
Received: (qmail 40280 invoked by uid 500); 7 Oct 2005 08:47:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40161 invoked by uid 500); 7 Oct 2005 08:47:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40146 invoked by uid 99); 7 Oct 2005 08:47:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Oct 2005 01:47:27 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=HTML_20_30,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lorenzo.viscanti@gmail.com designates 64.233.162.203 as permitted sender)
Received: from [64.233.162.203] (HELO zproxy.gmail.com) (64.233.162.203)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Oct 2005 01:47:30 -0700
Received: by zproxy.gmail.com with SMTP id i28so334645nzi
        for <java-user@lucene.apache.org>; Fri, 07 Oct 2005 01:47:05 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=oK0H1UqVGzTdKPD2UKS2s/UlNZ02TV3vW3bVLJ5JOturlJHxIJJloaRuzYDcfDC/b2z8c98CfHtKv3JOcak0ZF299HPMf45OhCZ5jypNFrczLWH6rXtQaS58ALITgXmaUOpUShJLMDUFQhabF19EhQqj3/V4RZdWuSsr1sp89VA=
Received: by 10.36.56.1 with SMTP id e1mr172831nza;
        Fri, 07 Oct 2005 01:47:05 -0700 (PDT)
Received: by 10.36.9.10 with HTTP; Fri, 7 Oct 2005 01:47:05 -0700 (PDT)
Message-ID: <e72c67f70510070147j960b9a2xe7f066a91a6f62d7@mail.gmail.com>
Date: Fri, 7 Oct 2005 10:47:05 +0200
From: Lorenzo Viscanti <lorenzo.viscanti@gmail.com>
Reply-To: Lorenzo Viscanti <lorenzo.viscanti@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Regarding Lucene and LSI
In-Reply-To: <400e82f2efc192f468ff75c566afa231@activemath.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_14373_4478158.1128674825659"
References: <bf155c6c0510050559o10274075vd11c9d8a3e69d0e6@mail.gmail.com>
	 <400e82f2efc192f468ff75c566afa231@activemath.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_14373_4478158.1128674825659
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I use my own LSI implementation based on Lucene for text clustering.
I've done some tests, but I do believe that integrating LSI onto the lucene
search subsystem (i.e. creating something like LSISimilarity) is not an eas=
y
task

I start analyzing the documents using Lucene, and then extract tfidf values
(with lucene again), in order to build a documents/terms matrix. Then I use
an implementation of LSI/SVD to analyze it.
At this point I think that reassigning the scores back to Lucene documents
is very difficult; but I'm trying to grab the modified scores from the
matrix on my LSISImilarity.
Instead clustering search results this way is not too difficult, I just
apply the algorithm (mostly HAC-like) to the modified matrix.
To search using LSI you must choose a small subset of the collection and
then apply LSI/SVD to it, then extend the matrix by 'folding in' new
documents. But how to choose the initial subset? Maybe just searching the
index and then using the first n documents retrieved.
Any idea?
Lorenzo

On 10/7/05, Paul Libbrecht <paul@activemath.org> wrote:
>
>
> I've met other persons with such needs and we would also be interested.
>
> Unfortunately, this seems not to be available.
> A clear issue might be that LSI, in its original form at least, is
> covered by an US patent. But maybe someone finds another form which is
> not.
>
> paul
>
>
> Le 5 oct. 05, =E0 14:59, <rrshwrk@gmail.com> a =E9crit :
> > I am looking for LSI implementation i lucene. Is it available. I
> > couldnt find it in the website. I searched in the archives but no
> > help. could some one tell me if it is available or not.
> >
> > Could you tell me where can i see to find if there are any Language
> > processing tools for Indexing and retrieval stuff available
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_14373_4478158.1128674825659--

From java-user-return-16788-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 07 10:10:42 2005
Return-Path: <java-user-return-16788-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4205 invoked from network); 7 Oct 2005 10:10:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Oct 2005 10:10:41 -0000
Received: (qmail 81494 invoked by uid 500); 7 Oct 2005 10:10:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81474 invoked by uid 500); 7 Oct 2005 10:10:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81450 invoked by uid 99); 7 Oct 2005 10:10:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Oct 2005 03:10:32 -0700
X-ASF-Spam-Status: No, hits=3.2 required=10.0
	tests=HTML_20_30,HTML_MESSAGE,HTML_SHORT_LENGTH,NO_REAL_NAME,RCVD_BY_IP,RCVD_IN_BL_SPAMCOP_NET,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of rrshwrk@gmail.com designates 72.14.204.205 as permitted sender)
Received: from [72.14.204.205] (HELO qproxy.gmail.com) (72.14.204.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Oct 2005 03:10:35 -0700
Received: by qproxy.gmail.com with SMTP id a10so465933qbd
        for <java-user@lucene.apache.org>; Fri, 07 Oct 2005 03:10:10 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=BkiDu+MU51mLYW8u0pNckJ6/K+LcolhoJgLdrGzaKkBzVPNJg8j8wF2erXYo0x3y0YZc6qJRBjt1XQyngPfeVo8RvZtb32Hv2sP0xl7ONKb+eHQnt8ACXgo8IonAcc3FJHMBdZ/AtIQZc/BPTWhjJNEIh96yZ7KpfH6Vc0lMrB8=
Received: by 10.65.23.18 with SMTP id a18mr1431839qbj;
        Fri, 07 Oct 2005 03:10:10 -0700 (PDT)
Received: by 10.64.210.14 with HTTP; Fri, 7 Oct 2005 03:10:10 -0700 (PDT)
Message-ID: <bf155c6c0510070310h2dc3ea7ej2c0a0f5cefa32684@mail.gmail.com>
Date: Fri, 7 Oct 2005 15:40:10 +0530
From:  <rrshwrk@gmail.com>
Reply-To: rrshwrk@gmail.com
To: java-user@lucene.apache.org
Subject: lucene Documentation
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_12853_15611669.1128679810640"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_12853_15611669.1128679810640
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Could you tell me where i can find detailed documentation on lucene?

thanks

------=_Part_12853_15611669.1128679810640--

From java-user-return-16789-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 07 10:55:12 2005
Return-Path: <java-user-return-16789-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17833 invoked from network); 7 Oct 2005 10:55:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Oct 2005 10:55:11 -0000
Received: (qmail 45531 invoked by uid 500); 7 Oct 2005 10:55:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45490 invoked by uid 500); 7 Oct 2005 10:55:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45476 invoked by uid 99); 7 Oct 2005 10:55:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Oct 2005 03:55:05 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of mailing.patrick.kimber@gmail.com designates 64.233.184.207 as permitted sender)
Received: from [64.233.184.207] (HELO wproxy.gmail.com) (64.233.184.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Oct 2005 03:55:08 -0700
Received: by wproxy.gmail.com with SMTP id i7so328967wra
        for <java-user@lucene.apache.org>; Fri, 07 Oct 2005 03:54:43 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=SZaH2Z3cCIzA8aVtUWkwbqBDAzVOIS0cO1JFYU0jSiiIMTQ0noEsIPt0Uee0y1PzJzJaaw7PiWgWO9iKAME0uz8OiVKjHct8BeCQHjfll4vUHWJeZ2nmeMpYdj7Slbcihmr8y7ZFNBZVFgUfzilBL3rY3P7AmG7xxkb2XudTF1s=
Received: by 10.54.157.12 with SMTP id f12mr1917694wre;
        Fri, 07 Oct 2005 03:54:42 -0700 (PDT)
Received: by 10.54.158.11 with HTTP; Fri, 7 Oct 2005 03:54:42 -0700 (PDT)
Message-ID: <4f9b23800510070354t67c17fdeg@mail.gmail.com>
Date: Fri, 7 Oct 2005 11:54:42 +0100
From: Patrick Kimber <mailing.patrick.kimber@gmail.com>
Reply-To: Patrick Kimber <mailing.patrick.kimber@gmail.com>
To: java-user@lucene.apache.org, rrshwrk@gmail.com
Subject: Re: lucene Documentation
In-Reply-To: <bf155c6c0510070310h2dc3ea7ej2c0a0f5cefa32684@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <bf155c6c0510070310h2dc3ea7ej2c0a0f5cefa32684@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

We have found the book to be excellent.

http://lucenebook.com/

On 07/10/05, rrshwrk@gmail.com <rrshwrk@gmail.com> wrote:
> Could you tell me where i can find detailed documentation on lucene?
>
> thanks
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16790-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 07 12:58:43 2005
Return-Path: <java-user-return-16790-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64337 invoked from network); 7 Oct 2005 12:58:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Oct 2005 12:58:43 -0000
Received: (qmail 84280 invoked by uid 500); 7 Oct 2005 12:58:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84258 invoked by uid 500); 7 Oct 2005 12:58:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84247 invoked by uid 99); 7 Oct 2005 12:58:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Oct 2005 05:58:35 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Oct 2005 05:58:38 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 6A93013E200A; Fri,  7 Oct 2005 08:58:12 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id E268313E2007
	for <java-user@lucene.apache.org>; Fri,  7 Oct 2005 08:58:05 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <9ce5095c0510070114l6813628boe52a7f4ba3a7040@mail.gmail.com>
References: <9ce5095c0510070114l6813628boe52a7f4ba3a7040@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <D9D45FA1-1D0E-4071-8312-D60926FC9221@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Field length normalization
Date: Fri, 7 Oct 2005 08:58:04 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.7 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Oct 7, 2005, at 4:14 AM, Sameer Shisodia wrote:

> Hi,
> Have started using Lucene recently so this might be a oft repeated
> qn (Do point me to archives if any).
> I'm storing multiple values of a field as a comma separated string
> during indexing.
> Obviously, some docs have more values and some only one and
> so hits against those with multiple values for the field suffer.
> Is there are trivial way of changing this without writing my own
> version Similarity() completely ?

Sure, you can subclass DefaultSimilarity and override and tweak just  
the lengthNorm() method.  Be sure to use IndexWriter.setSimilarity()  
to get your custom one used.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16791-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 07 12:58:58 2005
Return-Path: <java-user-return-16791-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64427 invoked from network); 7 Oct 2005 12:58:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Oct 2005 12:58:58 -0000
Received: (qmail 85363 invoked by uid 500); 7 Oct 2005 12:58:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85338 invoked by uid 500); 7 Oct 2005 12:58:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85327 invoked by uid 99); 7 Oct 2005 12:58:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Oct 2005 05:58:52 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.75.234.2] (HELO smtpgate.saa-cons.co.uk) (194.75.234.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Oct 2005 05:58:55 -0700
Received: (from uucp@localhost)
	by smtpgate.saa-cons.co.uk (8.8.8/8.8.8) id NAA23983
	for <java-user@lucene.apache.org>; Fri, 7 Oct 2005 13:56:26 +0100 (BST)
	(envelope-from Paul.Illingworth@saaconsultants.com)
Received: from domino-mail.saa-cons.co.uk(10.10.10.4) by smtpgate.saa-cons.co.uk via smap (V2.1)
	id xma023981; Fri, 7 Oct 05 13:56:15 +0100
Subject: Committing IndexReader changes without closing
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 6.5.1 January 21, 2004
Message-ID: <OFF06A47EB.F754DE17-ON80257093.0046A878-80257093.00475934@SAAConsultants.com>
From: Paul.Illingworth@saaconsultants.com
Date: Fri, 7 Oct 2005 14:02:55 +0100
X-MIMETrack: Serialize by Router on domino-mail/Saa(Release 6.5.1|January 21, 2004) at
 07/10/2005 14:02:56
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N





Hello,

I have a situation where I wish to open an IndexReader and keep it open. I
never want to add anything to this index but do want to delete from it.
Periodically I would like to flush any deletions that may have been made to
the index to disk (to protect the changes from being lost if the server
goes down). It seems that the IndexReader.commit() method does this but it
is protected.

Are there there any reasons (other than it being protected) why I could not
call commit() externally in this way?

Regards,

Paul I.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16792-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 07 13:17:39 2005
Return-Path: <java-user-return-16792-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70048 invoked from network); 7 Oct 2005 13:17:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Oct 2005 13:17:39 -0000
Received: (qmail 8199 invoked by uid 500); 7 Oct 2005 13:17:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8077 invoked by uid 500); 7 Oct 2005 13:17:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8035 invoked by uid 99); 7 Oct 2005 13:17:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Oct 2005 06:17:27 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of TAigner@wescodist.com designates 12.29.179.202 as permitted sender)
Received: from [12.29.179.202] (HELO mail01.wescodist.com) (12.29.179.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Oct 2005 06:17:30 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Optimization
Date: Fri, 7 Oct 2005 09:17:04 -0400
Message-ID: <14FBF41EF1411B45B2EC4ADEAC53D131040BFA2F@MAIL01.wescodist.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Optimization
Thread-Index: AcXJsLBozsivTsxvSbCWOTja7/JUKwBj5cQg
From: "Aigner, Thomas" <TAigner@WescoDist.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks Erik, I tried the reverse index and it worked like a charm.
While I was doing this, we figured out a way to handle contains within
search and wildcard searches at the beginning.  I thought I would share
it with the community (and realized it handled the reverse index as
well)

Word: ABCDEFG

Tokens created:
	<ABCDEFG
	BCDEFG
	CDEFG
	DEFG
	EFG
	FG
=09
What I do is if the search string is :=20
	WORD*   I search for <WORD* =20
	*WORD   I search for WORD*
	*WORD*  I search for WORD*
      WORD    I search for <WORD

With this technique, the search result time was decreased tremendously
for contains within and wildcard searches from the beginning.  The index
has become 5X as large and takes longer to build, but I'm willing to
sacrifice disk space and time for this huge benefit of speed.  Also, I
have taken the wildcard query completely out of the program now so
everything uses my customized analyzer.

Tom

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]=20
Sent: Wednesday, October 05, 2005 9:27 AM
To: java-user@lucene.apache.org
Subject: Re: Optimization


On Oct 5, 2005, at 9:05 AM, Aigner, Thomas wrote:
>     Have a question.. Is there any obvious things that can be done
> to help speed up query lookups especially wildcard searches (i.e.
> *lamps).

Obvious?  Sort of.  *lamps needs to scan through _every_ single term =20
in the index (for the specified field only, of course) because terms =20
are lexicographically ordered.

If you reverse terms during analysis and lay them in the same =20
position (increment 0) as the original token you'd end up with =20
"spmal..." terms.  Now pre-process the query string and if there is a =20
prefixed wildcard query, reverse it so that "*lamps" turns into =20
"spmal*" and you will likely achieve a dramatic speed-up.

This is just one technique for dealing with prefixed wildcard =20
queries.  There is more fun to be had with queries like *lamps*.  A =20
technique I learned from the book Managing Gigabytes is to rotate =20
terms through all their possible variations and index all of those, =20
which also requires cleverness on the querying side of things.

     Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16793-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 07 15:18:25 2005
Return-Path: <java-user-return-16793-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22573 invoked from network); 7 Oct 2005 15:18:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Oct 2005 15:18:25 -0000
Received: (qmail 31565 invoked by uid 500); 7 Oct 2005 15:18:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31545 invoked by uid 500); 7 Oct 2005 15:18:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31534 invoked by uid 99); 7 Oct 2005 15:18:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Oct 2005 08:18:19 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_30_40,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of get.sameer@gmail.com designates 66.249.82.196 as permitted sender)
Received: from [66.249.82.196] (HELO xproxy.gmail.com) (66.249.82.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Oct 2005 08:18:22 -0700
Received: by xproxy.gmail.com with SMTP id i28so491097wxd
        for <java-user@lucene.apache.org>; Fri, 07 Oct 2005 08:17:57 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=GDRDFAowP7nCz/kwy3/pwitvtaIJBqKIQ5dOcoqwkqBFXIZwUpebIM2hq4oT0iTId4ZDW6h9K6LZld1Vya9STINUXZIJDVZ8oMAAybLZhyeeW6SRDsTJidBFBZ1QvCzuCD9BAjWiQjZdMgVT22QK/x2Gf4BuzkfnVzl5rSLRexs=
Received: by 10.70.10.8 with SMTP id 8mr2469380wxj;
        Fri, 07 Oct 2005 08:17:57 -0700 (PDT)
Received: by 10.70.42.4 with HTTP; Fri, 7 Oct 2005 08:17:57 -0700 (PDT)
Message-ID: <9ce5095c0510070817i63d0a12clcf138f30aa1a35fd@mail.gmail.com>
Date: Fri, 7 Oct 2005 20:47:57 +0530
From: Sameer Shisodia <get.sameer@gmail.com>
Reply-To: Sameer Shisodia <get.sameer@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Field length normalization
In-Reply-To: <D9D45FA1-1D0E-4071-8312-D60926FC9221@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_53445_6135891.1128698277190"
References: <9ce5095c0510070114l6813628boe52a7f4ba3a7040@mail.gmail.com>
	 <D9D45FA1-1D0E-4071-8312-D60926FC9221@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_53445_6135891.1128698277190
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

thnx Erik. Is returning a default constant the answer i'm looking for ?
btw, the book is kewl :)
sameer

On 10/7/05, Erik Hatcher <erik@ehatchersolutions.com> wrote:
>
>
> On Oct 7, 2005, at 4:14 AM, Sameer Shisodia wrote:
>
> > Hi,
> > Have started using Lucene recently so this might be a oft repeated
> > qn (Do point me to archives if any).
> > I'm storing multiple values of a field as a comma separated string
> > during indexing.
> > Obviously, some docs have more values and some only one and
> > so hits against those with multiple values for the field suffer.
> > Is there are trivial way of changing this without writing my own
> > version Similarity() completely ?
>
> Sure, you can subclass DefaultSimilarity and override and tweak just
> the lengthNorm() method. Be sure to use IndexWriter.setSimilarity()
> to get your custom one used.
>
> Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


--
Sameer Shisodia Bangalore
(c) +91-98451-80207
get.sameer@gmail.com

------=_Part_53445_6135891.1128698277190--

From java-user-return-16794-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 07 21:41:55 2005
Return-Path: <java-user-return-16794-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72781 invoked from network); 7 Oct 2005 21:41:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Oct 2005 21:41:55 -0000
Received: (qmail 27443 invoked by uid 500); 7 Oct 2005 21:41:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27422 invoked by uid 500); 7 Oct 2005 21:41:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27411 invoked by uid 99); 7 Oct 2005 21:41:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Oct 2005 14:41:49 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [80.202.4.58] (HELO osl1smout1.broadpark.no) (80.202.4.58)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Oct 2005 14:41:52 -0700
Received: from osl1sminn1.broadpark.no ([80.202.4.59])
 by osl1smout1.broadpark.no
 (Sun Java System Messaging Server 6.1 HotFix 0.05 (built Oct 21 2004))
 with ESMTP id <0IO000DBRF1X3CC0@osl1smout1.broadpark.no> for
 java-user@lucene.apache.org; Fri, 07 Oct 2005 23:44:21 +0200 (CEST)
Received: from whitestar ([80.202.208.77]) by osl1sminn1.broadpark.no
 (Sun Java System Messaging Server 6.1 HotFix 0.05 (built Oct 21 2004))
 with ESMTP id <0IO000DU2F27UXB0@osl1sminn1.broadpark.no> for
 java-user@lucene.apache.org; Fri, 07 Oct 2005 23:44:31 +0200 (CEST)
Date: Fri, 07 Oct 2005 23:41:15 +0200
From: Trond Aksel Myklebust <trondaks@stud.ntnu.no>
Subject: Filtering of query based on field ID
To: java-user@lucene.apache.org
Message-id: <0IO000DU3F27UXB0@osl1sminn1.broadpark.no>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.2670
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
Content-type: multipart/alternative;
 boundary="Boundary_(ID_DZcZRiTRymn/t2l36eZ5Jw)"
Thread-index: AcXLh9e9xP2PsJYjQM+kQwC2bgQjYw==
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--Boundary_(ID_DZcZRiTRymn/t2l36eZ5Jw)
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT

As a new user of Lucene I wonder if anyone can suggest how to do this query
the fastest way:

 

In the index I got a "content" field with the data, and a "pathID" field
containing an ID ranging from 0 up to possible millions. 

In some cases I want to return the documents containing (for example) the
term "xml" for all documents, in other cases the ones with specific pathIDs.

 

My question is: What is the fastest way to retrieve documents containing (as
an example) the term "xml" with pathID between 0 and 100000 (with holes in
the range)?

As I know of, I could either:

 

1.	do a query: pathID:(1 2 3 5 6 ..) AND content:xml
2.	do a rangequery: pathID:({0 4} {4 7}) AND content:xml
3.	do the query: content:xml and in a loop filter out unwanted
documents by checking the pathID

 

Is there any other way, and what would be the best approach?

 

Regards

Trond Myklebust

University of Trondheim, Norway

 

 


--Boundary_(ID_DZcZRiTRymn/t2l36eZ5Jw)--

From java-user-return-16795-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 07 22:04:51 2005
Return-Path: <java-user-return-16795-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76381 invoked from network); 7 Oct 2005 22:04:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Oct 2005 22:04:50 -0000
Received: (qmail 40938 invoked by uid 500); 7 Oct 2005 22:04:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40012 invoked by uid 500); 7 Oct 2005 22:04:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40001 invoked by uid 99); 7 Oct 2005 22:04:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Oct 2005 15:04:45 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Oct 2005 15:04:48 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id BA42A5B785; Fri,  7 Oct 2005 15:04:20 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id B71797F471
	for <java-user@lucene.apache.org>; Fri,  7 Oct 2005 15:04:20 -0700 (PDT)
Date: Fri, 7 Oct 2005 15:04:20 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Filtering of query based on field ID
In-Reply-To: <0IO000DU3F27UXB0@osl1sminn1.broadpark.no>
Message-ID: <Pine.LNX.4.58.0510071501520.7424@hal.rescomp.berkeley.edu>
References: <0IO000DU3F27UXB0@osl1sminn1.broadpark.no>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: As a new user of Lucene I wonder if anyone can suggest how to do this query
: the fastest way:

Use a RangeFilter instead of a RangeQuery ... the performance will be much better.

keep in mind that either way you do it, you'll need to store your pathIds
with some sort of padding so that they sort lexigraphically, otherwise
when you ask for "1 to 1000" you won't get any numbers that don't start
with the digit "1".


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16796-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 07 23:39:26 2005
Return-Path: <java-user-return-16796-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94541 invoked from network); 7 Oct 2005 23:39:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Oct 2005 23:39:26 -0000
Received: (qmail 14608 invoked by uid 500); 7 Oct 2005 23:39:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14028 invoked by uid 500); 7 Oct 2005 23:39:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14017 invoked by uid 99); 7 Oct 2005 23:39:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Oct 2005 16:39:20 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Oct 2005 16:39:22 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id B5A7413E200A; Fri,  7 Oct 2005 19:38:57 -0400 (EDT)
Received: from [172.16.1.101] (va-71-48-138-146.dhcp.sprint-hsd.net [71.48.138.146])
	by ehatchersolutions.com (Postfix) with ESMTP id B7F3A13E2007
	for <java-user@lucene.apache.org>; Fri,  7 Oct 2005 19:38:26 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <9ce5095c0510070817i63d0a12clcf138f30aa1a35fd@mail.gmail.com>
References: <9ce5095c0510070114l6813628boe52a7f4ba3a7040@mail.gmail.com> <D9D45FA1-1D0E-4071-8312-D60926FC9221@ehatchersolutions.com> <9ce5095c0510070817i63d0a12clcf138f30aa1a35fd@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <A02252B6-DBD3-4442-9A65-CB6A6C94365C@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Field length normalization
Date: Fri, 7 Oct 2005 19:38:24 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Oct 7, 2005, at 11:17 AM, Sameer Shisodia wrote:
> thnx Erik. Is returning a default constant the answer i'm looking  
> for ?

Perhaps.  Try returning 1.0f - experimentation is always warranted  
when playing with scoring tweaks.  Have a look at  
IndexSearcher.explain() to see why documents score they way they do  
to help out with this.  Luke makes this sort of thing easy to do.

     Erik


> btw, the book is kewl :)
> sameer
>
> On 10/7/05, Erik Hatcher <erik@ehatchersolutions.com> wrote:
>
>>
>>
>> On Oct 7, 2005, at 4:14 AM, Sameer Shisodia wrote:
>>
>>
>>> Hi,
>>> Have started using Lucene recently so this might be a oft repeated
>>> qn (Do point me to archives if any).
>>> I'm storing multiple values of a field as a comma separated string
>>> during indexing.
>>> Obviously, some docs have more values and some only one and
>>> so hits against those with multiple values for the field suffer.
>>> Is there are trivial way of changing this without writing my own
>>> version Similarity() completely ?
>>>
>>
>> Sure, you can subclass DefaultSimilarity and override and tweak just
>> the lengthNorm() method. Be sure to use IndexWriter.setSimilarity()
>> to get your custom one used.
>>
>> Erik
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>
>
>
> --
> Sameer Shisodia Bangalore
> (c) +91-98451-80207
> get.sameer@gmail.com
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16797-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 08 00:14:02 2005
Return-Path: <java-user-return-16797-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1901 invoked from network); 8 Oct 2005 00:14:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Oct 2005 00:14:02 -0000
Received: (qmail 44109 invoked by uid 500); 8 Oct 2005 00:14:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43188 invoked by uid 500); 8 Oct 2005 00:13:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43177 invoked by uid 99); 8 Oct 2005 00:13:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Oct 2005 17:13:57 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [64.18.1.127] (HELO psmtp.com) (64.18.1.127)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 07 Oct 2005 17:13:59 -0700
Received: from source ([139.56.4.14]) by exprod6ob7.obsmtp.com ([64.18.5.12]) with SMTP;
	Fri, 07 Oct 2005 17:13:30 PDT
Received: from triangulum1.broadvision.com (triangulum1.broadvision.com [10.10.102.100])
	by nebula3.broadvision.com (8.10.2+Sun/8.10.2) with ESMTP id j980BML16259
	for <java-user@lucene.apache.org>; Fri, 7 Oct 2005 17:11:22 -0700 (PDT)
Received: from rw-gw-01.BroadVision.com (localhost [127.0.0.1])
	by triangulum1.broadvision.com (8.9.3+Sun/8.9.3) with ESMTP id RAA01258
	for <java-user@lucene.apache.org>; Fri, 7 Oct 2005 17:14:20 -0700 (PDT)
Received: by rw-gw-01.broadvision.com with Internet Mail Service (5.5.2655.55)
	id <NF0JFXSN>; Fri, 7 Oct 2005 17:14:28 -0700
Message-ID: <8220B8D6B56A9A4E8480489F38E425298E4626@rw-msg-02.broadvision.com>
From: "Zhang, Lisheng" <Lisheng.Zhang@broadvision.com>
To: java-user@lucene.apache.org
Cc: "Tang, Kenneth" <Kenneth.Tang@broadvision.com>,
   "Tou, Fred"
	 <Fred.Tou@broadvision.com>,
   "Wu, Ling" <Ling.wu@broadvision.com>
Subject: Abnormal behavior in QueryParser
Date: Fri, 7 Oct 2005 17:14:25 -0700 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

We recently encountered a strange behavior in
lucene v1.4.3 QueryParser: we call

 QueryParser.parse("-1", "myidfield", new StandardAnalyzer());

and get retured query as:

 -myidfield:1  // apparently we want "myidfield:-1"

Currently we can use TermQuery to avoid QueryParser
to bypass this problem, but still we would like to know
if this is a known problem or already fixed in later version?

Thanks very much for helps, Lisheng

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16798-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 08 10:17:15 2005
Return-Path: <java-user-return-16798-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59672 invoked from network); 8 Oct 2005 10:17:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Oct 2005 10:17:15 -0000
Received: (qmail 9576 invoked by uid 500); 8 Oct 2005 10:17:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8619 invoked by uid 500); 8 Oct 2005 10:17:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8606 invoked by uid 99); 8 Oct 2005 10:17:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 08 Oct 2005 03:17:08 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 08 Oct 2005 03:17:11 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id C43B213E2007; Sat,  8 Oct 2005 06:16:43 -0400 (EDT)
Received: from [172.16.1.101] (va-71-48-138-146.dhcp.sprint-hsd.net [71.48.138.146])
	by ehatchersolutions.com (Postfix) with ESMTP id 3B2F013E2007
	for <java-user@lucene.apache.org>; Sat,  8 Oct 2005 06:16:34 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <8220B8D6B56A9A4E8480489F38E425298E4626@rw-msg-02.broadvision.com>
References: <8220B8D6B56A9A4E8480489F38E425298E4626@rw-msg-02.broadvision.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <77E16DC1-7B6F-4638-A3AF-881F41157899@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Abnormal behavior in QueryParser
Date: Sat, 8 Oct 2005 06:16:32 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Oct 7, 2005, at 8:14 PM, Zhang, Lisheng wrote:
> We recently encountered a strange behavior in
> lucene v1.4.3 QueryParser: we call
>
>  QueryParser.parse("-1", "myidfield", new StandardAnalyzer());
>
> and get retured query as:
>
>  -myidfield:1  // apparently we want "myidfield:-1"
>
> Currently we can use TermQuery to avoid QueryParser
> to bypass this problem, but still we would like to know
> if this is a known problem or already fixed in later version?

This behavior is entirely by design.  The - and + operators are for  
prohibiting and requiring clauses, as an integral part of the query  
expression language.  The - can be escaped as in "\-1", though maybe  
QueryParser is not appropriate for your situation.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16799-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 08 12:01:09 2005
Return-Path: <java-user-return-16799-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79814 invoked from network); 8 Oct 2005 12:01:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Oct 2005 12:01:09 -0000
Received: (qmail 59447 invoked by uid 500); 8 Oct 2005 12:01:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59419 invoked by uid 500); 8 Oct 2005 12:01:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59408 invoked by uid 99); 8 Oct 2005 12:01:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 08 Oct 2005 05:01:02 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=HTML_20_30,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of adam.saltiel@gmail.com designates 66.249.82.202 as permitted sender)
Received: from [66.249.82.202] (HELO xproxy.gmail.com) (66.249.82.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 08 Oct 2005 05:01:06 -0700
Received: by xproxy.gmail.com with SMTP id s15so473824wxc
        for <java-user@lucene.apache.org>; Sat, 08 Oct 2005 05:00:41 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=cF59ILexsHS49K10kCG1/xuVv+vJ62JqlSla+K7okCH9UqO5PVwX8fwUvm12KbFd02lQWeUiqknLvL2p3qcYAziwRr6J2Y9FTAm/FBPCAPtoBKYcbQjUTTmnhKVUsUo7aPhO0dEAZgANn5pin0ENcFle3a2kIFzQWM0FmG9vjSc=
Received: by 10.70.126.18 with SMTP id y18mr2588888wxc;
        Sat, 08 Oct 2005 05:00:41 -0700 (PDT)
Received: by 10.70.105.18 with HTTP; Sat, 8 Oct 2005 05:00:41 -0700 (PDT)
Message-ID: <e8aa138c0510080500qe00d37cy2faa70c074d225d9@mail.gmail.com>
Date: Sat, 8 Oct 2005 13:00:41 +0100
From: adasal <adam.saltiel@gmail.com>
Reply-To: adasal <adam.saltiel@gmail.com>
To: java-user@lucene.apache.org, Lorenzo Viscanti <lorenzo.viscanti@gmail.com>
Subject: Re: Regarding Lucene and LSI
In-Reply-To: <e72c67f70510070147j960b9a2xe7f066a91a6f62d7@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_8429_4337279.1128772841226"
References: <bf155c6c0510050559o10274075vd11c9d8a3e69d0e6@mail.gmail.com>
	 <400e82f2efc192f468ff75c566afa231@activemath.org>
	 <e72c67f70510070147j960b9a2xe7f066a91a6f62d7@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_8429_4337279.1128772841226
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Very interesting.
Actually, reading Meet Lucene Part 2 by Otis Gospondnetic and Eric Hatcher
there is mention of Egothor and MG4J. Egothor. What is not mentioned is
Carrot" which, I think, originally has been used with Egothor but has also
been submitted to Lucene CVS. There is a helpful discussion with links that
can be found in lucene-user Re: Term Weights and Clustering from Feb 2005.
MG4J also looks very interesting. There are good resources about it on
sebastiano Vigna's web site, vigna.dsi.unimi.it <http://vigna.dsi.unimi.it>=
.
The mention the use of Bloom filters, an aticle about which has been writte=
n
by Maciej Ceglowski who is (largely) responsible for the LSI/ContextGraph
implementation at NITLE. Article Using Bloom Filters on
Perl.com<http://Perl.com>.
Bloom filters look a bit like the random index from Sahlgren I have
mentioned.
Much to do!
Adam


 On 10/7/05, Lorenzo Viscanti <lorenzo.viscanti@gmail.com> wrote:
>
> I use my own LSI implementation based on Lucene for text clustering.
> I've done some tests, but I do believe that integrating LSI onto the
> lucene
> search subsystem (i.e. creating something like LSISimilarity) is not an
> easy
> task
>
> I start analyzing the documents using Lucene, and then extract tfidf
> values
> (with lucene again), in order to build a documents/terms matrix. Then I
> use
> an implementation of LSI/SVD to analyze it.
> At this point I think that reassigning the scores back to Lucene document=
s
> is very difficult; but I'm trying to grab the modified scores from the
> matrix on my LSISImilarity.
> Instead clustering search results this way is not too difficult, I just
> apply the algorithm (mostly HAC-like) to the modified matrix.
> To search using LSI you must choose a small subset of the collection and
> then apply LSI/SVD to it, then extend the matrix by 'folding in' new
> documents. But how to choose the initial subset? Maybe just searching the
> index and then using the first n documents retrieved.
> Any idea?
> Lorenzo
>
> On 10/7/05, Paul Libbrecht <paul@activemath.org> wrote:
> >
> >
> > I've met other persons with such needs and we would also be interested.
> >
> > Unfortunately, this seems not to be available.
> > A clear issue might be that LSI, in its original form at least, is
> > covered by an US patent. But maybe someone finds another form which is
> > not.
> >
> > paul
> >
> >
> > Le 5 oct. 05, =E0 14:59, <rrshwrk@gmail.com> a =E9crit :
> > > I am looking for LSI implementation i lucene. Is it available. I
> > > couldnt find it in the website. I searched in the archives but no
> > > help. could some one tell me if it is available or not.
> > >
> > > Could you tell me where can i see to find if there are any Language
> > > processing tools for Indexing and retrieval stuff available
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
>

------=_Part_8429_4337279.1128772841226--

From java-user-return-16800-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 08 14:43:40 2005
Return-Path: <java-user-return-16800-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13090 invoked from network); 8 Oct 2005 14:43:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Oct 2005 14:43:40 -0000
Received: (qmail 55953 invoked by uid 500); 8 Oct 2005 14:43:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55898 invoked by uid 500); 8 Oct 2005 14:43:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55887 invoked by uid 99); 8 Oct 2005 14:43:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 08 Oct 2005 07:43:34 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [12.40.61.38] (HELO fracf1.staples.com) (12.40.61.38)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 08 Oct 2005 07:43:37 -0700
Received: from fraexims1.staples.com (Not Verified[10.3.32.111]) by fracf1.staples.com with NetIQ MailMarshal (v5.5.4.17)
	id <BA04ddc729>; Sat, 08 Oct 2005 10:43:12 -0400
Received: by fraexims1.staples.com with Internet Mail Service (5.5.2650.21)
	id <TVQVP95Z>; Sat, 8 Oct 2005 10:43:12 -0400
Message-ID: <A9D9F16EC5955244A7B760CB3B8258480B4DDD03@fraexmb2.staples.com>
From: "Sharma, Siddharth" <Siddharth.Sharma@Staples.com>
To: java-user@lucene.apache.org
Subject: Is Lucene right for me?
Date: Sat, 8 Oct 2005 10:43:11 -0400 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi
I am complete newbie to Lucene. In fact I'm not even a search guy. I looked
up terms such as stemming just yesterday. So this is going to be so much fun
;)

Here's the problem I am trying to solve:
I work in the B2B space at Staples (an office supplies company in the US).
We sell office products to companies with whom we have a contract. The
contract defines what we can sell (or not sell) to a company's employees.
One contract may be shared by numerous small and medium sized companies and
one company may also have more than one contract based on their ship-to
location.

Currently, we have a very bad system of doing this. We do blocking at the
SKU level. In other words, the sales people go in and mark individual SKUs
as blocked or available for sale. Given that we sell upwards of 90000 SKUs,
this is a nightmare and unwanted SKUs do become available for sale. A new
project called 'Assortment View' is funded to address this problem. The
sales people will define blocking/unblocking rules in the catalog at the
category, subcategory and even individual SKU level to create a customer's
product assortment. With blocking at a much higher level than individual
SKUs, we hope the problem will be alleviated.
I am evaluating Lucene for this purpose. I realize I am attempting to use
primarily a search engine as an inclusion/exclusion index solution, where
data about contracts, customers and blocking rules is in the index, and
Lucene provides the class of products available/forbidden for sale.

Questions:
1. Is this the right use of Lucene?

2. Has anybody done something like this before?

3. When there are two high level entities viz. catalog and contract, what is
the best index structure?
    a. Two separate indices which are 'joined' (my relational database 
       background shows) at runtime to provide the customer's product 
       assortment.
    b. One index with two tables (db shows again), if there is such a 
       concept in Lucene
    c. One flattened index containing catalog and contract information as 
       tokenized fields in the same document (now I'm using Lucene terms ;)

4. I need to ask two kinds of questions from the index:
    a. Given a list of customer's contracts, give me the customer's product 
       assortment. In other words, give me counts of products within a 
       category, subcategory available for sale. 
    b. Given these list of SKUs, tell me which ones are blocked and which 
       are not by looking at all the blocking rules defined at the category 
       or individual SKU level.
Is Lucene's Query API flexible enough to support such different queries?
Will it scale for query b, where the list of SKUs may be large (thousands)?

Fun Fun!!
Thanks in advance
Sid


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16801-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 08 18:22:49 2005
Return-Path: <java-user-return-16801-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58803 invoked from network); 8 Oct 2005 18:22:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Oct 2005 18:22:48 -0000
Received: (qmail 32459 invoked by uid 500); 8 Oct 2005 18:22:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32423 invoked by uid 500); 8 Oct 2005 18:22:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32412 invoked by uid 99); 8 Oct 2005 18:22:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 08 Oct 2005 11:22:43 -0700
X-ASF-Spam-Status: No, hits=2.4 required=10.0
	tests=HTML_20_30,HTML_MESSAGE,RCVD_BY_IP,RCVD_IN_BL_SPAMCOP_NET,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 72.14.204.206 as permitted sender)
Received: from [72.14.204.206] (HELO qproxy.gmail.com) (72.14.204.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 08 Oct 2005 11:22:46 -0700
Received: by qproxy.gmail.com with SMTP id a10so167285qbd
        for <java-user@lucene.apache.org>; Sat, 08 Oct 2005 11:22:21 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:cc:in-reply-to:mime-version:content-type:references;
        b=OV15Eiqm3oZchYGsdI9H/UCQdf2KFHwj739SOYlnL9vceNwj0hC0HjtH0LaoJ5ImzqaQiqYopHuhdF3aJmmDk2SUR1GeThs69YwyFOZH5ggMtXEU8BprNnVEH0I7jFVRZwZIEj6+j1+UUcno2A+imk3Kypeo+qiH+4QOujVW2IU=
Received: by 10.65.22.9 with SMTP id z9mr1500288qbi;
        Sat, 08 Oct 2005 11:22:21 -0700 (PDT)
Received: by 10.64.10.17 with HTTP; Sat, 8 Oct 2005 11:22:21 -0700 (PDT)
Message-ID: <50f433360510081122l66990975w2443b2f405707ad1@mail.gmail.com>
Date: Sat, 8 Oct 2005 11:22:21 -0700
From: Jeff Rodenburg <jeff.rodenburg@gmail.com>
Reply-To: Jeff Rodenburg <jeff.rodenburg@gmail.com>
To: Rasik Pandey <rbpandey@gmail.com>
Subject: Re: RemoteSearchable and sorting
Cc: java-user@lucene.apache.org
In-Reply-To: <80d298bc0510051723i5cdbccf7y4f476c2b0133a3a@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_27431_13195723.1128795741541"
References: <50f433360510051541r7af7e409pe5b94d2f14624d8f@mail.gmail.com>
	 <80d298bc0510051723i5cdbccf7y4f476c2b0133a3a@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_27431_13195723.1128795741541
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

As a follow-on to this, the problem appears to have been PBKAC (problem
between keyboard and chair).

Sorting works fine as long as all indexes being referenced contain the fiel=
d
being sorted. When executing a remote search, the container application
(that's me) needs to be sure to bubble up the exceptions appropriately.

-- j

On 10/5/05, Rasik Pandey <rbpandey@gmail.com> wrote:
>
> Hi Jeff,
>
> Sorting needs access to an IndexReader so it can do Term lookups, and
> I don't think there is a remote impl of IndexReader probably because,
> among other reasons, not all objects related to Terms are
> Serializable. IMHO, it would be NICE to have a RemoteReader and a
> ParallelMultiReader to round out the API like:
>
> ParallelMultiReader, RemoteReader, MultiReader, Reader
>
> AND
>
> ParallelMultiSearcher,RemoteSearcher, MultiSearcher, Searcher
>
> Regards,
> Rus
>
>
>
>
> On 10/5/05, Jeff Rodenburg <jeff.rodenburg@gmail.com> wrote:
> > Are there known limitations or issues with sorting and RemoteSearchable=
?
> I'm
> > encountering problems attempting to sort through a MultiSearcher
> > (ParallelMultiSearcher, actually). I'm using an array of
> RemoteSearchable
> > objects as the Searchable[] source. If I change the source indexes to b=
e
> > local IndexSearchers, sorting works just fine.
> >
> > I've searched the threads of this mailing list as well as the
> outstanding
> > issues on the Apache issue tracker, but haven't found anything related
> to
> > this problem.
> >
> > Thanks,
> > j
> >
> >
>

------=_Part_27431_13195723.1128795741541--

From java-user-return-16802-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 09 12:13:05 2005
Return-Path: <java-user-return-16802-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47114 invoked from network); 9 Oct 2005 12:13:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Oct 2005 12:13:05 -0000
Received: (qmail 53153 invoked by uid 500); 9 Oct 2005 12:13:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53094 invoked by uid 500); 9 Oct 2005 12:13:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53082 invoked by uid 99); 9 Oct 2005 12:12:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Oct 2005 05:12:59 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.181.105.68] (HELO hfep02.dion.ne.jp) (203.181.105.68)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Oct 2005 05:13:01 -0700
Received: from sekiguchi ([59.135.74.142]) by hfep02.dion.ne.jp with SMTP
          id <20051009121236352.YRSJ@hfep02.dion.ne.jp>
          for <java-user@lucene.apache.org>; Sun, 9 Oct 2005 21:12:36 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
Subject: What is MMapDirectory?
Date: Sun, 9 Oct 2005 21:12:34 +0900
Message-ID: <PKEIKOCKCHNIIHNECPCCIEDICAAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-2022-jp"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

What is MMapDirectory?

I've searched mailing list archive, but cannot find it.
I could find the following explanation at Lucene 1.9 CHANGES.txt:

 8. Add MMapDirectory, which uses nio to mmap input files.  This is
    still somewhat slower than FSDirectory.  However it uses less
    memory per query term, since a new buffer is not allocated per
    term, which may help applications which use, e.g., wildcard
    queries.  It may also someday be faster. (cutting & Paul Elschot)

And I saw bug 31508:

[PATCH] MMapDirectory for huge index files
http://issues.apache.org/bugzilla/show_bug.cgi?id=31508

But I'm curious to know about MMapDirecotry in more detail about
the following point:

1. Were there any troubles in FSDirectory with huge index files?
2. Is MMapDirectory used for only searching? (not indexing?)
3. Why is MMapDirectory somewhat slower than FSDirectory?
4. Why does MMapDirectory use less memory while using mapped file (mmap)?

Thank you very much in advance,

Koji




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16803-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 09 16:14:27 2005
Return-Path: <java-user-return-16803-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95593 invoked from network); 9 Oct 2005 16:14:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Oct 2005 16:14:26 -0000
Received: (qmail 75990 invoked by uid 500); 9 Oct 2005 16:14:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75963 invoked by uid 500); 9 Oct 2005 16:14:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75952 invoked by uid 99); 9 Oct 2005 16:14:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Oct 2005 09:14:21 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 72.14.204.193 as permitted sender)
Received: from [72.14.204.193] (HELO qproxy.gmail.com) (72.14.204.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Oct 2005 09:14:24 -0700
Received: by qproxy.gmail.com with SMTP id a10so264907qbd
        for <java-user@lucene.apache.org>; Sun, 09 Oct 2005 09:14:00 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=pBOUwiDoWj3HoCpZXzMiLrG5tXud/cWo933MZxXgRjfl0X2Y9wxXo4qckgeshTo3nbh0KXKLn9Oewedj2vpJ9Vxmqcd1sPMi/1pVvM2tfL8cWYg9qJp0Uq51KHwjZQzIWBbxz5vmoLJtwbsWN8aTVxkyH8SSPFVs+TwpzXjsRSo=
Received: by 10.65.38.14 with SMTP id q14mr1029219qbj;
        Sun, 09 Oct 2005 09:13:59 -0700 (PDT)
Received: by 10.64.10.17 with HTTP; Sun, 9 Oct 2005 09:13:59 -0700 (PDT)
Message-ID: <50f433360510090913j4e1992a9rdbba81d77bb9a1f6@mail.gmail.com>
Date: Sun, 9 Oct 2005 09:13:59 -0700
From: Jeff Rodenburg <jeff.rodenburg@gmail.com>
Reply-To: Jeff Rodenburg <jeff.rodenburg@gmail.com>
To: java-user@lucene.apache.org
Subject: Custom sort with multiple fields?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_34556_23262380.1128874439167"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_34556_23262380.1128874439167
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

In following the LIA custom sort example, the calculated sort value is base=
d
on a field that contains all necessary values, i.e. "x,y" which is split
into two values for use in a distance algorithm.

Suppose I want a custom sort basis that performs a similar calculation, but
is based on a multiple # (3,4,....n) of fields?

1. I assume I'm just not connecting the dots on the API, but how do I get
the terms from multiple fields in order to generate the calculation?
2. In spite of knowing the syntax, is this a perf killer? Is it better to
load all the values in one field, then split them out in a string[] similar
to the LIA example?

cheers,
jeff r.

------=_Part_34556_23262380.1128874439167--

From java-user-return-16804-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 10 00:03:07 2005
Return-Path: <java-user-return-16804-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20615 invoked from network); 10 Oct 2005 00:03:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Oct 2005 00:03:06 -0000
Received: (qmail 50053 invoked by uid 500); 10 Oct 2005 00:03:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50034 invoked by uid 500); 10 Oct 2005 00:03:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50020 invoked by uid 99); 10 Oct 2005 00:03:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Oct 2005 17:03:01 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_40_50,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [152.16.195.68] (HELO dartagnan.duhs.duke.edu) (152.16.195.68)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Oct 2005 17:03:02 -0700
Received: from notesgv.notes.duke.edu (notesgv.notes.duke.edu [152.16.18.54])
	by dartagnan.duhs.duke.edu (8.13.4/8.13.4) with ESMTP id j9A02a0a4591650
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NO)
	for <java-user@lucene.apache.org>; Sun, 9 Oct 2005 20:02:36 -0400
To: java-user@lucene.apache.org
Subject: Lucene does not delete old index files after re-indexing?
MIME-Version: 1.0
X-Mailer: Lotus Notes Release 6.5.2 June 01, 2004
Message-ID: <OF5D84478B.9D469C98-ON85257095.0082DBF1-85257096.0000378A@notes.duke.edu>
From: Jim Coble <Jim.Coble@duke.edu>
Date: Sun, 9 Oct 2005 20:03:36 -0400
X-MIMETrack: Serialize by Router on notesgv.notes.duke.edu/DUMC_Services/mc/Duke(Release
 6.5.4|March 27, 2005) at 10/09/2005 08:02:36 PM,
	Serialize complete at 10/09/2005 08:02:36 PM
Content-Type: multipart/alternative; boundary="=_alternative 0000378285257096_="
X-Scanned-By: MIMEDefang 2.51 on 152.16.195.68
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--=_alternative 0000378285257096_=
Content-Type: text/plain; charset="US-ASCII"

I am using Lucene 1.4.3.  I have an application that indexes a set of 
documents.  What I want to do is rebuild the index each time I run the 
application.  This seems to work fine, except that the old index file does 
not get deleted.  For example, I ran the program earlier this afternoon 
and it created the following file in my index directory location ...

-rw-r--r--   1 tomcat   staff    3200954 Oct  9 16:24 _125.cfs

I added two documents to the collection and re-ran the indexing program. 
It created the following file:

-rw-r--r--   1 tomcat   staff    3205527 Oct  9 19:07 _127.cfs

but it did not delete the first file noted above.  In my index directory 
location, I now have ...

-rw-r--r--   1 tomcat   staff    3200954 Oct  9 16:24 _125.cfs
-rw-r--r--   1 tomcat   staff    3205527 Oct  9 19:07 _127.cfs
-rw-r--r--   1 tomcat   staff          4 Oct  9 19:07 deletable
-rw-r--r--   1 tomcat   staff         29 Oct  9 19:07 segments

I would have expected the "_125.cfs" file to have been deleted from the 
filesystem once the "_127.cfs" file was created.  Does Lucene not clear 
out the old index files when it rebuilds the index?

I use the following code to instantiate the IndexWriter ...

indexWriter = new IndexWriter(directory, analyzer, true);

and, after I iterate through and index my documents, I have ...

indexWriter.optimize();

before calling ...

indexWriter.close();

If nothing else, I would have thought the "true" third parameter to the 
IndexWriter constructor would cause it to remove the old index files once 
it had created the new ones.

Have I misunderstood something?  Or done something incorrect?

Thanks.
--Jim
=================================================
Jim Coble
Head, Instructional Technology Applications and Facilities
Center for Instructional Technology
Email: jim.coble@duke.edu
Voice: 919-660-5974  Fax: 919-660-5923
Box 90198, Duke University
Durham, NC 27708-0198
=================================================

--=_alternative 0000378285257096_=--

From java-user-return-16805-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 10 01:04:57 2005
Return-Path: <java-user-return-16805-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27366 invoked from network); 10 Oct 2005 01:04:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Oct 2005 01:04:57 -0000
Received: (qmail 69966 invoked by uid 500); 10 Oct 2005 01:04:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69939 invoked by uid 500); 10 Oct 2005 01:04:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69928 invoked by uid 99); 10 Oct 2005 01:04:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Oct 2005 18:04:52 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Oct 2005 18:04:55 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id E7A475B7BE; Sun,  9 Oct 2005 18:04:30 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id E34787F45E
	for <java-user@lucene.apache.org>; Sun,  9 Oct 2005 18:04:30 -0700 (PDT)
Date: Sun, 9 Oct 2005 18:04:30 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Is Lucene right for me?
In-Reply-To: <A9D9F16EC5955244A7B760CB3B8258480B4DDD03@fraexmb2.staples.com>
Message-ID: <Pine.LNX.4.58.0510091748090.3703@hal.rescomp.berkeley.edu>
References: <A9D9F16EC5955244A7B760CB3B8258480B4DDD03@fraexmb2.staples.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: I am evaluating Lucene for this purpose. I realize I am attempting to use
: primarily a search engine as an inclusion/exclusion index solution, where
: data about contracts, customers and blocking rules is in the index, and
: Lucene provides the class of products available/forbidden for sale.
:
: Questions:
: 1. Is this the right use of Lucene?

I don't think it's too much of a stretch to say that Lucene can easily be
used for applying inclusion/exclusion rules to generate a product catalog
-- that's exactly what I do with it -- but it doesn't particularly
facilitate it.

If you haven't seen this post, you should start by reading it...
http://www.nabble.com/Announcement%3A-Lucene-powering-CNET.com-Product-Category-Listings-t266441.html#a748420

...it strikes me as a very similar situation to what you are describing.

I would suggest you store each product as a document in your index, and
impliment your exclusion rules as Filters.  When a user comes to your
site, identify what set of exclusion rules applies to them, and generate a
Filter to corrispond to those rules.  Then let them search/browse as
needed.   how you store those exclusion rules is up to you.  In my case i
put them in stored fields in special metadata documes in my index, using
an XML representation that i can use to easily construct filter objects.
I can imagine it might make sense for you to store "contract" documents in
your index, with "companyId" as an indexed field.  When a user comes to
your site and says they are with companyId#1234, you do one search to get
all the "contracts" associated with that company, and then parse those
documents to generate a list of Filters to compose together on all
searches done by the user.

One last comment...

:    b. Given these list of SKUs, tell me which ones are blocked and which
:       are not by looking at all the blocking rules defined at the category
:       or individual SKU level.

: Is Lucene's Query API flexible enough to support such different queries?
: Will it scale for query b, where the list of SKUs may be large (thousands)?

What made it possible for me to impliment my project at all (let alone
with lucene) was the ability to deal with sets of documents as BitSets.  I
didn't have to worry about finding the intersections of large sets of
product SKUs - i just had to AND some some BitSets.  In short, I don't
think you'll ever find a need to query for a list of thousands of SKUs, I
think you'll find it easier to query for farious rules/categories and get
a BitSet which identifies all of the documents for the products those SKUs
represent in your index.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16806-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 10 02:10:31 2005
Return-Path: <java-user-return-16806-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62256 invoked from network); 10 Oct 2005 02:10:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Oct 2005 02:10:31 -0000
Received: (qmail 98399 invoked by uid 500); 10 Oct 2005 02:10:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97972 invoked by uid 500); 10 Oct 2005 02:10:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97961 invoked by uid 99); 10 Oct 2005 02:10:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Oct 2005 19:10:24 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.181.105.67] (HELO hfep01.dion.ne.jp) (203.181.105.67)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Oct 2005 19:10:27 -0700
Received: from sekiguchi ([59.135.71.200]) by hfep01.dion.ne.jp with SMTP
          id <20051010021001609.UYHF@hfep01.dion.ne.jp>
          for <java-user@lucene.apache.org>;
          Mon, 10 Oct 2005 11:10:01 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
Subject: RE: Lucene does not delete old index files after re-indexing?
Date: Mon, 10 Oct 2005 11:10:00 +0900
Message-ID: <PKEIKOCKCHNIIHNECPCCKEDJCAAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <OF5D84478B.9D469C98-ON85257095.0082DBF1-85257096.0000378A@notes.duke.edu>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> If nothing else, I would have thought the "true" third parameter to the
> IndexWriter constructor would cause it to remove the old index files once
> it had created the new ones.

I think FSDirectory.getDirectory( dir, true ) removes the old index files in
the dir.

Koji


> -----Original Message-----
> From: Jim Coble [mailto:Jim.Coble@duke.edu]
> Sent: Monday, October 10, 2005 9:04 AM
> To: java-user@lucene.apache.org
> Subject: Lucene does not delete old index files after re-indexing?
>
>
> I am using Lucene 1.4.3.  I have an application that indexes a set of
> documents.  What I want to do is rebuild the index each time I run the
> application.  This seems to work fine, except that the old index
> file does
> not get deleted.  For example, I ran the program earlier this afternoon
> and it created the following file in my index directory location ...
>
> -rw-r--r--   1 tomcat   staff    3200954 Oct  9 16:24 _125.cfs
>
> I added two documents to the collection and re-ran the indexing program.
> It created the following file:
>
> -rw-r--r--   1 tomcat   staff    3205527 Oct  9 19:07 _127.cfs
>
> but it did not delete the first file noted above.  In my index directory
> location, I now have ...
>
> -rw-r--r--   1 tomcat   staff    3200954 Oct  9 16:24 _125.cfs
> -rw-r--r--   1 tomcat   staff    3205527 Oct  9 19:07 _127.cfs
> -rw-r--r--   1 tomcat   staff          4 Oct  9 19:07 deletable
> -rw-r--r--   1 tomcat   staff         29 Oct  9 19:07 segments
>
> I would have expected the "_125.cfs" file to have been deleted from the
> filesystem once the "_127.cfs" file was created.  Does Lucene not clear
> out the old index files when it rebuilds the index?
>
> I use the following code to instantiate the IndexWriter ...
>
> indexWriter = new IndexWriter(directory, analyzer, true);
>
> and, after I iterate through and index my documents, I have ...
>
> indexWriter.optimize();
>
> before calling ...
>
> indexWriter.close();
>
> If nothing else, I would have thought the "true" third parameter to the
> IndexWriter constructor would cause it to remove the old index files once
> it had created the new ones.
>
> Have I misunderstood something?  Or done something incorrect?
>
> Thanks.
> --Jim
> =================================================
> Jim Coble
> Head, Instructional Technology Applications and Facilities
> Center for Instructional Technology
> Email: jim.coble@duke.edu
> Voice: 919-660-5974  Fax: 919-660-5923
> Box 90198, Duke University
> Durham, NC 27708-0198
> =================================================
>



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16807-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 10 05:44:32 2005
Return-Path: <java-user-return-16807-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21868 invoked from network); 10 Oct 2005 05:44:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Oct 2005 05:44:32 -0000
Received: (qmail 8165 invoked by uid 500); 10 Oct 2005 05:44:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8135 invoked by uid 500); 10 Oct 2005 05:44:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8124 invoked by uid 99); 10 Oct 2005 05:44:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Oct 2005 22:44:27 -0700
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=HTML_20_30,HTML_MESSAGE,HTML_SHORT_LENGTH,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of andy.kishore@gmail.com designates 64.233.184.199 as permitted sender)
Received: from [64.233.184.199] (HELO wproxy.gmail.com) (64.233.184.199)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Oct 2005 22:44:29 -0700
Received: by wproxy.gmail.com with SMTP id i21so511721wra
        for <java-user@lucene.apache.org>; Sun, 09 Oct 2005 22:44:04 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=U5Ef//Pt/RhrWyzrwz5XCzzQYea3Ycb96r43W9YVbx1UfeQOo4OUzXSdEA0dw8RBFFqok+C4IxR/ZF15NVOXDPD3JwEofgbckzcGWZoGMl72Xp4t1HfwssK3T8jEpGH30BMSI/JdwApX3v2ODWoC05CNxXbi8B4v01AX2ZnqDis=
Received: by 10.54.142.2 with SMTP id p2mr988034wrd;
        Sun, 09 Oct 2005 22:44:04 -0700 (PDT)
Received: by 10.54.84.9 with HTTP; Sun, 9 Oct 2005 22:44:04 -0700 (PDT)
Message-ID: <1036df940510092244m70c5d076wff0e8065ff48fd9f@mail.gmail.com>
Date: Mon, 10 Oct 2005 11:14:04 +0530
From: Anand Kishore <andy.kishore@gmail.com>
Reply-To: Anand Kishore <andy.kishore@gmail.com>
To: java-user@lucene.apache.org
Subject: Stemming and exact phrases
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_37017_19901650.1128923044655"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_37017_19901650.1128923044655
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,

Does stemming result in failure of exact phrase matches???

--
- Anand

------=_Part_37017_19901650.1128923044655--

From java-user-return-16808-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 10 05:52:03 2005
Return-Path: <java-user-return-16808-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23050 invoked from network); 10 Oct 2005 05:52:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Oct 2005 05:52:03 -0000
Received: (qmail 15632 invoked by uid 500); 10 Oct 2005 05:51:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15607 invoked by uid 500); 10 Oct 2005 05:51:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15596 invoked by uid 99); 10 Oct 2005 05:51:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Oct 2005 22:51:58 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of chris.lu@gmail.com designates 72.14.204.197 as permitted sender)
Received: from [72.14.204.197] (HELO qproxy.gmail.com) (72.14.204.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Oct 2005 22:52:00 -0700
Received: by qproxy.gmail.com with SMTP id c8so1001553qbc
        for <java-user@lucene.apache.org>; Sun, 09 Oct 2005 22:51:36 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=IJ2GAMx8cL9zxHNClK8Xlvgu9kiCCOV/CUnAGfdZGnc8iveqkAP2TQqNeiU4mdYN2NWkkAS9qDyEY4CkwZCap/RcKT6mgL/HgNAO85yh/GcoRzno5SSEX3L51bAx/EQiNi/ze9n2/QqDi9bWH8+XcTBxUcqg0lZBC7E3olHYyg8=
Received: by 10.65.53.10 with SMTP id f10mr3051906qbk;
        Sun, 09 Oct 2005 22:51:36 -0700 (PDT)
Received: by 10.65.93.7 with HTTP; Sun, 9 Oct 2005 22:51:36 -0700 (PDT)
Message-ID: <6e3ae6310510092251v19275487y6b683cec438b844@mail.gmail.com>
Date: Sun, 9 Oct 2005 22:51:36 -0700
From: Chris Lu <chris.lu@gmail.com>
To: java-user@lucene.apache.org, Anand Kishore <andy.kishore@gmail.com>
Subject: Re: Stemming and exact phrases
In-Reply-To: <1036df940510092244m70c5d076wff0e8065ff48fd9f@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <1036df940510092244m70c5d076wff0e8065ff48fd9f@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

In some cases, it does.

But you can choose to use some Analyzers which only cut words out just
by empty spaces.

Chris
----------------------------
Full-Text Search on Any Databases
http://www.dbsight.net

On 10/9/05, Anand Kishore <andy.kishore@gmail.com> wrote:
> Hi,
>
> Does stemming result in failure of exact phrase matches???
>
> --
> - Anand
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16809-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 10 12:55:30 2005
Return-Path: <java-user-return-16809-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64893 invoked from network); 10 Oct 2005 12:55:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Oct 2005 12:55:30 -0000
Received: (qmail 67442 invoked by uid 500); 10 Oct 2005 12:55:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67321 invoked by uid 500); 10 Oct 2005 12:55:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67285 invoked by uid 99); 10 Oct 2005 12:55:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 05:55:26 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 05:55:28 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id ED95613E2008; Mon, 10 Oct 2005 08:55:02 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 935D213E2007
	for <java-user@lucene.apache.org>; Mon, 10 Oct 2005 08:54:49 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <1036df940510092244m70c5d076wff0e8065ff48fd9f@mail.gmail.com>
References: <1036df940510092244m70c5d076wff0e8065ff48fd9f@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <7D3FC547-6245-42D3-915D-3FAC05C6FD95@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Stemming and exact phrases
Date: Mon, 10 Oct 2005 08:54:49 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.7 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Oct 10, 2005, at 1:44 AM, Anand Kishore wrote:
> Does stemming result in failure of exact phrase matches???

It shouldn't.  Please provide a simple scenario where you're seeing  
such a failure.  Stemming will allow you to find more than the exact  
phrase, but it should always match an exact phrase - even with stop  
words being removed.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16810-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 10 15:26:01 2005
Return-Path: <java-user-return-16810-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33481 invoked from network); 10 Oct 2005 15:26:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Oct 2005 15:26:01 -0000
Received: (qmail 6922 invoked by uid 500); 10 Oct 2005 15:25:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6899 invoked by uid 500); 10 Oct 2005 15:25:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6888 invoked by uid 99); 10 Oct 2005 15:25:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 08:25:54 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from [80.91.229.2] (HELO ciao.gmane.org) (80.91.229.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 08:25:56 -0700
Received: from root by ciao.gmane.org with local (Exim 4.43)
	id 1EOzRp-0004E7-R1
	for java-user@lucene.apache.org; Mon, 10 Oct 2005 17:20:17 +0200
Received: from rrcs-67-78-201-138.se.biz.rr.com ([67.78.201.138])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Mon, 10 Oct 2005 17:20:17 +0200
Received: from david by rrcs-67-78-201-138.se.biz.rr.com with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Mon, 10 Oct 2005 17:20:17 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: java-user@lucene.apache.org
From:  "J. David Boyd" <david@adboyd.com>
Subject:  Lucene and remote index and java applet, with no java app server
Date:  Mon, 10 Oct 2005 09:59:08 -0400
Lines: 52
Message-ID: <dids3n$m3n$1@sea.gmane.org>
Mime-Version:  1.0
Content-Type:  text/plain; charset=ISO-8859-1
Content-Transfer-Encoding:  7bit
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: rrcs-67-78-201-138.se.biz.rr.com
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
X-Enigmail-Version: 0.93.0.0
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Here's my dilemma.

For years, we have supplied paper documentation to our customers.  Many
pages of paper.  All together, it makes a 3 foot stack when printed.

Also for many years, customers have been asking for docs in electronic
format, so, recently, I wrote some Perl scripts that convert our many
legacy word perfect files into PDF format. (I shouldn't really call them
legacy, as that is still what the documentation author writes in.)

We generate some HTML pages as a wrapper, that break the 543 PDF files
into different modules, and this gets placed on a section of our web site.

The users can see the Module they want, and then grab an appropriate PDF
for that module, and view it in their browser.

Unfortunately, the names are things like MOD00_TBLS_FRMX.pgm.pdf,
PGR254.S1.T33.pgm.pdf, etc. This is _somewhat_ transparent to we
developers, but certainly doesn't make it easy for the end users to find
the appropriate section of documentation that they want

I would like to implement a search facility using Lucene, but I'm not
sure of a few things.

Given that I can generate the index here, at the same time I convert any
changed WP files to PDF, and upload it to our web site, what then do I
do with it.

I don't see, from my interrupted attempts at perusing the Lucene docs,
any functions for a Java applet to access an index that is on a remote
site.  We have no extra utilities available, such as a Java app server
to run the search using RMI (I think I've read the Lucene docs enough to
use the buzzword correctly. :-> )

It seems that I am going to have to write an applet that will download
the index (2M, 1M zipped) to a users local hard drive, then use that
index to find the appropriate PDF file, then download the PDF file, and
start it in the users browser.

I'm assuming a signed applet, since as far as I can tell from my
reading, an unsigned applet won't let any write, or reads, to the local
hard drive occur.

Does this sound feasible?

Would I be better off using Java app, and lava web start, to download a
jarred index, and take it from there?

I'm fishing for feasibility ideas right now, and any help will be
greatly appreciated.

Dave @ TSC in Palm Harbor, FL


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16811-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 10 15:36:20 2005
Return-Path: <java-user-return-16811-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39062 invoked from network); 10 Oct 2005 15:36:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Oct 2005 15:36:20 -0000
Received: (qmail 30422 invoked by uid 500); 10 Oct 2005 15:36:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30402 invoked by uid 500); 10 Oct 2005 15:36:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30391 invoked by uid 99); 10 Oct 2005 15:36:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 08:36:14 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of daniel.armbrust.list@gmail.com designates 72.14.204.198 as permitted sender)
Received: from [72.14.204.198] (HELO qproxy.gmail.com) (72.14.204.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 08:36:14 -0700
Received: by qproxy.gmail.com with SMTP id a10so422152qbd
        for <java-user@lucene.apache.org>; Mon, 10 Oct 2005 08:35:50 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:x-accept-language:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=PROXOyoutBzp0Y+oGvp3gUILQ3wy818O9x0dB5usmBSaQrULgbIOLEPAenCz4Q7TKGQiipnv6K7M7N7qEycu+Ju7SJIfel9ZvAffcd/8EjgUjDU1a5q9vb57P4zvlgqz9uQ3XRMfKan7KBI+iqjpo1jy4SvkeEGpUdEpx8kDKNk=
Received: by 10.64.184.3 with SMTP id h3mr2576580qbf;
        Mon, 10 Oct 2005 08:35:49 -0700 (PDT)
Received: from ?172.22.19.82? ( [129.176.197.15])
        by mx.gmail.com with ESMTP id d12sm3420248qbc.2005.10.10.08.35.49;
        Mon, 10 Oct 2005 08:35:49 -0700 (PDT)
Message-ID: <434A8A54.8040708@gmail.com>
Date: Mon, 10 Oct 2005 10:35:48 -0500
From: Dan Armbrust <daniel.armbrust.list@gmail.com>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Lucene and remote index and java applet, with no java app server
References: <dids3n$m3n$1@sea.gmane.org>
In-Reply-To: <dids3n$m3n$1@sea.gmane.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

J. David Boyd wrote:
> Here's my dilemma.
> 
> For years, we have supplied paper documentation to our customers.  Many
> pages of paper.  All together, it makes a 3 foot stack when printed.
> 
> Also for many years, customers have been asking for docs in electronic
> format, so, recently, I wrote some Perl scripts that convert our many
> legacy word perfect files into PDF format. (I shouldn't really call them
> legacy, as that is still what the documentation author writes in.)
> 
> We generate some HTML pages as a wrapper, that break the 543 PDF files
> into different modules, and this gets placed on a section of our web site.
> 
> The users can see the Module they want, and then grab an appropriate PDF
> for that module, and view it in their browser.
> 
> Unfortunately, the names are things like MOD00_TBLS_FRMX.pgm.pdf,
> PGR254.S1.T33.pgm.pdf, etc. This is _somewhat_ transparent to we
> developers, but certainly doesn't make it easy for the end users to find
> the appropriate section of documentation that they want
> 
> I would like to implement a search facility using Lucene, but I'm not
> sure of a few things.
> 
> Given that I can generate the index here, at the same time I convert any
> changed WP files to PDF, and upload it to our web site, what then do I
> do with it.
> 
> I don't see, from my interrupted attempts at perusing the Lucene docs,
> any functions for a Java applet to access an index that is on a remote
> site.  We have no extra utilities available, such as a Java app server
> to run the search using RMI (I think I've read the Lucene docs enough to
> use the buzzword correctly. :-> )
> 
> It seems that I am going to have to write an applet that will download
> the index (2M, 1M zipped) to a users local hard drive, then use that
> index to find the appropriate PDF file, then download the PDF file, and
> start it in the users browser.
> 
> I'm assuming a signed applet, since as far as I can tell from my
> reading, an unsigned applet won't let any write, or reads, to the local
> hard drive occur.
> 
> Does this sound feasible?
> 
> Would I be better off using Java app, and lava web start, to download a
> jarred index, and take it from there?
> 
> I'm fishing for feasibility ideas right now, and any help will be
> greatly appreciated.
> 
> Dave @ TSC in Palm Harbor, FL
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
Why don't you just integrate the Lucene index into your website - So the 
users just do a search on a page on your website - this executes the 
Lucene search on your web server, presents the results, and then they 
click the link for the PDF that they want.

I don't see any reason to take the index to the client here.

Dan

-- 
****************************
Daniel Armbrust
Biomedical Informatics
Mayo Clinic Rochester
daniel.armbrust(at)mayo.edu
http://informatics.mayo.edu/

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16812-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 10 15:38:53 2005
Return-Path: <java-user-return-16812-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39437 invoked from network); 10 Oct 2005 15:38:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Oct 2005 15:38:53 -0000
Received: (qmail 34192 invoked by uid 500); 10 Oct 2005 15:38:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34170 invoked by uid 500); 10 Oct 2005 15:38:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34159 invoked by uid 99); 10 Oct 2005 15:38:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 08:38:48 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.160.230.40] (HELO mout.perfora.net) (217.160.230.40)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 08:38:50 -0700
Received: from [59.93.75.85] (helo=[59.93.75.85])
	by mrelay.perfora.net with ESMTP (Nemesis),
	id 0MKp2t-1EOzjL1C7J-0001Er; Mon, 10 Oct 2005 11:38:23 -0400
Message-ID: <434A8AD6.101@insideview.com>
Date: Mon, 10 Oct 2005 21:07:58 +0530
From: Harini Raghavan <harini.raghavan@insideview.com>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Lucene search is very slow
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Provags-ID: perfora.net abuse@perfora.net login:9759476ad67fa08aca5d9352c82c69ea
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
I am using lucene for search functionality in my j2ee application using 
JBoss as app server. The lucene index directory size is almsot 10G. The 
performance has been quite good until now. But after the last deploy, 
when the server was restarted , the lucene search has become very slow. 
It takes almost 3-4 mins for simple searches on the index. There has 
been no changes to the application in the new build.
Does anyone have an idea what could be wrong?
Thanks,
Harini

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16813-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 10 16:00:35 2005
Return-Path: <java-user-return-16813-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47329 invoked from network); 10 Oct 2005 16:00:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Oct 2005 16:00:34 -0000
Received: (qmail 62938 invoked by uid 500); 10 Oct 2005 16:00:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62913 invoked by uid 500); 10 Oct 2005 16:00:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62902 invoked by uid 99); 10 Oct 2005 16:00:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 09:00:29 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from [80.91.229.2] (HELO ciao.gmane.org) (80.91.229.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 09:00:31 -0700
Received: from list by ciao.gmane.org with local (Exim 4.43)
	id 1EP02m-0006Iu-UU
	for java-user@lucene.apache.org; Mon, 10 Oct 2005 17:58:29 +0200
Received: from rrcs-67-78-201-138.se.biz.rr.com ([67.78.201.138])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Mon, 10 Oct 2005 17:58:28 +0200
Received: from david by rrcs-67-78-201-138.se.biz.rr.com with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Mon, 10 Oct 2005 17:58:28 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: java-user@lucene.apache.org
From:  "J. David Boyd" <david@adboyd.com>
Subject:  Re: Lucene and remote index and java applet, with no java app server
Date:  Mon, 10 Oct 2005 11:56:17 -0400
Lines: 93
Message-ID: <die2v2$fhi$1@sea.gmane.org>
References:  <dids3n$m3n$1@sea.gmane.org> <434A8A54.8040708@gmail.com>
Mime-Version:  1.0
Content-Type:  text/plain; charset=ISO-8859-1
Content-Transfer-Encoding:  7bit
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: rrcs-67-78-201-138.se.biz.rr.com
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
In-Reply-To: <434A8A54.8040708@gmail.com>
X-Enigmail-Version: 0.93.0.0
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Dan Armbrust wrote:
> J. David Boyd wrote:
> 
>> Here's my dilemma.
>>
>> For years, we have supplied paper documentation to our customers.  Many
>> pages of paper.  All together, it makes a 3 foot stack when printed.
>>
>> Also for many years, customers have been asking for docs in electronic
>> format, so, recently, I wrote some Perl scripts that convert our many
>> legacy word perfect files into PDF format. (I shouldn't really call them
>> legacy, as that is still what the documentation author writes in.)
>>
>> We generate some HTML pages as a wrapper, that break the 543 PDF files
>> into different modules, and this gets placed on a section of our web
>> site.
>>
>> The users can see the Module they want, and then grab an appropriate PDF
>> for that module, and view it in their browser.
>>
>> Unfortunately, the names are things like MOD00_TBLS_FRMX.pgm.pdf,
>> PGR254.S1.T33.pgm.pdf, etc. This is _somewhat_ transparent to we
>> developers, but certainly doesn't make it easy for the end users to find
>> the appropriate section of documentation that they want
>>
>> I would like to implement a search facility using Lucene, but I'm not
>> sure of a few things.
>>
>> Given that I can generate the index here, at the same time I convert any
>> changed WP files to PDF, and upload it to our web site, what then do I
>> do with it.
>>
>> I don't see, from my interrupted attempts at perusing the Lucene docs,
>> any functions for a Java applet to access an index that is on a remote
>> site.  We have no extra utilities available, such as a Java app server
>> to run the search using RMI (I think I've read the Lucene docs enough to
>> use the buzzword correctly. :-> )
>>
>> It seems that I am going to have to write an applet that will download
>> the index (2M, 1M zipped) to a users local hard drive, then use that
>> index to find the appropriate PDF file, then download the PDF file, and
>> start it in the users browser.
>>
>> I'm assuming a signed applet, since as far as I can tell from my
>> reading, an unsigned applet won't let any write, or reads, to the local
>> hard drive occur.
>>
>> Does this sound feasible?
>>
>> Would I be better off using Java app, and lava web start, to download a
>> jarred index, and take it from there?
>>
>> I'm fishing for feasibility ideas right now, and any help will be
>> greatly appreciated.
>>
>> Dave @ TSC in Palm Harbor, FL
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
> Why don't you just integrate the Lucene index into your website - So the
> users just do a search on a page on your website - this executes the
> Lucene search on your web server, presents the results, and then they
> click the link for the PDF that they want.
> 
> I don't see any reason to take the index to the client here.
> 
> Dan
> 

I see your words, but I hate to admit that I don't understand them in
totality!

When you say that the search is executed on the web server, that means
that we would need to code it it Perl or some such, no?

I don't see (except for a Perl or PHP script) how the search could
execute on the website itself.  Or is this what you are, indeed, suggesting?

I've been thinking of 'Java, Java, Java' only, but this does seem like a
valid idea.

So, I can build the index with Java locally, and then 'cgi' it on the
server side.

Am I getting this right?  :->

Thanks,

Dave


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16814-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 10 16:15:30 2005
Return-Path: <java-user-return-16814-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52134 invoked from network); 10 Oct 2005 16:15:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Oct 2005 16:15:30 -0000
Received: (qmail 89457 invoked by uid 500); 10 Oct 2005 16:15:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89426 invoked by uid 500); 10 Oct 2005 16:15:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89415 invoked by uid 99); 10 Oct 2005 16:15:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 09:15:24 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [65.209.1.80] (HELO webmail.cymfony.com) (65.209.1.80)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 09:15:25 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE:  Re: Lucene and remote index and java applet, with no java app server
Date: Mon, 10 Oct 2005 12:12:42 -0400
Message-ID: <13F36D2926AD444697093282F20041B703876538@buf-ex01.cymfony.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic:  Re: Lucene and remote index and java applet, with no java app server
Thread-Index: AcXNs7+Z/Z6iGTXaSzaFPlVi5Xv7XAAADsyw
From: "Peter Kim" <pkim@cymfony.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'm not sure about Perl or PHP--perhaps there are some ports of Lucene
that'll let you do that. But the most straightforward way is to just
write a simple Java web application with a servlet that uses an
IndexSearcher to execute a form-entered query and have it return
results.=20

It seems like you may be unfamiliar with Java web application
programming though. Download Tomcat, get a book on java servlet
programming (I like Core Servlets and JavaServer Pages) and get Lucene
in Action (essential for doing anything with lucene). But stay away from
applets!=20

Peter


>=20
> I see your words, but I hate to admit that I don't understand=20
> them in totality!
>=20
> When you say that the search is executed on the web server,=20
> that means that we would need to code it it Perl or some such, no?
>=20
> I don't see (except for a Perl or PHP script) how the search=20
> could execute on the website itself.  Or is this what you=20
> are, indeed, suggesting?
>=20
> I've been thinking of 'Java, Java, Java' only, but this does=20
> seem like a valid idea.
>=20
> So, I can build the index with Java locally, and then 'cgi'=20
> it on the server side.
>=20
> Am I getting this right?  :->
>=20
> Thanks,
>=20
> Dave
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16815-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 10 16:29:53 2005
Return-Path: <java-user-return-16815-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58300 invoked from network); 10 Oct 2005 16:29:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Oct 2005 16:29:52 -0000
Received: (qmail 15200 invoked by uid 500); 10 Oct 2005 16:29:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15148 invoked by uid 500); 10 Oct 2005 16:29:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15109 invoked by uid 99); 10 Oct 2005 16:29:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 09:29:45 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of daniel.armbrust.list@gmail.com designates 72.14.204.195 as permitted sender)
Received: from [72.14.204.195] (HELO qproxy.gmail.com) (72.14.204.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 09:29:46 -0700
Received: by qproxy.gmail.com with SMTP id b14so1124684qbc
        for <java-user@lucene.apache.org>; Mon, 10 Oct 2005 09:29:22 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:x-accept-language:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=PwwNPJ7FqnzbHX/ohaAYrprtd8qLm4OuYQLtQ3GkWakiQaT5K/eNgE1gsXmSiP2JYWuPdw8uuENq8O2As0Z3gx2LTf3syPkt2rqC1mzPpnJVJkzoo0oVZQMnc9JvkbMRJ+4L3m5Z5f9EyfX2Tuc/D+y9Y4TdHcaAGXq9nuDyO4Q=
Received: by 10.65.139.4 with SMTP id r4mr3370425qbn;
        Mon, 10 Oct 2005 09:29:22 -0700 (PDT)
Received: from ?172.22.19.82? ( [129.176.197.15])
        by mx.gmail.com with ESMTP id e14sm3370666qba.2005.10.10.09.29.22;
        Mon, 10 Oct 2005 09:29:22 -0700 (PDT)
Message-ID: <434A96E1.7060301@gmail.com>
Date: Mon, 10 Oct 2005 11:29:21 -0500
From: Dan Armbrust <daniel.armbrust.list@gmail.com>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Lucene and remote index and java applet, with no java app server
References: <dids3n$m3n$1@sea.gmane.org> <434A8A54.8040708@gmail.com> <die2v2$fhi$1@sea.gmane.org>
In-Reply-To: <die2v2$fhi$1@sea.gmane.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> I see your words, but I hate to admit that I don't understand them in
> totality!
> 
> When you say that the search is executed on the web server, that means
> that we would need to code it it Perl or some such, no?
> 
> I don't see (except for a Perl or PHP script) how the search could
> execute on the website itself.  Or is this what you are, indeed, suggesting?
> 
> I've been thinking of 'Java, Java, Java' only, but this does seem like a
> valid idea.
> 
> So, I can build the index with Java locally, and then 'cgi' it on the
> server side.
> 
> Am I getting this right?  :->
> 
> Thanks,
> 
> Dave

One way of doing this would be to set up Apache Tomcat on your web 
server.  Build yourself a jsp webpage which interfaces with Lucene to do 
the search and display the results.  Lucene can be run natively inside 
of Tomcat.


Another (more hackish/quick and dirty/probably full of peril) way of 
doing this if you don't want to have to learn tomcat/jsp and/or support 
Tomcat (or any other web server / application server that is capable of 
serving java/jsp applications) would be to write the necessary code to 
make perl talk to java - We have done this before (for a different 
purpose) by just having them send messages back and forth over a socket. 
  You web app written in perl could send a message to a running java vm 
on the web server (on a socket that the java vm is listening to) with 
the desired search.  The java wrapper picks up the message, performs the 
lucene search on the index, and then returns the results back over the 
socket to the perl code.

Dan


-- 
****************************
Daniel Armbrust
Biomedical Informatics
Mayo Clinic Rochester
daniel.armbrust(at)mayo.edu
http://informatics.mayo.edu/

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16816-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 10 16:52:45 2005
Return-Path: <java-user-return-16816-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65319 invoked from network); 10 Oct 2005 16:52:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Oct 2005 16:52:45 -0000
Received: (qmail 49710 invoked by uid 500); 10 Oct 2005 16:52:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49465 invoked by uid 500); 10 Oct 2005 16:52:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49454 invoked by uid 99); 10 Oct 2005 16:52:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 09:52:39 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_30_40,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of get.sameer@gmail.com designates 66.249.82.201 as permitted sender)
Received: from [66.249.82.201] (HELO xproxy.gmail.com) (66.249.82.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 09:52:41 -0700
Received: by xproxy.gmail.com with SMTP id i28so821773wxd
        for <java-user@lucene.apache.org>; Mon, 10 Oct 2005 09:52:16 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=SygXNgeZM/06pfbaWOQsvWkFjpnuJDEw63CKcIWD/ZVEfLNHAk8z3IiGbXuTj6qgJgByb5Glq5awTGLgqa/REQLuqZUZ8qKTGfzllHGyGP4oXmVVU6o+fBd0/SnLEEm31FvFzPxy3q+0B7/2UZLm9XhPQP0qSZw0QsjwIPmoo3c=
Received: by 10.70.37.9 with SMTP id k9mr3508090wxk;
        Mon, 10 Oct 2005 09:52:16 -0700 (PDT)
Received: by 10.70.42.4 with HTTP; Mon, 10 Oct 2005 09:52:16 -0700 (PDT)
Message-ID: <9ce5095c0510100952p54203679n77eb6ed61fa9787b@mail.gmail.com>
Date: Mon, 10 Oct 2005 22:22:16 +0530
From: Sameer Shisodia <get.sameer@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene and remote index and java applet, with no java app server
In-Reply-To: <434A96E1.7060301@gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_18822_21036378.1128963136759"
References: <dids3n$m3n$1@sea.gmane.org> <434A8A54.8040708@gmail.com>
	 <die2v2$fhi$1@sea.gmane.org> <434A96E1.7060301@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_18822_21036378.1128963136759
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

or php. here's help....

http://www.devx.com/Java/Article/20509/1954?pf=3Dtrue

rgds,
sameer

On 10/10/05, Dan Armbrust <daniel.armbrust.list@gmail.com> wrote:
>
>
> serving java/jsp applications) would be to write the necessary code to
> make perl talk to java - We have done this before (for a different
> purpose) by just having them send messages back and forth over a socket.
> You web app written in perl could send a message to a running java vm
> on the web server (on a socket that the java vm is listening to) with
> the desired search. The java wrapper picks up the message, performs the
> lucene search on the index, and then returns the results back over the
> socket to the perl code.
>
> Dan
>
>


--
Sameer Shisodia Bangalore

------=_Part_18822_21036378.1128963136759--

From java-user-return-16817-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 10 17:41:55 2005
Return-Path: <java-user-return-16817-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84344 invoked from network); 10 Oct 2005 17:41:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Oct 2005 17:41:55 -0000
Received: (qmail 8636 invoked by uid 500); 10 Oct 2005 17:41:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8577 invoked by uid 500); 10 Oct 2005 17:41:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8552 invoked by uid 99); 10 Oct 2005 17:41:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 10:41:51 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=HTML_20_30,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 72.14.204.195 as permitted sender)
Received: from [72.14.204.195] (HELO qproxy.gmail.com) (72.14.204.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 10:41:52 -0700
Received: by qproxy.gmail.com with SMTP id c8so1115203qbc
        for <java-user@lucene.apache.org>; Mon, 10 Oct 2005 10:41:28 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Pr+5qseLrQH9IqZl2zbpNqeOAo6YfrnhHJ4C533thlBSuyx0/jUSMUz2z8sVcvJM5XEjL55VR7yrO5RLPGhxOxaMOjKcBBMplXWH33wNFU5rnz86ND+QoXWu5HYIl0IY+GbDbf+QueMtG66lDNO6GC5U0jYApxb8PmhQo539oKA=
Received: by 10.65.123.9 with SMTP id a9mr3397972qbn;
        Mon, 10 Oct 2005 10:41:28 -0700 (PDT)
Received: by 10.65.121.10 with HTTP; Mon, 10 Oct 2005 10:41:28 -0700 (PDT)
Message-ID: <c68e39170510101041qa13f2d0y98ff461a70660ec2@mail.gmail.com>
Date: Mon, 10 Oct 2005 13:41:28 -0400
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org, Jeff Rodenburg <jeff.rodenburg@gmail.com>
Subject: Re: Custom sort with multiple fields?
In-Reply-To: <50f433360510090913j4e1992a9rdbba81d77bb9a1f6@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_1514_18181746.1128966088126"
References: <50f433360510090913j4e1992a9rdbba81d77bb9a1f6@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_1514_18181746.1128966088126
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

You can use the FieldCache to access the values of multiple fields (the sam=
e
source default sorting uses).

Alternately, if you want to generate a score based on a function of multipl=
e
fields rather than doing an absolute sort, you can use FunctionQuery:
http://issues.apache.org/jira/browse/LUCENE-446

> 2. In spite of knowing the syntax, is this a perf killer? Is it better to
> load all the values in one field, then split them out in a string[]
similar
> to the LIA example?

Separate fields is more flexible (unless you never want to sort or query on
them independently). The performance would depend somewhat on what function
you are calculating.


-Yonik
Now hiring -- http://tinyurl.com/7m67g

On 10/9/05, Jeff Rodenburg <jeff.rodenburg@gmail.com> wrote:
>
> In following the LIA custom sort example, the calculated sort value is
> based
> on a field that contains all necessary values, i.e. "x,y" which is split
> into two values for use in a distance algorithm.
>
> Suppose I want a custom sort basis that performs a similar calculation,
> but
> is based on a multiple # (3,4,....n) of fields?
>
> 1. I assume I'm just not connecting the dots on the API, but how do I get
> the terms from multiple fields in order to generate the calculation?
> 2. In spite of knowing the syntax, is this a perf killer? Is it better to
> load all the values in one field, then split them out in a string[]
> similar
> to the LIA example?
>
> cheers,
> jeff r.
>
>

------=_Part_1514_18181746.1128966088126--

From java-user-return-16818-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 10 18:24:52 2005
Return-Path: <java-user-return-16818-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 591 invoked from network); 10 Oct 2005 18:24:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Oct 2005 18:24:52 -0000
Received: (qmail 59067 invoked by uid 500); 10 Oct 2005 18:24:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59033 invoked by uid 500); 10 Oct 2005 18:24:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59022 invoked by uid 99); 10 Oct 2005 18:24:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 11:24:46 -0700
Received-SPF: pass (asf.osuosl.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from [80.91.229.2] (HELO ciao.gmane.org) (80.91.229.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 11:24:49 -0700
Received: from list by ciao.gmane.org with local (Exim 4.43)
	id 1EP2I9-0005AD-5t
	for java-user@lucene.apache.org; Mon, 10 Oct 2005 20:22:29 +0200
Received: from rrcs-67-78-201-138.se.biz.rr.com ([67.78.201.138])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Mon, 10 Oct 2005 20:22:29 +0200
Received: from david by rrcs-67-78-201-138.se.biz.rr.com with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Mon, 10 Oct 2005 20:22:29 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: java-user@lucene.apache.org
From:  "J. David Boyd" <david@adboyd.com>
Subject:  Re: Lucene and remote index and java applet, with no java app server
Date:  Mon, 10 Oct 2005 14:20:21 -0400
Lines: 21
Message-ID: <diebd5$ek4$1@sea.gmane.org>
References:  <13F36D2926AD444697093282F20041B703876538@buf-ex01.cymfony.com>
Mime-Version:  1.0
Content-Type:  text/plain; charset=ISO-8859-1
Content-Transfer-Encoding:  7bit
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: rrcs-67-78-201-138.se.biz.rr.com
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
In-Reply-To: <13F36D2926AD444697093282F20041B703876538@buf-ex01.cymfony.com>
X-Enigmail-Version: 0.93.0.0
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Peter Kim wrote:
> I'm not sure about Perl or PHP--perhaps there are some ports of Lucene
> that'll let you do that. But the most straightforward way is to just
> write a simple Java web application with a servlet that uses an
> IndexSearcher to execute a form-entered query and have it return
> results. 
> 
> It seems like you may be unfamiliar with Java web application
> programming though. Download Tomcat, get a book on java servlet
> programming (I like Core Servlets and JavaServer Pages) and get Lucene
> in Action (essential for doing anything with lucene). But stay away from
> applets! 
> 
> Peter
> 
> 

Thanks to all.  I guess I need to learn some Java servlet to make this
work.

Dave


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16819-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 10 18:25:03 2005
Return-Path: <java-user-return-16819-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 678 invoked from network); 10 Oct 2005 18:25:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Oct 2005 18:25:03 -0000
Received: (qmail 60163 invoked by uid 500); 10 Oct 2005 18:24:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60139 invoked by uid 500); 10 Oct 2005 18:24:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60128 invoked by uid 99); 10 Oct 2005 18:24:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 11:24:57 -0700
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.163.178.108] (HELO web34110.mail.mud.yahoo.com) (66.163.178.108)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 10 Oct 2005 11:25:00 -0700
Received: (qmail 83196 invoked by uid 60001); 10 Oct 2005 18:24:36 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=gRJ/qDYTggxExFo2PqVCVIAK8jNxU4LnZmFCZA/LLilxBDla0039lFF9/EFUFU/EvyHT4+lpVbFVGhKwX6uT08bEwI3yWuTZv7MTHkVOlcxxJefIky7Mh9zcaeGPiV5/S1ZVbwGvszyfAnNaTR5jDkvtTwDvYnqBvII5NyvinAs=  ;
Message-ID: <20051010182436.83194.qmail@web34110.mail.mud.yahoo.com>
Received: from [65.205.199.122] by web34110.mail.mud.yahoo.com via HTTP; Mon, 10 Oct 2005 11:24:36 PDT
Date: Mon, 10 Oct 2005 11:24:36 -0700 (PDT)
From: John Smith <john_smith9910@yahoo.com>
Subject: ParallelReader
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-739889118-1128968676=:82612"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-739889118-1128968676=:82612
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hi
 
I am using the ParallelReader feature from Lucene 1.9. 

I have 2 indexes, one that doesnât change and the other that changes often. I delete and re-index documents from the dynamic index often.

 

I am indexing the documents with a keyword field âidâ and giving it a unique number. This goes into the dynamic index. I delete the document from the dynamic index using IndexReader.delete (new Term(âidâ, <unique number>))

I reindex the document to the dynamic index using the same id. But when I query using the ParallelReader, it fails to return this document as a hit, which should not be the case. Before deleting and reindexing the document, when I queried both the indexes using the ParallelReader, this document did turn up as  hit.

 

The number of documents in both the indexes is the same. 

 

My understanding is ParallelReader works for situations where you have a static index and a dynamic index. 

Is there something else that needs to be done to keep the indexes in sync or is the way I am deleting and reindexing the same document wrong?

 

Any comments/help appreciated.

 

Thanks 

 

JZ


		
---------------------------------
 Yahoo! Music Unlimited - Access over 1 million songs. Try it free.
--0-739889118-1128968676=:82612--

From java-user-return-16820-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 10 18:57:25 2005
Return-Path: <java-user-return-16820-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11832 invoked from network); 10 Oct 2005 18:57:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Oct 2005 18:57:25 -0000
Received: (qmail 9233 invoked by uid 500); 10 Oct 2005 18:57:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9212 invoked by uid 500); 10 Oct 2005 18:57:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9195 invoked by uid 99); 10 Oct 2005 18:57:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 11:57:19 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist@danielnaber.de designates 80.67.18.16 as permitted sender)
Received: from [80.67.18.16] (HELO smtprelay04.ispgateway.de) (80.67.18.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 11:57:21 -0700
Received: (qmail 18618 invoked from network); 10 Oct 2005 18:56:55 -0000
Received: from unknown (HELO p5496e2c8.dip.t-dialin.net) ([pbs]695637@[84.150.226.200])
          (envelope-sender <lucenelist@danielnaber.de>)
          by smtprelay04.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 10 Oct 2005 18:56:55 -0000
From: Daniel Naber <lucenelist@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: ParallelReader
Date: Mon, 10 Oct 2005 20:56:31 +0200
User-Agent: KMail/1.8.2
References: <20051010182436.83194.qmail@web34110.mail.mud.yahoo.com>
In-Reply-To: <20051010182436.83194.qmail@web34110.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200510102056.32055@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Montag 10 Oktober 2005 20:24, John Smith wrote:

> My understanding is ParallelReader works for situations where you have a
> static index and a dynamic index.

That's no correct. Quoting the documentation:

It is up to you to make sure all indexes
are created and modified the same way. For example, if you add
documents to one index, you need to add the same documents in the
same order to the other indexes. <em>Failure to do so will result in
undefined behavior</em>.

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16821-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 10 19:16:10 2005
Return-Path: <java-user-return-16821-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21425 invoked from network); 10 Oct 2005 19:16:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Oct 2005 19:16:10 -0000
Received: (qmail 34159 invoked by uid 500); 10 Oct 2005 19:16:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33538 invoked by uid 500); 10 Oct 2005 19:16:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33527 invoked by uid 99); 10 Oct 2005 19:16:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 12:16:05 -0700
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FROM_HAS_ULINE_NUMS,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.163.178.113] (HELO web34115.mail.mud.yahoo.com) (66.163.178.113)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 10 Oct 2005 12:16:07 -0700
Received: (qmail 73669 invoked by uid 60001); 10 Oct 2005 19:15:43 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=45adaKuugA4KtGhlIfScRg6v9Dq+kUzhOKfk+QxpajRQl6b+m7FmIRpsMuhTXCZwylh1Z3o4dx+RuHoBImYkQowCis6XryKbFyVq9f4GzdkBkwr8LGx4dQXvG6ImmcGezKx7VaGCx+DBFIqDjzK8cCiC0PV0K3fde0/873Kp8ZQ=  ;
Message-ID: <20051010191543.73667.qmail@web34115.mail.mud.yahoo.com>
Received: from [65.205.199.122] by web34115.mail.mud.yahoo.com via HTTP; Mon, 10 Oct 2005 12:15:43 PDT
Date: Mon, 10 Oct 2005 12:15:43 -0700 (PDT)
From: John Smith <john_smith9910@yahoo.com>
Subject: Re: ParallelReader
To: java-user@lucene.apache.org
In-Reply-To: <200510102056.32055@danielnaber.de>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-559695542-1128971743=:73600"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-559695542-1128971743=:73600
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

A while ago I had asked a question on what would be a good solution for a situation mentioned below and I was pointed in the direction of Parallel Reader. Looks like that will not work.
Thank you for alerting me on this.
 
So other than delete and reindex the document to a single index, there is no way of addressing the situation.
 
JZ
 
 
Eyal <eyal.junk@gmail.com> wrote:Run a search on "Lucene ParallelReader" in google - You'll find something
Doug Cutting wrote that I believe is what you're looking for.

Eyal 


> -----Original Message-----
> From: John Smith [mailto:john_smith9910@yahoo.com] 
> Sent: Thursday, August 11, 2005 21:12 PM
> To: java-user@lucene.apache.org
> Subject: Updating existing documents in index: Solutions 
> 
> 
> Hi all
> 
> 
> 
> This is a slightly long email. Pardon me.
> 
> 
> 
> As Lucene does not allow for updating an existing document in 
> the index, the only option is to delete and reindex the 
> message.When you have too many updates, this gets a little 
> cumbersome. In our case, as such the actual content of the 
> document being indexed does 
> 
> not change, but the fields around the content, like say 
> "LastReadby" or something like Folder associated with it etc 
> change. These are all fields that have been indexed as a part 
> of the original document in the index.
> 
> 
> 
> I have been contemplating putting these "commonly changing 
> fields" into one index and allow for delete and reindex on 
> this index alone and keep the static data in another index. 
> DocumentID will be a stored field and will be stored in both 
> the static and dynamic index, as a way of identifying the document.
> 
> 
> 
> Static index: Contains content of document indexed and 
> documentID stored.
> 
> Dynamic index: Contains all fields about the document which 
> change frequently indexed and documentID stored.
> 
> 
> 
> 
> 
> Questions
> 
> 
> 
> 1. First of all, is there a better solution to this 
> frequently changing fields having to be reindexed ?
> 
> 
> 
> 2. Let's say I go with the 2 index approach, 
> 
> 
> 
> Example query: Content: "Hello world" AND Folder:Folder1 AND 
> LastReadBy: jane. If we execute these queries on our static 
> and dynamic indexes, they will obviously fail to get hits.
> 
> 
> 
> 
> 
> Let's say I have a way of splitting my queries such that 
> all content queries go to static (content) index only and 
> queries on other fields go to the dynamic index, basically 
> allow for queries to come in such a way that it is always a 
> AND between the dynamic index result set and static index 
> result set. So on the results set, I would have to retrieve 
> the document ID and make sure we have the same documentID in 
> both the result sets, in order for it to be a match.
> 
> In cases where the result sets are really huge from 
> both the queries, then even to get the number of hits, I will 
> have to retrieve each and every document from the results, in 
> order to get the documentID for comparison. Queries can get 
> really slow.
> 
> 
> 
> Has anyone faced similar problems, If so what was your solution?
> 
> Any comments/thoughts will be appreciated.
> 
> 
> 
> Thank you
> 
> JS
> 
> 
> 


Daniel Naber <lucenelist@danielnaber.de> wrote:
On Montag 10 Oktober 2005 20:24, John Smith wrote:

> My understanding is ParallelReader works for situations where you have a
> static index and a dynamic index.

That's no correct. Quoting the documentation:

It is up to you to make sure all indexes
are created and modified the same way. For example, if you add
documents to one index, you need to add the same documents in the
same order to the other indexes. Failure to do so will result in
undefined behavior.

Regards
Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


		
---------------------------------
 Yahoo! Music Unlimited - Access over 1 million songs. Try it free.
--0-559695542-1128971743=:73600--

From java-user-return-16822-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 10 19:41:33 2005
Return-Path: <java-user-return-16822-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46850 invoked from network); 10 Oct 2005 19:41:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Oct 2005 19:41:32 -0000
Received: (qmail 82619 invoked by uid 500); 10 Oct 2005 19:41:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82597 invoked by uid 500); 10 Oct 2005 19:41:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 55351 invoked by uid 99); 10 Oct 2005 19:24:56 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE:  Lucene and remote index and java applet, with no java app server
Date: Mon, 10 Oct 2005 12:24:33 -0700
Message-ID: <1A6B6A5A3597C340BB63728001DC787902331023@kodos.na.wrq.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic:  Lucene and remote index and java applet, with no java app server
thread-index: AcXNrunXa60bDsSsSXmxpGAuMT5YggAG48Rg
From: "Jon Schuster" <jons@attachmatewrq.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 10 Oct 2005 19:24:34.0037 (UTC) FILETIME=[3ECBEA50:01C5CDD0]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

The suggestion that others have made to make the search web based is
generally the preferred route.

But it is fairly straightforward to make an unsigned applet use a remote
Lucene index. You wouldn't need to write the index and PDF files to the
local disk; you only need to be able to open an input stream to the
server location where the index files are stored, which you can do using
URL.openStream. If the applet is unsigned, security restrictions would
require that the index files be under the applet's codebase, but it's
easy to determine the codebase URL. After the desired document is found
by the search, you can then use AppletContext.showDocument to open an
URL to the appropriate PDF file.

There are some gotchas if you use an applet, however. For one, the index
needs to be downloaded in order to search, and an index that's 1-2 MB
might take too long for a user to wait. Further, to avoid applet
security restrictions on reading and writing local files, you probably
need to use either a non-locking index or a RAM directory. Also, in
Lucene 1.4, there are a few classes that attempt to read system
properties, and these also run into applet security restrictions unless
the classes are modified (this last issue has been addressed in the next
release).

> Here's my dilemma.
>=20
> For years, we have supplied paper documentation to our=20
> customers.  Many
> pages of paper.  All together, it makes a 3 foot stack when printed.
>=20
> Also for many years, customers have been asking for docs in electronic
> format, so, recently, I wrote some Perl scripts that convert our many
> legacy word perfect files into PDF format. (I shouldn't=20
> really call them
> legacy, as that is still what the documentation author writes in.)
>=20
> We generate some HTML pages as a wrapper, that break the 543 PDF files
> into different modules, and this gets placed on a section of=20
> our web site.
>=20
> The users can see the Module they want, and then grab an=20
> appropriate PDF
> for that module, and view it in their browser.
>=20
> Unfortunately, the names are things like MOD00_TBLS_FRMX.pgm.pdf,
> PGR254.S1.T33.pgm.pdf, etc. This is _somewhat_ transparent to we
> developers, but certainly doesn't make it easy for the end=20
> users to find
> the appropriate section of documentation that they want
>=20
> I would like to implement a search facility using Lucene, but I'm not
> sure of a few things.
>=20
> Given that I can generate the index here, at the same time I=20
> convert any
> changed WP files to PDF, and upload it to our web site, what then do I
> do with it.
>=20
> I don't see, from my interrupted attempts at perusing the Lucene docs,
> any functions for a Java applet to access an index that is on a remote
> site.  We have no extra utilities available, such as a Java app server
> to run the search using RMI (I think I've read the Lucene=20
> docs enough to
> use the buzzword correctly. :-> )
>=20
> It seems that I am going to have to write an applet that will download
> the index (2M, 1M zipped) to a users local hard drive, then use that
> index to find the appropriate PDF file, then download the PDF=20
> file, and
> start it in the users browser.
>=20
> I'm assuming a signed applet, since as far as I can tell from my
> reading, an unsigned applet won't let any write, or reads, to=20
> the local
> hard drive occur.
>=20
> Does this sound feasible?
>=20
> Would I be better off using Java app, and lava web start, to=20
> download a
> jarred index, and take it from there?
>=20
> I'm fishing for feasibility ideas right now, and any help will be
> greatly appreciated.
>=20
> Dave @ TSC in Palm Harbor, FL
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16823-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 10 20:14:57 2005
Return-Path: <java-user-return-16823-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58818 invoked from network); 10 Oct 2005 20:14:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Oct 2005 20:14:57 -0000
Received: (qmail 24693 invoked by uid 500); 10 Oct 2005 20:14:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24673 invoked by uid 500); 10 Oct 2005 20:14:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24662 invoked by uid 99); 10 Oct 2005 20:14:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 13:14:52 -0700
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FROM_HAS_ULINE_NUMS,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.163.178.109] (HELO web34111.mail.mud.yahoo.com) (66.163.178.109)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 10 Oct 2005 13:14:53 -0700
Received: (qmail 92469 invoked by uid 60001); 10 Oct 2005 20:14:29 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=fOj86H6+Aq0JH2BESDF44k4p+Fl98Kjlj79KVG7wYJEOkwPzu60msGa+sZM33aIBya57SRC+8TNZSB+zS6P1NHdR386rQGeXJ2B1LHFIz0HcoZ4AMw3aQei7AUlph06Hz9iLOnaHp6XHXo9LxjTT6X6wwklp3V9xnIS8VaU8VPA=  ;
Message-ID: <20051010201429.92467.qmail@web34111.mail.mud.yahoo.com>
Received: from [65.205.199.122] by web34111.mail.mud.yahoo.com via HTTP; Mon, 10 Oct 2005 13:14:29 PDT
Date: Mon, 10 Oct 2005 13:14:29 -0700 (PDT)
From: John Smith <john_smith9910@yahoo.com>
Subject: Re: ParallelReader
To: java-user@lucene.apache.org
In-Reply-To: <20051010191543.73667.qmail@web34115.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1315284437-1128975269=:90077"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1315284437-1128975269=:90077
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Sorry to bug people on this again and again.
I might be missing something or confused totally, But what is the use case for a ParallelReader if the use case is not addressing the situation where we have a index changing frequently( meaning deletes and reindex)  and index not changing , but has same number of docs. Wouldn't people want to stick with just one index in any case?
 
Any comments or response appreciated.
 
JZ

John Smith <john_smith9910@yahoo.com> wrote:
A while ago I had asked a question on what would be a good solution for a situation mentioned below and I was pointed in the direction of Parallel Reader. Looks like that will not work.
Thank you for alerting me on this.

So other than delete and reindex the document to a single index, there is no way of addressing the situation.

JZ


Eyal wrote:Run a search on "Lucene ParallelReader" in google - You'll find something
Doug Cutting wrote that I believe is what you're looking for.

Eyal 


> -----Original Message-----
> From: John Smith [mailto:john_smith9910@yahoo.com] 
> Sent: Thursday, August 11, 2005 21:12 PM
> To: java-user@lucene.apache.org
> Subject: Updating existing documents in index: Solutions 
> 
> 
> Hi all
> 
> 
> 
> This is a slightly long email. Pardon me.
> 
> 
> 
> As Lucene does not allow for updating an existing document in 
> the index, the only option is to delete and reindex the 
> message.When you have too many updates, this gets a little 
> cumbersome. In our case, as such the actual content of the 
> document being indexed does 
> 
> not change, but the fields around the content, like say 
> "LastReadby" or something like Folder associated with it etc 
> change. These are all fields that have been indexed as a part 
> of the original document in the index.
> 
> 
> 
> I have been contemplating putting these "commonly changing 
> fields" into one index and allow for delete and reindex on 
> this index alone and keep the static data in another index. 
> DocumentID will be a stored field and will be stored in both 
> the static and dynamic index, as a way of identifying the document.
> 
> 
> 
> Static index: Contains content of document indexed and 
> documentID stored.
> 
> Dynamic index: Contains all fields about the document which 
> change frequently indexed and documentID stored.
> 
> 
> 
> 
> 
> Questions
> 
> 
> 
> 1. First of all, is there a better solution to this 
> frequently changing fields having to be reindexed ?
> 
> 
> 
> 2. Let's say I go with the 2 index approach, 
> 
> 
> 
> Example query: Content: "Hello world" AND Folder:Folder1 AND 
> LastReadBy: jane. If we execute these queries on our static 
> and dynamic indexes, they will obviously fail to get hits.
> 
> 
> 
> 
> 
> Let's say I have a way of splitting my queries such that 
> all content queries go to static (content) index only and 
> queries on other fields go to the dynamic index, basically 
> allow for queries to come in such a way that it is always a 
> AND between the dynamic index result set and static index 
> result set. So on the results set, I would have to retrieve 
> the document ID and make sure we have the same documentID in 
> both the result sets, in order for it to be a match.
> 
> In cases where the result sets are really huge from 
> both the queries, then even to get the number of hits, I will 
> have to retrieve each and every document from the results, in 
> order to get the documentID for comparison. Queries can get 
> really slow.
> 
> 
> 
> Has anyone faced similar problems, If so what was your solution?
> 
> Any comments/thoughts will be appreciated.
> 
> 
> 
> Thank you
> 
> JS
> 
> 
> 


Daniel Naber wrote:
On Montag 10 Oktober 2005 20:24, John Smith wrote:

> My understanding is ParallelReader works for situations where you have a
> static index and a dynamic index.

That's no correct. Quoting the documentation:

It is up to you to make sure all indexes
are created and modified the same way. For example, if you add
documents to one index, you need to add the same documents in the
same order to the other indexes. Failure to do so will result in
undefined behavior.

Regards
Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------
Yahoo! Music Unlimited - Access over 1 million songs. Try it free.
		
---------------------------------
 Yahoo! Music Unlimited - Access over 1 million songs. Try it free.
--0-1315284437-1128975269=:90077--

From java-user-return-16824-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 10 20:23:51 2005
Return-Path: <java-user-return-16824-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62048 invoked from network); 10 Oct 2005 20:23:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Oct 2005 20:23:51 -0000
Received: (qmail 35049 invoked by uid 500); 10 Oct 2005 20:23:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34927 invoked by uid 500); 10 Oct 2005 20:23:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34733 invoked by uid 99); 10 Oct 2005 20:23:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 13:23:43 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 13:23:44 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id E77C913E2008; Mon, 10 Oct 2005 16:23:16 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 6694B13E2007
	for <java-user@lucene.apache.org>; Mon, 10 Oct 2005 16:22:38 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <20051010201429.92467.qmail@web34111.mail.mud.yahoo.com>
References: <20051010201429.92467.qmail@web34111.mail.mud.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <61A1A760-6673-4F19-84E3-E6FA4BA886BE@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: ParallelReader
Date: Mon, 10 Oct 2005 16:22:34 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

The use case is when there is some data that changes frequently, but  
some data is static, _and_ that the volatile index can be rebuilt in  
the same order that the static one was built.  The indexes must be  
"parallel" in terms of the document index order.  If you delete, then  
you should delete from both indexes, and likewise with add.

     Erik

On Oct 10, 2005, at 4:14 PM, John Smith wrote:

> Sorry to bug people on this again and again.
> I might be missing something or confused totally, But what is the  
> use case for a ParallelReader if the use case is not addressing the  
> situation where we have a index changing frequently( meaning  
> deletes and reindex)  and index not changing , but has same number  
> of docs. Wouldn't people want to stick with just one index in any  
> case?
>
> Any comments or response appreciated.
>
> JZ
>
> John Smith <john_smith9910@yahoo.com> wrote:
> A while ago I had asked a question on what would be a good solution  
> for a situation mentioned below and I was pointed in the direction  
> of Parallel Reader. Looks like that will not work.
> Thank you for alerting me on this.
>
> So other than delete and reindex the document to a single index,  
> there is no way of addressing the situation.
>
> JZ
>
>
> Eyal wrote:Run a search on "Lucene ParallelReader" in google -  
> You'll find something
> Doug Cutting wrote that I believe is what you're looking for.
>
> Eyal
>
>
>
>> -----Original Message-----
>> From: John Smith [mailto:john_smith9910@yahoo.com]
>> Sent: Thursday, August 11, 2005 21:12 PM
>> To: java-user@lucene.apache.org
>> Subject: Updating existing documents in index: Solutions
>>
>>
>> Hi all
>>
>>
>>
>> This is a slightly long email. Pardon me.
>>
>>
>>
>> As Lucene does not allow for updating an existing document in
>> the index, the only option is to delete and reindex the
>> message.When you have too many updates, this gets a little
>> cumbersome. In our case, as such the actual content of the
>> document being indexed does
>>
>> not change, but the fields around the content, like say
>> "LastReadby" or something like Folder associated with it etc
>> change. These are all fields that have been indexed as a part
>> of the original document in the index.
>>
>>
>>
>> I have been contemplating putting these "commonly changing
>> fields" into one index and allow for delete and reindex on
>> this index alone and keep the static data in another index.
>> DocumentID will be a stored field and will be stored in both
>> the static and dynamic index, as a way of identifying the document.
>>
>>
>>
>> Static index: Contains content of document indexed and
>> documentID stored.
>>
>> Dynamic index: Contains all fields about the document which
>> change frequently indexed and documentID stored.
>>
>>
>>
>>
>>
>> Questions
>>
>>
>>
>> 1. First of all, is there a better solution to this
>> frequently changing fields having to be reindexed ?
>>
>>
>>
>> 2. Let's say I go with the 2 index approach,
>>
>>
>>
>> Example query: Content: "Hello world" AND Folder:Folder1 AND
>> LastReadBy: jane. If we execute these queries on our static
>> and dynamic indexes, they will obviously fail to get hits.
>>
>>
>>
>>
>>
>> Let's say I have a way of splitting my queries such that
>> all content queries go to static (content) index only and
>> queries on other fields go to the dynamic index, basically
>> allow for queries to come in such a way that it is always a
>> AND between the dynamic index result set and static index
>> result set. So on the results set, I would have to retrieve
>> the document ID and make sure we have the same documentID in
>> both the result sets, in order for it to be a match.
>>
>> In cases where the result sets are really huge from
>> both the queries, then even to get the number of hits, I will
>> have to retrieve each and every document from the results, in
>> order to get the documentID for comparison. Queries can get
>> really slow.
>>
>>
>>
>> Has anyone faced similar problems, If so what was your solution?
>>
>> Any comments/thoughts will be appreciated.
>>
>>
>>
>> Thank you
>>
>> JS
>>
>>
>>
>>
>
>
> Daniel Naber wrote:
> On Montag 10 Oktober 2005 20:24, John Smith wrote:
>
>
>> My understanding is ParallelReader works for situations where you  
>> have a
>> static index and a dynamic index.
>>
>
> That's no correct. Quoting the documentation:
>
> It is up to you to make sure all indexes
> are created and modified the same way. For example, if you add
> documents to one index, you need to add the same documents in the
> same order to the other indexes. Failure to do so will result in
> undefined behavior.
>
> Regards
> Daniel
>
> -- 
> http://www.danielnaber.de
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
> ---------------------------------
> Yahoo! Music Unlimited - Access over 1 million songs. Try it free.
>
> ---------------------------------
>  Yahoo! Music Unlimited - Access over 1 million songs. Try it free.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16825-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 10 20:25:35 2005
Return-Path: <java-user-return-16825-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62696 invoked from network); 10 Oct 2005 20:25:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Oct 2005 20:25:35 -0000
Received: (qmail 37790 invoked by uid 500); 10 Oct 2005 20:25:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37754 invoked by uid 500); 10 Oct 2005 20:25:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37743 invoked by uid 99); 10 Oct 2005 20:25:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 13:25:30 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from [80.91.229.2] (HELO ciao.gmane.org) (80.91.229.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 13:25:33 -0700
Received: from list by ciao.gmane.org with local (Exim 4.43)
	id 1EP49F-000574-2e
	for java-user@lucene.apache.org; Mon, 10 Oct 2005 22:21:25 +0200
Received: from rrcs-67-78-201-138.se.biz.rr.com ([67.78.201.138])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Mon, 10 Oct 2005 22:21:25 +0200
Received: from david by rrcs-67-78-201-138.se.biz.rr.com with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Mon, 10 Oct 2005 22:21:25 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: java-user@lucene.apache.org
From:  "J. David Boyd" <david@adboyd.com>
Subject:  Re: Lucene and remote index and java applet, with no java app server
Date:  Mon, 10 Oct 2005 16:20:26 -0400
Lines: 40
Message-ID: <dieieb$93u$1@sea.gmane.org>
References:  <1A6B6A5A3597C340BB63728001DC787902331023@kodos.na.wrq.com>
Mime-Version:  1.0
Content-Type:  text/plain; charset=ISO-8859-1
Content-Transfer-Encoding:  7bit
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: rrcs-67-78-201-138.se.biz.rr.com
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
In-Reply-To: <1A6B6A5A3597C340BB63728001DC787902331023@kodos.na.wrq.com>
X-Enigmail-Version: 0.93.0.0
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Jon Schuster wrote:
> The suggestion that others have made to make the search web based is
> generally the preferred route.
> 
> But it is fairly straightforward to make an unsigned applet use a remote
> Lucene index. You wouldn't need to write the index and PDF files to the
> local disk; you only need to be able to open an input stream to the
> server location where the index files are stored, which you can do using
> URL.openStream. If the applet is unsigned, security restrictions would
> require that the index files be under the applet's codebase, but it's
> easy to determine the codebase URL. After the desired document is found
> by the search, you can then use AppletContext.showDocument to open an
> URL to the appropriate PDF file.
> 
> There are some gotchas if you use an applet, however. For one, the index
> needs to be downloaded in order to search, and an index that's 1-2 MB
> might take too long for a user to wait. Further, to avoid applet
> security restrictions on reading and writing local files, you probably
> need to use either a non-locking index or a RAM directory. Also, in
> Lucene 1.4, there are a few classes that attempt to read system
> properties, and these also run into applet security restrictions unless
> the classes are modified (this last issue has been addressed in the next
> release).
> 
> 

I'm confused between paragraphs 2 and 3.

In 2, you say that I don't need the index on the local machine, just an
openStream to it.

In 3, you say that I need to download the index in order to search.

I have no problem signing the applet, if it will make this project
feasible.  And downloading the index isn't that horrible either, as I
can make it only happen once a day, not everytime they connect.

Thanks for the information.

Dave in Largo, FL


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16826-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 10 20:36:26 2005
Return-Path: <java-user-return-16826-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67724 invoked from network); 10 Oct 2005 20:36:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Oct 2005 20:36:26 -0000
Received: (qmail 48965 invoked by uid 500); 10 Oct 2005 20:36:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48944 invoked by uid 500); 10 Oct 2005 20:36:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48933 invoked by uid 99); 10 Oct 2005 20:36:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 13:36:20 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [128.59.29.8] (HELO brinza.cc.columbia.edu) (128.59.29.8)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 13:36:21 -0700
Received: from [156.145.29.81] ([156.145.29.81])
	(user=mh2371 mech=PLAIN bits=0)
	by brinza.cc.columbia.edu (8.13.0/8.13.0) with ESMTP id j9AKZhks000197
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NOT);
	Mon, 10 Oct 2005 16:35:55 -0400 (EDT)
Message-ID: <434AD09E.6050307@animarc.com>
Date: Mon, 10 Oct 2005 16:35:42 -0400
From: Marc Hadfield <marc@animarc.com>
User-Agent: Mozilla Thunderbird 0.8 (Windows/20040913)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: query across fields?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-No-Spam-Score: Local
X-Scanned-By: MIMEDefang 2.48 on 128.59.29.8
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

hello -

i am looking to perform queries efficiently across multiple fields that 
have their token order synchronized, ie:

Field_A[100] has some relationship to Field_B[100]

for example, consider two fields, one the full text of an article and 
the other the "type" of the token where type could be  from { person, 
company, date, ... }

So that for a Document:
Field_A : "Fred Johnson worked for Johnson and Johnson in 2001"
Field_B : "name name other other company company company other date"

and we wish to perform a query:
Field_A:"Johnson" AND Field_B:"name"
which would be true for token number 2 but not for 5 and 7

I think Span Queries could be adapted to this purpose, but I wanted to 
get any thoughts from the list.

I would prefer not to mix the full text and "types" in the same field as 
it would make the term positions inconsistent which i depend on for 
other queries.

In principle I could store the full text in two fields with the second 
field containing the types without incrementing the token index.   Then, 
do a SpanQuery for "Johnson" and "name" with a distance of 0.  The 
resulting match would have a token position which would refer back to 
the matching position in the first field.  I don't know if this is a 
really good idea.

Any thoughts?

---Marc Hadfield


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16827-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 10 20:44:44 2005
Return-Path: <java-user-return-16827-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70855 invoked from network); 10 Oct 2005 20:44:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Oct 2005 20:44:44 -0000
Received: (qmail 58297 invoked by uid 500); 10 Oct 2005 20:44:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57411 invoked by uid 500); 10 Oct 2005 20:44:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57396 invoked by uid 99); 10 Oct 2005 20:44:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 13:44:38 -0700
X-ASF-Spam-Status: No, hits=1.7 required=10.0
	tests=RCVD_IN_NJABL_DUL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.60] (HELO ylpvm29.prodigy.net) (207.115.57.60)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 13:44:40 -0700
Received: from pimout3-ext.prodigy.net (pimout3-int.prodigy.net [207.115.4.218])
	by ylpvm29.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id j9AKiTQT009250
	for <java-user@lucene.apache.org>; Mon, 10 Oct 2005 16:44:30 -0400
X-ORBL: [69.228.220.53]
Received: from [192.168.168.81] (adsl-69-228-220-53.dsl.pltn13.pacbell.net [69.228.220.53])
	by pimout3-ext.prodigy.net (8.13.4 outbound domainkey aix/8.13.4) with ESMTP id j9AKi5BZ424068;
	Mon, 10 Oct 2005 16:44:10 -0400
Message-ID: <434AD294.3010306@apache.org>
Date: Mon, 10 Oct 2005 13:44:04 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7-1.1.fc3 (X11/20050929)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: query across fields?
References: <434AD09E.6050307@animarc.com>
In-Reply-To: <434AD09E.6050307@animarc.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Marc Hadfield wrote:
> I would prefer not to mix the full text and "types" in the same field as 
> it would make the term positions inconsistent which i depend on for 
> other queries.

Why not store them in the same field using positionIncrement=0 for the 
types?  Then they won't change positions of non-type tokens.  You should 
distinguish the types syntactically, e.g., prefix them with a space or 
other character that does not occur within words.  That way queries on 
this field for the term "name" won't match a type token.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16828-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 10 21:06:06 2005
Return-Path: <java-user-return-16828-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81263 invoked from network); 10 Oct 2005 21:06:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Oct 2005 21:06:06 -0000
Received: (qmail 88735 invoked by uid 500); 10 Oct 2005 21:06:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88714 invoked by uid 500); 10 Oct 2005 21:06:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88703 invoked by uid 99); 10 Oct 2005 21:06:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 14:06:01 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [12.40.61.38] (HELO fracf1.staples.com) (12.40.61.38)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 14:06:01 -0700
Received: from fraexims1.staples.com (Not Verified[10.3.32.111]) by fracf1.staples.com with NetIQ MailMarshal (v5.5.4.17)
	id <BA04ded32c>; Mon, 10 Oct 2005 17:05:36 -0400
Received: by fraexims1.staples.com with Internet Mail Service (5.5.2650.21)
	id <TVQVTMRY>; Mon, 10 Oct 2005 17:05:36 -0400
Message-ID: <A9D9F16EC5955244A7B760CB3B8258480B4DDE70@fraexmb2.staples.com>
From: "Sharma, Siddharth" <Siddharth.Sharma@Staples.com>
To: java-user@lucene.apache.org
Subject: RE: Is Lucene right for me?
Date: Mon, 10 Oct 2005 17:05:35 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hoss

Thanks for the reply. The posting was an excellent write-up and helped me
visualize my problem domain and solution better.

I like the idea about storing filter information in the contract index
indexed by company. It might work in my case.

I am not sure if I understand the BitSet solution though. Can you give me
implementation specifics around that?
Are you suggesting storing BitSet information in the document of each
cat/subcat and that the boolean value of each bit will correspond to whether
the product is blocked or not? In other words, each bit will correspond to
one product within that cat/subcat?

Thanks
Sid



-----Original Message-----
From: Chris Hostetter [mailto:hossman_lucene@fucit.org] 
Sent: Sunday, October 09, 2005 9:05 PM
To: java-user@lucene.apache.org
Subject: Re: Is Lucene right for me?


: I am evaluating Lucene for this purpose. I realize I am attempting to use
: primarily a search engine as an inclusion/exclusion index solution, where
: data about contracts, customers and blocking rules is in the index, and
: Lucene provides the class of products available/forbidden for sale.
:
: Questions:
: 1. Is this the right use of Lucene?

I don't think it's too much of a stretch to say that Lucene can easily be
used for applying inclusion/exclusion rules to generate a product catalog
-- that's exactly what I do with it -- but it doesn't particularly
facilitate it.

If you haven't seen this post, you should start by reading it...
http://www.nabble.com/Announcement%3A-Lucene-powering-CNET.com-Product-Categ
ory-Listings-t266441.html#a748420

...it strikes me as a very similar situation to what you are describing.

I would suggest you store each product as a document in your index, and
impliment your exclusion rules as Filters.  When a user comes to your
site, identify what set of exclusion rules applies to them, and generate a
Filter to corrispond to those rules.  Then let them search/browse as
needed.   how you store those exclusion rules is up to you.  In my case i
put them in stored fields in special metadata documes in my index, using
an XML representation that i can use to easily construct filter objects.
I can imagine it might make sense for you to store "contract" documents in
your index, with "companyId" as an indexed field.  When a user comes to
your site and says they are with companyId#1234, you do one search to get
all the "contracts" associated with that company, and then parse those
documents to generate a list of Filters to compose together on all
searches done by the user.

One last comment...

:    b. Given these list of SKUs, tell me which ones are blocked and which
:       are not by looking at all the blocking rules defined at the category
:       or individual SKU level.

: Is Lucene's Query API flexible enough to support such different queries?
: Will it scale for query b, where the list of SKUs may be large
(thousands)?

What made it possible for me to impliment my project at all (let alone
with lucene) was the ability to deal with sets of documents as BitSets.  I
didn't have to worry about finding the intersections of large sets of
product SKUs - i just had to AND some some BitSets.  In short, I don't
think you'll ever find a need to query for a list of thousands of SKUs, I
think you'll find it easier to query for farious rules/categories and get
a BitSet which identifies all of the documents for the products those SKUs
represent in your index.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16829-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 10 21:08:26 2005
Return-Path: <java-user-return-16829-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82824 invoked from network); 10 Oct 2005 21:08:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Oct 2005 21:08:26 -0000
Received: (qmail 94762 invoked by uid 500); 10 Oct 2005 21:08:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94497 invoked by uid 500); 10 Oct 2005 21:08:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94484 invoked by uid 99); 10 Oct 2005 21:08:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 14:08:20 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [128.59.29.5] (HELO jalapeno.cc.columbia.edu) (128.59.29.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 14:08:23 -0700
Received: from [156.145.29.81] ([156.145.29.81])
	(user=mh2371 mech=PLAIN bits=0)
	by jalapeno.cc.columbia.edu (8.13.0/8.13.0) with ESMTP id j9AL7v1g000697
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NOT);
	Mon, 10 Oct 2005 17:07:57 -0400 (EDT)
Message-ID: <434AD82C.8000106@animarc.com>
Date: Mon, 10 Oct 2005 17:07:56 -0400
From: Marc Hadfield <marc@animarc.com>
User-Agent: Mozilla Thunderbird 0.8 (Windows/20040913)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: query across fields?
References: <434AD09E.6050307@animarc.com> <434AD294.3010306@apache.org>
In-Reply-To: <434AD294.3010306@apache.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-No-Spam-Score: Local
X-Scanned-By: MIMEDefang 2.48 on 128.59.29.5
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Doug Cutting wrote:

> Why not store them in the same field using positionIncrement=0 for the 
> types?  Then they won't change positions of non-type tokens.  You 
> should distinguish the types syntactically, e.g., prefix them with a 
> space or other character that does not occur within words.  That way 
> queries on this field for the term "name" won't match a type token.
>
> Doug


Hi Doug, thanks for your reply,

I actually mention your option in my email:

> I would prefer not to mix the full text and "types" in the same field 
> as it would make the term positions inconsistent which i depend on for 
> other queries.
>
> In principle I could store the full text in two fields with the second 
> field containing the types without incrementing the token index.   
> Then, do a SpanQuery for "Johnson" and "name" with a distance of 0.  
> The resulting match would have a token position which would refer back 
> to the matching position in the first field.  I don't know if this is 
> a really good idea.

ie Field_B = full text interlaced with "types" following each full text 
token with positionIncrement=0

However, as far as I understand, the standard TermQuery won't let me 
check if "Johnson" and "__name__" occur at the **same** position.  
Perhaps, as I ask above, a SpanQuery will allow multiple terms with a 
distance of zero (0) , that is they were indexed with 
positionIncrement=0 and SpanQuery can handle 0 distance terms?





---Marc





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16830-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 10 21:56:30 2005
Return-Path: <java-user-return-16830-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3604 invoked from network); 10 Oct 2005 21:56:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Oct 2005 21:56:30 -0000
Received: (qmail 59693 invoked by uid 500); 10 Oct 2005 21:56:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59669 invoked by uid 500); 10 Oct 2005 21:56:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59658 invoked by uid 99); 10 Oct 2005 21:56:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 14:56:24 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 14:56:27 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 828985B787; Mon, 10 Oct 2005 14:56:03 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 7A9807F45E
	for <java-user@lucene.apache.org>; Mon, 10 Oct 2005 14:56:03 -0700 (PDT)
Date: Mon, 10 Oct 2005 14:56:03 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: RE: Is Lucene right for me?
In-Reply-To: <A9D9F16EC5955244A7B760CB3B8258480B4DDE70@fraexmb2.staples.com>
Message-ID: <Pine.LNX.4.58.0510101446590.20340@hal.rescomp.berkeley.edu>
References: <A9D9F16EC5955244A7B760CB3B8258480B4DDE70@fraexmb2.staples.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: I am not sure if I understand the BitSet solution though. Can you give me
: implementation specifics around that?
: Are you suggesting storing BitSet information in the document of each
: cat/subcat and that the boolean value of each bit will correspond to whether
: the product is blocked or not? In other words, each bit will correspond to
: one product within that cat/subcat?

I'm suggesting that once you've identified the set of filters associated
with each contract, you use those filters to generate (and cache) a BitSet
that represents every product in your entire catalog that people from that
company are eligible to see -- one bit == one document.

The Filter class facilitates this very easily, and even abstracts it away
so you never really need to look at hte BitSets unless you really want to.

Imagine that you can represent all of your contractual rules as a list of
queries, such that users of a company are only allowed to see products
that match one "allow" clauses in the contract, provided they don't match
any of the "disallow" clauses.  Where clauses might be common among many
contracts. now imagine that these clauses can be represented as simple
Lucene QueryParser parsable strings...

     category:desks
     price:[0000.00 TO 1000.00]
     ship_allowed_states:CA
     mfgr:Avery
     +mfgr:Canon +(category:printer category:toner)
     sku:456-upt-90

...A filter can be made for each of those clauses useing a QueryFilter,
and those filters can be cached using a CachingWrapperFilter, and each of
those cached filters can be composed into a single Filter for each
contract using ChainedFilter(s)  (see the sandbox/contrib area) ... giving
you a single Filter object to use when anyone from any company wants to
search/browse your catalog.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16831-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 10 22:17:26 2005
Return-Path: <java-user-return-16831-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11806 invoked from network); 10 Oct 2005 22:17:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Oct 2005 22:17:26 -0000
Received: (qmail 91878 invoked by uid 500); 10 Oct 2005 22:17:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91860 invoked by uid 500); 10 Oct 2005 22:17:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91849 invoked by uid 99); 10 Oct 2005 22:17:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 15:17:20 -0700
X-ASF-Spam-Status: No, hits=1.7 required=10.0
	tests=RCVD_IN_NJABL_DUL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.74] (HELO ylpvm43.prodigy.net) (207.115.57.74)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 15:17:22 -0700
Received: from pimout1-ext.prodigy.net (pimout1-int.prodigy.net [207.115.5.65])
	by ylpvm43.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id j9AMGwZY015202
	for <java-user@lucene.apache.org>; Mon, 10 Oct 2005 18:16:59 -0400
X-ORBL: [69.228.220.53]
Received: from [192.168.168.81] (adsl-69-228-220-53.dsl.pltn13.pacbell.net [69.228.220.53])
	by pimout1-ext.prodigy.net (8.13.4 outbound domainkey aix/8.13.4) with ESMTP id j9AMGoM7087840;
	Mon, 10 Oct 2005 18:16:53 -0400
Message-ID: <434AE852.2010807@apache.org>
Date: Mon, 10 Oct 2005 15:16:50 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7-1.1.fc3 (X11/20050929)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: query across fields?
References: <434AD09E.6050307@animarc.com> <434AD294.3010306@apache.org> <434AD82C.8000106@animarc.com>
In-Reply-To: <434AD82C.8000106@animarc.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Marc Hadfield wrote:
> I actually mention your option in my email:
> 
>> In principle I could store the full text in two fields with the second 
>> field containing the types without incrementing the token index.   
>> Then, do a SpanQuery for "Johnson" and "name" with a distance of 0.  
>> The resulting match would have a token position which would refer back 
>> to the matching position in the first field.  I don't know if this is 
>> a really good idea.
> 
> ie Field_B = full text interlaced with "types" following each full text 
> token with positionIncrement=0

Sorry, you confused me when you spoke of this as "two fields" when only 
one field is required.

> However, as far as I understand, the standard TermQuery won't let me 
> check if "Johnson" and "__name__" occur at the **same** position.  
> Perhaps, as I ask above, a SpanQuery will allow multiple terms with a 
> distance of zero (0) , that is they were indexed with 
> positionIncrement=0 and SpanQuery can handle 0 distance terms?

TermQuery certainly won't, since it only concerns a single term.  But 
PhraseQuery now has an add(Term, position) method that should do the 
trick.  And SpanNearQuery should work.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16832-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 10 22:19:21 2005
Return-Path: <java-user-return-16832-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12458 invoked from network); 10 Oct 2005 22:19:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Oct 2005 22:19:20 -0000
Received: (qmail 94173 invoked by uid 500); 10 Oct 2005 22:19:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93810 invoked by uid 500); 10 Oct 2005 22:19:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93799 invoked by uid 99); 10 Oct 2005 22:19:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 15:19:16 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 72.14.204.197 as permitted sender)
Received: from [72.14.204.197] (HELO qproxy.gmail.com) (72.14.204.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 15:19:18 -0700
Received: by qproxy.gmail.com with SMTP id z8so1230636qbc
        for <java-user@lucene.apache.org>; Mon, 10 Oct 2005 15:18:54 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=XQMlUEg0p+UworE6A1yNMlh8sG+8QMGvb6/0b5FF8nd8Aa4YHbrIn6+ZKERg4uRL7EWGo74QcCoU5wUOEbN5UgU/2QwNozVdMSNmfTJlQ1G1Ybts8lzPg8gjBm8fRj0/FbRlmmgx6PFuM4e+OqHsSezsRnuliJxnL3KNeKjILYQ=
Received: by 10.64.153.9 with SMTP id a9mr2679651qbe;
        Mon, 10 Oct 2005 15:18:54 -0700 (PDT)
Received: by 10.64.10.17 with HTTP; Mon, 10 Oct 2005 15:18:54 -0700 (PDT)
Message-ID: <50f433360510101518v47f1405ds989f3ac4fb678c7b@mail.gmail.com>
Date: Mon, 10 Oct 2005 15:18:54 -0700
From: Jeff Rodenburg <jeff.rodenburg@gmail.com>
To: java-user@lucene.apache.org
Subject: Hitcollectors and remotesearchables
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_856_7775227.1128982734787"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_856_7775227.1128982734787
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Doug Cutting once said, back in 2003:

" The *HitCollector*-based search API is not meant to work remotely. To do
so would involve an RPC-callback for every non-zero score, which would be
extremely expensive. Also, just making *HitCollector* serializable would no=
t
be sufficient. You'd also need to pass in a *HitCollector* implementation
that subclasses UnicastRemoteObject, so that the callbacks can return to th=
e
original VM.

So, if you can, it's considerably simpler and more efficient to use
TopDocs-based search when you're working remotely."

Is this still considered best practice?

- jeff r.

------=_Part_856_7775227.1128982734787--

From java-user-return-16833-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 10 22:46:06 2005
Return-Path: <java-user-return-16833-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20745 invoked from network); 10 Oct 2005 22:46:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Oct 2005 22:46:06 -0000
Received: (qmail 38794 invoked by uid 500); 10 Oct 2005 22:46:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38770 invoked by uid 500); 10 Oct 2005 22:46:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38759 invoked by uid 99); 10 Oct 2005 22:46:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 15:46:01 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [128.59.29.5] (HELO jalapeno.cc.columbia.edu) (128.59.29.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 15:46:03 -0700
Received: from [156.145.29.81] ([156.145.29.81])
	(user=mh2371 mech=PLAIN bits=0)
	by jalapeno.cc.columbia.edu (8.13.0/8.13.0) with ESMTP id j9AMjabe023574
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NOT);
	Mon, 10 Oct 2005 18:45:36 -0400 (EDT)
Message-ID: <434AEF0F.5070601@animarc.com>
Date: Mon, 10 Oct 2005 18:45:35 -0400
From: Marc Hadfield <marc@animarc.com>
User-Agent: Mozilla Thunderbird 0.8 (Windows/20040913)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: query across fields?
References: <434AD09E.6050307@animarc.com> <434AD294.3010306@apache.org> <434AD82C.8000106@animarc.com> <434AE852.2010807@apache.org>
In-Reply-To: <434AE852.2010807@apache.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-No-Spam-Score: Local
X-Scanned-By: MIMEDefang 2.48 on 128.59.29.5
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks Doug -

I'll give Span Query's a try as they can handle the 0 increment issue.

My original desire to have more than one field comes from my document 
represention which includes multiple fields containing (the same) 
document text using different stemmers, as, depending on the type of 
query, i may need to use results from a different stemmer. this is 
necessary as we index text containing complex biological names and some 
otherwise useful stemming chokes on the names.

So, although my immediate need is met, I would still be interested in 
considering how cross-field queries might work.

----Marc


Doug Cutting wrote:

> Marc Hadfield wrote:
>
>> I actually mention your option in my email:
>>
>>> In principle I could store the full text in two fields with the 
>>> second field containing the types without incrementing the token 
>>> index.   Then, do a SpanQuery for "Johnson" and "name" with a 
>>> distance of 0.  The resulting match would have a token position 
>>> which would refer back to the matching position in the first field.  
>>> I don't know if this is a really good idea.
>>
>>
>> ie Field_B = full text interlaced with "types" following each full 
>> text token with positionIncrement=0
>
>
> Sorry, you confused me when you spoke of this as "two fields" when 
> only one field is required.
>
>> However, as far as I understand, the standard TermQuery won't let me 
>> check if "Johnson" and "__name__" occur at the **same** position.  
>> Perhaps, as I ask above, a SpanQuery will allow multiple terms with a 
>> distance of zero (0) , that is they were indexed with 
>> positionIncrement=0 and SpanQuery can handle 0 distance terms?
>
>
> TermQuery certainly won't, since it only concerns a single term.  But 
> PhraseQuery now has an add(Term, position) method that should do the 
> trick.  And SpanNearQuery should work.
>
> Doug
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16834-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 10 23:25:18 2005
Return-Path: <java-user-return-16834-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33236 invoked from network); 10 Oct 2005 23:25:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Oct 2005 23:25:18 -0000
Received: (qmail 76040 invoked by uid 500); 10 Oct 2005 23:25:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76003 invoked by uid 500); 10 Oct 2005 23:25:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75971 invoked by uid 99); 10 Oct 2005 23:25:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 16:25:11 -0700
X-ASF-Spam-Status: No, hits=1.7 required=10.0
	tests=RCVD_IN_NJABL_DUL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.60] (HELO ylpvm29.prodigy.net) (207.115.57.60)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 16:25:13 -0700
Received: from pimout4-ext.prodigy.net (pimout4-int.prodigy.net [207.115.4.203])
	by ylpvm29.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id j9ANP3QT002938
	for <java-user@lucene.apache.org>; Mon, 10 Oct 2005 19:25:03 -0400
X-ORBL: [69.228.220.53]
Received: from [192.168.168.81] (adsl-69-228-220-53.dsl.pltn13.pacbell.net [69.228.220.53])
	by pimout4-ext.prodigy.net (8.13.4 outbound domainkey aix/8.13.4) with ESMTP id j9ANOcSD193180;
	Mon, 10 Oct 2005 19:24:43 -0400
Message-ID: <434AF836.1080005@apache.org>
Date: Mon, 10 Oct 2005 16:24:38 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7-1.1.fc3 (X11/20050929)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: query across fields?
References: <434AD09E.6050307@animarc.com> <434AD294.3010306@apache.org> <434AD82C.8000106@animarc.com> <434AE852.2010807@apache.org> <434AEF0F.5070601@animarc.com>
In-Reply-To: <434AEF0F.5070601@animarc.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Marc Hadfield wrote:
> I'll give Span Query's a try as they can handle the 0 increment issue.

Note that PhraseQuery can now handle this too.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16835-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 10 23:51:07 2005
Return-Path: <java-user-return-16835-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41071 invoked from network); 10 Oct 2005 23:51:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Oct 2005 23:51:07 -0000
Received: (qmail 9940 invoked by uid 500); 10 Oct 2005 23:51:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9926 invoked by uid 500); 10 Oct 2005 23:51:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 62413 invoked by uid 99); 10 Oct 2005 20:47:05 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE:  Re: Lucene and remote index and java applet, with no java app server
Date: Mon, 10 Oct 2005 13:46:42 -0700
Message-ID: <1A6B6A5A3597C340BB63728001DC787902331024@kodos.na.wrq.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic:  Re: Lucene and remote index and java applet, with no java app server
thread-index: AcXN2MT11+A861I1TPOaL/sX/4SaHAAASqUA
From: "Jon Schuster" <jons@attachmatewrq.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 10 Oct 2005 20:46:42.0443 (UTC) FILETIME=[B85AFDB0:01C5CDDB]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Sorry about that, "download" was a poor word choice.

By download, I meant that after the applet opens an input stream to the
URL, it will need to read from the stream to get all the index data from
the web server to the user's machine so the applet can perform the
search. Whether the index files are downloaded and written to disk or
whether they're downloaded and cached in memory, it's still a bandwidth
consideration. As you mentioned earlier, the index files could live on
the server as zipped files, and the applet could unzip them on the fly.

Signing the applet would make things somewhat easier. But then you have
the potential problem of users who have been trained by their IT
departments (or have learned the hard way) to not accept any content
that requires specific permissions to run.


> Jon Schuster wrote:
> > The suggestion that others have made to make the search web based is
> > generally the preferred route.
> >=20
> > But it is fairly straightforward to make an unsigned applet=20
> use a remote
> > Lucene index. You wouldn't need to write the index and PDF=20
> files to the
> > local disk; you only need to be able to open an input stream to the
> > server location where the index files are stored, which you=20
> can do using
> > URL.openStream. If the applet is unsigned, security=20
> restrictions would
> > require that the index files be under the applet's=20
> codebase, but it's
> > easy to determine the codebase URL. After the desired=20
> document is found
> > by the search, you can then use AppletContext.showDocument=20
> to open an
> > URL to the appropriate PDF file.
> >=20
> > There are some gotchas if you use an applet, however. For=20
> one, the index
> > needs to be downloaded in order to search, and an index=20
> that's 1-2 MB
> > might take too long for a user to wait. Further, to avoid applet
> > security restrictions on reading and writing local files,=20
> you probably
> > need to use either a non-locking index or a RAM directory. Also, in
> > Lucene 1.4, there are a few classes that attempt to read system
> > properties, and these also run into applet security=20
> restrictions unless
> > the classes are modified (this last issue has been=20
> addressed in the next
> > release).
> >=20
> >=20
>=20
> I'm confused between paragraphs 2 and 3.
>=20
> In 2, you say that I don't need the index on the local=20
> machine, just an
> openStream to it.
>=20
> In 3, you say that I need to download the index in order to search.
>=20
> I have no problem signing the applet, if it will make this project
> feasible.  And downloading the index isn't that horrible either, as I
> can make it only happen once a day, not everytime they connect.
>=20
> Thanks for the information.
>=20
> Dave in Largo, FL
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16836-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 11 00:02:42 2005
Return-Path: <java-user-return-16836-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46611 invoked from network); 11 Oct 2005 00:02:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Oct 2005 00:02:39 -0000
Received: (qmail 33220 invoked by uid 500); 11 Oct 2005 00:02:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33199 invoked by uid 500); 11 Oct 2005 00:02:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33188 invoked by uid 99); 11 Oct 2005 00:02:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 17:02:32 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.181.105.74] (HELO hfep08.dion.ne.jp) (203.181.105.74)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 17:02:33 -0700
Received: from sekiguchi ([59.135.71.200]) by hfep08.dion.ne.jp with SMTP
          id <20051011000209013.LZUB@hfep08.dion.ne.jp>
          for <java-user@lucene.apache.org>;
          Tue, 11 Oct 2005 09:02:09 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
Subject: RE: Lucene search is very slow
Date: Tue, 11 Oct 2005 09:02:06 +0900
Message-ID: <PKEIKOCKCHNIIHNECPCCIEEDCAAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <434A8AD6.101@insideview.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Is it really the part of Lucene slow?
Please take thread dumps every 15 secs, 3 to 4 times.
What can you look at them?

Koji

> -----Original Message-----
> From: Harini Raghavan [mailto:harini.raghavan@insideview.com]
> Sent: Tuesday, October 11, 2005 12:38 AM
> To: java-user@lucene.apache.org
> Subject: Lucene search is very slow
> 
> 
> Hi,
> I am using lucene for search functionality in my j2ee application using 
> JBoss as app server. The lucene index directory size is almsot 10G. The 
> performance has been quite good until now. But after the last deploy, 
> when the server was restarted , the lucene search has become very slow. 
> It takes almost 3-4 mins for simple searches on the index. There has 
> been no changes to the application in the new build.
> Does anyone have an idea what could be wrong?
> Thanks,
> Harini
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16837-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 11 00:12:34 2005
Return-Path: <java-user-return-16837-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49426 invoked from network); 11 Oct 2005 00:12:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Oct 2005 00:12:30 -0000
Received: (qmail 46124 invoked by uid 500); 11 Oct 2005 00:12:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46095 invoked by uid 500); 11 Oct 2005 00:12:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46083 invoked by uid 99); 11 Oct 2005 00:12:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 17:12:20 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.181.105.74] (HELO hfep08.dion.ne.jp) (203.181.105.74)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 17:12:22 -0700
Received: from sekiguchi ([59.135.71.200]) by hfep08.dion.ne.jp with SMTP
          id <20051011001158583.MGOP@hfep08.dion.ne.jp>
          for <java-user@lucene.apache.org>;
          Tue, 11 Oct 2005 09:11:58 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
Subject: What is MMapDirectory?
Date: Tue, 11 Oct 2005 09:11:55 +0900
Message-ID: <PKEIKOCKCHNIIHNECPCCOEEDCAAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-2022-jp"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

What is MMapDirectory?

I've searched mailing list archive, but cannot find it.
I could find the following explanation at Lucene 1.9 CHANGES.txt:

 8. Add MMapDirectory, which uses nio to mmap input files.  This is
    still somewhat slower than FSDirectory.  However it uses less
    memory per query term, since a new buffer is not allocated per
    term, which may help applications which use, e.g., wildcard
    queries.  It may also someday be faster. (cutting & Paul Elschot)

And I saw bug 31508:

[PATCH] MMapDirectory for huge index files
http://issues.apache.org/bugzilla/show_bug.cgi?id=31508

But I'm curious to know about MMapDirecotry in more detail about
the following point:

1. Were there any troubles in FSDirectory with huge index files?
2. Is MMapDirectory used for only searching? (not indexing?)
3. Why is MMapDirectory somewhat slower than FSDirectory?
4. Why does MMapDirectory use less memory while using mapped file (mmap)?

Thank you very much in advance,

Koji



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16838-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 11 00:25:37 2005
Return-Path: <java-user-return-16838-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52789 invoked from network); 11 Oct 2005 00:25:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Oct 2005 00:25:37 -0000
Received: (qmail 58156 invoked by uid 500); 11 Oct 2005 00:25:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58136 invoked by uid 500); 11 Oct 2005 00:25:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58125 invoked by uid 99); 11 Oct 2005 00:25:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 17:25:32 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of chris.lu@gmail.com designates 72.14.204.195 as permitted sender)
Received: from [72.14.204.195] (HELO qproxy.gmail.com) (72.14.204.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 17:25:34 -0700
Received: by qproxy.gmail.com with SMTP id q18so1402758qba
        for <java-user@lucene.apache.org>; Mon, 10 Oct 2005 17:25:10 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=Rt7eIQddVvSoRdfmgWAqh5D0alHZQxnvjW9EEVnTQFoji3RkYUBFjjItqE0Btmr7pWU95psdC+93ghB4MD5zcgRJkSd7bR3D31cxBgSAGF+0YLusyrU2efz2/pZSt963EutG4nEDFD0EprD9Zrqtuh6/IUWb3wOSqGekvKNKm7g=
Received: by 10.65.159.17 with SMTP id l17mr2941862qbo;
        Mon, 10 Oct 2005 17:25:10 -0700 (PDT)
Received: by 10.65.93.7 with HTTP; Mon, 10 Oct 2005 17:25:10 -0700 (PDT)
Message-ID: <6e3ae6310510101725n205c3c0eub343dd25bfd01d3c@mail.gmail.com>
Date: Mon, 10 Oct 2005 17:25:10 -0700
From: Chris Lu <chris.lu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene search is very slow
In-Reply-To: <PKEIKOCKCHNIIHNECPCCIEEDCAAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <434A8AD6.101@insideview.com>
	 <PKEIKOCKCHNIIHNECPCCIEEDCAAA.koji.sekiguchi@m4.dion.ne.jp>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Harini,

Did you close the IndexReader every time your search is finished?
If so, 10G data will take a long time to warm up the IndexReader.

Chris
----------------------------------
Full-Text Search on Any Databases
http://www.dbsight.net

On 10/10/05, Koji Sekiguchi <koji.sekiguchi@m4.dion.ne.jp> wrote:
> Is it really the part of Lucene slow?
> Please take thread dumps every 15 secs, 3 to 4 times.
> What can you look at them?
>
> Koji
>
> > -----Original Message-----
> > From: Harini Raghavan [mailto:harini.raghavan@insideview.com]
> > Sent: Tuesday, October 11, 2005 12:38 AM
> > To: java-user@lucene.apache.org
> > Subject: Lucene search is very slow
> >
> >
> > Hi,
> > I am using lucene for search functionality in my j2ee application using
> > JBoss as app server. The lucene index directory size is almsot 10G. The
> > performance has been quite good until now. But after the last deploy,
> > when the server was restarted , the lucene search has become very slow.
> > It takes almost 3-4 mins for simple searches on the index. There has
> > been no changes to the application in the new build.
> > Does anyone have an idea what could be wrong?
> > Thanks,
> > Harini
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16839-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 11 02:04:16 2005
Return-Path: <java-user-return-16839-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82945 invoked from network); 11 Oct 2005 02:04:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Oct 2005 02:04:15 -0000
Received: (qmail 20229 invoked by uid 500); 11 Oct 2005 02:04:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19312 invoked by uid 500); 11 Oct 2005 02:04:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19300 invoked by uid 99); 11 Oct 2005 02:04:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 19:04:10 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Oct 2005 19:04:12 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 7912613E2005; Mon, 10 Oct 2005 22:03:48 -0400 (EDT)
Received: from [172.16.1.101] (va-71-48-138-146.dhcp.sprint-hsd.net [71.48.138.146])
	by ehatchersolutions.com (Postfix) with ESMTP id 7EC5513E2005
	for <java-user@lucene.apache.org>; Mon, 10 Oct 2005 22:03:09 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <14FBF41EF1411B45B2EC4ADEAC53D131040BFA2F@MAIL01.wescodist.com>
References: <14FBF41EF1411B45B2EC4ADEAC53D131040BFA2F@MAIL01.wescodist.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <A349DBF3-5ACF-4CF2-9975-B2247B30670A@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Optimization
Date: Mon, 10 Oct 2005 22:03:03 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Tom,

Very cool!  Thanks for sharing your technique, which works well for  
prefixed and suffixed wildcard queries.  However, it doesn't address  
an * in the middle of a term, say W*D.  Obviously your usage doesn't  
require better performance for a wildcard in the middle, so you've  
done well - I just wanted to point out the one caveat for others.  A  
prefixed wildcard is the worst performer, though, so you've nipped  
the major one.

     Erik

On Oct 7, 2005, at 9:17 AM, Aigner, Thomas wrote:

> Thanks Erik, I tried the reverse index and it worked like a charm.
> While I was doing this, we figured out a way to handle contains within
> search and wildcard searches at the beginning.  I thought I would  
> share
> it with the community (and realized it handled the reverse index as
> well)
>
> Word: ABCDEFG
>
> Tokens created:
>     <ABCDEFG
>     BCDEFG
>     CDEFG
>     DEFG
>     EFG
>     FG
>
> What I do is if the search string is :
>     WORD*   I search for <WORD*
>     *WORD   I search for WORD*
>     *WORD*  I search for WORD*
>       WORD    I search for <WORD
>
> With this technique, the search result time was decreased tremendously
> for contains within and wildcard searches from the beginning.  The  
> index
> has become 5X as large and takes longer to build, but I'm willing to
> sacrifice disk space and time for this huge benefit of speed.  Also, I
> have taken the wildcard query completely out of the program now so
> everything uses my customized analyzer.
>
> Tom
>
> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: Wednesday, October 05, 2005 9:27 AM
> To: java-user@lucene.apache.org
> Subject: Re: Optimization
>
>
> On Oct 5, 2005, at 9:05 AM, Aigner, Thomas wrote:
>
>>     Have a question.. Is there any obvious things that can be done
>> to help speed up query lookups especially wildcard searches (i.e.
>> *lamps).
>>
>
> Obvious?  Sort of.  *lamps needs to scan through _every_ single term
> in the index (for the specified field only, of course) because terms
> are lexicographically ordered.
>
> If you reverse terms during analysis and lay them in the same
> position (increment 0) as the original token you'd end up with
> "spmal..." terms.  Now pre-process the query string and if there is a
> prefixed wildcard query, reverse it so that "*lamps" turns into
> "spmal*" and you will likely achieve a dramatic speed-up.
>
> This is just one technique for dealing with prefixed wildcard
> queries.  There is more fun to be had with queries like *lamps*.  A
> technique I learned from the book Managing Gigabytes is to rotate
> terms through all their possible variations and index all of those,
> which also requires cleverness on the querying side of things.
>
>      Erik
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16840-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 11 07:16:32 2005
Return-Path: <java-user-return-16840-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63812 invoked from network); 11 Oct 2005 07:16:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Oct 2005 07:16:32 -0000
Received: (qmail 46098 invoked by uid 500); 11 Oct 2005 07:16:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46066 invoked by uid 500); 11 Oct 2005 07:16:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46055 invoked by uid 99); 11 Oct 2005 07:16:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 00:16:26 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.30] (HELO smtp-vbr10.xs4all.nl) (194.109.24.30)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 00:16:28 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr10.xs4all.nl (8.13.3/8.13.3) with ESMTP id j9B7G4Y6062931
	for <java-user@lucene.apache.org>; Tue, 11 Oct 2005 09:16:04 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: What is MMapDirectory?
Date: Tue, 11 Oct 2005 09:16:03 +0200
User-Agent: KMail/1.5.4
References: <PKEIKOCKCHNIIHNECPCCIEDICAAA.koji.sekiguchi@m4.dion.ne.jp>
In-Reply-To: <PKEIKOCKCHNIIHNECPCCIEDICAAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-2022-jp"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200510110916.03843.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Koji,

On Sunday 09 October 2005 14:12, Koji Sekiguchi wrote:
> Hello,
> 
> What is MMapDirectory?
> 
> I've searched mailing list archive, but cannot find it.
> I could find the following explanation at Lucene 1.9 CHANGES.txt:
> 
>  8. Add MMapDirectory, which uses nio to mmap input files.  This is
>     still somewhat slower than FSDirectory.  However it uses less
>     memory per query term, since a new buffer is not allocated per
>     term, which may help applications which use, e.g., wildcard
>     queries.  It may also someday be faster. (cutting & Paul Elschot)
> 
> And I saw bug 31508:
> 
> [PATCH] MMapDirectory for huge index files
> http://issues.apache.org/bugzilla/show_bug.cgi?id=31508

Bugzilla has been replaced by JIRA recently, this is now here:
http://issues.apache.org/jira/browse/LUCENE-283

> 
> But I'm curious to know about MMapDirecotry in more detail about
> the following point:
> 
> 1. Were there any troubles in FSDirectory with huge index files?

There were some troubles with huge index files, but not in FSDirectory.
FSDirectory is still faster than MMapDirectory, but that might change
in the future.

> 2. Is MMapDirectory used for only searching? (not indexing?)

Indeed so.

> 3. Why is MMapDirectory somewhat slower than FSDirectory?
> 4. Why does MMapDirectory use less memory while using mapped file (mmap)?

Both depend on the underlying implementation of buffering in the JVM
and in the operating system. In my (few) attempts so far,  memory
mapped I/O does not currently help to improve performance of Lucene.
However, in case you have different experience, we'd like to know.

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16841-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 11 07:25:45 2005
Return-Path: <java-user-return-16841-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71965 invoked from network); 11 Oct 2005 07:25:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Oct 2005 07:25:45 -0000
Received: (qmail 52454 invoked by uid 500); 11 Oct 2005 07:25:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52421 invoked by uid 500); 11 Oct 2005 07:25:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52410 invoked by uid 99); 11 Oct 2005 07:25:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 00:25:41 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.181.105.76] (HELO hfep10.dion.ne.jp) (203.181.105.76)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 00:25:43 -0700
Received: from sekiguchi2 ([58.5.235.18]) by hfep10.dion.ne.jp with SMTP
          id <20051011072518411.QXHP@hfep10.dion.ne.jp>
          for <java-user@lucene.apache.org>;
          Tue, 11 Oct 2005 16:25:18 +0900
Message-ID: <01ed01c5ce34$ee374cf0$a000a8c0@sekiguchi2>
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
References: <PKEIKOCKCHNIIHNECPCCIEDICAAA.koji.sekiguchi@m4.dion.ne.jp> <200510110916.03843.paul.elschot@xs4all.nl>
Subject: Re: What is MMapDirectory?
Date: Tue, 11 Oct 2005 16:25:17 +0900
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-2022-jp";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Paul,

Thank you very much for your explanation.

> However, in case you have different experience, we'd like to know.

I don't have it. I'm just curious.

Thank you again,

Koji


----- Original Message ----- 
From: "Paul Elschot" <paul.elschot@xs4all.nl>
To: <java-user@lucene.apache.org>
Sent: Tuesday, October 11, 2005 4:16 PM
Subject: Re: What is MMapDirectory?


> Koji,
>
> On Sunday 09 October 2005 14:12, Koji Sekiguchi wrote:
>> Hello,
>>
>> What is MMapDirectory?
>>
>> I've searched mailing list archive, but cannot find it.
>> I could find the following explanation at Lucene 1.9 CHANGES.txt:
>>
>>  8. Add MMapDirectory, which uses nio to mmap input files.  This is
>>     still somewhat slower than FSDirectory.  However it uses less
>>     memory per query term, since a new buffer is not allocated per
>>     term, which may help applications which use, e.g., wildcard
>>     queries.  It may also someday be faster. (cutting & Paul Elschot)
>>
>> And I saw bug 31508:
>>
>> [PATCH] MMapDirectory for huge index files
>> http://issues.apache.org/bugzilla/show_bug.cgi?id=31508
>
> Bugzilla has been replaced by JIRA recently, this is now here:
> http://issues.apache.org/jira/browse/LUCENE-283
>
>>
>> But I'm curious to know about MMapDirecotry in more detail about
>> the following point:
>>
>> 1. Were there any troubles in FSDirectory with huge index files?
>
> There were some troubles with huge index files, but not in FSDirectory.
> FSDirectory is still faster than MMapDirectory, but that might change
> in the future.
>
>> 2. Is MMapDirectory used for only searching? (not indexing?)
>
> Indeed so.
>
>> 3. Why is MMapDirectory somewhat slower than FSDirectory?
>> 4. Why does MMapDirectory use less memory while using mapped file (mmap)?
>
> Both depend on the underlying implementation of buffering in the JVM
> and in the operating system. In my (few) attempts so far,  memory
> mapped I/O does not currently help to improve performance of Lucene.
> However, in case you have different experience, we'd like to know.
>
> Regards,
> Paul Elschot
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
> 



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16842-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 11 09:28:10 2005
Return-Path: <java-user-return-16842-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15320 invoked from network); 11 Oct 2005 09:28:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Oct 2005 09:28:10 -0000
Received: (qmail 68979 invoked by uid 500); 11 Oct 2005 09:28:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68917 invoked by uid 500); 11 Oct 2005 09:28:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68906 invoked by uid 99); 11 Oct 2005 09:28:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 02:28:04 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of shoren@gmail.com designates 64.233.162.196 as permitted sender)
Received: from [64.233.162.196] (HELO zproxy.gmail.com) (64.233.162.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 02:28:05 -0700
Received: by zproxy.gmail.com with SMTP id i28so863133nzi
        for <java-user@lucene.apache.org>; Tue, 11 Oct 2005 02:27:41 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=c+mBjr3OJGs9WLaGbFqV3iMDIAspjnxeqy8iiLJ3LBto9SdPGNQ39idDNEp9TIVl1z6h2Q4iXKlHVklXA0Gx6ohBGqjWNfiehKgmxPGI9NzBittcvaYZuMmrYFt0kuaYPRMYXaAU//+zkWk4MG3GT49tboEcoTuOAPt1FCN2j9o=
Received: by 10.36.12.20 with SMTP id 20mr4678648nzl;
        Tue, 11 Oct 2005 02:27:41 -0700 (PDT)
Received: by 10.36.80.8 with HTTP; Tue, 11 Oct 2005 02:27:41 -0700 (PDT)
Message-ID: <b7bee2520510110227m2e028961g70175d2fe2d5c0c3@mail.gmail.com>
Date: Tue, 11 Oct 2005 11:27:41 +0200
From: Oren Shir <shoren@gmail.com>
Reply-To: shoren@alum.cs.huji.ac.il
To: java-user@lucene.apache.org
Subject: Re: Getting index lock while indexing
In-Reply-To: <037c01c5c4c0$c4da1a40$8400a8c0@AcusisBlr.lan>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_18090_14012069.1129022861469"
References: <92A278501EF50444AD3EE1FFB51219550BCE397B@emss10m03.rck.atm.lmco.com>
	 <037c01c5c4c0$c4da1a40$8400a8c0@AcusisBlr.lan>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_18090_14012069.1129022861469
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Do you keep open IndexReader, IndexWriter or IndexSearcher? Try closing the=
m
suring shutdown

On 9/29/05, M =E5 n i s h <manish.chowdhary@acusis.com> wrote:
>
>
> Hi,
> I am having trouble indexing files sometimes,
> My application is deployed in tomcat and some times when I try to stop an=
d
> restart indexing I am getting index lock exception.
> Lucene is creating one lock file in temp folder of tomcat , If I delete
> that
> folder it starts working again.
>
> Can any body help.
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_18090_14012069.1129022861469--

From java-user-return-16843-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 11 09:37:16 2005
Return-Path: <java-user-return-16843-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18320 invoked from network); 11 Oct 2005 09:37:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Oct 2005 09:37:16 -0000
Received: (qmail 81276 invoked by uid 500); 11 Oct 2005 09:37:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81196 invoked by uid 500); 11 Oct 2005 09:37:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81178 invoked by uid 99); 11 Oct 2005 09:37:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 02:37:10 -0700
X-ASF-Spam-Status: No, hits=2.9 required=10.0
	tests=DNS_FROM_RFC_DSN
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.179.233.113] (HELO acusis.com) (66.179.233.113)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 02:37:12 -0700
Received: from Manish [61.246.221.29] by acusis.com with ESMTP
  (SMTPD-8.20) id AA2703C8; Tue, 11 Oct 2005 05:47:19 -0400
From: =?iso-8859-1?Q?M_=E5_n_i_s_h_?= <manish.chowdhary@acusis.com>
To: <java-user@lucene.apache.org>,
	<shoren@alum.cs.huji.ac.il>
Subject: RE: Getting index lock while indexing
Date: Tue, 11 Oct 2005 15:06:35 +0530
Message-ID: <00c001c5ce47$46d9b5c0$8400a8c0@AcusisBlr.lan>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.1830
Importance: Normal
In-Reply-To: <b7bee2520510110227m2e028961g70175d2fe2d5c0c3@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N



Yes some time it creates lock file in tomcat.
But nowadays i am not able to index even after deleting the lock files.
I checked tomcat's temp folder and java.io.tmpdir , nothing is there.

Even if I am not closing the index it should index after deleting the =
lock
files , (Correct me if I am wrong)=20

I read on net about changing io lock to nio lock in lock.java file.
Has any body implemented and deployed it successfully?

Thanks in advance
~Manish Chowdhary

-----Original Message-----
From: Oren Shir [mailto:shoren@gmail.com]=20
Sent: Tuesday, October 11, 2005 2:58 PM
To: java-user@lucene.apache.org
Subject: Re: Getting index lock while indexing

Do you keep open IndexReader, IndexWriter or IndexSearcher? Try closing =
them
suring shutdown

On 9/29/05, M =E5 n i s h <manish.chowdhary@acusis.com> wrote:
>
>
> Hi,
> I am having trouble indexing files sometimes,
> My application is deployed in tomcat and some times when I try to stop =
and
> restart indexing I am getting index lock exception.
> Lucene is creating one lock file in temp folder of tomcat , If I =
delete
> that
> folder it starts working again.
>
> Can any body help.
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16844-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 11 11:37:20 2005
Return-Path: <java-user-return-16844-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63019 invoked from network); 11 Oct 2005 11:37:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Oct 2005 11:37:20 -0000
Received: (qmail 87132 invoked by uid 500); 11 Oct 2005 11:37:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87112 invoked by uid 500); 11 Oct 2005 11:37:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87101 invoked by uid 99); 11 Oct 2005 11:37:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 04:37:13 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [129.241.7.60] (HELO fri.itea.ntnu.no) (129.241.7.60)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 04:37:15 -0700
Received: from localhost (localhost [127.0.0.1])
	by fri.itea.ntnu.no (Postfix) with ESMTP id 3A2B483CA
	for <java-user@lucene.apache.org>; Tue, 11 Oct 2005 13:36:50 +0200 (CEST)
Received: from whitestar (dhcp-103-241.idi.ntnu.no [129.241.103.241])
	by fri.itea.ntnu.no (Postfix) with ESMTP
	for <java-user@lucene.apache.org>; Tue, 11 Oct 2005 13:36:49 +0200 (CEST)
From: "Trond Aksel Myklebust" <trondaks@stud.ntnu.no>
To: <java-user@lucene.apache.org>
Subject: Intersecting queries
Date: Tue, 11 Oct 2005 13:36:36 +0200
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0000_01C5CE68.CD758980"
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
Thread-Index: AcXOVz2cN8HGL03xTgWPcvVQVRTauQ==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2670
X-Content-Scanned: with sophos and spamassassin at mailgw.ntnu.no.
Message-Id: <20051011113650.3A2B483CA@fri.itea.ntnu.no>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0000_01C5CE68.CD758980
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

I need to be able to intersect the result of two queries based on a field
"ID". So if I do a search: 

Content2 = "something totally" and a search: Content1 = "something" I want
to return only Document 2 based on the field ID being the same.

Any tip on how to do this in Lucene, or should I go for an external
solution?

 

Document 1: 

ID = 500

Content1 = "something"

 

Document 2:

ID = 500

Content2 = "something totally"

 

Document 3:

ID = 501

Content2 = "something totally different"

 

 

Regards

Trond A Myklebust

 


------=_NextPart_000_0000_01C5CE68.CD758980--



From java-user-return-16845-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 11 13:02:55 2005
Return-Path: <java-user-return-16845-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98460 invoked from network); 11 Oct 2005 13:02:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Oct 2005 13:02:54 -0000
Received: (qmail 90217 invoked by uid 500); 11 Oct 2005 13:02:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90129 invoked by uid 500); 11 Oct 2005 13:02:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90118 invoked by uid 99); 11 Oct 2005 13:02:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 06:02:49 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [134.96.188.26] (HELO mail.dfki.de) (134.96.188.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 06:02:51 -0700
Received: from mail.dfki.de (localhost.dfki.uni-sb.de [127.0.0.1])
	by localhost (Postfix) with ESMTP id A6DFEE4853
	for <java-user@lucene.apache.org>; Tue, 11 Oct 2005 15:02:15 +0200 (CEST)
Received: from [IPv6:::1] (dave.dfki.uni-sb.de [134.96.184.220])
	by mail.dfki.de (Postfix) with ESMTP id 0FBBAE482C
	for <java-user@lucene.apache.org>; Tue, 11 Oct 2005 15:02:04 +0200 (CEST)
Mime-Version: 1.0 (Apple Message framework v623)
In-Reply-To: <20051011113650.3A2B483CA@fri.itea.ntnu.no>
References: <20051011113650.3A2B483CA@fri.itea.ntnu.no>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Message-Id: <3960978b36504fbf9f0dcc13f8077628@activemath.org>
Content-Transfer-Encoding: quoted-printable
From: Paul Libbrecht <paul@activemath.org>
Subject: Re: Intersecting queries
Date: Tue, 11 Oct 2005 15:02:01 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.623)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

search a query using a filter that's a query-filter ??

paul


Le 11 oct. 05, =E0 13:36, Trond Aksel Myklebust a =E9crit :

> I need to be able to intersect the result of two queries based on a=20
> field
> "ID". So if I do a search:
>
> Content2 =3D "something totally" and a search: Content1 =3D =
"something" I=20
> want
> to return only Document 2 based on the field ID being the same.
>
> Any tip on how to do this in Lucene, or should I go for an external
> solution?
>
>
>
> Document 1:
>
> ID =3D 500
>
> Content1 =3D "something"
>
>
>
> Document 2:
>
> ID =3D 500
>
> Content2 =3D "something totally"
>
>
>
> Document 3:
>
> ID =3D 501
>
> Content2 =3D "something totally different"
>
>
>
>
>
> Regards
>
> Trond A Myklebust
>
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16846-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 11 13:28:13 2005
Return-Path: <java-user-return-16846-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15766 invoked from network); 11 Oct 2005 13:28:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Oct 2005 13:28:13 -0000
Received: (qmail 25978 invoked by uid 500); 11 Oct 2005 13:28:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25961 invoked by uid 500); 11 Oct 2005 13:28:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25950 invoked by uid 99); 11 Oct 2005 13:28:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 06:28:07 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [213.41.78.210] (HELO smtp-ft1.fr.colt.net) (213.41.78.210)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 06:28:09 -0700
Received: from public.temis.fr (host.234.125.23.62.rev.coltfrance.com [62.23.125.234])
	by smtp-ft1.fr.colt.net (8.13.4/8.13.4/Debian-3) with SMTP id j9BDRfSH017657
	for <java-user@lucene.apache.org>; Tue, 11 Oct 2005 15:27:41 +0200
Received: from no.name.available by public.temis.fr
          via smtpd (for [213.41.78.27] [213.41.78.27]) with SMTP; Tue, 11 Oct 2005 15:27:35 +0200
Message-ID: <434BBC9C.10703@temis-group.com>
Date: Tue, 11 Oct 2005 15:22:36 +0200
From: Hugo Lafayette <hugo.lafayette@temis-group.com>
User-Agent: Mozilla Thunderbird 1.0 (X11/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Bad behaviors of FrenchAnalyzer
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi there,

I just test the french analyzer, which works well for most part of it
(Stemmer particulary). But ATM, I have two unexpected behavior with the
default configuration:

- accentuated characters: The french analyzer keep accents, which could
be useful, but may also become boring. I just have to add the
ISOLatinFilter.java to correct that, but maybe adding an option to keep
them or not could be useful.

- apsotrophe (') characters: The standard analyzer does NOT tokenize on
('), because of O'Reilly like words. But in french, lot's of expression
must be tokenize, like "j'aime" or "l'amour" which contains respectively
2 tokens each ("je" & "aime", "le" & "amour"). I'm quite surprised that
nobody else found that supicious behavior before, so maybe I missed
something.

Anyway I don't know how to proceed, since I have to index both english
and french text.

The simple way will be to change the standard analyzer grammar (remove
the APOSTROPHE rules basically), to get 2 tokens. But I'm afraid of
unexpected side effects.

The other way will be to make the french analyzer further tokenize
"j'aime" into 2 sub tokens (with a token buffer, right ?). Is it the
right thing to do ? Does this represent a bug that will be corrected
soon ? Is there other way around ?

Thanks in advance for your answers, and congrats for your delightful
software !


PS: I'm working with "lucene-1.9-rc1-dev" version from the svn repository.

-- 
Hugo

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16847-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 11 13:32:45 2005
Return-Path: <java-user-return-16847-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18083 invoked from network); 11 Oct 2005 13:32:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Oct 2005 13:32:45 -0000
Received: (qmail 37479 invoked by uid 500); 11 Oct 2005 13:32:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37421 invoked by uid 500); 11 Oct 2005 13:32:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37388 invoked by uid 99); 11 Oct 2005 13:32:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 06:32:34 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 205.152.59.72 is neither permitted nor denied by domain of rwatkins@foo-bar.org)
Received: from [205.152.59.72] (HELO imf24aec.mail.bellsouth.net) (205.152.59.72)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 06:32:35 -0700
Received: from ibm71aec.bellsouth.net ([68.209.119.157])
          by imf24aec.mail.bellsouth.net with ESMTP
          id <20051011133211.JPES25370.imf24aec.mail.bellsouth.net@ibm71aec.bellsouth.net>
          for <java-user@lucene.apache.org>;
          Tue, 11 Oct 2005 09:32:11 -0400
Received: from jimwormold ([68.209.119.157]) by ibm71aec.bellsouth.net
          with ESMTP
          id <20051011133211.NJDY11968.ibm71aec.bellsouth.net@jimwormold>
          for <java-user@lucene.apache.org>;
          Tue, 11 Oct 2005 09:32:11 -0400
Date: Tue, 11 Oct 2005 09:32:26 -0400 (EDT)
From: Robert Watkins <rwatkins@foo-bar.org>
To: java-user@lucene.apache.org
Subject: wildcards within a phrase query
Message-ID: <Pine.LNX.4.63.0510110916360.19848@jimwormold>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I've been trying to figure out the best way to support queries of the ilk:

   "going to he* in a hand-basket"

such that it's almost a PhraseQuery, except that the third term (in this
case) is a PrefixQuery.

The only idea that comes to mind is to try to combine a PhraseQuery and
a PrefixQuery (or, in other situations, a WildcardQuery) using relative
positional parameters. The idea being that one would combine a PhraseQuery
for:

   "going to [gap] in a hand-basket"

with a PrefixQuery for:

   "he"

such that the position of the Term used in the PrefixQuery fits into the
slot left by the [gap] of the PhraseQuery.

Does that sound like I'm on the right track?

-- Robert

--------------------
Robert Watkins
rwatkins@foo-bar.org
--------------------

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16848-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 11 14:14:48 2005
Return-Path: <java-user-return-16848-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42663 invoked from network); 11 Oct 2005 14:14:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Oct 2005 14:14:48 -0000
Received: (qmail 30263 invoked by uid 500); 11 Oct 2005 14:14:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30080 invoked by uid 500); 11 Oct 2005 14:14:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29983 invoked by uid 99); 11 Oct 2005 14:14:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 07:14:28 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 07:14:28 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id D778F13E2005; Tue, 11 Oct 2005 10:14:02 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 55FD913E2007
	for <java-user@lucene.apache.org>; Tue, 11 Oct 2005 10:13:38 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <434BBC9C.10703@temis-group.com>
References: <434BBC9C.10703@temis-group.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <BC3E0398-63EA-4988-981A-F4E2D4F3E9CF@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Bad behaviors of FrenchAnalyzer
Date: Tue, 11 Oct 2005 10:13:34 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Oct 11, 2005, at 9:22 AM, Hugo Lafayette wrote:
> - accentuated characters: The french analyzer keep accents, which  
> could
> be useful, but may also become boring. I just have to add the
> ISOLatinFilter.java to correct that, but maybe adding an option to  
> keep
> them or not could be useful.
>
> - apsotrophe (') characters: The standard analyzer does NOT  
> tokenize on
> ('), because of O'Reilly like words. But in french, lot's of  
> expression
> must be tokenize, like "j'aime" or "l'amour" which contains  
> respectively
> 2 tokens each ("je" & "aime", "le" & "amour"). I'm quite surprised  
> that
> nobody else found that supicious behavior before, so maybe I missed
> something.

Rather than changing StandardAnalyzer, you could create a custom  
Analyzer that is something along the lines of StandardTokenizer  ->  
custom apostrophe splitting filter -> ISOLatinFilter.  You get a  
special type for words with interior apostrophes from  
StandardTokenizer (look at StandardFilter to see how that works).   
You could create a simple TokenFilter that splits apostrophe'd tokens  
into two.  Maybe it's simple enough also to expand "j" and "l" into  
"je" and "le" in the same step too?

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16849-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 11 14:58:13 2005
Return-Path: <java-user-return-16849-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62775 invoked from network); 11 Oct 2005 14:58:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Oct 2005 14:58:12 -0000
Received: (qmail 9044 invoked by uid 500); 11 Oct 2005 14:58:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9014 invoked by uid 500); 11 Oct 2005 14:58:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9003 invoked by uid 99); 11 Oct 2005 14:58:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 07:58:06 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [213.41.78.210] (HELO smtp-ft1.fr.colt.net) (213.41.78.210)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 07:58:08 -0700
Received: from public.temis.fr (host.234.125.23.62.rev.coltfrance.com [62.23.125.234])
	by smtp-ft1.fr.colt.net (8.13.4/8.13.4/Debian-3) with SMTP id j9BEvfNA015721
	for <java-user@lucene.apache.org>; Tue, 11 Oct 2005 16:57:41 +0200
Received: from no.name.available by public.temis.fr
          via smtpd (for [213.41.78.27] [213.41.78.27]) with SMTP; Tue, 11 Oct 2005 16:57:35 +0200
Message-ID: <434BD1AF.9030906@temis-group.com>
Date: Tue, 11 Oct 2005 16:52:31 +0200
From: Hugo Lafayette <hugo.lafayette@temis-group.com>
User-Agent: Mozilla Thunderbird 1.0 (X11/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Bad behaviors of FrenchAnalyzer
References: <434BBC9C.10703@temis-group.com> <BC3E0398-63EA-4988-981A-F4E2D4F3E9CF@ehatchersolutions.com>
In-Reply-To: <BC3E0398-63EA-4988-981A-F4E2D4F3E9CF@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Erik Hatcher wrote:

> Rather than changing StandardAnalyzer, you could create a custom  
> Analyzer that is something along the lines of StandardTokenizer  ->  
> custom apostrophe splitting filter -> ISOLatinFilter. 

Why do not include that in the FrenchStemFilter "next()" method itself ?
It will be a bad design ?

And I'm quite concerned with performance issue, but it seem's to me that
your solution will only affect "APOSTROPHE" typed token, so the overhead
will be unexistant, right ?

> You get a special type for words with interior apostrophes from 
> StandardTokenizer (look at StandardFilter to see how that works). You
> could create a simple TokenFilter that splits apostrophe'd tokens 
> into two.

I'm not sure to figure out to do that efficiently. Is it something like
that ? :

<code>

private Stack subTokens; //previously initialized

public final Token next() throws IOException {
  Token t = null;
  if (subTokens != null && !subTokens.empty) {
    t = subTokens.pop();
  } else {
    t = input.next();
    if (t != null)
    {
      String type = t.type();
      if (type == APOSTROPHE_TYPE) {
	tokenizeApostrophe(t, subTokens);
      }
    }
  }
  return t;
}

</code>

with "tokenizeApostrophe(Token, Stack)" that split on conditions the
token into 2 others, and push them on the stack.

> Maybe it's simple enough also to expand "j" and "l" into "je" and
> "le" in the same step too?

It will be simple, but I'm not sure yet I want to expand them back.
Maybe it will be useful to index the "j" token after all.

Anyway thanks for your quick answer,

-- 
Hugo

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16850-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 11 16:21:35 2005
Return-Path: <java-user-return-16850-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 476 invoked from network); 11 Oct 2005 16:21:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Oct 2005 16:21:35 -0000
Received: (qmail 78914 invoked by uid 500); 11 Oct 2005 16:21:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78665 invoked by uid 500); 11 Oct 2005 16:21:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78654 invoked by uid 99); 11 Oct 2005 16:21:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 09:21:29 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 09:21:32 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id E846913E2007; Tue, 11 Oct 2005 12:21:07 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 9132513E2005
	for <java-user@lucene.apache.org>; Tue, 11 Oct 2005 12:20:54 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <434BD1AF.9030906@temis-group.com>
References: <434BBC9C.10703@temis-group.com> <BC3E0398-63EA-4988-981A-F4E2D4F3E9CF@ehatchersolutions.com> <434BD1AF.9030906@temis-group.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <C48FF954-F72C-4487-89CE-A363C7A90F04@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Bad behaviors of FrenchAnalyzer
Date: Tue, 11 Oct 2005 12:20:51 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Oct 11, 2005, at 10:52 AM, Hugo Lafayette wrote:
> Erik Hatcher wrote:
>
>
>> Rather than changing StandardAnalyzer, you could create a custom
>> Analyzer that is something along the lines of StandardTokenizer  ->
>> custom apostrophe splitting filter -> ISOLatinFilter.
>>
>
> Why do not include that in the FrenchStemFilter "next()" method  
> itself ?
> It will be a bad design ?

I've not personally used the FrenchStemFilter, so I cannot comment on  
its behavior at all.  I'm out of my league in that realm.

> And I'm quite concerned with performance issue, but it seem's to me  
> that
> your solution will only affect "APOSTROPHE" typed token, so the  
> overhead
> will be unexistant, right ?

There is little need to be concerned with analyzer performance, at  
least at this stage.  First have a problem, then optimize for it.  I  
don't speculate with performance.  But yes, only the apostrophe type  
(whatever that is, I'm not looking at the code now, but I think its  
"<APOSTROPHE>", with angle brackets) would need to be caught and  
split, the rest could pass straight through.  Again, look at the  
StandardTokenFilter for an example - it removes apostrophes.

>> You get a special type for words with interior apostrophes from
>> StandardTokenizer (look at StandardFilter to see how that works). You
>> could create a simple TokenFilter that splits apostrophe'd tokens
>> into two.
>>
>
> I'm not sure to figure out to do that efficiently. Is it something  
> like
> that ? :
>
> <code>
>
> private Stack subTokens; //previously initialized
>
> public final Token next() throws IOException {
>   Token t = null;
>   if (subTokens != null && !subTokens.empty) {
>     t = subTokens.pop();
>   } else {
>     t = input.next();
>     if (t != null)
>     {
>       String type = t.type();
>       if (type == APOSTROPHE_TYPE) {
>     tokenizeApostrophe(t, subTokens);
>       }
>     }
>   }
>   return t;
> }
>
> </code>
>
> with "tokenizeApostrophe(Token, Stack)" that split on conditions the
> token into 2 others, and push them on the stack.

Using a stack (or only a single spare Token if you will only split  
into two pieces) is a good appraoch.  I haven't tried your code, but  
I recommend writing some unit tests that exercise your filter  
separately and ensure it works to split tokens as you expect.  :)

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16851-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 11 16:44:46 2005
Return-Path: <java-user-return-16851-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14221 invoked from network); 11 Oct 2005 16:44:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Oct 2005 16:44:45 -0000
Received: (qmail 15635 invoked by uid 500); 11 Oct 2005 16:44:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14726 invoked by uid 500); 11 Oct 2005 16:44:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14705 invoked by uid 99); 11 Oct 2005 16:44:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 09:44:39 -0700
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.220.6.229] (HELO mail.roomity.com) (66.220.6.229)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 09:44:41 -0700
Received: from slave1.roomity.com (slave1.roomity.com [66.220.6.229])
	by mail.roomity.com (Postfix) with ESMTP id 3DE6EA7611
	for <java-user@lucene.apache.org>; Tue, 11 Oct 2005 09:44:34 -0700 (PDT)
Message-ID: <27887677.01129049074061.JavaMail.tomcat5@slave1.roomity.com>
From: javabuddy <maillist@roomity.com>
To: java-user@lucene.apache.org
Subject: Lucene and Quartz
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_0_23307040.1129049073840"
Date: Tue, 11 Oct 2005 09:44:34 -0700 (PDT)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_0_23307040.1129049073840
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi,

I have the indexing process running in an quartz environment. (on a clustered two boxes)

I made sure that the Indexing doesnt runs simultaneously on both the boxes.

But suddenly I am start getting "FileNotFoundException" on the indexing process. From that pont on the indexes are of no use. I need to start the indexing from scratch.

I need to know a couple of things....

1. Is there a way to regain the indexes after getting "FileNotFoundException" .

2. What is wrong in having the indexing process run across two machines..

Will the IndexWriter.optimize() method refresh the indexes, on top of optimizing it????

- Gana.


------------------------------------------------------------------
<a href="http://Lucene_Java_User_List.roomity.com">roomity.com</a>
Your Roomity Broadband Webapp ~~1129049073830~~
------------------------------------------------------------------

------=_Part_0_23307040.1129049073840--


From java-user-return-16852-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 11 16:47:31 2005
Return-Path: <java-user-return-16852-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16119 invoked from network); 11 Oct 2005 16:47:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Oct 2005 16:47:30 -0000
Received: (qmail 20955 invoked by uid 500); 11 Oct 2005 16:47:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20928 invoked by uid 500); 11 Oct 2005 16:47:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20914 invoked by uid 99); 11 Oct 2005 16:47:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 09:47:25 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [12.154.210.214] (HELO rectangular.com) (12.154.210.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 09:47:27 -0700
Received: from [67.189.26.9] (helo=[10.0.1.2])
	by rectangular.com with esmtpa (Exim 4.44)
	id 1EPNOb-000PbK-D6
	for java-user@lucene.apache.org; Tue, 11 Oct 2005 09:54:33 -0700
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <434BD1AF.9030906@temis-group.com>
References: <434BBC9C.10703@temis-group.com> <BC3E0398-63EA-4988-981A-F4E2D4F3E9CF@ehatchersolutions.com> <434BD1AF.9030906@temis-group.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <901E3994-41D7-4A79-98D0-6153EF2B6AAF@rectangular.com>
Content-Transfer-Encoding: 7bit
From: Marvin Humphrey <marvin@rectangular.com>
Subject: Re: Bad behaviors of FrenchAnalyzer
Date: Tue, 11 Oct 2005 09:47:02 -0700
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Oct 11, 2005, at 7:52 AM, Hugo Lafayette wrote:

> Why do not include that in the FrenchStemFilter "next()" method  
> itself ?
> It will be a bad design ?

I agree with your assessment.  Conceptually, this is a stemming  
problem.  By extension, it's not a tokenizing problem, and the  
behavior of the StandardTokenizer is fine.

The most recent Perl/CPAN version of the Snowball stemming library  
added an option to strip leading l', d', etc in French.  I know this  
because until the most recent version, it didn't strip trailing 's in  
English, either, and I had to write some workarounds, just like  
you'll have to.

http://search.cpan.org/search?query=snowball

I'm curious: are there any cases in French where a string with an  
apostrophe in it ought to be split into two searchable tokens?  I  
know of no such cases in English: you never want to search for the ll  
in you'll, or the O in O'Reilly, etc.

Marvin Humphrey
Rectangular Research
http://www.rectangular.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16853-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 11 17:09:42 2005
Return-Path: <java-user-return-16853-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25964 invoked from network); 11 Oct 2005 17:09:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Oct 2005 17:09:42 -0000
Received: (qmail 53266 invoked by uid 500); 11 Oct 2005 17:09:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53239 invoked by uid 500); 11 Oct 2005 17:09:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53227 invoked by uid 99); 11 Oct 2005 17:09:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 10:09:37 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [213.41.78.206] (HELO smtp-ft3.fr.colt.net) (213.41.78.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 10:09:39 -0700
Received: from public.temis.fr (host.234.125.23.62.rev.coltfrance.com [62.23.125.234])
	by smtp-ft3.fr.colt.net (8.13.4/8.13.4/Debian-3) with SMTP id j9BH9E9P003549
	for <java-user@lucene.apache.org>; Tue, 11 Oct 2005 19:09:15 +0200
Received: from no.name.available by public.temis.fr
          via smtpd (for [213.41.78.27] [213.41.78.27]) with SMTP; Tue, 11 Oct 2005 19:09:06 +0200
Message-ID: <434BF081.5060305@temis-group.com>
Date: Tue, 11 Oct 2005 19:04:01 +0200
From: Hugo Lafayette <hugo.lafayette@temis-group.com>
User-Agent: Mozilla Thunderbird 1.0 (X11/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Bad behaviors of FrenchAnalyzer
References: <434BBC9C.10703@temis-group.com> <BC3E0398-63EA-4988-981A-F4E2D4F3E9CF@ehatchersolutions.com> <434BD1AF.9030906@temis-group.com> <901E3994-41D7-4A79-98D0-6153EF2B6AAF@rectangular.com>
In-Reply-To: <901E3994-41D7-4A79-98D0-6153EF2B6AAF@rectangular.com>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Marvin Humphrey wrote:

> I'm curious: are there any cases in French where a string with an  
> apostrophe in it ought to be split into two searchable tokens?  I  
> know of no such cases in English: you never want to search for the ll  
> in you'll, or the O in O'Reilly, etc.

First of all, add maybe I make a false assumption here, but if you strip
leading "j'", "t'" and so on, that means that if you make a search like:

 +text:"il m'aime"

you will get documents with the sentence "il m'aime" (french for "he
loves me") and document with the sentence "il t'aime" (french for "he
loves you"), which is wrong, right ?

So if this is correct, this is why I need to index both "m" and "aime"
as distinct tokens.

And I guess this is why "O'Reilly" is not splitted by the
StandardAnalyzer, since you don't want to find the documents containing
"N'Reilly".

For a more general purpose, I am a native french speaker, but I'm not
sure there are some cases where a string with an apostrophe has to be
split into two (real) searchable tokens. I know the word "aujourd'hui"
(french for "today"), but it's  likely a complete word by itself which
does not need to be splitted again.

If this is important to you, I could look further, and ask some french
linguists help.

-- 
Hugo

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16854-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 11 18:01:02 2005
Return-Path: <java-user-return-16854-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47234 invoked from network); 11 Oct 2005 18:01:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Oct 2005 18:01:02 -0000
Received: (qmail 31608 invoked by uid 500); 11 Oct 2005 18:00:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31431 invoked by uid 500); 11 Oct 2005 18:00:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31420 invoked by uid 99); 11 Oct 2005 18:00:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 11:00:56 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [12.154.210.214] (HELO rectangular.com) (12.154.210.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 11:00:57 -0700
Received: from [67.189.26.9] (helo=[10.0.1.2])
	by rectangular.com with esmtpa (Exim 4.44)
	id 1EPOXj-000PhZ-Pq
	for java-user@lucene.apache.org; Tue, 11 Oct 2005 11:08:03 -0700
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <434BF081.5060305@temis-group.com>
References: <434BBC9C.10703@temis-group.com> <BC3E0398-63EA-4988-981A-F4E2D4F3E9CF@ehatchersolutions.com> <434BD1AF.9030906@temis-group.com> <901E3994-41D7-4A79-98D0-6153EF2B6AAF@rectangular.com> <434BF081.5060305@temis-group.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <A7025013-1DF4-4460-B726-DC0FFEF5E119@rectangular.com>
Content-Transfer-Encoding: 7bit
From: Marvin Humphrey <marvin@rectangular.com>
Subject: Re: Bad behaviors of FrenchAnalyzer
Date: Tue, 11 Oct 2005 11:00:31 -0700
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Oct 11, 2005, at 10:04 AM, Hugo Lafayette wrote:

> First of all, add maybe I make a false assumption here, but if you  
> strip
> leading "j'", "t'" and so on, that means that if you make a search  
> like:
>
>  +text:"il m'aime"
>
> you will get documents with the sentence "il m'aime" (french for "he
> loves me") and document with the sentence "il t'aime" (french for "he
> loves you"), which is wrong, right ?

I don't speak French, and I can't tell you whether  
Lingua::Stem::Snowball strips m' and t' -- the docs say "This method  
strips 's (english) and l', d', ... (french)."

That's a compelling example you have there, though, so I would hope  
not.  Conceptually, I would want the search to focus on the  
relatively rare word for "love" rather than on the pronouns.   
However, if the stemmer strips the pronouns, "m'aime" and "t'aime"  
would be conflated, which is as you say, "wrong". :)  Is "aime" ever  
used in isolation, or is it always hitched to a pronoun?

> So if this is correct, this is why I need to index both "m" and "aime"
> as distinct tokens.
>
> And I guess this is why "O'Reilly" is not splitted by the
> StandardAnalyzer, since you don't want to find the documents  
> containing
> "N'Reilly".

Actually, the reason is that you wouldn't want to conflate searches  
for "Reilly" and "O'Reilly".  Further processing of a token falls  
under the rubric of stemming.

> For a more general purpose, I am a native french speaker, but I'm not
> sure there are some cases where a string with an apostrophe has to be
> split into two (real) searchable tokens. I know the word "aujourd'hui"
> (french for "today"), but it's  likely a complete word by itself which
> does not need to be splitted again.

So you wouldn't need a search for "aujourd" or "hui" to turn up  
documents which contain "aujourd'hui"?  Very good.

But then, what about "t'aime"?  If a search for "aime" should match  
documents which contain "t'aime", then that's our problematic  
example.  You wouldn't care about searching for a pronoun -- EXCEPT  
when trying to match a phrase. If that's the case, then the  
StandardTokenizer may in fact be inadequate for French -- "t'aime"  
should be broken up into two tokens: "t" and "aime".

> If this is important to you, I could look further, and ask some french
> linguists help.

I'm asking because a new version of my own search engine library has  
a default tokenizer which keeps apostrophic strings together (like  
StandardTokenizer), and I want to be aware of cases where this choice  
causes problems.  However, it's unlikely I'll change that behavior,  
as the problem is addressed by making it trivially easy to customize  
the tokenizer.  So I would say that for my own purposes, consulting a  
linguist is probably overkill.

Cheers,

Marvin Humphrey
Rectangular Research
http://www.rectangular.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16855-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 11 18:22:27 2005
Return-Path: <java-user-return-16855-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55336 invoked from network); 11 Oct 2005 18:22:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Oct 2005 18:22:27 -0000
Received: (qmail 67600 invoked by uid 500); 11 Oct 2005 18:22:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66714 invoked by uid 500); 11 Oct 2005 18:22:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66703 invoked by uid 99); 11 Oct 2005 18:22:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 11:22:21 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [141.149.165.226] (HELO ponyexpress2.ad.openratings.com) (141.149.165.226)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 11:22:23 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: Can't find record when I'm sure I should
Date: Tue, 11 Oct 2005 14:21:54 -0400
Message-ID: <9951857AC27D97449C62F7DD6C6122481D9ABF@ponyexpress2.ad.openratings.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Bad behaviors of FrenchAnalyzer
Thread-Index: AcXOhpiQ4hN5Dk43T0yn3P52DQmmdAABr42A
From: "Dan Quaroni" <dquaroni@OPENRATINGS.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I have a set of indexes containing business information (name, address, =
phone, etc).  There are a couple particular companies that don't come up =
when people search for them.  I've used our debugging app that allows =
lucene queries to be executed directly, and I have confirmed this.=20

I can find the company if I search for it in the debugging app either by =
its unique ID or address, but when I search for it using query only on =
its exact name, it doesn't show up. =20

Any advice for how to debug this?

Thanks!

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16856-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 11 18:24:07 2005
Return-Path: <java-user-return-16856-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55767 invoked from network); 11 Oct 2005 18:24:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Oct 2005 18:24:07 -0000
Received: (qmail 68816 invoked by uid 500); 11 Oct 2005 18:24:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68796 invoked by uid 500); 11 Oct 2005 18:24:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68785 invoked by uid 99); 11 Oct 2005 18:24:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 11:24:02 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 11:24:05 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 42A4A5B78B; Tue, 11 Oct 2005 11:23:40 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 398E47F466
	for <java-user@lucene.apache.org>; Tue, 11 Oct 2005 11:23:40 -0700 (PDT)
Date: Tue, 11 Oct 2005 11:23:40 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Can't find record when I'm sure I should
In-Reply-To: <9951857AC27D97449C62F7DD6C6122481D9ABF@ponyexpress2.ad.openratings.com>
Message-ID: <Pine.LNX.4.58.0510111123210.9036@hal.rescomp.berkeley.edu>
References: <9951857AC27D97449C62F7DD6C6122481D9ABF@ponyexpress2.ad.openratings.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Try Luke, see exactly what is indexed for these companies.



: Date: Tue, 11 Oct 2005 14:21:54 -0400
: From: Dan Quaroni <dquaroni@OPENRATINGS.com>
: Reply-To: java-user@lucene.apache.org
: To: java-user@lucene.apache.org
: Subject: Can't find record when I'm sure I should
:
: I have a set of indexes containing business information (name, address, phone, etc).  There are a couple particular companies that don't come up when people search for them.  I've used our debugging app that allows lucene queries to be executed directly, and I have confirmed this.
:
: I can find the company if I search for it in the debugging app either by its unique ID or address, but when I search for it using query only on its exact name, it doesn't show up.
:
: Any advice for how to debug this?
:
: Thanks!
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16857-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 11 18:25:02 2005
Return-Path: <java-user-return-16857-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56019 invoked from network); 11 Oct 2005 18:25:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Oct 2005 18:25:01 -0000
Received: (qmail 70044 invoked by uid 500); 11 Oct 2005 18:24:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70019 invoked by uid 500); 11 Oct 2005 18:24:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70008 invoked by uid 99); 11 Oct 2005 18:24:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 11:24:56 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.35.35.7] (HELO mailgw3a.lmco.com) (192.35.35.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 11:24:59 -0700
Received: from emss04g01.ems.lmco.com (relay4.ems.lmco.com [166.17.13.122])
	by mailgw3a.lmco.com (8.12.10/8.12.10) with ESMTP id j9BIOYbW023543
	for <java-user@lucene.apache.org>; Tue, 11 Oct 2005 14:24:35 -0400 (EDT)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30884)
 id <0IO700G01KGUFR@lmco.com> for java-user@lucene.apache.org; Tue, 11 Oct 2005 14:24:33 -0400 (EDT)
Received: from EMSS10M01.us.lmco.com ([158.187.0.150]) by lmco.com (PMDF V6.1-1X6 #30884)
 with ESMTP id <0IO7009UAKGUAQ@lmco.com> for java-user@lucene.apache.org; Tue, 11 Oct 2005 14:24:30 -0400 (EDT)
Received: from EMSS10M03.us.lmco.com ([158.187.0.148]) by EMSS10M01.us.lmco.com with Microsoft SMTPSVC(5.0.2195.6713); Tue,
 11 Oct 2005 14:24:30 -0400
Date: Tue, 11 Oct 2005 14:24:30 -0400
From: "Mordo, Aviran (EXP N-NANNATEK)" <aviran.mordo@lmco.com>
Subject: RE: Can't find record when I'm sure I should
To: java-user@lucene.apache.org
Message-id: <92A278501EF50444AD3EE1FFB51219550BCE399B@emss10m03.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: Can't find record when I'm sure I should
Thread-Index: AcXOhpiQ4hN5Dk43T0yn3P52DQmmdAABr42AAADkg+A=
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 11 Oct 2005 18:24:30.0243 (UTC) FILETIME=[052E5730:01C5CE91]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You might want to check your analyzer, it might trims or ignore these
names.

Aviran
http://www.aviransplace.com

-----Original Message-----
From: Dan Quaroni [mailto:dquaroni@OPENRATINGS.com] 
Sent: Tuesday, October 11, 2005 2:22 PM
To: java-user@lucene.apache.org
Subject: Can't find record when I'm sure I should

I have a set of indexes containing business information (name, address,
phone, etc).  There are a couple particular companies that don't come up
when people search for them.  I've used our debugging app that allows
lucene queries to be executed directly, and I have confirmed this. 

I can find the company if I search for it in the debugging app either by
its unique ID or address, but when I search for it using query only on
its exact name, it doesn't show up.  

Any advice for how to debug this?

Thanks!

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16858-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 11 18:30:02 2005
Return-Path: <java-user-return-16858-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58300 invoked from network); 11 Oct 2005 18:30:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Oct 2005 18:30:02 -0000
Received: (qmail 77436 invoked by uid 500); 11 Oct 2005 18:29:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77411 invoked by uid 500); 11 Oct 2005 18:29:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77398 invoked by uid 99); 11 Oct 2005 18:29:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 11:29:57 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [128.59.29.6] (HELO serrano.cc.columbia.edu) (128.59.29.6)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 11:29:59 -0700
Received: from [156.145.29.81] ([156.145.29.81])
	(user=mh2371 mech=PLAIN bits=0)
	by serrano.cc.columbia.edu (8.13.0/8.13.0) with ESMTP id j9BITS6x023331
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NOT);
	Tue, 11 Oct 2005 14:29:33 -0400 (EDT)
Message-ID: <434C0488.1000802@animarc.com>
Date: Tue, 11 Oct 2005 14:29:28 -0400
From: Marc Hadfield <marc@animarc.com>
User-Agent: Mozilla Thunderbird 0.8 (Windows/20040913)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: query across fields?
References: <434AD09E.6050307@animarc.com> <434AD294.3010306@apache.org> <434AD82C.8000106@animarc.com> <434AE852.2010807@apache.org>
In-Reply-To: <434AE852.2010807@apache.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-No-Spam-Score: Local
X-Scanned-By: MIMEDefang 2.48 on 128.59.29.6
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Hello -

a quick follow-up to my previous post.

In the SpanNear (or for that matter PhraseQuery), one can set a slop 
value where 0 (zero) means one following after the other.

How can one differentiate between Terms at the **same** position vs. one 
after the other?

ie:
(Token)/Position

(A)/0 (B)/1 (C)/2 ....
vs
( A B )/0 (C)/1 (D)/2 ...

How can a SpanNear (or anything) query for A,B tell these two cases apart?

---Marc



Doug Cutting wrote:

> Marc Hadfield wrote:
>
>> I actually mention your option in my email:
>>
>>> In principle I could store the full text in two fields with the 
>>> second field containing the types without incrementing the token 
>>> index.   Then, do a SpanQuery for "Johnson" and "name" with a 
>>> distance of 0.  The resulting match would have a token position 
>>> which would refer back to the matching position in the first field.  
>>> I don't know if this is a really good idea.
>>
>>
>> ie Field_B = full text interlaced with "types" following each full 
>> text token with positionIncrement=0
>
>
> Sorry, you confused me when you spoke of this as "two fields" when 
> only one field is required.
>
>> However, as far as I understand, the standard TermQuery won't let me 
>> check if "Johnson" and "__name__" occur at the **same** position.  
>> Perhaps, as I ask above, a SpanQuery will allow multiple terms with a 
>> distance of zero (0) , that is they were indexed with 
>> positionIncrement=0 and SpanQuery can handle 0 distance terms?
>
>
> TermQuery certainly won't, since it only concerns a single term.  But 
> PhraseQuery now has an add(Term, position) method that should do the 
> trick.  And SpanNearQuery should work.
>
> Doug
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16859-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 11 18:32:37 2005
Return-Path: <java-user-return-16859-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59224 invoked from network); 11 Oct 2005 18:32:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Oct 2005 18:32:37 -0000
Received: (qmail 85068 invoked by uid 500); 11 Oct 2005 18:32:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84961 invoked by uid 500); 11 Oct 2005 18:32:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84938 invoked by uid 99); 11 Oct 2005 18:32:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 11:32:28 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist@danielnaber.de designates 80.67.18.16 as permitted sender)
Received: from [80.67.18.16] (HELO smtprelay04.ispgateway.de) (80.67.18.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 11:32:30 -0700
Received: (qmail 3031 invoked from network); 11 Oct 2005 18:32:04 -0000
Received: from unknown (HELO p5496c97a.dip.t-dialin.net) ([pbs]695637@[84.150.201.122])
          (envelope-sender <lucenelist@danielnaber.de>)
          by smtprelay04.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 11 Oct 2005 18:32:04 -0000
From: Daniel Naber <lucenelist@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: wildcards within a phrase query
Date: Tue, 11 Oct 2005 20:31:42 +0200
User-Agent: KMail/1.8.2
References: <Pine.LNX.4.63.0510110916360.19848@jimwormold>
In-Reply-To: <Pine.LNX.4.63.0510110916360.19848@jimwormold>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200510112031.42332@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Dienstag 11 Oktober 2005 15:32, Robert Watkins wrote:

> The only idea that comes to mind is to try to combine a PhraseQuery and
> a PrefixQuery

Yes, PhrasePrefixQuery already supports that.

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16860-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 11 18:42:25 2005
Return-Path: <java-user-return-16860-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66894 invoked from network); 11 Oct 2005 18:42:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Oct 2005 18:42:25 -0000
Received: (qmail 5309 invoked by uid 500); 11 Oct 2005 18:42:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5287 invoked by uid 500); 11 Oct 2005 18:42:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5274 invoked by uid 99); 11 Oct 2005 18:42:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 11:42:20 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [12.40.61.38] (HELO fracf1.staples.com) (12.40.61.38)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 11:42:22 -0700
Received: from fraexims1.staples.com (Not Verified[10.3.32.111]) by fracf1.staples.com with NetIQ MailMarshal (v5.5.4.17)
	id <BA04dfb4e4>; Tue, 11 Oct 2005 14:41:58 -0400
Received: by fraexims1.staples.com with Internet Mail Service (5.5.2650.21)
	id <TVQVVYSM>; Tue, 11 Oct 2005 14:41:57 -0400
Message-ID: <A9D9F16EC5955244A7B760CB3B8258480B4DDFF2@fraexmb2.staples.com>
From: "Sharma, Siddharth" <Siddharth.Sharma@Staples.com>
To: java-user@lucene.apache.org
Subject: One index or 2 indices
Date: Tue, 11 Oct 2005 14:41:54 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hiya

Given that I have two high level business entities, catalog (containing
product information) and contract (containing filter criteria about which
products are available for sale and which are not), what is a better
approach?

1. To have two different indices and query them separately.
OR
2. Have only one physical index with two different types of document, one
for catalog and the other contract?

Thanks
Sid


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16861-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 11 18:48:58 2005
Return-Path: <java-user-return-16861-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69637 invoked from network); 11 Oct 2005 18:48:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Oct 2005 18:48:58 -0000
Received: (qmail 18405 invoked by uid 500); 11 Oct 2005 18:48:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18381 invoked by uid 500); 11 Oct 2005 18:48:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18370 invoked by uid 99); 11 Oct 2005 18:48:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 11:48:52 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.35.35.7] (HELO mailgw3a.lmco.com) (192.35.35.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 11:48:55 -0700
Received: from emss04g01.ems.lmco.com (relay4.ems.lmco.com [166.17.13.122])
	by mailgw3a.lmco.com (8.12.10/8.12.10) with ESMTP id j9BImVbW007188
	for <java-user@lucene.apache.org>; Tue, 11 Oct 2005 14:48:31 -0400 (EDT)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30884)
 id <0IO700701LKUD1@lmco.com> for java-user@lucene.apache.org; Tue, 11 Oct 2005 14:48:30 -0400 (EDT)
Received: from EMSS10M01.us.lmco.com ([158.187.0.150]) by lmco.com (PMDF V6.1-1X6 #30884)
 with ESMTP id <0IO700L90LKTC7@lmco.com> for java-user@lucene.apache.org; Tue, 11 Oct 2005 14:48:29 -0400 (EDT)
Received: from EMSS10M03.us.lmco.com ([158.187.0.148]) by EMSS10M01.us.lmco.com with Microsoft SMTPSVC(5.0.2195.6713); Tue,
 11 Oct 2005 14:48:29 -0400
Date: Tue, 11 Oct 2005 14:48:29 -0400
From: "Mordo, Aviran (EXP N-NANNATEK)" <aviran.mordo@lmco.com>
Subject: RE: One index or 2 indices
To: java-user@lucene.apache.org
Message-id: <92A278501EF50444AD3EE1FFB51219550BCE399C@emss10m03.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: One index or 2 indices
Thread-Index: AcXOk4dcUpml1mmiSwihKLuFMASURQAAJcmQ
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 11 Oct 2005 18:48:29.0753 (UTC) FILETIME=[5F322290:01C5CE94]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Well there isn't really much difference. If you have large amount of
data then I would suggest 2 indexes, but not then one index will work
too.

HTH

Aviran
http://www.aviransplace.com 

-----Original Message-----
From: Sharma, Siddharth [mailto:Siddharth.Sharma@Staples.com] 
Sent: Tuesday, October 11, 2005 2:42 PM
To: java-user@lucene.apache.org
Subject: One index or 2 indices

Hiya

Given that I have two high level business entities, catalog (containing
product information) and contract (containing filter criteria about
which products are available for sale and which are not), what is a
better approach?

1. To have two different indices and query them separately.
OR
2. Have only one physical index with two different types of document,
one for catalog and the other contract?

Thanks
Sid


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16862-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 11 18:59:08 2005
Return-Path: <java-user-return-16862-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72996 invoked from network); 11 Oct 2005 18:59:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Oct 2005 18:59:08 -0000
Received: (qmail 31241 invoked by uid 500); 11 Oct 2005 18:58:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31206 invoked by uid 500); 11 Oct 2005 18:58:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31184 invoked by uid 99); 11 Oct 2005 18:58:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 11:58:58 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [147.83.41.105] (HELO mail.fib.upc.es) (147.83.41.105)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 11:59:00 -0700
Received: from [147.83.58.160] (tarragona.fib.upc.es [147.83.58.160])
	by mail.fib.upc.es (Postfix) with ESMTP id 8EEE61BB50
	for <java-user@lucene.apache.org>; Tue, 11 Oct 2005 20:58:29 +0200 (CEST)
Message-ID: <434C0B55.1080501@fib.upc.edu>
Date: Tue, 11 Oct 2005 20:58:29 +0200
From: Daniel Cortes <dcortes@fib.upc.edu>
Organization: FIB
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Hits sorted
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Scaned-FIB: AntiVirus/AntiSpam en fib.upc.es
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi everybody, I have a problem when I find all the documents added in 
the last days in my index. It works good but I want show this results 
sorted. What I have to do?

My code is this:

    private RangeQuery findINTODates(int days) {
        Term from;
        Term to;

        Calendar calendar = new GregorianCalendar();
        calendar.add(Calendar.DATE,-(days));
       
        SimpleDateFormat originalFormatter = new SimpleDateFormat 
("yyyyMMdd");
        from = new 
Term("DATE",originalFormatter.format(calendar.getTime()));
        to = new Term("DATE",originalFormatter.format(new Date()));

        RangeQuery lastdays= new RangeQuery(from,to,true);

        return lasdays;
    }

and I call this

    Hits returned=searcher.search(findINTODates(num_days));

What I have to do? I have to use DateFilter or Sort elements ?  I don't 
know how to work with these classes.
In mMy documents of lucene I added the field Date how a string and not 
how a date because it's more easy for add documents to index in my case.

thks for all.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16863-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 11 19:06:09 2005
Return-Path: <java-user-return-16863-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75465 invoked from network); 11 Oct 2005 19:06:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Oct 2005 19:06:09 -0000
Received: (qmail 49128 invoked by uid 500); 11 Oct 2005 19:06:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49109 invoked by uid 500); 11 Oct 2005 19:06:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49092 invoked by uid 99); 11 Oct 2005 19:06:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 12:06:03 -0700
X-ASF-Spam-Status: No, hits=1.7 required=10.0
	tests=RCVD_IN_NJABL_DUL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.60] (HELO ylpvm29.prodigy.net) (207.115.57.60)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 12:06:05 -0700
Received: from pimout3-ext.prodigy.net (pimout3-int.prodigy.net [207.115.4.218])
	by ylpvm29.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id j9BJ5sQT003443
	for <java-user@lucene.apache.org>; Tue, 11 Oct 2005 15:05:55 -0400
X-ORBL: [69.228.220.53]
Received: from [192.168.168.81] (adsl-69-228-220-53.dsl.pltn13.pacbell.net [69.228.220.53])
	by pimout3-ext.prodigy.net (8.13.4 outbound domainkey aix/8.13.4) with ESMTP id j9BJ5QnM427372;
	Tue, 11 Oct 2005 15:05:31 -0400
Message-ID: <434C0CF5.2070404@apache.org>
Date: Tue, 11 Oct 2005 12:05:25 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7-1.1.fc3 (X11/20050929)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: query across fields?
References: <434AD09E.6050307@animarc.com> <434AD294.3010306@apache.org> <434AD82C.8000106@animarc.com> <434AE852.2010807@apache.org> <434C0488.1000802@animarc.com>
In-Reply-To: <434C0488.1000802@animarc.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Marc Hadfield wrote:
> In the SpanNear (or for that matter PhraseQuery), one can set a slop 
> value where 0 (zero) means one following after the other.
> 
> How can one differentiate between Terms at the **same** position vs. one 
> after the other?

The following queries only match "x" and "y" at the same position:

Query pq = new PhraseQuery();
pq.add(new Term("f", "x"), 0);
pq.add(new Term("f", "y"), 0);

Query sq =
   new SpanNearQuery(new SpanQuery[]
                       { new SpanTermQuery(new Term("f", "x")),
                         new SpanTermQuery(new Term("f", "y")) },
                     0, false);

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16864-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 11 19:18:40 2005
Return-Path: <java-user-return-16864-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82284 invoked from network); 11 Oct 2005 19:18:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Oct 2005 19:18:38 -0000
Received: (qmail 72189 invoked by uid 500); 11 Oct 2005 19:18:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72154 invoked by uid 500); 11 Oct 2005 19:18:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72142 invoked by uid 99); 11 Oct 2005 19:18:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 12:18:33 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.35.35.7] (HELO mailgw3a.lmco.com) (192.35.35.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 12:18:36 -0700
Received: from emss04g01.ems.lmco.com (relay4.ems.lmco.com [166.17.13.122])
	by mailgw3a.lmco.com (8.12.10/8.12.10) with ESMTP id j9BJICbW021975
	for <java-user@lucene.apache.org>; Tue, 11 Oct 2005 15:18:12 -0400 (EDT)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30884)
 id <0IO700101MYCCY@lmco.com> for java-user@lucene.apache.org; Tue, 11 Oct 2005 15:18:12 -0400 (EDT)
Received: from EMSS10M01.us.lmco.com ([158.187.0.150]) by lmco.com (PMDF V6.1-1X6 #30884)
 with ESMTP id <0IO700EEFMYBON@lmco.com> for java-user@lucene.apache.org; Tue, 11 Oct 2005 15:18:12 -0400 (EDT)
Received: from EMSS10M03.us.lmco.com ([158.187.0.148]) by EMSS10M01.us.lmco.com with Microsoft SMTPSVC(5.0.2195.6713); Tue,
 11 Oct 2005 15:18:11 -0400
Date: Tue, 11 Oct 2005 15:18:11 -0400
From: "Mordo, Aviran (EXP N-NANNATEK)" <aviran.mordo@lmco.com>
Subject: RE: Hits sorted
To: java-user@lucene.apache.org
Message-id: <92A278501EF50444AD3EE1FFB51219550BCE399D@emss10m03.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: Hits sorted
Thread-Index: AcXOleERZxjfYXfGQcCwKYm3kMhj+gAAoaqQ
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 11 Oct 2005 19:18:11.0958 (UTC) FILETIME=[85790960:01C5CE98]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Just use the Sort option in the searcher
http://lucene.apache.org/java/docs/api/org/apache/lucene/search/Searcher
.html#search(org.apache.lucene.search.Query,%20org.apache.lucene.search.
Sort)

Aviran
http://www.aviransplace.com

-----Original Message-----
From: Daniel Cortes [mailto:dcortes@fib.upc.edu] 
Sent: Tuesday, October 11, 2005 2:58 PM
To: java-user@lucene.apache.org
Subject: Hits sorted

Hi everybody, I have a problem when I find all the documents added in
the last days in my index. It works good but I want show this results
sorted. What I have to do?

My code is this:

    private RangeQuery findINTODates(int days) {
        Term from;
        Term to;

        Calendar calendar = new GregorianCalendar();
        calendar.add(Calendar.DATE,-(days));
       
        SimpleDateFormat originalFormatter = new SimpleDateFormat
("yyyyMMdd");
        from = new
Term("DATE",originalFormatter.format(calendar.getTime()));
        to = new Term("DATE",originalFormatter.format(new Date()));

        RangeQuery lastdays= new RangeQuery(from,to,true);

        return lasdays;
    }

and I call this

    Hits returned=searcher.search(findINTODates(num_days));

What I have to do? I have to use DateFilter or Sort elements ?  I don't
know how to work with these classes.
In mMy documents of lucene I added the field Date how a string and not
how a date because it's more easy for add documents to index in my case.

thks for all.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16865-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 11 20:12:51 2005
Return-Path: <java-user-return-16865-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10112 invoked from network); 11 Oct 2005 20:12:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Oct 2005 20:12:51 -0000
Received: (qmail 57108 invoked by uid 500); 11 Oct 2005 20:12:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56917 invoked by uid 500); 11 Oct 2005 20:12:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56819 invoked by uid 99); 11 Oct 2005 20:12:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 13:12:36 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [128.59.29.6] (HELO serrano.cc.columbia.edu) (128.59.29.6)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 13:12:38 -0700
Received: from [156.145.29.81] ([156.145.29.81])
	(user=mh2371 mech=PLAIN bits=0)
	by serrano.cc.columbia.edu (8.13.0/8.13.0) with ESMTP id j9BKCBb8026447
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NOT);
	Tue, 11 Oct 2005 16:12:12 -0400 (EDT)
Message-ID: <434C1C9B.4090801@animarc.com>
Date: Tue, 11 Oct 2005 16:12:11 -0400
From: Marc Hadfield <marc@animarc.com>
User-Agent: Mozilla Thunderbird 0.8 (Windows/20040913)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: query across fields?
References: <434AD09E.6050307@animarc.com> <434AD294.3010306@apache.org> <434AD82C.8000106@animarc.com> <434AE852.2010807@apache.org> <434C0488.1000802@animarc.com> <434C0CF5.2070404@apache.org>
In-Reply-To: <434C0CF5.2070404@apache.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-No-Spam-Score: Local
X-Scanned-By: MIMEDefang 2.48 on 128.59.29.6
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


thanks again!




Doug Cutting wrote:

> Marc Hadfield wrote:
>
>> In the SpanNear (or for that matter PhraseQuery), one can set a slop 
>> value where 0 (zero) means one following after the other.
>>
>> How can one differentiate between Terms at the **same** position vs. 
>> one after the other?
>
>
> The following queries only match "x" and "y" at the same position:
>
> Query pq = new PhraseQuery();
> pq.add(new Term("f", "x"), 0);
> pq.add(new Term("f", "y"), 0);
>
> Query sq =
>   new SpanNearQuery(new SpanQuery[]
>                       { new SpanTermQuery(new Term("f", "x")),
>                         new SpanTermQuery(new Term("f", "y")) },
>                     0, false);
>
> Doug
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16866-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 11 20:21:15 2005
Return-Path: <java-user-return-16866-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13540 invoked from network); 11 Oct 2005 20:21:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Oct 2005 20:21:15 -0000
Received: (qmail 77087 invoked by uid 500); 11 Oct 2005 20:21:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76210 invoked by uid 500); 11 Oct 2005 20:21:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 39286 invoked by uid 99); 11 Oct 2005 20:00:47 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Date: Tue, 11 Oct 2005 16:13:27 -0400
Message-Id: <200510111613.AA338428214@mail.bayt.net>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
From: "Nader Henein" <nader.henein@bayt.net>
Reply-To: <nader.henein@bayt.net>
X-Sender: <nader.henein@bayt.net>
To: <java-user@lucene.apache.org>
Subject: Re: Lucene and Quartz
X-Mailer: <IMail v8.15>
X-Declude-Sender: nader.henein@bayt.net [127.0.0.1]
X-Declude-Spoolname: D1ce7000008345980.GSC
X-Declude-Note: Scanned by Declude 1.82 (http://www.declude.com/x-note.htm) for spam.
X-Declude-Scan: Score [0] at 16:13:27 on 11 Oct 2005
X-Declude-Tests: Whitelisted
X-Country-Chain: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


1) A FileNotFound Exception isn't a Lucene issue as much as it's a file system issue, which file is "not found"? What's in the logs

2) As for simultaneous indexing on two seperates indecies, there should be absolutly no problem, we simultaneously index 10 parallel indecies using quartz and it's seamless.

More details and we can help, I'm guessing your indexing code has a leak somehwere that just needs a little TLC.

Nader Henein

---------- Original Message ----------------------------------
From: javabuddy <maillist@roomity.com>
Reply-To: java-user@lucene.apache.org
Date:  Tue, 11 Oct 2005 09:44:34 -0700 (PDT)

>Hi,
>
>I have the indexing process running in an quartz environment. (on a clustered two boxes)
>
>I made sure that the Indexing doesnt runs simultaneously on both the boxes.
>
>But suddenly I am start getting "FileNotFoundException" on the indexing process. From that pont on the indexes are of no use. I need to start the indexing from scratch.
>
>I need to know a couple of things....
>
>1. Is there a way to regain the indexes after getting "FileNotFoundException" .
>
>2. What is wrong in having the indexing process run across two machines..
>
>Will the IndexWriter.optimize() method refresh the indexes, on top of optimizing it????
>
>- Gana.
>
>
>------------------------------------------------------------------
><a href="http://Lucene_Java_User_List.roomity.com">roomity.com</a>
>Your Roomity Broadband Webapp ~~1129049073830~~
>------------------------------------------------------------------
>
>
 




________________________________________________________________
Sent via the WebMail system at mail.bayt.net


 
                   

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16867-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 11 20:54:03 2005
Return-Path: <java-user-return-16867-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25415 invoked from network); 11 Oct 2005 20:54:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Oct 2005 20:54:02 -0000
Received: (qmail 21789 invoked by uid 500); 11 Oct 2005 20:53:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21566 invoked by uid 500); 11 Oct 2005 20:53:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21547 invoked by uid 99); 11 Oct 2005 20:53:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 13:53:55 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 205.152.59.71 is neither permitted nor denied by domain of rwatkins@foo-bar.org)
Received: from [205.152.59.71] (HELO imf23aec.mail.bellsouth.net) (205.152.59.71)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 13:53:57 -0700
Received: from ibm66aec.bellsouth.net ([68.209.119.157])
          by imf23aec.mail.bellsouth.net with ESMTP
          id <20051011205329.WESA3193.imf23aec.mail.bellsouth.net@ibm66aec.bellsouth.net>
          for <java-user@lucene.apache.org>;
          Tue, 11 Oct 2005 16:53:29 -0400
Received: from jimwormold ([68.209.119.157]) by ibm66aec.bellsouth.net
          with ESMTP
          id <20051011205329.RGMM22881.ibm66aec.bellsouth.net@jimwormold>
          for <java-user@lucene.apache.org>;
          Tue, 11 Oct 2005 16:53:29 -0400
Date: Tue, 11 Oct 2005 16:53:43 -0400 (EDT)
From: Robert Watkins <rwatkins@foo-bar.org>
To: java-user@lucene.apache.org
Subject: Re: wildcards within a phrase query
In-Reply-To: <200510112031.42332@danielnaber.de>
Message-ID: <Pine.LNX.4.63.0510111644570.12253@jimwormold>
References: <Pine.LNX.4.63.0510110916360.19848@jimwormold>
 <200510112031.42332@danielnaber.de>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I was under the impression that PhrasePrefixQuery only worked in the
special case of the term that would otherwise be used in a PrefixQuery
coming at the end of the sequence of terms, as in:

   ( term )+ ( term as prefix )

but not where either a WildcardQuery or a PrefixQuery occurs anywhere
in the sequence of terms, such as:

   ( term | term as prefix )+

Am I missing something?

-- Robert

On Tue, 11 Oct 2005, Daniel Naber wrote:

> On Dienstag 11 Oktober 2005 15:32, Robert Watkins wrote:
>
>> The only idea that comes to mind is to try to combine a PhraseQuery and
>> a PrefixQuery
>
> Yes, PhrasePrefixQuery already supports that.
>
> Regards
> Daniel
>
> -- 
> http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16868-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 11 21:42:22 2005
Return-Path: <java-user-return-16868-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40357 invoked from network); 11 Oct 2005 21:42:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Oct 2005 21:42:22 -0000
Received: (qmail 99933 invoked by uid 500); 11 Oct 2005 21:42:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99901 invoked by uid 500); 11 Oct 2005 21:42:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99890 invoked by uid 99); 11 Oct 2005 21:42:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 14:42:16 -0700
Received-SPF: pass (asf.osuosl.org: domain of lucenelist@danielnaber.de designates 80.67.18.13 as permitted sender)
Received: from [80.67.18.13] (HELO smtprelay01.ispgateway.de) (80.67.18.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 14:42:18 -0700
Received: (qmail 15884 invoked from network); 11 Oct 2005 21:41:52 -0000
Received: from unknown (HELO p5496cbd5.dip.t-dialin.net) ([pbs]695637@[84.150.203.213])
          (envelope-sender <lucenelist@danielnaber.de>)
          by smtprelay01.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 11 Oct 2005 21:41:52 -0000
From: Daniel Naber <lucenelist@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: wildcards within a phrase query
Date: Tue, 11 Oct 2005 23:41:35 +0200
User-Agent: KMail/1.8.2
References: <Pine.LNX.4.63.0510110916360.19848@jimwormold> <200510112031.42332@danielnaber.de> <Pine.LNX.4.63.0510111644570.12253@jimwormold>
In-Reply-To: <Pine.LNX.4.63.0510111644570.12253@jimwormold>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200510112341.36661@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Dienstag 11 Oktober 2005 22:53, Robert Watkins wrote:

> I was under the impression that PhrasePrefixQuery only worked in the
> special case of the term that would otherwise be used in a PrefixQuery
> coming at the end of the sequence of terms, as in:

No, the test cases show that the prefix term can be anywhere (at least the 
test cases in SVN do, where the class has been renamed MultiPhraseQuery).

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16869-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 11 22:15:16 2005
Return-Path: <java-user-return-16869-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50322 invoked from network); 11 Oct 2005 22:15:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Oct 2005 22:15:15 -0000
Received: (qmail 43030 invoked by uid 500); 11 Oct 2005 22:15:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43003 invoked by uid 500); 11 Oct 2005 22:15:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42992 invoked by uid 99); 11 Oct 2005 22:15:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 15:15:11 -0700
Received-SPF: pass (asf.osuosl.org: domain of peterlkeegan@gmail.com designates 64.233.184.204 as permitted sender)
Received: from [64.233.184.204] (HELO wproxy.gmail.com) (64.233.184.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 15:15:13 -0700
Received: by wproxy.gmail.com with SMTP id i21so697170wra
        for <java-user@lucene.apache.org>; Tue, 11 Oct 2005 15:14:49 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Zs5/M7ZedzXNpCGj1mfwd0B2tLBG+wZNuRSADFRmsxcjQEFFBemSc66CEObsnFIhh4oQG9JpNZwCmdKJZpjZnmgw+McqTRlgKwZUIuU+4TV3n0w2knyrxYD3y0j/2FiO1tWTNftBRay0FBOIwZi9A0B9y8wmBQB+qD5jX7ESAxY=
Received: by 10.54.143.3 with SMTP id q3mr3773240wrd;
        Tue, 11 Oct 2005 15:14:49 -0700 (PDT)
Received: by 10.54.122.18 with HTTP; Tue, 11 Oct 2005 15:14:49 -0700 (PDT)
Message-ID: <e994873a0510111514s4051c52fp397cd5e42cedad22@mail.gmail.com>
Date: Tue, 11 Oct 2005 18:14:49 -0400
From: Peter Keegan <peterlkeegan@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: "docMap" array in SegmentMergeInfo
In-Reply-To: <42D5881C.6040304@apache.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_15909_10138921.1129068889534"
References: <20050713184257.55124.qmail@web41208.mail.yahoo.com>
	 <42D5881C.6040304@apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_15909_10138921.1129068889534
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

On a multi-cpu system, this loop to build the docMap array can cause severe
thread thrashing because of the synchronized method 'isDeleted'. I have
observed this on an index with over 1 million documents (which contains a
few thousand deleted docs) when multiple threads perform a search with
either a sort field or a range query. A stack dump shows all threads here:

waiting for monitor entry [0x6d2cf000..0x6d2cfd6c] at
org.apache.lucene.index.SegmentReader.isDeleted(SegmentReader.java:241) -
waiting to lock <0x04e40278>

The performances worsens as the number of threads increases. The searches
may take minutes to complete.
If only a single thread issues the search, it completes fairly quickly. I
also noticed from looking at the code that the docMap doesn't appear to be
used in these cases. It seems only to be used for merging segments. If the
index is in 'search/read-only' mode, is there a way around this bottleneck?

Thanks,
Peter




On 7/13/05, Doug Cutting <cutting@apache.org> wrote:
>
> Lokesh Bajaj wrote:
> > For a very large index where we might want to delete/replace some
> documents, this would require a lot of memory (for 100 million documents,
> this would need 381 MB of memory). Is there any reason why this was
> implemented this way?
>
> In practice this has not been an issue. A single index with 100M
> documents is usually quite slow to search. When collections get this
> big folks tend to instead search multiple indexes in parallel in order
> to keep response times acceptable. Also, 381Mb of RAM is often not a
> problem for folks with 100M documents. But this is not to say that it
> could never be a problem. For folks with limited RAM and/or lots of
> small documents it could indeed be an issue.
>
> > It seems like this could be implemented as a much smaller array that
> only keeps track of the deleted document numbers and it would still be ve=
ry
> efficient to calculate the new document number by using this much smaller
> array. Has this been done by anyone else or been considered for change in
> the Lucene code?
>
> Please submit a patch to the java-dev list.
>
> Doug
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_15909_10138921.1129068889534--

From java-user-return-16870-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 11 22:15:45 2005
Return-Path: <java-user-return-16870-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50673 invoked from network); 11 Oct 2005 22:15:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Oct 2005 22:15:45 -0000
Received: (qmail 45011 invoked by uid 500); 11 Oct 2005 22:15:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44723 invoked by uid 500); 11 Oct 2005 22:15:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44711 invoked by uid 99); 11 Oct 2005 22:15:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 15:15:40 -0700
Received-SPF: neutral (asf.osuosl.org: 205.152.59.72 is neither permitted nor denied by domain of rwatkins@foo-bar.org)
Received: from [205.152.59.72] (HELO imf24aec.mail.bellsouth.net) (205.152.59.72)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 15:15:42 -0700
Received: from ibm68aec.bellsouth.net ([68.209.119.157])
          by imf24aec.mail.bellsouth.net with ESMTP
          id <20051011221518.OWAD25370.imf24aec.mail.bellsouth.net@ibm68aec.bellsouth.net>
          for <java-user@lucene.apache.org>;
          Tue, 11 Oct 2005 18:15:18 -0400
Received: from jimwormold ([68.209.119.157]) by ibm68aec.bellsouth.net
          with ESMTP
          id <20051011221518.JGOP14361.ibm68aec.bellsouth.net@jimwormold>
          for <java-user@lucene.apache.org>;
          Tue, 11 Oct 2005 18:15:18 -0400
Date: Tue, 11 Oct 2005 18:15:32 -0400 (EDT)
From: Robert Watkins <rwatkins@foo-bar.org>
To: java-user@lucene.apache.org
Subject: Re: wildcards within a phrase query
In-Reply-To: <200510112341.36661@danielnaber.de>
Message-ID: <Pine.LNX.4.63.0510111805470.15689@jimwormold>
References: <Pine.LNX.4.63.0510110916360.19848@jimwormold>
 <200510112031.42332@danielnaber.de> <Pine.LNX.4.63.0510111644570.12253@jimwormold>
 <200510112341.36661@danielnaber.de>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Wonderful! But what about wildcards? I realised after I had sent the
last message that my pattern should have been written:

   ( term | term as prefix | wildcard term )+

-- Robert

On Tue, 11 Oct 2005, Daniel Naber wrote:

> On Dienstag 11 Oktober 2005 22:53, Robert Watkins wrote:
>
>> I was under the impression that PhrasePrefixQuery only worked in the
>> special case of the term that would otherwise be used in a PrefixQuery
>> coming at the end of the sequence of terms, as in:
>
> No, the test cases show that the prefix term can be anywhere (at least the
> test cases in SVN do, where the class has been renamed MultiPhraseQuery).
>
> Regards
> Daniel
>
> -- 
> http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16871-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 11 22:25:36 2005
Return-Path: <java-user-return-16871-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52562 invoked from network); 11 Oct 2005 22:25:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Oct 2005 22:25:36 -0000
Received: (qmail 53257 invoked by uid 500); 11 Oct 2005 22:25:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53232 invoked by uid 500); 11 Oct 2005 22:25:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53218 invoked by uid 99); 11 Oct 2005 22:25:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 15:25:31 -0700
Received-SPF: pass (asf.osuosl.org: domain of peterlkeegan@gmail.com designates 64.233.184.194 as permitted sender)
Received: from [64.233.184.194] (HELO wproxy.gmail.com) (64.233.184.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 15:25:33 -0700
Received: by wproxy.gmail.com with SMTP id i21so698053wra
        for <java-user@lucene.apache.org>; Tue, 11 Oct 2005 15:25:10 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=DrHZY0fMwOYRUx5bJHuVfEXt/hb5uUFbEyVec4o0LB7ExEx1UEEWyY+SSmiF7VUPrttiLAmZbSAIPgK8Y9WIZ6KE7OrWU3K3N/Ugyhz/1dzwBgpqkumwfiMMCOvYEl/bF9ZrmJSc32tBJCeHx4NtQhfHeE5gH1UjEQLjAxfQZGE=
Received: by 10.54.83.11 with SMTP id g11mr3771992wrb;
        Tue, 11 Oct 2005 15:25:10 -0700 (PDT)
Received: by 10.54.122.18 with HTTP; Tue, 11 Oct 2005 15:25:10 -0700 (PDT)
Message-ID: <e994873a0510111525v532da969r9a23c1f8cc41c9fd@mail.gmail.com>
Date: Tue, 11 Oct 2005 18:25:10 -0400
From: Peter Keegan <peterlkeegan@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: "docMap" array in SegmentMergeInfo
In-Reply-To: <e994873a0510111514s4051c52fp397cd5e42cedad22@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_16025_23398941.1129069510237"
References: <20050713184257.55124.qmail@web41208.mail.yahoo.com>
	 <42D5881C.6040304@apache.org>
	 <e994873a0510111514s4051c52fp397cd5e42cedad22@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_16025_23398941.1129069510237
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

> If the index is in 'search/read-only' mode, is there a way around this
bottleneck?

The obvious answer (to answer my own question) is to optimize the index.
But the question remains: why is the docMap created and never used?

Peter

------=_Part_16025_23398941.1129069510237--

From java-user-return-16872-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 11 22:42:54 2005
Return-Path: <java-user-return-16872-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57822 invoked from network); 11 Oct 2005 22:42:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Oct 2005 22:42:54 -0000
Received: (qmail 72234 invoked by uid 500); 11 Oct 2005 22:42:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71423 invoked by uid 500); 11 Oct 2005 22:42:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71412 invoked by uid 99); 11 Oct 2005 22:42:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 15:42:48 -0700
Received-SPF: pass (asf.osuosl.org: domain of lucenelist@danielnaber.de designates 80.67.18.14 as permitted sender)
Received: from [80.67.18.14] (HELO smtprelay02.ispgateway.de) (80.67.18.14)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 15:42:50 -0700
Received: (qmail 12588 invoked from network); 11 Oct 2005 22:42:27 -0000
Received: from unknown (HELO p5496e9ac.dip.t-dialin.net) ([pbs]695637@[84.150.233.172])
          (envelope-sender <lucenelist@danielnaber.de>)
          by smtprelay02.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 11 Oct 2005 22:42:27 -0000
From: Daniel Naber <lucenelist@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: wildcards within a phrase query
Date: Wed, 12 Oct 2005 00:42:09 +0200
User-Agent: KMail/1.8.2
References: <Pine.LNX.4.63.0510110916360.19848@jimwormold> <200510112341.36661@danielnaber.de> <Pine.LNX.4.63.0510111805470.15689@jimwormold>
In-Reply-To: <Pine.LNX.4.63.0510111805470.15689@jimwormold>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200510120042.10182@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Mittwoch 12 Oktober 2005 00:15, Robert Watkins wrote:

> Wonderful! But what about wildcards? I realised after I had sent the
> last message that my pattern should have been written:

Have a look at the test cases: you need to expand the terms yourself, i.e. 
it doesn't matter if there's a prefix or wildcard term. There's no support 
for *direct* input of something like (a phrase query) "foo* bar".

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16873-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 11 23:23:51 2005
Return-Path: <java-user-return-16873-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70439 invoked from network); 11 Oct 2005 23:23:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Oct 2005 23:23:50 -0000
Received: (qmail 15428 invoked by uid 500); 11 Oct 2005 23:23:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15086 invoked by uid 500); 11 Oct 2005 23:23:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15075 invoked by uid 99); 11 Oct 2005 23:23:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 16:23:45 -0700
Received-SPF: pass (asf.osuosl.org: domain of clamprecht@gmail.com designates 66.249.82.195 as permitted sender)
Received: from [66.249.82.195] (HELO xproxy.gmail.com) (66.249.82.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 16:23:48 -0700
Received: by xproxy.gmail.com with SMTP id h33so386495wxd
        for <java-user@lucene.apache.org>; Tue, 11 Oct 2005 16:23:24 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=kCMcl61Y0aRhDuqE6UVEdLgSYdXAD2IHQ1wFUYhX19yOkYDsJsZqPwp2wUFBsq0r7ej12KcahsikPGrN6MJ/triO9AlvVpJABdT42FvQTe6KvGt5jMv0xy8aQ6eAPBZCYF+b+NRO+De6QbOyMc5iNjlBCqIX7Y4m225Pqafm68I=
Received: by 10.70.55.7 with SMTP id d7mr136945wxa;
        Tue, 11 Oct 2005 16:23:24 -0700 (PDT)
Received: by 10.70.55.14 with HTTP; Tue, 11 Oct 2005 16:23:24 -0700 (PDT)
Message-ID: <88c6a6720510111623m3e09dbb2y4605c6c4a7485bf3@mail.gmail.com>
Date: Tue, 11 Oct 2005 18:23:24 -0500
From: Chris Lamprecht <clamprecht@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: "docMap" array in SegmentMergeInfo
In-Reply-To: <e994873a0510111514s4051c52fp397cd5e42cedad22@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <20050713184257.55124.qmail@web41208.mail.yahoo.com>
	 <42D5881C.6040304@apache.org>
	 <e994873a0510111514s4051c52fp397cd5e42cedad22@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Peter,

I observed the same issue on a multiprocessor machine.  I included a
small fix for this in the NIO patch (against the 1.9 trunk) here:=20
http://issues.apache.org/jira/browse/LUCENE-414#action_12322523

The change amounts to the following methods in SegmentReader.java, to
remove the need synchronized() block by taking a "snapshot" of the
variable:

// Removed synchronized from document(int)
public Document document(int n) throws IOException {
    if (isDeleted(n))
      throw new IllegalArgumentException
              ("attempt to access a deleted document");
    return fieldsReader.doc(n);
}

// removed synchronized from isDeleted(int)
public boolean isDeleted(int n) {
    // avoid race condition by getting a snapshot reference
    final BitVector snapshot =3D deletedDocs;
    return (snapshot !=3D null && snapshot.get(n));
}

We've been using this in production for a while and it fixed the
extremely slow searches when there are deleted documents.  Maybe it
could be applied to the trunk, independent of the full NIO patch.

-chris

On 10/11/05, Peter Keegan <peterlkeegan@gmail.com> wrote:
> On a multi-cpu system, this loop to build the docMap array can cause seve=
re
> thread thrashing because of the synchronized method 'isDeleted'. I have
> observed this on an index with over 1 million documents (which contains a
> few thousand deleted docs) when multiple threads perform a search with
> either a sort field or a range query. A stack dump shows all threads here=
:
>
> waiting for monitor entry [0x6d2cf000..0x6d2cfd6c] at
> org.apache.lucene.index.SegmentReader.isDeleted(SegmentReader.java:241) -
> waiting to lock <0x04e40278>
>
> The performances worsens as the number of threads increases. The searches
> may take minutes to complete.
> If only a single thread issues the search, it completes fairly quickly. I
> also noticed from looking at the code that the docMap doesn't appear to b=
e
> used in these cases. It seems only to be used for merging segments. If th=
e
> index is in 'search/read-only' mode, is there a way around this bottlenec=
k?
>
> Thanks,
> Peter
>
>
>
>
> On 7/13/05, Doug Cutting <cutting@apache.org> wrote:
> >
> > Lokesh Bajaj wrote:
> > > For a very large index where we might want to delete/replace some
> > documents, this would require a lot of memory (for 100 million document=
s,
> > this would need 381 MB of memory). Is there any reason why this was
> > implemented this way?
> >
> > In practice this has not been an issue. A single index with 100M
> > documents is usually quite slow to search. When collections get this
> > big folks tend to instead search multiple indexes in parallel in order
> > to keep response times acceptable. Also, 381Mb of RAM is often not a
> > problem for folks with 100M documents. But this is not to say that it
> > could never be a problem. For folks with limited RAM and/or lots of
> > small documents it could indeed be an issue.
> >
> > > It seems like this could be implemented as a much smaller array that
> > only keeps track of the deleted document numbers and it would still be =
very
> > efficient to calculate the new document number by using this much small=
er
> > array. Has this been done by anyone else or been considered for change =
in
> > the Lucene code?
> >
> > Please submit a patch to the java-dev list.
> >
> > Doug
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16874-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 12 01:12:02 2005
Return-Path: <java-user-return-16874-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54710 invoked from network); 12 Oct 2005 01:12:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Oct 2005 01:12:02 -0000
Received: (qmail 2066 invoked by uid 500); 12 Oct 2005 01:11:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2026 invoked by uid 500); 12 Oct 2005 01:11:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2015 invoked by uid 99); 12 Oct 2005 01:11:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 18:11:56 -0700
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.220.6.229] (HELO mail.roomity.com) (66.220.6.229)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 18:11:58 -0700
Received: from slave1.roomity.com (slave1.roomity.com [66.220.6.229])
	by mail.roomity.com (Postfix) with ESMTP id 4D451A760F
	for <java-user@lucene.apache.org>; Tue, 11 Oct 2005 18:11:55 -0700 (PDT)
Message-ID: <1303923.41129079515210.JavaMail.tomcat5@slave1.roomity.com>
From: javabuddy <maillist@roomity.com>
To: java-user@lucene.apache.org
Subject: Re:Lucene and Quartz
In-Reply-To: <27887677.01129049074061.JavaMail.tomcat5@slave1.roomity.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_4_15558345.1129079515199"
References: <27887677.01129049074061.JavaMail.tomcat5@slave1.roomity.com>
Date: Tue, 11 Oct 2005 18:11:55 -0700 (PDT)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_4_15558345.1129079515199
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Thanks for the reply.

Here is what happens...

I have 2 boxes A and B. And the indices are created on Machine C.

The directory of the index is mounted on both the machines A and B.

We have quartz using JDBCJobStore. So index creation runs on either one of the box. SO when index creation job is over on machine A, and when machine B starts it throws FileNotFoundException on one of the index file like _fkm.idx, (this is an sample file name)

So y is this happening. I made sure that the jobs for creating index are not running at the same time. 

My doubt is when machine A completes, the indexes that are updated or generated are not reflected on to the machine B. Bcos of the mount.

Can you help me out???

- javabuddy.


------------------------------------------------------------------
<a href="http://Lucene_Java_User_List.roomity.com">roomity.com</a>
Your Roomity Broadband Webapp ~~1129079515196~~
------------------------------------------------------------------

------=_Part_4_15558345.1129079515199--


From java-user-return-16875-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 12 03:12:31 2005
Return-Path: <java-user-return-16875-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49368 invoked from network); 12 Oct 2005 03:12:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Oct 2005 03:12:30 -0000
Received: (qmail 85116 invoked by uid 500); 12 Oct 2005 03:12:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85082 invoked by uid 500); 12 Oct 2005 03:12:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85071 invoked by uid 99); 12 Oct 2005 03:12:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 20:12:25 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 72.14.204.207 as permitted sender)
Received: from [72.14.204.207] (HELO qproxy.gmail.com) (72.14.204.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 20:12:27 -0700
Received: by qproxy.gmail.com with SMTP id e12so50284qbe
        for <java-user@lucene.apache.org>; Tue, 11 Oct 2005 20:12:02 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=nJCycnYT0MqAK8TNrIumx5PcoyrU5If589XyrWv2uc1q7hrDwWRr3nU3zffl2zk1xoBTa8iqwoFHDIr6FJ0UsU9/r7xBMjMW8fyuXByc3qrNceCixzXXfamhQgvQ8jAL2lzblVnJSKkqmHdM6unZRSftaMpaTGhcBZCKsUPLCo4=
Received: by 10.64.27.13 with SMTP id a13mr89650qba;
        Tue, 11 Oct 2005 20:12:02 -0700 (PDT)
Received: by 10.65.121.10 with HTTP; Tue, 11 Oct 2005 20:12:02 -0700 (PDT)
Message-ID: <c68e39170510112012q6b36e21du2606f79413c9d865@mail.gmail.com>
Date: Tue, 11 Oct 2005 23:12:02 -0400
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: "docMap" array in SegmentMergeInfo
In-Reply-To: <88c6a6720510111623m3e09dbb2y4605c6c4a7485bf3@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_11140_12884614.1129086722033"
References: <20050713184257.55124.qmail@web41208.mail.yahoo.com>
	 <42D5881C.6040304@apache.org>
	 <e994873a0510111514s4051c52fp397cd5e42cedad22@mail.gmail.com>
	 <88c6a6720510111623m3e09dbb2y4605c6c4a7485bf3@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_11140_12884614.1129086722033
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I'm not sure that looks like a safe patch.
Synchronization does more than help prevent races... it also introduces
memory barriers.
Removing synchronization to objects that can change is very tricky business
(witness the double-checked locking antipattern).

-Yonik
Now hiring -- http://tinyurl.com/7m67g

On 10/11/05, Chris Lamprecht <clamprecht@gmail.com> wrote:
>
> Hi Peter,
>
> I observed the same issue on a multiprocessor machine. I included a
> small fix for this in the NIO patch (against the 1.9 trunk) here:
> http://issues.apache.org/jira/browse/LUCENE-414#action_12322523
>
> The change amounts to the following methods in SegmentReader.java, to
> remove the need synchronized() block by taking a "snapshot" of the
> variable:
>
> // Removed synchronized from document(int)
> public Document document(int n) throws IOException {
> if (isDeleted(n))
> throw new IllegalArgumentException
> ("attempt to access a deleted document");
> return fieldsReader.doc(n);
> }
>
> // removed synchronized from isDeleted(int)
> public boolean isDeleted(int n) {
> // avoid race condition by getting a snapshot reference
> final BitVector snapshot =3D deletedDocs;
> return (snapshot !=3D null && snapshot.get(n));
> }
>
> We've been using this in production for a while and it fixed the
> extremely slow searches when there are deleted documents. Maybe it
> could be applied to the trunk, independent of the full NIO patch.
>
> -chris
>
>

------=_Part_11140_12884614.1129086722033--

From java-user-return-16876-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 12 03:40:54 2005
Return-Path: <java-user-return-16876-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57612 invoked from network); 12 Oct 2005 03:40:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Oct 2005 03:40:54 -0000
Received: (qmail 1799 invoked by uid 500); 12 Oct 2005 03:40:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1769 invoked by uid 500); 12 Oct 2005 03:40:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1758 invoked by uid 99); 12 Oct 2005 03:40:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 20:40:49 -0700
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 72.14.204.204 as permitted sender)
Received: from [72.14.204.204] (HELO qproxy.gmail.com) (72.14.204.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 20:40:50 -0700
Received: by qproxy.gmail.com with SMTP id e12so57880qbe
        for <java-user@lucene.apache.org>; Tue, 11 Oct 2005 20:40:27 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=TuwWBVzZr/K1hTj9DvUo4TaxXdNjywFXEzPmokIRoBEO1O5r9vtMyBy89GtVXy77dy9zhdSSz3xBVwT3VJ46TG459cNchmBalzHpRcaWxO5oB7Jgo9lfSQWR+LZ0ct96PGZHkzWvykKRinPwP3WCHtPWun68PNRy7S4DyuY5yJ8=
Received: by 10.65.194.4 with SMTP id w4mr92244qbp;
        Tue, 11 Oct 2005 20:40:23 -0700 (PDT)
Received: by 10.65.121.10 with HTTP; Tue, 11 Oct 2005 20:40:23 -0700 (PDT)
Message-ID: <c68e39170510112040j6ed0f2buad6a02ed01d75ce9@mail.gmail.com>
Date: Tue, 11 Oct 2005 23:40:23 -0400
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: "docMap" array in SegmentMergeInfo
In-Reply-To: <88c6a6720510111623m3e09dbb2y4605c6c4a7485bf3@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_11628_5513308.1129088423840"
References: <20050713184257.55124.qmail@web41208.mail.yahoo.com>
	 <42D5881C.6040304@apache.org>
	 <e994873a0510111514s4051c52fp397cd5e42cedad22@mail.gmail.com>
	 <88c6a6720510111623m3e09dbb2y4605c6c4a7485bf3@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_11628_5513308.1129088423840
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

> We've been using this in production for a while and it fixed the
> extremely slow searches when there are deleted documents.

Who was the caller of isDeleted()? There may be an opportunity for an easy
optimization to grab the BitVector and reuse it instead of repeatedly
calling isDeleted() on the IndexReader.

-Yonik
Now hiring -- http://tinyurl.com/7m67g

------=_Part_11628_5513308.1129088423840--

From java-user-return-16877-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 12 06:52:37 2005
Return-Path: <java-user-return-16877-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9934 invoked from network); 12 Oct 2005 06:52:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Oct 2005 06:52:37 -0000
Received: (qmail 18046 invoked by uid 500); 12 Oct 2005 06:52:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18020 invoked by uid 500); 12 Oct 2005 06:52:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18008 invoked by uid 99); 12 Oct 2005 06:52:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 23:52:29 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [150.254.30.30] (HELO libra.cs.put.poznan.pl) (150.254.30.30)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Oct 2005 23:52:31 -0700
Received: from libra.cs.put.poznan.pl (localhost [127.0.0.1])
	by libra (Postfix on VMS) with SMTP id 000D03A89
	for <java-user@lucene.apache.org>; Wed, 12 Oct 2005 08:52:05 +0200 (CEST)
Received: from [150.254.130.24] (idss-dw.cs.put.poznan.pl [150.254.130.24])
	by libra.cs.put.poznan.pl (Postfix on VMS) with ESMTP id 9BB703A75
	for <java-user@lucene.apache.org>; Wed, 12 Oct 2005 08:52:05 +0200 (CEST)
Message-ID: <434CB2AE.7050903@cs.put.poznan.pl>
Date: Wed, 12 Oct 2005 08:52:30 +0200
From: Dawid Weiss <dawid.weiss@cs.put.poznan.pl>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: "docMap" array in SegmentMergeInfo
References: <20050713184257.55124.qmail@web41208.mail.yahoo.com>	 <42D5881C.6040304@apache.org>	 <e994873a0510111514s4051c52fp397cd5e42cedad22@mail.gmail.com>	 <88c6a6720510111623m3e09dbb2y4605c6c4a7485bf3@mail.gmail.com> <c68e39170510112012q6b36e21du2606f79413c9d865@mail.gmail.com>
In-Reply-To: <c68e39170510112012q6b36e21du2606f79413c9d865@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


I'm pretty sure it doesn't solve the problem in general (it isn't a 
thread-save solution for sure, you mentioned the memory barrier, I'd add 
compiler optimizations). If it works it must be something 
application-specific, maybe synchronization isn't really needed there, 
or you just don't do anything (i.e. write operations) that would cause a 
crash.

D.

Yonik Seeley wrote:
> I'm not sure that looks like a safe patch.
> Synchronization does more than help prevent races... it also introduces
> memory barriers.
> Removing synchronization to objects that can change is very tricky business
> (witness the double-checked locking antipattern).
> 
> -Yonik
> Now hiring -- http://tinyurl.com/7m67g
> 
> On 10/11/05, Chris Lamprecht <clamprecht@gmail.com> wrote:
> 
>>Hi Peter,
>>
>>I observed the same issue on a multiprocessor machine. I included a
>>small fix for this in the NIO patch (against the 1.9 trunk) here:
>>http://issues.apache.org/jira/browse/LUCENE-414#action_12322523
>>
>>The change amounts to the following methods in SegmentReader.java, to
>>remove the need synchronized() block by taking a "snapshot" of the
>>variable:
>>
>>// Removed synchronized from document(int)
>>public Document document(int n) throws IOException {
>>if (isDeleted(n))
>>throw new IllegalArgumentException
>>("attempt to access a deleted document");
>>return fieldsReader.doc(n);
>>}
>>
>>// removed synchronized from isDeleted(int)
>>public boolean isDeleted(int n) {
>>// avoid race condition by getting a snapshot reference
>>final BitVector snapshot = deletedDocs;
>>return (snapshot != null && snapshot.get(n));
>>}
>>
>>We've been using this in production for a while and it fixed the
>>extremely slow searches when there are deleted documents. Maybe it
>>could be applied to the trunk, independent of the full NIO patch.
>>
>>-chris
>>
>>
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16878-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 12 11:44:26 2005
Return-Path: <java-user-return-16878-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8749 invoked from network); 12 Oct 2005 11:44:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Oct 2005 11:44:26 -0000
Received: (qmail 37958 invoked by uid 500); 12 Oct 2005 11:44:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37899 invoked by uid 500); 12 Oct 2005 11:44:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37883 invoked by uid 99); 12 Oct 2005 11:44:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Oct 2005 04:44:20 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.181.105.68] (HELO hfep02.dion.ne.jp) (203.181.105.68)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Oct 2005 04:44:22 -0700
Received: from sekiguchi ([59.135.86.144]) by hfep02.dion.ne.jp with SMTP
          id <20051012114358462.YCRD@hfep02.dion.ne.jp>
          for <java-user@lucene.apache.org>;
          Wed, 12 Oct 2005 20:43:58 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
Subject: maximum number of documents
Date: Wed, 12 Oct 2005 20:43:55 +0900
Message-ID: <PKEIKOCKCHNIIHNECPCCMEEPCAAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-2022-jp"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

Is the maximum number of documents in an index Integer.MAX_VALUE? (approx 2
billion)
If so, if I want to have 8 billion docs indexed, like Google,
can I do it with having four indices, theoretically?

Koji




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16879-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 12 12:19:34 2005
Return-Path: <java-user-return-16879-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24162 invoked from network); 12 Oct 2005 12:19:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Oct 2005 12:19:34 -0000
Received: (qmail 75571 invoked by uid 500); 12 Oct 2005 12:19:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75543 invoked by uid 500); 12 Oct 2005 12:19:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75532 invoked by uid 99); 12 Oct 2005 12:19:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Oct 2005 05:19:28 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of peterlkeegan@gmail.com designates 64.233.184.194 as permitted sender)
Received: from [64.233.184.194] (HELO wproxy.gmail.com) (64.233.184.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Oct 2005 05:19:30 -0700
Received: by wproxy.gmail.com with SMTP id i21so30396wra
        for <java-user@lucene.apache.org>; Wed, 12 Oct 2005 05:19:05 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=B3tDYKC2AuMVgq72Dkqht0PgCup4xhVvrnw53m0gDdoe/J7vja/touVT+pxkUDLsj6z2XJlH4bik+g7ndK7ED0qr3pdtqJBZJgo/pnN18uBl+tXEUaw6U0V8OXmQgMNnE0BWK+MMROTah8XgZ17febp2pAVxIcPIqss2HDbiNME=
Received: by 10.54.106.12 with SMTP id e12mr127035wrc;
        Wed, 12 Oct 2005 05:19:04 -0700 (PDT)
Received: by 10.54.122.18 with HTTP; Wed, 12 Oct 2005 05:19:04 -0700 (PDT)
Message-ID: <e994873a0510120519u299f596fk339957c7abf0de82@mail.gmail.com>
Date: Wed, 12 Oct 2005 08:19:04 -0400
From: Peter Keegan <peterlkeegan@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: "docMap" array in SegmentMergeInfo
In-Reply-To: <c68e39170510112040j6ed0f2buad6a02ed01d75ce9@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_22027_1043661.1129119544970"
References: <20050713184257.55124.qmail@web41208.mail.yahoo.com>
	 <42D5881C.6040304@apache.org>
	 <e994873a0510111514s4051c52fp397cd5e42cedad22@mail.gmail.com>
	 <88c6a6720510111623m3e09dbb2y4605c6c4a7485bf3@mail.gmail.com>
	 <c68e39170510112040j6ed0f2buad6a02ed01d75ce9@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_22027_1043661.1129119544970
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Here is one stack trace:

Full thread dump Java HotSpot(TM) Client VM (1.5.0_03-b07 mixed mode):

"Thread-6" prio=3D5 tid=3D0x6cf7a7f0 nid=3D0x59e50 waiting for monitor entr=
y
[0x6d2cf000..0x6d2cfd6c]
at org.apache.lucene.index.SegmentReader.isDeleted(SegmentReader.java:241)
- waiting to lock <0x04e40278> (a org.apache.lucene.index.SegmentReader)
at org.apache.lucene.index.SegmentMergeInfo.<init>(SegmentMergeInfo.java:43=
)
at org.apache.lucene.index.MultiTermEnum.<init>(MultiReader.java:277)
at org.apache.lucene.index.MultiReader.terms(MultiReader.java:186)
at org.apache.lucene.search.RangeQuery.rewrite(RangeQuery.java:75)
at org.apache.lucene.search.BooleanQuery.rewrite(BooleanQuery.java:243)
at org.apache.lucene.search.IndexSearcher.rewrite(IndexSearcher.java:166)
at org.apache.lucene.search.Query.weight(Query.java:84)
at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:158)
at org.apache.lucene.search.Searcher.search(Searcher.java:67)
at org.apache.lucene.search.QueryFilter.bits(QueryFilter.java:62)
at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:121)
at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:64)
at org.apache.lucene.search.Hits.<init>(Hits.java:51)
at org.apache.lucene.search.Searcher.search(Searcher.java:49)

I've also seen it happen during sorting from:

FieldSortedHitQueue.comparatorAuto ->
FieldCacheImpl.getAuto() ->
MultiReader.terms() ->
MultiTermEnum.init() ->
SegmentMergerInfo.init() ->
SegmentReader.isDeleted()

Peter

On 10/11/05, Yonik Seeley <yseeley@gmail.com> wrote:
>
> > We've been using this in production for a while and it fixed the
> > extremely slow searches when there are deleted documents.
>
> Who was the caller of isDeleted()? There may be an opportunity for an eas=
y
> optimization to grab the BitVector and reuse it instead of repeatedly
> calling isDeleted() on the IndexReader.
>
> -Yonik
> Now hiring -- http://tinyurl.com/7m67g
>
>

------=_Part_22027_1043661.1129119544970--

From java-user-return-16880-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 12 14:10:26 2005
Return-Path: <java-user-return-16880-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79596 invoked from network); 12 Oct 2005 14:10:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Oct 2005 14:10:26 -0000
Received: (qmail 79939 invoked by uid 500); 12 Oct 2005 14:10:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79842 invoked by uid 500); 12 Oct 2005 14:10:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79810 invoked by uid 99); 12 Oct 2005 14:10:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Oct 2005 07:10:12 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 72.14.204.197 as permitted sender)
Received: from [72.14.204.197] (HELO qproxy.gmail.com) (72.14.204.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Oct 2005 07:10:14 -0700
Received: by qproxy.gmail.com with SMTP id e12so206071qbe
        for <java-user@lucene.apache.org>; Wed, 12 Oct 2005 07:09:50 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=o0DWBqG5qoBJtc2NJ2eLAYuYHDz9uwq1oTwkpw9pc3X7bufx+vI+LlrMFpfzFMOXWQ9+eXPN6/Wgx2wNBtTqPju9YRwsMS+kBpbVQ+iaA+m9Km4+Z6WZ0AGLsqRzthtLdKXojJEr6wSWwDSoNLDpthU3Ckurmf2faEgVUWfPc6Q=
Received: by 10.65.150.20 with SMTP id c20mr396176qbo;
        Wed, 12 Oct 2005 07:08:19 -0700 (PDT)
Received: by 10.65.121.10 with HTTP; Wed, 12 Oct 2005 07:08:19 -0700 (PDT)
Message-ID: <c68e39170510120708x39113cc9r269cc82176d5c76a@mail.gmail.com>
Date: Wed, 12 Oct 2005 10:08:19 -0400
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: "docMap" array in SegmentMergeInfo
In-Reply-To: <e994873a0510120519u299f596fk339957c7abf0de82@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_18666_8015088.1129126099498"
References: <20050713184257.55124.qmail@web41208.mail.yahoo.com>
	 <42D5881C.6040304@apache.org>
	 <e994873a0510111514s4051c52fp397cd5e42cedad22@mail.gmail.com>
	 <88c6a6720510111623m3e09dbb2y4605c6c4a7485bf3@mail.gmail.com>
	 <c68e39170510112040j6ed0f2buad6a02ed01d75ce9@mail.gmail.com>
	 <e994873a0510120519u299f596fk339957c7abf0de82@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_18666_8015088.1129126099498
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Thanks for the trace Peter, and great catch!
It certainly does look like avoiding the construction of the docMap for a
MultiTermEnum will be a significant optimization.


-Yonik
Now hiring -- http://tinyurl.com/7m67g

On 10/12/05, Peter Keegan <peterlkeegan@gmail.com> wrote:
>
> Here is one stack trace:
>
> Full thread dump Java HotSpot(TM) Client VM (1.5.0_03-b07 mixed mode):
>
> "Thread-6" prio=3D5 tid=3D0x6cf7a7f0 nid=3D0x59e50 waiting for monitor en=
try
> [0x6d2cf000..0x6d2cfd6c]
> at org.apache.lucene.index.SegmentReader.isDeleted(SegmentReader.java:241=
)
> - waiting to lock <0x04e40278> (a org.apache.lucene.index.SegmentReader)
> at org.apache.lucene.index.SegmentMergeInfo.<init>(SegmentMergeInfo.java
> :43)
> at org.apache.lucene.index.MultiTermEnum.<init>(MultiReader.java:277)
> at org.apache.lucene.index.MultiReader.terms(MultiReader.java:186)
> at org.apache.lucene.search.RangeQuery.rewrite(RangeQuery.java:75)
> at org.apache.lucene.search.BooleanQuery.rewrite(BooleanQuery.java:243)
> at org.apache.lucene.search.IndexSearcher.rewrite(IndexSearcher.java:166)
> at org.apache.lucene.search.Query.weight(Query.java:84)
> at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:158)
> at org.apache.lucene.search.Searcher.search(Searcher.java:67)
> at org.apache.lucene.search.QueryFilter.bits(QueryFilter.java:62)
> at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:121)
> at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:64)
> at org.apache.lucene.search.Hits.<init>(Hits.java:51)
> at org.apache.lucene.search.Searcher.search(Searcher.java:49)
>
> I've also seen it happen during sorting from:
>
> FieldSortedHitQueue.comparatorAuto ->
> FieldCacheImpl.getAuto() ->
> MultiReader.terms() ->
> MultiTermEnum.init() ->
> SegmentMergerInfo.init() ->
> SegmentReader.isDeleted()
>
> Peter
>
> On 10/11/05, Yonik Seeley <yseeley@gmail.com> wrote:
> >
> > > We've been using this in production for a while and it fixed the
> > > extremely slow searches when there are deleted documents.
> >
> > Who was the caller of isDeleted()? There may be an opportunity for an
> easy
> > optimization to grab the BitVector and reuse it instead of repeatedly
> > calling isDeleted() on the IndexReader.
> >
> > -Yonik
> > Now hiring -- http://tinyurl.com/7m67g
> >
>

------=_Part_18666_8015088.1129126099498--

From java-user-return-16881-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 12 14:15:10 2005
Return-Path: <java-user-return-16881-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82562 invoked from network); 12 Oct 2005 14:15:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Oct 2005 14:15:10 -0000
Received: (qmail 95157 invoked by uid 500); 12 Oct 2005 14:15:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95042 invoked by uid 500); 12 Oct 2005 14:15:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95031 invoked by uid 99); 12 Oct 2005 14:15:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Oct 2005 07:15:04 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from [80.91.229.2] (HELO ciao.gmane.org) (80.91.229.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Oct 2005 07:15:06 -0700
Received: from list by ciao.gmane.org with local (Exim 4.43)
	id 1EPhKr-0007HN-PA
	for java-user@lucene.apache.org; Wed, 12 Oct 2005 16:12:01 +0200
Received: from rrcs-67-78-201-138.se.biz.rr.com ([67.78.201.138])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Wed, 12 Oct 2005 16:12:01 +0200
Received: from david by rrcs-67-78-201-138.se.biz.rr.com with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Wed, 12 Oct 2005 16:12:01 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: java-user@lucene.apache.org
From:  "J. David Boyd" <david@adboyd.com>
Subject:  Re: Lucene and remote index and java applet, with no java app server
Date:  Wed, 12 Oct 2005 10:10:14 -0400
Lines: 29
Message-ID: <dij5g6$nd4$1@sea.gmane.org>
References:  <1A6B6A5A3597C340BB63728001DC787902331024@kodos.na.wrq.com>
Mime-Version:  1.0
Content-Type:  text/plain; charset=ISO-8859-1
Content-Transfer-Encoding:  7bit
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: rrcs-67-78-201-138.se.biz.rr.com
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
In-Reply-To: <1A6B6A5A3597C340BB63728001DC787902331024@kodos.na.wrq.com>
X-Enigmail-Version: 0.93.0.0
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Jon Schuster wrote:
> Sorry about that, "download" was a poor word choice.
> 
> By download, I meant that after the applet opens an input stream to the
> URL, it will need to read from the stream to get all the index data from
> the web server to the user's machine so the applet can perform the
> search. Whether the index files are downloaded and written to disk or
> whether they're downloaded and cached in memory, it's still a bandwidth
> consideration. As you mentioned earlier, the index files could live on
> the server as zipped files, and the applet could unzip them on the fly.
> 
> Signing the applet would make things somewhat easier. But then you have
> the potential problem of users who have been trained by their IT
> departments (or have learned the hard way) to not accept any content
> that requires specific permissions to run.
> 
> 

So here comes the next part of my applet ignorance.

Can I embed the Lucene, etc, jar files in my applet so that when the
user starts up the applet, they can be used on the local machine.

This alone probably stops me from using an applet, I guess.

Anyone have any idea where the definitive rules of what an applet can or
can not do are located on the 'net?

Dave


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16882-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 12 15:19:09 2005
Return-Path: <java-user-return-16882-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21366 invoked from network); 12 Oct 2005 15:19:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Oct 2005 15:19:08 -0000
Received: (qmail 31699 invoked by uid 500); 12 Oct 2005 15:19:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31652 invoked by uid 500); 12 Oct 2005 15:19:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31631 invoked by uid 99); 12 Oct 2005 15:19:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Oct 2005 08:19:01 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 205.152.59.68 is neither permitted nor denied by domain of rwatkins@foo-bar.org)
Received: from [205.152.59.68] (HELO imf20aec.mail.bellsouth.net) (205.152.59.68)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Oct 2005 08:19:03 -0700
Received: from ibm62aec.bellsouth.net ([68.209.119.157])
          by imf20aec.mail.bellsouth.net with ESMTP
          id <20051012151839.JIQK11836.imf20aec.mail.bellsouth.net@ibm62aec.bellsouth.net>
          for <java-user@lucene.apache.org>;
          Wed, 12 Oct 2005 11:18:39 -0400
Received: from jimwormold ([68.209.119.157]) by ibm62aec.bellsouth.net
          with ESMTP
          id <20051012151839.VZUL12154.ibm62aec.bellsouth.net@jimwormold>
          for <java-user@lucene.apache.org>;
          Wed, 12 Oct 2005 11:18:39 -0400
Date: Wed, 12 Oct 2005 11:18:53 -0400 (EDT)
From: Robert Watkins <rwatkins@foo-bar.org>
To: java-user@lucene.apache.org
Subject: Re: wildcards within a phrase query
In-Reply-To: <200510120042.10182@danielnaber.de>
Message-ID: <Pine.LNX.4.63.0510120959290.14908@jimwormold>
References: <Pine.LNX.4.63.0510110916360.19848@jimwormold>
 <200510112341.36661@danielnaber.de> <Pine.LNX.4.63.0510111805470.15689@jimwormold>
 <200510120042.10182@danielnaber.de>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Having now looked at the test cases in SVN (specifically,
TestMultiPhraseQuery.java), I cannot see any tests using simple
wildcards, only terms ending with *, and thus suitable for a
PrefixQuery. The examples do reveal how it could be done for wildcards,
but my concern turns to scalability.

I am only in the beginning stages of creating a prototype, so I don't
have a suitable test environment for this sort of thing yet, but when
it comes to fruition there will be 11 indexes, with anywhere from
5,000 to 600,000 documents in each index. Based on a test index with 90
short documents in it, I can easily expect upwards of 1,000 terms per
document. While there would likely be more repetition of terms as the
number of documents in an index increases, that's still a lot of terms.

Also, any given query will need to be able to search across any number
of those indexes. As such, to create a query for, say "bl?nd ambition"
it looks as if one would have to do something like:

   // search for "bl?nd ambition":
   MultiPhraseQuery query = new MultiPhraseQuery();
   String prefix, regex;
   LinkedList termsWithPrefix = new LinkedList();
   TermEnum te;
   while (queryTermEnum.hasNext()) {
       String queryTerm = (String)queryTermEnum.next();
       if (hasWildcard(queryTerm)) {
           // get "bl" from "bl?nd"
           prefix = getWildcardPrefix(queryTerm);
           // get "bl.nd" from "bl?nd"
           regex  = getWildcardRegex(queryTerm);
           termsWithPrefix.clear();
           for (int i = 0; i< openIndexReaders.length; i++) {
               te = openIndexReaders[i].terms(new Term("body", prefix));
               do {
                   if (te.term().text().matches(regex)) {
                       termsWithPrefix.add(te.term());
                   }
               } while (te.next());
           }
           query.add((Term[])termsWithPrefix.toArray(new Term[0]));
       }
       else {
           query.add(new Term("body", queryTerm));
       }
   }

Does that sound reasonable -- and scalable -- to you?
-- Robert

PS -- Would it be possible to avoid going through _all_ the terms in the
TermEnum (that are greater than prefix, of course) by doing something
like:

   } while (te.next() && te.term().text().startsWith(prefix));

or would analysis possibly make that unwise?


On Wed, 12 Oct 2005, Daniel Naber wrote:

> On Mittwoch 12 Oktober 2005 00:15, Robert Watkins wrote:
>
>> Wonderful! But what about wildcards? I realised after I had sent the
>> last message that my pattern should have been written:
>>
>>   ( term | term as prefix | wildcard term )+
>
> Have a look at the test cases: you need to expand the terms yourself, i.e.
> it doesn't matter if there's a prefix or wildcard term. There's no support
> for *direct* input of something like (a phrase query) "foo* bar".
>
> Regards
> Daniel

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16883-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 12 16:53:41 2005
Return-Path: <java-user-return-16883-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65689 invoked from network); 12 Oct 2005 16:53:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Oct 2005 16:53:41 -0000
Received: (qmail 13451 invoked by uid 500); 12 Oct 2005 16:53:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13426 invoked by uid 500); 12 Oct 2005 16:53:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13415 invoked by uid 99); 12 Oct 2005 16:53:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Oct 2005 09:53:34 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of chenjian1227@gmail.com designates 72.14.204.205 as permitted sender)
Received: from [72.14.204.205] (HELO qproxy.gmail.com) (72.14.204.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Oct 2005 09:53:36 -0700
Received: by qproxy.gmail.com with SMTP id e12so261324qbe
        for <java-user@lucene.apache.org>; Wed, 12 Oct 2005 09:53:13 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=KR+sJ+nLa7RkKkw/rv/qucPKcSnV151HrhAg6qvIxrZ4GJ4gG0JW+DxISni9CszrhiUcK/7q7/IvXBezLjPbDkhyE21lpzcS6w4Agd1cGX/uyixZfneAA8o7ATZZUC5mmSG15ht7l0ka2GFqSTZFsDf2KmFe8K0Kh5s4Bz2USKk=
Received: by 10.64.27.20 with SMTP id a20mr472839qba;
        Wed, 12 Oct 2005 09:50:44 -0700 (PDT)
Received: by 10.65.145.3 with HTTP; Wed, 12 Oct 2005 09:50:44 -0700 (PDT)
Message-ID: <7ca123910510120950r568c5c06gef1b72dff55dd1f@mail.gmail.com>
Date: Wed, 12 Oct 2005 09:50:44 -0700
From: jian chen <chenjian1227@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: maximum number of documents
In-Reply-To: <PKEIKOCKCHNIIHNECPCCMEEPCAAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_15728_21994461.1129135844435"
References: <PKEIKOCKCHNIIHNECPCCMEEPCAAA.koji.sekiguchi@m4.dion.ne.jp>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_15728_21994461.1129135844435
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi, Koji,

I think you are right, the max num of documents should be Integer.MAX_VALUE=
.


Some more points below:

1) I double checked the Lucene documentation. It mentioned in the file
format that SegSize is UInt32. I don't think this is accurate, as UInt32 is
around 4 billion, but Integer.MAX_VALUE is half of that, around 2 billion.

In java, there is no notion of unsigned integer, so, since Lucene uses
integer to store doc ids, the max you can get is therefore 2 billion.

Maybe the documentation could mention it in more detail? Specifically, the
actual max number of a document id 2147483647 could be mentioned?

2) I think in theory, if you index 8 billion docs, you can use 4 indexes,
and when you do the search, just search all 4 indexes and combine the resul=
t
set.

3) Looking at the Lucene source code, it seems not that difficult to change
the doc id to use Long instead. It occurs to me that the OutputStream's
writeVInt and writeVLong are using exactly the same code. So, there should
be no performance penalty to switch to using Long.

4) However, if you have 8 billion to index, just changing doc id to use Lon=
g
is not enough I guess. You may also need to adjust other parameters, such a=
s
the IndexInterval (for storing the term info index). Because the term info
index (tii) is loaded into memory totally, so, instead of leaving it as 128=
,
you may have to change it to 256 or bigger, to avoid out of memory issue.

Cheers,

Jian

On 10/12/05, Koji Sekiguchi <koji.sekiguchi@m4.dion.ne.jp> wrote:
>
> Hello,
>
> Is the maximum number of documents in an index Integer.MAX_VALUE? (approx
> 2
> billion)
> If so, if I want to have 8 billion docs indexed, like Google,
> can I do it with having four indices, theoretically?
>
> Koji
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_15728_21994461.1129135844435--

From java-user-return-16884-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 12 21:00:23 2005
Return-Path: <java-user-return-16884-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88485 invoked from network); 12 Oct 2005 21:00:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Oct 2005 21:00:23 -0000
Received: (qmail 34033 invoked by uid 500); 12 Oct 2005 21:00:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34009 invoked by uid 500); 12 Oct 2005 21:00:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33998 invoked by uid 99); 12 Oct 2005 21:00:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Oct 2005 14:00:17 -0700
Received-SPF: pass (asf.osuosl.org: domain of lucenelist@danielnaber.de designates 80.67.18.16 as permitted sender)
Received: from [80.67.18.16] (HELO smtprelay04.ispgateway.de) (80.67.18.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Oct 2005 14:00:19 -0700
Received: (qmail 4590 invoked from network); 12 Oct 2005 20:59:54 -0000
Received: from unknown (HELO p5496c345.dip.t-dialin.net) ([pbs]695637@[84.150.195.69])
          (envelope-sender <lucenelist@danielnaber.de>)
          by smtprelay04.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 12 Oct 2005 20:59:54 -0000
From: Daniel Naber <lucenelist@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: wildcards within a phrase query
Date: Wed, 12 Oct 2005 22:59:35 +0200
User-Agent: KMail/1.8.2
References: <Pine.LNX.4.63.0510110916360.19848@jimwormold> <200510120042.10182@danielnaber.de> <Pine.LNX.4.63.0510120959290.14908@jimwormold>
In-Reply-To: <Pine.LNX.4.63.0510120959290.14908@jimwormold>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200510122259.38155@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Mittwoch 12 Oktober 2005 17:18, Robert Watkins wrote:

> Does that sound reasonable -- and scalable -- to you?

I don't think you need to iterate at all, you can easily expand the terms 
of a query:

    QueryParser qp = new QueryParser("f", new StandardAnalyzer());
    Query q = qp.parse("e*");
    IndexReader ir = IndexReader.open("/tmp/index");
    System.out.println(q.rewrite(ir));

This will expand e* to all of your indice's words that start with "e". Same 
for wildcard queries.

I'll leave the guessing about performance to others. Why not just give it a 
try when it's so easy?

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16885-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 12 22:08:02 2005
Return-Path: <java-user-return-16885-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17340 invoked from network); 12 Oct 2005 22:08:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Oct 2005 22:08:02 -0000
Received: (qmail 61233 invoked by uid 500); 12 Oct 2005 22:07:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61205 invoked by uid 500); 12 Oct 2005 22:07:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61194 invoked by uid 99); 12 Oct 2005 22:07:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Oct 2005 15:07:56 -0700
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 72.14.204.207 as permitted sender)
Received: from [72.14.204.207] (HELO qproxy.gmail.com) (72.14.204.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Oct 2005 15:07:58 -0700
Received: by qproxy.gmail.com with SMTP id e11so237376qbe
        for <java-user@lucene.apache.org>; Wed, 12 Oct 2005 15:07:34 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=O/Y/xLbabmoWbTruXzj7y4I82a8O7rEACMmPNN1mbNUYKd5TuifFSYLtJWgdBNvrS9AXyOih2gsOimR8+HYX5VJK5wq4/7Yg3J9vHBMq8JD66XlIhqFkivvQ5wSFH4w8TFnfczrFTFx65M6KLBmBsxZoElBkn0gpQtNujxUz/5g=
Received: by 10.65.15.20 with SMTP id s20mr93627qbi;
        Tue, 11 Oct 2005 20:15:19 -0700 (PDT)
Received: by 10.64.10.17 with HTTP; Tue, 11 Oct 2005 20:15:19 -0700 (PDT)
Message-ID: <50f433360510112015l794ab8ejdef625f056c3d80b@mail.gmail.com>
Date: Tue, 11 Oct 2005 20:15:19 -0700
From: Jeff Rodenburg <jeff.rodenburg@gmail.com>
To: java-user@lucene.apache.org
Subject: RemoteSearchable woes
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_21286_12447704.1129086919147"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_21286_12447704.1129086919147
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Anyone running RemoteSearchable? I'm on v1.4.3 and am using it just fine,
until I need to:

1) use a custom sort, or
2) use something that extends HitCollector

I've got an idea as to the reasons why (serialization and remoteness), but
how do I get around these? Anyone run into issues like these and found a
crafty way to solve it?

Thoughts, comments, suggestions?

- jeff r.

------=_Part_21286_12447704.1129086919147--

From java-user-return-16886-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 12 22:48:56 2005
Return-Path: <java-user-return-16886-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35675 invoked from network); 12 Oct 2005 22:48:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Oct 2005 22:48:56 -0000
Received: (qmail 58057 invoked by uid 500); 12 Oct 2005 22:48:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58020 invoked by uid 500); 12 Oct 2005 22:48:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58009 invoked by uid 99); 12 Oct 2005 22:48:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Oct 2005 15:48:51 -0700
Received-SPF: neutral (asf.osuosl.org: 205.152.59.65 is neither permitted nor denied by domain of rwatkins@foo-bar.org)
Received: from [205.152.59.65] (HELO imf17aec.mail.bellsouth.net) (205.152.59.65)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Oct 2005 15:48:53 -0700
Received: from ibm57aec.bellsouth.net ([68.209.119.157])
          by imf17aec.mail.bellsouth.net with ESMTP
          id <20051012224830.SGRI6626.imf17aec.mail.bellsouth.net@ibm57aec.bellsouth.net>
          for <java-user@lucene.apache.org>;
          Wed, 12 Oct 2005 18:48:30 -0400
Received: from jimwormold ([68.209.119.157]) by ibm57aec.bellsouth.net
          with ESMTP
          id <20051012224829.DQSU2401.ibm57aec.bellsouth.net@jimwormold>
          for <java-user@lucene.apache.org>;
          Wed, 12 Oct 2005 18:48:29 -0400
Date: Wed, 12 Oct 2005 18:48:42 -0400 (EDT)
From: Robert Watkins <rwatkins@foo-bar.org>
To: java-user@lucene.apache.org
Subject: Re: wildcards within a phrase query
In-Reply-To: <200510122259.38155@danielnaber.de>
Message-ID: <Pine.LNX.4.63.0510121846120.31691@jimwormold>
References: <Pine.LNX.4.63.0510110916360.19848@jimwormold>
 <200510120042.10182@danielnaber.de> <Pine.LNX.4.63.0510120959290.14908@jimwormold>
 <200510122259.38155@danielnaber.de>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thank you, Daniel. Once I get an environment suitable enough I will
certainly give this a whirl.

-- Robert

On Wed, 12 Oct 2005, Daniel Naber wrote:

> On Mittwoch 12 Oktober 2005 17:18, Robert Watkins wrote:
>
>> Does that sound reasonable -- and scalable -- to you?
>
> I don't think you need to iterate at all, you can easily expand the terms
> of a query:
>
>    QueryParser qp = new QueryParser("f", new StandardAnalyzer());
>    Query q = qp.parse("e*");
>    IndexReader ir = IndexReader.open("/tmp/index");
>    System.out.println(q.rewrite(ir));
>
> This will expand e* to all of your indice's words that start with "e". Same
> for wildcard queries.
>
> I'll leave the guessing about performance to others. Why not just give it a
> try when it's so easy?
>
> Regards
> Daniel
>
> -- 
> http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16887-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 12 22:56:31 2005
Return-Path: <java-user-return-16887-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37823 invoked from network); 12 Oct 2005 22:56:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Oct 2005 22:56:31 -0000
Received: (qmail 67337 invoked by uid 500); 12 Oct 2005 22:56:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67311 invoked by uid 500); 12 Oct 2005 22:56:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67300 invoked by uid 99); 12 Oct 2005 22:56:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Oct 2005 15:56:25 -0700
Received-SPF: pass (asf.osuosl.org: domain of daniel.armbrust.list@gmail.com designates 72.14.204.204 as permitted sender)
Received: from [72.14.204.204] (HELO qproxy.gmail.com) (72.14.204.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Oct 2005 15:56:27 -0700
Received: by qproxy.gmail.com with SMTP id f11so13583qba
        for <java-user@lucene.apache.org>; Wed, 12 Oct 2005 15:56:03 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:x-accept-language:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=UCAVbaDN81L1dOJoxxKXMA8i3XvLtJewb85yqLkpey0aOWeNAajZLIMosBwHEebb0mrhscdSgfffemo2AaQhThZdzS6wu4Bvt+qSVqKa9ZbgCOlR7dgher8tnRQpcPrugtDfhl1s6JpoAY2ycR88Rn2blOaGpYEyQYJKd1bELz8=
Received: by 10.65.194.12 with SMTP id w12mr624145qbp;
        Wed, 12 Oct 2005 14:08:50 -0700 (PDT)
Received: from ?172.22.19.82? ( [129.176.197.15])
        by mx.gmail.com with ESMTP id q17sm5154456qbq.2005.10.12.14.08.41;
        Wed, 12 Oct 2005 14:08:41 -0700 (PDT)
Message-ID: <434D7B58.60101@gmail.com>
Date: Wed, 12 Oct 2005 16:08:40 -0500
From: Dan Armbrust <daniel.armbrust.list@gmail.com>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Lucene and remote index and java applet, with no java app server
References: <1A6B6A5A3597C340BB63728001DC787902331024@kodos.na.wrq.com> <dij5g6$nd4$1@sea.gmane.org>
In-Reply-To: <dij5g6$nd4$1@sea.gmane.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> 
> So here comes the next part of my applet ignorance.
> 
> Can I embed the Lucene, etc, jar files in my applet so that when the
> user starts up the applet, they can be used on the local machine.
> 
> This alone probably stops me from using an applet, I guess.
> 
> Anyone have any idea where the definitive rules of what an applet can or
> can not do are located on the 'net?
> 
> Dave

Personally, I would still avoid the applets.  Webstart is a much better 
solution if you want to run on the client rather than the server.

You will may have to sign your jar files for webstart to get permission 
to use the file system - but self-signing works if you don't have a 
certificate - the users just get an annoying dialog box they have to say 
"yes" to.  You could put the entire lucene index into a jar file (that 
will get downloaded by webstart along with your application)

When your app starts up, it would extract the lucene index from the jar 
file to the users temp folder, and then run.

This has a bandwidth advantage over the applet - your entire application 
  and the index would be cached on the client machine by webstart - it 
would only download a new image of your app or of the index when it changes.

Actually, you may even be able to get away with not signing the code if 
you figured out a way to extract a lucene index from a jar file, and put 
it directly into a RAM directory, instead of the local file system.  I'm 
pretty sure Lucene doesn't support anything like this right now, but it 
may not be that difficult to implement.

Dan


-- 
****************************
Daniel Armbrust
Biomedical Informatics
Mayo Clinic Rochester
daniel.armbrust(at)mayo.edu
http://informatics.mayo.edu/

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16888-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 13 01:51:15 2005
Return-Path: <java-user-return-16888-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37448 invoked from network); 13 Oct 2005 01:51:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Oct 2005 01:51:15 -0000
Received: (qmail 82853 invoked by uid 500); 13 Oct 2005 01:51:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82825 invoked by uid 500); 13 Oct 2005 01:51:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82814 invoked by uid 99); 13 Oct 2005 01:51:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Oct 2005 18:51:09 -0700
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 72.14.204.203 as permitted sender)
Received: from [72.14.204.203] (HELO qproxy.gmail.com) (72.14.204.203)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Oct 2005 18:51:11 -0700
Received: by qproxy.gmail.com with SMTP id e12so10279qba
        for <java-user@lucene.apache.org>; Wed, 12 Oct 2005 18:50:48 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=bMsEtBBd+tIq9qGKXmbvXbc9Fkdi7860Y9so4uosXhtn/Iaw0f25gZLMWgTRGKm+I/OZjC9lHYNgyWLpD0md47VofPv/VwHJcALYsGY787I/7uWRMDgIPe1NnPWU1QQc93T5ZeiRbak3gY32XYKf+IfMJt37UmoucTCdsj5Ertk=
Received: by 10.65.22.16 with SMTP id z16mr708735qbi;
        Wed, 12 Oct 2005 18:50:48 -0700 (PDT)
Received: by 10.64.10.17 with HTTP; Wed, 12 Oct 2005 18:50:48 -0700 (PDT)
Message-ID: <50f433360510121850l71615221j52eed978ed06ba6c@mail.gmail.com>
Date: Wed, 12 Oct 2005 18:50:48 -0700
From: Jeff Rodenburg <jeff.rodenburg@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: RemoteSearchable woes
In-Reply-To: <50f433360510112015l794ab8ejdef625f056c3d80b@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_43741_26654638.1129168248246"
References: <50f433360510112015l794ab8ejdef625f056c3d80b@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_43741_26654638.1129168248246
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I'll take the no-response as a "no". :-)


On 10/11/05, Jeff Rodenburg <jeff.rodenburg@gmail.com> wrote:
>
> Anyone running RemoteSearchable? I'm on v1.4.3 and am using it just fine,
> until I need to:
>
> 1) use a custom sort, or
> 2) use something that extends HitCollector
>
> I've got an idea as to the reasons why (serialization and remoteness), bu=
t
> how do I get around these? Anyone run into issues like these and found a
> crafty way to solve it?
>
> Thoughts, comments, suggestions?
>
> - jeff r.
>

------=_Part_43741_26654638.1129168248246--

From java-user-return-16889-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 13 02:23:24 2005
Return-Path: <java-user-return-16889-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46815 invoked from network); 13 Oct 2005 02:23:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Oct 2005 02:23:24 -0000
Received: (qmail 16937 invoked by uid 500); 13 Oct 2005 02:23:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16916 invoked by uid 500); 13 Oct 2005 02:23:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16904 invoked by uid 99); 13 Oct 2005 02:23:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Oct 2005 19:23:18 -0700
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.49.145] (HELO web54415.mail.yahoo.com) (206.190.49.145)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 12 Oct 2005 19:23:20 -0700
Received: (qmail 84529 invoked by uid 60001); 13 Oct 2005 02:22:56 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=atyQ5CnuKYYUGQFbbpQKZbpYqU2gOgIZFXB7D9dyJ+I78VUvbSP+8vaoSC0hoovck45KjUzr5eS58PySb5tKucOttCgimbiiwkPawdy12F1gbPDgKl7ZCYvgy9U6R2i1C/9jwdjLLnVpQV0mhz6UkWY9V3gGX90tlfAGexOmMxA=  ;
Message-ID: <20051013022256.84527.qmail@web54415.mail.yahoo.com>
Received: from [69.236.188.66] by web54415.mail.yahoo.com via HTTP; Wed, 12 Oct 2005 19:22:56 PDT
Date: Wed, 12 Oct 2005 19:22:56 -0700 (PDT)
From: Truc Truong <sothy2k2@yahoo.com>
Subject: Need help with having lucene search result pipe to a file or memory
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1932487314-1129170176=:84106"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1932487314-1129170176=:84106
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Been trying to figure out how to setup OutputStream to produce a file for search results.  Now, I'm looking over if it's more efficient to just try and pipe it to memory instead.  Any suggestions?
 
Bucky

--0-1932487314-1129170176=:84106--

From java-user-return-16890-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 13 03:53:49 2005
Return-Path: <java-user-return-16890-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80038 invoked from network); 13 Oct 2005 03:53:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Oct 2005 03:53:48 -0000
Received: (qmail 22480 invoked by uid 500); 13 Oct 2005 03:53:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22449 invoked by uid 500); 13 Oct 2005 03:53:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22438 invoked by uid 99); 13 Oct 2005 03:53:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Oct 2005 20:53:42 -0700
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 72.14.204.200 as permitted sender)
Received: from [72.14.204.200] (HELO qproxy.gmail.com) (72.14.204.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Oct 2005 20:53:45 -0700
Received: by qproxy.gmail.com with SMTP id d8so30617qbc
        for <java-user@lucene.apache.org>; Wed, 12 Oct 2005 20:53:21 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=g6xNxtr3yTOdWd59oRan/KPFRvOfYX65Q/hL7XfVlJiOn0Hqj2ox/JrDMPMgF6v5PyxxR9mXv+v7N8ot8Sp3MhnY+p0imgqotlHwoTpmXfE3qyzV9GJWUlIxwDyZThh9H9DP0ss8CsFyi5H2TTQnnwOrjMJHwGVELa6NnCPSBfc=
Received: by 10.65.83.19 with SMTP id k19mr726376qbl;
        Wed, 12 Oct 2005 20:53:21 -0700 (PDT)
Received: by 10.65.121.10 with HTTP; Wed, 12 Oct 2005 20:53:21 -0700 (PDT)
Message-ID: <c68e39170510122053n6c3bd0f7p32927c4a31801427@mail.gmail.com>
Date: Wed, 12 Oct 2005 23:53:21 -0400
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: "docMap" array in SegmentMergeInfo
In-Reply-To: <c68e39170510120708x39113cc9r269cc82176d5c76a@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_11845_31347194.1129175601841"
References: <20050713184257.55124.qmail@web41208.mail.yahoo.com>
	 <42D5881C.6040304@apache.org>
	 <e994873a0510111514s4051c52fp397cd5e42cedad22@mail.gmail.com>
	 <88c6a6720510111623m3e09dbb2y4605c6c4a7485bf3@mail.gmail.com>
	 <c68e39170510112040j6ed0f2buad6a02ed01d75ce9@mail.gmail.com>
	 <e994873a0510120519u299f596fk339957c7abf0de82@mail.gmail.com>
	 <c68e39170510120708x39113cc9r269cc82176d5c76a@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_11845_31347194.1129175601841
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Here's the patch:
http://issues.apache.org/jira/browse/LUCENE-454

It resulted in quite a performance boost indeed!

On 10/12/05, Yonik Seeley <yseeley@gmail.com> wrote:
>
> Thanks for the trace Peter, and great catch!
> It certainly does look like avoiding the construction of the docMap for a
> MultiTermEnum will be a significant optimization.
>
>
-Yonik
Now hiring -- http://tinyurl.com/7m67g

------=_Part_11845_31347194.1129175601841--

From java-user-return-16891-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 13 08:07:35 2005
Return-Path: <java-user-return-16891-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94324 invoked from network); 13 Oct 2005 08:07:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Oct 2005 08:07:35 -0000
Received: (qmail 59186 invoked by uid 500); 13 Oct 2005 08:07:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59090 invoked by uid 500); 13 Oct 2005 08:07:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59034 invoked by uid 99); 13 Oct 2005 08:07:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Oct 2005 01:07:24 -0700
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [147.83.41.105] (HELO mail.fib.upc.es) (147.83.41.105)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Oct 2005 01:07:27 -0700
Received: from [147.83.58.160] (tarragona.fib.upc.es [147.83.58.160])
	by mail.fib.upc.es (Postfix) with ESMTP id E22941BB4A;
	Thu, 13 Oct 2005 10:06:50 +0200 (CEST)
Message-ID: <434E159A.9030304@fib.upc.edu>
Date: Thu, 13 Oct 2005 10:06:50 +0200
From: Daniel Cortes <dcortes@fib.upc.edu>
Organization: FIB
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org, aviran.mordo@lmco.com
Subject: Re: Hits sorted
References: <92A278501EF50444AD3EE1FFB51219550BCE399D@emss10m03.us.lmco.com>
In-Reply-To: <92A278501EF50444AD3EE1FFB51219550BCE399D@emss10m03.us.lmco.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Scaned-FIB: AntiVirus/AntiSpam en fib.upc.es
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

thks but It doesn't work, I tried this
    Hits encontrados=searcher.search(buscar,new Sort("DATE"));

and all my documents have a Field.Keyword called DATE.
If i do the search without sort parameter it returns me a lot of 
results, but if i do the search with sort parameter it doesn't return 
any hits.why?
I thinked that the only thing that I need to use Sort is that the field 
was indexed and not tokenized and in my case is a Field type Keyword.


Mordo, Aviran (EXP N-NANNATEK) wrote:

>Just use the Sort option in the searcher
>http://lucene.apache.org/java/docs/api/org/apache/lucene/search/Searcher
>.html#search(org.apache.lucene.search.Query,%20org.apache.lucene.search.
>Sort)
>
>Aviran
>http://www.aviransplace.com
>
>-----Original Message-----
>From: Daniel Cortes [mailto:dcortes@fib.upc.edu] 
>Sent: Tuesday, October 11, 2005 2:58 PM
>To: java-user@lucene.apache.org
>Subject: Hits sorted
>
>Hi everybody, I have a problem when I find all the documents added in
>the last days in my index. It works good but I want show this results
>sorted. What I have to do?
>
>My code is this:
>
>    private RangeQuery findINTODates(int days) {
>        Term from;
>        Term to;
>
>        Calendar calendar = new GregorianCalendar();
>        calendar.add(Calendar.DATE,-(days));
>       
>        SimpleDateFormat originalFormatter = new SimpleDateFormat
>("yyyyMMdd");
>        from = new
>Term("DATE",originalFormatter.format(calendar.getTime()));
>        to = new Term("DATE",originalFormatter.format(new Date()));
>
>        RangeQuery lastdays= new RangeQuery(from,to,true);
>
>        return lasdays;
>    }
>
>and I call this
>
>    Hits returned=searcher.search(findINTODates(num_days));
>
>What I have to do? I have to use DateFilter or Sort elements ?  I don't
>know how to work with these classes.
>In mMy documents of lucene I added the field Date how a string and not
>how a date because it's more easy for add documents to index in my case.
>
>thks for all.
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16892-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 13 08:57:15 2005
Return-Path: <java-user-return-16892-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16470 invoked from network); 13 Oct 2005 08:57:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Oct 2005 08:57:15 -0000
Received: (qmail 24952 invoked by uid 500); 13 Oct 2005 08:57:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24709 invoked by uid 500); 13 Oct 2005 08:57:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24698 invoked by uid 99); 13 Oct 2005 08:57:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Oct 2005 01:57:08 -0700
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [147.83.41.105] (HELO mail.fib.upc.es) (147.83.41.105)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Oct 2005 01:57:10 -0700
Received: from [147.83.58.160] (tarragona.fib.upc.es [147.83.58.160])
	by mail.fib.upc.es (Postfix) with ESMTP id D10861BB3B
	for <java-user@lucene.apache.org>; Thu, 13 Oct 2005 10:56:40 +0200 (CEST)
Message-ID: <434E2148.4060704@fib.upc.edu>
Date: Thu, 13 Oct 2005 10:56:40 +0200
From: Daniel Cortes <dcortes@fib.upc.edu>
Organization: FIB
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Hits sorted
References: <92A278501EF50444AD3EE1FFB51219550BCE399D@emss10m03.us.lmco.com> <434E159A.9030304@fib.upc.edu>
In-Reply-To: <434E159A.9030304@fib.upc.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Scaned-FIB: AntiVirus/AntiSpam en fib.upc.es
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Excuse me I don't write the trace of error
java.lang.RuntimeException: no terms in field DATE - cannot determine 
sort type
        at 
org.apache.lucene.search.FieldCacheImpl.getAuto(FieldCacheImpl.java:319)
        at 
org.apache.lucene.search.FieldSortedHitQueue.comparatorAuto(FieldSortedHitQueue.java:327)
        at 
org.apache.lucene.search.FieldSortedHitQueue.getCachedComparator(FieldSortedHitQueue.java:170)
        at 
org.apache.lucene.search.FieldSortedHitQueue.<init>(FieldSortedHitQueue.java:58)
        at 
org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:122)
        at 
org.apache.lucene.search.MultiSearcher.search(MultiSearcher.java:141)
        at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:64)
        at org.apache.lucene.search.Hits.<init>(Hits.java:51)
        at org.apache.lucene.search.Searcher.search(Searcher.java:41)

thks in advance.


Daniel Cortes wrote:

> thks but It doesn't work, I tried this
>    Hits encontrados=searcher.search(buscar,new Sort("DATE"));
>
> and all my documents have a Field.Keyword called DATE.
> If i do the search without sort parameter it returns me a lot of 
> results, but if i do the search with sort parameter it doesn't return 
> any hits.why?
> I thinked that the only thing that I need to use Sort is that the 
> field was indexed and not tokenized and in my case is a Field type 
> Keyword.
>
>
> Mordo, Aviran (EXP N-NANNATEK) wrote:
>
>> Just use the Sort option in the searcher
>> http://lucene.apache.org/java/docs/api/org/apache/lucene/search/Searcher
>> .html#search(org.apache.lucene.search.Query,%20org.apache.lucene.search.
>> Sort)
>>
>> Aviran
>> http://www.aviransplace.com
>>
>> -----Original Message-----
>> From: Daniel Cortes [mailto:dcortes@fib.upc.edu] Sent: Tuesday, 
>> October 11, 2005 2:58 PM
>> To: java-user@lucene.apache.org
>> Subject: Hits sorted
>>
>> Hi everybody, I have a problem when I find all the documents added in
>> the last days in my index. It works good but I want show this results
>> sorted. What I have to do?
>>
>> My code is this:
>>
>>    private RangeQuery findINTODates(int days) {
>>        Term from;
>>        Term to;
>>
>>        Calendar calendar = new GregorianCalendar();
>>        calendar.add(Calendar.DATE,-(days));
>>              SimpleDateFormat originalFormatter = new SimpleDateFormat
>> ("yyyyMMdd");
>>        from = new
>> Term("DATE",originalFormatter.format(calendar.getTime()));
>>        to = new Term("DATE",originalFormatter.format(new Date()));
>>
>>        RangeQuery lastdays= new RangeQuery(from,to,true);
>>
>>        return lasdays;
>>    }
>>
>> and I call this
>>
>>    Hits returned=searcher.search(findINTODates(num_days));
>>
>> What I have to do? I have to use DateFilter or Sort elements ?  I don't
>> know how to work with these classes.
>> In mMy documents of lucene I added the field Date how a string and not
>> how a date because it's more easy for add documents to index in my case.
>>
>> thks for all.
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>  
>>
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16893-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 13 09:59:28 2005
Return-Path: <java-user-return-16893-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35972 invoked from network); 13 Oct 2005 09:59:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Oct 2005 09:59:26 -0000
Received: (qmail 96888 invoked by uid 500); 13 Oct 2005 09:59:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96389 invoked by uid 500); 13 Oct 2005 09:59:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96337 invoked by uid 99); 13 Oct 2005 09:59:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Oct 2005 02:59:13 -0700
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [147.83.41.105] (HELO mail.fib.upc.es) (147.83.41.105)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Oct 2005 02:58:37 -0700
Received: from [147.83.58.160] (tarragona.fib.upc.es [147.83.58.160])
	by mail.fib.upc.es (Postfix) with ESMTP id 92AAF1BB42;
	Thu, 13 Oct 2005 11:58:10 +0200 (CEST)
Message-ID: <434E2FB2.1090107@fib.upc.edu>
Date: Thu, 13 Oct 2005 11:58:10 +0200
From: Daniel Cortes <dcortes@fib.upc.edu>
Organization: FIB
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Cc: aviran.mordo@lmco.com
Subject: Re: Hits sorted
References: <92A278501EF50444AD3EE1FFB51219550BCE399D@emss10m03.us.lmco.com> <434E159A.9030304@fib.upc.edu>
In-Reply-To: <434E159A.9030304@fib.upc.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Scaned-FIB: AntiVirus/AntiSpam en fib.upc.es
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Solved, only replace
new Sort(new SortField("DATE",SortField.INT, true)));



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16894-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 13 10:15:54 2005
Return-Path: <java-user-return-16894-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42035 invoked from network); 13 Oct 2005 10:15:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Oct 2005 10:15:51 -0000
Received: (qmail 17215 invoked by uid 500); 13 Oct 2005 10:15:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17069 invoked by uid 500); 13 Oct 2005 10:15:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16628 invoked by uid 99); 13 Oct 2005 10:14:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Oct 2005 03:14:55 -0700
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [212.42.171.82] (HELO mail.runtime-collective.com) (212.42.171.82)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Oct 2005 03:12:55 -0700
Received: from [82.153.237.45] (helo=[192.168.1.132])
	by mail.runtime-collective.com with smtp (Exim 3.35 #1 (Debian))
	id 1EQ04V-0006Wu-00; Thu, 13 Oct 2005 11:12:23 +0100
Subject: Re: Hits sorted
From: Miles Barr <miles@runtime-collective.com>
To: java-user@lucene.apache.org
Cc: aviran.mordo@lmco.com
In-Reply-To: <434E2FB2.1090107@fib.upc.edu>
References: <92A278501EF50444AD3EE1FFB51219550BCE399D@emss10m03.us.lmco.com>
	 <434E159A.9030304@fib.upc.edu>  <434E2FB2.1090107@fib.upc.edu>
Content-Type: text/plain
Organization: Runtime Collective Ltd.
Date: Thu, 13 Oct 2005 11:11:34 +0100
Message-Id: <1129198294.15789.24.camel@localhost.localdomain>
Mime-Version: 1.0
X-Mailer: Evolution 2.2.2 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Thu, 2005-10-13 at 11:58 +0200, Daniel Cortes wrote:
> Solved, only replace
> new Sort(new SortField("DATE",SortField.INT, true)));

Alternatively you could use the DateField class:

http://lucene.apache.org/java/docs/api/org/apache/lucene/document/DateField.html

to translate your date's into Lucene's date representation. Of course
you'd have to update your index to store the date in the same format.



Miles Barr



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16895-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 13 12:29:14 2005
Return-Path: <java-user-return-16895-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98777 invoked from network); 13 Oct 2005 12:29:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Oct 2005 12:29:09 -0000
Received: (qmail 23090 invoked by uid 500); 13 Oct 2005 12:29:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22986 invoked by uid 500); 13 Oct 2005 12:29:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22864 invoked by uid 99); 13 Oct 2005 12:29:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Oct 2005 05:29:01 -0700
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [212.100.178.232] (HELO daemon.octalis.com) (212.100.178.232)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Oct 2005 05:29:02 -0700
Received: from [192.168.42.3] (thia.octalis.com [192.168.42.3])
	by daemon.octalis.com (Postfix) with ESMTP id 38E1E228BF3
	for <java-user@lucene.apache.org>; Thu, 13 Oct 2005 14:29:33 +0200 (CEST)
Message-ID: <434E5318.6000103@octalis.com>
Date: Thu, 13 Oct 2005 14:29:12 +0200
From: Xavier Orri <orri@octalis.com>
Organization: Octalis S.A.
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Unexpected analyzer behaviour with special characters
X-Enigmail-Version: 0.93.0.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I don't understand why my third test fails. If I scape my "- delimiter"
 what I expect is a character behaviour.

Could you clarify me what I'm doing wrong?


public void testStandardAnalyzer() throws Exception {
    Analyzer a = new StandardAnalyzer();
    assertAnalyzesTo(a, "ses1-one3", new String[]{"ses1-one3"});
    assertAnalyzesTo(a, "session-one", new String[]{"session","one"});
    assertAnalyzesTo(a, "session\\-one", new String[]{"session\\-one"});
}

Thanking in advance
Xavier Orri


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16896-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 13 12:43:10 2005
Return-Path: <java-user-return-16896-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4659 invoked from network); 13 Oct 2005 12:43:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Oct 2005 12:43:09 -0000
Received: (qmail 43565 invoked by uid 500); 13 Oct 2005 12:43:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43264 invoked by uid 500); 13 Oct 2005 12:43:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43249 invoked by uid 99); 13 Oct 2005 12:43:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Oct 2005 05:43:04 -0700
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Oct 2005 05:43:06 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id DB4C313E2005; Thu, 13 Oct 2005 08:42:40 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id A2F7F13E2005
	for <java-user@lucene.apache.org>; Thu, 13 Oct 2005 08:42:19 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <434E5318.6000103@octalis.com>
References: <434E5318.6000103@octalis.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <C05555DA-4CEF-491E-B903-02CB69FE5E8E@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Unexpected analyzer behaviour with special characters
Date: Thu, 13 Oct 2005 08:42:17 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

StandardAnalyzer does not have any escaped-character handling  
capability.  So the backslash and dash are treated without any  
special care in "session\-one".

You will need to build your own Analyzer with a custom tokenizer to  
handle this type of escaping.

     Erik

On Oct 13, 2005, at 8:29 AM, Xavier Orri wrote:

> Hi,
>
> I don't understand why my third test fails. If I scape my "-  
> delimiter"
>  what I expect is a character behaviour.
>
> Could you clarify me what I'm doing wrong?
>
>
> public void testStandardAnalyzer() throws Exception {
>     Analyzer a = new StandardAnalyzer();
>     assertAnalyzesTo(a, "ses1-one3", new String[]{"ses1-one3"});
>     assertAnalyzesTo(a, "session-one", new String[]{"session","one"});
>     assertAnalyzesTo(a, "session\\-one", new String[]{"session\\- 
> one"});
> }
>
> Thanking in advance
> Xavier Orri
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16897-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 13 13:03:15 2005
Return-Path: <java-user-return-16897-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12552 invoked from network); 13 Oct 2005 13:03:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Oct 2005 13:03:15 -0000
Received: (qmail 74597 invoked by uid 500); 13 Oct 2005 13:03:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74567 invoked by uid 500); 13 Oct 2005 13:03:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74547 invoked by uid 99); 13 Oct 2005 13:03:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Oct 2005 06:03:08 -0700
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [65.209.1.80] (HELO webmail.cymfony.com) (65.209.1.80)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Oct 2005 06:03:10 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: RemoteSearchable woes
Date: Thu, 13 Oct 2005 09:00:28 -0400
Message-ID: <13F36D2926AD444697093282F20041B703876B7C@buf-ex01.cymfony.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: RemoteSearchable woes
Thread-Index: AcXPeWhisFf2ZdxqQJyU/Tc+zu2t0AAe8q2A
From: "Peter Kim" <pkim@cymfony.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

The system I'm working on requires that I also need to use a custom hit
collector. I'm not using the RemoteSearchable. Instead, I'm just binding
an object called SearcherImpl that contains an IndexSearcher and a
getResults() method that uses the custom hit collector.=20

Peter

> -----Original Message-----
> From: Jeff Rodenburg [mailto:jeff.rodenburg@gmail.com]=20
> Sent: Tuesday, October 11, 2005 11:15 PM
> To: java-user@lucene.apache.org
> Subject: RemoteSearchable woes
>=20
> Anyone running RemoteSearchable? I'm on v1.4.3 and am using=20
> it just fine, until I need to:
>=20
> 1) use a custom sort, or
> 2) use something that extends HitCollector
>=20
> I've got an idea as to the reasons why (serialization and=20
> remoteness), but how do I get around these? Anyone run into=20
> issues like these and found a crafty way to solve it?
>=20
> Thoughts, comments, suggestions?
>=20
> - jeff r.
>=20
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16898-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 13 18:30:48 2005
Return-Path: <java-user-return-16898-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94136 invoked from network); 13 Oct 2005 18:30:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Oct 2005 18:30:47 -0000
Received: (qmail 77192 invoked by uid 500); 13 Oct 2005 18:30:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77167 invoked by uid 500); 13 Oct 2005 18:30:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77156 invoked by uid 99); 13 Oct 2005 18:30:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Oct 2005 11:30:41 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of peterlkeegan@gmail.com designates 64.233.184.206 as permitted sender)
Received: from [64.233.184.206] (HELO wproxy.gmail.com) (64.233.184.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Oct 2005 11:30:42 -0700
Received: by wproxy.gmail.com with SMTP id i21so155107wra
        for <java-user@lucene.apache.org>; Thu, 13 Oct 2005 11:30:19 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=YGQ2Ck7hW/OkqJfgC9kFHS75oxwWtPyeqf9zV4qs3K0aQ0Qhb6DFmhaibo2Eqk8J3fyV28RvWWrqUDbvcqHmt3VxPhJ/H9JMhjWuPYty9/ei0eIDoylUmf0Z0Yz9bfVV2uVhi8Bxi+RVYJrlp4VBWzJ++sIc5L7fBCpHP2Rhknc=
Received: by 10.54.116.5 with SMTP id o5mr707542wrc;
        Thu, 13 Oct 2005 11:29:24 -0700 (PDT)
Received: by 10.54.122.18 with HTTP; Thu, 13 Oct 2005 11:30:19 -0700 (PDT)
Message-ID: <e994873a0510131130x536a2f13y291f9171eac0642e@mail.gmail.com>
Date: Thu, 13 Oct 2005 14:30:19 -0400
From: Peter Keegan <peterlkeegan@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: "docMap" array in SegmentMergeInfo
In-Reply-To: <c68e39170510122053n6c3bd0f7p32927c4a31801427@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_7122_17635977.1129228219340"
References: <20050713184257.55124.qmail@web41208.mail.yahoo.com>
	 <42D5881C.6040304@apache.org>
	 <e994873a0510111514s4051c52fp397cd5e42cedad22@mail.gmail.com>
	 <88c6a6720510111623m3e09dbb2y4605c6c4a7485bf3@mail.gmail.com>
	 <c68e39170510112040j6ed0f2buad6a02ed01d75ce9@mail.gmail.com>
	 <e994873a0510120519u299f596fk339957c7abf0de82@mail.gmail.com>
	 <c68e39170510120708x39113cc9r269cc82176d5c76a@mail.gmail.com>
	 <c68e39170510122053n6c3bd0f7p32927c4a31801427@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_7122_17635977.1129228219340
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi Yonik,

Your patch has corrected the thread thrashing problem on multi-cpu systems.
I've tested it with both 1.4.3 and 1.9. I haven't seen 100X performance
gain, but that's because I'm caching QueryFilters and Lucene is caching the
sort fields.

Thanks for the fast response!

btw, I had previously tried Chris's fix (replace synchronized method with
snapshot reference), but I was getting errors trying to fetch stored fields
from the Hits. I didn't chase it down, but the errors went away when I
reverted that specific patch.

Peter


On 10/12/05, Yonik Seeley <yseeley@gmail.com> wrote:
>
> Here's the patch:
> http://issues.apache.org/jira/browse/LUCENE-454
>
> It resulted in quite a performance boost indeed!
>
> On 10/12/05, Yonik Seeley <yseeley@gmail.com> wrote:
> >
> > Thanks for the trace Peter, and great catch!
> > It certainly does look like avoiding the construction of the docMap for
> a
> > MultiTermEnum will be a significant optimization.
> >
> >
> -Yonik
> Now hiring -- http://tinyurl.com/7m67g
>
>

------=_Part_7122_17635977.1129228219340--

From java-user-return-16899-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 13 20:45:33 2005
Return-Path: <java-user-return-16899-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67757 invoked from network); 13 Oct 2005 20:45:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Oct 2005 20:45:33 -0000
Received: (qmail 41798 invoked by uid 500); 13 Oct 2005 20:45:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41756 invoked by uid 500); 13 Oct 2005 20:45:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41730 invoked by uid 99); 13 Oct 2005 20:45:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Oct 2005 13:45:26 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [24.29.109.7] (HELO ms-smtp-03.rdc-nyc.rr.com) (24.29.109.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Oct 2005 13:45:27 -0700
Received: from [192.168.1.103] (cpe-66-108-35-120.nyc.res.rr.com [66.108.35.120])
	by ms-smtp-03.rdc-nyc.rr.com (8.12.10/8.12.7) with ESMTP id j9DKiAME000757
	for <java-user@lucene.apache.org>; Thu, 13 Oct 2005 16:44:12 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
Content-Transfer-Encoding: 7bit
Message-Id: <61A5302E-F267-4F62-9456-5021D47B57B4@earthlink.net>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
To: java-user@lucene.apache.org
From: Andy Lee <aglee@earthlink.net>
Subject: Do you believe in Clause sanity?
Date: Thu, 13 Oct 2005 16:45:01 -0400
X-Mailer: Apple Mail (2.734)
X-Virus-Scanned: Symantec AntiVirus Scan Engine
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

The API for BooleanQuery only seems to allow adding clauses.  The  
nearest way I can see to *remove* a clause is by laboriously  
constructing a new BooleanQuery (assuming you aren't absolutely tied  
to the original instance) and adding all the clauses from the  
original query except the one you're removing.  And *that's* rather  
cumbersome because you can't actually add a clause; you have to use  
one of the addRequired-/addProhibited- methods -- and they take  
arrays of String rather than the array of Term that you can get from  
a Clause.

It seems reasonable to me to want to remove clauses from a query.  Is  
there some reasonable way of doing this that I'm missing?

--Andy


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16900-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 13 21:24:09 2005
Return-Path: <java-user-return-16900-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86180 invoked from network); 13 Oct 2005 21:24:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Oct 2005 21:24:07 -0000
Received: (qmail 95861 invoked by uid 500); 13 Oct 2005 21:23:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94807 invoked by uid 500); 13 Oct 2005 21:23:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94722 invoked by uid 99); 13 Oct 2005 21:23:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Oct 2005 14:23:35 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [24.29.109.7] (HELO ms-smtp-03.rdc-nyc.rr.com) (24.29.109.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Oct 2005 14:22:05 -0700
Received: from [192.168.1.103] (cpe-66-108-35-120.nyc.res.rr.com [66.108.35.120])
	by ms-smtp-03.rdc-nyc.rr.com (8.12.10/8.12.7) with ESMTP id j9DLKmME003746;
	Thu, 13 Oct 2005 17:20:48 -0400 (EDT)
In-Reply-To: <61A5302E-F267-4F62-9456-5021D47B57B4@earthlink.net>
References: <61A5302E-F267-4F62-9456-5021D47B57B4@earthlink.net>
Mime-Version: 1.0 (Apple Message framework v734)
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <2C8F1C49-8FEA-4AF1-9C88-6C63918CB208@earthlink.net>
Cc: nutch-user@lucene.apache.org
Content-Transfer-Encoding: 7bit
From: Andy Lee <aglee@earthlink.net>
Subject: Re: Do you believe in Clause sanity?
Date: Thu, 13 Oct 2005 17:21:39 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Virus-Scanned: Symantec AntiVirus Scan Engine
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Oops, I'm confusing libraries.  I meant I want to remove a Nutch  
Clause from a Nutch Query.

--Andy

On Oct 13, 2005, at 4:45 PM, Andy Lee wrote:

> The API for BooleanQuery only seems to allow adding clauses.  The  
> nearest way I can see to *remove* a clause is by laboriously  
> constructing a new BooleanQuery (assuming you aren't absolutely  
> tied to the original instance) and adding all the clauses from the  
> original query except the one you're removing.  And *that's* rather  
> cumbersome because you can't actually add a clause; you have to use  
> one of the addRequired-/addProhibited- methods -- and they take  
> arrays of String rather than the array of Term that you can get  
> from a Clause.
>
> It seems reasonable to me to want to remove clauses from a query.   
> Is there some reasonable way of doing this that I'm missing?
>
> --Andy
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16901-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 14 14:49:02 2005
Return-Path: <java-user-return-16901-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37011 invoked from network); 14 Oct 2005 14:49:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Oct 2005 14:49:01 -0000
Received: (qmail 11814 invoked by uid 500); 14 Oct 2005 14:48:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11785 invoked by uid 500); 14 Oct 2005 14:48:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11774 invoked by uid 99); 14 Oct 2005 14:48:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Oct 2005 07:48:54 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [193.252.22.30] (HELO smtp1.wanadoo.fr) (193.252.22.30)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Oct 2005 07:48:56 -0700
Received: from me-wanadoo.net (localhost [127.0.0.1])
	by mwinf0112.wanadoo.fr (SMTP Server) with ESMTP id E58C41C005BC
	for <java-user@lucene.apache.org>; Fri, 14 Oct 2005 16:48:31 +0200 (CEST)
Received: from [127.0.0.1] (AVelizy-115-2-1-38.w81-48.abo.wanadoo.fr [81.48.163.38])
	by mwinf0112.wanadoo.fr (SMTP Server) with ESMTP id B74D11C0063C
	for <java-user@lucene.apache.org>; Fri, 14 Oct 2005 16:48:31 +0200 (CEST)
X-ME-UUID: 20051014144831750.B74D11C0063C@mwinf0112.wanadoo.fr
Message-ID: <434FC53D.10007@jalios.com>
Date: Fri, 14 Oct 2005 16:48:29 +0200
From: Olivier Jaquemet <olivier.jaquemet@jalios.com>
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Java User ML <java-user@lucene.apache.org>
Subject: Lucene 1.9 release date?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi all,

Some features we would like to use for our next software revision are 
part of lucene 1.9, in order to know if we can plan to use this version, 
could you tell me when do you think lucene 1.9 stable will be released?
I could not find any roadmap on the lucene site or wiki.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16902-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 14 15:18:26 2005
Return-Path: <java-user-return-16902-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51856 invoked from network); 14 Oct 2005 15:18:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Oct 2005 15:18:26 -0000
Received: (qmail 67883 invoked by uid 500); 14 Oct 2005 15:18:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67646 invoked by uid 500); 14 Oct 2005 15:18:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67635 invoked by uid 99); 14 Oct 2005 15:18:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Oct 2005 08:18:20 -0700
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=NO_REAL_NAME,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 151.12.57.13 is neither permitted nor denied by domain of surabaja@gmail.com)
Received: from [151.12.57.13] (HELO mail2.it.atosorigin.com) (151.12.57.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Oct 2005 08:18:21 -0700
Received: from semarmn0013.roma.it.int.atosorigin.com ([161.27.24.23]) by mail2.it.atosorigin.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Fri, 14 Oct 2005 17:26:36 +0200
Received: by semarmn0013.roma.it.int.atosorigin.com with Internet Mail Service (5.5.2657.72)
	id <TM8A03K8>; Fri, 14 Oct 2005 17:17:28 +0200
Received: from s2itpsmex1.psm.it.int.atosorigin.com ([161.27.2.11]) by semarmn0013.roma.it.int.atosorigin.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2657.72)
	id TM8A03K5; Fri, 14 Oct 2005 17:17:25 +0200
Received: from [161.27.3.112] (dhc27-3-112pc.psm.it.int.atosorigin.com [161.27.3.112]) by s2itpsmex1.psm.it.int.atosorigin.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id 2XNW567Z; Fri, 14 Oct 2005 17:17:53 +0200
From: surabaja@gmail.com
To: java-user@lucene.apache.org
Message-ID: <434FCC33.2020505@gmail.com>
Date: Fri, 14 Oct 2005 17:18:11 +0200
User-Agent: Mozilla Thunderbird 1.0.7-1.1.fc4 (X11/20050929)
X-Accept-Language: en-us, en
MIME-Version: 1.0
Subject: missing RTFEditorKit in LIA example code
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 14 Oct 2005 15:26:36.0203 (UTC) FILETIME=[AA3257B0:01C5D0D3]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

I am trying to build from a clean copy of LIA example code, on Linux 
Fedora Core 4
The import of RTFEditorKit keeps failing. Am I missing something here?
Thank you in advance for your help.
SJ
---
lucene-1.4.3-1jpp_3fc
ant-1.6.2-3jpp_8fc
j2sdk-1.4.2_08-fcs

$ ant Indexer
Buildfile: build.xml
check-environment:
compile:
    [javac] Compiling 1 source file to 
/home/karl/Lucene/1.1/Sources/LuceneInAction/build/classes
    [javac] 1. ERROR in 
/src/lia/handlingtypes/rtf/JavaBuiltInRTFHandler.java
    [javac]  (at line 16)
    [javac]  import javax.swing.text.rtf.RTFEditorKit;
    [javac] The import javax.swing.text.rtf cannot be resolved
    [javac] 2. ERROR in 
/src/lia/handlingtypes/rtf/JavaBuiltInRTFHandler.java
    [javac]  (at line 30)
    [javac]  new RTFEditorKit().read(is, styledDoc, 0);
    [javac] RTFEditorKit cannot be resolved to a type


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16903-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 14 16:18:47 2005
Return-Path: <java-user-return-16903-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78972 invoked from network); 14 Oct 2005 16:18:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Oct 2005 16:18:47 -0000
Received: (qmail 37482 invoked by uid 500); 14 Oct 2005 16:18:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37451 invoked by uid 500); 14 Oct 2005 16:18:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37439 invoked by uid 99); 14 Oct 2005 16:18:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Oct 2005 09:18:41 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Oct 2005 09:18:43 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 6850E13E2006; Fri, 14 Oct 2005 12:18:18 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id DC07E13E2005
	for <java-user@lucene.apache.org>; Fri, 14 Oct 2005 12:17:50 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <434FC53D.10007@jalios.com>
References: <434FC53D.10007@jalios.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <C9FC8269-1CCD-4231-966E-3A0F897C6A76@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Lucene 1.9 release date?
Date: Fri, 14 Oct 2005 12:17:45 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Olivier,

Your best bet it to discuss this on the java-dev list.  At this  
point, we haven't a firm volunteer for pushing out a release.  I'd be  
thrilled for someone to step up to the plate.  The first thing would  
be to go through JIRA and see what issues are open.  There are a  
number of great contributions that have not been applied.  I'd  
personally be willing to apply some patches that have been blessed by  
Doug or others.

There is no date set.  I realize that some companies become fixated  
on having "1.9 FINAL", but there is not really a good reason for such  
concern... the only difference, if we built the release now, between  
1.9-dev-rc<whatever> and 1.9 FINAL is _nothing_.  Build what is in  
Subversion and run with it :)  Report issues if you encounter any.

     Erik

On Oct 14, 2005, at 10:48 AM, Olivier Jaquemet wrote:

> Hi all,
>
> Some features we would like to use for our next software revision  
> are part of lucene 1.9, in order to know if we can plan to use this  
> version, could you tell me when do you think lucene 1.9 stable will  
> be released?
> I could not find any roadmap on the lucene site or wiki.
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16904-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 14 16:34:06 2005
Return-Path: <java-user-return-16904-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84375 invoked from network); 14 Oct 2005 16:34:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Oct 2005 16:34:05 -0000
Received: (qmail 58093 invoked by uid 500); 14 Oct 2005 16:33:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58064 invoked by uid 500); 14 Oct 2005 16:33:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58050 invoked by uid 99); 14 Oct 2005 16:33:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Oct 2005 09:33:58 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.200.34] (HELO web31101.mail.mud.yahoo.com) (68.142.200.34)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 14 Oct 2005 09:33:59 -0700
Received: (qmail 37728 invoked by uid 60001); 14 Oct 2005 16:33:36 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=d/QiwoBBRAKkLvWhPJ8qqgHzOdh3J3hSxkUzt7DVOoWkUGjyV2cPaz3B3/MgUTjgVVooGbPrmRXIoTdxEKL3WDVJQWxbezy/sNzsIozZLvO2tvZt5SPyC/P30ihCCutGWuQ3hHw/covGAoVD3gmvh/MsnIaJ3ERsj052C3cfsD8=  ;
Message-ID: <20051014163336.37722.qmail@web31101.mail.mud.yahoo.com>
Received: from [216.194.55.187] by web31101.mail.mud.yahoo.com via HTTP; Fri, 14 Oct 2005 09:33:36 PDT
Date: Fri, 14 Oct 2005 09:33:36 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: missing RTFEditorKit in LIA example code
To: java-user@lucene.apache.org
In-Reply-To: <434FCC33.2020505@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

Please use the LIA forum on manning.com site for questions specific to
LIA.  Erik and I will answer all LIA-specific questions there.  The
link to that is somewhere in the "About this book" section, I believe.

Otis

--- surabaja@gmail.com wrote:

> Hello,
> 
> I am trying to build from a clean copy of LIA example code, on Linux 
> Fedora Core 4
> The import of RTFEditorKit keeps failing. Am I missing something
> here?
> Thank you in advance for your help.
> SJ
> ---
> lucene-1.4.3-1jpp_3fc
> ant-1.6.2-3jpp_8fc
> j2sdk-1.4.2_08-fcs
> 
> $ ant Indexer
> Buildfile: build.xml
> check-environment:
> compile:
>     [javac] Compiling 1 source file to 
> /home/karl/Lucene/1.1/Sources/LuceneInAction/build/classes
>     [javac] 1. ERROR in 
> /src/lia/handlingtypes/rtf/JavaBuiltInRTFHandler.java
>     [javac]  (at line 16)
>     [javac]  import javax.swing.text.rtf.RTFEditorKit;
>     [javac] The import javax.swing.text.rtf cannot be resolved
>     [javac] 2. ERROR in 
> /src/lia/handlingtypes/rtf/JavaBuiltInRTFHandler.java
>     [javac]  (at line 30)
>     [javac]  new RTFEditorKit().read(is, styledDoc, 0);
>     [javac] RTFEditorKit cannot be resolved to a type
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16905-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 14 17:26:10 2005
Return-Path: <java-user-return-16905-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7951 invoked from network); 14 Oct 2005 17:26:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Oct 2005 17:26:10 -0000
Received: (qmail 37004 invoked by uid 500); 14 Oct 2005 17:26:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36966 invoked by uid 500); 14 Oct 2005 17:26:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36955 invoked by uid 99); 14 Oct 2005 17:26:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Oct 2005 10:26:03 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist@danielnaber.de designates 80.67.18.16 as permitted sender)
Received: from [80.67.18.16] (HELO smtprelay04.ispgateway.de) (80.67.18.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Oct 2005 10:26:04 -0700
Received: (qmail 24166 invoked from network); 14 Oct 2005 17:25:39 -0000
Received: from unknown (HELO p5496e7e5.dip.t-dialin.net) ([pbs]695637@[84.150.231.229])
          (envelope-sender <lucenelist@danielnaber.de>)
          by smtprelay04.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 14 Oct 2005 17:25:39 -0000
From: Daniel Naber <lucenelist@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: missing RTFEditorKit in LIA example code
Date: Fri, 14 Oct 2005 19:25:24 +0200
User-Agent: KMail/1.8.2
References: <434FCC33.2020505@gmail.com>
In-Reply-To: <434FCC33.2020505@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200510141925.24863@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Freitag 14 Oktober 2005 17:18, surabaja@gmail.com wrote:

> The import of RTFEditorKit keeps failing. Am I missing something here?

Doesn't Fedora Core come with some Open Source java? This may not include 
the Swing classes, so try with Sun's JDK.

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16906-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 14 18:36:45 2005
Return-Path: <java-user-return-16906-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39161 invoked from network); 14 Oct 2005 18:36:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Oct 2005 18:36:42 -0000
Received: (qmail 19120 invoked by uid 500); 14 Oct 2005 18:35:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17734 invoked by uid 500); 14 Oct 2005 18:35:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17121 invoked by uid 99); 14 Oct 2005 18:35:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Oct 2005 11:35:29 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [212.27.42.28] (HELO smtp2-g19.free.fr) (212.27.42.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Oct 2005 11:30:22 -0700
Received: from [127.0.0.1] (che78-1-82-232-202-34.fbx.proxad.net [82.232.202.34])
	by smtp2-g19.free.fr (Postfix) with ESMTP id 89D4E5221E
	for <java-user@lucene.apache.org>; Fri, 14 Oct 2005 20:29:57 +0200 (CEST)
Message-ID: <434FF964.8030407@jalios.com>
Date: Fri, 14 Oct 2005 20:31:00 +0200
From: Olivier Jaquemet <olivier.jaquemet@jalios.com>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Lucene 1.9 release date?
References: <434FC53D.10007@jalios.com> <C9FC8269-1CCD-4231-966E-3A0F897C6A76@ehatchersolutions.com>
In-Reply-To: <C9FC8269-1CCD-4231-966E-3A0F897C6A76@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> Build what is in  Subversion and run with it :)  Report issues if you 
> encounter any.


Then we will do so! :)
Thank you Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16907-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 15 03:06:37 2005
Return-Path: <java-user-return-16907-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14606 invoked from network); 15 Oct 2005 03:06:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Oct 2005 03:06:37 -0000
Received: (qmail 75496 invoked by uid 500); 15 Oct 2005 03:06:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75471 invoked by uid 500); 15 Oct 2005 03:06:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75460 invoked by uid 99); 15 Oct 2005 03:06:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Oct 2005 20:06:32 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of saturnism@gmail.com designates 64.233.184.201 as permitted sender)
Received: from [64.233.184.201] (HELO wproxy.gmail.com) (64.233.184.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Oct 2005 20:06:33 -0700
Received: by wproxy.gmail.com with SMTP id 36so308580wra
        for <java-user@lucene.apache.org>; Fri, 14 Oct 2005 20:06:10 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=JYHHOEzII1vnKsIv3CW4Sl+atUjx/xtgHdVZ2QNgJi4MIk+9yHPIz3T+zzdzBIrfY/cPTBaLhtqjdL2Rxj8uP1T3LdVeKZz0CvzasQeWJpSIdgh2cYxK7i0rWpsEY4yZdgGOXmdoItBKtukK5af6Y32X8M8XjiyW8wq50tkCrDk=
Received: by 10.54.157.6 with SMTP id f6mr1256515wre;
        Fri, 14 Oct 2005 20:06:10 -0700 (PDT)
Received: by 10.54.124.7 with HTTP; Fri, 14 Oct 2005 20:06:10 -0700 (PDT)
Message-ID: <fb9748c90510142006s6981c3a1r2ca25a9818f2f152@mail.gmail.com>
Date: Sat, 15 Oct 2005 11:06:10 +0800
From: Ray Tsang <saturnism@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene 1.9 release date?
In-Reply-To: <C9FC8269-1CCD-4231-966E-3A0F897C6A76@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: base64
Content-Disposition: inline
References: <434FC53D.10007@jalios.com>
	 <C9FC8269-1CCD-4231-966E-3A0F897C6A76@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Q2FuIHdlIGFkZCBhIDEuOSByZWxlYXNlIHRvIHRoZSByb2FkbWFwPyBvciBzdGFydCBhIDEuOSBy
ZWxlYXNlIHRyYWNrZXIgaXNzdWU/CgpyYXksCgpPbiAxMC8xNS8wNSwgRXJpayBIYXRjaGVyIDxl
cmlrQGVoYXRjaGVyc29sdXRpb25zLmNvbT4gd3JvdGU6Cj4gT2xpdmllciwKPgo+IFlvdXIgYmVz
dCBiZXQgaXQgdG8gZGlzY3VzcyB0aGlzIG9uIHRoZSBqYXZhLWRldiBsaXN0LiAgQXQgdGhpcwo+
IHBvaW50LCB3ZSBoYXZlbid0IGEgZmlybSB2b2x1bnRlZXIgZm9yIHB1c2hpbmcgb3V0IGEgcmVs
ZWFzZS4gIEknZCBiZQo+IHRocmlsbGVkIGZvciBzb21lb25lIHRvIHN0ZXAgdXAgdG8gdGhlIHBs
YXRlLiAgVGhlIGZpcnN0IHRoaW5nIHdvdWxkCj4gYmUgdG8gZ28gdGhyb3VnaCBKSVJBIGFuZCBz
ZWUgd2hhdCBpc3N1ZXMgYXJlIG9wZW4uICBUaGVyZSBhcmUgYQo+IG51bWJlciBvZiBncmVhdCBj
b250cmlidXRpb25zIHRoYXQgaGF2ZSBub3QgYmVlbiBhcHBsaWVkLiAgSSdkCj4gcGVyc29uYWxs
eSBiZSB3aWxsaW5nIHRvIGFwcGx5IHNvbWUgcGF0Y2hlcyB0aGF0IGhhdmUgYmVlbiBibGVzc2Vk
IGJ5Cj4gRG91ZyBvciBvdGhlcnMuCj4KPiBUaGVyZSBpcyBubyBkYXRlIHNldC4gIEkgcmVhbGl6
ZSB0aGF0IHNvbWUgY29tcGFuaWVzIGJlY29tZSBmaXhhdGVkCj4gb24gaGF2aW5nICIxLjkgRklO
QUwiLCBidXQgdGhlcmUgaXMgbm90IHJlYWxseSBhIGdvb2QgcmVhc29uIGZvciBzdWNoCj4gY29u
Y2Vybi4uLiB0aGUgb25seSBkaWZmZXJlbmNlLCBpZiB3ZSBidWlsdCB0aGUgcmVsZWFzZSBub3cs
IGJldHdlZW4KPiAxLjktZGV2LXJjPHdoYXRldmVyPiBhbmQgMS45IEZJTkFMIGlzIF9ub3RoaW5n
Xy4gIEJ1aWxkIHdoYXQgaXMgaW4KPiBTdWJ2ZXJzaW9uIGFuZCBydW4gd2l0aCBpdCA6KSAgUmVw
b3J0IGlzc3VlcyBpZiB5b3UgZW5jb3VudGVyIGFueS4KPgo+ICAgICAgRXJpawo+Cj4gT24gT2N0
IDE0LCAyMDA1LCBhdCAxMDo0OCBBTSwgT2xpdmllciBKYXF1ZW1ldCB3cm90ZToKPgo+ID4gSGkg
YWxsLAo+ID4KPiA+IFNvbWUgZmVhdHVyZXMgd2Ugd291bGQgbGlrZSB0byB1c2UgZm9yIG91ciBu
ZXh0IHNvZnR3YXJlIHJldmlzaW9uCj4gPiBhcmUgcGFydCBvZiBsdWNlbmUgMS45LCBpbiBvcmRl
ciB0byBrbm93IGlmIHdlIGNhbiBwbGFuIHRvIHVzZSB0aGlzCj4gPiB2ZXJzaW9uLCBjb3VsZCB5
b3UgdGVsbCBtZSB3aGVuIGRvIHlvdSB0aGluayBsdWNlbmUgMS45IHN0YWJsZSB3aWxsCj4gPiBi
ZSByZWxlYXNlZD8KPiA+IEkgY291bGQgbm90IGZpbmQgYW55IHJvYWRtYXAgb24gdGhlIGx1Y2Vu
ZSBzaXRlIG9yIHdpa2kuCj4gPgo+ID4KPiA+Cj4gPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KPiA+IFRvIHVuc3Vi
c2NyaWJlLCBlLW1haWw6IGphdmEtdXNlci11bnN1YnNjcmliZUBsdWNlbmUuYXBhY2hlLm9yZwo+
ID4gRm9yIGFkZGl0aW9uYWwgY29tbWFuZHMsIGUtbWFpbDogamF2YS11c2VyLWhlbHBAbHVjZW5l
LmFwYWNoZS5vcmcKPiA+Cj4KPgo+IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQo+IFRvIHVuc3Vic2NyaWJlLCBlLW1h
aWw6IGphdmEtdXNlci11bnN1YnNjcmliZUBsdWNlbmUuYXBhY2hlLm9yZwo+IEZvciBhZGRpdGlv
bmFsIGNvbW1hbmRzLCBlLW1haWw6IGphdmEtdXNlci1oZWxwQGx1Y2VuZS5hcGFjaGUub3JnCj4K
Pgo+Cg==


From java-user-return-16908-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 15 04:18:13 2005
Return-Path: <java-user-return-16908-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34226 invoked from network); 15 Oct 2005 04:18:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Oct 2005 04:18:12 -0000
Received: (qmail 8354 invoked by uid 500); 15 Oct 2005 04:18:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8313 invoked by uid 500); 15 Oct 2005 04:18:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8302 invoked by uid 99); 15 Oct 2005 04:18:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Oct 2005 21:18:05 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Oct 2005 21:14:10 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 55D0913E2006; Sat, 15 Oct 2005 00:13:45 -0400 (EDT)
Received: from [172.16.1.101] (va-71-48-138-146.dhcp.sprint-hsd.net [71.48.138.146])
	by ehatchersolutions.com (Postfix) with ESMTP id AD00213E2005
	for <java-user@lucene.apache.org>; Sat, 15 Oct 2005 00:13:25 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <fb9748c90510142006s6981c3a1r2ca25a9818f2f152@mail.gmail.com>
References: <434FC53D.10007@jalios.com> <C9FC8269-1CCD-4231-966E-3A0F897C6A76@ehatchersolutions.com> <fb9748c90510142006s6981c3a1r2ca25a9818f2f152@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <E8FB595A-4541-4DA5-98CC-A2C8689BBAA7@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Lucene 1.9 release date?
Date: Sat, 15 Oct 2005 00:13:15 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Oct 14, 2005, at 11:06 PM, Ray Tsang wrote:
> Can we add a 1.9 release to the roadmap? or start a 1.9 release  
> tracker issue?

If you mean the ability to log issues on JIRA for 1.9, I created that  
several weeks ago.  Let me know if something still isn't right.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16909-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 16 02:05:07 2005
Return-Path: <java-user-return-16909-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1290 invoked from network); 16 Oct 2005 02:05:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Oct 2005 02:05:07 -0000
Received: (qmail 25851 invoked by uid 500); 16 Oct 2005 02:05:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25820 invoked by uid 500); 16 Oct 2005 02:05:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25809 invoked by uid 99); 16 Oct 2005 02:05:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 15 Oct 2005 19:05:02 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.181.105.69] (HELO hfep03.dion.ne.jp) (203.181.105.69)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 15 Oct 2005 19:05:03 -0700
Received: from sekiguchi ([59.135.95.173]) by hfep03.dion.ne.jp with SMTP
          id <20051016020439462.IGLT@hfep03.dion.ne.jp>
          for <java-user@lucene.apache.org>;
          Sun, 16 Oct 2005 11:04:39 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
Subject: delete unnecessary files after optimize()
Date: Sun, 16 Oct 2005 11:04:33 +0900
Message-ID: <PKEIKOCKCHNIIHNECPCCEEGDCAAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-2022-jp"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

My Tomcat application has several threads. These threads
share a single instance of IndexSearcher to seach contents.

At some point in time, I have the following index directory:

-rwx------+ 1 admin admin 158622 Oct 16 10:21 _1pp.cfs
-rwx------+ 1 admin admin 158622 Oct 16 10:21 _2kk.cfs
-rwx------+ 1 admin admin 158622 Oct 16 10:21 _3ff.cfs
-rwx------+ 1 admin admin 158622 Oct 16 10:21 _4aa.cfs
-rwx------+ 1 admin admin 158614 Oct 16 10:20 _uu.cfs
-rwx------+ 1 admin admin       4 Oct 16 10:21 deletable
-rwx------+ 1 admin admin     64 Oct 16 10:21 segments

In this moment, I want to optimize() the index. I can do it safely
without interrupting Tomcat process.
After optimizing the index, I get a new compounf file _4ab.cfs:

-rwx------+ 1 admin admin 158622 Oct 16 10:21 _1pp.cfs
-rwx------+ 1 admin admin 158622 Oct 16 10:21 _2kk.cfs
-rwx------+ 1 admin admin 158622 Oct 16 10:21 _3ff.cfs
-rwx------+ 1 admin admin 158622 Oct 16 10:21 _4aa.cfs
-rwx------+ 1 admin admin 791622 Oct 16 10:21 _4ab.cfs
-rwx------+ 1 admin admin 158614 Oct 16 10:20 _uu.cfs
-rwx------+ 1 admin admin     48 Oct 16 10:21 deletable
-rwx------+ 1 admin admin     29 Oct 16 10:21 segments

Now I can let threads of Tomcat know that we have a new compound
file so that servlet can reopen IndexSearcher to use new segments.
But I want to delete old and unnecessary files (_1pp, _2kk,
_3ff, _4aa and _uu .cfs files) after reopening IndexSearcher
to save disk space.

How can I get a list of unnecessary files to delete them?

regards,

Koji




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16910-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 16 05:34:53 2005
Return-Path: <java-user-return-16910-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44601 invoked from network); 16 Oct 2005 05:34:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Oct 2005 05:34:53 -0000
Received: (qmail 10548 invoked by uid 500); 16 Oct 2005 05:34:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10425 invoked by uid 500); 16 Oct 2005 05:34:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10255 invoked by uid 99); 16 Oct 2005 05:34:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 15 Oct 2005 22:34:29 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.181.105.71] (HELO hfep05.dion.ne.jp) (203.181.105.71)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 15 Oct 2005 22:31:38 -0700
Received: from sekiguchi ([59.135.95.173]) by hfep05.dion.ne.jp with SMTP
          id <20051016053115128.VBCR@hfep05.dion.ne.jp>
          for <java-user@lucene.apache.org>;
          Sun, 16 Oct 2005 14:31:15 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
Subject: RE: delete unnecessary files after optimize()
Date: Sun, 16 Oct 2005 14:31:14 +0900
Message-ID: <PKEIKOCKCHNIIHNECPCCOEGDCAAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-2022-jp"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <PKEIKOCKCHNIIHNECPCCEEGDCAAA.koji.sekiguchi@m4.dion.ne.jp>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi again,

I've read http://lucene.apache.org/java/docs/fileformats.html
and now I think I know deletable file format.

> How can I get a list of unnecessary files to delete them?

I can get such information from deletable file under Win32 environment,
correct?

Koji

> -----Original Message-----
> From: Koji Sekiguchi [mailto:koji.sekiguchi@m4.dion.ne.jp]
> Sent: Sunday, October 16, 2005 11:05 AM
> To: java-user@lucene.apache.org
> Subject: delete unnecessary files after optimize()
>
>
> Hello,
>
> My Tomcat application has several threads. These threads
> share a single instance of IndexSearcher to seach contents.
>
> At some point in time, I have the following index directory:
>
> -rwx------+ 1 admin admin 158622 Oct 16 10:21 _1pp.cfs
> -rwx------+ 1 admin admin 158622 Oct 16 10:21 _2kk.cfs
> -rwx------+ 1 admin admin 158622 Oct 16 10:21 _3ff.cfs
> -rwx------+ 1 admin admin 158622 Oct 16 10:21 _4aa.cfs
> -rwx------+ 1 admin admin 158614 Oct 16 10:20 _uu.cfs
> -rwx------+ 1 admin admin       4 Oct 16 10:21 deletable
> -rwx------+ 1 admin admin     64 Oct 16 10:21 segments
>
> In this moment, I want to optimize() the index. I can do it safely
> without interrupting Tomcat process.
> After optimizing the index, I get a new compounf file _4ab.cfs:
>
> -rwx------+ 1 admin admin 158622 Oct 16 10:21 _1pp.cfs
> -rwx------+ 1 admin admin 158622 Oct 16 10:21 _2kk.cfs
> -rwx------+ 1 admin admin 158622 Oct 16 10:21 _3ff.cfs
> -rwx------+ 1 admin admin 158622 Oct 16 10:21 _4aa.cfs
> -rwx------+ 1 admin admin 791622 Oct 16 10:21 _4ab.cfs
> -rwx------+ 1 admin admin 158614 Oct 16 10:20 _uu.cfs
> -rwx------+ 1 admin admin     48 Oct 16 10:21 deletable
> -rwx------+ 1 admin admin     29 Oct 16 10:21 segments
>
> Now I can let threads of Tomcat know that we have a new compound
> file so that servlet can reopen IndexSearcher to use new segments.
> But I want to delete old and unnecessary files (_1pp, _2kk,
> _3ff, _4aa and _uu .cfs files) after reopening IndexSearcher
> to save disk space.
>
> How can I get a list of unnecessary files to delete them?
>
> regards,
>
> Koji
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16911-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 16 06:42:47 2005
Return-Path: <java-user-return-16911-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57941 invoked from network); 16 Oct 2005 06:42:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Oct 2005 06:42:47 -0000
Received: (qmail 34253 invoked by uid 500); 16 Oct 2005 06:42:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34224 invoked by uid 500); 16 Oct 2005 06:42:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34213 invoked by uid 99); 16 Oct 2005 06:42:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 15 Oct 2005 23:42:42 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 15 Oct 2005 23:42:42 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 15DBB5B78E; Sat, 15 Oct 2005 23:42:17 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 0DFEC7F466
	for <java-user@lucene.apache.org>; Sat, 15 Oct 2005 23:42:17 -0700 (PDT)
Date: Sat, 15 Oct 2005 23:42:16 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: RE: delete unnecessary files after optimize()
In-Reply-To: <PKEIKOCKCHNIIHNECPCCOEGDCAAA.koji.sekiguchi@m4.dion.ne.jp>
Message-ID: <Pine.LNX.4.58.0510152328210.26917@hal.rescomp.berkeley.edu>
References: <PKEIKOCKCHNIIHNECPCCOEGDCAAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: > How can I get a list of unnecessary files to delete them?
:
: I can get such information from deletable file under Win32 environment,
: correct?

I've never used Lucene on windows, but if I recall correctly from past
discussions on this topic, the IndexWriter will try to delete any file
listed in deletable whenever it does any segment merging (ie: after adding
some number of documents, when you call .optimize(), or when you call
.close().

the only reason those files won't be deleted is if some IndexReader has
them open -- in which cas you won't be able to delete them either, so
don't worry about it.  The safest thing to do is make sure you
periodically reopen new IndexReaders, and if you're really in a hurry to
get rid of those files, periodically open/close a new IndexWriter too
(even if you don't need one) ... that should cause it to try to delete the
files again.


: > -----Original Message-----
: > From: Koji Sekiguchi [mailto:koji.sekiguchi@m4.dion.ne.jp]
: > Sent: Sunday, October 16, 2005 11:05 AM
: > To: java-user@lucene.apache.org
: > Subject: delete unnecessary files after optimize()
: >
: >
: > Hello,
: >
: > My Tomcat application has several threads. These threads
: > share a single instance of IndexSearcher to seach contents.
: >
: > At some point in time, I have the following index directory:
: >
: > -rwx------+ 1 admin admin 158622 Oct 16 10:21 _1pp.cfs
: > -rwx------+ 1 admin admin 158622 Oct 16 10:21 _2kk.cfs
: > -rwx------+ 1 admin admin 158622 Oct 16 10:21 _3ff.cfs
: > -rwx------+ 1 admin admin 158622 Oct 16 10:21 _4aa.cfs
: > -rwx------+ 1 admin admin 158614 Oct 16 10:20 _uu.cfs
: > -rwx------+ 1 admin admin       4 Oct 16 10:21 deletable
: > -rwx------+ 1 admin admin     64 Oct 16 10:21 segments
: >
: > In this moment, I want to optimize() the index. I can do it safely
: > without interrupting Tomcat process.
: > After optimizing the index, I get a new compounf file _4ab.cfs:
: >
: > -rwx------+ 1 admin admin 158622 Oct 16 10:21 _1pp.cfs
: > -rwx------+ 1 admin admin 158622 Oct 16 10:21 _2kk.cfs
: > -rwx------+ 1 admin admin 158622 Oct 16 10:21 _3ff.cfs
: > -rwx------+ 1 admin admin 158622 Oct 16 10:21 _4aa.cfs
: > -rwx------+ 1 admin admin 791622 Oct 16 10:21 _4ab.cfs
: > -rwx------+ 1 admin admin 158614 Oct 16 10:20 _uu.cfs
: > -rwx------+ 1 admin admin     48 Oct 16 10:21 deletable
: > -rwx------+ 1 admin admin     29 Oct 16 10:21 segments
: >
: > Now I can let threads of Tomcat know that we have a new compound
: > file so that servlet can reopen IndexSearcher to use new segments.
: > But I want to delete old and unnecessary files (_1pp, _2kk,
: > _3ff, _4aa and _uu .cfs files) after reopening IndexSearcher
: > to save disk space.
: >
: > How can I get a list of unnecessary files to delete them?
: >
: > regards,
: >
: > Koji
: >
: >
: >
: >
: > ---------------------------------------------------------------------
: > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: > For additional commands, e-mail: java-user-help@lucene.apache.org
: >
: >
:
:
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16912-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 16 08:47:12 2005
Return-Path: <java-user-return-16912-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85392 invoked from network); 16 Oct 2005 08:47:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Oct 2005 08:47:12 -0000
Received: (qmail 70111 invoked by uid 500); 16 Oct 2005 08:47:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70030 invoked by uid 500); 16 Oct 2005 08:47:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70018 invoked by uid 99); 16 Oct 2005 08:47:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 16 Oct 2005 01:47:07 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.181.105.71] (HELO hfep05.dion.ne.jp) (203.181.105.71)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 16 Oct 2005 01:47:07 -0700
Received: from sekiguchi ([59.135.95.173]) by hfep05.dion.ne.jp with SMTP
          id <20051016084644121.IKX@hfep05.dion.ne.jp>
          for <java-user@lucene.apache.org>;
          Sun, 16 Oct 2005 17:46:44 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
Subject: RE: delete unnecessary files after optimize()
Date: Sun, 16 Oct 2005 17:46:42 +0900
Message-ID: <PKEIKOCKCHNIIHNECPCCIEGECAAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <Pine.LNX.4.58.0510152328210.26917@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> I've never used Lucene on windows, but if I recall correctly from past
> discussions on this topic, the IndexWriter will try to delete any file
> listed in deletable whenever it does any segment merging (ie: after adding
> some number of documents, when you call .optimize(), or when you call
> .close().

You are correct.
Calling addDocument() removes unnecessary files and makes size of
deletable 4.

Thank you,

Koji

> -----Original Message-----
> From: hossman@hal.rescomp.berkeley.edu
> [mailto:hossman@hal.rescomp.berkeley.edu]On Behalf Of Chris Hostetter
> Sent: Sunday, October 16, 2005 3:42 PM
> To: java-user@lucene.apache.org
> Subject: RE: delete unnecessary files after optimize()
>
>
>
> : > How can I get a list of unnecessary files to delete them?
> :
> : I can get such information from deletable file under Win32 environment,
> : correct?
>
> I've never used Lucene on windows, but if I recall correctly from past
> discussions on this topic, the IndexWriter will try to delete any file
> listed in deletable whenever it does any segment merging (ie: after adding
> some number of documents, when you call .optimize(), or when you call
> .close().
>
> the only reason those files won't be deleted is if some IndexReader has
> them open -- in which cas you won't be able to delete them either, so
> don't worry about it.  The safest thing to do is make sure you
> periodically reopen new IndexReaders, and if you're really in a hurry to
> get rid of those files, periodically open/close a new IndexWriter too
> (even if you don't need one) ... that should cause it to try to delete the
> files again.
>
>
> : > -----Original Message-----
> : > From: Koji Sekiguchi [mailto:koji.sekiguchi@m4.dion.ne.jp]
> : > Sent: Sunday, October 16, 2005 11:05 AM
> : > To: java-user@lucene.apache.org
> : > Subject: delete unnecessary files after optimize()
> : >
> : >
> : > Hello,
> : >
> : > My Tomcat application has several threads. These threads
> : > share a single instance of IndexSearcher to seach contents.
> : >
> : > At some point in time, I have the following index directory:
> : >
> : > -rwx------+ 1 admin admin 158622 Oct 16 10:21 _1pp.cfs
> : > -rwx------+ 1 admin admin 158622 Oct 16 10:21 _2kk.cfs
> : > -rwx------+ 1 admin admin 158622 Oct 16 10:21 _3ff.cfs
> : > -rwx------+ 1 admin admin 158622 Oct 16 10:21 _4aa.cfs
> : > -rwx------+ 1 admin admin 158614 Oct 16 10:20 _uu.cfs
> : > -rwx------+ 1 admin admin       4 Oct 16 10:21 deletable
> : > -rwx------+ 1 admin admin     64 Oct 16 10:21 segments
> : >
> : > In this moment, I want to optimize() the index. I can do it safely
> : > without interrupting Tomcat process.
> : > After optimizing the index, I get a new compounf file _4ab.cfs:
> : >
> : > -rwx------+ 1 admin admin 158622 Oct 16 10:21 _1pp.cfs
> : > -rwx------+ 1 admin admin 158622 Oct 16 10:21 _2kk.cfs
> : > -rwx------+ 1 admin admin 158622 Oct 16 10:21 _3ff.cfs
> : > -rwx------+ 1 admin admin 158622 Oct 16 10:21 _4aa.cfs
> : > -rwx------+ 1 admin admin 791622 Oct 16 10:21 _4ab.cfs
> : > -rwx------+ 1 admin admin 158614 Oct 16 10:20 _uu.cfs
> : > -rwx------+ 1 admin admin     48 Oct 16 10:21 deletable
> : > -rwx------+ 1 admin admin     29 Oct 16 10:21 segments
> : >
> : > Now I can let threads of Tomcat know that we have a new compound
> : > file so that servlet can reopen IndexSearcher to use new segments.
> : > But I want to delete old and unnecessary files (_1pp, _2kk,
> : > _3ff, _4aa and _uu .cfs files) after reopening IndexSearcher
> : > to save disk space.
> : >
> : > How can I get a list of unnecessary files to delete them?
> : >
> : > regards,
> : >
> : > Koji
> : >
> : >
> : >
> : >
> : > ---------------------------------------------------------------------
> : > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> : > For additional commands, e-mail: java-user-help@lucene.apache.org
> : >
> : >
> :
> :
> :
> : ---------------------------------------------------------------------
> : To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> : For additional commands, e-mail: java-user-help@lucene.apache.org
> :
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16913-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 16 10:45:08 2005
Return-Path: <java-user-return-16913-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11280 invoked from network); 16 Oct 2005 10:45:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Oct 2005 10:45:08 -0000
Received: (qmail 31861 invoked by uid 500); 16 Oct 2005 10:45:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31570 invoked by uid 500); 16 Oct 2005 10:44:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31529 invoked by uid 99); 16 Oct 2005 10:44:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 16 Oct 2005 03:44:59 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.12.12.202] (HELO smtp812.mail.ukl.yahoo.com) (217.12.12.202)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 16 Oct 2005 03:44:59 -0700
Received: (qmail 86340 invoked from network); 16 Oct 2005 10:44:36 -0000
Received: from unknown (HELO MALCOLM) (malcyclark@86.132.165.131 with login)
  by smtp812.mail.ukl.yahoo.com with SMTP; 16 Oct 2005 10:44:35 -0000
Message-ID: <005e01c5d23e$96087870$0301a8c0@MALCOLM>
From: "Malcolm Clark" <malcyclark@btinternet.com>
To: <java-user@lucene.apache.org>
Subject: Lucene/Digester
Date: Sun, 16 Oct 2005 11:44:22 +0100
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0057_01C5D246.F381C940"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2527
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2527
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0057_01C5D246.F381C940
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi all,
I'm using Lucene/Digester etc for my MSc I'm quite new to these API's. =
I'm trying to obtain advice but it's hard to say whether the problem is =
Lucene or Digester.
Firstly:
I am trying to index the INEX collection but when I try to index =
repetitive elements only the last one is indexed. For example:=20
<Book>
<Name>
<Title>
<Chapter></Chapter>
<Chapter></Chapter>
<Chapter></Chapter> //this is the only one indexed
</Title>
</Name>
</Book>
only the last Chapter element will be indexed and it will skip the first =
two.=20
Secondly:
When using the Digester/Lucene with XML does each file have to contain =
e.g=20
<!DOCTYPE books PUBLIC "-//LBIN//DTD IEEE Mag//EN" "xmlarticle.dtd" or =
is=20
there a way around it?
 I have tried to use the sample line from the Digester API=20
digester.register("-//Example Dot Com //DTD Sample Example//EN",  =
"assets/sample.dtd");
but to no avail.

Thanks very much. I really appreciate any possible solutions as I'm =
stumped.
Malcolm
Scotland

------=_NextPart_000_0057_01C5D246.F381C940--


From java-user-return-16914-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 16 14:52:57 2005
Return-Path: <java-user-return-16914-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68360 invoked from network); 16 Oct 2005 14:52:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Oct 2005 14:52:56 -0000
Received: (qmail 69897 invoked by uid 500); 16 Oct 2005 14:52:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69862 invoked by uid 500); 16 Oct 2005 14:52:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 54080 invoked by uid 99); 16 Oct 2005 14:17:49 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Date: Sun, 16 Oct 2005 16:17:15 +0200
From: Trond Aksel Myklebust <tamyk@online.no>
Subject: Large queries
To: java-user@lucene.apache.org
Message-id: <0IOG001CUIHZ25B0@osl1sminn1.broadpark.no>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.2670
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
Content-type: multipart/alternative;
 boundary="Boundary_(ID_Svf9zFpfjNUoJ0NgdeAkfw)"
Thread-index: AcXSXE9AlqzOu/aUQ9CAkBowUp69/w==
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--Boundary_(ID_Svf9zFpfjNUoJ0NgdeAkfw)
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT

How is Lucene handling very large queries? I have 6million documents, which
each has a "docID" field. There is a total of 20000 distinct docID's, so
many documents got the same docID which consists of a filename (only name,
not path).

Sometimes, I must get all documents that has one of 10 docID's, and
sometimes I need to get all documents that has one of 10000 docIDs. Is there
any other way than doing a query: docID:(file1 file2 file3 file4..) ?

 

Trond A Myklebust

 


--Boundary_(ID_Svf9zFpfjNUoJ0NgdeAkfw)--

From java-user-return-16915-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 16 18:08:36 2005
Return-Path: <java-user-return-16915-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15338 invoked from network); 16 Oct 2005 18:08:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Oct 2005 18:08:36 -0000
Received: (qmail 63937 invoked by uid 500); 16 Oct 2005 18:08:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63910 invoked by uid 500); 16 Oct 2005 18:08:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63894 invoked by uid 99); 16 Oct 2005 18:08:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 16 Oct 2005 11:08:30 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of chenjian1227@gmail.com designates 72.14.204.194 as permitted sender)
Received: from [72.14.204.194] (HELO qproxy.gmail.com) (72.14.204.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 16 Oct 2005 11:08:31 -0700
Received: by qproxy.gmail.com with SMTP id c8so522849qbc
        for <java-user@lucene.apache.org>; Sun, 16 Oct 2005 11:08:08 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=kqED6pp2YSNkl6C0eaLtaxtGJ3gaea4/QqEAt2LKu1SaxRpYSVMbdkMIjalp/q6fnxTL7m9E0e+k/n9NezA9UjKYF2eo+GAi0T8LHg1phj8/5gHCQCT5aqrmcvI3dOSUUSzoCjlJtk7NxoBaypALiEwewFmIPkFZFq7dwZaeyXE=
Received: by 10.65.196.16 with SMTP id y16mr1305537qbp;
        Sun, 16 Oct 2005 11:08:08 -0700 (PDT)
Received: by 10.65.145.3 with HTTP; Sun, 16 Oct 2005 11:08:08 -0700 (PDT)
Message-ID: <7ca123910510161108o71b7cfb8ma1606f8272a70c6d@mail.gmail.com>
Date: Sun, 16 Oct 2005 11:08:08 -0700
From: jian chen <chenjian1227@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Large queries
In-Reply-To: <0IOG001CUIHZ25B0@osl1sminn1.broadpark.no>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_15719_9645683.1129486088033"
References: <0IOG001CUIHZ25B0@osl1sminn1.broadpark.no>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_15719_9645683.1129486088033
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi, Trond,

It should be no problem for Lucene to handle 6 million documents.

For your query, it seems you want to do a disjunctive (or'ed) query for
multiple terms, 10 terms or 10000 terms for example. The worst case I can
think of is, you can very easily write your own query class to handle this,
utilizing the TermDocs iterator class.

Say, if you want to have one of 10 docID's, you have 10 TermDocs. Each
TermDoc corresponds to a term. Then, you can do a multi-way (in this case,
10 way) merge of these 10 TermDocs, and generate a final list of the doc
ids.

I suggest that you can look at PhraseQuery and PhraseScrorer to see how it
does the conjunctive merge to find the docs that contains all the terms. In
your case, instead of doing intersection, you are doing a union of all the
term docs, right?

Maybe there is already some query class that comes with the Lucene package
that does this. However, the method I described should also help just in
case.

Cheers,

Jian


On 10/16/05, Trond Aksel Myklebust <tamyk@online.no> wrote:
>
> How is Lucene handling very large queries? I have 6million documents,
> which
> each has a "docID" field. There is a total of 20000 distinct docID's, so
> many documents got the same docID which consists of a filename (only name=
,
> not path).
>
> Sometimes, I must get all documents that has one of 10 docID's, and
> sometimes I need to get all documents that has one of 10000 docIDs. Is
> there
> any other way than doing a query: docID:(file1 file2 file3 file4..) ?
>
>
>
> Trond A Myklebust
>
>
>
>
>
>

------=_Part_15719_9645683.1129486088033--

From java-user-return-16916-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 16 18:16:00 2005
Return-Path: <java-user-return-16916-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16671 invoked from network); 16 Oct 2005 18:16:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Oct 2005 18:16:00 -0000
Received: (qmail 68537 invoked by uid 500); 16 Oct 2005 18:15:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67606 invoked by uid 500); 16 Oct 2005 18:15:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67585 invoked by uid 99); 16 Oct 2005 18:15:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 16 Oct 2005 11:15:54 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of chenjian1227@gmail.com designates 72.14.204.202 as permitted sender)
Received: from [72.14.204.202] (HELO qproxy.gmail.com) (72.14.204.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 16 Oct 2005 11:15:49 -0700
Received: by qproxy.gmail.com with SMTP id c8so523562qbc
        for <java-user@lucene.apache.org>; Sun, 16 Oct 2005 11:15:27 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=ZBFtu/eIT7tdynV/KIVFDGL4PJjZ9ycUfSREMFEMmqlu77/D6aNA4F6tHjHvs8CItWRzy0qxn7Ww3sHgm99kqlWVHMQa+ZqTFewlfBHSZveUG4JdYf7e6jYWD5T00wngXGJ4hju+zissOIA21NxYPvOjGN7LRNYPN+xhfpZD4ms=
Received: by 10.65.132.14 with SMTP id j14mr1365095qbn;
        Sun, 16 Oct 2005 11:15:27 -0700 (PDT)
Received: by 10.65.145.3 with HTTP; Sun, 16 Oct 2005 11:15:27 -0700 (PDT)
Message-ID: <7ca123910510161115o56b8717eo86a165bd37e171d9@mail.gmail.com>
Date: Sun, 16 Oct 2005 11:15:27 -0700
From: jian chen <chenjian1227@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Large queries
In-Reply-To: <0IOG001CUIHZ25B0@osl1sminn1.broadpark.no>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_15767_32240807.1129486527416"
References: <0IOG001CUIHZ25B0@osl1sminn1.broadpark.no>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_15767_32240807.1129486527416
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi, Trond,

By the way, it appears to me that Lucene uses the iterator pattern a lot,
like SegmentTermEnum, TermDocs, TermPositions, etc. Each iterator uses the
underlying fix sized buffer to load a chunck of data at a time. So, even yo=
u
have millions of documents, you shouldn't run into memory problem given
Lucene's index data structure.

That said, there are some parameters that you can tweak given really large
amount of documents. But I suggest that you don't need to worry about it
unless you really run into it.

Cheers,

Jian

On 10/16/05, Trond Aksel Myklebust <tamyk@online.no> wrote:
>
> How is Lucene handling very large queries? I have 6million documents,
> which
> each has a "docID" field. There is a total of 20000 distinct docID's, so
> many documents got the same docID which consists of a filename (only name=
,
> not path).
>
> Sometimes, I must get all documents that has one of 10 docID's, and
> sometimes I need to get all documents that has one of 10000 docIDs. Is
> there
> any other way than doing a query: docID:(file1 file2 file3 file4..) ?
>
>
>
> Trond A Myklebust
>
>
>
>
>
>

------=_Part_15767_32240807.1129486527416--

From java-user-return-16917-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 17 13:49:54 2005
Return-Path: <java-user-return-16917-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90599 invoked from network); 17 Oct 2005 13:49:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Oct 2005 13:49:53 -0000
Received: (qmail 73722 invoked by uid 500); 17 Oct 2005 13:49:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73694 invoked by uid 500); 17 Oct 2005 13:49:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73679 invoked by uid 99); 17 Oct 2005 13:49:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Oct 2005 06:49:45 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [141.99.1.40] (HELO MAILF0.uni-siegen.de) (141.99.1.40)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Oct 2005 06:49:44 -0700
Received: from [141.99.26.131] ([141.99.26.131]) by MAILF0.uni-siegen.de with Microsoft SMTPSVC(6.0.3790.1830);
	 Mon, 17 Oct 2005 15:48:50 +0200
Message-ID: <4353AC36.3070302@informatik.uni-siegen.de>
Date: Mon, 17 Oct 2005 15:50:46 +0200
From: Patricio Galeas <galeas@informatik.uni-siegen.de>
Reply-To:  galeas@informatik.uni-siegen.de
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: de-DE, de, en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Lucene in Action : example code -> document-parsing framework ...
References: <PKEIKOCKCHNIIHNECPCCIEGECAAA.koji.sekiguchi@m4.dion.ne.jp>
In-Reply-To: <PKEIKOCKCHNIIHNECPCCIEGECAAA.koji.sekiguchi@m4.dion.ne.jp>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 17 Oct 2005 13:48:50.0500 (UTC) FILETIME=[81345840:01C5D321]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi ALL,
I try to run the an example of the "Lucene in Action" book :

Chapter 7: Parsing Common Document Formats:
lia.handlingtypes.framework.FileIndexer

I have downloaded all the source code from www.manning.com/hatcher2
and create a java project in Lucene 3.1.

I become the following error message when the PDF document is indexed :
---------------------------------------
Indexing 
E:\Galeas\downloads\LuceneInAction\LuceneInAction\src\lia\handlingtypes\data\addressbook-entry.xml
log4j:WARN No appenders could be found for logger 
(org.apache.commons.digester.Digester.sax).
log4j:WARN Please initialize the log4j system properly.
Indexing 
E:\Galeas\downloads\LuceneInAction\LuceneInAction\src\lia\handlingtypes\data\addressbook.xml
Indexing 
E:\Galeas\downloads\LuceneInAction\LuceneInAction\src\lia\handlingtypes\data\HTML.html
Indexing 
E:\Galeas\downloads\LuceneInAction\LuceneInAction\src\lia\handlingtypes\data\MSWord.doc
Indexing 
E:\Galeas\downloads\LuceneInAction\LuceneInAction\src\lia\handlingtypes\data\PDF.pdf
Exception in thread "main" java.lang.NoClassDefFoundError: 
org/apache/log4j/Logger
    at org.pdfbox.pdfparser.BaseParser.<clinit>(BaseParser.java:70)
    at 
lia.handlingtypes.pdf.PDFBoxPDFHandler.parseDocument(PDFBoxPDFHandler.java:118)
    at 
lia.handlingtypes.pdf.PDFBoxPDFHandler.getDocument(PDFBoxPDFHandler.java:32)
    at 
lia.handlingtypes.framework.ExtensionFileHandler.getDocument(ExtensionFileHandler.java:39)
    at lia.handlingtypes.framework.FileIndexer.index(FileIndexer.java:43)
    at lia.handlingtypes.framework.FileIndexer.index(FileIndexer.java:36)
    at lia.handlingtypes.framework.FileIndexer.main(FileIndexer.java:77)
---------------------------------------

Have anybody some idea ??
Thank You
Patricio



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16918-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 17 14:10:18 2005
Return-Path: <java-user-return-16918-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1923 invoked from network); 17 Oct 2005 14:10:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Oct 2005 14:10:18 -0000
Received: (qmail 1996 invoked by uid 500); 17 Oct 2005 14:10:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1918 invoked by uid 500); 17 Oct 2005 14:10:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1889 invoked by uid 99); 17 Oct 2005 14:10:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Oct 2005 07:10:08 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,MSGID_FROM_MTA_HEADER,NO_REAL_NAME,SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Msftblows@aol.com designates 205.188.157.37 as permitted sender)
Received: from [205.188.157.37] (HELO imo-d05.mx.aol.com) (205.188.157.37)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Oct 2005 07:10:06 -0700
Received: from Msftblows@aol.com
	by imo-d05.mx.aol.com (mail_out_v38_r5.5.) id h.212.ba8883e (15700);
	Mon, 17 Oct 2005 10:09:29 -0400 (EDT)
Received: from  MBLK-M05 (mblk-m05.mblk.aol.com [64.12.136.38]) by air-id05.mx.aol.com (v107.13) with ESMTP id MAILINID52-3d544353b0991f5; Mon, 17 Oct 2005 10:09:29 -0400
Date: Mon, 17 Oct 2005 10:09:29 -0400
Message-Id: <8C7A13B862A3FEE-122C-2F18@MBLK-M05.sysops.aol.com>
From: msftblows@aol.com
References: <PKEIKOCKCHNIIHNECPCCIEGECAAA.koji.sekiguchi@m4.dion.ne.jp> <4353AC36.3070302@informatik.uni-siegen.de>
Received: from 38.117.191.162 by MBLK-M05.sysops.aol.com (64.12.136.38) with HTTP (WebMailUI); Mon, 17 Oct 2005 10:09:29 -0400
X-MB-Message-Source: WebUI
X-MB-Message-Type: User
In-Reply-To: <4353AC36.3070302@informatik.uni-siegen.de>
X-Mailer: AOL WebMail 1.1.0.14204
Subject: Re: Lucene in Action : example code -> document-parsing framework ...
Content-Type: multipart/alternative;
 boundary="--------MailBlocks_8C7A13B862A3FEE_122C_2DA7_MBLK-M05.sysops.aol.com"
MIME-Version: 1.0
To: java-user@lucene.apache.org, galeas@informatik.uni-siegen.de
X-AOL-IP: 64.12.136.38
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Flag: NO
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

----------MailBlocks_8C7A13B862A3FEE_122C_2DA7_MBLK-M05.sysops.aol.com
Content-Type: text/plain; charset="us-ascii"

Do you have the log4j.properties file in the classpath?
 
-----Original Message-----
From: Patricio Galeas <galeas@informatik.uni-siegen.de>
To: java-user@lucene.apache.org
Sent: Mon, 17 Oct 2005 15:50:46 +0200
Subject: Lucene in Action : example code -> document-parsing framework ...


Hi ALL, 
I try to run the an example of the "Lucene in Action" book : 
 
Chapter 7: Parsing Common Document Formats: 
lia.handlingtypes.framework.FileIndexer 
 
I have downloaded all the source code from www.manning.com/hatcher2 
and create a java project in Lucene 3.1. 
 
I become the following error message when the PDF document is indexed : 
--------------------------------------- 
Indexing E:\Galeas\downloads\LuceneInAction\LuceneInAction\src\lia\handlingtypes\data\addressbook-entry.xml 
log4j:WARN No appenders could be found for logger (org.apache.commons.digester.Digester.sax). 
log4j:WARN Please initialize the log4j system properly. 
Indexing E:\Galeas\downloads\LuceneInAction\LuceneInAction\src\lia\handlingtypes\data\addressbook.xml 
Indexing E:\Galeas\downloads\LuceneInAction\LuceneInAction\src\lia\handlingtypes\data\HTML.html 
Indexing E:\Galeas\downloads\LuceneInAction\LuceneInAction\src\lia\handlingtypes\data\MSWord.doc 
Indexing E:\Galeas\downloads\LuceneInAction\LuceneInAction\src\lia\handlingtypes\data\PDF.pdf 
Exception in thread "main" java.lang.NoClassDefFoundError: org/apache/log4j/Logger 
  at org.pdfbox.pdfparser.BaseParser.<clinit>(BaseParser.java:70) 
  at lia.handlingtypes.pdf.PDFBoxPDFHandler.parseDocument(PDFBoxPDFHandler.java:118) 
  at lia.handlingtypes.pdf.PDFBoxPDFHandler.getDocument(PDFBoxPDFHandler.java:32) 
  at lia.handlingtypes.framework.ExtensionFileHandler.getDocument(ExtensionFileHandler.java:39) 
  at lia.handlingtypes.framework.FileIndexer.index(FileIndexer.java:43) 
  at lia.handlingtypes.framework.FileIndexer.index(FileIndexer.java:36) 
  at lia.handlingtypes.framework.FileIndexer.main(FileIndexer.java:77) 
--------------------------------------- 
 
Have anybody some idea ?? 
Thank You 
Patricio 
 
 
--------------------------------------------------------------------- 
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org 
For additional commands, e-mail: java-user-help@lucene.apache.org 
 

----------MailBlocks_8C7A13B862A3FEE_122C_2DA7_MBLK-M05.sysops.aol.com--

From java-user-return-16919-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 17 14:22:53 2005
Return-Path: <java-user-return-16919-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9048 invoked from network); 17 Oct 2005 14:22:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Oct 2005 14:22:50 -0000
Received: (qmail 13947 invoked by uid 500); 17 Oct 2005 14:22:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12637 invoked by uid 500); 17 Oct 2005 14:22:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12321 invoked by uid 99); 17 Oct 2005 14:22:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Oct 2005 07:22:07 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,MSGID_FROM_MTA_HEADER,NO_REAL_NAME,SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Msftblows@aol.com designates 64.12.137.7 as permitted sender)
Received: from [64.12.137.7] (HELO imo-m26.mx.aol.com) (64.12.137.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Oct 2005 07:14:33 -0700
Received: from Msftblows@aol.com
	by imo-m26.mx.aol.com (mail_out_v38_r5.5.) id h.c.4f606e28 (15887)
	 for <java-user@lucene.apache.org>; Mon, 17 Oct 2005 10:14:06 -0400 (EDT)
Received: from  MBLK-M05 (mblk-m05.mblk.aol.com [64.12.136.38]) by air-id08.mx.aol.com (v107.13) with ESMTP id MAILINID82-3e0f4353b1aed8; Mon, 17 Oct 2005 10:14:06 -0400
Date: Mon, 17 Oct 2005 10:14:06 -0400
From: msftblows@aol.com
Message-Id: <8C7A13C2B52DBFE-122C-2FED@MBLK-M05.sysops.aol.com>
X-MB-Message-Source: WebUI
X-MB-Message-Type: User
Received: from 38.117.191.162 by MBLK-M05.sysops.aol.com (64.12.136.38) with HTTP (WebMailUI); Mon, 17 Oct 2005 10:14:06 -0400
X-Mailer: AOL WebMail 1.1.0.14204
Subject: Clustering with Lucene 
Content-Type: multipart/alternative;
 boundary="--------MailBlocks_8C7A13C2B19A3BE_122C_2E87_MBLK-M05.sysops.aol.com"
MIME-Version: 1.0
To: java-user@lucene.apache.org
X-AOL-IP: 64.12.136.38
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Flag: NO
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

----------MailBlocks_8C7A13C2B19A3BE_122C_2E87_MBLK-M05.sysops.aol.com
Content-Type: text/plain; charset="us-ascii"

Hi All-
 
I have seen an example using carrot2 for clustering, but have not really played with it that much. Does anyone have a good example of using clustering with Lucene...has anyone attempted to do it with carrot2 or something else?
 
I was initially going to do a facated search...which would be much simpler, but my taxonomies are not built yet to go that route...clustering would do that dynamically for me.
 
Any ideas/thoughts would be helpful.
 
Thanks!
-Joe

----------MailBlocks_8C7A13C2B19A3BE_122C_2E87_MBLK-M05.sysops.aol.com--

From java-user-return-16920-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 17 14:23:37 2005
Return-Path: <java-user-return-16920-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9624 invoked from network); 17 Oct 2005 14:23:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Oct 2005 14:23:12 -0000
Received: (qmail 14805 invoked by uid 500); 17 Oct 2005 14:22:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14138 invoked by uid 500); 17 Oct 2005 14:22:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12481 invoked by uid 99); 17 Oct 2005 14:22:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Oct 2005 07:22:10 -0700
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [82.195.46.41] (HELO SMTP.interpay.nl) (82.195.46.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Oct 2005 07:19:55 -0700
Received: from smm10004.INTERN.INTERPAY.NL (unverified [10.64.40.42]) by 
    SMTP.interpay.nl (Content Technologies SMTPRS 4.3.17) with ESMTP id 
    <T740bc84a510a010a29ee8@SMTP.interpay.nl> for 
    <java-user@lucene.apache.org>; Mon, 17 Oct 2005 16:18:01 +0200
Received: from SMM00001.intern.interpay.nl ([10.64.40.212]) by 
    smm10004.INTERN.INTERPAY.NL with Microsoft SMTPSVC (5.0.2195.6713); Mon, 
    17 Oct 2005 16:19:31 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Lucene in Action : example code -> document-parsing framework ...
Date: Mon, 17 Oct 2005 16:19:31 +0200
Message-ID: <FF5ED66B91643840A3D4809E25952F830258B231@SMM00001.INTERN.INTERPAY.NL>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: Lucene in Action : example code - > document-parsing framework 
    ...
Thread-Index: AcXTJH4xBlw70RVWRb6r0Si4hwVMjAAASfCQ
From: <n.bulthuis@interpay.nl>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 17 Oct 2005 14:19:31.0845 (UTC) 
    FILETIME=[CABB4B50:01C5D325]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Exception in thread "main" java.lang.NoClassDefFoundError:
org/apache/log4j/Logger=20
  at org.pdfbox.pdfparser.BaseParser.<clinit>(BaseParser.java:70)=20

PDFBox cannot find Log4J. You can add Log4J to you classpath to fix
this.=20

-----Original Message-----
From: msftblows@aol.com [mailto:msftblows@aol.com]=20
Sent: 17 October 2005 16:09
To: java-user@lucene.apache.org; galeas@informatik.uni-siegen.de
Subject: Re: Lucene in Action : example code -> document-parsing
framework ...


Do you have the log4j.properties file in the classpath?
=20
-----Original Message-----
From: Patricio Galeas <galeas@informatik.uni-siegen.de>
To: java-user@lucene.apache.org
Sent: Mon, 17 Oct 2005 15:50:46 +0200
Subject: Lucene in Action : example code -> document-parsing framework
...


Hi ALL,=20
I try to run the an example of the "Lucene in Action" book :=20
=20
Chapter 7: Parsing Common Document Formats:=20
lia.handlingtypes.framework.FileIndexer=20
=20
I have downloaded all the source code from www.manning.com/hatcher2=20
and create a java project in Lucene 3.1.=20
=20
I become the following error message when the PDF document is indexed :=20
---------------------------------------=20
Indexing
E:\Galeas\downloads\LuceneInAction\LuceneInAction\src\lia\handlingtypes\
data\addressbook-entry.xml=20
log4j:WARN No appenders could be found for logger
(org.apache.commons.digester.Digester.sax).=20
log4j:WARN Please initialize the log4j system properly.=20
Indexing
E:\Galeas\downloads\LuceneInAction\LuceneInAction\src\lia\handlingtypes\
data\addressbook.xml=20
Indexing
E:\Galeas\downloads\LuceneInAction\LuceneInAction\src\lia\handlingtypes\
data\HTML.html=20
Indexing
E:\Galeas\downloads\LuceneInAction\LuceneInAction\src\lia\handlingtypes\
data\MSWord.doc=20
Indexing
E:\Galeas\downloads\LuceneInAction\LuceneInAction\src\lia\handlingtypes\
data\PDF.pdf=20
Exception in thread "main" java.lang.NoClassDefFoundError:
org/apache/log4j/Logger=20
  at org.pdfbox.pdfparser.BaseParser.<clinit>(BaseParser.java:70)=20
  at
lia.handlingtypes.pdf.PDFBoxPDFHandler.parseDocument(PDFBoxPDFHandler.ja
va:118)=20
  at
lia.handlingtypes.pdf.PDFBoxPDFHandler.getDocument(PDFBoxPDFHandler.java
:32)=20
  at
lia.handlingtypes.framework.ExtensionFileHandler.getDocument(ExtensionFi
leHandler.java:39)=20
  at lia.handlingtypes.framework.FileIndexer.index(FileIndexer.java:43)=20
  at lia.handlingtypes.framework.FileIndexer.index(FileIndexer.java:36)=20
  at lia.handlingtypes.framework.FileIndexer.main(FileIndexer.java:77)=20
---------------------------------------=20
=20
Have anybody some idea ??=20
Thank You=20
Patricio=20
=20
=20
---------------------------------------------------------------------=20
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org=20
For additional commands, e-mail: java-user-help@lucene.apache.org=20
=20


---------------------------------------------------------------------------=
---------------------
Disclaimer:
' Aan de inhoud van dit bericht kunnen alleen rechten ten opzichte van Inte=
rpay Nederland B.V. of aan haar gelieerde ondernemingen worden ontleend, in=
dien zij door rechtsgeldig ondertekende stukken worden ondersteund. De info=
rmatie in dit e-mailbericht is van vertrouwelijke aard en alleen bedoeld vo=
or gebruik door de geadresseerde. Als u een bericht onbedoeld heeft ontvang=
en, wordt u verzocht de verzender hiervan in kennis te stellen en het beric=
ht te vernietigen zonder van de inhoud kennis te nemen, deze te vermenigvul=
digen of andersoortig te gebruiken.'=20
An English version of this disclaimer is available on http://www.interpay.n=
l/eng/general/disclaimer.asp
---------------------------------------------------------------------------=
---------------------


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16921-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 17 15:26:45 2005
Return-Path: <java-user-return-16921-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46533 invoked from network); 17 Oct 2005 15:26:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Oct 2005 15:26:45 -0000
Received: (qmail 48338 invoked by uid 500); 17 Oct 2005 15:26:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48136 invoked by uid 500); 17 Oct 2005 15:26:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48125 invoked by uid 99); 17 Oct 2005 15:26:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Oct 2005 08:26:39 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of ben@csh.rit.edu designates 129.21.60.6 as permitted sender)
Received: from [129.21.60.6] (HELO blacksheep.csh.rit.edu) (129.21.60.6)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Oct 2005 08:26:39 -0700
Received: from fury.csh.rit.edu (fury.csh.rit.edu [IPv6:2001:470:1f00:135:a00:20ff:fe8d:5399])
	by blacksheep.csh.rit.edu (Postfix) with ESMTP id E44F02763
	for <java-user@lucene.apache.org>; Mon, 17 Oct 2005 11:26:16 -0400 (EDT)
Received: by fury.csh.rit.edu (Postfix, from userid 38448)
	id 98824155F; Mon, 17 Oct 2005 11:26:16 -0400 (EDT)
Received: from localhost (localhost [127.0.0.1])
	by fury.csh.rit.edu (Postfix) with ESMTP id 70C7E155B
	for <java-user@lucene.apache.org>; Mon, 17 Oct 2005 11:26:16 -0400 (EDT)
Date: Mon, 17 Oct 2005 11:26:16 -0400 (EDT)
From: Ben Litchfield <ben@csh.rit.edu>
To: java-user@lucene.apache.org
Subject: RE: Lucene in Action : example code -> document-parsing framework
 ...
In-Reply-To: <FF5ED66B91643840A3D4809E25952F830258B231@SMM00001.INTERN.INTERPAY.NL>
Message-ID: <Pine.GSO.4.53.0510171125160.9660@fury.csh.rit.edu>
References: <FF5ED66B91643840A3D4809E25952F830258B231@SMM00001.INTERN.INTERPAY.NL>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


In addition, the latest version(0.7.2) of PDFBox does not require log4j,
so you could also upgrade to that version.

Ben


On Mon, 17 Oct 2005 n.bulthuis@interpay.nl wrote:

> Exception in thread "main" java.lang.NoClassDefFoundError:
> org/apache/log4j/Logger
>   at org.pdfbox.pdfparser.BaseParser.<clinit>(BaseParser.java:70)
>
> PDFBox cannot find Log4J. You can add Log4J to you classpath to fix
> this.
>
> -----Original Message-----
> From: msftblows@aol.com [mailto:msftblows@aol.com]
> Sent: 17 October 2005 16:09
> To: java-user@lucene.apache.org; galeas@informatik.uni-siegen.de
> Subject: Re: Lucene in Action : example code -> document-parsing
> framework ...
>
>
> Do you have the log4j.properties file in the classpath?
>
> -----Original Message-----
> From: Patricio Galeas <galeas@informatik.uni-siegen.de>
> To: java-user@lucene.apache.org
> Sent: Mon, 17 Oct 2005 15:50:46 +0200
> Subject: Lucene in Action : example code -> document-parsing framework
> ...
>
>
> Hi ALL,
> I try to run the an example of the "Lucene in Action" book :
>
> Chapter 7: Parsing Common Document Formats:
> lia.handlingtypes.framework.FileIndexer
>
> I have downloaded all the source code from www.manning.com/hatcher2
> and create a java project in Lucene 3.1.
>
> I become the following error message when the PDF document is indexed :
> ---------------------------------------
> Indexing
> E:\Galeas\downloads\LuceneInAction\LuceneInAction\src\lia\handlingtypes\
> data\addressbook-entry.xml
> log4j:WARN No appenders could be found for logger
> (org.apache.commons.digester.Digester.sax).
> log4j:WARN Please initialize the log4j system properly.
> Indexing
> E:\Galeas\downloads\LuceneInAction\LuceneInAction\src\lia\handlingtypes\
> data\addressbook.xml
> Indexing
> E:\Galeas\downloads\LuceneInAction\LuceneInAction\src\lia\handlingtypes\
> data\HTML.html
> Indexing
> E:\Galeas\downloads\LuceneInAction\LuceneInAction\src\lia\handlingtypes\
> data\MSWord.doc
> Indexing
> E:\Galeas\downloads\LuceneInAction\LuceneInAction\src\lia\handlingtypes\
> data\PDF.pdf
> Exception in thread "main" java.lang.NoClassDefFoundError:
> org/apache/log4j/Logger
>   at org.pdfbox.pdfparser.BaseParser.<clinit>(BaseParser.java:70)
>   at
> lia.handlingtypes.pdf.PDFBoxPDFHandler.parseDocument(PDFBoxPDFHandler.ja
> va:118)
>   at
> lia.handlingtypes.pdf.PDFBoxPDFHandler.getDocument(PDFBoxPDFHandler.java
> :32)
>   at
> lia.handlingtypes.framework.ExtensionFileHandler.getDocument(ExtensionFi
> leHandler.java:39)
>   at lia.handlingtypes.framework.FileIndexer.index(FileIndexer.java:43)
>   at lia.handlingtypes.framework.FileIndexer.index(FileIndexer.java:36)
>   at lia.handlingtypes.framework.FileIndexer.main(FileIndexer.java:77)
> ---------------------------------------
>
> Have anybody some idea ??
> Thank You
> Patricio
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
> ------------------------------------------------------------------------------------------------
> Disclaimer:
> ' Aan de inhoud van dit bericht kunnen alleen rechten ten opzichte van Interpay Nederland B.V. of aan haar gelieerde ondernemingen worden ontleend, indien zij door rechtsgeldig ondertekende stukken worden ondersteund. De informatie in dit e-mailbericht is van vertrouwelijke aard en alleen bedoeld voor gebruik door de geadresseerde. Als u een bericht onbedoeld heeft ontvangen, wordt u verzocht de verzender hiervan in kennis te stellen en het bericht te vernietigen zonder van de inhoud kennis te nemen, deze te vermenigvuldigen of andersoortig te gebruiken.'
> An English version of this disclaimer is available on http://www.interpay.nl/eng/general/disclaimer.asp
> ------------------------------------------------------------------------------------------------
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16922-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 17 15:36:02 2005
Return-Path: <java-user-return-16922-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53264 invoked from network); 17 Oct 2005 15:36:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Oct 2005 15:36:02 -0000
Received: (qmail 69520 invoked by uid 500); 17 Oct 2005 15:35:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69487 invoked by uid 500); 17 Oct 2005 15:35:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69475 invoked by uid 99); 17 Oct 2005 15:35:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Oct 2005 08:35:55 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of TAigner@wescodist.com designates 12.29.179.202 as permitted sender)
Received: from [12.29.179.202] (HELO mail01.wescodist.com) (12.29.179.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Oct 2005 08:35:55 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Error with incremental load
Date: Mon, 17 Oct 2005 11:35:31 -0400
Message-ID: <14FBF41EF1411B45B2EC4ADEAC53D1310425C363@MAIL01.wescodist.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Error with incremental load
Thread-Index: AcXTJH4xBlw70RVWRb6r0Si4hwVMjAAASfCQAAJoRGA=
From: "Aigner, Thomas" <TAigner@WescoDist.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi all,
=09
Was just wondering if anyone has come across this or if I'm doing
something wrong here.  On initial load of my index, I can close the
writer and delete an entry and then update an entry, then open the
writer again and go on to the next entry etc.  Then while searching,
everything that was deleted is gone and updated has been changed (ex
insert record 1.. delete record 1 a few hundred inserts later).  The
problem occurs when I try to do an incremental change.  I try to delete
1 record, which seems to work, however, my searcher with sort then gets
errors (no terms in field stock - cannot determine sort type).  I'm not
sure why the delete would work on the initial load but not on a later
load.

BTW eventhough my search routine is messed up in code.. LUKE still sees
the records correctly.. I'm baffled..

Anyone have any ideas without me posting code?

Thanks ahead of time,
Tom
=09

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16923-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 17 17:11:43 2005
Return-Path: <java-user-return-16923-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99964 invoked from network); 17 Oct 2005 17:11:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Oct 2005 17:11:43 -0000
Received: (qmail 35302 invoked by uid 500); 17 Oct 2005 17:11:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35272 invoked by uid 500); 17 Oct 2005 17:11:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35261 invoked by uid 99); 17 Oct 2005 17:11:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Oct 2005 10:11:36 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [141.99.1.42] (HELO mailf2.uni-siegen.de) (141.99.1.42)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Oct 2005 10:11:35 -0700
Received: from [141.99.26.131] ([141.99.26.131]) by mailf2.uni-siegen.de with Microsoft SMTPSVC(6.0.3790.1830);
	 Mon, 17 Oct 2005 19:06:38 +0200
Message-ID: <4353DB89.10705@informatik.uni-siegen.de>
Date: Mon, 17 Oct 2005 19:12:41 +0200
From: Patricio Galeas <galeas@informatik.uni-siegen.de>
Reply-To:  galeas@informatik.uni-siegen.de
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: de-DE, de, en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Lucene in Action : example code -> document-parsing framework
 ...
References: <FF5ED66B91643840A3D4809E25952F830258B231@SMM00001.INTERN.INTERPAY.NL> <Pine.GSO.4.53.0510171125160.9660@fury.csh.rit.edu>
In-Reply-To: <Pine.GSO.4.53.0510171125160.9660@fury.csh.rit.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 17 Oct 2005 17:06:38.0281 (UTC) FILETIME=[22F40390:01C5D33D]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,
first, thank you for your help ....!!

I have replaced the JAR File in the "Java Build Path" von Eclipse with 
the lastest version (PDFBox-0.7.2.jar), but I still receive the same 
error message :

Indexing E:\Galeas\lucene\data\pdfs\Beginning Java Server Pages.pdf
Exception in thread "main" java.lang.NoClassDefFoundError: 
org/apache/log4j/Logger
    at org.pdfbox.pdfparser.BaseParser.<clinit>(BaseParser.java:70)
    at 
org.galeas.index.handlingtypes.pdf.PDFBoxPDFHandler.parseDocument(PDFBoxPDFHandler.java:117)
    at 
org.galeas.index.handlingtypes.pdf.PDFBoxPDFHandler.getDocument(PDFBoxPDFHandler.java:32)
    at 
org.galeas.index.handlingtypes.framework.ExtensionFileHandler.getDocument(ExtensionFileHandler.java:38)
    at 
org.galeas.index.handlingtypes.framework.FileIndexer.index(FileIndexer.java:43)
    at 
org.galeas.index.handlingtypes.framework.FileIndexer.index(FileIndexer.java:36)
    at 
org.galeas.index.handlingtypes.framework.FileIndexer.main(FileIndexer.java:77)

What do I wrong?
Thank You
Patricio



Ben Litchfield schrieb:

>In addition, the latest version(0.7.2) of PDFBox does not require log4j,
>so you could also upgrade to that version.
>
>Ben
>
>
>On Mon, 17 Oct 2005 n.bulthuis@interpay.nl wrote:
>
>  
>
>>Exception in thread "main" java.lang.NoClassDefFoundError:
>>org/apache/log4j/Logger
>>  at org.pdfbox.pdfparser.BaseParser.<clinit>(BaseParser.java:70)
>>
>>PDFBox cannot find Log4J. You can add Log4J to you classpath to fix
>>this.
>>
>>-----Original Message-----
>>From: msftblows@aol.com [mailto:msftblows@aol.com]
>>Sent: 17 October 2005 16:09
>>To: java-user@lucene.apache.org; galeas@informatik.uni-siegen.de
>>Subject: Re: Lucene in Action : example code -> document-parsing
>>framework ...
>>
>>
>>Do you have the log4j.properties file in the classpath?
>>
>>-----Original Message-----
>>From: Patricio Galeas <galeas@informatik.uni-siegen.de>
>>To: java-user@lucene.apache.org
>>Sent: Mon, 17 Oct 2005 15:50:46 +0200
>>Subject: Lucene in Action : example code -> document-parsing framework
>>...
>>
>>
>>Hi ALL,
>>I try to run the an example of the "Lucene in Action" book :
>>
>>Chapter 7: Parsing Common Document Formats:
>>lia.handlingtypes.framework.FileIndexer
>>
>>I have downloaded all the source code from www.manning.com/hatcher2
>>and create a java project in Lucene 3.1.
>>
>>I become the following error message when the PDF document is indexed :
>>---------------------------------------
>>Indexing
>>E:\Galeas\downloads\LuceneInAction\LuceneInAction\src\lia\handlingtypes\
>>data\addressbook-entry.xml
>>log4j:WARN No appenders could be found for logger
>>(org.apache.commons.digester.Digester.sax).
>>log4j:WARN Please initialize the log4j system properly.
>>Indexing
>>E:\Galeas\downloads\LuceneInAction\LuceneInAction\src\lia\handlingtypes\
>>data\addressbook.xml
>>Indexing
>>E:\Galeas\downloads\LuceneInAction\LuceneInAction\src\lia\handlingtypes\
>>data\HTML.html
>>Indexing
>>E:\Galeas\downloads\LuceneInAction\LuceneInAction\src\lia\handlingtypes\
>>data\MSWord.doc
>>Indexing
>>E:\Galeas\downloads\LuceneInAction\LuceneInAction\src\lia\handlingtypes\
>>data\PDF.pdf
>>Exception in thread "main" java.lang.NoClassDefFoundError:
>>org/apache/log4j/Logger
>>  at org.pdfbox.pdfparser.BaseParser.<clinit>(BaseParser.java:70)
>>  at
>>lia.handlingtypes.pdf.PDFBoxPDFHandler.parseDocument(PDFBoxPDFHandler.ja
>>va:118)
>>  at
>>lia.handlingtypes.pdf.PDFBoxPDFHandler.getDocument(PDFBoxPDFHandler.java
>>:32)
>>  at
>>lia.handlingtypes.framework.ExtensionFileHandler.getDocument(ExtensionFi
>>leHandler.java:39)
>>  at lia.handlingtypes.framework.FileIndexer.index(FileIndexer.java:43)
>>  at lia.handlingtypes.framework.FileIndexer.index(FileIndexer.java:36)
>>  at lia.handlingtypes.framework.FileIndexer.main(FileIndexer.java:77)
>>---------------------------------------
>>
>>Have anybody some idea ??
>>Thank You
>>Patricio
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>
>>------------------------------------------------------------------------------------------------
>>Disclaimer:
>>' Aan de inhoud van dit bericht kunnen alleen rechten ten opzichte van Interpay Nederland B.V. of aan haar gelieerde ondernemingen worden ontleend, indien zij door rechtsgeldig ondertekende stukken worden ondersteund. De informatie in dit e-mailbericht is van vertrouwelijke aard en alleen bedoeld voor gebruik door de geadresseerde. Als u een bericht onbedoeld heeft ontvangen, wordt u verzocht de verzender hiervan in kennis te stellen en het bericht te vernietigen zonder van de inhoud kennis te nemen, deze te vermenigvuldigen of andersoortig te gebruiken.'
>>An English version of this disclaimer is available on http://www.interpay.nl/eng/general/disclaimer.asp
>>------------------------------------------------------------------------------------------------
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>    
>>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>  
>
I have replace the

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16924-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 17 19:32:27 2005
Return-Path: <java-user-return-16924-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82216 invoked from network); 17 Oct 2005 19:32:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Oct 2005 19:32:27 -0000
Received: (qmail 59762 invoked by uid 500); 17 Oct 2005 19:32:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59739 invoked by uid 500); 17 Oct 2005 19:32:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59717 invoked by uid 99); 17 Oct 2005 19:32:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Oct 2005 12:32:20 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.181.92.62] (HELO fracf2.staples.com) (66.181.92.62)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Oct 2005 12:32:21 -0700
Received: from FRAEXIMS2.staples.com (Not Verified[10.1.7.82]) by fracf2.staples.com with NetIQ MailMarshal (v5.5.4.17)
	id <BB04ccebbd>; Mon, 17 Oct 2005 15:31:58 -0400
Received: by fraexims2.staples.com with Internet Mail Service (5.5.2657.72)
	id <VAHZV6LR>; Mon, 17 Oct 2005 15:31:57 -0400
Message-ID: <A9D9F16EC5955244A7B760CB3B8258480B4DE687@fraexmb2.staples.com>
From: "Sharma, Siddharth" <Siddharth.Sharma@Staples.com>
To: java-user@lucene.apache.org
Subject: Too many clauses
Date: Mon, 17 Oct 2005 15:31:52 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Query:  caught a class org.apache.lucene.queryParser.ParseException
 with message: Too many boolean clauses

I realize why this is happening (the 1024 clauses limit for BooleanQuery).
My question is more design related.

During customer registration, the customer defines a set of skus/products
that we should never display to them. These products are part of our catalog
offering but we are forbidden to make them available to this customer. This
list is called the block list and can potentially be large (6 to 7
thousand).

When a customer logs in, this block list is identified and currently I am
using QueryParser to parse these skus to block/exclude. That is why I am
hitting against the 1024 upper bound.

To circumvent it, here are a few options that I have thought of:
1. Chunk it up: 
  a. Create a filter based on a query that has a maximum of 1024. 
  b. Get its bits.
  c. Get the next 1024 blocked skus and create a filter out of it and get   
     its bits.
  d. AND the two BitSets.
  e. Do this till all blocked skus and other filters are ANDed together for 
     the final BitSet.

2. Build the block list into the index somehow
  a. My index is based on SKUs, not on customer.
  b. I could add a field in each SKU document that contains the customer-ids

     who want this SKU blocked.
  c. But this field's value could be very large.

3. Some other obvious way that I am stupid enough not to be able to 
   visualize.

Thanks in advance
Sid





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16925-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 17 19:32:48 2005
Return-Path: <java-user-return-16925-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82385 invoked from network); 17 Oct 2005 19:32:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Oct 2005 19:32:47 -0000
Received: (qmail 63311 invoked by uid 500); 17 Oct 2005 19:32:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63292 invoked by uid 500); 17 Oct 2005 19:32:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63281 invoked by uid 99); 17 Oct 2005 19:32:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Oct 2005 12:32:41 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of stachoo@gmail.com designates 64.233.184.205 as permitted sender)
Received: from [64.233.184.205] (HELO wproxy.gmail.com) (64.233.184.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Oct 2005 12:32:41 -0700
Received: by wproxy.gmail.com with SMTP id i21so12329wra
        for <java-user@lucene.apache.org>; Mon, 17 Oct 2005 12:32:18 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=buowfM8BKx57aFmlfJNLUUPO2LJB0YIeETBYJs1keTw9iwbPL411+FrnfA0NwLMNRni8V52I0QtY2L6c/A1Mk7tj82ewV69ySCSM8c5fwiXZVjk2/cdRIFp4AR8dZxXasm9UWbabrV9DY0PwP8VZO69+3s+zjRuH0JVkEmYZJB4=
Received: by 10.54.114.17 with SMTP id m17mr1900490wrc;
        Mon, 17 Oct 2005 12:32:18 -0700 (PDT)
Received: by 10.54.145.10 with HTTP; Mon, 17 Oct 2005 12:32:18 -0700 (PDT)
Message-ID: <5af106d60510171232q2614221flf99c1acda82b9aef@mail.gmail.com>
Date: Mon, 17 Oct 2005 21:32:18 +0200
From: Stanislaw Osinski <stachoo@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Clustering with Lucene
In-Reply-To: <8C7A13C2B52DBFE-122C-2FED@MBLK-M05.sysops.aol.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_2076_7345898.1129577538524"
References: <8C7A13C2B52DBFE-122C-2FED@MBLK-M05.sysops.aol.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_2076_7345898.1129577538524
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi Joe,

I'm one of Carrot2 developers and I have good news for you :) The example o=
f
using Carrot2 with Lucene is in the Carrot2 repository on SourceForge.net (
http://sourceforge.net/projects/carrot2). Please check out the "carrot2"
module (http://cvs.sourceforge.net/viewcvs.py/carrot2/carrot2/) and have a
look at the "applications/carrot2-lucene-example/" directory.

I've indexed the Open Directory Data with Lucene and integrated the index
with Carrot, you can have a look at the results here:

http://demo.carrot-search.com/carrot2-remote-controller/newsearch.do?query=
=3Dclustering&processingChain=3Dcarrot2.process.lingo-cluster-odp&resultsRe=
quested=3D200

Finally, here is a developer's manual for Carrot:

http://www.cs.put.poznan.pl/dweiss/carrot/manual/carrot2-developers-manual.=
html

Please let me know if you have any problems. I'm also very curious how
Carrot works in your application.

Cheers,

Stanislaw


--
Stanislaw Osinski, stachoo@carrot-search.com
http://www.carrot-search.com

On 10/17/05, msftblows@aol.com <msftblows@aol.com> wrote:
>
> Hi All-
>
> I have seen an example using carrot2 for clustering, but have not really
> played with it that much. Does anyone have a good example of using
> clustering with Lucene...has anyone attempted to do it with carrot2 or
> something else?
>
> I was initially going to do a facated search...which would be much
> simpler, but my taxonomies are not built yet to go that route...clusterin=
g
> would do that dynamically for me.
>
> Any ideas/thoughts would be helpful.
>
> Thanks!
> -Joe
>
>

------=_Part_2076_7345898.1129577538524--

From java-user-return-16926-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 17 19:42:37 2005
Return-Path: <java-user-return-16926-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87681 invoked from network); 17 Oct 2005 19:42:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Oct 2005 19:42:36 -0000
Received: (qmail 83019 invoked by uid 500); 17 Oct 2005 19:42:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82985 invoked by uid 500); 17 Oct 2005 19:42:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82965 invoked by uid 99); 17 Oct 2005 19:42:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Oct 2005 12:42:27 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of TAigner@wescodist.com designates 12.29.179.202 as permitted sender)
Received: from [12.29.179.202] (HELO mail01.wescodist.com) (12.29.179.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Oct 2005 12:42:27 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Too many clauses
Date: Mon, 17 Oct 2005 15:42:00 -0400
Message-ID: <14FBF41EF1411B45B2EC4ADEAC53D1310425C4C8@MAIL01.wescodist.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Too many clauses
Thread-Index: AcXTUY3DaxYybrdhRAOn5VUv5Hn+OgAAPk1g
From: "Aigner, Thomas" <TAigner@WescoDist.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Another way around it is to increase the max clause count.

//Setting the clause Count
 BooleanQuery.setMaxClauseCount(int);

Can use maxint or some number smaller.. When I set this high, I have had
to set the java pool higher for memory as well.

Tom

-----Original Message-----
From: Sharma, Siddharth [mailto:Siddharth.Sharma@Staples.com]=20
Sent: Monday, October 17, 2005 3:32 PM
To: java-user@lucene.apache.org
Subject: Too many clauses

Query:  caught a class org.apache.lucene.queryParser.ParseException
 with message: Too many boolean clauses

I realize why this is happening (the 1024 clauses limit for
BooleanQuery).
My question is more design related.

During customer registration, the customer defines a set of
skus/products
that we should never display to them. These products are part of our
catalog
offering but we are forbidden to make them available to this customer.
This
list is called the block list and can potentially be large (6 to 7
thousand).

When a customer logs in, this block list is identified and currently I
am
using QueryParser to parse these skus to block/exclude. That is why I am
hitting against the 1024 upper bound.

To circumvent it, here are a few options that I have thought of:
1. Chunk it up:=20
  a. Create a filter based on a query that has a maximum of 1024.=20
  b. Get its bits.
  c. Get the next 1024 blocked skus and create a filter out of it and
get  =20
     its bits.
  d. AND the two BitSets.
  e. Do this till all blocked skus and other filters are ANDed together
for=20
     the final BitSet.

2. Build the block list into the index somehow
  a. My index is based on SKUs, not on customer.
  b. I could add a field in each SKU document that contains the
customer-ids

     who want this SKU blocked.
  c. But this field's value could be very large.

3. Some other obvious way that I am stupid enough not to be able to=20
   visualize.

Thanks in advance
Sid





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16927-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 17 20:37:28 2005
Return-Path: <java-user-return-16927-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11214 invoked from network); 17 Oct 2005 20:37:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Oct 2005 20:37:28 -0000
Received: (qmail 52859 invoked by uid 500); 17 Oct 2005 20:37:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52839 invoked by uid 500); 17 Oct 2005 20:37:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52828 invoked by uid 99); 17 Oct 2005 20:37:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Oct 2005 13:37:21 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.181.92.62] (HELO fracf2.staples.com) (66.181.92.62)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Oct 2005 13:37:22 -0700
Received: from FRAEXIMS2.staples.com (Not Verified[10.1.7.82]) by fracf2.staples.com with NetIQ MailMarshal (v5.5.4.17)
	id <BB04cd02db>; Mon, 17 Oct 2005 16:37:00 -0400
Received: by fraexims2.staples.com with Internet Mail Service (5.5.2657.72)
	id <VAHZWBGY>; Mon, 17 Oct 2005 16:37:00 -0400
Message-ID: <A9D9F16EC5955244A7B760CB3B8258480B4DE6C6@fraexmb2.staples.com>
From: "Sharma, Siddharth" <Siddharth.Sharma@Staples.com>
To: java-user@lucene.apache.org
Subject: RE: Too many clauses
Date: Mon, 17 Oct 2005 16:36:58 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I thought of that but I had that listed as a last fallback option because I
was not sure what it meant in terms of performance since I am a newbie to
Lucene.
So if I bump up my heap (I assume that's what you are referring to when you
say java pool) it'll be ok?
Are there metrics around this? 
At x max_clauses, jvm heap should be y meg
At x + 1024, it should be z meg




-----Original Message-----
From: Aigner, Thomas [mailto:TAigner@WescoDist.com] 
Sent: Monday, October 17, 2005 3:42 PM
To: java-user@lucene.apache.org
Subject: RE: Too many clauses

Another way around it is to increase the max clause count.

//Setting the clause Count
 BooleanQuery.setMaxClauseCount(int);

Can use maxint or some number smaller.. When I set this high, I have had
to set the java pool higher for memory as well.

Tom

-----Original Message-----
From: Sharma, Siddharth [mailto:Siddharth.Sharma@Staples.com] 
Sent: Monday, October 17, 2005 3:32 PM
To: java-user@lucene.apache.org
Subject: Too many clauses

Query:  caught a class org.apache.lucene.queryParser.ParseException
 with message: Too many boolean clauses

I realize why this is happening (the 1024 clauses limit for
BooleanQuery).
My question is more design related.

During customer registration, the customer defines a set of
skus/products
that we should never display to them. These products are part of our
catalog
offering but we are forbidden to make them available to this customer.
This
list is called the block list and can potentially be large (6 to 7
thousand).

When a customer logs in, this block list is identified and currently I
am
using QueryParser to parse these skus to block/exclude. That is why I am
hitting against the 1024 upper bound.

To circumvent it, here are a few options that I have thought of:
1. Chunk it up: 
  a. Create a filter based on a query that has a maximum of 1024. 
  b. Get its bits.
  c. Get the next 1024 blocked skus and create a filter out of it and
get   
     its bits.
  d. AND the two BitSets.
  e. Do this till all blocked skus and other filters are ANDed together
for 
     the final BitSet.

2. Build the block list into the index somehow
  a. My index is based on SKUs, not on customer.
  b. I could add a field in each SKU document that contains the
customer-ids

     who want this SKU blocked.
  c. But this field's value could be very large.

3. Some other obvious way that I am stupid enough not to be able to 
   visualize.

Thanks in advance
Sid





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16928-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 17 21:05:49 2005
Return-Path: <java-user-return-16928-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28185 invoked from network); 17 Oct 2005 21:05:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Oct 2005 21:05:49 -0000
Received: (qmail 86992 invoked by uid 500); 17 Oct 2005 21:05:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86963 invoked by uid 500); 17 Oct 2005 21:05:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86951 invoked by uid 99); 17 Oct 2005 21:05:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Oct 2005 14:05:44 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Oct 2005 14:05:44 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 632EF5B7F0; Mon, 17 Oct 2005 14:05:22 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 606DF7F466
	for <java-user@lucene.apache.org>; Mon, 17 Oct 2005 14:05:22 -0700 (PDT)
Date: Mon, 17 Oct 2005 14:05:22 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Too many clauses
In-Reply-To: <A9D9F16EC5955244A7B760CB3B8258480B4DE687@fraexmb2.staples.com>
Message-ID: <Pine.LNX.4.58.0510171359410.27414@hal.rescomp.berkeley.edu>
References: <A9D9F16EC5955244A7B760CB3B8258480B4DE687@fraexmb2.staples.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

:
: To circumvent it, here are a few options that I have thought of:
: 1. Chunk it up:
:   a. Create a filter based on a query that has a maximum of 1024.
:   b. Get its bits.
:   c. Get the next 1024 blocked skus and create a filter out of it and get
:      its bits.
:   d. AND the two BitSets.
:   e. Do this till all blocked skus and other filters are ANDed together for
:      the final BitSet.

Instead of building up your filter based on a query, why not build up your
filter directly? ... Using a QueryFilter requires that scoring happen --
but you don't care about the scoring, you just want to know if a doc
matches a keyword or not.  Take a look at the way RangeFilter is
implimented.  it should be able to searve as a good example of how you can
write a "SetFilter" that takes in a field name and a set of keywords, and
only "passes" documents where one of the keywords shows up as an indexed
value for that field.  Now you don't have toworry baout the 1024 limit,
you don't have to "chunk" anything, your searches will be faster because
you don't need to worry about the scoring aspects of a the BooleanQueries.


Hint: you can sort the input Set, and then iterate over it, pulling out
the TermDocs for each, and scoring each doc in each TermDocs.  now your
Filter indicates all the products that do match those skus, and you'll
want an "InverseFilter to wrap it and indicate all the products that
*don't* match those skus.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16929-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 18 04:42:55 2005
Return-Path: <java-user-return-16929-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78445 invoked from network); 18 Oct 2005 04:42:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Oct 2005 04:42:54 -0000
Received: (qmail 24090 invoked by uid 500); 18 Oct 2005 04:42:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24000 invoked by uid 500); 18 Oct 2005 04:42:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23989 invoked by uid 99); 18 Oct 2005 04:42:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Oct 2005 21:42:49 -0700
X-ASF-Spam-Status: No, hits=1.8 required=10.0
	tests=RCVD_IN_WHOIS_BOGONS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [202.88.229.154] (HELO localhost.localdomain) (202.88.229.154)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Oct 2005 21:42:49 -0700
Received: from bitpixws10 (bitpix-ws10 [100.100.100.10])
	by localhost.localdomain (8.13.4/8.13.4) with ESMTP id j9I4gEMG014565
	for <java-user@lucene.apache.org>; Tue, 18 Oct 2005 10:12:17 +0530
From: "jibu mathew" <jibu@deldynamics.com>
To: <java-user@lucene.apache.org>
Subject: need help for generating Query String
Date: Tue, 18 Oct 2005 10:15:42 +0530
Message-ID: <000901c5d39e$cd253b70$0a646464@bitpixws10>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
In-Reply-To: <14FBF41EF1411B45B2EC4ADEAC53D1310425C4C8@MAIL01.wescodist.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi all,

I need urgent help for the following issues.

 

What is the query string to retrieve all the documents indexed
(something similar to *.*)? 
In a program I have indexed 10 files. When I do a search using the query
"contents:java", it will return 2 documents. But when I give
"-contents:java", then it will return an empty result set. Does anyone
know what the right query string for this? I.e., to retrieve all
documents that does not contain the word 'java'. 
What is the query string to retrieve all the documents which content is
empty? 
 

Please help me as soon as possible

 

Thanks

Jibu


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16930-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 18 05:21:15 2005
Return-Path: <java-user-return-16930-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88911 invoked from network); 18 Oct 2005 05:21:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Oct 2005 05:21:15 -0000
Received: (qmail 60707 invoked by uid 500); 18 Oct 2005 05:21:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60363 invoked by uid 500); 18 Oct 2005 05:21:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60351 invoked by uid 99); 18 Oct 2005 05:21:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Oct 2005 22:21:08 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.181.105.76] (HELO hfep10.dion.ne.jp) (203.181.105.76)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Oct 2005 22:21:08 -0700
Received: from sekiguchi2 ([58.5.235.18]) by hfep10.dion.ne.jp with SMTP
          id <20051018052046183.QVXH@hfep10.dion.ne.jp>
          for <java-user@lucene.apache.org>;
          Tue, 18 Oct 2005 14:20:46 +0900
Message-ID: <00ad01c5d3a3$b1458360$a000a8c0@sekiguchi2>
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
References: <000901c5d39e$cd253b70$0a646464@bitpixws10>
Subject: Re: need help for generating Query String
Date: Tue, 18 Oct 2005 14:20:45 +0900
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="ISO-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

> In a program I have indexed 10 files. When I do a search using the query
> "contents:java", it will return 2 documents. But when I give
> "-contents:java", then it will return an empty result set. Does anyone
> know what the right query string for this? I.e., to retrieve all
> documents that does not contain the word 'java'.

Please see FAQ of Lucene:

How does one determine which documents do not have a certain term?
http://wiki.apache.org/jakarta-lucene/LuceneFAQ#head-0cda565d913389773ca9c3246bde894c3e99084e

Thank you,

Koji

----- Original Message ----- 
From: "jibu mathew" <jibu@deldynamics.com>
To: <java-user@lucene.apache.org>
Sent: Tuesday, October 18, 2005 1:45 PM
Subject: need help for generating Query String


> Hi all,
>
> I need urgent help for the following issues.
>
>
>
> What is the query string to retrieve all the documents indexed
> (something similar to *.*)?
> In a program I have indexed 10 files. When I do a search using the query
> "contents:java", it will return 2 documents. But when I give
> "-contents:java", then it will return an empty result set. Does anyone
> know what the right query string for this? I.e., to retrieve all
> documents that does not contain the word 'java'.
> What is the query string to retrieve all the documents which content is
> empty?
>
>
> Please help me as soon as possible
>
>
>
> Thanks
>
> Jibu
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
> 



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16931-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 18 06:32:46 2005
Return-Path: <java-user-return-16931-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15054 invoked from network); 18 Oct 2005 06:32:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Oct 2005 06:32:46 -0000
Received: (qmail 3901 invoked by uid 500); 18 Oct 2005 06:32:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3878 invoked by uid 500); 18 Oct 2005 06:32:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3867 invoked by uid 99); 18 Oct 2005 06:32:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Oct 2005 23:32:37 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [209.86.89.66] (HELO smtpauth06.mail.atl.earthlink.net) (209.86.89.66)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Oct 2005 23:32:38 -0700
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=dk20050327; d=ix.netcom.com;
  b=iJNMetLmJXUEeLrDuJ0Dd2xK6i1A7dSgv6XzOl0FwGOcVI1ARrvh+1H3JTngrzyE;
  h=Received:Message-ID:Reply-To:From:To:Subject:Date:MIME-Version:Content-Type:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE:X-ELNK-Trace:X-Originating-IP;
Received: from [68.164.85.169] (helo=ag)
	by smtpauth06.mail.atl.earthlink.net with asmtp (Exim 4.34)
	id 1ERl1E-0001Rq-3O
	for java-user@lucene.apache.org; Tue, 18 Oct 2005 02:32:16 -0400
Message-ID: <002001c5d3ad$b664a7e0$0200a8c0@hq.sss.com>
Reply-To: "tcorbet" <tcorbet@ix.netcom.com>
From: "tcorbet" <tcorbet@ix.netcom.com>
To: <java-user@lucene.apache.org>
Subject: StopWords -- File Suffix
Date: Mon, 17 Oct 2005 23:32:28 -0700
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_001D_01C5D373.099C5FB0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1506
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1506
X-ELNK-Trace: 83b09a7f0580a067776432462e451d7bd15d05d9470ff710a836e7966423bf1ebcd5ea9045272910350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c
X-Originating-IP: 68.164.85.169
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_001D_01C5D373.099C5FB0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I thought that by using a StandardAnalyzer
with a StopWord list that is a merge of the
ENGLISH_STOP_WORDS and a handful
of additions that I have provided -- additions
which include the most common file
suffixes [.txt, .xml, .doc, etc.] -- ought
to eliminate any occurrence of those
terms in the resulting indexes.  However,
when I dump the index I see that the last
element of the file name concatenated with
a 'dot' and the suffix is what is being indexed.
So, I guess I did succeed in avoiding the
waste of indexing the suffix, but I am losing
the index of the final element of a file name
that includes embedded white space.

Please advise how to force the parser to
recognize and ignore the 'dot'.

Thank you.
------=_NextPart_000_001D_01C5D373.099C5FB0--


From java-user-return-16932-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 18 08:52:48 2005
Return-Path: <java-user-return-16932-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88592 invoked from network); 18 Oct 2005 08:52:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Oct 2005 08:52:48 -0000
Received: (qmail 62435 invoked by uid 500); 18 Oct 2005 08:52:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62416 invoked by uid 500); 18 Oct 2005 08:52:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62403 invoked by uid 99); 18 Oct 2005 08:52:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Oct 2005 01:52:40 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jmuguruza@gmail.com designates 64.233.182.198 as permitted sender)
Received: from [64.233.182.198] (HELO nproxy.gmail.com) (64.233.182.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Oct 2005 01:52:40 -0700
Received: by nproxy.gmail.com with SMTP id d4so215481nfe
        for <java-user@lucene.apache.org>; Tue, 18 Oct 2005 01:52:17 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=TH0B6ul1hjWA4KJInwVeE9iM44gWb38PX59uXT3CgzHslimgI+u8xrJ3k/u2xVj0oDyz88J6cFRIRJZxy7/GRPfszybP75QAiKLl67EPvllCymWPPSjn6IFz0ZovEw/pOmi/zoU1S+KRWD50Pp4meml1n+jq1pj13H9ex8yJj2o=
Received: by 10.48.225.15 with SMTP id x15mr61599nfg;
        Tue, 18 Oct 2005 01:52:17 -0700 (PDT)
Received: by 10.48.43.18 with HTTP; Tue, 18 Oct 2005 01:52:17 -0700 (PDT)
Message-ID: <f071061b0510180152v285a086ei1248dbda722e56c3@mail.gmail.com>
Date: Tue, 18 Oct 2005 10:52:17 +0200
From: javier muguruza <jmuguruza@gmail.com>
To: java-user@lucene.apache.org
Subject: org.apache.lucene.lockdir in 1.9
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I was using System.setProperty("org.apache.lucene.lockdir", ...) in
1.4.2 successfully. Now I updated to a 1.9rc-1 and this seems to have
stopped having any effect, locks are created in the default dir.

Has this been substituted by another api call?

thanks,
javi

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16933-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 18 10:37:51 2005
Return-Path: <java-user-return-16933-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49470 invoked from network); 18 Oct 2005 10:37:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Oct 2005 10:37:50 -0000
Received: (qmail 13976 invoked by uid 500); 18 Oct 2005 10:37:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13960 invoked by uid 500); 18 Oct 2005 10:37:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13949 invoked by uid 99); 18 Oct 2005 10:37:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Oct 2005 03:37:43 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 205.152.59.67 is neither permitted nor denied by domain of rwatkins@foo-bar.org)
Received: from [205.152.59.67] (HELO imf19aec.mail.bellsouth.net) (205.152.59.67)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Oct 2005 03:37:43 -0700
Received: from ibm60aec.bellsouth.net ([68.209.119.157])
          by imf19aec.mail.bellsouth.net with ESMTP
          id <20051018103721.EBDU3197.imf19aec.mail.bellsouth.net@ibm60aec.bellsouth.net>
          for <java-user@lucene.apache.org>;
          Tue, 18 Oct 2005 06:37:21 -0400
Received: from jimwormold ([68.209.119.157]) by ibm60aec.bellsouth.net
          with ESMTP
          id <20051018103721.STDS4572.ibm60aec.bellsouth.net@jimwormold>
          for <java-user@lucene.apache.org>;
          Tue, 18 Oct 2005 06:37:21 -0400
Date: Tue, 18 Oct 2005 06:37:26 -0400 (EDT)
From: Robert Watkins <rwatkins@foo-bar.org>
To: java-user@lucene.apache.org
Subject: [ off topic ] stnadard for field: suffix or prefix?
Message-ID: <Pine.LNX.4.63.0510180629530.5902@jimwormold>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Yes, I know this is off topic, but I also know that some of the most
experienced people in information retrieval monitor this list, so I
thought it worth the risk to get flamed.

A spec just came to my desk to develop a search application -- using
Lucene -- with field names as a suffix to the search term(s) instead of
as a prefix (e.g. term:field1,field2). Given that Lucene uses the field
as a prefix I had thought this to be more or less standard. So: is there
any sort of standard in the field of search, or is it purely an
application-specific design decision?

-- Robert

--------------------
Robert Watkins
rwatkins@foo-bar.org
--------------------

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16934-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 18 15:14:56 2005
Return-Path: <java-user-return-16934-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97502 invoked from network); 18 Oct 2005 15:14:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Oct 2005 15:14:56 -0000
Received: (qmail 29453 invoked by uid 500); 18 Oct 2005 15:06:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29243 invoked by uid 500); 18 Oct 2005 15:06:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29232 invoked by uid 99); 18 Oct 2005 15:06:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Oct 2005 08:06:50 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Oct 2005 08:06:50 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 0D8FA13E2005; Tue, 18 Oct 2005 11:06:27 -0400 (EDT)
Received: from [10.52.0.27] (10-81-event-swisscomeurospot.infopact.nl [84.35.81.10])
	by ehatchersolutions.com (Postfix) with ESMTP id 5771713E2006
	for <java-user@lucene.apache.org>; Tue, 18 Oct 2005 11:05:45 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <4353DB89.10705@informatik.uni-siegen.de>
References: <FF5ED66B91643840A3D4809E25952F830258B231@SMM00001.INTERN.INTERPAY.NL> <Pine.GSO.4.53.0510171125160.9660@fury.csh.rit.edu> <4353DB89.10705@informatik.uni-siegen.de>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <5C0A9ED2-FD32-45DE-991F-D03E46F3A5AD@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Lucene in Action : example code -> document-parsing framework ...
Date: Tue, 18 Oct 2005 17:05:45 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Please try running the examples from the command-line per the  
README.  Eliminate Eclipse from the equation first.

     Erik



On 17 Oct 2005, at 19:12, Patricio Galeas wrote:

> Hello,
> first, thank you for your help ....!!
>
> I have replaced the JAR File in the "Java Build Path" von Eclipse  
> with the lastest version (PDFBox-0.7.2.jar), but I still receive  
> the same error message :
>
> Indexing E:\Galeas\lucene\data\pdfs\Beginning Java Server Pages.pdf
> Exception in thread "main" java.lang.NoClassDefFoundError: org/ 
> apache/log4j/Logger
>    at org.pdfbox.pdfparser.BaseParser.<clinit>(BaseParser.java:70)
>    at  
> org.galeas.index.handlingtypes.pdf.PDFBoxPDFHandler.parseDocument 
> (PDFBoxPDFHandler.java:117)
>    at  
> org.galeas.index.handlingtypes.pdf.PDFBoxPDFHandler.getDocument 
> (PDFBoxPDFHandler.java:32)
>    at  
> org.galeas.index.handlingtypes.framework.ExtensionFileHandler.getDocum 
> ent(ExtensionFileHandler.java:38)
>    at org.galeas.index.handlingtypes.framework.FileIndexer.index 
> (FileIndexer.java:43)
>    at org.galeas.index.handlingtypes.framework.FileIndexer.index 
> (FileIndexer.java:36)
>    at org.galeas.index.handlingtypes.framework.FileIndexer.main 
> (FileIndexer.java:77)
>
> What do I wrong?
> Thank You
> Patricio
>
>
>
> Ben Litchfield schrieb:
>
>
>> In addition, the latest version(0.7.2) of PDFBox does not require  
>> log4j,
>> so you could also upgrade to that version.
>>
>> Ben
>>
>>
>> On Mon, 17 Oct 2005 n.bulthuis@interpay.nl wrote:
>>
>>
>>
>>> Exception in thread "main" java.lang.NoClassDefFoundError:
>>> org/apache/log4j/Logger
>>>  at org.pdfbox.pdfparser.BaseParser.<clinit>(BaseParser.java:70)
>>>
>>> PDFBox cannot find Log4J. You can add Log4J to you classpath to fix
>>> this.
>>>
>>> -----Original Message-----
>>> From: msftblows@aol.com [mailto:msftblows@aol.com]
>>> Sent: 17 October 2005 16:09
>>> To: java-user@lucene.apache.org; galeas@informatik.uni-siegen.de
>>> Subject: Re: Lucene in Action : example code -> document-parsing
>>> framework ...
>>>
>>>
>>> Do you have the log4j.properties file in the classpath?
>>>
>>> -----Original Message-----
>>> From: Patricio Galeas <galeas@informatik.uni-siegen.de>
>>> To: java-user@lucene.apache.org
>>> Sent: Mon, 17 Oct 2005 15:50:46 +0200
>>> Subject: Lucene in Action : example code -> document-parsing  
>>> framework
>>> ...
>>>
>>>
>>> Hi ALL,
>>> I try to run the an example of the "Lucene in Action" book :
>>>
>>> Chapter 7: Parsing Common Document Formats:
>>> lia.handlingtypes.framework.FileIndexer
>>>
>>> I have downloaded all the source code from www.manning.com/hatcher2
>>> and create a java project in Lucene 3.1.
>>>
>>> I become the following error message when the PDF document is  
>>> indexed :
>>> ---------------------------------------
>>> Indexing
>>> E:\Galeas\downloads\LuceneInAction\LuceneInAction\src\lia 
>>> \handlingtypes\
>>> data\addressbook-entry.xml
>>> log4j:WARN No appenders could be found for logger
>>> (org.apache.commons.digester.Digester.sax).
>>> log4j:WARN Please initialize the log4j system properly.
>>> Indexing
>>> E:\Galeas\downloads\LuceneInAction\LuceneInAction\src\lia 
>>> \handlingtypes\
>>> data\addressbook.xml
>>> Indexing
>>> E:\Galeas\downloads\LuceneInAction\LuceneInAction\src\lia 
>>> \handlingtypes\
>>> data\HTML.html
>>> Indexing
>>> E:\Galeas\downloads\LuceneInAction\LuceneInAction\src\lia 
>>> \handlingtypes\
>>> data\MSWord.doc
>>> Indexing
>>> E:\Galeas\downloads\LuceneInAction\LuceneInAction\src\lia 
>>> \handlingtypes\
>>> data\PDF.pdf
>>> Exception in thread "main" java.lang.NoClassDefFoundError:
>>> org/apache/log4j/Logger
>>>  at org.pdfbox.pdfparser.BaseParser.<clinit>(BaseParser.java:70)
>>>  at
>>> lia.handlingtypes.pdf.PDFBoxPDFHandler.parseDocument 
>>> (PDFBoxPDFHandler.ja
>>> va:118)
>>>  at
>>> lia.handlingtypes.pdf.PDFBoxPDFHandler.getDocument 
>>> (PDFBoxPDFHandler.java
>>> :32)
>>>  at
>>> lia.handlingtypes.framework.ExtensionFileHandler.getDocument 
>>> (ExtensionFi
>>> leHandler.java:39)
>>>  at lia.handlingtypes.framework.FileIndexer.index 
>>> (FileIndexer.java:43)
>>>  at lia.handlingtypes.framework.FileIndexer.index 
>>> (FileIndexer.java:36)
>>>  at lia.handlingtypes.framework.FileIndexer.main(FileIndexer.java: 
>>> 77)
>>> ---------------------------------------
>>>
>>> Have anybody some idea ??
>>> Thank You
>>> Patricio
>>>
>>>
>>> -------------------------------------------------------------------- 
>>> -
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>>
>>> -------------------------------------------------------------------- 
>>> ----------------------------
>>> Disclaimer:
>>> ' Aan de inhoud van dit bericht kunnen alleen rechten ten  
>>> opzichte van Interpay Nederland B.V. of aan haar gelieerde  
>>> ondernemingen worden ontleend, indien zij door rechtsgeldig  
>>> ondertekende stukken worden ondersteund. De informatie in dit e- 
>>> mailbericht is van vertrouwelijke aard en alleen bedoeld voor  
>>> gebruik door de geadresseerde. Als u een bericht onbedoeld heeft  
>>> ontvangen, wordt u verzocht de verzender hiervan in kennis te  
>>> stellen en het bericht te vernietigen zonder van de inhoud kennis  
>>> te nemen, deze te vermenigvuldigen of andersoortig te gebruiken.'
>>> An English version of this disclaimer is available on http:// 
>>> www.interpay.nl/eng/general/disclaimer.asp
>>> -------------------------------------------------------------------- 
>>> ----------------------------
>>>
>>>
>>> -------------------------------------------------------------------- 
>>> -
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>
>>
>>
> I have replace the
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16935-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 18 15:54:17 2005
Return-Path: <java-user-return-16935-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19982 invoked from network); 18 Oct 2005 15:54:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Oct 2005 15:54:17 -0000
Received: (qmail 19922 invoked by uid 500); 18 Oct 2005 15:54:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19890 invoked by uid 500); 18 Oct 2005 15:54:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19879 invoked by uid 99); 18 Oct 2005 15:54:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Oct 2005 08:54:10 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.12.12.80] (HELO web86205.mail.ukl.yahoo.com) (217.12.12.80)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 18 Oct 2005 08:54:10 -0700
Received: (qmail 56092 invoked by uid 60001); 18 Oct 2005 15:53:47 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=btinternet.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=bZGvhKsJcs6lliYz87HpuNzeVSrFjXiX/8L7wI2tlgKddXy7/qznPfVfveruRGzryq/bWmL7MHF9K6puaVc39y/zhmmBtl4q/RLvbDqR5n8KV+lpwCN+eZH4LxoBIH6lmYAxyDut4TtlYe2+EIiSmivXXMuyEp57A34cttB60mQ=  ;
Message-ID: <20051018155347.56090.qmail@web86205.mail.ukl.yahoo.com>
Received: from [193.63.235.72] by web86205.mail.ukl.yahoo.com via HTTP; Tue, 18 Oct 2005 16:53:47 BST
Date: Tue, 18 Oct 2005 16:53:47 +0100 (BST)
From: MALCOLM CLARK <malcyclark@btinternet.com>
Subject: Re: Lucene in Action : example code -> document-parsing framework ...
To: java-user@lucene.apache.org
In-Reply-To: <5C0A9ED2-FD32-45DE-991F-D03E46F3A5AD@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-584388304-1129650827=:56088"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-584388304-1129650827=:56088
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit


Hi,

Could somebody please help me regarding Lucene and Digester. I have discovered this problem during indexing the INEX collection of XML for my MSc project.

During the parsing of the XML files all named Volume.xml the parser will only index the last XML element in any repetitive list. For example: 

<book>

</chapters>

<title></title>

<title></title> //Only this title element is indexed

</chapters>

</book>



</chapters>

</book>

How does one put multiple fields in one Digester field for Lucene indexing?

 

Thanks in advance.

MC


--0-584388304-1129650827=:56088--

From java-user-return-16936-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 18 17:59:56 2005
Return-Path: <java-user-return-16936-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88299 invoked from network); 18 Oct 2005 17:59:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Oct 2005 17:59:56 -0000
Received: (qmail 54714 invoked by uid 500); 18 Oct 2005 17:58:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54606 invoked by uid 500); 18 Oct 2005 17:58:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54472 invoked by uid 99); 18 Oct 2005 17:58:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Oct 2005 10:58:26 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist@danielnaber.de designates 80.67.18.16 as permitted sender)
Received: from [80.67.18.16] (HELO smtprelay04.ispgateway.de) (80.67.18.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Oct 2005 10:58:22 -0700
Received: (qmail 19911 invoked from network); 18 Oct 2005 17:57:58 -0000
Received: from unknown (HELO p5496ed6c.dip.t-dialin.net) ([pbs]695637@[84.150.237.108])
          (envelope-sender <lucenelist@danielnaber.de>)
          by smtprelay04.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 18 Oct 2005 17:57:58 -0000
From: Daniel Naber <lucenelist@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: org.apache.lucene.lockdir in 1.9
Date: Tue, 18 Oct 2005 19:58:01 +0200
User-Agent: KMail/1.8.2
References: <f071061b0510180152v285a086ei1248dbda722e56c3@mail.gmail.com>
In-Reply-To: <f071061b0510180152v285a086ei1248dbda722e56c3@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200510181958.01330@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Dienstag 18 Oktober 2005 10:52, javier muguruza wrote:

> I was using System.setProperty("org.apache.lucene.lockdir", ...) in
> 1.4.2 successfully. Now I updated to a 1.9rc-1 and this seems to have
> stopped having any effect, locks are created in the default dir.

See CHANGES.txt, it has been renamed.

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16937-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 19 05:14:11 2005
Return-Path: <java-user-return-16937-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17776 invoked from network); 19 Oct 2005 05:14:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Oct 2005 05:14:11 -0000
Received: (qmail 55996 invoked by uid 500); 19 Oct 2005 05:14:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55977 invoked by uid 500); 19 Oct 2005 05:14:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55966 invoked by uid 99); 19 Oct 2005 05:14:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Oct 2005 22:14:04 -0700
X-ASF-Spam-Status: No, hits=1.8 required=10.0
	tests=RCVD_IN_WHOIS_BOGONS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [202.88.229.154] (HELO localhost.localdomain) (202.88.229.154)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Oct 2005 22:14:04 -0700
Received: from bitpixws10 (bitpix-ws10 [100.100.100.10])
	by localhost.localdomain (8.13.4/8.13.4) with ESMTP id j9J5DYtq027657
	for <java-user@lucene.apache.org>; Wed, 19 Oct 2005 10:43:35 +0530
From: "jibu mathew" <jibu@deldynamics.com>
To: <java-user@lucene.apache.org>
Subject: RE: need help for generating Query String
Date: Wed, 19 Oct 2005 10:47:03 +0530
Message-ID: <000301c5d46c$57c32350$0a646464@bitpixws10>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
In-Reply-To: <00ad01c5d3a3$b1458360$a000a8c0@sekiguchi2>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks Koji. It worked for me.
jibu

-----Original Message-----
From: Koji Sekiguchi [mailto:koji.sekiguchi@m4.dion.ne.jp] 
Sent: Tuesday, October 18, 2005 10:51 AM
To: java-user@lucene.apache.org
Subject: Re: need help for generating Query String

Hi,

> In a program I have indexed 10 files. When I do a search using the
query
> "contents:java", it will return 2 documents. But when I give
> "-contents:java", then it will return an empty result set. Does anyone
> know what the right query string for this? I.e., to retrieve all
> documents that does not contain the word 'java'.

Please see FAQ of Lucene:

How does one determine which documents do not have a certain term?
http://wiki.apache.org/jakarta-lucene/LuceneFAQ#head-0cda565d913389773ca
9c3246bde894c3e99084e

Thank you,

Koji



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16938-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 19 10:40:32 2005
Return-Path: <java-user-return-16938-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86109 invoked from network); 19 Oct 2005 10:40:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Oct 2005 10:40:32 -0000
Received: (qmail 42124 invoked by uid 500); 19 Oct 2005 10:40:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41883 invoked by uid 500); 19 Oct 2005 10:40:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41872 invoked by uid 99); 19 Oct 2005 10:40:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Oct 2005 03:40:25 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of shoren@gmail.com designates 64.233.162.200 as permitted sender)
Received: from [64.233.162.200] (HELO zproxy.gmail.com) (64.233.162.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Oct 2005 03:40:24 -0700
Received: by zproxy.gmail.com with SMTP id q3so38012nzb
        for <java-user@lucene.apache.org>; Wed, 19 Oct 2005 03:40:03 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=DAlVzZpxQaLydsH3ntvLxu3YCgi0Co4u/lHozFCJlWWtqOpRomIEmGTa3p6Bg6e8sPU6ieo9z5IRMCW3/RjwjdbJe9lXVy/M8BR+Um1KG9ZsVBmros32c6HqMaAGZ8Xj71QIEoL5AOkHGVtfgkaeLNhEn0Rh5WgQc78oqr3j0aA=
Received: by 10.36.224.63 with SMTP id w63mr486627nzg;
        Wed, 19 Oct 2005 03:40:03 -0700 (PDT)
Received: by 10.36.91.13 with HTTP; Wed, 19 Oct 2005 03:40:03 -0700 (PDT)
Message-ID: <b7bee2520510190340m2c3a6016wc3aefb2fc11a8b63@mail.gmail.com>
Date: Wed, 19 Oct 2005 12:40:03 +0200
From: Oren Shir <shoren@gmail.com>
Reply-To: shoren@alum.cs.huji.ac.il
To: java-user@lucene.apache.org
Subject: Re: Lucene/Digester
In-Reply-To: <005e01c5d23e$96087870$0301a8c0@MALCOLM>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_845_12118919.1129718403163"
References: <005e01c5d23e$96087870$0301a8c0@MALCOLM>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_845_12118919.1129718403163
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,
About your first question:
How do you know that only the last "Chapter" element is stored? could it be
that you are only getting the last one? Try using getValues() instead of
get.

Oren

On 10/16/05, Malcolm Clark <malcyclark@btinternet.com> wrote:
>
> Hi all,
> I'm using Lucene/Digester etc for my MSc I'm quite new to these API's. I'=
m
> trying to obtain advice but it's hard to say whether the problem is Lucen=
e
> or Digester.
> Firstly:
> I am trying to index the INEX collection but when I try to index
> repetitive elements only the last one is indexed. For example:
> <Book>
> <Name>
> <Title>
> <Chapter></Chapter>
> <Chapter></Chapter>
> <Chapter></Chapter> //this is the only one indexed
> </Title>
> </Name>
> </Book>
> only the last Chapter element will be indexed and it will skip the first
> two.
> Secondly:
> When using the Digester/Lucene with XML does each file have to contain e.=
g
> <!DOCTYPE books PUBLIC "-//LBIN//DTD IEEE Mag//EN" "xmlarticle.dtd" or is
> there a way around it?
> I have tried to use the sample line from the Digester API
> digester.register("-//Example Dot Com //DTD Sample Example//EN",
> "assets/sample.dtd");
> but to no avail.
>
> Thanks very much. I really appreciate any possible solutions as I'm
> stumped.
> Malcolm
> Scotland
>
>

------=_Part_845_12118919.1129718403163--

From java-user-return-16939-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 19 11:00:27 2005
Return-Path: <java-user-return-16939-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95384 invoked from network); 19 Oct 2005 11:00:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Oct 2005 11:00:27 -0000
Received: (qmail 68753 invoked by uid 500); 19 Oct 2005 11:00:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68620 invoked by uid 500); 19 Oct 2005 11:00:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68548 invoked by uid 99); 19 Oct 2005 11:00:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Oct 2005 04:00:18 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.12.12.82] (HELO web86207.mail.ukl.yahoo.com) (217.12.12.82)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 19 Oct 2005 04:00:17 -0700
Received: (qmail 12005 invoked by uid 60001); 19 Oct 2005 10:59:56 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=btinternet.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=yqx4e3lpL2DP2wb6o8dUgnWaVjIsB47683+7Ir2J+zuKaMfKRQV0H+I/f5fDuvq2sqjyZlUfzSAnC85qIRDCfj3PRWbziuLQzXkR8VBSfJknXlMc/KJZijtk4yu2paQ+pmSq50J42IOrJgzml5wbX/QNBBv9v0OrhCkJdyFzxIw=  ;
Message-ID: <20051019105956.12003.qmail@web86207.mail.ukl.yahoo.com>
Received: from [193.63.235.72] by web86207.mail.ukl.yahoo.com via HTTP; Wed, 19 Oct 2005 11:59:55 BST
Date: Wed, 19 Oct 2005 11:59:55 +0100 (BST)
From: MALCOLM CLARK <malcyclark@btinternet.com>
Subject: Re: Lucene/Digester
To: java-user@lucene.apache.org, shoren@alum.cs.huji.ac.il
In-Reply-To: <b7bee2520510190340m2c3a6016wc3aefb2fc11a8b63@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1759893348-1129719595=:11820"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1759893348-1129719595=:11820
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit


Hi

I used Luke to check the content of the index and they are not there.

cheers,

MC


--0-1759893348-1129719595=:11820--

From java-user-return-16940-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 19 13:59:37 2005
Return-Path: <java-user-return-16940-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99659 invoked from network); 19 Oct 2005 13:59:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Oct 2005 13:59:35 -0000
Received: (qmail 20811 invoked by uid 500); 19 Oct 2005 13:59:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20718 invoked by uid 500); 19 Oct 2005 13:59:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20659 invoked by uid 99); 19 Oct 2005 13:59:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Oct 2005 06:59:18 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.18.5] (HELO mailbox.syr.edu) (128.230.18.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Oct 2005 06:59:16 -0700
Received: from [128.230.84.109] (istcnlpd9hb3r31.syr.edu [128.230.84.109])
	by mailbox.syr.edu (8.12.10/8.12.10) with ESMTP id j9JDwpq0027423
	for <java-user@lucene.apache.org>; Wed, 19 Oct 2005 09:58:52 -0400 (EDT)
Message-ID: <435650A0.1070109@syr.edu>
Date: Wed, 19 Oct 2005 09:56:48 -0400
From: Grant Ingersoll <gsingers@syr.edu>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Lucene/Digester
References: <005e01c5d23e$96087870$0301a8c0@MALCOLM> <b7bee2520510190340m2c3a6016wc3aefb2fc11a8b63@mail.gmail.com>
In-Reply-To: <b7bee2520510190340m2c3a6016wc3aefb2fc11a8b63@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I would suggest isolating Digester from Lucene and running a unit test 
on just the Digester part to ensure you are getting the right things 
back from Digester.  Once you are sure your digester setup is correct, 
then look at how it feeds into Lucene and post back here if it still 
doesn't work

Oren Shir wrote:

>Hi,
>About your first question:
>How do you know that only the last "Chapter" element is stored? could it be
>that you are only getting the last one? Try using getValues() instead of
>get.
>
>Oren
>
>On 10/16/05, Malcolm Clark <malcyclark@btinternet.com> wrote:
>  
>
>>Hi all,
>>I'm using Lucene/Digester etc for my MSc I'm quite new to these API's. I'm
>>trying to obtain advice but it's hard to say whether the problem is Lucene
>>or Digester.
>>Firstly:
>>I am trying to index the INEX collection but when I try to index
>>repetitive elements only the last one is indexed. For example:
>><Book>
>><Name>
>><Title>
>><Chapter></Chapter>
>><Chapter></Chapter>
>><Chapter></Chapter> //this is the only one indexed
>></Title>
>></Name>
>></Book>
>>only the last Chapter element will be indexed and it will skip the first
>>two.
>>Secondly:
>>When using the Digester/Lucene with XML does each file have to contain e.g
>><!DOCTYPE books PUBLIC "-//LBIN//DTD IEEE Mag//EN" "xmlarticle.dtd" or is
>>there a way around it?
>>I have tried to use the sample line from the Digester API
>>digester.register("-//Example Dot Com //DTD Sample Example//EN",
>>"assets/sample.dtd");
>>but to no avail.
>>
>>Thanks very much. I really appreciate any possible solutions as I'm
>>stumped.
>>Malcolm
>>Scotland
>>
>>
>>    
>>
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16941-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 19 14:09:10 2005
Return-Path: <java-user-return-16941-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5598 invoked from network); 19 Oct 2005 14:09:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Oct 2005 14:09:10 -0000
Received: (qmail 40963 invoked by uid 500); 19 Oct 2005 14:09:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40940 invoked by uid 500); 19 Oct 2005 14:09:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40929 invoked by uid 99); 19 Oct 2005 14:09:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Oct 2005 07:09:02 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.12.12.85] (HELO web86210.mail.ukl.yahoo.com) (217.12.12.85)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 19 Oct 2005 07:09:01 -0700
Received: (qmail 77990 invoked by uid 60001); 19 Oct 2005 14:08:38 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=btinternet.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=J7V7hFGiIFOQhezm2Ql2PM6yQ4Bvp1+5SpM6x0eeTflh8VKUZRmUrnNOERi2+zD22kT3RdOOVQBw8iIEfCZIwLnLj3AZ8YhDAs+xNXCLBn93aAEWVcEFjrkQTZAxZJbCm7svyexUsSjc0+6mM+OrQmrHJMP3IrYf/6QU/PnMqzY=  ;
Message-ID: <20051019140838.77988.qmail@web86210.mail.ukl.yahoo.com>
Received: from [193.63.235.72] by web86210.mail.ukl.yahoo.com via HTTP; Wed, 19 Oct 2005 15:08:38 BST
Date: Wed, 19 Oct 2005 15:08:38 +0100 (BST)
From: MALCOLM CLARK <malcyclark@btinternet.com>
Subject: Re: Lucene/Digester
To: java-user@lucene.apache.org
In-Reply-To: <435650A0.1070109@syr.edu>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-2048094684-1129730918=:77872"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-2048094684-1129730918=:77872
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit


Okay I'll do that. Thanks very much for the advice as it's much appreciated.

Malcolm Clark


--0-2048094684-1129730918=:77872--

From java-user-return-16942-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 19 14:16:06 2005
Return-Path: <java-user-return-16942-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9921 invoked from network); 19 Oct 2005 14:16:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Oct 2005 14:16:06 -0000
Received: (qmail 56617 invoked by uid 500); 19 Oct 2005 14:16:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56592 invoked by uid 500); 19 Oct 2005 14:16:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56581 invoked by uid 99); 19 Oct 2005 14:15:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Oct 2005 07:15:59 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jmuguruza@gmail.com designates 64.233.182.207 as permitted sender)
Received: from [64.233.182.207] (HELO nproxy.gmail.com) (64.233.182.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Oct 2005 07:15:59 -0700
Received: by nproxy.gmail.com with SMTP id c2so23981nfe
        for <java-user@lucene.apache.org>; Wed, 19 Oct 2005 07:15:35 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=Cbye3+aYWCs4MyyQAFc1Xp6DcN7p8WA2ary6hccWOodA1c0eb0fH/I8B4wqOXYLpzyOHGfyd6oEzp0GYUa/hYpIPFZE/4PtDM8MiJEkERiwoYhWTn6m/bmgFfLQDlQaKV7WpUmJTYwc+J5rX7kDUO6EouuZ1qUryJZq5ZSoekaI=
Received: by 10.48.232.19 with SMTP id e19mr27385nfh;
        Wed, 19 Oct 2005 07:15:34 -0700 (PDT)
Received: by 10.48.43.18 with HTTP; Wed, 19 Oct 2005 07:15:34 -0700 (PDT)
Message-ID: <f071061b0510190715r780e2c6s1fb516e7e5cbdf9f@mail.gmail.com>
Date: Wed, 19 Oct 2005 16:15:34 +0200
From: javier muguruza <jmuguruza@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: org.apache.lucene.lockdir in 1.9
In-Reply-To: <200510181958.01330@danielnaber.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <f071061b0510180152v285a086ei1248dbda722e56c3@mail.gmail.com>
	 <200510181958.01330@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

thanks Daniel, did not see that.

On 10/18/05, Daniel Naber <lucenelist@danielnaber.de> wrote:
> On Dienstag 18 Oktober 2005 10:52, javier muguruza wrote:
>
> > I was using System.setProperty("org.apache.lucene.lockdir", ...) in
> > 1.4.2 successfully. Now I updated to a 1.9rc-1 and this seems to have
> > stopped having any effect, locks are created in the default dir.
>
> See CHANGES.txt, it has been renamed.
>
> Regards
>  Daniel
>
> --
> http://www.danielnaber.de
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16943-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 19 14:51:55 2005
Return-Path: <java-user-return-16943-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32047 invoked from network); 19 Oct 2005 14:51:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Oct 2005 14:51:54 -0000
Received: (qmail 30645 invoked by uid 500); 19 Oct 2005 14:51:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30625 invoked by uid 500); 19 Oct 2005 14:51:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30613 invoked by uid 99); 19 Oct 2005 14:51:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Oct 2005 07:51:47 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.18.98.36] (HELO brmea-mail-4.sun.com) (192.18.98.36)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Oct 2005 07:51:47 -0700
Received: from phys-d3-ha21sca-2 ([129.145.155.165])
	by brmea-mail-4.sun.com (8.12.10/8.12.9) with ESMTP id j9JEpMeT013629
	for <java-user@lucene.apache.org>; Wed, 19 Oct 2005 08:51:22 -0600 (MDT)
Received: from conversion-daemon.ha21sca-mail1.sfbay.sun.com by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 id <0IOM008013UP3K@ha21sca-mail1.sfbay.sun.com>
 (original mail from Richard.Hillegas@Sun.COM) for java-user@lucene.apache.org;
 Wed, 19 Oct 2005 07:51:42 -0700 (PDT)
Received: from [129.150.26.125]
 (vpn-129-150-26-125.SFBay.Sun.COM [129.150.26.125])
 by ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 with ESMTP id <0IOM007UQ3Y68D@ha21sca-mail1.sfbay.sun.com> for
 java-user@lucene.apache.org; Wed, 19 Oct 2005 07:51:42 -0700 (PDT)
Date: Wed, 19 Oct 2005 07:51:23 -0700
From: Rick Hillegas <Richard.Hillegas@Sun.COM>
Subject: lucene versions
To: java-user@lucene.apache.org
Message-id: <43565D6B.7080303@sun.com>
MIME-version: 1.0
Content-type: text/plain; charset=ISO-8859-1; format=flowed
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

I'm looking into integrating lucene with derby. I'm just starting out so 
I'm afraid I'm going to pepper this list with some newbie questions.

Here's one: The downloadable lucene distribution has rev level 1.4.3 and 
was released a year ago according to 
http://lucene.apache.org/java/docs/index.html. However, the FAQ says 
there's a 2.0 rev which fixes a problem in multiple-field-searching (see 
http://wiki.apache.org/jakarta-lucene/LuceneFAQ#head-300f0756fdaa71f522c96a868351f716573f2d77). 
The FAQ also mentions a 1.9 rev 
(http://wiki.apache.org/jakarta-lucene/LuceneFAQ#head-b9a3e0ae5d11e310edb328a949b59dcc02487e26). 
I was surprised that the released distribution wasn't more current. 
Where can you get the more advanced distributions?

Thanks,
-Rick

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16944-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 19 17:48:24 2005
Return-Path: <java-user-return-16944-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37535 invoked from network); 19 Oct 2005 17:48:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Oct 2005 17:48:23 -0000
Received: (qmail 12955 invoked by uid 500); 19 Oct 2005 17:48:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12786 invoked by uid 500); 19 Oct 2005 17:48:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12685 invoked by uid 99); 19 Oct 2005 17:48:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Oct 2005 10:48:15 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Oct 2005 10:48:14 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 16F105B7A0; Wed, 19 Oct 2005 10:47:53 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 13ECD7F460
	for <java-user@lucene.apache.org>; Wed, 19 Oct 2005 10:47:53 -0700 (PDT)
Date: Wed, 19 Oct 2005 10:47:53 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: lucene versions
In-Reply-To: <43565D6B.7080303@sun.com>
Message-ID: <Pine.LNX.4.58.0510191043510.29973@hal.rescomp.berkeley.edu>
References: <43565D6B.7080303@sun.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


1.4.3 is in fact the last "official" release.

docs that refer to 2.0 or 1.9 are refering the the proposed next release.
When they refer to bugs fixes or features added in 2.0 or in 1.9 they are
refering to the code currently available in the trunk of subversion.

An explanation of the distinction between 2.0 and 1.9 can be found on the
wiki...

http://wiki.apache.org/jakarta-lucene/Lucene2Whiteboard

  Release Migration Plan

  Immediately prior to release 2.0 will be release 1.9, which will include
  all of the new 2.0 APIs, and all of the now-deprecated 1.x API's. 2.0
  will be identical to 1.9, but with all deprecated APIs removed. To port an
  application to 2.0 one should first compile it against 1.9. Once it
  compiles against 1.9 without deprecation warnings, it should be 2.0
  compatible.


: Date: Wed, 19 Oct 2005 07:51:23 -0700
: From: Rick Hillegas <Richard.Hillegas@Sun.COM>
: Reply-To: java-user@lucene.apache.org
: To: java-user@lucene.apache.org
: Subject: lucene versions
:
: Hello,
:
: I'm looking into integrating lucene with derby. I'm just starting out so
: I'm afraid I'm going to pepper this list with some newbie questions.
:
: Here's one: The downloadable lucene distribution has rev level 1.4.3 and
: was released a year ago according to
: http://lucene.apache.org/java/docs/index.html. However, the FAQ says
: there's a 2.0 rev which fixes a problem in multiple-field-searching (see
: http://wiki.apache.org/jakarta-lucene/LuceneFAQ#head-300f0756fdaa71f522c96a868351f716573f2d77).
: The FAQ also mentions a 1.9 rev
: (http://wiki.apache.org/jakarta-lucene/LuceneFAQ#head-b9a3e0ae5d11e310edb328a949b59dcc02487e26).
: I was surprised that the released distribution wasn't more current.
: Where can you get the more advanced distributions?
:
: Thanks,
: -Rick
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16945-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 19 18:06:32 2005
Return-Path: <java-user-return-16945-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46173 invoked from network); 19 Oct 2005 18:06:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Oct 2005 18:06:31 -0000
Received: (qmail 40618 invoked by uid 500); 19 Oct 2005 18:06:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40599 invoked by uid 500); 19 Oct 2005 18:06:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40587 invoked by uid 99); 19 Oct 2005 18:06:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Oct 2005 11:06:25 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.181.92.62] (HELO fracf2.staples.com) (66.181.92.62)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Oct 2005 11:06:25 -0700
Received: from FRAEXIMS2.staples.com (Not Verified[10.1.7.82]) by fracf2.staples.com with NetIQ MailMarshal (v5.5.4.17)
	id <BB04cecb9b>; Wed, 19 Oct 2005 14:06:03 -0400
Received: by fraexims2.staples.com with Internet Mail Service (5.5.2657.72)
	id <VAHZZ3XY>; Wed, 19 Oct 2005 14:06:03 -0400
Message-ID: <A9D9F16EC5955244A7B760CB3B8258480B4DEA17@fraexmb2.staples.com>
From: "Sharma, Siddharth" <Siddharth.Sharma@Staples.com>
To: java-user@lucene.apache.org
Subject: RE: Too many clauses
Date: Wed, 19 Oct 2005 14:05:59 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks Chris

I haven't tried it yet, but I think I understand your idea now (after 24
hours, man I'm slow on the uptake;)
I'll try it today.
-Sid


-----Original Message-----
From: Chris Hostetter [mailto:hossman_lucene@fucit.org] 
Sent: Monday, October 17, 2005 5:05 PM
To: java-user@lucene.apache.org
Subject: Re: Too many clauses

:
: To circumvent it, here are a few options that I have thought of:
: 1. Chunk it up:
:   a. Create a filter based on a query that has a maximum of 1024.
:   b. Get its bits.
:   c. Get the next 1024 blocked skus and create a filter out of it and get
:      its bits.
:   d. AND the two BitSets.
:   e. Do this till all blocked skus and other filters are ANDed together
for
:      the final BitSet.

Instead of building up your filter based on a query, why not build up your
filter directly? ... Using a QueryFilter requires that scoring happen --
but you don't care about the scoring, you just want to know if a doc
matches a keyword or not.  Take a look at the way RangeFilter is
implimented.  it should be able to searve as a good example of how you can
write a "SetFilter" that takes in a field name and a set of keywords, and
only "passes" documents where one of the keywords shows up as an indexed
value for that field.  Now you don't have toworry baout the 1024 limit,
you don't have to "chunk" anything, your searches will be faster because
you don't need to worry about the scoring aspects of a the BooleanQueries.


Hint: you can sort the input Set, and then iterate over it, pulling out
the TermDocs for each, and scoring each doc in each TermDocs.  now your
Filter indicates all the products that do match those skus, and you'll
want an "InverseFilter to wrap it and indicate all the products that
*don't* match those skus.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16946-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 19 18:14:17 2005
Return-Path: <java-user-return-16946-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50683 invoked from network); 19 Oct 2005 18:14:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Oct 2005 18:14:17 -0000
Received: (qmail 54582 invoked by uid 500); 19 Oct 2005 18:14:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54490 invoked by uid 500); 19 Oct 2005 18:14:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54479 invoked by uid 99); 19 Oct 2005 18:14:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Oct 2005 11:14:11 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.18.98.34] (HELO brmea-mail-3.sun.com) (192.18.98.34)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Oct 2005 11:14:10 -0700
Received: from phys-d3-ha21sca-2 ([129.145.155.165])
	by brmea-mail-3.sun.com (8.12.10/8.12.9) with ESMTP id j9JIDnk8005606
	for <java-user@lucene.apache.org>; Wed, 19 Oct 2005 12:13:49 -0600 (MDT)
Received: from conversion-daemon.ha21sca-mail1.sfbay.sun.com by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 id <0IOM00101D6BS9@ha21sca-mail1.sfbay.sun.com>
 (original mail from Richard.Hillegas@Sun.COM) for java-user@lucene.apache.org;
 Wed, 19 Oct 2005 11:14:08 -0700 (PDT)
Received: from [129.150.26.125]
 (vpn-129-150-26-125.SFBay.Sun.COM [129.150.26.125])
 by ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 with ESMTP id <0IOM00L5ODBK7P@ha21sca-mail1.sfbay.sun.com> for
 java-user@lucene.apache.org; Wed, 19 Oct 2005 11:14:08 -0700 (PDT)
Date: Wed, 19 Oct 2005 11:13:51 -0700
From: Rick Hillegas <Richard.Hillegas@Sun.COM>
Subject: Re: lucene versions
In-reply-to: <Pine.LNX.4.58.0510191043510.29973@hal.rescomp.berkeley.edu>
To: java-user@lucene.apache.org
Message-id: <43568CDF.2020201@sun.com>
MIME-version: 1.0
Content-type: text/plain; charset=ISO-8859-1; format=flowed
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
References: <43565D6B.7080303@sun.com>
 <Pine.LNX.4.58.0510191043510.29973@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks, Chris.

Chris Hostetter wrote:

>1.4.3 is in fact the last "official" release.
>
>docs that refer to 2.0 or 1.9 are refering the the proposed next release.
>When they refer to bugs fixes or features added in 2.0 or in 1.9 they are
>refering to the code currently available in the trunk of subversion.
>
>An explanation of the distinction between 2.0 and 1.9 can be found on the
>wiki...
>
>http://wiki.apache.org/jakarta-lucene/Lucene2Whiteboard
>
>  Release Migration Plan
>
>  Immediately prior to release 2.0 will be release 1.9, which will include
>  all of the new 2.0 APIs, and all of the now-deprecated 1.x API's. 2.0
>  will be identical to 1.9, but with all deprecated APIs removed. To port an
>  application to 2.0 one should first compile it against 1.9. Once it
>  compiles against 1.9 without deprecation warnings, it should be 2.0
>  compatible.
>
>
>: Date: Wed, 19 Oct 2005 07:51:23 -0700
>: From: Rick Hillegas <Richard.Hillegas@Sun.COM>
>: Reply-To: java-user@lucene.apache.org
>: To: java-user@lucene.apache.org
>: Subject: lucene versions
>:
>: Hello,
>:
>: I'm looking into integrating lucene with derby. I'm just starting out so
>: I'm afraid I'm going to pepper this list with some newbie questions.
>:
>: Here's one: The downloadable lucene distribution has rev level 1.4.3 and
>: was released a year ago according to
>: http://lucene.apache.org/java/docs/index.html. However, the FAQ says
>: there's a 2.0 rev which fixes a problem in multiple-field-searching (see
>: http://wiki.apache.org/jakarta-lucene/LuceneFAQ#head-300f0756fdaa71f522c96a868351f716573f2d77).
>: The FAQ also mentions a 1.9 rev
>: (http://wiki.apache.org/jakarta-lucene/LuceneFAQ#head-b9a3e0ae5d11e310edb328a949b59dcc02487e26).
>: I was surprised that the released distribution wasn't more current.
>: Where can you get the more advanced distributions?
>:
>: Thanks,
>: -Rick
>:
>: ---------------------------------------------------------------------
>: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>: For additional commands, e-mail: java-user-help@lucene.apache.org
>:
>
>
>
>-Hoss
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16947-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 19 20:54:49 2005
Return-Path: <java-user-return-16947-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43369 invoked from network); 19 Oct 2005 20:54:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Oct 2005 20:54:49 -0000
Received: (qmail 52565 invoked by uid 500); 19 Oct 2005 20:54:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52535 invoked by uid 500); 19 Oct 2005 20:54:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52516 invoked by uid 99); 19 Oct 2005 20:54:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Oct 2005 13:54:42 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.36.211] (HELO web53901.mail.yahoo.com) (206.190.36.211)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 19 Oct 2005 13:54:42 -0700
Received: (qmail 48559 invoked by uid 60001); 19 Oct 2005 20:48:22 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=d0JnFFF10+vcxAsyZyu310d64i+raM2lolBKhE8VTRGPlLarCoJpaFilItx4hiJ7UBX+ARaTqlzI56OK6DSr7bN8Ld0XChqlyhhe/+biLXPw/ztPxMemqr5wzBUGLQ3Ol6d829GobogxAz4PE6b3eOGpRbUlwUnV9wnaZh8sEYY=  ;
Message-ID: <20051019204822.48557.qmail@web53901.mail.yahoo.com>
Received: from [24.249.120.85] by web53901.mail.yahoo.com via HTTP; Wed, 19 Oct 2005 13:48:22 PDT
Date: Wed, 19 Oct 2005 13:48:22 -0700 (PDT)
From: anushri kumar <anukumar004@yahoo.com>
Subject: Modify existing Indexes
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1257701268-1129754902=:47793"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1257701268-1129754902=:47793
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hi,
 
I'm new to lucene. I am working on an application that searches HTML, pdf, txt and word documents. I wanted to know how to overwrite the indexes for a document which has been modified.  Should I overwrite that file, delete all the existing indexes and reindex all the files in the dirctory or is there a way to reindex only that particular file. 
 
Also I wanted to know, to index different kind of files for example in my case HTML,pdf,TXT and word docs do I need to write different indexing programs or can I use the same indexing program.
 
Thanks in advance. 
Anushri

		
---------------------------------
 Yahoo! Music Unlimited - Access over 1 million songs. Try it free.
--0-1257701268-1129754902=:47793--

From java-user-return-16948-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 19 22:01:55 2005
Return-Path: <java-user-return-16948-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73667 invoked from network); 19 Oct 2005 22:01:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Oct 2005 22:01:54 -0000
Received: (qmail 53841 invoked by uid 500); 19 Oct 2005 22:01:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53810 invoked by uid 500); 19 Oct 2005 22:01:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53799 invoked by uid 99); 19 Oct 2005 22:01:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Oct 2005 15:01:47 -0700
X-ASF-Spam-Status: No, hits=0.8 required=10.0
	tests=DNS_FROM_RFC_ABUSE,MAILTO_TO_SPAM_ADDR
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.200.39] (HELO web31106.mail.mud.yahoo.com) (68.142.200.39)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 19 Oct 2005 15:01:47 -0700
Received: (qmail 30582 invoked by uid 60001); 19 Oct 2005 21:33:35 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=4tJw9dxtwmumvRXGwjmQNbOXuaoqLJsvWerGwPaZTXVXCx4y6H49vzzTIoVdY/e5Lqcua6AZFE9zI9w/lnnbH2VRbXXngCMqTOmRUo8mg3j/MnBbcaJYuLW6MvLQEj4kfYfo7Uok79WbfGx+6+Ef58byqb19lY50EJtCtHMy5Nw=  ;
Message-ID: <20051019213335.30580.qmail@web31106.mail.mud.yahoo.com>
Received: from [216.194.55.187] by web31106.mail.mud.yahoo.com via HTTP; Wed, 19 Oct 2005 14:33:35 PDT
Date: Wed, 19 Oct 2005 14:33:35 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Modify existing Indexes
To: java-user@lucene.apache.org
In-Reply-To: <20051019204822.48557.qmail@web53901.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Anushri,

Save yourself some time by using the code from Lucene in Action -
http://lucenebook.com/ .  The code is free, and people say the book is
not bad...

Otis

--- anushri kumar <anukumar004@yahoo.com> wrote:

> Hi,
>  
> I'm new to lucene. I am working on an application that searches HTML,
> pdf, txt and word documents. I wanted to know how to overwrite the
> indexes for a document which has been modified.  Should I overwrite
> that file, delete all the existing indexes and reindex all the files
> in the dirctory or is there a way to reindex only that particular
> file. 
>  
> Also I wanted to know, to index different kind of files for example
> in my case HTML,pdf,TXT and word docs do I need to write different
> indexing programs or can I use the same indexing program.
>  
> Thanks in advance. 
> Anushri
> 
> 		
> ---------------------------------
>  Yahoo! Music Unlimited - Access over 1 million songs. Try it free.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16949-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 19 22:40:08 2005
Return-Path: <java-user-return-16949-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90617 invoked from network); 19 Oct 2005 22:40:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Oct 2005 22:40:08 -0000
Received: (qmail 7805 invoked by uid 500); 19 Oct 2005 22:40:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7678 invoked by uid 500); 19 Oct 2005 22:40:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7667 invoked by uid 99); 19 Oct 2005 22:40:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Oct 2005 15:40:02 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of sean@oconeco.com designates 216.239.128.26 as permitted sender)
Received: from [216.239.128.26] (HELO smtp.omnis.com) (216.239.128.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Oct 2005 15:40:02 -0700
Received: from [127.0.0.1] (va-71-48-139-67.dhcp.sprint-hsd.net [71.48.139.67])
	by smtp-relay.omnis.com (Postfix) with ESMTP id 0B9B41407C6E
	for <java-user@lucene.apache.org>; Wed, 19 Oct 2005 15:39:34 -0700 (PDT)
Message-ID: <4356CB59.2040409@oconeco.com>
Date: Wed, 19 Oct 2005 18:40:25 -0400
From: Sean O'Connor <sean@oconeco.com>
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: SpanQuery parser?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,
    I have user entered search commands which I want to convert to 
SpanQueries. I have seen in the book "Lucene in Action" that no parser 
existed at time of publication, but there was someone working on a 
SpanQuery parser. Can anyone point me to that code, or provide any 
suggestions?

    I want to use SpanQueries for their detail on the number of hits 
from a query, and more importantly, the location (position start and 
end) of each hit. My application requires me to do precise hit 
highlighting.  I also need to perform calculations on the number of hits 
per document, as well as per query (sum of document hits).

    It is fairly critical I highlight the hits, and only the hits. From 
what I've read SpanQueries (with dumpSpans) is a better approach than 
using 'regular' queries. I _think_ regular queries currently use a 
highlighter which shows all terms highlighted. This can give more 
highlighting than actual hits (i.e false positives).

    So, that being said, should I stick with SpanQueries? Is there any 
current work on a parser to convert a string, or regular (Token, 
Boolean, Phrase, Prefix,...) query into a SpanQuery?

    I have written some very duct tape-ish code which will convert basic 
booleanOR and prefix queries into SpanQueries. I just realized I'm in 
deeper water than I expected when I tried converting my first query 
string containing several boolean queries, AND a phrase query. So now I 
am looking to either help an existing effort, or just continue with my 
own hacking.
Thanks,

Sean
ps: some of this message is repeated from previous postings just as 
background for my goal.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16950-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 19 23:09:49 2005
Return-Path: <java-user-return-16950-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3096 invoked from network); 19 Oct 2005 23:09:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Oct 2005 23:09:49 -0000
Received: (qmail 52193 invoked by uid 500); 19 Oct 2005 23:09:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52164 invoked by uid 500); 19 Oct 2005 23:09:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52153 invoked by uid 99); 19 Oct 2005 23:09:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Oct 2005 16:09:44 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.26] (HELO smtp-vbr6.xs4all.nl) (194.109.24.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Oct 2005 16:09:44 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr6.xs4all.nl (8.13.3/8.13.3) with ESMTP id j9JN9LQh060910
	for <java-user@lucene.apache.org>; Thu, 20 Oct 2005 01:09:22 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: SpanQuery parser?
Date: Thu, 20 Oct 2005 01:09:21 +0200
User-Agent: KMail/1.5.4
References: <4356CB59.2040409@oconeco.com>
In-Reply-To: <4356CB59.2040409@oconeco.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200510200109.21473.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Thursday 20 October 2005 00:40, Sean O'Connor wrote:
> Hello,
>     I have user entered search commands which I want to convert to 
> SpanQueries. I have seen in the book "Lucene in Action" that no parser 
> existed at time of publication, but there was someone working on a 
> SpanQuery parser. Can anyone point me to that code, or provide any 
> suggestions?
> 
>     I want to use SpanQueries for their detail on the number of hits 
> from a query, and more importantly, the location (position start and 
> end) of each hit. My application requires me to do precise hit 
> highlighting.  I also need to perform calculations on the number of hits 
> per document, as well as per query (sum of document hits).

You may want to use the getSpans() method of SpanQuery and operate
on the result directly.

>     It is fairly critical I highlight the hits, and only the hits. From 
> what I've read SpanQueries (with dumpSpans) is a better approach than 
> using 'regular' queries. I _think_ regular queries currently use a 
> highlighter which shows all terms highlighted. This can give more 
> highlighting than actual hits (i.e false positives).
> 
>     So, that being said, should I stick with SpanQueries? Is there any 
> current work on a parser to convert a string, or regular (Token, 
> Boolean, Phrase, Prefix,...) query into a SpanQuery?
> 
>     I have written some very duct tape-ish code which will convert basic 
> booleanOR and prefix queries into SpanQueries. I just realized I'm in 
> deeper water than I expected when I tried converting my first query 
> string containing several boolean queries, AND a phrase query. So now I 
> am looking to either help an existing effort, or just continue with my 
> own hacking.

:)

Have a look at the surround query parser in the svn trunk:
http://svn.apache.org/viewcvs.cgi/lucene/java/trunk/contrib/surround/

There is also some code that does highlighting based on Spans,
but I don't know where that is. Hopefully someone else can point you at that.

Regards,
Paul Elschot



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16951-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 20 00:44:33 2005
Return-Path: <java-user-return-16951-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41569 invoked from network); 20 Oct 2005 00:44:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Oct 2005 00:44:32 -0000
Received: (qmail 33726 invoked by uid 500); 20 Oct 2005 00:44:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33687 invoked by uid 500); 20 Oct 2005 00:44:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33676 invoked by uid 99); 20 Oct 2005 00:44:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Oct 2005 17:44:27 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.11.34] (HELO smtp003.mail.ukl.yahoo.com) (217.12.11.34)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 19 Oct 2005 17:44:27 -0700
Received: (qmail 63078 invoked from network); 20 Oct 2005 00:44:04 -0000
Received: from unknown (HELO ME) (directcareer@82.33.132.136 with login)
  by smtp003.mail.ukl.yahoo.com with SMTP; 20 Oct 2005 00:44:04 -0000
Message-ID: <025001c5d50f$5bca56a0$0802a8c0@ME>
Reply-To: "Cyril Barlow" <info@fantasyfooty.org>
From: "Cyril Barlow" <info@fantasyfooty.org>
To: <java-user@lucene.apache.org>
References: <4356CB59.2040409@oconeco.com> <200510200109.21473.paul.elschot@xs4all.nl>
Subject: Search deleted docs?
Date: Thu, 20 Oct 2005 01:43:58 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Can you make a search that searches deleted docs as well as normal docs?

		
___________________________________________________________ 
To help you stay safe and secure online, we've developed the all new Yahoo! Security Centre. http://uk.security.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16952-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 20 03:18:25 2005
Return-Path: <java-user-return-16952-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96523 invoked from network); 20 Oct 2005 03:18:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Oct 2005 03:18:25 -0000
Received: (qmail 47203 invoked by uid 500); 20 Oct 2005 03:18:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47160 invoked by uid 500); 20 Oct 2005 03:18:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47147 invoked by uid 99); 20 Oct 2005 03:18:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Oct 2005 20:18:20 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.162] (HELO web53913.mail.yahoo.com) (206.190.38.162)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 19 Oct 2005 20:18:19 -0700
Received: (qmail 37131 invoked by uid 60001); 20 Oct 2005 03:17:58 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=R8DWn05d/feHcPt7YyyYSkGA5ZoXkTBLWPb1ZLurj0/I0o4thNiNERn0Q5qcz5Il7Emu5bt37u69KofQPFT+miTc0UxFBhW4bJG8//O9zFcO0Pg4M5J6yuT7odEW/oZvJlu2nDMjVOH86wFWDBd0PWqncr4E//qJKUK6DTm8Jzo=  ;
Message-ID: <20051020031758.37129.qmail@web53913.mail.yahoo.com>
Received: from [128.82.5.185] by web53913.mail.yahoo.com via HTTP; Wed, 19 Oct 2005 20:17:58 PDT
Date: Wed, 19 Oct 2005 20:17:58 -0700 (PDT)
From: anushri kumar <anukumar004@yahoo.com>
Subject: Re: Modify existing Indexes
To: java-user@lucene.apache.org
In-Reply-To: <20051019213335.30580.qmail@web31106.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1986783493-1129778278=:36903"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1986783493-1129778278=:36903
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Thanks for the advice..the book looks good..hopefully it will be of help.
 
Anushri

Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
Anushri,

Save yourself some time by using the code from Lucene in Action -
http://lucenebook.com/ . The code is free, and people say the book is
not bad...

Otis

--- anushri kumar wrote:

> Hi,
> 
> I'm new to lucene. I am working on an application that searches HTML,
> pdf, txt and word documents. I wanted to know how to overwrite the
> indexes for a document which has been modified. Should I overwrite
> that file, delete all the existing indexes and reindex all the files
> in the dirctory or is there a way to reindex only that particular
> file. 
> 
> Also I wanted to know, to index different kind of files for example
> in my case HTML,pdf,TXT and word docs do I need to write different
> indexing programs or can I use the same indexing program.
> 
> Thanks in advance. 
> Anushri
> 
> 
> ---------------------------------
> Yahoo! Music Unlimited - Access over 1 million songs. Try it free.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


		
---------------------------------
 Yahoo! Music Unlimited - Access over 1 million songs. Try it free.
--0-1986783493-1129778278=:36903--

From java-user-return-16953-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 20 08:06:48 2005
Return-Path: <java-user-return-16953-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30972 invoked from network); 20 Oct 2005 08:06:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Oct 2005 08:06:47 -0000
Received: (qmail 35825 invoked by uid 500); 20 Oct 2005 08:06:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35804 invoked by uid 500); 20 Oct 2005 08:06:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35789 invoked by uid 99); 20 Oct 2005 08:06:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 01:06:40 -0700
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=NO_REAL_NAME,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 151.12.57.13 is neither permitted nor denied by domain of surabaja@gmail.com)
Received: from [151.12.57.13] (HELO mail2.it.atosorigin.com) (151.12.57.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 01:06:40 -0700
Received: from semarmn0013.roma.it.int.atosorigin.com ([161.27.24.23]) by mail2.it.atosorigin.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Thu, 20 Oct 2005 10:15:01 +0200
Received: by semarmn0013.roma.it.int.atosorigin.com with Internet Mail Service (5.5.2657.72)
	id <4765AZFN>; Thu, 20 Oct 2005 10:05:48 +0200
Received: from s2itpsmex1.psm.it.int.atosorigin.com ([161.27.2.11]) by semarmn0013.roma.it.int.atosorigin.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2657.72)
	id 4765AZFL; Thu, 20 Oct 2005 10:05:47 +0200
Received: from [161.27.3.112] (dhc27-3-112pc.psm.it.int.atosorigin.com [161.27.3.112]) by s2itpsmex1.psm.it.int.atosorigin.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id VCNLB585; Thu, 20 Oct 2005 10:06:16 +0200
From: surabaja@gmail.com
To: java-user@lucene.apache.org
Message-ID: <4357500C.9010206@gmail.com>
Date: Thu, 20 Oct 2005 10:06:36 +0200
User-Agent: Mozilla Thunderbird 1.0.7-1.1.fc4 (X11/20050929)
X-Accept-Language: en-us, en
MIME-Version: 1.0
Subject: Re: missing RTFEditorKit in LIA example code
References: <20051014163336.37722.qmail@web31101.mail.mud.yahoo.com>
In-Reply-To: <20051014163336.37722.qmail@web31101.mail.mud.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 20 Oct 2005 08:15:01.0671 (UTC) FILETIME=[5E54D370:01C5D54E]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thank you Otis. Just for the record, I found out that...
/"Fedora Core 4 users are advised not to use the Java RPM provided by 
Sun[...]"
/Using Jpackage solved the problem. Details are provided in
http://fedoranews.org/mediawiki/index.php/JPackage_Java_for_FC4

SJ

Otis Gospodnetic wrote:

>Hello,
>
>Please use the LIA forum on manning.com site for questions specific to
>LIA.  Erik and I will answer all LIA-specific questions there.  The
>link to that is somewhere in the "About this book" section, I believe.
>
>Otis
>
>--- surabaja@gmail.com wrote:
>
>  
>
>>Hello,
>>
>>I am trying to build from a clean copy of LIA example code, on Linux 
>>Fedora Core 4
>>The import of RTFEditorKit keeps failing. Am I missing something
>>here?
>>Thank you in advance for your help.
>>SJ
>>---
>>lucene-1.4.3-1jpp_3fc
>>ant-1.6.2-3jpp_8fc
>>j2sdk-1.4.2_08-fcs
>>    
>>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16954-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 20 08:27:16 2005
Return-Path: <java-user-return-16954-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40239 invoked from network); 20 Oct 2005 08:26:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Oct 2005 08:26:59 -0000
Received: (qmail 55658 invoked by uid 500); 20 Oct 2005 08:26:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55637 invoked by uid 500); 20 Oct 2005 08:26:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55626 invoked by uid 99); 20 Oct 2005 08:26:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 01:26:43 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [134.96.188.26] (HELO mail.dfki.de) (134.96.188.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 01:26:43 -0700
Received: from mail.dfki.de (localhost.dfki.uni-sb.de [127.0.0.1])
	by localhost (Postfix) with ESMTP id 61EEFE47DC
	for <java-user@lucene.apache.org>; Thu, 20 Oct 2005 10:26:15 +0200 (CEST)
Received: from [IPv6:::1] (dave.dfki.uni-sb.de [134.96.184.220])
	by mail.dfki.de (Postfix) with ESMTP id 4DBE6E4753
	for <java-user@lucene.apache.org>; Thu, 20 Oct 2005 10:26:15 +0200 (CEST)
Mime-Version: 1.0 (Apple Message framework v623)
In-Reply-To: <20051020031758.37129.qmail@web53913.mail.yahoo.com>
References: <20051020031758.37129.qmail@web53913.mail.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Message-Id: <e0594a4b563a612280586b028db39046@activemath.org>
Content-Transfer-Encoding: quoted-printable
From: Paul Libbrecht <paul@activemath.org>
Subject: Re: Modify existing Indexes
Date: Thu, 20 Oct 2005 10:26:12 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.623)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Le 20 oct. 05, =E0 05:17, anushri kumar a =E9crit :
> Thanks for the advice..the book looks good..hopefully it will be of=20
> help.

One particularly helpful feature for impatient people like me is this=20
note that I saw on lucenebook.com: if you order by Manning, you get the=20=

eBook.
The eBook is a simple PDF (watermarked) which you get as soon as you=20
made the order... the hopefully will not wait for a looong amazone=20
delay.

paul



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16955-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 20 10:14:33 2005
Return-Path: <java-user-return-16955-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93327 invoked from network); 20 Oct 2005 10:14:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Oct 2005 10:14:33 -0000
Received: (qmail 69600 invoked by uid 500); 20 Oct 2005 10:14:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69569 invoked by uid 500); 20 Oct 2005 10:14:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69558 invoked by uid 99); 20 Oct 2005 10:14:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 03:14:25 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of bubblenut@gmail.com designates 72.14.204.198 as permitted sender)
Received: from [72.14.204.198] (HELO qproxy.gmail.com) (72.14.204.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 03:14:25 -0700
Received: by qproxy.gmail.com with SMTP id c8so287623qbc
        for <java-user@lucene.apache.org>; Thu, 20 Oct 2005 03:14:03 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:x-accept-language:mime-version:to:subject:content-type:content-transfer-encoding;
        b=T0mGV2CIKG59t993UZsnQiydEFaiDYt3wX8L68/r8GJrbcmiYH+huBnw3kyTwMRvr7AUKEhnDUVDgvryMrL1BAHjwMdK2XGOELNsoD1po2BjTPeUupMc/B3XAJEW5m0DkE0lE99aQA1ETQrYHb3rDud+Vty63YK5WlKg3x5SwJ8=
Received: by 10.65.236.18 with SMTP id n18mr1330005qbr;
        Thu, 20 Oct 2005 03:14:03 -0700 (PDT)
Received: from ?192.168.250.47? ( [217.207.206.146])
        by mx.gmail.com with ESMTP id e16sm1554634qba.2005.10.20.03.14.02;
        Thu, 20 Oct 2005 03:14:03 -0700 (PDT)
Message-ID: <43576DEA.70006@gmail.com>
Date: Thu, 20 Oct 2005 11:14:02 +0100
From: Rob Young <bubblenut@gmail.com>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051011)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Command Line index browser for 1.4
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

Where can I find a command line index browser like lucli for Lucene 1.4? 
I tried to use lucli but it's using the 1.3 library and it isn't working.

Thanks
Rob

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16956-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 20 10:16:01 2005
Return-Path: <java-user-return-16956-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93808 invoked from network); 20 Oct 2005 10:16:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Oct 2005 10:16:01 -0000
Received: (qmail 71978 invoked by uid 500); 20 Oct 2005 10:15:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71092 invoked by uid 500); 20 Oct 2005 10:15:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71081 invoked by uid 99); 20 Oct 2005 10:15:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 03:15:54 -0700
X-ASF-Spam-Status: No, hits=0.8 required=10.0
	tests=INFO_TLD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.160.230.41] (HELO mout.perfora.net) (217.160.230.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 03:15:53 -0700
Received: from [59.93.74.192] (helo=[59.93.74.192])
	by mrelay.perfora.net with ESMTP (Nemesis),
	id 0MKoyl-1ESXSK099z-0007BI; Thu, 20 Oct 2005 06:15:28 -0400
Message-ID: <43576E2E.4040802@insideview.com>
Date: Thu, 20 Oct 2005 15:45:10 +0530
From: Harini Raghavan <harini.raghavan@insideview.com>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Chris Lu <chris.lu@gmail.com>, 
 "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Subject: Re: Lucene search is very slow
References: <434A8AD6.101@insideview.com>	 <PKEIKOCKCHNIIHNECPCCIEEDCAAA.koji.sekiguchi@m4.dion.ne.jp> <6e3ae6310510101725n205c3c0eub343dd25bfd01d3c@mail.gmail.com>
In-Reply-To: <6e3ae6310510101725n205c3c0eub343dd25bfd01d3c@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Provags-ID: perfora.net abuse@perfora.net login:9759476ad67fa08aca5d9352c82c69ea
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Chris,
I am initializing IndexSearcher every time the  search is executed.  The 
below is the search related code that is in a singleton class:
   
public Hits searchDocuments(DocumentSearchCriteria searchCriteria, List 
companies) throws ApplicationException {
        Hits hits = null;
        String indexLoc = luceneConfig.getIndexDir();
        Directory fsDir = getIndexDirectory(indexLoc, false);
        IndexSearcher searcher = null;
        try {
             searcher = new IndexSearcher(dir);
        } catch(IOException ex) {
            logger.error("Exception occurred while getting the 
IndexSearcher.",ex);
            throw new ApplicationException(ex);
        }

        Query query = indexSearchUtil.getSearchQuery(searchCriteria, 
companies);

        SortField dateField = new 
SortField(IndexSearchConstants.DATE_FOR_SORTING, true);
        SortField companyNameField = new 
SortField(IndexSearchConstants.COMPANY_NAME_FOR_SORTING, false);
        SortField titleField = new 
SortField(IndexSearchConstants.TITLE_FOR_SORTING, false);

        SortField[] sortFields = {dateField, companyNameField, titleField};
        try {
            hits = searcher.search(query, new Sort(sortFields));
            logger.info("Found " + hits.length() + " document(s) that 
matched query '" + query + "':");
        } catch(Exception e) {
            logger.error("Exception occurred in searchDocuments()", e);
            throw new ApplicationException(e);
        }
        return hits;
    }

I do not close the IndexSearcher anywhere. Do you think I should not 
create a new instance of IndexSearcher every time? Also, the index gets 
updated every day with the latest document. So will the IndexSearcher 
get the latest documents if I do not initialize it every time the search 
is executed?

-Harini

Chris Lu wrote:

>Harini,
>
>Did you close the IndexReader every time your search is finished?
>If so, 10G data will take a long time to warm up the IndexReader.
>
>Chris
>----------------------------------
>Full-Text Search on Any Databases
>http://www.dbsight.net
>
>On 10/10/05, Koji Sekiguchi <koji.sekiguchi@m4.dion.ne.jp> wrote:
>  
>
>>Is it really the part of Lucene slow?
>>Please take thread dumps every 15 secs, 3 to 4 times.
>>What can you look at them?
>>
>>Koji
>>
>>    
>>
>>>-----Original Message-----
>>>From: Harini Raghavan [mailto:harini.raghavan@insideview.com]
>>>Sent: Tuesday, October 11, 2005 12:38 AM
>>>To: java-user@lucene.apache.org
>>>Subject: Lucene search is very slow
>>>
>>>
>>>Hi,
>>>I am using lucene for search functionality in my j2ee application using
>>>JBoss as app server. The lucene index directory size is almsot 10G. The
>>>performance has been quite good until now. But after the last deploy,
>>>when the server was restarted , the lucene search has become very slow.
>>>It takes almost 3-4 mins for simple searches on the index. There has
>>>been no changes to the application in the new build.
>>>Does anyone have an idea what could be wrong?
>>>Thanks,
>>>Harini
>>>
>>>---------------------------------------------------------------------
>>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>>      
>>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>    
>>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16957-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 20 15:17:13 2005
Return-Path: <java-user-return-16957-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55531 invoked from network); 20 Oct 2005 15:17:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Oct 2005 15:17:13 -0000
Received: (qmail 8604 invoked by uid 500); 20 Oct 2005 15:17:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8467 invoked by uid 500); 20 Oct 2005 15:17:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8456 invoked by uid 99); 20 Oct 2005 15:17:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 08:17:06 -0700
X-ASF-Spam-Status: No, hits=0.8 required=10.0
	tests=INFO_TLD,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of chris.lu@gmail.com designates 72.14.204.197 as permitted sender)
Received: from [72.14.204.197] (HELO qproxy.gmail.com) (72.14.204.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 08:17:05 -0700
Received: by qproxy.gmail.com with SMTP id c8so338586qbc
        for <java-user@lucene.apache.org>; Thu, 20 Oct 2005 08:16:44 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=G3TBVViBYXc2eqjrXJYUe7YDgi+IMlIUycGB1havSduO3/AHrMLY3Bc55uCdZIjNzzV217vnT1GU4xNExtR9fCZGoWBfl+WstVUrmT1VwXrdpJj/xjJ+IF5nVSNgHKHcrtTQzmD6JFbUcwY2SU/pv3L3j6UYWlJm+3bsayFSSwc=
Received: by 10.65.148.2 with SMTP id a2mr1551473qbo;
        Thu, 20 Oct 2005 08:16:44 -0700 (PDT)
Received: by 10.65.93.7 with HTTP; Thu, 20 Oct 2005 08:16:44 -0700 (PDT)
Message-ID: <6e3ae6310510200816q3bc58af8q10eac288908f457d@mail.gmail.com>
Date: Thu, 20 Oct 2005 08:16:44 -0700
From: Chris Lu <chris.lu@gmail.com>
To: Harini Raghavan <harini.raghavan@insideview.com>
Subject: Re: Lucene search is very slow
Cc: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
In-Reply-To: <43576E2E.4040802@insideview.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <434A8AD6.101@insideview.com>
	 <PKEIKOCKCHNIIHNECPCCIEEDCAAA.koji.sekiguchi@m4.dion.ne.jp>
	 <6e3ae6310510101725n205c3c0eub343dd25bfd01d3c@mail.gmail.com>
	 <43576E2E.4040802@insideview.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Yes. The best approach is not to create index searcher for every search.

To get the updated documents, you may use an back ground thread to
check for new documents, or simple create an new index searcher
periodically. And then switch the new index searcher with the old one.

This sounds complicated. But to my experience when writing DBSight,
this is the best approach.

There is a lot of caching data in each index searcher. For large
index, it's definitely a waste to re-create index searcher every time.

Chris
----------------------------------
Full-Text Search on Any Databases
http://www.dbsight.net

On 10/20/05, Harini Raghavan <harini.raghavan@insideview.com> wrote:
> Hi Chris,
> I am initializing IndexSearcher every time the  search is executed.  The
> below is the search related code that is in a singleton class:
>
> public Hits searchDocuments(DocumentSearchCriteria searchCriteria, List
> companies) throws ApplicationException {
>         Hits hits =3D null;
>         String indexLoc =3D luceneConfig.getIndexDir();
>         Directory fsDir =3D getIndexDirectory(indexLoc, false);
>         IndexSearcher searcher =3D null;
>         try {
>              searcher =3D new IndexSearcher(dir);
>         } catch(IOException ex) {
>             logger.error("Exception occurred while getting the
> IndexSearcher.",ex);
>             throw new ApplicationException(ex);
>         }
>
>         Query query =3D indexSearchUtil.getSearchQuery(searchCriteria,
> companies);
>
>         SortField dateField =3D new
> SortField(IndexSearchConstants.DATE_FOR_SORTING, true);
>         SortField companyNameField =3D new
> SortField(IndexSearchConstants.COMPANY_NAME_FOR_SORTING, false);
>         SortField titleField =3D new
> SortField(IndexSearchConstants.TITLE_FOR_SORTING, false);
>
>         SortField[] sortFields =3D {dateField, companyNameField, titleFie=
ld};
>         try {
>             hits =3D searcher.search(query, new Sort(sortFields));
>             logger.info("Found " + hits.length() + " document(s) that
> matched query '" + query + "':");
>         } catch(Exception e) {
>             logger.error("Exception occurred in searchDocuments()", e);
>             throw new ApplicationException(e);
>         }
>         return hits;
>     }
>
> I do not close the IndexSearcher anywhere. Do you think I should not
> create a new instance of IndexSearcher every time? Also, the index gets
> updated every day with the latest document. So will the IndexSearcher
> get the latest documents if I do not initialize it every time the search
> is executed?
>
> -Harini
>
> Chris Lu wrote:
>
> >Harini,
> >
> >Did you close the IndexReader every time your search is finished?
> >If so, 10G data will take a long time to warm up the IndexReader.
> >
> >Chris
> >----------------------------------
> >Full-Text Search on Any Databases
> >http://www.dbsight.net
> >
> >On 10/10/05, Koji Sekiguchi <koji.sekiguchi@m4.dion.ne.jp> wrote:
> >
> >
> >>Is it really the part of Lucene slow?
> >>Please take thread dumps every 15 secs, 3 to 4 times.
> >>What can you look at them?
> >>
> >>Koji
> >>
> >>
> >>
> >>>-----Original Message-----
> >>>From: Harini Raghavan [mailto:harini.raghavan@insideview.com]
> >>>Sent: Tuesday, October 11, 2005 12:38 AM
> >>>To: java-user@lucene.apache.org
> >>>Subject: Lucene search is very slow
> >>>
> >>>
> >>>Hi,
> >>>I am using lucene for search functionality in my j2ee application usin=
g
> >>>JBoss as app server. The lucene index directory size is almsot 10G. Th=
e
> >>>performance has been quite good until now. But after the last deploy,
> >>>when the server was restarted , the lucene search has become very slow=
.
> >>>It takes almost 3-4 mins for simple searches on the index. There has
> >>>been no changes to the application in the new build.
> >>>Does anyone have an idea what could be wrong?
> >>>Thanks,
> >>>Harini
> >>>
> >>>---------------------------------------------------------------------
> >>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >>>For additional commands, e-mail: java-user-help@lucene.apache.org
> >>>
> >>>
> >>>
> >>>
> >>---------------------------------------------------------------------
> >>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >>For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
> >>
> >>
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> >
> >
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16958-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 20 17:37:32 2005
Return-Path: <java-user-return-16958-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28058 invoked from network); 20 Oct 2005 17:37:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Oct 2005 17:37:32 -0000
Received: (qmail 84619 invoked by uid 500); 20 Oct 2005 17:37:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84604 invoked by uid 500); 20 Oct 2005 17:37:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84593 invoked by uid 99); 20 Oct 2005 17:37:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 10:37:25 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.84.234] (HELO web36304.mail.mud.yahoo.com) (209.191.84.234)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 20 Oct 2005 10:37:24 -0700
Received: (qmail 5390 invoked by uid 60001); 20 Oct 2005 17:37:03 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=z94DgkZ9P1L5W2rEKRAMA81dMVrlU4Nrin9iAJaJmxK2vxb5ibIsGm98toKJEw9HBu6lRmnNFJ/W7o8cjc8uALQYIdcw6TrbUE1Av6Db2SRrAy3iM0ea22lUEDiYy+qIBTiSwwCYfHacl1OwnYvHSm1nxno6rR0ESyp7Gf4Hrh8=  ;
Message-ID: <20051020173703.5388.qmail@web36304.mail.mud.yahoo.com>
Received: from [63.203.72.39] by web36304.mail.mud.yahoo.com via HTTP; Thu, 20 Oct 2005 10:37:02 PDT
Date: Thu, 20 Oct 2005 10:37:02 -0700 (PDT)
From: Sam Lee <victor_emailbox@yahoo.com>
Subject: How To Implement Google Adwords-Like Text Ad?
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
I am implementing a Google Adwords-like Text Ad thing.
In Adwords, advertisers enter keywords and phases in
their ads. When visitor visits a webpage with
potential Google text ads, I want to know how they
link the webpage to the actual text ads? Linking those
text ads to the webpage is easy, they can just use the
keywords and phases advertisers enters, and then match
them against their index of webpages. But what about
the other way around, webpage to the text ads? I can
associate the webpage address with the text ads easily
by storing them in database, but it will be a problem
when new webpages join the ad network. You can't run
all the keywords and phases of the ads against the new
webpage everytime a new webpage is added, too much
resource.

How will you do it?

Many thanks.


		
__________________________________ 
Yahoo! Music Unlimited 
Access over 1 million songs. Try it free.
http://music.yahoo.com/unlimited/

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16959-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 20 18:14:39 2005
Return-Path: <java-user-return-16959-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47306 invoked from network); 20 Oct 2005 18:14:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Oct 2005 18:14:39 -0000
Received: (qmail 45547 invoked by uid 500); 20 Oct 2005 18:14:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45522 invoked by uid 500); 20 Oct 2005 18:14:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45511 invoked by uid 99); 20 Oct 2005 18:14:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 11:14:30 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.12.12.82] (HELO web86207.mail.ukl.yahoo.com) (217.12.12.82)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 20 Oct 2005 11:14:29 -0700
Received: (qmail 65905 invoked by uid 60001); 20 Oct 2005 18:14:07 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=btinternet.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=XXVo485N47sUmJWSCMy8IGvf6gxpHAPX/C0X8KcMtdrPo66X/6b6qBaXBwXanxdFBT5bLAnknZhrtxTMIPi6KZol3uKKGMWSV/sngx74bJgmRsCjrSb6VZ2g4450mlcldqtRauYzZZJbwO5Ldt2BQPyX3Vut+7h7r9qdJak+BQ4=  ;
Message-ID: <20051020181407.65903.qmail@web86207.mail.ukl.yahoo.com>
Received: from [193.63.235.40] by web86207.mail.ukl.yahoo.com via HTTP; Thu, 20 Oct 2005 19:14:07 BST
Date: Thu, 20 Oct 2005 19:14:07 +0100 (BST)
From: MALCOLM CLARK <malcyclark@btinternet.com>
Subject: Lucene and Digester
To: java-user@lucene.apache.org
In-Reply-To: <20051020173703.5388.qmail@web36304.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-127043712-1129832047=:65145"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-127043712-1129832047=:65145
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit


Hi I have tried as suggested and isolated Digester from Lucene. Digester doesn't trigger an Element Matching Pattern for each element only the last one of each repeating tag.My XML (trimmed a bit looks like this):

 

<books>

<journal>

<title>IEEE Annals of the History of Computing</title>

<issue>Spring 1995 (Vol. 17, No. 1)</issue>

<publisher>Published by the IEEE Computer Society</publisher>

 

<sec1><title>About this Issue</title></sec1>

<sec1><title>Comments, Queries, and Debate</title></sec1>

<sec1><title>Articles</title></sec1>

</journal>

</books>

Only the last set <sec1><title>Articles</title></sec1> appears when parsed by Digester as it ignores the first two.

Does anyone know how to stuff many bits of data into one field?

Any help will be really appreciated,

MC

 

PS my code looks like this.I have tried many other types like keyword for 

the booksDocument.add(Field.Text("title", books.getTitle()));


 

Digester digester = new Digester();
        digester.setValidating(true);
        digester.addObjectCreate("books", Digester.class );
        digester.addObjectCreate("books/journal", Books.class );
        digester.addCallMethod("books/journal/title",    "setTitle", 0);
        digester.addCallMethod("books/journal/issue",       "setIssue", 0);
        digester.addCallMethod("books/journal/publisher",   "setPublisher", 0);
        digester.addCallMethod("books/journal/sec1/title", "setTitle2", 0);
        digester.addSetNext("books/journal",               "addBooks" );


public void addBooks(Books books) throws IOException
    {
        System.out.println("Adding " + books.getTitle());
        System.out.println("Adding " + books.getIssue());
        System.out.println("Adding " + books.getPublisher());
        System.out.println("Adding " + books.getTitle());
        System.out.println("Adding " + books.getTitle2());
        Document booksDocument  = new Document();
        booksDocument.add(Field.Text("title", books.getTitle()));
        booksDocument.add(Field.Text("issue", books.getIssue()));
        booksDocument.add(Field.Text("publisher", books.getPublisher()));
        booksDocument.add(Field.Text("title", books.getTitle2()));
    }


--0-127043712-1129832047=:65145--

From java-user-return-16960-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 20 18:21:44 2005
Return-Path: <java-user-return-16960-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51137 invoked from network); 20 Oct 2005 18:21:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Oct 2005 18:21:43 -0000
Received: (qmail 55584 invoked by uid 500); 20 Oct 2005 18:21:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55508 invoked by uid 500); 20 Oct 2005 18:21:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55488 invoked by uid 99); 20 Oct 2005 18:21:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 11:21:36 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of bubblenut@gmail.com designates 72.14.204.205 as permitted sender)
Received: from [72.14.204.205] (HELO qproxy.gmail.com) (72.14.204.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 11:21:09 -0700
Received: by qproxy.gmail.com with SMTP id c8so374089qbc
        for <java-user@lucene.apache.org>; Thu, 20 Oct 2005 11:20:48 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:x-accept-language:mime-version:to:subject:content-type:content-transfer-encoding;
        b=mFrwtctgOuclPqMsCSwMF++z++/IAB+kpAmMitYRrZ+5+gcBs3ZtXg9Zvh5+RPe+ynWMadqDgslVpKOzoOS+7dEOdE/JCCTfF5a05pTFev/tKwIlaacOCMfIpoQWLB4uaE57hwtEOX5Nr/sKgkvPeyvfSU6TVUJjLXI4jXEbgeQ=
Received: by 10.65.112.4 with SMTP id p4mr1736357qbm;
        Thu, 20 Oct 2005 11:20:48 -0700 (PDT)
Received: from ?192.168.2.6? ( [84.9.146.98])
        by mx.gmail.com with ESMTP id q17sm2770286qbq.2005.10.20.11.20.47;
        Thu, 20 Oct 2005 11:20:48 -0700 (PDT)
Message-ID: <4357DFFF.9020003@gmail.com>
Date: Thu, 20 Oct 2005 19:20:47 +0100
From: Rob Young <bubblenut@gmail.com>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051011)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Search on all fields in a document
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

If I have a document with a number of fields in it, is there a way to 
say that I want to search for a term across all those fields without 
stating the terms explicitly?

Detail:

I have multiple different types of products (cds, dvds, games, books 
etc.) each different product has different fields in it's document but 
all are indexed in the same index. This works for advanced searches but 
I would like to have a simple search where the user just whacks in a 
string (say Micheal Jackson) and the search would search through all 
terms of all documents and return cds by Micheal Jackson, music dvds by 
him, his biography perhaps, and maybe even a book on how to get away 
with pedophilia ;)

Any ideas?

Cheers
Rob

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16961-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 20 18:22:59 2005
Return-Path: <java-user-return-16961-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52050 invoked from network); 20 Oct 2005 18:22:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Oct 2005 18:22:57 -0000
Received: (qmail 59596 invoked by uid 500); 20 Oct 2005 18:22:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59572 invoked by uid 500); 20 Oct 2005 18:22:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59561 invoked by uid 99); 20 Oct 2005 18:22:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 11:22:51 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of bubblenut@gmail.com designates 72.14.204.197 as permitted sender)
Received: from [72.14.204.197] (HELO qproxy.gmail.com) (72.14.204.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 11:22:51 -0700
Received: by qproxy.gmail.com with SMTP id c8so374414qbc
        for <java-user@lucene.apache.org>; Thu, 20 Oct 2005 11:22:30 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:user-agent:x-accept-language:mime-version:to:subject:content-type:content-transfer-encoding:from;
        b=hjt9DX4RD2b7SEPu59gnONuVzs2qRjoTyHFmMxpOs4tmxKdJnUPhA7YjB5dVsQjqnlWz7nM/2W4uvZQ5nzlxYJW2yvADYJ4NoZNT4YL6fwEt8zBqRjRSBtpNOcZiV2hClaJ8eil+vfRSo2TR1s0yHAqAi6kipmj63eNKdpDiOE0=
Received: by 10.65.132.14 with SMTP id j14mr1716211qbn;
        Thu, 20 Oct 2005 11:22:30 -0700 (PDT)
Received: from ?192.168.2.6? ( [84.9.146.98])
        by mx.gmail.com with ESMTP id e14sm867439qbe.2005.10.20.11.22.29;
        Thu, 20 Oct 2005 11:22:30 -0700 (PDT)
Message-ID: <4357E065.1070200@cd-wow.com>
Date: Thu, 20 Oct 2005 19:22:29 +0100
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051011)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Join Me
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
From: Rob Young <bubblenut@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

   

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16962-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 20 18:24:00 2005
Return-Path: <java-user-return-16962-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52505 invoked from network); 20 Oct 2005 18:24:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Oct 2005 18:24:00 -0000
Received: (qmail 61691 invoked by uid 500); 20 Oct 2005 18:23:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61545 invoked by uid 500); 20 Oct 2005 18:23:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61531 invoked by uid 99); 20 Oct 2005 18:23:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 11:23:54 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [141.149.165.226] (HELO ponyexpress2.ad.openratings.com) (141.149.165.226)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 11:23:53 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Join Me
Date: Thu, 20 Oct 2005 14:23:32 -0400
Message-ID: <9951857AC27D97449C62F7DD6C6122481D9B45@ponyexpress2.ad.openratings.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Join Me
Thread-Index: AcXVo0ycNyBUX9/sQICYmi2uNjRllQAAA3XA
From: "Dan Quaroni" <dquaroni@OPENRATINGS.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

And together we will rule the galaxy as father and son?

-----Original Message-----
From: Rob Young [mailto:bubblenut@gmail.com]
Sent: Thursday, October 20, 2005 2:22 PM
To: java-user@lucene.apache.org
Subject: Join Me


  =20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16963-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 20 18:27:12 2005
Return-Path: <java-user-return-16963-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54920 invoked from network); 20 Oct 2005 18:27:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Oct 2005 18:27:11 -0000
Received: (qmail 67980 invoked by uid 500); 20 Oct 2005 18:27:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67826 invoked by uid 500); 20 Oct 2005 18:27:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67815 invoked by uid 99); 20 Oct 2005 18:27:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 11:27:05 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 11:27:05 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 08AB25B7D8; Thu, 20 Oct 2005 11:26:44 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP
	id 00E137F45C; Thu, 20 Oct 2005 11:26:43 -0700 (PDT)
Date: Thu, 20 Oct 2005 11:26:43 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Cc: Harini Raghavan <harini.raghavan@insideview.com>
Subject: Re: Lucene search is very slow
In-Reply-To: <6e3ae6310510200816q3bc58af8q10eac288908f457d@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0510201121420.21080@hal.rescomp.berkeley.edu>
References: <434A8AD6.101@insideview.com>  <PKEIKOCKCHNIIHNECPCCIEEDCAAA.koji.sekiguchi@m4.dion.ne.jp>
  <6e3ae6310510101725n205c3c0eub343dd25bfd01d3c@mail.gmail.com> 
 <43576E2E.4040802@insideview.com> <6e3ae6310510200816q3bc58af8q10eac288908f457d@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: There is a lot of caching data in each index searcher. For large
: index, it's definitely a waste to re-create index searcher every time.

this is particularly true when you do sorts on specific fields, anytime
you sort on a field, your searcher/reader loads a FieldCache for that
field which contains an array for every doc in your index and the value of
that field.  In teh sample code posted, you are doing a tertiary sort --
which means every search requires loading three of these arrays, all of
which appear to be on String fields.  that's a lot of IO to get that data,
and a lot of memory to hold those arrays just to do one search and then
throw it away.

If you use one searcher for many searches, you only have to pay that
time/memory cost once.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16964-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 20 18:30:08 2005
Return-Path: <java-user-return-16964-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56532 invoked from network); 20 Oct 2005 18:30:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Oct 2005 18:30:03 -0000
Received: (qmail 74672 invoked by uid 500); 20 Oct 2005 18:29:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74447 invoked by uid 500); 20 Oct 2005 18:29:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74436 invoked by uid 99); 20 Oct 2005 18:29:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 11:29:56 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 11:29:55 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 3C0665B868; Thu, 20 Oct 2005 11:29:35 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 331647F45C
	for <java-user@lucene.apache.org>; Thu, 20 Oct 2005 11:29:35 -0700 (PDT)
Date: Thu, 20 Oct 2005 11:29:35 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Search on all fields in a document
In-Reply-To: <4357DFFF.9020003@gmail.com>
Message-ID: <Pine.LNX.4.58.0510201129010.21489@hal.rescomp.berkeley.edu>
References: <4357DFFF.9020003@gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

:
: If I have a document with a number of fields in it, is there a way to
: say that I want to search for a term across all those fields without
: stating the terms explicitly?

There is some advice on this in the FAQ...

http://wiki.apache.org/jakarta-lucene/LuceneFAQ#head-300f0756fdaa71f522c96a868351f716573f2d77


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16965-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 20 18:35:33 2005
Return-Path: <java-user-return-16965-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59814 invoked from network); 20 Oct 2005 18:35:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Oct 2005 18:35:31 -0000
Received: (qmail 89362 invoked by uid 500); 20 Oct 2005 18:35:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89340 invoked by uid 500); 20 Oct 2005 18:35:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89329 invoked by uid 99); 20 Oct 2005 18:35:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 11:35:23 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of khosravi@us.ibm.com designates 32.97.110.152 as permitted sender)
Received: from [32.97.110.152] (HELO e34.co.us.ibm.com) (32.97.110.152)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 11:35:22 -0700
Received: from d03relay04.boulder.ibm.com (d03relay04.boulder.ibm.com [9.17.195.106])
	by e34.co.us.ibm.com (8.12.11/8.12.11) with ESMTP id j9KIZ0rT029362
	for <java-user@lucene.apache.org>; Thu, 20 Oct 2005 14:35:00 -0400
Received: from d03av02.boulder.ibm.com (d03av02.boulder.ibm.com [9.17.195.168])
	by d03relay04.boulder.ibm.com (8.12.10/NCO/VERS6.7) with ESMTP id j9KIZrtE510404
	for <java-user@lucene.apache.org>; Thu, 20 Oct 2005 12:35:53 -0600
Received: from d03av02.boulder.ibm.com (loopback [127.0.0.1])
	by d03av02.boulder.ibm.com (8.12.11/8.13.3) with ESMTP id j9KIYxIS030206
	for <java-user@lucene.apache.org>; Thu, 20 Oct 2005 12:34:59 -0600
Received: from d03nm132.boulder.ibm.com (d03nm132.boulder.ibm.com [9.17.195.172])
	by d03av02.boulder.ibm.com (8.12.11/8.12.11) with ESMTP id j9KIYxYD030195
	for <java-user@lucene.apache.org>; Thu, 20 Oct 2005 12:34:59 -0600
To: java-user@lucene.apache.org
MIME-Version: 1.0
Subject: StandardFilter - can I escape certain chars (such as * and ?)
X-Mailer: Lotus Notes Release 6.0.2CF1 June 9, 2003
Message-ID: <OF73210882.1E33FC75-ON872570A0.0065D940-872570A0.00661392@us.ibm.com>
From: Nina Khosravi <khosravi@us.ibm.com>
Date: Thu, 20 Oct 2005 12:35:29 -0600
X-MIMETrack: Serialize by Router on D03NM132/03/M/IBM(Release 6.53HF654 | July 22, 2005) at
 10/20/2005 12:35:35,
	Serialize complete at 10/20/2005 12:35:35
Content-Type: multipart/alternative; boundary="=_alternative 0066138F872570A0_="
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--=_alternative 0066138F872570A0_=
Content-Type: text/plain; charset="US-ASCII"

Hello

I am building a search api that will search against content that was 
indexed using the StandardAnalyzer. I am trying to simulate the same 
filtering that occurs when the index was created on the search string. I 
am using the StandardTokenizer and StopFilter. The problem I'm 
encountering is that the StandardTokenizer removes the Lucene special 
characters such as the wildcard char, *, and ?. Is there a way to exclude 
which characters are stripped out when I use either the StandardTokenizer 
or StandardFilter. I want to retain the Lucene special chars. 

I guess my other option is to not use the StandardFilter but strip out the 
special characters myself. I need to build a special query that is similar 
to what MultiTermQueryParser gives you but with some changes that is why I 
am analyzing the input myself to build the query myself. 

Regards,
Nina Khosravi


--=_alternative 0066138F872570A0_=--

From java-user-return-16966-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 20 18:37:18 2005
Return-Path: <java-user-return-16966-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60791 invoked from network); 20 Oct 2005 18:37:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Oct 2005 18:37:15 -0000
Received: (qmail 94252 invoked by uid 500); 20 Oct 2005 18:37:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94233 invoked by uid 500); 20 Oct 2005 18:37:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94222 invoked by uid 99); 20 Oct 2005 18:37:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 11:37:09 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [12.40.61.38] (HELO fracf1.staples.com) (12.40.61.38)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 11:37:07 -0700
Received: from fraexims1.staples.com (Not Verified[10.3.32.111]) by fracf1.staples.com with NetIQ MailMarshal (v5.5.4.17)
	id <BA04e6b8cf>; Thu, 20 Oct 2005 14:36:45 -0400
Received: by fraexims1.staples.com with Internet Mail Service (5.5.2650.21)
	id <VAHKYHZ3>; Thu, 20 Oct 2005 14:36:45 -0400
Message-ID: <A9D9F16EC5955244A7B760CB3B8258480B9ED1FD@fraexmb2.staples.com>
From: "Sharma, Siddharth" <Siddharth.Sharma@Staples.com>
To: java-user@lucene.apache.org
Subject: RangeFilter source
Date: Thu, 20 Oct 2005 14:36:36 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I downloaded the source code of 1.4.3 but did not find the source of
RangeFilter.
I could not find it in the sandbox either?

RangeFilter, where art thou?



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16968-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 20 18:48:58 2005
Return-Path: <java-user-return-16968-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67003 invoked from network); 20 Oct 2005 18:48:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Oct 2005 18:48:55 -0000
Received: (qmail 15737 invoked by uid 500); 20 Oct 2005 18:48:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15717 invoked by uid 500); 20 Oct 2005 18:48:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15705 invoked by uid 99); 20 Oct 2005 18:48:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 11:48:49 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of daniel.armbrust.list@gmail.com designates 72.14.204.198 as permitted sender)
Received: from [72.14.204.198] (HELO qproxy.gmail.com) (72.14.204.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 11:48:49 -0700
Received: by qproxy.gmail.com with SMTP id c8so379530qbc
        for <java-user@lucene.apache.org>; Thu, 20 Oct 2005 11:48:28 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:x-accept-language:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=Ck9KCjAaohiaKK4H5gEXfkvLjEEeF2qHoXC9Wfo0i6V7khDI9Mb8HBTDoAz5FG/2t5uNJv9FdPNCnuAl3pYI/lSfldLQz8sFnVjoJIC8rVAWZRvTlc0Or8HaTKABodkdqqTUG+DgHc6qDIT0u9FnqMLKLXJQpyFaSLdUw/HwJlM=
Received: by 10.65.236.8 with SMTP id n8mr1726402qbr;
        Thu, 20 Oct 2005 11:48:28 -0700 (PDT)
Received: from ?172.22.19.82? ( [129.176.197.15])
        by mx.gmail.com with ESMTP id e14sm887859qbe.2005.10.20.11.48.28;
        Thu, 20 Oct 2005 11:48:28 -0700 (PDT)
Message-ID: <4357E67B.1020004@gmail.com>
Date: Thu, 20 Oct 2005 13:48:27 -0500
From: Dan Armbrust <daniel.armbrust.list@gmail.com>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Join Me
References: <9951857AC27D97449C62F7DD6C6122481D9B45@ponyexpress2.ad.openratings.com>
In-Reply-To: <9951857AC27D97449C62F7DD6C6122481D9B45@ponyexpress2.ad.openratings.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Dan Quaroni wrote:
> And together we will rule the galaxy as father and son?
> 
> -----Original Message-----
> From: Rob Young [mailto:bubblenut@gmail.com]
> Sent: Thursday, October 20, 2005 2:22 PM
> To: java-user@lucene.apache.org
> Subject: Join Me
> 
> 
> 
42!


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16967-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 20 18:51:06 2005
Return-Path: <java-user-return-16967-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67823 invoked from network); 20 Oct 2005 18:50:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Oct 2005 18:50:59 -0000
Received: (qmail 4727 invoked by uid 500); 20 Oct 2005 18:42:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4655 invoked by uid 500); 20 Oct 2005 18:42:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4585 invoked by uid 99); 20 Oct 2005 18:42:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 11:42:45 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 11:42:44 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id A70265B868; Thu, 20 Oct 2005 11:42:23 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 9F49B7F460
	for <java-user@lucene.apache.org>; Thu, 20 Oct 2005 11:42:23 -0700 (PDT)
Date: Thu, 20 Oct 2005 11:42:23 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: RangeFilter source
In-Reply-To: <A9D9F16EC5955244A7B760CB3B8258480B9ED1FD@fraexmb2.staples.com>
Message-ID: <Pine.LNX.4.58.0510201140060.21558@hal.rescomp.berkeley.edu>
References: <A9D9F16EC5955244A7B760CB3B8258480B9ED1FD@fraexmb2.staples.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

: I downloaded the source code of 1.4.3 but did not find the source of
: RangeFilter.
: I could not find it in the sandbox either?
:
: RangeFilter, where art thou?

RangeFilter was commited to the core, but after 1.4.3 was released...

http://svn.apache.org/viewcvs.cgi/lucene/java/trunk/src/java/org/apache/lucene/search/RangeFilter.java

...it should be entirely compatible with 1.4.3



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16969-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 20 18:51:43 2005
Return-Path: <java-user-return-16969-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68141 invoked from network); 20 Oct 2005 18:51:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Oct 2005 18:51:39 -0000
Received: (qmail 18528 invoked by uid 500); 20 Oct 2005 18:51:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18497 invoked by uid 500); 20 Oct 2005 18:51:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18486 invoked by uid 99); 20 Oct 2005 18:51:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 11:51:28 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of bubblenut@gmail.com designates 72.14.204.192 as permitted sender)
Received: from [72.14.204.192] (HELO qproxy.gmail.com) (72.14.204.192)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 11:51:27 -0700
Received: by qproxy.gmail.com with SMTP id a10so97105qbd
        for <java-user@lucene.apache.org>; Thu, 20 Oct 2005 11:51:07 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:x-accept-language:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=o72LgvcS3JAaGYl9YpXGrkVYkyhQn9FamUqF3I3AfkyPssPIicyMWj3VfAV1gcNv2CsNofXE8DRsqFetsgw+EwR1XPvcRpsrbkeWiQvLmt4ra5kY7Xk1xx5eQNV3vOOmP06jLjJevajVuF7SG/HQjw+/N4bs3RG7W9/NtgnprUA=
Received: by 10.64.153.9 with SMTP id a9mr365001qbe;
        Thu, 20 Oct 2005 11:51:06 -0700 (PDT)
Received: from ?192.168.2.6? ( [84.9.146.98])
        by mx.gmail.com with ESMTP id f17sm1650815qba.2005.10.20.11.51.05;
        Thu, 20 Oct 2005 11:51:06 -0700 (PDT)
Message-ID: <4357E719.3030006@gmail.com>
Date: Thu, 20 Oct 2005 19:51:05 +0100
From: Rob Young <bubblenut@gmail.com>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051011)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Join Me
References: <9951857AC27D97449C62F7DD6C6122481D9B45@ponyexpress2.ad.openratings.com>
In-Reply-To: <9951857AC27D97449C62F7DD6C6122481D9B45@ponyexpress2.ad.openratings.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Ooops, wrong address ... that was supposed to be to 
luke.s@mail.tatooine.empire

Dan Quaroni wrote:

>And together we will rule the galaxy as father and son?
>
>-----Original Message-----
>From: Rob Young [mailto:bubblenut@gmail.com]
>Sent: Thursday, October 20, 2005 2:22 PM
>To: java-user@lucene.apache.org
>Subject: Join Me
>
>
>   
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16970-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 20 19:04:22 2005
Return-Path: <java-user-return-16970-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74417 invoked from network); 20 Oct 2005 19:04:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Oct 2005 19:04:21 -0000
Received: (qmail 37278 invoked by uid 500); 20 Oct 2005 19:04:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36610 invoked by uid 500); 20 Oct 2005 19:04:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35997 invoked by uid 99); 20 Oct 2005 19:04:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 12:04:02 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of bubblenut@gmail.com designates 72.14.204.203 as permitted sender)
Received: from [72.14.204.203] (HELO qproxy.gmail.com) (72.14.204.203)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 12:03:52 -0700
Received: by qproxy.gmail.com with SMTP id e34so382980qbe
        for <java-user@lucene.apache.org>; Thu, 20 Oct 2005 12:03:30 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:x-accept-language:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=aDV1wyfNYOaxb8OW35+uJy1AF42qi04ch0MhLCrXhuvMJE0+FpIsbLMcAWYCE0Kz2dCwlS0MubrJ6J8lMfPEDbzKbKOXzTkh6OYpXeQNUanLBzotdJ6mBZiQHjrmdYwnFwp8i2wQBOHhIa3i+kXe3JbpRODRvPOINC1SBwv5ok8=
Received: by 10.65.72.17 with SMTP id z17mr1791680qbk;
        Thu, 20 Oct 2005 12:03:30 -0700 (PDT)
Received: from ?192.168.2.6? ( [84.9.146.98])
        by mx.gmail.com with ESMTP id e15sm6780710qbe.2005.10.20.12.03.29;
        Thu, 20 Oct 2005 12:03:30 -0700 (PDT)
Message-ID: <4357EA02.2020000@gmail.com>
Date: Thu, 20 Oct 2005 20:03:30 +0100
From: Rob Young <bubblenut@gmail.com>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051011)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Search on all fields in a document
References: <4357DFFF.9020003@gmail.com> <Pine.LNX.4.58.0510201129010.21489@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0510201129010.21489@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Chris Hostetter wrote:

>There is some advice on this in the FAQ...
>
>http://wiki.apache.org/jakarta-lucene/LuceneFAQ#head-300f0756fdaa71f522c96a868351f716573f2d7
>
Is there no way to say "search on all searchable fields in every 
document in the index" without explicitly providing a list of "all 
searchable fields"?

Cheers
Rob

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16971-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 20 19:16:12 2005
Return-Path: <java-user-return-16971-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79483 invoked from network); 20 Oct 2005 19:16:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Oct 2005 19:16:12 -0000
Received: (qmail 57929 invoked by uid 500); 20 Oct 2005 19:16:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57904 invoked by uid 500); 20 Oct 2005 19:16:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57893 invoked by uid 99); 20 Oct 2005 19:16:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 12:16:05 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.70.254.20] (HELO raven.maya.com) (192.70.254.20)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 12:16:04 -0700
Received: from [10.20.40.41] (unknown [10.20.40.41])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by raven.maya.com (Postfix) with ESMTP id B822A1481C1
	for <java-user@lucene.apache.org>; Thu, 20 Oct 2005 14:52:24 -0400 (EDT)
Message-ID: <4357ECDC.3030709@mayaviz.com>
Date: Thu, 20 Oct 2005 15:15:40 -0400
From: Benjamin Ragheb <ragheb@mayaviz.com>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Search on all fields in a document
References: <4357DFFF.9020003@gmail.com> <Pine.LNX.4.58.0510201129010.21489@hal.rescomp.berkeley.edu> <4357EA02.2020000@gmail.com>
In-Reply-To: <4357EA02.2020000@gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Rob Young wrote:

> Is there no way to say "search on all searchable fields in every 
> document in the index" without explicitly providing a list of "all 
> searchable fields"?

You can programmatically get the list of searchable fields by calling 
fieldNames(true) on IndexReader.  From there it shouldn't be too hard to 
generate a query that searches all the fields.

-- Ben


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16972-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 20 19:21:03 2005
Return-Path: <java-user-return-16972-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82978 invoked from network); 20 Oct 2005 19:21:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Oct 2005 19:21:02 -0000
Received: (qmail 62519 invoked by uid 500); 20 Oct 2005 19:20:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62095 invoked by uid 500); 20 Oct 2005 19:20:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61187 invoked by uid 99); 20 Oct 2005 19:20:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 12:20:36 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [129.79.225.189] (HELO cricket.bio.indiana.edu) (129.79.225.189)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 12:20:28 -0700
Received: (from gilbertd@localhost)
	by cricket.bio.indiana.edu (8.11.7p1+Sun/8.11.7) id j9KJK8e04800
	for java-user@lucene.apache.org; Thu, 20 Oct 2005 14:20:08 -0500 (EST)
Date: Thu, 20 Oct 2005 14:20:08 -0500 (EST)
From: Don Gilbert <gilbertd@bio.indiana.edu>
Message-Id: <200510201920.j9KJK8e04800@cricket.bio.indiana.edu>
To: java-user@lucene.apache.org
Subject: Re: Command Line index browser for 1.4
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Rob,

If you don't find another command-line search/index tool for lucene,
you may want to look at these - very no-frills, but they do the job
for me. I've used with lucene 1.9-prerelease only.

= Don Gilbert

> Where can I find a command line index browser like lucli for Lucene 1.4? 

http://cvs.sourceforge.net/viewcvs.py/gmod/lucegene/perl/GFF-Adaptor/LuceneIndexer.java
http://cvs.sourceforge.net/viewcvs.py/gmod/lucegene/perl/GFF-Adaptor/LuceneSearcher.java

/**
  LuceneSearcher.java
 
  basic, no-frills Lucene searching class
  reads query or commands from stdin or file
  e.g., called from perl module as in/out pipe

  Command-line options are
    [-index <indexpathname>] = pathname of index (default is 'index')
    [-data <command-input>]  = file to read search commands from, otherwise
          use Standard Input

  For each input line, parse search commands.
  Search command line: 'action [:=] parameters'   
  Actions:
      quit                = done searching (or EOF)
      echo blah blah      = echo input line
      fields a,b,c        = set return field(s), default is "contents"
      find lucene-query   = return matches to query
      library index-path  = open another index to search
      terms field-name    = return dictionary table of field values and counts
      max 100             = maximum returned documents (default is all matches)
      debug               = flip debug flag

  Simple usage:
   (echo t name Don Gilbert; echo i type java author; echo k url gilbertd@indiana.edu;\
    echo s contents Don Gilbert, author of LuceGene, LuceneSearcher/Indexer; \
    echo add;\
    echo t name LuceneIndexer; echo i type java class; echo k url http://lucene.apache.org/;\
    echo s contents LuceneIndexer is a basic Lucene indexing class; \
    echo add;\
    echo t name LuceGene; echo i type java package; echo k url http://www.gmod.org/lucegene/;\
    echo s contents LuceGene is a Genome database search/retrieval tool; \
    echo add;\
   ) | java -cp lib/java:lib/java/lucene.jar LuceneIndexer -create -index indices/lucene/test

   (echo 'fields contents,url'; echo 'find type:java'; ) | \
   java -cp lib/java:lib/java/lucene.jar LuceneSearcher -index indices/lucene/test
  
  compile: javac -classpath .:$javapath/lucene.jar Lucene*.java
    
  See also LuceneIndexer.java, http://lucene.apache.org/, http://www.gmod.org/lucegene/
  Don Gilbert; aug 2005; gilbertd@indiana.edu
 */

-- d.gilbert--bioinformatics--indiana-u--bloomington-in-47405
-- gilbertd@indiana.edu--http://marmot.bio.indiana.edu/

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16973-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 20 19:47:27 2005
Return-Path: <java-user-return-16973-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99308 invoked from network); 20 Oct 2005 19:47:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Oct 2005 19:47:27 -0000
Received: (qmail 2056 invoked by uid 500); 20 Oct 2005 19:47:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2031 invoked by uid 500); 20 Oct 2005 19:47:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2014 invoked by uid 99); 20 Oct 2005 19:47:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 12:47:21 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.65.18.194] (HELO gwserv161.interdoms.net) (69.65.18.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 12:47:20 -0700
Received: from 213.219.185.105.adslpower.by.edpnet.be ([213.219.185.105] helo=[192.168.1.4])
	by gwserv161.interdoms.net with esmtpsa (TLSv1:AES256-SHA:256)
	(Exim 4.52)
	id 1ESgNO-00009y-Fi
	for java-user@lucene.apache.org; Thu, 20 Oct 2005 21:46:58 +0200
Message-ID: <4357F42C.1080603@attentio.com>
Date: Thu, 20 Oct 2005 21:46:52 +0200
From: Roxana Angheluta <roxana@attentio.com>
User-Agent: Mozilla Thunderbird 1.0 (X11/20041207)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: java on 64 bits
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - gwserv161.interdoms.net
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - attentio.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi everybody!

We have a large Lucene index which gets updated very often.
Until recently the java virtual machine used to manage the index was on 
32 bits, although the program was running on a 64bits station. Last week 
we changed the java to 64 bits and since then we experience strange 
problems, the index grows very large. I'm not sure the 2 are related, 
that's why I ask here: is it possible that the index got corrupted  
after we updated the jvm? Is there any relation between the size of the 
index and the jvm used?

I hope the questions make sense, thanks,
roxana

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16974-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 20 20:55:30 2005
Return-Path: <java-user-return-16974-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29740 invoked from network); 20 Oct 2005 20:55:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Oct 2005 20:55:30 -0000
Received: (qmail 90135 invoked by uid 500); 20 Oct 2005 20:55:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90120 invoked by uid 500); 20 Oct 2005 20:55:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90109 invoked by uid 99); 20 Oct 2005 20:55:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 13:55:23 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 72.14.204.193 as permitted sender)
Received: from [72.14.204.193] (HELO qproxy.gmail.com) (72.14.204.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 13:55:22 -0700
Received: by qproxy.gmail.com with SMTP id c8so400863qbc
        for <java-user@lucene.apache.org>; Thu, 20 Oct 2005 13:55:01 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=IXxKP0m6b0tezh/CWBger2yBB8rM15Jx5sYrKvn0R7AztpWadmwsEyKRc/FeyPJXD57/zGDJ6o0pvDIW6RfV8l45Cfz6sa/iZSADY4lYBqHMa6IcbmQwhXH6CJqC5EIpn94bUvM9v8UQ92pzpsBg305moBPpnLrRKij0ARkBtZ0=
Received: by 10.65.112.4 with SMTP id p4mr1821104qbm;
        Thu, 20 Oct 2005 13:55:01 -0700 (PDT)
Received: by 10.65.121.10 with HTTP; Thu, 20 Oct 2005 13:55:01 -0700 (PDT)
Message-ID: <c68e39170510201355p49280600ld3cf39ebe0562dc8@mail.gmail.com>
Date: Thu, 20 Oct 2005 16:55:01 -0400
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: java on 64 bits
In-Reply-To: <4357F42C.1080603@attentio.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_369_28672731.1129841701113"
References: <4357F42C.1080603@attentio.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_369_28672731.1129841701113
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

One possibility: if lucene runs out of memory while adding or optimizing, i=
t
can leave unused files beind that increase the size of the index. A 64 bit
JVM will require more memory than a 32 bit one due to the size of all
references being doubled.

If you are using the compound file format (the default - check for .cfs
files), then it's easy to check if you have this problem by seeing if there
are any *.f* files in the index directory. These are intermediate files and
shouldn't exist for long in a compound-file index.

-Yonik
Now hiring -- http://tinyurl.com/7m67g


On 10/20/05, Roxana Angheluta <roxana@attentio.com> wrote:
>
> Hi everybody!
>
> We have a large Lucene index which gets updated very often.
> Until recently the java virtual machine used to manage the index was on
> 32 bits, although the program was running on a 64bits station. Last week
> we changed the java to 64 bits and since then we experience strange
> problems, the index grows very large. I'm not sure the 2 are related,
> that's why I ask here: is it possible that the index got corrupted
> after we updated the jvm? Is there any relation between the size of the
> index and the jvm used?
>
> I hope the questions make sense, thanks,
> roxana
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_369_28672731.1129841701113--

From java-user-return-16975-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 20 23:27:00 2005
Return-Path: <java-user-return-16975-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2628 invoked from network); 20 Oct 2005 23:26:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Oct 2005 23:26:59 -0000
Received: (qmail 43963 invoked by uid 500); 20 Oct 2005 23:26:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43942 invoked by uid 500); 20 Oct 2005 23:26:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43931 invoked by uid 99); 20 Oct 2005 23:26:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 16:26:53 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.63.108.53] (HELO usbb-lacimss3.unisys.com) (192.63.108.53)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 16:26:52 -0700
Received: from USBB-LACGW3.na.uis.unisys.com ([129.224.98.43]) by usbb-lacimss3 with InterScan Messaging Security Suite; Thu, 20 Oct 2005 19:41:33 -0400
Received: from USBB-LACGW3.na.uis.unisys.com ([129.224.98.44]) by USBB-LACGW3.na.uis.unisys.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Thu, 20 Oct 2005 19:26:31 -0400
Received: from ustr-exch1.na.uis.unisys.com ([192.63.225.57]) by USBB-LACGW3.na.uis.unisys.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Thu, 20 Oct 2005 19:26:31 -0400
Received: from USTR-EXCH5.na.uis.unisys.com ([192.63.225.141]) by ustr-exch1.na.uis.unisys.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Thu, 20 Oct 2005 19:26:30 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Join Me
Date: Thu, 20 Oct 2005 19:26:29 -0400
Message-ID: <EF8D308BE33AF54D8934DF26520252D302ED9406@USTR-EXCH5.na.uis.unisys.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Join Me
Thread-Index: AcXVo0ycNyBUX9/sQICYmi2uNjRllQAAA3XAAAqUtNA=
From: "McGovern, Patrick J" <Patrick.McGovern@unisys.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 20 Oct 2005 23:26:30.0875 (UTC) FILETIME=[B3A31AB0:01C5D5CD]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'll never join you!

Regards,
Pat McGovern
Did I understand your question, man?
-----Original Message-----
From: Dan Quaroni [mailto:dquaroni@OPENRATINGS.com]=20
Sent: Thursday, October 20, 2005 2:24 PM
To: java-user@lucene.apache.org
Subject: RE: Join Me

And together we will rule the galaxy as father and son?

-----Original Message-----
From: Rob Young [mailto:bubblenut@gmail.com]
Sent: Thursday, October 20, 2005 2:22 PM
To: java-user@lucene.apache.org
Subject: Join Me


  =20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16976-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 21 05:03:14 2005
Return-Path: <java-user-return-16976-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32297 invoked from network); 21 Oct 2005 05:03:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Oct 2005 05:03:14 -0000
Received: (qmail 25797 invoked by uid 500); 21 Oct 2005 05:03:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25646 invoked by uid 500); 21 Oct 2005 05:03:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25635 invoked by uid 99); 21 Oct 2005 05:03:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 22:03:08 -0700
X-ASF-Spam-Status: No, hits=0.8 required=10.0
	tests=INFO_TLD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.160.230.41] (HELO mout.perfora.net) (217.160.230.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Oct 2005 22:03:07 -0700
Received: from ptil-66-8-in.primus-direct.net [61.12.8.66] (helo=[192.168.1.102])
	by mrelay.perfora.net with ESMTP (Nemesis),
	id 0MKp2t-1ESp3C0Olw-00039O; Fri, 21 Oct 2005 01:02:42 -0400
Message-ID: <43587660.6020806@insideview.com>
Date: Fri, 21 Oct 2005 10:32:24 +0530
From: Harini Raghavan <harini.raghavan@insideview.com>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Chris Lu <chris.lu@gmail.com>,  java-user@lucene.apache.org
Subject: Re: Lucene search is very slow
References: <434A8AD6.101@insideview.com>	 <PKEIKOCKCHNIIHNECPCCIEEDCAAA.koji.sekiguchi@m4.dion.ne.jp>	 <6e3ae6310510101725n205c3c0eub343dd25bfd01d3c@mail.gmail.com>	 <43576E2E.4040802@insideview.com> <6e3ae6310510200816q3bc58af8q10eac288908f457d@mail.gmail.com>
In-Reply-To: <6e3ae6310510200816q3bc58af8q10eac288908f457d@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Provags-ID: perfora.net abuse@perfora.net login:9759476ad67fa08aca5d9352c82c69ea
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I am using Quartz jobs to update the index with the new data and this 
runs on a daily basis. So I need to figure out when exactly I should 
create a new instance of IndexSearcher.
I had one more concern. I am not calling closing the searcher anywhere, 
would this be causing any performance bottlenecks? Also I am returning 
the Hits object to the servlet so as to do pagination. I read somewhere 
that caching the Hits object could also cause performance issue. Any ideas?

-Harini

Chris Lu wrote:

>Yes. The best approach is not to create index searcher for every search.
>
>To get the updated documents, you may use an back ground thread to
>check for new documents, or simple create an new index searcher
>periodically. And then switch the new index searcher with the old one.
>
>This sounds complicated. But to my experience when writing DBSight,
>this is the best approach.
>
>There is a lot of caching data in each index searcher. For large
>index, it's definitely a waste to re-create index searcher every time.
>
>Chris
>----------------------------------
>Full-Text Search on Any Databases
>http://www.dbsight.net
>
>On 10/20/05, Harini Raghavan <harini.raghavan@insideview.com> wrote:
>  
>
>>Hi Chris,
>>I am initializing IndexSearcher every time the  search is executed.  The
>>below is the search related code that is in a singleton class:
>>
>>public Hits searchDocuments(DocumentSearchCriteria searchCriteria, List
>>companies) throws ApplicationException {
>>        Hits hits = null;
>>        String indexLoc = luceneConfig.getIndexDir();
>>        Directory fsDir = getIndexDirectory(indexLoc, false);
>>        IndexSearcher searcher = null;
>>        try {
>>             searcher = new IndexSearcher(dir);
>>        } catch(IOException ex) {
>>            logger.error("Exception occurred while getting the
>>IndexSearcher.",ex);
>>            throw new ApplicationException(ex);
>>        }
>>
>>        Query query = indexSearchUtil.getSearchQuery(searchCriteria,
>>companies);
>>
>>        SortField dateField = new
>>SortField(IndexSearchConstants.DATE_FOR_SORTING, true);
>>        SortField companyNameField = new
>>SortField(IndexSearchConstants.COMPANY_NAME_FOR_SORTING, false);
>>        SortField titleField = new
>>SortField(IndexSearchConstants.TITLE_FOR_SORTING, false);
>>
>>        SortField[] sortFields = {dateField, companyNameField, titleField};
>>        try {
>>            hits = searcher.search(query, new Sort(sortFields));
>>            logger.info("Found " + hits.length() + " document(s) that
>>matched query '" + query + "':");
>>        } catch(Exception e) {
>>            logger.error("Exception occurred in searchDocuments()", e);
>>            throw new ApplicationException(e);
>>        }
>>        return hits;
>>    }
>>
>>I do not close the IndexSearcher anywhere. Do you think I should not
>>create a new instance of IndexSearcher every time? Also, the index gets
>>updated every day with the latest document. So will the IndexSearcher
>>get the latest documents if I do not initialize it every time the search
>>is executed?
>>
>>-Harini
>>
>>Chris Lu wrote:
>>
>>    
>>
>>>Harini,
>>>
>>>Did you close the IndexReader every time your search is finished?
>>>If so, 10G data will take a long time to warm up the IndexReader.
>>>
>>>Chris
>>>----------------------------------
>>>Full-Text Search on Any Databases
>>>http://www.dbsight.net
>>>
>>>On 10/10/05, Koji Sekiguchi <koji.sekiguchi@m4.dion.ne.jp> wrote:
>>>
>>>
>>>      
>>>
>>>>Is it really the part of Lucene slow?
>>>>Please take thread dumps every 15 secs, 3 to 4 times.
>>>>What can you look at them?
>>>>
>>>>Koji
>>>>
>>>>
>>>>
>>>>        
>>>>
>>>>>-----Original Message-----
>>>>>From: Harini Raghavan [mailto:harini.raghavan@insideview.com]
>>>>>Sent: Tuesday, October 11, 2005 12:38 AM
>>>>>To: java-user@lucene.apache.org
>>>>>Subject: Lucene search is very slow
>>>>>
>>>>>
>>>>>Hi,
>>>>>I am using lucene for search functionality in my j2ee application using
>>>>>JBoss as app server. The lucene index directory size is almsot 10G. The
>>>>>performance has been quite good until now. But after the last deploy,
>>>>>when the server was restarted , the lucene search has become very slow.
>>>>>It takes almost 3-4 mins for simple searches on the index. There has
>>>>>been no changes to the application in the new build.
>>>>>Does anyone have an idea what could be wrong?
>>>>>Thanks,
>>>>>Harini
>>>>>
>>>>>---------------------------------------------------------------------
>>>>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>>>For additional commands, e-mail: java-user-help@lucene.apache.org
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>          
>>>>>
>>>>---------------------------------------------------------------------
>>>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>>For additional commands, e-mail: java-user-help@lucene.apache.org
>>>>
>>>>
>>>>
>>>>
>>>>        
>>>>
>>>---------------------------------------------------------------------
>>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>>
>>>
>>>      
>>>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16977-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 21 07:29:32 2005
Return-Path: <java-user-return-16977-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91084 invoked from network); 21 Oct 2005 07:29:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Oct 2005 07:29:31 -0000
Received: (qmail 5431 invoked by uid 500); 21 Oct 2005 07:29:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4528 invoked by uid 500); 21 Oct 2005 07:29:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4517 invoked by uid 99); 21 Oct 2005 07:29:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Oct 2005 00:29:26 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.65.18.194] (HELO gwserv161.interdoms.net) (69.65.18.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Oct 2005 00:29:25 -0700
Received: from ws97.brusselsvillage.be ([194.183.227.97] helo=[10.10.91.251])
	by gwserv161.interdoms.net with esmtpsa (TLSv1:AES256-SHA:256)
	(Exim 4.52)
	id 1ESrKr-0006MN-4E
	for java-user@lucene.apache.org; Fri, 21 Oct 2005 09:29:05 +0200
Message-ID: <435898BC.4030707@attentio.com>
Date: Fri, 21 Oct 2005 09:29:00 +0200
From: Roxana Angheluta <roxana@attentio.com>
User-Agent: Mozilla Thunderbird 1.0 (X11/20041207)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: java on 64 bits
References: <4357F42C.1080603@attentio.com> <c68e39170510201355p49280600ld3cf39ebe0562dc8@mail.gmail.com>
In-Reply-To: <c68e39170510201355p49280600ld3cf39ebe0562dc8@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - gwserv161.interdoms.net
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - attentio.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thank you, Yonik, it seems this is the case.
What can we do in this case? Would running the program with java -d32 be 
a solution?

Thanks again,
roxana
>One possibility: if lucene runs out of memory while adding or optimizing, it
>can leave unused files beind that increase the size of the index. A 64 bit
>JVM will require more memory than a 32 bit one due to the size of all
>references being doubled.
>
>If you are using the compound file format (the default - check for .cfs
>files), then it's easy to check if you have this problem by seeing if there
>are any *.f* files in the index directory. These are intermediate files and
>shouldn't exist for long in a compound-file index.
>
>-Yonik
>Now hiring -- http://tinyurl.com/7m67g
>
>
>On 10/20/05, Roxana Angheluta <roxana@attentio.com> wrote:
>  
>>Hi everybody!
>>
>>We have a large Lucene index which gets updated very often.
>>Until recently the java virtual machine used to manage the index was on
>>32 bits, although the program was running on a 64bits station. Last week
>>we changed the java to 64 bits and since then we experience strange
>>problems, the index grows very large. I'm not sure the 2 are related,
>>that's why I ask here: is it possible that the index got corrupted
>>after we updated the jvm? Is there any relation between the size of the
>>index and the jvm used?
>>
>>I hope the questions make sense, thanks,
>>roxana
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>    
>
>  


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16978-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 21 07:38:04 2005
Return-Path: <java-user-return-16978-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95673 invoked from network); 21 Oct 2005 07:38:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Oct 2005 07:38:04 -0000
Received: (qmail 19858 invoked by uid 500); 21 Oct 2005 07:37:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19831 invoked by uid 500); 21 Oct 2005 07:37:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19820 invoked by uid 99); 21 Oct 2005 07:37:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Oct 2005 00:37:57 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.20.168.25] (HELO uar.i-hypergrid.com) (217.20.168.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Oct 2005 00:37:55 -0700
Received: from [192.168.0.86] (vbychkoviak.jforce [192.168.0.86])
	by uar.i-hypergrid.com (Postfix) with ESMTP id EE8CA1B6D5
	for <java-user@lucene.apache.org>; Fri, 21 Oct 2005 10:37:29 +0300 (EEST)
Message-ID: <43589AB9.7010400@i-hypergrid.com>
Date: Fri, 21 Oct 2005 10:37:29 +0300
From: Volodymyr Bychkoviak <vbychkoviak@i-hypergrid.com>
User-Agent: Thunderbird 1.4.1 (Windows/20051006)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: java on 64 bits
References: <4357F42C.1080603@attentio.com> <c68e39170510201355p49280600ld3cf39ebe0562dc8@mail.gmail.com>
In-Reply-To: <c68e39170510201355p49280600ld3cf39ebe0562dc8@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You can also try to clean up index with Luke.

Yonik Seeley wrote:
> One possibility: if lucene runs out of memory while adding or optimizing, it
> can leave unused files beind that increase the size of the index. A 64 bit
> JVM will require more memory than a 32 bit one due to the size of all
> references being doubled.
>
> If you are using the compound file format (the default - check for .cfs
> files), then it's easy to check if you have this problem by seeing if there
> are any *.f* files in the index directory. These are intermediate files and
> shouldn't exist for long in a compound-file index.
>
> -Yonik
> Now hiring -- http://tinyurl.com/7m67g
>
>
> On 10/20/05, Roxana Angheluta <roxana@attentio.com> wrote:
>   
>> Hi everybody!
>>
>> We have a large Lucene index which gets updated very often.
>> Until recently the java virtual machine used to manage the index was on
>> 32 bits, although the program was running on a 64bits station. Last week
>> we changed the java to 64 bits and since then we experience strange
>> problems, the index grows very large. I'm not sure the 2 are related,
>> that's why I ask here: is it possible that the index got corrupted
>> after we updated the jvm? Is there any relation between the size of the
>> index and the jvm used?
>>
>> I hope the questions make sense, thanks,
>> roxana
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>     
>
>   

-- 
regards,
Volodymyr Bychkoviak


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16979-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 21 08:16:38 2005
Return-Path: <java-user-return-16979-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13224 invoked from network); 21 Oct 2005 08:16:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Oct 2005 08:16:37 -0000
Received: (qmail 58132 invoked by uid 500); 21 Oct 2005 08:16:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58108 invoked by uid 500); 21 Oct 2005 08:16:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58097 invoked by uid 99); 21 Oct 2005 08:16:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Oct 2005 01:16:29 -0700
X-ASF-Spam-Status: No, hits=0.8 required=10.0
	tests=INFO_TLD,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of chris.lu@gmail.com designates 72.14.204.204 as permitted sender)
Received: from [72.14.204.204] (HELO qproxy.gmail.com) (72.14.204.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Oct 2005 01:16:26 -0700
Received: by qproxy.gmail.com with SMTP id p30so57503qba
        for <java-user@lucene.apache.org>; Fri, 21 Oct 2005 01:16:05 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=fu92hytRkCIQF0LQoj0rZHGiUSnuFIojLRuNjrPPdmvgvS8+R8L0YEmVuQA9CZzbQxskaKIPlF3utISDgxhV1LhO7D/In2g6btB8KFE73lrqO53gtIT5bGqglg1VadU2/fMg6NiMFYoFlnlBa8Py7Yi3LJuKZOWMFLF/bsdg3W4=
Received: by 10.65.95.3 with SMTP id x3mr1920185qbl;
        Fri, 21 Oct 2005 01:16:05 -0700 (PDT)
Received: by 10.65.93.7 with HTTP; Fri, 21 Oct 2005 01:16:05 -0700 (PDT)
Message-ID: <6e3ae6310510210116w605c99aax47b5eb37f95bfb86@mail.gmail.com>
Date: Fri, 21 Oct 2005 01:16:05 -0700
From: Chris Lu <chris.lu@gmail.com>
To: Harini Raghavan <harini.raghavan@insideview.com>
Subject: Re: Lucene search is very slow
Cc: java-user@lucene.apache.org
In-Reply-To: <43587660.6020806@insideview.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <434A8AD6.101@insideview.com>
	 <PKEIKOCKCHNIIHNECPCCIEEDCAAA.koji.sekiguchi@m4.dion.ne.jp>
	 <6e3ae6310510101725n205c3c0eub343dd25bfd01d3c@mail.gmail.com>
	 <43576E2E.4040802@insideview.com>
	 <6e3ae6310510200816q3bc58af8q10eac288908f457d@mail.gmail.com>
	 <43587660.6020806@insideview.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You can create the new instance of IndexSearcher right after you
finish updating the index.
And when the new IndexSearcher is ready, switch to the new one and
close the old one.

I use Hits object to do pagination too. No problem there.

Chris
----------------------------------
Full-Text Search on Any Databases
http://www.dbsight.net

On 10/20/05, Harini Raghavan <harini.raghavan@insideview.com> wrote:
> I am using Quartz jobs to update the index with the new data and this
> runs on a daily basis. So I need to figure out when exactly I should
> create a new instance of IndexSearcher.
> I had one more concern. I am not calling closing the searcher anywhere,
> would this be causing any performance bottlenecks? Also I am returning
> the Hits object to the servlet so as to do pagination. I read somewhere
> that caching the Hits object could also cause performance issue. Any idea=
s?
>
> -Harini
>
> Chris Lu wrote:
>
> >Yes. The best approach is not to create index searcher for every search.
> >
> >To get the updated documents, you may use an back ground thread to
> >check for new documents, or simple create an new index searcher
> >periodically. And then switch the new index searcher with the old one.
> >
> >This sounds complicated. But to my experience when writing DBSight,
> >this is the best approach.
> >
> >There is a lot of caching data in each index searcher. For large
> >index, it's definitely a waste to re-create index searcher every time.
> >
> >Chris
> >----------------------------------
> >Full-Text Search on Any Databases
> >http://www.dbsight.net
> >
> >On 10/20/05, Harini Raghavan <harini.raghavan@insideview.com> wrote:
> >
> >
> >>Hi Chris,
> >>I am initializing IndexSearcher every time the  search is executed.  Th=
e
> >>below is the search related code that is in a singleton class:
> >>
> >>public Hits searchDocuments(DocumentSearchCriteria searchCriteria, List
> >>companies) throws ApplicationException {
> >>        Hits hits =3D null;
> >>        String indexLoc =3D luceneConfig.getIndexDir();
> >>        Directory fsDir =3D getIndexDirectory(indexLoc, false);
> >>        IndexSearcher searcher =3D null;
> >>        try {
> >>             searcher =3D new IndexSearcher(dir);
> >>        } catch(IOException ex) {
> >>            logger.error("Exception occurred while getting the
> >>IndexSearcher.",ex);
> >>            throw new ApplicationException(ex);
> >>        }
> >>
> >>        Query query =3D indexSearchUtil.getSearchQuery(searchCriteria,
> >>companies);
> >>
> >>        SortField dateField =3D new
> >>SortField(IndexSearchConstants.DATE_FOR_SORTING, true);
> >>        SortField companyNameField =3D new
> >>SortField(IndexSearchConstants.COMPANY_NAME_FOR_SORTING, false);
> >>        SortField titleField =3D new
> >>SortField(IndexSearchConstants.TITLE_FOR_SORTING, false);
> >>
> >>        SortField[] sortFields =3D {dateField, companyNameField, titleF=
ield};
> >>        try {
> >>            hits =3D searcher.search(query, new Sort(sortFields));
> >>            logger.info("Found " + hits.length() + " document(s) that
> >>matched query '" + query + "':");
> >>        } catch(Exception e) {
> >>            logger.error("Exception occurred in searchDocuments()", e);
> >>            throw new ApplicationException(e);
> >>        }
> >>        return hits;
> >>    }
> >>
> >>I do not close the IndexSearcher anywhere. Do you think I should not
> >>create a new instance of IndexSearcher every time? Also, the index gets
> >>updated every day with the latest document. So will the IndexSearcher
> >>get the latest documents if I do not initialize it every time the searc=
h
> >>is executed?
> >>
> >>-Harini
> >>
> >>Chris Lu wrote:
> >>
> >>
> >>
> >>>Harini,
> >>>
> >>>Did you close the IndexReader every time your search is finished?
> >>>If so, 10G data will take a long time to warm up the IndexReader.
> >>>
> >>>Chris
> >>>----------------------------------
> >>>Full-Text Search on Any Databases
> >>>http://www.dbsight.net
> >>>
> >>>On 10/10/05, Koji Sekiguchi <koji.sekiguchi@m4.dion.ne.jp> wrote:
> >>>
> >>>
> >>>
> >>>
> >>>>Is it really the part of Lucene slow?
> >>>>Please take thread dumps every 15 secs, 3 to 4 times.
> >>>>What can you look at them?
> >>>>
> >>>>Koji
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>>-----Original Message-----
> >>>>>From: Harini Raghavan [mailto:harini.raghavan@insideview.com]
> >>>>>Sent: Tuesday, October 11, 2005 12:38 AM
> >>>>>To: java-user@lucene.apache.org
> >>>>>Subject: Lucene search is very slow
> >>>>>
> >>>>>
> >>>>>Hi,
> >>>>>I am using lucene for search functionality in my j2ee application us=
ing
> >>>>>JBoss as app server. The lucene index directory size is almsot 10G. =
The
> >>>>>performance has been quite good until now. But after the last deploy=
,
> >>>>>when the server was restarted , the lucene search has become very sl=
ow.
> >>>>>It takes almost 3-4 mins for simple searches on the index. There has
> >>>>>been no changes to the application in the new build.
> >>>>>Does anyone have an idea what could be wrong?
> >>>>>Thanks,
> >>>>>Harini
> >>>>>
> >>>>>--------------------------------------------------------------------=
-
> >>>>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >>>>>For additional commands, e-mail: java-user-help@lucene.apache.org
> >>>>>
> >>>>>
> >>>>>
> >>>>>
> >>>>>
> >>>>>
> >>>>---------------------------------------------------------------------
> >>>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >>>>For additional commands, e-mail: java-user-help@lucene.apache.org
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>
> >>>---------------------------------------------------------------------
> >>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >>>For additional commands, e-mail: java-user-help@lucene.apache.org
> >>>
> >>>
> >>>
> >>>
> >>>
> >>>
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> >
> >
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16980-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 21 08:20:45 2005
Return-Path: <java-user-return-16980-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15087 invoked from network); 21 Oct 2005 08:20:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Oct 2005 08:20:44 -0000
Received: (qmail 62769 invoked by uid 500); 21 Oct 2005 08:20:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62744 invoked by uid 500); 21 Oct 2005 08:20:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62684 invoked by uid 99); 21 Oct 2005 08:20:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Oct 2005 01:20:37 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [161.74.160.7] (HELO garuda.wmin.ac.uk) (161.74.160.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Oct 2005 01:20:35 -0700
Received: from groucho ([161.74.160.74] helo=groucho.wmin.ac.uk)
	by garuda.wmin.ac.uk with esmtp (Exim 4.12)
	id 1ESs8F-0000Cf-00
	for java-user@lucene.apache.org; Fri, 21 Oct 2005 09:20:07 +0100
Received: from [192.168.2.2] (unknown [217.17.112.122])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by groucho.wmin.ac.uk (Postfix) with ESMTP id C60F37A49
	for <java-user@lucene.apache.org>; Fri, 21 Oct 2005 09:20:06 +0100 (BST)
Message-ID: <4358A4B5.9050101@wmin.ac.uk>
Date: Fri, 21 Oct 2005 09:20:05 +0100
From: Simon Courtenage <courtes@westminster.ac.uk>
Reply-To: courtes@westminster.ac.uk
Organization: University of Westminster
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: How To Implement Google Adwords-Like Text Ad?
References: <20051020173703.5388.qmail@web36304.mail.mud.yahoo.com>
In-Reply-To: <20051020173703.5388.qmail@web36304.mail.mud.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Scanner: exiscan for exim4 (http://duncanthrax.net/exiscan/) *1ESs8F-0000Cf-00*.pRKnzHk.zs*
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

With Google TextAds, I've noticed on my blog that the text ads take a 
little while to get updated to correspond to the new content, which 
seems to imply that they take note of the new blog content and decide 
which text ads to serve up.  The question is, if this is true, how can 
it done quickly and efficiently for new pages and updated pages.

The best answer is a Bayesian classifier, which is trained to recognise 
that pages containing a certain pattern of word occurrences fits into a 
particular classification.  If you then associate text ads with a 
classification, e.g., "restaurants", and the Bayesian classifier 
recognises that a web page fits into the "restaurant" classification 
because of a pattern of word occurrences, then you serve up text ads for 
that classification to that page.

Bayesian classifers need training, so for each classification, you give 
it a set of pages that you think typically describe pages of that class 
- it then automatically creates the pattern descriptors it will use 
against other pages.

Hope this helps,

Simon

Sam Lee wrote:

>Hi,
>I am implementing a Google Adwords-like Text Ad thing.
>In Adwords, advertisers enter keywords and phases in
>their ads. When visitor visits a webpage with
>potential Google text ads, I want to know how they
>link the webpage to the actual text ads? Linking those
>text ads to the webpage is easy, they can just use the
>keywords and phases advertisers enters, and then match
>them against their index of webpages. But what about
>the other way around, webpage to the text ads? I can
>associate the webpage address with the text ads easily
>by storing them in database, but it will be a problem
>when new webpages join the ad network. You can't run
>all the keywords and phases of the ads against the new
>webpage everytime a new webpage is added, too much
>resource.
>
>How will you do it?
>
>Many thanks.
>
>
>		
>__________________________________ 
>Yahoo! Music Unlimited 
>Access over 1 million songs. Try it free.
>http://music.yahoo.com/unlimited/
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  
>


-- 
Dr. Simon Courtenage
Software Systems Engineering Research Group
Dept. of Software Engineering, Cavendish School of Computer Science
University of Westminster, London, UK
Email: courtes@wmin.ac.uk   Web: http://users.cscs.wmin.ac.uk/~courtes | http://www.sse.wmin.ac.uk


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16981-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 21 08:39:43 2005
Return-Path: <java-user-return-16981-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24443 invoked from network); 21 Oct 2005 08:39:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Oct 2005 08:39:43 -0000
Received: (qmail 86292 invoked by uid 500); 21 Oct 2005 08:39:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85386 invoked by uid 500); 21 Oct 2005 08:39:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85375 invoked by uid 99); 21 Oct 2005 08:39:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Oct 2005 01:39:37 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.20.168.25] (HELO uar.i-hypergrid.com) (217.20.168.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Oct 2005 01:39:36 -0700
Received: from [192.168.0.86] (vbychkoviak.jforce [192.168.0.86])
	by uar.i-hypergrid.com (Postfix) with ESMTP id E9DD51B6C7
	for <java-user@lucene.apache.org>; Fri, 21 Oct 2005 11:39:11 +0300 (EEST)
Message-ID: <4358A92F.2030207@i-hypergrid.com>
Date: Fri, 21 Oct 2005 11:39:11 +0300
From: Volodymyr Bychkoviak <vbychkoviak@i-hypergrid.com>
User-Agent: Thunderbird 1.4.1 (Windows/20051006)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Non scored results
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello all.

If I need non scored results can I use 
Searcher.search(Query,HitCollector) method and store bitset of found 
documents.
will it give me some speed improvement?

thanks.

-- 
regards,
Volodymyr Bychkoviak


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16982-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 21 13:16:38 2005
Return-Path: <java-user-return-16982-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62738 invoked from network); 21 Oct 2005 13:16:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Oct 2005 13:16:38 -0000
Received: (qmail 21635 invoked by uid 500); 21 Oct 2005 13:16:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21533 invoked by uid 500); 21 Oct 2005 13:16:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21480 invoked by uid 99); 21 Oct 2005 13:16:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Oct 2005 06:16:28 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 72.14.204.195 as permitted sender)
Received: from [72.14.204.195] (HELO qproxy.gmail.com) (72.14.204.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Oct 2005 06:16:26 -0700
Received: by qproxy.gmail.com with SMTP id p30so88151qba
        for <java-user@lucene.apache.org>; Fri, 21 Oct 2005 06:16:04 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Cer9secLIu6CStxCNUO3WwPjoeSqf+bvkv/wE03daZ0z60QAf59lr4sebYPkEZPmTW6HmZaDAv5x2PzNgBkoQv71ZbGKgjhu4NSzDtKdhbCs7hWiemF+VHgveos4pxkIl+a5vSZR2sd0iUQM+aLMbkEcBxQIGKI8BGOOpjYiRXs=
Received: by 10.65.145.15 with SMTP id x15mr1953200qbn;
        Fri, 21 Oct 2005 06:16:04 -0700 (PDT)
Received: by 10.65.121.10 with HTTP; Fri, 21 Oct 2005 06:16:04 -0700 (PDT)
Message-ID: <c68e39170510210616p1aedca24ucc4d7041fb0d5ba2@mail.gmail.com>
Date: Fri, 21 Oct 2005 09:16:04 -0400
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Non scored results
In-Reply-To: <4358A92F.2030207@i-hypergrid.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_10941_23269160.1129900564837"
References: <4358A92F.2030207@i-hypergrid.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_10941_23269160.1129900564837
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

It can...

By the time the hitcollector is called, the documents are already scored, s=
o
you don't save any time there. But since they haven't been sorted yet, you
do save the time it would take to put all the hits through the priority
queue to find the top "n".

-Yonik

On 10/21/05, Volodymyr Bychkoviak <vbychkoviak@i-hypergrid.com> wrote:
>
> Hello all.
>
> If I need non scored results can I use
> Searcher.search(Query,HitCollector) method and store bitset of found
> documents.
> will it give me some speed improvement?
>
> thanks.
>
> --
> regards,
> Volodymyr Bychkoviak
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


--
-Yonik
Now hiring -- http://tinyurl.com/7m67g

------=_Part_10941_23269160.1129900564837--

From java-user-return-16983-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 21 13:28:22 2005
Return-Path: <java-user-return-16983-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74309 invoked from network); 21 Oct 2005 13:28:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Oct 2005 13:28:22 -0000
Received: (qmail 39849 invoked by uid 500); 21 Oct 2005 13:28:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39817 invoked by uid 500); 21 Oct 2005 13:28:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39806 invoked by uid 99); 21 Oct 2005 13:28:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Oct 2005 06:28:14 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 72.14.204.204 as permitted sender)
Received: from [72.14.204.204] (HELO qproxy.gmail.com) (72.14.204.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Oct 2005 06:28:13 -0700
Received: by qproxy.gmail.com with SMTP id p30so89910qba
        for <java-user@lucene.apache.org>; Fri, 21 Oct 2005 06:27:52 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Kazg3xtO2JdtAorzTbmhRDN+Y1ogtPL+/dTPrbjibWOt5OCbZ7lgYKea7Y6exL5/x2fw81efMgGYmyvGkRj1kMklquXWyop/dma92kiGXQ8qVNUvp5Qu2VyRzIQI9pafM3VDyvaLcXQ+mjj6U9tu5D8AbHRUk3OPRhrxkASW3ZU=
Received: by 10.65.95.9 with SMTP id x9mr1956657qbl;
        Fri, 21 Oct 2005 06:27:52 -0700 (PDT)
Received: by 10.65.121.10 with HTTP; Fri, 21 Oct 2005 06:27:52 -0700 (PDT)
Message-ID: <c68e39170510210627s674b19b7p42d8cec0c539a244@mail.gmail.com>
Date: Fri, 21 Oct 2005 09:27:52 -0400
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: java on 64 bits
In-Reply-To: <435898BC.4030707@attentio.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_11249_3023839.1129901272766"
References: <4357F42C.1080603@attentio.com>
	 <c68e39170510201355p49280600ld3cf39ebe0562dc8@mail.gmail.com>
	 <435898BC.4030707@attentio.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_11249_3023839.1129901272766
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

1) make sure the failure was due to an OutOfMemory exception and not
something else.
2) if you have enough memory, increase the max JVM heap size (-Xmx)
3) if you don't need more than 1.5G or so of heap, use the 32 bit JVM
instead (depending on architecture, it can acutally be a little faster
because more references fit in the CPU cache).
4) see how many indexed fields you have and if you can consolidate any of
them
4.5) if you don't have too many indexed fields, and have enough spare file
descriptors, try using the non-compound file format instead.
5) run with the latest version of lucene (1.9 dev version) which may have
better memory usage during optimizes & segment merges.
6) If/when optional norms
http://issues.apache.org/jira/browse/LUCENE-448
makes it into lucene, you can apply it to any indexed fields for which you
don't need index-time boosting or length normalization.

As for getting rid of your current intermediate files, I'd rebuild from
scratch just to ensure things are OK.

-Yonik
Now hiring -- http://tinyurl.com/7m67g

On 10/21/05, Roxana Angheluta <roxana@attentio.com> wrote:
>
> Thank you, Yonik, it seems this is the case.
> What can we do in this case? Would running the program with java -d32 be
> a solution?
>
> Thanks again,
> roxana
> >One possibility: if lucene runs out of memory while adding or optimizing=
,
> it
> >can leave unused files beind that increase the size of the index. A 64
> bit
> >JVM will require more memory than a 32 bit one due to the size of all
> >references being doubled.
> >
> >If you are using the compound file format (the default - check for .cfs
> >files), then it's easy to check if you have this problem by seeing if
> there
> >are any *.f* files in the index directory. These are intermediate files
> and
> >shouldn't exist for long in a compound-file index.
> >
> >-Yonik
> >Now hiring -- http://tinyurl.com/7m67g
>
>

------=_Part_11249_3023839.1129901272766--

From java-user-return-16984-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 21 13:47:26 2005
Return-Path: <java-user-return-16984-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85685 invoked from network); 21 Oct 2005 13:47:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Oct 2005 13:47:25 -0000
Received: (qmail 80723 invoked by uid 500); 21 Oct 2005 13:47:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80621 invoked by uid 500); 21 Oct 2005 13:47:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80583 invoked by uid 99); 21 Oct 2005 13:47:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Oct 2005 06:47:17 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of TAigner@wescodist.com designates 12.29.179.202 as permitted sender)
Received: from [12.29.179.202] (HELO mail01.wescodist.com) (12.29.179.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Oct 2005 06:47:15 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: java on 64 bits
Date: Fri, 21 Oct 2005 09:46:53 -0400
Message-ID: <14FBF41EF1411B45B2EC4ADEAC53D1310425D05A@MAIL01.wescodist.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: java on 64 bits
Thread-Index: AcXWQ1fEOCV2QLLTS+2NWWnDY03WpAAAlxiQ
From: "Aigner, Thomas" <TAigner@WescoDist.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I have seen quite a few posts on using the 1.9 dev version for
production uses.  How stable is it? Is it really ready for production?
I would like to use it.. but I never ever put beta packages in
procution.. but then again.. I'm always dealing with Microsoft :)

Tom

-----Original Message-----
From: Yonik Seeley [mailto:yseeley@gmail.com]=20
Sent: Friday, October 21, 2005 9:28 AM
To: java-user@lucene.apache.org
Subject: Re: java on 64 bits

1) make sure the failure was due to an OutOfMemory exception and not
something else.
2) if you have enough memory, increase the max JVM heap size (-Xmx)
3) if you don't need more than 1.5G or so of heap, use the 32 bit JVM
instead (depending on architecture, it can acutally be a little faster
because more references fit in the CPU cache).
4) see how many indexed fields you have and if you can consolidate any
of
them
4.5) if you don't have too many indexed fields, and have enough spare
file
descriptors, try using the non-compound file format instead.
5) run with the latest version of lucene (1.9 dev version) which may
have
better memory usage during optimizes & segment merges.
6) If/when optional norms
http://issues.apache.org/jira/browse/LUCENE-448
makes it into lucene, you can apply it to any indexed fields for which
you
don't need index-time boosting or length normalization.

As for getting rid of your current intermediate files, I'd rebuild from
scratch just to ensure things are OK.

-Yonik
Now hiring -- http://tinyurl.com/7m67g

On 10/21/05, Roxana Angheluta <roxana@attentio.com> wrote:
>
> Thank you, Yonik, it seems this is the case.
> What can we do in this case? Would running the program with java -d32
be
> a solution?
>
> Thanks again,
> roxana
> >One possibility: if lucene runs out of memory while adding or
optimizing,
> it
> >can leave unused files beind that increase the size of the index. A
64
> bit
> >JVM will require more memory than a 32 bit one due to the size of all
> >references being doubled.
> >
> >If you are using the compound file format (the default - check for
.cfs
> >files), then it's easy to check if you have this problem by seeing if
> there
> >are any *.f* files in the index directory. These are intermediate
files
> and
> >shouldn't exist for long in a compound-file index.
> >
> >-Yonik
> >Now hiring -- http://tinyurl.com/7m67g
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16985-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 21 14:18:02 2005
Return-Path: <java-user-return-16985-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4021 invoked from network); 21 Oct 2005 14:18:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Oct 2005 14:18:01 -0000
Received: (qmail 33724 invoked by uid 500); 21 Oct 2005 14:17:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33608 invoked by uid 500); 21 Oct 2005 14:17:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33570 invoked by uid 99); 21 Oct 2005 14:17:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Oct 2005 07:17:45 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of chenjian1227@gmail.com designates 72.14.204.195 as permitted sender)
Received: from [72.14.204.195] (HELO qproxy.gmail.com) (72.14.204.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Oct 2005 07:17:43 -0700
Received: by qproxy.gmail.com with SMTP id p30so99064qba
        for <java-user@lucene.apache.org>; Fri, 21 Oct 2005 07:17:22 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=JqpToRTjrYzB+qKJLUlpJENTs/R2FaQNuljMHivU3lyL7yUAnkY7csiiBP6H7HWZ/lUq5ftpVspW+c2mc3WxUQg4QxNGMr7n2GRPY5D+va4G088xlmPQr8BEbhIRJrZV6pYoChlOUWG8f9+QBTKSZ1qwqTbpvtfwZB1xRqv0c3g=
Received: by 10.65.133.13 with SMTP id k13mr1982471qbn;
        Fri, 21 Oct 2005 07:17:22 -0700 (PDT)
Received: by 10.65.145.3 with HTTP; Fri, 21 Oct 2005 07:17:22 -0700 (PDT)
Message-ID: <7ca123910510210717v26408884o5331d256f13c493a@mail.gmail.com>
Date: Fri, 21 Oct 2005 07:17:22 -0700
From: jian chen <chenjian1227@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: java on 64 bits
In-Reply-To: <14FBF41EF1411B45B2EC4ADEAC53D1310425D05A@MAIL01.wescodist.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_21264_31618226.1129904242270"
References: <14FBF41EF1411B45B2EC4ADEAC53D1310425D05A@MAIL01.wescodist.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_21264_31618226.1129904242270
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,

Also, I think you may try to increase the indexInterval, it is set to 128,
but getting it larger, the .tii files will be smaller. Since .tii files are
loaded into memory as a whole, so, your memory usage might be smaller.
However, this change might affect your search speed. So, be careful about
the value you want to set, not too high though.

Just my thoughts, hope helps.

Jian

On 10/21/05, Aigner, Thomas <TAigner@wescodist.com> wrote:
>
> I have seen quite a few posts on using the 1.9 dev version for
> production uses. How stable is it? Is it really ready for production?
> I would like to use it.. but I never ever put beta packages in
> procution.. but then again.. I'm always dealing with Microsoft :)
>
> Tom
>
> -----Original Message-----
> From: Yonik Seeley [mailto:yseeley@gmail.com]
> Sent: Friday, October 21, 2005 9:28 AM
> To: java-user@lucene.apache.org
> Subject: Re: java on 64 bits
>
> 1) make sure the failure was due to an OutOfMemory exception and not
> something else.
> 2) if you have enough memory, increase the max JVM heap size (-Xmx)
> 3) if you don't need more than 1.5G or so of heap, use the 32 bit JVM
> instead (depending on architecture, it can acutally be a little faster
> because more references fit in the CPU cache).
> 4) see how many indexed fields you have and if you can consolidate any
> of
> them
> 4.5) if you don't have too many indexed fields, and have enough spare
> file
> descriptors, try using the non-compound file format instead.
> 5) run with the latest version of lucene (1.9 dev version) which may
> have
> better memory usage during optimizes & segment merges.
> 6) If/when optional norms
> http://issues.apache.org/jira/browse/LUCENE-448
> makes it into lucene, you can apply it to any indexed fields for which
> you
> don't need index-time boosting or length normalization.
>
> As for getting rid of your current intermediate files, I'd rebuild from
> scratch just to ensure things are OK.
>
> -Yonik
> Now hiring -- http://tinyurl.com/7m67g
>
> On 10/21/05, Roxana Angheluta <roxana@attentio.com> wrote:
> >
> > Thank you, Yonik, it seems this is the case.
> > What can we do in this case? Would running the program with java -d32
> be
> > a solution?
> >
> > Thanks again,
> > roxana
> > >One possibility: if lucene runs out of memory while adding or
> optimizing,
> > it
> > >can leave unused files beind that increase the size of the index. A
> 64
> > bit
> > >JVM will require more memory than a 32 bit one due to the size of all
> > >references being doubled.
> > >
> > >If you are using the compound file format (the default - check for
> .cfs
> > >files), then it's easy to check if you have this problem by seeing if
> > there
> > >are any *.f* files in the index directory. These are intermediate
> files
> > and
> > >shouldn't exist for long in a compound-file index.
> > >
> > >-Yonik
> > >Now hiring -- http://tinyurl.com/7m67g
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_21264_31618226.1129904242270--

From java-user-return-16986-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 21 14:53:33 2005
Return-Path: <java-user-return-16986-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23373 invoked from network); 21 Oct 2005 14:53:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Oct 2005 14:53:32 -0000
Received: (qmail 95957 invoked by uid 500); 21 Oct 2005 14:53:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95929 invoked by uid 500); 21 Oct 2005 14:52:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95913 invoked by uid 99); 21 Oct 2005 14:52:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Oct 2005 07:52:59 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.65.18.194] (HELO gwserv161.interdoms.net) (69.65.18.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Oct 2005 07:52:58 -0700
Received: from ws97.brusselsvillage.be ([194.183.227.97] helo=[10.10.91.251])
	by gwserv161.interdoms.net with esmtpsa (TLSv1:AES256-SHA:256)
	(Exim 4.52)
	id 1ESyG7-00059u-HZ
	for java-user@lucene.apache.org; Fri, 21 Oct 2005 16:52:39 +0200
Message-ID: <435900B2.7010007@attentio.com>
Date: Fri, 21 Oct 2005 16:52:34 +0200
From: Roxana Angheluta <roxana@attentio.com>
User-Agent: Mozilla Thunderbird 1.0 (X11/20041207)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: java on 64 bits
References: <4357F42C.1080603@attentio.com>	 <c68e39170510201355p49280600ld3cf39ebe0562dc8@mail.gmail.com>	 <435898BC.4030707@attentio.com> <c68e39170510210627s674b19b7p42d8cec0c539a244@mail.gmail.com>
In-Reply-To: <c68e39170510210627s674b19b7p42d8cec0c539a244@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - gwserv161.interdoms.net
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - attentio.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks everyone for the answers!
I'm experimenting with your suggestions, I will let you know if 
something interesting pops up.

roxana
>1) make sure the failure was due to an OutOfMemory exception and not
>something else.
>2) if you have enough memory, increase the max JVM heap size (-Xmx)
>3) if you don't need more than 1.5G or so of heap, use the 32 bit JVM
>instead (depending on architecture, it can acutally be a little faster
>because more references fit in the CPU cache).
>4) see how many indexed fields you have and if you can consolidate any of
>them
>4.5) if you don't have too many indexed fields, and have enough spare file
>descriptors, try using the non-compound file format instead.
>5) run with the latest version of lucene (1.9 dev version) which may have
>better memory usage during optimizes & segment merges.
>6) If/when optional norms
>http://issues.apache.org/jira/browse/LUCENE-448
>makes it into lucene, you can apply it to any indexed fields for which you
>don't need index-time boosting or length normalization.
>
>As for getting rid of your current intermediate files, I'd rebuild from
>scratch just to ensure things are OK.
>
>-Yonik
>Now hiring -- http://tinyurl.com/7m67g
>
>On 10/21/05, Roxana Angheluta <roxana@attentio.com> wrote:
>  
>>Thank you, Yonik, it seems this is the case.
>>What can we do in this case? Would running the program with java -d32 be
>>a solution?
>>
>>Thanks again,
>>roxana
>>    
>>>One possibility: if lucene runs out of memory while adding or optimizing,
>>>      
>>it
>>    
>>>can leave unused files beind that increase the size of the index. A 64
>>>      
>>bit
>>    
>>>JVM will require more memory than a 32 bit one due to the size of all
>>>references being doubled.
>>>
>>>If you are using the compound file format (the default - check for .cfs
>>>files), then it's easy to check if you have this problem by seeing if
>>>      
>>there
>>    
>>>are any *.f* files in the index directory. These are intermediate files
>>>      
>>and
>>    
>>>shouldn't exist for long in a compound-file index.
>>>
>>>-Yonik
>>>Now hiring -- http://tinyurl.com/7m67g
>>>      
>>    
>
>  


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16987-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 21 17:48:36 2005
Return-Path: <java-user-return-16987-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16996 invoked from network); 21 Oct 2005 17:48:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Oct 2005 17:48:36 -0000
Received: (qmail 74010 invoked by uid 500); 21 Oct 2005 17:48:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73401 invoked by uid 500); 21 Oct 2005 17:48:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73386 invoked by uid 99); 21 Oct 2005 17:48:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Oct 2005 10:48:30 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.84.241] (HELO web36311.mail.mud.yahoo.com) (209.191.84.241)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 21 Oct 2005 10:48:28 -0700
Received: (qmail 93780 invoked by uid 60001); 21 Oct 2005 17:48:07 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=oaOdToLbtUxnKRVNp8nWCwVCn+G6zz2UfLen0PjgEv5jHeR0nW6a+p9rUcPMSCzu5QwjVnaMdy7aXb14FFZK1FES6FK+231jY3tvi3isvkAmILlsOeyV+n+9rU0NQMJX/rvH/UnSjRfRMP9nXL3hpTlPIS2lSbqQi8YldUvlCHk=  ;
Message-ID: <20051021174807.93778.qmail@web36311.mail.mud.yahoo.com>
Received: from [63.203.72.39] by web36311.mail.mud.yahoo.com via HTTP; Fri, 21 Oct 2005 10:48:07 PDT
Date: Fri, 21 Oct 2005 10:48:07 -0700 (PDT)
From: Sam Lee <victor_emailbox@yahoo.com>
Subject: Re: How To Implement Google Adwords-Like Text Ad?
To: java-user@lucene.apache.org, courtes@westminster.ac.uk
In-Reply-To: <4358A4B5.9050101@wmin.ac.uk>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

But can the Bayesian classifier narrow down the ads
precise enough?  When I look at Google Text Ads, they
are really precise.  

For examples, if I search "PHP" in google or it's a
webpage about PHP, it doesn't show ads just because
they are computer science related, it just shows the
ones that is PHP related.  

Also there is negative keywords in Adwords, so are
they doing 2 matches?  First, they match the webpages
to the ad, then match them the other way around using
keywords and phases and negative keywords that
advertiser entered.

Are there examples with source or websites that talk
about text ad implementation?

Many thanks.

--- Simon Courtenage <courtes@westminster.ac.uk>
wrote:

> With Google TextAds, I've noticed on my blog that
> the text ads take a 
> little while to get updated to correspond to the new
> content, which 
> seems to imply that they take note of the new blog
> content and decide 
> which text ads to serve up.  The question is, if
> this is true, how can 
> it done quickly and efficiently for new pages and
> updated pages.
> 
> The best answer is a Bayesian classifier, which is
> trained to recognise 
> that pages containing a certain pattern of word
> occurrences fits into a 
> particular classification.  If you then associate
> text ads with a 
> classification, e.g., "restaurants", and the
> Bayesian classifier 
> recognises that a web page fits into the
> "restaurant" classification 
> because of a pattern of word occurrences, then you
> serve up text ads for 
> that classification to that page.
> 
> Bayesian classifers need training, so for each
> classification, you give 
> it a set of pages that you think typically describe
> pages of that class 
> - it then automatically creates the pattern
> descriptors it will use 
> against other pages.
> 
> Hope this helps,
> 
> Simon
> 
> Sam Lee wrote:
> 
> >Hi,
> >I am implementing a Google Adwords-like Text Ad
> thing.
> >In Adwords, advertisers enter keywords and phases
> in
> >their ads. When visitor visits a webpage with
> >potential Google text ads, I want to know how they
> >link the webpage to the actual text ads? Linking
> those
> >text ads to the webpage is easy, they can just use
> the
> >keywords and phases advertisers enters, and then
> match
> >them against their index of webpages. But what
> about
> >the other way around, webpage to the text ads? I
> can
> >associate the webpage address with the text ads
> easily
> >by storing them in database, but it will be a
> problem
> >when new webpages join the ad network. You can't
> run
> >all the keywords and phases of the ads against the
> new
> >webpage everytime a new webpage is added, too much
> >resource.
> >
> >How will you do it?
> >
> >Many thanks.
> >
> >
> >		
> >__________________________________ 
> >Yahoo! Music Unlimited 
> >Access over 1 million songs. Try it free.
> >http://music.yahoo.com/unlimited/
> >
>
>---------------------------------------------------------------------
> >To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> >For additional commands, e-mail:
> java-user-help@lucene.apache.org
> >
> >
> >  
> >
> 
> 
> -- 
> Dr. Simon Courtenage
> Software Systems Engineering Research Group
> Dept. of Software Engineering, Cavendish School of
> Computer Science
> University of Westminster, London, UK
> Email: courtes@wmin.ac.uk   Web:
> http://users.cscs.wmin.ac.uk/~courtes |
> http://www.sse.wmin.ac.uk
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 



	
		
__________________________________ 
Yahoo! Mail - PC Magazine Editors' Choice 2005 
http://mail.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16988-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 21 21:55:19 2005
Return-Path: <java-user-return-16988-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41992 invoked from network); 21 Oct 2005 21:55:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Oct 2005 21:55:16 -0000
Received: (qmail 84771 invoked by uid 500); 21 Oct 2005 21:54:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82011 invoked by uid 500); 21 Oct 2005 21:53:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79741 invoked by uid 99); 21 Oct 2005 21:53:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Oct 2005 14:53:34 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.84.240] (HELO web36310.mail.mud.yahoo.com) (209.191.84.240)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 21 Oct 2005 14:53:32 -0700
Received: (qmail 57537 invoked by uid 60001); 21 Oct 2005 21:53:12 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=5KCugkM5VTkHU1TqpA+f0jWsAnxr+uSIibBiTEojfA5NM6ObqexHQkV/pdxKErsrEbQDVjGz4JVK0WsOyF8BMZFrAZhZk3vybNLiYfS96YDkcnLwyIc0iByiE6e3BcDXjPZ+/A+1QNvdz2ZfYPPeWpaJ29K43+NCXISQ4wScG/A=  ;
Message-ID: <20051021215312.57535.qmail@web36310.mail.mud.yahoo.com>
Received: from [63.203.72.39] by web36310.mail.mud.yahoo.com via HTTP; Fri, 21 Oct 2005 14:53:11 PDT
Date: Fri, 21 Oct 2005 14:53:11 -0700 (PDT)
From: Sam Lee <victor_emailbox@yahoo.com>
Subject: Recommendation on Reading or Websites or Examples of How to Use Lucene?
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
  Do you guys have good recommendation on websites
that have detail explanation about how to use Lucene? 
If they have source examples too, that would be great.
 I already read the book Lucene in Action.  

Many thanks.


		
__________________________________ 
Yahoo! FareChase: Search multiple travel sites in one click.
http://farechase.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16989-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 22 00:44:31 2005
Return-Path: <java-user-return-16989-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91916 invoked from network); 22 Oct 2005 00:44:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Oct 2005 00:44:31 -0000
Received: (qmail 71586 invoked by uid 500); 22 Oct 2005 00:44:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71305 invoked by uid 500); 22 Oct 2005 00:44:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71287 invoked by uid 99); 22 Oct 2005 00:44:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Oct 2005 17:44:25 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.18.98.36] (HELO brmea-mail-4.sun.com) (192.18.98.36)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Oct 2005 17:44:24 -0700
Received: from phys-d3-ha21sca-2 ([129.145.155.165])
	by brmea-mail-4.sun.com (8.12.10/8.12.9) with ESMTP id j9M0i4D7000584
	for <java-user@lucene.apache.org>; Fri, 21 Oct 2005 18:44:04 -0600 (MDT)
Received: from conversion-daemon.ha21sca-mail1.sfbay.sun.com by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 id <0IOQ00701KKZDA@ha21sca-mail1.sfbay.sun.com>
 (original mail from Richard.Hillegas@Sun.COM) for java-user@lucene.apache.org;
 Fri, 21 Oct 2005 17:44:23 -0700 (PDT)
Received: from [129.150.26.202]
 (vpn-129-150-26-202.SFBay.Sun.COM [129.150.26.202])
 by ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 with ESMTP id <0IOQ00BK6KPXRR@ha21sca-mail1.sfbay.sun.com> for
 java-user@lucene.apache.org; Fri, 21 Oct 2005 17:44:22 -0700 (PDT)
Date: Fri, 21 Oct 2005 17:44:00 -0700
From: Rick Hillegas <Richard.Hillegas@Sun.COM>
Subject: queries and filters
To: java-user@lucene.apache.org
Message-id: <43598B50.8080608@sun.com>
MIME-version: 1.0
Content-type: text/plain; charset=ISO-8859-1; format=flowed
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I have another newbie question based on a quick glance at some classes 
in* org.apache.lucene.search.Query* and at the email thread 
http://nagoya.apache.org/eyebrowse/BrowseList?listName=lucene-user@jakarta.apache.org&by=thread&from=943115. 
It appears that Searchers first compute query results and then filter 
those results. Can you request  the reverse composition: First 
restricting the search to a small set of documents, then running the query?

Thanks,
-Rick

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16990-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 22 00:49:46 2005
Return-Path: <java-user-return-16990-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92963 invoked from network); 22 Oct 2005 00:49:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Oct 2005 00:49:45 -0000
Received: (qmail 74771 invoked by uid 500); 22 Oct 2005 00:49:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74746 invoked by uid 500); 22 Oct 2005 00:49:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74734 invoked by uid 99); 22 Oct 2005 00:49:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Oct 2005 17:49:41 -0700
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 72.14.204.204 as permitted sender)
Received: from [72.14.204.204] (HELO qproxy.gmail.com) (72.14.204.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Oct 2005 17:49:40 -0700
Received: by qproxy.gmail.com with SMTP id p30so200706qba
        for <java-user@lucene.apache.org>; Fri, 21 Oct 2005 17:49:17 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=XDxd+hTZKjQ3s15v+2OOqxjZDaOzfLDLK4ohdw4dVLk6UPoi2JVH+7ansjRDRlAn0AGFCEg7K+s3m7R8VakhwPhD5B13hUZbZaLsvQvh72HAf79OK7/lMgOB4wFKX6RQGvU2Xk9R6ar5MlnaEpluW8OFOrcgpDd0TcI8JIx0Y0I=
Received: by 10.65.95.9 with SMTP id x9mr2316467qbl;
        Fri, 21 Oct 2005 17:49:17 -0700 (PDT)
Received: by 10.65.121.10 with HTTP; Fri, 21 Oct 2005 17:49:17 -0700 (PDT)
Message-ID: <c68e39170510211749p57dbd480j1bb993684b16cfba@mail.gmail.com>
Date: Fri, 21 Oct 2005 20:49:17 -0400
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: queries and filters
In-Reply-To: <43598B50.8080608@sun.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_5228_15720613.1129942157637"
References: <43598B50.8080608@sun.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_5228_15720613.1129942157637
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

The closest thing to that is
http://issues.apache.org/jira/browse/LUCENE-330


-Yonik
Now hiring -- http://forms.cnet.com/slink?231706

On 10/21/05, Rick Hillegas <Richard.Hillegas@sun.com> wrote:
>
> I have another newbie question based on a quick glance at some classes
> in* org.apache.lucene.search.Query* and at the email thread
>
> http://nagoya.apache.org/eyebrowse/BrowseList?listName=3Dlucene-user@jaka=
rta.apache.org&by=3Dthread&from=3D943115
> .
> It appears that Searchers first compute query results and then filter
> those results. Can you request the reverse composition: First
> restricting the search to a small set of documents, then running the
> query?
>
> Thanks,
> -Rick
>

------=_Part_5228_15720613.1129942157637--

From java-user-return-16991-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 22 04:32:03 2005
Return-Path: <java-user-return-16991-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44170 invoked from network); 22 Oct 2005 04:32:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Oct 2005 04:32:02 -0000
Received: (qmail 53876 invoked by uid 500); 22 Oct 2005 04:31:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53850 invoked by uid 500); 22 Oct 2005 04:31:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53839 invoked by uid 99); 22 Oct 2005 04:31:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Oct 2005 21:31:57 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.36.126] (HELO web53903.mail.yahoo.com) (206.190.36.126)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 21 Oct 2005 21:31:56 -0700
Received: (qmail 29425 invoked by uid 60001); 22 Oct 2005 04:31:34 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=wPCHkAXXi6TT/Z2TWRGmgovTtaeK8sg3/DYJnxA5gIs8Pu/N9FJ/tMDH3ltb4o4D9HJGgegB9beaExz12WEQr93JGbQpi+8UtS+DBUgHTvX7yWAPVSK5jqgew3rLDC6piZsTbownMheH0Aye3UG0Vd68Ar0ACx4M/6F/gz8A1SU=  ;
Message-ID: <20051022043134.29423.qmail@web53903.mail.yahoo.com>
Received: from [128.82.5.185] by web53903.mail.yahoo.com via HTTP; Fri, 21 Oct 2005 21:31:33 PDT
Date: Fri, 21 Oct 2005 21:31:33 -0700 (PDT)
From: anushri kumar <anukumar004@yahoo.com>
Subject: Problem Running Lucene in Action sample codes
To: lucene <java-user@lucene.apache.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1204262276-1129955493=:29346"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1204262276-1129955493=:29346
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

  
		
---------------------------------
 Yahoo! FareChase - Search multiple travel sites in one click.  
--0-1204262276-1129955493=:29346--

From java-user-return-16992-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 22 04:33:29 2005
Return-Path: <java-user-return-16992-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44425 invoked from network); 22 Oct 2005 04:33:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Oct 2005 04:33:29 -0000
Received: (qmail 55196 invoked by uid 500); 22 Oct 2005 04:33:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55171 invoked by uid 500); 22 Oct 2005 04:33:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55160 invoked by uid 99); 22 Oct 2005 04:33:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Oct 2005 21:33:24 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.160] (HELO web53911.mail.yahoo.com) (206.190.38.160)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 21 Oct 2005 21:33:23 -0700
Received: (qmail 2481 invoked by uid 60001); 22 Oct 2005 04:33:02 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=si0rkF8YRzWhrXyLJTBjyuPSeaOPSBaN/uUs6W4QHaoGazOqGw+ZiDptl5KnIzDI+pJdmPf8FPwBeO20pNNl9IbRlwg2qW8MUftGH5DUc1EAlZCSLjKQmtVC8RW+UDkefZHFWw2DomeRqWKvTJodeWwtBX6HjxdXi9zL+OCl+H0=  ;
Message-ID: <20051022043302.2479.qmail@web53911.mail.yahoo.com>
Received: from [128.82.5.185] by web53911.mail.yahoo.com via HTTP; Fri, 21 Oct 2005 21:33:02 PDT
Date: Fri, 21 Oct 2005 21:33:02 -0700 (PDT)
From: anushri kumar <anukumar004@yahoo.com>
Subject: Problem Running Lucene in Action sample codes
To: lucene <java-user@lucene.apache.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1751648294-1129955582=:595"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1751648294-1129955582=:595
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hi,
 
I'm having trouble running the sample codes in Lucene in Action. I followed the instructions in the README file and in the book but no luck. I'm not familiar with ant. Can some one help please ??
 
Anushri

		
---------------------------------
 Yahoo! FareChase - Search multiple travel sites in one click.  
--0-1751648294-1129955582=:595--

From java-user-return-16993-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 22 08:29:20 2005
Return-Path: <java-user-return-16993-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97487 invoked from network); 22 Oct 2005 08:29:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Oct 2005 08:29:19 -0000
Received: (qmail 49333 invoked by uid 500); 22 Oct 2005 08:29:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48262 invoked by uid 500); 22 Oct 2005 08:29:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48184 invoked by uid 99); 22 Oct 2005 08:29:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 22 Oct 2005 01:29:06 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 22 Oct 2005 01:24:50 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 9211613E2006; Sat, 22 Oct 2005 04:24:30 -0400 (EDT)
Received: from [172.16.1.101] (va-71-48-138-146.dhcp.sprint-hsd.net [71.48.138.146])
	by ehatchersolutions.com (Postfix) with ESMTP id 231C913E2005
	for <java-user@lucene.apache.org>; Sat, 22 Oct 2005 04:24:26 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <20051022043302.2479.qmail@web53911.mail.yahoo.com>
References: <20051022043302.2479.qmail@web53911.mail.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <0F271A13-1AB3-42A5-814F-936518E38379@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Problem Running Lucene in Action sample codes
Date: Sat, 22 Oct 2005 04:24:22 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.8 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 22 Oct 2005, at 00:33, anushri kumar wrote:
> I'm having trouble running the sample codes in Lucene in Action. I  
> followed the instructions in the README file and in the book but no  
> luck. I'm not familiar with ant. Can some one help please ??

Anushri - please log the details (details are necessary!) at  
Manning's Author Online section for our book.  You'll find it linked  
on the menu here: <http://www.manning.com/books/hatcher2>

I'd rather keep LIA-centric issues off this list - I hate commercials  
and infomercials as much as the next guy :)

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16994-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 22 08:35:24 2005
Return-Path: <java-user-return-16994-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98877 invoked from network); 22 Oct 2005 08:35:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Oct 2005 08:35:24 -0000
Received: (qmail 50539 invoked by uid 500); 22 Oct 2005 08:35:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50509 invoked by uid 500); 22 Oct 2005 08:35:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50497 invoked by uid 99); 22 Oct 2005 08:35:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 22 Oct 2005 01:35:19 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 22 Oct 2005 01:35:18 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id A2B8113E2006; Sat, 22 Oct 2005 04:34:54 -0400 (EDT)
Received: from [172.16.1.101] (va-71-48-138-146.dhcp.sprint-hsd.net [71.48.138.146])
	by ehatchersolutions.com (Postfix) with ESMTP id 11CA213E2005
	for <java-user@lucene.apache.org>; Sat, 22 Oct 2005 04:34:34 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <20051021215312.57535.qmail@web36310.mail.mud.yahoo.com>
References: <20051021215312.57535.qmail@web36310.mail.mud.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <97A4B8F1-65B4-40A9-B26A-220CC96E4E72@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Recommendation on Reading or Websites or Examples of How to Use Lucene?
Date: Sat, 22 Oct 2005 04:30:06 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.8 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 21 Oct 2005, at 17:53, Sam Lee wrote:

> Hi,
>   Do you guys have good recommendation on websites
> that have detail explanation about how to use Lucene?
> If they have source examples too, that would be great.
>  I already read the book Lucene in Action.

Sam - out of curiosity, what does Lucene in Action lack that you  
seek?   Along those lines, anyone with suggestions on what topics to  
add to the 2nd edition, or even better, what to remove, are gladly  
accepted.  Please e-mail me off-list.

There are many articles about Lucene, most (all?) are linked from here:

     <http://wiki.apache.org/jakarta-lucene/Resources>

Those should give you plenty more material to work with, perhaps more  
concretely than covered in LIA.  Also, the source code to LIA is  
freely available, in case you were not already aware of that.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16995-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 22 13:43:57 2005
Return-Path: <java-user-return-16995-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82481 invoked from network); 22 Oct 2005 13:43:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Oct 2005 13:43:56 -0000
Received: (qmail 18556 invoked by uid 500); 22 Oct 2005 13:43:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18524 invoked by uid 500); 22 Oct 2005 13:43:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18512 invoked by uid 99); 22 Oct 2005 13:43:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 22 Oct 2005 06:43:49 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.28] (HELO smtp-vbr8.xs4all.nl) (194.109.24.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 22 Oct 2005 06:43:48 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr8.xs4all.nl (8.13.3/8.13.3) with ESMTP id j9MDhRdM024778
	for <java-user@lucene.apache.org>; Sat, 22 Oct 2005 15:43:27 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Non scored results
Date: Sat, 22 Oct 2005 15:43:26 +0200
User-Agent: KMail/1.5.4
References: <4358A92F.2030207@i-hypergrid.com> <c68e39170510210616p1aedca24ucc4d7041fb0d5ba2@mail.gmail.com>
In-Reply-To: <c68e39170510210616p1aedca24ucc4d7041fb0d5ba2@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200510221543.26713.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Friday 21 October 2005 15:16, Yonik Seeley wrote:
> It can...
> 
> By the time the hitcollector is called, the documents are already scored, so
> you don't save any time there. But since they haven't been sorted yet, you
> do save the time it would take to put all the hits through the priority
> queue to find the top "n".
> 
> -Yonik
> 
> On 10/21/05, Volodymyr Bychkoviak <vbychkoviak@i-hypergrid.com> wrote:
> >
> > Hello all.
> >
> > If I need non scored results can I use
> > Searcher.search(Query,HitCollector) method and store bitset of found
> > documents.
> > will it give me some speed improvement?

With the default scoring methods, there is hardly any gain in doing this.
Nevertheless, to try this out, you need a Scorer for the query via 
Query.weight(Searcher).scorer(IndexReader) and then use Scorer.next() and 
Scorer.doc() only, ie. do not use Scorer.score().
The searcher can be opened on the index reader to have both available.

In case you have an OR like boolean query, with optional clauses only,
it may be faster iterate over the documents of each clause seperately
to set the document bits.

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16996-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 22 16:44:13 2005
Return-Path: <java-user-return-16996-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28114 invoked from network); 22 Oct 2005 16:44:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Oct 2005 16:44:13 -0000
Received: (qmail 19034 invoked by uid 500); 22 Oct 2005 16:44:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19003 invoked by uid 500); 22 Oct 2005 16:44:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18992 invoked by uid 99); 22 Oct 2005 16:44:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 22 Oct 2005 09:44:08 -0700
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 72.14.204.203 as permitted sender)
Received: from [72.14.204.203] (HELO qproxy.gmail.com) (72.14.204.203)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 22 Oct 2005 09:44:06 -0700
Received: by qproxy.gmail.com with SMTP id e34so686839qbe
        for <java-user@lucene.apache.org>; Sat, 22 Oct 2005 09:43:46 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=QBlsZQVItB537AZeITS934mUsr/UWhcX3bSsZ0LsXsXBQO6prR1hnzoV611L4XS2mnmSlKrrDyl85mvUUJrEga8sdSJ06aeWALrhAWTPplmyjgSbf82xpdpbh7KNkBkYqLTcekMiXO9sNn+XRM8vxytuK8A3N3oFCrMCV2OCGvY=
Received: by 10.65.153.2 with SMTP id f2mr2413958qbo;
        Sat, 22 Oct 2005 09:43:46 -0700 (PDT)
Received: by 10.65.22.17 with HTTP; Sat, 22 Oct 2005 09:43:46 -0700 (PDT)
Message-ID: <50f433360510220943l62c0f449s6d5630e6ab4bca38@mail.gmail.com>
Date: Sat, 22 Oct 2005 09:43:46 -0700
From: Jeff Rodenburg <jeff.rodenburg@gmail.com>
To: java-user@lucene.apache.org
Subject: Improving sort performance
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_8532_27343179.1129999426318"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_8532_27343179.1129999426318
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I have a custom sort that completes calculations on-the-fly, similar to the
LIA distance sort. SortField type is Float. It works, but I need better
performance. I'm wondering if there's a better way to do this.

As a rule, the number of results returned in a given search will most often
be a fraction of the total documents in the search indexes. For example,
1000 results would be a rather large result set for what I'm expecting. The
aggregate index document count is in the range of 20 million.

The standard process of looping through the TermDocs from readers for the
aggregate index seems wasteful in this scenario, given the relative number
of results to the overall size of the index. What are my options here?

Thanks
jeff

------=_Part_8532_27343179.1129999426318--

From java-user-return-16997-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 22 17:10:44 2005
Return-Path: <java-user-return-16997-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33150 invoked from network); 22 Oct 2005 17:10:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Oct 2005 17:10:44 -0000
Received: (qmail 24857 invoked by uid 500); 22 Oct 2005 17:10:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24828 invoked by uid 500); 22 Oct 2005 17:10:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24817 invoked by uid 99); 22 Oct 2005 17:10:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 22 Oct 2005 10:10:38 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 72.14.204.202 as permitted sender)
Received: from [72.14.204.202] (HELO qproxy.gmail.com) (72.14.204.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 22 Oct 2005 10:10:35 -0700
Received: by qproxy.gmail.com with SMTP id q18so54620qba
        for <java-user@lucene.apache.org>; Sat, 22 Oct 2005 10:10:13 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=NU6bcmh98sV61LmIM6TALqXUeSAo/NalApEEwcVhaMTG6u1xCHLum0D9DUuUfic0bhIOUMLV48fVSY5dT6xJnaWYeJ61mebohhHm/e0Ki7HnYRJT0BZgzBgam1cx+mQ9SctFfRYeyZXKnk3A1xjRZof8VpuXAI39hqAV+us426Y=
Received: by 10.65.84.6 with SMTP id m6mr74080qbl;
        Sat, 22 Oct 2005 10:10:12 -0700 (PDT)
Received: by 10.65.119.9 with HTTP; Sat, 22 Oct 2005 10:10:12 -0700 (PDT)
Message-ID: <c68e39170510221010v6970aa95h48508ae3eaf8c27c@mail.gmail.com>
Date: Sat, 22 Oct 2005 13:10:12 -0400
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Improving sort performance
In-Reply-To: <50f433360510220943l62c0f449s6d5630e6ab4bca38@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_4784_9286261.1130001012956"
References: <50f433360510220943l62c0f449s6d5630e6ab4bca38@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_4784_9286261.1130001012956
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I'm not sure what type of score you are trying to do, but maybe
FunctionQuery would help.
http://issues.apache.org/jira/browse/LUCENE-446

-Yonik
Now hiring -- http://forms.cnet.com/slink?231706

On 10/22/05, Jeff Rodenburg <jeff.rodenburg@gmail.com> wrote:
>
> I have a custom sort that completes calculations on-the-fly, similar to
> the
> LIA distance sort. SortField type is Float. It works, but I need better
> performance. I'm wondering if there's a better way to do this.
>
> As a rule, the number of results returned in a given search will most
> often
> be a fraction of the total documents in the search indexes. For example,
> 1000 results would be a rather large result set for what I'm expecting.
> The
> aggregate index document count is in the range of 20 million.
>
> The standard process of looping through the TermDocs from readers for the
> aggregate index seems wasteful in this scenario, given the relative numbe=
r
> of results to the overall size of the index. What are my options here?
>
> Thanks
> jeff
>
>

------=_Part_4784_9286261.1130001012956--

From java-user-return-16998-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 22 17:46:34 2005
Return-Path: <java-user-return-16998-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42049 invoked from network); 22 Oct 2005 17:46:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Oct 2005 17:46:34 -0000
Received: (qmail 41888 invoked by uid 500); 22 Oct 2005 17:46:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40982 invoked by uid 500); 22 Oct 2005 17:46:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40971 invoked by uid 99); 22 Oct 2005 17:46:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 22 Oct 2005 10:46:30 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 72.14.204.193 as permitted sender)
Received: from [72.14.204.193] (HELO qproxy.gmail.com) (72.14.204.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 22 Oct 2005 10:46:28 -0700
Received: by qproxy.gmail.com with SMTP id e34so691603qbe
        for <java-user@lucene.apache.org>; Sat, 22 Oct 2005 10:46:06 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=uFoordCHotFVzLUaaegktx2ZYalrDuEEEwD2VVm2oMbbq54glBEz2fmQFZOtkG2AK0mIBdn+n+NZH3wInHVBbIN9bZrVSidmFh9FujjAzuuncVlLMKrd+2I5a+gS74puo+W4rssw/0ZZBmyjHd5NkNIzRH/3C/msW2R2BQAnsro=
Received: by 10.65.206.6 with SMTP id i6mr2432286qbq;
        Sat, 22 Oct 2005 10:46:06 -0700 (PDT)
Received: by 10.65.22.17 with HTTP; Sat, 22 Oct 2005 10:46:06 -0700 (PDT)
Message-ID: <50f433360510221046q4cdcba9emee56bd74f4f2305c@mail.gmail.com>
Date: Sat, 22 Oct 2005 10:46:06 -0700
From: Jeff Rodenburg <jeff.rodenburg@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Improving sort performance
In-Reply-To: <c68e39170510221010v6970aa95h48508ae3eaf8c27c@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_9168_12904723.1130003166441"
References: <50f433360510220943l62c0f449s6d5630e6ab4bca38@mail.gmail.com>
	 <c68e39170510221010v6970aa95h48508ae3eaf8c27c@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_9168_12904723.1130003166441
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

This is really interesting, I haven't revved our code to this version yet.
Does the score returned by FunctionQuery supersede underlying relevance
scoring or is it rolled in at some base class?

-- j

On 10/22/05, Yonik Seeley <yseeley@gmail.com> wrote:
>
> I'm not sure what type of score you are trying to do, but maybe
> FunctionQuery would help.
> http://issues.apache.org/jira/browse/LUCENE-446
>
> -Yonik
> Now hiring -- http://forms.cnet.com/slink?231706
>
> On 10/22/05, Jeff Rodenburg <jeff.rodenburg@gmail.com> wrote:
> >
> > I have a custom sort that completes calculations on-the-fly, similar to
> > the
> > LIA distance sort. SortField type is Float. It works, but I need better
> > performance. I'm wondering if there's a better way to do this.
> >
> > As a rule, the number of results returned in a given search will most
> > often
> > be a fraction of the total documents in the search indexes. For example=
,
> > 1000 results would be a rather large result set for what I'm expecting.
> > The
> > aggregate index document count is in the range of 20 million.
> >
> > The standard process of looping through the TermDocs from readers for
> the
> > aggregate index seems wasteful in this scenario, given the relative
> number
> > of results to the overall size of the index. What are my options here?
> >
> > Thanks
> > jeff
> >
> >
>
>

------=_Part_9168_12904723.1130003166441--

From java-user-return-16999-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 22 18:30:18 2005
Return-Path: <java-user-return-16999-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53631 invoked from network); 22 Oct 2005 18:30:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Oct 2005 18:30:17 -0000
Received: (qmail 63431 invoked by uid 500); 22 Oct 2005 18:30:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63211 invoked by uid 500); 22 Oct 2005 18:30:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63125 invoked by uid 99); 22 Oct 2005 18:30:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 22 Oct 2005 11:30:09 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 72.14.204.201 as permitted sender)
Received: from [72.14.204.201] (HELO qproxy.gmail.com) (72.14.204.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 22 Oct 2005 11:28:15 -0700
Received: by qproxy.gmail.com with SMTP id q18so59761qba
        for <java-user@lucene.apache.org>; Sat, 22 Oct 2005 11:27:55 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Jm6D0geKzdLfCA9idrSTYnOuQEJl3YhRPqs/nmxMhb/TFaUXXLz2T0Vs6XuK7+DqpVKZAaRMt4Wtzdulvod4CSltRKphONVMd1d4ljSjbcxu+p+f+EPC0n8G7cG+Yg73j7+76nAEpGKVnq66LfukcgrTP0ji9C1KbvI6Q4lpKlo=
Received: by 10.65.59.3 with SMTP id m3mr83215qbk;
        Sat, 22 Oct 2005 11:27:54 -0700 (PDT)
Received: by 10.65.119.9 with HTTP; Sat, 22 Oct 2005 11:27:54 -0700 (PDT)
Message-ID: <c68e39170510221127v595f783jabc7c30a644e1c5b@mail.gmail.com>
Date: Sat, 22 Oct 2005 14:27:54 -0400
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Improving sort performance
In-Reply-To: <50f433360510221046q4cdcba9emee56bd74f4f2305c@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_5256_8353461.1130005674922"
References: <50f433360510220943l62c0f449s6d5630e6ab4bca38@mail.gmail.com>
	 <c68e39170510221010v6970aa95h48508ae3eaf8c27c@mail.gmail.com>
	 <50f433360510221046q4cdcba9emee56bd74f4f2305c@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_5256_8353461.1130005674922
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

FunctionQuery matches all documents, so you normally want to use it as part
of a BooleanQuery with another mandatory clause. That will cause only
documents matching the other clause to be scored (the BooleanScorer takes
care of that logic).

The score FunctionQuery produces is from the function alone (no relevancy
stuff like idf, tf, lengthNorm, or anything else).

If you want to sort by that score alone, then boost the other parts of the
query to 0.

So, (MyQuery, sorted by MyFunkySort), becomes
((+MyQuery^0 MyFunctionQuery), sorted by score)

-Yonik
Now hiring -- http://forms.cnet.com/slink?231706

On 10/22/05, Jeff Rodenburg <jeff.rodenburg@gmail.com> wrote:
>
> This is really interesting, I haven't revved our code to this version yet=
.
> Does the score returned by FunctionQuery supersede underlying relevance
> scoring or is it rolled in at some base class?
>
> -- j
>
> On 10/22/05, Yonik Seeley <yseeley@gmail.com> wrote:
> >
> > I'm not sure what type of score you are trying to do, but maybe
> > FunctionQuery would help.
> > http://issues.apache.org/jira/browse/LUCENE-446
> >
> > -Yonik
> > Now hiring -- http://forms.cnet.com/slink?231706
> >
> > On 10/22/05, Jeff Rodenburg <jeff.rodenburg@gmail.com> wrote:
> > >
> > > I have a custom sort that completes calculations on-the-fly, similar
> to
> > > the
> > > LIA distance sort. SortField type is Float. It works, but I need
> better
> > > performance. I'm wondering if there's a better way to do this.
> > >
> > > As a rule, the number of results returned in a given search will most
> > > often
> > > be a fraction of the total documents in the search indexes. For
> example,
> > > 1000 results would be a rather large result set for what I'm
> expecting.
> > > The
> > > aggregate index document count is in the range of 20 million.
> > >
> > > The standard process of looping through the TermDocs from readers for
> > the
> > > aggregate index seems wasteful in this scenario, given the relative
> > number
> > > of results to the overall size of the index. What are my options here=
?
> > >
> > > Thanks
> > > jeff
> > >
> > >
> >
> >
>
>

------=_Part_5256_8353461.1130005674922--

From java-user-return-17000-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 22 22:42:12 2005
Return-Path: <java-user-return-17000-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11413 invoked from network); 22 Oct 2005 22:42:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Oct 2005 22:42:12 -0000
Received: (qmail 61939 invoked by uid 500); 22 Oct 2005 22:42:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61912 invoked by uid 500); 22 Oct 2005 22:42:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61901 invoked by uid 99); 22 Oct 2005 22:42:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 22 Oct 2005 15:42:07 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 72.14.204.199 as permitted sender)
Received: from [72.14.204.199] (HELO qproxy.gmail.com) (72.14.204.199)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 22 Oct 2005 15:42:05 -0700
Received: by qproxy.gmail.com with SMTP id o12so33519qba
        for <java-user@lucene.apache.org>; Sat, 22 Oct 2005 15:41:45 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=i7WK5m25AJ33mWUf1vBhSXO7OSeQ1/ZVR0On7H6kkazbexDZ1ddUCJHZFG6Dc5AiezOtI6ILq5Ezctd6EUPYJ0MC5LYD5Vy81ZfM4zLy7jKuB1BDAB8M78va+ARWsFgYdodcresGaUyHURw04nlmmMCehYrCxIA5jJcBQf2ZqL4=
Received: by 10.65.189.6 with SMTP id r6mr2452545qbp;
        Sat, 22 Oct 2005 15:41:45 -0700 (PDT)
Received: by 10.65.22.17 with HTTP; Sat, 22 Oct 2005 15:41:45 -0700 (PDT)
Message-ID: <50f433360510221541j68f21d00t43c2b4c97f0a9fd@mail.gmail.com>
Date: Sat, 22 Oct 2005 15:41:45 -0700
From: Jeff Rodenburg <jeff.rodenburg@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Improving sort performance
In-Reply-To: <c68e39170510221127v595f783jabc7c30a644e1c5b@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_11771_3621133.1130020905277"
References: <50f433360510220943l62c0f449s6d5630e6ab4bca38@mail.gmail.com>
	 <c68e39170510221010v6970aa95h48508ae3eaf8c27c@mail.gmail.com>
	 <50f433360510221046q4cdcba9emee56bd74f4f2305c@mail.gmail.com>
	 <c68e39170510221127v595f783jabc7c30a644e1c5b@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_11771_3621133.1130020905277
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Very cool. Any known drawbacks to this approach?

On 10/22/05, Yonik Seeley <yseeley@gmail.com> wrote:
>
> FunctionQuery matches all documents, so you normally want to use it as
> part
> of a BooleanQuery with another mandatory clause. That will cause only
> documents matching the other clause to be scored (the BooleanScorer takes
> care of that logic).
>
> The score FunctionQuery produces is from the function alone (no relevancy
> stuff like idf, tf, lengthNorm, or anything else).
>
> If you want to sort by that score alone, then boost the other parts of th=
e
> query to 0.
>
> So, (MyQuery, sorted by MyFunkySort), becomes
> ((+MyQuery^0 MyFunctionQuery), sorted by score)
>
> -Yonik
> Now hiring -- http://forms.cnet.com/slink?231706
>
> On 10/22/05, Jeff Rodenburg <jeff.rodenburg@gmail.com> wrote:
> >
> > This is really interesting, I haven't revved our code to this version
> yet.
> > Does the score returned by FunctionQuery supersede underlying relevance
> > scoring or is it rolled in at some base class?
> >
> > -- j
> >
> > On 10/22/05, Yonik Seeley <yseeley@gmail.com> wrote:
> > >
> > > I'm not sure what type of score you are trying to do, but maybe
> > > FunctionQuery would help.
> > > http://issues.apache.org/jira/browse/LUCENE-446
> > >
> > > -Yonik
> > > Now hiring -- http://forms.cnet.com/slink?231706
> > >
> > > On 10/22/05, Jeff Rodenburg <jeff.rodenburg@gmail.com> wrote:
> > > >
> > > > I have a custom sort that completes calculations on-the-fly, simila=
r
> > to
> > > > the
> > > > LIA distance sort. SortField type is Float. It works, but I need
> > better
> > > > performance. I'm wondering if there's a better way to do this.
> > > >
> > > > As a rule, the number of results returned in a given search will
> most
> > > > often
> > > > be a fraction of the total documents in the search indexes. For
> > example,
> > > > 1000 results would be a rather large result set for what I'm
> > expecting.
> > > > The
> > > > aggregate index document count is in the range of 20 million.
> > > >
> > > > The standard process of looping through the TermDocs from readers
> for
> > > the
> > > > aggregate index seems wasteful in this scenario, given the relative
> > > number
> > > > of results to the overall size of the index. What are my options
> here?
> > > >
> > > > Thanks
> > > > jeff
> > > >
> > > >
> > >
> > >
> >
> >
>
>

------=_Part_11771_3621133.1130020905277--

From java-user-return-17001-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 22 22:54:46 2005
Return-Path: <java-user-return-17001-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13582 invoked from network); 22 Oct 2005 22:54:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Oct 2005 22:54:46 -0000
Received: (qmail 72197 invoked by uid 500); 22 Oct 2005 22:54:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72164 invoked by uid 500); 22 Oct 2005 22:54:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72153 invoked by uid 99); 22 Oct 2005 22:54:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 22 Oct 2005 15:54:41 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.84.238] (HELO web36308.mail.mud.yahoo.com) (209.191.84.238)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 22 Oct 2005 15:54:40 -0700
Received: (qmail 70366 invoked by uid 60001); 22 Oct 2005 22:54:19 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=gNJZ1autHPLVkQLRs9h7AyyqAB1w6j4Ne0CUJnZjoyOOk8jU6ZaOvVCoOyLE4J5vL62ibKgInCHsFCl7YyiddJVV6QHqtdYQUg65zDL1+aEC3QJBfJ9L1HsjadgZjjRIrOPVwes+rQERnhxQvOYcwcVDgVVqD2oyOshcY5eom30=  ;
Message-ID: <20051022225419.70364.qmail@web36308.mail.mud.yahoo.com>
Received: from [63.203.72.39] by web36308.mail.mud.yahoo.com via HTTP; Sat, 22 Oct 2005 15:54:19 PDT
Date: Sat, 22 Oct 2005 15:54:19 -0700 (PDT)
From: Sam Lee <victor_emailbox@yahoo.com>
Subject: Can I Do Reverse Search?
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
  Normally, lucene or Nutch can match query "nike shoe
-blue" with "red nike shoe".

But what about matching "red nike shoe" with query
"nike shoe -blue"?  It is the other way around. Can I
do it with a combinations of API?

Many thanks.

__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17002-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 23 00:20:48 2005
Return-Path: <java-user-return-17002-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32992 invoked from network); 23 Oct 2005 00:20:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Oct 2005 00:20:47 -0000
Received: (qmail 6203 invoked by uid 500); 23 Oct 2005 00:20:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6173 invoked by uid 500); 23 Oct 2005 00:20:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6162 invoked by uid 99); 23 Oct 2005 00:20:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 22 Oct 2005 17:20:43 -0700
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_MESSAGE,MSGID_FROM_MTA_HEADER,NO_REAL_NAME,SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Msftblows@aol.com designates 205.188.139.137 as permitted sender)
Received: from [205.188.139.137] (HELO imo-d23.mx.aol.com) (205.188.139.137)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 22 Oct 2005 17:20:41 -0700
Received: from Msftblows@aol.com
	by imo-d23.mx.aol.com (mail_out_v38_r6.3.) id h.104.6bbc508d (15699)
	 for <java-user@lucene.apache.org>; Sat, 22 Oct 2005 20:20:18 -0400 (EDT)
Received: from  mblk-d40 (mblk-d40.mblk.aol.com [205.188.212.224]) by air-id05.mx.aol.com (v107.13) with ESMTP id MAILINID51-3d53435ad742171; Sat, 22 Oct 2005 20:20:18 -0400
Date: Sat, 22 Oct 2005 20:20:18 -0400
From: msftblows@aol.com
Message-Id: <8C7A57EAE9C72FA-A94-14698@mblk-d40.sysops.aol.com>
X-MB-Message-Source: WebUI
X-MB-Message-Type: User
Received: from 68.175.91.77 by mblk-d40.sysops.aol.com (205.188.212.224) with HTTP (WebMailUI); Sat, 22 Oct 2005 20:20:18 -0400
X-Mailer: AOL WebMail 1.1.0.14204
Subject: "More Like This..."
Content-Type: multipart/alternative;
 boundary="--------MailBlocks_8C7A57EAE9C72FA_A94_143A6_mblk-d40.sysops.aol.com"
MIME-Version: 1.0
To: java-user@lucene.apache.org
X-AOL-IP: 205.188.212.224
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Flag: NO
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

----------MailBlocks_8C7A57EAE9C72FA_A94_143A6_mblk-d40.sysops.aol.com
Content-Type: text/plain; charset="us-ascii"

Hi All-
 
Can someone point me to where I can find this class?
 
Thanks!
-Joe

----------MailBlocks_8C7A57EAE9C72FA_A94_143A6_mblk-d40.sysops.aol.com--

From java-user-return-17003-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 23 00:27:47 2005
Return-Path: <java-user-return-17003-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34741 invoked from network); 23 Oct 2005 00:27:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Oct 2005 00:27:46 -0000
Received: (qmail 8232 invoked by uid 500); 23 Oct 2005 00:27:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8205 invoked by uid 500); 23 Oct 2005 00:27:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8194 invoked by uid 99); 23 Oct 2005 00:27:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 22 Oct 2005 17:27:42 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 22 Oct 2005 17:27:41 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 0A4DA13E2006; Sat, 22 Oct 2005 20:27:19 -0400 (EDT)
Received: from [172.16.1.101] (va-71-48-138-146.dhcp.sprint-hsd.net [71.48.138.146])
	by ehatchersolutions.com (Postfix) with ESMTP id 8733413E2005
	for <java-user@lucene.apache.org>; Sat, 22 Oct 2005 20:27:08 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <8C7A57EAE9C72FA-A94-14698@mblk-d40.sysops.aol.com>
References: <8C7A57EAE9C72FA-A94-14698@mblk-d40.sysops.aol.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <DF221D12-07F7-4BBC-8A24-8A009334A263@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: "More Like This..."
Date: Sat, 22 Oct 2005 20:27:06 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.8 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 22 Oct 2005, at 20:20, msftblows@aol.com wrote:
> Can someone point me to where I can find this class?

It exists in Lucene's Subversion repository under contrib/similarity.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17004-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 23 02:12:12 2005
Return-Path: <java-user-return-17004-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60033 invoked from network); 23 Oct 2005 02:12:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Oct 2005 02:12:11 -0000
Received: (qmail 43403 invoked by uid 500); 23 Oct 2005 02:12:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43378 invoked by uid 500); 23 Oct 2005 02:12:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43367 invoked by uid 99); 23 Oct 2005 02:12:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 22 Oct 2005 19:12:06 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 22 Oct 2005 19:12:05 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 202875B7F3; Sat, 22 Oct 2005 19:11:42 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 1F15A7F466
	for <java-user@lucene.apache.org>; Sat, 22 Oct 2005 19:11:42 -0700 (PDT)
Date: Sat, 22 Oct 2005 19:11:42 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Non scored results
In-Reply-To: <200510221543.26713.paul.elschot@xs4all.nl>
Message-ID: <Pine.LNX.4.58.0510221909440.14239@hal.rescomp.berkeley.edu>
References: <4358A92F.2030207@i-hypergrid.com>
 <c68e39170510210616p1aedca24ucc4d7041fb0d5ba2@mail.gmail.com>
 <200510221543.26713.paul.elschot@xs4all.nl>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: In case you have an OR like boolean query, with optional clauses only,
: it may be faster iterate over the documents of each clause seperately
: to set the document bits.

And depending on the types of "queries" you want to do, using Filter
varients and calling the bits() method directly might be even faster.

(There is not TermFilter ... but it would be trivial to write, other
Query->Filter translations would be equally simple)




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17005-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 23 07:16:04 2005
Return-Path: <java-user-return-17005-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36030 invoked from network); 23 Oct 2005 07:16:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Oct 2005 07:16:03 -0000
Received: (qmail 50540 invoked by uid 500); 23 Oct 2005 07:15:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50513 invoked by uid 500); 23 Oct 2005 07:15:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50502 invoked by uid 99); 23 Oct 2005 07:15:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 23 Oct 2005 00:15:58 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 23 Oct 2005 00:15:57 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 5625113E2006; Sun, 23 Oct 2005 03:15:36 -0400 (EDT)
Received: from [172.16.1.101] (va-71-48-138-146.dhcp.sprint-hsd.net [71.48.138.146])
	by ehatchersolutions.com (Postfix) with ESMTP id 40D0C13E2005
	for <java-user@lucene.apache.org>; Sun, 23 Oct 2005 03:15:16 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <20051022225419.70364.qmail@web36308.mail.mud.yahoo.com>
References: <20051022225419.70364.qmail@web36308.mail.mud.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <D408B5BF-4376-4E86-9250-2C9C54891315@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Can I Do Reverse Search?
Date: Sun, 23 Oct 2005 03:14:35 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.8 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Sam - I'm not quite sure I follow you, but let's see if this fits...  
you want to have a document and see if a query matches it?  Please  
elaborate more on what you're after.  Maybe what you're looking for  
is the contrib/memory and the MemoryIndex within that Subversion area.

     Erik


On 22 Oct 2005, at 18:54, Sam Lee wrote:

> Hi,
>   Normally, lucene or Nutch can match query "nike shoe
> -blue" with "red nike shoe".
>
> But what about matching "red nike shoe" with query
> "nike shoe -blue"?  It is the other way around. Can I
> do it with a combinations of API?
>
> Many thanks.
>
> __________________________________________________
> Do You Yahoo!?
> Tired of spam?  Yahoo! Mail has the best spam protection around
> http://mail.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17006-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 23 14:47:43 2005
Return-Path: <java-user-return-17006-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65249 invoked from network); 23 Oct 2005 14:47:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Oct 2005 14:47:43 -0000
Received: (qmail 31569 invoked by uid 500); 23 Oct 2005 14:47:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30741 invoked by uid 500); 23 Oct 2005 14:47:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30730 invoked by uid 99); 23 Oct 2005 14:47:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 23 Oct 2005 07:47:37 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_10_20,HTML_MESSAGE,MSGID_FROM_MTA_HEADER,NO_REAL_NAME,SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Msftblows@aol.com designates 64.12.138.206 as permitted sender)
Received: from [64.12.138.206] (HELO imo-m16.mx.aol.com) (64.12.138.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 23 Oct 2005 07:47:36 -0700
Received: from Msftblows@aol.com
	by imo-m16.mx.aol.com (mail_out_v38_r6.3.) id h.1f6.150224cb (15887)
	 for <java-user@lucene.apache.org>; Sun, 23 Oct 2005 10:47:09 -0400 (EDT)
Received: from  mblk-d36 (mblk-d36.mblk.aol.com [205.188.212.220]) by air-id08.mx.aol.com (v107.13) with ESMTP id MAILINID82-3e0f435ba26d3d9; Sun, 23 Oct 2005 10:47:09 -0400
Date: Sun, 23 Oct 2005 10:47:09 -0400
From: msftblows@aol.com
Message-Id: <8C7A5F7C7AB6B8D-D90-103C0@mblk-d36.sysops.aol.com>
X-MB-Message-Source: WebUI
X-MB-Message-Type: User
Received: from 68.175.91.77 by mblk-d36.sysops.aol.com (205.188.212.220) with HTTP (WebMailUI); Sun, 23 Oct 2005 10:47:09 -0400
X-Mailer: AOL WebMail 1.1.0.14204
Subject: Classifier4J and Lucene
Content-Type: multipart/alternative;
 boundary="--------MailBlocks_8C7A5F7C7AB6B8D_D90_10126_mblk-d36.sysops.aol.com"
MIME-Version: 1.0
To: java-user@lucene.apache.org
X-AOL-IP: 205.188.212.220
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Flag: NO
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

----------MailBlocks_8C7A5F7C7AB6B8D_D90_10126_mblk-d36.sysops.aol.com
Content-Type: text/plain; charset="us-ascii"

Hey-
 
I have an indexer at my company that I wrote while back that indexes database content (users and their profile)...one of the next req. of the project is to avoid 'spam' in hits. For example if I do a search for oracle, and oracle is in 25 places in someones bio field...and another person has it in one place in his company field, the 25 places will of course be higher. Unfortunatly, people who know the system know the more you have certain keywords in you user profile, the higher you will be on the list. I was thinking I can do one of two things:
 
1. Work with Lucene algo to lower scores in certain fields (boost in others)...this would work, but the boost has such a small factor in scoring (or so it seems), that in some cases it won't matter. (if I boost company to 2.0, and bio to 1.0 in some cases with xxx hits in bio, that is still first in score)
 
2. Using Classifier4J (http://classifier4j.sourceforge.net/)...I can use same idea as a mail filter and use the Bayesian Classifier to train it that certain words would be spam...then just index the summary. Throwing this out there...not even sure that it will work...
 
Not sure if this makses sense...but curious if anyone has ideas, or has done something like this.
 
Regards!
-Joe

----------MailBlocks_8C7A5F7C7AB6B8D_D90_10126_mblk-d36.sysops.aol.com--

From java-user-return-17007-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 23 16:25:38 2005
Return-Path: <java-user-return-17007-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90289 invoked from network); 23 Oct 2005 16:25:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Oct 2005 16:25:37 -0000
Received: (qmail 77291 invoked by uid 500); 23 Oct 2005 16:25:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76436 invoked by uid 500); 23 Oct 2005 16:25:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76425 invoked by uid 99); 23 Oct 2005 16:25:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 23 Oct 2005 09:25:32 -0700
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 72.14.204.205 as permitted sender)
Received: from [72.14.204.205] (HELO qproxy.gmail.com) (72.14.204.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 23 Oct 2005 09:25:31 -0700
Received: by qproxy.gmail.com with SMTP id a10so259893qbd
        for <java-user@lucene.apache.org>; Sun, 23 Oct 2005 09:25:11 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=S08CJxeQ2Tq64FnoTqTIUsZOgIiXyyW/qNgLdOw5I6vl2c061f6iT5CyQMclq3TruwHK1Rs98r9lZFX1vScTyPoMJpJCfTjuNE8LJk6fhnpLrREQGnLNJ+KpZFFQH3Zz/c+TvabqyLfzYknur3Du3FXC4qV22Or9O6GH7+nBVbE=
Received: by 10.64.250.12 with SMTP id x12mr670370qbh;
        Sun, 23 Oct 2005 09:25:11 -0700 (PDT)
Received: by 10.65.22.17 with HTTP; Sun, 23 Oct 2005 09:25:11 -0700 (PDT)
Message-ID: <50f433360510230925j7bb07153ud85b58af128b8c1a@mail.gmail.com>
Date: Sun, 23 Oct 2005 09:25:11 -0700
From: Jeff Rodenburg <jeff.rodenburg@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Classifier4J and Lucene
In-Reply-To: <8C7A5F7C7AB6B8D-D90-103C0@mblk-d36.sysops.aol.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_16320_27760569.1130084711215"
References: <8C7A5F7C7AB6B8D-D90-103C0@mblk-d36.sysops.aol.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_16320_27760569.1130084711215
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Sounds like you might have to consider both, if the first one doesn't solve
your issue. A company field sounds like it's a single entry, i.e. one that
can't be "spammed up" with multiple terms, i.e. "Oralce Oracle Oracle". It
also sounds as if you're searching multiple fields, and that some fields ar=
e
more important than others.

It sounds like there are expectations about what documents rise to the top
for a given search, so I would suggest starting by getting your boost
prioritization in order by working with a "clean" or non-spammed index.
After that, bring in the spammed index and go from there. You're right, you
won't be able to boost away the spammers.

I don't have much background with Classifier4j, but it seems that words
would need to be considered spam differently across different fields, if I
understand your indexing/querying structure. I like the approach of indexin=
g
a boiled summary, not sure if Classifier4J doesn't have you doing a lot of
work.

Hope this helps.

-- jr


On 10/23/05, msftblows@aol.com <msftblows@aol.com> wrote:
>
> Hey-
>
> I have an indexer at my company that I wrote while back that indexes
> database content (users and their profile)...one of the next req. of the
> project is to avoid 'spam' in hits. For example if I do a search for orac=
le,
> and oracle is in 25 places in someones bio field...and another person has=
 it
> in one place in his company field, the 25 places will of course be higher=
.
> Unfortunatly, people who know the system know the more you have certain
> keywords in you user profile, the higher you will be on the list. I was
> thinking I can do one of two things:
>
> 1. Work with Lucene algo to lower scores in certain fields (boost in
> others)...this would work, but the boost has such a small factor in scori=
ng
> (or so it seems), that in some cases it won't matter. (if I boost company=
 to
> 2.0, and bio to 1.0 in some cases with xxx hits in bio, that is still
> first in score)
>
> 2. Using Classifier4J (http://classifier4j.sourceforge.net/)...I can use
> same idea as a mail filter and use the Bayesian Classifier to train it th=
at
> certain words would be spam...then just index the summary. Throwing this =
out
> there...not even sure that it will work...
>
> Not sure if this makses sense...but curious if anyone has ideas, or has
> done something like this.
>
> Regards!
> -Joe
>
>

------=_Part_16320_27760569.1130084711215--

From java-user-return-17008-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 23 16:39:54 2005
Return-Path: <java-user-return-17008-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93856 invoked from network); 23 Oct 2005 16:39:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Oct 2005 16:39:53 -0000
Received: (qmail 87168 invoked by uid 500); 23 Oct 2005 16:39:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87143 invoked by uid 500); 23 Oct 2005 16:39:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87132 invoked by uid 99); 23 Oct 2005 16:39:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 23 Oct 2005 09:39:49 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.84.243] (HELO web36313.mail.mud.yahoo.com) (209.191.84.243)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 23 Oct 2005 09:39:47 -0700
Received: (qmail 69443 invoked by uid 60001); 23 Oct 2005 16:39:27 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=A3Umve1uAlH7rv2vnqYZqltRL6E+q+ZjiFFH5oMWB9XGJ4D6z6Q4W/AyoZs5jTlsmb144fWIRFTGHX456Jtask72W9bggAeUojA9nPRGMiItTGKI5hH38gaUQbxGwtztLlE5YcSb6koDkEzlkLAcuu78hSvsRQkiWqxPPDSmtWE=  ;
Message-ID: <20051023163927.69441.qmail@web36313.mail.mud.yahoo.com>
Received: from [63.203.72.39] by web36313.mail.mud.yahoo.com via HTTP; Sun, 23 Oct 2005 09:39:27 PDT
Date: Sun, 23 Oct 2005 09:39:27 -0700 (PDT)
From: Sam Lee <victor_emailbox@yahoo.com>
Subject: Re: Can I Do Reverse Search?
To: java-user@lucene.apache.org
In-Reply-To: <D408B5BF-4376-4E86-9250-2C9C54891315@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

ok, I am implementing a google adsense/adwords-like
system.  For examples, the website has keywords "nike
red shoe", so it can match text ad with keywords "nike
shoe -blue".  Of course, I can always use the text ad
keywords to match the website's keywords.  But it will
take too much resource to have all ads to rematch the
new websites whenever new websites joins the ad
network.  So I need a way for the new websites to
"reverse match" the text ads.  

So if new website has "nike red shoes" as keywords,
then it should match all text ads with "nike shoes
-blue".  The only difference is that it is doing it in
reverse.

many thanks.


--- Erik Hatcher <erik@ehatchersolutions.com> wrote:

> Sam - I'm not quite sure I follow you, but let's see
> if this fits...  
> you want to have a document and see if a query
> matches it?  Please  
> elaborate more on what you're after.  Maybe what
> you're looking for  
> is the contrib/memory and the MemoryIndex within
> that Subversion area.
> 
>      Erik
> 
> 
> On 22 Oct 2005, at 18:54, Sam Lee wrote:
> 
> > Hi,
> >   Normally, lucene or Nutch can match query "nike
> shoe
> > -blue" with "red nike shoe".
> >
> > But what about matching "red nike shoe" with query
> > "nike shoe -blue"?  It is the other way around.
> Can I
> > do it with a combinations of API?
> >
> > Many thanks.
> >
> > __________________________________________________
> > Do You Yahoo!?
> > Tired of spam?  Yahoo! Mail has the best spam
> protection around
> > http://mail.yahoo.com
> >
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail:
> java-user-help@lucene.apache.org
> >
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 



	
		
__________________________________ 
Yahoo! Mail - PC Magazine Editors' Choice 2005 
http://mail.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17009-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 23 16:45:21 2005
Return-Path: <java-user-return-17009-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94921 invoked from network); 23 Oct 2005 16:45:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Oct 2005 16:45:20 -0000
Received: (qmail 89387 invoked by uid 500); 23 Oct 2005 16:45:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89362 invoked by uid 500); 23 Oct 2005 16:45:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89349 invoked by uid 99); 23 Oct 2005 16:45:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 23 Oct 2005 09:45:16 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [212.122.60.63] (HELO mslinux.media-style.com) (212.122.60.63)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 23 Oct 2005 09:45:14 -0700
Received: from localhost (localhost [127.0.0.1])
	by mslinux.media-style.com (Postfix) with ESMTP id 92AC61440CB
	for <java-user@lucene.apache.org>; Sun, 23 Oct 2005 18:47:49 +0200 (CEST)
Received: from mslinux.media-style.com ([127.0.0.1])
	by localhost (mslinux.media-style.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 25088-01 for <java-user@lucene.apache.org>;
	Sun, 23 Oct 2005 18:47:48 +0200 (CEST)
Received: from [192.168.8.2] (dslb-084-059-212-129.pools.arcor-ip.net [84.59.212.129])
	by mslinux.media-style.com (Postfix) with ESMTP id 0904B1440CA
	for <java-user@lucene.apache.org>; Sun, 23 Oct 2005 18:47:46 +0200 (CEST)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <20051023163927.69441.qmail@web36313.mail.mud.yahoo.com>
References: <20051023163927.69441.qmail@web36313.mail.mud.yahoo.com>
Content-Type: multipart/alternative; boundary=Apple-Mail-2--692654167
Message-Id: <CF6BBFCC-E89A-44D0-85F6-72D836CD3067@media-style.com>
From: Stefan Groschupf <sg@media-style.com>
Subject: Re: Can I Do Reverse Search?
Date: Sun, 23 Oct 2005 18:44:44 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Virus-Scanned: by amavisd-new-20030616-p10 (Debian) at media-style.com
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--Apple-Mail-2--692654167
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset=US-ASCII;
	delsp=yes;
	format=flowed

Index the keywords of your ads with lucene.
Extract all words from your page (ajax), remove stop words, build a  
query from the page words by connect the words with OR and you will  
find the best matching ad.
You may need to limit the words per page or set the maximum clauses  
to a much higher number.
HTH
Stefan

Am 23.10.2005 um 18:39 schrieb Sam Lee:

> ok, I am implementing a google adsense/adwords-like
> system.  For examples, the website has keywords "nike
> red shoe", so it can match text ad with keywords "nike
> shoe -blue".  Of course, I can always use the text ad
> keywords to match the website's keywords.  But it will
> take too much resource to have all ads to rematch the
> new websites whenever new websites joins the ad
> network.  So I need a way for the new websites to
> "reverse match" the text ads.
>
> So if new website has "nike red shoes" as keywords,
> then it should match all text ads with "nike shoes
> -blue".  The only difference is that it is doing it in
> reverse.
>
> many thanks.
>
>
> --- Erik Hatcher <erik@ehatchersolutions.com> wrote:
>
>
>> Sam - I'm not quite sure I follow you, but let's see
>> if this fits...
>> you want to have a document and see if a query
>> matches it?  Please
>> elaborate more on what you're after.  Maybe what
>> you're looking for
>> is the contrib/memory and the MemoryIndex within
>> that Subversion area.
>>
>>      Erik
>>
>>
>> On 22 Oct 2005, at 18:54, Sam Lee wrote:
>>
>>
>>> Hi,
>>>   Normally, lucene or Nutch can match query "nike
>>>
>> shoe
>>
>>> -blue" with "red nike shoe".
>>>
>>> But what about matching "red nike shoe" with query
>>> "nike shoe -blue"?  It is the other way around.
>>>
>> Can I
>>
>>> do it with a combinations of API?
>>>
>>> Many thanks.
>>>
>>> __________________________________________________
>>> Do You Yahoo!?
>>> Tired of spam?  Yahoo! Mail has the best spam
>>>
>> protection around
>>
>>> http://mail.yahoo.com
>>>
>>>
>>>
>>
>>
> ---------------------------------------------------------------------
>
>>> To unsubscribe, e-mail:
>>>
>> java-user-unsubscribe@lucene.apache.org
>>
>>> For additional commands, e-mail:
>>>
>> java-user-help@lucene.apache.org
>>
>>>
>>>
>>
>>
>>
>>
> ---------------------------------------------------------------------
>
>> To unsubscribe, e-mail:
>> java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail:
>> java-user-help@lucene.apache.org
>>
>>
>>
>
>
>
>
>
> __________________________________
> Yahoo! Mail - PC Magazine Editors' Choice 2005
> http://mail.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>

---------------------------------------------------------------
company:        http://www.media-style.com
forum:        http://www.text-mining.org
blog:            http://www.find23.net



--Apple-Mail-2--692654167--

From java-user-return-17010-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 23 17:14:45 2005
Return-Path: <java-user-return-17010-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2155 invoked from network); 23 Oct 2005 17:14:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Oct 2005 17:14:45 -0000
Received: (qmail 4895 invoked by uid 500); 23 Oct 2005 17:14:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4867 invoked by uid 500); 23 Oct 2005 17:14:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4856 invoked by uid 99); 23 Oct 2005 17:14:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 23 Oct 2005 10:14:37 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 23 Oct 2005 10:14:36 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 8433E5B832; Sun, 23 Oct 2005 10:14:13 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 82E917F467
	for <java-user@lucene.apache.org>; Sun, 23 Oct 2005 10:14:13 -0700 (PDT)
Date: Sun, 23 Oct 2005 10:14:13 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Classifier4J and Lucene
In-Reply-To: <8C7A5F7C7AB6B8D-D90-103C0@mblk-d36.sysops.aol.com>
Message-ID: <Pine.LNX.4.58.0510231001290.6251@hal.rescomp.berkeley.edu>
References: <8C7A5F7C7AB6B8D-D90-103C0@mblk-d36.sysops.aol.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Not sure if this makses sense...but curious if anyone has ideas, or has
: done something like this.

I have a few ideas, none of which are mutuallly exclusive...

1) look at the Explain output for the various queries you are generating
to help you understand why your boosts aren't having as much of an affect
as you want.

2) subclass DefaultSimilarity and override the lengthNorm method with a
new one, which *heavilly* penilizes really long field values.  this method
gets the name of the field when asked to perform a calculation, so you can
use this special behavior just on fields that users have the ability to
keyword SPAM if you want.

3) subclass DefaultSimilarity and override the tf(float) method ... this
alllows you to specify how much of an impact the frequency any Term has on
the overall score.  Usually, high frequency itmes are given a high score
... but if you are dealing with records which are typically very small,
you may want to penalize docs with a high frequency.  at the very least,
you might want to flatten the curve.  if you really want to flatten it so
that spamming does no good at all, you can use something like this...

        public float tf(float freq) {
            if (freq > 0.0f) return 1.0f;
            else return 0.0f;
        }

...but that may be overkill, expperimentation should help you find a
happpy medium.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17011-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 23 18:51:23 2005
Return-Path: <java-user-return-17011-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28106 invoked from network); 23 Oct 2005 18:51:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Oct 2005 18:51:23 -0000
Received: (qmail 71639 invoked by uid 500); 23 Oct 2005 18:51:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71609 invoked by uid 500); 23 Oct 2005 18:51:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71598 invoked by uid 99); 23 Oct 2005 18:51:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 23 Oct 2005 11:51:18 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.84.239] (HELO web36309.mail.mud.yahoo.com) (209.191.84.239)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 23 Oct 2005 11:51:16 -0700
Received: (qmail 17061 invoked by uid 60001); 23 Oct 2005 18:50:56 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=1FdNgKvci1EIsCcyuytL93rxVUQT6EGG1qhOm6wd8QP68aENBk7S5AW9GyqRVgIufrkUr5vhnGIIYYlb5VzaxZCVxr1BXvw+0rpq3SAYtuYis7Re1DOqrTNBplu2o/XGSjSkRkKwW2A8LJfa13loexbMBfh2QcRWU4fryIihpc4=  ;
Message-ID: <20051023185056.17059.qmail@web36309.mail.mud.yahoo.com>
Received: from [63.203.72.39] by web36309.mail.mud.yahoo.com via HTTP; Sun, 23 Oct 2005 11:50:56 PDT
Date: Sun, 23 Oct 2005 11:50:56 -0700 (PDT)
From: Sam Lee <victor_emailbox@yahoo.com>
Subject: Re: Can I Do Reverse Search?
To: java-user@lucene.apache.org
In-Reply-To: <CF6BBFCC-E89A-44D0-85F6-72D836CD3067@media-style.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Yes, I thought of that.  But since the ads have
negative keywords, it's very possible for the webpage
to match the ads but not the other way around because
of the negative keywords.  So the system cannot be
sure that the ads match the webpage until it uses ads'
keyword and negative keywords to rematch the webpage. 
This is a lot of resource for having each ad to match
the webpage again..

webpage www.mysite.com --match--> ad1.....ad101

Then I match each ad with the webpage.
But due to negative keywords:
ad1....ad100 --NOT match--> www.mysite.com
ad101 --match--> www.mysite.com

# of queries = 102

If there is a way to match content with boolean
keywords, then # of query is 1 only.  Huge difference!

Any idea how to accomplish this?  

--- Stefan Groschupf <sg@media-style.com> wrote:

> Index the keywords of your ads with lucene.
> Extract all words from your page (ajax), remove stop
> words, build a  
> query from the page words by connect the words with
> OR and you will  
> find the best matching ad.
> You may need to limit the words per page or set the
> maximum clauses  
> to a much higher number.
> HTH
> Stefan
> 
> Am 23.10.2005 um 18:39 schrieb Sam Lee:
> 
> > ok, I am implementing a google
> adsense/adwords-like
> > system.  For examples, the website has keywords
> "nike
> > red shoe", so it can match text ad with keywords
> "nike
> > shoe -blue".  Of course, I can always use the text
> ad
> > keywords to match the website's keywords.  But it
> will
> > take too much resource to have all ads to rematch
> the
> > new websites whenever new websites joins the ad
> > network.  So I need a way for the new websites to
> > "reverse match" the text ads.
> >
> > So if new website has "nike red shoes" as
> keywords,
> > then it should match all text ads with "nike shoes
> > -blue".  The only difference is that it is doing
> it in
> > reverse.
> >
> > many thanks.
> >
> >
> > --- Erik Hatcher <erik@ehatchersolutions.com>
> wrote:
> >
> >
> >> Sam - I'm not quite sure I follow you, but let's
> see
> >> if this fits...
> >> you want to have a document and see if a query
> >> matches it?  Please
> >> elaborate more on what you're after.  Maybe what
> >> you're looking for
> >> is the contrib/memory and the MemoryIndex within
> >> that Subversion area.
> >>
> >>      Erik
> >>
> >>
> >> On 22 Oct 2005, at 18:54, Sam Lee wrote:
> >>
> >>
> >>> Hi,
> >>>   Normally, lucene or Nutch can match query
> "nike
> >>>
> >> shoe
> >>
> >>> -blue" with "red nike shoe".
> >>>
> >>> But what about matching "red nike shoe" with
> query
> >>> "nike shoe -blue"?  It is the other way around.
> >>>
> >> Can I
> >>
> >>> do it with a combinations of API?
> >>>
> >>> Many thanks.
> >>>
> >>>
> __________________________________________________
> >>> Do You Yahoo!?
> >>> Tired of spam?  Yahoo! Mail has the best spam
> >>>
> >> protection around
> >>
> >>> http://mail.yahoo.com
> >>>
> >>>
> >>>
> >>
> >>
> >
>
---------------------------------------------------------------------
> >
> >>> To unsubscribe, e-mail:
> >>>
> >> java-user-unsubscribe@lucene.apache.org
> >>
> >>> For additional commands, e-mail:
> >>>
> >> java-user-help@lucene.apache.org
> >>
> >>>
> >>>
> >>
> >>
> >>
> >>
> >
>
---------------------------------------------------------------------
> >
> >> To unsubscribe, e-mail:
> >> java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail:
> >> java-user-help@lucene.apache.org
> >>
> >>
> >>
> >
> >
> >
> >
> >
> > __________________________________
> > Yahoo! Mail - PC Magazine Editors' Choice 2005
> > http://mail.yahoo.com
> >
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail:
> java-user-help@lucene.apache.org
> >
> >
> >
> 
>
---------------------------------------------------------------
> company:        http://www.media-style.com
> forum:        http://www.text-mining.org
> blog:            http://www.find23.net
> 
> 
> 



	
		
__________________________________ 
Yahoo! Mail - PC Magazine Editors' Choice 2005 
http://mail.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17012-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 23 22:37:40 2005
Return-Path: <java-user-return-17012-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4753 invoked from network); 23 Oct 2005 22:37:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Oct 2005 22:37:40 -0000
Received: (qmail 79199 invoked by uid 500); 23 Oct 2005 22:37:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78655 invoked by uid 500); 23 Oct 2005 22:37:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78635 invoked by uid 99); 23 Oct 2005 22:37:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 23 Oct 2005 15:37:32 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [212.122.60.63] (HELO mslinux.media-style.com) (212.122.60.63)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 23 Oct 2005 15:37:30 -0700
Received: from localhost (localhost [127.0.0.1])
	by mslinux.media-style.com (Postfix) with ESMTP id 7606B1440D6
	for <java-user@lucene.apache.org>; Mon, 24 Oct 2005 00:40:04 +0200 (CEST)
Received: from mslinux.media-style.com ([127.0.0.1])
	by localhost (mslinux.media-style.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 26032-05 for <java-user@lucene.apache.org>;
	Mon, 24 Oct 2005 00:40:03 +0200 (CEST)
Received: from [192.168.8.2] (dslb-084-059-228-051.pools.arcor-ip.net [84.59.228.51])
	by mslinux.media-style.com (Postfix) with ESMTP id C27D61440CD
	for <java-user@lucene.apache.org>; Mon, 24 Oct 2005 00:40:00 +0200 (CEST)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <20051023185056.17059.qmail@web36309.mail.mud.yahoo.com>
References: <20051023185056.17059.qmail@web36309.mail.mud.yahoo.com>
Content-Type: multipart/alternative; boundary=Apple-Mail-4--671517159
Message-Id: <DBA083C8-8231-4439-96EA-5DA3A0072CC8@media-style.com>
From: Stefan Groschupf <sg@media-style.com>
Subject: Re: Can I Do Reverse Search?
Date: Mon, 24 Oct 2005 00:37:01 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Virus-Scanned: by amavisd-new-20030616-p10 (Debian) at media-style.com
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--Apple-Mail-4--671517159
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset=US-ASCII;
	format=flowed

two document fields one named positive one called negative
you query have to look somehow like this:
positive: (keyword1 keywordN) AND NOT negative:(keyword1 keywordN)

Am 23.10.2005 um 20:50 schrieb Sam Lee:

> Yes, I thought of that.  But since the ads have
> negative keywords, it's very possible for the webpage
> to match the ads but not the other way around because
> of the negative keywords.  So the system cannot be
> sure that the ads match the webpage until it uses ads'
> keyword and negative keywords to rematch the webpage.
> This is a lot of resource for having each ad to match
> the webpage again..
>
> webpage www.mysite.com --match--> ad1.....ad101
>
> Then I match each ad with the webpage.
> But due to negative keywords:
> ad1....ad100 --NOT match--> www.mysite.com
> ad101 --match--> www.mysite.com
>
> # of queries = 102
>
> If there is a way to match content with boolean
> keywords, then # of query is 1 only.  Huge difference!
>
> Any idea how to accomplish this?
>
> --- Stefan Groschupf <sg@media-style.com> wrote:
>
>
>> Index the keywords of your ads with lucene.
>> Extract all words from your page (ajax), remove stop
>> words, build a
>> query from the page words by connect the words with
>> OR and you will
>> find the best matching ad.
>> You may need to limit the words per page or set the
>> maximum clauses
>> to a much higher number.
>> HTH
>> Stefan
>>
>> Am 23.10.2005 um 18:39 schrieb Sam Lee:
>>
>>
>>> ok, I am implementing a google
>>>
>> adsense/adwords-like
>>
>>> system.  For examples, the website has keywords
>>>
>> "nike
>>
>>> red shoe", so it can match text ad with keywords
>>>
>> "nike
>>
>>> shoe -blue".  Of course, I can always use the text
>>>
>> ad
>>
>>> keywords to match the website's keywords.  But it
>>>
>> will
>>
>>> take too much resource to have all ads to rematch
>>>
>> the
>>
>>> new websites whenever new websites joins the ad
>>> network.  So I need a way for the new websites to
>>> "reverse match" the text ads.
>>>
>>> So if new website has "nike red shoes" as
>>>
>> keywords,
>>
>>> then it should match all text ads with "nike shoes
>>> -blue".  The only difference is that it is doing
>>>
>> it in
>>
>>> reverse.
>>>
>>> many thanks.
>>>
>>>
>>> --- Erik Hatcher <erik@ehatchersolutions.com>
>>>
>> wrote:
>>
>>>
>>>
>>>
>>>> Sam - I'm not quite sure I follow you, but let's
>>>>
>> see
>>
>>>> if this fits...
>>>> you want to have a document and see if a query
>>>> matches it?  Please
>>>> elaborate more on what you're after.  Maybe what
>>>> you're looking for
>>>> is the contrib/memory and the MemoryIndex within
>>>> that Subversion area.
>>>>
>>>>      Erik
>>>>
>>>>
>>>> On 22 Oct 2005, at 18:54, Sam Lee wrote:
>>>>
>>>>
>>>>
>>>>> Hi,
>>>>>   Normally, lucene or Nutch can match query
>>>>>
>> "nike
>>
>>>>>
>>>>>
>>>> shoe
>>>>
>>>>
>>>>> -blue" with "red nike shoe".
>>>>>
>>>>> But what about matching "red nike shoe" with
>>>>>
>> query
>>
>>>>> "nike shoe -blue"?  It is the other way around.
>>>>>
>>>>>
>>>> Can I
>>>>
>>>>
>>>>> do it with a combinations of API?
>>>>>
>>>>> Many thanks.
>>>>>
>>>>>
>>>>>
>> __________________________________________________
>>
>>>>> Do You Yahoo!?
>>>>> Tired of spam?  Yahoo! Mail has the best spam
>>>>>
>>>>>
>>>> protection around
>>>>
>>>>
>>>>> http://mail.yahoo.com
>>>>>
>>>>>
>>>>>
>>>>>
>>>>
>>>>
>>>>
>>>
>>>
>>
>>
> ---------------------------------------------------------------------
>
>>>
>>>
>>>>> To unsubscribe, e-mail:
>>>>>
>>>>>
>>>> java-user-unsubscribe@lucene.apache.org
>>>>
>>>>
>>>>> For additional commands, e-mail:
>>>>>
>>>>>
>>>> java-user-help@lucene.apache.org
>>>>
>>>>
>>>>>
>>>>>
>>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>
>>>
>>
>>
> ---------------------------------------------------------------------
>
>>>
>>>
>>>> To unsubscribe, e-mail:
>>>> java-user-unsubscribe@lucene.apache.org
>>>> For additional commands, e-mail:
>>>> java-user-help@lucene.apache.org
>>>>
>>>>
>>>>
>>>>
>>>
>>>
>>>
>>>
>>>
>>> __________________________________
>>> Yahoo! Mail - PC Magazine Editors' Choice 2005
>>> http://mail.yahoo.com
>>>
>>>
>>>
>>
>>
> ---------------------------------------------------------------------
>
>>> To unsubscribe, e-mail:
>>>
>> java-user-unsubscribe@lucene.apache.org
>>
>>> For additional commands, e-mail:
>>>
>> java-user-help@lucene.apache.org
>>
>>>
>>>
>>>
>>>
>>
>>
>>
> ---------------------------------------------------------------
>
>> company:        http://www.media-style.com
>> forum:        http://www.text-mining.org
>> blog:            http://www.find23.net
>>
>>
>>
>>
>
>
>
>
>
> __________________________________
> Yahoo! Mail - PC Magazine Editors' Choice 2005
> http://mail.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>

---------------------------------------------------------------
company:        http://www.media-style.com
forum:        http://www.text-mining.org
blog:            http://www.find23.net



--Apple-Mail-4--671517159--

From java-user-return-17013-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 23 23:15:25 2005
Return-Path: <java-user-return-17013-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13794 invoked from network); 23 Oct 2005 23:15:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Oct 2005 23:15:25 -0000
Received: (qmail 2304 invoked by uid 500); 23 Oct 2005 23:15:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2274 invoked by uid 500); 23 Oct 2005 23:15:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2263 invoked by uid 99); 23 Oct 2005 23:15:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 23 Oct 2005 16:15:20 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.84.240] (HELO web36310.mail.mud.yahoo.com) (209.191.84.240)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 23 Oct 2005 16:15:18 -0700
Received: (qmail 93571 invoked by uid 60001); 23 Oct 2005 23:14:58 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=I4fbOlFjFel5xcUR1ozesKL6vOWe5gWmBa6MkqTE9q6iTGgmK4vN0KVBX9orjUhyWm0AouBpYUNzmPxPlTc+zsXmEKvdk/rKA7T62pfmkqQXP78m9UvLC4pmpIlqi82JePUtlqAYu8A5aiZAfy8VBnZm+zwSDVCJb+cWG05kYBU=  ;
Message-ID: <20051023231458.93569.qmail@web36310.mail.mud.yahoo.com>
Received: from [63.203.72.39] by web36310.mail.mud.yahoo.com via HTTP; Sun, 23 Oct 2005 16:14:58 PDT
Date: Sun, 23 Oct 2005 16:14:58 -0700 (PDT)
From: Sam Lee <victor_emailbox@yahoo.com>
Subject: Re: Can I Do Reverse Search?
To: java-user@lucene.apache.org
In-Reply-To: <DBA083C8-8231-4439-96EA-5DA3A0072CC8@media-style.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

yes, but I will have to do it for each ad as I stated
previously.

webpage www.mysite.com --match--> ad1.....ad101
> >
> > Then I match each ad with the webpage.
> > But due to negative keywords:
> > ad1....ad100 --NOT match--> www.mysite.com
> > ad101 --match--> www.mysite.com
> >
> > # of queries = 102
> >
> > If there is a way to match content with boolean
> > keywords, then # of query is 1 only.  Huge
> difference!
> >



--- Stefan Groschupf <sg@media-style.com> wrote:

> two document fields one named positive one called
> negative
> you query have to look somehow like this:
> positive: (keyword1 keywordN) AND NOT
> negative:(keyword1 keywordN)
> 
> Am 23.10.2005 um 20:50 schrieb Sam Lee:
> 
> > Yes, I thought of that.  But since the ads have
> > negative keywords, it's very possible for the
> webpage
> > to match the ads but not the other way around
> because
> > of the negative keywords.  So the system cannot be
> > sure that the ads match the webpage until it uses
> ads'
> > keyword and negative keywords to rematch the
> webpage.
> > This is a lot of resource for having each ad to
> match
> > the webpage again..
> >
> > webpage www.mysite.com --match--> ad1.....ad101
> >
> > Then I match each ad with the webpage.
> > But due to negative keywords:
> > ad1....ad100 --NOT match--> www.mysite.com
> > ad101 --match--> www.mysite.com
> >
> > # of queries = 102
> >
> > If there is a way to match content with boolean
> > keywords, then # of query is 1 only.  Huge
> difference!
> >
> > Any idea how to accomplish this?
> >
> > --- Stefan Groschupf <sg@media-style.com> wrote:
> >
> >
> >> Index the keywords of your ads with lucene.
> >> Extract all words from your page (ajax), remove
> stop
> >> words, build a
> >> query from the page words by connect the words
> with
> >> OR and you will
> >> find the best matching ad.
> >> You may need to limit the words per page or set
> the
> >> maximum clauses
> >> to a much higher number.
> >> HTH
> >> Stefan
> >>
> >> Am 23.10.2005 um 18:39 schrieb Sam Lee:
> >>
> >>
> >>> ok, I am implementing a google
> >>>
> >> adsense/adwords-like
> >>
> >>> system.  For examples, the website has keywords
> >>>
> >> "nike
> >>
> >>> red shoe", so it can match text ad with keywords
> >>>
> >> "nike
> >>
> >>> shoe -blue".  Of course, I can always use the
> text
> >>>
> >> ad
> >>
> >>> keywords to match the website's keywords.  But
> it
> >>>
> >> will
> >>
> >>> take too much resource to have all ads to
> rematch
> >>>
> >> the
> >>
> >>> new websites whenever new websites joins the ad
> >>> network.  So I need a way for the new websites
> to
> >>> "reverse match" the text ads.
> >>>
> >>> So if new website has "nike red shoes" as
> >>>
> >> keywords,
> >>
> >>> then it should match all text ads with "nike
> shoes
> >>> -blue".  The only difference is that it is doing
> >>>
> >> it in
> >>
> >>> reverse.
> >>>
> >>> many thanks.
> >>>
> >>>
> >>> --- Erik Hatcher <erik@ehatchersolutions.com>
> >>>
> >> wrote:
> >>
> >>>
> >>>
> >>>
> >>>> Sam - I'm not quite sure I follow you, but
> let's
> >>>>
> >> see
> >>
> >>>> if this fits...
> >>>> you want to have a document and see if a query
> >>>> matches it?  Please
> >>>> elaborate more on what you're after.  Maybe
> what
> >>>> you're looking for
> >>>> is the contrib/memory and the MemoryIndex
> within
> >>>> that Subversion area.
> >>>>
> >>>>      Erik
> >>>>
> >>>>
> >>>> On 22 Oct 2005, at 18:54, Sam Lee wrote:
> >>>>
> >>>>
> >>>>
> >>>>> Hi,
> >>>>>   Normally, lucene or Nutch can match query
> >>>>>
> >> "nike
> >>
> >>>>>
> >>>>>
> >>>> shoe
> >>>>
> >>>>
> >>>>> -blue" with "red nike shoe".
> >>>>>
> >>>>> But what about matching "red nike shoe" with
> >>>>>
> >> query
> >>
> >>>>> "nike shoe -blue"?  It is the other way
> around.
> >>>>>
> >>>>>
> >>>> Can I
> >>>>
> >>>>
> >>>>> do it with a combinations of API?
> >>>>>
> >>>>> Many thanks.
> >>>>>
> >>>>>
> >>>>>
> >>
> __________________________________________________
> >>
> >>>>> Do You Yahoo!?
> >>>>> Tired of spam?  Yahoo! Mail has the best spam
> >>>>>
> >>>>>
> >>>> protection around
> >>>>
> >>>>
> >>>>> http://mail.yahoo.com
> >>>>>
> >>>>>
> >>>>>
> >>>>>
> >>>>
> >>>>
> >>>>
> >>>
> >>>
> >>
> >>
> >
>
---------------------------------------------------------------------
> >
> >>>
> >>>
> >>>>> To unsubscribe, e-mail:
> >>>>>
> >>>>>
> >>>> java-user-unsubscribe@lucene.apache.org
> >>>>
> >>>>
> >>>>> For additional commands, e-mail:
> >>>>>
> >>>>>
> >>>> java-user-help@lucene.apache.org
> >>>>
> 
=== message truncated ===



		
__________________________________ 
Start your day with Yahoo! - Make it your home page! 
http://www.yahoo.com/r/hs

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17014-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 23 23:45:49 2005
Return-Path: <java-user-return-17014-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23344 invoked from network); 23 Oct 2005 23:45:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Oct 2005 23:45:49 -0000
Received: (qmail 21897 invoked by uid 500); 23 Oct 2005 23:45:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21876 invoked by uid 500); 23 Oct 2005 23:45:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21865 invoked by uid 99); 23 Oct 2005 23:45:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 23 Oct 2005 16:45:43 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,MSGID_FROM_MTA_HEADER,NO_REAL_NAME,SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Msftblows@aol.com designates 205.188.139.136 as permitted sender)
Received: from [205.188.139.136] (HELO imo-d20.mx.aol.com) (205.188.139.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 23 Oct 2005 16:45:41 -0700
Received: from Msftblows@aol.com
	by imo-d20.mx.aol.com (mail_out_v38_r6.3.) id h.76.5eaad20b (16086)
	 for <java-user@lucene.apache.org>; Sun, 23 Oct 2005 19:45:15 -0400 (EDT)
Received: from  mblk-d39 (mblk-d39.mblk.aol.com [205.188.212.223]) by air-id10.mx.aol.com (v107.13) with ESMTP id MAILINID103-3ed6435c208a208; Sun, 23 Oct 2005 19:45:14 -0400
Date: Sun, 23 Oct 2005 19:45:14 -0400
Message-Id: <8C7A642F3570591-998-12FF6@mblk-d39.sysops.aol.com>
From: msftblows@aol.com
References: <8C7A5F7C7AB6B8D-D90-103C0@mblk-d36.sysops.aol.com> <Pine.LNX.4.58.0510231001290.6251@hal.rescomp.berkeley.edu>
Received: from 68.175.91.77 by mblk-d39.sysops.aol.com (205.188.212.223) with HTTP (WebMailUI); Sun, 23 Oct 2005 19:45:14 -0400
X-MB-Message-Source: WebUI
X-MB-Message-Type: User
In-Reply-To: <Pine.LNX.4.58.0510231001290.6251@hal.rescomp.berkeley.edu>
X-Mailer: AOL WebMail 1.1.0.14204
Subject: Re: Classifier4J and Lucene
Content-Type: multipart/alternative;
 boundary="--------MailBlocks_8C7A642F335A4B3_998_12710_mblk-d39.sysops.aol.com"
MIME-Version: 1.0
To: java-user@lucene.apache.org
X-AOL-IP: 205.188.212.223
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Flag: NO
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

----------MailBlocks_8C7A642F335A4B3_998_12710_mblk-d39.sysops.aol.com
Content-Type: text/plain; charset="us-ascii"

interesting information you have here...I will look into this and let you know what I come up with.
 
Thanks! 
 
-----Original Message-----
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Sent: Sun, 23 Oct 2005 10:14:13 -0700 (PDT)
Subject: Re: Classifier4J and Lucene



: Not sure if this makses sense...but curious if anyone has ideas, or has
: done something like this.

I have a few ideas, none of which are mutuallly exclusive...

1) look at the Explain output for the various queries you are generating
to help you understand why your boosts aren't having as much of an affect
as you want.

2) subclass DefaultSimilarity and override the lengthNorm method with a
new one, which *heavilly* penilizes really long field values.  this method
gets the name of the field when asked to perform a calculation, so you can
use this special behavior just on fields that users have the ability to
keyword SPAM if you want.

3) subclass DefaultSimilarity and override the tf(float) method ... this
alllows you to specify how much of an impact the frequency any Term has on
the overall score.  Usually, high frequency itmes are given a high score
... but if you are dealing with records which are typically very small,
you may want to penalize docs with a high frequency.  at the very least,
you might want to flatten the curve.  if you really want to flatten it so
that spamming does no good at all, you can use something like this...

        public float tf(float freq) {
            if (freq > 0.0f) return 1.0f;
            else return 0.0f;
        }

...but that may be overkill, expperimentation should help you find a
happpy medium.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

----------MailBlocks_8C7A642F335A4B3_998_12710_mblk-d39.sysops.aol.com--

From java-user-return-17015-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 24 00:35:15 2005
Return-Path: <java-user-return-17015-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37000 invoked from network); 24 Oct 2005 00:35:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Oct 2005 00:35:14 -0000
Received: (qmail 47221 invoked by uid 500); 24 Oct 2005 00:35:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47196 invoked by uid 500); 24 Oct 2005 00:35:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47185 invoked by uid 99); 24 Oct 2005 00:35:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 23 Oct 2005 17:35:09 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.84.244] (HELO web36314.mail.mud.yahoo.com) (209.191.84.244)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 23 Oct 2005 17:35:08 -0700
Received: (qmail 14439 invoked by uid 60001); 24 Oct 2005 00:34:48 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=0w+HM9ZxRturTqa4TTQ6AJ6i2WjCb8aCwljTNLUDVR1pm2dy1+OVdlLEcMmmFfHvLDnRjWRg820KlE5MuqiSYJVIT35s8jrH5zqzBcbL+v37wsdrQMgRK5f+q7kQYRNH09QiE2fV+8K4cITW6+KovC4yetmH64qwa2aMmbxHlZY=  ;
Message-ID: <20051024003448.14437.qmail@web36314.mail.mud.yahoo.com>
Received: from [63.203.72.39] by web36314.mail.mud.yahoo.com via HTTP; Sun, 23 Oct 2005 17:34:48 PDT
Date: Sun, 23 Oct 2005 17:34:48 -0700 (PDT)
From: Sam Lee <victor_emailbox@yahoo.com>
Subject: Re: Can I Do Reverse Search?
To: java-user@lucene.apache.org
In-Reply-To: <D408B5BF-4376-4E86-9250-2C9C54891315@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

How fast is MemoryIndex?  For examples, I have a
webpage indexed, and I have 100000 queries with
negative keywords to match against this webpage.  How
much faster is it comparing to using normal method to
match the same 100000 queries to this webpage?

--- Erik Hatcher <erik@ehatchersolutions.com> wrote:

> Sam - I'm not quite sure I follow you, but let's see
> if this fits...  
> you want to have a document and see if a query
> matches it?  Please  
> elaborate more on what you're after.  Maybe what
> you're looking for  
> is the contrib/memory and the MemoryIndex within
> that Subversion area.
> 
>      Erik
> 
> 
> On 22 Oct 2005, at 18:54, Sam Lee wrote:
> 
> > Hi,
> >   Normally, lucene or Nutch can match query "nike
> shoe
> > -blue" with "red nike shoe".
> >
> > But what about matching "red nike shoe" with query
> > "nike shoe -blue"?  It is the other way around.
> Can I
> > do it with a combinations of API?
> >
> > Many thanks.
> >
> > __________________________________________________
> > Do You Yahoo!?
> > Tired of spam?  Yahoo! Mail has the best spam
> protection around
> > http://mail.yahoo.com
> >
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail:
> java-user-help@lucene.apache.org
> >
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 



		
__________________________________ 
Yahoo! FareChase: Search multiple travel sites in one click.
http://farechase.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17016-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 24 05:59:30 2005
Return-Path: <java-user-return-17016-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49807 invoked from network); 24 Oct 2005 05:59:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Oct 2005 05:59:28 -0000
Received: (qmail 14354 invoked by uid 500); 24 Oct 2005 05:59:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13613 invoked by uid 500); 24 Oct 2005 05:59:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13596 invoked by uid 99); 24 Oct 2005 05:59:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 23 Oct 2005 22:59:17 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.84.237] (HELO web36307.mail.mud.yahoo.com) (209.191.84.237)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 23 Oct 2005 22:59:15 -0700
Received: (qmail 97619 invoked by uid 60001); 24 Oct 2005 05:58:55 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=MwCyRiegAoKTMAtRg7JXI7SjEokRkOjX6I+ZRkG4mEpYKd9R92+fsb1CzQW9WNvct78YGgSnStpgdvGsHFxorXqo7bJo2xW+UnIGjGErxTAm3dREf/rGqmDqK+Yx+abNxat60FwVBX90I6s6RrxAXQUhZ2ipJyob/IV31g4T/gU=  ;
Message-ID: <20051024055855.97617.qmail@web36307.mail.mud.yahoo.com>
Received: from [63.203.72.39] by web36307.mail.mud.yahoo.com via HTTP; Sun, 23 Oct 2005 22:58:55 PDT
Date: Sun, 23 Oct 2005 22:58:55 -0700 (PDT)
From: Sam Lee <victor_emailbox@yahoo.com>
Subject: How Fast is MemoryIndex?  How Much Resource Does It Use?
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
  Someone suggested that I should use MemoryIndex to
match content to a large # of queries. e.g. "nike red
shoes" --match--> "nike shoes -blue"  and --match-->
"nike shoes -black"...  What if I have 100000 of these
queries for each content?  and there maybe 1000000 of
these contents.

But how fast is MemoryIndex?  Is it cpu and memory
intensive?  I read somewhere and it said that it is
about  three order faster than normal operation.  If
so, why not use it for the normal operation as well?  

Many thanks.




		
__________________________________ 
Start your day with Yahoo! - Make it your home page! 
http://www.yahoo.com/r/hs

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17017-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 24 08:43:22 2005
Return-Path: <java-user-return-17017-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14496 invoked from network); 24 Oct 2005 08:43:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Oct 2005 08:43:22 -0000
Received: (qmail 51633 invoked by uid 500); 24 Oct 2005 08:43:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51607 invoked by uid 500); 24 Oct 2005 08:43:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51596 invoked by uid 99); 24 Oct 2005 08:43:14 -0000
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_POST,DNS_FROM_RFC_WHOIS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [204.127.198.39] (HELO rwcrmhc12.comcast.net) (204.127.198.39)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 01:43:14 -0700
Received: from jma (c-67-165-8-214.hsd1.ct.comcast.net[67.165.8.214])
          by comcast.net (rwcrmhc13) with SMTP
          id <2005102408425101500r2r7he>; Mon, 24 Oct 2005 08:42:51 +0000
From: "JMA" <mrjama@comcast.net>
To: <java-user@lucene.apache.org>
Subject: Frustrated with tokenized listing terms
Date: Mon, 24 Oct 2005 04:46:01 -0400
Message-ID: <002a01c5d877$5d306e10$0201a8c0@jma>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <e994873a0510131130x536a2f13y291f9171eac0642e@mail.gmail.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Greetings...
Quick question, perhaps I am missing something.

I have a bunch of documents where one of the indexed fields is "author". For
example:

book1, by "John Smith"
book2, by "Steve Smith"
book3, by "John Smith"

I would like to find all distinct authors in my index.  I want to support
searches for author:smith, so I tokenize the author field during index.
However, getTerms() then returns:

John (x2)
Smith (x3)
Steve (x1)

I would like to see:
John Smith (x2)
Steve Smith (x1)

I've solved this by indexing the field twice, once as author:(searchable/not
stored/tokenized)
and once as author_phrased:(not searchable/stored/not tokenized).

Then I query using the 'author' field while listing terms using the
'author_phrased' field.

This works, but is it the proper way to do it?

Thanks in advance,

JMA



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17018-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 24 09:26:00 2005
Return-Path: <java-user-return-17018-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32048 invoked from network); 24 Oct 2005 09:25:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Oct 2005 09:25:59 -0000
Received: (qmail 74924 invoked by uid 500); 24 Oct 2005 09:25:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74794 invoked by uid 500); 24 Oct 2005 09:25:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 49316 invoked by uid 99); 24 Oct 2005 08:38:36 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Date: Mon, 24 Oct 2005 10:37:09 +0200 (CEST)
From: Olena Medelyan <medelyan@coling.uni-freiburg.de>
To: <nutch-user@lucene.apache.org>
cc: <java-user@lucene.apache.org>
Subject: Re: How Fast is MemoryIndex?  How Much Resource Does It Use?
In-Reply-To: <20051024055855.97617.qmail@web36307.mail.mud.yahoo.com>
Message-ID: <Pine.GSO.4.33.0510241001080.27429-100000@supreme.coling.uni-freiburg.de>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Sam,

to do such matching you first of all need something that keeps semantic
information about words: e.g. a thesaurus, where "red", "blue" and "black"
are all grouped under the same term "colour". Otherwise, how will
your system know that "nike red shoes" should match to "nike shoes -black" and not to
"nike shoes -"anything else"?
You would also need rules that define that only certain terms are to
be replaced with alternatives. Otherwise, your query can be mapped to X
alternatives like:
"-adidas red shoes", "nike red -pants" ...

Cheers,
Olena

On Sun, 23 Oct 2005, Sam Lee wrote:

> Hi,
>   Someone suggested that I should use MemoryIndex to
> match content to a large # of queries. e.g. "nike red
> shoes" --match--> "nike shoes -blue"  and --match-->
> "nike shoes -black"...  What if I have 100000 of these
> queries for each content?  and there maybe 1000000 of
> these contents.
>
> But how fast is MemoryIndex?  Is it cpu and memory
> intensive?  I read somewhere and it said that it is
> about  three order faster than normal operation.  If
> so, why not use it for the normal operation as well?
>
> Many thanks.
>
>
>
>
>
> __________________________________
> Start your day with Yahoo! - Make it your home page!
> http://www.yahoo.com/r/hs
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17019-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 24 11:07:22 2005
Return-Path: <java-user-return-17019-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81319 invoked from network); 24 Oct 2005 11:07:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Oct 2005 11:07:22 -0000
Received: (qmail 72318 invoked by uid 500); 24 Oct 2005 11:07:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72279 invoked by uid 500); 24 Oct 2005 11:07:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72268 invoked by uid 99); 24 Oct 2005 11:07:13 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,MSGID_FROM_MTA_HEADER,NO_REAL_NAME,SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of Msftblows@aol.com designates 205.188.139.136 as permitted sender)
Received: from [205.188.139.136] (HELO imo-d20.mx.aol.com) (205.188.139.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 04:07:13 -0700
Received: from Msftblows@aol.com
	by imo-d20.mx.aol.com (mail_out_v38_r6.3.) id h.211.c3da04c (15702)
	 for <java-user@lucene.apache.org>; Mon, 24 Oct 2005 07:06:49 -0400 (EDT)
Received: from  mblk-d41 (mblk-d41.mblk.aol.com [205.188.212.225]) by air-id05.mx.aol.com (v107.13) with ESMTP id MAILINID53-3d56435cc0493af; Mon, 24 Oct 2005 07:06:49 -0400
Date: Mon, 24 Oct 2005 07:06:49 -0400
From: msftblows@aol.com
Message-Id: <8C7A6A22A7DF44D-794-1AAD8@mblk-d41.sysops.aol.com>
X-MB-Message-Source: WebUI
X-MB-Message-Type: User
Received: from 68.175.91.77 by mblk-d41.sysops.aol.com (205.188.212.225) with HTTP (WebMailUI); Mon, 24 Oct 2005 07:06:49 -0400
X-Mailer: AOL WebMail 1.1.0.14204
Subject: Webfarm and Index Location
Content-Type: multipart/alternative;
 boundary="--------MailBlocks_8C7A6A22A746AE1_794_1A174_mblk-d41.sysops.aol.com"
MIME-Version: 1.0
To: java-user@lucene.apache.org
X-AOL-IP: 205.188.212.225
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Flag: NO
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

----------MailBlocks_8C7A6A22A746AE1_794_1A174_mblk-d41.sysops.aol.com
Content-Type: text/plain; charset="us-ascii"

Hey-
 
I would like to store my index in one location, and then have all my IIS servers on the farm call that one index. Basically, I am looking for the best approach here...and any ideas anyone has...
 
Options:
 
1. Store index on SAN and have each server call that location...seems this is an issue because on the SAN I can not have more than one shared drive per computer calling it...would need LUN for each.
 
2. Store index on a shared drive (not on a SAN), and then cluster that box that I store the index on...will this work? What over-head for a shared drive call?
 
3. Make a webservice call
 
4. Make a remoting call
 
Anything else?
 
Regards!
-Joe

----------MailBlocks_8C7A6A22A746AE1_794_1A174_mblk-d41.sysops.aol.com--

From java-user-return-17020-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 24 12:56:01 2005
Return-Path: <java-user-return-17020-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32502 invoked from network); 24 Oct 2005 12:56:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Oct 2005 12:56:00 -0000
Received: (qmail 84224 invoked by uid 500); 24 Oct 2005 12:55:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84197 invoked by uid 500); 24 Oct 2005 12:55:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84152 invoked by uid 99); 24 Oct 2005 12:55:52 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [128.230.18.5] (HELO mailbox.syr.edu) (128.230.18.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 05:55:52 -0700
Received: from [128.230.84.109] (istcnlpd9hb3r31.syr.edu [128.230.84.109])
	by mailbox.syr.edu (8.12.10/8.12.10) with ESMTP id j9OCtNq0001628
	for <java-user@lucene.apache.org>; Mon, 24 Oct 2005 08:55:24 -0400 (EDT)
Message-ID: <435CD9BB.7050907@syr.edu>
Date: Mon, 24 Oct 2005 08:55:23 -0400
From: Grant Ingersoll <gsingers@syr.edu>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Recommendation on Reading or Websites or Examples of How to Use
 Lucene?
References: <20051021215312.57535.qmail@web36310.mail.mud.yahoo.com>
In-Reply-To: <20051021215312.57535.qmail@web36310.mail.mud.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I find the unit tests in the actual code to be quite helpful.  Have also 
found various talks and articles sprinkled throughout the web.  I think 
the Wiki lists some of these, see:
http://wiki.apache.org/jakarta-lucene/HowTo
http://wiki.apache.org/jakarta-lucene/Resources


Sam Lee wrote:

>Hi,
>  Do you guys have good recommendation on websites
>that have detail explanation about how to use Lucene? 
>If they have source examples too, that would be great.
> I already read the book Lucene in Action.  
>
>Many thanks.
>
>
>		
>__________________________________ 
>Yahoo! FareChase: Search multiple travel sites in one click.
>http://farechase.yahoo.com
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17021-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 24 14:04:38 2005
Return-Path: <java-user-return-17021-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75230 invoked from network); 24 Oct 2005 14:04:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Oct 2005 14:04:38 -0000
Received: (qmail 98544 invoked by uid 500); 24 Oct 2005 14:04:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98522 invoked by uid 500); 24 Oct 2005 14:04:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98511 invoked by uid 99); 24 Oct 2005 14:04:31 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [68.236.111.6] (HELO paris.ifactory.com) (68.236.111.6)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 07:04:30 -0700
Received: from bender.ifactory.com (bender.ifactory.com [192.168.10.80])
	by paris.ifactory.com (8.13.4/8.13.4) with ESMTP id j9OE3kZo012001
	for <java-user@lucene.apache.org>; Mon, 24 Oct 2005 10:03:46 -0400
Subject: indexwriter and index searcher
From: Dan Adams <dan@ifactory.com>
To: java-user@lucene.apache.org
Content-Type: text/plain
Organization: Interactive Factory
Date: Mon, 24 Oct 2005 10:07:21 -0400
Message-Id: <1130162841.29776.70.camel@bender.ifactory.com>
Mime-Version: 1.0
X-Mailer: Evolution 2.2.3 (2.2.3-2.1.fc4.nr) 
Content-Transfer-Encoding: 7bit
X-Scanned-By: MIMEDefang 2.53 on 192.168.10.6
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

If I have a directory open and I open an index writer and add a document
do I have to close the directory and re-open it before I can open a
searcher and have the new document be included in the search?

In general, is it good to keep the directory open or is it better to
open the document each time you need a searcher or writer or something.

-- 
Dan Adams
Software Engineer
Interactive Factory


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17022-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 24 14:40:06 2005
Return-Path: <java-user-return-17022-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96446 invoked from network); 24 Oct 2005 14:40:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Oct 2005 14:40:06 -0000
Received: (qmail 86093 invoked by uid 500); 24 Oct 2005 14:39:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86008 invoked by uid 500); 24 Oct 2005 14:39:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85953 invoked by uid 99); 24 Oct 2005 14:39:50 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 07:39:50 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id A5E9913E200A; Mon, 24 Oct 2005 10:39:27 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id A8CE213E2006
	for <java-user@lucene.apache.org>; Mon, 24 Oct 2005 10:39:02 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <1130162841.29776.70.camel@bender.ifactory.com>
References: <1130162841.29776.70.camel@bender.ifactory.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <3A31BC8A-12D9-42C8-97CE-BBEAE9CDBBC3@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: indexwriter and index searcher
Date: Mon, 24 Oct 2005 10:39:02 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-4.0 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 24 Oct 2005, at 10:07, Dan Adams wrote:
> If I have a directory open and I open an index writer and add a  
> document
> do I have to close the directory and re-open it before I can open a
> searcher and have the new document be included in the search?

Yes.

> In general, is it good to keep the directory open or is it better to
> open the document each time you need a searcher or writer or  
> something.

In general it all depends :)

But, it is best to keep IndexSearcher cached over multiple searches  
and only recreate it when the index changes and you need to reflect  
those changes with future searches.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17023-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 24 16:07:54 2005
Return-Path: <java-user-return-17023-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43497 invoked from network); 24 Oct 2005 16:07:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Oct 2005 16:07:48 -0000
Received: (qmail 42472 invoked by uid 500); 24 Oct 2005 16:07:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42440 invoked by uid 500); 24 Oct 2005 16:07:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42429 invoked by uid 99); 24 Oct 2005 16:07:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 09:07:30 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.12.11.96] (HELO smtp007.mail.ukl.yahoo.com) (217.12.11.96)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 24 Oct 2005 09:07:28 -0700
Received: (qmail 92842 invoked from network); 24 Oct 2005 15:40:21 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Received:Message-ID:Date:From:User-Agent:X-Accept-Language:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding;
  b=1t1Y+7qBQbh75PmYvX9TGSuuo7JK8ln6kEM6KDX5ebuF41wcpewpNbwxejRmuuCSPkEBsop3wuTYkvMlysitMKlA0apduHyRoROgriadN/W7+EihldXe7II/cnz+tcS64/Dc5MOU7w3FOruVLk/+4Yn9oK81CwPFL2GQsmBONC8=  ;
Received: from unknown (HELO ?127.0.0.1?) (markharw00d@194.106.34.5 with plain)
  by smtp007.mail.ukl.yahoo.com with SMTP; 24 Oct 2005 15:40:21 -0000
Message-ID: <435D0063.3000309@yahoo.co.uk>
Date: Mon, 24 Oct 2005 16:40:19 +0100
From: markharw00d <markharw00d@yahoo.co.uk>
User-Agent: Mozilla Thunderbird 1.0.5 (Windows/20050711)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: How Fast is MemoryIndex?  How Much Resource Does It Use?
References: <20051024055855.97617.qmail@web36307.mail.mud.yahoo.com>
In-Reply-To: <20051024055855.97617.qmail@web36307.mail.mud.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

>>If so, why not use it for the normal operation as well?  

Because MemoryIndex only allows you to store/query one document.
It is fast, but I would not suggest running 10000 queries against it.

Why not try store the queries as documents in a special index and query 
them using the subject document.
The results will be a rough short-list of the queries you now need to 
run (ie less than 10,000!).  Put the subject document eg "i sell red 
nike shoes" into a memory index then run the selected queries against it.

These queries may have mandatory clauses  ( eg +/- operators) which may 
cause them to fail when run as queries against the MemoryIndexed subject 
doc which is why the first "query the queries" search is insufficient to 
find the matches.

Cheers,
Mark


Sam Lee wrote:

>Hi,
>  Someone suggested that I should use MemoryIndex to
>match content to a large # of queries. e.g. "nike red
>shoes" --match--> "nike shoes -blue"  and --match-->
>"nike shoes -black"...  What if I have 100000 of these
>queries for each content?  and there maybe 1000000 of
>these contents.
>
>But how fast is MemoryIndex?  Is it cpu and memory
>intensive?  I read somewhere and it said that it is
>about  three order faster than normal operation.  If
>so, why not use it for the normal operation as well?  
>
>Many thanks.
>
>
>
>
>		
>__________________________________ 
>Start your day with Yahoo! - Make it your home page! 
>http://www.yahoo.com/r/hs
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>  
>



	
	
		
___________________________________________________________ 
Yahoo! Messenger - NEW crystal clear PC to PC calling worldwide with voicemail http://uk.messenger.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17024-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 24 16:08:00 2005
Return-Path: <java-user-return-17024-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43666 invoked from network); 24 Oct 2005 16:07:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Oct 2005 16:07:59 -0000
Received: (qmail 43656 invoked by uid 500); 24 Oct 2005 16:07:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43631 invoked by uid 500); 24 Oct 2005 16:07:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43620 invoked by uid 99); 24 Oct 2005 16:07:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 09:07:45 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.12.12.82] (HELO web86207.mail.ukl.yahoo.com) (217.12.12.82)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 24 Oct 2005 09:07:43 -0700
Received: (qmail 93078 invoked by uid 60001); 24 Oct 2005 15:07:07 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=btinternet.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=N5irlODN4CfbJfa4hbAD8y81lQXC6K0JVef3rU7GXQkBzHk6CE/F3SRj3Bu3LRANtoDyaNwmDIGQFJeJFJ1SFQP064shsdkIANhpDEkthe8POFRnN2vpHl0LaUa6lXNS1xm76+52/Q7UUdajzrJeiVaE5mVNye6Vp0ethSGfOJg=  ;
Message-ID: <20051024150707.93076.qmail@web86207.mail.ukl.yahoo.com>
Received: from [193.63.235.40] by web86207.mail.ukl.yahoo.com via HTTP; Mon, 24 Oct 2005 16:07:07 BST
Date: Mon, 24 Oct 2005 16:07:07 +0100 (BST)
From: MALCOLM CLARK <malcyclark@btinternet.com>
Subject: Re: indexwriter and index searcher
To: java-user@lucene.apache.org
In-Reply-To: <1130162841.29776.70.camel@bender.ifactory.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-289266850-1130166427=:92745"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-289266850-1130166427=:92745
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit


Hi all,

I am relatively new and scared by Lucene so please don't flame me.I have abandoned Digester and am now just using other SAX stuff.

I have used the sandbox stuff to parse an XML file with SAX which then bungs it into a document in a Lucene index.The bit I'm stuck on is how is a elementBuffer split up into several items.I have a elementBuffer with three 'article' documents but only shows as one when using Luke to view the index? 

please advise.

Thanks very much.

MC


--0-289266850-1130166427=:92745--

From java-user-return-17025-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 24 16:28:09 2005
Return-Path: <java-user-return-17025-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64193 invoked from network); 24 Oct 2005 16:28:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Oct 2005 16:28:08 -0000
Received: (qmail 9152 invoked by uid 500); 24 Oct 2005 16:28:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9091 invoked by uid 500); 24 Oct 2005 16:28:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9045 invoked by uid 99); 24 Oct 2005 16:27:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 09:27:59 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 09:27:54 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id EBE3913E2006; Mon, 24 Oct 2005 12:27:33 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id D21F113E2005
	for <java-user@lucene.apache.org>; Mon, 24 Oct 2005 12:27:31 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <20051024150707.93076.qmail@web86207.mail.ukl.yahoo.com>
References: <20051024150707.93076.qmail@web86207.mail.ukl.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <28EE5F24-012A-4BDB-A245-89FBA698B0F7@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: indexwriter and index searcher
Date: Mon, 24 Oct 2005 12:27:31 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-3.8 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I think you really need to show us some code.  If your XML documents  
are small enough, then perhaps DOM (via JDOM) would be a much simpler  
way to navigate XML via XPath.

     Erik

On 24 Oct 2005, at 11:07, MALCOLM CLARK wrote:

>
> Hi all,
>
> I am relatively new and scared by Lucene so please don't flame me.I  
> have abandoned Digester and am now just using other SAX stuff.
>
> I have used the sandbox stuff to parse an XML file with SAX which  
> then bungs it into a document in a Lucene index.The bit I'm stuck  
> on is how is a elementBuffer split up into several items.I have a  
> elementBuffer with three 'article' documents but only shows as one  
> when using Luke to view the index?
>
> please advise.
>
> Thanks very much.
>
> MC
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17026-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 24 16:29:37 2005
Return-Path: <java-user-return-17026-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66182 invoked from network); 24 Oct 2005 16:29:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Oct 2005 16:29:36 -0000
Received: (qmail 13396 invoked by uid 500); 24 Oct 2005 16:29:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13369 invoked by uid 500); 24 Oct 2005 16:29:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13355 invoked by uid 99); 24 Oct 2005 16:29:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 09:29:29 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of blizzy-keyword-lucene_user.f5486d@blizzy.de designates 212.79.22.222 as permitted sender)
Received: from [212.79.22.222] (HELO subshell.com) (212.79.22.222)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 09:29:27 -0700
Received: (qmail 13479 invoked from network); 24 Oct 2005 14:29:04 +0200
Received: from unknown (HELO ?10.0.0.10?) (212.79.22.193)
  by subshell.com with SMTP; 24 Oct 2005 14:29:04 +0200
Message-ID: <435CD390.2000409@blizzy.de>
Date: Mon, 24 Oct 2005 14:29:04 +0200
From: Maik Schreiber <blizzy-keyword-lucene_user.f5486d@blizzy.de>
User-Agent: Mozilla Thunderbird 1.0.2 (X11/20050326)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Non-scoring fields
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

Just a quick question: How do I add non-scoring fields to a query? Set boost to 0?

To be more specific, my documents have a "permissions" field containing the
names of groups who are allowed to access the document. When searching, I
search for the particular user's group (a user is in exactly one group).
Searching in the "permissions" field adds to the score, however, so that more
restrictive documents (having fewer groups in the field) tend to get a higher
score, thus showing up more towards the top of the list. I just don't want
that, though...

-- 
Maik Schreiber   *   http://www.blizzy.de

GPG public key: http://pgp.mit.edu:11371/pks/lookup?op=get&search=0x1F11D713
Key fingerprint: CF19 AFCE 6E3D 5443 9599 18B5 5640 1F11 D713

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17027-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 24 16:55:16 2005
Return-Path: <java-user-return-17027-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94608 invoked from network); 24 Oct 2005 16:55:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Oct 2005 16:55:16 -0000
Received: (qmail 91357 invoked by uid 500); 24 Oct 2005 16:55:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91168 invoked by uid 500); 24 Oct 2005 16:55:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91157 invoked by uid 99); 24 Oct 2005 16:55:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 09:55:08 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.84.238] (HELO web36308.mail.mud.yahoo.com) (209.191.84.238)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 24 Oct 2005 09:55:07 -0700
Received: (qmail 64366 invoked by uid 60001); 24 Oct 2005 16:54:47 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=RaP7dCI7CBS7yvEZQ3sFsaqz4qjmsFun3hyiTlKtIh4nUl7a2AlCbWEMb2As2GRVXEBMvrJjT08vbjrlbjPZ716FryNeT2AVAU/8P+bJpIeZUXJxq9MdxBvOzXMj60XKvo9nsc448C8BpGHgDSN+GQzywhOIrQrriR7MD1oi4Pk=  ;
Message-ID: <20051024165447.64364.qmail@web36308.mail.mud.yahoo.com>
Received: from [63.203.72.39] by web36308.mail.mud.yahoo.com via HTTP; Mon, 24 Oct 2005 09:54:47 PDT
Date: Mon, 24 Oct 2005 09:54:47 -0700 (PDT)
From: Sam Lee <victor_emailbox@yahoo.com>
Subject: Re: How Fast is MemoryIndex?  How Much Resource Does It Use?
To: java-user@lucene.apache.org, markharw00d@yahoo.co.uk
In-Reply-To: <435D0063.3000309@yahoo.co.uk>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

How much of a performance impact if I store queries as
documents first?  

Actually, I just thought of a way to first select
queries with certain quality before doing memoryindex,
so it will trim it to much less than 100000.  

But has anyone done MemoryIndex?  I need some
real-world examples that can tell me how fast
MemoryIndex is before I decide to use it, like # of
queries /sec and cpu and memory they are using, etc. 
I searched all over google but can't find any.

--- markharw00d <markharw00d@yahoo.co.uk> wrote:

> >>If so, why not use it for the normal operation as
> well?  
> 
> Because MemoryIndex only allows you to store/query
> one document.
> It is fast, but I would not suggest running 10000
> queries against it.
> 
> Why not try store the queries as documents in a
> special index and query 
> them using the subject document.
> The results will be a rough short-list of the
> queries you now need to 
> run (ie less than 10,000!).  Put the subject
> document eg "i sell red 
> nike shoes" into a memory index then run the
> selected queries against it.
> 
> These queries may have mandatory clauses  ( eg +/-
> operators) which may 
> cause them to fail when run as queries against the
> MemoryIndexed subject 
> doc which is why the first "query the queries"
> search is insufficient to 
> find the matches.
> 
> Cheers,
> Mark
> 
> 
> Sam Lee wrote:
> 
> >Hi,
> >  Someone suggested that I should use MemoryIndex
> to
> >match content to a large # of queries. e.g. "nike
> red
> >shoes" --match--> "nike shoes -blue"  and
> --match-->
> >"nike shoes -black"...  What if I have 100000 of
> these
> >queries for each content?  and there maybe 1000000
> of
> >these contents.
> >
> >But how fast is MemoryIndex?  Is it cpu and memory
> >intensive?  I read somewhere and it said that it is
> >about  three order faster than normal operation. 
> If
> >so, why not use it for the normal operation as
> well?  
> >
> >Many thanks.
> >
> >
> >
> >
> >		
> >__________________________________ 
> >Start your day with Yahoo! - Make it your home
> page! 
> >http://www.yahoo.com/r/hs
> >
>
>---------------------------------------------------------------------
> >To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> >For additional commands, e-mail:
> java-user-help@lucene.apache.org
> >
> >
> >
> >  
> >
> 
> 
> 
> 	
> 	
> 		
>
___________________________________________________________
> 
> Yahoo! Messenger - NEW crystal clear PC to PC
> calling worldwide with voicemail
> http://uk.messenger.yahoo.com
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 



		
__________________________________ 
Yahoo! FareChase: Search multiple travel sites in one click.
http://farechase.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17028-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 24 16:57:12 2005
Return-Path: <java-user-return-17028-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98358 invoked from network); 24 Oct 2005 16:57:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Oct 2005 16:57:12 -0000
Received: (qmail 97669 invoked by uid 500); 24 Oct 2005 16:57:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97646 invoked by uid 500); 24 Oct 2005 16:57:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97635 invoked by uid 99); 24 Oct 2005 16:57:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 09:57:04 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [208.13.76.66] (HELO Speedbird.local) (208.13.76.66)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 09:57:02 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by Speedbird.local (Postfix) with ESMTP id 64B3A4BBCEC;
	Mon, 24 Oct 2005 09:56:39 -0700 (PDT)
In-Reply-To: <20051024165447.64364.qmail@web36308.mail.mud.yahoo.com>
References: <20051024165447.64364.qmail@web36308.mail.mud.yahoo.com>
Mime-Version: 1.0 (Apple Message framework v734)
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <8A542875-658E-4AEA-8896-C75E240AEC5F@blowfish.com>
Cc: markharw00d@yahoo.co.uk
Content-Transfer-Encoding: 7bit
From: Christophe <fox@blowfish.com>
Subject: Re: How Fast is MemoryIndex?  How Much Resource Does It Use?
Date: Mon, 24 Oct 2005 09:56:36 -0700
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi, Sam,

Is there a reason you couldn't build a test case and try it, in your  
environment and on your hardware?  That seems to be the only way to  
really answer the question.

On 24 Oct 2005, at 09:54, Sam Lee wrote:

> How much of a performance impact if I store queries as
> documents first?
>
> Actually, I just thought of a way to first select
> queries with certain quality before doing memoryindex,
> so it will trim it to much less than 100000.
>
> But has anyone done MemoryIndex?  I need some
> real-world examples that can tell me how fast
> MemoryIndex is before I decide to use it, like # of
> queries /sec and cpu and memory they are using, etc.
> I searched all over google but can't find any.
>
> --- markharw00d <markharw00d@yahoo.co.uk> wrote:
>
>
>>>> If so, why not use it for the normal operation as
>>>>
>> well?
>>
>> Because MemoryIndex only allows you to store/query
>> one document.
>> It is fast, but I would not suggest running 10000
>> queries against it.
>>
>> Why not try store the queries as documents in a
>> special index and query
>> them using the subject document.
>> The results will be a rough short-list of the
>> queries you now need to
>> run (ie less than 10,000!).  Put the subject
>> document eg "i sell red
>> nike shoes" into a memory index then run the
>> selected queries against it.
>>
>> These queries may have mandatory clauses  ( eg +/-
>> operators) which may
>> cause them to fail when run as queries against the
>> MemoryIndexed subject
>> doc which is why the first "query the queries"
>> search is insufficient to
>> find the matches.
>>
>> Cheers,
>> Mark
>>
>>
>> Sam Lee wrote:
>>
>>
>>> Hi,
>>>  Someone suggested that I should use MemoryIndex
>>>
>> to
>>
>>> match content to a large # of queries. e.g. "nike
>>>
>> red
>>
>>> shoes" --match--> "nike shoes -blue"  and
>>>
>> --match-->
>>
>>> "nike shoes -black"...  What if I have 100000 of
>>>
>> these
>>
>>> queries for each content?  and there maybe 1000000
>>>
>> of
>>
>>> these contents.
>>>
>>> But how fast is MemoryIndex?  Is it cpu and memory
>>> intensive?  I read somewhere and it said that it is
>>> about  three order faster than normal operation.
>>>
>> If
>>
>>> so, why not use it for the normal operation as
>>>
>> well?
>>
>>>
>>> Many thanks.
>>>
>>>
>>>
>>>
>>>
>>> __________________________________
>>> Start your day with Yahoo! - Make it your home
>>>
>> page!
>>
>>> http://www.yahoo.com/r/hs
>>>
>>>
>>
>> ---------------------------------------------------------------------
>>
>>> To unsubscribe, e-mail:
>>>
>> java-user-unsubscribe@lucene.apache.org
>>
>>> For additional commands, e-mail:
>>>
>> java-user-help@lucene.apache.org
>>
>>>
>>>
>>>
>>>
>>>
>>>
>>
>>
>>
>>
>>
>>
>>
>>
> ___________________________________________________________
>
>>
>> Yahoo! Messenger - NEW crystal clear PC to PC
>> calling worldwide with voicemail
>> http://uk.messenger.yahoo.com
>>
>>
>>
> ---------------------------------------------------------------------
>
>> To unsubscribe, e-mail:
>> java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail:
>> java-user-help@lucene.apache.org
>>
>>
>>
>
>
>
>
> __________________________________
> Yahoo! FareChase: Search multiple travel sites in one click.
> http://farechase.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17029-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 24 17:14:15 2005
Return-Path: <java-user-return-17029-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19688 invoked from network); 24 Oct 2005 17:14:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Oct 2005 17:14:14 -0000
Received: (qmail 58112 invoked by uid 500); 24 Oct 2005 17:14:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58076 invoked by uid 500); 24 Oct 2005 17:14:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58060 invoked by uid 99); 24 Oct 2005 17:14:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 10:14:05 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.160.131.136] (HELO p15105029.pureserver.info) (217.160.131.136)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 24 Oct 2005 10:14:03 -0700
Received: (qmail 27431 invoked by uid 3001); 24 Oct 2005 19:13:40 +0200
Received: from 82.144.201.6 by p15105029 (envelope-from <max@osua.de>, uid 89) with qmail-scanner-1.25-st-qms 
 (clamdscan: 0.87/1146. spamassassin: 3.1.0. perlscan: 1.25-st-qms.  
 Clear:RC:0(82.144.201.6):SA:0(3.6/6.5):. 
 Processed in 1.563037 secs); 24 Oct 2005 17:13:40 -0000
X-Spam-Level: +++
X-Spam-Report: SA TESTS
  0.1 FORGED_RCVD_HELO       Received: contains a forged HELO
  3.2 BAYES_99               BODY: Bayesian spam probability is 99 to 100%
                             [score: 1.0000]
  0.2 AWL                    AWL: From: address is in the auto white-list
X-Qmail-Scanner-Mail-From: max@osua.de via p15105029
X-Qmail-Scanner: 1.25-st-qms (Clear:RC:0(82.144.201.6):SA:0(3.6/6.5):. Processed in 1.563037 secs Process 27419)
Received: from ip.82.144.201.6.stat-8.volia.net (HELO max.osuatech.local) (max%osua.de@82.144.201.6)
  by p15105029.pureserver.info with SMTP; 24 Oct 2005 19:13:38 +0200
Date: Mon, 24 Oct 2005 20:13:55 +0300
From: Maxim Patramanskij <max@osua.de>
X-Mailer: The Bat! (v1.62i) Business
Reply-To: Maxim Patramanskij <max@osua.de>
Organization: OSUA technology
X-Priority: 3 (Normal)
Message-ID: <18812797609.20051024201355@osua.de>
To: java-user@lucene.apache.org
Subject: Cross-field multi-word and query
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, hits=3.6 required=6.5
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


I have the following problem:

I need to construct programmatically a Boolean query against n fields
having m words in my query.

All possible unique combinations(sub-queries) are disjunctive between
each other while boolean clauses of each combination combines with AND
operator.

The reason of such complexity is that I have to find a result of AND
query against several field, when parts of my query could appear in
different fields and I can't create just one single field because each
field has its own boost level.

Does anyone have an experience of writing such query builder?

Best regards,
 Maxim


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17030-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 24 17:19:47 2005
Return-Path: <java-user-return-17030-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24229 invoked from network); 24 Oct 2005 17:19:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Oct 2005 17:19:47 -0000
Received: (qmail 71433 invoked by uid 500); 24 Oct 2005 17:19:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71413 invoked by uid 500); 24 Oct 2005 17:19:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71402 invoked by uid 99); 24 Oct 2005 17:19:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 10:19:40 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.217] (HELO web26006.mail.ukl.yahoo.com) (217.12.10.217)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 24 Oct 2005 10:19:38 -0700
Received: (qmail 34311 invoked by uid 60001); 24 Oct 2005 08:13:17 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=oNI241drfuS5MqX5bOeeTNhsQ4iqBCazeiGpCjW5erqDbxQ+Ngyv0nw/N/29UTEZtWzcZEnnVn+60g7C47H9s5ad9dyOQv7AOpWBxA+1Lw5UAR1MUHogCUxL3fP4y6YDxvMVqAJ+3cFUl6JHFHCu4esaycdDhKDFO/ZP0A+y0sg=  ;
Message-ID: <20051024081317.34309.qmail@web26006.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26006.mail.ukl.yahoo.com via HTTP; Mon, 24 Oct 2005 09:13:17 BST
Date: Mon, 24 Oct 2005 09:13:17 +0100 (BST)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: How Fast is MemoryIndex?  How Much Resource Does It Use?
To: java-user@lucene.apache.org
In-Reply-To: <20051024055855.97617.qmail@web36307.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

It is fast.
>> so, why not use it for the normal operation as
well?

Because it only stores one document.

Given the number of queries you have I'm not sure I'd
run them all. How about putting them as docs into a
categorisation index then using the subject document
as a query to selct a subset of the queries you need
to run?
This should give you a rough shortlist of queries then
you can run them all against the one memory-indexed
subject document to see if they *really* match i.e if
the mandatory/AND statements are all satisfied. 

Cheers,
Mark


		
___________________________________________________________ 
To help you stay safe and secure online, we've developed the all new Yahoo! Security Centre. http://uk.security.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17031-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 24 17:31:02 2005
Return-Path: <java-user-return-17031-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32556 invoked from network); 24 Oct 2005 17:30:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Oct 2005 17:30:58 -0000
Received: (qmail 93862 invoked by uid 500); 24 Oct 2005 17:30:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93843 invoked by uid 500); 24 Oct 2005 17:30:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93832 invoked by uid 99); 24 Oct 2005 17:30:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 10:30:50 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.18.98.34] (HELO brmea-mail-3.sun.com) (192.18.98.34)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 10:30:48 -0700
Received: from phys-d3-ha21sca-2 ([129.145.155.165])
	by brmea-mail-3.sun.com (8.12.10/8.12.9) with ESMTP id j9OHUP3F015572
	for <java-user@lucene.apache.org>; Mon, 24 Oct 2005 11:30:28 -0600 (MDT)
Received: from conversion-daemon.ha21sca-mail1.sfbay.sun.com by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 id <0IOV00101KJW7W@ha21sca-mail1.sfbay.sun.com>
 (original mail from Richard.Hillegas@Sun.COM) for java-user@lucene.apache.org;
 Mon, 24 Oct 2005 10:30:45 -0700 (PDT)
Received: from [129.150.29.178]
 (vpn-129-150-29-178.SFBay.Sun.COM [129.150.29.178])
 by ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 with ESMTP id <0IOV00HT4KN8ZP@ha21sca-mail1.sfbay.sun.com> for
 java-user@lucene.apache.org; Mon, 24 Oct 2005 10:30:44 -0700 (PDT)
Date: Mon, 24 Oct 2005 10:30:25 -0700
From: Rick Hillegas <Richard.Hillegas@Sun.COM>
Subject: lucene and databases
To: java-user@lucene.apache.org
Message-id: <435D1A31.4070002@sun.com>
MIME-version: 1.0
Content-type: text/plain; charset=ISO-8859-1; format=flowed
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks to Yonik for replying to my last question about queries and filters.

Now I have another issue. I would appreciate any pointers to attempts to 
integrate Lucene with databases. There's a tantalizing reference to a 
class called JDBCDirectory mentioned at 
http://wiki.apache.org/jakarta-lucene/LatestNews. However, my browser 
times out trying to access the follow-up link 
http://ppinew.mnis.com/jdbcdirectory. An email thread 
(http://www.mail-archive.com/java-user@lucene.apache.org/msg01036.html) 
makes me hope that this class helps an application index a body of 
documents stored in a relational database. But this class, perhaps a 
cousin of FSDirectory and RAMDirectory, doesn't seem to be part of 
Lucene proper.

In any event, I would appreciate pointers to people's experience 
integrating Lucene with relational databases. I realize this is a very 
broad question. It sweeps up topics like the following:

o Indexing content that is stored in a dbms

o Wrapping filters around the results of sql queries

o Integrating Lucene query syntax with sql query syntax

o Practical tips about when to expose information as a Lucene field vs. 
when to expose that  information as a column in a relational table

Thanks,
-Rick

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17032-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 24 17:50:43 2005
Return-Path: <java-user-return-17032-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45455 invoked from network); 24 Oct 2005 17:50:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Oct 2005 17:50:41 -0000
Received: (qmail 32413 invoked by uid 500); 24 Oct 2005 17:50:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32393 invoked by uid 500); 24 Oct 2005 17:50:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32379 invoked by uid 99); 24 Oct 2005 17:50:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 10:50:29 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of chris.lu@gmail.com designates 72.14.204.194 as permitted sender)
Received: from [72.14.204.194] (HELO qproxy.gmail.com) (72.14.204.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 10:50:27 -0700
Received: by qproxy.gmail.com with SMTP id q18so277425qba
        for <java-user@lucene.apache.org>; Mon, 24 Oct 2005 10:50:08 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=by6xNxgWET0CQHag64qDsvlDfDdCAeo5h/Re6AXIX/5PtdUJzLw58XX+qV5ZYG3b35j/AgmCsDyAByNgc65yOXtEmM/bvdrwWQhFFs/rsl1Q7c0e9uPV61YQOp40b0SjDU+bvQnsqTD5+Lp7ZkK+5GQg9tyg/ubXW7IGadpOv3M=
Received: by 10.65.124.8 with SMTP id b8mr590457qbn;
        Mon, 24 Oct 2005 10:50:08 -0700 (PDT)
Received: by 10.65.93.10 with HTTP; Mon, 24 Oct 2005 10:50:07 -0700 (PDT)
Message-ID: <6e3ae6310510241050h5373f77fx81ff125d42cba386@mail.gmail.com>
Date: Mon, 24 Oct 2005 10:50:08 -0700
From: Chris Lu <chris.lu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: lucene and databases
In-Reply-To: <435D1A31.4070002@sun.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <435D1A31.4070002@sun.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

JDBCDirectory doesn't help you to index content in rdms.
It just stores the lucene index into rdms. This approach will be
slower than file system based approach.

For your first question, "Indexing content that is stored in a dbms",
you can take a look at DBSight. It's a generic tool to easily extract
content from database and build an index, which seems simple, but
behind the scene, it does more than that, including, multi-threaded
extraction and search, multi index support, template-based search
result, scheduled index updating, web-based control and configuration,
remote index replication, etc.

Chris Lu
------------------------------
Lucene Full-Text Search on Any Database
http://www.DBSight.net


On 10/24/05, Rick Hillegas <Richard.Hillegas@sun.com> wrote:
> Thanks to Yonik for replying to my last question about queries and filter=
s.
>
> Now I have another issue. I would appreciate any pointers to attempts to
> integrate Lucene with databases. There's a tantalizing reference to a
> class called JDBCDirectory mentioned at
> http://wiki.apache.org/jakarta-lucene/LatestNews. However, my browser
> times out trying to access the follow-up link
> http://ppinew.mnis.com/jdbcdirectory. An email thread
> (http://www.mail-archive.com/java-user@lucene.apache.org/msg01036.html)
> makes me hope that this class helps an application index a body of
> documents stored in a relational database. But this class, perhaps a
> cousin of FSDirectory and RAMDirectory, doesn't seem to be part of
> Lucene proper.
>
> In any event, I would appreciate pointers to people's experience
> integrating Lucene with relational databases. I realize this is a very
> broad question. It sweeps up topics like the following:
>
> o Indexing content that is stored in a dbms
>
> o Wrapping filters around the results of sql queries
>
> o Integrating Lucene query syntax with sql query syntax
>
> o Practical tips about when to expose information as a Lucene field vs.
> when to expose that  information as a column in a relational table
>
> Thanks,
> -Rick
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17033-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 24 17:58:57 2005
Return-Path: <java-user-return-17033-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51153 invoked from network); 24 Oct 2005 17:58:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Oct 2005 17:58:51 -0000
Received: (qmail 47143 invoked by uid 500); 24 Oct 2005 17:58:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47125 invoked by uid 500); 24 Oct 2005 17:58:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47114 invoked by uid 99); 24 Oct 2005 17:58:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 10:58:30 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.18.29] (HELO mailer.syr.edu) (128.230.18.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 10:58:27 -0700
Received: from [128.230.38.212] (syru38-212.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.149A6442@mailer.syr.edu>; Mon, 24 Oct 2005 13:58:07 -0400
Message-ID: <435D20AE.4080705@syr.edu>
Date: Mon, 24 Oct 2005 13:58:06 -0400
From: Steven Rowe <sarowe@syr.edu>
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050411)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: lucene and databases
References: <435D1A31.4070002@sun.com>
In-Reply-To: <435D1A31.4070002@sun.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Code and examples for embedding Lucene in HSQLDB and Derby relational 
databases:
<http://issues.apache.org/jira/browse/LUCENE-434>

Rick Hillegas wrote:
> Thanks to Yonik for replying to my last question about queries and filters.
> 
> Now I have another issue. I would appreciate any pointers to attempts to 
> integrate Lucene with databases. There's a tantalizing reference to a 
> class called JDBCDirectory mentioned at 
> http://wiki.apache.org/jakarta-lucene/LatestNews. However, my browser 
> times out trying to access the follow-up link 
> http://ppinew.mnis.com/jdbcdirectory. An email thread 
> (http://www.mail-archive.com/java-user@lucene.apache.org/msg01036.html) 
> makes me hope that this class helps an application index a body of 
> documents stored in a relational database. But this class, perhaps a 
> cousin of FSDirectory and RAMDirectory, doesn't seem to be part of 
> Lucene proper.
> 
> In any event, I would appreciate pointers to people's experience 
> integrating Lucene with relational databases. I realize this is a very 
> broad question. It sweeps up topics like the following:
> 
> o Indexing content that is stored in a dbms
> 
> o Wrapping filters around the results of sql queries
> 
> o Integrating Lucene query syntax with sql query syntax
> 
> o Practical tips about when to expose information as a Lucene field vs. 
> when to expose that  information as a column in a relational table
> 
> Thanks,
> -Rick


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17034-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 24 18:10:23 2005
Return-Path: <java-user-return-17034-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58703 invoked from network); 24 Oct 2005 18:10:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Oct 2005 18:10:23 -0000
Received: (qmail 58890 invoked by uid 500); 24 Oct 2005 18:10:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58641 invoked by uid 500); 24 Oct 2005 18:10:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58630 invoked by uid 99); 24 Oct 2005 18:10:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 11:10:16 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.201.77] (HELO web31115.mail.mud.yahoo.com) (68.142.201.77)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 24 Oct 2005 11:10:14 -0700
Received: (qmail 13025 invoked by uid 60001); 24 Oct 2005 18:09:54 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=2dXXojc2S7ke7mF1TPC8uVcS3c6Y2+FcwuFpIWvcgp6HN3SW7c8vMw0zJUJkSVC69tg9w2WGIzM88Od8ene9aS9zmtzrK2q7TKzVOZpqlZXT4YUTEIaLWsE6a0hhTjtS4WeyzSLhrXj9t3KUmvcTF8BYv+hdMcGXPcg5NG69jrQ=  ;
Message-ID: <20051024180954.13022.qmail@web31115.mail.mud.yahoo.com>
Received: from [69.201.142.21] by web31115.mail.mud.yahoo.com via HTTP; Mon, 24 Oct 2005 11:09:54 PDT
Date: Mon, 24 Oct 2005 11:09:54 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: indexwriter and index searcher
To: java-user@lucene.apache.org
In-Reply-To: <20051024150707.93076.qmail@web86207.mail.ukl.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Malcolm,

--- MALCOLM CLARK <malcyclark@btinternet.com> wrote:

> Hi all,
>
> I am relatively new and scared by Lucene so please don't flame me.

I won't flame, but you just hijacked somebody else's thread.... baaad
boy!

> I have abandoned Digester and am now just using other SAX stuff.

No need to be afraid of Lucene nor SAX.  Have you got a copy of Lucene
in Action?  If not, consider getting at least a PDF version (cheaper)
and peeking at its code (free) - see http://lucenebook.com/ .  If you
look at chapter 7, you'll get most of the code you need for indexing
XML.

> I have used the sandbox stuff to parse an XML file with SAX which
> then bungs it into a document in a Lucene index.The bit I'm stuck on
> is how is a elementBuffer split up into several items.I have a
> elementBuffer with three 'article' documents but only shows as one
> when using Luke to view the index? 
> please advise.

I'm not sure what you are trying to do.... take look at LIA code.  If
that doesn't help, start a new thread, show the code, and somebody may
be able to provide some advice.

Otis

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17035-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 24 18:17:01 2005
Return-Path: <java-user-return-17035-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62579 invoked from network); 24 Oct 2005 18:16:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Oct 2005 18:16:59 -0000
Received: (qmail 70465 invoked by uid 500); 24 Oct 2005 18:16:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70429 invoked by uid 500); 24 Oct 2005 18:16:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70418 invoked by uid 99); 24 Oct 2005 18:16:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 11:16:51 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist@danielnaber.de designates 80.67.18.14 as permitted sender)
Received: from [80.67.18.14] (HELO smtprelay02.ispgateway.de) (80.67.18.14)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 11:16:49 -0700
Received: (qmail 20167 invoked from network); 24 Oct 2005 18:16:31 -0000
Received: from unknown (HELO p5496e4d9.dip.t-dialin.net) ([pbs]695637@[84.150.228.217])
          (envelope-sender <lucenelist@danielnaber.de>)
          by smtprelay02.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 24 Oct 2005 18:16:31 -0000
From: Daniel Naber <lucenelist@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: Non-scoring fields
Date: Mon, 24 Oct 2005 20:16:43 +0200
User-Agent: KMail/1.8.2
References: <435CD390.2000409@blizzy.de>
In-Reply-To: <435CD390.2000409@blizzy.de>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200510242016.43345@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Montag 24 Oktober 2005 14:29, Maik Schreiber wrote:

> Just a quick question: How do I add non-scoring fields to a query? Set
> boost to 0?

Yes, just use permissions:blah^0

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17036-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 24 18:24:15 2005
Return-Path: <java-user-return-17036-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66261 invoked from network); 24 Oct 2005 18:24:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Oct 2005 18:24:14 -0000
Received: (qmail 80382 invoked by uid 500); 24 Oct 2005 18:24:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80179 invoked by uid 500); 24 Oct 2005 18:24:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80167 invoked by uid 99); 24 Oct 2005 18:24:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 11:24:07 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of blizzy-keyword-lucene_user.f5486d@blizzy.de designates 217.160.200.68 as permitted sender)
Received: from [217.160.200.68] (HELO iceman.iq-computing.de) (217.160.200.68)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 11:24:05 -0700
Received: (qmail 3412 invoked from network); 24 Oct 2005 20:23:45 +0200
Received: from c226028.adsl.hansenet.de (HELO wolverine.hh.iq-computing.de) (mickey@213.39.226.28)
  by iceman.iq-computing.de with AES256-SHA encrypted SMTP; 24 Oct 2005 20:23:45 +0200
Received: (qmail 19965 invoked from network); 24 Oct 2005 20:23:44 +0200
Received: from localhost (HELO ?127.0.0.1?) (127.0.0.1)
  by localhost with SMTP; 24 Oct 2005 20:23:44 +0200
Message-ID: <435D26B0.6060905@blizzy.de>
Date: Mon, 24 Oct 2005 20:23:44 +0200
From: Maik Schreiber <blizzy-keyword-lucene_user.f5486d@blizzy.de>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051002)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Non-scoring fields
References: <435CD390.2000409@blizzy.de> <200510242016.43345@danielnaber.de>
In-Reply-To: <200510242016.43345@danielnaber.de>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

>>Just a quick question: How do I add non-scoring fields to a query? Set
>>boost to 0?
> 
> Yes, just use permissions:blah^0

Cool, thanks.

-- 
Maik Schreiber   *   http://www.blizzy.de

GPG public key: http://pgp.mit.edu:11371/pks/lookup?op=get&search=0x1F11D713
Key fingerprint: CF19 AFCE 6E3D 5443 9599 18B5 5640 1F11 D713

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17037-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 24 19:01:36 2005
Return-Path: <java-user-return-17037-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85401 invoked from network); 24 Oct 2005 19:01:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Oct 2005 19:01:36 -0000
Received: (qmail 36793 invoked by uid 500); 24 Oct 2005 19:01:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35923 invoked by uid 500); 24 Oct 2005 19:01:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35912 invoked by uid 99); 24 Oct 2005 19:01:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 12:01:30 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.35.35.7] (HELO mailgw3a.lmco.com) (192.35.35.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 12:01:27 -0700
Received: from emss04g01.ems.lmco.com (relay4.ems.lmco.com [166.17.13.122])
	by mailgw3a.lmco.com (8.12.10/8.12.10) with ESMTP id j9OIsff5024759
	for <java-user@lucene.apache.org>; Mon, 24 Oct 2005 15:01:07 -0400 (EDT)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30884)
 id <0IOV00J01N8LLA@lmco.com> for java-user@lucene.apache.org; Mon, 24 Oct 2005 14:26:45 -0400 (EDT)
Received: from EMSS10M01.us.lmco.com ([158.187.0.150]) by lmco.com (PMDF V6.1-1X6 #30884)
 with ESMTP id <0IOV001QDN8L6X@lmco.com> for java-user@lucene.apache.org; Mon, 24 Oct 2005 14:26:45 -0400 (EDT)
Received: from EMSS10M03.us.lmco.com ([158.187.0.148]) by EMSS10M01.us.lmco.com with Microsoft SMTPSVC(5.0.2195.6713); Mon,
 24 Oct 2005 14:26:45 -0400
Date: Mon, 24 Oct 2005 14:26:45 -0400
From: "Mordo, Aviran (EXP N-NANNATEK)" <aviran.mordo@lmco.com>
Subject: RE: Non-scoring fields
To: java-user@lucene.apache.org
Message-id: <92A278501EF50444AD3EE1FFB51219550BCE39B8@emss10m03.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: Non-scoring fields
Thread-Index: AcXYyCVTioQ3igwoR3qWdE9XS9xmpQAACToA
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 24 Oct 2005 18:26:45.0572 (UTC) FILETIME=[7D36A840:01C5D8C8]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You can also use a filter to filter your results. As far as I know
Filter does not effect the score

HTH

Aviran

http://www.aviransplace.com

-----Original Message-----
From: Maik Schreiber
[mailto:blizzy-keyword-lucene_user.f5486d@blizzy.de] 
Sent: Monday, October 24, 2005 2:24 PM
To: java-user@lucene.apache.org
Subject: Re: Non-scoring fields

>>Just a quick question: How do I add non-scoring fields to a query? Set

>>boost to 0?
> 
> Yes, just use permissions:blah^0

Cool, thanks.

-- 
Maik Schreiber   *   http://www.blizzy.de

GPG public key:
http://pgp.mit.edu:11371/pks/lookup?op=get&search=0x1F11D713
Key fingerprint: CF19 AFCE 6E3D 5443 9599 18B5 5640 1F11 D713

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17038-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 24 19:03:03 2005
Return-Path: <java-user-return-17038-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86147 invoked from network); 24 Oct 2005 19:03:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Oct 2005 19:03:03 -0000
Received: (qmail 38432 invoked by uid 500); 24 Oct 2005 19:02:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38402 invoked by uid 500); 24 Oct 2005 19:02:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38388 invoked by uid 99); 24 Oct 2005 19:02:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 12:02:56 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.44.16.11] (HELO getopt.org) (69.44.16.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 12:02:54 -0700
Received: from [192.168.0.254] (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id j9OJ2l618880
	for <java-user@lucene.apache.org>; Mon, 24 Oct 2005 14:02:47 -0500
Message-ID: <435D2FC7.80709@getopt.org>
Date: Mon, 24 Oct 2005 21:02:31 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Non-scoring fields
References: <435CD390.2000409@blizzy.de> <200510242016.43345@danielnaber.de>
In-Reply-To: <200510242016.43345@danielnaber.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Daniel Naber wrote:
> On Montag 24 Oktober 2005 14:29, Maik Schreiber wrote:
> 
> 
>>Just a quick question: How do I add non-scoring fields to a query? Set
>>boost to 0?
> 
> 
> Yes, just use permissions:blah^0

However, a side effect of this is that Explanations are broken (return 
always "0.0: match required").


-- 
Best regards,
Andrzej Bialecki     <><
  ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17039-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 24 19:18:43 2005
Return-Path: <java-user-return-17039-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96164 invoked from network); 24 Oct 2005 19:18:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Oct 2005 19:18:43 -0000
Received: (qmail 62077 invoked by uid 500); 24 Oct 2005 19:18:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61818 invoked by uid 500); 24 Oct 2005 19:18:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61807 invoked by uid 99); 24 Oct 2005 19:18:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 12:18:36 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [128.218.33.11] (HELO gossamer.ckm.ucsf.edu) (128.218.33.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 12:18:34 -0700
Received: from gossamer (gossamer [128.218.33.11])
	by gossamer.ckm.ucsf.edu (8.11.6-20030924/8.11.6) with ESMTP id j9OJIFu00656
	for <java-user@lucene.apache.org>; Mon, 24 Oct 2005 12:18:15 -0700 (PDT)
Date: Mon, 24 Oct 2005 12:18:15 -0700 (PDT)
From: Bob Mason <bmason@library.ucsf.edu>
X-X-Sender: bmason@gossamer.ckm.ucsf.edu
To: java-user@lucene.apache.org
Subject: Is there a way to get absolutely exact phrase matching (no stop
 words, etc)
Message-ID: <Pine.GSO.4.64.0510241211070.9186@gossamer.ckm.ucsf.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed
X-Filter-Version: 1.14 (gossamer)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

We have a large body of documents that have xml
and ocr embedded within one of the xml fields.

Searches such as "group effect"

are returning hits for docs such as ones that include the following:

  ...group of ~a- The effect...

because, I take it, stop words like 'of' and 'the' and punctuation
are ignored. Is there anything I can do about this other
than write an alternative to the Standard Analyzer?

thanks,

Bob Mason
UCSF Tobacco Industy Digital Library



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17040-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 24 19:38:32 2005
Return-Path: <java-user-return-17040-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15404 invoked from network); 24 Oct 2005 19:38:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Oct 2005 19:38:32 -0000
Received: (qmail 6510 invoked by uid 500); 24 Oct 2005 19:38:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6275 invoked by uid 500); 24 Oct 2005 19:38:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6264 invoked by uid 99); 24 Oct 2005 19:38:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 12:38:26 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of eva.rissmann@gmx.de designates 213.165.64.20 as permitted sender)
Received: from [213.165.64.20] (HELO mail.gmx.net) (213.165.64.20)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 24 Oct 2005 12:38:24 -0700
Received: (qmail invoked by alias); 24 Oct 2005 19:38:02 -0000
Received: from p83.129.49.72.tisdip.tiscali.de (EHLO Notebook) [83.129.49.72]
  by mail.gmx.net (mp026) with SMTP; 24 Oct 2005 21:38:02 +0200
X-Authenticated: #12288103
From: "Eva Rissmann" <eva.rissmann@gmx.de>
To: <java-user@lucene.apache.org>
Subject: Index downwards compatible?
Date: Mon, 24 Oct 2005 21:38:32 +0200
Message-ID: <001301c5d8d2$85fd9f10$f100a8c0@Notebook>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
In-Reply-To: <435D26B0.6060905@blizzy.de>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Y-GMX-Trusted: 0
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi all,
currently we are using Lucene 1.3, but soon we'd like to switch to
Lucene 1.4. Can the old index be used or does it have to be recreated?
And what about Lucene 1.9/2.0. Is the index downwards compatible?

Thanks
Eva


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17041-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 24 20:33:27 2005
Return-Path: <java-user-return-17041-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40435 invoked from network); 24 Oct 2005 20:33:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Oct 2005 20:33:27 -0000
Received: (qmail 75649 invoked by uid 500); 24 Oct 2005 20:33:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75628 invoked by uid 500); 24 Oct 2005 20:33:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75617 invoked by uid 99); 24 Oct 2005 20:33:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 13:33:20 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.18.29] (HELO mailer.syr.edu) (128.230.18.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 13:33:19 -0700
Received: from [128.230.38.212] (syru38-212.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.149A912C@mailer.syr.edu>; Mon, 24 Oct 2005 16:32:59 -0400
Message-ID: <435D44FA.6050702@syr.edu>
Date: Mon, 24 Oct 2005 16:32:58 -0400
From: Steven Rowe <sarowe@syr.edu>
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050411)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Is there a way to get absolutely exact phrase matching (no stop
 words, etc)
References: <Pine.GSO.4.64.0510241211070.9186@gossamer.ckm.ucsf.edu>
In-Reply-To: <Pine.GSO.4.64.0510241211070.9186@gossamer.ckm.ucsf.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Bob,

StandardAnalyzer filters the token stream created by StandardTokenizer 
through StandardFilter, LowercaseFilter, and then StopFilter.  Unless 
you supply a stoplist to the StandardAnalyzer constructor, you get the 
default set of English stopwords, from StopAnalyzer:

   public static final String[] ENGLISH_STOP_WORDS = {
     "a", "an", "and", "are", "as", "at", "be", "but", "by",
     "for", "if", "in", "into", "is", "it",
     "no", "not", "of", "on", "or", "s", "such",
     "t", "that", "the", "their", "then", "there", "these",
     "they", "this", "to", "was", "will", "with"
   };

One approach to the problem you're seeing is to advance the token 
position in StopFilter with each stopword encountered, so that phrase 
queries like

    "group effect"

will fail to match against

    "...group of ~a- The effect..."

because the positions for tokens "group" and "effect" would not be adjacent.

(My naive reading of StandardTokenizer.jj, the JavaCC grammar used to 
create StandardTokenizer.java, is that "~a-" will generate a single 
token "a", which will then be filtered out by StopFilter.)

A patch implementing this approach was actually applied to 
StopFilter.java in late 2003, but was reverted shortly afterward, 
because this approach conflicts with the QueryParser and PhraseQuery 
implementations.

See Doug Cutting's description of the problem with the position 
increment modification approach here:
<http://mail-archives.apache.org/mod_mbox/lucene-java-dev/200312.mbox/%3c3FCFB3CA.9000103@lucene.com%3e>

See a colored diff of StopFilter.java, just before and after the 
position increment modification patch was reverted, here:
<http://svn.apache.org/viewcvs.cgi/lucene/java/trunk/src/java/org/apache/lucene/analysis/StopFilter.java?rev=150152&r1=150150&r2=150152&diff_format=h>

This modification is simple and straightforward.  You could make the 
same changes to a local copy of StopFilter (call it PosIncrStopFilter), 
then create and use a StandardAnalyzer clone that uses PosIncrStopFilter 
instead of StopFilter.

Good luck,
Steve Rowe

Bob Mason wrote:
> We have a large body of documents that have xml
> and ocr embedded within one of the xml fields.
> 
> Searches such as "group effect"
> 
> are returning hits for docs such as ones that include the following:
> 
>  ...group of ~a- The effect...
> 
> because, I take it, stop words like 'of' and 'the' and punctuation
> are ignored. Is there anything I can do about this other
> than write an alternative to the Standard Analyzer?
> 
> thanks,
> 
> Bob Mason
> UCSF Tobacco Industy Digital Library

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17042-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 24 20:47:56 2005
Return-Path: <java-user-return-17042-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46877 invoked from network); 24 Oct 2005 20:47:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Oct 2005 20:47:56 -0000
Received: (qmail 1454 invoked by uid 500); 24 Oct 2005 20:47:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1286 invoked by uid 500); 24 Oct 2005 20:47:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1274 invoked by uid 99); 24 Oct 2005 20:47:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 13:47:49 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of chris.lu@gmail.com designates 72.14.204.202 as permitted sender)
Received: from [72.14.204.202] (HELO qproxy.gmail.com) (72.14.204.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 13:47:47 -0700
Received: by qproxy.gmail.com with SMTP id q18so314695qba
        for <java-user@lucene.apache.org>; Mon, 24 Oct 2005 13:47:27 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=eVURLnDObP8mHmEqvQVYxCYmNQHWlV4R+71uAozJJfDxh+rZX8LIFyFZ0I4+fMOwYprP54B9Bz+14TtvlRdfunovK30ORPeEZ9MbSJacuIQAvUuPJYOfFAjpYdnNZumRC5svGhBlpRAoIUUPFmdO+u4Ig5FxOcnkKeVMHpbtpuY=
Received: by 10.65.236.16 with SMTP id n16mr740865qbr;
        Mon, 24 Oct 2005 13:47:27 -0700 (PDT)
Received: by 10.65.93.10 with HTTP; Mon, 24 Oct 2005 13:47:27 -0700 (PDT)
Message-ID: <6e3ae6310510241347u4c44045ev737c62a02fd5adac@mail.gmail.com>
Date: Mon, 24 Oct 2005 13:47:27 -0700
From: Chris Lu <chris.lu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: lucene and databases
In-Reply-To: <6e3ae6310510241050h5373f77fx81ff125d42cba386@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <435D1A31.4070002@sun.com>
	 <6e3ae6310510241050h5373f77fx81ff125d42cba386@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Also, you can try Compass. I remember it stores the index when you use
hibernate.

Chris Lu
------------------------------
Lucene Full-Text Search on Any Database
http://www.DBSight.net

On 10/24/05, Chris Lu <chris.lu@gmail.com> wrote:
> JDBCDirectory doesn't help you to index content in rdms.
> It just stores the lucene index into rdms. This approach will be
> slower than file system based approach.
>
> For your first question, "Indexing content that is stored in a dbms",
> you can take a look at DBSight. It's a generic tool to easily extract
> content from database and build an index, which seems simple, but
> behind the scene, it does more than that, including, multi-threaded
> extraction and search, multi index support, template-based search
> result, scheduled index updating, web-based control and configuration,
> remote index replication, etc.
>
> Chris Lu
> ------------------------------
> Lucene Full-Text Search on Any Database
> http://www.DBSight.net
>
>
> On 10/24/05, Rick Hillegas <Richard.Hillegas@sun.com> wrote:
> > Thanks to Yonik for replying to my last question about queries and filt=
ers.
> >
> > Now I have another issue. I would appreciate any pointers to attempts t=
o
> > integrate Lucene with databases. There's a tantalizing reference to a
> > class called JDBCDirectory mentioned at
> > http://wiki.apache.org/jakarta-lucene/LatestNews. However, my browser
> > times out trying to access the follow-up link
> > http://ppinew.mnis.com/jdbcdirectory. An email thread
> > (http://www.mail-archive.com/java-user@lucene.apache.org/msg01036.html)
> > makes me hope that this class helps an application index a body of
> > documents stored in a relational database. But this class, perhaps a
> > cousin of FSDirectory and RAMDirectory, doesn't seem to be part of
> > Lucene proper.
> >
> > In any event, I would appreciate pointers to people's experience
> > integrating Lucene with relational databases. I realize this is a very
> > broad question. It sweeps up topics like the following:
> >
> > o Indexing content that is stored in a dbms
> >
> > o Wrapping filters around the results of sql queries
> >
> > o Integrating Lucene query syntax with sql query syntax
> >
> > o Practical tips about when to expose information as a Lucene field vs.
> > when to expose that  information as a column in a relational table
> >
> > Thanks,
> > -Rick
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17043-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 24 21:41:59 2005
Return-Path: <java-user-return-17043-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72068 invoked from network); 24 Oct 2005 21:41:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Oct 2005 21:41:59 -0000
Received: (qmail 90929 invoked by uid 500); 24 Oct 2005 21:41:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90908 invoked by uid 500); 24 Oct 2005 21:41:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90892 invoked by uid 99); 24 Oct 2005 21:41:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 14:41:52 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [141.149.165.226] (HELO ponyexpress2.ad.openratings.com) (141.149.165.226)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 14:41:49 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: Delete doesn't delete?
Date: Mon, 24 Oct 2005 17:41:25 -0400
Message-ID: <9951857AC27D97449C62F7DD6C6122481D9B65@ponyexpress2.ad.openratings.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: lucene and databases
Thread-Index: AcXY3FF8TT4OtjuJQZiM9bwVZttKxgABtF1Q
From: "Dan Quaroni" <dquaroni@OPENRATINGS.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I know there's a little bit of trickery when it comes to deletes (i.e. =
it's still in the index until optimize, still available to open readers, =
etc) however I'm having this problem:

I've implemented a call to delete by term.  It tells me that it deleted =
1 item, but then I go and open a new reader on the index, search for =
this document, and I find it.  Confused, I run the delete again, and it =
once again tells me 1 document deleted.  And still, I can open a new =
searched and search for it.

I've tried closing the reader that I used to delete it, still no luck.

Any suggestions?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17044-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 24 23:34:12 2005
Return-Path: <java-user-return-17044-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30205 invoked from network); 24 Oct 2005 23:34:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Oct 2005 23:34:12 -0000
Received: (qmail 9665 invoked by uid 500); 24 Oct 2005 23:34:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9637 invoked by uid 500); 24 Oct 2005 23:34:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9626 invoked by uid 99); 24 Oct 2005 23:34:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 16:34:06 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.146.176.52] (HELO web26602.mail.ukl.yahoo.com) (217.146.176.52)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 24 Oct 2005 16:34:05 -0700
Received: (qmail 6290 invoked by uid 60001); 24 Oct 2005 23:33:44 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.de;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=fxxYVFRq4Gn2sF31fJqx1jRVQndFOM6rfapjunxj6BUyLuFzybKhZKHBdnHv2MTP27e0JakA2y5WpxbQGOhSSHciPqH7GuI7s5erIeOH1kVDY+DtnoanG0kNLJ0VILp+uu915SnMQJKdtMTxSBC8YcASzo/86cTB2L1ToBiYPwk=  ;
Message-ID: <20051024233344.6288.qmail@web26602.mail.ukl.yahoo.com>
Received: from [80.108.142.59] by web26602.mail.ukl.yahoo.com via HTTP; Tue, 25 Oct 2005 01:33:44 CEST
Date: Tue, 25 Oct 2005 01:33:44 +0200 (CEST)
From: Samuel Jackson <samurujackson@yahoo.de>
Subject: Indexing problem - empty index files!
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi to all!

I'm new to Lucene and wanted to create a sample
application to index certain database fields.

But there seems to be some problem because the created
files in the index target directory are only 1kb -->
So I don't get any results of course.


Here is what I did - can anyone give me a hint whats
wrong?

for (Iterator iter = someData.iterator();
iter.hasNext(); ) { 
Item item = (Item) iter.next();
Document doc = new Document();
doc.add(Field.Text("id", 
Long.toString(item.getId())));
doc.add(Field.Text("title", item.getTitle()));
doc.add(Field.Text("description", item.getTitle()));
try {
        final IndexWriter writer = new
IndexWriter(indexLocation, new StandardAnalyzer(),
true);
        writer.addDocument(doc);
        writer.optimize();
        writer.close();
        indexCreated = true;
}
catch (IOException e) {
    e.printStackTrace();
}
}






	

	
		
___________________________________________________________ 
Gesendet von Yahoo! Mail - Jetzt mit 1GB Speicher kostenlos - Hier anmelden: http://mail.yahoo.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17045-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 24 23:44:21 2005
Return-Path: <java-user-return-17045-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32390 invoked from network); 24 Oct 2005 23:44:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Oct 2005 23:44:21 -0000
Received: (qmail 17806 invoked by uid 500); 24 Oct 2005 23:44:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17780 invoked by uid 500); 24 Oct 2005 23:44:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17768 invoked by uid 99); 24 Oct 2005 23:44:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 16:44:16 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.18.98.36] (HELO brmea-mail-4.sun.com) (192.18.98.36)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 16:44:14 -0700
Received: from phys-d3-ha21sca-2 ([129.145.155.165])
	by brmea-mail-4.sun.com (8.12.10/8.12.9) with ESMTP id j9ONhsD7009421
	for <java-user@lucene.apache.org>; Mon, 24 Oct 2005 17:43:54 -0600 (MDT)
Received: from conversion-daemon.ha21sca-mail1.sfbay.sun.com by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 id <0IOW001011XJ9J@ha21sca-mail1.sfbay.sun.com>
 (original mail from Richard.Hillegas@Sun.COM) for java-user@lucene.apache.org;
 Mon, 24 Oct 2005 16:44:16 -0700 (PDT)
Received: from [129.150.26.170]
 (vpn-129-150-26-170.SFBay.Sun.COM [129.150.26.170])
 by ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 with ESMTP id <0IOW00KQ41XR5A@ha21sca-mail1.sfbay.sun.com> for
 java-user@lucene.apache.org; Mon, 24 Oct 2005 16:44:16 -0700 (PDT)
Date: Mon, 24 Oct 2005 16:43:54 -0700
From: Rick Hillegas <Richard.Hillegas@Sun.COM>
Subject: Re: lucene and databases
In-reply-to: <6e3ae6310510241347u4c44045ev737c62a02fd5adac@mail.gmail.com>
To: java-user@lucene.apache.org
Message-id: <435D71BA.10302@sun.com>
MIME-version: 1.0
Content-type: text/plain; charset=ISO-8859-1; format=flowed
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
References: <435D1A31.4070002@sun.com>
 <6e3ae6310510241050h5373f77fx81ff125d42cba386@mail.gmail.com>
 <6e3ae6310510241347u4c44045ev737c62a02fd5adac@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks, Chris. I have a couple follow-on questions:

1) Thanks for the pointer to DBSight.net. It seems that DBSight has 
built some integration support for MySQL. Do you know if there are any 
plans to build integration support for Derby, the Apache open source 
database (http://db.apache.org/derby/)?

2) I'm afraid I don't understand the reference to Compass. Can you point 
me at an URL?

3) Thanks for clarifying what JDBCDirectory does. Is this a dead 
technology? All of my attempts to access the JDBCDirectory url timeout.

Regards,
-Rick

Chris Lu wrote:

>Also, you can try Compass. I remember it stores the index when you use
>hibernate.
>
>Chris Lu
>------------------------------
>Lucene Full-Text Search on Any Database
>http://www.DBSight.net
>
>On 10/24/05, Chris Lu <chris.lu@gmail.com> wrote:
>  
>
>>JDBCDirectory doesn't help you to index content in rdms.
>>It just stores the lucene index into rdms. This approach will be
>>slower than file system based approach.
>>
>>For your first question, "Indexing content that is stored in a dbms",
>>you can take a look at DBSight. It's a generic tool to easily extract
>>content from database and build an index, which seems simple, but
>>behind the scene, it does more than that, including, multi-threaded
>>extraction and search, multi index support, template-based search
>>result, scheduled index updating, web-based control and configuration,
>>remote index replication, etc.
>>
>>Chris Lu
>>------------------------------
>>Lucene Full-Text Search on Any Database
>>http://www.DBSight.net
>>
>>
>>On 10/24/05, Rick Hillegas <Richard.Hillegas@sun.com> wrote:
>>    
>>
>>>Thanks to Yonik for replying to my last question about queries and filters.
>>>
>>>Now I have another issue. I would appreciate any pointers to attempts to
>>>integrate Lucene with databases. There's a tantalizing reference to a
>>>class called JDBCDirectory mentioned at
>>>http://wiki.apache.org/jakarta-lucene/LatestNews. However, my browser
>>>times out trying to access the follow-up link
>>>http://ppinew.mnis.com/jdbcdirectory. An email thread
>>>(http://www.mail-archive.com/java-user@lucene.apache.org/msg01036.html)
>>>makes me hope that this class helps an application index a body of
>>>documents stored in a relational database. But this class, perhaps a
>>>cousin of FSDirectory and RAMDirectory, doesn't seem to be part of
>>>Lucene proper.
>>>
>>>In any event, I would appreciate pointers to people's experience
>>>integrating Lucene with relational databases. I realize this is a very
>>>broad question. It sweeps up topics like the following:
>>>
>>>o Indexing content that is stored in a dbms
>>>
>>>o Wrapping filters around the results of sql queries
>>>
>>>o Integrating Lucene query syntax with sql query syntax
>>>
>>>o Practical tips about when to expose information as a Lucene field vs.
>>>when to expose that  information as a column in a relational table
>>>
>>>Thanks,
>>>-Rick
>>>
>>>---------------------------------------------------------------------
>>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>>      
>>>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17046-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 24 23:47:09 2005
Return-Path: <java-user-return-17046-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32800 invoked from network); 24 Oct 2005 23:47:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Oct 2005 23:47:09 -0000
Received: (qmail 19268 invoked by uid 500); 24 Oct 2005 23:47:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19239 invoked by uid 500); 24 Oct 2005 23:47:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19228 invoked by uid 99); 24 Oct 2005 23:47:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 16:47:03 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.18.98.34] (HELO brmea-mail-3.sun.com) (192.18.98.34)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 16:47:01 -0700
Received: from phys-d3-ha21sca-2 ([129.145.155.165])
	by brmea-mail-3.sun.com (8.12.10/8.12.9) with ESMTP id j9ONkg3F019527
	for <java-user@lucene.apache.org>; Mon, 24 Oct 2005 17:46:42 -0600 (MDT)
Received: from conversion-daemon.ha21sca-mail1.sfbay.sun.com by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 id <0IOW001011XJ9J@ha21sca-mail1.sfbay.sun.com>
 (original mail from Richard.Hillegas@Sun.COM) for java-user@lucene.apache.org;
 Mon, 24 Oct 2005 16:47:03 -0700 (PDT)
Received: from [129.150.26.170]
 (vpn-129-150-26-170.SFBay.Sun.COM [129.150.26.170])
 by ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 with ESMTP id <0IOW00KJT22F5A@ha21sca-mail1.sfbay.sun.com> for
 java-user@lucene.apache.org; Mon, 24 Oct 2005 16:47:03 -0700 (PDT)
Date: Mon, 24 Oct 2005 16:46:42 -0700
From: Rick Hillegas <Richard.Hillegas@Sun.COM>
Subject: Re: lucene and databases
In-reply-to: <435D20AE.4080705@syr.edu>
To: java-user@lucene.apache.org
Message-id: <435D7262.3070208@sun.com>
MIME-version: 1.0
Content-type: text/plain; charset=ISO-8859-1; format=flowed
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
References: <435D1A31.4070002@sun.com> <435D20AE.4080705@syr.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks, Steven. This is an interesting approach which looks like it gets 
the user up and running pretty fast.

Cheers,
-Rick

Steven Rowe wrote:

> Code and examples for embedding Lucene in HSQLDB and Derby relational 
> databases:
> <http://issues.apache.org/jira/browse/LUCENE-434>
>
> Rick Hillegas wrote:
>
>> Thanks to Yonik for replying to my last question about queries and 
>> filters.
>>
>> Now I have another issue. I would appreciate any pointers to attempts 
>> to integrate Lucene with databases. There's a tantalizing reference 
>> to a class called JDBCDirectory mentioned at 
>> http://wiki.apache.org/jakarta-lucene/LatestNews. However, my browser 
>> times out trying to access the follow-up link 
>> http://ppinew.mnis.com/jdbcdirectory. An email thread 
>> (http://www.mail-archive.com/java-user@lucene.apache.org/msg01036.html) 
>> makes me hope that this class helps an application index a body of 
>> documents stored in a relational database. But this class, perhaps a 
>> cousin of FSDirectory and RAMDirectory, doesn't seem to be part of 
>> Lucene proper.
>>
>> In any event, I would appreciate pointers to people's experience 
>> integrating Lucene with relational databases. I realize this is a 
>> very broad question. It sweeps up topics like the following:
>>
>> o Indexing content that is stored in a dbms
>>
>> o Wrapping filters around the results of sql queries
>>
>> o Integrating Lucene query syntax with sql query syntax
>>
>> o Practical tips about when to expose information as a Lucene field 
>> vs. when to expose that  information as a column in a relational table
>>
>> Thanks,
>> -Rick
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17047-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 00:41:38 2005
Return-Path: <java-user-return-17047-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50351 invoked from network); 25 Oct 2005 00:41:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 00:41:38 -0000
Received: (qmail 57479 invoked by uid 500); 25 Oct 2005 00:41:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57455 invoked by uid 500); 25 Oct 2005 00:41:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57444 invoked by uid 99); 25 Oct 2005 00:41:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 17:41:31 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of koji.sekiguchi@m4.dion.ne.jp designates 203.181.105.73 as permitted sender)
Received: from [203.181.105.73] (HELO hfep07.dion.ne.jp) (203.181.105.73)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 17:41:29 -0700
Received: from sekiguchi ([59.135.86.206]) by hfep07.dion.ne.jp with SMTP
          id <20051025004108752.JLCU@hfep07.dion.ne.jp>
          for <java-user@lucene.apache.org>;
          Tue, 25 Oct 2005 09:41:08 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
Subject: RE: Indexing problem - empty index files!
Date: Tue, 25 Oct 2005 09:41:05 +0900
Message-ID: <PKEIKOCKCHNIIHNECPCCOEKNCAAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <20051024233344.6288.qmail@web26602.mail.ukl.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Samuel,

IndexWriter should be opened once and keep it open
until all documents are added to the writer, then close the writer.

modified sample code:

final IndexWriter writer = new IndexWriter(indexLocation, new
StandardAnalyzer(),true);

for (Iterator iter = someData.iterator(); iter.hasNext(); ) {
    Item item = (Item) iter.next();
    Document doc = new Document();
    doc.add(Field.Text("id", Long.toString(item.getId())));
    doc.add(Field.Text("title", item.getTitle()));
    doc.add(Field.Text("description", item.getTitle()));
    writer.addDocument(doc);
}
writer.optimize();
writer.close();

Koji

> -----Original Message-----
> From: Samuel Jackson [mailto:samurujackson@yahoo.de]
> Sent: Tuesday, October 25, 2005 8:34 AM
> To: java-user@lucene.apache.org
> Subject: Indexing problem - empty index files!
>
>
> Hi to all!
>
> I'm new to Lucene and wanted to create a sample
> application to index certain database fields.
>
> But there seems to be some problem because the created
> files in the index target directory are only 1kb -->
> So I don't get any results of course.
>
>
> Here is what I did - can anyone give me a hint whats
> wrong?
>
> for (Iterator iter = someData.iterator();
> iter.hasNext(); ) {
> Item item = (Item) iter.next();
> Document doc = new Document();
> doc.add(Field.Text("id",
> Long.toString(item.getId())));
> doc.add(Field.Text("title", item.getTitle()));
> doc.add(Field.Text("description", item.getTitle()));
> try {
>         final IndexWriter writer = new
> IndexWriter(indexLocation, new StandardAnalyzer(),
> true);
>         writer.addDocument(doc);
>         writer.optimize();
>         writer.close();
>         indexCreated = true;
> }
> catch (IOException e) {
>     e.printStackTrace();
> }
> }
>
>
>
>
>
>
>
>
>
>
> ___________________________________________________________
> Gesendet von Yahoo! Mail - Jetzt mit 1GB Speicher kostenlos -
> Hier anmelden: http://mail.yahoo.de
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17048-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 00:46:40 2005
Return-Path: <java-user-return-17048-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52561 invoked from network); 25 Oct 2005 00:46:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 00:46:40 -0000
Received: (qmail 64880 invoked by uid 500); 25 Oct 2005 00:46:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64857 invoked by uid 500); 25 Oct 2005 00:46:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64846 invoked by uid 99); 25 Oct 2005 00:46:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 17:46:34 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.201.77] (HELO web31115.mail.mud.yahoo.com) (68.142.201.77)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 24 Oct 2005 17:46:32 -0700
Received: (qmail 20872 invoked by uid 60001); 25 Oct 2005 00:46:11 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=G21Y5ivqK0uCvqClTfX1H8bvrI9kef4bE195eVxSSSfGJLH92ozxgRgXqi1P9OGDa+jHpK0TbCmp1kBHUuSNt0hpC0pbopaE7CBA/I1eLGae/Wva4F6za+Q7Q9V7L8CSe4pQZZ8IaIbsjC6W4v7RKTFP3//mgyVhoVPOnD+atCQ=  ;
Message-ID: <20051025004611.20870.qmail@web31115.mail.mud.yahoo.com>
Received: from [69.201.142.21] by web31115.mail.mud.yahoo.com via HTTP; Mon, 24 Oct 2005 17:46:11 PDT
Date: Mon, 24 Oct 2005 17:46:11 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Index downwards compatible?
To: java-user@lucene.apache.org
In-Reply-To: <001301c5d8d2$85fd9f10$f100a8c0@Notebook>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Eva,

Please see the CHANGES file (you can see it directly in the
repository), where we record all important changes to the code,
including index compatibility changes.

Otis


--- Eva Rissmann <eva.rissmann@gmx.de> wrote:

> Hi all,
> currently we are using Lucene 1.3, but soon we'd like to switch to
> Lucene 1.4. Can the old index be used or does it have to be
> recreated?
> And what about Lucene 1.9/2.0. Is the index downwards compatible?
> 
> Thanks
> Eva
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17049-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 04:24:06 2005
Return-Path: <java-user-return-17049-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34487 invoked from network); 25 Oct 2005 04:24:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 04:24:06 -0000
Received: (qmail 6145 invoked by uid 500); 25 Oct 2005 04:24:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6106 invoked by uid 500); 25 Oct 2005 04:24:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6095 invoked by uid 500); 25 Oct 2005 04:24:00 -0000
Delivered-To: apmail-jakarta-lucene-user@jakarta.apache.org
Received: (qmail 6092 invoked by uid 99); 25 Oct 2005 04:24:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 21:24:00 -0700
X-ASF-Spam-Status: No, hits=1.7 required=10.0
	tests=RCVD_IN_NJABL_DUL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.43] (HELO ylpvm12.prodigy.net) (207.115.57.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 21:23:58 -0700
Received: from pimout5-ext.prodigy.net (pimout5-int.prodigy.net [207.115.4.21])
	by ylpvm12.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id j9P4NvTl006079
	for <lucene-user@jakarta.apache.org>; Tue, 25 Oct 2005 00:23:57 -0400
X-ORBL: [66.141.54.131]
Received: from [192.168.1.10] (adsl-66-141-54-131.dsl.austtx.swbell.net [66.141.54.131])
	by pimout5-ext.prodigy.net (8.13.4 outbound domainkey aix/8.13.4) with ESMTP id j9P4NQ1V030106
	for <lucene-user@jakarta.apache.org>; Tue, 25 Oct 2005 00:23:29 -0400
Mime-Version: 1.0 (Apple Message framework v734)
Content-Transfer-Encoding: 7bit
Message-Id: <0E16864C-E739-449E-B512-96CC2090307C@otherwise.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
To: Lucene Users List <lucene-user@jakarta.apache.org>
From: Bill Tschumy <bill@otherwise.com>
Subject: Another index corruption problem
Date: Mon, 24 Oct 2005 23:23:23 -0500
X-Mailer: Apple Mail (2.734)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Many months ago I wrote this list about a corrupted index that one of  
my customers had.  It was a mystery that was never really solved.   
Well, it has happened again and the stack trace looks almost  
identical.  Here is the exception:

java.io.FileNotFoundException: /Users/samegan/Library/Preferences/ 
Parsnips/IndexData/_1d.fnm (No such file or directory)
     at java.io.RandomAccessFile.open(Native Method)
     at java.io.RandomAccessFile.<init>(RandomAccessFile.java:204)
     at org.apache.lucene.store.FSInputStream$Descriptor.<init> 
(FSDirectory.java:376)
     at org.apache.lucene.store.FSInputStream.<init>(FSDirectory.java: 
405)
     at org.apache.lucene.store.FSDirectory.openFile(FSDirectory.java: 
268)
     at org.apache.lucene.index.FieldInfos.<init>(FieldInfos.java:53)
     at org.apache.lucene.index.SegmentReader.initialize 
(SegmentReader.java:109)
     at org.apache.lucene.index.SegmentReader.<init> 
(SegmentReader.java:94)
     at org.apache.lucene.index.IndexReader$1.doBody(IndexReader.java: 
122)
     at org.apache.lucene.store.Lock$With.run(Lock.java:109)
     at org.apache.lucene.index.IndexReader.open(IndexReader.java:111)
     at org.apache.lucene.index.IndexReader.open(IndexReader.java:106)
     at org.apache.lucene.search.IndexSearcher.<init> 
(IndexSearcher.java:43)
     at com.otherwise.parsnips.MySearcher.getSearcher(MySearcher.java: 
96)
     at com.otherwise.parsnips.IndexUpdater.checkIndexVersion 
(IndexUpdater.java:35)
     at com.otherwise.parsnips.Parsnips.initIndex(Parsnips.java:1043)
     at com.otherwise.parsnips.Parsnips.<init>(Parsnips.java:148)
     at com.otherwise.parsnips.Parsnips.mainInEventThread 
(Parsnips.java:1158)
     at com.otherwise.parsnips.Parsnips$4.run(Parsnips.java:1115)
     at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java: 
189)
     at java.awt.EventQueue.dispatchEvent(EventQueue.java:478)
     at java.awt.EventDispatchThread.pumpOneEventForHierarchy 
(EventDispatchThread.java:234)
     at java.awt.EventDispatchThread.pumpEventsForHierarchy 
(EventDispatchThread.java:184)
     at java.awt.EventDispatchThread.pumpEvents 
(EventDispatchThread.java:178)
     at java.awt.EventDispatchThread.pumpEvents 
(EventDispatchThread.java:170)
     at java.awt.EventDispatchThread.run(EventDispatchThread.java:100)

This is a compound index, so I guess the .fnm file it is looking for  
is internal to it or temporary in some way.  The customer thinks the  
problem was caused by accidentally pasting an entire document into  
the "title" field and saving.  I kind of doubt this caused the  
problem, but you never know.  I treat the "title" and the "body"  
identically for indexing.

The person is pretty panicked about his lost data.  Does anyone have  
any hints as to how to edit the file to get it back functioning  
again?  I've heard of people using hex editors for this.

After solving his immediate problem, I need to figure out why this is  
happening.  I haven't followed this list for a couple of months.  Has  
anything like this come up recently?  I am using Lucene-1.4.3.
-- 
Bill Tschumy
Otherwise -- Austin, TX
http://www.otherwise.com



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17050-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 04:29:50 2005
Return-Path: <java-user-return-17050-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35681 invoked from network); 25 Oct 2005 04:29:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 04:29:50 -0000
Received: (qmail 8295 invoked by uid 500); 25 Oct 2005 04:29:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7843 invoked by uid 500); 25 Oct 2005 04:29:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7832 invoked by uid 99); 25 Oct 2005 04:29:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 21:29:44 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 21:29:42 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 1DADA5B7A7; Mon, 24 Oct 2005 21:29:16 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 1AF2B7F478
	for <java-user@lucene.apache.org>; Mon, 24 Oct 2005 21:29:16 -0700 (PDT)
Date: Mon, 24 Oct 2005 21:29:16 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Frustrated with tokenized listing terms
In-Reply-To: <002a01c5d877$5d306e10$0201a8c0@jma>
Message-ID: <Pine.LNX.4.58.0510242128200.20112@hal.rescomp.berkeley.edu>
References: <002a01c5d877$5d306e10$0201a8c0@jma>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: I've solved this by indexing the field twice, once as author:(searchable/not
: stored/tokenized)
: and once as author_phrased:(not searchable/stored/not tokenized).

: This works, but is it the proper way to do it?

It's the most effective/efficient method i can think of.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17051-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 04:46:37 2005
Return-Path: <java-user-return-17051-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40472 invoked from network); 25 Oct 2005 04:46:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 04:46:36 -0000
Received: (qmail 19549 invoked by uid 500); 25 Oct 2005 04:46:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18632 invoked by uid 500); 25 Oct 2005 04:46:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18621 invoked by uid 99); 25 Oct 2005 04:46:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 21:46:31 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 21:46:28 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id C60105B83E; Mon, 24 Oct 2005 21:46:08 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id A95D97F478
	for <java-user@lucene.apache.org>; Mon, 24 Oct 2005 21:46:08 -0700 (PDT)
Date: Mon, 24 Oct 2005 21:46:08 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Webfarm and Index Location
In-Reply-To: <8C7A6A22A7DF44D-794-1AAD8@mblk-d41.sysops.aol.com>
Message-ID: <Pine.LNX.4.58.0510242141510.20112@hal.rescomp.berkeley.edu>
References: <8C7A6A22A7DF44D-794-1AAD8@mblk-d41.sysops.aol.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


This thread proved very usefull for several of us when discussing this
topic in the past...

http://mail-archives.apache.org/mod_mbox/lucene-java-user/200503.mbox/%3c1109713160.18862.109.camel@localhost%3e



: Date: Mon, 24 Oct 2005 07:06:49 -0400
: From: msftblows@aol.com
: Reply-To: java-user@lucene.apache.org
: To: java-user@lucene.apache.org
: Subject: Webfarm and Index Location
:
: Hey-
:
: I would like to store my index in one location, and then have all my IIS servers on the farm call that one index. Basically, I am looking for the best approach here...and any ideas anyone has...
:
: Options:
:
: 1. Store index on SAN and have each server call that location...seems this is an issue because on the SAN I can not have more than one shared drive per computer calling it...would need LUN for each.
:
: 2. Store index on a shared drive (not on a SAN), and then cluster that box that I store the index on...will this work? What over-head for a shared drive call?
:
: 3. Make a webservice call
:
: 4. Make a remoting call
:
: Anything else?
:
: Regards!
: -Joe
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17052-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 05:33:19 2005
Return-Path: <java-user-return-17052-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58162 invoked from network); 25 Oct 2005 05:33:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 05:33:15 -0000
Received: (qmail 62548 invoked by uid 500); 25 Oct 2005 05:33:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62356 invoked by uid 500); 25 Oct 2005 05:33:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62340 invoked by uid 99); 25 Oct 2005 05:33:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 22:33:03 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 22:33:00 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id B5F4A5B827; Mon, 24 Oct 2005 22:32:36 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id B34077F478
	for <java-user@lucene.apache.org>; Mon, 24 Oct 2005 22:32:36 -0700 (PDT)
Date: Mon, 24 Oct 2005 22:32:36 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Delete doesn't delete?
In-Reply-To: <9951857AC27D97449C62F7DD6C6122481D9B65@ponyexpress2.ad.openratings.com>
Message-ID: <Pine.LNX.4.58.0510242231210.21880@hal.rescomp.berkeley.edu>
References: <9951857AC27D97449C62F7DD6C6122481D9B65@ponyexpress2.ad.openratings.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


can you provide some sample code that demonstrates this problem? ...
preferably something that uses hardcoded data to built up an index in a
RAMDirectory so ayone can run the test without needing any external data?

it would make it a lot easier for other people to help you diagnose what's
going on.


: Date: Mon, 24 Oct 2005 17:41:25 -0400
: From: Dan Quaroni <dquaroni@OPENRATINGS.com>
: Reply-To: java-user@lucene.apache.org
: To: java-user@lucene.apache.org
: Subject: Delete doesn't delete?
:
: I know there's a little bit of trickery when it comes to deletes (i.e. it's still in the index until optimize, still available to open readers, etc) however I'm having this problem:
:
: I've implemented a call to delete by term.  It tells me that it deleted 1 item, but then I go and open a new reader on the index, search for this document, and I find it.  Confused, I run the delete again, and it once again tells me 1 document deleted.  And still, I can open a new searched and search for it.
:
: I've tried closing the reader that I used to delete it, still no luck.
:
: Any suggestions?
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17053-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 06:41:44 2005
Return-Path: <java-user-return-17053-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95164 invoked from network); 25 Oct 2005 06:41:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 06:41:44 -0000
Received: (qmail 40854 invoked by uid 500); 25 Oct 2005 06:41:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40242 invoked by uid 500); 25 Oct 2005 06:41:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40231 invoked by uid 99); 25 Oct 2005 06:41:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 23:41:35 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 24 Oct 2005 23:41:33 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 80AF25B78D; Mon, 24 Oct 2005 23:41:13 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP
	id 732C47F477; Mon, 24 Oct 2005 23:41:13 -0700 (PDT)
Date: Mon, 24 Oct 2005 23:41:13 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org, Maxim Patramanskij <max@osua.de>
Subject: Re: Cross-field multi-word and query
In-Reply-To: <18812797609.20051024201355@osua.de>
Message-ID: <Pine.LNX.4.58.0510242321040.21880@hal.rescomp.berkeley.edu>
References: <18812797609.20051024201355@osua.de>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


I may be wrong, but i think what you are talking about is a BooleanQuery
containing several MaxDisjunctionQuery.  take a look at the code in this
patch...

	http://issues.apache.org/jira/browse/LUCENE-323


: Date: Mon, 24 Oct 2005 20:13:55 +0300
: From: Maxim Patramanskij <max@osua.de>
: Reply-To: java-user@lucene.apache.org, Maxim Patramanskij <max@osua.de>
: To: java-user@lucene.apache.org
: Subject: Cross-field multi-word and query
:
:
: I have the following problem:
:
: I need to construct programmatically a Boolean query against n fields
: having m words in my query.
:
: All possible unique combinations(sub-queries) are disjunctive between
: each other while boolean clauses of each combination combines with AND
: operator.
:
: The reason of such complexity is that I have to find a result of AND
: query against several field, when parts of my query could appear in
: different fields and I can't create just one single field because each
: field has its own boost level.
:
: Does anyone have an experience of writing such query builder?
:
: Best regards,
:  Maxim
:
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17054-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 07:15:35 2005
Return-Path: <java-user-return-17054-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12454 invoked from network); 25 Oct 2005 07:15:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 07:15:33 -0000
Received: (qmail 71040 invoked by uid 500); 25 Oct 2005 07:15:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70798 invoked by uid 500); 25 Oct 2005 07:15:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70786 invoked by uid 99); 25 Oct 2005 07:15:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 00:15:20 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.84.244] (HELO web36314.mail.mud.yahoo.com) (209.191.84.244)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 25 Oct 2005 00:15:18 -0700
Received: (qmail 77850 invoked by uid 60001); 25 Oct 2005 07:14:59 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=y6suQQfQlwfT8DM7GhI/aZbe0rso6nXdvywoxUVaZkPmlgk3HgTIZNb2IfFjcUi88KyZ99BZOO/KEW/bvSgDQfa34dj54yv7r4CJAeuOelAWDCWzhLwhdjDlE2X6SS9PHywfVzI9qiSKQu3Ntx6CN4kncdoJ13OuT04zqQeJcok=  ;
Message-ID: <20051025071459.77848.qmail@web36314.mail.mud.yahoo.com>
Received: from [63.203.72.39] by web36314.mail.mud.yahoo.com via HTTP; Tue, 25 Oct 2005 00:14:58 PDT
Date: Tue, 25 Oct 2005 00:14:58 -0700 (PDT)
From: Sam Lee <victor_emailbox@yahoo.com>
Subject: How to Integrate Lucene/Nutch with Mysql?
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi, 
 My network is designed to have a bunch of advertisers
to enter their ads with keywords.  I think of using
mysql to store those, and then use lucene and part of
nutch to index them from mysql db, so that the
websites can find and show the ads.  But how do I
integrate lucene/nutch with mysql?  Do you have any
recommendation about websites that talk about that or
have examples?

I know that nutch has its own file system.  But it's
not possible to throw mysql db all away, right?  I
think I got to use some kind of db like mysql because
data can be changed easily.  

Many thanks.


	
		
__________________________________ 
Yahoo! Mail - PC Magazine Editors' Choice 2005 
http://mail.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17055-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 07:23:48 2005
Return-Path: <java-user-return-17055-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21420 invoked from network); 25 Oct 2005 07:23:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 07:23:47 -0000
Received: (qmail 75302 invoked by uid 500); 25 Oct 2005 07:23:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75273 invoked by uid 500); 25 Oct 2005 07:23:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75262 invoked by uid 99); 25 Oct 2005 07:23:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 00:23:37 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.160.131.136] (HELO p15105029.pureserver.info) (217.160.131.136)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 25 Oct 2005 00:23:35 -0700
Received: (qmail 25894 invoked by uid 3001); 25 Oct 2005 09:23:15 +0200
Received: from 82.144.201.6 by p15105029 (envelope-from <max@osua.de>, uid 89) with qmail-scanner-1.25-st-qms 
 (clamdscan: 0.87/1146. spamassassin: 3.1.0. perlscan: 1.25-st-qms.  
 Clear:RC:0(82.144.201.6):SA:0(3.6/6.5):. 
 Processed in 1.312481 secs); 25 Oct 2005 07:23:15 -0000
X-Spam-Level: +++
X-Spam-Report: SA TESTS
  0.1 FORGED_RCVD_HELO       Received: contains a forged HELO
  3.2 BAYES_99               BODY: Bayesian spam probability is 99 to 100%
                             [score: 1.0000]
  0.2 AWL                    AWL: From: address is in the auto white-list
X-Qmail-Scanner-Mail-From: max@osua.de via p15105029
X-Qmail-Scanner: 1.25-st-qms (Clear:RC:0(82.144.201.6):SA:0(3.6/6.5):. Processed in 1.312481 secs Process 25884)
Received: from ip.82.144.201.6.stat-8.volia.net (HELO max.osuatech.local) (max%osua.de@82.144.201.6)
  by p15105029.pureserver.info with SMTP; 25 Oct 2005 09:23:13 +0200
Date: Tue, 25 Oct 2005 10:23:31 +0300
From: Maxim Patramanskij <max@osua.de>
X-Mailer: The Bat! (v1.62i) Business
Reply-To: Maxim Patramanskij <max@osua.de>
Organization: OSUA technology
X-Priority: 3 (Normal)
Message-ID: <19963773828.20051025102331@osua.de>
To: java-user@lucene.apache.org
CC: Chris Hostetter <hossman_lucene@fucit.org>
Subject: Re[2]: Cross-field multi-word and query
In-Reply-To: <Pine.LNX.4.58.0510242321040.21880@hal.rescomp.berkeley.edu>
References: <18812797609.20051024201355@osua.de>
 <Pine.LNX.4.58.0510242321040.21880@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, hits=3.6 required=6.5
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello Chris,

thanks for the tip.

However, I'm not sure, how can I implement with MaxDisjunctionQuery
the following:

I have n fields, for simplicity let's say 3: f1, f2, f3.
I have an AND query with m words in it, lets' also simplify: w1, w2, w3.

To cover all possible cases I should finally have the following
BooleanQuery:

(+(f1:w1) +(f1:w2) +(f1:w3))
(+(f2:w1) +(f2:w2) +(f2:w3))
(+(f3:w1) +(f3:w2) +(f3:w3))

(+(f1:w1) +(f2:w2) +(f3:w3))
(+(f1:w2) +(f2:w1) +(f3:w3))
(+ f1:w3) +(f2:w1) +(f3:w2))
(+(f1:w1) +(f2:w3) +(f3:w2))
(+(f1:w2) +(f2:w3) +(f3:w1))
(+ f1:w3) +(f2:w2) +(f3:w1))

(+(f1:w1) +(f1:w2) +(f2:w3))
(+(f1:w1) +(f1:w2) +(f3:w3))

(+(f1:w1) +(f1:w3) +(f2:w2))
(+(f1:w1) +(f1:w3) +(f3:w2))

(+(f1:w2) +(f1:w3) +(f2:w1))
(+(f1:w2) +(f1:w3) +(f3:w1))

(+(f2:w1) +(f2:w2) +(f1:w3))
(+(f2:w1) +(f2:w2) +(f3:w3))

(+(f2:w1) +(f2:w3) +(f1:w2))
(+(f2:w1) +(f2:w3) +(f3:w2))

(+(f2:w2) +(f2:w3) +(f1:w1))
(+(f2:w2) +(f2:w3) +(f3:w1))

(+(f3:w1) +(f3:w2) +(f1:w3))
(+(f3:w1) +(f3:w2) +(f2:w3))

(+(f3:w1) +(f3:w3) +(f1:w2))
(+(f3:w1) +(f3:w3) +(f2:w2))

(+(f3:w2) +(f3:w3) +(f1:w1))
(+(f3:w2) +(f3:w3) +(f2:w1))


If I'm wrong and this query can be simplified containing several
MaxDisjunctionQuery, it would be great.

Greetings,
Max



Tuesday, October 25, 2005, 9:41:13 AM, you wrote:


CH> I may be wrong, but i think what you are talking about is a BooleanQuery
CH> containing several MaxDisjunctionQuery.  take a look at the code in this
CH> patch...

CH>         http://issues.apache.org/jira/browse/LUCENE-323


CH> : Date: Mon, 24 Oct 2005 20:13:55 +0300
CH> : From: Maxim Patramanskij <max@osua.de>
CH> : Reply-To: java-user@lucene.apache.org, Maxim Patramanskij <max@osua.de>
CH> : To: java-user@lucene.apache.org
CH> : Subject: Cross-field multi-word and query
CH> :
CH> :
CH> : I have the following problem:
CH> :
CH> : I need to construct programmatically a Boolean query against n fields
CH> : having m words in my query.
CH> :
CH> : All possible unique combinations(sub-queries) are disjunctive between
CH> : each other while boolean clauses of each combination combines with AND
CH> : operator.
CH> :
CH> : The reason of such complexity is that I have to find a result of AND
CH> : query against several field, when parts of my query could appear in
CH> : different fields and I can't create just one single field because each
CH> : field has its own boost level.
CH> :
CH> : Does anyone have an experience of writing such query builder?
CH> :
CH> : Best regards,
CH> :  Maxim
CH> :
CH> :
CH> : ---------------------------------------------------------------------
CH> : To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
CH> : For additional commands, e-mail: java-user-help@lucene.apache.org
CH> :



CH> -Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17056-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 08:32:07 2005
Return-Path: <java-user-return-17056-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55606 invoked from network); 25 Oct 2005 08:32:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 08:32:07 -0000
Received: (qmail 49543 invoked by uid 500); 25 Oct 2005 08:31:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49512 invoked by uid 500); 25 Oct 2005 08:31:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49501 invoked by uid 99); 25 Oct 2005 08:31:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 01:31:59 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [193.252.22.21] (HELO smtp10.wanadoo.fr) (193.252.22.21)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 01:31:56 -0700
Received: from me-wanadoo.net (localhost [127.0.0.1])
	by mwinf1002.wanadoo.fr (SMTP Server) with ESMTP id 4CE6224000BA
	for <java-user@lucene.apache.org>; Tue, 25 Oct 2005 10:31:35 +0200 (CEST)
Received: from [127.0.0.1] (AVelizy-115-2-1-38.w81-48.abo.wanadoo.fr [81.48.163.38])
	by mwinf1002.wanadoo.fr (SMTP Server) with ESMTP id 1B3EA24000AF
	for <java-user@lucene.apache.org>; Tue, 25 Oct 2005 10:31:35 +0200 (CEST)
X-ME-UUID: 20051025083135111.1B3EA24000AF@mwinf1002.wanadoo.fr
Message-ID: <435DED65.1080803@jalios.com>
Date: Tue, 25 Oct 2005 10:31:33 +0200
From: Olivier Jaquemet <olivier.jaquemet@jalios.com>
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Java User ML <java-user@lucene.apache.org>
Subject: Optimize/Indexing progress state - time remaining
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi all,

Is there a nice way to get information regarding the current progress 
state of any/all those operations:
- IndexWriter optimize
- IndexWriter index
- IndexReader delete
For example, having a synchronized method to retrieve a percentage of 
completion from writer/reader in another thread would be great! And then 
it would be quite easy to compute an estimated time remaining for my 
users to know what's happening when they want to reindex all their 
content or do anything quite time consuming.

I could not find anything in the API nor on the ML regarding this.
Any suggestions?

Olivier



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17057-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 10:02:23 2005
Return-Path: <java-user-return-17057-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1595 invoked from network); 25 Oct 2005 10:02:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 10:02:21 -0000
Received: (qmail 44872 invoked by uid 500); 25 Oct 2005 10:00:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44162 invoked by uid 500); 25 Oct 2005 10:00:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43827 invoked by uid 99); 25 Oct 2005 10:00:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 03:00:42 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of blizzy-keyword-lucene_user.f5486d@blizzy.de designates 212.79.22.222 as permitted sender)
Received: from [212.79.22.222] (HELO subshell.com) (212.79.22.222)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 02:43:44 -0700
Received: (qmail 14715 invoked from network); 25 Oct 2005 11:43:23 +0200
Received: from unknown (HELO ?10.0.0.10?) (212.79.22.193)
  by subshell.com with SMTP; 25 Oct 2005 11:43:23 +0200
Message-ID: <435DFE3B.2090904@blizzy.de>
Date: Tue, 25 Oct 2005 11:43:23 +0200
From: Maik Schreiber <blizzy-keyword-lucene_user.f5486d@blizzy.de>
User-Agent: Mozilla Thunderbird 1.0.2 (X11/20050326)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Non-scoring fields
References: <92A278501EF50444AD3EE1FFB51219550BCE39B8@emss10m03.us.lmco.com>
In-Reply-To: <92A278501EF50444AD3EE1FFB51219550BCE39B8@emss10m03.us.lmco.com>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> You can also use a filter to filter your results. As far as I know
> Filter does not effect the score

Yes, but wouldn't a filter be at least a little slower in this simple case?
Perhaps I should just do a few timing tests...

-- 
Maik Schreiber   *   http://www.blizzy.de

GPG public key: http://pgp.mit.edu:11371/pks/lookup?op=get&search=0x1F11D713
Key fingerprint: CF19 AFCE 6E3D 5443 9599 18B5 5640 1F11 D713

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17058-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 10:16:28 2005
Return-Path: <java-user-return-17058-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12266 invoked from network); 25 Oct 2005 10:16:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 10:16:28 -0000
Received: (qmail 88391 invoked by uid 500); 25 Oct 2005 10:16:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88246 invoked by uid 500); 25 Oct 2005 10:16:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88225 invoked by uid 99); 25 Oct 2005 10:16:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 03:16:18 -0700
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of bubblenut@gmail.com designates 72.14.204.204 as permitted sender)
Received: from [72.14.204.204] (HELO qproxy.gmail.com) (72.14.204.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 03:16:16 -0700
Received: by qproxy.gmail.com with SMTP id q10so342214qbq
        for <java-user@lucene.apache.org>; Tue, 25 Oct 2005 03:15:57 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:x-accept-language:mime-version:to:subject:content-type:content-transfer-encoding;
        b=Z43JkXFnBy8rFsetakT/Zxu1JGTIEV29ZsDyWez3EFrWPgvz3EVhsTzNzKPp1r6+38ZQLCYQI0bGtIj8gvjcCCJGPKDFAls2/sHhZ11vFh/MZ25MpSMf1tWoG8KpAXjSaB+U15FDn+oobF94oEezCvQNZGKPVgbbLwFJfbxp4ZM=
Received: by 10.64.183.2 with SMTP id g2mr3625451qbf;
        Tue, 25 Oct 2005 03:15:56 -0700 (PDT)
Received: from ?192.168.250.47? ( [217.207.206.146])
        by mx.gmail.com with ESMTP id e19sm1621144qbe.2005.10.25.03.15.55;
        Tue, 25 Oct 2005 03:15:56 -0700 (PDT)
Message-ID: <435E05E8.8060903@gmail.com>
Date: Tue, 25 Oct 2005 11:16:08 +0100
From: Rob Young <bubblenut@gmail.com>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051011)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Funny results with Fuzzy
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I've just set up a system with lucene to search our product database. I 
want to have fuzzy searching to help the many seemingly illiterate users 
I have. Just testing this out and the results are proving a little funny.

If I search for the term klyie (hoping for kylie to be almost 
exclusively returned) I get the film Alfie at the top of the list. Now, 
I can see that this is the same number of substitutions as kylie is from 
klyie (2) but surely fuzzy should notice that kylie and klyie have 
exactly the same set of letters while alfie does not. Is there any way 
to factor this (and possibly other things) into the fuzzy search? If so, 
does anyone know of any pre-done fuzzy search algorithms which may be 
more helpfull than the default one, and how I may install them?

Thanks
Rob

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17059-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 10:39:14 2005
Return-Path: <java-user-return-17059-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24807 invoked from network); 25 Oct 2005 10:39:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 10:39:13 -0000
Received: (qmail 17144 invoked by uid 500); 25 Oct 2005 10:39:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16262 invoked by uid 500); 25 Oct 2005 10:39:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16251 invoked by uid 99); 25 Oct 2005 10:39:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 03:39:02 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of koji.sekiguchi@m4.dion.ne.jp designates 203.181.105.73 as permitted sender)
Received: from [203.181.105.73] (HELO hfep07.dion.ne.jp) (203.181.105.73)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 03:39:00 -0700
Received: from sekiguchi ([59.135.68.190]) by hfep07.dion.ne.jp with SMTP
          id <20051025103840150.FUDM@hfep07.dion.ne.jp>
          for <java-user@lucene.apache.org>;
          Tue, 25 Oct 2005 19:38:40 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
Subject: RE: Optimize/Indexing progress state - time remaining
Date: Tue, 25 Oct 2005 19:38:37 +0900
Message-ID: <PKEIKOCKCHNIIHNECPCCEELDCAAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <435DED65.1080803@jalios.com>
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Olivier,

This information may solve your problem, but it's a plan
on Lucene 2.0:

Lucene 2 Whiteboard
http://wiki.apache.org/jakarta-lucene/Lucene2Whiteboard

Other Changes
2. Implement a callback interface for processes which can run for several
minutes
like IndexWriter.optimize(). The idea is to define a simple public interface
which can be
implemented by developers using lucene. The object implementing the
callback,
could be passed to methods like optimize() and can inform the caller when
one
of the steps to process has finished. This would make it much easier in
interactive
applications to inform the user that the system is working and not frozen.

Thank you,

Koji

> -----Original Message-----
> From: Olivier Jaquemet [mailto:olivier.jaquemet@jalios.com]
> Sent: Tuesday, October 25, 2005 5:32 PM
> To: Lucene Java User ML
> Subject: Optimize/Indexing progress state - time remaining
>
>
> Hi all,
>
> Is there a nice way to get information regarding the current progress
> state of any/all those operations:
> - IndexWriter optimize
> - IndexWriter index
> - IndexReader delete
> For example, having a synchronized method to retrieve a percentage of
> completion from writer/reader in another thread would be great! And then
> it would be quite easy to compute an estimated time remaining for my
> users to know what's happening when they want to reindex all their
> content or do anything quite time consuming.
>
> I could not find anything in the API nor on the ML regarding this.
> Any suggestions?
>
> Olivier
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17060-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 11:00:42 2005
Return-Path: <java-user-return-17060-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35218 invoked from network); 25 Oct 2005 11:00:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 11:00:41 -0000
Received: (qmail 36150 invoked by uid 500); 25 Oct 2005 11:00:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36119 invoked by uid 500); 25 Oct 2005 11:00:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36108 invoked by uid 99); 25 Oct 2005 11:00:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 04:00:33 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of bubblenut@gmail.com designates 72.14.204.198 as permitted sender)
Received: from [72.14.204.198] (HELO qproxy.gmail.com) (72.14.204.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 04:00:31 -0700
Received: by qproxy.gmail.com with SMTP id a10so312707qbd
        for <java-user@lucene.apache.org>; Tue, 25 Oct 2005 04:00:11 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:x-accept-language:mime-version:to:subject:content-type:content-transfer-encoding;
        b=IHKmtuaQSEbspQkxqy0GKlAb2ZGIf9QmvjZCKH/b2uUL01NnsvKnbvC4eXw34GbTP4JIJw//22hnWmFLdWOK6xOwMwT07xi92ffpLI3lzwhoDGpK5ux2kndQXNlNLzz19WD4X5TGI5VCNaGJwpvu//CyI251ffbm7H7eV8s9i30=
Received: by 10.64.183.16 with SMTP id g16mr239591qbf;
        Tue, 25 Oct 2005 04:00:11 -0700 (PDT)
Received: from ?192.168.250.47? ( [217.207.206.146])
        by mx.gmail.com with ESMTP id e15sm1346952qba.2005.10.25.04.00.10;
        Tue, 25 Oct 2005 04:00:11 -0700 (PDT)
Message-ID: <435E1047.40705@gmail.com>
Date: Tue, 25 Oct 2005 12:00:23 +0100
From: Rob Young <bubblenut@gmail.com>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051011)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Using analyzers with term queries
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I am using TermQuery s (and FuzzyQuery s) on the searching side and I 
would like to keep doing so. However, I would like to use the 
MetaphoneReplacementAnalyzer (from Lucene in Action) when indexing. How 
can I allow for this in searching if I'm using TermQuery?

Thanks
Rob

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17061-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 11:12:16 2005
Return-Path: <java-user-return-17061-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40945 invoked from network); 25 Oct 2005 11:12:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 11:12:16 -0000
Received: (qmail 47715 invoked by uid 500); 25 Oct 2005 11:12:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47445 invoked by uid 500); 25 Oct 2005 11:12:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47434 invoked by uid 99); 25 Oct 2005 11:12:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 04:12:07 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.220] (HELO web26009.mail.ukl.yahoo.com) (217.12.10.220)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 25 Oct 2005 04:12:05 -0700
Received: (qmail 93749 invoked by uid 60001); 25 Oct 2005 11:11:42 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=hVttssTQX9Tj6FHYiTUVKd79MdVl429MA0J/mPoW+d6xA1v1vv3GHpdhA1VU6EKekZ1I0OuOuU3yf6qPQouYLQ9CXc4sa00AnXnTh5SicLk/5bTvT5ZvkQ763FINHyGTxhqCHF5ifnMo6aKNNGI/kJrpdKTSASCwhWZaDkvbXXU=  ;
Message-ID: <20051025111142.93747.qmail@web26009.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26009.mail.ukl.yahoo.com via HTTP; Tue, 25 Oct 2005 12:11:42 BST
Date: Tue, 25 Oct 2005 12:11:42 +0100 (BST)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: Funny results with Fuzzy
To: java-user@lucene.apache.org
In-Reply-To: <435E05E8.8060903@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Try setting the QueryParser.setFuzzyPrefixLength to 1.

That would at least insist on the first character
being correct.

Cheers
Mark


	
	
		
___________________________________________________________ 
Yahoo! Messenger - NEW crystal clear PC to PC calling worldwide with voicemail http://uk.messenger.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17062-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 11:35:44 2005
Return-Path: <java-user-return-17062-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53217 invoked from network); 25 Oct 2005 11:35:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 11:35:44 -0000
Received: (qmail 67786 invoked by uid 500); 25 Oct 2005 11:35:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67759 invoked by uid 500); 25 Oct 2005 11:35:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67748 invoked by uid 99); 25 Oct 2005 11:35:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 04:35:37 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of bubblenut@gmail.com designates 72.14.204.205 as permitted sender)
Received: from [72.14.204.205] (HELO qproxy.gmail.com) (72.14.204.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 04:35:35 -0700
Received: by qproxy.gmail.com with SMTP id q10so357041qbq
        for <java-user@lucene.apache.org>; Tue, 25 Oct 2005 04:35:16 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:x-accept-language:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=S368Yd8phwWTlIrJ7eAX5pPuvdNDdHBHj+kkBqdlgOxxpcfsc48Hc+qo/XhJM/aqXwKwgm8oyPBTjwRbflOTtRSjoRM8Q+ncJcevgV43awZsJspxWWs796290MNUpO40ByxwwhWnZM1x5mVMJYaZtGN6ZNFeWmKyxi4Vle8oT7o=
Received: by 10.65.44.13 with SMTP id w13mr3692782qbj;
        Tue, 25 Oct 2005 04:35:16 -0700 (PDT)
Received: from ?192.168.250.47? ( [217.207.206.146])
        by mx.gmail.com with ESMTP id e10sm6869799qbe.2005.10.25.04.35.14;
        Tue, 25 Oct 2005 04:35:15 -0700 (PDT)
Message-ID: <435E187F.4030806@gmail.com>
Date: Tue, 25 Oct 2005 12:35:27 +0100
From: Rob Young <bubblenut@gmail.com>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051011)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Funny results with Fuzzy
References: <20051025111142.93747.qmail@web26009.mail.ukl.yahoo.com>
In-Reply-To: <20051025111142.93747.qmail@web26009.mail.ukl.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


>Try setting the QueryParser.setFuzzyPrefixLength to 1.
>  
>
That would be a great start. How would I implement that if I'm using 
FuzzyQuery rather than QueryParser?

Cheers
Rob

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17063-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 11:44:02 2005
Return-Path: <java-user-return-17063-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58420 invoked from network); 25 Oct 2005 11:44:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 11:44:01 -0000
Received: (qmail 81089 invoked by uid 500); 25 Oct 2005 11:43:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81069 invoked by uid 500); 25 Oct 2005 11:43:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81058 invoked by uid 99); 25 Oct 2005 11:43:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 04:43:54 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [212.122.43.147] (HELO sioux.media-style.com) (212.122.43.147)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 04:43:52 -0700
Received: from [10.0.1.2] (unknown [212.122.60.63])
	by sioux.media-style.com (Postfix) with ESMTP id 998112004D
	for <java-user@lucene.apache.org>; Tue, 25 Oct 2005 13:43:31 +0200 (CEST)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <20051025071459.77848.qmail@web36314.mail.mud.yahoo.com>
References: <20051025071459.77848.qmail@web36314.mail.mud.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <3182DB99-735A-425D-B215-D4A776579666@media-style.com>
Content-Transfer-Encoding: 7bit
From: Stefan Groschupf <sg@media-style.com>
Subject: Re: How to Integrate Lucene/Nutch with Mysql?
Date: Tue, 25 Oct 2005 13:45:44 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

BTW, there are some cool free ad servers available as open source...
Am 25.10.2005 um 09:14 schrieb Sam Lee:

> Hi,
>  My network is designed to have a bunch of advertisers
> to enter their ads with keywords.  I think of using
> mysql to store those, and then use lucene and part of
> nutch to index them from mysql db, so that the
> websites can find and show the ads.  But how do I
> integrate lucene/nutch with mysql?  Do you have any
> recommendation about websites that talk about that or
> have examples?
>
> I know that nutch has its own file system.  But it's
> not possible to throw mysql db all away, right?  I
> think I got to use some kind of db like mysql because
> data can be changed easily.
>
> Many thanks.
>
>
>
>
> __________________________________
> Yahoo! Mail - PC Magazine Editors' Choice 2005
> http://mail.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17064-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 12:03:39 2005
Return-Path: <java-user-return-17064-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73370 invoked from network); 25 Oct 2005 12:03:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 12:03:38 -0000
Received: (qmail 5351 invoked by uid 500); 25 Oct 2005 12:03:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5316 invoked by uid 500); 25 Oct 2005 12:03:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5304 invoked by uid 99); 25 Oct 2005 12:03:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 05:03:25 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 05:03:23 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 63BC313E2008; Tue, 25 Oct 2005 08:03:01 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id DFD9C13E2005
	for <java-user@lucene.apache.org>; Tue, 25 Oct 2005 08:02:33 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <435E1047.40705@gmail.com>
References: <435E1047.40705@gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <108515E2-8A6F-4840-B644-0E3B560A397B@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Using analyzers with term queries
Date: Tue, 25 Oct 2005 08:02:23 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 25 Oct 2005, at 07:00, Rob Young wrote:
> I am using TermQuery s (and FuzzyQuery s) on the searching side and  
> I would like to keep doing so. However, I would like to use the  
> MetaphoneReplacementAnalyzer (from Lucene in Action) when indexing.  
> How can I allow for this in searching if I'm using TermQuery?

You could simply call the metaphone .encode method on the text before  
constructing a Term for TermQuery.  Or, alternatively, you could run  
the Analyzer on the String (using a StringReader) and capture the  
token(s) that come back to formulate the TermQuery(s).

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17065-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 12:17:22 2005
Return-Path: <java-user-return-17065-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81173 invoked from network); 25 Oct 2005 12:17:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 12:17:21 -0000
Received: (qmail 25684 invoked by uid 500); 25 Oct 2005 12:17:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25663 invoked by uid 500); 25 Oct 2005 12:17:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25652 invoked by uid 99); 25 Oct 2005 12:17:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 05:17:13 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 05:17:11 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id DDF0613E2005; Tue, 25 Oct 2005 08:16:50 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 4E37D13E2005
	for <java-user@lucene.apache.org>; Tue, 25 Oct 2005 08:16:33 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <435E187F.4030806@gmail.com>
References: <20051025111142.93747.qmail@web26009.mail.ukl.yahoo.com> <435E187F.4030806@gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <B3DBE407-1D0A-44BB-82D2-9390E1CAFD46@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Funny results with Fuzzy
Date: Tue, 25 Oct 2005 08:16:30 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 25 Oct 2005, at 07:35, Rob Young wrote:
>> Try setting the QueryParser.setFuzzyPrefixLength to 1.
>>
>>
> That would be a great start. How would I implement that if I'm  
> using FuzzyQuery rather than QueryParser?

Use the FuzzyQuery constructor that sets this value:

     <http://lucene.apache.org/java/docs/api/org/apache/lucene/search/ 
FuzzyQuery.html#FuzzyQuery(org.apache.lucene.index.Term,%20float,% 
20int)>

Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17066-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 13:06:20 2005
Return-Path: <java-user-return-17066-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8896 invoked from network); 25 Oct 2005 13:06:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 13:06:16 -0000
Received: (qmail 3175 invoked by uid 500); 25 Oct 2005 13:06:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3154 invoked by uid 500); 25 Oct 2005 13:06:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3143 invoked by uid 99); 25 Oct 2005 13:06:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 06:06:04 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 217.207.206.146 is neither permitted nor denied by domain of bubblenut@gmail.com)
Received: from [217.207.206.146] (HELO armel.cd-wow.com) (217.207.206.146)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 06:06:02 -0700
Message-ID: <435E2DB5.5040908@gmail.com>
Date: Tue, 25 Oct 2005 14:05:57 +0100
From: Rob Young <bubblenut@gmail.com>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051011)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Funny results with Fuzzy
References: <20051025111142.93747.qmail@web26009.mail.ukl.yahoo.com> <435E187F.4030806@gmail.com> <B3DBE407-1D0A-44BB-82D2-9390E1CAFD46@ehatchersolutions.com>
In-Reply-To: <B3DBE407-1D0A-44BB-82D2-9390E1CAFD46@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Erik Hatcher wrote:

>
> On 25 Oct 2005, at 07:35, Rob Young wrote:
>
>>> Try setting the QueryParser.setFuzzyPrefixLength to 1.
>>>
>>>
>> That would be a great start. How would I implement that if I'm  using 
>> FuzzyQuery rather than QueryParser?
>
>
> Use the FuzzyQuery constructor that sets this value:
>
>     <http://lucene.apache.org/java/docs/api/org/apache/lucene/search/ 
> FuzzyQuery.html#FuzzyQuery(org.apache.lucene.index.Term,%20float,% 
> 20int)>


This requires the match to be on the begining of the field as a whole 
rather than terms within the field. I have a field called "all" which 
has title, artist for CDs title, director for DVDs, title, platform for 
Games so when I run the FuzzyQuery you suggest on this I get no results. 
Is there no way to say "the begining of the search term must match the 
begining of any of the terms in the searched field"?

Cheers
Rob

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17067-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 13:20:02 2005
Return-Path: <java-user-return-17067-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22960 invoked from network); 25 Oct 2005 13:20:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 13:20:02 -0000
Received: (qmail 56135 invoked by uid 500); 25 Oct 2005 13:19:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56096 invoked by uid 500); 25 Oct 2005 13:19:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56085 invoked by uid 99); 25 Oct 2005 13:19:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 06:19:52 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 217.207.206.146 is neither permitted nor denied by domain of bubblenut@gmail.com)
Received: from [217.207.206.146] (HELO armel.cd-wow.com) (217.207.206.146)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 06:19:50 -0700
Message-ID: <435E30F1.3000504@gmail.com>
Date: Tue, 25 Oct 2005 14:19:45 +0100
From: Rob Young <bubblenut@gmail.com>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051011)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Funny results with Fuzzy
References: <20051025111142.93747.qmail@web26009.mail.ukl.yahoo.com> <435E187F.4030806@gmail.com> <B3DBE407-1D0A-44BB-82D2-9390E1CAFD46@ehatchersolutions.com> <435E2DB5.5040908@gmail.com>
In-Reply-To: <435E2DB5.5040908@gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Rob Young wrote:

> Erik Hatcher wrote:
>
>>
>> On 25 Oct 2005, at 07:35, Rob Young wrote:
>>
>>>> Try setting the QueryParser.setFuzzyPrefixLength to 1.
>>>>
>>>>
>>> That would be a great start. How would I implement that if I'm  
>>> using FuzzyQuery rather than QueryParser?
>>
>> Use the FuzzyQuery constructor that sets this value:
>>
>>     <http://lucene.apache.org/java/docs/api/org/apache/lucene/search/ 
>> FuzzyQuery.html#FuzzyQuery(org.apache.lucene.index.Term,%20float,% 
>> 20int)>
>
> This requires the match to be on the begining of the field as a whole 
> rather than terms within the field. I have a field called "all" which 
> has title, artist for CDs title, director for DVDs, title, platform 
> for Games so when I run the FuzzyQuery you suggest on this I get no 
> results. Is there no way to say "the begining of the search term must 
> match the begining of any of the terms in the searched field"?

In fact, even that doesn't hold true because I've checked and many of my 
"all" fields begin with the word kylie so surely klyie should match them?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17068-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 13:27:48 2005
Return-Path: <java-user-return-17068-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30074 invoked from network); 25 Oct 2005 13:27:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 13:27:22 -0000
Received: (qmail 77626 invoked by uid 500); 25 Oct 2005 13:27:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77604 invoked by uid 500); 25 Oct 2005 13:27:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77592 invoked by uid 99); 25 Oct 2005 13:27:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 06:27:06 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.212] (HELO web26001.mail.ukl.yahoo.com) (217.12.10.212)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 25 Oct 2005 06:27:04 -0700
Received: (qmail 52127 invoked by uid 60001); 25 Oct 2005 13:26:43 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=yWtkpxiSaMfVVYXGEMNnbKw27vF86kVbheTwBk3I4pu44e1uU2RtGL81GZCvXcb8dbO6AODU1uKOHHS4fBq6lI9KIOXBmpQucJlwzBxxATSTyes7/HfZoJS9WLEYC9/Vt4euzEDm16UDr4gJ2yrIexYm7taMUFvWDiWdnkmDlWo=  ;
Message-ID: <20051025132643.52125.qmail@web26001.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26001.mail.ukl.yahoo.com via HTTP; Tue, 25 Oct 2005 14:26:42 BST
Date: Tue, 25 Oct 2005 14:26:42 +0100 (BST)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: Funny results with Fuzzy
To: java-user@lucene.apache.org
In-Reply-To: <435E30F1.3000504@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

It comes down to your choice of analyzer.

Don't forget your "all" field is broken down into
discreet terms by your choice of analyzer.

Most often, you will want to use the same analyzer at
query-time with the query parser to make sure the
user's input matches the stored document terms.
If you get it wrong (say using an analyzer that
doesn't lower-case) you'll find nothing:
  Kylie != kylie

If you aren't using a query parser and manually
constructing FuzzyQuery objects programmatically the
same logic applies (psueodocode): 
  new FuzzyQuery(new Term("Kylie")) != "kylie"

Hope this helps.




		
___________________________________________________________ 
To help you stay safe and secure online, we've developed the all new Yahoo! Security Centre. http://uk.security.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17069-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 13:48:08 2005
Return-Path: <java-user-return-17069-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58914 invoked from network); 25 Oct 2005 13:48:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 13:48:00 -0000
Received: (qmail 24102 invoked by uid 500); 25 Oct 2005 13:46:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23321 invoked by uid 500); 25 Oct 2005 13:46:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23063 invoked by uid 99); 25 Oct 2005 13:46:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 06:46:43 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 72.14.204.197 as permitted sender)
Received: from [72.14.204.197] (HELO qproxy.gmail.com) (72.14.204.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 06:46:37 -0700
Received: by qproxy.gmail.com with SMTP id q10so385453qbq
        for <java-user@lucene.apache.org>; Tue, 25 Oct 2005 06:46:18 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=rhmopTLXDzaoKFWWoDD9wcc+knb8Sf1OVdE6nsc7O2aVjgaShpRZCFgQ7k6uBFG+Tnu3mpsdpaHBqnjn10fg0NUhqK4jDz5HKe9SJ8nMvfSvHrqOyV9BVuIRdEzGJkGdyM+NcnaxzMGUz7fb0wEUwxREfmOjovKer+XZV9+p98U=
Received: by 10.64.232.15 with SMTP id e15mr3529057qbh;
        Tue, 25 Oct 2005 06:46:18 -0700 (PDT)
Received: by 10.65.22.17 with HTTP; Tue, 25 Oct 2005 06:46:18 -0700 (PDT)
Message-ID: <50f433360510250646u191afa76p1811224b824a43a6@mail.gmail.com>
Date: Tue, 25 Oct 2005 06:46:18 -0700
From: Jeff Rodenburg <jeff.rodenburg@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Using analyzers with term queries
In-Reply-To: <108515E2-8A6F-4840-B644-0E3B560A397B@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_18886_750658.1130247978179"
References: <435E1047.40705@gmail.com>
	 <108515E2-8A6F-4840-B644-0E3B560A397B@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_18886_750658.1130247978179
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I don't mean to take the thread off-topic, but is this the recommended
approach for any of the Query objects, i.e. SpanQuery or PhraseQuery?


On 10/25/05, Erik Hatcher <erik@ehatchersolutions.com> wrote:
>
>
> On 25 Oct 2005, at 07:00, Rob Young wrote:
> > I am using TermQuery s (and FuzzyQuery s) on the searching side and
> > I would like to keep doing so. However, I would like to use the
> > MetaphoneReplacementAnalyzer (from Lucene in Action) when indexing.
> > How can I allow for this in searching if I'm using TermQuery?
>
> You could simply call the metaphone .encode method on the text before
> constructing a Term for TermQuery. Or, alternatively, you could run
> the Analyzer on the String (using a StringReader) and capture the
> token(s) that come back to formulate the TermQuery(s).
>
> Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_18886_750658.1130247978179--

From java-user-return-17070-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 14:01:07 2005
Return-Path: <java-user-return-17070-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78015 invoked from network); 25 Oct 2005 14:01:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 14:01:03 -0000
Received: (qmail 83571 invoked by uid 500); 25 Oct 2005 14:00:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83548 invoked by uid 500); 25 Oct 2005 14:00:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83530 invoked by uid 99); 25 Oct 2005 14:00:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 07:00:55 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 217.207.206.146 is neither permitted nor denied by domain of bubblenut@gmail.com)
Received: from [217.207.206.146] (HELO armel.cd-wow.com) (217.207.206.146)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 07:00:53 -0700
Message-ID: <435E3A90.7090808@gmail.com>
Date: Tue, 25 Oct 2005 15:00:48 +0100
From: Rob Young <bubblenut@gmail.com>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051011)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Funny results with Fuzzy
References: <20051025132643.52125.qmail@web26001.mail.ukl.yahoo.com>
In-Reply-To: <20051025132643.52125.qmail@web26001.mail.ukl.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

mark harwood wrote:

>It comes down to your choice of analyzer.
>
>Don't forget your "all" field is broken down into
>discreet terms by your choice of analyzer.
>
>Most often, you will want to use the same analyzer at
>query-time with the query parser to make sure the
>user's input matches the stored document terms.
>If you get it wrong (say using an analyzer that
>doesn't lower-case) you'll find nothing:
>  Kylie != kylie
>
>If you aren't using a query parser and manually
>constructing FuzzyQuery objects programmatically the
>same logic applies (psueodocode): 
>  new FuzzyQuery(new Term("Kylie")) != "kylie"
>  
>
Thanks for the help. I'm using the StandardAnalyzer to do the indexing 
(which lower cases everything) and I'm lowercasing my search string 
before I build the Term. So shouldn't be an issue, are there other 
factors in this vein that may cause problems considering that this is an 
alphabetic string which shouldn't be in any stop word lists.

Indexed as "kylie minogue: kyliefever2002 (live in manchester)"
Searched with "klyie"
Using new FuzzyQuery( new Term("klyie", 0.5f, 1) );

No matches!  I don't get it :(

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17071-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 14:03:52 2005
Return-Path: <java-user-return-17071-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84733 invoked from network); 25 Oct 2005 14:03:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 14:03:51 -0000
Received: (qmail 97312 invoked by uid 500); 25 Oct 2005 14:03:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97259 invoked by uid 500); 25 Oct 2005 14:03:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96861 invoked by uid 99); 25 Oct 2005 14:03:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 07:03:23 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.18.98.34] (HELO brmea-mail-3.sun.com) (192.18.98.34)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 07:03:20 -0700
Received: from phys-d3-ha21sca-2 ([129.145.155.165])
	by brmea-mail-3.sun.com (8.12.10/8.12.9) with ESMTP id j9PE313F005905
	for <java-user@lucene.apache.org>; Tue, 25 Oct 2005 08:03:01 -0600 (MDT)
Received: from conversion-daemon.ha21sca-mail1.sfbay.sun.com by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 id <0IOX00F015KM6N@ha21sca-mail1.sfbay.sun.com>
 (original mail from Richard.Hillegas@Sun.COM) for java-user@lucene.apache.org;
 Tue, 25 Oct 2005 07:03:22 -0700 (PDT)
Received: from [129.150.26.98]
 (vpn-129-150-26-98.SFBay.Sun.COM [129.150.26.98]) by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 with ESMTP id <0IOX005W95PMOA@ha21sca-mail1.sfbay.sun.com> for
 java-user@lucene.apache.org; Tue, 25 Oct 2005 07:03:22 -0700 (PDT)
Date: Tue, 25 Oct 2005 07:03:03 -0700
From: Rick Hillegas <Richard.Hillegas@Sun.COM>
Subject: Re: How to Integrate Lucene/Nutch with Mysql?
In-reply-to: <20051025071459.77848.qmail@web36314.mail.mud.yahoo.com>
To: java-user@lucene.apache.org
Message-id: <435E3B17.9030209@sun.com>
MIME-version: 1.0
Content-type: text/plain; charset=ISO-8859-1; format=flowed
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
References: <20051025071459.77848.qmail@web36314.mail.mud.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Sam,

I asked a similar question yesterday, and Steven Rowe kindly pointed me 
at the following code and examples, which you can use to integrate 
Lucene with Derby:

<http://issues.apache.org/jira/browse/LUCENE-434>

For the record, Derby is the Apache open source database. It's a 
full-featured relational database backed by an active open source 
community: http://db.apache.org/derby/.

Cheers,
-Rick

Sam Lee wrote:

>Hi, 
> My network is designed to have a bunch of advertisers
>to enter their ads with keywords.  I think of using
>mysql to store those, and then use lucene and part of
>nutch to index them from mysql db, so that the
>websites can find and show the ads.  But how do I
>integrate lucene/nutch with mysql?  Do you have any
>recommendation about websites that talk about that or
>have examples?
>
>I know that nutch has its own file system.  But it's
>not possible to throw mysql db all away, right?  I
>think I got to use some kind of db like mysql because
>data can be changed easily.  
>
>Many thanks.
>
>
>	
>		
>__________________________________ 
>Yahoo! Mail - PC Magazine Editors' Choice 2005 
>http://mail.yahoo.com
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17072-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 15:22:38 2005
Return-Path: <java-user-return-17072-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53194 invoked from network); 25 Oct 2005 15:22:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 15:22:27 -0000
Received: (qmail 66338 invoked by uid 500); 25 Oct 2005 15:22:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66317 invoked by uid 500); 25 Oct 2005 15:22:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66306 invoked by uid 99); 25 Oct 2005 15:22:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 08:22:20 -0700
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of ivan.guzvinec@gmail.com designates 66.249.82.200 as permitted sender)
Received: from [66.249.82.200] (HELO xproxy.gmail.com) (66.249.82.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 08:22:18 -0700
Received: by xproxy.gmail.com with SMTP id i28so1104223wxd
        for <java-user@lucene.apache.org>; Tue, 25 Oct 2005 08:21:59 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=gkdWY/VblvKmrYOYzdzG2Du+y7EusngEBVR4iimF+BgtvpkTIPomOHbHbamO4v4UafF2WFNOvxXnVqmkp5tnzTADnrKwJtYue+wAHi+65KqHfLj5nc7cu8n5nG8KcQSvbVvLfkrV12sA08ed+KMYHrU5LhUXkjnL+qPdoDp1/+8=
Received: by 10.70.7.8 with SMTP id 8mr2723792wxg;
        Tue, 25 Oct 2005 08:21:58 -0700 (PDT)
Received: by 10.70.9.18 with HTTP; Tue, 25 Oct 2005 08:21:58 -0700 (PDT)
Message-ID: <81646320510250821g822d495qdba16c445dc501a2@mail.gmail.com>
Date: Tue, 25 Oct 2005 17:21:58 +0200
From: =?WINDOWS-1252?Q?Ivan_Gu=9Evinec?= <ivan.guzvinec@gmail.com>
To: java-user@lucene.apache.org
Subject: Extending 'sealed' classes & usage in comercial solution.
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_9253_25814821.1130253718823"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_9253_25814821.1130253718823
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi all,

I'm under the impression that this list might also be used for questions
regarding the .NET port of Lucene (Lucene.NET).

I would have to extend some of the 'sealed' classes in Lucene.NET that we
use extensively in our products. That would require of me to edit/change th=
e
library which is constrained by Apache licence. As I understand there are n=
o
licencing problems if we use unmodified source/binary distribution in our
product, but what about modified/changed sources/binaries?

Would it be ok, if we just published our modified library, or are there any
other requirements/restrictions regarding the usage in our commercial
solutions?

Can anyone please elaborate on this issue.

Regards,
Ivan

------=_Part_9253_25814821.1130253718823--

From java-user-return-17073-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 15:26:42 2005
Return-Path: <java-user-return-17073-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55354 invoked from network); 25 Oct 2005 15:26:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 15:26:20 -0000
Received: (qmail 72353 invoked by uid 500); 25 Oct 2005 15:25:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72336 invoked by uid 500); 25 Oct 2005 15:25:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72325 invoked by uid 99); 25 Oct 2005 15:25:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 08:25:37 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [193.252.22.21] (HELO smtp10.wanadoo.fr) (193.252.22.21)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 08:25:35 -0700
Received: from me-wanadoo.net (localhost [127.0.0.1])
	by mwinf1008.wanadoo.fr (SMTP Server) with ESMTP id 098E4280014C
	for <java-user@lucene.apache.org>; Tue, 25 Oct 2005 17:25:14 +0200 (CEST)
Received: from [127.0.0.1] (AVelizy-115-2-1-38.w81-48.abo.wanadoo.fr [81.48.163.38])
	by mwinf1008.wanadoo.fr (SMTP Server) with ESMTP id DB86C2800145
	for <java-user@lucene.apache.org>; Tue, 25 Oct 2005 17:25:13 +0200 (CEST)
X-ME-UUID: 20051025152513899.DB86C2800145@mwinf1008.wanadoo.fr
Message-ID: <435E4E58.1070905@jalios.com>
Date: Tue, 25 Oct 2005 17:25:12 +0200
From: Olivier Jaquemet <olivier.jaquemet@jalios.com>
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Optimize/Indexing progress state - time remaining
References: <PKEIKOCKCHNIIHNECPCCEELDCAAA.koji.sekiguchi@m4.dion.ne.jp>
In-Reply-To: <PKEIKOCKCHNIIHNECPCCEELDCAAA.koji.sekiguchi@m4.dion.ne.jp>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks for the information Koji.

Koji Sekiguchi wrote:

>Hi Olivier,
>
>This information may solve your problem, but it's a plan
>on Lucene 2.0:
>
>Lucene 2 Whiteboard
>http://wiki.apache.org/jakarta-lucene/Lucene2Whiteboard
>
>Other Changes
>2. Implement a callback interface for processes which can run for several
>minutes
>like IndexWriter.optimize(). The idea is to define a simple public interface
>which can be
>implemented by developers using lucene. The object implementing the
>callback,
>could be passed to methods like optimize() and can inform the caller when
>one
>of the steps to process has finished. This would make it much easier in
>interactive
>applications to inform the user that the system is working and not frozen.
>
>Thank you,
>
>Koji
>  
>


-- 
Olivier Jaquemet <olivier.jaquemet@jalios.com>
Ingénieur R&D Jalios S.A.
Tel: 01.39.23.92.83
http://www.jalios.com/
http://support.jalios.com/




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17074-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 15:51:23 2005
Return-Path: <java-user-return-17074-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75497 invoked from network); 25 Oct 2005 15:51:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 15:51:23 -0000
Received: (qmail 46903 invoked by uid 500); 25 Oct 2005 15:51:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46880 invoked by uid 500); 25 Oct 2005 15:51:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46869 invoked by uid 99); 25 Oct 2005 15:51:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 08:51:10 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 217.207.206.146 is neither permitted nor denied by domain of bubblenut@gmail.com)
Received: from [217.207.206.146] (HELO armel.cd-wow.com) (217.207.206.146)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 08:51:08 -0700
Message-ID: <435E5467.6010803@gmail.com>
Date: Tue, 25 Oct 2005 16:51:03 +0100
From: Rob Young <bubblenut@gmail.com>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051011)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Funny results with Fuzzy
References: <20051025132643.52125.qmail@web26001.mail.ukl.yahoo.com> <435E3A90.7090808@gmail.com>
In-Reply-To: <435E3A90.7090808@gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Rob Young wrote:

> mark harwood wrote:
>
>> It comes down to your choice of analyzer.
>>
>> Don't forget your "all" field is broken down into
>> discreet terms by your choice of analyzer.
>>
>> Most often, you will want to use the same analyzer at
>> query-time with the query parser to make sure the
>> user's input matches the stored document terms.
>> If you get it wrong (say using an analyzer that
>> doesn't lower-case) you'll find nothing:
>>  Kylie != kylie
>>
>> If you aren't using a query parser and manually
>> constructing FuzzyQuery objects programmatically the
>> same logic applies (psueodocode):  new FuzzyQuery(new Term("Kylie")) 
>> != "kylie"
>>  
>>
> Thanks for the help. I'm using the StandardAnalyzer to do the indexing 
> (which lower cases everything) and I'm lowercasing my search string 
> before I build the Term. So shouldn't be an issue, are there other 
> factors in this vein that may cause problems considering that this is 
> an alphabetic string which shouldn't be in any stop word lists.
>
> Indexed as "kylie minogue: kyliefever2002 (live in manchester)"
> Searched with "klyie"
> Using new FuzzyQuery( new Term("klyie", 0.5f, 1) );
>
> No matches!  I don't get it :(

I've even gone as far as to run the search term through the 
StandardAnalyzer, grab the tokens and rebuild the search string (even 
though it's only one, valid token). I'm clutching at straws now but 
could it be that I build a BooleanQuery (OR) even if there is only one 
search term? In this case it's basically like this

BooleanQuery query = new BooleanQuery();
query.add( new FuzzyQuery( new Term( "all", "klyie"), 0.5f, 1, false, 
false);

Hits hits = is.search(query);

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17075-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 16:15:17 2005
Return-Path: <java-user-return-17075-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88576 invoked from network); 25 Oct 2005 16:14:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 16:14:47 -0000
Received: (qmail 84793 invoked by uid 500); 25 Oct 2005 16:14:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84760 invoked by uid 500); 25 Oct 2005 16:14:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84748 invoked by uid 99); 25 Oct 2005 16:14:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 09:14:13 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.217] (HELO web26006.mail.ukl.yahoo.com) (217.12.10.217)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 25 Oct 2005 09:14:11 -0700
Received: (qmail 45389 invoked by uid 60001); 25 Oct 2005 16:13:50 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=lQWFv2X6pTAdQc1IiSNaFTq5qsNKgAZFSApK5fRePThJFHD0uCT/1g8iLtUl/zOQsmWtnu86raFjpErRbB3JLJvBrt7TYzYyVjI4Qzlrh7nKEiOCm9pW5OCRtLvFSNZ69tYHs9HBrIsTIU6KC1rV2nVPLHO/bqmEbBORIeD/ojY=  ;
Message-ID: <20051025161350.45387.qmail@web26006.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26006.mail.ukl.yahoo.com via HTTP; Tue, 25 Oct 2005 17:13:50 BST
Date: Tue, 25 Oct 2005 17:13:50 +0100 (BST)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: Funny results with Fuzzy
To: java-user@lucene.apache.org
In-Reply-To: <435E5467.6010803@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'd be more inclined to guess that kylie->klyie falls
below the 0.5f similarity threshold you pass.

Try print out the results of
fuzzyQuery.rewrite(indexReader).toString();

This will rewrite the fuzzyQuery to a BooleanQuery
which explicitly lists the TermQuery objects that the
fuzzyQuery has found potential matches for in your
index.







--- Rob Young <bubblenut@gmail.com> wrote:

> Rob Young wrote:
> 
> > mark harwood wrote:
> >
> >> It comes down to your choice of analyzer.
> >>
> >> Don't forget your "all" field is broken down into
> >> discreet terms by your choice of analyzer.
> >>
> >> Most often, you will want to use the same
> analyzer at
> >> query-time with the query parser to make sure the
> >> user's input matches the stored document terms.
> >> If you get it wrong (say using an analyzer that
> >> doesn't lower-case) you'll find nothing:
> >>  Kylie != kylie
> >>
> >> If you aren't using a query parser and manually
> >> constructing FuzzyQuery objects programmatically
> the
> >> same logic applies (psueodocode):  new
> FuzzyQuery(new Term("Kylie")) 
> >> != "kylie"
> >>  
> >>
> > Thanks for the help. I'm using the
> StandardAnalyzer to do the indexing 
> > (which lower cases everything) and I'm lowercasing
> my search string 
> > before I build the Term. So shouldn't be an issue,
> are there other 
> > factors in this vein that may cause problems
> considering that this is 
> > an alphabetic string which shouldn't be in any
> stop word lists.
> >
> > Indexed as "kylie minogue: kyliefever2002 (live in
> manchester)"
> > Searched with "klyie"
> > Using new FuzzyQuery( new Term("klyie", 0.5f, 1)
> );
> >
> > No matches!  I don't get it :(
> 
> I've even gone as far as to run the search term
> through the 
> StandardAnalyzer, grab the tokens and rebuild the
> search string (even 
> though it's only one, valid token). I'm clutching at
> straws now but 
> could it be that I build a BooleanQuery (OR) even if
> there is only one 
> search term? In this case it's basically like this
> 
> BooleanQuery query = new BooleanQuery();
> query.add( new FuzzyQuery( new Term( "all",
> "klyie"), 0.5f, 1, false, 
> false);
> 
> Hits hits = is.search(query);
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 



		
___________________________________________________________ 
To help you stay safe and secure online, we've developed the all new Yahoo! Security Centre. http://uk.security.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17076-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 16:26:33 2005
Return-Path: <java-user-return-17076-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94547 invoked from network); 25 Oct 2005 16:26:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 16:26:29 -0000
Received: (qmail 5188 invoked by uid 500); 25 Oct 2005 16:25:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5154 invoked by uid 500); 25 Oct 2005 16:25:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5126 invoked by uid 99); 25 Oct 2005 16:25:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 09:25:41 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 217.207.206.146 is neither permitted nor denied by domain of bubblenut@gmail.com)
Received: from [217.207.206.146] (HELO armel.cd-wow.com) (217.207.206.146)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 09:25:35 -0700
Message-ID: <435E5C7A.9080403@gmail.com>
Date: Tue, 25 Oct 2005 17:25:30 +0100
From: Rob Young <bubblenut@gmail.com>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051011)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Funny results with Fuzzy
References: <20051025161350.45387.qmail@web26006.mail.ukl.yahoo.com>
In-Reply-To: <20051025161350.45387.qmail@web26006.mail.ukl.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

mark harwood wrote:

>I'd be more inclined to guess that kylie->klyie falls
>below the 0.5f similarity threshold you pass.
>
>Try print out the results of
>fuzzyQuery.rewrite(indexReader).toString();
>
>This will rewrite the fuzzyQuery to a BooleanQuery
>which explicitly lists the TermQuery objects that the
>fuzzyQuery has found potential matches for in your
>index.
>  
>
Hey, thanks for the fuzzyQuery.rewrite tip, I'll try that out to see 
what's going on. Regarding the theory about falling below the 0.5f 
threshold, that's not the case because new FuzzyQuery( new Term( ... ), 
0.5f ) on it's own matches. I'll see what I can find out with your 
rewrite tip though :)

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17077-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 16:41:27 2005
Return-Path: <java-user-return-17077-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2640 invoked from network); 25 Oct 2005 16:41:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 16:41:26 -0000
Received: (qmail 40094 invoked by uid 500); 25 Oct 2005 16:40:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40053 invoked by uid 500); 25 Oct 2005 16:40:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40020 invoked by uid 99); 25 Oct 2005 16:40:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 09:40:54 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.84.234] (HELO web36304.mail.mud.yahoo.com) (209.191.84.234)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 25 Oct 2005 09:40:49 -0700
Received: (qmail 15021 invoked by uid 60001); 25 Oct 2005 16:40:30 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=6bYqFvOKzY9bwVsvBr0W2Vdtok5JRgxKzg+LlIZc15WddTlmt5Iz3PAfVQJkHFNyC9Kuj5IxdrduK7jGAoOgJmYjAdQRLqEq67/izRe6s6cXhpoMa21qW2odgSXH7AGm2KEzRZBrT9zASFEDC9xCeIHuT5UwN4+XeFDxQfxZUNU=  ;
Message-ID: <20051025164030.15019.qmail@web36304.mail.mud.yahoo.com>
Received: from [63.203.72.39] by web36304.mail.mud.yahoo.com via HTTP; Tue, 25 Oct 2005 09:40:29 PDT
Date: Tue, 25 Oct 2005 09:40:29 -0700 (PDT)
From: Sam Lee <victor_emailbox@yahoo.com>
Subject: Re: How to Integrate Lucene/Nutch with Mysql?
To: java-user@lucene.apache.org
In-Reply-To: <435E3B17.9030209@sun.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

No, I need to use mysql.
thanks.

--- Rick Hillegas <Richard.Hillegas@Sun.COM> wrote:

> Hi Sam,
> 
> I asked a similar question yesterday, and Steven
> Rowe kindly pointed me 
> at the following code and examples, which you can
> use to integrate 
> Lucene with Derby:
> 
> <http://issues.apache.org/jira/browse/LUCENE-434>
> 
> For the record, Derby is the Apache open source
> database. It's a 
> full-featured relational database backed by an
> active open source 
> community: http://db.apache.org/derby/.
> 
> Cheers,
> -Rick
> 
> Sam Lee wrote:
> 
> >Hi, 
> > My network is designed to have a bunch of
> advertisers
> >to enter their ads with keywords.  I think of using
> >mysql to store those, and then use lucene and part
> of
> >nutch to index them from mysql db, so that the
> >websites can find and show the ads.  But how do I
> >integrate lucene/nutch with mysql?  Do you have any
> >recommendation about websites that talk about that
> or
> >have examples?
> >
> >I know that nutch has its own file system.  But
> it's
> >not possible to throw mysql db all away, right?  I
> >think I got to use some kind of db like mysql
> because
> >data can be changed easily.  
> >
> >Many thanks.
> >
> >
> >	
> >		
> >__________________________________ 
> >Yahoo! Mail - PC Magazine Editors' Choice 2005 
> >http://mail.yahoo.com
> >
>
>---------------------------------------------------------------------
> >To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> >For additional commands, e-mail:
> java-user-help@lucene.apache.org
> >
> >  
> >
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 



	
		
__________________________________ 
Yahoo! Mail - PC Magazine Editors' Choice 2005 
http://mail.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17078-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 16:42:27 2005
Return-Path: <java-user-return-17078-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3246 invoked from network); 25 Oct 2005 16:42:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 16:42:19 -0000
Received: (qmail 44747 invoked by uid 500); 25 Oct 2005 16:42:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44722 invoked by uid 500); 25 Oct 2005 16:42:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44711 invoked by uid 99); 25 Oct 2005 16:42:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 09:42:05 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.84.234] (HELO web36304.mail.mud.yahoo.com) (209.191.84.234)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 25 Oct 2005 09:42:02 -0700
Received: (qmail 15147 invoked by uid 60001); 25 Oct 2005 16:41:42 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=ugouN+3gf/mHU5kbWR2JprNFZBjOpc4Lv/lHoTl/DmtT+AuL6DsrkMR+eR9IjVaU85r7Cj2jbwqP48WbfxCV0/htsnzM13rluoSRyuYcMEwpV/KMEeG3Ni9wacNIRzJfjsQqVD5QnK6CxHJ29TCZddbTGivyMt5XjsZ/0eDolAA=  ;
Message-ID: <20051025164142.15145.qmail@web36304.mail.mud.yahoo.com>
Received: from [63.203.72.39] by web36304.mail.mud.yahoo.com via HTTP; Tue, 25 Oct 2005 09:41:42 PDT
Date: Tue, 25 Oct 2005 09:41:42 -0700 (PDT)
From: Sam Lee <victor_emailbox@yahoo.com>
Subject: Re: How to Integrate Lucene/Nutch with Mysql?
To: java-user@lucene.apache.org
In-Reply-To: <3182DB99-735A-425D-B215-D4A776579666@media-style.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I know of phpadnew, what else?  But it doesn't suit my
need, phpadnew is designed more for website
publishers.  I need something that is designed for
both advertisers and website publishers.

--- Stefan Groschupf <sg@media-style.com> wrote:

> BTW, there are some cool free ad servers available
> as open source...
> Am 25.10.2005 um 09:14 schrieb Sam Lee:
> 
> > Hi,
> >  My network is designed to have a bunch of
> advertisers
> > to enter their ads with keywords.  I think of
> using
> > mysql to store those, and then use lucene and part
> of
> > nutch to index them from mysql db, so that the
> > websites can find and show the ads.  But how do I
> > integrate lucene/nutch with mysql?  Do you have
> any
> > recommendation about websites that talk about that
> or
> > have examples?
> >
> > I know that nutch has its own file system.  But
> it's
> > not possible to throw mysql db all away, right?  I
> > think I got to use some kind of db like mysql
> because
> > data can be changed easily.
> >
> > Many thanks.
> >
> >
> >
> >
> > __________________________________
> > Yahoo! Mail - PC Magazine Editors' Choice 2005
> > http://mail.yahoo.com
> >
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail:
> java-user-help@lucene.apache.org
> >
> >
> >
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 



		
__________________________________ 
Yahoo! FareChase: Search multiple travel sites in one click.
http://farechase.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17079-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 16:57:12 2005
Return-Path: <java-user-return-17079-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11605 invoked from network); 25 Oct 2005 16:57:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 16:57:11 -0000
Received: (qmail 65781 invoked by uid 500); 25 Oct 2005 16:56:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65641 invoked by uid 500); 25 Oct 2005 16:56:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65630 invoked by uid 99); 25 Oct 2005 16:56:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 09:56:55 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 217.207.206.146 is neither permitted nor denied by domain of bubblenut@gmail.com)
Received: from [217.207.206.146] (HELO armel.cd-wow.com) (217.207.206.146)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 09:56:53 -0700
Message-ID: <435E63D0.6040505@gmail.com>
Date: Tue, 25 Oct 2005 17:56:48 +0100
From: Rob Young <bubblenut@gmail.com>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051011)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Funny results with Fuzzy
References: <20051025161350.45387.qmail@web26006.mail.ukl.yahoo.com> <435E5C7A.9080403@gmail.com>
In-Reply-To: <435E5C7A.9080403@gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Rob Young wrote:

> mark harwood wrote:
>
>> I'd be more inclined to guess that kylie->klyie falls
>> below the 0.5f similarity threshold you pass.
>>
>> Try print out the results of
>> fuzzyQuery.rewrite(indexReader).toString();
>>
>> This will rewrite the fuzzyQuery to a BooleanQuery
>> which explicitly lists the TermQuery objects that the
>> fuzzyQuery has found potential matches for in your
>> index.
>>  
>>
> Hey, thanks for the fuzzyQuery.rewrite tip, I'll try that out to see 
> what's going on. Regarding the theory about falling below the 0.5f 
> threshold, that's not the case because new FuzzyQuery( new Term( ... 
> ), 0.5f ) on it's own matches. I'll see what I can find out with your 
> rewrite tip though :)

Ahahahaha!! Thank you, you were right after all. I didn't realize that 
once you set the fuzzy prefix length the threshold only applies to the 
_remainder_ of the string, which, of course, means that a search string 
whose first letter matches by default has a lower similarity after the 
fuzzy prefix length is applied.

I must say, this isn't explained particularly well in the docs (not that 
I've explained it much better above).

Well, thanks all. My fuzzy results are still a little funny but at least 
I have the prefix headache sorted.

One thing I was thinking of doing was checking the character frequency 
and scoring on that somehow as well. IE klyie has one k,  one l, one y 
etc. as does kylie but katie (another one which matches on levenstein 
alone) doesn't so klyie would rank higher. Has this been done before? 
Would it be possible? If so where abouts should I look in "Lucene in 
Action" or on the net?

Many thanks
Rob

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17080-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 17:15:05 2005
Return-Path: <java-user-return-17080-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23794 invoked from network); 25 Oct 2005 17:14:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 17:14:56 -0000
Received: (qmail 2121 invoked by uid 500); 25 Oct 2005 17:14:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2058 invoked by uid 500); 25 Oct 2005 17:14:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2022 invoked by uid 99); 25 Oct 2005 17:14:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 10:14:11 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.213] (HELO web26002.mail.ukl.yahoo.com) (217.12.10.213)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 25 Oct 2005 10:14:08 -0700
Received: (qmail 83068 invoked by uid 60001); 25 Oct 2005 17:13:47 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=XjTjZ105jSyJ1F2vjCfRIqwAr4wJiLhFS/arFj3G+nB7SywaEh3Ochh+5N26xca9JL0rBb/QBOTuo0zG8hiS06h/K/kUpbiR+c2DhBj2YuqYjrbF6RLLL0R3BQTNcxJhhjezuwtQnGPqWIjoN6nVHvcJEa6scLOAOInGsbm3GV0=  ;
Message-ID: <20051025171347.83063.qmail@web26002.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26002.mail.ukl.yahoo.com via HTTP; Tue, 25 Oct 2005 18:13:47 BST
Date: Tue, 25 Oct 2005 18:13:47 +0100 (BST)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: Funny results with Fuzzy
To: java-user@lucene.apache.org
In-Reply-To: <435E63D0.6040505@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> One thing I was thinking of doing was checking the
> character frequency 

An alternative idea is index-time fuzzification rather
than query-time. This is documented in one of the case
studies in LIA - the principle is you don't
index/search for whole words but use an NGram Analyzer
to break them up at index time:

Kylie becomes multiple words:
[ k]
[ ky]
[ kyl]
[ky]
[kyl]
[kyli]
[yl]
[yli]
[ylie]
[ kylie ]

Obviously you use the same analyzer to process
queries.
Lucene will automatically look after relevancy of
partial matches for you but your indexes are bigger
and your queries will generate many more Boolean
clauses.





	
	
		
___________________________________________________________ 
Yahoo! Messenger - NEW crystal clear PC to PC calling worldwide with voicemail http://uk.messenger.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17081-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 17:20:49 2005
Return-Path: <java-user-return-17081-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27419 invoked from network); 25 Oct 2005 17:20:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 17:20:49 -0000
Received: (qmail 26041 invoked by uid 500); 25 Oct 2005 17:20:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26007 invoked by uid 500); 25 Oct 2005 17:20:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25975 invoked by uid 99); 25 Oct 2005 17:20:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 10:20:25 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [12.40.61.38] (HELO fracf1.staples.com) (12.40.61.38)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 10:20:21 -0700
Received: from fraexims1.staples.com (Not Verified[10.3.32.111]) by fracf1.staples.com with NetIQ MailMarshal (v5.5.4.17)
	id <BA04e990b6>; Tue, 25 Oct 2005 13:20:02 -0400
Received: by fraexims1.staples.com with Internet Mail Service (5.5.2650.21)
	id <VAHLCA6D>; Tue, 25 Oct 2005 13:20:01 -0400
Message-ID: <A9D9F16EC5955244A7B760CB3B8258480B9ED6A9@fraexmb2.staples.com>
From: "Sharma, Siddharth" <Siddharth.Sharma@Staples.com>
To: java-user@lucene.apache.org
Subject: Thread safety question
Date: Tue, 25 Oct 2005 13:19:54 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi
I have an instance (each) of IndexSearcher and StandardAnalyzer housed in a
Singleton and I intend to use this one single instance (of Searcher and
Analyzer) for multiple concurrent search requests.
I vaguely remember reading that I (as a client) do not have to synchronize.
Lucene internals takes care of it.
Is this true?
Thx
Sid


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17082-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 17:21:53 2005
Return-Path: <java-user-return-17082-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28144 invoked from network); 25 Oct 2005 17:21:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 17:21:52 -0000
Received: (qmail 28851 invoked by uid 500); 25 Oct 2005 17:21:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28827 invoked by uid 500); 25 Oct 2005 17:21:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28816 invoked by uid 99); 25 Oct 2005 17:21:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 10:21:37 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.12.12.197] (HELO smtp807.mail.ukl.yahoo.com) (217.12.12.197)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 25 Oct 2005 10:21:35 -0700
Received: (qmail 31710 invoked from network); 25 Oct 2005 17:21:15 -0000
Received: from unknown (HELO MALCOLM) (malcyclark@86.132.165.80 with login)
  by smtp807.mail.ukl.yahoo.com with SMTP; 25 Oct 2005 17:21:15 -0000
Message-ID: <00e001c5d988$7d0f6df0$0301a8c0@MALCOLM>
From: "Malcolm Clark" <malcyclark@btinternet.com>
To: <java-user@lucene.apache.org>
References: <20051025161350.45387.qmail@web26006.mail.ukl.yahoo.com>
Subject: Lucene and SAX
Date: Tue, 25 Oct 2005 18:21:08 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2527
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.2527
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi again,
I am desperately asking for aid!!

I have used the sandbox demo to parse the INEX collection.The problem being 
it points to a volume file which references 50 other xml articles.Lucene 
only treats this as one document.Is there any method of which I'm 
overlooking that halts after each reference?
Could somebody please help and I wont post again until I submit something 
useful.

The code is:
public class XMLDocumentHandlerSAX
extends HandlerBase
{
    /** A buffer for each XML element */
    private StringBuffer elementBuffer = new StringBuffer();

    private Document mDocument;

    // constructor
    public XMLDocumentHandlerSAX(File xmlFile)
 throws ParserConfigurationException, SAXException, IOException
    {
 SAXParserFactory spf = SAXParserFactory.newInstance();

 SAXParser parser = spf.newSAXParser();
 parser.parse(xmlFile, this);
    }

    // call at document start
    public void startDocument()
    {
     mDocument = new Document();
 //mDocument = new Document();
 elementBuffer.setLength(0);
    }

    // call at element start
    public void startElement(String localName, AttributeList atts)
 throws SAXException
    {

     if (localName.equals("article")) {
      elementBuffer.setLength(0);
     }

    }
    // call when cdata found
    public void characters(char[] text, int start, int length)
    {

      elementBuffer.append(text, start, length);

    }

    // call at element end
    public void endElement(String localName)
 throws SAXException
    {

     if (localName.equals("article")) {
      System.out.println("Article: "+elementBuffer.length());
      elementBuffer.setLength(0);
     }

      mDocument.add(Field.Text(localName,elementBuffer.toString()));
      System.out.println("EB: "+elementBuffer);
      elementBuffer.setLength(0);

    }


    public Document getDocument()
    {

 return mDocument;
    }

    public static void main(String[] args)
 throws Exception
    {
 try
 {
     Date start = new Date();
     String indexDir = "C:\\LuceneDemo\\index";
     IndexWriter writer = new IndexWriter(indexDir, new StandardAnalyzer(), 
true);
     indexDocs(writer, new File("C:\\1995\\volume.xml"));


     writer.optimize();
     writer.close();

     Date end = new Date();

    }
 catch (Exception e)
 {
     System.out.println(" caught a " + e.getClass() + "\n with message: " + 
e.getMessage());
     throw e;
 }
    }

    public static void indexDocs(IndexWriter writer, File file)
 throws Exception
    {

 if (file.isDirectory())

 {
     String[] files = file.list();
     for (int i = 0; i < files.length; i++)
     indexDocs(writer, new File(file, files[i]));

 }
 else
 {
     System.out.println("adding " + file);

     XMLDocumentHandlerSAX hdlr = new XMLDocumentHandlerSAX(file);
     StandardAnalyzer anal = new StandardAnalyzer();
     writer.addDocument(hdlr.getDocument(),anal);
     System.out.println("Documents added to Index: "+writer.docCount());



 }
    }
}
Thanks very much again.
MC 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17083-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 17:44:29 2005
Return-Path: <java-user-return-17083-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42160 invoked from network); 25 Oct 2005 17:44:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 17:44:29 -0000
Received: (qmail 67600 invoked by uid 500); 25 Oct 2005 17:44:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67580 invoked by uid 500); 25 Oct 2005 17:44:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67569 invoked by uid 99); 25 Oct 2005 17:44:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 10:44:17 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.121.220.151] (HELO animarci.iserver.net) (128.121.220.151)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 10:44:14 -0700
Received: from [66.65.187.47] (cpe-66-65-187-47.nyc.res.rr.com [66.65.187.47])
	by animarci.iserver.net (8.12.11/8.12.6) with ESMTP id j9PHhsEZ005140
	for <java-user@lucene.apache.org>; Tue, 25 Oct 2005 11:43:55 -0600 (MDT)
Message-ID: <435E6ED3.4080903@animarc.com>
Date: Tue, 25 Oct 2005 13:43:47 -0400
From: Marc Hadfield <marc@animarc.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.2) Gecko/20040804 Netscape/7.2 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Funny results with Fuzzy
References: <20051025171347.83063.qmail@web26002.mail.ukl.yahoo.com>
In-Reply-To: <20051025171347.83063.qmail@web26002.mail.ukl.yahoo.com>
Content-Type: multipart/alternative;
 boundary="------------090005090808060301000504"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--------------090005090808060301000504
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit



hello -

a fuzzy query related question:

has there been any other implementations of "fuzzy" queries other than 
edit-distance?  and/or modifications of edit-distance to less penalize 
common alternate spellings? - i.e. "couldn't" vs. "couldnt" -- here the 
apostrophe would get a smaller penalty than character mismatch.

i'm thinking specifically of the algorithms in the SecondString open 
source package:
http://secondstring.sourceforge.net/

what do you think the difficulty would be to wrap an alternate algorithm 
that provides a:
float score(String1, String2)
function?


---marc

mark harwood wrote:

>>One thing I was thinking of doing was checking the
>>character frequency 
>>    
>>
>
>An alternative idea is index-time fuzzification rather
>than query-time. This is documented in one of the case
>studies in LIA - the principle is you don't
>index/search for whole words but use an NGram Analyzer
>to break them up at index time:
>
>Kylie becomes multiple words:
>[ k]
>[ ky]
>[ kyl]
>[ky]
>[kyl]
>[kyli]
>[yl]
>[yli]
>[ylie]
>[ kylie ]
>
>Obviously you use the same analyzer to process
>queries.
>Lucene will automatically look after relevancy of
>partial matches for you but your indexes are bigger
>and your queries will generate many more Boolean
>clauses.
>
>
>
>
>
>	
>	
>		
>___________________________________________________________ 
>Yahoo! Messenger - NEW crystal clear PC to PC calling worldwide with voicemail http://uk.messenger.yahoo.com
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  
>

--------------090005090808060301000504--

From java-user-return-17084-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 18:59:42 2005
Return-Path: <java-user-return-17084-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78787 invoked from network); 25 Oct 2005 18:59:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 18:59:41 -0000
Received: (qmail 68068 invoked by uid 500); 25 Oct 2005 18:59:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68054 invoked by uid 500); 25 Oct 2005 18:59:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68043 invoked by uid 99); 25 Oct 2005 18:59:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 11:59:25 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.18.5] (HELO mailbox.syr.edu) (128.230.18.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 11:59:22 -0700
Received: from [128.230.84.109] (istcnlpd9hb3r31.syr.edu [128.230.84.109])
	by mailbox.syr.edu (8.12.10/8.12.10) with ESMTP id j9PIwxq0001030
	for <java-user@lucene.apache.org>; Tue, 25 Oct 2005 14:59:00 -0400 (EDT)
Message-ID: <435E8073.8000701@syr.edu>
Date: Tue, 25 Oct 2005 14:58:59 -0400
From: Grant Ingersoll <gsingers@syr.edu>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Lucene and SAX
References: <20051025161350.45387.qmail@web26006.mail.ukl.yahoo.com> <00e001c5d988$7d0f6df0$0301a8c0@MALCOLM>
In-Reply-To: <00e001c5d988$7d0f6df0$0301a8c0@MALCOLM>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I am not familiar with the INEX collection, could you post a sample? 

Malcolm Clark wrote:

> Hi again,
> I am desperately asking for aid!!
>
> I have used the sandbox demo to parse the INEX collection.The problem 
> being it points to a volume file which references 50 other xml 
> articles.Lucene only treats this as one document.Is there any method 
> of which I'm overlooking that halts after each reference?
> Could somebody please help and I wont post again until I submit 
> something useful.
>
> The code is:
> public class XMLDocumentHandlerSAX
> extends HandlerBase
> {
>    /** A buffer for each XML element */
>    private StringBuffer elementBuffer = new StringBuffer();
>
>    private Document mDocument;
>
>    // constructor
>    public XMLDocumentHandlerSAX(File xmlFile)
> throws ParserConfigurationException, SAXException, IOException
>    {
> SAXParserFactory spf = SAXParserFactory.newInstance();
>
> SAXParser parser = spf.newSAXParser();
> parser.parse(xmlFile, this);
>    }
>
>    // call at document start
>    public void startDocument()
>    {
>     mDocument = new Document();
> //mDocument = new Document();
> elementBuffer.setLength(0);
>    }
>
>    // call at element start
>    public void startElement(String localName, AttributeList atts)
> throws SAXException
>    {
>
>     if (localName.equals("article")) {
>      elementBuffer.setLength(0);
>     }
>
>    }
>    // call when cdata found
>    public void characters(char[] text, int start, int length)
>    {
>
>      elementBuffer.append(text, start, length);
>
>    }
>
>    // call at element end
>    public void endElement(String localName)
> throws SAXException
>    {
>
>     if (localName.equals("article")) {
>      System.out.println("Article: "+elementBuffer.length());
>      elementBuffer.setLength(0);
>     }
>
>      mDocument.add(Field.Text(localName,elementBuffer.toString()));
>      System.out.println("EB: "+elementBuffer);
>      elementBuffer.setLength(0);
>
>    }
>
>
>    public Document getDocument()
>    {
>
> return mDocument;
>    }
>
>    public static void main(String[] args)
> throws Exception
>    {
> try
> {
>     Date start = new Date();
>     String indexDir = "C:\\LuceneDemo\\index";
>     IndexWriter writer = new IndexWriter(indexDir, new 
> StandardAnalyzer(), true);
>     indexDocs(writer, new File("C:\\1995\\volume.xml"));
>
>
>     writer.optimize();
>     writer.close();
>
>     Date end = new Date();
>
>    }
> catch (Exception e)
> {
>     System.out.println(" caught a " + e.getClass() + "\n with message: 
> " + e.getMessage());
>     throw e;
> }
>    }
>
>    public static void indexDocs(IndexWriter writer, File file)
> throws Exception
>    {
>
> if (file.isDirectory())
>
> {
>     String[] files = file.list();
>     for (int i = 0; i < files.length; i++)
>     indexDocs(writer, new File(file, files[i]));
>
> }
> else
> {
>     System.out.println("adding " + file);
>
>     XMLDocumentHandlerSAX hdlr = new XMLDocumentHandlerSAX(file);
>     StandardAnalyzer anal = new StandardAnalyzer();
>     writer.addDocument(hdlr.getDocument(),anal);
>     System.out.println("Documents added to Index: "+writer.docCount());
>
>
>
> }
>    }
> }
> Thanks very much again.
> MC
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17085-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 19:04:10 2005
Return-Path: <java-user-return-17085-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80800 invoked from network); 25 Oct 2005 19:04:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 19:04:09 -0000
Received: (qmail 80531 invoked by uid 500); 25 Oct 2005 19:03:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80503 invoked by uid 500); 25 Oct 2005 19:03:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80486 invoked by uid 99); 25 Oct 2005 19:03:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 12:03:49 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=FUZZY_ROLEX,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.12.12.202] (HELO smtp812.mail.ukl.yahoo.com) (217.12.12.202)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 25 Oct 2005 12:03:45 -0700
Received: (qmail 17882 invoked from network); 25 Oct 2005 19:03:25 -0000
Received: from unknown (HELO MALCOLM) (malcyclark@86.132.165.80 with login)
  by smtp812.mail.ukl.yahoo.com with SMTP; 25 Oct 2005 19:03:25 -0000
Message-ID: <007901c5d996$c74fba60$0201a8c0@MALCOLM>
From: "Malcolm" <malcyclark@btinternet.com>
To: <java-user@lucene.apache.org>
References: <20051025161350.45387.qmail@web26006.mail.ukl.yahoo.com> <00e001c5d988$7d0f6df0$0301a8c0@MALCOLM> <435E8073.8000701@syr.edu>
Subject: Re: Lucene and SAX
Date: Tue, 25 Oct 2005 20:03:25 +0100
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0076_01C5D99F.28AC38D0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2670
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.2670
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0076_01C5D99F.28AC38D0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

It's XML like this. It has 120-ish volumes with references to 12,107 =
articles which are like this below:
<article>
<fno>A1003</fno>
<doi>10.1041/A1003s-1995</doi>
<fm><hdr><hdr1><ti>IEEE Annals of the History of Computing</ti>
<crt><issn>1058-6180</issn>/95/$4.00 <cci><onm>&copy; 1995 =
IEEE</onm></cci></crt></hdr1>
<hdr2><obi><volno>Vol. 17</volno>, <issno>No. 1</issno></obi>
<pdt><mo>Spring</mo><yr>1995</yr></pdt>
<pp>pp. 3-3</pp></hdr2></hdr>
<tig>
<atl>About this Issue</atl><pn>pp. 3-3</pn></tig>
<au =
sequence=3D"first"><fnm>J.A.N.</fnm><snm>Lee</snm><role>Editor&hyphen;in&=
hyphen;Chief</role></au>
</fm>
<bdy>
<p>The first issue of our 17th volume is as diverse in topics as any =
nontheme issue that we have tried to present over the past many years. =
However, it still represents the work of the English&hyphen;speaking =
world of the North Atlantic rather than a broader picture of computing =
in the whole world. The Editorial Board and the article editors of the =
<it>Annals</it>
are doing their best to bring the history of the whole world of =
computing to our readers, but it does require authors in other countries =
to offer their manuscripts for our consideration. Please take this as an =
open invitation to authors in other parts of the world to submit papers =
to the <it>Annals</it>
for review and help us to follow the lead of our parent organization in =
being the &ldquo;The World&rsquo;s Computer Society.&rdquo;</p>
<p>The five major articles in this issue represent several manuscripts =
that have been in our files for some time, and we are grateful to the =
authors for having &ldquo;stuck with us&rdquo; while we reviewed, =
re&hyphen;reviewed, and reworked their papers. Articles in the field of =
history do not always present the work of the authors themselves (though =
we welcome pioneers to give us their own stories, as in the case of the =
1935 article by John McPherson in this issue); thus, answering the =
question &ldquo;is it accurate?&rdquo; is not always easy. In fact, we =
ask our referees to answer the following questions about each =
manuscript, and their responses determine whether we accept the =
manuscript &ldquo;as is&rdquo; or whether we ask the author(s) to revise =
the material:</p>
<l2>
<li>
<p>Are the issues addressed in the paper stated clearly enough?</p></li>
<li>
</bdy></article>

------=_NextPart_000_0076_01C5D99F.28AC38D0--


From java-user-return-17086-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 19:27:23 2005
Return-Path: <java-user-return-17086-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96718 invoked from network); 25 Oct 2005 19:27:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 19:27:22 -0000
Received: (qmail 25753 invoked by uid 500); 25 Oct 2005 19:27:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25702 invoked by uid 500); 25 Oct 2005 19:27:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25690 invoked by uid 99); 25 Oct 2005 19:27:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 12:27:04 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=FUZZY_ROLEX
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.18.5] (HELO mailbox.syr.edu) (128.230.18.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 12:27:02 -0700
Received: from [128.230.84.109] (istcnlpd9hb3r31.syr.edu [128.230.84.109])
	by mailbox.syr.edu (8.12.10/8.12.10) with ESMTP id j9PJQdq0007819
	for <java-user@lucene.apache.org>; Tue, 25 Oct 2005 15:26:39 -0400 (EDT)
Message-ID: <435E86EF.2070201@syr.edu>
Date: Tue, 25 Oct 2005 15:26:39 -0400
From: Grant Ingersoll <gsingers@syr.edu>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Lucene and SAX
References: <20051025161350.45387.qmail@web26006.mail.ukl.yahoo.com> <00e001c5d988$7d0f6df0$0301a8c0@MALCOLM> <435E8073.8000701@syr.edu> <007901c5d996$c74fba60$0201a8c0@MALCOLM>
In-Reply-To: <007901c5d996$c74fba60$0201a8c0@MALCOLM>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

 From what I can see, you are only passing volume.xml to your parser.  
If I understand your code and questions correctly, the Volume file 
simply points to the actual articles that you want to parse.  Seems like 
you need to parse the Volume file, get the name/location of the article 
file and then parse that for entry in Lucene.  Or am I mistaken?  What 
does the volume file look like?

Malcolm wrote:

>It's XML like this. It has 120-ish volumes with references to 12,107 articles which are like this below:
><article>
><fno>A1003</fno>
><doi>10.1041/A1003s-1995</doi>
><fm><hdr><hdr1><ti>IEEE Annals of the History of Computing</ti>
><crt><issn>1058-6180</issn>/95/$4.00 <cci><onm>&copy; 1995 IEEE</onm></cci></crt></hdr1>
><hdr2><obi><volno>Vol. 17</volno>, <issno>No. 1</issno></obi>
><pdt><mo>Spring</mo><yr>1995</yr></pdt>
><pp>pp. 3-3</pp></hdr2></hdr>
><tig>
><atl>About this Issue</atl><pn>pp. 3-3</pn></tig>
><au sequence="first"><fnm>J.A.N.</fnm><snm>Lee</snm><role>Editor&hyphen;in&hyphen;Chief</role></au>
></fm>
><bdy>
><p>The first issue of our 17th volume is as diverse in topics as any nontheme issue that we have tried to present over the past many years. However, it still represents the work of the English&hyphen;speaking world of the North Atlantic rather than a broader picture of computing in the whole world. The Editorial Board and the article editors of the <it>Annals</it>
>are doing their best to bring the history of the whole world of computing to our readers, but it does require authors in other countries to offer their manuscripts for our consideration. Please take this as an open invitation to authors in other parts of the world to submit papers to the <it>Annals</it>
>for review and help us to follow the lead of our parent organization in being the &ldquo;The World&rsquo;s Computer Society.&rdquo;</p>
><p>The five major articles in this issue represent several manuscripts that have been in our files for some time, and we are grateful to the authors for having &ldquo;stuck with us&rdquo; while we reviewed, re&hyphen;reviewed, and reworked their papers. Articles in the field of history do not always present the work of the authors themselves (though we welcome pioneers to give us their own stories, as in the case of the 1935 article by John McPherson in this issue); thus, answering the question &ldquo;is it accurate?&rdquo; is not always easy. In fact, we ask our referees to answer the following questions about each manuscript, and their responses determine whether we accept the manuscript &ldquo;as is&rdquo; or whether we ask the author(s) to revise the material:</p>
><l2>
><li>
><p>Are the issues addressed in the paper stated clearly enough?</p></li>
><li>
></bdy></article>
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17087-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 19:31:28 2005
Return-Path: <java-user-return-17087-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99054 invoked from network); 25 Oct 2005 19:31:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 19:31:16 -0000
Received: (qmail 35471 invoked by uid 500); 25 Oct 2005 19:30:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35412 invoked by uid 500); 25 Oct 2005 19:30:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35349 invoked by uid 99); 25 Oct 2005 19:30:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 12:30:45 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.12.12.195] (HELO smtp805.mail.ukl.yahoo.com) (217.12.12.195)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 25 Oct 2005 12:30:39 -0700
Received: (qmail 36216 invoked from network); 25 Oct 2005 19:30:19 -0000
Received: from unknown (HELO MALCOLM) (malcyclark@86.132.165.80 with login)
  by smtp805.mail.ukl.yahoo.com with SMTP; 25 Oct 2005 19:30:19 -0000
Message-ID: <009501c5d99a$897def50$0201a8c0@MALCOLM>
From: "Malcolm" <malcyclark@btinternet.com>
To: <java-user@lucene.apache.org>
References: <20051025161350.45387.qmail@web26006.mail.ukl.yahoo.com> <00e001c5d988$7d0f6df0$0301a8c0@MALCOLM> <435E8073.8000701@syr.edu> <007901c5d996$c74fba60$0201a8c0@MALCOLM> <435E86EF.2070201@syr.edu>
Subject: Re: Lucene and SAX
Date: Tue, 25 Oct 2005 20:30:19 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=response
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2670
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.2670
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Grant,
A highly shortened version of the volume is like below.

<?xml version="1.0" ?>
<!DOCTYPE books PUBLIC "-//LBIN//DTD IEEE Mag//EN" "xmlarticle.dtd"
[
<!ENTITY A1003 SYSTEM "a1003.xml">
<!ENTITY A1004 SYSTEM "a1004.xml">
<!ENTITY A1006 SYSTEM "a1006.xml">
]>
<books>
<journal>
<title>IEEE Annals of the History of Computing</title>
<issue>Spring 1995 (Vol. 17, No. 1)</issue>
<publisher>Published by the IEEE Computer Society</publisher>
<!--<graphicc filename="cs_cpy.tif"></graphicc>-->
<sec1>
<title>About this Issue</title>
</sec1>
&A1003;
<sec1>
<title>Comments, Queries, and Debate</title>
</sec1>
&A1004;
<sec1>
<title>Articles</title>
</sec1>
&A1006;
</journal>
</books>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17088-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 19:34:48 2005
Return-Path: <java-user-return-17088-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1036 invoked from network); 25 Oct 2005 19:34:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 19:34:46 -0000
Received: (qmail 43322 invoked by uid 500); 25 Oct 2005 19:34:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43288 invoked by uid 500); 25 Oct 2005 19:34:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43254 invoked by uid 99); 25 Oct 2005 19:34:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 12:34:10 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.12.12.142] (HELO smtp800.mail.ukl.yahoo.com) (217.12.12.142)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 25 Oct 2005 12:34:05 -0700
Received: (qmail 53238 invoked from network); 25 Oct 2005 19:33:44 -0000
Received: from unknown (HELO MALCOLM) (malcyclark@86.132.165.80 with login)
  by smtp800.mail.ukl.yahoo.com with SMTP; 25 Oct 2005 19:33:43 -0000
Message-ID: <000701c5d99b$0345c6f0$0201a8c0@MALCOLM>
From: "Malcolm" <malcyclark@btinternet.com>
To: <java-user@lucene.apache.org>
Cc: <gsingers@syr.edu>
References: <20051025161350.45387.qmail@web26006.mail.ukl.yahoo.com> <00e001c5d988$7d0f6df0$0301a8c0@MALCOLM> <435E8073.8000701@syr.edu> <007901c5d996$c74fba60$0201a8c0@MALCOLM> <435E86EF.2070201@syr.edu>
Subject: Re: Lucene and SAX
Date: Tue, 25 Oct 2005 20:33:44 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=response
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2670
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.2670
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'm not in anyway an expert, in fact far from, but when I try to reference 
each article seperately it complains of entitites as the XML articles are 
not well-formed.
Thanks,
MC 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17089-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 19:40:13 2005
Return-Path: <java-user-return-17089-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5417 invoked from network); 25 Oct 2005 19:40:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 19:40:13 -0000
Received: (qmail 51423 invoked by uid 500); 25 Oct 2005 19:39:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51401 invoked by uid 500); 25 Oct 2005 19:39:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51369 invoked by uid 99); 25 Oct 2005 19:39:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 12:39:47 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.93.125.162] (HELO cpanel37.gzo.com) (69.93.125.162)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 12:39:40 -0700
Received: from home-pool7-2.com2com.ru ([195.98.167.2] helo=pb)
	by cpanel37.gzo.com with esmtpa (Exim 4.52)
	id 1EUUdf-0008P3-7q
	for java-user@lucene.apache.org; Tue, 25 Oct 2005 14:39:15 -0500
From: "Pasha Bizhan" <lucene-list@lucenedotnet.com>
To: <java-user@lucene.apache.org>
Subject: RE: Extending 'sealed' classes & usage in comercial solution.
Date: Tue, 25 Oct 2005 23:45:21 +0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1506
In-Reply-To: <81646320510250821g822d495qdba16c445dc501a2@mail.gmail.com>
Thread-Index: AcXZd+QI8fX3g33+Qm6T7N50dN0QQgAJJvcQ
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - cpanel37.gzo.com
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - lucenedotnet.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked by ClamAV on apache.org
Message-Id: <20051025193940.8C46110FB2B4@asf.osuosl.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi, 

> From: Ivan Guzvinec [mailto:ivan.guzvinec@gmail.com] 
> 
> Would it be ok, if we just published our modified library, or 
> are there any other requirements/restrictions regarding the 
> usage in our commercial solutions?
> 
> Can anyone please elaborate on this issue.
 
See http://apache.org/foundation/licence-FAQ.html for more details.

Pasha Bizhan


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17090-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 20:04:57 2005
Return-Path: <java-user-return-17090-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25840 invoked from network); 25 Oct 2005 20:04:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 20:04:46 -0000
Received: (qmail 89026 invoked by uid 500); 25 Oct 2005 20:04:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89003 invoked by uid 500); 25 Oct 2005 20:04:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88991 invoked by uid 99); 25 Oct 2005 20:04:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 13:04:27 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 13:04:25 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 0932113E2005; Tue, 25 Oct 2005 16:04:01 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 0A9D513E2006
	for <java-user@lucene.apache.org>; Tue, 25 Oct 2005 16:03:51 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <50f433360510250646u191afa76p1811224b824a43a6@mail.gmail.com>
References: <435E1047.40705@gmail.com> <108515E2-8A6F-4840-B644-0E3B560A397B@ehatchersolutions.com> <50f433360510250646u191afa76p1811224b824a43a6@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <DAD0C2D2-726F-4BCB-A63E-F1FC94BE72DB@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Using analyzers with term queries
Date: Tue, 25 Oct 2005 16:03:46 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 25 Oct 2005, at 09:46, Jeff Rodenburg wrote:
> I don't mean to take the thread off-topic, but is this the recommended
> approach for any of the Query objects, i.e. SpanQuery or PhraseQuery?

In several applications I've built, a Query object is built via the  
API using an Analyzer directly and not using QueryParser.  So I  
believe the answer to your question is yes.  Currently QueryParser  
does not support the SpanQuery family, so you'd need to do this via  
the API or clever overriding of QueryParser methods in a subclass, or  
creating your own parser.

How you create a Query is really dependent on the application - so  
it's hard to say it's "recommended" to do it any particular way though.

     Erik



>
>
> On 10/25/05, Erik Hatcher <erik@ehatchersolutions.com> wrote:
>
>>
>>
>> On 25 Oct 2005, at 07:00, Rob Young wrote:
>>
>>> I am using TermQuery s (and FuzzyQuery s) on the searching side and
>>> I would like to keep doing so. However, I would like to use the
>>> MetaphoneReplacementAnalyzer (from Lucene in Action) when indexing.
>>> How can I allow for this in searching if I'm using TermQuery?
>>>
>>
>> You could simply call the metaphone .encode method on the text before
>> constructing a Term for TermQuery. Or, alternatively, you could run
>> the Analyzer on the String (using a StringReader) and capture the
>> token(s) that come back to formulate the TermQuery(s).
>>
>> Erik
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17091-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 20:06:42 2005
Return-Path: <java-user-return-17091-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26820 invoked from network); 25 Oct 2005 20:06:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 20:06:40 -0000
Received: (qmail 94151 invoked by uid 500); 25 Oct 2005 20:06:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94129 invoked by uid 500); 25 Oct 2005 20:06:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94118 invoked by uid 99); 25 Oct 2005 20:06:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 13:06:33 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 13:06:31 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 713B313E2006; Tue, 25 Oct 2005 16:06:10 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 4FE3C13E2005
	for <java-user@lucene.apache.org>; Tue, 25 Oct 2005 16:06:03 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <A9D9F16EC5955244A7B760CB3B8258480B9ED6A9@fraexmb2.staples.com>
References: <A9D9F16EC5955244A7B760CB3B8258480B9ED6A9@fraexmb2.staples.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <35363439-8981-4EAE-B453-CD541CF320A5@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Thread safety question
Date: Tue, 25 Oct 2005 16:05:43 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Right.... when you're searching or reading an index, there is no need  
for the client to be concerned with synchronization at all.

     Erik


On 25 Oct 2005, at 13:19, Sharma, Siddharth wrote:

> Hi
> I have an instance (each) of IndexSearcher and StandardAnalyzer  
> housed in a
> Singleton and I intend to use this one single instance (of Searcher  
> and
> Analyzer) for multiple concurrent search requests.
> I vaguely remember reading that I (as a client) do not have to  
> synchronize.
> Lucene internals takes care of it.
> Is this true?
> Thx
> Sid
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17092-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 20:11:21 2005
Return-Path: <java-user-return-17092-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29660 invoked from network); 25 Oct 2005 20:11:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 20:11:20 -0000
Received: (qmail 6693 invoked by uid 500); 25 Oct 2005 20:11:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6663 invoked by uid 500); 25 Oct 2005 20:11:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6652 invoked by uid 99); 25 Oct 2005 20:11:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 13:11:13 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.18.5] (HELO mailbox.syr.edu) (128.230.18.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 13:11:11 -0700
Received: from [128.230.84.109] (istcnlpd9hb3r31.syr.edu [128.230.84.109])
	by mailbox.syr.edu (8.12.10/8.12.10) with ESMTP id j9PKAmq0025072
	for <java-user@lucene.apache.org>; Tue, 25 Oct 2005 16:10:49 -0400 (EDT)
Message-ID: <435E9148.2040409@syr.edu>
Date: Tue, 25 Oct 2005 16:10:48 -0400
From: Grant Ingersoll <gsingers@syr.edu>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Lucene and SAX
References: <20051025161350.45387.qmail@web26006.mail.ukl.yahoo.com> <00e001c5d988$7d0f6df0$0301a8c0@MALCOLM> <435E8073.8000701@syr.edu> <007901c5d996$c74fba60$0201a8c0@MALCOLM> <435E86EF.2070201@syr.edu> <000701c5d99b$0345c6f0$0201a8c0@MALCOLM>
In-Reply-To: <000701c5d99b$0345c6f0$0201a8c0@MALCOLM>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Sounds like you need to make your articles XML or stop trying to use an 
XML parser to process the file, whichever is easier for you.  I don't 
think your issues are Lucene related.  I think you need to get a better 
handle on the XML processing.  As I suggested on your Digester thread 
before, I would separate the handling of the XML from Lucene until you 
can get a better handle on the XML processing.  I would also write 
myself some Unit Tests using some very small Volume examples. Can you 
write a small app that simply reads in the Volume file, then loads an 
article and prints it out?

-Grant

Malcolm wrote:

> I'm not in anyway an expert, in fact far from, but when I try to 
> reference each article seperately it complains of entitites as the XML 
> articles are not well-formed.
> Thanks,
> MC
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17093-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 20:39:05 2005
Return-Path: <java-user-return-17093-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40397 invoked from network); 25 Oct 2005 20:38:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 20:38:41 -0000
Received: (qmail 34241 invoked by uid 500); 25 Oct 2005 20:38:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34128 invoked by uid 500); 25 Oct 2005 20:38:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34095 invoked by uid 99); 25 Oct 2005 20:38:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 13:38:22 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.84.245] (HELO web36315.mail.mud.yahoo.com) (209.191.84.245)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 25 Oct 2005 13:38:19 -0700
Received: (qmail 28639 invoked by uid 60001); 25 Oct 2005 20:37:58 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=g1E0TNzv262nm8zAz5RE+fl1U+SInmeD4QwT1Hd/rYN4EqN2iI3lr15NI7u1vOAi6jqvxd6Ofy79bqy3E58eZebY061uTck1Ek1XECFBzpikrxRIb9epjXHfmPMRJ5n4GawJNrl21kBOqX1eZtzm1VXq3W4hZjnj4ZC5Ua85Zwk=  ;
Message-ID: <20051025203758.28636.qmail@web36315.mail.mud.yahoo.com>
Received: from [63.203.72.39] by web36315.mail.mud.yahoo.com via HTTP; Tue, 25 Oct 2005 13:37:58 PDT
Date: Tue, 25 Oct 2005 13:37:58 -0700 (PDT)
From: Sam Lee <victor_emailbox@yahoo.com>
Subject: Can Lucene be Used To Substitute Real Database?
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
  I am wondering if I can use Lucene to substitute
real database like mysql db?  I know that many people
use lucene only to index mysql db because of inferior
full-text index of mysql. 

Can Lucene to be used in place of mysql so that
website visitors can input data that will in turn
inserting row into Lucene just like mysql db?

Many thanks.


	
		
__________________________________ 
Yahoo! Mail - PC Magazine Editors' Choice 2005 
http://mail.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17094-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 20:42:23 2005
Return-Path: <java-user-return-17094-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42240 invoked from network); 25 Oct 2005 20:42:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 20:42:23 -0000
Received: (qmail 37982 invoked by uid 500); 25 Oct 2005 20:42:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37957 invoked by uid 500); 25 Oct 2005 20:42:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37946 invoked by uid 99); 25 Oct 2005 20:42:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 13:42:17 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist@danielnaber.de designates 80.67.18.13 as permitted sender)
Received: from [80.67.18.13] (HELO smtprelay01.ispgateway.de) (80.67.18.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 13:42:15 -0700
Received: (qmail 3225 invoked from network); 25 Oct 2005 20:41:52 -0000
Received: from unknown (HELO p5496c2a0.dip.t-dialin.net) ([pbs]695637@[84.150.194.160])
          (envelope-sender <lucenelist@danielnaber.de>)
          by smtprelay01.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 25 Oct 2005 20:41:52 -0000
From: Daniel Naber <lucenelist@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: Can Lucene be Used To Substitute Real Database?
Date: Tue, 25 Oct 2005 22:42:05 +0200
User-Agent: KMail/1.8.2
References: <20051025203758.28636.qmail@web36315.mail.mud.yahoo.com>
In-Reply-To: <20051025203758.28636.qmail@web36315.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200510252242.05320@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Dienstag 25 Oktober 2005 22:37, Sam Lee wrote:

> Can Lucene to be used in place of mysql so that
> website visitors can input data that will in turn
> inserting row into Lucene just like mysql db?

That's a bad idea. Lucene lacks a real update (you need to delete and 
re-add) and also sees everything as a string, even numbers. So although 
it's technically possible you don't want to do it.

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17095-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 21:09:55 2005
Return-Path: <java-user-return-17095-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57813 invoked from network); 25 Oct 2005 21:09:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 21:09:55 -0000
Received: (qmail 91321 invoked by uid 500); 25 Oct 2005 21:09:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91291 invoked by uid 500); 25 Oct 2005 21:09:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91278 invoked by uid 99); 25 Oct 2005 21:09:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 14:09:48 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [65.209.1.80] (HELO webmail.cymfony.com) (65.209.1.80)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 14:09:46 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Delete doesn't delete?
Date: Tue, 25 Oct 2005 17:07:01 -0400
Message-ID: <13F36D2926AD444697093282F20041B70395719E@buf-ex01.cymfony.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Delete doesn't delete?
Thread-Index: AcXY3FF8TT4OtjuJQZiM9bwVZttKxgABtF1QADElYyA=
From: "Peter Kim" <pkim@cymfony.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Are you using a hit collector? I think if you use a hit collector rather
than the Hits object for getting query results, deleted items will still
be returned as results. My workaround for this was to run optimize after
I finish a batch of deletes, which works fine for my system because I
only run a batch of deletes once a day.=20

Peter

> -----Original Message-----
> From: Dan Quaroni [mailto:dquaroni@OPENRATINGS.com]=20
> Sent: Monday, October 24, 2005 5:41 PM
> To: java-user@lucene.apache.org
> Subject: Delete doesn't delete?
>=20
> I know there's a little bit of trickery when it comes to=20
> deletes (i.e. it's still in the index until optimize, still=20
> available to open readers, etc) however I'm having this problem:
>=20
> I've implemented a call to delete by term.  It tells me that=20
> it deleted 1 item, but then I go and open a new reader on the=20
> index, search for this document, and I find it.  Confused, I=20
> run the delete again, and it once again tells me 1 document=20
> deleted.  And still, I can open a new searched and search for it.
>=20
> I've tried closing the reader that I used to delete it, still no luck.
>=20
> Any suggestions?
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17096-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 21:12:31 2005
Return-Path: <java-user-return-17096-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58618 invoked from network); 25 Oct 2005 21:12:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 21:12:31 -0000
Received: (qmail 96774 invoked by uid 500); 25 Oct 2005 21:12:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96750 invoked by uid 500); 25 Oct 2005 21:12:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96739 invoked by uid 99); 25 Oct 2005 21:12:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 14:12:24 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of chris.lu@gmail.com designates 66.249.82.193 as permitted sender)
Received: from [66.249.82.193] (HELO xproxy.gmail.com) (66.249.82.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 14:12:22 -0700
Received: by xproxy.gmail.com with SMTP id i26so18728wxd
        for <java-user@lucene.apache.org>; Tue, 25 Oct 2005 14:12:03 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=tXKlx6cPai00t2AYc83d++RXhl/WMGk7JD7uLNu7AMmkuLjThsG3+Nk/f+CAyJpNKSXHNN4rYTNUGk20igY5PoGS4lErOhYs39684H7BWy7Bxsg4EFs3dhAjmRnGTKgHePKoxU7QF7V3wl2Ez/FD21o9v7UU+gD97+lasDESIUM=
Received: by 10.65.119.11 with SMTP id w11mr109023qbm;
        Tue, 25 Oct 2005 14:12:03 -0700 (PDT)
Received: by 10.65.93.10 with HTTP; Tue, 25 Oct 2005 14:12:03 -0700 (PDT)
Message-ID: <6e3ae6310510251412m3cd3961ducdbf0c457174186b@mail.gmail.com>
Date: Tue, 25 Oct 2005 14:12:03 -0700
From: Chris Lu <chris.lu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Can Lucene be Used To Substitute Real Database?
In-Reply-To: <200510252242.05320@danielnaber.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <20051025203758.28636.qmail@web36315.mail.mud.yahoo.com>
	 <200510252242.05320@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

First of all, just using Lucene to replace rdms is quite possible in
some specific cases.

In addition to updating and string/number issues, Lucene also lacks
many rdms functionalities. One of them is aggregation functions like
SUM(), or "group by".

Of course, in some case, you may be able to get around it by just
using Lucene's existing functionalities. But you will need to worry
about multi-threaded updating, Lucene index optimization, etc.

Chris Lu
------------------------------
Lucene Full-Text Search on Any Database
http://www.DBSight.net

On 10/25/05, Daniel Naber <lucenelist@danielnaber.de> wrote:
> On Dienstag 25 Oktober 2005 22:37, Sam Lee wrote:
>
> > Can Lucene to be used in place of mysql so that
> > website visitors can input data that will in turn
> > inserting row into Lucene just like mysql db?
>
> That's a bad idea. Lucene lacks a real update (you need to delete and
> re-add) and also sees everything as a string, even numbers. So although
> it's technically possible you don't want to do it.
>
> Regards
>  Daniel
>
> --
> http://www.danielnaber.de
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17097-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 21:13:21 2005
Return-Path: <java-user-return-17097-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58848 invoked from network); 25 Oct 2005 21:13:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 21:13:21 -0000
Received: (qmail 98028 invoked by uid 500); 25 Oct 2005 21:13:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98007 invoked by uid 500); 25 Oct 2005 21:13:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97990 invoked by uid 99); 25 Oct 2005 21:13:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 14:13:14 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.194.55.244] (HELO mail2.globalspec.com) (66.194.55.244)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 14:13:10 -0700
Received: from gshqxc01.globalspec.net ([172.16.2.52]) by mail2.globalspec.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Tue, 25 Oct 2005 17:11:01 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Can Lucene be Used To Substitute Real Database?
Date: Tue, 25 Oct 2005 17:09:04 -0400
Message-ID: <EBA3EEF096B29542928098329E1D5FDE0598F841@gshqxc01.globalspec.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Can Lucene be Used To Substitute Real Database?
Thread-Index: AcXZpF+rudkdNu/mSyq53oqdGtHSCQAAqVSw
From: "Dalton, Jeffery" <jdalton@globalspec.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 25 Oct 2005 21:11:01.0328 (UTC) FILETIME=[9A1D6D00:01C5D9A8]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

It depends on the application.  Depending on the access pattern of you
system you might be able to use Lucene.   It's been done ;-). =20

If you have a very few tables with very simple relationships, it might
be an answer -- perhaps not the best one though.   If you want to use
advanced RDBMS features like enforcing complex constraints (some
constraints are possible, I've done it), it might get messy. =20

So, I will say yes, it probably can be done.  The question is SHOULD IT
BE for your application.  Very few applications have needs like search.
For example, have fun building an inverted web index in an RDBMS.  An
inverted index is good at keeping simple relationships simple and fast.
A search engine is just a big database with multiple tables, albeit very
simple ones.  For example:

A typical SE:
Host --> urls
Word --> Urls
Url --> Links

There might be some simple constraints between those tables (for example
links can't exist if the url doesn't exist.. Etc.. Etc..).  This has
been done.  It has been implemented using Lucene.  However, I will agree
with Daniel that in most cases lucene doesn't make a good replacement
for an RDBMS ;-)

- Jeff

-----Original Message-----
From: Daniel Naber [mailto:lucenelist@danielnaber.de]=20
Sent: Tuesday, October 25, 2005 4:42 PM
To: java-user@lucene.apache.org
Subject: Re: Can Lucene be Used To Substitute Real Database?

On Dienstag 25 Oktober 2005 22:37, Sam Lee wrote:

> Can Lucene to be used in place of mysql so that website visitors can=20
> input data that will in turn inserting row into Lucene just like mysql

> db?

That's a bad idea. Lucene lacks a real update (you need to delete and
re-add) and also sees everything as a string, even numbers. So although
it's technically possible you don't want to do it.

Regards
 Daniel

--
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17098-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 21:13:53 2005
Return-Path: <java-user-return-17098-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59029 invoked from network); 25 Oct 2005 21:13:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 21:13:52 -0000
Received: (qmail 99521 invoked by uid 500); 25 Oct 2005 21:13:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99501 invoked by uid 500); 25 Oct 2005 21:13:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99490 invoked by uid 99); 25 Oct 2005 21:13:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 14:13:46 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 14:13:43 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 80F705B8D0; Tue, 25 Oct 2005 14:13:23 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 653FF7F477
	for <java-user@lucene.apache.org>; Tue, 25 Oct 2005 14:13:23 -0700 (PDT)
Date: Tue, 25 Oct 2005 14:13:23 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Non-scoring fields
In-Reply-To: <435DFE3B.2090904@blizzy.de>
Message-ID: <Pine.LNX.4.58.0510251406460.28819@hal.rescomp.berkeley.edu>
References: <92A278501EF50444AD3EE1FFB51219550BCE39B8@emss10m03.us.lmco.com>
 <435DFE3B.2090904@blizzy.de>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: > You can also use a filter to filter your results. As far as I know
: > Filter does not effect the score
:
: Yes, but wouldn't a filter be at least a little slower in this simple case?
: Perhaps I should just do a few timing tests...

There is nothing intrinsic in the way Filters work that make them slower
then Queries -- in the case of RangeQuery vs RangeFilter, a RangeFilter is
just about always faster then a RangeQuery.  (or more specifically: I've
never seen a case in which a RangeQuery is faster)

In your case, it sounds like what you want is a simple "TermFilter" -- a
class by that name doesn't exist, but you can use RangeFilter (just set
both ends of the range to be the same group that you want to restrict to)
to get the same effect.


The added bonus of using a Filter, is that the results can be cached for
as long as the IndexReader used is open, which means everytime someone
from the same group does a search, the info about what docs that group
can look at is reused -- even if the searches are different every time.

(see CachingWrapperFilter for one example of how to do this)


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17099-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 21:24:08 2005
Return-Path: <java-user-return-17099-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64481 invoked from network); 25 Oct 2005 21:24:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 21:24:07 -0000
Received: (qmail 20271 invoked by uid 500); 25 Oct 2005 21:24:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20247 invoked by uid 500); 25 Oct 2005 21:24:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20236 invoked by uid 99); 25 Oct 2005 21:24:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 14:24:00 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 14:23:58 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 7AD735B799; Tue, 25 Oct 2005 14:23:39 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP
	id 783817F476; Tue, 25 Oct 2005 14:23:39 -0700 (PDT)
Date: Tue, 25 Oct 2005 14:23:39 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Maxim Patramanskij <max@osua.de>
Cc: java-user@lucene.apache.org
Subject: Re[2]: Cross-field multi-word and query
In-Reply-To: <19963773828.20051025102331@osua.de>
Message-ID: <Pine.LNX.4.58.0510251414320.28819@hal.rescomp.berkeley.edu>
References: <18812797609.20051024201355@osua.de>
 <Pine.LNX.4.58.0510242321040.21880@hal.rescomp.berkeley.edu>
 <19963773828.20051025102331@osua.de>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: I have n fields, for simplicity let's say 3: f1, f2, f3.
: I have an AND query with m words in it, lets' also simplify: w1, w2, w3.
:
: To cover all possible cases I should finally have the following
: BooleanQuery:

it really depends on what you want.  if I understand what you mean in the
below query (I'm assuming you want all of those boolean queries to
themselves be optional clauses in one big wrapping BooleanQuery) then I
think you can acomplish roughly the same thing using one boolean query
wrapping a MaxDisjunct query for each word (where each unique clause of a
MaxDisjunct is for the different fields.

Expressed in the syntax used by Chuck Willians (the author of
MaxDisjunctQuery), what I mean is...

( +(f1:w1 | f2:w1 | f3:w1) +(f1:w2 | f2:w2 | f3:w2) +(f1:w3 | f2:w3 | f3:w3))

...this will garuntee that all three words appear in your index, in one of
hte three fields.  it will also result in the score contribution for each
word being dominated by on whichever field results in a Term that
generates the highest score for that word.

Please look at the "albino elephant" example provided by the Chuck in his
initial issue report...

	http://issues.apache.org/jira/browse/LUCENE-323

:
: (+(f1:w1) +(f1:w2) +(f1:w3))
: (+(f2:w1) +(f2:w2) +(f2:w3))
: (+(f3:w1) +(f3:w2) +(f3:w3))
:
: (+(f1:w1) +(f2:w2) +(f3:w3))
: (+(f1:w2) +(f2:w1) +(f3:w3))
: (+ f1:w3) +(f2:w1) +(f3:w2))
: (+(f1:w1) +(f2:w3) +(f3:w2))
: (+(f1:w2) +(f2:w3) +(f3:w1))
: (+ f1:w3) +(f2:w2) +(f3:w1))
:
: (+(f1:w1) +(f1:w2) +(f2:w3))
: (+(f1:w1) +(f1:w2) +(f3:w3))
:
: (+(f1:w1) +(f1:w3) +(f2:w2))
: (+(f1:w1) +(f1:w3) +(f3:w2))
:
: (+(f1:w2) +(f1:w3) +(f2:w1))
: (+(f1:w2) +(f1:w3) +(f3:w1))
:
: (+(f2:w1) +(f2:w2) +(f1:w3))
: (+(f2:w1) +(f2:w2) +(f3:w3))
:
: (+(f2:w1) +(f2:w3) +(f1:w2))
: (+(f2:w1) +(f2:w3) +(f3:w2))
:
: (+(f2:w2) +(f2:w3) +(f1:w1))
: (+(f2:w2) +(f2:w3) +(f3:w1))
:
: (+(f3:w1) +(f3:w2) +(f1:w3))
: (+(f3:w1) +(f3:w2) +(f2:w3))
:
: (+(f3:w1) +(f3:w3) +(f1:w2))
: (+(f3:w1) +(f3:w3) +(f2:w2))
:
: (+(f3:w2) +(f3:w3) +(f1:w1))
: (+(f3:w2) +(f3:w3) +(f2:w1))


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17100-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 22:12:52 2005
Return-Path: <java-user-return-17100-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89786 invoked from network); 25 Oct 2005 22:12:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 22:12:52 -0000
Received: (qmail 71613 invoked by uid 500); 25 Oct 2005 22:12:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71591 invoked by uid 500); 25 Oct 2005 22:12:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71580 invoked by uid 99); 25 Oct 2005 22:12:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 15:12:46 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.84.237] (HELO web36307.mail.mud.yahoo.com) (209.191.84.237)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 25 Oct 2005 15:12:43 -0700
Received: (qmail 45580 invoked by uid 60001); 25 Oct 2005 22:12:24 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=eRl7RmlfxR40Qhc5xgdiX2+xFAo8dyDxomb2pCNiR2y00c4iX1j4UgLVZmkjq5pkHIPnnyBwTznRi3JNLmM16c5dVlvAeWLs743EMeGugvU1sm0uHWGpIuwif2QrXtHft8oUEwyuLM+Y+KMmErS3htzeSS+4YsMIUlMrCbMrya4=  ;
Message-ID: <20051025221224.45578.qmail@web36307.mail.mud.yahoo.com>
Received: from [63.203.72.39] by web36307.mail.mud.yahoo.com via HTTP; Tue, 25 Oct 2005 15:12:24 PDT
Date: Tue, 25 Oct 2005 15:12:24 -0700 (PDT)
From: Sam Lee <victor_emailbox@yahoo.com>
Subject: Re: Can Lucene be Used To Substitute Real Database?
To: java-user@lucene.apache.org
In-Reply-To: <200510252242.05320@danielnaber.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

ok, I will keep mysql.  Would someone suggest how do I
integrate mysql with lucene so that I can use lucene
to index mysql db using free or open source solution? 
Someone suggested DBsight, but it's not free when you
index beyond 30MB.


--- Daniel Naber <lucenelist@danielnaber.de> wrote:

> On Dienstag 25 Oktober 2005 22:37, Sam Lee wrote:
> 
> > Can Lucene to be used in place of mysql so that
> > website visitors can input data that will in turn
> > inserting row into Lucene just like mysql db?
> 
> That's a bad idea. Lucene lacks a real update (you
> need to delete and 
> re-add) and also sees everything as a string, even
> numbers. So although 
> it's technically possible you don't want to do it.
> 
> Regards
>  Daniel
> 
> -- 
> http://www.danielnaber.de
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 



	
		
__________________________________ 
Yahoo! Mail - PC Magazine Editors' Choice 2005 
http://mail.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17101-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 22:18:06 2005
Return-Path: <java-user-return-17101-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91498 invoked from network); 25 Oct 2005 22:18:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 22:18:05 -0000
Received: (qmail 76779 invoked by uid 500); 25 Oct 2005 22:18:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76757 invoked by uid 500); 25 Oct 2005 22:18:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76746 invoked by uid 99); 25 Oct 2005 22:18:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 15:18:00 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of chris.lu@gmail.com designates 66.249.82.200 as permitted sender)
Received: from [66.249.82.200] (HELO xproxy.gmail.com) (66.249.82.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 15:17:58 -0700
Received: by xproxy.gmail.com with SMTP id i26so36288wxd
        for <java-user@lucene.apache.org>; Tue, 25 Oct 2005 15:17:38 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=EGVR0VyzOrig65GMYdGatPolXxTW2puhc+ij7vJFpdhzEJRxd/ZPKA4eayOgw7NJXm+AWFQhR+NHtyKllu9zVE9bo7uwSEqXyhmjDwIvTiPwEVsOtMIPE+gvje06mPv34PWagRItoNsAI8P3F5J2AkpPwDIYnmPw5xdrVOExuh0=
Received: by 10.65.148.4 with SMTP id a4mr146977qbo;
        Tue, 25 Oct 2005 15:17:38 -0700 (PDT)
Received: by 10.65.93.10 with HTTP; Tue, 25 Oct 2005 15:17:38 -0700 (PDT)
Message-ID: <6e3ae6310510251517t10d9a392kb5513017a613c145@mail.gmail.com>
Date: Tue, 25 Oct 2005 15:17:38 -0700
From: Chris Lu <chris.lu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Can Lucene be Used To Substitute Real Database?
In-Reply-To: <20051025221224.45578.qmail@web36307.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <200510252242.05320@danielnaber.de>
	 <20051025221224.45578.qmail@web36307.mail.mud.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Someone donated his code to Sourceforge.
But it's pretty rudimentary.
You may check it out.

Chris

On 10/25/05, Sam Lee <victor_emailbox@yahoo.com> wrote:
> ok, I will keep mysql.  Would someone suggest how do I
> integrate mysql with lucene so that I can use lucene
> to index mysql db using free or open source solution?
> Someone suggested DBsight, but it's not free when you
> index beyond 30MB.
>
>
> --- Daniel Naber <lucenelist@danielnaber.de> wrote:
>
> > On Dienstag 25 Oktober 2005 22:37, Sam Lee wrote:
> >
> > > Can Lucene to be used in place of mysql so that
> > > website visitors can input data that will in turn
> > > inserting row into Lucene just like mysql db?
> >
> > That's a bad idea. Lucene lacks a real update (you
> > need to delete and
> > re-add) and also sees everything as a string, even
> > numbers. So although
> > it's technically possible you don't want to do it.
> >
> > Regards
> >  Daniel
> >
> > --
> > http://www.danielnaber.de
> >
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> > java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail:
> > java-user-help@lucene.apache.org
> >
> >
>
>
>
>
>
> __________________________________
> Yahoo! Mail - PC Magazine Editors' Choice 2005
> http://mail.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17102-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 25 23:39:27 2005
Return-Path: <java-user-return-17102-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25142 invoked from network); 25 Oct 2005 23:39:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Oct 2005 23:39:27 -0000
Received: (qmail 57991 invoked by uid 500); 25 Oct 2005 23:39:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57951 invoked by uid 500); 25 Oct 2005 23:39:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57924 invoked by uid 99); 25 Oct 2005 23:39:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 16:39:21 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.18.98.34] (HELO brmea-mail-3.sun.com) (192.18.98.34)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 16:39:19 -0700
Received: from phys-d3-ha21sca-2 ([129.145.155.165])
	by brmea-mail-3.sun.com (8.12.10/8.12.9) with ESMTP id j9PNd03H024090
	for <java-user@lucene.apache.org>; Tue, 25 Oct 2005 17:39:00 -0600 (MDT)
Received: from conversion-daemon.ha21sca-mail1.sfbay.sun.com by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 id <0IOX00M01W7I2J@ha21sca-mail1.sfbay.sun.com>
 (original mail from Richard.Hillegas@Sun.COM) for java-user@lucene.apache.org;
 Tue, 25 Oct 2005 16:39:23 -0700 (PDT)
Received: from [129.150.29.85]
 (vpn-129-150-29-85.SFBay.Sun.COM [129.150.29.85]) by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 with ESMTP id <0IOX00HKBWDMAZ@ha21sca-mail1.sfbay.sun.com> for
 java-user@lucene.apache.org; Tue, 25 Oct 2005 16:39:23 -0700 (PDT)
Date: Tue, 25 Oct 2005 16:39:11 -0700
From: Rick Hillegas <Richard.Hillegas@Sun.COM>
Subject: integrating lucene with derby
To: java-user@lucene.apache.org
Message-id: <435EC21F.6040102@sun.com>
MIME-version: 1.0
Content-type: text/plain; charset=ISO-8859-1; format=flowed
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

If you would like to participate in the discussion about integrating 
Lucene with the Derby database, you're welcome to add your comments to 
the following wiki page: 
http://wiki.apache.org/db-derby/LuceneIntegration. Right now, we're 
gathering features and use cases which people would like to see in an 
rdbms integrated with a text-search engine.

Thanks in advance for your feedback,
-Rick

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17103-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 02:09:50 2005
Return-Path: <java-user-return-17103-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83113 invoked from network); 26 Oct 2005 02:09:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 02:09:49 -0000
Received: (qmail 64361 invoked by uid 500); 26 Oct 2005 02:09:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64326 invoked by uid 500); 26 Oct 2005 02:09:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64315 invoked by uid 99); 26 Oct 2005 02:09:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 19:09:41 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.32] (HELO ylpvm01.prodigy.net) (207.115.57.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 19:09:38 -0700
X-ORBL: [66.136.196.75]
Received: from [192.168.1.10] (adsl-66-136-196-75.dsl.austtx.swbell.net [66.136.196.75])
	by ylpvm01.prodigy.net (8.13.4 dk-milter linux/8.13.4) with ESMTP id j9Q2DP4f006179
	for <java-user@lucene.apache.org>; Tue, 25 Oct 2005 22:13:27 -0400
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <0E16864C-E739-449E-B512-96CC2090307C@otherwise.com>
References: <0E16864C-E739-449E-B512-96CC2090307C@otherwise.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <F7B5C444-C995-4474-8A6A-7A548688110A@otherwise.com>
Content-Transfer-Encoding: 7bit
From: Bill Tschumy <bill@otherwise.com>
Subject: Re: Another index corruption problem
Date: Tue, 25 Oct 2005 21:09:20 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I hate to plead, but I really need to do my best to recover my  
customer's data.  Does anyone have any pointers for how to manually  
(or programmatically) repair this corrupted index?


On Oct 24, 2005, at 11:23 PM, Bill Tschumy wrote:

> Many months ago I wrote this list about a corrupted index that one  
> of my customers had.  It was a mystery that was never really  
> solved.  Well, it has happened again and the stack trace looks  
> almost identical.  Here is the exception:
>
> java.io.FileNotFoundException: /Users/samegan/Library/Preferences/ 
> Parsnips/IndexData/_1d.fnm (No such file or directory)
>     at java.io.RandomAccessFile.open(Native Method)
>     at java.io.RandomAccessFile.<init>(RandomAccessFile.java:204)
>     at org.apache.lucene.store.FSInputStream$Descriptor.<init> 
> (FSDirectory.java:376)
>     at org.apache.lucene.store.FSInputStream.<init> 
> (FSDirectory.java:405)
>     at org.apache.lucene.store.FSDirectory.openFile 
> (FSDirectory.java:268)
>     at org.apache.lucene.index.FieldInfos.<init>(FieldInfos.java:53)
>     at org.apache.lucene.index.SegmentReader.initialize 
> (SegmentReader.java:109)
>     at org.apache.lucene.index.SegmentReader.<init> 
> (SegmentReader.java:94)
>     at org.apache.lucene.index.IndexReader$1.doBody 
> (IndexReader.java:122)
>     at org.apache.lucene.store.Lock$With.run(Lock.java:109)
>     at org.apache.lucene.index.IndexReader.open(IndexReader.java:111)
>     at org.apache.lucene.index.IndexReader.open(IndexReader.java:106)
>     at org.apache.lucene.search.IndexSearcher.<init> 
> (IndexSearcher.java:43)
>     at com.otherwise.parsnips.MySearcher.getSearcher 
> (MySearcher.java:96)
>     at com.otherwise.parsnips.IndexUpdater.checkIndexVersion 
> (IndexUpdater.java:35)
>     at com.otherwise.parsnips.Parsnips.initIndex(Parsnips.java:1043)
>     at com.otherwise.parsnips.Parsnips.<init>(Parsnips.java:148)
>     at com.otherwise.parsnips.Parsnips.mainInEventThread 
> (Parsnips.java:1158)
>     at com.otherwise.parsnips.Parsnips$4.run(Parsnips.java:1115)
>     at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java: 
> 189)
>     at java.awt.EventQueue.dispatchEvent(EventQueue.java:478)
>     at java.awt.EventDispatchThread.pumpOneEventForHierarchy 
> (EventDispatchThread.java:234)
>     at java.awt.EventDispatchThread.pumpEventsForHierarchy 
> (EventDispatchThread.java:184)
>     at java.awt.EventDispatchThread.pumpEvents 
> (EventDispatchThread.java:178)
>     at java.awt.EventDispatchThread.pumpEvents 
> (EventDispatchThread.java:170)
>     at java.awt.EventDispatchThread.run(EventDispatchThread.java:100)
>
> This is a compound index, so I guess the .fnm file it is looking  
> for is internal to it or temporary in some way.  The customer  
> thinks the problem was caused by accidentally pasting an entire  
> document into the "title" field and saving.  I kind of doubt this  
> caused the problem, but you never know.  I treat the "title" and  
> the "body" identically for indexing.
>
> The person is pretty panicked about his lost data.  Does anyone  
> have any hints as to how to edit the file to get it back  
> functioning again?  I've heard of people using hex editors for this.
>
> After solving his immediate problem, I need to figure out why this  
> is happening.  I haven't followed this list for a couple of  
> months.  Has anything like this come up recently?  I am using  
> Lucene-1.4.3.
> -- 
> Bill Tschumy
> Otherwise -- Austin, TX
> http://www.otherwise.com
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

-- 
Bill Tschumy
Otherwise -- Austin, TX
http://www.otherwise.com



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17104-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 02:38:31 2005
Return-Path: <java-user-return-17104-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91477 invoked from network); 26 Oct 2005 02:38:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 02:38:31 -0000
Received: (qmail 83447 invoked by uid 500); 26 Oct 2005 02:38:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83389 invoked by uid 500); 26 Oct 2005 02:38:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83378 invoked by uid 99); 26 Oct 2005 02:38:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 19:38:25 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of koji.sekiguchi@m4.dion.ne.jp designates 203.181.105.70 as permitted sender)
Received: from [203.181.105.70] (HELO hfep04.dion.ne.jp) (203.181.105.70)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 19:38:23 -0700
Received: from sekiguchi ([59.135.110.69]) by hfep04.dion.ne.jp with SMTP
          id <20051026023803580.CFRG@hfep04.dion.ne.jp>
          for <java-user@lucene.apache.org>;
          Wed, 26 Oct 2005 11:38:03 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
Subject: score formula in Similarity javadoc
Date: Wed, 26 Oct 2005 11:38:00 +0900
Message-ID: <PKEIKOCKCHNIIHNECPCCMELMCAAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----=_NextPart_000_0004_01C5DA21.B7EB8A50"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0004_01C5DA21.B7EB8A50
Content-Type: text/plain;
	charset="iso-2022-jp"
Content-Transfer-Encoding: 7bit

Hello,

I apologize if this list is not appropriate for sending a patch.

It seems there is an error on score formula in Similarity javadoc:

score(q,d) = sigma( tf * idf^2 * ... )

should be

score(q,d) = sigma( tf * idf * ... )

if my understanding is correct, I would appreciate it if
someone could apply the attached patch to svn.

BTW, in java langauge, operator ^ means BIT XOR... :)

regards,

Koji



------=_NextPart_000_0004_01C5DA21.B7EB8A50
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
------=_NextPart_000_0004_01C5DA21.B7EB8A50--



From java-user-return-17105-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 02:50:03 2005
Return-Path: <java-user-return-17105-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94509 invoked from network); 26 Oct 2005 02:50:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 02:50:03 -0000
Received: (qmail 87229 invoked by uid 500); 26 Oct 2005 02:49:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87201 invoked by uid 500); 26 Oct 2005 02:49:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87190 invoked by uid 99); 26 Oct 2005 02:49:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 19:49:57 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of koji.sekiguchi@m4.dion.ne.jp designates 203.181.105.71 as permitted sender)
Received: from [203.181.105.71] (HELO hfep05.dion.ne.jp) (203.181.105.71)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 19:49:55 -0700
Received: from sekiguchi ([59.135.110.69]) by hfep05.dion.ne.jp with SMTP
          id <20051026024936267.CWJO@hfep05.dion.ne.jp>
          for <java-user@lucene.apache.org>;
          Wed, 26 Oct 2005 11:49:36 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
Subject: RE: score formula in Similarity javadoc
Date: Wed, 26 Oct 2005 11:49:33 +0900
Message-ID: <PKEIKOCKCHNIIHNECPCCEELNCAAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-2022-jp"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <PKEIKOCKCHNIIHNECPCCMELMCAAA.koji.sekiguchi@m4.dion.ne.jp>
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Attached file was deleted by mailing list server.
The patch was:

Index: src/java/org/apache/lucene/search/Similarity.java
===================================================================
--- src/java/org/apache/lucene/search/Similarity.java	($Bec%'ecFe$:ec%!ec%&(B
328522)
+++ src/java/org/apache/lucene/search/Similarity.java	($Bh?Xh!&%eeb%&ecHe!&(B)
@@ -42,7 +42,7 @@
  *    <big><big><big><big><big>&Sigma;</big></big></big></big></big></td>
  *    <td valign="middle"><small>
  *    ( {@link #tf(int) tf}(t in d) *
- *    {@link #idf(Term,Searcher) idf}(t)^2 *
+ *    {@link #idf(Term,Searcher) idf}(t) *
  *    {@link Query#getBoost getBoost}(t in q) *
  *    {@link Field#getBoost getBoost}(t.field in d) *
  *    {@link #lengthNorm(String,int) lengthNorm}(t.field in d) )

> -----Original Message-----
> From: Koji Sekiguchi [mailto:koji.sekiguchi@m4.dion.ne.jp]
> Sent: Wednesday, October 26, 2005 11:38 AM
> To: java-user@lucene.apache.org
> Subject: score formula in Similarity javadoc
>
>
> Hello,
>
> I apologize if this list is not appropriate for sending a patch.
>
> It seems there is an error on score formula in Similarity javadoc:
>
> score(q,d) = sigma( tf * idf^2 * ... )
>
> should be
>
> score(q,d) = sigma( tf * idf * ... )
>
> if my understanding is correct, I would appreciate it if
> someone could apply the attached patch to svn.
>
> BTW, in java langauge, operator ^ means BIT XOR... :)
>
> regards,
>
> Koji
>
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17106-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 06:51:07 2005
Return-Path: <java-user-return-17106-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82901 invoked from network); 26 Oct 2005 06:51:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 06:51:06 -0000
Received: (qmail 33750 invoked by uid 500); 26 Oct 2005 06:50:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33632 invoked by uid 500); 26 Oct 2005 06:50:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33601 invoked by uid 99); 26 Oct 2005 06:50:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 23:50:50 -0700
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 66.249.82.201 as permitted sender)
Received: from [66.249.82.201] (HELO xproxy.gmail.com) (66.249.82.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 25 Oct 2005 23:50:48 -0700
Received: by xproxy.gmail.com with SMTP id s19so181906wxc
        for <java-user@lucene.apache.org>; Tue, 25 Oct 2005 23:50:29 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=eoNNSWeSdr3X++hpOZW1jV0rwUmW+LyuT9TcNPIZBg+TAR9I22+YRX36CxIELxA2BaVQSZSIRsjzrCt30TcDHInPuevvZ3yvLe1YVd42ITb88skJqbL3jVWQQWZXdYKG88eCn891KqXzHk4p1kuUJj6meDpKnQakk4qp4XGxTjA=
Received: by 10.65.74.6 with SMTP id b6mr432990qbl;
        Tue, 25 Oct 2005 23:50:29 -0700 (PDT)
Received: by 10.65.22.17 with HTTP; Tue, 25 Oct 2005 23:50:29 -0700 (PDT)
Message-ID: <50f433360510252350r3bddd8e9ldfb6dd47f19ea6bf@mail.gmail.com>
Date: Tue, 25 Oct 2005 23:50:29 -0700
From: Jeff Rodenburg <jeff.rodenburg@gmail.com>
To: java-user@lucene.apache.org
Subject: MaxFieldLength or MaxFields?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_16204_11346949.1130309429531"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_16204_11346949.1130309429531
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I'm considering building out an index that will flatten a data structure,
such that some Document "A" will have Fields 1,2 and 3.
Fields 1 and 2 are indexed/tokenized field. Field 3 is indexed, and will
contain many discrete values (up to possibly 5000).

Couple of questions:
1. Does the DEFAULT_MAX_FIELD_LENGTH on IndexWriter come into play for Fiel=
d
3? Field 3 values are added to the document individually, there's just a
bunch of them.
2. Is MaxFieldLength a consideration for this?

Any guidance before I go through the trouble of building the index would be
greatly appreciated.

thanks,
- j

------=_Part_16204_11346949.1130309429531--

From java-user-return-17107-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 07:05:45 2005
Return-Path: <java-user-return-17107-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88979 invoked from network); 26 Oct 2005 07:05:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 07:05:45 -0000
Received: (qmail 47208 invoked by uid 500); 26 Oct 2005 07:05:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47181 invoked by uid 500); 26 Oct 2005 07:05:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47165 invoked by uid 99); 26 Oct 2005 07:05:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 00:05:34 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [212.18.25.230] (HELO mail.zooplus.de) (212.18.25.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 00:05:31 -0700
Received: from exchange2.home.zooplus.de (unknown [192.168.10.72])
	by mail.zooplus.de (Postfix) with ESMTP id 1233357719
	for <java-user@lucene.apache.org>; Wed, 26 Oct 2005 09:05:12 +0200 (CEST)
Received: by exchange2.home.zooplus.de with Internet Mail Service (5.5.2657.72)
	id <V3Q9XBZA>; Wed, 26 Oct 2005 09:05:11 +0200
Message-ID: <10361639FF4CA04ABB30F54683E4FB850566737B@exchange2.home.zooplus.de>
From: Steven Pannell <steven.pannell@zooplus.com>
To: java-user@lucene.apache.org
Subject: Database File Store (SQLDirectory?)
Date: Wed, 26 Oct 2005 09:05:11 +0200
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I'm looking to try and store my index into an oracle database.  Has anyone
done this before?  I did find something in the archive referring to the
SQLDirectory.java file by Marc Kramis. But there does not seem to be any
download or further references to this implementation.  Does anyone have it?
or are there perhaps any other implementations to get me started?

thx.
Steve.




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17108-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 07:28:22 2005
Return-Path: <java-user-return-17108-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3892 invoked from network); 26 Oct 2005 07:28:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 07:28:21 -0000
Received: (qmail 74127 invoked by uid 500); 26 Oct 2005 07:28:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73895 invoked by uid 500); 26 Oct 2005 07:28:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73881 invoked by uid 99); 26 Oct 2005 07:28:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 00:28:14 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist@danielnaber.de designates 80.67.18.16 as permitted sender)
Received: from [80.67.18.16] (HELO smtprelay04.ispgateway.de) (80.67.18.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 00:28:11 -0700
Received: (qmail 11284 invoked from network); 26 Oct 2005 07:27:50 -0000
Received: from unknown (HELO p5496dc54.dip.t-dialin.net) ([pbs]695637@[84.150.220.84])
          (envelope-sender <lucenelist@danielnaber.de>)
          by smtprelay04.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 26 Oct 2005 07:27:50 -0000
From: Daniel Naber <lucenelist@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: Another index corruption problem
Date: Wed, 26 Oct 2005 09:28:07 +0200
User-Agent: KMail/1.8.2
References: <0E16864C-E739-449E-B512-96CC2090307C@otherwise.com> <F7B5C444-C995-4474-8A6A-7A548688110A@otherwise.com>
In-Reply-To: <F7B5C444-C995-4474-8A6A-7A548688110A@otherwise.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200510260928.07821@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Mittwoch 26 Oktober 2005 04:09, Bill Tschumy wrote:

> I hate to plead, but I really need to do my best to recover my
> customer's data.  Does anyone have any pointers for how to manually
> (or programmatically) repair this corrupted index?

You could try to fix the segments file (remove the file name that cannot be 
opened) with a hex editor. The format is described here:
http://lucene.apache.org/java/docs/fileformats.html

You could also modify the Lucene code and just ignore that exception and 
see what happens then.

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17109-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 07:45:14 2005
Return-Path: <java-user-return-17109-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12181 invoked from network); 26 Oct 2005 07:45:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 07:45:14 -0000
Received: (qmail 91131 invoked by uid 500); 26 Oct 2005 07:45:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91104 invoked by uid 500); 26 Oct 2005 07:45:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91093 invoked by uid 99); 26 Oct 2005 07:45:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 00:45:05 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.44.16.11] (HELO getopt.org) (69.44.16.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 00:45:02 -0700
Received: from [192.168.0.254] (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id j9Q7ii517758
	for <java-user@lucene.apache.org>; Wed, 26 Oct 2005 02:44:44 -0500
Message-ID: <435F33E9.4070608@getopt.org>
Date: Wed, 26 Oct 2005 09:44:41 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Another index corruption problem
References: <0E16864C-E739-449E-B512-96CC2090307C@otherwise.com> <F7B5C444-C995-4474-8A6A-7A548688110A@otherwise.com> <200510260928.07821@danielnaber.de>
In-Reply-To: <200510260928.07821@danielnaber.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Daniel Naber wrote:
> On Mittwoch 26 Oktober 2005 04:09, Bill Tschumy wrote:
> 
> 
>>I hate to plead, but I really need to do my best to recover my
>>customer's data.  Does anyone have any pointers for how to manually
>>(or programmatically) repair this corrupted index?
> 
> 
> You could try to fix the segments file (remove the file name that cannot be 
> opened) with a hex editor. The format is described here:
> http://lucene.apache.org/java/docs/fileformats.html
> 
> You could also modify the Lucene code and just ignore that exception and 
> see what happens then.

I don't think it's useful in this case... the missing file is called 
.fnm, which means that field names were lost; these are pretty important.

-- 
Best regards,
Andrzej Bialecki     <><
  ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17110-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 07:57:26 2005
Return-Path: <java-user-return-17110-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18938 invoked from network); 26 Oct 2005 07:57:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 07:57:24 -0000
Received: (qmail 5175 invoked by uid 500); 26 Oct 2005 07:57:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5156 invoked by uid 500); 26 Oct 2005 07:57:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5145 invoked by uid 99); 26 Oct 2005 07:57:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 00:57:16 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.44.16.11] (HELO getopt.org) (69.44.16.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 00:57:13 -0700
Received: from [192.168.0.254] (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id j9Q7uth20846
	for <java-user@lucene.apache.org>; Wed, 26 Oct 2005 02:56:55 -0500
Message-ID: <435F36C3.2040001@getopt.org>
Date: Wed, 26 Oct 2005 09:56:51 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Another index corruption problem
References: <0E16864C-E739-449E-B512-96CC2090307C@otherwise.com> <F7B5C444-C995-4474-8A6A-7A548688110A@otherwise.com>
In-Reply-To: <F7B5C444-C995-4474-8A6A-7A548688110A@otherwise.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Bill Tschumy wrote:
> I hate to plead, but I really need to do my best to recover my  
> customer's data.  Does anyone have any pointers for how to manually  (or 
> programmatically) repair this corrupted index?
> 
> 
> On Oct 24, 2005, at 11:23 PM, Bill Tschumy wrote:
> 
>> Many months ago I wrote this list about a corrupted index that one  of 
>> my customers had.  It was a mystery that was never really  solved.  
>> Well, it has happened again and the stack trace looks  almost 
>> identical.  Here is the exception:
>>
>> java.io.FileNotFoundException: /Users/samegan/Library/Preferences/ 
>> Parsnips/IndexData/_1d.fnm (No such file or directory)

This doesn't look good. Open the "segments" file with a hex editor and 
check it - is it just "_1d" there (apart from other unrecognizable stuff)?

You can try to manually "explode" the compound format into individual 
files, and then try to go from there - please look at 
org.apache.lucene.index.CompoundIndexReader how to read the compound 
format. In the best case, this could mean that you will have to recreate 
the .fnm file, in the worst case... well, you already know. :-/


>> This is a compound index, so I guess the .fnm file it is looking  for 
>> is internal to it or temporary in some way.  The customer  thinks the 
>> problem was caused by accidentally pasting an entire  document into 
>> the "title" field and saving.  I kind of doubt this  caused the 
>> problem, but you never know.  I treat the "title" and  the "body" 
>> identically for indexing.

No, this is very unlikely. What is more likely the cause is that the 
application (or machine) crashed during write or optimize.

>>
>> The person is pretty panicked about his lost data.  Does anyone  have 
>> any hints as to how to edit the file to get it back  functioning 
>> again?  I've heard of people using hex editors for this.
>>
>> After solving his immediate problem, I need to figure out why this  is 
>> happening.  I haven't followed this list for a couple of  months.  Has 
>> anything like this come up recently?  I am using  Lucene-1.4.3.

Upgrade?

-- 
Best regards,
Andrzej Bialecki     <><
  ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17111-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 08:03:00 2005
Return-Path: <java-user-return-17111-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21936 invoked from network); 26 Oct 2005 08:03:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 08:03:00 -0000
Received: (qmail 15426 invoked by uid 500); 26 Oct 2005 08:02:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15369 invoked by uid 500); 26 Oct 2005 08:02:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15358 invoked by uid 99); 26 Oct 2005 08:02:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 01:02:41 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.146.134.175] (HELO mail.inovex.de) (217.146.134.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 01:02:36 -0700
Received: from [192.168.1.113] (gast4.inovex.de [192.168.1.113])
	by mail.inovex.de (Postfix) with ESMTP
	id 7B43937D1A; Wed, 26 Oct 2005 10:09:21 +0200 (CEST)
Message-ID: <435F37F3.4080000@inovex.de>
Date: Wed, 26 Oct 2005 10:01:55 +0200
From: =?ISO-8859-1?Q?Tobias_L=FCtticke?= <t.luetticke@inovex.de>
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Database File Store (SQLDirectory?)
References: <10361639FF4CA04ABB30F54683E4FB850566737B@exchange2.home.zooplus.de>
In-Reply-To: <10361639FF4CA04ABB30F54683E4FB850566737B@exchange2.home.zooplus.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

 > SQLDirectory.java file by Marc Kramis. But there does not seem to be any
 > download or further references to this implementation.  Does anyone have it?
 > or are there perhaps any other implementations to get me started?

It took me a while to find it, but I finally discovered it in an old mailing list archive 
(dit not keep the link, though *sigh*).
Performance is said not be the best and one user claimed to have found a bug, but that's 
all hear-say.
I did not yet use the SQLDirectory myself.

Anyway, I got another reference. Maybe you want to check out this discussion (where I 
asked a similar question near the end):
http://discuss.joelonsoftware.com/default.asp?joel.3.230182.22

Checking the index of the book "Lucene in action" I discovered "DBDirectory". However, 
they seem to store the index in a BerkelyDB - no idea yet whether that may be tranferred 
to Oracle (which is my preferred target as well). Did not check "Lucene in action" any 
further either.

Coming back to SQLDirectory.java, if you would like to I can send you the class and 
acompanying DDL scripts. Just let me know.

Cheers
   Tobias

Tobias Lütticke


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17112-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 09:07:32 2005
Return-Path: <java-user-return-17112-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55548 invoked from network); 26 Oct 2005 09:07:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 09:07:31 -0000
Received: (qmail 98033 invoked by uid 500); 26 Oct 2005 09:07:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97844 invoked by uid 500); 26 Oct 2005 09:07:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97753 invoked by uid 99); 26 Oct 2005 09:07:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 02:07:07 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [130.75.2.32] (HELO listserv.uni-hannover.de) (130.75.2.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 02:07:01 -0700
Received: from rrzn.uni-hannover.de (dhennig@rayserv.rrzn.uni-hannover.de [130.75.5.8])
	by listserv.uni-hannover.de (8.13.3/8.13.3) with ESMTP id j9Q96bf3020807
	for <java-user@lucene.apache.org>; Wed, 26 Oct 2005 11:06:37 +0200 (MEST)
Message-ID: <435F471B.8040009@rrzn.uni-hannover.de>
Date: Wed, 26 Oct 2005 11:06:35 +0200
From: Dirk Hennig <dhennig@rrzn.uni-hannover.de>
User-Agent: Mozilla/5.0 (X11; U; SunOS sun4u; en-US; rv:1.0.1) Gecko/20020921 Netscape/7.0
X-Accept-Language: en-us, en, de, de-at, de-de, de
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Iterate through all entries
References: <10361639FF4CA04ABB30F54683E4FB850566737B@exchange2.home.zooplus.de> <435F37F3.4080000@inovex.de>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Scanned-By: MIMEDefang 2.43
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hallo,

I want to iterate through all documents in my index (to add some new 
fields).
What ist the best / fastest way to do this?

Greetings,
Dirk Hennig


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17113-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 09:34:08 2005
Return-Path: <java-user-return-17113-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71087 invoked from network); 26 Oct 2005 09:34:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 09:34:08 -0000
Received: (qmail 40231 invoked by uid 500); 26 Oct 2005 09:33:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40203 invoked by uid 500); 26 Oct 2005 09:33:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40186 invoked by uid 99); 26 Oct 2005 09:33:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 02:33:57 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of blizzy-keyword-lucene_user.f5486d@blizzy.de designates 212.79.22.222 as permitted sender)
Received: from [212.79.22.222] (HELO subshell.com) (212.79.22.222)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 02:33:54 -0700
Received: (qmail 22646 invoked from network); 26 Oct 2005 11:33:34 +0200
Received: from unknown (HELO ?10.0.0.10?) (212.79.22.193)
  by subshell.com with SMTP; 26 Oct 2005 11:33:34 +0200
Message-ID: <435F4D6E.9010006@blizzy.de>
Date: Wed, 26 Oct 2005 11:33:34 +0200
From: Maik Schreiber <blizzy-keyword-lucene_user.f5486d@blizzy.de>
User-Agent: Mozilla Thunderbird 1.0.2 (X11/20050326)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Non-scoring fields
References: <92A278501EF50444AD3EE1FFB51219550BCE39B8@emss10m03.us.lmco.com> <435DFE3B.2090904@blizzy.de> <Pine.LNX.4.58.0510251406460.28819@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0510251406460.28819@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> There is nothing intrinsic in the way Filters work that make them slower
> then Queries -- in the case of RangeQuery vs RangeFilter, a RangeFilter is
> just about always faster then a RangeQuery.  (or more specifically: I've
> never seen a case in which a RangeQuery is faster)
> 
> [...]

Nice, thanks for sharing the insigt.

-- 
Maik Schreiber   *   http://www.blizzy.de

GPG public key: http://pgp.mit.edu:11371/pks/lookup?op=get&search=0x1F11D713
Key fingerprint: CF19 AFCE 6E3D 5443 9599 18B5 5640 1F11 D713

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17114-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 10:24:02 2005
Return-Path: <java-user-return-17114-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96776 invoked from network); 26 Oct 2005 10:24:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 10:24:01 -0000
Received: (qmail 961 invoked by uid 500); 26 Oct 2005 10:23:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 835 invoked by uid 500); 26 Oct 2005 10:23:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 786 invoked by uid 99); 26 Oct 2005 10:23:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 03:23:53 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 03:23:51 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id BB83513E2006; Wed, 26 Oct 2005 06:23:27 -0400 (EDT)
Received: from [172.16.1.101] (va-71-48-138-146.dhcp.sprint-hsd.net [71.48.138.146])
	by ehatchersolutions.com (Postfix) with ESMTP id 5896B13E2006
	for <java-user@lucene.apache.org>; Wed, 26 Oct 2005 06:23:02 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <50f433360510252350r3bddd8e9ldfb6dd47f19ea6bf@mail.gmail.com>
References: <50f433360510252350r3bddd8e9ldfb6dd47f19ea6bf@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <D53856C3-1AF2-4598-885D-DFDB7BD46346@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: MaxFieldLength or MaxFields?
Date: Wed, 26 Oct 2005 06:23:00 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 26 Oct 2005, at 02:50, Jeff Rodenburg wrote:
> I'm considering building out an index that will flatten a data  
> structure,
> such that some Document "A" will have Fields 1,2 and 3.
> Fields 1 and 2 are indexed/tokenized field. Field 3 is indexed, and  
> will
> contain many discrete values (up to possibly 5000).


> Couple of questions:
> 1. Does the DEFAULT_MAX_FIELD_LENGTH on IndexWriter come into play  
> for Field
> 3? Field 3 values are added to the document individually, there's  
> just a
> bunch of them.

No.  The max field length only comes into play for tokenized  
(analyzed) fields.

> 2. Is MaxFieldLength a consideration for this?

The default is 10,000, so you're safe :)

 From IndexWriter.java:
   public final static int DEFAULT_MAX_FIELD_LENGTH = 10000;

> Any guidance before I go through the trouble of building the index  
> would be
> greatly appreciated.

Never be afraid to just try out things.  It's easy enough to whip up  
a simple Java program of only a few lines that would exercise this  
sort of thing.  A simple for loop adding 5000 identically named non- 
tokenized, indexed fields to a document would prove this to yourself.

And now with Ferret - http://ferret.davebalmain.com/trac/ - the fun  
and lightweight nature of Ruby will allow us to experiment with  
Lucene without even compilation (or suffering Python syntax :).

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17115-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 12:13:43 2005
Return-Path: <java-user-return-17115-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61861 invoked from network); 26 Oct 2005 12:13:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 12:13:42 -0000
Received: (qmail 46648 invoked by uid 500); 26 Oct 2005 12:13:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46633 invoked by uid 500); 26 Oct 2005 12:13:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46622 invoked by uid 99); 26 Oct 2005 12:13:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 05:13:35 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [150.128.98.10] (HELO marti.uji.es) (150.128.98.10)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 05:13:31 -0700
Received: from localhost (sofora01 [127.0.0.1])
	by localhost (Postfix) with ESMTP id C019D9453D
	for <java-user@lucene.apache.org>; Wed, 26 Oct 2005 14:13:10 +0200 (CEST)
Received: from marti.uji.es ([127.0.0.1])
 by localhost (sofora01.uji.es [127.0.0.1]) (amavisd-new, port 2027)
 with ESMTP id 26330-02 for <java-user@lucene.apache.org>;
 Wed, 26 Oct 2005 14:13:06 +0200 (CEST)
Received: from nuvol.uji.es (nuvol.uji.es [150.128.98.40])
	by marti.uji.es (Postfix) with ESMTP id 5ADF99410F
	for <java-user@lucene.apache.org>; Wed, 26 Oct 2005 14:13:06 +0200 (CEST)
Received: from localhost (localhost.localdomain [127.0.0.1])
	by localhost (Postfix) with ESMTP id 909EC68351
	for <java-user@lucene.apache.org>; Wed, 26 Oct 2005 14:11:35 +0200 (CEST)
Received: from nuvol.uji.es ([127.0.0.1])
 by localhost (nuvol.uji.es [127.0.0.1]) (amavisd-new, port 2027) with ESMTP
 id 21684-06 for <java-user@lucene.apache.org>;
 Wed, 26 Oct 2005 14:11:34 +0200 (CEST)
Received: from aris.si.uji.es.si.uji.es (aris.si.uji.es [150.128.120.56])
	by nuvol.uji.es (Postfix) with ESMTP id DA665680D8
	for <java-user@lucene.apache.org>; Wed, 26 Oct 2005 14:08:40 +0200 (CEST)
Subject: FilteredQuery usage
From: Ricardo Borillo Domenech <Ricardo.Borillo@si.uji.es>
To: java-user@lucene.apache.org
Content-Type: multipart/signed; micalg=sha1; protocol="application/x-pkcs7-signature"; boundary="=-1CXLYy4JHqv+pH6o8zpI"
Date: Wed, 26 Oct 2005 14:15:01 +0200
Message-Id: <1130328901.26521.18.camel@aris.si.uji.es.si.uji.es>
Mime-Version: 1.0
X-Mailer: Evolution 2.2.3 
X-Virus-Scanned: by amavisd-new at uji.es
X-Virus-Scanned: by amavisd-new at uji.es
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--=-1CXLYy4JHqv+pH6o8zpI
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Hi all!!

I'm using PrefixQuery in my search application and I get TooManyClauses.
I have found many information about this problem and the solutions seems
to be the use of a FilteredQuery.

Now, I'm trying to write my Filter ...
Well, the problem is that when i try to write the "bits" function of my
filter, I need to query all the index checking if the value of field
name "path" is a prefix or not.

There's a way to do that query without having to retrieve all the
Document instances from the index?

public class PrefijoURLFilter extends Filter
{
    private String field;
    private String[] prefix;
   =20
    public PrefijoURLFilter(String field, String[] prefix)
    {
        this.field =3D field;
        this.prefix =3D prefix;
    }
   =20
    public BitSet bits(IndexReader reader) throws IOException
    {
        BitSet bits =3D new BitSet(reader.maxDoc());

	//FOR EACH PREFIX AND FOR EACH DOCUMENT IN INDEX CHECK IF=20
	//STARTS WITH A VALID PREFIX AND SET IT IN THE BITSET
       =20
        return bits;
    }
}


A valid usage of this filter could be:

filter =3D new PrefijoURLFilter("path", new String[] {
	"http://xxx/CA/noticies/agenda/",
	"http://xxx/noticies/agenda/",
	"http://xxx/CA/content/agenda/",
    	"http://xxx/content/agenda/"
});

Thanks a lot!!!

--=20
Salut,
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
Ricardo Borillo Domenech
Analista/Programador - Servei d'Inform=E0tica
Universitat Jaume I
http://xml-utils.com

--=-1CXLYy4JHqv+pH6o8zpI
Content-Type: application/x-pkcs7-signature; name=smime.p7s
Content-Disposition: attachment; filename=smime.p7s
Content-Transfer-Encoding: base64

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIITUDCCBmEw
ggVJoAMCAQICBEJVDoEwDQYJKoZIhvcNAQEFBQAwTzELMAkGA1UEBhMCRVMxHzAdBgNVBAoTFkdl
bmVyYWxpdGF0IFZhbGVuY2lhbmExDzANBgNVBAsTBlBLSUdWQTEOMAwGA1UEAxMFQ0FHVkEwHhcN
MDUwNDA3MTA0MjA5WhcNMDgwNDA2MTA0MjA5WjCBtzELMAkGA1UEBhMCRVMxHzAdBgNVBAoTFkdl
bmVyYWxpdGF0IFZhbGVuY2lhbmExEzARBgNVBAsTCkNpdWRhZGFub3MxMTAvBgNVBAMTKFJJQ0FS
RE8gQk9SSUxMTyBET01FTkVDSCAtIE5JRjo1Mjk0NTgxM0MxGTAXBgNVBAQTEEJPUklMTE8gRE9N
RU5FQ0gxEDAOBgNVBCoTB1JJQ0FSRE8xEjAQBgNVBAUTCTUyOTQ1ODEzQzCBnzANBgkqhkiG9w0B
AQEFAAOBjQAwgYkCgYEA1A6y13QPyuE/zkkD6BQc/ZoWav5xuLbZ4SdsJsmlesy7pF6HN/rwmJ2D
XcVqxIM/uF5IZWW82NAFB7BgpPtj9jv4LRbHE0a9C4fVj7Mg4q87F9GsXb1GTZ9T/bBa3gKetrky
d3FTUL58Lxh2K+cbwPoNov6xXuJ13XoTzV8pYikCAwEAAaOCA14wggNaMA4GA1UdDwEB/wQEAwIH
gDAdBgNVHSUEFjAUBggrBgEFBQcDAgYIKwYBBQUHAwQwZAYDVR0fBF0wWzBZoFegVaRTMFExCzAJ
BgNVBAYTAmVzMR8wHQYDVQQKExZHZW5lcmFsaXRhdCBWYWxlbmNpYW5hMQ8wDQYDVQQLEwZQS0lH
VkExEDAOBgNVBAMTB3BvbDIxMDEwfgYDVR0RBHcwdYEZcmljYXJkby5ib3JpbGxvQHNpLnVqaS5l
c6RYMFYxGTAXBgoJkiaJk/IsZAEBFgk1Mjk0NTgxM0MxOTA3BgNVBAMeMABSAGkAYwBhAHIAZABv
AHwAQgBvAHIAaQBsAGwAbwB8AEQAbwBtAOkAbgBlAGMAaDCCAc0GA1UdIASCAcQwggHAMIIBvAYL
KwYBBAG/VQMHAgAwggGrMIIBcgYIKwYBBQUHAgIwggFkHoIBYABDAGUAcgB0AGkAZgBpAGMAYQBk
AG8AIAByAGUAYwBvAG4AbwBjAGkAZABvACAAcABhAHIAYQAgAEMAaQB1AGQAYQBkAGEAbgBvAHMA
IABlAHgAcABlAGQAaQBkAG8AIABwAG8AcgAgAGwAYQAgAEEAdQB0AG8AcgBpAGQAYQBkACAAZABl
ACAAQwBlAHIAdABpAGYAaQBjAGEAYwBpAPMAbgAgAGQAZQAgAGwAYQAgAEcAZQBuAGUAcgBhAGwA
aQB0AGEAdAAgAFYAYQBsAGUAbgBjAGkAYQBuAGEAIAAoAFAAbAAuACAATQBhAG4AaQBzAGUAcwAg
ADEALgAgAEMASQBGACAAUwA0ADYAMQAxADAAMAAxAEEAKQAuACAAQwBQAFMAIAB5ACAAQwBQACAA
ZQBuACAAaAB0AHQAcAA6AC8ALwB3AHcAdwAuAHAAawBpAC4AZwB2AGEALgBlAHMwMwYIKwYBBQUH
AgEWJ2h0dHA6Ly93d3cucGtpLmd2YS5lcy9sZWdpc2xhY2lvbl9jLmh0bTAyBggrBgEFBQcBAQQm
MCQwIgYIKwYBBQUHMAGGFmh0dHA6Ly9vY3NwLnBraS5ndmEuZXMwHwYDVR0jBBgwFoAUcUwDVPJy
a1yNHnHUWIIN1x9Xt90wHQYDVR0OBBYEFNzk9/OJmnBhrp2qFPWt8z4KDzP4MA0GCSqGSIb3DQEB
BQUAA4IBAQAid6OB4nUAbHSdVde85BOmJYyHoB18r1PlHucfhJB3ygZnKDXL62BXmJ40ScWonLOB
FGOaf9ErwVDPNjkifLGjL5UgtT286A+P7rF3UA6KrumwLIV6f6LQwMAlimg6PagjJ6nB2hw21Qz8
l8G7tD8Ef5FtXt5KFIndrrJWQEFFUJfVX8ur4NNA/+XAOIcX7CkyVc8ySmsIArnep1mo82uTGlc7
pfCjWLhdSQd0EeL8AmYQ3hDhiLsldxUvlQ/se8V1KzKOXTlsarrYNA+BVFJI0xB0n2F+XS4TLfGX
N/pDJTtWatXhkfpw0S1Bqkp3ZwIIB0zZP8LpJJY3i+fHp8JdMIIGYTCCBUmgAwIBAgIEQlUOgjAN
BgkqhkiG9w0BAQUFADBPMQswCQYDVQQGEwJFUzEfMB0GA1UEChMWR2VuZXJhbGl0YXQgVmFsZW5j
aWFuYTEPMA0GA1UECxMGUEtJR1ZBMQ4wDAYDVQQDEwVDQUdWQTAeFw0wNTA0MDcxMDQyMTBaFw0w
ODA0MDYxMDQyMTBaMIG3MQswCQYDVQQGEwJFUzEfMB0GA1UEChMWR2VuZXJhbGl0YXQgVmFsZW5j
aWFuYTETMBEGA1UECxMKQ2l1ZGFkYW5vczExMC8GA1UEAxMoUklDQVJETyBCT1JJTExPIERPTUVO
RUNIIC0gTklGOjUyOTQ1ODEzQzEZMBcGA1UEBBMQQk9SSUxMTyBET01FTkVDSDEQMA4GA1UEKhMH
UklDQVJETzESMBAGA1UEBRMJNTI5NDU4MTNDMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCl
EOJJLoQEbaS+0KGzZg1Npt2qyWgWSfmhEgq1tK2MMF9yVQzkrUVjnQ/D1YDr2PNIY6OBj46JuK0O
4HQDOmUVd3AuibQkDZb4VQatPsoz3k7lsuCdDrhl3iwqTT2hhHkFELecHdn0NeVQXIt8n89gba5v
JpF90zFUtx/6/ow9IwIDAQABo4IDXjCCA1owDgYDVR0PAQH/BAQDAgQwMB0GA1UdJQQWMBQGCCsG
AQUFBwMCBggrBgEFBQcDBDBkBgNVHR8EXTBbMFmgV6BVpFMwUTELMAkGA1UEBhMCZXMxHzAdBgNV
BAoTFkdlbmVyYWxpdGF0IFZhbGVuY2lhbmExDzANBgNVBAsTBlBLSUdWQTEQMA4GA1UEAxMHcG9s
MjEwMTB+BgNVHREEdzB1gRlyaWNhcmRvLmJvcmlsbG9Ac2kudWppLmVzpFgwVjEZMBcGCgmSJomT
8ixkAQEWCTUyOTQ1ODEzQzE5MDcGA1UEAx4wAFIAaQBjAGEAcgBkAG8AfABCAG8AcgBpAGwAbABv
AHwARABvAG0A6QBuAGUAYwBoMIIBzQYDVR0gBIIBxDCCAcAwggG8BgsrBgEEAb9VAwcCADCCAasw
ggFyBggrBgEFBQcCAjCCAWQeggFgAEMAZQByAHQAaQBmAGkAYwBhAGQAbwAgAHIAZQBjAG8AbgBv
AGMAaQBkAG8AIABwAGEAcgBhACAAQwBpAHUAZABhAGQAYQBuAG8AcwAgAGUAeABwAGUAZABpAGQA
bwAgAHAAbwByACAAbABhACAAQQB1AHQAbwByAGkAZABhAGQAIABkAGUAIABDAGUAcgB0AGkAZgBp
AGMAYQBjAGkA8wBuACAAZABlACAAbABhACAARwBlAG4AZQByAGEAbABpAHQAYQB0ACAAVgBhAGwA
ZQBuAGMAaQBhAG4AYQAgACgAUABsAC4AIABNAGEAbgBpAHMAZQBzACAAMQAuACAAQwBJAEYAIABT
ADQANgAxADEAMAAwADEAQQApAC4AIABDAFAAUwAgAHkAIABDAFAAIABlAG4AIABoAHQAdABwADoA
LwAvAHcAdwB3AC4AcABrAGkALgBnAHYAYQAuAGUAczAzBggrBgEFBQcCARYnaHR0cDovL3d3dy5w
a2kuZ3ZhLmVzL2xlZ2lzbGFjaW9uX2MuaHRtMDIGCCsGAQUFBwEBBCYwJDAiBggrBgEFBQcwAYYW
aHR0cDovL29jc3AucGtpLmd2YS5lczAfBgNVHSMEGDAWgBRxTANU8nJrXI0ecdRYgg3XH1e33TAd
BgNVHQ4EFgQU3OT384macGGunaoU9a3zPgoPM/gwDQYJKoZIhvcNAQEFBQADggEBAAGvSlTUEwIH
yydubhdM1RAfN7om/hHAdQFkRYfIfj4Il+pu5DKpESWK6tkUCfbffH5cDs5xG9djofF87e8RQUe/
4EQNlkb1b1bk+D3ot8DwTyNbDAlC+VQYtl1GEhcas8csDs3GbblOalmwjYBgxjM4lZ3gLU5zIx8r
gEfhoFIFIJIuoKxqmJwrGJphoh1vqGBjJ0ME/3rery+/ecYGyXDRqKbIukICwmU+kGUGEKJZ3OrZ
ERHOa0PAypAWXELnDYt5G9BJGkvBvV8/LmY7ii+v5bgaYqn93s1nJagXJszsTxLpykzjMnL/HCOA
2ey+EtZyU9ROseKtxhxJgJ5ppEMwggaCMIIFaqADAgECAgQ7lQSDMA0GCSqGSIb3DQEBBQUAMGgx
CzAJBgNVBAYTAkVTMR8wHQYDVQQKExZHZW5lcmFsaXRhdCBWYWxlbmNpYW5hMQ8wDQYDVQQLEwZQ
S0lHVkExJzAlBgNVBAMTHlJvb3QgQ0EgR2VuZXJhbGl0YXQgVmFsZW5jaWFuYTAeFw0wMTA5MDQx
NjQyNDNaFw0xMTA5MDIxNjQyNDNaME8xCzAJBgNVBAYTAkVTMR8wHQYDVQQKExZHZW5lcmFsaXRh
dCBWYWxlbmNpYW5hMQ8wDQYDVQQLEwZQS0lHVkExDjAMBgNVBAMTBUNBR1ZBMIIBIjANBgkqhkiG
9w0BAQEFAAOCAQ8AMIIBCgKCAQEA4A/c0DVAb2hF/ymoOx3c31k2/RA1UT0RhOsD76M9Ts3fZfxF
9x5d4Qd+5UO6lh5iNkDZmkqOwXdN8Oy35Rv5rF51wdd+8Jf5TtCgUnQ5h2OA+M33kmG+JeuKTZG3
ypbkh4vsnsVNKXplNG5qR6eXpngzPtPTSXKO5e+7iepIAzVr5t/zk21FapS9or2l0c89CxViP9am
vD8QlEzCr5ZYhD0oT7oMmJS5Rb4XDHnTedNBloAFGSTxqP7XPQUxSmt+PWJo/yvzLOKsFevAS5u/
8NQ+UsVYzTD0gW/aU+oeu5QmL9sGRmite7Rp3nVlc+fBvtaqR2Il9nemjYjarBRjlwIDAQABo4ID
SzCCA0cwEgYDVR0TAQH/BAgwBgEB/wIBADAOBgNVHQ8BAf8EBAMCAQYwggI0BgNVHSAEggIrMIIC
JzCCAiMGCisGAQQBv1UCAQAwggITMIIB6AYIKwYBBQUHAgIwggHaHoIB1gBBAHUAdABvAHIAaQBk
AGEAZAAgAGQAZQAgAEMAZQByAHQAaQBmAGkAYwBhAGMAaQDzAG4AIABSAGEA7QB6ACAAZABlACAA
bABhACAARwBlAG4AZQByAGEAbABpAHQAYQB0ACAAVgBhAGwAZQBuAGMAaQBhAG4AYQAuAA0ACgBM
AGEAIABEAGUAYwBsAGEAcgBhAGMAaQDzAG4AIABkAGUAIABQAHIA4QBjAHQAaQBjAGEAcwAgAGQA
ZQAgAEMAZQByAHQAaQBmAGkAYwBhAGMAaQDzAG4AIABxAHUAZQAgAHIAaQBnAGUAIABlAGwAIABm
AHUAbgBjAGkAbwBuAGEAbQBpAGUAbgB0AG8AIABkAGUAIABsAGEAIABwAHIAZQBzAGUAbgB0AGUA
IABBAHUAdABvAHIAaQBkAGEAZAAgAGQAZQAgAEMAZQByAHQAaQBmAGkAYwBhAGMAaQDzAG4AIABz
AGUAIABlAG4AYwB1AGUAbgB0AHIAYQAgAGUAbgAgAGwAYQAgAGQAaQByAGUAYwBjAGkA8wBuACAA
dwBlAGIAIABoAHQAdABwADoALwAvAHcAdwB3AC4AcABrAGkALgBnAHYAYQAuAGUAcwAvAGMAcABz
MCUGCCsGAQUFBwIBFhlodHRwOi8vd3d3LnBraS5ndmEuZXMvY3BzMDIGCCsGAQUFBwEBBCYwJDAi
BggrBgEFBQcwAYYWaHR0cDovL29jc3AucGtpLmd2YS5lczCBlQYDVR0jBIGNMIGKgBR7NdNA0hx4
GWbvdBAo3D5PsngE/KFspGowaDELMAkGA1UEBhMCRVMxHzAdBgNVBAoTFkdlbmVyYWxpdGF0IFZh
bGVuY2lhbmExDzANBgNVBAsTBlBLSUdWQTEnMCUGA1UEAxMeUm9vdCBDQSBHZW5lcmFsaXRhdCBW
YWxlbmNpYW5hggQ7ReVoMB0GA1UdDgQWBBRxTANU8nJrXI0ecdRYgg3XH1e33TANBgkqhkiG9w0B
AQUFAAOCAQEAwlSQHasfIjvwNsJFym5OONRvYCM8XFWwEYxgQZwBHf361LaS95FXwUFdQqk6nyRc
FZYNjCRHfsxlCLPE/5ukC+yA8tc5clgWjmIFsyJy49krwsMBfKYiq4WzHDfjX8xv6pZ7pteJWhwU
3uCpDFBIttrXFcpUmLAqCLA1Pql574+VhN74a1ETI+QbBcwy4AxfyfOwOeMVSNP5Lequlv0CZOIt
dl6cBXIZNjxC55MFTOhyPuQRnVe9WcmwyXlZ6CGzFuEQe0SNgg4qd4m5dzg9YGuMggUHDsithkb/
4w40R6waNCF8TbAiu2k8yZm0Bow3MoLcMkxbtsI4Kf7m/YYZnDGCAjAwggIsAgEBMFcwTzELMAkG
A1UEBhMCRVMxHzAdBgNVBAoTFkdlbmVyYWxpdGF0IFZhbGVuY2lhbmExDzANBgNVBAsTBlBLSUdW
QTEOMAwGA1UEAxMFQ0FHVkECBEJVDoEwCQYFKw4DAhoFAKCCAS8wGAYJKoZIhvcNAQkDMQsGCSqG
SIb3DQEHATAcBgkqhkiG9w0BCQUxDxcNMDUxMDI2MTIxNTAxWjAjBgkqhkiG9w0BCQQxFgQUuhKs
S8eTGUWqfXtVnB9e0BuffXQwZgYJKwYBBAGCNxAEMVkwVzBPMQswCQYDVQQGEwJFUzEfMB0GA1UE
ChMWR2VuZXJhbGl0YXQgVmFsZW5jaWFuYTEPMA0GA1UECxMGUEtJR1ZBMQ4wDAYDVQQDEwVDQUdW
QQIEQlUOgjBoBgsqhkiG9w0BCRACCzFZoFcwTzELMAkGA1UEBhMCRVMxHzAdBgNVBAoTFkdlbmVy
YWxpdGF0IFZhbGVuY2lhbmExDzANBgNVBAsTBlBLSUdWQTEOMAwGA1UEAxMFQ0FHVkECBEJVDoIw
DQYJKoZIhvcNAQEBBQAEgYCv4CEulWdTJ+radgdcFUQoZpmqQbandSljyq0aMe6brWIR0wD//NeB
f3d0C52Q3E9NYu0wLDjjYquFE6xvEGWyo3oGx4msNFCWe/ABCQnepsnZFgOmk2l/2wTe15uX0xkI
NakWo+RstxVSgagnp5c7z7jMcJ/ToNfgd+zBGu5EMgAAAAAAAA==


--=-1CXLYy4JHqv+pH6o8zpI--


From java-user-return-17116-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 13:28:42 2005
Return-Path: <java-user-return-17116-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5041 invoked from network); 26 Oct 2005 13:28:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 13:28:42 -0000
Received: (qmail 58601 invoked by uid 500); 26 Oct 2005 13:28:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58587 invoked by uid 500); 26 Oct 2005 13:28:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58574 invoked by uid 99); 26 Oct 2005 13:28:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 06:28:35 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.18.98.34] (HELO brmea-mail-3.sun.com) (192.18.98.34)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 06:28:32 -0700
Received: from phys-d3-ha21sca-2 ([129.145.155.165])
	by brmea-mail-3.sun.com (8.12.10/8.12.9) with ESMTP id j9QDSD3F022977
	for <java-user@lucene.apache.org>; Wed, 26 Oct 2005 07:28:13 -0600 (MDT)
Received: from conversion-daemon.ha21sca-mail1.sfbay.sun.com by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 id <0IOY00901YFPWE@ha21sca-mail1.sfbay.sun.com>
 (original mail from Richard.Hillegas@Sun.COM) for java-user@lucene.apache.org;
 Wed, 26 Oct 2005 06:28:36 -0700 (PDT)
Received: from [129.150.26.51]
 (vpn-129-150-26-51.SFBay.Sun.COM [129.150.26.51]) by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 with ESMTP id <0IOY006HKYRNUG@ha21sca-mail1.sfbay.sun.com> for
 java-user@lucene.apache.org; Wed, 26 Oct 2005 06:28:36 -0700 (PDT)
Date: Wed, 26 Oct 2005 06:28:16 -0700
From: Rick Hillegas <Richard.Hillegas@Sun.COM>
Subject: Re: Database File Store (SQLDirectory?)
In-reply-to: <435F37F3.4080000@inovex.de>
To: java-user@lucene.apache.org
Message-id: <435F8470.1060506@sun.com>
MIME-version: 1.0
Content-type: text/plain; charset=ISO-8859-1; format=flowed
Content-transfer-encoding: 8BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
References: 
 <10361639FF4CA04ABB30F54683E4FB850566737B@exchange2.home.zooplus.de>
 <435F37F3.4080000@inovex.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Tobias,

I would be interested in the SQLDirectory class and DDL scripts if you 
could send them.

Thanks,
-Rick

Tobias Lütticke wrote:

> Hi,
>
> > SQLDirectory.java file by Marc Kramis. But there does not seem to be 
> any
> > download or further references to this implementation.  Does anyone 
> have it?
> > or are there perhaps any other implementations to get me started?
>
> It took me a while to find it, but I finally discovered it in an old 
> mailing list archive (dit not keep the link, though *sigh*).
> Performance is said not be the best and one user claimed to have found 
> a bug, but that's all hear-say.
> I did not yet use the SQLDirectory myself.
>
> Anyway, I got another reference. Maybe you want to check out this 
> discussion (where I asked a similar question near the end):
> http://discuss.joelonsoftware.com/default.asp?joel.3.230182.22
>
> Checking the index of the book "Lucene in action" I discovered 
> "DBDirectory". However, they seem to store the index in a BerkelyDB - 
> no idea yet whether that may be tranferred to Oracle (which is my 
> preferred target as well). Did not check "Lucene in action" any 
> further either.
>
> Coming back to SQLDirectory.java, if you would like to I can send you 
> the class and acompanying DDL scripts. Just let me know.
>
> Cheers
>   Tobias
>
> Tobias Lütticke
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17117-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 13:54:14 2005
Return-Path: <java-user-return-17117-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17640 invoked from network); 26 Oct 2005 13:54:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 13:54:14 -0000
Received: (qmail 95612 invoked by uid 500); 26 Oct 2005 13:54:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95593 invoked by uid 500); 26 Oct 2005 13:54:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95582 invoked by uid 99); 26 Oct 2005 13:54:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 06:54:07 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [62.6.171.198] (HELO mail.prolog.uk.com) (62.6.171.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 06:54:05 -0700
Received: by mail.prolog.uk.com (Efinity, from userid 0)
	id 2FBB26725E; Wed, 26 Oct 2005 14:53:40 +0100 (BST)
Received: from Simonmiddleton (simon-middleton.local [172.16.101.137])
	by mail.prolog.uk.com (Efinity) with ESMTP id 7AFFC672BD
	for <java-user@lucene.apache.org>; Wed, 26 Oct 2005 14:53:38 +0100 (BST)
From: "Simon Middleton" <simon.middleton@prolog.uk.com>
To: <java-user@lucene.apache.org>
Subject: RE: Database File Store (SQLDirectory?)
Date: Wed, 26 Oct 2005 14:55:56 +0100
Message-ID: <001e01c5da34$fd5492e0$896510ac@pluk1.local>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2627
In-Reply-To: <10361639FF4CA04ABB30F54683E4FB850566737B@exchange2.home.zooplus.de>
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2742.200
Importance: Normal
X-Message: Scanned for viruses by Efinity http://www.smtnet.co.uk/efinity
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

This works a bit, but I had to tweak it a bit to get it just right.

Regards,
Simon


http://issues.apache.org/jira/browse/LUCENE-150

Hi,

I'm looking to try and store my index into an oracle database.  Has
anyone done this before?  I did find something in the archive referring
to the SQLDirectory.java file by Marc Kramis. But there does not seem to
be any download or further references to this implementation.  Does
anyone have it? or are there perhaps any other implementations to get me
started?

thx.
Steve.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17118-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 14:16:38 2005
Return-Path: <java-user-return-17118-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30680 invoked from network); 26 Oct 2005 14:16:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 14:16:38 -0000
Received: (qmail 37446 invoked by uid 500); 26 Oct 2005 14:16:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37416 invoked by uid 500); 26 Oct 2005 14:16:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37405 invoked by uid 99); 26 Oct 2005 14:16:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 07:16:31 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.146.134.175] (HELO mail.inovex.de) (217.146.134.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 07:16:29 -0700
Received: from [192.168.1.113] (gast4.inovex.de [192.168.1.113])
	by mail.inovex.de (Postfix) with ESMTP id 397485F5D8
	for <java-user@lucene.apache.org>; Wed, 26 Oct 2005 16:23:17 +0200 (CEST)
Message-ID: <435F8F91.20606@inovex.de>
Date: Wed, 26 Oct 2005 16:15:45 +0200
From: =?ISO-8859-1?Q?Tobias_L=FCtticke?= <t.luetticke@inovex.de>
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Database File Store (SQLDirectory?)
References: <10361639FF4CA04ABB30F54683E4FB850566737B@exchange2.home.zooplus.de>
In-Reply-To: <10361639FF4CA04ABB30F54683E4FB850566737B@exchange2.home.zooplus.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

as follow-up:

google found the post for me:
http://mail-archives.apache.org/mod_mbox/lucene-java-user/200112.mbox/%3c002f01c17b49$75b50070$1573a8c0@marc%3e

The sources are attached.

As for one question I received: I have no idea what licence the code is intended to have. 
I guess it is kind of free since it was posted on the mailing list. But that's nothing you 
want to depend on..

The post originates in 2001, but maybe it's worth to contact the author (Marc Kramis). His 
mail is included in the post.

Cheers
   Tobias

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17119-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 14:29:40 2005
Return-Path: <java-user-return-17119-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37424 invoked from network); 26 Oct 2005 14:29:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 14:29:40 -0000
Received: (qmail 58698 invoked by uid 500); 26 Oct 2005 14:29:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58572 invoked by uid 500); 26 Oct 2005 14:29:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58561 invoked by uid 99); 26 Oct 2005 14:29:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 07:29:33 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.18.98.36] (HELO brmea-mail-4.sun.com) (192.18.98.36)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 07:29:30 -0700
Received: from phys-d3-ha21sca-2 ([129.145.155.165])
	by brmea-mail-4.sun.com (8.12.10/8.12.9) with ESMTP id j9QETBD7013249
	for <java-user@lucene.apache.org>; Wed, 26 Oct 2005 08:29:11 -0600 (MDT)
Received: from conversion-daemon.ha21sca-mail1.sfbay.sun.com by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 id <0IOZ005011I16H@ha21sca-mail1.sfbay.sun.com>
 (original mail from Richard.Hillegas@Sun.COM) for java-user@lucene.apache.org;
 Wed, 26 Oct 2005 07:29:34 -0700 (PDT)
Received: from [129.150.26.51]
 (vpn-129-150-26-51.SFBay.Sun.COM [129.150.26.51]) by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 with ESMTP id <0IOZ006OG1L8UG@ha21sca-mail1.sfbay.sun.com> for
 java-user@lucene.apache.org; Wed, 26 Oct 2005 07:29:33 -0700 (PDT)
Date: Wed, 26 Oct 2005 07:29:13 -0700
From: Rick Hillegas <Richard.Hillegas@Sun.COM>
Subject: Re: Database File Store (SQLDirectory?)
In-reply-to: <435F8F91.20606@inovex.de>
To: java-user@lucene.apache.org
Message-id: <435F92B9.9070501@sun.com>
MIME-version: 1.0
Content-type: text/plain; charset=ISO-8859-1; format=flowed
Content-transfer-encoding: 8BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
References: 
 <10361639FF4CA04ABB30F54683E4FB850566737B@exchange2.home.zooplus.de>
 <435F8F91.20606@inovex.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks, Tobias. It turns out that email address is dead. I've googled up 
another address for him and have posted him a question about the 
licensing of this code. When I get an answer, I'll let the list know.

Cheers,
-Rick

Tobias Lütticke wrote:

> Hi,
>
> as follow-up:
>
> google found the post for me:
> http://mail-archives.apache.org/mod_mbox/lucene-java-user/200112.mbox/%3c002f01c17b49$75b50070$1573a8c0@marc%3e 
>
>
> The sources are attached.
>
> As for one question I received: I have no idea what licence the code 
> is intended to have. I guess it is kind of free since it was posted on 
> the mailing list. But that's nothing you want to depend on..
>
> The post originates in 2001, but maybe it's worth to contact the 
> author (Marc Kramis). His mail is included in the post.
>
> Cheers
>   Tobias
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17120-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 14:31:35 2005
Return-Path: <java-user-return-17120-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38421 invoked from network); 26 Oct 2005 14:31:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 14:31:32 -0000
Received: (qmail 60970 invoked by uid 500); 26 Oct 2005 14:31:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60949 invoked by uid 500); 26 Oct 2005 14:31:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60931 invoked by uid 99); 26 Oct 2005 14:31:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 07:31:23 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.20.168.25] (HELO uar.i-hypergrid.com) (217.20.168.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 07:31:20 -0700
Received: from [192.168.0.86] (vbychkoviak.jforce [192.168.0.86])
	by uar.i-hypergrid.com (Postfix) with ESMTP id 7EB6B1B6D0
	for <java-user@lucene.apache.org>; Wed, 26 Oct 2005 17:30:58 +0300 (EEST)
Message-ID: <435F9322.2000102@i-hypergrid.com>
Date: Wed, 26 Oct 2005 17:30:58 +0300
From: Volodymyr Bychkoviak <vbychkoviak@i-hypergrid.com>
User-Agent: Thunderbird 1.4.1 (Windows/20051006)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Database File Store (SQLDirectory?)
References: <10361639FF4CA04ABB30F54683E4FB850566737B@exchange2.home.zooplus.de>
In-Reply-To: <10361639FF4CA04ABB30F54683E4FB850566737B@exchange2.home.zooplus.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi.
Try to search for JDBCDirectory...

Steven Pannell wrote:
> Hi,
>
> I'm looking to try and store my index into an oracle database.  Has anyone
> done this before?  I did find something in the archive referring to the
> SQLDirectory.java file by Marc Kramis. But there does not seem to be any
> download or further references to this implementation.  Does anyone have it?
> or are there perhaps any other implementations to get me started?
>
> thx.
> Steve.
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>   

-- 
regards,
Volodymyr Bychkoviak


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17121-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 14:41:36 2005
Return-Path: <java-user-return-17121-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43750 invoked from network); 26 Oct 2005 14:41:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 14:41:36 -0000
Received: (qmail 73436 invoked by uid 500); 26 Oct 2005 14:41:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73409 invoked by uid 500); 26 Oct 2005 14:41:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73398 invoked by uid 99); 26 Oct 2005 14:41:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 07:41:31 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.160.131.136] (HELO p15105029.pureserver.info) (217.160.131.136)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 26 Oct 2005 07:41:28 -0700
Received: (qmail 13300 invoked by uid 3001); 26 Oct 2005 16:41:07 +0200
Received: from 82.144.201.6 by p15105029 (envelope-from <max@osua.de>, uid 89) with qmail-scanner-1.25-st-qms 
 (clamdscan: 0.87/1148. spamassassin: 3.1.0. perlscan: 1.25-st-qms.  
 Clear:RC:0(82.144.201.6):SA:0(3.6/6.5):. 
 Processed in 1.322892 secs); 26 Oct 2005 14:41:07 -0000
X-Spam-Level: +++
X-Spam-Report: SA TESTS
  0.1 FORGED_RCVD_HELO       Received: contains a forged HELO
  3.2 BAYES_99               BODY: Bayesian spam probability is 99 to 100%
                             [score: 1.0000]
  0.2 AWL                    AWL: From: address is in the auto white-list
X-Qmail-Scanner-Mail-From: max@osua.de via p15105029
X-Qmail-Scanner: 1.25-st-qms (Clear:RC:0(82.144.201.6):SA:0(3.6/6.5):. Processed in 1.322892 secs Process 13290)
Received: from ip.82.144.201.6.stat-8.volia.net (HELO max.osuatech.local) (max%osua.de@82.144.201.6)
  by p15105029.pureserver.info with SMTP; 26 Oct 2005 16:41:06 +0200
Date: Wed, 26 Oct 2005 17:41:32 +0300
From: Maxim Patramanskij <max@osua.de>
X-Mailer: The Bat! (v1.62i) Business
Reply-To: Maxim Patramanskij <max@osua.de>
Organization: OSUA technology
X-Priority: 3 (Normal)
Message-ID: <83176455296.20051026174132@osua.de>
To: Chris Hostetter <hossman_lucene@fucit.org>
CC: java-user@lucene.apache.org
Subject: Re[3]: Cross-field multi-word and query
In-Reply-To: <Pine.LNX.4.58.0510251414320.28819@hal.rescomp.berkeley.edu>
References: <18812797609.20051024201355@osua.de>
 <Pine.LNX.4.58.0510242321040.21880@hal.rescomp.berkeley.edu>
 <19963773828.20051025102331@osua.de>
 <Pine.LNX.4.58.0510251414320.28819@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, hits=3.6 required=6.5
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello Chris,

Thanks a lot for the helping hand.

I plugged in MaxDisjunctQuery and it is working so far, but I
need to check accuracy of it. Next problem I met is highlighter, which
must be adopted to understand MaxDisjunctQuery(because now it stops to
highlight anything due to unknown new Query type), but this is yet
another story :).

Greetings,
Max



Wednesday, October 26, 2005, 12:23:39 AM, you wrote:


CH> : I have n fields, for simplicity let's say 3: f1, f2, f3.
CH> : I have an AND query with m words in it, lets' also simplify: w1, w2, w3.
CH> :
CH> : To cover all possible cases I should finally have the following
CH> : BooleanQuery:

CH> it really depends on what you want.  if I understand what you mean in the
CH> below query (I'm assuming you want all of those boolean queries to
CH> themselves be optional clauses in one big wrapping BooleanQuery) then I
CH> think you can acomplish roughly the same thing using one boolean query
CH> wrapping a MaxDisjunct query for each word (where each unique clause of a
CH> MaxDisjunct is for the different fields.

CH> Expressed in the syntax used by Chuck Willians (the author of
CH> MaxDisjunctQuery), what I mean is...

CH> ( +(f1:w1 | f2:w1 | f3:w1) +(f1:w2 | f2:w2 | f3:w2) +(f1:w3 | f2:w3 | f3:w3))

CH> ...this will garuntee that all three words appear in your index, in one of
CH> hte three fields.  it will also result in the score contribution for each
CH> word being dominated by on whichever field results in a Term that
CH> generates the highest score for that word.

CH> Please look at the "albino elephant" example provided by the Chuck in his
CH> initial issue report...

CH>         http://issues.apache.org/jira/browse/LUCENE-323

CH> :
CH> : (+(f1:w1) +(f1:w2) +(f1:w3))
CH> : (+(f2:w1) +(f2:w2) +(f2:w3))
CH> : (+(f3:w1) +(f3:w2) +(f3:w3))
CH> :
CH> : (+(f1:w1) +(f2:w2) +(f3:w3))
CH> : (+(f1:w2) +(f2:w1) +(f3:w3))
CH> : (+ f1:w3) +(f2:w1) +(f3:w2))
CH> : (+(f1:w1) +(f2:w3) +(f3:w2))
CH> : (+(f1:w2) +(f2:w3) +(f3:w1))
CH> : (+ f1:w3) +(f2:w2) +(f3:w1))
CH> :
CH> : (+(f1:w1) +(f1:w2) +(f2:w3))
CH> : (+(f1:w1) +(f1:w2) +(f3:w3))
CH> :
CH> : (+(f1:w1) +(f1:w3) +(f2:w2))
CH> : (+(f1:w1) +(f1:w3) +(f3:w2))
CH> :
CH> : (+(f1:w2) +(f1:w3) +(f2:w1))
CH> : (+(f1:w2) +(f1:w3) +(f3:w1))
CH> :
CH> : (+(f2:w1) +(f2:w2) +(f1:w3))
CH> : (+(f2:w1) +(f2:w2) +(f3:w3))
CH> :
CH> : (+(f2:w1) +(f2:w3) +(f1:w2))
CH> : (+(f2:w1) +(f2:w3) +(f3:w2))
CH> :
CH> : (+(f2:w2) +(f2:w3) +(f1:w1))
CH> : (+(f2:w2) +(f2:w3) +(f3:w1))
CH> :
CH> : (+(f3:w1) +(f3:w2) +(f1:w3))
CH> : (+(f3:w1) +(f3:w2) +(f2:w3))
CH> :
CH> : (+(f3:w1) +(f3:w3) +(f1:w2))
CH> : (+(f3:w1) +(f3:w3) +(f2:w2))
CH> :
CH> : (+(f3:w2) +(f3:w3) +(f1:w1))
CH> : (+(f3:w2) +(f3:w3) +(f2:w1))


CH> -Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17122-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 14:44:13 2005
Return-Path: <java-user-return-17122-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45349 invoked from network); 26 Oct 2005 14:44:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 14:44:13 -0000
Received: (qmail 80092 invoked by uid 500); 26 Oct 2005 14:44:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80068 invoked by uid 500); 26 Oct 2005 14:44:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80051 invoked by uid 99); 26 Oct 2005 14:44:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 07:44:06 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [212.18.25.230] (HELO mail.zooplus.de) (212.18.25.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 07:44:03 -0700
Received: from exchange2.home.zooplus.de (unknown [192.168.10.72])
	by mail.zooplus.de (Postfix) with ESMTP id 59AF45770A
	for <java-user@lucene.apache.org>; Wed, 26 Oct 2005 16:43:42 +0200 (CEST)
Received: by exchange2.home.zooplus.de with Internet Mail Service (5.5.2657.72)
	id <V3Q9XKHR>; Wed, 26 Oct 2005 16:43:42 +0200
Message-ID: <10361639FF4CA04ABB30F54683E4FB8505667385@exchange2.home.zooplus.de>
From: Steven Pannell <steven.pannell@zooplus.com>
To: "'java-user@lucene.apache.org'" <java-user@lucene.apache.org>
Subject: RE: Database File Store (SQLDirectory?)
Date: Wed, 26 Oct 2005 16:43:42 +0200
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

Seems the JDBCDirectory did exist, but sadly the link is no longer working:

http://ppinew.mnis.com/jdbcdirectory/


newsgroup link - 

http://www.mail-archive.com/lucene-user@jakarta.apache.org/msg10689.html

But with the SQLDirectory and the DBDirectory I am sure I can knock
something up now.

Steve.


-----Original Message-----
From: Volodymyr Bychkoviak [mailto:vbychkoviak@i-hypergrid.com]
Sent: 26 October 2005 16:31
To: java-user@lucene.apache.org
Subject: Re: Database File Store (SQLDirectory?)


Hi.
Try to search for JDBCDirectory...

Steven Pannell wrote:
> Hi,
>
> I'm looking to try and store my index into an oracle database.  Has anyone
> done this before?  I did find something in the archive referring to the
> SQLDirectory.java file by Marc Kramis. But there does not seem to be any
> download or further references to this implementation.  Does anyone have
it?
> or are there perhaps any other implementations to get me started?
>
> thx.
> Steve.
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>   

-- 
regards,
Volodymyr Bychkoviak


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17123-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 15:16:51 2005
Return-Path: <java-user-return-17123-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64214 invoked from network); 26 Oct 2005 15:16:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 15:16:51 -0000
Received: (qmail 50916 invoked by uid 500); 26 Oct 2005 15:16:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50895 invoked by uid 500); 26 Oct 2005 15:16:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50882 invoked by uid 99); 26 Oct 2005 15:16:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 08:16:43 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.82.197 as permitted sender)
Received: from [66.249.82.197] (HELO xproxy.gmail.com) (66.249.82.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 08:16:41 -0700
Received: by xproxy.gmail.com with SMTP id i28so330277wxd
        for <java-user@lucene.apache.org>; Wed, 26 Oct 2005 08:16:22 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=d721hS/vUGGe1H2wS37z6MvdevyQR5VRZMt5CA2PFnmiwgY49OYFKG0IBE8G28VY08TBHsok7142u5B5LsrG8vy9+emLcwhki1zXq5Uuta1WpraaYUy542MDezckIJYdHa7lqYaA6Akmlm2itrBYiDY4lt6S6/Ie+ltwB6qjPA0=
Received: by 10.64.91.7 with SMTP id o7mr709345qbb;
        Wed, 26 Oct 2005 08:16:22 -0700 (PDT)
Received: by 10.65.121.3 with HTTP; Wed, 26 Oct 2005 08:16:22 -0700 (PDT)
Message-ID: <c68e39170510260816g22436a49s269ed1785363f610@mail.gmail.com>
Date: Wed, 26 Oct 2005 11:16:22 -0400
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Iterate through all entries
In-Reply-To: <435F471B.8040009@rrzn.uni-hannover.de>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_7484_26423885.1130339782111"
References: <10361639FF4CA04ABB30F54683E4FB850566737B@exchange2.home.zooplus.de>
	 <435F37F3.4080000@inovex.de> <435F471B.8040009@rrzn.uni-hannover.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_7484_26423885.1130339782111
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

To loop through all documents, simply go from 0 to maxDoc() and check
isDeleted() on each.

-Yonik
Now hiring -- http://forms.cnet.com/slink?231706

On 10/26/05, Dirk Hennig < dhennig@rrzn.uni-hannover.de> wrote:
>
> Hallo,
>
> I want to iterate through all documents in my index (to add some new
> fields).
> What ist the best / fastest way to do this?
>
> Greetings,
> Dirk Hennig
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

 <http://forms.cnet.com/slink?231706>

------=_Part_7484_26423885.1130339782111--

From java-user-return-17124-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 16:14:05 2005
Return-Path: <java-user-return-17124-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96372 invoked from network); 26 Oct 2005 16:14:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 16:14:04 -0000
Received: (qmail 50890 invoked by uid 500); 26 Oct 2005 16:13:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50869 invoked by uid 500); 26 Oct 2005 16:13:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50858 invoked by uid 99); 26 Oct 2005 16:13:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 09:13:56 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 66.249.82.194 as permitted sender)
Received: from [66.249.82.194] (HELO xproxy.gmail.com) (66.249.82.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 09:13:53 -0700
Received: by xproxy.gmail.com with SMTP id s19so23624wxc
        for <java-user@lucene.apache.org>; Wed, 26 Oct 2005 09:13:34 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=UpdJh3ScIupnWfaVV9vrlqB1NGRpQSNGN98eR6xAJOxnHjJK3yW1S+uEJLL+R4fR2rWbmR+sJtDyiupE3RXfxYzsw1ASLSzU6oce+8K7cY0K5Z/K/l0/ql4+liNjrfHAma7Wlojaj8crLUGA5c2X7tHrrekE6sb3Mdml4bdKPuM=
Received: by 10.64.204.7 with SMTP id b7mr798663qbg;
        Wed, 26 Oct 2005 09:13:34 -0700 (PDT)
Received: by 10.65.35.7 with HTTP; Wed, 26 Oct 2005 09:13:34 -0700 (PDT)
Message-ID: <50f433360510260913s579f93e8y8773d33e846a6562@mail.gmail.com>
Date: Wed, 26 Oct 2005 09:13:34 -0700
From: Jeff Rodenburg <jeff.rodenburg@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: MaxFieldLength or MaxFields?
In-Reply-To: <D53856C3-1AF2-4598-885D-DFDB7BD46346@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_469_12338701.1130343214207"
References: <50f433360510252350r3bddd8e9ldfb6dd47f19ea6bf@mail.gmail.com>
	 <D53856C3-1AF2-4598-885D-DFDB7BD46346@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_469_12338701.1130343214207
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

thanks Erik

On 10/26/05, Erik Hatcher <erik@ehatchersolutions.com> wrote:
>
>
> On 26 Oct 2005, at 02:50, Jeff Rodenburg wrote:
> > I'm considering building out an index that will flatten a data
> > structure,
> > such that some Document "A" will have Fields 1,2 and 3.
> > Fields 1 and 2 are indexed/tokenized field. Field 3 is indexed, and
> > will
> > contain many discrete values (up to possibly 5000).
>
>
> > Couple of questions:
> > 1. Does the DEFAULT_MAX_FIELD_LENGTH on IndexWriter come into play
> > for Field
> > 3? Field 3 values are added to the document individually, there's
> > just a
> > bunch of them.
>
> No. The max field length only comes into play for tokenized
> (analyzed) fields.
>
> > 2. Is MaxFieldLength a consideration for this?
>
> The default is 10,000, so you're safe :)
>
> From IndexWriter.java:
> public final static int DEFAULT_MAX_FIELD_LENGTH =3D 10000;
>
> > Any guidance before I go through the trouble of building the index
> > would be
> > greatly appreciated.
>
> Never be afraid to just try out things. It's easy enough to whip up
> a simple Java program of only a few lines that would exercise this
> sort of thing. A simple for loop adding 5000 identically named non-
> tokenized, indexed fields to a document would prove this to yourself.
>
> And now with Ferret - http://ferret.davebalmain.com/trac/ - the fun
> and lightweight nature of Ruby will allow us to experiment with
> Lucene without even compilation (or suffering Python syntax :).
>
> Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_469_12338701.1130343214207--

From java-user-return-17125-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 16:24:17 2005
Return-Path: <java-user-return-17125-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2212 invoked from network); 26 Oct 2005 16:23:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 16:23:52 -0000
Received: (qmail 71287 invoked by uid 500); 26 Oct 2005 16:23:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71259 invoked by uid 500); 26 Oct 2005 16:23:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71248 invoked by uid 99); 26 Oct 2005 16:23:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 09:23:35 -0700
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.82.200 as permitted sender)
Received: from [66.249.82.200] (HELO xproxy.gmail.com) (66.249.82.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 09:23:32 -0700
Received: by xproxy.gmail.com with SMTP id i28so359765wxd
        for <java-user@lucene.apache.org>; Wed, 26 Oct 2005 09:23:13 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Pq0uJAzohkKfWgJAnRNzZuX9lA+qnxwey7XkNEF+do5Bv+/phfHtwU9TWDv65f+2f61+k5b0MBPSWF0jfaWZ9XGDizwZPZTM+rOLiQ/cEAxNAEUXI7/Lq9p1H9U0J8AX7pRWjPVOcS5M8wjTxZmYQY73q0rX5g8yDcJih2/4PDU=
Received: by 10.65.83.16 with SMTP id k16mr772119qbl;
        Wed, 26 Oct 2005 09:23:13 -0700 (PDT)
Received: by 10.65.121.3 with HTTP; Wed, 26 Oct 2005 09:23:13 -0700 (PDT)
Message-ID: <c68e39170510260923y53bcd274q340ee9eb210291f0@mail.gmail.com>
Date: Wed, 26 Oct 2005 12:23:13 -0400
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: score formula in Similarity javadoc
In-Reply-To: <PKEIKOCKCHNIIHNECPCCMELMCAAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_9218_28981122.1130343793359"
References: <PKEIKOCKCHNIIHNECPCCMELMCAAA.koji.sekiguchi@m4.dion.ne.jp>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_9218_28981122.1130343793359
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

With respect to different terms in a boolean query, they will contribute to
the total score proportional to idf^2, so I think the javadoc as it exists
now is probably more correct.

A single TermQuery will have a final score with a single idf factor in it,
but that's because of the queryweight factor... look at the implementation
of TermWeight for more details.

-Yonik
Now hiring -- http://forms.cnet.com/slink?231706

On 10/25/05, Koji Sekiguchi <koji.sekiguchi@m4.dion.ne.jp> wrote:
>
> Hello,
>
> I apologize if this list is not appropriate for sending a patch.
>
> It seems there is an error on score formula in Similarity javadoc:
>
> score(q,d) =3D sigma( tf * idf^2 * ... )
>
> should be
>
> score(q,d) =3D sigma( tf * idf * ... )
>
> if my understanding is correct, I would appreciate it if
> someone could apply the attached patch to svn.
>
> BTW, in java langauge, operator ^ means BIT XOR... :)
>
> regards,
>
> Koji
>

------=_Part_9218_28981122.1130343793359--

From java-user-return-17126-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 16:26:11 2005
Return-Path: <java-user-return-17126-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3423 invoked from network); 26 Oct 2005 16:26:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 16:26:09 -0000
Received: (qmail 76296 invoked by uid 500); 26 Oct 2005 16:26:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76266 invoked by uid 500); 26 Oct 2005 16:26:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76255 invoked by uid 99); 26 Oct 2005 16:26:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 09:26:02 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [193.252.22.25] (HELO smtp6.wanadoo.fr) (193.252.22.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 09:25:59 -0700
Received: from me-wanadoo.net (localhost [127.0.0.1])
	by mwinf0602.wanadoo.fr (SMTP Server) with ESMTP id 267811C000D0
	for <java-user@lucene.apache.org>; Wed, 26 Oct 2005 18:25:38 +0200 (CEST)
Received: from [127.0.0.1] (AVelizy-115-2-1-38.w81-48.abo.wanadoo.fr [81.48.163.38])
	by mwinf0602.wanadoo.fr (SMTP Server) with ESMTP id 04D4A1C000CA
	for <java-user@lucene.apache.org>; Wed, 26 Oct 2005 18:25:37 +0200 (CEST)
X-ME-UUID: 20051026162538199.04D4A1C000CA@mwinf0602.wanadoo.fr
Message-ID: <435FAE01.6020604@jalios.com>
Date: Wed, 26 Oct 2005 18:25:37 +0200
From: Olivier Jaquemet <olivier.jaquemet@jalios.com>
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Java User ML <java-user@lucene.apache.org>
Subject: Bad explanations
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi everyone,

I am encoutering a really weird problem, I'm doing a query which gives 
me perfectly good results, with scores which are looking pretty right 
too. I wanted to display an explanation of some of my results just to 
check for something, and ALL hits output this explanation
0.0 = product of:
  0.0 = sum of:
  0.0 = coord(0/3)

It's been two hours I have been digging through my code for a possible 
reason to this.
I even tried to simplify my code:
- I was using a MultiFieldQueryParser, I removed it in favor a simpler 
QueryParser, no change. still good results but same bad explanation
- I was using a MultiIndexSearcher wrapper to reuse the searcher as long 
as no indexing occured, I remove it and created a new one which only 
search one index, no change. still good results but same bad explanation
I tried the same query a MultiFieldQueryParser creates, with luke and 
explanation (of simple query) are good!


Here is how i call the explain method:
      for (int i = 0; i < hits.length(); i++) {
        Document    doc = hits.doc(i);
        [...]
        logger.debug(searcher.explain(query, i));
      }

I could not find anything and I have no idea where to look.
So if you can see my mistake or know how this problem can occurs please 
help !

Olivier



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17127-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 16:29:02 2005
Return-Path: <java-user-return-17127-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4702 invoked from network); 26 Oct 2005 16:29:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 16:29:02 -0000
Received: (qmail 81926 invoked by uid 500); 26 Oct 2005 16:28:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81695 invoked by uid 500); 26 Oct 2005 16:28:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81684 invoked by uid 500); 26 Oct 2005 16:28:55 -0000
Delivered-To: apmail-jakarta-lucene-user@jakarta.apache.org
Received: (qmail 81681 invoked by uid 99); 26 Oct 2005 16:28:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 09:28:55 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [64.32.221.50] (HELO mail.lou.emergint.com) (64.32.221.50)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 09:28:52 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C5DA4A.4E728069"
Subject: Help with Search Java Code set up
Date: Wed, 26 Oct 2005 12:28:50 -0400
Message-ID: <6C1FF371E2319F45BABA49F9BA1BD03921F82B@mail.lou.emergint.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Help with Search Java Code set up
Thread-Index: AcXaSliulgCwPgCbSFeWa8m+AZj4DQ==
From: "Kevin L. Cobb" <kevin.cobb@emergint.com>
To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C5DA4A.4E728069
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable

I've been using Lucene happily for a couple of years now. But, this new
search functionality I'm trying to add is somewhat different that what
I'm used to doing. Would help if the smart folks on this list would
drive me in the right direction.
=20
I have several "searchable" fields and one keyword field in my index. I
usually work with EITHER the keyword or the searchable (non-keyword)
fields at a time, but this time I want to deal with them together. I
need to be able to do a term search in the "searchable" fields but at
the same time apply another term to the keyword field.
=20
At this point, I'm thinking that I'll need to do two distinct searches,
one using the search term in what I'm calling my searchable fields, and
the other using the other term in the keyword field. Then join the two
HIT lists together.
=20
Looking for some advice.=20
=20
Thanks,
=20
Kevin
=20

=20

------_=_NextPart_001_01C5DA4A.4E728069--

From java-user-return-17128-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 16:32:55 2005
Return-Path: <java-user-return-17128-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6712 invoked from network); 26 Oct 2005 16:32:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 16:32:55 -0000
Received: (qmail 93032 invoked by uid 500); 26 Oct 2005 16:32:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92994 invoked by uid 500); 26 Oct 2005 16:32:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92975 invoked by uid 99); 26 Oct 2005 16:32:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 09:32:41 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.82.205 as permitted sender)
Received: from [66.249.82.205] (HELO xproxy.gmail.com) (66.249.82.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 09:32:38 -0700
Received: by xproxy.gmail.com with SMTP id i28so364076wxd
        for <java-user@lucene.apache.org>; Wed, 26 Oct 2005 09:32:19 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=evuwdRpfS/RbmwsGSyZIXIYCD3MQKFwK+dNKb5rdspp0AZphNlxc2uijBD69c6llboO4pmXeSBlT6m32DDJM0ON8v1nVwaMQ28Ju/Ss8Q7CbVxgaEjVcoD3XS9BtVJS9skVWjHvCvYD0q1nsBRKfQjPqY3MtGuzWE/O2nmz1zCU=
Received: by 10.65.232.19 with SMTP id j19mr779325qbr;
        Wed, 26 Oct 2005 09:32:19 -0700 (PDT)
Received: by 10.65.121.3 with HTTP; Wed, 26 Oct 2005 09:32:19 -0700 (PDT)
Message-ID: <c68e39170510260932t6eb74201o8615adae5b9d312e@mail.gmail.com>
Date: Wed, 26 Oct 2005 12:32:19 -0400
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Bad explanations
In-Reply-To: <435FAE01.6020604@jalios.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_9387_22691442.1130344339826"
References: <435FAE01.6020604@jalios.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_9387_22691442.1130344339826
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Typo... try explain(query,doc) instead of (query,i)
:-)


-Yonik
Now hiring -- http://forms.cnet.com/slink?231706


On 10/26/05, Olivier Jaquemet <olivier.jaquemet@jalios.com> wrote:
>
> Hi everyone,
>
> I am encoutering a really weird problem, I'm doing a query which gives
> me perfectly good results, with scores which are looking pretty right
> too. I wanted to display an explanation of some of my results just to
> check for something, and ALL hits output this explanation
> 0.0 =3D product of:
> 0.0 =3D sum of:
> 0.0 =3D coord(0/3)
>
> It's been two hours I have been digging through my code for a possible
> reason to this.
> I even tried to simplify my code:
> - I was using a MultiFieldQueryParser, I removed it in favor a simpler
> QueryParser, no change. still good results but same bad explanation
> - I was using a MultiIndexSearcher wrapper to reuse the searcher as long
> as no indexing occured, I remove it and created a new one which only
> search one index, no change. still good results but same bad explanation
> I tried the same query a MultiFieldQueryParser creates, with luke and
> explanation (of simple query) are good!
>
>
> Here is how i call the explain method:
> for (int i =3D 0; i < hits.length(); i++) {
> Document doc =3D hits.doc(i);
> [...]
> logger.debug(searcher.explain(query, i));
> }
>
> I could not find anything and I have no idea where to look.
> So if you can see my mistake or know how this problem can occurs please
> help !
>
> Olivier
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_9387_22691442.1130344339826--

From java-user-return-17129-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 16:35:15 2005
Return-Path: <java-user-return-17129-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7723 invoked from network); 26 Oct 2005 16:35:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 16:35:11 -0000
Received: (qmail 96378 invoked by uid 500); 26 Oct 2005 16:35:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96298 invoked by uid 500); 26 Oct 2005 16:35:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96260 invoked by uid 99); 26 Oct 2005 16:35:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 09:35:01 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.82.203 as permitted sender)
Received: from [66.249.82.203] (HELO xproxy.gmail.com) (66.249.82.203)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 09:34:58 -0700
Received: by xproxy.gmail.com with SMTP id i26so308631wxd
        for <java-user@lucene.apache.org>; Wed, 26 Oct 2005 09:34:39 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=iX8Y5/Gdy8xEdUxU9xBUUR1arsA2SzOGqfc9Rw33Nv1Xo2Sq66LhTNhO9N6bSa8wxuwKEBFR4JEOIxclTMjvi8qH6T5ihhKHEOQLzD15FzO61zFo7LNosCTgh+YA2tOPfnwCDIsTBKq8zoOE9nIP1kZYGGpcyD6GXRK0CDTNrag=
Received: by 10.65.113.1 with SMTP id q1mr802069qbm;
        Wed, 26 Oct 2005 09:34:39 -0700 (PDT)
Received: by 10.65.121.3 with HTTP; Wed, 26 Oct 2005 09:34:39 -0700 (PDT)
Message-ID: <c68e39170510260934x4d32ca90r8f153a5c2dd06f0a@mail.gmail.com>
Date: Wed, 26 Oct 2005 12:34:39 -0400
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Bad explanations
In-Reply-To: <c68e39170510260932t6eb74201o8615adae5b9d312e@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_9435_24816340.1130344479110"
References: <435FAE01.6020604@jalios.com>
	 <c68e39170510260932t6eb74201o8615adae5b9d312e@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_9435_24816340.1130344479110
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

To be more literal, I actually meant "explain(query,hits.id(i))"

On 10/26/05, Yonik Seeley <yseeley@gmail.com> wrote:
>
> Typo... try explain(query,doc) instead of (query,i)
> :-)
>

------=_Part_9435_24816340.1130344479110--

From java-user-return-17130-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 16:43:57 2005
Return-Path: <java-user-return-17130-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11675 invoked from network); 26 Oct 2005 16:43:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 16:43:57 -0000
Received: (qmail 10339 invoked by uid 500); 26 Oct 2005 16:43:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10306 invoked by uid 500); 26 Oct 2005 16:43:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10282 invoked by uid 99); 26 Oct 2005 16:43:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 09:43:38 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [193.252.22.20] (HELO smtp12.wanadoo.fr) (193.252.22.20)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 09:43:35 -0700
Received: from me-wanadoo.net (localhost [127.0.0.1])
	by mwinf1204.wanadoo.fr (SMTP Server) with ESMTP id 2AC311C00054
	for <java-user@lucene.apache.org>; Wed, 26 Oct 2005 18:43:15 +0200 (CEST)
Received: from [127.0.0.1] (AVelizy-115-2-1-38.w81-48.abo.wanadoo.fr [81.48.163.38])
	by mwinf1204.wanadoo.fr (SMTP Server) with ESMTP id 01ED01C00083
	for <java-user@lucene.apache.org>; Wed, 26 Oct 2005 18:43:14 +0200 (CEST)
X-ME-UUID: 20051026164315799.01ED01C00083@mwinf1204.wanadoo.fr
Message-ID: <435FB221.20903@jalios.com>
Date: Wed, 26 Oct 2005 18:43:13 +0200
From: Olivier Jaquemet <olivier.jaquemet@jalios.com>
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Bad explanations
References: <435FAE01.6020604@jalios.com>	 <c68e39170510260932t6eb74201o8615adae5b9d312e@mail.gmail.com> <c68e39170510260934x4d32ca90r8f153a5c2dd06f0a@mail.gmail.com>
In-Reply-To: <c68e39170510260934x4d32ca90r8f153a5c2dd06f0a@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

LOL, have you ever seen a man humiliating himself in public in a mailing 
list? cause I just did ;)
thank you yonik ... :)

Yonik Seeley wrote:

>To be more literal, I actually meant "explain(query,hits.id(i))"
>
>On 10/26/05, Yonik Seeley <yseeley@gmail.com> wrote:
>  
>
>>Typo... try explain(query,doc) instead of (query,i)
>>:-)
>>
>>    
>>
>
>  
>


-- 
Olivier Jaquemet <olivier.jaquemet@jalios.com>
Ingénieur R&D Jalios S.A.
Tel: 01.39.23.92.83
http://www.jalios.com/
http://support.jalios.com/




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17131-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 16:56:28 2005
Return-Path: <java-user-return-17131-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18603 invoked from network); 26 Oct 2005 16:56:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 16:56:27 -0000
Received: (qmail 27383 invoked by uid 500); 26 Oct 2005 16:56:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27358 invoked by uid 500); 26 Oct 2005 16:56:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27346 invoked by uid 99); 26 Oct 2005 16:56:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 09:56:20 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of koji.sekiguchi@m4.dion.ne.jp designates 203.181.105.72 as permitted sender)
Received: from [203.181.105.72] (HELO hfep06.dion.ne.jp) (203.181.105.72)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 09:56:15 -0700
Received: from sekiguchi ([59.135.102.240]) by hfep06.dion.ne.jp with SMTP
          id <20051026165556318.NSFQ@hfep06.dion.ne.jp>
          for <java-user@lucene.apache.org>;
          Thu, 27 Oct 2005 01:55:56 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
Subject: RE: score formula in Similarity javadoc
Date: Thu, 27 Oct 2005 01:55:51 +0900
Message-ID: <PKEIKOCKCHNIIHNECPCCMEMGCAAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <c68e39170510260923y53bcd274q340ee9eb210291f0@mail.gmail.com>
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Yonik,

I'd checked TermQuery, TermScorer and TermWeight then
sent the previous mail. But after getting your reply, I did double-check
and I understand that you are correct.

So, the formula in LIA should be re-corrected? :)

Scoring formula figure omission
http://www.lucenebook.com/blog/errata/scoring_formula_omission.html

Thank you very much,

Koji

> -----Original Message-----
> From: Yonik Seeley [mailto:yseeley@gmail.com]
> Sent: Thursday, October 27, 2005 1:23 AM
> To: java-user@lucene.apache.org
> Subject: Re: score formula in Similarity javadoc
>
>
> With respect to different terms in a boolean query, they will
> contribute to
> the total score proportional to idf^2, so I think the javadoc as it exists
> now is probably more correct.
>
> A single TermQuery will have a final score with a single idf factor in it,
> but that's because of the queryweight factor... look at the implementation
> of TermWeight for more details.
>
> -Yonik
> Now hiring -- http://forms.cnet.com/slink?231706
>
> On 10/25/05, Koji Sekiguchi <koji.sekiguchi@m4.dion.ne.jp> wrote:
> >
> > Hello,
> >
> > I apologize if this list is not appropriate for sending a patch.
> >
> > It seems there is an error on score formula in Similarity javadoc:
> >
> > score(q,d) = sigma( tf * idf^2 * ... )
> >
> > should be
> >
> > score(q,d) = sigma( tf * idf * ... )
> >
> > if my understanding is correct, I would appreciate it if
> > someone could apply the attached patch to svn.
> >
> > BTW, in java langauge, operator ^ means BIT XOR... :)
> >
> > regards,
> >
> > Koji
> >
>



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17132-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 17:02:17 2005
Return-Path: <java-user-return-17132-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22483 invoked from network); 26 Oct 2005 17:02:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 17:02:08 -0000
Received: (qmail 37577 invoked by uid 500); 26 Oct 2005 17:01:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37549 invoked by uid 500); 26 Oct 2005 17:01:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37538 invoked by uid 500); 26 Oct 2005 17:01:55 -0000
Delivered-To: apmail-jakarta-lucene-user@jakarta.apache.org
Received: (qmail 37535 invoked by uid 99); 26 Oct 2005 17:01:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 10:01:55 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.82.195 as permitted sender)
Received: from [66.249.82.195] (HELO xproxy.gmail.com) (66.249.82.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 10:01:52 -0700
Received: by xproxy.gmail.com with SMTP id t14so369309wxc
        for <lucene-user@jakarta.apache.org>; Wed, 26 Oct 2005 10:01:34 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:references;
        b=A91WpghrXV8O6sWwD0+kJzPtCjjS2EwmI+hpJTUoH5aoS/zk3yAGL4uOavdmW6XrO8Xt4L1lIDUe/UOO8v7UVYzlxiFaBvpZZXDWXOXA1J9b0LOh6qstC2fpJL1lnu4/3Pl1ejSnnDHtThrcLAqd7UIQbmegqsOalKKY+pJYhr4=
Received: by 10.65.54.18 with SMTP id g18mr250459qbk;
        Wed, 26 Oct 2005 10:01:33 -0700 (PDT)
Received: by 10.65.121.3 with HTTP; Wed, 26 Oct 2005 10:01:33 -0700 (PDT)
Message-ID: <c68e39170510261001t487ad063o6308e0f83ae818cf@mail.gmail.com>
Date: Wed, 26 Oct 2005 13:01:33 -0400
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Help with Search Java Code set up
Cc: lucene-user@jakarta.apache.org
In-Reply-To: <6C1FF371E2319F45BABA49F9BA1BD03921F82B@mail.lou.emergint.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_9995_8528628.1130346093905"
References: <6C1FF371E2319F45BABA49F9BA1BD03921F82B@mail.lou.emergint.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_9995_8528628.1130346093905
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi Kevin,
Your description is rather generic... could you be more specific why you
couldn't just create a BooleanQuery that searches across the searchable and
keyword fields at the same time?

-Yonik
Now hiring -- http://forms.cnet.com/slink?231706


On 10/26/05, Kevin L. Cobb <kevin.cobb@emergint.com> wrote:
>
> I've been using Lucene happily for a couple of years now. But, this new
> search functionality I'm trying to add is somewhat different that what
> I'm used to doing. Would help if the smart folks on this list would
> drive me in the right direction.
>
> I have several "searchable" fields and one keyword field in my index. I
> usually work with EITHER the keyword or the searchable (non-keyword)
> fields at a time, but this time I want to deal with them together. I
> need to be able to do a term search in the "searchable" fields but at
> the same time apply another term to the keyword field.
>
> At this point, I'm thinking that I'll need to do two distinct searches,
> one using the search term in what I'm calling my searchable fields, and
> the other using the other term in the keyword field. Then join the two
> HIT lists together.
>
> Looking for some advice.
>
> Thanks,
>
> Kevin
>

------=_Part_9995_8528628.1130346093905--

From java-user-return-17133-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 17:02:18 2005
Return-Path: <java-user-return-17133-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22588 invoked from network); 26 Oct 2005 17:02:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 17:02:16 -0000
Received: (qmail 37857 invoked by uid 500); 26 Oct 2005 17:01:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37802 invoked by uid 500); 26 Oct 2005 17:01:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37755 invoked by uid 99); 26 Oct 2005 17:01:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 10:01:56 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.82.203 as permitted sender)
Received: from [66.249.82.203] (HELO xproxy.gmail.com) (66.249.82.203)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 10:01:52 -0700
Received: by xproxy.gmail.com with SMTP id i28so377543wxd
        for <java-user@lucene.apache.org>; Wed, 26 Oct 2005 10:01:34 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:references;
        b=A91WpghrXV8O6sWwD0+kJzPtCjjS2EwmI+hpJTUoH5aoS/zk3yAGL4uOavdmW6XrO8Xt4L1lIDUe/UOO8v7UVYzlxiFaBvpZZXDWXOXA1J9b0LOh6qstC2fpJL1lnu4/3Pl1ejSnnDHtThrcLAqd7UIQbmegqsOalKKY+pJYhr4=
Received: by 10.65.54.18 with SMTP id g18mr250459qbk;
        Wed, 26 Oct 2005 10:01:33 -0700 (PDT)
Received: by 10.65.121.3 with HTTP; Wed, 26 Oct 2005 10:01:33 -0700 (PDT)
Message-ID: <c68e39170510261001t487ad063o6308e0f83ae818cf@mail.gmail.com>
Date: Wed, 26 Oct 2005 13:01:33 -0400
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Help with Search Java Code set up
Cc: lucene-user@jakarta.apache.org
In-Reply-To: <6C1FF371E2319F45BABA49F9BA1BD03921F82B@mail.lou.emergint.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_9995_8528628.1130346093905"
References: <6C1FF371E2319F45BABA49F9BA1BD03921F82B@mail.lou.emergint.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_9995_8528628.1130346093905
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi Kevin,
Your description is rather generic... could you be more specific why you
couldn't just create a BooleanQuery that searches across the searchable and
keyword fields at the same time?

-Yonik
Now hiring -- http://forms.cnet.com/slink?231706


On 10/26/05, Kevin L. Cobb <kevin.cobb@emergint.com> wrote:
>
> I've been using Lucene happily for a couple of years now. But, this new
> search functionality I'm trying to add is somewhat different that what
> I'm used to doing. Would help if the smart folks on this list would
> drive me in the right direction.
>
> I have several "searchable" fields and one keyword field in my index. I
> usually work with EITHER the keyword or the searchable (non-keyword)
> fields at a time, but this time I want to deal with them together. I
> need to be able to do a term search in the "searchable" fields but at
> the same time apply another term to the keyword field.
>
> At this point, I'm thinking that I'll need to do two distinct searches,
> one using the search term in what I'm calling my searchable fields, and
> the other using the other term in the keyword field. Then join the two
> HIT lists together.
>
> Looking for some advice.
>
> Thanks,
>
> Kevin
>

------=_Part_9995_8528628.1130346093905--

From java-user-return-17134-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 17:04:45 2005
Return-Path: <java-user-return-17134-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24445 invoked from network); 26 Oct 2005 17:04:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 17:04:41 -0000
Received: (qmail 44275 invoked by uid 500); 26 Oct 2005 17:04:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44103 invoked by uid 500); 26 Oct 2005 17:04:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44092 invoked by uid 99); 26 Oct 2005 17:04:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 10:04:29 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 66.249.82.207 as permitted sender)
Received: from [66.249.82.207] (HELO xproxy.gmail.com) (66.249.82.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 10:04:24 -0700
Received: by xproxy.gmail.com with SMTP id s19so17468wxc
        for <java-user@lucene.apache.org>; Wed, 26 Oct 2005 10:04:05 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=NfXETV64Zbdks9Xrip676G4yvE51IwFGS7CBMnM3hYVA6iYiibxBH2l+hWuBNO2jvNofn80xxWO1l2t/ww2LyXVceBJDDCzQeXB18/hsux3uvSBGUmH0nAgD6vCzO4S3y6Az82r96EHgvBT3JjWmuw9XLjoGT+hZ41CVFwFpkOI=
Received: by 10.64.210.13 with SMTP id i13mr854343qbg;
        Wed, 26 Oct 2005 10:04:05 -0700 (PDT)
Received: by 10.65.35.7 with HTTP; Wed, 26 Oct 2005 10:04:05 -0700 (PDT)
Message-ID: <50f433360510261004p3fac33c5obe4a1242f9dd96e5@mail.gmail.com>
Date: Wed, 26 Oct 2005 10:04:05 -0700
From: Jeff Rodenburg <jeff.rodenburg@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Help with Search Java Code set up
In-Reply-To: <6C1FF371E2319F45BABA49F9BA1BD03921F82B@mail.lou.emergint.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_1649_9429997.1130346245047"
References: <6C1FF371E2319F45BABA49F9BA1BD03921F82B@mail.lou.emergint.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_1649_9429997.1130346245047
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Kevin -

Maybe I'm misunderstanding, but how is this not a BooleanQuery with two
clauses?

- j

On 10/26/05, Kevin L. Cobb <kevin.cobb@emergint.com> wrote:
>
> I've been using Lucene happily for a couple of years now. But, this new
> search functionality I'm trying to add is somewhat different that what
> I'm used to doing. Would help if the smart folks on this list would
> drive me in the right direction.
>
> I have several "searchable" fields and one keyword field in my index. I
> usually work with EITHER the keyword or the searchable (non-keyword)
> fields at a time, but this time I want to deal with them together. I
> need to be able to do a term search in the "searchable" fields but at
> the same time apply another term to the keyword field.
>
> At this point, I'm thinking that I'll need to do two distinct searches,
> one using the search term in what I'm calling my searchable fields, and
> the other using the other term in the keyword field. Then join the two
> HIT lists together.
>
> Looking for some advice.
>
> Thanks,
>
> Kevin
>
>
>
>
>

------=_Part_1649_9429997.1130346245047--

From java-user-return-17135-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 17:39:16 2005
Return-Path: <java-user-return-17135-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45900 invoked from network); 26 Oct 2005 17:39:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 17:39:15 -0000
Received: (qmail 6619 invoked by uid 500); 26 Oct 2005 17:39:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6590 invoked by uid 500); 26 Oct 2005 17:39:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6577 invoked by uid 99); 26 Oct 2005 17:39:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 10:39:07 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [64.32.221.50] (HELO mail.lou.emergint.com) (64.32.221.50)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 10:39:05 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Help with Search Java Code set up
Date: Wed, 26 Oct 2005 13:39:17 -0400
Message-ID: <6C1FF371E2319F45BABA49F9BA1BD03921F82E@mail.lou.emergint.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Help with Search Java Code set up
Thread-Index: AcXaT1c8PPH5GexfQfyQhBpO1QSRZAAAysSw
From: "Kevin L. Cobb" <kevin.cobb@emergint.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

It well could be that I'm lacking in setting up my queries. Here's the
gist of what I'm trying to do, it a little pseudocode.=20

1. inputs: 1) termToSearch 2) keywordField
2. Use MultiFieldQueryParser to build the query for the termToSearch in
the searchable fields
3. Use QueryParser to build the query for the keywordField (only one
field to search)
4. Can I combine these separate queries together into one?=20

-Kevin



=20

-----Original Message-----
From: Jeff Rodenburg [mailto:jeff.rodenburg@gmail.com]=20
Sent: Wednesday, October 26, 2005 1:04 PM
To: java-user@lucene.apache.org
Subject: Re: Help with Search Java Code set up

Kevin -

Maybe I'm misunderstanding, but how is this not a BooleanQuery with two
clauses?

- j

On 10/26/05, Kevin L. Cobb <kevin.cobb@emergint.com> wrote:
>
> I've been using Lucene happily for a couple of years now. But, this=20
> new search functionality I'm trying to add is somewhat different that=20
> what I'm used to doing. Would help if the smart folks on this list=20
> would drive me in the right direction.
>
> I have several "searchable" fields and one keyword field in my index.=20
> I usually work with EITHER the keyword or the searchable (non-keyword)

> fields at a time, but this time I want to deal with them together. I=20
> need to be able to do a term search in the "searchable" fields but at=20
> the same time apply another term to the keyword field.
>
> At this point, I'm thinking that I'll need to do two distinct=20
> searches, one using the search term in what I'm calling my searchable=20
> fields, and the other using the other term in the keyword field. Then=20
> join the two HIT lists together.
>
> Looking for some advice.
>
> Thanks,
>
> Kevin
>
>
>
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17136-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 17:55:28 2005
Return-Path: <java-user-return-17136-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55009 invoked from network); 26 Oct 2005 17:55:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 17:55:27 -0000
Received: (qmail 31246 invoked by uid 500); 26 Oct 2005 17:55:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31200 invoked by uid 500); 26 Oct 2005 17:55:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31167 invoked by uid 99); 26 Oct 2005 17:55:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 10:55:19 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 10:55:15 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 58F575B7CC; Wed, 26 Oct 2005 10:54:54 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 564127F471
	for <java-user@lucene.apache.org>; Wed, 26 Oct 2005 10:54:54 -0700 (PDT)
Date: Wed, 26 Oct 2005 10:54:54 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: FilteredQuery usage
In-Reply-To: <1130328901.26521.18.camel@aris.si.uji.es.si.uji.es>
Message-ID: <Pine.LNX.4.58.0510261046370.10388@hal.rescomp.berkeley.edu>
References: <1130328901.26521.18.camel@aris.si.uji.es.si.uji.es>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=iso-8859-1
Content-Transfer-Encoding: QUOTED-PRINTABLE
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

: filter, I need to query all the index checking if the value of field
: name "path" is a prefix or not.
:
: There's a way to do that query without having to retrieve all the
: Document instances from the index?

Yep, you're definitely on the right track.  You don't need to retrieve any
documents at all, you just need to look at all of hte indexed terms in
your field, and find the ones that match your prefix.  I would start by
trying to write a Filter that only deals with one prefix (not an array of
prefixes) and when you get that working, then you can then combine several
of them using a ChainedFilter, or expand your filter to opperate on
an array/set of prefixes instead.

Start by taking a look at the way RangeFilter works for an example of how
to use a TermEnum and a TermDocs to collect the list of documentIds that
have values indexed between two terms.  The main difference between what
you want to do, and what is done in RangeFilter, is that instead of
looking for all terms between "a" and "b" you want to look for all terms
between "a" and the first subsequent term that does not have "a" as a
prefix.

http://svn.apache.org/viewcvs.cgi/lucene/java/trunk/src/java/org/apache/luc=
ene/search/RangeFilter.java?rev=3D150665&view=3Dmarkup




:
: public class PrefijoURLFilter extends Filter
: {
:     private String field;
:     private String[] prefix;
:
:     public PrefijoURLFilter(String field, String[] prefix)
:     {
:         this.field =3D field;
:         this.prefix =3D prefix;
:     }
:
:     public BitSet bits(IndexReader reader) throws IOException
:     {
:         BitSet bits =3D new BitSet(reader.maxDoc());
:
: =09//FOR EACH PREFIX AND FOR EACH DOCUMENT IN INDEX CHECK IF
: =09//STARTS WITH A VALID PREFIX AND SET IT IN THE BITSET
:
:         return bits;
:     }
: }
:
:
: A valid usage of this filter could be:
:
: filter =3D new PrefijoURLFilter("path", new String[] {
: =09"http://xxx/CA/noticies/agenda/",
: =09"http://xxx/noticies/agenda/",
: =09"http://xxx/CA/content/agenda/",
:     =09"http://xxx/content/agenda/"
: });
:
: Thanks a lot!!!
:
: --
: Salut,
: =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
: Ricardo Borillo Domenech
: Analista/Programador - Servei d'Inform=E0tica
: Universitat Jaume I
: http://xml-utils.com
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17137-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 17:56:27 2005
Return-Path: <java-user-return-17137-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55372 invoked from network); 26 Oct 2005 17:56:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 17:56:27 -0000
Received: (qmail 33329 invoked by uid 500); 26 Oct 2005 17:56:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33308 invoked by uid 500); 26 Oct 2005 17:56:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33297 invoked by uid 99); 26 Oct 2005 17:56:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 10:56:20 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.18.98.34] (HELO brmea-mail-3.sun.com) (192.18.98.34)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 10:56:16 -0700
Received: from phys-d3-ha21sca-2 ([129.145.155.165])
	by brmea-mail-3.sun.com (8.12.10/8.12.9) with ESMTP id j9QHtv3F020794
	for <java-user@lucene.apache.org>; Wed, 26 Oct 2005 11:55:57 -0600 (MDT)
Received: from conversion-daemon.ha21sca-mail1.sfbay.sun.com by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 id <0IOZ00H01B4ZPO@ha21sca-mail1.sfbay.sun.com>
 (original mail from Richard.Hillegas@Sun.COM) for java-user@lucene.apache.org;
 Wed, 26 Oct 2005 10:56:19 -0700 (PDT)
Received: from [129.144.89.216] (d-sfo07-89-216.SFBay.Sun.COM [129.144.89.216])
 by ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 with ESMTP id <0IOZ00IYKB5V8S@ha21sca-mail1.sfbay.sun.com> for
 java-user@lucene.apache.org; Wed, 26 Oct 2005 10:56:19 -0700 (PDT)
Date: Wed, 26 Oct 2005 10:56:00 -0700
From: Rick Hillegas <Richard.Hillegas@Sun.COM>
Subject: [Fwd: Re: SQLDirectory]
To: java-user@lucene.apache.org
Message-id: <435FC330.6000400@sun.com>
MIME-version: 1.0
Content-type: multipart/mixed; boundary="Boundary_(ID_kG+mdC49Xr2qGAA4cfhrJg)"
X-Accept-Language: en-us, en
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--Boundary_(ID_kG+mdC49Xr2qGAA4cfhrJg)
Content-type: text/plain; charset=UTF-8; format=flowed
Content-transfer-encoding: 7BIT

I can't find SQLDirectory and friends checked into Lucene proper or the 
sandbox. I'm not a lawyer but I feel the licensing issues here are gray. 
Fortunately, DbDirectory lives in the Lucene sandbox and so seems 
legally safer. Anyone else have an opinion on this?

-Rick

--Boundary_(ID_kG+mdC49Xr2qGAA4cfhrJg)
Content-type: message/rfc822; name="Re: SQLDirectory"

Return-path: <marc.kramis@uni-konstanz.de>
Received: from conversion-daemon.ha21sca-mail1.sfbay.sun.com by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 id <0IOZ00I0199Z3P@ha21sca-mail1.sfbay.sun.com>
 (original mail from marc.kramis@uni-konstanz.de)
 for rh161140@ha21sca-mail1.SFBay.Sun.COM; Wed, 26 Oct 2005 10:18:05 -0700 (PDT)
Received: from sfbaymail1sca.SFBay.Sun.COM
 (sfbaymail1sca.SFBay.Sun.COM [129.145.154.35]) by ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 with ESMTP id <0IOZ00IRE9E58S@ha21sca-mail1.sfbay.sun.com> for
 rh161140@ha21sca-mail1.SFBay.Sun.COM (ORCPT Richard.Hillegas@Sun.COM); Wed,
 26 Oct 2005 10:18:05 -0700 (PDT)
Received: from sunmail1brm.Central.Sun.COM
 (sunmail1brm.Central.Sun.COM [129.147.62.17])	by sfbaymail1sca.SFBay.Sun.COM
 (8.12.10+Sun/8.12.10/ENSMAIL,v2.2) with ESMTP id j9QHHgTe016839	for
 <richard.hillegas@sfbay.sun.com>; Wed, 26 Oct 2005 10:17:42 -0700 (PDT)
Received: from brmea-mail-1.sun.com
 (brmea-mail-1.Central.Sun.COM [129.147.5.31])	by sunmail1brm.Central.Sun.COM
 (8.11.7p1+Sun/8.11.7/ENSMAIL,v2.2) with ESMTP id j9QHHgv24954	for
 <Richard.Hillegas@sun.com>; Wed, 26 Oct 2005 11:17:42 -0600 (MDT)
Received: from relay11.sun.com ([217.140.40.14])
	by brmea-mail-1.sun.com (8.12.10/8.12.9) with ESMTP id j9QHHeD7004048	for
 <Richard.Hillegas@Sun.COM>; Wed, 26 Oct 2005 11:17:41 -0600 (MDT)
Received: from mms12es.sun.com (mms12es.sun.com [160.41.223.34])
 by relay11.sun.com with ESMTP for Richard.Hillegas@Sun.COM; Wed,
 26 Oct 2005 17:17:40 +0000 (Z)
Received: from mms11bas.mms.eu.btsyntegra.com
 (mms11bas.mms.eu.btsyntegra.com [217.140.40.10]) by mms12es.sun.com with ESMTP
 for Richard.Hillegas@Sun.COM; Wed, 26 Oct 2005 17:17:40 +0000 (Z)
Received: from cytosin.uni-konstanz.de
 (cytosin.uni-konstanz.de [134.34.240.61]) by relay11.sun.com with ESMTP for
 Richard.Hillegas@Sun.COM; Wed, 26 Oct 2005 17:17:39 +0000 (Z)
Received: from [192.168.1.33] (zux221-160-097.adsl.green.ch [81.221.160.97])
	by cytosin.uni-konstanz.de (Postfix) with ESMTP id B33DCC8F	for
 <Richard.Hillegas@Sun.COM>; Wed, 26 Oct 2005 19:17:38 +0200 (CEST)
Date: Wed, 26 Oct 2005 19:17:32 +0200
From: Marc Kramis <marc.kramis@uni-konstanz.de>
Subject: Re: SQLDirectory
In-reply-to: <435F91BB.4090605@sun.com>
To: Rick Hillegas <Richard.Hillegas@Sun.COM>
Message-id: <6F548A9D-9754-4EAA-9584-3FACFE754829@uni-konstanz.de>
MIME-version: 1.0 (Apple Message framework v734)
X-Mailer: Apple Mail (2.734)
Content-type: text/plain; charset=UTF-8; delsp=yes; format=fixed
Content-transfer-encoding: QUOTED-PRINTABLE
X-Pgp-Rfc2646-Fix: 1
References: <435F91BB.4090605@sun.com>
Original-recipient: rfc822;Richard.Hillegas@Sun.COM

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Hi Rick,

At the time I wrote SQLDirectory, it did not have any kind of =20
license. From my part, feel free to use it however you want to. Maybe=
 =20
you should check whether lucene contributions fall under some license=
.

Be aware of an issue with lost handles. The lucene API did not =20
properly notify its implementation at this time, so some counters =
=20
were unstable. This might have changed in the past few lucene =20
revisions... Also watch the performance achieved.

Regards,
Marc


Am 26.10.2005 um 16:24 schrieb Rick Hillegas:

> Hi Marc,
>
> I thought you might be the Marc Kramis who wrote SQLDirectory, a =
=20
> java class with accompanying ddl scripts which is floating around =
=20
> on the internet now. Is this code released under an open source =
=20
> license?
>
> Thanks,
> -Rick
>

_____________________________________________________________________=
__
Marc Kramis                         Email : marc.kramis@uni-konstanz.=
de
Rechenzentrum V519                  Web   : http://www.uni-konstanz.d=
e
Universit=C3=A4t Konstanz                Phone : +49 (0)7531 88-4734
D-78457 Konstanz                    Fax   : +49 (0)7531 88-3739


-----BEGIN PGP SIGNATURE-----
Version: PGP Desktop 9.0.0 (Build 2001)

iQEVAwUBQ1+6MEC2r4wAwPNDAQiUuAf/X2eCTdw2uC10VKY3UDsnmqfzV85r22Xu
jPqMPT0e/IIf67kxO4dW63gTI1MTruhH3RHbQRaXuDx3l8NDUVNXtZ6ur+pM3OTP
5TOZNMMRt269pt/Ld3ftoU+bL/6a1JkMxP3cbnapokTGguhNEmeJXd8ug/H8Q/hN
WQBsQR/BHZPE8iXEYHKPvmCXY0+N1Ayn96p4upgQdF9C+sPtzf1VAf35BRUmn5VF
yQR89NORfuwxDJe3RNlKE0KhTzovmJwCDP8ddyJ34P36BEWXMWl9j0x6qMisp8CI
fk3nATdFg8f2jsrnu1u54kVFKYH4b6m+6mupe0pYitKIAZz7hE0IeA=3D=3D
=3D/KO1
-----END PGP SIGNATURE-----


--Boundary_(ID_kG+mdC49Xr2qGAA4cfhrJg)
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
--Boundary_(ID_kG+mdC49Xr2qGAA4cfhrJg)--

From java-user-return-17138-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 18:38:19 2005
Return-Path: <java-user-return-17138-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79536 invoked from network); 26 Oct 2005 18:38:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 18:38:18 -0000
Received: (qmail 94670 invoked by uid 500); 26 Oct 2005 18:38:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94561 invoked by uid 500); 26 Oct 2005 18:38:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94524 invoked by uid 99); 26 Oct 2005 18:38:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 11:38:09 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.200.35] (HELO web31102.mail.mud.yahoo.com) (68.142.200.35)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 26 Oct 2005 11:38:05 -0700
Received: (qmail 32697 invoked by uid 60001); 26 Oct 2005 18:37:45 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=H+e0nCnqi3Tu3Ml3QXwHS5Xu5oUSQ6QheBC77JhYV7UX5UaF1mn0qGXz/yTL01tieTCvEk3+WyeJe+Ql0ACkGFRA/SiwsaFWy7U64xZvkNQbUSafv422zIX/IOriJo6vCdTyYRBoDEkPOeqsdp6XjP4RC6uu8fH8xbjXhF/g6Vo=  ;
Message-ID: <20051026183745.32695.qmail@web31102.mail.mud.yahoo.com>
Received: from [69.201.142.21] by web31102.mail.mud.yahoo.com via HTTP; Wed, 26 Oct 2005 11:37:45 PDT
Date: Wed, 26 Oct 2005 11:37:45 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Help with Search Java Code set up
To: java-user@lucene.apache.org
In-Reply-To: <6C1FF371E2319F45BABA49F9BA1BD03921F82B@mail.lou.emergint.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Are you simply looking to use multiple terms in your search?  In that
case, simply use BooleanQuery instead of TermQuery.  QueryParser will
recognize strings like    foo AND bar    or    +foo +bar    and turn
that into a BooleanQuery for you.

Otis

--- "Kevin L. Cobb" <kevin.cobb@emergint.com> wrote:

> I've been using Lucene happily for a couple of years now. But, this
> new
> search functionality I'm trying to add is somewhat different that
> what
> I'm used to doing. Would help if the smart folks on this list would
> drive me in the right direction.
>  
> I have several "searchable" fields and one keyword field in my index.
> I
> usually work with EITHER the keyword or the searchable (non-keyword)
> fields at a time, but this time I want to deal with them together. I
> need to be able to do a term search in the "searchable" fields but at
> the same time apply another term to the keyword field.
>  
> At this point, I'm thinking that I'll need to do two distinct
> searches,
> one using the search term in what I'm calling my searchable fields,
> and
> the other using the other term in the keyword field. Then join the
> two
> HIT lists together.
>  
> Looking for some advice. 
>  
> Thanks,
>  
> Kevin
>  
> 
>  
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17139-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 18:39:31 2005
Return-Path: <java-user-return-17139-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79938 invoked from network); 26 Oct 2005 18:39:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 18:39:31 -0000
Received: (qmail 96512 invoked by uid 500); 26 Oct 2005 18:39:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96364 invoked by uid 500); 26 Oct 2005 18:39:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96353 invoked by uid 99); 26 Oct 2005 18:39:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 11:39:25 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.200.38] (HELO web31105.mail.mud.yahoo.com) (68.142.200.38)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 26 Oct 2005 11:39:20 -0700
Received: (qmail 59939 invoked by uid 60001); 26 Oct 2005 18:39:00 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=O+zs2inSygS1CDf91PW3sRH7vGxcaeRSDv3CpqOvroFxdOs25zRwW7EDo+pwVuTicgBJNvf3K6Ao9bYOlITwPkrss0wfjgNm+ryvX7UWNXjeRp5ougu/71RjPQ269uDzHmY0AN1SvGhp0mtfpHjqpy1RjrxV02J72/glXMo78ao=  ;
Message-ID: <20051026183900.59937.qmail@web31105.mail.mud.yahoo.com>
Received: from [69.201.142.21] by web31105.mail.mud.yahoo.com via HTTP; Wed, 26 Oct 2005 11:39:00 PDT
Date: Wed, 26 Oct 2005 11:39:00 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: Help with Search Java Code set up
To: java-user@lucene.apache.org
In-Reply-To: <6C1FF371E2319F45BABA49F9BA1BD03921F82E@mail.lou.emergint.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Answer to 4: yes, you can.  QueryParser will give you a Query instance.
 You can use that to make your own BooleanQuery.

Otis

--- "Kevin L. Cobb" <kevin.cobb@emergint.com> wrote:

> It well could be that I'm lacking in setting up my queries. Here's
> the
> gist of what I'm trying to do, it a little pseudocode. 
> 
> 1. inputs: 1) termToSearch 2) keywordField
> 2. Use MultiFieldQueryParser to build the query for the termToSearch
> in
> the searchable fields
> 3. Use QueryParser to build the query for the keywordField (only one
> field to search)
> 4. Can I combine these separate queries together into one? 
> 
> -Kevin
> 
> 
> 
>  
> 
> -----Original Message-----
> From: Jeff Rodenburg [mailto:jeff.rodenburg@gmail.com] 
> Sent: Wednesday, October 26, 2005 1:04 PM
> To: java-user@lucene.apache.org
> Subject: Re: Help with Search Java Code set up
> 
> Kevin -
> 
> Maybe I'm misunderstanding, but how is this not a BooleanQuery with
> two
> clauses?
> 
> - j
> 
> On 10/26/05, Kevin L. Cobb <kevin.cobb@emergint.com> wrote:
> >
> > I've been using Lucene happily for a couple of years now. But, this
> 
> > new search functionality I'm trying to add is somewhat different
> that 
> > what I'm used to doing. Would help if the smart folks on this list 
> > would drive me in the right direction.
> >
> > I have several "searchable" fields and one keyword field in my
> index. 
> > I usually work with EITHER the keyword or the searchable
> (non-keyword)
> 
> > fields at a time, but this time I want to deal with them together.
> I 
> > need to be able to do a term search in the "searchable" fields but
> at 
> > the same time apply another term to the keyword field.
> >
> > At this point, I'm thinking that I'll need to do two distinct 
> > searches, one using the search term in what I'm calling my
> searchable 
> > fields, and the other using the other term in the keyword field.
> Then 
> > join the two HIT lists together.
> >
> > Looking for some advice.
> >
> > Thanks,
> >
> > Kevin
> >
> >
> >
> >
> >
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17140-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 19:13:54 2005
Return-Path: <java-user-return-17140-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97516 invoked from network); 26 Oct 2005 19:13:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 19:13:53 -0000
Received: (qmail 66450 invoked by uid 500); 26 Oct 2005 19:13:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66342 invoked by uid 500); 26 Oct 2005 19:13:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66308 invoked by uid 99); 26 Oct 2005 19:13:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 12:13:28 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [141.99.1.40] (HELO MAILF0.uni-siegen.de) (141.99.1.40)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 12:13:22 -0700
Received: from mailf1.uni-siegen.de ([141.99.11.41]) by MAILF0.uni-siegen.de with Microsoft SMTPSVC(6.0.3790.1830);
	 Wed, 26 Oct 2005 21:12:40 +0200
Received: from patricio ([141.99.26.131]) by mailf1.uni-siegen.de with Microsoft SMTPSVC(6.0.3790.1830);
	 Wed, 26 Oct 2005 21:12:40 +0200
From: "Patricio Galeas" <galeas@informatik.uni-siegen.de>
To: <java-user@lucene.apache.org>
Subject: Java heap space ...after index process
Date: Wed, 26 Oct 2005 21:12:30 +0200
Message-ID: <004801c5da61$366a0d90$831a638d@patricio>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
In-Reply-To: <20051026183900.59937.qmail@web31105.mail.mud.yahoo.com>
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcXaXKPOlSW0BCFzRJ6KdIskOm18qgAA1sjQ
X-OriginalArrivalTime: 26 Oct 2005 19:12:40.0248 (UTC) FILETIME=[3BF45B80:01C5DA61]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello All,
I try to index some PDF documents using PDFBox.
It works apparent normally, but when the index process ends, I get the
following message:
Exception in thread "main" java.lang.OutOfMemoryError: Java heap space 

Do you have some idea?
Thanks
Patricio



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17141-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 19:17:19 2005
Return-Path: <java-user-return-17141-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99293 invoked from network); 26 Oct 2005 19:17:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 19:17:19 -0000
Received: (qmail 74793 invoked by uid 500); 26 Oct 2005 19:17:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74559 invoked by uid 500); 26 Oct 2005 19:17:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74547 invoked by uid 99); 26 Oct 2005 19:17:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 12:17:13 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of ben@csh.rit.edu designates 129.21.60.6 as permitted sender)
Received: from [129.21.60.6] (HELO blacksheep.csh.rit.edu) (129.21.60.6)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 12:17:09 -0700
Received: from [18.103.14.38] (cp176-86c.broad.mit.edu [18.103.14.38])
	by blacksheep.csh.rit.edu (Postfix) with ESMTP id 4256526B4
	for <java-user@lucene.apache.org>; Wed, 26 Oct 2005 15:16:50 -0400 (EDT)
Message-ID: <435FD625.1060006@csh.rit.edu>
Date: Wed, 26 Oct 2005 15:16:53 -0400
From: Ben Litchfield <ben@csh.rit.edu>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Java heap space ...after index process
References: <004801c5da61$366a0d90$831a638d@patricio>
In-Reply-To: <004801c5da61$366a0d90$831a638d@patricio>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Is this only after the entire indexing process is finished or do you 
mean it happens on one of the documents you are extracting text from?

Are you closing the PDDocument objects when you are done with them?

What heap size are you using and have you tried increasing it?

What version of PDFBox?

Ben

Patricio Galeas wrote:

>Hello All,
>I try to index some PDF documents using PDFBox.
>It works apparent normally, but when the index process ends, I get the
>following message:
>Exception in thread "main" java.lang.OutOfMemoryError: Java heap space 
>
>Do you have some idea?
>Thanks
>Patricio
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17142-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 19:35:26 2005
Return-Path: <java-user-return-17142-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15822 invoked from network); 26 Oct 2005 19:35:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 19:35:25 -0000
Received: (qmail 93973 invoked by uid 500); 26 Oct 2005 19:35:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93944 invoked by uid 500); 26 Oct 2005 19:35:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93933 invoked by uid 99); 26 Oct 2005 19:35:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 12:35:19 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.84.239] (HELO web36309.mail.mud.yahoo.com) (209.191.84.239)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 26 Oct 2005 12:35:13 -0700
Received: (qmail 84819 invoked by uid 60001); 26 Oct 2005 19:34:53 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=ldxp7Ns41dM1HkgHGzmaOWcwVjHCKuNHwd4Mgz1s5qua0ZZ4PBYqBk2glOCWCDbt7eMAkxgc8bcC+IejfpWBg6LLD4pFk18SxkQ07gYixJ4z9Z7M8IBWyAN3KvR7NeDGvPePs76P2G+YICB4ic3hfHUwlWu1llP9xsY0eWlaWIc=  ;
Message-ID: <20051026193453.84817.qmail@web36309.mail.mud.yahoo.com>
Received: from [63.203.72.39] by web36309.mail.mud.yahoo.com via HTTP; Wed, 26 Oct 2005 12:34:53 PDT
Date: Wed, 26 Oct 2005 12:34:53 -0700 (PDT)
From: Sam Lee <victor_emailbox@yahoo.com>
Subject: Would Someone Give Me Pointer On How to Index Database?
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
  I want to use Lucene/Nutch to index my mysql
database.  I think of using JDBC, is it a good idea? 
I searched all over the web, but all the examples are
non-lucene/Nutch related.  Would you guys give me
pointers or websites or examples on how to use JDBC on
Lucene/Nutch to index mysql database?  

Many thanks.


		
__________________________________ 
Start your day with Yahoo! - Make it your home page! 
http://www.yahoo.com/r/hs

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17143-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 19:36:55 2005
Return-Path: <java-user-return-17143-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16636 invoked from network); 26 Oct 2005 19:36:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 19:36:53 -0000
Received: (qmail 96943 invoked by uid 500); 26 Oct 2005 19:36:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96922 invoked by uid 500); 26 Oct 2005 19:36:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96906 invoked by uid 99); 26 Oct 2005 19:36:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 12:36:47 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [64.32.221.50] (HELO mail.lou.emergint.com) (64.32.221.50)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 12:36:42 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Help with Search Java Code set up
Date: Wed, 26 Oct 2005 15:36:28 -0400
Message-ID: <6C1FF371E2319F45BABA49F9BA1BD03921F847@mail.lou.emergint.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Help with Search Java Code set up
Thread-Index: AcXaXG/ATB1eayb9Roa0u2+sBcZ2LgABoLug
From: "Kevin L. Cobb" <kevin.cobb@emergint.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Yeah. The last post got me to reading more about BooleanQuery and this
opend up the flood gates.=20

A question on the heels of this one though. I have documents indexed in
multiple fields. Lets say Name, Synonym, and Definition. Lets say the
search phrase is "big green cat". What I'm building using the
BooleanQuery object is:

	+((Name:big Name:green Name:cat) (Synonym:big Synonym:green
Synonym:cat))
	(Definition:big Definition:green Definition:cat))=20

I'm getting too many 100% hits back when the search term is say "cat". I
want a Query that is more descerning, so that the term "cat" returns a
hit but less than 100%. The term "big green cat" should return 100%, the
term "big green" or "green big" should return something less than 100%
and then term "big" or "green" or "cat" something less that the previous
one. Hope this makes since.=20

-Thanks,=20

Kevin


=20

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]=20
Sent: Wednesday, October 26, 2005 2:38 PM
To: java-user@lucene.apache.org
Subject: Re: Help with Search Java Code set up

Are you simply looking to use multiple terms in your search?  In that
case, simply use BooleanQuery instead of TermQuery.  QueryParser will
recognize strings like    foo AND bar    or    +foo +bar    and turn
that into a BooleanQuery for you.

Otis

--- "Kevin L. Cobb" <kevin.cobb@emergint.com> wrote:

> I've been using Lucene happily for a couple of years now. But, this=20
> new search functionality I'm trying to add is somewhat different that=20
> what I'm used to doing. Would help if the smart folks on this list=20
> would drive me in the right direction.
> =20
> I have several "searchable" fields and one keyword field in my index.
> I
> usually work with EITHER the keyword or the searchable (non-keyword)=20
> fields at a time, but this time I want to deal with them together. I=20
> need to be able to do a term search in the "searchable" fields but at=20
> the same time apply another term to the keyword field.
> =20
> At this point, I'm thinking that I'll need to do two distinct=20
> searches, one using the search term in what I'm calling my searchable=20
> fields, and the other using the other term in the keyword field. Then=20
> join the two HIT lists together.
> =20
> Looking for some advice.=20
> =20
> Thanks,
> =20
> Kevin
> =20
>=20
> =20
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17144-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 19:40:32 2005
Return-Path: <java-user-return-17144-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18014 invoked from network); 26 Oct 2005 19:40:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 19:40:31 -0000
Received: (qmail 99947 invoked by uid 500); 26 Oct 2005 19:40:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99928 invoked by uid 500); 26 Oct 2005 19:40:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99917 invoked by uid 99); 26 Oct 2005 19:40:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 12:40:24 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [141.99.1.42] (HELO mailf2.uni-siegen.de) (141.99.1.42)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 12:40:19 -0700
Received: from mailf1.uni-siegen.de ([141.99.11.41]) by mailf2.uni-siegen.de with Microsoft SMTPSVC(6.0.3790.1830);
	 Wed, 26 Oct 2005 21:39:37 +0200
Received: from patricio ([141.99.26.131]) by mailf1.uni-siegen.de with Microsoft SMTPSVC(6.0.3790.1830);
	 Wed, 26 Oct 2005 21:39:37 +0200
From: "Patricio Galeas" <galeas@informatik.uni-siegen.de>
To: <java-user@lucene.apache.org>
Subject: AW: Java heap space ...after index process
Date: Wed, 26 Oct 2005 21:39:28 +0200
Message-ID: <004901c5da64$fa932820$831a638d@patricio>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Office Outlook 11
In-Reply-To: <435FD625.1060006@csh.rit.edu>
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcXaYgLitQ9Hg5qETt2p6R2HwooL2QAADdpw
X-OriginalArrivalTime: 26 Oct 2005 19:39:37.0925 (UTC) FILETIME=[002A4750:01C5DA65]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello Ben,
It happens when one of the documents [4.95 MB] is indexed.
I use the framework to index office documents from the book "Lucene In
Action". I think the PDDocument objects are closed correctly.

I'll look for more information about increasing the heap size.

PDFBox version =3D 0.7.2

Thank You for your help
Patricio





-----Urspr=FCngliche Nachricht-----
Von: Ben Litchfield [mailto:ben@csh.rit.edu]=20
Gesendet: Mittwoch, 26. Oktober 2005 21:17
An: java-user@lucene.apache.org
Betreff: Re: Java heap space ...after index process

Is this only after the entire indexing process is finished or do you=20
mean it happens on one of the documents you are extracting text from?

Are you closing the PDDocument objects when you are done with them?

What heap size are you using and have you tried increasing it?

What version of PDFBox?

Ben

Patricio Galeas wrote:

>Hello All,
>I try to index some PDF documents using PDFBox.
>It works apparent normally, but when the index process ends, I get the
>following message:
>Exception in thread "main" java.lang.OutOfMemoryError: Java heap space=20
>
>Do you have some idea?
>Thanks
>Patricio
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
> =20
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17145-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 22:07:11 2005
Return-Path: <java-user-return-17145-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91078 invoked from network); 26 Oct 2005 22:07:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 22:07:11 -0000
Received: (qmail 75894 invoked by uid 500); 26 Oct 2005 22:07:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75860 invoked by uid 500); 26 Oct 2005 22:07:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75849 invoked by uid 99); 26 Oct 2005 22:07:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 15:07:05 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [193.170.67.94] (HELO mailgate2.eduhi.at) (193.170.67.94)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 15:07:02 -0700
Received: from localhost (localhost [127.0.0.1])
	by mailgate2.eduhi.at (Postfix) with ESMTP id DAF148FAA4
	for <java-user@lucene.apache.org>; Thu, 27 Oct 2005 00:06:39 +0200 (CEST)
Received: from mail.eduhi.at (mail.asn-linz.ac.at [172.27.2.5])
	by mailgate2.eduhi.at (Postfix) with ESMTP id BF3658FA68
	for <java-user@lucene.apache.org>; Thu, 27 Oct 2005 00:06:39 +0200 (CEST)
Received: from [192.168.0.117] ([10.221.9.113]) by mail.eduhi.at with Microsoft SMTPSVC(5.0.2172.1);
	 Thu, 27 Oct 2005 00:06:39 +0200
Message-ID: <435FFDEE.6090800@eduhi.at>
Date: Thu, 27 Oct 2005 00:06:38 +0200
From: Gusenbauer Stefan <gusenbauer@eduhi.at>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: AW: Java heap space ...after index process
References: <004901c5da64$fa932820$831a638d@patricio>
In-Reply-To: <004901c5da64$fa932820$831a638d@patricio>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
X-OriginalArrivalTime: 26 Oct 2005 22:06:39.0638 (UTC) FILETIME=[8A50DB60:01C5DA79]
X-Spam-Checker-Version: SpamAssassin 3.0.2 (2004-11-16) on mailgate2.eduhi.at
X-Spam-Level: ****
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=4.6 required=5.8 tests=EH_b_cialis,EH_b_llwords,
	EH_b_lwords,EH_b_medication,EH_f_whitelist5,EH_u_domain,
	EH_u_spam_lllow,UNWANTED_LANGUAGE_BODY autolearn=no version=3.0.2
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Patricio Galeas wrote:

>Hello Ben,
>It happens when one of the documents [4.95 MB] is indexed.
>I use the framework to index office documents from the book "Lucene In
>Action". I think the PDDocument objects are closed correctly.
>
>I'll look for more information about increasing the heap size.
>
>PDFBox version = 0.7.2
>
>Thank You for your help
>Patricio
>
>
>
>
>
>-----Ursprüngliche Nachricht-----
>Von: Ben Litchfield [mailto:ben@csh.rit.edu] 
>Gesendet: Mittwoch, 26. Oktober 2005 21:17
>An: java-user@lucene.apache.org
>Betreff: Re: Java heap space ...after index process
>
>Is this only after the entire indexing process is finished or do you 
>mean it happens on one of the documents you are extracting text from?
>
>Are you closing the PDDocument objects when you are done with them?
>
>What heap size are you using and have you tried increasing it?
>
>What version of PDFBox?
>
>Ben
>
>Patricio Galeas wrote:
>
>  
>
>>Hello All,
>>I try to index some PDF documents using PDFBox.
>>It works apparent normally, but when the index process ends, I get the
>>following message:
>>Exception in thread "main" java.lang.OutOfMemoryError: Java heap space 
>>
>>Do you have some idea?
>>Thanks
>>Patricio
>>
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>For additional commands, e-mail: java-user-help@lucene.apache.org
>> 
>>
>>    
>>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>  
>
I've had such a problem to here are some possible solutions
1) implement a memory warning system
http://www.javaspecialists.co.za/archive/Issue092.html
2) resize the heap space with java -Xmx512M (for example)


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17146-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 22:15:51 2005
Return-Path: <java-user-return-17146-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94659 invoked from network); 26 Oct 2005 22:15:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 22:15:51 -0000
Received: (qmail 84177 invoked by uid 500); 26 Oct 2005 22:15:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84142 invoked by uid 500); 26 Oct 2005 22:15:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84131 invoked by uid 99); 26 Oct 2005 22:15:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 15:15:45 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [193.170.67.95] (HELO mailgate3.eduhi.at) (193.170.67.95)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 15:15:41 -0700
Received: from localhost (localhost [127.0.0.1])
	by mailgate3.eduhi.at (Postfix) with ESMTP id 57D912B39C
	for <java-user@lucene.apache.org>; Thu, 27 Oct 2005 00:15:21 +0200 (CEST)
Received: from mail.eduhi.at (mail.asn-linz.ac.at [172.27.2.5])
	by mailgate3.eduhi.at (Postfix) with ESMTP id 3EF982B385
	for <java-user@lucene.apache.org>; Thu, 27 Oct 2005 00:15:21 +0200 (CEST)
Received: from [192.168.0.117] ([10.221.9.113]) by mail.eduhi.at with Microsoft SMTPSVC(5.0.2172.1);
	 Thu, 27 Oct 2005 00:15:20 +0200
Message-ID: <435FFFF8.2040209@eduhi.at>
Date: Thu, 27 Oct 2005 00:15:20 +0200
From: Gusenbauer Stefan <gusenbauer@eduhi.at>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Document number
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 26 Oct 2005 22:15:20.0961 (UTC) FILETIME=[C10C6F10:01C5DA7A]
X-Spam-Checker-Version: SpamAssassin 2.64 (2004-01-11) on mailgate3.eduhi.at
X-Spam-Level: **
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, hits=2.2 required=5.8 tests=EH_b_lwords,EH_f_whitelist5,
	UNWANTED_LANGUAGE_BODY autolearn=no version=2.64
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I've searching trough the archives but is there a way to get the
document number for a specific document? I would need it for the Method
getTermFreqVector of IndexReader? For deleting I've saved a unique ID
Field to delete the documents but how I get the document number?
thanks
Stefan


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17147-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 22:19:14 2005
Return-Path: <java-user-return-17147-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95815 invoked from network); 26 Oct 2005 22:19:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 22:19:13 -0000
Received: (qmail 88105 invoked by uid 500); 26 Oct 2005 22:19:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88077 invoked by uid 500); 26 Oct 2005 22:19:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88066 invoked by uid 99); 26 Oct 2005 22:19:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 15:19:09 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [193.170.67.95] (HELO mailgate3.eduhi.at) (193.170.67.95)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 15:19:06 -0700
Received: from localhost (localhost [127.0.0.1])
	by mailgate3.eduhi.at (Postfix) with ESMTP id BCD232B3CF
	for <java-user@lucene.apache.org>; Thu, 27 Oct 2005 00:18:45 +0200 (CEST)
Received: from mail.eduhi.at (mail.asn-linz.ac.at [172.27.2.5])
	by mailgate3.eduhi.at (Postfix) with ESMTP id 946612B3BE
	for <java-user@lucene.apache.org>; Thu, 27 Oct 2005 00:18:45 +0200 (CEST)
Received: from [192.168.0.117] ([10.221.9.113]) by mail.eduhi.at with Microsoft SMTPSVC(5.0.2172.1);
	 Thu, 27 Oct 2005 00:18:45 +0200
Message-ID: <436000C4.1060104@eduhi.at>
Date: Thu, 27 Oct 2005 00:18:44 +0200
From: Gusenbauer Stefan <gusenbauer@eduhi.at>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Document number
References: <435FFFF8.2040209@eduhi.at>
In-Reply-To: <435FFFF8.2040209@eduhi.at>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 26 Oct 2005 22:18:45.0289 (UTC) FILETIME=[3AD66990:01C5DA7B]
X-Spam-Checker-Version: SpamAssassin 2.64 (2004-01-11) on mailgate3.eduhi.at
X-Spam-Level: **
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, hits=2.5 required=5.8 tests=EH_b_lwords,EH_f_whitelist5,
	EH_u_spam_lllow,UNWANTED_LANGUAGE_BODY autolearn=no version=2.64
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Gusenbauer Stefan wrote:

>I've searching trough the archives but is there a way to get the
>document number for a specific document? I would need it for the Method
>getTermFreqVector of IndexReader? For deleting I've saved a unique ID
>Field to delete the documents but how I get the document number?
>thanks
>Stefan
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>  
>
Sorry for the first Email but am I right if I have to do a search for
the document and then call the hits.id() method for the number of the
document?


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17148-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 23:02:11 2005
Return-Path: <java-user-return-17148-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11692 invoked from network); 26 Oct 2005 23:02:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 23:02:10 -0000
Received: (qmail 31980 invoked by uid 500); 26 Oct 2005 23:01:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31888 invoked by uid 500); 26 Oct 2005 23:01:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31844 invoked by uid 99); 26 Oct 2005 23:01:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 16:01:40 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.84.242] (HELO web36312.mail.mud.yahoo.com) (209.191.84.242)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 26 Oct 2005 16:01:36 -0700
Received: (qmail 99339 invoked by uid 60001); 26 Oct 2005 23:01:17 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=3N22xvspWHYqlqWGLDwnJ+aB//BW/coBZxNRPkGWwEjgKWmxSOJJaiWvSfOyOuUDuQ2M+yJWumQwANUEoJmOjrfxDhjP89B4k1gBjBb8XR0oxNqS07aX0CcyLXjGF0upsuaF6dJ5MA6YxaE0rKGmKwuiXQEDfkrk8+L0e2bWZLk=  ;
Message-ID: <20051026230117.99337.qmail@web36312.mail.mud.yahoo.com>
Received: from [63.203.72.39] by web36312.mail.mud.yahoo.com via HTTP; Wed, 26 Oct 2005 16:01:17 PDT
Date: Wed, 26 Oct 2005 16:01:17 -0700 (PDT)
From: Sam Lee <victor_emailbox@yahoo.com>
Subject: Review of Using Compass With Lucene to Index Database?
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi, 
 I just found a open source project called Compass
that works with Lucene to index database like mysql. 
Has anyone used it?  If so, please let us know what
you think about Compass.

Many thanks.

__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17149-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 23:12:15 2005
Return-Path: <java-user-return-17149-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15232 invoked from network); 26 Oct 2005 23:12:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 23:12:15 -0000
Received: (qmail 48555 invoked by uid 500); 26 Oct 2005 23:12:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48249 invoked by uid 500); 26 Oct 2005 23:12:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47999 invoked by uid 99); 26 Oct 2005 23:12:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 16:12:07 -0700
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=MIME_BASE64_TEXT
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [220.117.45.144] (HELO mail.nannet.co.kr) (220.117.45.144)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 16:12:05 -0700
Received: from win98 ([221.146.159.218])
	by mail.nannet.co.kr (8.13.1/8.13.1) with SMTP id j9QNBcfG029976;
	Thu, 27 Oct 2005 08:11:39 +0900
Message-ID: <008701c5da83$8f2ba3e0$0201a8c0@local>
Reply-To: "Youngho Cho" <youngho@nannet.co.kr>
From: "Youngho Cho" <youngho@nannet.co.kr>
To: <java-user@lucene.apache.org>, "Cheolgoo Kang" <appler@gmail.com>
References: <8837fb770510031646r208a1e0ay5d122893c128cf8@mail.gmail.com> <48b708490510031811q27980b2cj44b7e1565193d8d1@mail.gmail.com>
Subject: Re: korean and lucene
Date: Thu, 27 Oct 2005 08:18:21 +0900
Organization: Nannet
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

SGVsbG8gQ2hlb2xnb28sDQoNCk5vdyBJIHVwZGF0ZWQgbXkgbHVjZW5lIHZlcnNpb24gdG8gMS45
IGZvciB1c2luZyBTdGFuZGFyZEFuYWx5emVyIGZvciBLb3JlYW4uDQpBbmQgdGVzdGVkIHlvdXIg
cGF0Y2ggd2hpY2ggaXMgYWxyZWFkeSBhZG9wdGVkIGluIDEuOQ0KDQpodHRwOi8vaXNzdWVzLmFw
YWNoZS5vcmcvamlyYS9icm93c2UvTFVDRU5FLTQ0NA0KDQpCdXQgU3RpbGwgSSBoYXZlIG5vIGdv
b2QgIHJlc3VsdHMgd2l0aCBLb3JlYW4gY29tcGFyZSB3aXRoIENKS0FuYWx5emVyLg0KDQpTaW5n
bGUgY2hhcmFjdGVyIGlzIGdvb2QgbWF0Y2ggYnV0IG1vcmUgdHdvIGNoYXJhY3RlciB3b3JkIGRv
ZXNuJ3QgbWF0Y2ggYXQgYWxsLg0KDQpBbSBJIHNvbWV0aGluZyBtaXNzaW5nIG9yIHN0aWxsIHRo
ZXJlIG5lZWQgc29tZSBtb3JlIHdvcmtzID8NCg0KDQpUaGFua3MsDQoNCllvdW5naG8uDQogDQoN
Ci0tLS0tIE9yaWdpbmFsIE1lc3NhZ2UgLS0tLS0gDQpGcm9tOiAiQ2hlb2xnb28gS2FuZyIgPGFw
cGxlckBnbWFpbC5jb20+DQpUbzogPGphdmEtdXNlckBsdWNlbmUuYXBhY2hlLm9yZz47ICJKb2hu
IFdhbmciIDxqb2huLndhbmdAZ21haWwuY29tPg0KU2VudDogVHVlc2RheSwgT2N0b2JlciAwNCwg
MjAwNSAxMDoxMSBBTQ0KU3ViamVjdDogUmU6IGtvcmVhbiBhbmQgbHVjZW5lDQoNCg0KPiBTdGFu
ZGFyZEFuYWx5emVyJ3MgSmF2YUNDIGJhc2VkIFN0YW5kYXJkVG9rZW5pemVyLmpqIGNhbm5vdCBy
ZWFkDQo+IEtvcmVhbiBwYXJ0IG9mIFVuaWNvZGUgY2hhcmFjdGVyIGJsb2Nrcy4NCj4gDQo+IFlv
dSBzaG91bGQgMSkgdXNlIENKS0FuYWx5emVyIG9yIDIpIGFkZCBLb3JlYW4gY2hhcmFjdGVyDQo+
IGJsb2NrKDB4QUMwMH4weEQ3QUYpIHRvIHRoZSBDSksgdG9rZW4gZGVmaW5pdGlvbiBvbiB0aGUN
Cj4gU3RhbmRhcmRUb2tlbml6ZXIuamogZmlsZS4NCj4gDQo+IEhvcGUgaXQgaGVscHMuDQo+IA0K
PiANCj4gT24gMTAvNC8wNSwgSm9obiBXYW5nIDxqb2huLndhbmdAZ21haWwuY29tPiB3cm90ZToN
Cj4gPiBIaToNCj4gPg0KPiA+IFdlIGFyZSBydW5uaW5nIGludG8gcHJvYmxlbXMgd2l0aCBzZWFy
Y2hpbmcgb24ga29yZWFuIGRvY3VtZW50cy4gV2UgYXJlDQo+ID4gdXNpbmcgdGhlIFN0YW5kYXJk
QW5hbHl6ZXIgYW5kIGV2ZXJ5dGhpbmcgd29ya3Mgd2l0aCBDaGluZXNlIGFuZCBKYXBhbmVzZS4N
Cj4gPiBBcmUgdGhlcmUga25vd24gcHJvYmxlbXMgd2l0aCBLb3JlYW4gd2l0aCBMdWNlbmU/DQo+
ID4NCj4gPiBUaGFua3MNCj4gPg0KPiA+IC1Kb2huDQo+ID4NCj4gPg0KPiANCj4gDQo+IC0tDQo+
IENoZW9sZ29vDQo+IA0KPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCj4gVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDog
amF2YS11c2VyLXVuc3Vic2NyaWJlQGx1Y2VuZS5hcGFjaGUub3JnDQo+IEZvciBhZGRpdGlvbmFs
IGNvbW1hbmRzLCBlLW1haWw6IGphdmEtdXNlci1oZWxwQGx1Y2VuZS5hcGFjaGUub3Jn




From java-user-return-17150-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 26 23:59:43 2005
Return-Path: <java-user-return-17150-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28888 invoked from network); 26 Oct 2005 23:59:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Oct 2005 23:59:43 -0000
Received: (qmail 87750 invoked by uid 500); 26 Oct 2005 23:59:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87728 invoked by uid 500); 26 Oct 2005 23:59:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87717 invoked by uid 99); 26 Oct 2005 23:59:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 16:59:37 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of chris.lu@gmail.com designates 66.249.82.202 as permitted sender)
Received: from [66.249.82.202] (HELO xproxy.gmail.com) (66.249.82.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 16:59:34 -0700
Received: by xproxy.gmail.com with SMTP id h28so149895wxd
        for <java-user@lucene.apache.org>; Wed, 26 Oct 2005 16:59:15 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=sr4Bp3+RqWjqQFdYBrV2y4u+3f4rqckSZW9o6hdfksr5ig5+0Djj2eINOQ1cBHU1NcH2Yo5xWIw728QpY9sc9WbooD+z9RkvtKyGjq4I2N+zaf6vyASGWL33/fX+zQZ0a3V6V1ExpgT782YCxILI92k+sAKxsHEgkZsWe/jSQHk=
Received: by 10.65.141.6 with SMTP id t6mr1129996qbn;
        Wed, 26 Oct 2005 16:59:15 -0700 (PDT)
Received: by 10.65.93.10 with HTTP; Wed, 26 Oct 2005 16:59:15 -0700 (PDT)
Message-ID: <6e3ae6310510261659y47a8f406v8ce92b370dbb78f5@mail.gmail.com>
Date: Wed, 26 Oct 2005 16:59:15 -0700
From: Chris Lu <chris.lu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Review of Using Compass With Lucene to Index Database?
In-Reply-To: <20051026230117.99337.qmail@web36312.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <20051026230117.99337.qmail@web36312.mail.mud.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

It's done by Shay Banon. He should be on the list also.
Lucene works by a hooker through Hibernate when CRUD operatates on MySql.

http://www.theserverside.com/tss?service=3Ddirect/0/NewsThread/threadViewer=
.markNoisy.link&sp=3Dl35679&sp=3Dl180646

Chris
--------------------------------
Lucene Search On Any Database
http://www.dbsight.net

On 10/26/05, Sam Lee <victor_emailbox@yahoo.com> wrote:
> Hi,
>  I just found a open source project called Compass
> that works with Lucene to index database like mysql.
> Has anyone used it?  If so, please let us know what
> you think about Compass.
>
> Many thanks.
>
> __________________________________________________
> Do You Yahoo!?
> Tired of spam?  Yahoo! Mail has the best spam protection around
> http://mail.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17151-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 27 00:11:27 2005
Return-Path: <java-user-return-17151-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34049 invoked from network); 27 Oct 2005 00:11:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Oct 2005 00:11:27 -0000
Received: (qmail 8101 invoked by uid 500); 27 Oct 2005 00:11:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8080 invoked by uid 500); 27 Oct 2005 00:11:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8069 invoked by uid 99); 27 Oct 2005 00:11:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 17:11:21 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.18.5] (HELO mailbox.syr.edu) (128.230.18.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 17:11:18 -0700
Received: from [128.230.84.109] (istcnlpd9hb3r31.syr.edu [128.230.84.109])
	by mailbox.syr.edu (8.12.10/8.12.10) with ESMTP id j9R0Atq0012879
	for <java-user@lucene.apache.org>; Wed, 26 Oct 2005 20:10:56 -0400 (EDT)
Message-ID: <43601B0F.4060805@syr.edu>
Date: Wed, 26 Oct 2005 20:10:55 -0400
From: Grant Ingersoll <gsingers@syr.edu>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Document number
References: <435FFFF8.2040209@eduhi.at> <436000C4.1060104@eduhi.at>
In-Reply-To: <436000C4.1060104@eduhi.at>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Yep.  hits.id() should do it.

Gusenbauer Stefan wrote:

>Gusenbauer Stefan wrote:
>
>  
>
>>I've searching trough the archives but is there a way to get the
>>document number for a specific document? I would need it for the Method
>>getTermFreqVector of IndexReader? For deleting I've saved a unique ID
>>Field to delete the documents but how I get the document number?
>>thanks
>>Stefan
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>
>> 
>>
>>    
>>
>Sorry for the first Email but am I right if I have to do a search for
>the document and then call the hits.id() method for the number of the
>document?
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17152-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 27 00:16:04 2005
Return-Path: <java-user-return-17152-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35272 invoked from network); 27 Oct 2005 00:16:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Oct 2005 00:16:04 -0000
Received: (qmail 10455 invoked by uid 500); 27 Oct 2005 00:15:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10425 invoked by uid 500); 27 Oct 2005 00:15:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10414 invoked by uid 99); 27 Oct 2005 00:15:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 17:15:59 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.84.243] (HELO web36313.mail.mud.yahoo.com) (209.191.84.243)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 26 Oct 2005 17:15:55 -0700
Received: (qmail 88100 invoked by uid 60001); 27 Oct 2005 00:15:36 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=3PwmuL3iHTQm56aiZnUZDD3zenJ4knbrGaAOZkSXZDnM1QVmrpfjfehE3WDXUVEIg4XzifNoXs/Q5d48Hl1/wtRtBTjCk9wriymN3pIWgX+ZcMyt5o13UdVFQDGUG+wUiauvl4GT1MK5vo519jpBqswC/7uCbWfET03VQTXEeig=  ;
Message-ID: <20051027001536.88098.qmail@web36313.mail.mud.yahoo.com>
Received: from [63.203.72.39] by web36313.mail.mud.yahoo.com via HTTP; Wed, 26 Oct 2005 17:15:36 PDT
Date: Wed, 26 Oct 2005 17:15:36 -0700 (PDT)
From: Sam Lee <victor_emailbox@yahoo.com>
Subject: Re: Review of Using Compass With Lucene to Index Database?
To: java-user@lucene.apache.org
In-Reply-To: <6e3ae6310510261659y47a8f406v8ce92b370dbb78f5@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Are Compass Framework and DBsight the only 2 options
for indexing DB so far?

--- Chris Lu <chris.lu@gmail.com> wrote:

> It's done by Shay Banon. He should be on the list
> also.
> Lucene works by a hooker through Hibernate when CRUD
> operatates on MySql.
> 
>
http://www.theserverside.com/tss?service=direct/0/NewsThread/threadViewer.markNoisy.link&sp=l35679&sp=l180646
> 
> Chris
> --------------------------------
> Lucene Search On Any Database
> http://www.dbsight.net
> 
> On 10/26/05, Sam Lee <victor_emailbox@yahoo.com>
> wrote:
> > Hi,
> >  I just found a open source project called Compass
> > that works with Lucene to index database like
> mysql.
> > Has anyone used it?  If so, please let us know
> what
> > you think about Compass.
> >
> > Many thanks.
> >
> > __________________________________________________
> > Do You Yahoo!?
> > Tired of spam?  Yahoo! Mail has the best spam
> protection around
> > http://mail.yahoo.com
> >
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail:
> java-user-help@lucene.apache.org
> >
> >
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 



	
		
__________________________________ 
Yahoo! Mail - PC Magazine Editors' Choice 2005 
http://mail.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17153-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 27 00:49:16 2005
Return-Path: <java-user-return-17153-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45560 invoked from network); 27 Oct 2005 00:49:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Oct 2005 00:49:16 -0000
Received: (qmail 26201 invoked by uid 500); 27 Oct 2005 00:49:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26017 invoked by uid 500); 27 Oct 2005 00:49:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25999 invoked by uid 99); 27 Oct 2005 00:49:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 17:49:10 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of koji.sekiguchi@m4.dion.ne.jp designates 203.181.105.71 as permitted sender)
Received: from [203.181.105.71] (HELO hfep05.dion.ne.jp) (203.181.105.71)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 17:49:06 -0700
Received: from sekiguchi ([59.135.102.240]) by hfep05.dion.ne.jp with SMTP
          id <20051027004845834.XDEI@hfep05.dion.ne.jp>;
          Thu, 27 Oct 2005 09:48:45 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>,
	"Youngho Cho" <youngho@nannet.co.kr>
Subject: RE: korean and lucene
Date: Thu, 27 Oct 2005 09:48:41 +0900
Message-ID: <PKEIKOCKCHNIIHNECPCCOEMLCAAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="UTF-8"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <008701c5da83$8f2ba3e0$0201a8c0@local>
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Youngho,

With regard to Japanese, using StandardAnalyzer,
I can search a word/phase.

Did you use QueryParser? StandardAnalyzer tokenizes
CJK characters into a stream of single character.
Use QueryParser to get a PhraseQuery and search the query.

Please see the following sample code. Replace Japanese
"contents" and (search target) "phrase" with Korean in the program and =
run.

regards,

Koji

=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
import java.io.IOException;
import org.apache.lucene.analysis.Analyzer;
import org.apache.lucene.analysis.standard.StandardAnalyzer;
import org.apache.lucene.analysis.cjk.CJKAnalyzer;
import org.apache.lucene.store.Directory;
import org.apache.lucene.store.RAMDirectory;
import org.apache.lucene.index.IndexWriter;
import org.apache.lucene.document.Document;
import org.apache.lucene.document.Field;
import org.apache.lucene.search.IndexSearcher;
import org.apache.lucene.search.Hits;
import org.apache.lucene.search.Query;
import org.apache.lucene.queryParser.QueryParser;
import org.apache.lucene.queryParser.ParseException;

public class JapaneseByStandardAnalyzer {

    private static final String FIELD_CONTENT =3D "content";
    private static final String[] contents =3D {
	=
"=E6=9D=B1=E4=BA=AC=E3=81=AB=E3=81=AF=E3=81=8A=E3=81=84=E3=81=97=E3=81=84=
=E3=83=A9=E3=83=BC=E3=83=A1=E3=83=B3=E5=B1=8B=E3=81=8C=E3=81=9F=E3=81=8F=E3=
=81=95=E3=82=93=E3=81=82=E3=82=8A=E3=81=BE=E3=81=99=E3=80=82",
	=
"=E5=8C=97=E6=B5=B7=E9=81=93=E3=81=AB=E3=82=82=E3=81=8A=E3=81=84=E3=81=97=
=E3=81=84=E3=83=A9=E3=83=BC=E3=83=A1=E3=83=B3=E5=B1=8B=E3=81=8C=E3=81=82=E3=
=82=8A=E3=81=BE=E3=81=99=E3=80=82"
    };
    private static final String phrase =3D =
"=E3=83=A9=E3=83=BC=E3=83=A1=E3=83=B3=E5=B1=8B";
    //private static final String phrase =3D "=E5=B1=8B";
    private static Analyzer analyzer =3D null;

    public static void main( String[] args ) throws IOException, =
ParseException {
	Directory directory =3D makeIndex();
	search( directory );
	directory.close();
    }

    private static Analyzer getAnalyzer(){
	if( analyzer =3D=3D null ){
	    analyzer =3D new StandardAnalyzer();
	    //analyzer =3D new CJKAnalyzer();
	}
	return analyzer;
    }

    private static Directory makeIndex() throws IOException {
	Directory directory =3D new RAMDirectory();
	IndexWriter writer =3D new IndexWriter( directory, getAnalyzer(), true =
);
	for( int i =3D 0; i < contents.length; i++ ){
	    Document doc =3D new Document();
	    doc.add( new Field( FIELD_CONTENT, contents[i], Field.Store.YES, =
Field.Index.TOKENIZED ) );
	    writer.addDocument( doc );
	}
	writer.close();
	return directory;
    }

    private static void search( Directory directory ) throws =
IOException, ParseException {
	IndexSearcher searcher =3D new IndexSearcher( directory );
	QueryParser parser =3D new QueryParser( FIELD_CONTENT, getAnalyzer() );
	Query query =3D parser.parse( phrase );
	System.out.println( "query =3D " + query );
	Hits hits =3D searcher.search( query );
	for( int i =3D 0; i < hits.length(); i++ )
	    System.out.println( "doc =3D " + hits.doc( i ).get( FIELD_CONTENT ) =
);
	searcher.close();
    }
}


> -----Original Message-----
> From: Youngho Cho [mailto:youngho@nannet.co.kr]
> Sent: Thursday, October 27, 2005 8:18 AM
> To: java-user@lucene.apache.org; Cheolgoo Kang
> Subject: Re: korean and lucene
>=20
>=20
> Hello Cheolgoo,
>=20
> Now I updated my lucene version to 1.9 for using StandardAnalyzer=20
> for Korean.
> And tested your patch which is already adopted in 1.9
>=20
> http://issues.apache.org/jira/browse/LUCENE-444
>=20
> But Still I have no good  results with Korean compare with =
CJKAnalyzer.
>=20
> Single character is good match but more two character word=20
> doesn't match at all.
>=20
> Am I something missing or still there need some more works ?
>=20
>=20
> Thanks,
>=20
> Youngho.
> =20
>=20
> ----- Original Message -----=20
> From: "Cheolgoo Kang" <appler@gmail.com>
> To: <java-user@lucene.apache.org>; "John Wang" <john.wang@gmail.com>
> Sent: Tuesday, October 04, 2005 10:11 AM
> Subject: Re: korean and lucene
>=20
>=20
> > StandardAnalyzer's JavaCC based StandardTokenizer.jj cannot read
> > Korean part of Unicode character blocks.
> >=20
> > You should 1) use CJKAnalyzer or 2) add Korean character
> > block(0xAC00~0xD7AF) to the CJK token definition on the
> > StandardTokenizer.jj file.
> >=20
> > Hope it helps.
> >=20
> >=20
> > On 10/4/05, John Wang <john.wang@gmail.com> wrote:
> > > Hi:
> > >
> > > We are running into problems with searching on korean=20
> documents. We are
> > > using the StandardAnalyzer and everything works with Chinese=20
> and Japanese.
> > > Are there known problems with Korean with Lucene?
> > >
> > > Thanks
> > >
> > > -John
> > >
> > >
> >=20
> >=20
> > --
> > Cheolgoo
> >=20
> > =
---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17154-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 27 01:46:07 2005
Return-Path: <java-user-return-17154-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69901 invoked from network); 27 Oct 2005 01:46:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Oct 2005 01:46:07 -0000
Received: (qmail 68762 invoked by uid 500); 27 Oct 2005 01:46:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68517 invoked by uid 500); 27 Oct 2005 01:46:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68505 invoked by uid 99); 27 Oct 2005 01:46:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 18:46:00 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 18:45:57 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 43EF113E2005; Wed, 26 Oct 2005 21:45:37 -0400 (EDT)
Received: from [172.16.1.101] (va-71-48-138-146.dhcp.sprint-hsd.net [71.48.138.146])
	by ehatchersolutions.com (Postfix) with ESMTP id 47CCE13E2005
	for <java-user@lucene.apache.org>; Wed, 26 Oct 2005 21:45:22 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <20051027001536.88098.qmail@web36313.mail.mud.yahoo.com>
References: <20051027001536.88098.qmail@web36313.mail.mud.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <2FAC4A68-C5F8-4EA0-AF1A-624BF0D68B72@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Review of Using Compass With Lucene to Index Database?
Date: Wed, 26 Oct 2005 21:45:03 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 26 Oct 2005, at 20:15, Sam Lee wrote:

> Are Compass Framework and DBsight the only 2 options
> for indexing DB so far?

Or probably 10 lines of JDBC and Lucene API code (just to index, of  
course).

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17155-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 27 02:31:17 2005
Return-Path: <java-user-return-17155-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83079 invoked from network); 27 Oct 2005 02:31:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Oct 2005 02:31:17 -0000
Received: (qmail 88530 invoked by uid 500); 27 Oct 2005 02:31:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88502 invoked by uid 500); 27 Oct 2005 02:31:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88487 invoked by uid 99); 27 Oct 2005 02:31:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 19:31:11 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [221.146.124.29] (HELO dev.nannet.co.kr) (221.146.124.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 19:31:07 -0700
Received: from win98 ([192.168.1.2])
	by dev.nannet.co.kr (8.12.8/8.12.8) with SMTP id j9R2UC9T028582
	for <java-user@lucene.apache.org>; Thu, 27 Oct 2005 11:30:13 +0900
Message-ID: <005301c5da9f$60e4f4c0$0201a8c0@local>
Reply-To: "Youngho Cho" <youngho@nannet.co.kr>
From: "Youngho Cho" <youngho@nannet.co.kr>
To: <java-user@lucene.apache.org>
References: <PKEIKOCKCHNIIHNECPCCOEMLCAAA.koji.sekiguchi@m4.dion.ne.jp>
Subject: Re: korean and lucene
Date: Thu, 27 Oct 2005 11:37:29 +0900
Organization: Nannet
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

SGVsbG8gS29qaSwNCg0KVGhhbmtzIGZvciB5b3VyIGtpbmQgcmVwbHkuDQoNClllcywgSSB1c2Vk
IFF1ZXJ5UGFyc2VyLiBub3JtYWx5IEkgdXNlZA0KUXVlcnkgPSBRdWVyeVBhcnNlci5wYXJzZSgg
KSBtZXRob2QuDQoNCkkgcHV0IHlvdXIgc2FtcGxlIGNvZGUgaW50byBsaWEuYW5hbHlzaXMuaTE4
biBwYWNrYWdlIGluIEx1Y2VuZUFjdGlvbg0KYW5kIHJ1biBKYXBhbmVzZURlbW8gdXNpbmcgMS40
IGFuZCAxLjkgDQoNCnJlc3VsdHMgYXJlIA0KDQogICAgIFtlY2hvXSBSdW5uaW5nIGxpYS5hbmFs
eXNpcy5pMThuLkphcGFuZXNlRGVtby4uLg0KICAgICBbamF2YV0gcXVlcnkgPSBjb250ZW50OuOD
qT/jg6Hjg7PlsYsNCg0KSSBjYW4ndCBnZXQgaGl0cyByZXN1bHQuDQoNCkZvciBLb3JlYW4NCiAg
ICAgW2VjaG9dIFJ1bm5pbmcgbGlhLmFuYWx5c2lzLmkxOG4uS29yZWFuRGVtby4uLg0KICAgICBb
amF2YV0gcGhyYXNlID0g6rK9DQogICAgIFtqYXZhXSBxdWVyeSA9IA0KDQpJIGNhbid0IGdldCBx
dWVyeSBwYXJzZSByZXN1bHQuDQoNClRoYW5rcywNCg0KWW91bmdobw0KDQoNCg0KLS0tLS0gT3Jp
Z2luYWwgTWVzc2FnZSAtLS0tLSANCkZyb206ICJLb2ppIFNla2lndWNoaSIgPGtvamkuc2VraWd1
Y2hpQG00LmRpb24ubmUuanA+DQpUbzogPGphdmEtdXNlckBsdWNlbmUuYXBhY2hlLm9yZz47ICJZ
b3VuZ2hvIENobyIgPHlvdW5naG9AbmFubmV0LmNvLmtyPg0KU2VudDogVGh1cnNkYXksIE9jdG9i
ZXIgMjcsIDIwMDUgOTo0OCBBTQ0KU3ViamVjdDogUkU6IGtvcmVhbiBhbmQgbHVjZW5lDQoNCg0K
PiBIaSBZb3VuZ2hvLA0KPiANCj4gV2l0aCByZWdhcmQgdG8gSmFwYW5lc2UsIHVzaW5nIFN0YW5k
YXJkQW5hbHl6ZXIsDQo+IEkgY2FuIHNlYXJjaCBhIHdvcmQvcGhhc2UuDQo+IA0KPiBEaWQgeW91
IHVzZSBRdWVyeVBhcnNlcj8gU3RhbmRhcmRBbmFseXplciB0b2tlbml6ZXMNCj4gQ0pLIGNoYXJh
Y3RlcnMgaW50byBhIHN0cmVhbSBvZiBzaW5nbGUgY2hhcmFjdGVyLg0KPiBVc2UgUXVlcnlQYXJz
ZXIgdG8gZ2V0IGEgUGhyYXNlUXVlcnkgYW5kIHNlYXJjaCB0aGUgcXVlcnkuDQo+IA0KPiBQbGVh
c2Ugc2VlIHRoZSBmb2xsb3dpbmcgc2FtcGxlIGNvZGUuIFJlcGxhY2UgSmFwYW5lc2UNCj4gImNv
bnRlbnRzIiBhbmQgKHNlYXJjaCB0YXJnZXQpICJwaHJhc2UiIHdpdGggS29yZWFuIGluIHRoZSBw
cm9ncmFtIGFuZCBydW4uDQo+IA0KPiByZWdhcmRzLA0KPiANCj4gS29qaQ0KPiANCj4gPT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQo+IGltcG9ydCBqYXZhLmlv
LklPRXhjZXB0aW9uOw0KPiBpbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuYW5hbHlzaXMuQW5hbHl6
ZXI7DQo+IGltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5hbmFseXNpcy5zdGFuZGFyZC5TdGFuZGFy
ZEFuYWx5emVyOw0KPiBpbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuYW5hbHlzaXMuY2prLkNKS0Fu
YWx5emVyOw0KPiBpbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuc3RvcmUuRGlyZWN0b3J5Ow0KPiBp
bXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuc3RvcmUuUkFNRGlyZWN0b3J5Ow0KPiBpbXBvcnQgb3Jn
LmFwYWNoZS5sdWNlbmUuaW5kZXguSW5kZXhXcml0ZXI7DQo+IGltcG9ydCBvcmcuYXBhY2hlLmx1
Y2VuZS5kb2N1bWVudC5Eb2N1bWVudDsNCj4gaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLmRvY3Vt
ZW50LkZpZWxkOw0KPiBpbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuc2VhcmNoLkluZGV4U2VhcmNo
ZXI7DQo+IGltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5zZWFyY2guSGl0czsNCj4gaW1wb3J0IG9y
Zy5hcGFjaGUubHVjZW5lLnNlYXJjaC5RdWVyeTsNCj4gaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5l
LnF1ZXJ5UGFyc2VyLlF1ZXJ5UGFyc2VyOw0KPiBpbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUucXVl
cnlQYXJzZXIuUGFyc2VFeGNlcHRpb247DQo+IA0KPiBwdWJsaWMgY2xhc3MgSmFwYW5lc2VCeVN0
YW5kYXJkQW5hbHl6ZXIgew0KPiANCj4gICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBG
SUVMRF9DT05URU5UID0gImNvbnRlbnQiOw0KPiAgICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3Ry
aW5nW10gY29udGVudHMgPSB7DQo+ICLmnbHkuqzjgavjga/jgYrjgYTjgZfjgYTjg6njg7zjg6Hj
g7PlsYvjgYzjgZ/jgY/jgZXjgpPjgYLjgorjgb7jgZnjgIIiLA0KPiAi5YyX5rW36YGT44Gr44KC
44GK44GE44GX44GE44Op44O844Oh44Oz5bGL44GM44GC44KK44G+44GZ44CCIg0KPiAgICAgfTsN
Cj4gICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBwaHJhc2UgPSAi44Op44O844Oh44Oz
5bGLIjsNCj4gICAgIC8vcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIHBocmFzZSA9ICLlsYsi
Ow0KPiAgICAgcHJpdmF0ZSBzdGF0aWMgQW5hbHl6ZXIgYW5hbHl6ZXIgPSBudWxsOw0KPiANCj4g
ICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKCBTdHJpbmdbXSBhcmdzICkgdGhyb3dzIElPRXhj
ZXB0aW9uLCBQYXJzZUV4Y2VwdGlvbiB7DQo+IERpcmVjdG9yeSBkaXJlY3RvcnkgPSBtYWtlSW5k
ZXgoKTsNCj4gc2VhcmNoKCBkaXJlY3RvcnkgKTsNCj4gZGlyZWN0b3J5LmNsb3NlKCk7DQo+ICAg
ICB9DQo+IA0KPiAgICAgcHJpdmF0ZSBzdGF0aWMgQW5hbHl6ZXIgZ2V0QW5hbHl6ZXIoKXsNCj4g
aWYoIGFuYWx5emVyID09IG51bGwgKXsNCj4gICAgIGFuYWx5emVyID0gbmV3IFN0YW5kYXJkQW5h
bHl6ZXIoKTsNCj4gICAgIC8vYW5hbHl6ZXIgPSBuZXcgQ0pLQW5hbHl6ZXIoKTsNCj4gfQ0KPiBy
ZXR1cm4gYW5hbHl6ZXI7DQo+ICAgICB9DQo+IA0KPiAgICAgcHJpdmF0ZSBzdGF0aWMgRGlyZWN0
b3J5IG1ha2VJbmRleCgpIHRocm93cyBJT0V4Y2VwdGlvbiB7DQo+IERpcmVjdG9yeSBkaXJlY3Rv
cnkgPSBuZXcgUkFNRGlyZWN0b3J5KCk7DQo+IEluZGV4V3JpdGVyIHdyaXRlciA9IG5ldyBJbmRl
eFdyaXRlciggZGlyZWN0b3J5LCBnZXRBbmFseXplcigpLCB0cnVlICk7DQo+IGZvciggaW50IGkg
PSAwOyBpIDwgY29udGVudHMubGVuZ3RoOyBpKysgKXsNCj4gICAgIERvY3VtZW50IGRvYyA9IG5l
dyBEb2N1bWVudCgpOw0KPiAgICAgZG9jLmFkZCggbmV3IEZpZWxkKCBGSUVMRF9DT05URU5ULCBj
b250ZW50c1tpXSwgRmllbGQuU3RvcmUuWUVTLCBGaWVsZC5JbmRleC5UT0tFTklaRUQgKSApOw0K
PiAgICAgd3JpdGVyLmFkZERvY3VtZW50KCBkb2MgKTsNCj4gfQ0KPiB3cml0ZXIuY2xvc2UoKTsN
Cj4gcmV0dXJuIGRpcmVjdG9yeTsNCj4gICAgIH0NCj4gDQo+ICAgICBwcml2YXRlIHN0YXRpYyB2
b2lkIHNlYXJjaCggRGlyZWN0b3J5IGRpcmVjdG9yeSApIHRocm93cyBJT0V4Y2VwdGlvbiwgUGFy
c2VFeGNlcHRpb24gew0KPiBJbmRleFNlYXJjaGVyIHNlYXJjaGVyID0gbmV3IEluZGV4U2VhcmNo
ZXIoIGRpcmVjdG9yeSApOw0KPiBRdWVyeVBhcnNlciBwYXJzZXIgPSBuZXcgUXVlcnlQYXJzZXIo
IEZJRUxEX0NPTlRFTlQsIGdldEFuYWx5emVyKCkgKTsNCj4gUXVlcnkgcXVlcnkgPSBwYXJzZXIu
cGFyc2UoIHBocmFzZSApOw0KPiBTeXN0ZW0ub3V0LnByaW50bG4oICJxdWVyeSA9ICIgKyBxdWVy
eSApOw0KPiBIaXRzIGhpdHMgPSBzZWFyY2hlci5zZWFyY2goIHF1ZXJ5ICk7DQo+IGZvciggaW50
IGkgPSAwOyBpIDwgaGl0cy5sZW5ndGgoKTsgaSsrICkNCj4gICAgIFN5c3RlbS5vdXQucHJpbnRs
biggImRvYyA9ICIgKyBoaXRzLmRvYyggaSApLmdldCggRklFTERfQ09OVEVOVCApICk7DQo+IHNl
YXJjaGVyLmNsb3NlKCk7DQo+ICAgICB9DQo+IH0NCj4gDQo+IA0KPiA+IC0tLS0tT3JpZ2luYWwg
TWVzc2FnZS0tLS0tDQo+ID4gRnJvbTogWW91bmdobyBDaG8gW21haWx0bzp5b3VuZ2hvQG5hbm5l
dC5jby5rcl0NCj4gPiBTZW50OiBUaHVyc2RheSwgT2N0b2JlciAyNywgMjAwNSA4OjE4IEFNDQo+
ID4gVG86IGphdmEtdXNlckBsdWNlbmUuYXBhY2hlLm9yZzsgQ2hlb2xnb28gS2FuZw0KPiA+IFN1
YmplY3Q6IFJlOiBrb3JlYW4gYW5kIGx1Y2VuZQ0KPiA+IA0KPiA+IA0KPiA+IEhlbGxvIENoZW9s
Z29vLA0KPiA+IA0KPiA+IE5vdyBJIHVwZGF0ZWQgbXkgbHVjZW5lIHZlcnNpb24gdG8gMS45IGZv
ciB1c2luZyBTdGFuZGFyZEFuYWx5emVyIA0KPiA+IGZvciBLb3JlYW4uDQo+ID4gQW5kIHRlc3Rl
ZCB5b3VyIHBhdGNoIHdoaWNoIGlzIGFscmVhZHkgYWRvcHRlZCBpbiAxLjkNCj4gPiANCj4gPiBo
dHRwOi8vaXNzdWVzLmFwYWNoZS5vcmcvamlyYS9icm93c2UvTFVDRU5FLTQ0NA0KPiA+IA0KPiA+
IEJ1dCBTdGlsbCBJIGhhdmUgbm8gZ29vZCAgcmVzdWx0cyB3aXRoIEtvcmVhbiBjb21wYXJlIHdp
dGggQ0pLQW5hbHl6ZXIuDQo+ID4gDQo+ID4gU2luZ2xlIGNoYXJhY3RlciBpcyBnb29kIG1hdGNo
IGJ1dCBtb3JlIHR3byBjaGFyYWN0ZXIgd29yZCANCj4gPiBkb2Vzbid0IG1hdGNoIGF0IGFsbC4N
Cj4gPiANCj4gPiBBbSBJIHNvbWV0aGluZyBtaXNzaW5nIG9yIHN0aWxsIHRoZXJlIG5lZWQgc29t
ZSBtb3JlIHdvcmtzID8NCj4gPiANCj4gPiANCj4gPiBUaGFua3MsDQo+ID4gDQo+ID4gWW91bmdo
by4NCj4gPiAgDQo+ID4gDQo+ID4gLS0tLS0gT3JpZ2luYWwgTWVzc2FnZSAtLS0tLSANCj4gPiBG
cm9tOiAiQ2hlb2xnb28gS2FuZyIgPGFwcGxlckBnbWFpbC5jb20+DQo+ID4gVG86IDxqYXZhLXVz
ZXJAbHVjZW5lLmFwYWNoZS5vcmc+OyAiSm9obiBXYW5nIiA8am9obi53YW5nQGdtYWlsLmNvbT4N
Cj4gPiBTZW50OiBUdWVzZGF5LCBPY3RvYmVyIDA0LCAyMDA1IDEwOjExIEFNDQo+ID4gU3ViamVj
dDogUmU6IGtvcmVhbiBhbmQgbHVjZW5lDQo+ID4gDQo+ID4gDQo+ID4gPiBTdGFuZGFyZEFuYWx5
emVyJ3MgSmF2YUNDIGJhc2VkIFN0YW5kYXJkVG9rZW5pemVyLmpqIGNhbm5vdCByZWFkDQo+ID4g
PiBLb3JlYW4gcGFydCBvZiBVbmljb2RlIGNoYXJhY3RlciBibG9ja3MuDQo+ID4gPiANCj4gPiA+
IFlvdSBzaG91bGQgMSkgdXNlIENKS0FuYWx5emVyIG9yIDIpIGFkZCBLb3JlYW4gY2hhcmFjdGVy
DQo+ID4gPiBibG9jaygweEFDMDB+MHhEN0FGKSB0byB0aGUgQ0pLIHRva2VuIGRlZmluaXRpb24g
b24gdGhlDQo+ID4gPiBTdGFuZGFyZFRva2VuaXplci5qaiBmaWxlLg0KPiA+ID4gDQo+ID4gPiBI
b3BlIGl0IGhlbHBzLg0KPiA+ID4gDQo+ID4gPiANCj4gPiA+IE9uIDEwLzQvMDUsIEpvaG4gV2Fu
ZyA8am9obi53YW5nQGdtYWlsLmNvbT4gd3JvdGU6DQo+ID4gPiA+IEhpOg0KPiA+ID4gPg0KPiA+
ID4gPiBXZSBhcmUgcnVubmluZyBpbnRvIHByb2JsZW1zIHdpdGggc2VhcmNoaW5nIG9uIGtvcmVh
biANCj4gPiBkb2N1bWVudHMuIFdlIGFyZQ0KPiA+ID4gPiB1c2luZyB0aGUgU3RhbmRhcmRBbmFs
eXplciBhbmQgZXZlcnl0aGluZyB3b3JrcyB3aXRoIENoaW5lc2UgDQo+ID4gYW5kIEphcGFuZXNl
Lg0KPiA+ID4gPiBBcmUgdGhlcmUga25vd24gcHJvYmxlbXMgd2l0aCBLb3JlYW4gd2l0aCBMdWNl
bmU/DQo+ID4gPiA+DQo+ID4gPiA+IFRoYW5rcw0KPiA+ID4gPg0KPiA+ID4gPiAtSm9obg0KPiA+
ID4gPg0KPiA+ID4gPg0KPiA+ID4gDQo+ID4gPiANCj4gPiA+IC0tDQo+ID4gPiBDaGVvbGdvbw0K
PiA+ID4gDQo+ID4gPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCj4gPiA+IFRvIHVuc3Vic2NyaWJlLCBlLW1haWw6
IGphdmEtdXNlci11bnN1YnNjcmliZUBsdWNlbmUuYXBhY2hlLm9yZw0KPiA+ID4gRm9yIGFkZGl0
aW9uYWwgY29tbWFuZHMsIGUtbWFpbDogamF2YS11c2VyLWhlbHBAbHVjZW5lLmFwYWNoZS5vcmcN
Cj4gDQo+IA0KPiANCj4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQo+IFRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IGph
dmEtdXNlci11bnN1YnNjcmliZUBsdWNlbmUuYXBhY2hlLm9yZw0KPiBGb3IgYWRkaXRpb25hbCBj
b21tYW5kcywgZS1tYWlsOiBqYXZhLXVzZXItaGVscEBsdWNlbmUuYXBhY2hlLm9yZw==




From java-user-return-17156-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 27 02:48:17 2005
Return-Path: <java-user-return-17156-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88743 invoked from network); 27 Oct 2005 02:48:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Oct 2005 02:48:17 -0000
Received: (qmail 95680 invoked by uid 500); 27 Oct 2005 02:48:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95654 invoked by uid 500); 27 Oct 2005 02:48:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95643 invoked by uid 99); 27 Oct 2005 02:48:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 19:48:11 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of koji.sekiguchi@m4.dion.ne.jp designates 203.181.105.73 as permitted sender)
Received: from [203.181.105.73] (HELO hfep07.dion.ne.jp) (203.181.105.73)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 19:48:07 -0700
Received: from sekiguchi ([59.135.102.240]) by hfep07.dion.ne.jp with SMTP
          id <20051027024747190.JOSZ@hfep07.dion.ne.jp>;
          Thu, 27 Oct 2005 11:47:47 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>,
	"Youngho Cho" <youngho@nannet.co.kr>
Subject: RE: korean and lucene
Date: Thu, 27 Oct 2005 11:47:42 +0900
Message-ID: <PKEIKOCKCHNIIHNECPCCAEMNCAAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="UTF-8"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <005301c5da9f$60e4f4c0$0201a8c0@local>
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello Youngho,

I don't understand why you couldn't get hits result in Japanese,
though, you had better check why the query was empty with Korean data:

> For Korean
>      [echo] Running lia.analysis.i18n.KoreanDemo...
>      [java] phrase =3D =EA=B2=BD
>      [java] query =3D=20

The last line should be query =3D =EA=B2=BD
to get hits result. Can you check why StandardAnalyzer
removes "=EA=B2=BD" during tokenizing?

Koji

> -----Original Message-----
> From: Youngho Cho [mailto:youngho@nannet.co.kr]
> Sent: Thursday, October 27, 2005 11:37 AM
> To: java-user@lucene.apache.org
> Subject: Re: korean and lucene
>=20
>=20
> Hello Koji,
>=20
> Thanks for your kind reply.
>=20
> Yes, I used QueryParser. normaly I used
> Query =3D QueryParser.parse( ) method.
>=20
> I put your sample code into lia.analysis.i18n package in LuceneAction
> and run JapaneseDemo using 1.4 and 1.9=20
>=20
> results are=20
>=20
>      [echo] Running lia.analysis.i18n.JapaneseDemo...
>      [java] query =3D content:=E3=83=A9?=E3=83=A1=E3=83=B3=E5=B1=8B
>=20
> I can't get hits result.
>=20
> For Korean
>      [echo] Running lia.analysis.i18n.KoreanDemo...
>      [java] phrase =3D =EA=B2=BD
>      [java] query =3D=20
>=20
> I can't get query parse result.
>=20
> Thanks,
>=20
> Youngho
>=20
>=20
>=20
> ----- Original Message -----=20
> From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
> To: <java-user@lucene.apache.org>; "Youngho Cho" =
<youngho@nannet.co.kr>
> Sent: Thursday, October 27, 2005 9:48 AM
> Subject: RE: korean and lucene
>=20
>=20
> > Hi Youngho,
> >=20
> > With regard to Japanese, using StandardAnalyzer,
> > I can search a word/phase.
> >=20
> > Did you use QueryParser? StandardAnalyzer tokenizes
> > CJK characters into a stream of single character.
> > Use QueryParser to get a PhraseQuery and search the query.
> >=20
> > Please see the following sample code. Replace Japanese
> > "contents" and (search target) "phrase" with Korean in the=20
> program and run.
> >=20
> > regards,
> >=20
> > Koji
> >=20
> > =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
> > import java.io.IOException;
> > import org.apache.lucene.analysis.Analyzer;
> > import org.apache.lucene.analysis.standard.StandardAnalyzer;
> > import org.apache.lucene.analysis.cjk.CJKAnalyzer;
> > import org.apache.lucene.store.Directory;
> > import org.apache.lucene.store.RAMDirectory;
> > import org.apache.lucene.index.IndexWriter;
> > import org.apache.lucene.document.Document;
> > import org.apache.lucene.document.Field;
> > import org.apache.lucene.search.IndexSearcher;
> > import org.apache.lucene.search.Hits;
> > import org.apache.lucene.search.Query;
> > import org.apache.lucene.queryParser.QueryParser;
> > import org.apache.lucene.queryParser.ParseException;
> >=20
> > public class JapaneseByStandardAnalyzer {
> >=20
> >     private static final String FIELD_CONTENT =3D "content";
> >     private static final String[] contents =3D {
> > =
"=E6=9D=B1=E4=BA=AC=E3=81=AB=E3=81=AF=E3=81=8A=E3=81=84=E3=81=97=E3=81=84=
=E3=83=A9=E3=83=BC=E3=83=A1=E3=83=B3=E5=B1=8B=E3=81=8C=E3=81=9F=E3=81=8F=E3=
=81=95=E3=82=93=E3=81=82=E3=82=8A=E3=81=BE=E3=81=99=E3=80=82",
> > =
"=E5=8C=97=E6=B5=B7=E9=81=93=E3=81=AB=E3=82=82=E3=81=8A=E3=81=84=E3=81=97=
=E3=81=84=E3=83=A9=E3=83=BC=E3=83=A1=E3=83=B3=E5=B1=8B=E3=81=8C=E3=81=82=E3=
=82=8A=E3=81=BE=E3=81=99=E3=80=82"
> >     };
> >     private static final String phrase =3D =
"=E3=83=A9=E3=83=BC=E3=83=A1=E3=83=B3=E5=B1=8B";
> >     //private static final String phrase =3D "=E5=B1=8B";
> >     private static Analyzer analyzer =3D null;
> >=20
> >     public static void main( String[] args ) throws=20
> IOException, ParseException {
> > Directory directory =3D makeIndex();
> > search( directory );
> > directory.close();
> >     }
> >=20
> >     private static Analyzer getAnalyzer(){
> > if( analyzer =3D=3D null ){
> >     analyzer =3D new StandardAnalyzer();
> >     //analyzer =3D new CJKAnalyzer();
> > }
> > return analyzer;
> >     }
> >=20
> >     private static Directory makeIndex() throws IOException {
> > Directory directory =3D new RAMDirectory();
> > IndexWriter writer =3D new IndexWriter( directory, getAnalyzer(), =
true );
> > for( int i =3D 0; i < contents.length; i++ ){
> >     Document doc =3D new Document();
> >     doc.add( new Field( FIELD_CONTENT, contents[i],=20
> Field.Store.YES, Field.Index.TOKENIZED ) );
> >     writer.addDocument( doc );
> > }
> > writer.close();
> > return directory;
> >     }
> >=20
> >     private static void search( Directory directory ) throws=20
> IOException, ParseException {
> > IndexSearcher searcher =3D new IndexSearcher( directory );
> > QueryParser parser =3D new QueryParser( FIELD_CONTENT, getAnalyzer() =
);
> > Query query =3D parser.parse( phrase );
> > System.out.println( "query =3D " + query );
> > Hits hits =3D searcher.search( query );
> > for( int i =3D 0; i < hits.length(); i++ )
> >     System.out.println( "doc =3D " + hits.doc( i ).get( =
FIELD_CONTENT ) );
> > searcher.close();
> >     }
> > }
> >=20
> >=20
> > > -----Original Message-----
> > > From: Youngho Cho [mailto:youngho@nannet.co.kr]
> > > Sent: Thursday, October 27, 2005 8:18 AM
> > > To: java-user@lucene.apache.org; Cheolgoo Kang
> > > Subject: Re: korean and lucene
> > >=20
> > >=20
> > > Hello Cheolgoo,
> > >=20
> > > Now I updated my lucene version to 1.9 for using StandardAnalyzer=20
> > > for Korean.
> > > And tested your patch which is already adopted in 1.9
> > >=20
> > > http://issues.apache.org/jira/browse/LUCENE-444
> > >=20
> > > But Still I have no good  results with Korean compare with=20
> CJKAnalyzer.
> > >=20
> > > Single character is good match but more two character word=20
> > > doesn't match at all.
> > >=20
> > > Am I something missing or still there need some more works ?
> > >=20
> > >=20
> > > Thanks,
> > >=20
> > > Youngho.
> > > =20
> > >=20
> > > ----- Original Message -----=20
> > > From: "Cheolgoo Kang" <appler@gmail.com>
> > > To: <java-user@lucene.apache.org>; "John Wang" =
<john.wang@gmail.com>
> > > Sent: Tuesday, October 04, 2005 10:11 AM
> > > Subject: Re: korean and lucene
> > >=20
> > >=20
> > > > StandardAnalyzer's JavaCC based StandardTokenizer.jj cannot read
> > > > Korean part of Unicode character blocks.
> > > >=20
> > > > You should 1) use CJKAnalyzer or 2) add Korean character
> > > > block(0xAC00~0xD7AF) to the CJK token definition on the
> > > > StandardTokenizer.jj file.
> > > >=20
> > > > Hope it helps.
> > > >=20
> > > >=20
> > > > On 10/4/05, John Wang <john.wang@gmail.com> wrote:
> > > > > Hi:
> > > > >
> > > > > We are running into problems with searching on korean=20
> > > documents. We are
> > > > > using the StandardAnalyzer and everything works with Chinese=20
> > > and Japanese.
> > > > > Are there known problems with Korean with Lucene?
> > > > >
> > > > > Thanks
> > > > >
> > > > > -John
> > > > >
> > > > >
> > > >=20
> > > >=20
> > > > --
> > > > Cheolgoo
> > > >=20
> > > >=20
> ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > > For additional commands, e-mail: =
java-user-help@lucene.apache.org
> >=20
> >=20
> >=20
> > =
---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
>=20



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17157-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 27 03:20:58 2005
Return-Path: <java-user-return-17157-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98555 invoked from network); 27 Oct 2005 03:20:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Oct 2005 03:20:58 -0000
Received: (qmail 11768 invoked by uid 500); 27 Oct 2005 03:20:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11748 invoked by uid 500); 27 Oct 2005 03:20:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11737 invoked by uid 500); 27 Oct 2005 03:20:51 -0000
Delivered-To: apmail-jakarta-lucene-user@jakarta.apache.org
Received: (qmail 11731 invoked by uid 99); 27 Oct 2005 03:20:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 20:20:51 -0700
X-ASF-Spam-Status: No, hits=1.7 required=10.0
	tests=RCVD_IN_NJABL_DUL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.43] (HELO ylpvm12.prodigy.net) (207.115.57.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 20:20:48 -0700
Received: from ylpvm01.prodigy.net (ylpvm01-int.prodigy.net [207.115.5.207])
	by ylpvm12.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id j9R3KshN004249
	for <lucene-user@jakarta.apache.org>; Wed, 26 Oct 2005 23:20:54 -0400
X-ORBL: [66.136.198.144]
Received: from [192.168.1.10] (adsl-66-136-198-144.dsl.austtx.swbell.net [66.136.198.144])
	by ylpvm01.prodigy.net (8.13.4 dk-milter linux/8.13.4) with ESMTP id j9R3Oa0k023853
	for <lucene-user@jakarta.apache.org>; Wed, 26 Oct 2005 23:24:37 -0400
Mime-Version: 1.0 (Apple Message framework v734)
Content-Transfer-Encoding: 7bit
Message-Id: <09A5C5BC-703F-4DF1-9089-5EBC1E6FAD2C@otherwise.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
To: Lucene Users List <lucene-user@jakarta.apache.org>
From: Bill Tschumy <bill@otherwise.com>
Subject: Segments file format
Date: Wed, 26 Oct 2005 22:20:28 -0500
X-Mailer: Apple Mail (2.734)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I have been trying to reconstitute a corrupted index.  I have been  
looking at the segments file with a hex-editor and its format doesn't  
seem to quite agree with the description found at:
<http://lucene.apache.org/java/docs/fileformats.html>

It indicates the segments file looks like this:
Segments --> Format, Version, SegCount, <SegName, SegSize>SegCount

However, the couple I have looked at all have an additional  
undocumented UInt32 (probably) field after the Version field.  What  
is this and why is it not in the documentation?

Here is the hex from a small segment file to show you.  The 00 00 00  
4E at the end of the first line seems like it should not be there.   
Am I mis-reading something?

FF FF FF FF 00 00 00 00 00 00 00 28 00 00 00 4E
00 00 00 04 02 5F 6A 00 00 00 0A 03 5F 31 33 00
00 00 0A 03 5F 31 6E 00 00 00 0A 03 5F 32 35 00
00 00 09

-- 
Bill Tschumy
Otherwise -- Austin, TX
http://www.otherwise.com



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17158-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 27 03:22:18 2005
Return-Path: <java-user-return-17158-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99925 invoked from network); 27 Oct 2005 03:22:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Oct 2005 03:22:17 -0000
Received: (qmail 17713 invoked by uid 500); 27 Oct 2005 03:22:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17681 invoked by uid 500); 27 Oct 2005 03:22:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17669 invoked by uid 99); 27 Oct 2005 03:22:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 20:22:11 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [220.117.45.144] (HELO mail.nannet.co.kr) (220.117.45.144)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 20:22:06 -0700
Received: from win98 ([221.146.159.218])
	by mail.nannet.co.kr (8.13.1/8.13.1) with SMTP id j9R3LjOe030646
	for <java-user@lucene.apache.org>; Thu, 27 Oct 2005 12:21:46 +0900
Message-ID: <000501c5daa6$80abdba0$0201a8c0@local>
Reply-To: "Youngho Cho" <youngho@nannet.co.kr>
From: "Youngho Cho" <youngho@nannet.co.kr>
To: <java-user@lucene.apache.org>
References: <PKEIKOCKCHNIIHNECPCCAEMNCAAA.koji.sekiguchi@m4.dion.ne.jp>
Subject: Re: korean and lucene
Date: Thu, 27 Oct 2005 12:28:30 +0900
Organization: Nannet
MIME-Version: 1.0
Content-Type: text/plain;
	charset="UTF-8"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

SGVsbG8gS29qaQ0KDQpIZXJlIGlzIHRlc3QgcmVzdWx0Lg0KSmFwYW5lc2UgaXMgT0sgIS4NCm1h
eWJlIGFudCBjbGVhbiAgZGlkIHNvbWUgZWZmZWN0Lg0KDQpBbnl3YXkgcGxlYXNlIHJlZmVyIHRv
IHRoZSByZXN1bHQgdXNpbmcgMS45DQoNCiAgICAgW2VjaG9dIFJ1bm5pbmcgbGlhLmFuYWx5c2lz
LmkxOG4uSmFwYW5lc2VEZW1vLi4uDQogICAgIFtqYXZhXSBb44OpXSBb44OhXSBb44OzXSBb5bGL
XSAgYW5hbHl6ZXIgPSBvcmcuYXBhY2hlLmx1Y2VuZS5hbmFseXNpcy5zdGFuZGFyZC5TdGFuZGFy
ZEFuYWx5emVyDQogICAgIFtqYXZhXSBwaHJhc2UgPSDjg6k/44Oh44Oz5bGLDQogICAgIFtqYXZh
XSBxdWVyeSA9IGNvbnRlbnQ644OpP+ODoeODs+Wxiw0KICANCiAgICBbZWNob10gUnVubmluZyBs
aWEuYW5hbHlzaXMuaTE4bi5Lb3JlYW5EZW1vLi4uDQogICAgIFtqYXZhXSAgYW5hbHl6ZXIgPSBv
cmcuYXBhY2hlLmx1Y2VuZS5hbmFseXNpcy5zdGFuZGFyZC5TdGFuZGFyZEFuYWx5emVyDQogICAg
IFtqYXZhXSBwaHJhc2UgPSDqsr0NCiAgICAgW2phdmFdIHF1ZXJ5ID0gIA0KICANCiAgICAgW2Vj
aG9dIFJ1bm5pbmcgbGlhLmFuYWx5c2lzLmkxOG4uSmFwYW5lc2VEZW1vLi4uDQogICAgIFtqYXZh
XSBb44OpXSBb44Oh44OzXSBb44Oz5bGLXSAgYW5hbHl6ZXIgPSBvcmcuYXBhY2hlLmx1Y2VuZS5h
bmFseXNpcy5jamsuQ0pLQW5hbHl6ZXINCiAgICAgW2phdmFdIHBocmFzZSA9IOODqT/jg6Hjg7Pl
sYsNCiAgICAgW2phdmFdIHF1ZXJ5ID0gY29udGVudDrjg6k/44Oh44Oz5bGLDQogIA0KICAgIFtl
Y2hvXSBSdW5uaW5nIGxpYS5hbmFseXNpcy5pMThuLktvcmVhbkRlbW8uLi4NCiAgICAgW2phdmFd
IFvqsr1dICBhbmFseXplciA9IG9yZy5hcGFjaGUubHVjZW5lLmFuYWx5c2lzLmNqay5DSktBbmFs
eXplcg0KICAgICBbamF2YV0gcGhyYXNlID0g6rK9DQogICAgIFtqYXZhXSBxdWVyeSA9IOqyvSAN
Cg0KICAgICBbZWNob10gUnVubmluZyBsaWEuYW5hbHlzaXMuaTE4bi5Lb3JlYW5EZW1vLi4uDQog
ICAgIFtqYXZhXSAgYW5hbHl6ZXIgPSBvcmcuYXBhY2hlLmx1Y2VuZS5hbmFseXNpcy5zdGFuZGFy
ZC5TdGFuZGFyZEFuYWx5emVyDQogICAgIFtqYXZhXSBwaHJhc2UgPSDqsr3quLANCiAgICAgW2ph
dmFdIHF1ZXJ5ID0gDQogIA0KICAgICBbZWNob10gUnVubmluZyBsaWEuYW5hbHlzaXMuaTE4bi5L
b3JlYW5EZW1vLi4uDQogICAgIFtqYXZhXSBb6rK96riwXSAgYW5hbHl6ZXIgPSBvcmcuYXBhY2hl
Lmx1Y2VuZS5hbmFseXNpcy5jamsuQ0pLQW5hbHl6ZXINCiAgICAgW2phdmFdIHBocmFzZSA9IOqy
veq4sA0KICAgICBbamF2YV0gcXVlcnkgPSDqsr3quLANCiAgDQoNClN0YW5kYXJkIGFuYWx5emVy
IGRpZG4ndCB0b2tlbml6ZWQgdGhlIEtvcmVhbiBDaGFyYWN0ZXIgYXQgYWxsLi4uLg0KDQpVZy4u
Li4gIGxvb2sgbGlrZSANCiBodHRwOi8vaXNzdWVzLmFwYWNoZS5vcmcvamlyYS9icm93c2UvTFVD
RU5FLTQ0NA0KIGRpZG4ndCBlZmZlY3QgYXQgYWxsIGZvciBLb3JlYW4uDQoNCg0KVGhhbmtzIA0K
DQpZb3VuZ2hvDQoNCi0tLS0tIE9yaWdpbmFsIE1lc3NhZ2UgLS0tLS0gDQpGcm9tOiAiS29qaSBT
ZWtpZ3VjaGkiIDxrb2ppLnNla2lndWNoaUBtNC5kaW9uLm5lLmpwPg0KVG86IDxqYXZhLXVzZXJA
bHVjZW5lLmFwYWNoZS5vcmc+OyAiWW91bmdobyBDaG8iIDx5b3VuZ2hvQG5hbm5ldC5jby5rcj4N
ClNlbnQ6IFRodXJzZGF5LCBPY3RvYmVyIDI3LCAyMDA1IDExOjQ3IEFNDQpTdWJqZWN0OiBSRTog
a29yZWFuIGFuZCBsdWNlbmUNCg0KDQo+IEhlbGxvIFlvdW5naG8sDQo+IA0KPiBJIGRvbid0IHVu
ZGVyc3RhbmQgd2h5IHlvdSBjb3VsZG4ndCBnZXQgaGl0cyByZXN1bHQgaW4gSmFwYW5lc2UsDQo+
IHRob3VnaCwgeW91IGhhZCBiZXR0ZXIgY2hlY2sgd2h5IHRoZSBxdWVyeSB3YXMgZW1wdHkgd2l0
aCBLb3JlYW4gZGF0YToNCj4gDQo+ID4gRm9yIEtvcmVhbg0KPiA+ICAgICAgW2VjaG9dIFJ1bm5p
bmcgbGlhLmFuYWx5c2lzLmkxOG4uS29yZWFuRGVtby4uLg0KPiA+ICAgICAgW2phdmFdIHBocmFz
ZSA9IOqyvQ0KPiA+ICAgICAgW2phdmFdIHF1ZXJ5ID0gDQo+IA0KPiBUaGUgbGFzdCBsaW5lIHNo
b3VsZCBiZSBxdWVyeSA9IOqyvQ0KPiB0byBnZXQgaGl0cyByZXN1bHQuIENhbiB5b3UgY2hlY2sg
d2h5IFN0YW5kYXJkQW5hbHl6ZXINCj4gcmVtb3ZlcyAi6rK9IiBkdXJpbmcgdG9rZW5pemluZz8N
Cj4gDQo+IEtvamkNCj4gDQo+ID4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4gPiBGcm9t
OiBZb3VuZ2hvIENobyBbbWFpbHRvOnlvdW5naG9AbmFubmV0LmNvLmtyXQ0KPiA+IFNlbnQ6IFRo
dXJzZGF5LCBPY3RvYmVyIDI3LCAyMDA1IDExOjM3IEFNDQo+ID4gVG86IGphdmEtdXNlckBsdWNl
bmUuYXBhY2hlLm9yZw0KPiA+IFN1YmplY3Q6IFJlOiBrb3JlYW4gYW5kIGx1Y2VuZQ0KPiA+IA0K
PiA+IA0KPiA+IEhlbGxvIEtvamksDQo+ID4gDQo+ID4gVGhhbmtzIGZvciB5b3VyIGtpbmQgcmVw
bHkuDQo+ID4gDQo+ID4gWWVzLCBJIHVzZWQgUXVlcnlQYXJzZXIuIG5vcm1hbHkgSSB1c2VkDQo+
ID4gUXVlcnkgPSBRdWVyeVBhcnNlci5wYXJzZSggKSBtZXRob2QuDQo+ID4gDQo+ID4gSSBwdXQg
eW91ciBzYW1wbGUgY29kZSBpbnRvIGxpYS5hbmFseXNpcy5pMThuIHBhY2thZ2UgaW4gTHVjZW5l
QWN0aW9uDQo+ID4gYW5kIHJ1biBKYXBhbmVzZURlbW8gdXNpbmcgMS40IGFuZCAxLjkgDQo+ID4g
DQo+ID4gcmVzdWx0cyBhcmUgDQo+ID4gDQo+ID4gICAgICBbZWNob10gUnVubmluZyBsaWEuYW5h
bHlzaXMuaTE4bi5KYXBhbmVzZURlbW8uLi4NCj4gPiAgICAgIFtqYXZhXSBxdWVyeSA9IGNvbnRl
bnQ644OpP+ODoeODs+Wxiw0KPiA+IA0KPiA+IEkgY2FuJ3QgZ2V0IGhpdHMgcmVzdWx0Lg0KPiA+
IA0KPiA+IEZvciBLb3JlYW4NCj4gPiAgICAgIFtlY2hvXSBSdW5uaW5nIGxpYS5hbmFseXNpcy5p
MThuLktvcmVhbkRlbW8uLi4NCj4gPiAgICAgIFtqYXZhXSBwaHJhc2UgPSDqsr0NCj4gPiAgICAg
IFtqYXZhXSBxdWVyeSA9IA0KPiA+IA0KPiA+IEkgY2FuJ3QgZ2V0IHF1ZXJ5IHBhcnNlIHJlc3Vs
dC4NCj4gPiANCj4gPiBUaGFua3MsDQo+ID4gDQo+ID4gWW91bmdobw0KPiA+IA0KPiA+IA0KPiA+
IA0KPiA+IC0tLS0tIE9yaWdpbmFsIE1lc3NhZ2UgLS0tLS0gDQo+ID4gRnJvbTogIktvamkgU2Vr
aWd1Y2hpIiA8a29qaS5zZWtpZ3VjaGlAbTQuZGlvbi5uZS5qcD4NCj4gPiBUbzogPGphdmEtdXNl
ckBsdWNlbmUuYXBhY2hlLm9yZz47ICJZb3VuZ2hvIENobyIgPHlvdW5naG9AbmFubmV0LmNvLmty
Pg0KPiA+IFNlbnQ6IFRodXJzZGF5LCBPY3RvYmVyIDI3LCAyMDA1IDk6NDggQU0NCj4gPiBTdWJq
ZWN0OiBSRToga29yZWFuIGFuZCBsdWNlbmUNCj4gPiANCj4gPiANCj4gPiA+IEhpIFlvdW5naG8s
DQo+ID4gPiANCj4gPiA+IFdpdGggcmVnYXJkIHRvIEphcGFuZXNlLCB1c2luZyBTdGFuZGFyZEFu
YWx5emVyLA0KPiA+ID4gSSBjYW4gc2VhcmNoIGEgd29yZC9waGFzZS4NCj4gPiA+IA0KPiA+ID4g
RGlkIHlvdSB1c2UgUXVlcnlQYXJzZXI/IFN0YW5kYXJkQW5hbHl6ZXIgdG9rZW5pemVzDQo+ID4g
PiBDSksgY2hhcmFjdGVycyBpbnRvIGEgc3RyZWFtIG9mIHNpbmdsZSBjaGFyYWN0ZXIuDQo+ID4g
PiBVc2UgUXVlcnlQYXJzZXIgdG8gZ2V0IGEgUGhyYXNlUXVlcnkgYW5kIHNlYXJjaCB0aGUgcXVl
cnkuDQo+ID4gPiANCj4gPiA+IFBsZWFzZSBzZWUgdGhlIGZvbGxvd2luZyBzYW1wbGUgY29kZS4g
UmVwbGFjZSBKYXBhbmVzZQ0KPiA+ID4gImNvbnRlbnRzIiBhbmQgKHNlYXJjaCB0YXJnZXQpICJw
aHJhc2UiIHdpdGggS29yZWFuIGluIHRoZSANCj4gPiBwcm9ncmFtIGFuZCBydW4uDQo+ID4gPiAN
Cj4gPiA+IHJlZ2FyZHMsDQo+ID4gPiANCj4gPiA+IEtvamkNCj4gPiA+IA0KPiA+ID4gPT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQo+ID4gPiBpbXBvcnQgamF2
YS5pby5JT0V4Y2VwdGlvbjsNCj4gPiA+IGltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5hbmFseXNp
cy5BbmFseXplcjsNCj4gPiA+IGltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5hbmFseXNpcy5zdGFu
ZGFyZC5TdGFuZGFyZEFuYWx5emVyOw0KPiA+ID4gaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLmFu
YWx5c2lzLmNqay5DSktBbmFseXplcjsNCj4gPiA+IGltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5z
dG9yZS5EaXJlY3Rvcnk7DQo+ID4gPiBpbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuc3RvcmUuUkFN
RGlyZWN0b3J5Ow0KPiA+ID4gaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLmluZGV4LkluZGV4V3Jp
dGVyOw0KPiA+ID4gaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLmRvY3VtZW50LkRvY3VtZW50Ow0K
PiA+ID4gaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLmRvY3VtZW50LkZpZWxkOw0KPiA+ID4gaW1w
b3J0IG9yZy5hcGFjaGUubHVjZW5lLnNlYXJjaC5JbmRleFNlYXJjaGVyOw0KPiA+ID4gaW1wb3J0
IG9yZy5hcGFjaGUubHVjZW5lLnNlYXJjaC5IaXRzOw0KPiA+ID4gaW1wb3J0IG9yZy5hcGFjaGUu
bHVjZW5lLnNlYXJjaC5RdWVyeTsNCj4gPiA+IGltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5xdWVy
eVBhcnNlci5RdWVyeVBhcnNlcjsNCj4gPiA+IGltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5xdWVy
eVBhcnNlci5QYXJzZUV4Y2VwdGlvbjsNCj4gPiA+IA0KPiA+ID4gcHVibGljIGNsYXNzIEphcGFu
ZXNlQnlTdGFuZGFyZEFuYWx5emVyIHsNCj4gPiA+IA0KPiA+ID4gICAgIHByaXZhdGUgc3RhdGlj
IGZpbmFsIFN0cmluZyBGSUVMRF9DT05URU5UID0gImNvbnRlbnQiOw0KPiA+ID4gICAgIHByaXZh
dGUgc3RhdGljIGZpbmFsIFN0cmluZ1tdIGNvbnRlbnRzID0gew0KPiA+ID4gIuadseS6rOOBq+OB
r+OBiuOBhOOBl+OBhOODqeODvOODoeODs+Wxi+OBjOOBn+OBj+OBleOCk+OBguOCiuOBvuOBmeOA
giIsDQo+ID4gPiAi5YyX5rW36YGT44Gr44KC44GK44GE44GX44GE44Op44O844Oh44Oz5bGL44GM
44GC44KK44G+44GZ44CCIg0KPiA+ID4gICAgIH07DQo+ID4gPiAgICAgcHJpdmF0ZSBzdGF0aWMg
ZmluYWwgU3RyaW5nIHBocmFzZSA9ICLjg6njg7zjg6Hjg7PlsYsiOw0KPiA+ID4gICAgIC8vcHJp
dmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIHBocmFzZSA9ICLlsYsiOw0KPiA+ID4gICAgIHByaXZh
dGUgc3RhdGljIEFuYWx5emVyIGFuYWx5emVyID0gbnVsbDsNCj4gPiA+IA0KPiA+ID4gICAgIHB1
YmxpYyBzdGF0aWMgdm9pZCBtYWluKCBTdHJpbmdbXSBhcmdzICkgdGhyb3dzIA0KPiA+IElPRXhj
ZXB0aW9uLCBQYXJzZUV4Y2VwdGlvbiB7DQo+ID4gPiBEaXJlY3RvcnkgZGlyZWN0b3J5ID0gbWFr
ZUluZGV4KCk7DQo+ID4gPiBzZWFyY2goIGRpcmVjdG9yeSApOw0KPiA+ID4gZGlyZWN0b3J5LmNs
b3NlKCk7DQo+ID4gPiAgICAgfQ0KPiA+ID4gDQo+ID4gPiAgICAgcHJpdmF0ZSBzdGF0aWMgQW5h
bHl6ZXIgZ2V0QW5hbHl6ZXIoKXsNCj4gPiA+IGlmKCBhbmFseXplciA9PSBudWxsICl7DQo+ID4g
PiAgICAgYW5hbHl6ZXIgPSBuZXcgU3RhbmRhcmRBbmFseXplcigpOw0KPiA+ID4gICAgIC8vYW5h
bHl6ZXIgPSBuZXcgQ0pLQW5hbHl6ZXIoKTsNCj4gPiA+IH0NCj4gPiA+IHJldHVybiBhbmFseXpl
cjsNCj4gPiA+ICAgICB9DQo+ID4gPiANCj4gPiA+ICAgICBwcml2YXRlIHN0YXRpYyBEaXJlY3Rv
cnkgbWFrZUluZGV4KCkgdGhyb3dzIElPRXhjZXB0aW9uIHsNCj4gPiA+IERpcmVjdG9yeSBkaXJl
Y3RvcnkgPSBuZXcgUkFNRGlyZWN0b3J5KCk7DQo+ID4gPiBJbmRleFdyaXRlciB3cml0ZXIgPSBu
ZXcgSW5kZXhXcml0ZXIoIGRpcmVjdG9yeSwgZ2V0QW5hbHl6ZXIoKSwgdHJ1ZSApOw0KPiA+ID4g
Zm9yKCBpbnQgaSA9IDA7IGkgPCBjb250ZW50cy5sZW5ndGg7IGkrKyApew0KPiA+ID4gICAgIERv
Y3VtZW50IGRvYyA9IG5ldyBEb2N1bWVudCgpOw0KPiA+ID4gICAgIGRvYy5hZGQoIG5ldyBGaWVs
ZCggRklFTERfQ09OVEVOVCwgY29udGVudHNbaV0sIA0KPiA+IEZpZWxkLlN0b3JlLllFUywgRmll
bGQuSW5kZXguVE9LRU5JWkVEICkgKTsNCj4gPiA+ICAgICB3cml0ZXIuYWRkRG9jdW1lbnQoIGRv
YyApOw0KPiA+ID4gfQ0KPiA+ID4gd3JpdGVyLmNsb3NlKCk7DQo+ID4gPiByZXR1cm4gZGlyZWN0
b3J5Ow0KPiA+ID4gICAgIH0NCj4gPiA+IA0KPiA+ID4gICAgIHByaXZhdGUgc3RhdGljIHZvaWQg
c2VhcmNoKCBEaXJlY3RvcnkgZGlyZWN0b3J5ICkgdGhyb3dzIA0KPiA+IElPRXhjZXB0aW9uLCBQ
YXJzZUV4Y2VwdGlvbiB7DQo+ID4gPiBJbmRleFNlYXJjaGVyIHNlYXJjaGVyID0gbmV3IEluZGV4
U2VhcmNoZXIoIGRpcmVjdG9yeSApOw0KPiA+ID4gUXVlcnlQYXJzZXIgcGFyc2VyID0gbmV3IFF1
ZXJ5UGFyc2VyKCBGSUVMRF9DT05URU5ULCBnZXRBbmFseXplcigpICk7DQo+ID4gPiBRdWVyeSBx
dWVyeSA9IHBhcnNlci5wYXJzZSggcGhyYXNlICk7DQo+ID4gPiBTeXN0ZW0ub3V0LnByaW50bG4o
ICJxdWVyeSA9ICIgKyBxdWVyeSApOw0KPiA+ID4gSGl0cyBoaXRzID0gc2VhcmNoZXIuc2VhcmNo
KCBxdWVyeSApOw0KPiA+ID4gZm9yKCBpbnQgaSA9IDA7IGkgPCBoaXRzLmxlbmd0aCgpOyBpKysg
KQ0KPiA+ID4gICAgIFN5c3RlbS5vdXQucHJpbnRsbiggImRvYyA9ICIgKyBoaXRzLmRvYyggaSAp
LmdldCggRklFTERfQ09OVEVOVCApICk7DQo+ID4gPiBzZWFyY2hlci5jbG9zZSgpOw0KPiA+ID4g
ICAgIH0NCj4gPiA+IH0NCj4gPiA+IA0KPiA+ID4gDQo+ID4gPiA+IC0tLS0tT3JpZ2luYWwgTWVz
c2FnZS0tLS0tDQo+ID4gPiA+IEZyb206IFlvdW5naG8gQ2hvIFttYWlsdG86eW91bmdob0BuYW5u
ZXQuY28ua3JdDQo+ID4gPiA+IFNlbnQ6IFRodXJzZGF5LCBPY3RvYmVyIDI3LCAyMDA1IDg6MTgg
QU0NCj4gPiA+ID4gVG86IGphdmEtdXNlckBsdWNlbmUuYXBhY2hlLm9yZzsgQ2hlb2xnb28gS2Fu
Zw0KPiA+ID4gPiBTdWJqZWN0OiBSZToga29yZWFuIGFuZCBsdWNlbmUNCj4gPiA+ID4gDQo+ID4g
PiA+IA0KPiA+ID4gPiBIZWxsbyBDaGVvbGdvbywNCj4gPiA+ID4gDQo+ID4gPiA+IE5vdyBJIHVw
ZGF0ZWQgbXkgbHVjZW5lIHZlcnNpb24gdG8gMS45IGZvciB1c2luZyBTdGFuZGFyZEFuYWx5emVy
IA0KPiA+ID4gPiBmb3IgS29yZWFuLg0KPiA+ID4gPiBBbmQgdGVzdGVkIHlvdXIgcGF0Y2ggd2hp
Y2ggaXMgYWxyZWFkeSBhZG9wdGVkIGluIDEuOQ0KPiA+ID4gPiANCj4gPiA+ID4gaHR0cDovL2lz
c3Vlcy5hcGFjaGUub3JnL2ppcmEvYnJvd3NlL0xVQ0VORS00NDQNCj4gPiA+ID4gDQo+ID4gPiA+
IEJ1dCBTdGlsbCBJIGhhdmUgbm8gZ29vZCAgcmVzdWx0cyB3aXRoIEtvcmVhbiBjb21wYXJlIHdp
dGggDQo+ID4gQ0pLQW5hbHl6ZXIuDQo+ID4gPiA+IA0KPiA+ID4gPiBTaW5nbGUgY2hhcmFjdGVy
IGlzIGdvb2QgbWF0Y2ggYnV0IG1vcmUgdHdvIGNoYXJhY3RlciB3b3JkIA0KPiA+ID4gPiBkb2Vz
bid0IG1hdGNoIGF0IGFsbC4NCj4gPiA+ID4gDQo+ID4gPiA+IEFtIEkgc29tZXRoaW5nIG1pc3Np
bmcgb3Igc3RpbGwgdGhlcmUgbmVlZCBzb21lIG1vcmUgd29ya3MgPw0KPiA+ID4gPiANCj4gPiA+
ID4gDQo+ID4gPiA+IFRoYW5rcywNCj4gPiA+ID4gDQo+ID4gPiA+IFlvdW5naG8uDQo+ID4gPiA+
ICANCj4gPiA+ID4gDQo+ID4gPiA+IC0tLS0tIE9yaWdpbmFsIE1lc3NhZ2UgLS0tLS0gDQo+ID4g
PiA+IEZyb206ICJDaGVvbGdvbyBLYW5nIiA8YXBwbGVyQGdtYWlsLmNvbT4NCj4gPiA+ID4gVG86
IDxqYXZhLXVzZXJAbHVjZW5lLmFwYWNoZS5vcmc+OyAiSm9obiBXYW5nIiA8am9obi53YW5nQGdt
YWlsLmNvbT4NCj4gPiA+ID4gU2VudDogVHVlc2RheSwgT2N0b2JlciAwNCwgMjAwNSAxMDoxMSBB
TQ0KPiA+ID4gPiBTdWJqZWN0OiBSZToga29yZWFuIGFuZCBsdWNlbmUNCj4gPiA+ID4gDQo+ID4g
PiA+IA0KPiA+ID4gPiA+IFN0YW5kYXJkQW5hbHl6ZXIncyBKYXZhQ0MgYmFzZWQgU3RhbmRhcmRU
b2tlbml6ZXIuamogY2Fubm90IHJlYWQNCj4gPiA+ID4gPiBLb3JlYW4gcGFydCBvZiBVbmljb2Rl
IGNoYXJhY3RlciBibG9ja3MuDQo+ID4gPiA+ID4gDQo+ID4gPiA+ID4gWW91IHNob3VsZCAxKSB1
c2UgQ0pLQW5hbHl6ZXIgb3IgMikgYWRkIEtvcmVhbiBjaGFyYWN0ZXINCj4gPiA+ID4gPiBibG9j
aygweEFDMDB+MHhEN0FGKSB0byB0aGUgQ0pLIHRva2VuIGRlZmluaXRpb24gb24gdGhlDQo+ID4g
PiA+ID4gU3RhbmRhcmRUb2tlbml6ZXIuamogZmlsZS4NCj4gPiA+ID4gPiANCj4gPiA+ID4gPiBI
b3BlIGl0IGhlbHBzLg0KPiA+ID4gPiA+IA0KPiA+ID4gPiA+IA0KPiA+ID4gPiA+IE9uIDEwLzQv
MDUsIEpvaG4gV2FuZyA8am9obi53YW5nQGdtYWlsLmNvbT4gd3JvdGU6DQo+ID4gPiA+ID4gPiBI
aToNCj4gPiA+ID4gPiA+DQo+ID4gPiA+ID4gPiBXZSBhcmUgcnVubmluZyBpbnRvIHByb2JsZW1z
IHdpdGggc2VhcmNoaW5nIG9uIGtvcmVhbiANCj4gPiA+ID4gZG9jdW1lbnRzLiBXZSBhcmUNCj4g
PiA+ID4gPiA+IHVzaW5nIHRoZSBTdGFuZGFyZEFuYWx5emVyIGFuZCBldmVyeXRoaW5nIHdvcmtz
IHdpdGggQ2hpbmVzZSANCj4gPiA+ID4gYW5kIEphcGFuZXNlLg0KPiA+ID4gPiA+ID4gQXJlIHRo
ZXJlIGtub3duIHByb2JsZW1zIHdpdGggS29yZWFuIHdpdGggTHVjZW5lPw0KPiA+ID4gPiA+ID4N
Cj4gPiA+ID4gPiA+IFRoYW5rcw0KPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+IC1Kb2huDQo+ID4g
PiA+ID4gPg0KPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiANCj4gPiA+ID4gPiANCj4gPiA+ID4gPiAt
LQ0KPiA+ID4gPiA+IENoZW9sZ29vDQo+ID4gPiA+ID4gDQo+ID4gPiA+ID4gDQo+ID4gLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tDQo+ID4gPiA+ID4gVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogamF2YS11c2VyLXVuc3Vi
c2NyaWJlQGx1Y2VuZS5hcGFjaGUub3JnDQo+ID4gPiA+ID4gRm9yIGFkZGl0aW9uYWwgY29tbWFu
ZHMsIGUtbWFpbDogamF2YS11c2VyLWhlbHBAbHVjZW5lLmFwYWNoZS5vcmcNCj4gPiA+IA0KPiA+
ID4gDQo+ID4gPiANCj4gPiA+IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KPiA+ID4gVG8gdW5zdWJzY3JpYmUsIGUt
bWFpbDogamF2YS11c2VyLXVuc3Vic2NyaWJlQGx1Y2VuZS5hcGFjaGUub3JnDQo+ID4gPiBGb3Ig
YWRkaXRpb25hbCBjb21tYW5kcywgZS1tYWlsOiBqYXZhLXVzZXItaGVscEBsdWNlbmUuYXBhY2hl
Lm9yZw0KPiA+IA0KPiANCj4gDQo+IA0KPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCj4gVG8gdW5zdWJzY3JpYmUs
IGUtbWFpbDogamF2YS11c2VyLXVuc3Vic2NyaWJlQGx1Y2VuZS5hcGFjaGUub3JnDQo+IEZvciBh
ZGRpdGlvbmFsIGNvbW1hbmRzLCBlLW1haWw6IGphdmEtdXNlci1oZWxwQGx1Y2VuZS5hcGFjaGUu
b3Jn




From java-user-return-17159-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 27 03:41:34 2005
Return-Path: <java-user-return-17159-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5492 invoked from network); 27 Oct 2005 03:41:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Oct 2005 03:41:34 -0000
Received: (qmail 32037 invoked by uid 500); 27 Oct 2005 03:41:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31103 invoked by uid 500); 27 Oct 2005 03:41:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31092 invoked by uid 99); 27 Oct 2005 03:41:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 20:41:28 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [220.117.45.144] (HELO mail.nannet.co.kr) (220.117.45.144)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 20:41:25 -0700
Received: from win98 ([221.146.159.218])
	by mail.nannet.co.kr (8.13.1/8.13.1) with SMTP id j9R3f3FY030706;
	Thu, 27 Oct 2005 12:41:04 +0900
Message-ID: <000801c5daa9$33403020$0201a8c0@local>
Reply-To: "Youngho Cho" <youngho@nannet.co.kr>
From: "Youngho Cho" <youngho@nannet.co.kr>
To: <java-user@lucene.apache.org>, "Youngho Cho" <youngho@nannet.co.kr>
References: <PKEIKOCKCHNIIHNECPCCAEMNCAAA.koji.sekiguchi@m4.dion.ne.jp> <000501c5daa6$80abdba0$0201a8c0@local>
Subject: Re: korean and lucene
Date: Thu, 27 Oct 2005 12:47:48 +0900
Organization: Nannet
MIME-Version: 1.0
Content-Type: text/plain;
	charset="UTF-8"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

SGVsbG8gYWxsDQpQbGVzZSBmb3JnaXZlIG1lIHBlcnZpb3VzIG15IHN0dXBpZCBtZXNzYWdlDQoN
CiAgICAgW2VjaG9dIFJ1bm5pbmcgbGlhLmFuYWx5c2lzLmkxOG4uS29yZWFuRGVtby4uLg0KICAg
ICBbamF2YV0gW+qyvV0gW+q4sF0gIGFuYWx5emVyID0gb3JnLmFwYWNoZS5sdWNlbmUuYW5hbHlz
aXMuc3RhbmRhcmQuU3RhbmRhcmRBbmFseXplcg0KICAgICBbamF2YV0gcGhyYXNlID0g6rK96riw
DQogICAgIFtqYXZhXSBxdWVyeSA9ICLqsr0g6riwIg0KDQpJIGdvdCB0aGUgZ29vZCByZXN1bHQu
DQoNCldoZW4gSSBjb21waWxlIEkganVzdCByZW5hbWUgb2xkIHZlcnNpb24gbHVjZW5lLTEuNC4z
LmphciB0byBsdWNlbmUtMS40LjMuamFyX2Jhaw0KYW5kIGFsbCBuZXcgMS45IGx1Y2VuZS4gYW5k
IGJ1aWxkIHRoZSB0ZXN0IHBhY2thZ2UuDQpBZnRlciBJIHJlbW92ZSBsdWNlbmUtMS40LjMuamFy
X2JhayBpbiBsaWIgZGlyZWN0b3J5IGNvbXBsZXRlbHkNCkkgZ290IHRoZSBleHBlY3RlZCByZXN1
bHQgISEhLg0KDQpJIGRvbid0IGtub3cgdGhlIHJlYXNvbi4uLiAoIGxvb2tzIGxpa2UgbXkgZmlu
Z2VyIG1ha2Ugc29tZSB0cm91YmxlLi4uICkNCg0KQW55d2F5IHRoYW5rcyBLb2ppIGFuZCBDaGVv
bGdvbw0KSSB3aWxsIGZ1cnRoZXIgdGVzdCBub3cuLi4NCg0KWW91bmdobw0KDQoNCg0KDQotLS0t
LSBPcmlnaW5hbCBNZXNzYWdlIC0tLS0tIA0KRnJvbTogIllvdW5naG8gQ2hvIiA8eW91bmdob0Bu
YW5uZXQuY28ua3I+DQpUbzogPGphdmEtdXNlckBsdWNlbmUuYXBhY2hlLm9yZz4NClNlbnQ6IFRo
dXJzZGF5LCBPY3RvYmVyIDI3LCAyMDA1IDEyOjI4IFBNDQpTdWJqZWN0OiBSZToga29yZWFuIGFu
ZCBsdWNlbmUNCg0KDQo+IEhlbGxvIEtvamkNCj4gDQo+IEhlcmUgaXMgdGVzdCByZXN1bHQuDQo+
IEphcGFuZXNlIGlzIE9LICEuDQo+IG1heWJlIGFudCBjbGVhbiAgZGlkIHNvbWUgZWZmZWN0Lg0K
PiANCj4gQW55d2F5IHBsZWFzZSByZWZlciB0byB0aGUgcmVzdWx0IHVzaW5nIDEuOQ0KPiANCj4g
ICAgICBbZWNob10gUnVubmluZyBsaWEuYW5hbHlzaXMuaTE4bi5KYXBhbmVzZURlbW8uLi4NCj4g
ICAgICBbamF2YV0gW+ODqV0gW+ODoV0gW+ODs10gW+Wxi10gIGFuYWx5emVyID0gb3JnLmFwYWNo
ZS5sdWNlbmUuYW5hbHlzaXMuc3RhbmRhcmQuU3RhbmRhcmRBbmFseXplcg0KPiAgICAgIFtqYXZh
XSBwaHJhc2UgPSDjg6k/44Oh44Oz5bGLDQo+ICAgICAgW2phdmFdIHF1ZXJ5ID0gY29udGVudDrj
g6k/44Oh44Oz5bGLDQo+ICAgDQo+ICAgICBbZWNob10gUnVubmluZyBsaWEuYW5hbHlzaXMuaTE4
bi5Lb3JlYW5EZW1vLi4uDQo+ICAgICAgW2phdmFdICBhbmFseXplciA9IG9yZy5hcGFjaGUubHVj
ZW5lLmFuYWx5c2lzLnN0YW5kYXJkLlN0YW5kYXJkQW5hbHl6ZXINCj4gICAgICBbamF2YV0gcGhy
YXNlID0g6rK9DQo+ICAgICAgW2phdmFdIHF1ZXJ5ID0gIA0KPiAgIA0KPiAgICAgIFtlY2hvXSBS
dW5uaW5nIGxpYS5hbmFseXNpcy5pMThuLkphcGFuZXNlRGVtby4uLg0KPiAgICAgIFtqYXZhXSBb
44OpXSBb44Oh44OzXSBb44Oz5bGLXSAgYW5hbHl6ZXIgPSBvcmcuYXBhY2hlLmx1Y2VuZS5hbmFs
eXNpcy5jamsuQ0pLQW5hbHl6ZXINCj4gICAgICBbamF2YV0gcGhyYXNlID0g44OpP+ODoeODs+Wx
iw0KPiAgICAgIFtqYXZhXSBxdWVyeSA9IGNvbnRlbnQ644OpP+ODoeODs+Wxiw0KPiAgIA0KPiAg
ICAgW2VjaG9dIFJ1bm5pbmcgbGlhLmFuYWx5c2lzLmkxOG4uS29yZWFuRGVtby4uLg0KPiAgICAg
IFtqYXZhXSBb6rK9XSAgYW5hbHl6ZXIgPSBvcmcuYXBhY2hlLmx1Y2VuZS5hbmFseXNpcy5jamsu
Q0pLQW5hbHl6ZXINCj4gICAgICBbamF2YV0gcGhyYXNlID0g6rK9DQo+ICAgICAgW2phdmFdIHF1
ZXJ5ID0g6rK9IA0KPiANCj4gICAgICBbZWNob10gUnVubmluZyBsaWEuYW5hbHlzaXMuaTE4bi5L
b3JlYW5EZW1vLi4uDQo+ICAgICAgW2phdmFdICBhbmFseXplciA9IG9yZy5hcGFjaGUubHVjZW5l
LmFuYWx5c2lzLnN0YW5kYXJkLlN0YW5kYXJkQW5hbHl6ZXINCj4gICAgICBbamF2YV0gcGhyYXNl
ID0g6rK96riwDQo+ICAgICAgW2phdmFdIHF1ZXJ5ID0gDQo+ICAgDQo+ICAgICAgW2VjaG9dIFJ1
bm5pbmcgbGlhLmFuYWx5c2lzLmkxOG4uS29yZWFuRGVtby4uLg0KPiAgICAgIFtqYXZhXSBb6rK9
6riwXSAgYW5hbHl6ZXIgPSBvcmcuYXBhY2hlLmx1Y2VuZS5hbmFseXNpcy5jamsuQ0pLQW5hbHl6
ZXINCj4gICAgICBbamF2YV0gcGhyYXNlID0g6rK96riwDQo+ICAgICAgW2phdmFdIHF1ZXJ5ID0g
6rK96riwDQo+ICAgDQo+IA0KPiBTdGFuZGFyZCBhbmFseXplciBkaWRuJ3QgdG9rZW5pemVkIHRo
ZSBLb3JlYW4gQ2hhcmFjdGVyIGF0IGFsbC4uLi4NCj4gDQo+IFVnLi4uLiAgbG9vayBsaWtlIA0K
PiAgaHR0cDovL2lzc3Vlcy5hcGFjaGUub3JnL2ppcmEvYnJvd3NlL0xVQ0VORS00NDQNCj4gIGRp
ZG4ndCBlZmZlY3QgYXQgYWxsIGZvciBLb3JlYW4uDQo+IA0KPiANCj4gVGhhbmtzIA0KPiANCj4g
WW91bmdobw0KPiANCj4gLS0tLS0gT3JpZ2luYWwgTWVzc2FnZSAtLS0tLSANCj4gRnJvbTogIktv
amkgU2VraWd1Y2hpIiA8a29qaS5zZWtpZ3VjaGlAbTQuZGlvbi5uZS5qcD4NCj4gVG86IDxqYXZh
LXVzZXJAbHVjZW5lLmFwYWNoZS5vcmc+OyAiWW91bmdobyBDaG8iIDx5b3VuZ2hvQG5hbm5ldC5j
by5rcj4NCj4gU2VudDogVGh1cnNkYXksIE9jdG9iZXIgMjcsIDIwMDUgMTE6NDcgQU0NCj4gU3Vi
amVjdDogUkU6IGtvcmVhbiBhbmQgbHVjZW5lDQo+IA0KPiANCj4gPiBIZWxsbyBZb3VuZ2hvLA0K
PiA+IA0KPiA+IEkgZG9uJ3QgdW5kZXJzdGFuZCB3aHkgeW91IGNvdWxkbid0IGdldCBoaXRzIHJl
c3VsdCBpbiBKYXBhbmVzZSwNCj4gPiB0aG91Z2gsIHlvdSBoYWQgYmV0dGVyIGNoZWNrIHdoeSB0
aGUgcXVlcnkgd2FzIGVtcHR5IHdpdGggS29yZWFuIGRhdGE6DQo+ID4gDQo+ID4gPiBGb3IgS29y
ZWFuDQo+ID4gPiAgICAgIFtlY2hvXSBSdW5uaW5nIGxpYS5hbmFseXNpcy5pMThuLktvcmVhbkRl
bW8uLi4NCj4gPiA+ICAgICAgW2phdmFdIHBocmFzZSA9IOqyvQ0KPiA+ID4gICAgICBbamF2YV0g
cXVlcnkgPSANCj4gPiANCj4gPiBUaGUgbGFzdCBsaW5lIHNob3VsZCBiZSBxdWVyeSA9IOqyvQ0K
PiA+IHRvIGdldCBoaXRzIHJlc3VsdC4gQ2FuIHlvdSBjaGVjayB3aHkgU3RhbmRhcmRBbmFseXpl
cg0KPiA+IHJlbW92ZXMgIuqyvSIgZHVyaW5nIHRva2VuaXppbmc/DQo+ID4gDQo+ID4gS29qaQ0K
PiA+IA0KPiA+ID4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4gPiA+IEZyb206IFlvdW5n
aG8gQ2hvIFttYWlsdG86eW91bmdob0BuYW5uZXQuY28ua3JdDQo+ID4gPiBTZW50OiBUaHVyc2Rh
eSwgT2N0b2JlciAyNywgMjAwNSAxMTozNyBBTQ0KPiA+ID4gVG86IGphdmEtdXNlckBsdWNlbmUu
YXBhY2hlLm9yZw0KPiA+ID4gU3ViamVjdDogUmU6IGtvcmVhbiBhbmQgbHVjZW5lDQo+ID4gPiAN
Cj4gPiA+IA0KPiA+ID4gSGVsbG8gS29qaSwNCj4gPiA+IA0KPiA+ID4gVGhhbmtzIGZvciB5b3Vy
IGtpbmQgcmVwbHkuDQo+ID4gPiANCj4gPiA+IFllcywgSSB1c2VkIFF1ZXJ5UGFyc2VyLiBub3Jt
YWx5IEkgdXNlZA0KPiA+ID4gUXVlcnkgPSBRdWVyeVBhcnNlci5wYXJzZSggKSBtZXRob2QuDQo+
ID4gPiANCj4gPiA+IEkgcHV0IHlvdXIgc2FtcGxlIGNvZGUgaW50byBsaWEuYW5hbHlzaXMuaTE4
biBwYWNrYWdlIGluIEx1Y2VuZUFjdGlvbg0KPiA+ID4gYW5kIHJ1biBKYXBhbmVzZURlbW8gdXNp
bmcgMS40IGFuZCAxLjkgDQo+ID4gPiANCj4gPiA+IHJlc3VsdHMgYXJlIA0KPiA+ID4gDQo+ID4g
PiAgICAgIFtlY2hvXSBSdW5uaW5nIGxpYS5hbmFseXNpcy5pMThuLkphcGFuZXNlRGVtby4uLg0K
PiA+ID4gICAgICBbamF2YV0gcXVlcnkgPSBjb250ZW50OuODqT/jg6Hjg7PlsYsNCj4gPiA+IA0K
PiA+ID4gSSBjYW4ndCBnZXQgaGl0cyByZXN1bHQuDQo+ID4gPiANCj4gPiA+IEZvciBLb3JlYW4N
Cj4gPiA+ICAgICAgW2VjaG9dIFJ1bm5pbmcgbGlhLmFuYWx5c2lzLmkxOG4uS29yZWFuRGVtby4u
Lg0KPiA+ID4gICAgICBbamF2YV0gcGhyYXNlID0g6rK9DQo+ID4gPiAgICAgIFtqYXZhXSBxdWVy
eSA9IA0KPiA+ID4gDQo+ID4gPiBJIGNhbid0IGdldCBxdWVyeSBwYXJzZSByZXN1bHQuDQo+ID4g
PiANCj4gPiA+IFRoYW5rcywNCj4gPiA+IA0KPiA+ID4gWW91bmdobw0KPiA+ID4gDQo+ID4gPiAN
Cj4gPiA+IA0KPiA+ID4gLS0tLS0gT3JpZ2luYWwgTWVzc2FnZSAtLS0tLSANCj4gPiA+IEZyb206
ICJLb2ppIFNla2lndWNoaSIgPGtvamkuc2VraWd1Y2hpQG00LmRpb24ubmUuanA+DQo+ID4gPiBU
bzogPGphdmEtdXNlckBsdWNlbmUuYXBhY2hlLm9yZz47ICJZb3VuZ2hvIENobyIgPHlvdW5naG9A
bmFubmV0LmNvLmtyPg0KPiA+ID4gU2VudDogVGh1cnNkYXksIE9jdG9iZXIgMjcsIDIwMDUgOTo0
OCBBTQ0KPiA+ID4gU3ViamVjdDogUkU6IGtvcmVhbiBhbmQgbHVjZW5lDQo+ID4gPiANCj4gPiA+
IA0KPiA+ID4gPiBIaSBZb3VuZ2hvLA0KPiA+ID4gPiANCj4gPiA+ID4gV2l0aCByZWdhcmQgdG8g
SmFwYW5lc2UsIHVzaW5nIFN0YW5kYXJkQW5hbHl6ZXIsDQo+ID4gPiA+IEkgY2FuIHNlYXJjaCBh
IHdvcmQvcGhhc2UuDQo+ID4gPiA+IA0KPiA+ID4gPiBEaWQgeW91IHVzZSBRdWVyeVBhcnNlcj8g
U3RhbmRhcmRBbmFseXplciB0b2tlbml6ZXMNCj4gPiA+ID4gQ0pLIGNoYXJhY3RlcnMgaW50byBh
IHN0cmVhbSBvZiBzaW5nbGUgY2hhcmFjdGVyLg0KPiA+ID4gPiBVc2UgUXVlcnlQYXJzZXIgdG8g
Z2V0IGEgUGhyYXNlUXVlcnkgYW5kIHNlYXJjaCB0aGUgcXVlcnkuDQo+ID4gPiA+IA0KPiA+ID4g
PiBQbGVhc2Ugc2VlIHRoZSBmb2xsb3dpbmcgc2FtcGxlIGNvZGUuIFJlcGxhY2UgSmFwYW5lc2UN
Cj4gPiA+ID4gImNvbnRlbnRzIiBhbmQgKHNlYXJjaCB0YXJnZXQpICJwaHJhc2UiIHdpdGggS29y
ZWFuIGluIHRoZSANCj4gPiA+IHByb2dyYW0gYW5kIHJ1bi4NCj4gPiA+ID4gDQo+ID4gPiA+IHJl
Z2FyZHMsDQo+ID4gPiA+IA0KPiA+ID4gPiBLb2ppDQo+ID4gPiA+IA0KPiA+ID4gPiA9PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCj4gPiA+ID4gaW1wb3J0IGph
dmEuaW8uSU9FeGNlcHRpb247DQo+ID4gPiA+IGltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5hbmFs
eXNpcy5BbmFseXplcjsNCj4gPiA+ID4gaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLmFuYWx5c2lz
LnN0YW5kYXJkLlN0YW5kYXJkQW5hbHl6ZXI7DQo+ID4gPiA+IGltcG9ydCBvcmcuYXBhY2hlLmx1
Y2VuZS5hbmFseXNpcy5jamsuQ0pLQW5hbHl6ZXI7DQo+ID4gPiA+IGltcG9ydCBvcmcuYXBhY2hl
Lmx1Y2VuZS5zdG9yZS5EaXJlY3Rvcnk7DQo+ID4gPiA+IGltcG9ydCBvcmcuYXBhY2hlLmx1Y2Vu
ZS5zdG9yZS5SQU1EaXJlY3Rvcnk7DQo+ID4gPiA+IGltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5p
bmRleC5JbmRleFdyaXRlcjsNCj4gPiA+ID4gaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLmRvY3Vt
ZW50LkRvY3VtZW50Ow0KPiA+ID4gPiBpbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuZG9jdW1lbnQu
RmllbGQ7DQo+ID4gPiA+IGltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5zZWFyY2guSW5kZXhTZWFy
Y2hlcjsNCj4gPiA+ID4gaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLnNlYXJjaC5IaXRzOw0KPiA+
ID4gPiBpbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuc2VhcmNoLlF1ZXJ5Ow0KPiA+ID4gPiBpbXBv
cnQgb3JnLmFwYWNoZS5sdWNlbmUucXVlcnlQYXJzZXIuUXVlcnlQYXJzZXI7DQo+ID4gPiA+IGlt
cG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5xdWVyeVBhcnNlci5QYXJzZUV4Y2VwdGlvbjsNCj4gPiA+
ID4gDQo+ID4gPiA+IHB1YmxpYyBjbGFzcyBKYXBhbmVzZUJ5U3RhbmRhcmRBbmFseXplciB7DQo+
ID4gPiA+IA0KPiA+ID4gPiAgICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIEZJRUxEX0NP
TlRFTlQgPSAiY29udGVudCI7DQo+ID4gPiA+ICAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBTdHJp
bmdbXSBjb250ZW50cyA9IHsNCj4gPiA+ID4gIuadseS6rOOBq+OBr+OBiuOBhOOBl+OBhOODqeOD
vOODoeODs+Wxi+OBjOOBn+OBj+OBleOCk+OBguOCiuOBvuOBmeOAgiIsDQo+ID4gPiA+ICLljJfm
tbfpgZPjgavjgoLjgYrjgYTjgZfjgYTjg6njg7zjg6Hjg7PlsYvjgYzjgYLjgorjgb7jgZnjgIIi
DQo+ID4gPiA+ICAgICB9Ow0KPiA+ID4gPiAgICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5n
IHBocmFzZSA9ICLjg6njg7zjg6Hjg7PlsYsiOw0KPiA+ID4gPiAgICAgLy9wcml2YXRlIHN0YXRp
YyBmaW5hbCBTdHJpbmcgcGhyYXNlID0gIuWxiyI7DQo+ID4gPiA+ICAgICBwcml2YXRlIHN0YXRp
YyBBbmFseXplciBhbmFseXplciA9IG51bGw7DQo+ID4gPiA+IA0KPiA+ID4gPiAgICAgcHVibGlj
IHN0YXRpYyB2b2lkIG1haW4oIFN0cmluZ1tdIGFyZ3MgKSB0aHJvd3MgDQo+ID4gPiBJT0V4Y2Vw
dGlvbiwgUGFyc2VFeGNlcHRpb24gew0KPiA+ID4gPiBEaXJlY3RvcnkgZGlyZWN0b3J5ID0gbWFr
ZUluZGV4KCk7DQo+ID4gPiA+IHNlYXJjaCggZGlyZWN0b3J5ICk7DQo+ID4gPiA+IGRpcmVjdG9y
eS5jbG9zZSgpOw0KPiA+ID4gPiAgICAgfQ0KPiA+ID4gPiANCj4gPiA+ID4gICAgIHByaXZhdGUg
c3RhdGljIEFuYWx5emVyIGdldEFuYWx5emVyKCl7DQo+ID4gPiA+IGlmKCBhbmFseXplciA9PSBu
dWxsICl7DQo+ID4gPiA+ICAgICBhbmFseXplciA9IG5ldyBTdGFuZGFyZEFuYWx5emVyKCk7DQo+
ID4gPiA+ICAgICAvL2FuYWx5emVyID0gbmV3IENKS0FuYWx5emVyKCk7DQo+ID4gPiA+IH0NCj4g
PiA+ID4gcmV0dXJuIGFuYWx5emVyOw0KPiA+ID4gPiAgICAgfQ0KPiA+ID4gPiANCj4gPiA+ID4g
ICAgIHByaXZhdGUgc3RhdGljIERpcmVjdG9yeSBtYWtlSW5kZXgoKSB0aHJvd3MgSU9FeGNlcHRp
b24gew0KPiA+ID4gPiBEaXJlY3RvcnkgZGlyZWN0b3J5ID0gbmV3IFJBTURpcmVjdG9yeSgpOw0K
PiA+ID4gPiBJbmRleFdyaXRlciB3cml0ZXIgPSBuZXcgSW5kZXhXcml0ZXIoIGRpcmVjdG9yeSwg
Z2V0QW5hbHl6ZXIoKSwgdHJ1ZSApOw0KPiA+ID4gPiBmb3IoIGludCBpID0gMDsgaSA8IGNvbnRl
bnRzLmxlbmd0aDsgaSsrICl7DQo+ID4gPiA+ICAgICBEb2N1bWVudCBkb2MgPSBuZXcgRG9jdW1l
bnQoKTsNCj4gPiA+ID4gICAgIGRvYy5hZGQoIG5ldyBGaWVsZCggRklFTERfQ09OVEVOVCwgY29u
dGVudHNbaV0sIA0KPiA+ID4gRmllbGQuU3RvcmUuWUVTLCBGaWVsZC5JbmRleC5UT0tFTklaRUQg
KSApOw0KPiA+ID4gPiAgICAgd3JpdGVyLmFkZERvY3VtZW50KCBkb2MgKTsNCj4gPiA+ID4gfQ0K
PiA+ID4gPiB3cml0ZXIuY2xvc2UoKTsNCj4gPiA+ID4gcmV0dXJuIGRpcmVjdG9yeTsNCj4gPiA+
ID4gICAgIH0NCj4gPiA+ID4gDQo+ID4gPiA+ICAgICBwcml2YXRlIHN0YXRpYyB2b2lkIHNlYXJj
aCggRGlyZWN0b3J5IGRpcmVjdG9yeSApIHRocm93cyANCj4gPiA+IElPRXhjZXB0aW9uLCBQYXJz
ZUV4Y2VwdGlvbiB7DQo+ID4gPiA+IEluZGV4U2VhcmNoZXIgc2VhcmNoZXIgPSBuZXcgSW5kZXhT
ZWFyY2hlciggZGlyZWN0b3J5ICk7DQo+ID4gPiA+IFF1ZXJ5UGFyc2VyIHBhcnNlciA9IG5ldyBR
dWVyeVBhcnNlciggRklFTERfQ09OVEVOVCwgZ2V0QW5hbHl6ZXIoKSApOw0KPiA+ID4gPiBRdWVy
eSBxdWVyeSA9IHBhcnNlci5wYXJzZSggcGhyYXNlICk7DQo+ID4gPiA+IFN5c3RlbS5vdXQucHJp
bnRsbiggInF1ZXJ5ID0gIiArIHF1ZXJ5ICk7DQo+ID4gPiA+IEhpdHMgaGl0cyA9IHNlYXJjaGVy
LnNlYXJjaCggcXVlcnkgKTsNCj4gPiA+ID4gZm9yKCBpbnQgaSA9IDA7IGkgPCBoaXRzLmxlbmd0
aCgpOyBpKysgKQ0KPiA+ID4gPiAgICAgU3lzdGVtLm91dC5wcmludGxuKCAiZG9jID0gIiArIGhp
dHMuZG9jKCBpICkuZ2V0KCBGSUVMRF9DT05URU5UICkgKTsNCj4gPiA+ID4gc2VhcmNoZXIuY2xv
c2UoKTsNCj4gPiA+ID4gICAgIH0NCj4gPiA+ID4gfQ0KPiA+ID4gPiANCj4gPiA+ID4gDQo+ID4g
PiA+ID4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4gPiA+ID4gPiBGcm9tOiBZb3VuZ2hv
IENobyBbbWFpbHRvOnlvdW5naG9AbmFubmV0LmNvLmtyXQ0KPiA+ID4gPiA+IFNlbnQ6IFRodXJz
ZGF5LCBPY3RvYmVyIDI3LCAyMDA1IDg6MTggQU0NCj4gPiA+ID4gPiBUbzogamF2YS11c2VyQGx1
Y2VuZS5hcGFjaGUub3JnOyBDaGVvbGdvbyBLYW5nDQo+ID4gPiA+ID4gU3ViamVjdDogUmU6IGtv
cmVhbiBhbmQgbHVjZW5lDQo+ID4gPiA+ID4gDQo+ID4gPiA+ID4gDQo+ID4gPiA+ID4gSGVsbG8g
Q2hlb2xnb28sDQo+ID4gPiA+ID4gDQo+ID4gPiA+ID4gTm93IEkgdXBkYXRlZCBteSBsdWNlbmUg
dmVyc2lvbiB0byAxLjkgZm9yIHVzaW5nIFN0YW5kYXJkQW5hbHl6ZXIgDQo+ID4gPiA+ID4gZm9y
IEtvcmVhbi4NCj4gPiA+ID4gPiBBbmQgdGVzdGVkIHlvdXIgcGF0Y2ggd2hpY2ggaXMgYWxyZWFk
eSBhZG9wdGVkIGluIDEuOQ0KPiA+ID4gPiA+IA0KPiA+ID4gPiA+IGh0dHA6Ly9pc3N1ZXMuYXBh
Y2hlLm9yZy9qaXJhL2Jyb3dzZS9MVUNFTkUtNDQ0DQo+ID4gPiA+ID4gDQo+ID4gPiA+ID4gQnV0
IFN0aWxsIEkgaGF2ZSBubyBnb29kICByZXN1bHRzIHdpdGggS29yZWFuIGNvbXBhcmUgd2l0aCAN
Cj4gPiA+IENKS0FuYWx5emVyLg0KPiA+ID4gPiA+IA0KPiA+ID4gPiA+IFNpbmdsZSBjaGFyYWN0
ZXIgaXMgZ29vZCBtYXRjaCBidXQgbW9yZSB0d28gY2hhcmFjdGVyIHdvcmQgDQo+ID4gPiA+ID4g
ZG9lc24ndCBtYXRjaCBhdCBhbGwuDQo+ID4gPiA+ID4gDQo+ID4gPiA+ID4gQW0gSSBzb21ldGhp
bmcgbWlzc2luZyBvciBzdGlsbCB0aGVyZSBuZWVkIHNvbWUgbW9yZSB3b3JrcyA/DQo+ID4gPiA+
ID4gDQo+ID4gPiA+ID4gDQo+ID4gPiA+ID4gVGhhbmtzLA0KPiA+ID4gPiA+IA0KPiA+ID4gPiA+
IFlvdW5naG8uDQo+ID4gPiA+ID4gIA0KPiA+ID4gPiA+IA0KPiA+ID4gPiA+IC0tLS0tIE9yaWdp
bmFsIE1lc3NhZ2UgLS0tLS0gDQo+ID4gPiA+ID4gRnJvbTogIkNoZW9sZ29vIEthbmciIDxhcHBs
ZXJAZ21haWwuY29tPg0KPiA+ID4gPiA+IFRvOiA8amF2YS11c2VyQGx1Y2VuZS5hcGFjaGUub3Jn
PjsgIkpvaG4gV2FuZyIgPGpvaG4ud2FuZ0BnbWFpbC5jb20+DQo+ID4gPiA+ID4gU2VudDogVHVl
c2RheSwgT2N0b2JlciAwNCwgMjAwNSAxMDoxMSBBTQ0KPiA+ID4gPiA+IFN1YmplY3Q6IFJlOiBr
b3JlYW4gYW5kIGx1Y2VuZQ0KPiA+ID4gPiA+IA0KPiA+ID4gPiA+IA0KPiA+ID4gPiA+ID4gU3Rh
bmRhcmRBbmFseXplcidzIEphdmFDQyBiYXNlZCBTdGFuZGFyZFRva2VuaXplci5qaiBjYW5ub3Qg
cmVhZA0KPiA+ID4gPiA+ID4gS29yZWFuIHBhcnQgb2YgVW5pY29kZSBjaGFyYWN0ZXIgYmxvY2tz
Lg0KPiA+ID4gPiA+ID4gDQo+ID4gPiA+ID4gPiBZb3Ugc2hvdWxkIDEpIHVzZSBDSktBbmFseXpl
ciBvciAyKSBhZGQgS29yZWFuIGNoYXJhY3Rlcg0KPiA+ID4gPiA+ID4gYmxvY2soMHhBQzAwfjB4
RDdBRikgdG8gdGhlIENKSyB0b2tlbiBkZWZpbml0aW9uIG9uIHRoZQ0KPiA+ID4gPiA+ID4gU3Rh
bmRhcmRUb2tlbml6ZXIuamogZmlsZS4NCj4gPiA+ID4gPiA+IA0KPiA+ID4gPiA+ID4gSG9wZSBp
dCBoZWxwcy4NCj4gPiA+ID4gPiA+IA0KPiA+ID4gPiA+ID4gDQo+ID4gPiA+ID4gPiBPbiAxMC80
LzA1LCBKb2huIFdhbmcgPGpvaG4ud2FuZ0BnbWFpbC5jb20+IHdyb3RlOg0KPiA+ID4gPiA+ID4g
PiBIaToNCj4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4gV2UgYXJlIHJ1bm5pbmcgaW50byBw
cm9ibGVtcyB3aXRoIHNlYXJjaGluZyBvbiBrb3JlYW4gDQo+ID4gPiA+ID4gZG9jdW1lbnRzLiBX
ZSBhcmUNCj4gPiA+ID4gPiA+ID4gdXNpbmcgdGhlIFN0YW5kYXJkQW5hbHl6ZXIgYW5kIGV2ZXJ5
dGhpbmcgd29ya3Mgd2l0aCBDaGluZXNlIA0KPiA+ID4gPiA+IGFuZCBKYXBhbmVzZS4NCj4gPiA+
ID4gPiA+ID4gQXJlIHRoZXJlIGtub3duIHByb2JsZW1zIHdpdGggS29yZWFuIHdpdGggTHVjZW5l
Pw0KPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gPiBUaGFua3MNCj4gPiA+ID4gPiA+ID4NCj4g
PiA+ID4gPiA+ID4gLUpvaG4NCj4gPiA+ID4gPiA+ID4NCj4gPiA+ID4gPiA+ID4NCj4gPiA+ID4g
PiA+IA0KPiA+ID4gPiA+ID4gDQo+ID4gPiA+ID4gPiAtLQ0KPiA+ID4gPiA+ID4gQ2hlb2xnb28N
Cj4gPiA+ID4gPiA+IA0KPiA+ID4gPiA+ID4gDQo+ID4gPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCj4gPiA+ID4g
PiA+IFRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IGphdmEtdXNlci11bnN1YnNjcmliZUBsdWNlbmUu
YXBhY2hlLm9yZw0KPiA+ID4gPiA+ID4gRm9yIGFkZGl0aW9uYWwgY29tbWFuZHMsIGUtbWFpbDog
amF2YS11c2VyLWhlbHBAbHVjZW5lLmFwYWNoZS5vcmcNCj4gPiA+ID4gDQo+ID4gPiA+IA0KPiA+
ID4gPiANCj4gPiA+ID4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQo+ID4gPiA+IFRvIHVuc3Vic2NyaWJlLCBlLW1h
aWw6IGphdmEtdXNlci11bnN1YnNjcmliZUBsdWNlbmUuYXBhY2hlLm9yZw0KPiA+ID4gPiBGb3Ig
YWRkaXRpb25hbCBjb21tYW5kcywgZS1tYWlsOiBqYXZhLXVzZXItaGVscEBsdWNlbmUuYXBhY2hl
Lm9yZw0KPiA+ID4gDQo+ID4gDQo+ID4gDQo+ID4gDQo+ID4gLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQo+ID4gVG8g
dW5zdWJzY3JpYmUsIGUtbWFpbDogamF2YS11c2VyLXVuc3Vic2NyaWJlQGx1Y2VuZS5hcGFjaGUu
b3JnDQo+ID4gRm9yIGFkZGl0aW9uYWwgY29tbWFuZHMsIGUtbWFpbDogamF2YS11c2VyLWhlbHBA
bHVjZW5lLmFwYWNoZS5vcmc=




From java-user-return-17160-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 27 03:54:13 2005
Return-Path: <java-user-return-17160-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10198 invoked from network); 27 Oct 2005 03:54:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Oct 2005 03:54:12 -0000
Received: (qmail 46623 invoked by uid 500); 27 Oct 2005 03:54:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46602 invoked by uid 500); 27 Oct 2005 03:54:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46590 invoked by uid 500); 27 Oct 2005 03:54:05 -0000
Delivered-To: apmail-jakarta-lucene-user@jakarta.apache.org
Received: (qmail 46587 invoked by uid 99); 27 Oct 2005 03:54:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 20:54:05 -0700
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.82.201 as permitted sender)
Received: from [66.249.82.201] (HELO xproxy.gmail.com) (66.249.82.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 20:54:01 -0700
Received: by xproxy.gmail.com with SMTP id h28so215281wxd
        for <lucene-user@jakarta.apache.org>; Wed, 26 Oct 2005 20:53:43 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:references;
        b=XqZ49Am9Wy20pBfWlCYiNkb/QZQFguxToS9A8/PNoSgrkgD1GGDcfsvG75sK+R67uxC660RdG+MyXIhg6IokRkEjwTHAMBtOO1YKoVH6vvgdf1gWgjzyY1/GyViicRM3jVDyBxoKvVVbDqxCfSiPJa6wpcRxzrgcrdSgFpFQDw8=
Received: by 10.65.156.5 with SMTP id i5mr1197017qbo;
        Wed, 26 Oct 2005 20:53:42 -0700 (PDT)
Received: by 10.65.121.3 with HTTP; Wed, 26 Oct 2005 20:53:42 -0700 (PDT)
Message-ID: <c68e39170510262053u7cd00f1drde3f449aa2ff00ba@mail.gmail.com>
Date: Wed, 26 Oct 2005 23:53:42 -0400
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Segments file format
Cc: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <09A5C5BC-703F-4DF1-9089-5EBC1E6FAD2C@otherwise.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_8480_18632584.1130385222882"
References: <09A5C5BC-703F-4DF1-9089-5EBC1E6FAD2C@otherwise.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_8480_18632584.1130385222882
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi Bill,
I can't seem to correctly parse it either...

Format =3D FF FF FF FF
Version =3D 00 00 00 00 00 00 00 28
SegCount =3D 00 00 00 4E
???? =3D 00 00 00 04

-Yonik
Now hiring -- http://forms.cnet.com/slink?231706

On 10/26/05, Bill Tschumy <bill@otherwise.com> wrote:
>
> I have been trying to reconstitute a corrupted index. I have been
> looking at the segments file with a hex-editor and its format doesn't
> seem to quite agree with the description found at:
> <http://lucene.apache.org/java/docs/fileformats.html>
>
> It indicates the segments file looks like this:
> Segments --> Format, Version, SegCount, <SegName, SegSize>SegCount
>
> However, the couple I have looked at all have an additional
> undocumented UInt32 (probably) field after the Version field. What
> is this and why is it not in the documentation?
>
> Here is the hex from a small segment file to show you. The 00 00 00
> 4E at the end of the first line seems like it should not be there.
> Am I mis-reading something?
>
> FF FF FF FF 00 00 00 00 00 00 00 28 00 00 00 4E
> 00 00 00 04 02 5F 6A 00 00 00 0A 03 5F 31 33 00
> 00 00 0A 03 5F 31 6E 00 00 00 0A 03 5F 32 35 00
> 00 00 09
>
> --
> Bill Tschumy
> Otherwise -- Austin, TX
> http://www.otherwise.com
>

------=_Part_8480_18632584.1130385222882--

From java-user-return-17161-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 27 03:54:19 2005
Return-Path: <java-user-return-17161-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10241 invoked from network); 27 Oct 2005 03:54:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Oct 2005 03:54:18 -0000
Received: (qmail 46798 invoked by uid 500); 27 Oct 2005 03:54:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46730 invoked by uid 500); 27 Oct 2005 03:54:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46684 invoked by uid 99); 27 Oct 2005 03:54:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 20:54:06 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.82.196 as permitted sender)
Received: from [66.249.82.196] (HELO xproxy.gmail.com) (66.249.82.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 20:54:02 -0700
Received: by xproxy.gmail.com with SMTP id i26so205114wxd
        for <java-user@lucene.apache.org>; Wed, 26 Oct 2005 20:53:43 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:references;
        b=XqZ49Am9Wy20pBfWlCYiNkb/QZQFguxToS9A8/PNoSgrkgD1GGDcfsvG75sK+R67uxC660RdG+MyXIhg6IokRkEjwTHAMBtOO1YKoVH6vvgdf1gWgjzyY1/GyViicRM3jVDyBxoKvVVbDqxCfSiPJa6wpcRxzrgcrdSgFpFQDw8=
Received: by 10.65.156.5 with SMTP id i5mr1197017qbo;
        Wed, 26 Oct 2005 20:53:42 -0700 (PDT)
Received: by 10.65.121.3 with HTTP; Wed, 26 Oct 2005 20:53:42 -0700 (PDT)
Message-ID: <c68e39170510262053u7cd00f1drde3f449aa2ff00ba@mail.gmail.com>
Date: Wed, 26 Oct 2005 23:53:42 -0400
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Segments file format
Cc: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <09A5C5BC-703F-4DF1-9089-5EBC1E6FAD2C@otherwise.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_8480_18632584.1130385222882"
References: <09A5C5BC-703F-4DF1-9089-5EBC1E6FAD2C@otherwise.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_8480_18632584.1130385222882
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi Bill,
I can't seem to correctly parse it either...

Format =3D FF FF FF FF
Version =3D 00 00 00 00 00 00 00 28
SegCount =3D 00 00 00 4E
???? =3D 00 00 00 04

-Yonik
Now hiring -- http://forms.cnet.com/slink?231706

On 10/26/05, Bill Tschumy <bill@otherwise.com> wrote:
>
> I have been trying to reconstitute a corrupted index. I have been
> looking at the segments file with a hex-editor and its format doesn't
> seem to quite agree with the description found at:
> <http://lucene.apache.org/java/docs/fileformats.html>
>
> It indicates the segments file looks like this:
> Segments --> Format, Version, SegCount, <SegName, SegSize>SegCount
>
> However, the couple I have looked at all have an additional
> undocumented UInt32 (probably) field after the Version field. What
> is this and why is it not in the documentation?
>
> Here is the hex from a small segment file to show you. The 00 00 00
> 4E at the end of the first line seems like it should not be there.
> Am I mis-reading something?
>
> FF FF FF FF 00 00 00 00 00 00 00 28 00 00 00 4E
> 00 00 00 04 02 5F 6A 00 00 00 0A 03 5F 31 33 00
> 00 00 0A 03 5F 31 6E 00 00 00 0A 03 5F 32 35 00
> 00 00 09
>
> --
> Bill Tschumy
> Otherwise -- Austin, TX
> http://www.otherwise.com
>

------=_Part_8480_18632584.1130385222882--

From java-user-return-17162-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 27 04:09:30 2005
Return-Path: <java-user-return-17162-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20576 invoked from network); 27 Oct 2005 04:09:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Oct 2005 04:09:30 -0000
Received: (qmail 58722 invoked by uid 500); 27 Oct 2005 04:09:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58696 invoked by uid 500); 27 Oct 2005 04:09:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58685 invoked by uid 500); 27 Oct 2005 04:09:24 -0000
Delivered-To: apmail-jakarta-lucene-user@jakarta.apache.org
Received: (qmail 58682 invoked by uid 99); 27 Oct 2005 04:09:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 21:09:24 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.82.205 as permitted sender)
Received: from [66.249.82.205] (HELO xproxy.gmail.com) (66.249.82.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 21:09:21 -0700
Received: by xproxy.gmail.com with SMTP id i28so175329wxd
        for <lucene-user@jakarta.apache.org>; Wed, 26 Oct 2005 21:09:03 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:references;
        b=GSvJvt1d/OnwEjW+XkZ1vhGn/wJUWqscPgXrcQmPCQf3bbqk79ga43CNezN/Lta+/PcfLefhXU+ammOxUxFf3XErNn80DFPva5FUeVUpLPg17vd1hrrthZdF74CaO3lmvZMCwSszZ+cKDA0NM7kKkN4TkCT5/F+0AcYRb7eNzw4=
Received: by 10.65.239.12 with SMTP id q12mr1239150qbr;
        Wed, 26 Oct 2005 21:09:02 -0700 (PDT)
Received: by 10.65.121.3 with HTTP; Wed, 26 Oct 2005 21:09:02 -0700 (PDT)
Message-ID: <c68e39170510262109p10031c34y1d5dc29b221a5dd5@mail.gmail.com>
Date: Thu, 27 Oct 2005 00:09:02 -0400
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Segments file format
Cc: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <09A5C5BC-703F-4DF1-9089-5EBC1E6FAD2C@otherwise.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_8620_930099.1130386142329"
References: <09A5C5BC-703F-4DF1-9089-5EBC1E6FAD2C@otherwise.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_8620_930099.1130386142329
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

There is a currently undocumented extra int32.
Here's the code for writing the segment file:

output.writeInt(FORMAT); // write FORMAT
output.writeLong(++version); // every write changes the index
output.writeInt(counter); // write counter
output.writeInt(size()); // write infos
for (int i =3D 0; i < size(); i++) {
SegmentInfo si =3D info(i);
output.writeString(si.name <http://si.name>);
output.writeInt(si.docCount);
}

The counter is just used to name new segments, so it's not needed for
reading an index.
It was added at the same time Format was added (Apr 2004).

-Yonik
Now hiring -- http://forms.cnet.com/slink?231706

On 10/26/05, Bill Tschumy <bill@otherwise.com> wrote:
>
> I have been trying to reconstitute a corrupted index. I have been
> looking at the segments file with a hex-editor and its format doesn't
> seem to quite agree with the description found at:
> <http://lucene.apache.org/java/docs/fileformats.html>
>
> It indicates the segments file looks like this:
> Segments --> Format, Version, SegCount, <SegName, SegSize>SegCount
>
> However, the couple I have looked at all have an additional
> undocumented UInt32 (probably) field after the Version field. What
> is this and why is it not in the documentation?
>
> Here is the hex from a small segment file to show you. The 00 00 00
> 4E at the end of the first line seems like it should not be there.
> Am I mis-reading something?
>
> FF FF FF FF 00 00 00 00 00 00 00 28 00 00 00 4E
> 00 00 00 04 02 5F 6A 00 00 00 0A 03 5F 31 33 00
> 00 00 0A 03 5F 31 6E 00 00 00 0A 03 5F 32 35 00
> 00 00 09
>
> --
> Bill Tschumy
> Otherwise -- Austin, TX
> http://www.otherwise.com
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_8620_930099.1130386142329--

From java-user-return-17163-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 27 04:09:38 2005
Return-Path: <java-user-return-17163-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20654 invoked from network); 27 Oct 2005 04:09:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Oct 2005 04:09:37 -0000
Received: (qmail 59694 invoked by uid 500); 27 Oct 2005 04:09:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59634 invoked by uid 500); 27 Oct 2005 04:09:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59609 invoked by uid 99); 27 Oct 2005 04:09:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 21:09:27 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.82.193 as permitted sender)
Received: from [66.249.82.193] (HELO xproxy.gmail.com) (66.249.82.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 21:09:21 -0700
Received: by xproxy.gmail.com with SMTP id i26so208505wxd
        for <java-user@lucene.apache.org>; Wed, 26 Oct 2005 21:09:03 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:references;
        b=GSvJvt1d/OnwEjW+XkZ1vhGn/wJUWqscPgXrcQmPCQf3bbqk79ga43CNezN/Lta+/PcfLefhXU+ammOxUxFf3XErNn80DFPva5FUeVUpLPg17vd1hrrthZdF74CaO3lmvZMCwSszZ+cKDA0NM7kKkN4TkCT5/F+0AcYRb7eNzw4=
Received: by 10.65.239.12 with SMTP id q12mr1239150qbr;
        Wed, 26 Oct 2005 21:09:02 -0700 (PDT)
Received: by 10.65.121.3 with HTTP; Wed, 26 Oct 2005 21:09:02 -0700 (PDT)
Message-ID: <c68e39170510262109p10031c34y1d5dc29b221a5dd5@mail.gmail.com>
Date: Thu, 27 Oct 2005 00:09:02 -0400
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Segments file format
Cc: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <09A5C5BC-703F-4DF1-9089-5EBC1E6FAD2C@otherwise.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_8620_930099.1130386142329"
References: <09A5C5BC-703F-4DF1-9089-5EBC1E6FAD2C@otherwise.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_8620_930099.1130386142329
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

There is a currently undocumented extra int32.
Here's the code for writing the segment file:

output.writeInt(FORMAT); // write FORMAT
output.writeLong(++version); // every write changes the index
output.writeInt(counter); // write counter
output.writeInt(size()); // write infos
for (int i =3D 0; i < size(); i++) {
SegmentInfo si =3D info(i);
output.writeString(si.name <http://si.name>);
output.writeInt(si.docCount);
}

The counter is just used to name new segments, so it's not needed for
reading an index.
It was added at the same time Format was added (Apr 2004).

-Yonik
Now hiring -- http://forms.cnet.com/slink?231706

On 10/26/05, Bill Tschumy <bill@otherwise.com> wrote:
>
> I have been trying to reconstitute a corrupted index. I have been
> looking at the segments file with a hex-editor and its format doesn't
> seem to quite agree with the description found at:
> <http://lucene.apache.org/java/docs/fileformats.html>
>
> It indicates the segments file looks like this:
> Segments --> Format, Version, SegCount, <SegName, SegSize>SegCount
>
> However, the couple I have looked at all have an additional
> undocumented UInt32 (probably) field after the Version field. What
> is this and why is it not in the documentation?
>
> Here is the hex from a small segment file to show you. The 00 00 00
> 4E at the end of the first line seems like it should not be there.
> Am I mis-reading something?
>
> FF FF FF FF 00 00 00 00 00 00 00 28 00 00 00 4E
> 00 00 00 04 02 5F 6A 00 00 00 0A 03 5F 31 33 00
> 00 00 0A 03 5F 31 6E 00 00 00 0A 03 5F 32 35 00
> 00 00 09
>
> --
> Bill Tschumy
> Otherwise -- Austin, TX
> http://www.otherwise.com
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_8620_930099.1130386142329--

From java-user-return-17164-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 27 04:36:29 2005
Return-Path: <java-user-return-17164-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31292 invoked from network); 27 Oct 2005 04:36:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Oct 2005 04:36:29 -0000
Received: (qmail 80525 invoked by uid 500); 27 Oct 2005 04:36:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80502 invoked by uid 500); 27 Oct 2005 04:36:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80490 invoked by uid 99); 27 Oct 2005 04:36:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 21:36:20 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [220.117.45.144] (HELO mail.nannet.co.kr) (220.117.45.144)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 26 Oct 2005 21:36:17 -0700
Received: from win98 ([221.146.159.218])
	by mail.nannet.co.kr (8.13.1/8.13.1) with SMTP id j9R4Zt25030814
	for <java-user@lucene.apache.org>; Thu, 27 Oct 2005 13:35:56 +0900
Message-ID: <001401c5dab0$dd942520$0201a8c0@local>
Reply-To: "Youngho Cho" <youngho@nannet.co.kr>
From: "Youngho Cho" <youngho@nannet.co.kr>
To: <java-user@lucene.apache.org>
References: <PKEIKOCKCHNIIHNECPCCAEMNCAAA.koji.sekiguchi@m4.dion.ne.jp> <000501c5daa6$80abdba0$0201a8c0@local> <000801c5daa9$33403020$0201a8c0@local>
Subject: Re: korean and lucene
Date: Thu, 27 Oct 2005 13:42:40 +0900
Organization: Nannet
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----=_NextPart_000_0012_01C5DAFC.4D064F00"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0012_01C5DAFC.4D064F00
Content-Type: text/plain;
	charset="UTF-8"
Content-Transfer-Encoding: base64

SGVsbG8sDQoNCk9rICwgSSd2ZSBhdHRhY2hlZCBteSB0ZXN0IGNvZGUgZm9yIEtvcmVhbiB3aGlj
aCBpcyBzbGl0ZWx5IG1vZGlmaWVkIEtvamkncyBjb2RlLg0KDQpKdXN0IHB1dCBpbnRvIHRoZSBs
aWEuYW5hbHlzaXMuaTE4biBwYWNrYWdlIGF0IEx1Y2VuZUluQWN0aW9uDQphbmQgcnVuIGFudC4N
Cg0KSG9wZWx5IHNvbWVvbmUgaXMgaGVscGVkLg0KDQotLS0tLS0tLSBidWlsZC54bWwgIC0tLS0t
LS0tLQ0KDQogIDx0YXJnZXQgbmFtZT0iSmFwYW5lc2VEZW1vIiBkZXBlbmRzPSJwcmVwYXJlIg0K
ICAgICAgICAgIGRlc2NyaXB0aW9uPSJFeGFtcGxlcyBvZiBKYW5hbmVzZSBhbmFseXNpcyI+DQog
ICAgPGluZm8+DQoNCiAgICAgIEphcGFuZXNlIFRlc3QuLi4NCiAgIA0KICAgIDwvaW5mbz4NCg0K
ICAgIDxydW4tbWFpbiBjbGFzcz0ibGlhLmFuYWx5c2lzLmkxOG4uSmFwYW5lc2VEZW1vIi8+DQog
IDwvdGFyZ2V0PiAgDQoNCiAgPHRhcmdldCBuYW1lPSJLb3JlYW5EZW1vIiBkZXBlbmRzPSJwcmVw
YXJlIg0KICAgICAgICAgIGRlc2NyaXB0aW9uPSJFeGFtcGxlcyBvZiBLb3JlYW4gYW5hbHlzaXMi
Pg0KICAgIDxpbmZvPg0KDQogICAgICBLb3JlYW4gVGVzdC4uLg0KICAgDQogICAgPC9pbmZvPg0K
DQogICAgPHJ1bi1tYWluIGNsYXNzPSJsaWEuYW5hbHlzaXMuaTE4bi5Lb3JlYW5EZW1vIi8+DQog
IDwvdGFyZ2V0PiAgDQoNCg0KVGhhbmtzLA0KDQpZb3VuZ2hvDQoNCg0KLS0tLS0gT3JpZ2luYWwg
TWVzc2FnZSAtLS0tLSANCkZyb206ICJZb3VuZ2hvIENobyIgPHlvdW5naG9AbmFubmV0LmNvLmty
Pg0KVG86IDxqYXZhLXVzZXJAbHVjZW5lLmFwYWNoZS5vcmc+OyAiWW91bmdobyBDaG8iIDx5b3Vu
Z2hvQG5hbm5ldC5jby5rcj4NClNlbnQ6IFRodXJzZGF5LCBPY3RvYmVyIDI3LCAyMDA1IDEyOjQ3
IFBNDQpTdWJqZWN0OiBSZToga29yZWFuIGFuZCBsdWNlbmUNCg0KDQo+IEhlbGxvIGFsbA0KPiBQ
bGVzZSBmb3JnaXZlIG1lIHBlcnZpb3VzIG15IHN0dXBpZCBtZXNzYWdlDQo+IA0KPiAgICAgIFtl
Y2hvXSBSdW5uaW5nIGxpYS5hbmFseXNpcy5pMThuLktvcmVhbkRlbW8uLi4NCj4gICAgICBbamF2
YV0gW+qyvV0gW+q4sF0gIGFuYWx5emVyID0gb3JnLmFwYWNoZS5sdWNlbmUuYW5hbHlzaXMuc3Rh
bmRhcmQuU3RhbmRhcmRBbmFseXplcg0KPiAgICAgIFtqYXZhXSBwaHJhc2UgPSDqsr3quLANCj4g
ICAgICBbamF2YV0gcXVlcnkgPSAi6rK9IOq4sCINCj4gDQo+IEkgZ290IHRoZSBnb29kIHJlc3Vs
dC4NCj4gDQo+IFdoZW4gSSBjb21waWxlIEkganVzdCByZW5hbWUgb2xkIHZlcnNpb24gbHVjZW5l
LTEuNC4zLmphciB0byBsdWNlbmUtMS40LjMuamFyX2Jhaw0KPiBhbmQgYWxsIG5ldyAxLjkgbHVj
ZW5lLiBhbmQgYnVpbGQgdGhlIHRlc3QgcGFja2FnZS4NCj4gQWZ0ZXIgSSByZW1vdmUgbHVjZW5l
LTEuNC4zLmphcl9iYWsgaW4gbGliIGRpcmVjdG9yeSBjb21wbGV0ZWx5DQo+IEkgZ290IHRoZSBl
eHBlY3RlZCByZXN1bHQgISEhLg0KPiANCj4gSSBkb24ndCBrbm93IHRoZSByZWFzb24uLi4gKCBs
b29rcyBsaWtlIG15IGZpbmdlciBtYWtlIHNvbWUgdHJvdWJsZS4uLiApDQo+IA0KPiBBbnl3YXkg
dGhhbmtzIEtvamkgYW5kIENoZW9sZ29vDQo+IEkgd2lsbCBmdXJ0aGVyIHRlc3Qgbm93Li4uDQo+
IA0KPiBZb3VuZ2hvDQo+IA0KPiANCj4gDQo+IA0KPiAtLS0tLSBPcmlnaW5hbCBNZXNzYWdlIC0t
LS0tIA0KPiBGcm9tOiAiWW91bmdobyBDaG8iIDx5b3VuZ2hvQG5hbm5ldC5jby5rcj4NCj4gVG86
IDxqYXZhLXVzZXJAbHVjZW5lLmFwYWNoZS5vcmc+DQo+IFNlbnQ6IFRodXJzZGF5LCBPY3RvYmVy
IDI3LCAyMDA1IDEyOjI4IFBNDQo+IFN1YmplY3Q6IFJlOiBrb3JlYW4gYW5kIGx1Y2VuZQ0KPiAN
Cj4gDQo+ID4gSGVsbG8gS29qaQ0KPiA+IA0KPiA+IEhlcmUgaXMgdGVzdCByZXN1bHQuDQo+ID4g
SmFwYW5lc2UgaXMgT0sgIS4NCj4gPiBtYXliZSBhbnQgY2xlYW4gIGRpZCBzb21lIGVmZmVjdC4N
Cj4gPiANCj4gPiBBbnl3YXkgcGxlYXNlIHJlZmVyIHRvIHRoZSByZXN1bHQgdXNpbmcgMS45DQo+
ID4gDQo+ID4gICAgICBbZWNob10gUnVubmluZyBsaWEuYW5hbHlzaXMuaTE4bi5KYXBhbmVzZURl
bW8uLi4NCj4gPiAgICAgIFtqYXZhXSBb44OpXSBb44OhXSBb44OzXSBb5bGLXSAgYW5hbHl6ZXIg
PSBvcmcuYXBhY2hlLmx1Y2VuZS5hbmFseXNpcy5zdGFuZGFyZC5TdGFuZGFyZEFuYWx5emVyDQo+
ID4gICAgICBbamF2YV0gcGhyYXNlID0g44OpP+ODoeODs+Wxiw0KPiA+ICAgICAgW2phdmFdIHF1
ZXJ5ID0gY29udGVudDrjg6k/44Oh44Oz5bGLDQo+ID4gICANCj4gPiAgICAgW2VjaG9dIFJ1bm5p
bmcgbGlhLmFuYWx5c2lzLmkxOG4uS29yZWFuRGVtby4uLg0KPiA+ICAgICAgW2phdmFdICBhbmFs
eXplciA9IG9yZy5hcGFjaGUubHVjZW5lLmFuYWx5c2lzLnN0YW5kYXJkLlN0YW5kYXJkQW5hbHl6
ZXINCj4gPiAgICAgIFtqYXZhXSBwaHJhc2UgPSDqsr0NCj4gPiAgICAgIFtqYXZhXSBxdWVyeSA9
ICANCj4gPiAgIA0KPiA+ICAgICAgW2VjaG9dIFJ1bm5pbmcgbGlhLmFuYWx5c2lzLmkxOG4uSmFw
YW5lc2VEZW1vLi4uDQo+ID4gICAgICBbamF2YV0gW+ODqV0gW+ODoeODs10gW+ODs+Wxi10gIGFu
YWx5emVyID0gb3JnLmFwYWNoZS5sdWNlbmUuYW5hbHlzaXMuY2prLkNKS0FuYWx5emVyDQo+ID4g
ICAgICBbamF2YV0gcGhyYXNlID0g44OpP+ODoeODs+Wxiw0KPiA+ICAgICAgW2phdmFdIHF1ZXJ5
ID0gY29udGVudDrjg6k/44Oh44Oz5bGLDQo+ID4gICANCj4gPiAgICAgW2VjaG9dIFJ1bm5pbmcg
bGlhLmFuYWx5c2lzLmkxOG4uS29yZWFuRGVtby4uLg0KPiA+ICAgICAgW2phdmFdIFvqsr1dICBh
bmFseXplciA9IG9yZy5hcGFjaGUubHVjZW5lLmFuYWx5c2lzLmNqay5DSktBbmFseXplcg0KPiA+
ICAgICAgW2phdmFdIHBocmFzZSA9IOqyvQ0KPiA+ICAgICAgW2phdmFdIHF1ZXJ5ID0g6rK9IA0K
PiA+IA0KPiA+ICAgICAgW2VjaG9dIFJ1bm5pbmcgbGlhLmFuYWx5c2lzLmkxOG4uS29yZWFuRGVt
by4uLg0KPiA+ICAgICAgW2phdmFdICBhbmFseXplciA9IG9yZy5hcGFjaGUubHVjZW5lLmFuYWx5
c2lzLnN0YW5kYXJkLlN0YW5kYXJkQW5hbHl6ZXINCj4gPiAgICAgIFtqYXZhXSBwaHJhc2UgPSDq
sr3quLANCj4gPiAgICAgIFtqYXZhXSBxdWVyeSA9IA0KPiA+ICAgDQo+ID4gICAgICBbZWNob10g
UnVubmluZyBsaWEuYW5hbHlzaXMuaTE4bi5Lb3JlYW5EZW1vLi4uDQo+ID4gICAgICBbamF2YV0g
W+qyveq4sF0gIGFuYWx5emVyID0gb3JnLmFwYWNoZS5sdWNlbmUuYW5hbHlzaXMuY2prLkNKS0Fu
YWx5emVyDQo+ID4gICAgICBbamF2YV0gcGhyYXNlID0g6rK96riwDQo+ID4gICAgICBbamF2YV0g
cXVlcnkgPSDqsr3quLANCj4gPiAgIA0KPiA+IA0KPiA+IFN0YW5kYXJkIGFuYWx5emVyIGRpZG4n
dCB0b2tlbml6ZWQgdGhlIEtvcmVhbiBDaGFyYWN0ZXIgYXQgYWxsLi4uLg0KPiA+IA0KPiA+IFVn
Li4uLiAgbG9vayBsaWtlIA0KPiA+ICBodHRwOi8vaXNzdWVzLmFwYWNoZS5vcmcvamlyYS9icm93
c2UvTFVDRU5FLTQ0NA0KPiA+ICBkaWRuJ3QgZWZmZWN0IGF0IGFsbCBmb3IgS29yZWFuLg0KPiA+
IA0KPiA+IA0KPiA+IFRoYW5rcyANCj4gPiANCj4gPiBZb3VuZ2hvDQo+ID4gDQo+ID4gLS0tLS0g
T3JpZ2luYWwgTWVzc2FnZSAtLS0tLSANCj4gPiBGcm9tOiAiS29qaSBTZWtpZ3VjaGkiIDxrb2pp
LnNla2lndWNoaUBtNC5kaW9uLm5lLmpwPg0KPiA+IFRvOiA8amF2YS11c2VyQGx1Y2VuZS5hcGFj
aGUub3JnPjsgIllvdW5naG8gQ2hvIiA8eW91bmdob0BuYW5uZXQuY28ua3I+DQo+ID4gU2VudDog
VGh1cnNkYXksIE9jdG9iZXIgMjcsIDIwMDUgMTE6NDcgQU0NCj4gPiBTdWJqZWN0OiBSRToga29y
ZWFuIGFuZCBsdWNlbmUNCj4gPiANCj4gPiANCj4gPiA+IEhlbGxvIFlvdW5naG8sDQo+ID4gPiAN
Cj4gPiA+IEkgZG9uJ3QgdW5kZXJzdGFuZCB3aHkgeW91IGNvdWxkbid0IGdldCBoaXRzIHJlc3Vs
dCBpbiBKYXBhbmVzZSwNCj4gPiA+IHRob3VnaCwgeW91IGhhZCBiZXR0ZXIgY2hlY2sgd2h5IHRo
ZSBxdWVyeSB3YXMgZW1wdHkgd2l0aCBLb3JlYW4gZGF0YToNCj4gPiA+IA0KPiA+ID4gPiBGb3Ig
S29yZWFuDQo+ID4gPiA+ICAgICAgW2VjaG9dIFJ1bm5pbmcgbGlhLmFuYWx5c2lzLmkxOG4uS29y
ZWFuRGVtby4uLg0KPiA+ID4gPiAgICAgIFtqYXZhXSBwaHJhc2UgPSDqsr0NCj4gPiA+ID4gICAg
ICBbamF2YV0gcXVlcnkgPSANCj4gPiA+IA0KPiA+ID4gVGhlIGxhc3QgbGluZSBzaG91bGQgYmUg
cXVlcnkgPSDqsr0NCj4gPiA+IHRvIGdldCBoaXRzIHJlc3VsdC4gQ2FuIHlvdSBjaGVjayB3aHkg
U3RhbmRhcmRBbmFseXplcg0KPiA+ID4gcmVtb3ZlcyAi6rK9IiBkdXJpbmcgdG9rZW5pemluZz8N
Cj4gPiA+IA0KPiA+ID4gS29qaQ0KPiA+ID4gDQo+ID4gPiA+IC0tLS0tT3JpZ2luYWwgTWVzc2Fn
ZS0tLS0tDQo+ID4gPiA+IEZyb206IFlvdW5naG8gQ2hvIFttYWlsdG86eW91bmdob0BuYW5uZXQu
Y28ua3JdDQo+ID4gPiA+IFNlbnQ6IFRodXJzZGF5LCBPY3RvYmVyIDI3LCAyMDA1IDExOjM3IEFN
DQo+ID4gPiA+IFRvOiBqYXZhLXVzZXJAbHVjZW5lLmFwYWNoZS5vcmcNCj4gPiA+ID4gU3ViamVj
dDogUmU6IGtvcmVhbiBhbmQgbHVjZW5lDQo+ID4gPiA+IA0KPiA+ID4gPiANCj4gPiA+ID4gSGVs
bG8gS29qaSwNCj4gPiA+ID4gDQo+ID4gPiA+IFRoYW5rcyBmb3IgeW91ciBraW5kIHJlcGx5Lg0K
PiA+ID4gPiANCj4gPiA+ID4gWWVzLCBJIHVzZWQgUXVlcnlQYXJzZXIuIG5vcm1hbHkgSSB1c2Vk
DQo+ID4gPiA+IFF1ZXJ5ID0gUXVlcnlQYXJzZXIucGFyc2UoICkgbWV0aG9kLg0KPiA+ID4gPiAN
Cj4gPiA+ID4gSSBwdXQgeW91ciBzYW1wbGUgY29kZSBpbnRvIGxpYS5hbmFseXNpcy5pMThuIHBh
Y2thZ2UgaW4gTHVjZW5lQWN0aW9uDQo+ID4gPiA+IGFuZCBydW4gSmFwYW5lc2VEZW1vIHVzaW5n
IDEuNCBhbmQgMS45IA0KPiA+ID4gPiANCj4gPiA+ID4gcmVzdWx0cyBhcmUgDQo+ID4gPiA+IA0K
PiA+ID4gPiAgICAgIFtlY2hvXSBSdW5uaW5nIGxpYS5hbmFseXNpcy5pMThuLkphcGFuZXNlRGVt
by4uLg0KPiA+ID4gPiAgICAgIFtqYXZhXSBxdWVyeSA9IGNvbnRlbnQ644OpP+ODoeODs+Wxiw0K
PiA+ID4gPiANCj4gPiA+ID4gSSBjYW4ndCBnZXQgaGl0cyByZXN1bHQuDQo+ID4gPiA+IA0KPiA+
ID4gPiBGb3IgS29yZWFuDQo+ID4gPiA+ICAgICAgW2VjaG9dIFJ1bm5pbmcgbGlhLmFuYWx5c2lz
LmkxOG4uS29yZWFuRGVtby4uLg0KPiA+ID4gPiAgICAgIFtqYXZhXSBwaHJhc2UgPSDqsr0NCj4g
PiA+ID4gICAgICBbamF2YV0gcXVlcnkgPSANCj4gPiA+ID4gDQo+ID4gPiA+IEkgY2FuJ3QgZ2V0
IHF1ZXJ5IHBhcnNlIHJlc3VsdC4NCj4gPiA+ID4gDQo+ID4gPiA+IFRoYW5rcywNCj4gPiA+ID4g
DQo+ID4gPiA+IFlvdW5naG8NCj4gPiA+ID4gDQo+ID4gPiA+IA0KPiA+ID4gPiANCj4gPiA+ID4g
LS0tLS0gT3JpZ2luYWwgTWVzc2FnZSAtLS0tLSANCj4gPiA+ID4gRnJvbTogIktvamkgU2VraWd1
Y2hpIiA8a29qaS5zZWtpZ3VjaGlAbTQuZGlvbi5uZS5qcD4NCj4gPiA+ID4gVG86IDxqYXZhLXVz
ZXJAbHVjZW5lLmFwYWNoZS5vcmc+OyAiWW91bmdobyBDaG8iIDx5b3VuZ2hvQG5hbm5ldC5jby5r
cj4NCj4gPiA+ID4gU2VudDogVGh1cnNkYXksIE9jdG9iZXIgMjcsIDIwMDUgOTo0OCBBTQ0KPiA+
ID4gPiBTdWJqZWN0OiBSRToga29yZWFuIGFuZCBsdWNlbmUNCj4gPiA+ID4gDQo+ID4gPiA+IA0K
PiA+ID4gPiA+IEhpIFlvdW5naG8sDQo+ID4gPiA+ID4gDQo+ID4gPiA+ID4gV2l0aCByZWdhcmQg
dG8gSmFwYW5lc2UsIHVzaW5nIFN0YW5kYXJkQW5hbHl6ZXIsDQo+ID4gPiA+ID4gSSBjYW4gc2Vh
cmNoIGEgd29yZC9waGFzZS4NCj4gPiA+ID4gPiANCj4gPiA+ID4gPiBEaWQgeW91IHVzZSBRdWVy
eVBhcnNlcj8gU3RhbmRhcmRBbmFseXplciB0b2tlbml6ZXMNCj4gPiA+ID4gPiBDSksgY2hhcmFj
dGVycyBpbnRvIGEgc3RyZWFtIG9mIHNpbmdsZSBjaGFyYWN0ZXIuDQo+ID4gPiA+ID4gVXNlIFF1
ZXJ5UGFyc2VyIHRvIGdldCBhIFBocmFzZVF1ZXJ5IGFuZCBzZWFyY2ggdGhlIHF1ZXJ5Lg0KPiA+
ID4gPiA+IA0KPiA+ID4gPiA+IFBsZWFzZSBzZWUgdGhlIGZvbGxvd2luZyBzYW1wbGUgY29kZS4g
UmVwbGFjZSBKYXBhbmVzZQ0KPiA+ID4gPiA+ICJjb250ZW50cyIgYW5kIChzZWFyY2ggdGFyZ2V0
KSAicGhyYXNlIiB3aXRoIEtvcmVhbiBpbiB0aGUgDQo+ID4gPiA+IHByb2dyYW0gYW5kIHJ1bi4N
Cj4gPiA+ID4gPiANCj4gPiA+ID4gPiByZWdhcmRzLA0KPiA+ID4gPiA+IA0KPiA+ID4gPiA+IEtv
amkNCj4gPiA+ID4gPiANCj4gPiA+ID4gPiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT0NCj4gPiA+ID4gPiBpbXBvcnQgamF2YS5pby5JT0V4Y2VwdGlvbjsNCj4g
PiA+ID4gPiBpbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuYW5hbHlzaXMuQW5hbHl6ZXI7DQo+ID4g
PiA+ID4gaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLmFuYWx5c2lzLnN0YW5kYXJkLlN0YW5kYXJk
QW5hbHl6ZXI7DQo+ID4gPiA+ID4gaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLmFuYWx5c2lzLmNq
ay5DSktBbmFseXplcjsNCj4gPiA+ID4gPiBpbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuc3RvcmUu
RGlyZWN0b3J5Ow0KPiA+ID4gPiA+IGltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5zdG9yZS5SQU1E
aXJlY3Rvcnk7DQo+ID4gPiA+ID4gaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLmluZGV4LkluZGV4
V3JpdGVyOw0KPiA+ID4gPiA+IGltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5kb2N1bWVudC5Eb2N1
bWVudDsNCj4gPiA+ID4gPiBpbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuZG9jdW1lbnQuRmllbGQ7
DQo+ID4gPiA+ID4gaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLnNlYXJjaC5JbmRleFNlYXJjaGVy
Ow0KPiA+ID4gPiA+IGltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5zZWFyY2guSGl0czsNCj4gPiA+
ID4gPiBpbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuc2VhcmNoLlF1ZXJ5Ow0KPiA+ID4gPiA+IGlt
cG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5xdWVyeVBhcnNlci5RdWVyeVBhcnNlcjsNCj4gPiA+ID4g
PiBpbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUucXVlcnlQYXJzZXIuUGFyc2VFeGNlcHRpb247DQo+
ID4gPiA+ID4gDQo+ID4gPiA+ID4gcHVibGljIGNsYXNzIEphcGFuZXNlQnlTdGFuZGFyZEFuYWx5
emVyIHsNCj4gPiA+ID4gPiANCj4gPiA+ID4gPiAgICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3Ry
aW5nIEZJRUxEX0NPTlRFTlQgPSAiY29udGVudCI7DQo+ID4gPiA+ID4gICAgIHByaXZhdGUgc3Rh
dGljIGZpbmFsIFN0cmluZ1tdIGNvbnRlbnRzID0gew0KPiA+ID4gPiA+ICLmnbHkuqzjgavjga/j
gYrjgYTjgZfjgYTjg6njg7zjg6Hjg7PlsYvjgYzjgZ/jgY/jgZXjgpPjgYLjgorjgb7jgZnjgIIi
LA0KPiA+ID4gPiA+ICLljJfmtbfpgZPjgavjgoLjgYrjgYTjgZfjgYTjg6njg7zjg6Hjg7PlsYvj
gYzjgYLjgorjgb7jgZnjgIIiDQo+ID4gPiA+ID4gICAgIH07DQo+ID4gPiA+ID4gICAgIHByaXZh
dGUgc3RhdGljIGZpbmFsIFN0cmluZyBwaHJhc2UgPSAi44Op44O844Oh44Oz5bGLIjsNCj4gPiA+
ID4gPiAgICAgLy9wcml2YXRlIHN0YXRpYyBmaW5hbCBTdHJpbmcgcGhyYXNlID0gIuWxiyI7DQo+
ID4gPiA+ID4gICAgIHByaXZhdGUgc3RhdGljIEFuYWx5emVyIGFuYWx5emVyID0gbnVsbDsNCj4g
PiA+ID4gPiANCj4gPiA+ID4gPiAgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oIFN0cmluZ1td
IGFyZ3MgKSB0aHJvd3MgDQo+ID4gPiA+IElPRXhjZXB0aW9uLCBQYXJzZUV4Y2VwdGlvbiB7DQo+
ID4gPiA+ID4gRGlyZWN0b3J5IGRpcmVjdG9yeSA9IG1ha2VJbmRleCgpOw0KPiA+ID4gPiA+IHNl
YXJjaCggZGlyZWN0b3J5ICk7DQo+ID4gPiA+ID4gZGlyZWN0b3J5LmNsb3NlKCk7DQo+ID4gPiA+
ID4gICAgIH0NCj4gPiA+ID4gPiANCj4gPiA+ID4gPiAgICAgcHJpdmF0ZSBzdGF0aWMgQW5hbHl6
ZXIgZ2V0QW5hbHl6ZXIoKXsNCj4gPiA+ID4gPiBpZiggYW5hbHl6ZXIgPT0gbnVsbCApew0KPiA+
ID4gPiA+ICAgICBhbmFseXplciA9IG5ldyBTdGFuZGFyZEFuYWx5emVyKCk7DQo+ID4gPiA+ID4g
ICAgIC8vYW5hbHl6ZXIgPSBuZXcgQ0pLQW5hbHl6ZXIoKTsNCj4gPiA+ID4gPiB9DQo+ID4gPiA+
ID4gcmV0dXJuIGFuYWx5emVyOw0KPiA+ID4gPiA+ICAgICB9DQo+ID4gPiA+ID4gDQo+ID4gPiA+
ID4gICAgIHByaXZhdGUgc3RhdGljIERpcmVjdG9yeSBtYWtlSW5kZXgoKSB0aHJvd3MgSU9FeGNl
cHRpb24gew0KPiA+ID4gPiA+IERpcmVjdG9yeSBkaXJlY3RvcnkgPSBuZXcgUkFNRGlyZWN0b3J5
KCk7DQo+ID4gPiA+ID4gSW5kZXhXcml0ZXIgd3JpdGVyID0gbmV3IEluZGV4V3JpdGVyKCBkaXJl
Y3RvcnksIGdldEFuYWx5emVyKCksIHRydWUgKTsNCj4gPiA+ID4gPiBmb3IoIGludCBpID0gMDsg
aSA8IGNvbnRlbnRzLmxlbmd0aDsgaSsrICl7DQo+ID4gPiA+ID4gICAgIERvY3VtZW50IGRvYyA9
IG5ldyBEb2N1bWVudCgpOw0KPiA+ID4gPiA+ICAgICBkb2MuYWRkKCBuZXcgRmllbGQoIEZJRUxE
X0NPTlRFTlQsIGNvbnRlbnRzW2ldLCANCj4gPiA+ID4gRmllbGQuU3RvcmUuWUVTLCBGaWVsZC5J
bmRleC5UT0tFTklaRUQgKSApOw0KPiA+ID4gPiA+ICAgICB3cml0ZXIuYWRkRG9jdW1lbnQoIGRv
YyApOw0KPiA+ID4gPiA+IH0NCj4gPiA+ID4gPiB3cml0ZXIuY2xvc2UoKTsNCj4gPiA+ID4gPiBy
ZXR1cm4gZGlyZWN0b3J5Ow0KPiA+ID4gPiA+ICAgICB9DQo+ID4gPiA+ID4gDQo+ID4gPiA+ID4g
ICAgIHByaXZhdGUgc3RhdGljIHZvaWQgc2VhcmNoKCBEaXJlY3RvcnkgZGlyZWN0b3J5ICkgdGhy
b3dzIA0KPiA+ID4gPiBJT0V4Y2VwdGlvbiwgUGFyc2VFeGNlcHRpb24gew0KPiA+ID4gPiA+IElu
ZGV4U2VhcmNoZXIgc2VhcmNoZXIgPSBuZXcgSW5kZXhTZWFyY2hlciggZGlyZWN0b3J5ICk7DQo+
ID4gPiA+ID4gUXVlcnlQYXJzZXIgcGFyc2VyID0gbmV3IFF1ZXJ5UGFyc2VyKCBGSUVMRF9DT05U
RU5ULCBnZXRBbmFseXplcigpICk7DQo+ID4gPiA+ID4gUXVlcnkgcXVlcnkgPSBwYXJzZXIucGFy
c2UoIHBocmFzZSApOw0KPiA+ID4gPiA+IFN5c3RlbS5vdXQucHJpbnRsbiggInF1ZXJ5ID0gIiAr
IHF1ZXJ5ICk7DQo+ID4gPiA+ID4gSGl0cyBoaXRzID0gc2VhcmNoZXIuc2VhcmNoKCBxdWVyeSAp
Ow0KPiA+ID4gPiA+IGZvciggaW50IGkgPSAwOyBpIDwgaGl0cy5sZW5ndGgoKTsgaSsrICkNCj4g
PiA+ID4gPiAgICAgU3lzdGVtLm91dC5wcmludGxuKCAiZG9jID0gIiArIGhpdHMuZG9jKCBpICku
Z2V0KCBGSUVMRF9DT05URU5UICkgKTsNCj4gPiA+ID4gPiBzZWFyY2hlci5jbG9zZSgpOw0KPiA+
ID4gPiA+ICAgICB9DQo+ID4gPiA+ID4gfQ0KPiA+ID4gPiA+IA0KPiA+ID4gPiA+IA0KPiA+ID4g
PiA+ID4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4gPiA+ID4gPiA+IEZyb206IFlvdW5n
aG8gQ2hvIFttYWlsdG86eW91bmdob0BuYW5uZXQuY28ua3JdDQo+ID4gPiA+ID4gPiBTZW50OiBU
aHVyc2RheSwgT2N0b2JlciAyNywgMjAwNSA4OjE4IEFNDQo+ID4gPiA+ID4gPiBUbzogamF2YS11
c2VyQGx1Y2VuZS5hcGFjaGUub3JnOyBDaGVvbGdvbyBLYW5nDQo+ID4gPiA+ID4gPiBTdWJqZWN0
OiBSZToga29yZWFuIGFuZCBsdWNlbmUNCj4gPiA+ID4gPiA+IA0KPiA+ID4gPiA+ID4gDQo+ID4g
PiA+ID4gPiBIZWxsbyBDaGVvbGdvbywNCj4gPiA+ID4gPiA+IA0KPiA+ID4gPiA+ID4gTm93IEkg
dXBkYXRlZCBteSBsdWNlbmUgdmVyc2lvbiB0byAxLjkgZm9yIHVzaW5nIFN0YW5kYXJkQW5hbHl6
ZXIgDQo+ID4gPiA+ID4gPiBmb3IgS29yZWFuLg0KPiA+ID4gPiA+ID4gQW5kIHRlc3RlZCB5b3Vy
IHBhdGNoIHdoaWNoIGlzIGFscmVhZHkgYWRvcHRlZCBpbiAxLjkNCj4gPiA+ID4gPiA+IA0KPiA+
ID4gPiA+ID4gaHR0cDovL2lzc3Vlcy5hcGFjaGUub3JnL2ppcmEvYnJvd3NlL0xVQ0VORS00NDQN
Cj4gPiA+ID4gPiA+IA0KPiA+ID4gPiA+ID4gQnV0IFN0aWxsIEkgaGF2ZSBubyBnb29kICByZXN1
bHRzIHdpdGggS29yZWFuIGNvbXBhcmUgd2l0aCANCj4gPiA+ID4gQ0pLQW5hbHl6ZXIuDQo+ID4g
PiA+ID4gPiANCj4gPiA+ID4gPiA+IFNpbmdsZSBjaGFyYWN0ZXIgaXMgZ29vZCBtYXRjaCBidXQg
bW9yZSB0d28gY2hhcmFjdGVyIHdvcmQgDQo+ID4gPiA+ID4gPiBkb2Vzbid0IG1hdGNoIGF0IGFs
bC4NCj4gPiA+ID4gPiA+IA0KPiA+ID4gPiA+ID4gQW0gSSBzb21ldGhpbmcgbWlzc2luZyBvciBz
dGlsbCB0aGVyZSBuZWVkIHNvbWUgbW9yZSB3b3JrcyA/DQo+ID4gPiA+ID4gPiANCj4gPiA+ID4g
PiA+IA0KPiA+ID4gPiA+ID4gVGhhbmtzLA0KPiA+ID4gPiA+ID4gDQo+ID4gPiA+ID4gPiBZb3Vu
Z2hvLg0KPiA+ID4gPiA+ID4gIA0KPiA+ID4gPiA+ID4gDQo+ID4gPiA+ID4gPiAtLS0tLSBPcmln
aW5hbCBNZXNzYWdlIC0tLS0tIA0KPiA+ID4gPiA+ID4gRnJvbTogIkNoZW9sZ29vIEthbmciIDxh
cHBsZXJAZ21haWwuY29tPg0KPiA+ID4gPiA+ID4gVG86IDxqYXZhLXVzZXJAbHVjZW5lLmFwYWNo
ZS5vcmc+OyAiSm9obiBXYW5nIiA8am9obi53YW5nQGdtYWlsLmNvbT4NCj4gPiA+ID4gPiA+IFNl
bnQ6IFR1ZXNkYXksIE9jdG9iZXIgMDQsIDIwMDUgMTA6MTEgQU0NCj4gPiA+ID4gPiA+IFN1Ympl
Y3Q6IFJlOiBrb3JlYW4gYW5kIGx1Y2VuZQ0KPiA+ID4gPiA+ID4gDQo+ID4gPiA+ID4gPiANCj4g
PiA+ID4gPiA+ID4gU3RhbmRhcmRBbmFseXplcidzIEphdmFDQyBiYXNlZCBTdGFuZGFyZFRva2Vu
aXplci5qaiBjYW5ub3QgcmVhZA0KPiA+ID4gPiA+ID4gPiBLb3JlYW4gcGFydCBvZiBVbmljb2Rl
IGNoYXJhY3RlciBibG9ja3MuDQo+ID4gPiA+ID4gPiA+IA0KPiA+ID4gPiA+ID4gPiBZb3Ugc2hv
dWxkIDEpIHVzZSBDSktBbmFseXplciBvciAyKSBhZGQgS29yZWFuIGNoYXJhY3Rlcg0KPiA+ID4g
PiA+ID4gPiBibG9jaygweEFDMDB+MHhEN0FGKSB0byB0aGUgQ0pLIHRva2VuIGRlZmluaXRpb24g
b24gdGhlDQo+ID4gPiA+ID4gPiA+IFN0YW5kYXJkVG9rZW5pemVyLmpqIGZpbGUuDQo+ID4gPiA+
ID4gPiA+IA0KPiA+ID4gPiA+ID4gPiBIb3BlIGl0IGhlbHBzLg0KPiA+ID4gPiA+ID4gPiANCj4g
PiA+ID4gPiA+ID4gDQo+ID4gPiA+ID4gPiA+IE9uIDEwLzQvMDUsIEpvaG4gV2FuZyA8am9obi53
YW5nQGdtYWlsLmNvbT4gd3JvdGU6DQo+ID4gPiA+ID4gPiA+ID4gSGk6DQo+ID4gPiA+ID4gPiA+
ID4NCj4gPiA+ID4gPiA+ID4gPiBXZSBhcmUgcnVubmluZyBpbnRvIHByb2JsZW1zIHdpdGggc2Vh
cmNoaW5nIG9uIGtvcmVhbiANCj4gPiA+ID4gPiA+IGRvY3VtZW50cy4gV2UgYXJlDQo+ID4gPiA+
ID4gPiA+ID4gdXNpbmcgdGhlIFN0YW5kYXJkQW5hbHl6ZXIgYW5kIGV2ZXJ5dGhpbmcgd29ya3Mg
d2l0aCBDaGluZXNlIA0KPiA+ID4gPiA+ID4gYW5kIEphcGFuZXNlLg0KPiA+ID4gPiA+ID4gPiA+
IEFyZSB0aGVyZSBrbm93biBwcm9ibGVtcyB3aXRoIEtvcmVhbiB3aXRoIEx1Y2VuZT8NCj4gPiA+
ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gPiA+IFRoYW5rcw0KPiA+ID4gPiA+ID4gPiA+DQo+ID4g
PiA+ID4gPiA+ID4gLUpvaG4NCj4gPiA+ID4gPiA+ID4gPg0KPiA+ID4gPiA+ID4gPiA+DQo+ID4g
PiA+ID4gPiA+IA0KPiA+ID4gPiA+ID4gPiANCj4gPiA+ID4gPiA+ID4gLS0NCj4gPiA+ID4gPiA+
ID4gQ2hlb2xnb28NCj4gPiA+ID4gPiA+ID4gDQo+ID4gPiA+ID4gPiA+IA0KPiA+ID4gPiAtLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0NCj4gPiA+ID4gPiA+ID4gVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogamF2YS11c2Vy
LXVuc3Vic2NyaWJlQGx1Y2VuZS5hcGFjaGUub3JnDQo+ID4gPiA+ID4gPiA+IEZvciBhZGRpdGlv
bmFsIGNvbW1hbmRzLCBlLW1haWw6IGphdmEtdXNlci1oZWxwQGx1Y2VuZS5hcGFjaGUub3JnDQo+
ID4gPiA+ID4gDQo+ID4gPiA+ID4gDQo+ID4gPiA+ID4gDQo+ID4gPiA+ID4gLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
DQo+ID4gPiA+ID4gVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogamF2YS11c2VyLXVuc3Vic2NyaWJl
QGx1Y2VuZS5hcGFjaGUub3JnDQo+ID4gPiA+ID4gRm9yIGFkZGl0aW9uYWwgY29tbWFuZHMsIGUt
bWFpbDogamF2YS11c2VyLWhlbHBAbHVjZW5lLmFwYWNoZS5vcmcNCj4gPiA+ID4gDQo+ID4gPiAN
Cj4gPiA+IA0KPiA+ID4gDQo+ID4gPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCj4gPiA+IFRvIHVuc3Vic2NyaWJl
LCBlLW1haWw6IGphdmEtdXNlci11bnN1YnNjcmliZUBsdWNlbmUuYXBhY2hlLm9yZw0KPiA+ID4g
Rm9yIGFkZGl0aW9uYWwgY29tbWFuZHMsIGUtbWFpbDogamF2YS11c2VyLWhlbHBAbHVjZW5lLmFw
YWNoZS5vcmc=

------=_NextPart_000_0012_01C5DAFC.4D064F00
Content-Type: java/*;
	name="KoreanDemo.java"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: attachment;
	filename="KoreanDemo.java"

package lia.analysis.i18n;

import java.io.IOException;

import lia.analysis.AnalyzerUtils;

import org.apache.lucene.analysis.Analyzer;
import org.apache.lucene.analysis.cjk.CJKAnalyzer;
import org.apache.lucene.analysis.standard.StandardAnalyzer;
import org.apache.lucene.document.Document;
import org.apache.lucene.document.Field;
import org.apache.lucene.index.IndexWriter;
import org.apache.lucene.queryParser.ParseException;
import org.apache.lucene.queryParser.QueryParser;
import org.apache.lucene.search.Hits;
import org.apache.lucene.search.IndexSearcher;
import org.apache.lucene.search.Query;
import org.apache.lucene.store.Directory;
import org.apache.lucene.store.RAMDirectory;


public class KoreanDemo
{
    private static final String FIELD_CONTENT =3D "content";
    private static final String[] contents =3D=20
    {
        "=BF=A3=C1=F8=B9=DA=C1=F6=BC=BA(=B8=C7=C3=BC=BD=BA=C5=CD =
=C0=AF=B3=AA=C0=CC=C6=BC=B5=E5)=C0=CC =C1=D6=B8=BB =
=C7=C1=B8=AE=B9=CC=BE=EE=B8=AE=B1=D7=B8=A6 =C0=A7=C7=D8 =
=BA=A5=C4=A1=B8=A6 =C1=F6=C5=B0=B8=E7 =C0=E7=C3=E6=C0=FC=C0=C7 =
=BD=C3=B0=A3=C0=BB =B0=A1=C1=B3=B4=D9.",=20
        "=B9=DA=C1=F6=BC=BA =C0=BA 27=C0=CF =
=BB=F5=BA=AE(=C7=D1=B1=B9=BD=C3=B0=A3) =C8=A8=C0=CE =BF=C3=B5=E5 =
=C6=AE=B7=A1=C6=F7=B5=E5=BF=A1=BC=AD =B9=FA=BE=EE=C1=F8 =
=B9=D9=B3=DD=B0=FA=C0=C7 =C4=AE=B8=B5=C4=C5 3=B6=F3=BF=EE=B5=E5 =
=B0=E6=B1=E2=BF=A1 =B0=E1=C0=E5=C7=DF=B4=D9. =
=B1=B3=C3=BC=B8=E2=B9=F6=B7=CE =C0=CC=B8=A7=C0=BB =
=BF=C3=B7=C8=C1=F6=B8=B8 =B8=C7=C0=AF=C0=C7 =BE=CB=B7=BA=BD=BA =
=C6=DB=B0=C5=BD=BC =B0=A8=B5=B6=C0=BA =B9=DA=C1=F6=BC=BA=C0=BB =
=BE=C6=B2=BC=B4=D9.",=20
        "=C0=CC=B3=AF =B8=C7=C0=AF=B4=C2 =B8=AE=BE=CF =B9=D0=B7=AF, =
=C5=B0=BE=EE=B7=B1 =B8=AE=C3=B3=B5=E5=BD=BC, =C1=D6=BC=BC=C6=E4 =
=B7=CE=BD=C3, =BD=C7=B9=F0 =BF=A1=B9=E6=C5=A9=BD=BA =
=BA=ED=B7=B9=C0=CC=C5=A9=C0=C7 =B8=B1=B7=B9=C0=CC =C3=E0=C6=F7=B7=CE 4-1 =
=BD=C2=B8=AE=B8=A6 =B0=C5=B5=CE=B0=ED 16=B0=AD=BF=A1 =
=BE=C8=C2=F8=C7=DF=B4=D9."
    };
    private static final String phrase =3D "=B0=E6=B1=E2";
    private static Analyzer analyzer =3D null;

    /**
     * DOCUMENT ME!
     *=20
     * @param args DOCUMENT ME!
     * @throws IOException DOCUMENT ME!
     * @throws ParseException DOCUMENT ME!
     */
    public static void main(String[] args)
            throws IOException, ParseException
    {
        Directory directory =3D makeIndex();
        analysis();
        search(directory);
        directory.close();
    }

    /**
     * DOCUMENT ME!
     *=20
     * @return DOCUMENT ME!=20
     */
    private static Analyzer getAnalyzer()
    {
        if (analyzer =3D=3D null)
        {
            analyzer =3D new StandardAnalyzer();
            // analyzer =3D new CJKAnalyzer();
        }

        return analyzer;
    }

    /**
     * DOCUMENT ME!
     *=20
     * @throws IOException DOCUMENT ME!
     */
    private static void analysis()
            throws IOException
    {
        AnalyzerUtils.displayTokens(getAnalyzer(), phrase);
    }

    /**
     * DOCUMENT ME!
     *=20
     * @return DOCUMENT ME!=20
     * @throws IOException DOCUMENT ME!
     */
    private static Directory makeIndex()
            throws IOException
    {
        Directory directory =3D new RAMDirectory();
        Analyzer analyzer =3D getAnalyzer();
        System.out.println(
                "Indexing using " + analyzer.getClass().getName());
        IndexWriter writer =3D new IndexWriter(directory, analyzer,=20
                                             true);
        for (int i =3D 0; i < contents.length; i++)
        {
            Document doc =3D new Document();
            doc.add(new Field(FIELD_CONTENT, contents[i], true, true,=20
                              true));
            writer.addDocument(doc);
        }

        writer.close();
        return directory;
    }

    /**
     * DOCUMENT ME!
     *=20
     * @param directory DOCUMENT ME!
     * @throws IOException DOCUMENT ME!
     * @throws ParseException DOCUMENT ME!
     */
    private static void search(Directory directory)
            throws IOException, ParseException
    {
        IndexSearcher searcher =3D new IndexSearcher(directory);
        QueryParser parser =3D new QueryParser( FIELD_CONTENT, =
getAnalyzer() );
        System.out.println(
                " analyzer =3D " +=20
                getAnalyzer().getClass().getName());
        System.out.println("phrase =3D " + phrase);
		Query query =3D parser.parse( phrase );
        // Query query =3D QueryParser.parse(phrase, FIELD_CONTENT,=20
        //                                getAnalyzer());
        System.out.println("query =3D " + query);
        Hits hits =3D searcher.search(query);
        for (int i =3D 0; i < hits.length(); i++)
        {
            System.out.println(
                    "doc =3D " + hits.doc(i).get(FIELD_CONTENT));
        }

        searcher.close();
    }
}

------=_NextPart_000_0012_01C5DAFC.4D064F00
Content-Type: java/*;
	name="JapaneseDemo.java"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: attachment;
	filename="JapaneseDemo.java"

package lia.analysis.i18n;

import java.io.IOException;

import lia.analysis.AnalyzerUtils;

import org.apache.lucene.analysis.Analyzer;
import org.apache.lucene.analysis.cjk.CJKAnalyzer;
import org.apache.lucene.analysis.standard.StandardAnalyzer;
import org.apache.lucene.document.Document;
import org.apache.lucene.document.Field;
import org.apache.lucene.index.IndexWriter;
import org.apache.lucene.queryParser.ParseException;
import org.apache.lucene.queryParser.QueryParser;
import org.apache.lucene.search.Hits;
import org.apache.lucene.search.IndexSearcher;
import org.apache.lucene.search.Query;
import org.apache.lucene.store.Directory;
import org.apache.lucene.store.RAMDirectory;


public class JapaneseDemo
{
    private static final String FIELD_CONTENT =3D "content";
    private static final String[] contents =3D=20
    {
        =
"=D4=D4=CC=C8=AA=CB=AA=CF=AA=AA=AA=A4=AA=B7=AA=A4=AB=E9?=AB=E1=AB=F3=E8=A9=
=AA=AC=AA=BF=AA=AF=AA=B5=AA=F3=AA=A2=AA=EA=AA=DE=AA=B9=A1=A3", =
"=DD=C1=FA=AD=D4=B3=AA=CB=AA=E2=AA=AA=AA=A4=AA=B7=AA=A4=AB=E9?=AB=E1=AB=F3=
=E8=A9=AA=AC=AA=A2=AA=EA=AA=DE=AA=B9=A1=A3"
    };
    private static final String phrase =3D "=AB=E9?=AB=E1=AB=F3=E8=A9";
    //private static final String phrase =3D "=E8=A9";
    private static Analyzer analyzer =3D null;

    /**
     * DOCUMENT ME!
     *=20
     * @param args DOCUMENT ME!
     * @throws IOException DOCUMENT ME!
     * @throws ParseException DOCUMENT ME!
     */
    public static void main(String[] args)
            throws IOException, ParseException
    {
        Directory directory =3D makeIndex();
        analysis();
        search(directory);
        directory.close();
    }

    /**
     * DOCUMENT ME!
     *=20
     * @return DOCUMENT ME!=20
     */
    private static Analyzer getAnalyzer()
    {
        if (analyzer =3D=3D null)
        {
            analyzer =3D new StandardAnalyzer();
            // analyzer =3D new CJKAnalyzer();
        }

        return analyzer;
    }

    /**
     * DOCUMENT ME!
     *=20
     * @throws IOException DOCUMENT ME!
     */
    private static void analysis()
            throws IOException
    {
        AnalyzerUtils.displayTokens(getAnalyzer(), phrase);
    }

    /**
     * DOCUMENT ME!
     *=20
     * @return DOCUMENT ME!=20
     * @throws IOException DOCUMENT ME!
     */
    private static Directory makeIndex()
            throws IOException
    {
        Directory directory =3D new RAMDirectory();
        IndexWriter writer =3D new IndexWriter(directory, getAnalyzer(), =

                                             true);
        for (int i =3D 0; i < contents.length; i++)
        {
            Document doc =3D new Document();
            doc.add(new Field(FIELD_CONTENT, contents[i], true, true,=20
                              true));
            writer.addDocument(doc);
        }

        writer.close();
        return directory;
    }

    /**
     * DOCUMENT ME!
     *=20
     * @param directory DOCUMENT ME!
     * @throws IOException DOCUMENT ME!
     * @throws ParseException DOCUMENT ME!
     */
    private static void search(Directory directory)
            throws IOException, ParseException
    {
        IndexSearcher searcher =3D new IndexSearcher(directory);
        QueryParser parser =3D new QueryParser(FIELD_CONTENT,=20
                                             getAnalyzer());
        System.out.println(
                " analyzer =3D " +=20
                getAnalyzer().getClass().getName());
        System.out.println("phrase =3D " + phrase);
        Query query =3D parser.parse(phrase);
        System.out.println("query =3D " + query);
        Hits hits =3D searcher.search(query);
        for (int i =3D 0; i < hits.length(); i++)
            System.out.println(
                    "doc =3D " + hits.doc(i).get(FIELD_CONTENT));

        searcher.close();
    }
}


------=_NextPart_000_0012_01C5DAFC.4D064F00
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
------=_NextPart_000_0012_01C5DAFC.4D064F00--



From java-user-return-17165-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 27 09:47:38 2005
Return-Path: <java-user-return-17165-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69108 invoked from network); 27 Oct 2005 09:47:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Oct 2005 09:47:38 -0000
Received: (qmail 64473 invoked by uid 500); 27 Oct 2005 09:47:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64448 invoked by uid 500); 27 Oct 2005 09:47:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64437 invoked by uid 99); 27 Oct 2005 09:47:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Oct 2005 02:47:30 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.65.18.194] (HELO gwserv161.interdoms.net) (69.65.18.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Oct 2005 02:47:26 -0700
Received: from ws97.brusselsvillage.be ([194.183.227.97] helo=[10.10.91.251])
	by gwserv161.interdoms.net with esmtpsa (TLSv1:AES256-SHA:256)
	(Exim 4.52)
	id 1EV4Lg-0004CB-Rk; Thu, 27 Oct 2005 11:47:07 +0200
Message-ID: <4360A210.9060908@attentio.com>
Date: Thu, 27 Oct 2005 11:46:56 +0200
From: Roxana Angheluta <roxana@attentio.com>
User-Agent: Mozilla Thunderbird 1.0 (X11/20041207)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
CC:  casper@attentio.com
Subject: Re: java on 64 bits
References: <4357F42C.1080603@attentio.com>	 <c68e39170510201355p49280600ld3cf39ebe0562dc8@mail.gmail.com>	 <435898BC.4030707@attentio.com> <c68e39170510210627s674b19b7p42d8cec0c539a244@mail.gmail.com> <435900B2.7010007@attentio.com>
In-Reply-To: <435900B2.7010007@attentio.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - gwserv161.interdoms.net
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - attentio.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello everyone!

Here are the conclusions we got after digging more into the problem, 
maybe they help someone:

1) Filling of the hard-drive was not due to java 64, this was 
coincidentally.
2) The intermediate files Yonik talked about (*.f*) were present because 
the indexing process was merging very large segments, which took a while 
to be merged.
3) We are indexing a continous stream of data. As documents get 
out-of-date they are deleted from the index. In order to ensure data 
throughput we use a batch indexing strategy by setting mergeFactor to 
50, but never optimizing. The downside of this is that it will take a 
long time before we reach the point where deleted documents are purged 
when out-of-date segments are merged. This means we end up with large 
segments that contain nothing but deleted documents that could be 
deleted if they weren't included in the segments file.
4) Assuming that frequently merging into a large segment doesn't affect 
the data throughput, then we should probably have implemented the 
strategy as described by Doug Cutting here - scroll down: 
http://www.gossamer-threads.com/lists/lucene/java-user/29350?page=last

Hth,
casper & roxana
> Thanks everyone for the answers!
> I'm experimenting with your suggestions, I will let you know if 
> something interesting pops up.
>
> roxana
>> 1) make sure the failure was due to an OutOfMemory exception and not
>> something else.
>> 2) if you have enough memory, increase the max JVM heap size (-Xmx)
>> 3) if you don't need more than 1.5G or so of heap, use the 32 bit JVM
>> instead (depending on architecture, it can acutally be a little faster
>> because more references fit in the CPU cache).
>> 4) see how many indexed fields you have and if you can consolidate 
>> any of
>> them
>> 4.5) if you don't have too many indexed fields, and have enough spare 
>> file
>> descriptors, try using the non-compound file format instead.
>> 5) run with the latest version of lucene (1.9 dev version) which may 
>> have
>> better memory usage during optimizes & segment merges.
>> 6) If/when optional norms
>> http://issues.apache.org/jira/browse/LUCENE-448
>> makes it into lucene, you can apply it to any indexed fields for 
>> which you
>> don't need index-time boosting or length normalization.
>>
>> As for getting rid of your current intermediate files, I'd rebuild from
>> scratch just to ensure things are OK.
>>
>> -Yonik
>> Now hiring -- http://tinyurl.com/7m67g
>>
>> On 10/21/05, Roxana Angheluta <roxana@attentio.com> wrote:
>>  
>>> Thank you, Yonik, it seems this is the case.
>>> What can we do in this case? Would running the program with java 
>>> -d32 be
>>> a solution?
>>>
>>> Thanks again,
>>> roxana
>>>   
>>>> One possibility: if lucene runs out of memory while adding or 
>>>> optimizing,
>>>>      
>>> it
>>>   
>>>> can leave unused files beind that increase the size of the index. A 64
>>>>      
>>> bit
>>>   
>>>> JVM will require more memory than a 32 bit one due to the size of all
>>>> references being doubled.
>>>>
>>>> If you are using the compound file format (the default - check for 
>>>> .cfs
>>>> files), then it's easy to check if you have this problem by seeing if
>>>>      
>>> there
>>>   
>>>> are any *.f* files in the index directory. These are intermediate 
>>>> files
>>>>      
>>> and
>>>   
>>>> shouldn't exist for long in a compound-file index.
>>>>
>>>> -Yonik
>>>> Now hiring -- http://tinyurl.com/7m67g
>>>>      
>>>    
>>
>>  
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17166-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 27 14:22:28 2005
Return-Path: <java-user-return-17166-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33323 invoked from network); 27 Oct 2005 14:22:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Oct 2005 14:22:28 -0000
Received: (qmail 80090 invoked by uid 500); 27 Oct 2005 14:22:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79749 invoked by uid 500); 27 Oct 2005 14:22:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79738 invoked by uid 99); 27 Oct 2005 14:22:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Oct 2005 07:22:20 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.73.178.77] (HELO web60014.mail.yahoo.com) (209.73.178.77)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 27 Oct 2005 07:22:17 -0700
Received: (qmail 29923 invoked by uid 60001); 27 Oct 2005 14:21:58 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=aDQbHwRcqKpdiys63aR9B+tnEjw8piol9tLeOv23v/JYuwsrV2huhFqZslQTkhqGJbpioGzXbavSAC7jvh6Ex9K1lpG2vU0AFwEjOwvSXbEB1YFextbyck99LUwyekUu8onG6ldJYx+ogkNuwHEQuko4++Etzx+AUmB52c2RPwM=  ;
Message-ID: <20051027142158.29921.qmail@web60014.mail.yahoo.com>
Received: from [70.190.39.139] by web60014.mail.yahoo.com via HTTP; Thu, 27 Oct 2005 07:21:58 PDT
Date: Thu, 27 Oct 2005 07:21:58 -0700 (PDT)
From: Chandramohan <clingam_nattamai@yahoo.com>
Subject: Index File Size
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

In general, will index size be equal to the size of
the document?  Also, does Lucene employ any index
compression schemes?  I am a relatively new user of
Lucene and I just love it!

thanks!


	
		
__________________________________ 
Yahoo! Mail - PC Magazine Editors' Choice 2005 
http://mail.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17167-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 27 14:35:21 2005
Return-Path: <java-user-return-17167-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40415 invoked from network); 27 Oct 2005 14:35:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Oct 2005 14:35:21 -0000
Received: (qmail 97956 invoked by uid 500); 27 Oct 2005 14:35:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97929 invoked by uid 500); 27 Oct 2005 14:35:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97918 invoked by uid 99); 27 Oct 2005 14:35:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Oct 2005 07:35:14 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [141.149.165.226] (HELO ponyexpress2.ad.openratings.com) (141.149.165.226)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Oct 2005 07:35:10 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: Wording on FAQ entry
Date: Thu, 27 Oct 2005 10:34:46 -0400
Message-ID: <9951857AC27D97449C62F7DD6C6122481D9BA9@ponyexpress2.ad.openratings.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Index File Size
Thread-Index: AcXbAe8uAR1T5BjQSLiIvbv9UtfkWgAAV0xg
From: "Dan Quaroni" <dquaroni@OPENRATINGS.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi, I just wanted to check the wording on this FAQ entry to see if it =
means what it says, or what I'd prefer it to mean.  The entry is:

"Is the IndexSearcher thread-safe?
Yes, IndexSearcher is thread-safe. Multiple search threads may access =
the index concurrently without any problems. "

So, the part in question is "Multiple search threads may access the =
index concurrently"

However, I think the question is really asking "Can multiple threads =
access the same SEARCHER at the same time?"

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17168-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 27 15:14:24 2005
Return-Path: <java-user-return-17168-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69192 invoked from network); 27 Oct 2005 15:14:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Oct 2005 15:14:24 -0000
Received: (qmail 75626 invoked by uid 500); 27 Oct 2005 15:14:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75595 invoked by uid 500); 27 Oct 2005 15:14:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75584 invoked by uid 99); 27 Oct 2005 15:14:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Oct 2005 08:14:17 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 217.207.206.146 is neither permitted nor denied by domain of bubblenut@gmail.com)
Received: from [217.207.206.146] (HELO armel.cd-wow.com) (217.207.206.146)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Oct 2005 08:14:13 -0700
Message-ID: <4360FCC4.7080706@gmail.com>
Date: Thu, 27 Oct 2005 17:13:56 +0100
From: Rob Young <bubblenut@gmail.com>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051011)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Better analysis of hyphenated words
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I'm using StandardAnalyzer during indexing and I have noticed that it 
splits hyphenated words in two, ditching the hyphen. This is messing up 
some of my search results. I would like to keep using StandardAnalyzer 
because it's very good on the whole, however I would like to add an 
extra term in these cases. I am fine doing everything except figuring 
out when StandardTokenizer has split a hyphenated word. All I get is the 
individual tokens with a type ALPHANUM. Can anyone think of a way I can 
do this without having to dive into StandardTokenizer?

I have looked at the source for StandardTokenizer and I really really 
really don't want to have to go there :/

Cheers
Rob

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17169-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 27 15:25:09 2005
Return-Path: <java-user-return-17169-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76880 invoked from network); 27 Oct 2005 15:25:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Oct 2005 15:25:08 -0000
Received: (qmail 91492 invoked by uid 500); 27 Oct 2005 15:25:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91468 invoked by uid 500); 27 Oct 2005 15:25:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91457 invoked by uid 99); 27 Oct 2005 15:25:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Oct 2005 08:25:01 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [207.155.252.112] (HELO leander.cnchost.com) (207.155.252.112)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Oct 2005 08:24:57 -0700
Received: from eagle (68-255-223-190.suntimes.com [68.255.223.190] (may be forged))
	by leander.cnchost.com
	id LAA01995; Thu, 27 Oct 2005 11:24:39 -0400 (EDT)
	[ConcentricHost SMTP Relay 1.17]
Message-ID: <200510271524.LAA01995@leander.cnchost.com>
Errors-To: <xinwu@pathf.com>
From: "Xin Herbert Wu" <xinwu@pathf.com>
To: <java-user@lucene.apache.org>
Subject: How to combine multiple fielded queries in Lucene
Date: Thu, 27 Oct 2005 10:24:34 -0500
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0007_01C5DAE0.A0B149F0"
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
thread-index: AcXbCokL3s4A89LnT9u4h6vxOlCUuA==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0007_01C5DAE0.A0B149F0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit

I am developing a search application via Lucene and ran into a problem can
be described as:

  Assume we have document schema with these fields:

  Title, Author, Summary, Publication_date(Date), Content

  The user query is like this:

  Find all documents where either Title field has word "baseball" or Summary
field has word "white sox" and the Pubblication_date is between Jan. 1995
and Dec. 2004. 

  In other words, I want the query somewhat like this:

  (Title = "baseball" OR Summary = "white sox") AND Publication_date =
"199501 TO 200412"

 

  Based on Lucene API, it seems that a basic query is applied on a single
document field only, but how can I hook up multiple field queries together
with Boolean logic AND or OR as demoed in above example?

 

Your help is greatly appreciated!

 

-Xin

 

 


------=_NextPart_000_0007_01C5DAE0.A0B149F0--



From java-user-return-17170-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 27 15:35:06 2005
Return-Path: <java-user-return-17170-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82887 invoked from network); 27 Oct 2005 15:35:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Oct 2005 15:35:06 -0000
Received: (qmail 12368 invoked by uid 500); 27 Oct 2005 15:34:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12333 invoked by uid 500); 27 Oct 2005 15:34:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12308 invoked by uid 99); 27 Oct 2005 15:34:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Oct 2005 08:34:57 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [65.209.1.80] (HELO webmail.cymfony.com) (65.209.1.80)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Oct 2005 08:34:52 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: How to combine multiple fielded queries in Lucene
Date: Thu, 27 Oct 2005 11:32:06 -0400
Message-ID: <13F36D2926AD444697093282F20041B703A6563B@buf-ex01.cymfony.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: How to combine multiple fielded queries in Lucene
Thread-Index: AcXbCokL3s4A89LnT9u4h6vxOlCUuAAAB1oA
From: "Peter Kim" <pkim@cymfony.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

If you're using the QueryParser, you just prefix the field-specific part
with the field. For example, the query in your email should be submitted
to the query parser as:

(Title:"baseball" OR Summary:"white sox") AND Publication_date:"199501
TO 200412"

or if you're creating is programmatically, the constructor to the
TermQuery takes a Term(field_name, search term)

You'll hear this a million times if you're on this mailing list long
enough, but buy Lucene in Action. The time you'll lose without it is far
more costly than the $30 it'll cost to buy the book.

Peter

> -----Original Message-----
> From: Xin Herbert Wu [mailto:xinwu@pathf.com]=20
> Sent: Thursday, October 27, 2005 11:25 AM
> To: java-user@lucene.apache.org
> Subject: How to combine multiple fielded queries in Lucene
>=20
> I am developing a search application via Lucene and ran into=20
> a problem can be described as:
>=20
>   Assume we have document schema with these fields:
>=20
>   Title, Author, Summary, Publication_date(Date), Content
>=20
>   The user query is like this:
>=20
>   Find all documents where either Title field has word=20
> "baseball" or Summary field has word "white sox" and the=20
> Pubblication_date is between Jan. 1995 and Dec. 2004.=20
>=20
>   In other words, I want the query somewhat like this:
>=20
>   (Title =3D "baseball" OR Summary =3D "white sox") AND =
Publication_date =3D
> "199501 TO 200412"
>=20
> =20
>=20
>   Based on Lucene API, it seems that a basic query is applied=20
> on a single document field only, but how can I hook up=20
> multiple field queries together with Boolean logic AND or OR=20
> as demoed in above example?
>=20
> =20
>=20
> Your help is greatly appreciated!
>=20
> =20
>=20
> -Xin
>=20
> =20
>=20
> =20
>=20
>=20
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17171-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 27 15:56:53 2005
Return-Path: <java-user-return-17171-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97872 invoked from network); 27 Oct 2005 15:56:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Oct 2005 15:56:52 -0000
Received: (qmail 55291 invoked by uid 500); 27 Oct 2005 15:56:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55271 invoked by uid 500); 27 Oct 2005 15:56:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55260 invoked by uid 99); 27 Oct 2005 15:56:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Oct 2005 08:56:45 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [81.187.175.75] (HELO staf-exm-01.ardentia.co.uk) (81.187.175.75)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Oct 2005 08:56:41 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C5DB0F.2F9D2EC5"
Subject: Terms contain spaces
Date: Thu, 27 Oct 2005 16:57:51 +0100
Message-ID: <0B1C92228C5C8D45AA7450F78B3FB9DE05A4E7@staf-exm-01.ardentia.co.uk>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Terms contain spaces
Thread-Index: AcXbDywYB4cfdTRNS7WIegoKAyGt2g==
From: "Mike Streeton" <mike.streeton@ardentia.co.uk>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C5DB0F.2F9D2EC5
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

I have been given an index with a term that has been stored as a keyword
and contains spaces. We are parsing a query using QueryParser but given
'myfield:"abc def"' it generates a PhraseQuery for myfield:abc and
myfield:def. What is needed is a TermQuery(new Term(myfield,"abc def")).
Can you tell query parser what to generate for strings in quotes?=20

=20

Thanks

=20

Mike


------_=_NextPart_001_01C5DB0F.2F9D2EC5--

From java-user-return-17172-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 27 16:08:30 2005
Return-Path: <java-user-return-17172-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6614 invoked from network); 27 Oct 2005 16:08:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Oct 2005 16:08:27 -0000
Received: (qmail 83008 invoked by uid 500); 27 Oct 2005 16:08:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82977 invoked by uid 500); 27 Oct 2005 16:08:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82966 invoked by uid 99); 27 Oct 2005 16:08:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Oct 2005 09:08:21 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.20.168.25] (HELO uar.i-hypergrid.com) (217.20.168.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Oct 2005 09:08:16 -0700
Received: from [192.168.0.86] (vbychkoviak.jforce [192.168.0.86])
	by uar.i-hypergrid.com (Postfix) with ESMTP id 5F6E51B754
	for <java-user@lucene.apache.org>; Thu, 27 Oct 2005 19:07:52 +0300 (EEST)
Message-ID: <4360FB58.9000207@i-hypergrid.com>
Date: Thu, 27 Oct 2005 19:07:52 +0300
From: Volodymyr Bychkoviak <vbychkoviak@i-hypergrid.com>
User-Agent: Thunderbird 1.4.1 (Windows/20051006)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Terms contain spaces
References: <0B1C92228C5C8D45AA7450F78B3FB9DE05A4E7@staf-exm-01.ardentia.co.uk>
In-Reply-To: <0B1C92228C5C8D45AA7450F78B3FB9DE05A4E7@staf-exm-01.ardentia.co.uk>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi.

You can extend QueryParser and overwrite method getFieldQuery(String 
field, String queryText) and define your own behavior.

But be careful not to call static method parse on it because you'll get 
old QP.

Mike Streeton wrote:
> I have been given an index with a term that has been stored as a keyword
> and contains spaces. We are parsing a query using QueryParser but given
> 'myfield:"abc def"' it generates a PhraseQuery for myfield:abc and
> myfield:def. What is needed is a TermQuery(new Term(myfield,"abc def")).
> Can you tell query parser what to generate for strings in quotes? 
>
>  
>
> Thanks
>
>  
>
> Mike
>
>
>   

-- 
regards,
Volodymyr Bychkoviak


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17173-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 27 18:14:21 2005
Return-Path: <java-user-return-17173-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76033 invoked from network); 27 Oct 2005 18:14:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Oct 2005 18:14:21 -0000
Received: (qmail 10404 invoked by uid 500); 27 Oct 2005 18:14:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10376 invoked by uid 500); 27 Oct 2005 18:14:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10354 invoked by uid 99); 27 Oct 2005 18:14:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Oct 2005 11:14:14 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Oct 2005 11:14:11 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 3AA1B13E2005; Thu, 27 Oct 2005 14:13:51 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id BC82313E2005
	for <java-user@lucene.apache.org>; Thu, 27 Oct 2005 14:13:42 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <4360FCC4.7080706@gmail.com>
References: <4360FCC4.7080706@gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <7CED63AE-0078-4A9C-BCBB-1A4667445F0C@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Better analysis of hyphenated words
Date: Thu, 27 Oct 2005 14:13:38 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 27 Oct 2005, at 12:13, Rob Young wrote:
> I'm using StandardAnalyzer during indexing and I have noticed that  
> it splits hyphenated words in two, ditching the hyphen. This is  
> messing up some of my search results. I would like to keep using  
> StandardAnalyzer because it's very good on the whole, however I  
> would like to add an extra term in these cases. I am fine doing  
> everything except figuring out when StandardTokenizer has split a  
> hyphenated word. All I get is the individual tokens with a type  
> ALPHANUM. Can anyone think of a way I can do this without having to  
> dive into StandardTokenizer?
>
> I have looked at the source for StandardTokenizer and I really  
> really really don't want to have to go there :/

StandardTokenizer is a JavaCC grammar - and it's actually not that  
complex, though JavaCC is a whole other technology to learn if you've  
not done it before.  Look at StandardTokenizer.jj, not .java.

You could pretty easily modify the .jj file and add the hyphen to the  
alphanumeric tokens, rebuild it using JavaCC (the Ant build file for  
Lucene can do this for you once you have JavaCC).

Using StandardTokenizer without modifying it won't be possible to  
achieve what you're after - the damage is already done on the output  
of StandardTokenizer.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17174-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 27 18:17:09 2005
Return-Path: <java-user-return-17174-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77095 invoked from network); 27 Oct 2005 18:17:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Oct 2005 18:17:08 -0000
Received: (qmail 13271 invoked by uid 500); 27 Oct 2005 18:17:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13250 invoked by uid 500); 27 Oct 2005 18:17:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13239 invoked by uid 99); 27 Oct 2005 18:17:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Oct 2005 11:17:02 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Oct 2005 11:17:00 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 1C8F413E2005; Thu, 27 Oct 2005 14:16:37 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id B561913E2005
	for <java-user@lucene.apache.org>; Thu, 27 Oct 2005 14:16:34 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <13F36D2926AD444697093282F20041B703A6563B@buf-ex01.cymfony.com>
References: <13F36D2926AD444697093282F20041B703A6563B@buf-ex01.cymfony.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <2A90A8B0-0F2F-4221-8ACA-1EB13F5B02EF@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: How to combine multiple fielded queries in Lucene
Date: Thu, 27 Oct 2005 14:16:30 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 27 Oct 2005, at 11:32, Peter Kim wrote:

> If you're using the QueryParser, you just prefix the field-specific  
> part
> with the field. For example, the query in your email should be  
> submitted
> to the query parser as:
>
> (Title:"baseball" OR Summary:"white sox") AND Publication_date:"199501
> TO 200412"

Correction:   Publication_date:[199501 TO 200412]

> You'll hear this a million times if you're on this mailing list long
> enough, but buy Lucene in Action. The time you'll lose without it  
> is far
> more costly than the $30 it'll cost to buy the book.

:)  Thanks!

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17175-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 27 18:18:31 2005
Return-Path: <java-user-return-17175-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77618 invoked from network); 27 Oct 2005 18:18:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Oct 2005 18:18:31 -0000
Received: (qmail 14886 invoked by uid 500); 27 Oct 2005 18:18:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14869 invoked by uid 500); 27 Oct 2005 18:18:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14858 invoked by uid 99); 27 Oct 2005 18:18:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Oct 2005 11:18:26 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Oct 2005 11:18:22 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id A8B7313E2006; Thu, 27 Oct 2005 14:18:03 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 8BE0913E2005
	for <java-user@lucene.apache.org>; Thu, 27 Oct 2005 14:17:57 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <20051027142158.29921.qmail@web60014.mail.yahoo.com>
References: <20051027142158.29921.qmail@web60014.mail.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <C454431D-CBD8-46A4-AF0F-5283F63EA363@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Index File Size
Date: Thu, 27 Oct 2005 14:17:53 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 27 Oct 2005, at 10:21, Chandramohan wrote:

> In general, will index size be equal to the size of
> the document?  Also, does Lucene employ any index
> compression schemes?  I am a relatively new user of
> Lucene and I just love it!

It depends on how you create Field's.  The general rule of thumb I've  
heard is that if you don't store fields, but just tokenize and index  
them, an index is about 35% the size of the original documents.   
Though most applications need some stored fields.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17176-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 27 20:35:54 2005
Return-Path: <java-user-return-17176-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65922 invoked from network); 27 Oct 2005 20:35:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Oct 2005 20:35:54 -0000
Received: (qmail 48819 invoked by uid 500); 27 Oct 2005 20:35:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48770 invoked by uid 500); 27 Oct 2005 20:35:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48758 invoked by uid 99); 27 Oct 2005 20:35:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Oct 2005 13:35:47 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.181.92.62] (HELO fracf2.staples.com) (66.181.92.62)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Oct 2005 13:35:44 -0700
Received: from FRAEXIMS2.staples.com (Not Verified[10.1.7.82]) by fracf2.staples.com with NetIQ MailMarshal (v5.5.4.17)
	id <BB04d554dd>; Thu, 27 Oct 2005 16:35:25 -0400
Received: by fraexims2.staples.com with Internet Mail Service (5.5.2657.72)
	id <VAH5GJ7M>; Thu, 27 Oct 2005 16:35:25 -0400
Message-ID: <A9D9F16EC5955244A7B760CB3B8258480B9EDABE@fraexmb2.staples.com>
From: "Sharma, Siddharth" <Siddharth.Sharma@Staples.com>
To: java-user@lucene.apache.org
Subject: Search problems
Date: Thu, 27 Oct 2005 16:35:23 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi 

My index has 4 keyword fields and one unindexed field.
I want to search by the 4 keyword fields and return the one unindexed field.

I can iterate over the documents via Luke.
But when I search for the same values that I see via Luke, it does not find
the document.
Out of the 4 fields, 2 are alphanumeric and searching on just these two
fields does succeed and I can find the document in question.

The other 2 fields can have numeric values. When I include these two fields
in the search, the same document cannot be found.

I thought that the fact that these fields had numeric values might be the
reason for the search to be unsuccessful. So I browsed for another document
via Luke where these fields had alphanumeric values, but again could not
find the document? Returns no result.

What could the problem be? Any ideas?
I have added all the 4 fields with 'Field.Keyword'.

Thanks
Sid


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17177-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 27 20:55:40 2005
Return-Path: <java-user-return-17177-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73468 invoked from network); 27 Oct 2005 20:55:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Oct 2005 20:55:40 -0000
Received: (qmail 69670 invoked by uid 500); 27 Oct 2005 20:55:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69639 invoked by uid 500); 27 Oct 2005 20:55:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69628 invoked by uid 99); 27 Oct 2005 20:55:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Oct 2005 13:55:35 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,MSGID_FROM_MTA_HEADER,NO_REAL_NAME,SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Msftblows@aol.com designates 205.188.144.207 as permitted sender)
Received: from [205.188.144.207] (HELO imo-d21.mx.aol.com) (205.188.144.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Oct 2005 13:55:31 -0700
Received: from Msftblows@aol.com
	by imo-d21.mx.aol.com (mail_out_v38_r6.3.) id h.1a9.42982a46 (15702)
	 for <java-user@lucene.apache.org>; Thu, 27 Oct 2005 16:55:06 -0400 (EDT)
Received: from  FWM-R39 (fwm-r39.webmail.aol.com [152.163.181.143]) by air-id05.mx.aol.com (v107.13) with ESMTP id MAILINID53-3d5643613eaa49; Thu, 27 Oct 2005 16:55:06 -0400
Date: Thu, 27 Oct 2005 16:55:06 -0400
Message-Id: <8C7A94FD8365A08-1274-1560@FWM-R39.sysops.aol.com>
From: msftblows@aol.com
References: <200510271524.LAA01995@leander.cnchost.com>
Received: from 38.117.191.162 by FWM-R39.sysops.aol.com (152.163.181.143) with HTTP (WebMailUI); Thu, 27 Oct 2005 16:55:06 -0400
X-MB-Message-Source: WebUI
X-MB-Message-Type: User
In-Reply-To: <200510271524.LAA01995@leander.cnchost.com>
X-Mailer: AOL WebMail 1.1.0.14204
Subject: Re: How to combine multiple fielded queries in Lucene
Content-Type: multipart/alternative;
 boundary="--------MailBlocks_8C7A94FD8365A08_1274_16AB_FWM-R39.sysops.aol.com"
MIME-Version: 1.0
To: java-user@lucene.apache.org
X-AOL-IP: 152.163.181.143
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Flag: NO
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

----------MailBlocks_8C7A94FD8365A08_1274_16AB_FWM-R39.sysops.aol.com
Content-Type: text/plain; charset="us-ascii"

You can write an expansionQuery class and enumerate through the fields and send in a query that does that.
 
I did something like that not long ago, it would send a query that would first be "" then AND then OR... 
 
-----Original Message-----
From: Xin Herbert Wu <xinwu@pathf.com>
To: java-user@lucene.apache.org
Sent: Thu, 27 Oct 2005 10:24:34 -0500
Subject: How to combine multiple fielded queries in Lucene


I am developing a search application via Lucene and ran into a problem can
be described as:

  Assume we have document schema with these fields:

  Title, Author, Summary, Publication_date(Date), Content

  The user query is like this:

  Find all documents where either Title field has word "baseball" or Summary
field has word "white sox" and the Pubblication_date is between Jan. 1995
and Dec. 2004. 

  In other words, I want the query somewhat like this:

  (Title = "baseball" OR Summary = "white sox") AND Publication_date =
"199501 TO 200412"

 

  Based on Lucene API, it seems that a basic query is applied on a single
document field only, but how can I hook up multiple field queries together
with Boolean logic AND or OR as demoed in above example?

 

Your help is greatly appreciated!

 

-Xin

 

 

----------MailBlocks_8C7A94FD8365A08_1274_16AB_FWM-R39.sysops.aol.com--

From java-user-return-17178-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 27 23:06:51 2005
Return-Path: <java-user-return-17178-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23881 invoked from network); 27 Oct 2005 23:06:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Oct 2005 23:06:51 -0000
Received: (qmail 30433 invoked by uid 500); 27 Oct 2005 23:06:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30404 invoked by uid 500); 27 Oct 2005 23:06:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30393 invoked by uid 99); 27 Oct 2005 23:06:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Oct 2005 16:06:44 -0700
X-ASF-Spam-Status: No, hits=1.8 required=10.0
	tests=HTML_MESSAGE,SPF_PASS,SUB_HELLO
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jaikumarg@gmail.com designates 66.249.82.199 as permitted sender)
Received: from [66.249.82.199] (HELO xproxy.gmail.com) (66.249.82.199)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Oct 2005 16:06:41 -0700
Received: by xproxy.gmail.com with SMTP id i26so145238wxd
        for <java-user@lucene.apache.org>; Thu, 27 Oct 2005 16:06:23 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=k6J7E4B++AYEeVO+XReaFxqGjkHRetR1SED0pwRqWnjLBrt5XA1LTN/YI2Yib7iqk5s7aT/3iL3CHtLcmoppo630bVtm74bYqF90Y4NhCgqsUHCwvjrw01plexc1nUP4bOFm80TbN9xuLWuVoh0zzt2VjqYbkskb69Kw1WzGIEo=
Received: by 10.70.12.9 with SMTP id 9mr1338344wxl;
        Thu, 27 Oct 2005 16:06:22 -0700 (PDT)
Received: by 10.70.97.18 with HTTP; Thu, 27 Oct 2005 16:06:22 -0700 (PDT)
Message-ID: <ac290f760510271606h1fd7833dlfd1a313f31b4145b@mail.gmail.com>
Date: Thu, 27 Oct 2005 16:06:22 -0700
From: jaikumar Ganesh <jaikumarg@gmail.com>
To: java-user@lucene.apache.org
Subject: Hello
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_16063_5433742.1130454382931"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_16063_5433742.1130454382931
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hello
 I was playing with the lucene based search engine at
http://lucene.apache.org/java/docs/index.html
I have been able to create the index and search for the query string at the
cmd line.
 However, for the html version when i develop and set the index as
"/opt/lucene/index" and then use the demo web template to search ... i was
always get the result as :
 "I'm sorry I couldn't find what you were looking for." becuase hits.length=
()
is always zero.
 It is able to find the path to the index but unable to search. For the sam=
e
index built for the command line search, it works fine. But when built for
the html search it does not work.
 Any hints?
 Thanks
Jaikumar

------=_Part_16063_5433742.1130454382931--

From java-user-return-17179-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 27 23:14:05 2005
Return-Path: <java-user-return-17179-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26794 invoked from network); 27 Oct 2005 23:14:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Oct 2005 23:14:04 -0000
Received: (qmail 40858 invoked by uid 500); 27 Oct 2005 23:13:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40750 invoked by uid 500); 27 Oct 2005 23:13:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40716 invoked by uid 99); 27 Oct 2005 23:13:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Oct 2005 16:13:52 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [24.29.109.7] (HELO ms-smtp-03.rdc-nyc.rr.com) (24.29.109.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Oct 2005 16:13:47 -0700
Received: from [192.168.1.103] (cpe-66-108-35-120.nyc.res.rr.com [66.108.35.120])
	by ms-smtp-03.rdc-nyc.rr.com (8.12.10/8.12.7) with ESMTP id j9RNCLME022967
	for <java-user@lucene.apache.org>; Thu, 27 Oct 2005 19:12:21 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
Content-Transfer-Encoding: 7bit
Message-Id: <96B9ACE2-D4D0-4CB7-8930-5343C57E5AE2@earthlink.net>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
To: java-user@lucene.apache.org
From: Andy Lee <aglee@earthlink.net>
Subject: trying to boost a phrase higher than its individual words
Date: Thu, 27 Oct 2005 19:13:22 -0400
X-Mailer: Apple Mail (2.734)
X-Virus-Scanned: Symantec AntiVirus Scan Engine
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I have a situation where I want to search for individual words in a  
phrase as well as the phrase itself.  For example, if the user enters  
["classical music"] (with quotes) I want to find documents that  
contain "classical music" (the phrase) *and* the individual words  
"classical" and "music".

Of course, I could just search for the individual words and the  
phrase would get found as a consequence.  But I want documents  
containing the phrase to appear first in the search results, since  
the phrase is the user's primary interest.

I've constructed the following query, using boost values...

     [+(content:"classical music"^5.0 content:classical^0.1  
content:music^0.1)]

...but the boost values don't seem to affect the order of the search  
results.

Am I misunderstanding the purpose or proper usage of boosts, and if  
so, can someone explain (at least roughly) how to achieve the desired  
result?

--Andy


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17180-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 28 03:05:24 2005
Return-Path: <java-user-return-17180-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16584 invoked from network); 28 Oct 2005 03:05:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Oct 2005 03:05:24 -0000
Received: (qmail 1606 invoked by uid 500); 28 Oct 2005 03:05:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1319 invoked by uid 500); 28 Oct 2005 03:05:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1308 invoked by uid 99); 28 Oct 2005 03:05:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Oct 2005 20:05:17 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of chenjian1227@gmail.com designates 66.249.82.197 as permitted sender)
Received: from [66.249.82.197] (HELO xproxy.gmail.com) (66.249.82.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Oct 2005 20:05:14 -0700
Received: by xproxy.gmail.com with SMTP id i26so206625wxd
        for <java-user@lucene.apache.org>; Thu, 27 Oct 2005 20:04:56 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=uVChuSP/2ayPEtJJEG4T1UK2KaQ+x3TR2Nr/yIt1Z9zdqXuSqQOK+XApJ28Lwt6UAuBT3lJcRCupUZN3FiBm99b5Jf9IWCQlZ75GVbDF38ww21iW5RzjkjIPr7Mtc72iyQh6GEwazQSitrlP1L8HUzQT+gyFHnm/PZKgAE7WqV4=
Received: by 10.65.137.14 with SMTP id p14mr1626790qbn;
        Thu, 27 Oct 2005 20:04:56 -0700 (PDT)
Received: by 10.65.147.20 with HTTP; Thu, 27 Oct 2005 20:04:55 -0700 (PDT)
Message-ID: <7ca123910510272004r813c16eo10422a607c720f24@mail.gmail.com>
Date: Thu, 27 Oct 2005 20:04:56 -0700
From: jian chen <chenjian1227@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: trying to boost a phrase higher than its individual words
In-Reply-To: <96B9ACE2-D4D0-4CB7-8930-5343C57E5AE2@earthlink.net>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_20272_28525810.1130468696012"
References: <96B9ACE2-D4D0-4CB7-8930-5343C57E5AE2@earthlink.net>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_20272_28525810.1130468696012
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,

It seems what you want to achieve could be implemented using the Cover
Density algorithm. I am not sure if any existing query classes in the Lucen=
e
distribution does this already. But in case not, this is what I am think
about:

Make a custom query class, called CoverDensityQuery, which is modeled after
PhraseQuery.

The CoverDensityQuery could accept two arguments as its constructor, the
Terms and the numOfTermsMatched.

For example, to search for "classical music", you will first construct
CoverDensityQuery like:
new CoverDensityQuery(new String[]{"classical", "music"}, 2);

This should return all documents that contain both "classical" and "music".
The ranking will be based on covers, each cover is a span with the two term=
s
at each end. The shorter the cover, the higher the rank, the more the
covers, the higher the rank.

If the returned documents are not enough, then, do another query like:
new CoverDensityQuery(new String[]{"classical", "music"}, 1);

This should return documents either containing "classical" or "music", but
not both.

The detailed algorithm will be constructed similar to PhraseQuery.

I will write such a query class in the future, just as a proof of concept
for cover density algorithm.

Cheers,

Jian

On 10/27/05, Andy Lee <aglee@earthlink.net> wrote:
>
> I have a situation where I want to search for individual words in a
> phrase as well as the phrase itself. For example, if the user enters
> ["classical music"] (with quotes) I want to find documents that
> contain "classical music" (the phrase) *and* the individual words
> "classical" and "music".
>
> Of course, I could just search for the individual words and the
> phrase would get found as a consequence. But I want documents
> containing the phrase to appear first in the search results, since
> the phrase is the user's primary interest.
>
> I've constructed the following query, using boost values...
>
> [+(content:"classical music"^5.0 content:classical^0.1
> content:music^0.1)]
>
> ...but the boost values don't seem to affect the order of the search
> results.
>
> Am I misunderstanding the purpose or proper usage of boosts, and if
> so, can someone explain (at least roughly) how to achieve the desired
> result?
>
> --Andy
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_20272_28525810.1130468696012--

From java-user-return-17181-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 28 03:35:59 2005
Return-Path: <java-user-return-17181-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23936 invoked from network); 28 Oct 2005 03:35:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Oct 2005 03:35:58 -0000
Received: (qmail 17633 invoked by uid 500); 28 Oct 2005 03:35:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17604 invoked by uid 500); 28 Oct 2005 03:35:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17590 invoked by uid 99); 28 Oct 2005 03:35:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Oct 2005 20:35:53 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Oct 2005 20:35:50 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 080865B785; Thu, 27 Oct 2005 20:35:27 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 004AE7F475
	for <java-user@lucene.apache.org>; Thu, 27 Oct 2005 20:35:26 -0700 (PDT)
Date: Thu, 27 Oct 2005 20:35:26 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: trying to boost a phrase higher than its individual words
In-Reply-To: <96B9ACE2-D4D0-4CB7-8930-5343C57E5AE2@earthlink.net>
Message-ID: <Pine.LNX.4.58.0510272029100.27209@hal.rescomp.berkeley.edu>
References: <96B9ACE2-D4D0-4CB7-8930-5343C57E5AE2@earthlink.net>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: I've constructed the following query, using boost values...
:
:      [+(content:"classical music"^5.0 content:classical^0.1
: content:music^0.1)]
:
: ...but the boost values don't seem to affect the order of the search
: results.

What you're describing should work.

What does the value of IndexSearcher.explain(q,docId).toString() look like
for the docIds of documents you expect to be early in the list compared to
the output for a docId that is early in the list?



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17182-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 28 03:42:06 2005
Return-Path: <java-user-return-17182-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26237 invoked from network); 28 Oct 2005 03:42:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Oct 2005 03:42:06 -0000
Received: (qmail 23659 invoked by uid 500); 28 Oct 2005 03:42:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22898 invoked by uid 500); 28 Oct 2005 03:42:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22887 invoked by uid 99); 28 Oct 2005 03:42:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Oct 2005 20:42:01 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Oct 2005 20:41:58 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 3BBB95B89E; Thu, 27 Oct 2005 20:41:40 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 389B67F476
	for <java-user@lucene.apache.org>; Thu, 27 Oct 2005 20:41:40 -0700 (PDT)
Date: Thu, 27 Oct 2005 20:41:40 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Wording on FAQ entry
In-Reply-To: <9951857AC27D97449C62F7DD6C6122481D9BA9@ponyexpress2.ad.openratings.com>
Message-ID: <Pine.LNX.4.58.0510272037540.27209@hal.rescomp.berkeley.edu>
References: <9951857AC27D97449C62F7DD6C6122481D9BA9@ponyexpress2.ad.openratings.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: So, the part in question is "Multiple search threads may access the
: index concurrently"
:
: However, I think the question is really asking "Can multiple threads
: access the same SEARCHER at the same time?"

yes, I've clarified the answer...

  Yes, IndexSearcher is thread-safe.  Multiple search threads may use the
  same instance of IndexSearcher concurrently without any problems.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17183-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 28 09:36:42 2005
Return-Path: <java-user-return-17183-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1466 invoked from network); 28 Oct 2005 09:36:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Oct 2005 09:36:37 -0000
Received: (qmail 84606 invoked by uid 500); 28 Oct 2005 09:36:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84589 invoked by uid 500); 28 Oct 2005 09:36:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84577 invoked by uid 99); 28 Oct 2005 09:36:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Oct 2005 02:36:28 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [70.84.120.252] (HELO glider.phpwebhosting.com) (70.84.120.252)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 28 Oct 2005 02:36:25 -0700
Received: (qmail 8278 invoked from network); 28 Oct 2005 09:52:32 -0000
Received: from unknown (HELO [192.168.8.19]) (pguillard%citycita.net@219.137.4.210)
	by glider.phpwebhosting.com with SMTP; Fri, 28 Oct 2005 05:52:32 -0400
Message-ID: <4361F094.6070709@citycita.net>
Date: Fri, 28 Oct 2005 17:34:12 +0800
From: Philippe Guillard <pguillard@citycita.net>
User-Agent: Mozilla Thunderbird 0.8 (X11/20041020)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: geographical  search
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello here,

I'd like to do some geographical searches. Can somebody can tell me 
where to go ?

At the moment i put the longitude and latitude in the index as i would 
put some text. Then i did some range queries like this :
queryString=foo AND country:United States AND 
coordinates@lon:[-74.04047986086957 TO -73.95352333913044] AND 
coordinates@lat:[40.70662093913044 TO 40.793577460869564]
It worked well with positive coordinates in Europe, not in the US so i 
planned to put N/S before latitude, E/O before longitudes to replace 
negative values.
But something tells me this is not the way to do things with Lucene and 
not use the range query:-)
So i red :
- http://wiki.apache.org/nutch/GeoPosition
- and this from the Boss :-) 
http://www.opensubscriber.com/message/lucene-dev@jakarta.apache.org/184558.html 

- http://photospace.sourceforge.net/codecon/codecon-2005.html
, but all this seems complicated to me!

Regards,

Phil

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17184-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 28 13:47:00 2005
Return-Path: <java-user-return-17184-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44890 invoked from network); 28 Oct 2005 13:47:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Oct 2005 13:47:00 -0000
Received: (qmail 26557 invoked by uid 500); 28 Oct 2005 13:46:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26424 invoked by uid 500); 28 Oct 2005 13:46:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26331 invoked by uid 99); 28 Oct 2005 13:46:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Oct 2005 06:46:35 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.146.134.175] (HELO mail.inovex.de) (217.146.134.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Oct 2005 06:46:31 -0700
Received: from [192.168.1.113] (gast4.inovex.de [192.168.1.113])
	by mail.inovex.de (Postfix) with ESMTP id 522FD5B1C2
	for <java-user@lucene.apache.org>; Fri, 28 Oct 2005 15:53:43 +0200 (CEST)
Message-ID: <43622B8A.60606@inovex.de>
Date: Fri, 28 Oct 2005 15:45:46 +0200
From: =?ISO-8859-1?Q?Tobias_L=FCtticke?= <t.luetticke@inovex.de>
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Usage RAMDirectory
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

for the last days I had the thought lingering in my mind that somehow I had to use the 
RAMDirectory. I have a production system with plenty of memory so that would be nice. 
However, it's a update-happy application and the index needs to be persistent (meaning 
FSDirectory).

Therefore I came up with the idea to use both - RAM and FSDirectory. I plan to read the 
index into RAMDirectory for search purposes and in case of write access just update the 
RAMDirectory as well as the FSDirectory.
Then I have both, persistent storage and fast read access. The double update should be 
bearable since the in-memory update is fast. Moreover, the users are willing to accept a 
delay when writing rather upon reading.

Has anybody ever tried this? Are there downsides or do I miss anything? I imagine I could 
hardly be the first to try this...

I would be happy if someone has experiences to share.

Cheers
   Tobias


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17185-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 28 14:37:31 2005
Return-Path: <java-user-return-17185-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72727 invoked from network); 28 Oct 2005 14:37:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Oct 2005 14:37:31 -0000
Received: (qmail 5902 invoked by uid 500); 28 Oct 2005 14:37:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5878 invoked by uid 500); 28 Oct 2005 14:37:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5867 invoked by uid 99); 28 Oct 2005 14:37:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Oct 2005 07:37:25 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 217.207.206.146 is neither permitted nor denied by domain of bubblenut@gmail.com)
Received: from [217.207.206.146] (HELO armel.cd-wow.com) (217.207.206.146)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Oct 2005 07:37:22 -0700
Message-ID: <4362374B.4050404@gmail.com>
Date: Fri, 28 Oct 2005 15:35:55 +0100
From: Rob Young <bubblenut@gmail.com>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051011)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Usage RAMDirectory
References: <43622B8A.60606@inovex.de>
In-Reply-To: <43622B8A.60606@inovex.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

How important is it that the search index be absolutely up to date? I 
read from a RAMDirectory based index but the actual index is in a 
FSDirectory. The way I managed it was to have the RAMDirectory 
periodically (two hourly) reloaded. My data doesn't have to be 
completely up to date so this works for me.

Tobias Lütticke wrote:

> Hi,
>
> for the last days I had the thought lingering in my mind that somehow 
> I had to use the RAMDirectory. I have a production system with plenty 
> of memory so that would be nice. However, it's a update-happy 
> application and the index needs to be persistent (meaning FSDirectory).
>
> Therefore I came up with the idea to use both - RAM and FSDirectory. I 
> plan to read the index into RAMDirectory for search purposes and in 
> case of write access just update the RAMDirectory as well as the 
> FSDirectory.
> Then I have both, persistent storage and fast read access. The double 
> update should be bearable since the in-memory update is fast. 
> Moreover, the users are willing to accept a delay when writing rather 
> upon reading.
>
> Has anybody ever tried this? Are there downsides or do I miss 
> anything? I imagine I could hardly be the first to try this...
>
> I would be happy if someone has experiences to share.
>
> Cheers
>   Tobias
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17186-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 28 14:39:23 2005
Return-Path: <java-user-return-17186-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74277 invoked from network); 28 Oct 2005 14:39:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Oct 2005 14:39:23 -0000
Received: (qmail 12413 invoked by uid 500); 28 Oct 2005 14:39:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12392 invoked by uid 500); 28 Oct 2005 14:39:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12381 invoked by uid 99); 28 Oct 2005 14:39:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Oct 2005 07:39:17 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Oct 2005 07:39:14 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id BD50213E2005; Fri, 28 Oct 2005 10:38:55 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 0316B13E2005
	for <java-user@lucene.apache.org>; Fri, 28 Oct 2005 10:38:42 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <96B9ACE2-D4D0-4CB7-8930-5343C57E5AE2@earthlink.net>
References: <96B9ACE2-D4D0-4CB7-8930-5343C57E5AE2@earthlink.net>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <336EA89A-6152-4B5C-A36A-E7F91BED5CE5@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: trying to boost a phrase higher than its individual words
Date: Fri, 28 Oct 2005 10:38:40 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 27 Oct 2005, at 19:13, Andy Lee wrote:

> I have a situation where I want to search for individual words in a  
> phrase as well as the phrase itself.  For example, if the user  
> enters ["classical music"] (with quotes) I want to find documents  
> that contain "classical music" (the phrase) *and* the individual  
> words "classical" and "music".

So in this case a matching document must have both terms?  Or could  
it just have one or the other?  If it must have both, you could try a  
PhraseQuery with a slop of Integer.MAX_VALUE.  PhraseQuery scores  
closer matches higher.

> Of course, I could just search for the individual words and the  
> phrase would get found as a consequence.  But I want documents  
> containing the phrase to appear first in the search results, since  
> the phrase is the user's primary interest.
>
> I've constructed the following query, using boost values...
>
>     [+(content:"classical music"^5.0 content:classical^0.1  
> content:music^0.1)]
>
> ...but the boost values don't seem to affect the order of the  
> search results.
>
> Am I misunderstanding the purpose or proper usage of boosts, and if  
> so, can someone explain (at least roughly) how to achieve the  
> desired result?

But as Chris suggested - check the IndexSearcher.explain() for some  
documents you feel should be ranked higher and work from there.   
You're on the right track, but some tuning appears necessary.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17187-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 28 16:51:05 2005
Return-Path: <java-user-return-17187-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52663 invoked from network); 28 Oct 2005 16:51:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Oct 2005 16:51:05 -0000
Received: (qmail 86338 invoked by uid 500); 28 Oct 2005 16:51:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86242 invoked by uid 500); 28 Oct 2005 16:50:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86231 invoked by uid 99); 28 Oct 2005 16:50:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Oct 2005 09:50:59 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [12.40.61.38] (HELO fracf1.staples.com) (12.40.61.38)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Oct 2005 09:50:56 -0700
Received: from fraexims1.staples.com (Not Verified[10.3.32.111]) by fracf1.staples.com with NetIQ MailMarshal (v5.5.4.17)
	id <BA04ec2d04>; Fri, 28 Oct 2005 12:50:37 -0400
Received: by fraexims1.staples.com with Internet Mail Service (5.5.2650.21)
	id <VT7W0A5W>; Fri, 28 Oct 2005 12:50:36 -0400
Message-ID: <A9D9F16EC5955244A7B760CB3B8258480B9EDBC3@fraexmb2.staples.com>
From: "Sharma, Siddharth" <Siddharth.Sharma@Staples.com>
To: java-user@lucene.apache.org
Subject: RE: Search problems
Date: Fri, 28 Oct 2005 12:50:35 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I figured out the problem when I copied the document from the clipboard.
It had trailing spaces.
After I changed the database query to have an ltrim(rtrim( 
for each query, prior to indexing, its fine now.


-----Original Message-----
From: Sharma, Siddharth 
Sent: Thursday, October 27, 2005 4:35 PM
To: 'java-user@lucene.apache.org'
Subject: Search problems

Hi 

My index has 4 keyword fields and one unindexed field.
I want to search by the 4 keyword fields and return the one unindexed field.

I can iterate over the documents via Luke.
But when I search for the same values that I see via Luke, it does not find
the document.
Out of the 4 fields, 2 are alphanumeric and searching on just these two
fields does succeed and I can find the document in question.

The other 2 fields can have numeric values. When I include these two fields
in the search, the same document cannot be found.

I thought that the fact that these fields had numeric values might be the
reason for the search to be unsuccessful. So I browsed for another document
via Luke where these fields had alphanumeric values, but again could not
find the document? Returns no result.

What could the problem be? Any ideas?
I have added all the 4 fields with 'Field.Keyword'.

Thanks
Sid


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17188-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 28 20:54:36 2005
Return-Path: <java-user-return-17188-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56752 invoked from network); 28 Oct 2005 20:54:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Oct 2005 20:54:35 -0000
Received: (qmail 64043 invoked by uid 500); 28 Oct 2005 20:54:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64017 invoked by uid 500); 28 Oct 2005 20:54:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64006 invoked by uid 99); 28 Oct 2005 20:54:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Oct 2005 13:54:28 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [24.29.109.6] (HELO ms-smtp-02.rdc-nyc.rr.com) (24.29.109.6)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Oct 2005 13:54:25 -0700
Received: from [192.168.1.103] (cpe-66-108-35-120.nyc.res.rr.com [66.108.35.120])
	by ms-smtp-02.rdc-nyc.rr.com (8.12.10/8.12.7) with ESMTP id j9SKplGe024802
	for <java-user@lucene.apache.org>; Fri, 28 Oct 2005 16:51:48 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <336EA89A-6152-4B5C-A36A-E7F91BED5CE5@ehatchersolutions.com>
References: <96B9ACE2-D4D0-4CB7-8930-5343C57E5AE2@earthlink.net> <336EA89A-6152-4B5C-A36A-E7F91BED5CE5@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <AF08D85B-F6B9-4567-A1CD-E9F6280583C0@earthlink.net>
Content-Transfer-Encoding: 7bit
From: Andy Lee <aglee@earthlink.net>
Subject: Re: trying to boost a phrase higher than its individual words
Date: Fri, 28 Oct 2005 16:54:02 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Virus-Scanned: Symantec AntiVirus Scan Engine
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Oct 28, 2005, at 10:38 AM, Erik Hatcher wrote:
> So in this case a matching document must have both terms?  Or could  
> it just have one or the other?  If it must have both, you could try  
> a PhraseQuery with a slop of Integer.MAX_VALUE.  PhraseQuery scores  
> closer matches higher.

Good to know, thanks.  I saw references to slop but didn't know what  
they meant.  I'll see if this is one way I could solve my problem.

> But as Chris suggested - check the IndexSearcher.explain() for some  
> documents you feel should be ranked higher and work from there.   
> You're on the right track, but some tuning appears necessary.

Okay, I looked at the explanations and realized part of the problem  
was that I was applying a sort field to the search results, which I  
had forgotten.  So of course that affected the display order, duh.   
But I also do need to do some tuning, because I'm adding other stuff  
to the query that is also skewing the ranking.

It took me a while to figure out the differences between the  
searcher.explain() example in LIA and the latest changes to the API.   
It was a little annoying that I couldn't find a way to get plain text  
output -- it seems to be only HTML now.  Finally I wrote a  
convenience method that dumps the HTML to a file, which I view in a  
browser.

Thanks, Chris and Erik!

--Andy


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17189-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 28 21:46:41 2005
Return-Path: <java-user-return-17189-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75587 invoked from network); 28 Oct 2005 21:46:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Oct 2005 21:46:40 -0000
Received: (qmail 13761 invoked by uid 500); 28 Oct 2005 21:46:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13732 invoked by uid 500); 28 Oct 2005 21:46:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13721 invoked by uid 99); 28 Oct 2005 21:46:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Oct 2005 14:46:32 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.18.5] (HELO mailbox.syr.edu) (128.230.18.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Oct 2005 14:46:29 -0700
Received: from [128.230.84.109] (istcnlpd9hb3r31.syr.edu [128.230.84.109])
	by mailbox.syr.edu (8.12.10/8.12.10) with ESMTP id j9SLk7q0020997
	for <java-user@lucene.apache.org>; Fri, 28 Oct 2005 17:46:08 -0400 (EDT)
Message-ID: <43629C20.1010104@syr.edu>
Date: Fri, 28 Oct 2005 17:46:08 -0400
From: Grant Ingersoll <gsingers@syr.edu>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Sentence boundary storage
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

Was wondering what people's experience is with storing sentence (or 
other) boundary information in Lucene.  For instance, for phrase 
queries, you may not want to match when two terms lie on either side of 
a sentence boundary.  I know for phrase queries the common approach is 
to make the position increment larger than one, which solves that 
immediate problem, but I have other uses for such information, too.  
Should I just store some type of boundary marker at the appropriate 
position and check to see if I have a boundary marker when doing my 
processing?  I know I need an Analyzer that can detect the boundaries, 
for starters.  What other issues have people run up against?

Thanks,
Grant

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17190-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 28 22:05:13 2005
Return-Path: <java-user-return-17190-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82742 invoked from network); 28 Oct 2005 22:05:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Oct 2005 22:05:13 -0000
Received: (qmail 31325 invoked by uid 500); 28 Oct 2005 22:05:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30437 invoked by uid 500); 28 Oct 2005 22:05:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30426 invoked by uid 99); 28 Oct 2005 22:05:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Oct 2005 15:05:07 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [134.96.188.26] (HELO mail.dfki.de) (134.96.188.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Oct 2005 15:05:03 -0700
Received: from mail.dfki.de (localhost.dfki.uni-sb.de [127.0.0.1])
	by localhost (Postfix) with ESMTP id 085E9E47D2
	for <java-user@lucene.apache.org>; Sat, 29 Oct 2005 00:04:40 +0200 (CEST)
Received: from [IPv6:::1] (dave.dfki.uni-sb.de [134.96.184.220])
	by mail.dfki.de (Postfix) with ESMTP id CF6DBE47CC
	for <java-user@lucene.apache.org>; Sat, 29 Oct 2005 00:04:39 +0200 (CEST)
Mime-Version: 1.0 (Apple Message framework v623)
In-Reply-To: <43629C20.1010104@syr.edu>
References: <43629C20.1010104@syr.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Message-Id: <fda9666d99afae1eb7460ce6ae77486f@activemath.org>
Content-Transfer-Encoding: quoted-printable
From: Paul Libbrecht <paul@activemath.org>
Subject: Re: Sentence boundary storage
Date: Sat, 29 Oct 2005 00:04:36 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.623)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

One thing that I know has bogged me is when matching a phrase where I=20
would expect mathematical formula (which is "just a subphrase"). I=20
would have liked the phrase-query to extend as far as it wishes but not=20=

passed a given token... would this be possible ?
Presumably a period token and this feature would have provided the same?

paul


Le 28 oct. 05, =E0 23:46, Grant Ingersoll a =E9crit :

> Hi,
>
> Was wondering what people's experience is with storing sentence (or=20
> other) boundary information in Lucene.  For instance, for phrase=20
> queries, you may not want to match when two terms lie on either side=20=

> of a sentence boundary.  I know for phrase queries the common approach=20=

> is to make the position increment larger than one, which solves that=20=

> immediate problem, but I have other uses for such information, too. =20=

> Should I just store some type of boundary marker at the appropriate=20
> position and check to see if I have a boundary marker when doing my=20
> processing?  I know I need an Analyzer that can detect the boundaries,=20=

> for starters.  What other issues have people run up against?
>
> Thanks,
> Grant
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17191-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 28 22:34:40 2005
Return-Path: <java-user-return-17191-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94918 invoked from network); 28 Oct 2005 22:34:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Oct 2005 22:34:40 -0000
Received: (qmail 60135 invoked by uid 500); 28 Oct 2005 22:34:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59664 invoked by uid 500); 28 Oct 2005 22:34:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59649 invoked by uid 99); 28 Oct 2005 22:34:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Oct 2005 15:34:34 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.73.178.70] (HELO web60022.mail.yahoo.com) (209.73.178.70)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 28 Oct 2005 15:34:31 -0700
Received: (qmail 61566 invoked by uid 60001); 28 Oct 2005 22:34:12 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=GqxMnZiLmBETgSpNegzkO5EE14LTSjAFtRMN+xKunYrgpD1E/Ts9XrgbszFoGIh9mxpUDmEBY1Q/McPaejloz2TGH6s8QoZgf1jt05OEoTbmRARRLSxLzX3IkIQS5nUNqtCVdpYZSiP/o8VtjjJuwXaLr9q2rjaxyrtGG/TYTbs=  ;
Message-ID: <20051028223412.61564.qmail@web60022.mail.yahoo.com>
Received: from [143.182.124.4] by web60022.mail.yahoo.com via HTTP; Fri, 28 Oct 2005 15:34:12 PDT
Date: Fri, 28 Oct 2005 15:34:12 -0700 (PDT)
From: Chandramohan <clingam_nattamai@yahoo.com>
Subject: Sorting and Ranking
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

How does sorting and ranking working together in
Lucene?  Are they mutually exclusive?  If the search
result is ranked first, then sorting may not have much
value. If sorting is done first, then ranking doesnt
have any meaning?


thanks!


	
		
__________________________________ 
Yahoo! Mail - PC Magazine Editors' Choice 2005 
http://mail.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17192-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 28 23:54:27 2005
Return-Path: <java-user-return-17192-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26511 invoked from network); 28 Oct 2005 23:54:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Oct 2005 23:54:26 -0000
Received: (qmail 11545 invoked by uid 500); 28 Oct 2005 23:54:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10680 invoked by uid 500); 28 Oct 2005 23:54:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10669 invoked by uid 99); 28 Oct 2005 23:54:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Oct 2005 16:54:21 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Oct 2005 16:54:16 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 9D82C5B82D; Fri, 28 Oct 2005 16:53:55 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 95C027F476
	for <java-user@lucene.apache.org>; Fri, 28 Oct 2005 16:53:55 -0700 (PDT)
Date: Fri, 28 Oct 2005 16:53:55 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: geographical  search
In-Reply-To: <4361F094.6070709@citycita.net>
Message-ID: <Pine.LNX.4.58.0510281640250.13523@hal.rescomp.berkeley.edu>
References: <4361F094.6070709@citycita.net>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: put some text. Then i did some range queries like this :
: queryString=foo AND country:United States AND
: coordinates@lon:[-74.04047986086957 TO -73.95352333913044] AND
: coordinates@lat:[40.70662093913044 TO 40.793577460869564]
: It worked well with positive coordinates in Europe, not in the US so i
: planned to put N/S before latitude, E/O before longitudes to replace
: negative values.
: But something tells me this is not the way to do things with Lucene and
: not use the range query:-)

There's nothing inheriently wrong with your appraoch .. but a RangeFilter
will have less performance problems then a RangeQuery as the size of your
data set gets larger.

: - http://wiki.apache.org/nutch/GeoPosition
: - and this from the Boss :-)
: http://www.opensubscriber.com/message/lucene-dev@jakarta.apache.org/184558.html

I've never looked at these URLs before, but hte basic gist of the Nutch
code seems to be that at index time, it's translating the lat/lon coords
into x/y/z coords to simplify the range claculations -- ie: the math to
find the upper/lower bounds of x/y/z at search time when when you want a
distance of 100km then it is to find the the upper/lower bounds on
lat/lon.  if you're happy to have your users input ranges of lat/lon then
you don't really need to worry about it.

The previous thread seemed to mainly be about designing a new special
query type to specifically deal with Geographic based queries ... nad by
the looks of it to score results by distance ... Doug's comment about the
FieldCache is applicable if you were trying to do that, but if you simply
want a way to restrict results to a particular grid of lat/lon, your
current appraoch should be fine.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17193-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 29 00:09:19 2005
Return-Path: <java-user-return-17193-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29536 invoked from network); 29 Oct 2005 00:09:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Oct 2005 00:09:19 -0000
Received: (qmail 23413 invoked by uid 500); 29 Oct 2005 00:09:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23386 invoked by uid 500); 29 Oct 2005 00:09:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23375 invoked by uid 99); 29 Oct 2005 00:09:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Oct 2005 17:09:12 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Oct 2005 17:09:08 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 953415B806; Fri, 28 Oct 2005 17:08:49 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 6D0A17F476
	for <java-user@lucene.apache.org>; Fri, 28 Oct 2005 17:08:49 -0700 (PDT)
Date: Fri, 28 Oct 2005 17:08:49 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Sentence boundary storage
In-Reply-To: <fda9666d99afae1eb7460ce6ae77486f@activemath.org>
Message-ID: <Pine.LNX.4.58.0510281658190.13523@hal.rescomp.berkeley.edu>
References: <43629C20.1010104@syr.edu> <fda9666d99afae1eb7460ce6ae77486f@activemath.org>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: One thing that I know has bogged me is when matching a phrase where I
: would expect mathematical formula (which is "just a subphrase"). I
: would have liked the phrase-query to extend as far as it wishes but not
: passed a given token... would this be possible ?
: Presumably a period token and this feature would have provided the same?

I haven't tried it myself, but my reading of SpanQueries leads me to
believe you could accomplish what you want (and what Grant describes) by
inserting special Terms to denote
formula/sentance/paragraph/section/chapter boundaries, and then use
SpanNearQueries with a high slop in conjunction with a
SpanNotQuery using a SpanTermQuery for the boundary you don't want to
cross.

(or a SpanOrQuery containing many SpanTermQueries for the list of
boundaries you don't want to cross).

If you get your Tokenizer to put the special boundary terms at the exact
same position as the token it marks, regular PhraseQueries should still
work fine without needing any special slop, and you could do stuff like
say "find me this phrase near the begining of a sentence". Or "find me
this phrase near the end of a chapter"

: > Was wondering what people's experience is with storing sentence (or
: > other) boundary information in Lucene.  For instance, for phrase
: > queries, you may not want to match when two terms lie on either side
: > of a sentence boundary.  I know for phrase queries the common approach
: > is to make the position increment larger than one, which solves that
: > immediate problem, but I have other uses for such information, too.
: > Should I just store some type of boundary marker at the appropriate
: > position and check to see if I have a boundary marker when doing my
: > processing?  I know I need an Analyzer that can detect the boundaries,
: > for starters.  What other issues have people run up against?


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17194-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 29 00:17:36 2005
Return-Path: <java-user-return-17194-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31095 invoked from network); 29 Oct 2005 00:17:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Oct 2005 00:17:36 -0000
Received: (qmail 27447 invoked by uid 500); 29 Oct 2005 00:17:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27410 invoked by uid 500); 29 Oct 2005 00:17:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27182 invoked by uid 99); 29 Oct 2005 00:17:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Oct 2005 17:17:29 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Oct 2005 17:17:26 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 644455B7E2; Fri, 28 Oct 2005 17:17:07 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 61A077F476
	for <java-user@lucene.apache.org>; Fri, 28 Oct 2005 17:17:07 -0700 (PDT)
Date: Fri, 28 Oct 2005 17:17:07 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: trying to boost a phrase higher than its individual words
In-Reply-To: <AF08D85B-F6B9-4567-A1CD-E9F6280583C0@earthlink.net>
Message-ID: <Pine.LNX.4.58.0510281711590.13523@hal.rescomp.berkeley.edu>
References: <96B9ACE2-D4D0-4CB7-8930-5343C57E5AE2@earthlink.net>
 <336EA89A-6152-4B5C-A36A-E7F91BED5CE5@ehatchersolutions.com>
 <AF08D85B-F6B9-4567-A1CD-E9F6280583C0@earthlink.net>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Okay, I looked at the explanations and realized part of the problem
: was that I was applying a sort field to the search results, which I

that would definitely cause the boosts to be un-useful :)

: But I also do need to do some tuning, because I'm adding other stuff
: to the query that is also skewing the ranking.

One thing to keep in mind is that if you have things you are adding to hte
query to restrict the results, but you don't want them to contribute to
the score, then try using a Filter instead.  If you can't find an easy way
to replace a query by a filter, try using a boost of 0.0001 ( i'd say use
a boost of 0, but I'm not sure that all query types handle that as
correctly as they should)

: It took me a while to figure out the differences between the
: searcher.explain() example in LIA and the latest changes to the API.
: It was a little annoying that I couldn't find a way to get plain text

Really? .. the LIA example i found was in 3.3.1, it just printed out
explanation.toString() ... that should still work just fine even with the
trunk of SVN.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17195-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 29 00:25:23 2005
Return-Path: <java-user-return-17195-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32354 invoked from network); 29 Oct 2005 00:25:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Oct 2005 00:25:23 -0000
Received: (qmail 30947 invoked by uid 500); 29 Oct 2005 00:25:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30922 invoked by uid 500); 29 Oct 2005 00:25:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30911 invoked by uid 99); 29 Oct 2005 00:25:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Oct 2005 17:25:18 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Oct 2005 17:25:15 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id E68225B806; Fri, 28 Oct 2005 17:24:52 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id E4FEB7F476
	for <java-user@lucene.apache.org>; Fri, 28 Oct 2005 17:24:52 -0700 (PDT)
Date: Fri, 28 Oct 2005 17:24:52 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Sorting and Ranking
In-Reply-To: <20051028223412.61564.qmail@web60022.mail.yahoo.com>
Message-ID: <Pine.LNX.4.58.0510281722220.13523@hal.rescomp.berkeley.edu>
References: <20051028223412.61564.qmail@web60022.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: How does sorting and ranking working together in
: Lucene?  Are they mutually exclusive?  If the search
: result is ranked first, then sorting may not have much
: value. If sorting is done first, then ranking doesnt
: have any meaning?

Scoring (which is what i think you mean by ranking) is orthogonal to
sorting.  When you do a search, and get back a list of matches, you can
get the score of any matching doc regardless of wether or not you Sort by
a specific field -- or if you sort by a special SortComparator (which
can use any arbitrary logic it wants to detemine an ordering of the
results).



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17196-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 29 02:31:37 2005
Return-Path: <java-user-return-17196-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64087 invoked from network); 29 Oct 2005 02:31:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Oct 2005 02:31:37 -0000
Received: (qmail 1945 invoked by uid 500); 29 Oct 2005 02:31:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1917 invoked by uid 500); 29 Oct 2005 02:31:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1906 invoked by uid 99); 29 Oct 2005 02:31:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Oct 2005 19:31:31 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [24.29.109.5] (HELO ms-smtp-01.rdc-nyc.rr.com) (24.29.109.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Oct 2005 19:31:28 -0700
Received: from [192.168.1.103] (cpe-66-108-35-120.nyc.res.rr.com [66.108.35.120])
	by ms-smtp-01.rdc-nyc.rr.com (8.12.10/8.12.7) with ESMTP id j9T2UT1g002220
	for <java-user@lucene.apache.org>; Fri, 28 Oct 2005 22:30:29 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <Pine.LNX.4.58.0510281711590.13523@hal.rescomp.berkeley.edu>
References: <96B9ACE2-D4D0-4CB7-8930-5343C57E5AE2@earthlink.net> <336EA89A-6152-4B5C-A36A-E7F91BED5CE5@ehatchersolutions.com> <AF08D85B-F6B9-4567-A1CD-E9F6280583C0@earthlink.net> <Pine.LNX.4.58.0510281711590.13523@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <F9B6AD15-5403-4AD3-A52D-D93E0B432F5D@earthlink.net>
Content-Transfer-Encoding: 7bit
From: Andy Lee <aglee@earthlink.net>
Subject: Re: trying to boost a phrase higher than its individual words
Date: Fri, 28 Oct 2005 22:31:06 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Virus-Scanned: Symantec AntiVirus Scan Engine
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Oct 28, 2005, at 8:17 PM, Chris Hostetter wrote:
> One thing to keep in mind is that if you have things you are adding  
> to hte
> query to restrict the results, but you don't want them to  
> contribute to
> the score, then try using a Filter instead.  If you can't find an  
> easy way
> to replace a query by a filter, try using a boost of 0.0001 ( i'd  
> say use
> a boost of 0, but I'm not sure that all query types handle that as
> correctly as they should)

Thanks for the advice.  I hadn't even noticed the Filter classes  
until very recently.  I really need to take the time to work  
methodically through LIA...

> Really? .. the LIA example i found was in 3.3.1, it just printed out
> explanation.toString() ... that should still work just fine even  
> with the
> trunk of SVN.

You know what, I was confusing Nutch and Lucene classes (as I've done  
before), in this case the IndexSearcher classes.  All I could find  
was the *Nutch* IndexSearcher's getExplanation() method, which I see  
sends toHtml() rather than toString() to its internal Lucene  
IndexSearcher.

--Andy


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17197-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 29 07:55:37 2005
Return-Path: <java-user-return-17197-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51823 invoked from network); 29 Oct 2005 07:55:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Oct 2005 07:55:37 -0000
Received: (qmail 16085 invoked by uid 500); 29 Oct 2005 07:55:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16052 invoked by uid 500); 29 Oct 2005 07:55:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16041 invoked by uid 99); 29 Oct 2005 07:55:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 29 Oct 2005 00:55:32 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 29 Oct 2005 00:55:29 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id B71DA13E2005; Sat, 29 Oct 2005 03:55:10 -0400 (EDT)
Received: from [172.16.1.101] (va-71-48-138-146.dhcp.sprint-hsd.net [71.48.138.146])
	by ehatchersolutions.com (Postfix) with ESMTP id 066CA13E2005
	for <java-user@lucene.apache.org>; Sat, 29 Oct 2005 03:54:56 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <F9B6AD15-5403-4AD3-A52D-D93E0B432F5D@earthlink.net>
References: <96B9ACE2-D4D0-4CB7-8930-5343C57E5AE2@earthlink.net> <336EA89A-6152-4B5C-A36A-E7F91BED5CE5@ehatchersolutions.com> <AF08D85B-F6B9-4567-A1CD-E9F6280583C0@earthlink.net> <Pine.LNX.4.58.0510281711590.13523@hal.rescomp.berkeley.edu> <F9B6AD15-5403-4AD3-A52D-D93E0B432F5D@earthlink.net>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <FECC4519-46AB-4646-8B3A-67F8A39C5149@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: trying to boost a phrase higher than its individual words
Date: Sat, 29 Oct 2005 03:54:49 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 28 Oct 2005, at 22:31, Andy Lee wrote:
> You know what, I was confusing Nutch and Lucene classes (as I've  
> done before), in this case the IndexSearcher classes.  All I could  
> find was the *Nutch* IndexSearcher's getExplanation() method, which  
> I see sends toHtml() rather than toString() to its internal Lucene  
> IndexSearcher.

Good point.  I've found the duplication of class names between Nutch  
and Lucene extremely confusing myself.  I'm continually amazed at  
Doug's brilliance and ability to build these two beautiful tools  
using only emacs - how he keeps it all straight himself is  
unbelievable.  :)

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17198-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 29 14:20:46 2005
Return-Path: <java-user-return-17198-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49891 invoked from network); 29 Oct 2005 14:20:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Oct 2005 14:20:46 -0000
Received: (qmail 76553 invoked by uid 500); 29 Oct 2005 14:20:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75951 invoked by uid 500); 29 Oct 2005 14:20:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75940 invoked by uid 99); 29 Oct 2005 14:20:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 29 Oct 2005 07:20:39 -0700
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of rdaviddi@gmail.com designates 64.233.162.197 as permitted sender)
Received: from [64.233.162.197] (HELO zproxy.gmail.com) (64.233.162.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 29 Oct 2005 07:20:35 -0700
Received: by zproxy.gmail.com with SMTP id z3so580648nzf
        for <java-user@lucene.apache.org>; Sat, 29 Oct 2005 07:20:15 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=qZ5DLBKFdgKzkH2/c29HZ2AqWvGpUHI6FBGxjuvvi8g6v/jij5hY0ZHm11PvEdcqXzJTXcO+T5nULpeAk1Z7NpL606h7dP3DCGEKlwzDFducIbq9iY5+qsx1wnkby94FXv/yentsb1nZNVy656zWkLYLAxbHJWejg0GY/3QXjU8=
Received: by 10.65.228.18 with SMTP id f18mr169584qbr;
        Sat, 29 Oct 2005 07:20:15 -0700 (PDT)
Received: by 10.65.59.2 with HTTP; Sat, 29 Oct 2005 07:20:15 -0700 (PDT)
Message-ID: <8a484a780510290720l53487db1o2a7ede13586666c2@mail.gmail.com>
Date: Sat, 29 Oct 2005 16:20:15 +0200
From: Riccardo Daviddi <rdaviddi@gmail.com>
To: Lucene Mailing List <java-user@lucene.apache.org>
Subject: appendable filed problem
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_13246_22353010.1130595615838"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_13246_22353010.1130595615838
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hello,

here is the problem.

I have to index a text contained in some section tags (xml format) like
this:

<section>
.... text ...
</section>

<section>
.... text ...
</section>

<section>
.... text ...
</section>

I want to put all the text contained in the various section in a same field
named "section".
I read that field are appendable (pag 33 of Lucene in Action), so it's easy
just add each extracted text to the same index field "section".
What it happens is not the expected result, as it's said in Lucene in
Action, that is, Lucene doesn't internally appends all the texts together
and index them in a single Field named "section". Or better, it does a
mixture: if I use Luke to see the index, i saw a number of single fields
called "section" each one with the corresponding text.
If i try to retrieve the section field with a simple query, it only returns
me the first text contained in the first "section" field, instead of all th=
e
texts, as if they were indexed in the same field "section".

Instead, if I try to remove the field "section" it removes correctly all
these section fields, as if there was only a single section field.

Where am I wrong?

--
Riccardo Daviddi
University of Siena - Information Engeneering
rdaviddi@gmail.com

------=_Part_13246_22353010.1130595615838--

From java-user-return-17199-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 29 17:30:09 2005
Return-Path: <java-user-return-17199-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 234 invoked from network); 29 Oct 2005 17:30:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Oct 2005 17:30:09 -0000
Received: (qmail 70773 invoked by uid 500); 29 Oct 2005 17:30:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69850 invoked by uid 500); 29 Oct 2005 17:30:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69839 invoked by uid 99); 29 Oct 2005 17:30:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 29 Oct 2005 10:30:03 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 29 Oct 2005 10:30:00 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 05C625B840; Sat, 29 Oct 2005 10:29:37 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id F0C3D7F474
	for <java-user@lucene.apache.org>; Sat, 29 Oct 2005 10:29:37 -0700 (PDT)
Date: Sat, 29 Oct 2005 10:29:37 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Mailing List <java-user@lucene.apache.org>
Subject: Re: appendable filed problem
In-Reply-To: <8a484a780510290720l53487db1o2a7ede13586666c2@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0510291022170.32689@hal.rescomp.berkeley.edu>
References: <8a484a780510290720l53487db1o2a7ede13586666c2@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: I read that field are appendable (pag 33 of Lucene in Action), so it's easy
: just add each extracted text to the same index field "section".
: What it happens is not the expected result, as it's said in Lucene in
: Action, that is, Lucene doesn't internally appends all the texts together
: and index them in a single Field named "section". Or better, it does a
: mixture: if I use Luke to see the index, i saw a number of single fields
: called "section" each one with the corresponding text.

The wording choice may not be entirely clear ... the field values are not
"appended" in a java String/StringBuffer sense.  For the purposes of
*searching* the terms extracted from the field values are "appended" in
that the term position of the last term from the first value immediately
preceeds the term position of the first term from the second value.

(at least, i think that's how it workds)

as far as as the *stored* values of Fields, they are stored individually.
you can even have one Field with a field named "foo" that is not stored,
and another Field named "foo" that is stored -- both will be searchable,
but only the second will be returned.

: If i try to retrieve the section field with a simple query, it only returns
: me the first text contained in the first "section" field, instead of all the
: texts, as if they were indexed in the same field "section".

I'm guessing you are using Document.get(String), or
Document.getField(String) ... try using Document.getValues(String) or
Document.getFields(String).




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17200-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 30 04:20:42 2005
Return-Path: <java-user-return-17200-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7831 invoked from network); 30 Oct 2005 04:20:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Oct 2005 04:20:42 -0000
Received: (qmail 60913 invoked by uid 500); 30 Oct 2005 04:20:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60693 invoked by uid 500); 30 Oct 2005 04:20:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60675 invoked by uid 99); 30 Oct 2005 04:20:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 29 Oct 2005 21:20:32 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.84.237] (HELO web36307.mail.mud.yahoo.com) (209.191.84.237)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 29 Oct 2005 21:20:29 -0700
Received: (qmail 49843 invoked by uid 60001); 30 Oct 2005 04:20:06 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=zY8PQL78cePfhreOGL0WqSXMHhcHmNMrn0UchuMO23tAcj5Cc+YgPhtsO3jlGRaYhI7FJXuaJI0p+rI5+BjeABnE4MLWeoaJII6Q0od68BGKFaNlENQZW+Ki1W1NpQYG0BTWIUpmAGYR5D7AqXoGQ0pwynqluKbilXaFaNpTuTU=  ;
Message-ID: <20051030042006.49841.qmail@web36307.mail.mud.yahoo.com>
Received: from [70.231.158.34] by web36307.mail.mud.yahoo.com via HTTP; Sat, 29 Oct 2005 21:20:06 PDT
Date: Sat, 29 Oct 2005 21:20:06 -0700 (PDT)
From: Victor Lee <victor_emailbox@yahoo.com>
Subject: How to Use Nutch to Crawl Database?
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
  How do I use Nutch to crawl internal database
instead of web server?  Does Nutch even support this
option?

Many thanks.  


		
__________________________________ 
Yahoo! FareChase: Search multiple travel sites in one click.
http://farechase.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17201-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 30 05:28:03 2005
Return-Path: <java-user-return-17201-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18234 invoked from network); 30 Oct 2005 05:28:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Oct 2005 05:28:03 -0000
Received: (qmail 80143 invoked by uid 500); 30 Oct 2005 05:27:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80121 invoked by uid 500); 30 Oct 2005 05:27:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80110 invoked by uid 99); 30 Oct 2005 05:27:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 29 Oct 2005 22:27:57 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.57] (HELO web50303.mail.yahoo.com) (206.190.38.57)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 29 Oct 2005 22:27:53 -0700
Received: (qmail 68612 invoked by uid 60001); 30 Oct 2005 05:27:35 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=uqmy+HihfMVWlKcDjdwE5kv2oQut3qLai1qynUNisDUob05tBUTRPs05JlFxmY/FwtwXeO1H6Ix6qG0Sxp0Gunl2npg6XagdgWspD+8pP7fJ3RgyK9Q24K90Nv0yhgzqWcjlJrSetc5eJlcp+zOzv5tza8l11Oos+2FZX4c8HjI=  ;
Message-ID: <20051030052735.68610.qmail@web50303.mail.yahoo.com>
Received: from [69.201.142.21] by web50303.mail.yahoo.com via HTTP; Sat, 29 Oct 2005 22:27:35 PDT
Date: Sat, 29 Oct 2005 22:27:35 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: How to Use Nutch to Crawl Database?
To: java-user@lucene.apache.org
In-Reply-To: <20051030042006.49841.qmail@web36307.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Please don't cross-post unless there is a good reason.
I think you should ask on the Nutch list (I see you already did).

Here are a few good starting points:
  http://www.google.com/search?q=lucene%20database

Otis


--- Victor Lee <victor_emailbox@yahoo.com> wrote:

> Hi,
>   How do I use Nutch to crawl internal database
> instead of web server?  Does Nutch even support this
> option?
> 
> Many thanks.  
> 
> 
> 		
> __________________________________ 
> Yahoo! FareChase: Search multiple travel sites in one click.
> http://farechase.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17202-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 30 11:04:23 2005
Return-Path: <java-user-return-17202-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93551 invoked from network); 30 Oct 2005 11:04:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Oct 2005 11:04:23 -0000
Received: (qmail 72336 invoked by uid 500); 30 Oct 2005 11:04:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72312 invoked by uid 500); 30 Oct 2005 11:04:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72301 invoked by uid 99); 30 Oct 2005 11:04:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 30 Oct 2005 03:04:16 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of rdaviddi@gmail.com designates 64.233.184.194 as permitted sender)
Received: from [64.233.184.194] (HELO wproxy.gmail.com) (64.233.184.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 30 Oct 2005 03:04:12 -0800
Received: by wproxy.gmail.com with SMTP id 58so351242wri
        for <java-user@lucene.apache.org>; Sun, 30 Oct 2005 03:03:54 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=fIQdIhHe8X5sPAQ9KE1aIqQYh5vj4PgGBWwpe+A0BQM/mstINZWDISjyVALOz98R3YvkXNThtRDnRv1yItot3091p7XHEfGLpe07Nko6ajcsho8lEZUB7YLyN9XQITVz86W7pwdVWFy9pQf8OKXGwiMYhsVPcMrRiwYR/TvJzq4=
Received: by 10.65.116.4 with SMTP id t4mr706261qbm;
        Sun, 30 Oct 2005 03:03:54 -0800 (PST)
Received: by 10.65.59.2 with HTTP; Sun, 30 Oct 2005 03:03:54 -0800 (PST)
Message-ID: <8a484a780510300303o1f02cc98i191142764761ceb@mail.gmail.com>
Date: Sun, 30 Oct 2005 12:03:54 +0100
From: Riccardo Daviddi <rdaviddi@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: appendable filed problem
In-Reply-To: <Pine.LNX.4.58.0510291022170.32689@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_18312_29670954.1130670234415"
References: <8a484a780510290720l53487db1o2a7ede13586666c2@mail.gmail.com>
	 <Pine.LNX.4.58.0510291022170.32689@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_18312_29670954.1130670234415
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Ok, thank you for the clarification.

Cheers,

Riccardo

On 10/29/05, Chris Hostetter <hossman_lucene@fucit.org> wrote:
>
>
> : I read that field are appendable (pag 33 of Lucene in Action), so it's
> easy
> : just add each extracted text to the same index field "section".
> : What it happens is not the expected result, as it's said in Lucene in
> : Action, that is, Lucene doesn't internally appends all the texts
> together
> : and index them in a single Field named "section". Or better, it does a
> : mixture: if I use Luke to see the index, i saw a number of single field=
s
> : called "section" each one with the corresponding text.
>
> The wording choice may not be entirely clear ... the field values are not
> "appended" in a java String/StringBuffer sense. For the purposes of
> *searching* the terms extracted from the field values are "appended" in
> that the term position of the last term from the first value immediately
> preceeds the term position of the first term from the second value.
>
> (at least, i think that's how it workds)
>
> as far as as the *stored* values of Fields, they are stored individually.
> you can even have one Field with a field named "foo" that is not stored,
> and another Field named "foo" that is stored -- both will be searchable,
> but only the second will be returned.
>
> : If i try to retrieve the section field with a simple query, it only
> returns
> : me the first text contained in the first "section" field, instead of al=
l
> the
> : texts, as if they were indexed in the same field "section".
>
> I'm guessing you are using Document.get(String), or
> Document.getField(String) ... try using Document.getValues(String) or
> Document.getFields(String).
>
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


--
Riccardo Daviddi
University of Siena - Information Engeneering
rdaviddi@gmail.com

------=_Part_18312_29670954.1130670234415--

From java-user-return-17203-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 30 16:03:58 2005
Return-Path: <java-user-return-17203-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79225 invoked from network); 30 Oct 2005 16:03:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Oct 2005 16:03:58 -0000
Received: (qmail 87775 invoked by uid 500); 30 Oct 2005 16:03:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87749 invoked by uid 500); 30 Oct 2005 16:03:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87738 invoked by uid 99); 30 Oct 2005 16:03:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 30 Oct 2005 08:03:53 -0800
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.138.151.43] (HELO inergen.sybase.com) (192.138.151.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 30 Oct 2005 08:03:49 -0800
Received: from smtp1.sybase.com (sybgate [10.22.97.84])
	by inergen.sybase.com  with ESMTP id j9UG3W306165
	for <java-user@lucene.apache.org>; Sun, 30 Oct 2005 08:03:32 -0800 (PST)
Received: from gwwest.sybase.com (localhost [127.0.0.1])
	by smtp1.sybase.com  with ESMTP id IAA01695
	for <java-user@lucene.apache.org>; Sun, 30 Oct 2005 08:03:31 -0800 (PST)
Subject: Multiple Analyzers
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 6.5 September 26, 2003
Message-ID: <OF7FF7BF9E.C0A016A0-ON872570AA.0053B8C2-852570AA.005835AE@sybase.com>
From: Daniel.Clark@sybase.com
Date: Sun, 30 Oct 2005 11:03:30 -0500
X-MIMETrack: Serialize by Router on gwwest/SYBASE(Release 6.5.4|March 27, 2005) at 10/30/2005
 08:03:31 AM
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


I am implementing a search that allows the user to toggle the Soundex and
Stem functionality on and off.  When the Soundex or Sten functions are not
on, the search will use the StandardAnalyzer as default.  I implemented the
Soundex (SoundexAnalyzer from book Lucene In Action) and Stem
(SnowballAnalyzer) analyzer successfully individually.  They only work if I
use the analyzers during both indexing and searching.  The problem I have
is that I seem to have to use one of the three analyzers or nothing.  I
heven't been able to combine them.  The following may help better to
understand what I am trying to achieve.  Any help would be greatly
appreciated.

Indexing
========
Index using recursive TokenStream object.

public TokenStream tokenStream(String fieldName, Reader reader) {
      TokenStream result = new SoundexFilter (
                        new SnowballFilter (
                           new StopFilter (
                                                                       new
LowerCaseFilter (

new StandardFilter (
new StandardTokenizer(reader))),

StandardAnalyzer.STOP_WORDS)));
      return result;
}

Searching
==========
If user selects Soundex function, use SoundexAnalyzer in query.
Else if user selects Stem option, use SnowballAnalyzer in query.
Else use StandardAnalyzer.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Daniel Clark, Senior Consultant
Sybase Federal Professional Services
6550 Rock Spring Drive, Suite 800
Bethesda, MD  20817
Office - (301) 896-1103
Office Fax - (301) 896-1604
Mobile - (703) 403-0340
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17204-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 30 18:25:47 2005
Return-Path: <java-user-return-17204-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12850 invoked from network); 30 Oct 2005 18:25:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Oct 2005 18:25:46 -0000
Received: (qmail 76768 invoked by uid 500); 30 Oct 2005 18:25:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76738 invoked by uid 500); 30 Oct 2005 18:25:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76727 invoked by uid 99); 30 Oct 2005 18:25:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 30 Oct 2005 10:25:41 -0800
X-ASF-Spam-Status: No, hits=1.7 required=10.0
	tests=RCVD_IN_NJABL_DUL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.74] (HELO ylpvm43.prodigy.net) (207.115.57.74)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 30 Oct 2005 10:25:36 -0800
Received: from pimout1-ext.prodigy.net (pimout1-int.prodigy.net [207.115.5.65])
	by ylpvm43.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id j9UIPK2E026953
	for <java-user@lucene.apache.org>; Sun, 30 Oct 2005 13:25:20 -0500
X-ORBL: [69.228.85.9]
Received: from [192.168.168.81] (adsl-69-228-85-9.dsl.pltn13.pacbell.net [69.228.85.9])
	by pimout1-ext.prodigy.net (8.13.4 outbound domainkey aix/8.13.4) with ESMTP id j9UIP4X2034382;
	Sun, 30 Oct 2005 13:25:07 -0500
Message-ID: <43650FFF.7050703@apache.org>
Date: Sun, 30 Oct 2005 10:25:03 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7-1.1.fc3 (X11/20050929)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: trying to boost a phrase higher than its individual words
References: <96B9ACE2-D4D0-4CB7-8930-5343C57E5AE2@earthlink.net> <336EA89A-6152-4B5C-A36A-E7F91BED5CE5@ehatchersolutions.com> <AF08D85B-F6B9-4567-A1CD-E9F6280583C0@earthlink.net> <Pine.LNX.4.58.0510281711590.13523@hal.rescomp.berkeley.edu> <F9B6AD15-5403-4AD3-A52D-D93E0B432F5D@earthlink.net> <FECC4519-46AB-4646-8B3A-67F8A39C5149@ehatchersolutions.com>
In-Reply-To: <FECC4519-46AB-4646-8B3A-67F8A39C5149@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Erik Hatcher wrote:
> On 28 Oct 2005, at 22:31, Andy Lee wrote:
> 
>> You know what, I was confusing Nutch and Lucene classes (as I've  done 
>> before), in this case the IndexSearcher classes.

Sorry.  The Nutch names are bad.

> I'm continually amazed at Doug's ability to build these using 
> only emacs - how he keeps it all straight himself is unbelievable.  :)

The trick is to forget all phone numbers, people's names, and what time 
you need to pick up kids from school!

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17205-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 30 18:28:42 2005
Return-Path: <java-user-return-17205-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13576 invoked from network); 30 Oct 2005 18:28:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Oct 2005 18:28:41 -0000
Received: (qmail 79161 invoked by uid 500); 30 Oct 2005 18:28:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79128 invoked by uid 500); 30 Oct 2005 18:28:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79115 invoked by uid 99); 30 Oct 2005 18:28:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 30 Oct 2005 10:28:37 -0800
X-ASF-Spam-Status: No, hits=1.7 required=10.0
	tests=RCVD_IN_NJABL_DUL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.60] (HELO ylpvm29.prodigy.net) (207.115.57.60)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 30 Oct 2005 10:28:32 -0800
Received: from pimout3-ext.prodigy.net (pimout3-int.prodigy.net [207.115.4.218])
	by ylpvm29.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id j9UISaa6013268
	for <java-user@lucene.apache.org>; Sun, 30 Oct 2005 13:28:37 -0500
X-ORBL: [69.228.85.9]
Received: from [192.168.168.81] (adsl-69-228-85-9.dsl.pltn13.pacbell.net [69.228.85.9])
	by pimout3-ext.prodigy.net (8.13.4 outbound domainkey aix/8.13.4) with ESMTP id j9UIS4fb036784;
	Sun, 30 Oct 2005 13:28:07 -0500
Message-ID: <436510B4.8050205@apache.org>
Date: Sun, 30 Oct 2005 10:28:04 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7-1.1.fc3 (X11/20050929)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Sentence boundary storage
References: <43629C20.1010104@syr.edu> <fda9666d99afae1eb7460ce6ae77486f@activemath.org> <Pine.LNX.4.58.0510281658190.13523@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0510281658190.13523@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Chris Hostetter wrote:
> : One thing that I know has bogged me is when matching a phrase where I
> : would expect mathematical formula (which is "just a subphrase"). I
> : would have liked the phrase-query to extend as far as it wishes but not
> : passed a given token... would this be possible ?
> : Presumably a period token and this feature would have provided the same?
> 
> I haven't tried it myself, but my reading of SpanQueries leads me to
> believe you could accomplish what you want (and what Grant describes) by
> inserting special Terms to denote
> formula/sentance/paragraph/section/chapter boundaries, and then use
> SpanNearQueries with a high slop in conjunction with a
> SpanNotQuery using a SpanTermQuery for the boundary you don't want to
> cross.

I have not tried this either, but it was one of the use cases when 
designing span queries.  So it should work.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17206-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 30 20:38:09 2005
Return-Path: <java-user-return-17206-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60850 invoked from network); 30 Oct 2005 20:38:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Oct 2005 20:38:09 -0000
Received: (qmail 83976 invoked by uid 500); 30 Oct 2005 20:38:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83949 invoked by uid 500); 30 Oct 2005 20:38:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 49891 invoked by uid 99); 30 Oct 2005 17:29:14 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
X-Server-Uuid: E8EE9E4E-CE80-4A3D-84F1-1599A05BA687
Message-ID: <s3649247.052@ohsu.edu>
X-Mailer: Novell GroupWise Internet Agent 6.5.4
Date: Sun, 30 Oct 2005 09:28:31 -0800
From: "J Jensen" <jensejef@ohsu.edu>
To: java-user@lucene.apache.org
Subject: Highlighter for Lucene 1.4.3?
MIME-Version: 1.0
X-WSS-ID: 6F7BDD4D29C5685608-01-01
Content-Type: text/plain;
 charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Can anyone provide me with a Highlighter.jar file that can be used with =
Lucene 1.4.3?  I can not incorporate the  Highlighter source (from the =
sandbox) or the jar (from LuceneInAction), to save my life.

Thanks,=20
Jeff



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17207-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 30 23:10:35 2005
Return-Path: <java-user-return-17207-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23660 invoked from network); 30 Oct 2005 23:10:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Oct 2005 23:10:35 -0000
Received: (qmail 22342 invoked by uid 500); 30 Oct 2005 23:10:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22322 invoked by uid 500); 30 Oct 2005 23:10:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22310 invoked by uid 99); 30 Oct 2005 23:10:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 30 Oct 2005 15:10:27 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jarraa@gmail.com designates 64.233.184.194 as permitted sender)
Received: from [64.233.184.194] (HELO wproxy.gmail.com) (64.233.184.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 30 Oct 2005 15:10:23 -0800
Received: by wproxy.gmail.com with SMTP id i16so433105wra
        for <java-user@lucene.apache.org>; Sun, 30 Oct 2005 15:10:05 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=lQsOFLNEOi+6fUgG+Umnn6rFHDZ1ZigeTpwZ+oEfJaF7LEhhuggA/C9h/TVKdNelSfGSzGg1899ktLhLBP5oVAsCrIbjutyvI50RmftDHHs0n8QhKC1dsGecp5A5OPeeqNEvC6SvibNNvb7m7zj2aNUBiobNvH+lsYgK1NaaIho=
Received: by 10.65.52.20 with SMTP id e20mr1045977qbk;
        Sun, 30 Oct 2005 15:10:05 -0800 (PST)
Received: by 10.65.96.14 with HTTP; Sun, 30 Oct 2005 15:10:04 -0800 (PST)
Message-ID: <4bd3e1480510301510l6d3155bdx7780c7c5495e81a8@mail.gmail.com>
Date: Sun, 30 Oct 2005 16:10:04 -0700
From: Assad Jarrahian <jarraa@gmail.com>
To: java-user@lucene.apache.org
Subject: Lucene and database + location
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_4920_8156096.1130713804812"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_4920_8156096.1130713804812
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi All,
My apologies if this question was asked before. I looked through the
archives and could not find an answer to what I was looking for.

background:
lets say I store documents of a user. Each document has associated with
(meta data) it a DocID, creatorName, a class (private or public), and a
location.
The db (in my case postgres) consists of a table whose columns map to the
above.
So my question is two folds.

1) Lucene and database:
So inherently while building a database it makes sense to index a few thing=
s
(similar to Field.keyword). In this case I could make 'class' as an index
(fast retrieval of all public indexes). Now lets say I introduce a search
for documents with a certain keyword (as in search all public+user document=
s
with a certain keyword.). I get Lucene into the picture and then I am
stumped. Because I will have to maintain an index on the Field.class as wel=
l
as text in the document. So that means I have two indexes for the same
thing; one for postgres column (find me all of a user Documents <no keyword
filter> ) and one for Lucene.
It does not make sense to me. So does that mean if one was to use Lucene
they would throw out all the db indexes besides primary key and foreign key
constraints and use Lucene for everything else?

2) Lucene and location:
I know this has been discussed in the past before, but I am not getting a
good handle on it. Lets say I want a query that says find me all relevant
documents (certain search criteria) within my proximity. So the query would
look like
<search criteria on text in doc> & currentLocation

The goal would be to have something that would try and find relevant
documents and rank em based on distance(some radius or equivalent 2-d
space). Furthermore, if there are not sufficient documents, the radius
should expand.

What would be a good way of implementing this. I was going to use POSTGIS,
get all docID's within a radius, then use Lucene for Keyword search to
generate ALL relevant docID's and then intersect the two lists. Something
tells me this is not going to be a good idea.

Any comments would be much appreciated.
-assad

------=_Part_4920_8156096.1130713804812--

From java-user-return-17208-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 31 00:35:13 2005
Return-Path: <java-user-return-17208-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50390 invoked from network); 31 Oct 2005 00:35:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Oct 2005 00:35:13 -0000
Received: (qmail 56255 invoked by uid 500); 31 Oct 2005 00:35:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56219 invoked by uid 500); 31 Oct 2005 00:35:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56208 invoked by uid 99); 31 Oct 2005 00:35:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 30 Oct 2005 16:35:08 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 30 Oct 2005 16:35:04 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id A781513E2005; Sun, 30 Oct 2005 19:34:36 -0500 (EST)
Received: from [172.16.1.101] (va-71-48-138-146.dhcp.sprint-hsd.net [71.48.138.146])
	by ehatchersolutions.com (Postfix) with ESMTP id 55FDD13E2005
	for <java-user@lucene.apache.org>; Sun, 30 Oct 2005 19:34:32 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <s3649247.052@ohsu.edu>
References: <s3649247.052@ohsu.edu>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <15C751F6-3B6E-4C51-B4C5-C45870ED017E@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Highlighter for Lucene 1.4.3?
Date: Sun, 30 Oct 2005 19:34:24 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

What's the issue with using the one from the LIA source code?    It  
is compatible with Lucene 1.4.3 and all the code successfully  
compiles and all tests pass from there, right?

     Erik


On 30 Oct 2005, at 12:28, J Jensen wrote:

> Can anyone provide me with a Highlighter.jar file that can be used  
> with Lucene 1.4.3?  I can not incorporate the  Highlighter source  
> (from the sandbox) or the jar (from LuceneInAction), to save my life.
>
> Thanks,
> Jeff
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17209-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 31 02:16:01 2005
Return-Path: <java-user-return-17209-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84201 invoked from network); 31 Oct 2005 02:16:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Oct 2005 02:16:01 -0000
Received: (qmail 13200 invoked by uid 500); 31 Oct 2005 02:15:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12759 invoked by uid 500); 31 Oct 2005 02:15:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12748 invoked by uid 99); 31 Oct 2005 02:15:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 30 Oct 2005 18:15:55 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.18.5] (HELO mailbox.syr.edu) (128.230.18.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 30 Oct 2005 18:15:51 -0800
Received: from [128.230.84.109] (istcnlpd9hb3r31.syr.edu [128.230.84.109])
	by mailbox.syr.edu (8.12.10/8.12.10) with ESMTP id j9V2FRq0002273
	for <java-user@lucene.apache.org>; Sun, 30 Oct 2005 21:15:30 -0500 (EST)
Message-ID: <43657E40.8050206@syr.edu>
Date: Sun, 30 Oct 2005 21:15:28 -0500
From: Grant Ingersoll <gsingers@syr.edu>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Sentence boundary storage
References: <43629C20.1010104@syr.edu> <fda9666d99afae1eb7460ce6ae77486f@activemath.org> <Pine.LNX.4.58.0510281658190.13523@hal.rescomp.berkeley.edu> <436510B4.8050205@apache.org>
In-Reply-To: <436510B4.8050205@apache.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Actually, I was thinking of writing something along the lines of 
Span*BoundaryQuery where it would be more explicit than what was 
described below.  You could say SpanSentence and say you want the terms 
to occur w/in two sentences.  Do you guys think it is worthwhile to 
codify what is discussed below into a few convenience Span queries, or 
maybe we should just write it up better and put on the wiki or something...

Any preference?

Doug Cutting wrote:

> Chris Hostetter wrote:
>
>> : One thing that I know has bogged me is when matching a phrase where I
>> : would expect mathematical formula (which is "just a subphrase"). I
>> : would have liked the phrase-query to extend as far as it wishes but 
>> not
>> : passed a given token... would this be possible ?
>> : Presumably a period token and this feature would have provided the 
>> same?
>>
>> I haven't tried it myself, but my reading of SpanQueries leads me to
>> believe you could accomplish what you want (and what Grant describes) by
>> inserting special Terms to denote
>> formula/sentance/paragraph/section/chapter boundaries, and then use
>> SpanNearQueries with a high slop in conjunction with a
>> SpanNotQuery using a SpanTermQuery for the boundary you don't want to
>> cross.
>
>
> I have not tried this either, but it was one of the use cases when 
> designing span queries.  So it should work.
>
> Doug
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17210-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 31 07:07:43 2005
Return-Path: <java-user-return-17210-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82015 invoked from network); 31 Oct 2005 07:07:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Oct 2005 07:07:42 -0000
Received: (qmail 96769 invoked by uid 500); 31 Oct 2005 07:07:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96741 invoked by uid 500); 31 Oct 2005 07:07:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96718 invoked by uid 99); 31 Oct 2005 07:07:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 30 Oct 2005 23:07:33 -0800
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=DATE_IN_PAST_06_12
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 30 Oct 2005 23:07:29 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id BF03813E2005; Mon, 31 Oct 2005 02:07:11 -0500 (EST)
Received: from [172.16.1.101] (va-71-48-138-146.dhcp.sprint-hsd.net [71.48.138.146])
	by ehatchersolutions.com (Postfix) with ESMTP id 501FF13E2005
	for <java-user@lucene.apache.org>; Mon, 31 Oct 2005 02:07:08 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <OF7FF7BF9E.C0A016A0-ON872570AA.0053B8C2-852570AA.005835AE@sybase.com>
References: <OF7FF7BF9E.C0A016A0-ON872570AA.0053B8C2-852570AA.005835AE@sybase.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <3D21FBDD-55EF-47ED-AC74-8A09997D49C9@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Multiple Analyzers
Date: Sun, 30 Oct 2005 19:50:18 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 30 Oct 2005, at 11:03, Daniel.Clark@sybase.com wrote:
> I am implementing a search that allows the user to toggle the  
> Soundex and
> Stem functionality on and off.  When the Soundex or Sten functions  
> are not
> on, the search will use the StandardAnalyzer as default.  I  
> implemented the
> Soundex (SoundexAnalyzer from book Lucene In Action) and Stem
> (SnowballAnalyzer) analyzer successfully individually.  They only  
> work if I
> use the analyzers during both indexing and searching.  The problem  
> I have
> is that I seem to have to use one of the three analyzers or  
> nothing.  I
> heven't been able to combine them.  The following may help better to
> understand what I am trying to achieve.  Any help would be greatly
> appreciated.
>
> Indexing
> ========
> Index using recursive TokenStream object.
>
> public TokenStream tokenStream(String fieldName, Reader reader) {
>       TokenStream result = new SoundexFilter (
>                         new SnowballFilter (
>                            new StopFilter (
>                                                                        
>  new
> LowerCaseFilter (
>
> new StandardFilter (
> new StandardTokenizer(reader))),
>
> StandardAnalyzer.STOP_WORDS)));
>       return result;
> }

So you're using a single analyzer for all fields during indexing?

> Searching
> ==========
> If user selects Soundex function, use SoundexAnalyzer in query.
> Else if user selects Stem option, use SnowballAnalyzer in query.
> Else use StandardAnalyzer.

But different analyzers for searching.... you have to be quite  
careful about this sort of thing.  And in this particular case its  
tricky.  You can't stem and soundex during indexing and then  
selectively turn those features off without having indexed the  
various combinations you want available during search.

One way to address this is to index the same text into multiple  
fields with each using a different analysis process.  Then for  
search, line up the query type (stemming, soundex, standard) with the  
proper field.  (side note, this gets even more fun if you're using  
QueryParser and the user enters in "field:term"!).

Another option is to index into multiple indexes - one for each type  
of analysis.  I use this myself for case sensitive and insensitive  
searches.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17211-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 31 07:32:41 2005
Return-Path: <java-user-return-17211-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88746 invoked from network); 31 Oct 2005 07:32:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Oct 2005 07:32:41 -0000
Received: (qmail 12065 invoked by uid 500); 31 Oct 2005 07:32:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11170 invoked by uid 500); 31 Oct 2005 07:32:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11159 invoked by uid 99); 31 Oct 2005 07:32:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 30 Oct 2005 23:32:36 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.146.134.175] (HELO mail.inovex.de) (217.146.134.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 30 Oct 2005 23:32:32 -0800
Received: from [192.168.1.113] (gast4.inovex.de [192.168.1.113])
	by mail.inovex.de (Postfix) with ESMTP id 0C2A05FCB6
	for <java-user@lucene.apache.org>; Mon, 31 Oct 2005 08:40:25 +0100 (CET)
Message-ID: <4365C853.6000006@inovex.de>
Date: Mon, 31 Oct 2005 08:31:31 +0100
From: =?ISO-8859-1?Q?Tobias_L=FCtticke?= <t.luetticke@inovex.de>
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Usage RAMDirectory
References: <43622B8A.60606@inovex.de> <4362374B.4050404@gmail.com>
In-Reply-To: <4362374B.4050404@gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Rob,

 > How important is it that the search index be absolutely up to date?

Very important, I'am afraid. There are two web apps (out of historical reasons - they are 
located in the same EAR) with different users. Say a user creates or updates records. Then 
the changes have to be available immediately for the other user in the other application.
Sounds kind of weird probably, but that's the way it is :-)

I am probably going to try what the performance benefit of using RAMDirectory would 
roughly be and then decide whether I take the effort of double index update. Shouldn't be 
too bad.

Thanks
   Tobias


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17212-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 31 07:52:03 2005
Return-Path: <java-user-return-17212-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94302 invoked from network); 31 Oct 2005 07:52:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Oct 2005 07:52:02 -0000
Received: (qmail 24943 invoked by uid 500); 31 Oct 2005 07:51:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24924 invoked by uid 500); 31 Oct 2005 07:51:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 66708 invoked by uid 99); 31 Oct 2005 06:08:27 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
X-Server-Uuid: E8EE9E4E-CE80-4A3D-84F1-1599A05BA687
Message-ID: <s3654435.042@ohsu.edu>
X-Mailer: Novell GroupWise Internet Agent 6.5.4
Date: Sun, 30 Oct 2005 22:07:38 -0800
From: "J Jensen" <jensejef@ohsu.edu>
To: java-user@lucene.apache.org
Subject: Highlighter for 1.4.3?
MIME-Version: 1.0
X-WSS-ID: 6F7B6B3F29C5712446-01-01
Content-Type: text/plain;
 charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Erik,=20

I got the LuceneInAction.zip, extracted the highlighter-dev.jar and added =
it to the my classpath.  I tried to Test the jar with this code from the =
LIA...

String string =3D "The quick brown fox jumps over the lazy dog";
TermQuery termQuery =3D new TermQuery(new Term("field", "fox"));
QueryScorer scorer =3D new QueryScorer(termQuery);
Highlighter highlighter =3D new Highlighter(scorer);
TokenStream tStream =3D new StandardAnalyzer().tokenStream("field", new =
StringReader(string));
String s =3D highlighter.getBestFragment(tStream, string);
System.out.println(s);

and I get this error... =20

Exception in thread "main" java.lang.NoSuchMethodError: org.apache.lucene.s=
earch.highlight.TextFragment.<init>(II)V =09
at org.apache.lucene.search.highlight.Highlighter.getBestDocFragments(Highl=
ighter.java:138) =09
at org.apache.lucene.search.highlight.Highlighter.getBestFragments(Highligh=
ter.java:101) =09
at org.apache.lucene.search.highlight.Highlighter.getBestFragment(Highlight=
er.java:73)

Am I using the correct jar?  After looking into the src files, I want to =
say that the TextFragment constructor (from the jar file) take only 2 =
params, but the Highlighter or TokenSources is trying to pass it 3 params, =
but I am not sure of any of this?  Can you make sense of this?

Thanks again,=20
Jeff



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17213-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 31 07:58:27 2005
Return-Path: <java-user-return-17213-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96998 invoked from network); 31 Oct 2005 07:58:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Oct 2005 07:58:27 -0000
Received: (qmail 30338 invoked by uid 500); 31 Oct 2005 07:58:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30153 invoked by uid 500); 31 Oct 2005 07:58:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30142 invoked by uid 99); 31 Oct 2005 07:58:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 30 Oct 2005 23:58:20 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 30 Oct 2005 23:58:16 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id EEFE313E2006; Mon, 31 Oct 2005 02:57:56 -0500 (EST)
Received: from [172.16.1.101] (va-71-48-138-146.dhcp.sprint-hsd.net [71.48.138.146])
	by ehatchersolutions.com (Postfix) with ESMTP id 4BD5713E2005
	for <java-user@lucene.apache.org>; Mon, 31 Oct 2005 02:57:22 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <s3654435.042@ohsu.edu>
References: <s3654435.042@ohsu.edu>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <BEBFAB5E-859B-4BA8-9DA5-4D96E8AA3C99@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Highlighter for 1.4.3?
Date: Mon, 31 Oct 2005 02:57:21 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 31 Oct 2005, at 01:07, J Jensen wrote:
> I got the LuceneInAction.zip, extracted the highlighter-dev.jar and  
> added it to the my classpath.  I tried to Test the jar with this  
> code from the LIA...

> String string = "The quick brown fox jumps over the lazy dog";
> TermQuery termQuery = new TermQuery(new Term("field", "fox"));
> QueryScorer scorer = new QueryScorer(termQuery);
> Highlighter highlighter = new Highlighter(scorer);
> TokenStream tStream = new StandardAnalyzer().tokenStream("field",  
> new StringReader(string));
> String s = highlighter.getBestFragment(tStream, string);
> System.out.println(s);
>
> and I get this error...
>
> Exception in thread "main" java.lang.NoSuchMethodError:  
> org.apache.lucene.search.highlight.TextFragment.<init>(II)V
> at  
> org.apache.lucene.search.highlight.Highlighter.getBestDocFragments 
> (Highlighter.java:138)
> at org.apache.lucene.search.highlight.Highlighter.getBestFragments 
> (Highlighter.java:101)
> at org.apache.lucene.search.highlight.Highlighter.getBestFragment 
> (Highlighter.java:73)
>
> Am I using the correct jar?  After looking into the src files, I  
> want to say that the TextFragment constructor (from the jar file)  
> take only 2 params, but the Highlighter or TokenSources is trying  
> to pass it 3 params, but I am not sure of any of this?  Can you  
> make sense of this?

My hunch is you've got another Highlighter JAR in your classpath.   
The LIA code compiles just fine against the highlighter-dev.jar it  
contains, so I can only presume you've got something mismatched.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17214-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 31 08:08:07 2005
Return-Path: <java-user-return-17214-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1233 invoked from network); 31 Oct 2005 08:08:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Oct 2005 08:08:06 -0000
Received: (qmail 40561 invoked by uid 500); 31 Oct 2005 08:07:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40529 invoked by uid 500); 31 Oct 2005 08:07:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40518 invoked by uid 99); 31 Oct 2005 08:07:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 00:07:58 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 00:07:54 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 4A2F95B7A6; Mon, 31 Oct 2005 00:07:33 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 1453C7F467
	for <java-user@lucene.apache.org>; Mon, 31 Oct 2005 00:07:33 -0800 (PST)
Date: Mon, 31 Oct 2005 00:07:33 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Sentence boundary storage
In-Reply-To: <43657E40.8050206@syr.edu>
Message-ID: <Pine.LNX.4.58.0510302357450.475@hal.rescomp.berkeley.edu>
References: <43629C20.1010104@syr.edu> <fda9666d99afae1eb7460ce6ae77486f@activemath.org>
 <Pine.LNX.4.58.0510281658190.13523@hal.rescomp.berkeley.edu>
 <436510B4.8050205@apache.org> <43657E40.8050206@syr.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Actually, I was thinking of writing something along the lines of
: Span*BoundaryQuery where it would be more explicit than what was
: described below.  You could say SpanSentence and say you want the terms

I'm not clear on how such a SpanSentence class would work -- the index
must contain info about where sentence boundaries are, which means users
would need a special analyzer/tokenizer to create Terms for those
boundaries, and would need to tell the SpanSentence class what those
tokens are.

It sounds like maybe you could write some convinience methods to construct
the SpanQuery structure for you, but I don't see any practicle way to make
a generic SpanSentence class.

: codify what is discussed below into a few convenience Span queries, or
: maybe we should just write it up better and put on the wiki or something...

If you impliment it in an acctual application (instead of just theorizing
it like Doug and I have done) then i definitely think I would make a
usefull HOWTO if you hvae time to write one up...

	http://wiki.apache.org/jakarta-lucene/HowTo



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17215-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 31 08:42:13 2005
Return-Path: <java-user-return-17215-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19837 invoked from network); 31 Oct 2005 08:42:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Oct 2005 08:42:13 -0000
Received: (qmail 79248 invoked by uid 500); 31 Oct 2005 08:42:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79226 invoked by uid 500); 31 Oct 2005 08:42:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79215 invoked by uid 99); 31 Oct 2005 08:42:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 00:42:04 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [195.159.151.132] (HELO mail.gan.no) (195.159.151.132)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 00:42:00 -0800
Received: from localhost (localhost [127.0.0.1])
	by mail.gan.no (Postfix) with ESMTP id 7B227F0012
	for <java-user@lucene.apache.org>; Mon, 31 Oct 2005 09:41:39 +0100 (CET)
Received: from [172.16.16.192] (MetaMac.mediehuset.gan.no [172.16.16.192])
	by mail.gan.no (Postfix) with ESMTP id 01D22F0011
	for <java-user@lucene.apache.org>; Mon, 31 Oct 2005 09:41:38 +0100 (CET)
Mime-Version: 1.0 (Apple Message framework v623)
In-Reply-To: <00e001c5d988$7d0f6df0$0301a8c0@MALCOLM>
References: <20051025161350.45387.qmail@web26006.mail.ukl.yahoo.com> <00e001c5d988$7d0f6df0$0301a8c0@MALCOLM>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Message-Id: <9db64b53afdaa7c2524bb8983fb4e05a@gan.no>
Content-Transfer-Encoding: quoted-printable
From: =?ISO-8859-1?Q?Karl_=D8ie?= <karl@gan.no>
Subject: Re: Lucene and SAX
Date: Mon, 31 Oct 2005 09:41:37 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.623)
X-Virus-Scanned: by amavisd-new-20030616-p10 (Debian) at gan.no
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi there Malcolm!

I can=B4t see any place in your source that you add the document id of=20=

the document you are parsing. startDocument() should atleast add a=20
sys-id field for the xml document being parsed;

public void startDocument() {
	mDocument =3D new Document();
	mDocument.add(new Field("sys-id", ""+getMySystemId(), false, =
true,=20
false));
}

You should also consider this:

Parsing SAX is event based, if you create a object graf internally you=20=

can just as well use DOM parsing.

If you use SAX parser get and set the XMLReader your self, this way you=20=

can add ContentHandler, LexicalHandler and DTDHandler yourself for even=20=

more precise indexing.

Happy Hacking!

Karl

On 25. okt. 2005, at 19.21, Malcolm Clark wrote:

> Hi again,
> I am desperately asking for aid!!
>
> I have used the sandbox demo to parse the INEX collection.The problem=20=

> being it points to a volume file which references 50 other xml=20
> articles.Lucene only treats this as one document.Is there any method=20=

> of which I'm overlooking that halts after each reference?
> Could somebody please help and I wont post again until I submit=20
> something useful.
>
> The code is:
> public class XMLDocumentHandlerSAX
> extends HandlerBase
> {
>    /** A buffer for each XML element */
>    private StringBuffer elementBuffer =3D new StringBuffer();
>
>    private Document mDocument;
>
>    // constructor
>    public XMLDocumentHandlerSAX(File xmlFile)
> throws ParserConfigurationException, SAXException, IOException
>    {
> SAXParserFactory spf =3D SAXParserFactory.newInstance();
>
> SAXParser parser =3D spf.newSAXParser();
> parser.parse(xmlFile, this);
>    }
>
>    // call at document start
>    public void startDocument()
>    {
>     mDocument =3D new Document();
> //mDocument =3D new Document();
> elementBuffer.setLength(0);
>    }
>
>    // call at element start
>    public void startElement(String localName, AttributeList atts)
> throws SAXException
>    {
>
>     if (localName.equals("article")) {
>      elementBuffer.setLength(0);
>     }
>
>    }
>    // call when cdata found
>    public void characters(char[] text, int start, int length)
>    {
>
>      elementBuffer.append(text, start, length);
>
>    }
>
>    // call at element end
>    public void endElement(String localName)
> throws SAXException
>    {
>
>     if (localName.equals("article")) {
>      System.out.println("Article: "+elementBuffer.length());
>      elementBuffer.setLength(0);
>     }
>
>      mDocument.add(Field.Text(localName,elementBuffer.toString()));
>      System.out.println("EB: "+elementBuffer);
>      elementBuffer.setLength(0);
>
>    }
>
>
>    public Document getDocument()
>    {
>
> return mDocument;
>    }
>
>    public static void main(String[] args)
> throws Exception
>    {
> try
> {
>     Date start =3D new Date();
>     String indexDir =3D "C:\\LuceneDemo\\index";
>     IndexWriter writer =3D new IndexWriter(indexDir, new=20
> StandardAnalyzer(), true);
>     indexDocs(writer, new File("C:\\1995\\volume.xml"));
>
>
>     writer.optimize();
>     writer.close();
>
>     Date end =3D new Date();
>
>    }
> catch (Exception e)
> {
>     System.out.println(" caught a " + e.getClass() + "\n with message:=20=

> " + e.getMessage());
>     throw e;
> }
>    }
>
>    public static void indexDocs(IndexWriter writer, File file)
> throws Exception
>    {
>
> if (file.isDirectory())
>
> {
>     String[] files =3D file.list();
>     for (int i =3D 0; i < files.length; i++)
>     indexDocs(writer, new File(file, files[i]));
>
> }
> else
> {
>     System.out.println("adding " + file);
>
>     XMLDocumentHandlerSAX hdlr =3D new XMLDocumentHandlerSAX(file);
>     StandardAnalyzer anal =3D new StandardAnalyzer();
>     writer.addDocument(hdlr.getDocument(),anal);
>     System.out.println("Documents added to Index: =
"+writer.docCount());
>
>
>
> }
>    }
> }
> Thanks very much again.
> MC
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
Remember kids, given half a chance a cow would eat you and everyone you=20=

care about. (Pan and zoom to a cow with a crazed look.) MOO-OOO


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17216-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 31 10:29:18 2005
Return-Path: <java-user-return-17216-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59527 invoked from network); 31 Oct 2005 10:29:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Oct 2005 10:29:18 -0000
Received: (qmail 18314 invoked by uid 500); 31 Oct 2005 10:29:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18293 invoked by uid 500); 31 Oct 2005 10:29:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18282 invoked by uid 99); 31 Oct 2005 10:29:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 02:29:10 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 217.207.206.146 is neither permitted nor denied by domain of bubblenut@gmail.com)
Received: from [217.207.206.146] (HELO armel.cd-wow.com) (217.207.206.146)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 02:29:06 -0800
Message-ID: <4365E393.4030206@gmail.com>
Date: Mon, 31 Oct 2005 09:27:47 +0000
From: Rob Young <bubblenut@gmail.com>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051011)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: StandardTokenizer throws extra exceptions
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I'm trying to create another, slightly changed, version of 
StandardAnalyzer. I've coppied out the source, editted the .jj file and 
re-built the StandardTokenizer class. The problem I am facing is, when I 
have all this in eclipse it's telling me that the ParseException is not 
compatible with the throws clause in TokenStream.next(), I check 
TokenStream.next() and the only Exception it's throwing there is 
IOException. How can I get around this error? As far as I can see 
StandardAnalyzer doesn't seem to do anything to get around it.

Cheers
Rob

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17217-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 31 10:40:20 2005
Return-Path: <java-user-return-17217-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63834 invoked from network); 31 Oct 2005 10:40:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Oct 2005 10:40:20 -0000
Received: (qmail 37046 invoked by uid 500); 31 Oct 2005 10:40:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37023 invoked by uid 500); 31 Oct 2005 10:40:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37012 invoked by uid 99); 31 Oct 2005 10:40:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 02:40:14 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.65.18.194] (HELO gwserv161.interdoms.net) (69.65.18.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 02:40:10 -0800
Received: from ws97.brusselsvillage.be ([194.183.227.97] helo=[10.10.91.251])
	by gwserv161.interdoms.net with esmtpsa (TLSv1:AES256-SHA:256)
	(Exim 4.52)
	id 1EWX50-00040q-25
	for java-user@lucene.apache.org; Mon, 31 Oct 2005 11:39:54 +0100
Message-ID: <4365F475.9040306@attentio.com>
Date: Mon, 31 Oct 2005 11:39:49 +0100
From: Roxana Angheluta <roxana@attentio.com>
User-Agent: Mozilla Thunderbird 1.0 (X11/20041207)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: StandardTokenizer throws extra exceptions
References: <4365E393.4030206@gmail.com>
In-Reply-To: <4365E393.4030206@gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - gwserv161.interdoms.net
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - attentio.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Rob Young wrote:
> Hi,
>
> I'm trying to create another, slightly changed, version of 
> StandardAnalyzer. I've coppied out the source, editted the .jj file 
> and re-built the StandardTokenizer class. The problem I am facing is, 
> when I have all this in eclipse it's telling me that the 
> ParseException is not compatible with the throws clause in 
> TokenStream.next(), I check TokenStream.next() and the only Exception 
> it's throwing there is IOException. How can I get around this error? 
> As far as I can see StandardAnalyzer doesn't seem to do anything to 
> get around it.
>
Hi Rob!

I had the same problem. I solved it by manually editing the file 
ParseException.java every time when modifying .jj file:

import java.io.*;
public class ParseException extends IOException {

It's not the most elegant way to do it, I'm also interested in a more 
scalable solution.
Hth,
roxana




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17218-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 31 10:54:02 2005
Return-Path: <java-user-return-17218-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68132 invoked from network); 31 Oct 2005 10:54:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Oct 2005 10:54:02 -0000
Received: (qmail 57275 invoked by uid 500); 31 Oct 2005 10:53:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56924 invoked by uid 500); 31 Oct 2005 10:53:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56913 invoked by uid 99); 31 Oct 2005 10:53:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 02:53:56 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 217.207.206.146 is neither permitted nor denied by domain of bubblenut@gmail.com)
Received: from [217.207.206.146] (HELO armel.cd-wow.com) (217.207.206.146)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 02:53:51 -0800
Message-ID: <4365E961.2020209@gmail.com>
Date: Mon, 31 Oct 2005 09:52:33 +0000
From: Rob Young <bubblenut@gmail.com>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051011)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: StandardTokenizer throws extra exceptions
References: <4365E393.4030206@gmail.com> <4365F475.9040306@attentio.com>
In-Reply-To: <4365F475.9040306@attentio.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Roxana Angheluta wrote:

> I had the same problem. I solved it by manually editing the file 
> ParseException.java every time when modifying .jj file:
>
> import java.io.*;
> public class ParseException extends IOException {
>
> It's not the most elegant way to do it, I'm also interested in a more 
> scalable solution.

Thanks, I'll do that for the moment but yea, if there's a more elegant 
way of doing it then I'd also be interested.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17219-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 31 11:25:04 2005
Return-Path: <java-user-return-17219-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77895 invoked from network); 31 Oct 2005 11:25:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Oct 2005 11:25:04 -0000
Received: (qmail 5091 invoked by uid 500); 31 Oct 2005 11:25:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4189 invoked by uid 500); 31 Oct 2005 11:24:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4178 invoked by uid 99); 31 Oct 2005 11:24:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 03:24:59 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.20.168.25] (HELO uar.i-hypergrid.com) (217.20.168.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 03:24:55 -0800
Received: from [192.168.0.86] (vbychkoviak.jforce [192.168.0.86])
	by uar.i-hypergrid.com (Postfix) with ESMTP id 895B31B5CA
	for <java-user@lucene.apache.org>; Mon, 31 Oct 2005 13:24:27 +0200 (EET)
Message-ID: <4365FEEB.6000108@i-hypergrid.com>
Date: Mon, 31 Oct 2005 13:24:27 +0200
From: Volodymyr Bychkoviak <vbychkoviak@i-hypergrid.com>
User-Agent: Thunderbird 1.4.1 (Windows/20051006)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: complex search
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

hi all.

I have indexed table from database into index and it looks like:
<itemId>
<price>
<otherFields>

itemId is not unique.

I want to implement search which in SQL equivalent looks like
select itemId, min(price) from <table>
    where <condition on otherFields>
    groupBy itemId


Is it possible to achieve?

-- 
regards,
Volodymyr Bychkoviak


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17220-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 31 12:03:37 2005
Return-Path: <java-user-return-17220-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97850 invoked from network); 31 Oct 2005 12:03:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Oct 2005 12:03:37 -0000
Received: (qmail 54914 invoked by uid 500); 31 Oct 2005 12:03:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54896 invoked by uid 500); 31 Oct 2005 12:03:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54885 invoked by uid 99); 31 Oct 2005 12:03:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 04:03:31 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 217.207.206.146 is neither permitted nor denied by domain of bubblenut@gmail.com)
Received: from [217.207.206.146] (HELO armel.cd-wow.com) (217.207.206.146)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 04:03:27 -0800
Message-ID: <436607BD.4090103@gmail.com>
Date: Mon, 31 Oct 2005 12:02:05 +0000
From: Rob Young <bubblenut@gmail.com>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051011)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: List of removed stop words?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

Is there an easy way to list stop words that were removed from a string? 
I'm using the standard analyzer on user's searchstrings and I would like 
to let them know when stop words have been removed (ala google). Any ideas?

Cheers
Rob

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17221-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 31 13:38:18 2005
Return-Path: <java-user-return-17221-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34054 invoked from network); 31 Oct 2005 13:38:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Oct 2005 13:38:18 -0000
Received: (qmail 68481 invoked by uid 500); 31 Oct 2005 13:38:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68266 invoked by uid 500); 31 Oct 2005 13:38:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68255 invoked by uid 99); 31 Oct 2005 13:38:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 05:38:11 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 05:38:07 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 56D7613E2006; Mon, 31 Oct 2005 08:37:49 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 4F5FB13E2005
	for <java-user@lucene.apache.org>; Mon, 31 Oct 2005 08:30:08 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <436607BD.4090103@gmail.com>
References: <436607BD.4090103@gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <FC9FEBB8-9DBA-456B-9841-8B294EEA8978@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: List of removed stop words?
Date: Mon, 31 Oct 2005 08:29:42 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-4.2 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 31 Oct 2005, at 07:02, Rob Young wrote:
> Is there an easy way to list stop words that were removed from a  
> string? I'm using the standard analyzer on user's searchstrings and  
> I would like to let them know when stop words have been removed  
> (ala google). Any ideas?

Nothing automatic with the built-in analyzers that remove stop  
words... but you could tokenize without removing stop words, and  
remove them before forming the query and taking note of the ones  
removed.  Or create a custom StandardAnalyzer variant that used a  
custom StopFilter that took note of the words removed.

Surely some other ways I haven't thought of too.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17222-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 31 13:44:11 2005
Return-Path: <java-user-return-17222-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37535 invoked from network); 31 Oct 2005 13:44:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Oct 2005 13:44:10 -0000
Received: (qmail 77465 invoked by uid 500); 31 Oct 2005 13:44:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77440 invoked by uid 500); 31 Oct 2005 13:44:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77429 invoked by uid 99); 31 Oct 2005 13:44:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 05:44:04 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.18.5] (HELO mailbox.syr.edu) (128.230.18.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 05:44:00 -0800
Received: from [128.230.84.109] (istcnlpd9hb3r31.syr.edu [128.230.84.109])
	by mailbox.syr.edu (8.12.10/8.12.10) with ESMTP id j9VDhdq0024364
	for <java-user@lucene.apache.org>; Mon, 31 Oct 2005 08:43:40 -0500 (EST)
Message-ID: <43661F8B.8040204@syr.edu>
Date: Mon, 31 Oct 2005 08:43:39 -0500
From: Grant Ingersoll <gsingers@syr.edu>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Sentence boundary storage
References: <43629C20.1010104@syr.edu> <fda9666d99afae1eb7460ce6ae77486f@activemath.org> <Pine.LNX.4.58.0510281658190.13523@hal.rescomp.berkeley.edu> <436510B4.8050205@apache.org> <43657E40.8050206@syr.edu> <Pine.LNX.4.58.0510302357450.475@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0510302357450.475@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Inline below

Chris Hostetter wrote:

>: Actually, I was thinking of writing something along the lines of
>: Span*BoundaryQuery where it would be more explicit than what was
>: described below.  You could say SpanSentence and say you want the terms
>
>I'm not clear on how such a SpanSentence class would work -- the index
>must contain info about where sentence boundaries are, which means users
>would need a special analyzer/tokenizer to create Terms for those
>boundaries, and would need to tell the SpanSentence class what those
>tokens are.
>
>  
>
Right, I was think providing it as a package of code that would store 
the tokens needed on indexing, etc, probably by extending the 
StandardTokenizer/Analyzer. The Span classes would need to take in the 
appropriate information and create the underlying SpanNotQuery, etc. as 
discussed in the previous email.


>It sounds like maybe you could write some convinience methods to construct
>the SpanQuery structure for you, but I don't see any practicle way to make
>a generic SpanSentence class.
>
>: codify what is discussed below into a few convenience Span queries, or
>: maybe we should just write it up better and put on the wiki or something...
>
>If you impliment it in an acctual application (instead of just theorizing
>it like Doug and I have done) then i definitely think I would make a
>usefull HOWTO if you hvae time to write one up...
>
>	http://wiki.apache.org/jakarta-lucene/HowTo
>
>  
>

I have added a fair amount to the current Lucene Demo for my ApacheCon 
talk in December, which will be available freely then that I might 
consider putting in a proof of concept/demo of how to do such a thing.  
I will try to write it up when I get the chance.

>
>-Hoss
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17223-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 31 14:22:43 2005
Return-Path: <java-user-return-17223-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66789 invoked from network); 31 Oct 2005 14:22:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Oct 2005 14:22:42 -0000
Received: (qmail 31543 invoked by uid 500); 31 Oct 2005 14:22:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31523 invoked by uid 500); 31 Oct 2005 14:22:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31504 invoked by uid 99); 31 Oct 2005 14:22:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 06:22:35 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.138.151.122] (HELO fm200.sybase.com) (192.138.151.122)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 06:22:30 -0800
Received: from smtp1.sybase.com (sybgate.sybase.com [10.22.97.84])
	by fm200.sybase.com  with ESMTP id j9VEMDh07335
	for <java-user@lucene.apache.org>; Mon, 31 Oct 2005 06:22:13 -0800 (PST)
Received: from gwwest.sybase.com (localhost [127.0.0.1])
	by smtp1.sybase.com  with ESMTP id GAA26626
	for <java-user@lucene.apache.org>; Mon, 31 Oct 2005 06:22:13 -0800 (PST)
In-Reply-To: <3D21FBDD-55EF-47ED-AC74-8A09997D49C9@ehatchersolutions.com>
Subject: Re: Multiple Analyzers
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 6.5 September 26, 2003
Message-ID: <OF77BAC895.2A9E0FB9-ON872570AB.004E6D84-852570AB.004EEE8A@sybase.com>
From: Daniel.Clark@sybase.com
Date: Mon, 31 Oct 2005 09:22:09 -0500
X-MIMETrack: Serialize by Router on gwwest/SYBASE(Release 6.5.4|March 27, 2005) at 10/31/2005
 06:22:13 AM
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks Erik.  So you're saying that my approach won't work, right?  I
understand your recommendations.  Is there a way that I can just
incorporate Stem, Soundex, and Standard into one search.  In other words,
don't toggle anything.  Just index using custom analyzer that contains
Stem, Soundex, and Standard analyzers at once.  And search using the custom
analyzer that has Stem, Soundex, and Standard.  I can live with just having
all on compared to only having one of the three.  Please, advise.  Thanks
again for your swift responses.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Daniel Clark, Senior Consultant
Sybase Federal Professional Services
6550 Rock Spring Drive, Suite 800
Bethesda, MD  20817
Office - (301) 896-1103
Office Fax - (301) 896-1604
Mobile - (703) 403-0340
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


                                                                           
             Erik Hatcher                                                  
             <erik@ehatchersol                                             
             utions.com>                                                To 
                                       java-user@lucene.apache.org         
             10/30/2005 07:50                                           cc 
             PM                                                            
                                                                   Subject 
                                       Re: Multiple Analyzers              
             Please respond to                                             
             java-user@lucene.                                             
                apache.org                                                 
                                                                           
                                                                           
                                                                           





On 30 Oct 2005, at 11:03, Daniel.Clark@sybase.com wrote:
> I am implementing a search that allows the user to toggle the
> Soundex and
> Stem functionality on and off.  When the Soundex or Sten functions
> are not
> on, the search will use the StandardAnalyzer as default.  I
> implemented the
> Soundex (SoundexAnalyzer from book Lucene In Action) and Stem
> (SnowballAnalyzer) analyzer successfully individually.  They only
> work if I
> use the analyzers during both indexing and searching.  The problem
> I have
> is that I seem to have to use one of the three analyzers or
> nothing.  I
> heven't been able to combine them.  The following may help better to
> understand what I am trying to achieve.  Any help would be greatly
> appreciated.
>
> Indexing
> ========
> Index using recursive TokenStream object.
>
> public TokenStream tokenStream(String fieldName, Reader reader) {
>       TokenStream result = new SoundexFilter (
>                         new SnowballFilter (
>                            new StopFilter (
>
>  new
> LowerCaseFilter (
>
> new StandardFilter (
> new StandardTokenizer(reader))),
>
> StandardAnalyzer.STOP_WORDS)));
>       return result;
> }

So you're using a single analyzer for all fields during indexing?

> Searching
> ==========
> If user selects Soundex function, use SoundexAnalyzer in query.
> Else if user selects Stem option, use SnowballAnalyzer in query.
> Else use StandardAnalyzer.

But different analyzers for searching.... you have to be quite
careful about this sort of thing.  And in this particular case its
tricky.  You can't stem and soundex during indexing and then
selectively turn those features off without having indexed the
various combinations you want available during search.

One way to address this is to index the same text into multiple
fields with each using a different analysis process.  Then for
search, line up the query type (stemming, soundex, standard) with the
proper field.  (side note, this gets even more fun if you're using
QueryParser and the user enters in "field:term"!).

Another option is to index into multiple indexes - one for each type
of analysis.  I use this myself for case sensitive and insensitive
searches.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17224-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 31 14:39:50 2005
Return-Path: <java-user-return-17224-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77568 invoked from network); 31 Oct 2005 14:39:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Oct 2005 14:39:50 -0000
Received: (qmail 63971 invoked by uid 500); 31 Oct 2005 14:39:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63710 invoked by uid 500); 31 Oct 2005 14:39:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63699 invoked by uid 99); 31 Oct 2005 14:39:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 06:39:43 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of chenjian1227@gmail.com designates 66.249.82.193 as permitted sender)
Received: from [66.249.82.193] (HELO xproxy.gmail.com) (66.249.82.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 06:39:39 -0800
Received: by xproxy.gmail.com with SMTP id s18so370763wxc
        for <java-user@lucene.apache.org>; Mon, 31 Oct 2005 06:39:22 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=VqWZaZprqQ1VrIoKSqvng5PXvKx3yrD9NVT9OG41XZ6iGUthoaq5gl3+/m1Wgy4XaGm5uwVrY78En/d2qyFcXVFTFcCMpS7WqlhikJA8h5KiQ9B0h4TWkdmpNcZcX3GBXhddsAxuWJpgaU2QLWgWbCzrW0Xb4mqLG7qIR9i4p50=
Received: by 10.65.132.1 with SMTP id j1mr237944qbn;
        Mon, 31 Oct 2005 06:39:22 -0800 (PST)
Received: by 10.65.147.20 with HTTP; Mon, 31 Oct 2005 06:39:22 -0800 (PST)
Message-ID: <7ca123910510310639pf2d952ejb8e79cd01fb8622b@mail.gmail.com>
Date: Mon, 31 Oct 2005 06:39:22 -0800
From: jian chen <chenjian1227@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: List of removed stop words?
In-Reply-To: <436607BD.4090103@gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_8413_26952304.1130769562148"
References: <436607BD.4090103@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_8413_26952304.1130769562148
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,

In case you are using StandardAnalyzer, there is a stop word list. I have
used StandardAnalyzer.STOP_WORDS, which is a String[].

Cheers,

Jian

On 10/31/05, Rob Young <bubblenut@gmail.com> wrote:
>
> Hi,
>
> Is there an easy way to list stop words that were removed from a string?
> I'm using the standard analyzer on user's searchstrings and I would like
> to let them know when stop words have been removed (ala google). Any
> ideas?
>
> Cheers
> Rob
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_8413_26952304.1130769562148--

From java-user-return-17225-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 31 14:55:54 2005
Return-Path: <java-user-return-17225-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86546 invoked from network); 31 Oct 2005 14:55:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Oct 2005 14:55:54 -0000
Received: (qmail 82237 invoked by uid 500); 31 Oct 2005 14:55:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82207 invoked by uid 500); 31 Oct 2005 14:55:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82196 invoked by uid 99); 31 Oct 2005 14:55:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 06:55:48 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 06:55:44 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 95C7713E2006; Mon, 31 Oct 2005 09:55:22 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id B443513E2005
	for <java-user@lucene.apache.org>; Mon, 31 Oct 2005 09:55:04 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <OF77BAC895.2A9E0FB9-ON872570AB.004E6D84-852570AB.004EEE8A@sybase.com>
References: <OF77BAC895.2A9E0FB9-ON872570AB.004E6D84-852570AB.004EEE8A@sybase.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <745B1CBF-FA2C-463F-9C1D-90E3A46CCE7F@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Multiple Analyzers
Date: Mon, 31 Oct 2005 09:55:04 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-3.7 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Yes, you can certainly do all three in one shot.   Look at the source  
code to StandardAnalyzer, build a custom analyzer that used it's core  
tokenization, then filtered through the SnowballFilter, and then a  
custom soundex filter (or metaphone or similar).  That would make for  
some mighty fuzzy searches, but I guess that is your goal.

A custom analyzer needs to be written, along with the custom soundex  
filter, but should only be a handful of lines of code.  Use the  
source code of Lucene in Action as a basis if you'd like.

     Erik




On 31 Oct 2005, at 09:22, Daniel.Clark@sybase.com wrote:

> Thanks Erik.  So you're saying that my approach won't work, right?  I
> understand your recommendations.  Is there a way that I can just
> incorporate Stem, Soundex, and Standard into one search.  In other  
> words,
> don't toggle anything.  Just index using custom analyzer that contains
> Stem, Soundex, and Standard analyzers at once.  And search using  
> the custom
> analyzer that has Stem, Soundex, and Standard.  I can live with  
> just having
> all on compared to only having one of the three.  Please, advise.   
> Thanks
> again for your swift responses.
>
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> Daniel Clark, Senior Consultant
> Sybase Federal Professional Services
> 6550 Rock Spring Drive, Suite 800
> Bethesda, MD  20817
> Office - (301) 896-1103
> Office Fax - (301) 896-1604
> Mobile - (703) 403-0340
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>
>
>
>              Erik Hatcher
>              <erik@ehatchersol
>               
> utions.com>                                                To
>                                        java-user@lucene.apache.org
>              10/30/2005  
> 07:50                                           cc
>              PM
>                                                                     
> Subject
>                                        Re: Multiple Analyzers
>              Please respond to
>              java-user@lucene.
>                 apache.org
>
>
>
>
>
>
>
>
> On 30 Oct 2005, at 11:03, Daniel.Clark@sybase.com wrote:
>
>> I am implementing a search that allows the user to toggle the
>> Soundex and
>> Stem functionality on and off.  When the Soundex or Sten functions
>> are not
>> on, the search will use the StandardAnalyzer as default.  I
>> implemented the
>> Soundex (SoundexAnalyzer from book Lucene In Action) and Stem
>> (SnowballAnalyzer) analyzer successfully individually.  They only
>> work if I
>> use the analyzers during both indexing and searching.  The problem
>> I have
>> is that I seem to have to use one of the three analyzers or
>> nothing.  I
>> heven't been able to combine them.  The following may help better to
>> understand what I am trying to achieve.  Any help would be greatly
>> appreciated.
>>
>> Indexing
>> ========
>> Index using recursive TokenStream object.
>>
>> public TokenStream tokenStream(String fieldName, Reader reader) {
>>       TokenStream result = new SoundexFilter (
>>                         new SnowballFilter (
>>                            new StopFilter (
>>
>>  new
>> LowerCaseFilter (
>>
>> new StandardFilter (
>> new StandardTokenizer(reader))),
>>
>> StandardAnalyzer.STOP_WORDS)));
>>       return result;
>> }
>>
>
> So you're using a single analyzer for all fields during indexing?
>
>
>> Searching
>> ==========
>> If user selects Soundex function, use SoundexAnalyzer in query.
>> Else if user selects Stem option, use SnowballAnalyzer in query.
>> Else use StandardAnalyzer.
>>
>
> But different analyzers for searching.... you have to be quite
> careful about this sort of thing.  And in this particular case its
> tricky.  You can't stem and soundex during indexing and then
> selectively turn those features off without having indexed the
> various combinations you want available during search.
>
> One way to address this is to index the same text into multiple
> fields with each using a different analysis process.  Then for
> search, line up the query type (stemming, soundex, standard) with the
> proper field.  (side note, this gets even more fun if you're using
> QueryParser and the user enters in "field:term"!).
>
> Another option is to index into multiple indexes - one for each type
> of analysis.  I use this myself for case sensitive and insensitive
> searches.
>
>      Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17226-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 31 15:25:32 2005
Return-Path: <java-user-return-17226-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6110 invoked from network); 31 Oct 2005 15:25:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Oct 2005 15:25:32 -0000
Received: (qmail 38653 invoked by uid 500); 31 Oct 2005 15:25:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37745 invoked by uid 500); 31 Oct 2005 15:25:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37734 invoked by uid 99); 31 Oct 2005 15:25:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 07:25:26 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [65.209.1.80] (HELO webmail.cymfony.com) (65.209.1.80)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 07:25:22 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Help requested
Date: Mon, 31 Oct 2005 10:22:39 -0500
Message-ID: <13F36D2926AD444697093282F20041B703A65B3B@buf-ex01.cymfony.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Help requested
Thread-Index: AcXdywpKGFecNvWcRcq+jyMSlvskxgAY1PpQ
From: "Peter Kim" <pkim@cymfony.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I just wanted to clarify... I don't believe the following statement is
accurate:

>=20
> The "contents" field searches on the entire document,=20
> including all indexes.


There is no default field named "contents" that automatically combines
the contents of all your fields. As Erik mentioned, you need to create
this field yourself and assign it a string value that is a concatenation
of all the fields you want to have indexed.

Please correct me if I'm wrong.

Thanks,
Peter

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17227-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 31 15:57:23 2005
Return-Path: <java-user-return-17227-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24053 invoked from network); 31 Oct 2005 15:57:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Oct 2005 15:57:23 -0000
Received: (qmail 2093 invoked by uid 500); 31 Oct 2005 15:57:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2075 invoked by uid 500); 31 Oct 2005 15:57:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2064 invoked by uid 99); 31 Oct 2005 15:57:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 07:57:16 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.36.215] (HELO web53905.mail.yahoo.com) (206.190.36.215)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 31 Oct 2005 07:57:12 -0800
Received: (qmail 82393 invoked by uid 60001); 31 Oct 2005 15:56:54 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=uPo9R95LmmVoUaKV5IXxH0YtmmPdUHArqv7p+6MazXRvFVTeL3fKklSTgiu+7tmyVXVLKUd1ycz100V4dtW9rexQN94iXEVzV+MDdxCXJtO7hczkMqQJUGLCXdupVprb319uu4JofYh0Xdado10IePjxRMP8Olg+P7T0eLug6hw=  ;
Message-ID: <20051031155654.82391.qmail@web53905.mail.yahoo.com>
Received: from [128.82.5.185] by web53905.mail.yahoo.com via HTTP; Mon, 31 Oct 2005 07:56:54 PST
Date: Mon, 31 Oct 2005 07:56:54 -0800 (PST)
From: anushri kumar <anukumar004@yahoo.com>
Subject: Indexing
To: lucene <java-user@lucene.apache.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-733888377-1130774214=:79879"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-733888377-1130774214=:79879
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hi,
 
I've 4 fields in a document ie. id, URL, modified date, contents. id is unique for each document. I wanted to know if I index a document with the same id again , will the previous document (in the index) be overwritten or do I have to delete the index for that document first and then re index the modified one. 
 
Thanks,
Anu 

		
---------------------------------
 Yahoo! FareChase - Search multiple travel sites in one click.  
--0-733888377-1130774214=:79879--

From java-user-return-17228-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 31 16:01:37 2005
Return-Path: <java-user-return-17228-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26946 invoked from network); 31 Oct 2005 16:01:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Oct 2005 16:01:36 -0000
Received: (qmail 13606 invoked by uid 500); 31 Oct 2005 16:01:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13363 invoked by uid 500); 31 Oct 2005 16:01:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13352 invoked by uid 99); 31 Oct 2005 16:01:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 08:01:29 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.20.168.25] (HELO uar.i-hypergrid.com) (217.20.168.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 08:01:25 -0800
Received: from [192.168.0.86] (vbychkoviak.jforce [192.168.0.86])
	by uar.i-hypergrid.com (Postfix) with ESMTP id 35B181B59C
	for <java-user@lucene.apache.org>; Mon, 31 Oct 2005 18:01:06 +0200 (EET)
Message-ID: <43663FC2.3060509@i-hypergrid.com>
Date: Mon, 31 Oct 2005 18:01:06 +0200
From: Volodymyr Bychkoviak <vbychkoviak@i-hypergrid.com>
User-Agent: Thunderbird 1.4.1 (Windows/20051006)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Indexing
References: <20051031155654.82391.qmail@web53905.mail.yahoo.com>
In-Reply-To: <20051031155654.82391.qmail@web53905.mail.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

you have to delete doc with id and re-add it.

if index is updated continuously then  you should batch your updates
(first delete all old docs and then add new docs)



anushri kumar wrote:
> Hi,
>  
> I've 4 fields in a document ie. id, URL, modified date, contents. id is unique for each document. I wanted to know if I index a document with the same id again , will the previous document (in the index) be overwritten or do I have to delete the index for that document first and then re index the modified one. 
>  
> Thanks,
> Anu 
>
> 		
> ---------------------------------
>  Yahoo! FareChase - Search multiple travel sites in one click.  
>   

-- 
regards,
Volodymyr Bychkoviak


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17229-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 31 16:02:06 2005
Return-Path: <java-user-return-17229-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27114 invoked from network); 31 Oct 2005 16:02:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Oct 2005 16:02:06 -0000
Received: (qmail 14639 invoked by uid 500); 31 Oct 2005 16:02:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14615 invoked by uid 500); 31 Oct 2005 16:02:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14604 invoked by uid 99); 31 Oct 2005 16:02:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 08:02:00 -0800
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=MAILTO_TO_SPAM_ADDR
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [65.209.1.80] (HELO webmail.cymfony.com) (65.209.1.80)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 08:01:56 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Indexing
Date: Mon, 31 Oct 2005 10:59:11 -0500
Message-ID: <13F36D2926AD444697093282F20041B703A65B74@buf-ex01.cymfony.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Indexing
Thread-Index: AcXeM8YE1TFG7nqkQc+u4Lji+v7t4wAAALjQ
From: "Peter Kim" <pkim@cymfony.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You need to delete the document from the index and reindex it. This is
in the LuceneFAQ:

http://wiki.apache.org/jakarta-lucene/LuceneFAQ#head-917dd4fc904aa20a34e
bd23eb321125bdca1dea2

(or #24 under 3. Indexing)

Peter=20

> -----Original Message-----
> From: anushri kumar [mailto:anukumar004@yahoo.com]=20
> Sent: Monday, October 31, 2005 10:57 AM
> To: lucene
> Subject: Indexing
>=20
> Hi,
> =20
> I've 4 fields in a document ie. id, URL, modified date,=20
> contents. id is unique for each document. I wanted to know if=20
> I index a document with the same id again , will the previous=20
> document (in the index) be overwritten or do I have to delete=20
> the index for that document first and then re index the modified one.=20
> =20
> Thanks,
> Anu=20
>=20
> 	=09
> ---------------------------------
>  Yahoo! FareChase - Search multiple travel sites in one click. =20
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17230-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 31 17:37:06 2005
Return-Path: <java-user-return-17230-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82214 invoked from network); 31 Oct 2005 17:37:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Oct 2005 17:37:05 -0000
Received: (qmail 60134 invoked by uid 500); 31 Oct 2005 17:36:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60110 invoked by uid 500); 31 Oct 2005 17:36:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60099 invoked by uid 99); 31 Oct 2005 17:36:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 09:36:58 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.160] (HELO web53911.mail.yahoo.com) (206.190.38.160)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 31 Oct 2005 09:36:53 -0800
Received: (qmail 13063 invoked by uid 60001); 31 Oct 2005 17:36:35 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=xKe4h+fV+wMl+c51Mpaz6F2R9oEOI5npSs2+n9hW8i4+dH8Atu7ghloF5dX7RxvBMbdQJ+o/9TWNi6cVV8zeF8BqWNORTvmvtujd2NvCkQzykIijULgkll7eu1MqPQ80Wh8M/UVUe6KOSrd6eKDug8JcEkeTPnwzND6SoFR6zlA=  ;
Message-ID: <20051031173635.13061.qmail@web53911.mail.yahoo.com>
Received: from [128.82.5.185] by web53911.mail.yahoo.com via HTTP; Mon, 31 Oct 2005 09:36:35 PST
Date: Mon, 31 Oct 2005 09:36:35 -0800 (PST)
From: anushri kumar <anukumar004@yahoo.com>
Subject: Indexing dates
To: lucene <java-user@lucene.apache.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1871381105-1130780195=:8333"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1871381105-1130780195=:8333
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hi,
 
I was trying to index dates. I wrote

Document doc = new Document();
doc.add(Field.Keyword("indexdate",new Date() ));

but while running the program it gave me the following error.

Exception in thread "main" java.lang.NoSuchMethodError: org.apache.lucene.docume
nt.Field.Keyword(Ljava/lang/String;Ljava/util/Date;)Lorg/apache/lucene/document/
Field;
at lia.handlingtypes.msdoc.TextMiningWordDocHandler.getDocument(TextMini
ngWordDocHandler.java:40)
at lia.handlingtypes.framework.ExtensionFileHandler.getDocument(Extensio
nFileHandler.java:41)
at lia.handlingtypes.framework.FileIndexer.index(FileIndexer.java:43)
at lia.handlingtypes.framework.FileIndexer.index(FileIndexer.java:36)
at lia.handlingtypes.framework.FileIndexer.index(FileIndexer.java:36)
at lia.handlingtypes.framework.FileIndexer.main(FileIndexer.java:77)

Is there something I'm missing ? 

Thanks a lot ,
Anu 


		
---------------------------------
 Yahoo! FareChase - Search multiple travel sites in one click.  
--0-1871381105-1130780195=:8333--

From java-user-return-17231-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 31 19:28:12 2005
Return-Path: <java-user-return-17231-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27356 invoked from network); 31 Oct 2005 19:28:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Oct 2005 19:28:12 -0000
Received: (qmail 29594 invoked by uid 500); 31 Oct 2005 19:28:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29448 invoked by uid 500); 31 Oct 2005 19:28:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29437 invoked by uid 99); 31 Oct 2005 19:28:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 11:28:05 -0800
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,MSGID_FROM_MTA_HEADER,NO_REAL_NAME,SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Msftblows@aol.com designates 205.188.157.37 as permitted sender)
Received: from [205.188.157.37] (HELO imo-d05.mx.aol.com) (205.188.157.37)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 11:28:01 -0800
Received: from Msftblows@aol.com
	by imo-d05.mx.aol.com (mail_out_v38_r6.3.) id h.d2.34018b03 (16086)
	 for <java-user@lucene.apache.org>; Mon, 31 Oct 2005 14:27:41 -0500 (EST)
Received: from  FWM-R41 (fwm-r41.webmail.aol.com [152.163.181.145]) by air-id10.mx.aol.com (v107.13) with ESMTP id MAILINID103-3ed64366702d2d3; Mon, 31 Oct 2005 14:27:41 -0500
Date: Mon, 31 Oct 2005 14:27:41 -0500
From: msftblows@aol.com
Message-Id: <8C7AC684BD7793D-1C38-1A29@FWM-R41.sysops.aol.com>
X-MB-Message-Source: WebUI
X-MB-Message-Type: User
Received: from 38.117.191.162 by FWM-R41.sysops.aol.com (152.163.181.145) with HTTP (WebMailUI); Mon, 31 Oct 2005 14:27:41 -0500
X-Mailer: AOL WebMail 1.1.0.14204
Subject: Java Indexer + DotLucene + IIS question
Content-Type: multipart/alternative;
 boundary="--------MailBlocks_8C7AC684BD7793D_1C38_1B4A_FWM-R41.sysops.aol.com"
MIME-Version: 1.0
To: java-user@lucene.apache.org
X-AOL-IP: 152.163.181.145
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Flag: NO
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

----------MailBlocks_8C7AC684BD7793D_1C38_1B4A_FWM-R41.sysops.aol.com
Content-Type: text/plain; charset="us-ascii"

Hey-
 
I have the following situation, and I am looking for any suggestions...
 
First, here is my current configuration:
 
1. Java Indexer (windows service) created to index data from a SQL Server database...3 indexes are created
 
2. DotLucene is used on the front-end to search my index files...which means I am running on Windows Server 2003 and IIS 6.0 ( sorry guys :-P )
 
3. The index location(s) are read from a config file
 
4. I am currently running this site on one webserver (not a farm)
 
The problem is that I am moving to a webfarm shortly...and I am trying to figure out a way to replicate the index(s) that I am creating. The indexer indexes based off a bit field in the database, and a seperate thread runs in the background to optimize the index(s). 
 
Possible Solutions: 
 
1. If I use so me built-in replication or some other third party solution across the servers I think (tell me if I am wrong please) I may have an issue since the indexer compresses and writes and something may go wrong...
 
2. If I use a shared drive (UNC) to another clustered machine (not one of the webservers), I need to open ports for IIS and the worker process to talk to it...not a good idea
 
3. If I store on one web-server and have a shared drive from all other webservers to that one webserver, then I have a problem if that one webserver goes down for aby reason
 
4. I don't want to store the indexes in a database
 
5. I can get a Index Server to use (like a state server)...but I would rather not spend the money :-)
 
6. I can use some remoting solution to bypass the UNC idea...but this requires a coding change (not a problem if this is the best solution)
 
 
What I am looking for is someone who knows of the best solution...or if someone implemented something different than the above.
 
Thanks!
-Joe

----------MailBlocks_8C7AC684BD7793D_1C38_1B4A_FWM-R41.sysops.aol.com--

From java-user-return-17232-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 31 19:53:00 2005
Return-Path: <java-user-return-17232-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39714 invoked from network); 31 Oct 2005 19:53:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Oct 2005 19:53:00 -0000
Received: (qmail 77315 invoked by uid 500); 31 Oct 2005 19:52:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77276 invoked by uid 500); 31 Oct 2005 19:52:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77265 invoked by uid 99); 31 Oct 2005 19:52:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 11:52:53 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 11:52:49 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 837F25B76E; Mon, 31 Oct 2005 11:52:31 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 80D5D7F471
	for <java-user@lucene.apache.org>; Mon, 31 Oct 2005 11:52:31 -0800 (PST)
Date: Mon, 31 Oct 2005 11:52:31 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Multiple Analyzers
In-Reply-To: <OF77BAC895.2A9E0FB9-ON872570AB.004E6D84-852570AB.004EEE8A@sybase.com>
Message-ID: <Pine.LNX.4.58.0510311148320.10324@hal.rescomp.berkeley.edu>
References: <OF77BAC895.2A9E0FB9-ON872570AB.004E6D84-852570AB.004EEE8A@sybase.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: understand your recommendations.  Is there a way that I can just
: incorporate Stem, Soundex, and Standard into one search.  In other words,
: don't toggle anything.  Just index using custom analyzer that contains
: Stem, Soundex, and Standard analyzers at once.  And search using the custom
: analyzer that has Stem, Soundex, and Standard.  I can live with just having
: all on compared to only having one of the three.  Please, advise.  Thanks
: again for your swift responses.

even if you don't need a toggle to decide which approach to take, you're
still probably going to be better off if you index the fields seperately.
assuming you want the conceptional fields "title", "description", and
"body" to all be searchable, use real fields like...

        Stem          Soundex       Standard
        title_stem    title_sound   title
        desc_stem     desc_sound    desc
        body_stem     body_sound    body

...and at query time, build up a single BooleanQuery (or perhaps
MaxDisjunct query) that contains the users search words tested against
each of the various fields.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17233-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 31 19:57:24 2005
Return-Path: <java-user-return-17233-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42354 invoked from network); 31 Oct 2005 19:57:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Oct 2005 19:57:24 -0000
Received: (qmail 86596 invoked by uid 500); 31 Oct 2005 19:57:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86570 invoked by uid 500); 31 Oct 2005 19:57:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86559 invoked by uid 99); 31 Oct 2005 19:57:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 11:57:16 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 11:57:12 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 281145B7D0; Mon, 31 Oct 2005 11:56:53 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 1ECC07F471
	for <java-user@lucene.apache.org>; Mon, 31 Oct 2005 11:56:53 -0800 (PST)
Date: Mon, 31 Oct 2005 11:56:53 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: complex search
In-Reply-To: <4365FEEB.6000108@i-hypergrid.com>
Message-ID: <Pine.LNX.4.58.0510311154450.10324@hal.rescomp.berkeley.edu>
References: <4365FEEB.6000108@i-hypergrid.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: I want to implement search which in SQL equivalent looks like
: select itemId, min(price) from <table>
:     where <condition on otherFields>
:     groupBy itemId

: Is it possible to achieve?


Not easily.  The most straightforward approach I can think of is to write
your own HitCollector that builds up a Hash of itemId => price mappings
for each docId it sees with a positive score, and only overright existing
mappings if the price it sees is less then the previous price.

To make it efficient, you're going to want to make sure itemId and price
are both indexed fields, and use the FieldCache.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17234-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 31 19:59:15 2005
Return-Path: <java-user-return-17234-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44646 invoked from network); 31 Oct 2005 19:59:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Oct 2005 19:59:14 -0000
Received: (qmail 97551 invoked by uid 500); 31 Oct 2005 19:59:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97522 invoked by uid 500); 31 Oct 2005 19:59:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97506 invoked by uid 99); 31 Oct 2005 19:59:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 11:59:08 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 11:59:04 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 7B9405B7E1; Mon, 31 Oct 2005 11:58:47 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 73D097F471
	for <java-user@lucene.apache.org>; Mon, 31 Oct 2005 11:58:47 -0800 (PST)
Date: Mon, 31 Oct 2005 11:58:47 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: lucene <java-user@lucene.apache.org>
Subject: Re: Indexing
In-Reply-To: <20051031155654.82391.qmail@web53905.mail.yahoo.com>
Message-ID: <Pine.LNX.4.58.0510311157280.10324@hal.rescomp.berkeley.edu>
References: <20051031155654.82391.qmail@web53905.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


:  I've 4 fields in a document ie. id, URL, modified date, contents. id is
: unique for each document. I wanted to know if I index a document with
: the same id again , will the previous document (in the index) be
: overwritten or do I have to delete the index for that document first and
: then re index the modified one.

Lucene has no notion of a "unique field" ... you will need to delete
the old record ... but you don't neccessarily need to delete it first.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17235-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 31 20:10:10 2005
Return-Path: <java-user-return-17235-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52940 invoked from network); 31 Oct 2005 20:10:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Oct 2005 20:10:09 -0000
Received: (qmail 36768 invoked by uid 500); 31 Oct 2005 20:10:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36604 invoked by uid 500); 31 Oct 2005 20:10:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36593 invoked by uid 99); 31 Oct 2005 20:10:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 12:10:01 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [216.106.102.23] (HELO extremesoftware.ca) (216.106.102.23)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 12:09:57 -0800
Subject: RE: Java Indexer + DotLucene + IIS question
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Date: Mon, 31 Oct 2005 15:09:34 -0500
Message-ID: <41989D7DF8323B4CB0F7A58F5BA0101905BF09@sydney.extremesoftware.ca>
Content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MIMEOLE: Produced By Microsoft Exchange V6.5
X-MS-TNEF-Correlator: 
Thread-Topic: Java Indexer + DotLucene + IIS question
Thread-Index: AcXeUTXyvYQZoOHeT/a5BYyFOwsBfgAA/cyQ
From: "Wesley MacDonald" <wes@extremesoftware.ca>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

	You might want to use Replistor in a case like this and only
have one indexer running, let Replistor manage the copies.

Wes.

-----Original Message-----
From: msftblows@aol.com [mailto:msftblows@aol.com]=20
Sent: October 31, 2005 2:28 PM
To: java-user@lucene.apache.org
Subject: Java Indexer + DotLucene + IIS question

Hey-
=20
I have the following situation, and I am looking for any suggestions...
=20
First, here is my current configuration:
=20
1. Java Indexer (windows service) created to index data from a SQL
Server database...3 indexes are created
=20
2. DotLucene is used on the front-end to search my index files...which
means I am running on Windows Server 2003 and IIS 6.0 ( sorry guys :-P )
=20
3. The index location(s) are read from a config file
=20
4. I am currently running this site on one webserver (not a farm)
=20
The problem is that I am moving to a webfarm shortly...and I am trying
to figure out a way to replicate the index(s) that I am creating. The
indexer indexes based off a bit field in the database, and a seperate
thread runs in the background to optimize the index(s).=20
=20
Possible Solutions:=20
=20
1. If I use so me built-in replication or some other third party
solution across the servers I think (tell me if I am wrong please) I may
have an issue since the indexer compresses and writes and something may
go wrong...
=20
2. If I use a shared drive (UNC) to another clustered machine (not one
of the webservers), I need to open ports for IIS and the worker process
to talk to it...not a good idea
=20
3. If I store on one web-server and have a shared drive from all other
webservers to that one webserver, then I have a problem if that one
webserver goes down for aby reason
=20
4. I don't want to store the indexes in a database
=20
5. I can get a Index Server to use (like a state server)...but I would
rather not spend the money :-)
=20
6. I can use some remoting solution to bypass the UNC idea...but this
requires a coding change (not a problem if this is the best solution)
=20
=20
What I am looking for is someone who knows of the best solution...or if
someone implemented something different than the above.
=20
Thanks!
-Joe

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17236-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 31 20:37:00 2005
Return-Path: <java-user-return-17236-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71255 invoked from network); 31 Oct 2005 20:37:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Oct 2005 20:37:00 -0000
Received: (qmail 94159 invoked by uid 500); 31 Oct 2005 20:36:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94129 invoked by uid 500); 31 Oct 2005 20:36:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94118 invoked by uid 99); 31 Oct 2005 20:36:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 12:36:53 -0800
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,MSGID_FROM_MTA_HEADER,NO_REAL_NAME,SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Msftblows@aol.com designates 64.12.137.9 as permitted sender)
Received: from [64.12.137.9] (HELO imo-m28.mx.aol.com) (64.12.137.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 12:36:49 -0800
Received: from Msftblows@aol.com
	by imo-m28.mx.aol.com (mail_out_v38_r6.3.) id h.1c2.34a7a5f6 (16111)
	 for <java-user@lucene.apache.org>; Mon, 31 Oct 2005 15:36:29 -0500 (EST)
Received: from  FWM-R42 (fwm-r42.webmail.aol.com [152.163.181.146]) by air-id12.mx.aol.com (v107.13) with ESMTP id MAILINID123-3eef4366804d1b2; Mon, 31 Oct 2005 15:36:29 -0500
Date: Mon, 31 Oct 2005 15:36:29 -0500
Message-Id: <8C7AC71E7F7A064-9A4-34B01@FWM-R42.sysops.aol.com>
From: msftblows@aol.com
References: <41989D7DF8323B4CB0F7A58F5BA0101905BF09@sydney.extremesoftware.ca>
Received: from 38.117.191.162 by FWM-R42.sysops.aol.com (152.163.181.146) with HTTP (WebMailUI); Mon, 31 Oct 2005 15:36:28 -0500
X-MB-Message-Source: WebUI
X-MB-Message-Type: User
In-Reply-To: <41989D7DF8323B4CB0F7A58F5BA0101905BF09@sydney.extremesoftware.ca>
X-Mailer: AOL WebMail 1.1.0.14204
Subject: Re: Java Indexer + DotLucene + IIS question
Content-Type: multipart/alternative;
 boundary="--------MailBlocks_8C7AC71E7C32C92_9A4_34705_FWM-R42.sysops.aol.com"
MIME-Version: 1.0
To: java-user@lucene.apache.org
X-AOL-IP: 152.163.181.146
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Flag: NO
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

----------MailBlocks_8C7AC71E7C32C92_9A4_34705_FWM-R42.sysops.aol.com
Content-Type: text/plain; charset="us-ascii"

Never seen this product...but in my case I would have the indexer running on one webserver and the second it creates a file, Replistor will take care of getting to all the other machines...but will there be any issues with compressing etc.? I have come across where .cfs files were missing etc. 
 
-----Original Message-----
From: Wesley MacDonald <wes@extremesoftware.ca>
To: java-user@lucene.apache.org
Sent: Mon, 31 Oct 2005 15:09:34 -0500
Subject: RE: Java Indexer + DotLucene + IIS question


Hi,

    You might want to use Replistor in a case like this and only
have one indexer running, let Replistor manage the copies.

Wes.

-----Original Message-----
From: msftblows@aol.com [mailto:msftblows@aol.com] 
Sent: October 31, 2005 2:28 PM
To: java-user@lucene.apache.org
Subject: Java Indexer + DotLucene + IIS question

Hey-
 
I have the following situation, and I am looking for any suggestions...
 
First, here is my current configuration:
 
1. Java Indexer (windows service) created to index data from a SQL
Server database...3 indexes are created
 
2. DotLucene is used on the front-end to search my index files...which
means I am running on Windows Server 2003 and IIS 6.0 ( sorry guys :-P )
 
3. The index location(s) are read from a config file
 
4. I am currently running this site on one webserver (not a farm)
 
The problem is that I am moving to a webfarm shortly...and I am trying
to figure out a way to replicate the index(s) that I am creating. The
indexer indexes based off a bit field in the database, and a seperate
thread runs in the background to optimize the index(s). 
 
Possible Solutions: 
 
1. If I use so me built-in replication or some other third party
solution across the servers I think (tell me if I am wrong please) I may
have an issue since the indexer compresses and writes and something may
go wrong...
 
2. If I use a shared drive (UNC) to another clustered machine (not one
of the webservers), I need to open ports for IIS and the worker process
to talk to it...not a good idea
 
3. If I store on one web-server and have a shared drive from all other
webservers to that one webserver, then I have a problem if that one
webserver goes down for aby reason
 
4. I don't want to store the indexes in a database
 
5. I can get a Index Server to use (like a state server)...but I would
rather not spend the money :-)
 
6. I can use some remoting solution to bypass the UNC idea...but this
requires a coding change (not a problem if this is the best solution)
 
 
What I am looking for is someone who knows of the best solution...or if
someone implemented something different than the above.
 
Thanks!
-Joe

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

----------MailBlocks_8C7AC71E7C32C92_9A4_34705_FWM-R42.sysops.aol.com--

From java-user-return-17237-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 31 20:37:37 2005
Return-Path: <java-user-return-17237-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71415 invoked from network); 31 Oct 2005 20:37:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Oct 2005 20:37:36 -0000
Received: (qmail 95310 invoked by uid 500); 31 Oct 2005 20:37:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95290 invoked by uid 500); 31 Oct 2005 20:37:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95279 invoked by uid 99); 31 Oct 2005 20:37:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 12:37:30 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 12:37:26 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id A5DE713E2006; Mon, 31 Oct 2005 15:37:07 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 7D77413E2006
	for <java-user@lucene.apache.org>; Mon, 31 Oct 2005 15:36:34 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <20051031173635.13061.qmail@web53911.mail.yahoo.com>
References: <20051031173635.13061.qmail@web53911.mail.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <98E33661-D4DE-4F68-9262-3D7C93C12242@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Indexing dates
Date: Mon, 31 Oct 2005 15:36:34 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.8 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Looks like another strange classpath issue.   There most certainly is  
a method with that signature:

$ javap -classpath lucene-1.4.3.jar org.apache.lucene.document.Field
Compiled from "Field.java"
public final class org.apache.lucene.document.Field extends  
java.lang.Object implements java.io.Serializable{
     public void setBoost(float);
     public float getBoost();
     public static final org.apache.lucene.document.Field Keyword 
(java.lang.String, java.lang.String);
     public static final org.apache.lucene.document.Field UnIndexed 
(java.lang.String, java.lang.String);
     public static final org.apache.lucene.document.Field Text 
(java.lang.String, java.lang.String);
     public static final org.apache.lucene.document.Field Keyword 
(java.lang.String, java.util.Date);  <<<<<<<<<
     public static final org.apache.lucene.document.Field Text 
(java.lang.String, java.lang.String, boolean);
     public static final org.apache.lucene.document.Field UnStored 
(java.lang.String, java.lang.String);
     public static final org.apache.lucene.document.Field UnStored 
(java.lang.String, java.lang.String, boolean);
     public static final org.apache.lucene.document.Field Text 
(java.lang.String, java.io.Reader);
     public static final org.apache.lucene.document.Field Text 
(java.lang.String, java.io.Reader, boolean);
     public java.lang.String name();
     public java.lang.String stringValue();
     public java.io.Reader readerValue();
     public org.apache.lucene.document.Field(java.lang.String,  
java.lang.String, boolean, boolean, boolean);
     public org.apache.lucene.document.Field(java.lang.String,  
java.lang.String, boolean, boolean, boolean, boolean);
     org.apache.lucene.document.Field(java.lang.String, java.io.Reader);
     public final boolean isStored();
     public final boolean isIndexed();
     public final boolean isTokenized();
     public final boolean isTermVectorStored();
     public final java.lang.String toString();
}



On 31 Oct 2005, at 12:36, anushri kumar wrote:

> Hi,
>
> I was trying to index dates. I wrote
>
> Document doc = new Document();
> doc.add(Field.Keyword("indexdate",new Date() ));
>
> but while running the program it gave me the following error.
>
> Exception in thread "main" java.lang.NoSuchMethodError:  
> org.apache.lucene.docume
> nt.Field.Keyword(Ljava/lang/String;Ljava/util/Date;)Lorg/apache/ 
> lucene/document/
> Field;
> at lia.handlingtypes.msdoc.TextMiningWordDocHandler.getDocument 
> (TextMini
> ngWordDocHandler.java:40)
> at lia.handlingtypes.framework.ExtensionFileHandler.getDocument 
> (Extensio
> nFileHandler.java:41)
> at lia.handlingtypes.framework.FileIndexer.index(FileIndexer.java:43)
> at lia.handlingtypes.framework.FileIndexer.index(FileIndexer.java:36)
> at lia.handlingtypes.framework.FileIndexer.index(FileIndexer.java:36)
> at lia.handlingtypes.framework.FileIndexer.main(FileIndexer.java:77)
>
> Is there something I'm missing ?
>
> Thanks a lot ,
> Anu
>
>
>
> ---------------------------------
>  Yahoo! FareChase - Search multiple travel sites in one click.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17238-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 31 20:43:07 2005
Return-Path: <java-user-return-17238-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73271 invoked from network); 31 Oct 2005 20:43:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Oct 2005 20:43:07 -0000
Received: (qmail 1154 invoked by uid 500); 31 Oct 2005 20:43:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1122 invoked by uid 500); 31 Oct 2005 20:43:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1106 invoked by uid 99); 31 Oct 2005 20:43:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 12:43:00 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.20.168.25] (HELO uar.i-hypergrid.com) (217.20.168.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 12:42:56 -0800
Received: from [192.168.0.86] (vbychkoviak.jforce [192.168.0.86])
	by uar.i-hypergrid.com (Postfix) with ESMTP id A6A971B699
	for <java-user@lucene.apache.org>; Mon, 31 Oct 2005 22:42:37 +0200 (EET)
Message-ID: <436681BD.2060105@i-hypergrid.com>
Date: Mon, 31 Oct 2005 22:42:37 +0200
From: Volodymyr Bychkoviak <vbychkoviak@i-hypergrid.com>
User-Agent: Thunderbird 1.4.1 (Windows/20051006)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: complex search
References: <4365FEEB.6000108@i-hypergrid.com> <Pine.LNX.4.58.0510311154450.10324@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0510311154450.10324@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

thanks for idea...

Chris Hostetter wrote:
> : I want to implement search which in SQL equivalent looks like
> : select itemId, min(price) from <table>
> :     where <condition on otherFields>
> :     groupBy itemId
>
> : Is it possible to achieve?
>
>
> Not easily.  The most straightforward approach I can think of is to write
> your own HitCollector that builds up a Hash of itemId => price mappings
> for each docId it sees with a positive score, and only overright existing
> mappings if the price it sees is less then the previous price.
>
> To make it efficient, you're going to want to make sure itemId and price
> are both indexed fields, and use the FieldCache.
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>   

-- 
regards,
Volodymyr Bychkoviak


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17239-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 31 20:51:20 2005
Return-Path: <java-user-return-17239-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77649 invoked from network); 31 Oct 2005 20:51:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Oct 2005 20:51:19 -0000
Received: (qmail 20767 invoked by uid 500); 31 Oct 2005 20:51:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20747 invoked by uid 500); 31 Oct 2005 20:51:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20736 invoked by uid 99); 31 Oct 2005 20:51:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 12:51:14 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [216.106.102.23] (HELO extremesoftware.ca) (216.106.102.23)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 12:51:10 -0800
Subject: RE: Java Indexer + DotLucene + IIS question
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Date: Mon, 31 Oct 2005 15:50:46 -0500
Message-ID: <41989D7DF8323B4CB0F7A58F5BA0101905BF0A@sydney.extremesoftware.ca>
Content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MIMEOLE: Produced By Microsoft Exchange V6.5
X-MS-TNEF-Correlator: 
Thread-Topic: Java Indexer + DotLucene + IIS question
Thread-Index: AcXeWtKDiXVDfTg+T3SmdLE6DKWAOwAACZsA
From: "Wesley MacDonald" <wes@extremesoftware.ca>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

Replistor makes a byte to byte copy to the slave machines from the Main
PC.  We use it to replicate a SQLServer=20
Database to a standby PC (it does a byte to byte copy), it also sync's
our web application changes across the web farm.=20

http://www.legato.com/products/replistor/

Wes.

-----Original Message-----
From: msftblows@aol.com [mailto:msftblows@aol.com]=20
Sent: October 31, 2005 3:36 PM
To: java-user@lucene.apache.org
Subject: Re: Java Indexer + DotLucene + IIS question

Never seen this product...but in my case I would have the indexer
running on one webserver and the second it creates a file, Replistor
will take care of getting to all the other machines...but will there be
any issues with compressing etc.? I have come across where .cfs files
were missing etc.=20
=20
-----Original Message-----
From: Wesley MacDonald <wes@extremesoftware.ca>
To: java-user@lucene.apache.org
Sent: Mon, 31 Oct 2005 15:09:34 -0500
Subject: RE: Java Indexer + DotLucene + IIS question


Hi,

    You might want to use Replistor in a case like this and only have
one indexer running, let Replistor manage the copies.

Wes.

-----Original Message-----
From: msftblows@aol.com [mailto:msftblows@aol.com]
Sent: October 31, 2005 2:28 PM
To: java-user@lucene.apache.org
Subject: Java Indexer + DotLucene + IIS question

Hey-
=20
I have the following situation, and I am looking for any suggestions...
=20
First, here is my current configuration:
=20
1. Java Indexer (windows service) created to index data from a SQL
Server database...3 indexes are created
=20
2. DotLucene is used on the front-end to search my index files...which
means I am running on Windows Server 2003 and IIS 6.0 ( sorry guys :-P )
=20
3. The index location(s) are read from a config file
=20
4. I am currently running this site on one webserver (not a farm)
=20
The problem is that I am moving to a webfarm shortly...and I am trying
to figure out a way to replicate the index(s) that I am creating. The
indexer indexes based off a bit field in the database, and a seperate
thread runs in the background to optimize the index(s).=20
=20
Possible Solutions:=20
=20
1. If I use so me built-in replication or some other third party
solution across the servers I think (tell me if I am wrong please) I may
have an issue since the indexer compresses and writes and something may
go wrong...
=20
2. If I use a shared drive (UNC) to another clustered machine (not one
of the webservers), I need to open ports for IIS and the worker process
to talk to it...not a good idea
=20
3. If I store on one web-server and have a shared drive from all other
webservers to that one webserver, then I have a problem if that one
webserver goes down for aby reason
=20
4. I don't want to store the indexes in a database
=20
5. I can get a Index Server to use (like a state server)...but I would
rather not spend the money :-)
=20
6. I can use some remoting solution to bypass the UNC idea...but this
requires a coding change (not a problem if this is the best solution)
=20
=20
What I am looking for is someone who knows of the best solution...or if
someone implemented something different than the above.
=20
Thanks!
-Joe

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-17240-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 31 21:00:13 2005
Return-Path: <java-user-return-17240-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81391 invoked from network); 31 Oct 2005 21:00:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Oct 2005 21:00:13 -0000
Received: (qmail 42184 invoked by uid 500); 31 Oct 2005 20:59:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42142 invoked by uid 500); 31 Oct 2005 20:59:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42120 invoked by uid 99); 31 Oct 2005 20:59:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 12:59:58 -0800
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,MSGID_FROM_MTA_HEADER,NO_REAL_NAME,SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Msftblows@aol.com designates 64.12.138.206 as permitted sender)
Received: from [64.12.138.206] (HELO imo-m16.mx.aol.com) (64.12.138.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 12:59:54 -0800
Received: from Msftblows@aol.com
	by imo-m16.mx.aol.com (mail_out_v38_r6.3.) id h.1da.47ff3754 (15863)
	 for <java-user@lucene.apache.org>; Mon, 31 Oct 2005 15:59:34 -0500 (EST)
Received: from  FWM-R31 (fwm-r31.webmail.aol.com [152.163.181.135]) by air-id06.mx.aol.com (v107.13) with ESMTP id MAILINID62-3df7436685b012e; Mon, 31 Oct 2005 15:59:34 -0500
Date: Mon, 31 Oct 2005 15:59:27 -0500
Message-Id: <8C7AC751D9632A5-13D0-1A434@FWM-R31.sysops.aol.com>
From: msftblows@aol.com
References: <41989D7DF8323B4CB0F7A58F5BA0101905BF0A@sydney.extremesoftware.ca>
Received: from 38.117.191.162 by FWM-R31.sysops.aol.com (152.163.181.135) with HTTP (WebMailUI); Mon, 31 Oct 2005 15:59:27 -0500
X-MB-Message-Source: WebUI
X-MB-Message-Type: User
In-Reply-To: <41989D7DF8323B4CB0F7A58F5BA0101905BF0A@sydney.extremesoftware.ca>
X-Mailer: AOL WebMail 1.1.0.14204
Subject: Re: Java Indexer + DotLucene + IIS question
Content-Type: multipart/alternative;
 boundary="--------MailBlocks_8C7AC751D9632A5_13D0_1A1CE_FWM-R31.sysops.aol.com"
MIME-Version: 1.0
To: java-user@lucene.apache.org
X-AOL-IP: 152.163.181.135
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Flag: NO
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

----------MailBlocks_8C7AC751D9632A5_13D0_1A1CE_FWM-R31.sysops.aol.com
Content-Type: text/plain; charset="us-ascii"

My webmaster sent me this: http://www.lyonware.co.uk/DoubleTake/DoubleTake.htm
 
He has used this...can I assume this would work just as well? 
 
-----Original Message-----
From: Wesley MacDonald <wes@extremesoftware.ca>
To: java-user@lucene.apache.org
Sent: Mon, 31 Oct 2005 15:50:46 -0500
Subject: RE: Java Indexer + DotLucene + IIS question


Hi,

Replistor makes a byte to byte copy to the slave machines from the Main
PC.  We use it to replicate a SQLServer 
Database to a standby PC (it does a byte to byte copy), it also sync's
our web application changes across the web farm. 

http://www.legato.com/products/replistor/

Wes.

-----Original Message-----
From: msftblows@aol.com [mailto:msftblows@aol.com] 
Sent: October 31, 2005 3:36 PM
To: java-user@lucene.apache.org
Subject: Re: Java Indexer + DotLucene + IIS question

Never seen this product...but in my case I would have the indexer
running on one webserver and the second it creates a file, Replistor
will take care of getting to all the other machines...but will there be
any issues with compressing etc.? I have come across where .cfs files
were missing etc. 
 
-----Original Message-----
From: Wesley MacDonald <wes@extremesoftware.ca>
To: java-user@lucene.apache.org
Sent: Mon, 31 Oct 2005 15:09:34 -0500
Subject: RE: Java Indexer + DotLucene + IIS question


Hi,

    You might want to use Replistor in a case like this and only have
one indexer running, let Replistor manage the copies.

Wes.

-----Original Message-----
From: msftblows@aol.com [mailto:msftblows@aol.com]
Sent: October 31, 2005 2:28 PM
To: java-user@lucene.apache.org
Subject: Java Indexer + DotLucene + IIS question

Hey-
 
I have the following situation, and I am looking for any suggestions...
 
First, here is my current configuration:
 
1. Java Indexer (windows service) created to index data from a SQL
Server database...3 indexes are created
 
2. DotLucene is used on the front-end to search my index files...which
means I am running on Windows Server 2003 and IIS 6.0 ( sorry guys :-P )
 
3. The index location(s) are read from a config file
 
4. I am currently running this site on one webserver (not a farm)
 
The problem is that I am moving to a webfarm shortly...and I am trying
to figure out a way to replicate the index(s) that I am creating. The
indexer indexes based off a bit field in the database, and a seperate
thread runs in the background to optimize the index(s). 
 
Possible Solutions: 
 
1. If I use so me built-in replication or some other third party
solution across the servers I think (tell me if I am wrong please) I may
have an issue since the indexer compresses and writes and something may
go wrong...
 
2. If I use a shared drive (UNC) to another clustered machine (not one
of the webservers), I need to open ports for IIS and the worker process
to talk to it...not a good idea
 
3. If I store on one web-server and have a shared drive from all other
webservers to that one webserver, then I have a problem if that one
webserver goes down for aby reason
 
4. I don't want to store the indexes in a database
 
5. I can get a Index Server to use (like a state server)...but I would
rather not spend the money :-)
 
6. I can use some remoting solution to bypass the UNC idea...but this
requires a coding change (not a problem if this is the best solution)
 
 
What I am looking for is someone who knows of the best solution...or if
someone implemented something different than the above.
 
Thanks!
-Joe

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

----------MailBlocks_8C7AC751D9632A5_13D0_1A1CE_FWM-R31.sysops.aol.com--

From java-user-return-17241-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 31 21:06:21 2005
Return-Path: <java-user-return-17241-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83975 invoked from network); 31 Oct 2005 21:06:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Oct 2005 21:06:21 -0000
Received: (qmail 50263 invoked by uid 500); 31 Oct 2005 21:06:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50229 invoked by uid 500); 31 Oct 2005 21:06:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50218 invoked by uid 99); 31 Oct 2005 21:06:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 13:06:12 -0800
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,MSGID_FROM_MTA_HEADER,NO_REAL_NAME,SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Msftblows@aol.com designates 64.12.138.207 as permitted sender)
Received: from [64.12.138.207] (HELO imo-m17.mx.aol.com) (64.12.138.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 13:06:08 -0800
Received: from Msftblows@aol.com
	by imo-m17.mx.aol.com (mail_out_v38_r6.3.) id h.a9.7eee98ed (15974)
	 for <java-user@lucene.apache.org>; Mon, 31 Oct 2005 16:05:45 -0500 (EST)
Received: from  FWM-R31 (fwm-r31.webmail.aol.com [152.163.181.135]) by air-id10.mx.aol.com (v107.13) with ESMTP id MAILINID101-3e664366872733e; Mon, 31 Oct 2005 16:05:43 -0500
Date: Mon, 31 Oct 2005 16:05:43 -0500
Message-Id: <8C7AC75FD8FD950-13D0-1A568@FWM-R31.sysops.aol.com>
From: msftblows@aol.com
References: <41989D7DF8323B4CB0F7A58F5BA0101905BF0A@sydney.extremesoftware.ca> <8C7AC751D9632A5-13D0-1A434@FWM-R31.sysops.aol.com>
Received: from 38.117.191.162 by FWM-R31.sysops.aol.com (152.163.181.135) with HTTP (WebMailUI); Mon, 31 Oct 2005 16:05:42 -0500
X-MB-Message-Source: WebUI
X-MB-Message-Type: User
In-Reply-To: <8C7AC751D9632A5-13D0-1A434@FWM-R31.sysops.aol.com>
X-Mailer: AOL WebMail 1.1.0.14204
Subject: Re: Java Indexer + DotLucene + IIS question
Content-Type: multipart/alternative;
 boundary="--------MailBlocks_8C7AC75FCE69213_13D0_1A310_FWM-R31.sysops.aol.com"
MIME-Version: 1.0
To: java-user@lucene.apache.org
X-AOL-IP: 152.163.181.135
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Flag: NO
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

----------MailBlocks_8C7AC75FCE69213_13D0_1A310_FWM-R31.sysops.aol.com
Content-Type: text/plain; charset="us-ascii"

My mistake...he sent this: http://www.nsisoftware.com/ 
 
-----Original Message-----
From: msftblows@aol.com
To: java-user@lucene.apache.org
Sent: Mon, 31 Oct 2005 15:59:27 -0500
Subject: Re: Java Indexer + DotLucene + IIS question


My webmaster sent me this: http://www.lyonware.co.uk/DoubleTake/DoubleTake.htm
 
He has used this...can I assume this would work just as well? 
 
-----Original Message-----
From: Wesley MacDonald <wes@extremesoftware.ca>
To: java-user@lucene.apache.org
Sent: Mon, 31 Oct 2005 15:50:46 -0500
Subject: RE: Java Indexer + DotLucene + IIS question


Hi,

Replistor makes a byte to byte copy to the slave machines from the Main
PC.  We use it to replicate a SQLServer 
Database to a standby PC (it does a byte to byte copy), it also sync's
our web application changes across the web farm. 

http://www.legato.com/products/replistor/

Wes.

-----Original Message-----
From: msftblows@aol.com [mailto:msftblows@aol.com] 
Sent: October 31, 2005 3:36 PM
To: java-user@lucene.apache.org
Subject: Re: Java Indexer + DotLucene + IIS question

Never seen this product...but in my case I would have the indexer
running on one webserver and the second it creates a file, Replistor
will take care of getting to all the other machines...but will there be
any issues with compressing etc.? I have come across where .cfs files
were missing etc. 
 
-----Original Message-----
From: Wesley MacDonald <wes@extremesoftware.ca>
To: java-user@lucene.apache.org
Sent: Mon, 31 Oct 2005 15:09:34 -0500
Subject: RE: Java Indexer + DotLucene + IIS question


Hi,

    You might want to use Replistor in a case like this and only have
one indexer running, let Replistor manage the copies.

Wes.

-----Original Message-----
From: msftblows@aol.com [mailto:msftblows@aol.com]
Sent: October 31, 2005 2:28 PM
To: java-user@lucene.apache.org
Subject: Java Indexer + DotLucene + IIS question

Hey-
 
I have the following situation, and I am looking for any suggestions...
 
First, here is my current configuration:
 
1. Java Indexer (windows service) created to index data from a SQL
Server database...3 indexes are created
 
2. DotLucene is used on the front-end to search my index files...which
means I am running on Windows Server 2003 and IIS 6.0 ( sorry guys :-P )
 
3. The index location(s) are read from a config file
 
4. I am currently running this site on one webserver (not a farm)
 
The problem is that I am moving to a webfarm shortly...and I am trying
to figure out a way to replicate the index(s) that I am creating. The
indexer indexes based off a bit field in the database, and a seperate
thread runs in the background to optimize the index(s). 
 
Possible Solutions: 
 
1. If I use so me built-in replication or some other third party
solution across the servers I think (tell me if I am wrong please) I may
have an issue since the indexer compresses and writes and something may
go wrong...
 
2. If I use a shared drive (UNC) to another clustered machine (not one
of the webservers), I need to open ports for IIS and the worker process
to talk to it...not a good idea
 
3. If I store on one web-server and have a shared drive from all other
webservers to that one webserver, then I have a problem if that one
webserver goes down for aby reason
 
4. I don't want to store the indexes in a database
 
5. I can get a Index Server to use (like a state server)...but I would
rather not spend the money :-)
 
6. I can use some remoting solution to bypass the UNC idea...but this
requires a coding change (not a problem if this is the best solution)
 
 
What I am looking for is someone who knows of the best solution...or if
someone implemented something different than the above.
 
Thanks!
-Joe

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

----------MailBlocks_8C7AC75FCE69213_13D0_1A310_FWM-R31.sysops.aol.com--

From java-user-return-17242-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 31 21:26:35 2005
Return-Path: <java-user-return-17242-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95642 invoked from network); 31 Oct 2005 21:26:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Oct 2005 21:26:34 -0000
Received: (qmail 1939 invoked by uid 500); 31 Oct 2005 21:26:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1918 invoked by uid 500); 31 Oct 2005 21:26:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1906 invoked by uid 99); 31 Oct 2005 21:26:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 13:26:28 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.12.12.79] (HELO web86204.mail.ukl.yahoo.com) (217.12.12.79)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 31 Oct 2005 13:26:24 -0800
Received: (qmail 43084 invoked by uid 60001); 31 Oct 2005 21:26:05 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=btinternet.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=lNWMQ+d1I7fJEsZi9fclqVCjRTYS3gqB2JeiQNfIdegxVAn3Mr4y8GKyyXie0P6ef3y1j20exCKVoltZy3iMsk7UM80JBqLCFeQr1sP1x3cNbd4tTBNgIPeZ7mF0C30O+VpLH3WvK5cO7zXmNzQj2qsXUOFT8P1BMNz06+uajV4=  ;
Message-ID: <20051031212605.43082.qmail@web86204.mail.ukl.yahoo.com>
Received: from [193.63.235.72] by web86204.mail.ukl.yahoo.com via HTTP; Mon, 31 Oct 2005 21:26:05 GMT
Date: Mon, 31 Oct 2005 21:26:05 +0000 (GMT)
From: MALCOLM CLARK <malcyclark@btinternet.com>
Subject: Re: Lucene and Sax
To: java-user@lucene.apache.org
In-Reply-To: <43657E40.8050206@syr.edu>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1959035266-1130793965=:42048"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1959035266-1130793965=:42048
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Grant,
Thanks for your help with the problem I was experiencing. I split it all down and realised the problem was the location of the IndexWriting(It was not in the correct place within the SAX processing) and also becuase of some poor error handling on my part. 
kind thanks,
Malcolm


 
--0-1959035266-1130793965=:42048--

From java-user-return-17243-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 31 21:28:47 2005
Return-Path: <java-user-return-17243-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97269 invoked from network); 31 Oct 2005 21:28:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Oct 2005 21:28:47 -0000
Received: (qmail 7594 invoked by uid 500); 31 Oct 2005 21:28:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7552 invoked by uid 500); 31 Oct 2005 21:28:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7475 invoked by uid 99); 31 Oct 2005 21:28:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 13:28:39 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.12.12.80] (HELO web86205.mail.ukl.yahoo.com) (217.12.12.80)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 31 Oct 2005 13:28:33 -0800
Received: (qmail 49286 invoked by uid 60001); 31 Oct 2005 21:28:15 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=btinternet.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=pbcZITR7X7+7ccPxkMjHjjDWFAH4+tXmbbGklz5i6NNqwieWhrHUuSvYleX7jsuULlUXIv4DJ5eSLc50qf3bVMClB6pGQ6aW0oW84aQriUsYSsDSPKWV4aJgQvWjttEPFJJ+/EXqGIbln3+0TZKpmmnus5s4Z93Xj1Yx/SsvEOY=  ;
Message-ID: <20051031212815.49284.qmail@web86205.mail.ukl.yahoo.com>
Received: from [193.63.235.72] by web86205.mail.ukl.yahoo.com via HTTP; Mon, 31 Oct 2005 21:28:15 GMT
Date: Mon, 31 Oct 2005 21:28:15 +0000 (GMT)
From: MALCOLM CLARK <malcyclark@btinternet.com>
Subject: Re: Lucene and SAX
To: java-user@lucene.apache.org
In-Reply-To: <9db64b53afdaa7c2524bb8983fb4e05a@gan.no>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1189898009-1130794095=:49167"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1189898009-1130794095=:49167
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit


Grant,

 

Thanks for your tips.I have considered DOM processing but it seemed to take a hell of a long time to process all the documents(12,125).


--0-1189898009-1130794095=:49167--

From java-user-return-17244-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 31 21:30:00 2005
Return-Path: <java-user-return-17244-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97866 invoked from network); 31 Oct 2005 21:29:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Oct 2005 21:29:59 -0000
Received: (qmail 9855 invoked by uid 500); 31 Oct 2005 21:29:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9833 invoked by uid 500); 31 Oct 2005 21:29:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9822 invoked by uid 99); 31 Oct 2005 21:29:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 13:29:53 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.12.12.82] (HELO web86207.mail.ukl.yahoo.com) (217.12.12.82)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 31 Oct 2005 13:29:49 -0800
Received: (qmail 14861 invoked by uid 60001); 31 Oct 2005 21:29:31 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=btinternet.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=5UZemQQnpV0jV4XJs4RendTr/OaCzckWhdAjqjAVJYY+bYsdnVK6IOURL6K7ZkhAmRoofi9Lw2Mnpb65ncgUiT5su3uSv9261EDMO1QTpoWkhDQiSzoc/ullRvOdQFQ2Sctmdfrl7gM01v4BJGkkr6hH/6uz9uMq+l0UJsVzrzM=  ;
Message-ID: <20051031212931.14859.qmail@web86207.mail.ukl.yahoo.com>
Received: from [193.63.235.72] by web86207.mail.ukl.yahoo.com via HTTP; Mon, 31 Oct 2005 21:29:31 GMT
Date: Mon, 31 Oct 2005 21:29:31 +0000 (GMT)
From: MALCOLM CLARK <malcyclark@btinternet.com>
Subject: Re: Lucene and Sax
To: java-user@lucene.apache.org
In-Reply-To: <20051031212605.43082.qmail@web86204.mail.ukl.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1057880436-1130794171=:13982"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1057880436-1130794171=:13982
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit




Karl,

 

Thanks for your tips.I have considered DOM processing but it seemed to take a hell of a long time to process all the documents(12,125).

 

Malcolm Clark


--0-1057880436-1130794171=:13982--

From java-user-return-17245-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Nov 01 01:41:32 2005
Return-Path: <java-user-return-17245-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 522 invoked from network); 1 Nov 2005 01:41:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Nov 2005 01:41:31 -0000
Received: (qmail 96115 invoked by uid 500); 1 Nov 2005 01:41:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96087 invoked by uid 500); 1 Nov 2005 01:41:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96076 invoked by uid 99); 1 Nov 2005 01:41:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 17:41:25 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [216.106.102.23] (HELO extremesoftware.ca) (216.106.102.23)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Oct 2005 17:41:19 -0800
Subject: RE: Java Indexer + DotLucene + IIS question
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Date: Mon, 31 Oct 2005 20:40:55 -0500
Message-ID: <41989D7DF8323B4CB0F7A58F5BA0101905BF0C@sydney.extremesoftware.ca>
Content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MIMEOLE: Produced By Microsoft Exchange V6.5
X-MS-TNEF-Correlator: 
Thread-Topic: Java Indexer + DotLucene + IIS question
Thread-Index: AcXeXur8FbEr+12GSry7vdO4Ph9OnQAJTKMw
From: "Wesley MacDonald" <wes@extremesoftware.ca>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I think it would.=20

Wes.

-----Original Message-----
From: msftblows@aol.com [mailto:msftblows@aol.com]=20
Sent: October 31, 2005 4:06 PM
To: java-user@lucene.apache.org
Subject: Re: Java Indexer + DotLucene + IIS question

My mistake...he sent this: http://www.nsisoftware.com/=20
=20
-----Original Message-----
From: msftblows@aol.com
To: java-user@lucene.apache.org
Sent: Mon, 31 Oct 2005 15:59:27 -0500
Subject: Re: Java Indexer + DotLucene + IIS question


My webmaster sent me this:
http://www.lyonware.co.uk/DoubleTake/DoubleTake.htm
=20
He has used this...can I assume this would work just as well?=20
=20
-----Original Message-----
From: Wesley MacDonald <wes@extremesoftware.ca>
To: java-user@lucene.apache.org
Sent: Mon, 31 Oct 2005 15:50:46 -0500
Subject: RE: Java Indexer + DotLucene + IIS question


Hi,

Replistor makes a byte to byte copy to the slave machines from the Main
PC.  We use it to replicate a SQLServer Database to a standby PC (it
does a byte to byte copy), it also sync's our web application changes
across the web farm.=20

http://www.legato.com/products/replistor/

Wes.

-----Original Message-----
From: msftblows@aol.com [mailto:msftblows@aol.com]
Sent: October 31, 2005 3:36 PM
To: java-user@lucene.apache.org
Subject: Re: Java Indexer + DotLucene + IIS question

Never seen this product...but in my case I would have the indexer
running on one webserver and the second it creates a file, Replistor
will take care of getting to all the other machines...but will there be
any issues with compressing etc.? I have come across where .cfs files
were missing etc.=20
=20
-----Original Message-----
From: Wesley MacDonald <wes@extremesoftware.ca>
To: java-user@lucene.apache.org
Sent: Mon, 31 Oct 2005 15:09:34 -0500
Subject: RE: Java Indexer + DotLucene + IIS question


Hi,

    You might want to use Replistor in a case like this and only have
one indexer running, let Replistor manage the copies.

Wes.

-----Original Message-----
From: msftblows@aol.com [mailto:msftblows@aol.com]
Sent: October 31, 2005 2:28 PM
To: java-user@lucene.apache.org
Subject: Java Indexer + DotLucene + IIS question

Hey-
=20
I have the following situation, and I am looking for any suggestions...
=20
First, here is my current configuration:
=20
1. Java Indexer (windows service) created to index data from a SQL
Server database...3 indexes are created
=20
2. DotLucene is used on the front-end to search my index files...which
means I am running on Windows Server 2003 and IIS 6.0 ( sorry guys :-P )
=20
3. The index location(s) are read from a config file
=20
4. I am currently running this site on one webserver (not a farm)
=20
The problem is that I am moving to a webfarm shortly...and I am trying
to figure out a way to replicate the index(s) that I am creating. The
indexer indexes based off a bit field in the database, and a seperate
thread runs in the background to optimize the index(s).=20
=20
Possible Solutions:=20
=20
1. If I use so me built-in replication or some other third party
solution across the servers I think (tell me if I am wrong please) I may
have an issue since the indexer compresses and writes and something may
go wrong...
=20
2. If I use a shared drive (UNC) to another clustered machine (not one
of the webservers), I need to open ports for IIS and the worker process
to talk to it...not a good idea
=20
3. If I store on one web-server and have a shared drive from all other
webservers to that one webserver, then I have a problem if that one
webserver goes down for aby reason
=20
4. I don't want to store the indexes in a database
=20
5. I can get a Index Server to use (like a state server)...but I would
rather not spend the money :-)
=20
6. I can use some remoting solution to bypass the UNC idea...but this
requires a coding change (not a problem if this is the best solution)
=20
=20
What I am looking for is someone who knows of the best solution...or if
someone implemented something different than the above.
=20
Thanks!
-Joe

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


