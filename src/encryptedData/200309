From boian.gabriel@ssi-schaefer.ro  Mon Sep  1 07:24:49 2003
Return-Path: <boian.gabriel@ssi-schaefer.ro>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63747 invoked from network); 1 Sep 2003 07:24:49 -0000
Received: from unknown (HELO main.schaefer.ro) (213.157.174.12)
  by daedalus.apache.org with SMTP; 1 Sep 2003 07:24:49 -0000
Received: from cpq29 ([192.168.222.179])
	by main.schaefer.ro (8.12.8/8.12.5) with SMTP id h8177DSo028217
	for <lucene-user@jakarta.apache.org>; Mon, 1 Sep 2003 10:07:19 +0300
Message-ID: <005001c37057$adc0df70$b3dea8c0@cpq29>
From: "Gabriel Boian" <boian.gabriel@ssi-schaefer.ro>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Refine the result set
Date: Mon, 1 Sep 2003 10:07:09 +0300
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_004D_01C37070.CE496370"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-RAVMilter-Version: 8.4.2(snapshot 20021217) (main.schaefer.ro)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_004D_01C37070.CE496370
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,

I use Lucene to search on my documentation using a web interface.=20
After I perform a search I want to refine the result set using a new =
query. How can I do that?

Thanks.

Gabriel Boian
------=_NextPart_000_004D_01C37070.CE496370--


From pbecker@dstc.edu.au  Tue Sep  2 12:41:58 2003
Return-Path: <pbecker@dstc.edu.au>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39312 invoked from network); 2 Sep 2003 12:41:58 -0000
Received: from unknown (HELO mail.iinet.net.au) (203.59.3.45)
  by daedalus.apache.org with SMTP; 2 Sep 2003 12:41:58 -0000
Received: (qmail 607 invoked from network); 2 Sep 2003 11:53:50 -0000
Received: from unknown (HELO dstc.edu.au) (203.217.81.141)
  by mail.iinet.net.au with SMTP; 2 Sep 2003 11:53:50 -0000
Message-ID: <3F548456.8040803@dstc.edu.au>
Date: Tue, 02 Sep 2003 21:51:50 +1000
From: Peter Becker <pbecker@dstc.edu.au>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: ANN: Docco 0.2 / contribution offer
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi all,

we finally finished the 0.2 release of our little personal document 
management tool based on Lucene:

  http://tockit.sourceforge.net/docco/index.html

This might be interesting for some readers of this list since its source 
contains some infrastructure for document handlers and index management. 
The document handlers are written with a very simple API, which just 
asks the implementation to fill a structure with the information 
retrieved from a URL. It is similar to the Ant task in the Lucene 
sandbox, but it separates the information collection and the actual 
indexing, i.e. all the decisions what should be stored and what shouldn't.

The program comes with implementations for plain text, HTML (based on 
Swing), XML (based on JAXP) and Open Office (using ZipStreams/SAX). We 
wrote plugins for POI, PDFbox and Multivalent. The latter is 
unfortunately a wild hack since Multivalent is the worst Java code I've 
seen. Literally. Bad C written in Java. The tool would be nice to use, 
but catching exceptions in little helper classes to do a System.exit is 
just insane. And that is just one of the problems -- we had to do some 
bad hacks to fix these issues. The other implementations should be fine, 
although they need some more testing.

The source (including all required libs) of the program is available via 
Sourceforge's CVS:

  http://sourceforge.net/cvs/?group_id=37081

The module in question is called "docco". A current snapshot of only the 
source is here:

  http://tockit.sourceforge.net/docco/source20030902.zip (~100kb)


The relevant packages are:

  org.tockit.docco.documenthandler: the documenthandler interface and 
implementations
  org.tockit.docco.filefilter: some code to pick document handlers via 
file extensions or regexps
  org.tockit.docco.index: the model/static bits of the index management
  org.tockit.docco.indexer: the dynamic aspects of the index management: 
runnable, framework for handlers

The index management is probably not optimal, I strongly suspect that an 
expert could tweak it. But the structure should be ok.

We would be happy to contribute this code to the Lucene sandbox if there 
is interest. Or to turn it into a project of its own, we don't think it 
should be hidden in our more specific program. It should be easy to 
merge it with the Ant task and we are happy to give a hand if wanted. 
Adding some documentation would be easy, too -- at the moment the code 
is still more for ourself, but it should be very readable by itself. We 
require JDK 1.4, but this can be reduced by moving some more document 
handlers into plugins.

Anyone interested in joining into maintaining this code? Any feedback is 
welcome.

Cheers,
   Peter


From otis_gospodnetic@yahoo.com  Tue Sep  2 12:47:08 2003
Return-Path: <otis_gospodnetic@yahoo.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52448 invoked from network); 2 Sep 2003 12:47:08 -0000
Received: from unknown (HELO web12705.mail.yahoo.com) (216.136.173.242)
  by daedalus.apache.org with SMTP; 2 Sep 2003 12:47:08 -0000
Message-ID: <20030902124657.90503.qmail@web12705.mail.yahoo.com>
Received: from [194.152.206.107] by web12705.mail.yahoo.com via HTTP; Tue, 02 Sep 2003 05:46:57 PDT
Date: Tue, 2 Sep 2003 05:46:57 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Feature List
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <004701c365b0$b1f46820$0b02a8c0@mother>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Sorry, I don't think there is such a document.  It would be nice to
have it, though.  You could, however, gather a lot of information from
pages like the query syntax, various articles, etc.

Otis

--- Chris Sibert <chrissibert@comcast.net> wrote:
> Is there any document available that lists Lucene's features ? Like
> does it do similarity searches, etc. I've been using Lucene, but I
> don't know what all it can do. 
> 


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

From Gregor.Heinrich@igd.fhg.de  Tue Sep  2 13:01:04 2003
Return-Path: <Gregor.Heinrich@igd.fhg.de>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98538 invoked from network); 2 Sep 2003 13:01:04 -0000
Received: from unknown (HELO igdmail.igd.fhg.de) (146.140.28.14)
  by daedalus.apache.org with SMTP; 2 Sep 2003 13:01:04 -0000
Received: from pcara ([192.168.202.2]) by igdmail.igd.fhg.de
          (Netscape Messaging Server 3.6)  with SMTP id AAA48EA
          for <lucene-user@jakarta.apache.org>;
          Tue, 2 Sep 2003 15:00:10 +0200
Reply-To: <heinrich@igd.fhg.de>
From: "Gregor Heinrich" <Gregor.Heinrich@igd.fhg.de>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Docco 0.2 / contribution offer
Date: Tue, 2 Sep 2003 14:59:50 +0200
Message-ID: <001501c37152$1931d8e0$2501a8c0@pcara>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <3F548456.8040803@dstc.edu.au>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Peter.

Docco is a great tool which I have been using since you posted your first
announcement (version 1.0, that is). Beside the things you mention in you
mail I also generally think it's a great idea to using formal concept
analysis with Lucene. I would be interested to explore the idea also for
more structured data (maybe include fields and even hierarchies).

Apart from this, if I had an idea of the time commitments connected, I would
definitely consider to join.

Best,

Gregor



-----Original Message-----
From: Peter Becker [mailto:pbecker@dstc.edu.au]
Sent: Tuesday, September 02, 2003 1:52 PM
To: Lucene Users List
Subject: ANN: Docco 0.2 / contribution offer


Hi all,

we finally finished the 0.2 release of our little personal document
management tool based on Lucene:

  http://tockit.sourceforge.net/docco/index.html

This might be interesting for some readers of this list since its source
contains some infrastructure for document handlers and index management.
The document handlers are written with a very simple API, which just
asks the implementation to fill a structure with the information
retrieved from a URL. It is similar to the Ant task in the Lucene
sandbox, but it separates the information collection and the actual
indexing, i.e. all the decisions what should be stored and what shouldn't.

The program comes with implementations for plain text, HTML (based on
Swing), XML (based on JAXP) and Open Office (using ZipStreams/SAX). We
wrote plugins for POI, PDFbox and Multivalent. The latter is
unfortunately a wild hack since Multivalent is the worst Java code I've
seen. Literally. Bad C written in Java. The tool would be nice to use,
but catching exceptions in little helper classes to do a System.exit is
just insane. And that is just one of the problems -- we had to do some
bad hacks to fix these issues. The other implementations should be fine,
although they need some more testing.

The source (including all required libs) of the program is available via
Sourceforge's CVS:

  http://sourceforge.net/cvs/?group_id=37081

The module in question is called "docco". A current snapshot of only the
source is here:

  http://tockit.sourceforge.net/docco/source20030902.zip (~100kb)


The relevant packages are:

  org.tockit.docco.documenthandler: the documenthandler interface and
implementations
  org.tockit.docco.filefilter: some code to pick document handlers via
file extensions or regexps
  org.tockit.docco.index: the model/static bits of the index management
  org.tockit.docco.indexer: the dynamic aspects of the index management:
runnable, framework for handlers

The index management is probably not optimal, I strongly suspect that an
expert could tweak it. But the structure should be ok.

We would be happy to contribute this code to the Lucene sandbox if there
is interest. Or to turn it into a project of its own, we don't think it
should be hidden in our more specific program. It should be easy to
merge it with the Ant task and we are happy to give a hand if wanted.
Adding some documentation would be easy, too -- at the moment the code
is still more for ourself, but it should be very readable by itself. We
require JDK 1.4, but this can be reduced by moving some more document
handlers into plugins.

Anyone interested in joining into maintaining this code? Any feedback is
welcome.

Cheers,
   Peter


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



From otis_gospodnetic@yahoo.com  Tue Sep  2 13:50:14 2003
Return-Path: <otis_gospodnetic@yahoo.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21557 invoked from network); 2 Sep 2003 13:50:14 -0000
Received: from unknown (HELO web12704.mail.yahoo.com) (216.136.173.241)
  by daedalus.apache.org with SMTP; 2 Sep 2003 13:50:14 -0000
Message-ID: <20030902135007.27431.qmail@web12704.mail.yahoo.com>
Received: from [194.152.206.107] by web12704.mail.yahoo.com via HTTP; Tue, 02 Sep 2003 06:50:07 PDT
Date: Tue, 2 Sep 2003 06:50:07 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: TermVector again (Re: Luke v 0.2 - Lucene Index Browser)
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <3F396412.3050703@getopt.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


--- Andrzej Bialecki <ab@getopt.org> wrote:
> Andrzej Bialecki wrote:
> > Julien Nioche wrote:
> >  
> 
> >> [- and almost impossible : recompose the unstored fields of a
> document]
> > 
> > 
> > It's not impossible, just time-consuming - all information (except
> the 
> > parts removed by analyzer) is already there. This functionality has
> a 
> > high "cool-ness" factor, which makes it very tempting... :-)
> 
> I had a look at the current Lucene API, and I realized that this is a
> 
> very costly operation now. Now, if we had a TermVector support that
> was 
> mentioned several times on this list, things would be very
> different...
> 
> Does anyone know what is the status / plans regarding this?

As far as I know it is not on the to-do list of any of the more active
Lucene developers.  In other words, it is waiting for some external
contributor with more time and with required knowledge.

Code that worked with one of the 1.2 versions was posted to the list a
looong time ago by Dmitry.

Otis


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

From Gregor.Heinrich@igd.fhg.de  Tue Sep  2 13:51:22 2003
Return-Path: <Gregor.Heinrich@igd.fhg.de>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26545 invoked from network); 2 Sep 2003 13:51:22 -0000
Received: from unknown (HELO igdmail.igd.fhg.de) (146.140.28.14)
  by daedalus.apache.org with SMTP; 2 Sep 2003 13:51:22 -0000
Received: from pcara ([192.168.202.3]) by igdmail.igd.fhg.de
          (Netscape Messaging Server 3.6)  with SMTP id AAA169
          for <lucene-user@jakarta.apache.org>;
          Tue, 2 Sep 2003 15:50:55 +0200
Reply-To: <heinrich@igd.fhg.de>
From: "Gregor Heinrich" <Gregor.Heinrich@igd.fhg.de>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: Powerpoint filter.
Date: Tue, 2 Sep 2003 15:50:35 +0200
Message-ID: <001601c37159$301cfce0$2501a8c0@pcara>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <3F548456.8040803@dstc.edu.au>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi all,

this is partly connected to Docco's new filters. Is there anyone interested
in a Powerpoint filter? This format seems to have been kept incredibly
obscure by out big friends in Redmond. I did only find a shareware tool
called CZ-PPT2TXT, but open source would i.m.h.o. be a bit more usable in
our community...

Cheers,

Gregor


From becampbel@hotmail.com  Tue Sep  2 15:06:20 2003
Return-Path: <becampbel@hotmail.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46494 invoked from network); 2 Sep 2003 15:06:20 -0000
Received: from unknown (HELO hotmail.com) (65.54.245.101)
  by daedalus.apache.org with SMTP; 2 Sep 2003 15:06:20 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Tue, 2 Sep 2003 08:04:54 -0700
Received: from 156.63.133.8 by by1fd.bay1.hotmail.msn.com with HTTP;
	Tue, 02 Sep 2003 15:04:54 GMT
X-Originating-IP: [156.63.133.8]
X-Originating-Email: [becampbel@hotmail.com]
From: "Brian Campbell" <becampbel@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: Re: Keyword search with space and wildcard
Date: Tue, 02 Sep 2003 15:04:54 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <BAY1-F101E9TuHZncJf0004d471@hotmail.com>
X-OriginalArrivalTime: 02 Sep 2003 15:04:54.0587 (UTC) FILETIME=[910EC0B0:01C37163]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Great.  Is there an example anywhere on how I might be able to build such a 
Query?  QueryParser isn't really all that simple since it's built with 
JavaCC.

What might be ideal for me is if I can continue to use the highlevel 
interface to build the main query (ie use it to parse my query string and 
return me some kind of Query - BooleanQuery, TermQuery, etc) and then build 
a WildcardQuery by hand and "combine" the two together?  For example, is it 
as simple as calling Query.combine() to combine the two?  Is there a better 
way?  Is there a documented example like this?  Thanks!

-Brian




>
>This can be done, AFAIK.
>
>This is one thing that many people seem unaware of: you don't HAVE to use
>QueryParser to build queries. In your case it seems like you should be able
>to construct query you want if you either by-pass QueryParser, or create
>a dummy analyzer (one that does no tokenization but returns all input as
>one token).
>

_________________________________________________________________
Enter for your chance to IM with Bon Jovi, Seal, Bow Wow, or Mary J Blige 
using MSN Messenger http://entertainment.msn.com/imastar


From Eric.Isakson@sas.com  Tue Sep  2 15:43:31 2003
Return-Path: <Eric.Isakson@sas.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49357 invoked from network); 2 Sep 2003 15:43:31 -0000
Received: from unknown (HELO merc65.na.sas.com) (149.173.6.60)
  by daedalus.apache.org with SMTP; 2 Sep 2003 15:43:31 -0000
Received: from merc12.na.sas.com ([10.19.11.9]) by 10.19.11.13 with InterScan Messaging Security Suite; Tue, 02 Sep 2003 11:43:27 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.0.6410.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Keyword search with space and wildcard
Date: Tue, 2 Sep 2003 11:43:27 -0400
Message-ID: <187D6D956106D84E9D8B280F6458FE1402F3DBFD@merc12.na.sas.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Keyword search with space and wildcard
Thread-Index: AcNxY8oqb1hGc+vwRDGoOoVi0XnDiAAAInzg
From: "Eric Isakson" <Eric.Isakson@sas.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Not sure about documented examples, but I often find the unit tests (in =
src/test of lucene's CVS) to be very useful  for examples but I didn't =
see any for what you are looking for.

Basically, query parser builds up a vector of BooleanClause objects then =
loops over those on a BooleanQuery object calling add(BooleanClause). I =
agree JavaCC isn't really simple to follow, but there is a lot of plain =
java in there that does the parts you are interested in and if you build =
the .java file and ignore the token parsing stuff, you can look at in =
your favorite java IDE.

What you can do is cast the query you get from QueryParser to a =
BooleanQuery (that is the only type of Query that QueryParser will =
return) then create your WildcardQuery or any other queries you need =
that you didn't get in the query string and add them as clauses to the =
BooleanQuery using add(Query query, boolean required, boolean =
prohibited).

I don't know how query combine works (never used it), but the javadoc =
comment leads me to believe it is not what you are looking for and a bit =
of poking around in the sources gives me the same impression.

Eric=20

-----Original Message-----
From: Brian Campbell [mailto:becampbel@hotmail.com]=20
Sent: Tuesday, September 02, 2003 11:05 AM
To: lucene-user@jakarta.apache.org
Subject: Re: Keyword search with space and wildcard


Great.  Is there an example anywhere on how I might be able to build =
such a=20
Query?  QueryParser isn't really all that simple since it's built with=20
JavaCC.

What might be ideal for me is if I can continue to use the highlevel=20
interface to build the main query (ie use it to parse my query string =
and=20
return me some kind of Query - BooleanQuery, TermQuery, etc) and then =
build=20
a WildcardQuery by hand and "combine" the two together?  For example, is =
it=20
as simple as calling Query.combine() to combine the two?  Is there a =
better=20
way?  Is there a documented example like this?  Thanks!

-Brian




>
>This can be done, AFAIK.
>
>This is one thing that many people seem unaware of: you don't HAVE to=20
>use QueryParser to build queries. In your case it seems like you should =

>be able to construct query you want if you either by-pass QueryParser,=20
>or create a dummy analyzer (one that does no tokenization but returns=20
>all input as one token).
>

_________________________________________________________________
Enter for your chance to IM with Bon Jovi, Seal, Bow Wow, or Mary J =
Blige=20
using MSN Messenger http://entertainment.msn.com/imastar


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From joseph.paulsen@verizon.net  Tue Sep  2 20:09:12 2003
Return-Path: <joseph.paulsen@verizon.net>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45676 invoked from network); 2 Sep 2003 20:09:12 -0000
Received: from unknown (HELO pop017.verizon.net) (206.46.170.210)
  by daedalus.apache.org with SMTP; 2 Sep 2003 20:09:12 -0000
Received: from s0023819896 ([129.44.10.48]) by pop017.verizon.net
          (InterMail vM.5.01.05.33 201-253-122-126-133-20030313) with ESMTP
          id <20030902200904.ONAX27671.pop017.verizon.net@s0023819896>
          for <lucene-user@jakarta.apache.org>;
          Tue, 2 Sep 2003 15:09:04 -0500
Message-ID: <004401c3718e$56920250$6501a8c0@s0023819896>
From: "Joe Paulsen" <joseph.paulsen@verizon.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: One direction phrase searches
Date: Tue, 2 Sep 2003 16:11:04 -0400
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0041_01C3716C.CF1E9340"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Authentication-Info: Submitted using SMTP AUTH at pop017.verizon.net from [129.44.10.48] at Tue, 2 Sep 2003 15:09:03 -0500
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0041_01C3716C.CF1E9340
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

It seems when I do a search such as "covered wagon" ~5 or the like,
the systems disregards the order of my terms.  I.E., it will find =
covered
within 5 of wagon and it will also find wagon within 5 of covered.

Is there anyway to make the system respond only to the order of the
terms as entered in the query?

Joe Paulsen
------=_NextPart_000_0041_01C3716C.CF1E9340--



From pbecker@dstc.edu.au  Tue Sep  2 23:38:24 2003
Return-Path: <pbecker@dstc.edu.au>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85050 invoked from network); 2 Sep 2003 23:38:24 -0000
Received: from unknown (HELO mail.iinet.net.au) (203.59.3.46)
  by daedalus.apache.org with SMTP; 2 Sep 2003 23:38:24 -0000
Received: (qmail 8847 invoked from network); 2 Sep 2003 23:38:28 -0000
Received: from unknown (HELO dstc.edu.au) (203.217.81.141)
  by mail.iinet.net.au with SMTP; 2 Sep 2003 23:38:28 -0000
Message-ID: <3F55297B.5010805@dstc.edu.au>
Date: Wed, 03 Sep 2003 09:36:27 +1000
From: Peter Becker <pbecker@dstc.edu.au>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Docco 0.2 / contribution offer
References: <001501c37152$1931d8e0$2501a8c0@pcara>
In-Reply-To: <001501c37152$1931d8e0$2501a8c0@pcara>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Gregor,

Gregor Heinrich wrote:

>Hi Peter.
>
>Docco is a great tool which I have been using since you posted your first
>announcement (version 1.0, that is). Beside the things you mention in you
>
No, it must be 0.1 :-) It wasn't too bad for a first hack, though *g*

>mail I also generally think it's a great idea to using formal concept
>analysis with Lucene. I would be interested to explore the idea also for
>more structured data (maybe include fields and even hierarchies).
>
Sounds interesting. We will be busy with other things for a month or 
two, afterwards we will probably do some experiments with extending 
Docco towards LSA and similar technologies (main idea is guessing good 
keywords to refine the query -- which is a bit different if you are 
happy with overspecified queries). If you have some particular ideas we 
can discuss them on tockit-general@lists.sf.net. Combining the current 
Docco approach with conceptual scaling could be interesting -- if that 
is what you mean. It would be a bit off-topic here, so let's put this on 
our list.

The question for this list was more if someone is interested in turning 
the indexing and index managements bits into a separate project. I'd 
love to see it used by a broader audience and I think it would make 
getting started with Lucene a bit easier for some people -- at least if 
we add a little JavaDoc in form of package.htmls and class descriptions. 
And there are not that many classes, so that shouldn't be too much pain.

>
>Apart from this, if I had an idea of the time commitments connected, I would
>definitely consider to join.
>
Hey -- it is Open Source and voluntary. You commit as much time as you 
want ;-) Not that that couldn't be a problem -- at least I tend to try 
too many things at once.

If you are interested in more Docco-specific things, just post your 
ideas on our mailing list. That's usually a good start to get involved. 
And I am academic enough to always find the time to discuss things -- 
doing them is the hard bit :-) Once I understand what exactly you want 
to do I can probably give you a reasonable estimate of the effort involved.

Cheers,
  Peter


>Best,
>
>Gregor
>
>
>
>-----Original Message-----
>From: Peter Becker [mailto:pbecker@dstc.edu.au]
>Sent: Tuesday, September 02, 2003 1:52 PM
>To: Lucene Users List
>Subject: ANN: Docco 0.2 / contribution offer
>
>
>Hi all,
>
>we finally finished the 0.2 release of our little personal document
>management tool based on Lucene:
>
>  http://tockit.sourceforge.net/docco/index.html
>
>This might be interesting for some readers of this list since its source
>contains some infrastructure for document handlers and index management.
>The document handlers are written with a very simple API, which just
>asks the implementation to fill a structure with the information
>retrieved from a URL. It is similar to the Ant task in the Lucene
>sandbox, but it separates the information collection and the actual
>indexing, i.e. all the decisions what should be stored and what shouldn't.
>
>The program comes with implementations for plain text, HTML (based on
>Swing), XML (based on JAXP) and Open Office (using ZipStreams/SAX). We
>wrote plugins for POI, PDFbox and Multivalent. The latter is
>unfortunately a wild hack since Multivalent is the worst Java code I've
>seen. Literally. Bad C written in Java. The tool would be nice to use,
>but catching exceptions in little helper classes to do a System.exit is
>just insane. And that is just one of the problems -- we had to do some
>bad hacks to fix these issues. The other implementations should be fine,
>although they need some more testing.
>
>The source (including all required libs) of the program is available via
>Sourceforge's CVS:
>
>  http://sourceforge.net/cvs/?group_id=37081
>
>The module in question is called "docco". A current snapshot of only the
>source is here:
>
>  http://tockit.sourceforge.net/docco/source20030902.zip (~100kb)
>
>
>The relevant packages are:
>
>  org.tockit.docco.documenthandler: the documenthandler interface and
>implementations
>  org.tockit.docco.filefilter: some code to pick document handlers via
>file extensions or regexps
>  org.tockit.docco.index: the model/static bits of the index management
>  org.tockit.docco.indexer: the dynamic aspects of the index management:
>runnable, framework for handlers
>
>The index management is probably not optimal, I strongly suspect that an
>expert could tweak it. But the structure should be ok.
>
>We would be happy to contribute this code to the Lucene sandbox if there
>is interest. Or to turn it into a project of its own, we don't think it
>should be hidden in our more specific program. It should be easy to
>merge it with the Ant task and we are happy to give a hand if wanted.
>Adding some documentation would be easy, too -- at the moment the code
>is still more for ourself, but it should be very readable by itself. We
>require JDK 1.4, but this can be reduced by moving some more document
>handlers into plugins.
>
>Anyone interested in joining into maintaining this code? Any feedback is
>welcome.
>
>Cheers,
>   Peter
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>  
>



From erik@ehatchersolutions.com  Wed Sep  3 00:44:50 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41045 invoked from network); 3 Sep 2003 00:44:50 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.72)
  by daedalus.apache.org with SMTP; 3 Sep 2003 00:44:50 -0000
Received: (cpmta 315 invoked from network); 2 Sep 2003 17:44:54 -0700
Received: from 68.170.78.210 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.72) with SMTP; 2 Sep 2003 17:44:54 -0700
X-Sent: 3 Sep 2003 00:44:54 GMT
Date: Tue, 2 Sep 2003 20:44:54 -0400
Subject: Re: One direction phrase searches
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <004401c3718e$56920250$6501a8c0@s0023819896>
Message-Id: <D575D36A-DDA7-11D7-B31A-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Tuesday, September 2, 2003, at 04:11  PM, Joe Paulsen wrote:
> It seems when I do a search such as "covered wagon" ~5 or the like,
> the systems disregards the order of my terms.  I.E., it will find 
> covered
> within 5 of wagon and it will also find wagon within 5 of covered.

I wanted to see this in action myself, so I coded up a small unit test:

     public void testOrderDoesntMatter() throws Exception {
         Directory directory = new RAMDirectory();
         IndexWriter writer = new IndexWriter(directory, new 
WhitespaceAnalyzer(), true);
         Document doc = new Document();
         doc.add(Field.Text("field", "one two"));
         writer.addDocument(doc);
         writer.optimize();
         writer.close();

         IndexSearcher searcher = new IndexSearcher(directory);
         PhraseQuery query = new PhraseQuery();
         query.setSlop(5);
         query.add(new Term("field", "two"));
         query.add(new Term("field", "one"));
         Hits hits = searcher.search(query);
         assertEquals(1, hits.length());
         searcher.close();
     }

Notice that I'm searching for "two one"~5 (yet indexed "one two") and 
it found 1 hit.



> Is there anyway to make the system respond only to the order of the
> terms as entered in the query?
>
> Joe Paulsen


From erik@ehatchersolutions.com  Wed Sep  3 00:45:23 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42751 invoked from network); 3 Sep 2003 00:45:23 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.72)
  by daedalus.apache.org with SMTP; 3 Sep 2003 00:45:23 -0000
Received: (cpmta 448 invoked from network); 2 Sep 2003 17:45:06 -0700
Received: from 68.170.78.210 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.72) with SMTP; 2 Sep 2003 17:45:06 -0700
X-Sent: 3 Sep 2003 00:45:06 GMT
Date: Tue, 2 Sep 2003 19:39:51 -0400
Subject: Re: One direction phrase searches
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <004401c3718e$56920250$6501a8c0@s0023819896>
Message-Id: <BF8D2C24-DD9E-11D7-9672-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Tuesday, September 2, 2003, at 04:11  PM, Joe Paulsen wrote:
> It seems when I do a search such as "covered wagon" ~5 or the like,
> the systems disregards the order of my terms.  I.E., it will find 
> covered
> within 5 of wagon and it will also find wagon within 5 of covered.

I wanted to see this in action myself, so I coded up a small unit test:

     public void testOrderDoesntMatter() throws Exception {
         Directory directory = new RAMDirectory();
         IndexWriter writer = new IndexWriter(directory, new 
WhitespaceAnalyzer(), true);
         Document doc = new Document();
         doc.add(Field.Text("field", "one two"));
         writer.addDocument(doc);
         writer.optimize();
         writer.close();

         IndexSearcher searcher = new IndexSearcher(directory);
         PhraseQuery query = new PhraseQuery();
         query.setSlop(5);
         query.add(new Term("field", "two"));
         query.add(new Term("field", "one"));
         Hits hits = searcher.search(query);
         assertEquals(1, hits.length());
         searcher.close();
     }

Notice that I'm searching for "two one"~5 (yet indexed "one two") and 
it found 1 hit.

And then, like a typical programmer, I looked at the Javadocs *after* 
coding :) and found this on PhraseQuery:

   /** Sets the number of other words permitted between words in query 
phrase.
     If zero, then this is an exact phrase search.  For larger values 
this works
     like a <code>WITHIN</code> or <code>NEAR</code> operator.

     <p>The slop is in fact an edit-distance, where the units correspond 
to
     moves of terms in the query phrase out of position.  For example, 
to switch
     the order of two words requires two moves (the first move places 
the words
     atop one another), so to permit re-orderings of phrases, the slop 
must be
     at least two.

     <p>More exact matches are scored higher than sloppier matches, thus 
search
     results are sorted by exactness.

     <p>The slop is zero by default, requiring exact matches.*/
   public void setSlop(int s) { slop = s; }

So what you observe is the correct documented behavior.

> Is there anyway to make the system respond only to the order of the
> terms as entered in the query?

I'm sure there is a way to make an OrderedPhraseQuery, although I'll 
need to do some more homework myself to craft such a thing.  All the 
information to do such a thing is available, although maybe it wouldn't 
be as performant as PhraseQuery (just a guess, no facts to back that up 
yet).

	Erik


From scott@atlassian.com  Wed Sep  3 01:10:29 2003
Return-Path: <scott@atlassian.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93571 invoked from network); 3 Sep 2003 01:10:29 -0000
Received: from unknown (HELO zeus.atlassian.com) (209.61.131.223)
  by daedalus.apache.org with SMTP; 3 Sep 2003 01:10:29 -0000
Received: (from sfarquhar@localhost)
	by zeus.atlassian.com (8.11.6/8.11.6) id h831AXb04983
	for lucene-user@jakarta.apache.org; Tue, 2 Sep 2003 20:10:33 -0500
X-Authentication-Warning: zeus.atlassian.com: sfarquhar set sender to scott@atlassian.com using -f
Date: Tue, 2 Sep 2003 20:10:33 -0500
From: Scott Farquhar <scott@atlassian.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Default queries to using And
Message-ID: <20030902201033.L2054@zeus.atlassian.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5i
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Is it possible to get QueryParser.parse() to parse queries defaulting to
'AND' rather than 'OR'?

Currently if you search for 'A B' that is the same as 'A OR B'.  What I
would like is to default to 'A AND B'.

Apologies for the simple question.  I'm guessing the answer is probably more complex
(like Lucene returning A+B, then A, then B)?  I couldn't find anything in
the FAQ about this.

Cheers,
Scott

From erik@ehatchersolutions.com  Wed Sep  3 01:23:57 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20341 invoked from network); 3 Sep 2003 01:23:57 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.72)
  by daedalus.apache.org with SMTP; 3 Sep 2003 01:23:57 -0000
Received: (cpmta 27663 invoked from network); 2 Sep 2003 18:24:04 -0700
Received: from 68.170.78.210 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.72) with SMTP; 2 Sep 2003 18:24:04 -0700
X-Sent: 3 Sep 2003 01:24:04 GMT
Date: Tue, 2 Sep 2003 21:24:04 -0400
Subject: Re: Default queries to using And
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20030902201033.L2054@zeus.atlassian.com>
Message-Id: <4E570D3E-DDAD-11D7-B31A-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Look at QueryParser.setOperator() (perhaps it was added after your 
version?)

	Erik


On Tuesday, September 2, 2003, at 09:10  PM, Scott Farquhar wrote:

> Is it possible to get QueryParser.parse() to parse queries defaulting 
> to
> 'AND' rather than 'OR'?
>
> Currently if you search for 'A B' that is the same as 'A OR B'.  What I
> would like is to default to 'A AND B'.
>
> Apologies for the simple question.  I'm guessing the answer is 
> probably more complex
> (like Lucene returning A+B, then A, then B)?  I couldn't find anything 
> in
> the FAQ about this.
>
> Cheers,
> Scott
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From scott@atlassian.com  Wed Sep  3 01:49:38 2003
Return-Path: <scott@atlassian.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80735 invoked from network); 3 Sep 2003 01:49:38 -0000
Received: from unknown (HELO zeus.atlassian.com) (209.61.131.223)
  by daedalus.apache.org with SMTP; 3 Sep 2003 01:49:38 -0000
Received: (from sfarquhar@localhost)
	by zeus.atlassian.com (8.11.6/8.11.6) id h831nlt05587
	for lucene-user@jakarta.apache.org; Tue, 2 Sep 2003 20:49:47 -0500
X-Authentication-Warning: zeus.atlassian.com: sfarquhar set sender to scott@atlassian.com using -f
Date: Tue, 2 Sep 2003 20:49:47 -0500
From: Scott Farquhar <scott@atlassian.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Default queries to using And
Message-ID: <20030902204947.R2054@zeus.atlassian.com>
References: <20030902201033.L2054@zeus.atlassian.com> <4E570D3E-DDAD-11D7-B31A-000393A564E6@ehatchersolutions.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5i
In-Reply-To: <4E570D3E-DDAD-11D7-B31A-000393A564E6@ehatchersolutions.com>; from erik@ehatchersolutions.com on Tue, Sep 02, 2003 at 09:24:04PM -0400
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

This is what I'm looking for.  Too easy.

Cheers,
Scott

On Tue, Sep 02, 2003 at 09:24:04PM -0400, Erik Hatcher wrote:
> Look at QueryParser.setOperator() (perhaps it was added after your 
> version?)
> 
> 	Erik
> 
> 
> On Tuesday, September 2, 2003, at 09:10  PM, Scott Farquhar wrote:
> 
> > Is it possible to get QueryParser.parse() to parse queries defaulting 
> > to
> > 'AND' rather than 'OR'?
> >
> > Currently if you search for 'A B' that is the same as 'A OR B'.  What I
> > would like is to default to 'A AND B'.
> >
> > Apologies for the simple question.  I'm guessing the answer is 
> > probably more complex
> > (like Lucene returning A+B, then A, then B)?  I couldn't find anything 
> > in
> > the FAQ about this.
> >
> > Cheers,
> > Scott
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org

From tatu@hypermall.net  Wed Sep  3 03:00:09 2003
Return-Path: <tatu@hypermall.net>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63585 invoked from network); 3 Sep 2003 03:00:09 -0000
Received: from unknown (HELO mz1.forethought.net) (216.241.36.12)
  by daedalus.apache.org with SMTP; 3 Sep 2003 03:00:09 -0000
Received: from j72.denver.dsl.forethought.net ([216.241.38.72] helo=www.doomdark.org)
	by mz1.forethought.net with esmtp (Exim 4.14)
	id 19uNsQ-0001DT-AF
	for lucene-user@jakarta.apache.org; Tue, 02 Sep 2003 21:00:10 -0600
Content-Type: text/plain;
  charset="iso-8859-1"
From: Tatu Saloranta <tatu@hypermall.net>
Reply-To: tatu@hypermall.net
Organization: Linux-users missalie
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Keyword search with space and wildcard
Date: Tue, 2 Sep 2003 21:02:40 -0600
User-Agent: KMail/1.4.3
References: <BAY1-F101E9TuHZncJf0004d471@hotmail.com>
In-Reply-To: <BAY1-F101E9TuHZncJf0004d471@hotmail.com>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200309022102.40496.tatu@hypermall.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Tuesday 02 September 2003 09:04, Brian Campbell wrote:
> Great.  Is there an example anywhere on how I might be able to build such a
> Query?  QueryParser isn't really all that simple since it's built with
> JavaCC.

Well, like Eric mentioned, if you can just ignore JavaCC syntax and look
at embedded Java code, it's not all that complicated (especially you have
done something with yacc/bison, to know how parser generators generally
work)... but granted at first looks bit alien. :-)

Now, I haven't tested this, but I would think that just building single Query 
that searches wild card phrase "some th*" in field "my_field", you'd just do:

Query q = new WildcardQuery(new Term("my_field", "some th*"));

and feed that to whichever search object you need. In this particular case you 
could also use PrefixQuery instead; if so, you need strip out the trailing 
"*" (since that's implied when constructing PrefixQuery).

> What might be ideal for me is if I can continue to use the highlevel
> interface to build the main query (ie use it to parse my query string and
> return me some kind of Query - BooleanQuery, TermQuery, etc) and then build
> a WildcardQuery by hand and "combine" the two together?  For example, is it
> as simple as calling Query.combine() to combine the two?  Is there a better
> way?  Is there a documented example like this?  Thanks!

Eric described the method of combining queries that should work as far as I 
could see. If you do not want to rely on QueryParer to return BooleanQuery, 
you can also just build your your BooleanQuery, and wrap sub-queries as 
BooleanClauses. That's bit more work but should work as well.

Good luck and let us know if that works,

-+ Tatu +-


From erik@ehatchersolutions.com  Wed Sep  3 03:46:28 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76541 invoked from network); 3 Sep 2003 03:46:28 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 3 Sep 2003 03:46:28 -0000
Received: (cpmta 630 invoked from network); 2 Sep 2003 20:39:55 -0700
Received: from 68.170.78.210 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 2 Sep 2003 20:39:55 -0700
X-Sent: 3 Sep 2003 03:39:55 GMT
Date: Tue, 2 Sep 2003 23:39:55 -0400
Subject: Re: One direction phrase searches
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <BF8D2C24-DD9E-11D7-9672-000393A564E6@ehatchersolutions.com>
Message-Id: <487B2D42-DDC0-11D7-8A10-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Because I'm really interested in the guts of Lucene, I dug even 
deeper....

On Tuesday, September 2, 2003, at 07:39  PM, Erik Hatcher wrote:
>> Is there anyway to make the system respond only to the order of the
>> terms as entered in the query?
>
> I'm sure there is a way to make an OrderedPhraseQuery, although I'll 
> need to do some more homework myself to craft such a thing.  All the 
> information to do such a thing is available, although maybe it 
> wouldn't be as performant as PhraseQuery (just a guess, no facts to 
> back that up yet).

PhraseQuery uses a SloppyPhraseScorer, and its phaseFreq method is what 
makes the order not matter.  I'm pretty sure a new OrderedPhraseQuery 
that subclassed PhraseQuery and overrode createWeight and did something 
similar to the SloppyPhraseScorer would do the trick.

	Erik


From chrissibert@comcast.net  Wed Sep  3 04:45:18 2003
Return-Path: <chrissibert@comcast.net>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11978 invoked from network); 3 Sep 2003 04:45:18 -0000
Received: from unknown (HELO sccrmhc12.comcast.net) (204.127.202.56)
  by daedalus.apache.org with SMTP; 3 Sep 2003 04:45:18 -0000
Received: from mother (c-24-129-215-86.se.client2.attbi.com[24.129.215.86](untrusted sender))
          by comcast.net (sccrmhc12) with SMTP
          id <2003090304452401200ojq3ie>; Wed, 3 Sep 2003 04:45:24 +0000
Message-ID: <005001c371d6$31c37920$0b02a8c0@mother>
From: "Chris Sibert" <chrissibert@comcast.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <487B2D42-DDC0-11D7-8A10-000393A564E6@ehatchersolutions.com>
Subject: Lucene features
Date: Wed, 3 Sep 2003 00:45:25 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I am wondering if Lucene is the way to go for my project. I don't know what
other search engines are available out there, and how Lucene stacks up
against them. I am wondering if Lucene has a full set of searching features,
comparable to what I might find in a reasonably priced commercial package.
Anyone with a solid knowledge of Lucene care to make me feel warm and fuzzy
about my decision so far to use Lucene ?


From puffmail@darksleep.com  Wed Sep  3 05:34:48 2003
Return-Path: <puffmail@darksleep.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19409 invoked from network); 3 Sep 2003 05:34:48 -0000
Received: from unknown (HELO darksleep.com) (192.204.202.251)
  by daedalus.apache.org with SMTP; 3 Sep 2003 05:34:48 -0000
Received: by darksleep.com (Postfix, from userid 1009)
	id DFE8C3C935; Wed,  3 Sep 2003 01:34:52 -0400 (EDT)
Date: Wed, 3 Sep 2003 01:34:52 -0400
From: "Steven J. Owens" <puffmail@darksleep.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene features
Message-ID: <20030903053452.GF28984@darksleep.com>
Reply-To: puff@darksleep.com
References: <487B2D42-DDC0-11D7-8A10-000393A564E6@ehatchersolutions.com> <005001c371d6$31c37920$0b02a8c0@mother>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <005001c371d6$31c37920$0b02a8c0@mother>
User-Agent: Mutt/1.4i
Sender: Steven J.Owens <puffmail@darksleep.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Wed, Sep 03, 2003 at 12:45:25AM -0400, Chris Sibert wrote:
> I am wondering if Lucene is the way to go for my project.

     Probably.  Tell us a little about your project.

> I don't know what other search engines are available out there,

     Lucene isn't a search engine _application_, it's a search engine
_API_.  Lucene gives you what you need in order to build the search
engine you want, instead of spending gobs of time trying to figure out
the 10,000 options available for a search engine application, or
trying to warp somebody else's ideas of what you need to meet what you
really need.

> and how Lucene stacks up against them.

     Pretty well, if you're willing to put a (very) little time and
energy into to building the application you need.  I know.  I've done
it.

> I am wondering if Lucene has a full set of searching features,
> comparable to what I might find in a reasonably priced commercial
> package.

     There is no comparison :-).  Lucene is a fundamentally decent
piece of technology.  This puts it head and shoulders above most
commercial packages.

     Specifically, the Lucene search engine API is blindingly fast at
searching and at indexing, and comes with several built-in packages to
provide several of the commonly needed functions (like a web search
engine style query language parser).  

     Additionally, a wide variety of people have been down this road
and done a wide variety of things with Lucene, so you're likely to be
able to find examples, in the Lucene sandbox or in the lucene-user
archives, of how to do whatever it is you want to do.

> Anyone with a solid knowledge of Lucene care to make me feel warm
> and fuzzy about my decision so far to use Lucene ?

     Tell us a little more about your project requirements and I'll
tell you enough specifics to give you a warm and fuzzy feeling.
Lucene isn't perfect for _everything_ (and anybody who claims that a
given technology *is* perfect for _everything_ is lying).  But it's
quite good for a number of things.

-- 
Steven J. Owens
puff@darksleep.com

"I'm going to make broad, sweeping generalizations and strong,
 declarative statements, because otherwise I'll be here all night and
 this document will be four times longer and much less fun to read.
 Take it all with a grain of salt." - Me at http://darksleep.com


From becampbel@hotmail.com  Wed Sep  3 13:39:07 2003
Return-Path: <becampbel@hotmail.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78414 invoked from network); 3 Sep 2003 13:39:07 -0000
Received: from unknown (HELO hotmail.com) (65.54.245.73)
  by daedalus.apache.org with SMTP; 3 Sep 2003 13:39:07 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Wed, 3 Sep 2003 06:36:23 -0700
Received: from 156.63.133.8 by by1fd.bay1.hotmail.msn.com with HTTP;
	Wed, 03 Sep 2003 13:36:23 GMT
X-Originating-IP: [156.63.133.8]
X-Originating-Email: [becampbel@hotmail.com]
From: "Brian Campbell" <becampbel@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: Re: Keyword search with space and wildcard
Date: Wed, 03 Sep 2003 13:36:23 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <BAY1-F73Oh1pMuBeZVo00024323@hotmail.com>
X-OriginalArrivalTime: 03 Sep 2003 13:36:23.0682 (UTC) FILETIME=[5DECB620:01C37220]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Unfortunately for me, I have done a good bit of yacc in the past.  Don't 
really wanna have to look in the class unless is absolutely necessary!   :-)

>
>Well, like Eric mentioned, if you can just ignore JavaCC syntax and look
>at embedded Java code, it's not all that complicated (especially you have
>done something with yacc/bison, to know how parser generators generally
>work)... but granted at first looks bit alien. :-)
>


I did a couple of basic tests using the WildcardQuery like below and it 
seemed to work.  I have not tried an example using the PrefixQuery and I 
doubt that I will.


>Now, I haven't tested this, but I would think that just building single 
>Query
>that searches wild card phrase "some th*" in field "my_field", you'd just 
>do:
>
>Query q = new WildcardQuery(new Term("my_field", "some th*"));
>
>and feed that to whichever search object you need. In this particular case 
>you
>could also use PrefixQuery instead; if so, you need strip out the trailing
>"*" (since that's implied when constructing PrefixQuery).
>


Because of the nature of my application I'm guaranteed to have at least one 
search term but the majority of the time it will be more then one.  So in my 
particular case, I'll almost always get a BooleanQuery back from 
QueryParser.  I'm currently working on an implementation of Eric's 
suggestion.


>
>Eric described the method of combining queries that should work as far as I
>could see. If you do not want to rely on QueryParer to return BooleanQuery,
>you can also just build your your BooleanQuery, and wrap sub-queries as
>BooleanClauses. That's bit more work but should work as well.
>

Thanks to everyone for the help.  It is much appreciated.

-Brian

_________________________________________________________________
MSN 8: Get 6 months for $9.95/month. http://join.msn.com/?page=dept/dialup


From chrissibert@comcast.net  Wed Sep  3 18:42:43 2003
Return-Path: <chrissibert@comcast.net>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69999 invoked from network); 3 Sep 2003 18:42:43 -0000
Received: from unknown (HELO sccrmhc13.comcast.net) (204.127.202.64)
  by daedalus.apache.org with SMTP; 3 Sep 2003 18:42:43 -0000
Received: from mother (c-24-129-215-86.se.client2.attbi.com[24.129.215.86](untrusted sender))
          by comcast.net (sccrmhc13) with SMTP
          id <20030903184244016006dja8e>; Wed, 3 Sep 2003 18:42:44 +0000
Message-ID: <002201c3724b$2c4997c0$0b02a8c0@mother>
From: "Chris Sibert" <chrissibert@comcast.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <487B2D42-DDC0-11D7-8A10-000393A564E6@ehatchersolutions.com> <005001c371d6$31c37920$0b02a8c0@mother> <20030903053452.GF28984@darksleep.com>
Subject: Re: Lucene features 
Date: Wed, 3 Sep 2003 14:42:48 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Lucene Users List <lucene-user@jakarta.apache.org>

> > I am wondering if Lucene is the way to go for my project.
>
>      Probably.  Tell us a little about your project.

It's pretty basic. I'm just indexing 4 large text files, ranging up to 100MB
in size. They don't ever change, and are on a CD-ROM. Each file contains a
bunch of small documents. I just create one index for all 4 of them. These
documents are for an association that I belong to - they contain a history
of the association's documents - and my application allows you to search
them.

They are actually currently indexed by an application called 'Sonar', by
Virginia Systems. But I REALLY didn't like using their user interface -
blech - so I decided to
write a new interface for my own use. But Sonar costs some real bucks to be
able to develop against their search API, so I found Lucene, and decided to
go with it.

Here are the search features that 'Sonar' has :
  Boolean Searching
  Proximity Searching
  Wild Card Searching
  Field/Block Searching
  Relevancy Ranking / Date Ranking
  List of Occurrences in Context

  Phonetic Searching
  Synonyms/Concepts
  Relational Searching
  Associated Words
  Drill Down Search Narrowing

I think that Lucene has all the features in the first group. How does it
stack up against the second group ?

I'm writing the whole thing in Swing, which has been time consuming, and so
have invested quite a bit of time into this project. But I'm seeing the end
of the tunnel, and want to make sure that I'm going down the right path
before I spend too much more time on it.


----- Original Message ----- 
From: "Steven J. Owens" <puffmail@darksleep.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, September 03, 2003 1:34 AM
Subject: Re: Lucene features


> On Wed, Sep 03, 2003 at 12:45:25AM -0400, Chris Sibert wrote:
> > I am wondering if Lucene is the way to go for my project.
>
>      Probably.  Tell us a little about your project.
>
> > I don't know what other search engines are available out there,
>
>      Lucene isn't a search engine _application_, it's a search engine
> _API_.  Lucene gives you what you need in order to build the search
> engine you want, instead of spending gobs of time trying to figure out
> the 10,000 options available for a search engine application, or
> trying to warp somebody else's ideas of what you need to meet what you
> really need.
>
> > and how Lucene stacks up against them.
>
>      Pretty well, if you're willing to put a (very) little time and
> energy into to building the application you need.  I know.  I've done
> it.
>
> > I am wondering if Lucene has a full set of searching features,
> > comparable to what I might find in a reasonably priced commercial
> > package.
>
>      There is no comparison :-).  Lucene is a fundamentally decent
> piece of technology.  This puts it head and shoulders above most
> commercial packages.
>
>      Specifically, the Lucene search engine API is blindingly fast at
> searching and at indexing, and comes with several built-in packages to
> provide several of the commonly needed functions (like a web search
> engine style query language parser).
>
>      Additionally, a wide variety of people have been down this road
> and done a wide variety of things with Lucene, so you're likely to be
> able to find examples, in the Lucene sandbox or in the lucene-user
> archives, of how to do whatever it is you want to do.
>
> > Anyone with a solid knowledge of Lucene care to make me feel warm
> > and fuzzy about my decision so far to use Lucene ?
>
>      Tell us a little more about your project requirements and I'll
> tell you enough specifics to give you a warm and fuzzy feeling.
> Lucene isn't perfect for _everything_ (and anybody who claims that a
> given technology *is* perfect for _everything_ is lying).  But it's
> quite good for a number of things.
>
> -- 
> Steven J. Owens
> puff@darksleep.com
>
> "I'm going to make broad, sweeping generalizations and strong,
>  declarative statements, because otherwise I'll be here all night and
>  this document will be four times longer and much less fun to read.
>  Take it all with a grain of salt." - Me at http://darksleep.com
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


From burton@newsmonster.org  Thu Sep  4 06:12:25 2003
Return-Path: <burton@newsmonster.org>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57533 invoked from network); 4 Sep 2003 06:12:25 -0000
Received: from unknown (HELO mail.speakeasy.net) (216.254.0.207)
  by daedalus.apache.org with SMTP; 4 Sep 2003 06:12:25 -0000
Received: (qmail 13007 invoked from network); 4 Sep 2003 06:12:33 -0000
Received: from unknown (HELO newsmonster.org) (burton@[66.93.132.237])
          (envelope-sender <burton@newsmonster.org>)
          by mail7.speakeasy.net (qmail-ldap-1.03) with AES256-SHA encrypted SMTP
          for <lucene-user@jakarta.apache.org>; 4 Sep 2003 06:12:33 -0000
Message-ID: <3F56B19E.3010301@newsmonster.org>
Date: Wed, 03 Sep 2003 20:29:34 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: doc number as integer
References: <000001c36cc8$67ce53e0$eb00a8c0@NEIL>
In-Reply-To: <000001c36cc8$67ce53e0$eb00a8c0@NEIL>
X-Enigmail-Version: 0.76.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Neil wrote:

>Hmm, that's really interesting: hadn't thought of that.  I'll search the
>archives if I get a chance.
>  
>
This problem can be solved by using multiple indexes...  One problem is 
that a result set can only return 2^32 documents though but this is 
totally acceptable for me.

I wonder what the JVM implementation is like for Itanium... Can this 
allocate transactional 64bit longs?

If to it might make sense to distribute a lucene-long.jar with all the 
document handles being longs instead of ints.  If I'm correct it is just 
a recompile...

Kevin

-- 
Help Support NewsMonster Development!  Purchase NewsMonster PRO!

    http://www.newsmonster.org/download-pro.html

Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM - sfburtonator,  Web - http://www.peerfear.org/
GPG fingerprint: 4D20 40A0 C734 307E C7B4  DCAA 0303 3AC5 BD9D 7C4D
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster



From puffmail@darksleep.com  Thu Sep  4 07:02:17 2003
Return-Path: <puffmail@darksleep.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54072 invoked from network); 4 Sep 2003 07:02:17 -0000
Received: from unknown (HELO darksleep.com) (192.204.202.251)
  by daedalus.apache.org with SMTP; 4 Sep 2003 07:02:17 -0000
Received: by darksleep.com (Postfix, from userid 1009)
	id 337A73C939; Thu,  4 Sep 2003 03:02:27 -0400 (EDT)
Date: Thu, 4 Sep 2003 03:02:27 -0400
From: "Steven J. Owens" <puffmail@darksleep.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene features
Message-ID: <20030904070227.GH28984@darksleep.com>
Reply-To: puff@darksleep.com
References: <487B2D42-DDC0-11D7-8A10-000393A564E6@ehatchersolutions.com> <005001c371d6$31c37920$0b02a8c0@mother> <20030903053452.GF28984@darksleep.com> <002201c3724b$2c4997c0$0b02a8c0@mother>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <002201c3724b$2c4997c0$0b02a8c0@mother>
User-Agent: Mutt/1.4i
Sender: Steven J.Owens <puffmail@darksleep.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Wed, Sep 03, 2003 at 02:42:48PM -0400, Chris Sibert wrote:
> Lucene Users List <lucene-user@jakarta.apache.org>
> > > I am wondering if Lucene is the way to go for my project.
> >      Probably.  Tell us a little about your project.
> 
> It's pretty basic. I'm just indexing 4 large text files, ranging up to 100MB
> in size. They don't ever change, and are on a CD-ROM. Each file contains a
> bunch of small documents. I just create one index for all 4 of them. These
> documents are for an association that I belong to - they contain a history
> of the association's documents - and my application allows you to search
> them.

     Well, aside from your concerns about the second list, Lucene
seems perfect for your needs.  You'd parse apart the four big files
into a bunch of small documents, the parse those small documents and
create lucene Documents, containing Fields, and add them to the index.
 
> They are actually currently indexed by an application called
> 'Sonar', by Virginia Systems. But I REALLY didn't like using their
> user interface - blech - so I decided to write a new interface for
> my own use. But Sonar costs some real bucks to be able to develop
> against their search API, so I found Lucene, and decided to go with
> it.
> 
> Here are the search features that 'Sonar' has :
>   Boolean Searching
>   Proximity Searching
>   Wild Card Searching
>   Field/Block Searching

     I'm not sure what Field/Block means.  Boolean, Proximity and
WildCard, are pretty typical in Lucene searches.  You should probably
take a look at the Query Parser syntax docs:

     http://jakarta.apache.org/lucene/docs/queryparsersyntax.html


>   Relevancy Ranking / Date Ranking

     Lucene search results are typically ranked by relevance, and you
can tweak the search to adjust this (there's a fair bit of discussion
of this in the lucene-user archives, a good keyword to look for is
"slop" and "boost").

     Sorting output by date might take some finesse.  I haven't played
with sorting by date, but I'd expect to handle that by directly
instantiating a QueryTerm to indicate the date issues.

>   List of Occurrences in Context

     I assume here that you mean displaying the results with a little
snapshot of the text around it.  There have been discussions about how
best to do this (often focused around highlighting the search terms in
the displayed text) on the lucene-users list.  Check the list archive.
 
>   Phonetic Searching

     I'd guess you need to build this one yourself, perhaps by using a
soundex algorithm when indexing the original data files.

>   Synonyms/Concepts

     Likewise... you'd need to come up with some sort of ontology of
synonyms and concepts, then parse the fields you're indexing and
generate a synonym/concept field that you'd add to the lucene
Document.

>   Relational Searching
>   Associated Words
>   Drill Down Search Narrowing

     I'm not sure what these three mean.

> I think that Lucene has all the features in the first group. How does it
> stack up against the second group ?

     I'm afraid I haven't been too helpful here.  Perhaps if you
clarify what the above mean, folks can post about how to implement it
in Lucene.

> I'm writing the whole thing in Swing, which has been time consuming,
> and so have invested quite a bit of time into this project. But I'm
> seeing the end of the tunnel, and want to make sure that I'm going
> down the right path before I spend too much more time on it.

     It sounds like you ought to at least seriously consider using
Lucene, if you can find or implement equivalent features, or decide
you can live without them.

-- 
Steven J. Owens
puff@darksleep.com

"I'm going to make broad, sweeping generalizations and strong,
 declarative statements, because otherwise I'll be here all night and
 this document will be four times longer and much less fun to read.
 Take it all with a grain of salt." - Me at http://darksleep.com


From otis_gospodnetic@yahoo.com  Thu Sep  4 11:25:07 2003
Return-Path: <otis_gospodnetic@yahoo.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83641 invoked from network); 4 Sep 2003 11:25:07 -0000
Received: from unknown (HELO web12705.mail.yahoo.com) (216.136.173.242)
  by daedalus.apache.org with SMTP; 4 Sep 2003 11:25:07 -0000
Message-ID: <20030904111823.43075.qmail@web12705.mail.yahoo.com>
Received: from [194.152.206.72] by web12705.mail.yahoo.com via HTTP; Thu, 04 Sep 2003 04:18:23 PDT
Date: Thu, 4 Sep 2003 04:18:23 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Lucene app to index Java code
To: lucene-user@jakarta.apache.org
Cc: burton@newsmonster.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello,

Has anyone written an application that uses Lucene to index Java code,
either from the source .java files, or compiled .class files?

I need to create a searchable index for Java code, so that I can use
that index to check if classes or methods with certain functionality
have already been written.  This is an effort to remove code
duplication and do more code re-use.  If this application can also
index Javadocs, even better!

I think I heard of somebody doing this already.  Kevin Burton?
This is something that would fit nicely in Erik's Ant IndexTask in
Lucene Sandbox), I think.

Thank you,
Otis


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

From petite_abeille@mac.com  Thu Sep  4 11:53:10 2003
Return-Path: <petite_abeille@mac.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41648 invoked from network); 4 Sep 2003 11:53:10 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.89)
  by daedalus.apache.org with SMTP; 4 Sep 2003 11:53:10 -0000
Received: from mac.com (smtpin07-en2 [10.13.10.152])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id h84Br49D016742
	for <lucene-user@jakarta.apache.org>; Thu, 4 Sep 2003 04:53:04 -0700 (PDT)
Received: from mac.com (adsl-62-167-125-170.adslplus.ch [62.167.125.170])
	(authenticated bits=0)
	by mac.com (Xserve/8.12.9/MantshX 2.0) with ESMTP id h84Br0wq012817
	for <lucene-user@jakarta.apache.org>; Thu, 4 Sep 2003 04:53:02 -0700 (PDT)
Date: Thu, 4 Sep 2003 13:54:03 +0200
Subject: Re: Lucene app to index Java code
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: petite_abeille <petite_abeille@mac.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20030904111823.43075.qmail@web12705.mail.yahoo.com>
Message-Id: <7A7E7BCF-DECE-11D7-9B3C-000393760B7E@mac.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Otis,

On Thursday, Sep 4, 2003, Otis Gospodnetic wrote:

> Has anyone written an application that uses Lucene to index Java code,
> either from the source .java files, or compiled .class files?

If you are talking about my ultra secret project "Zapata: Coding 
Mexican Style", then yes ;)

But... it uses runtime information to reach its devious ends and is 
more like a documentation tool than anything else...

Anyway, this is how it goes:

Given a set of binary jar files it builds an object graph of the 
bytecode: packages, classes, methods and so on. Complete with 
interdependencies and other handy informations. The bytecode is also 
run through a decompiler and pretty printed to normalize the source. 
Code segments are attached and indexed alongside their owners (class or 
method). All this fully indexed, searchable and cross referenced.

This is built upon the same engine used by ZOE, so the end result is 
very much along the lines of what ZOE does for email, but for code 
instead... fun, fun, fun ;)

Cheers,

PA.


From otis_gospodnetic@yahoo.com  Thu Sep  4 12:35:38 2003
Return-Path: <otis_gospodnetic@yahoo.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56909 invoked from network); 4 Sep 2003 12:35:38 -0000
Received: from unknown (HELO web12701.mail.yahoo.com) (216.136.173.238)
  by daedalus.apache.org with SMTP; 4 Sep 2003 12:35:38 -0000
Message-ID: <20030904123530.33776.qmail@web12701.mail.yahoo.com>
Received: from [194.152.206.72] by web12701.mail.yahoo.com via HTTP; Thu, 04 Sep 2003 05:35:30 PDT
Date: Thu, 4 Sep 2003 05:35:30 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Lucene app to index Java code
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <7A7E7BCF-DECE-11D7-9B3C-000393760B7E@mac.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

What you describe sounds interesting, but I was thinking more along the
lines of this:

http://www.peerfear.org/rss/permalink/2003/07/23/LuceneForSourceManagement/

An application that I could use to find out whether I already have a
'getStudents' or 'getStudents*' method somewhere in the source code,
for instance, before I start writing it.  As the code base grows
larger, and as the team that works with it becomes bigger, this tools
becomes more and more valuable.
If this application could also index Javadocs, so that I can search for
methods or classes that mention +student* +(database OR db) +update,
that would be even better.

Has anyone done this?
Kevin Burton mentioned something similar to what I described above, at
that URL, but it looks like he didn't make his application available.

Thanks,
Otis

--- petite_abeille <petite_abeille@mac.com> wrote:
> Hi Otis,
> 
> On Thursday, Sep 4, 2003, Otis Gospodnetic wrote:
> 
> > Has anyone written an application that uses Lucene to index Java
> code,
> > either from the source .java files, or compiled .class files?
> 
> If you are talking about my ultra secret project "Zapata: Coding 
> Mexican Style", then yes ;)
> 
> But... it uses runtime information to reach its devious ends and is 
> more like a documentation tool than anything else...
> 
> Anyway, this is how it goes:
> 
> Given a set of binary jar files it builds an object graph of the 
> bytecode: packages, classes, methods and so on. Complete with 
> interdependencies and other handy informations. The bytecode is also 
> run through a decompiler and pretty printed to normalize the source. 
> Code segments are attached and indexed alongside their owners (class
> or 
> method). All this fully indexed, searchable and cross referenced.
> 
> This is built upon the same engine used by ZOE, so the end result is 
> very much along the lines of what ZOE does for email, but for code 
> instead... fun, fun, fun ;)
> 
> Cheers,
> 
> PA.
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

From erik@ehatchersolutions.com  Thu Sep  4 13:04:00 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51374 invoked from network); 4 Sep 2003 13:04:00 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.66)
  by daedalus.apache.org with SMTP; 4 Sep 2003 13:04:00 -0000
Received: (cpmta 11939 invoked from network); 4 Sep 2003 06:03:03 -0700
Received: from 128.143.184.138 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.66) with SMTP; 4 Sep 2003 06:03:03 -0700
X-Sent: 4 Sep 2003 13:03:03 GMT
Date: Thu, 4 Sep 2003 09:03:05 -0400
Subject: Re: Lucene app to index Java code
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20030904111823.43075.qmail@web12705.mail.yahoo.com>
Message-Id: <1F94B0C2-DED8-11D7-ABA5-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

A couple of thoughts on this:

- Eclipse uses Lucene for its code indexing/searching (I learned this 
at the OSCON Keynote by Eclipse folks).  Perhaps looking at how Eclipse 
does its thing would be useful even if not the solution.

- XDoclet could be used to sweep through Java code and build a text/XML 
file as richly as you'd like from the information there (complete with 
JavaDoc tags, which Zapata will miss :)), and then run Lucene on the 
generated files.  On a related note, the XDoclet2 architecture would 
streamline this even further by eliminating the middle textual 
representation (QDox/XJavadoc reads Java as a "meta data provider" and 
then a Lucene "plugin" indexes things).  It could be done without the 
intermediate text representation even in XDoclet 1.2, but it would 
require coding a custom subtask and be slightly out of the norm for 
XDoclet subtasks (but would work just fine).

- My <index> task could be used, but it would be better to use 
something that built a complete object-graph of all the source code you 
want indexed, so that it can deal with base classes, inherited javadoc 
tags, and other such interactions between classes you might want to 
capture.

	Erik

On Thursday, September 4, 2003, at 07:18  AM, Otis Gospodnetic wrote:

> Hello,
>
> Has anyone written an application that uses Lucene to index Java code,
> either from the source .java files, or compiled .class files?
>
> I need to create a searchable index for Java code, so that I can use
> that index to check if classes or methods with certain functionality
> have already been written.  This is an effort to remove code
> duplication and do more code re-use.  If this application can also
> index Javadocs, even better!
>
> I think I heard of somebody doing this already.  Kevin Burton?
> This is something that would fit nicely in Erik's Ant IndexTask in
> Lucene Sandbox), I think.
>
> Thank you,
> Otis
>
>
> __________________________________
> Do you Yahoo!?
> Yahoo! SiteBuilder - Free, easy-to-use web site design software
> http://sitebuilder.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From petite_abeille@mac.com  Thu Sep  4 13:18:49 2003
Return-Path: <petite_abeille@mac.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2349 invoked from network); 4 Sep 2003 13:18:49 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.89)
  by daedalus.apache.org with SMTP; 4 Sep 2003 13:18:49 -0000
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id h84DIj9D020689
	for <lucene-user@jakarta.apache.org>; Thu, 4 Sep 2003 06:18:45 -0700 (PDT)
Received: from mac.com (adsl-62-167-118-53.adslplus.ch [62.167.118.53])
	(authenticated bits=0)
	by mac.com (Xserve/8.12.9/MantshX 2.0) with ESMTP id h84DIglc008886
	for <lucene-user@jakarta.apache.org>; Thu, 4 Sep 2003 06:18:43 -0700 (PDT)
Date: Thu, 4 Sep 2003 15:19:43 +0200
Subject: Re: Lucene app to index Java code
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: petite_abeille <petite_abeille@mac.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <1F94B0C2-DED8-11D7-ABA5-000393A564E6@ehatchersolutions.com>
Message-Id: <7234B34E-DEDA-11D7-92B3-000393760B7E@mac.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Erik,

On Thursday, Sep 4, 2003, at 15:03 Europe/Zurich, Erik Hatcher wrote:

> - XDoclet could be used to sweep through Java code and build a 
> text/XML file as richly as you'd like from the information there 
> (complete with JavaDoc tags, which Zapata will miss :)),

Correct. This happen to be on purpose :) Does XDoclet build an 
"intertwingled" object graph of your code along the way? Performing a 
plain search on a code base is pretty trivial... what seems to be more 
interesting would be to put that in context.

Zapata does something along the line of what MagicHat does for 
Objective-C:

http://homepage.mac.com/petite_abeille/MagicHat/

But from the sound of what Otis is saying this is not what you guys are 
looking for... back to the pampa then...

Cheers,

PA.


From erik@ehatchersolutions.com  Thu Sep  4 14:52:36 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43964 invoked from network); 4 Sep 2003 14:52:36 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 4 Sep 2003 14:52:36 -0000
Received: (cpmta 14186 invoked from network); 4 Sep 2003 07:45:56 -0700
Received: from 128.143.184.138 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 4 Sep 2003 07:45:56 -0700
X-Sent: 4 Sep 2003 14:45:56 GMT
Date: Thu, 4 Sep 2003 10:45:57 -0400
Subject: Re: Lucene app to index Java code
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <7234B34E-DEDA-11D7-92B3-000393760B7E@mac.com>
Message-Id: <7E7A530C-DEE6-11D7-ABA5-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Thursday, September 4, 2003, at 09:19  AM, petite_abeille wrote:
>> - XDoclet could be used to sweep through Java code and build a 
>> text/XML file as richly as you'd like from the information there 
>> (complete with JavaDoc tags, which Zapata will miss :)),
>
> Correct. This happen to be on purpose :) Does XDoclet build an 
> "intertwingled" object graph of your code along the way? Performing a 
> plain search on a code base is pretty trivial... what seems to be more 
> interesting would be to put that in context.

Yes, XDoclet builds a complete object graph of all the source files you 
hand it (as an Ant <fileset>).  It actually even does binary class 
interpretation for the information it needs to construct a full 
object-graph if some dependencies are in the classpath of the taskdef 
as well.

> Zapata does something along the line of what MagicHat does for 
> Objective-C:
>
> http://homepage.mac.com/petite_abeille/MagicHat/

Very cool.  You rock!

	Erik


From n.maisonneuve@HotPOP.com  Thu Sep  4 15:13:25 2003
Return-Path: <n.maisonneuve@HotPOP.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2037 invoked from network); 4 Sep 2003 15:13:25 -0000
Received: from unknown (HELO babyruth.hotpop.com) (204.57.55.14)
  by daedalus.apache.org with SMTP; 4 Sep 2003 15:13:25 -0000
Received: from hotpop.com (kubrick.hotpop.com [204.57.55.16])
	by babyruth.hotpop.com (Postfix) with SMTP id D551921338E
	for <lucene-user@jakarta.apache.org>; Thu,  4 Sep 2003 14:07:12 +0000 (UTC)
Received: from astikoportable (danton-1-81-57-18-97.fbx.proxad.net [81.57.18.97])
	by smtp-3.hotpop.com (Postfix) with SMTP id 07E376C1083
	for <lucene-user@jakarta.apache.org>; Thu,  4 Sep 2003 14:07:09 +0000 (UTC)
Message-ID: <006a01c372ed$d86f3c10$61123951@astikoportable>
From: "Nicolas Maisonneuve" <n.maisonneuve@HotPOP.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <7234B34E-DEDA-11D7-92B3-000393760B7E@mac.com>
Subject: StandardTokenizer problem
Date: Thu, 4 Sep 2003 16:07:14 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2727.1300
X-HotPOP: -----------------------------------------------
                   Sent By HotPOP.com FREE Email
             Get your FREE POP email at www.HotPOP.com
          -----------------------------------------------
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

hy ,
when i use standardTokenizer
for parse for example "I.B.M"
the type of the Token  is HOST and not ACRONYM

WHY ???

in StandardTokenizer.jj

 // acronyms: U.S.A., I.B.M., etc.
  // use a post-filter to remove dots
| <ACRONYM: <ALPHA> "." (<ALPHA> ".")+ >

  // hostname
| <HOST: <ALPHANUM> ("." <ALPHANUM>)+ >

"I.B.M" can be a host or acronym, so threre is a problem , no  ?

----- Original Message ----- 
From: "petite_abeille" <petite_abeille@mac.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, September 04, 2003 3:19 PM
Subject: Re: Lucene app to index Java code


> Hi Erik,
> 
> On Thursday, Sep 4, 2003, at 15:03 Europe/Zurich, Erik Hatcher wrote:
> 
> > - XDoclet could be used to sweep through Java code and build a 
> > text/XML file as richly as you'd like from the information there 
> > (complete with JavaDoc tags, which Zapata will miss :)),
> 
> Correct. This happen to be on purpose :) Does XDoclet build an 
> "intertwingled" object graph of your code along the way? Performing a 
> plain search on a code base is pretty trivial... what seems to be more 
> interesting would be to put that in context.
> 
> Zapata does something along the line of what MagicHat does for 
> Objective-C:
> 
> http://homepage.mac.com/petite_abeille/MagicHat/
> 
> But from the sound of what Otis is saying this is not what you guys are 
> looking for... back to the pampa then...
> 
> Cheers,
> 
> PA.
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 



From petite_abeille@mac.com  Thu Sep  4 15:44:58 2003
Return-Path: <petite_abeille@mac.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99293 invoked from network); 4 Sep 2003 15:44:58 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.89)
  by daedalus.apache.org with SMTP; 4 Sep 2003 15:44:58 -0000
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id h84FWc9D020834
	for <lucene-user@jakarta.apache.org>; Thu, 4 Sep 2003 08:32:38 -0700 (PDT)
Received: from mac.com (adsl-62-167-197-115.adslplus.ch [62.167.197.115])
	(authenticated bits=0)
	by mac.com (Xserve/8.12.9/MantshX 2.0) with ESMTP id h84FWYlc024309
	for <lucene-user@jakarta.apache.org>; Thu, 4 Sep 2003 08:32:36 -0700 (PDT)
Date: Thu, 4 Sep 2003 17:33:37 +0200
Subject: Re: StandardTokenizer problem
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: petite_abeille <petite_abeille@mac.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <006a01c372ed$d86f3c10$61123951@astikoportable>
Message-Id: <275F8308-DEED-11D7-990A-000393760B7E@mac.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


On Thursday, Sep 4, 2003, at 16:07 Europe/Zurich, Nicolas Maisonneuve 
wrote:

> "I.B.M" can be a host or acronym, so threre is a problem , no  ?

Perhaps as far as this parser goes... but... in practice... '.M' is not 
a valid TLD.

PA.


From jon.pither@swebtec.com  Thu Sep  4 16:41:45 2003
Return-Path: <jon.pither@swebtec.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62041 invoked from network); 4 Sep 2003 16:41:45 -0000
Received: from unknown (HELO lve-mail1.fastcropit.com) (213.52.169.229)
  by daedalus.apache.org with SMTP; 4 Sep 2003 16:41:45 -0000
Received: from [192.168.1.21] by lve-mail1.fastcropit.com (NTMail 7.00.0018/XR0470.00.67bc64c0) with ESMTP id pmbcfbaa for lucene-user@jakarta.apache.org; Thu, 4 Sep 2003 17:27:03 +0100
Message-ID: <3F57685B.5020303@swebtec.com>
Date: Thu, 04 Sep 2003 17:29:15 +0100
From: Jon Pither <jon.pither@swebtec.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.2.1) Gecko/20021130
X-Accept-Language: en, fr, en-us
MIME-Version: 1.0
To:  lucene-user@jakarta.apache.org
Subject: Split results based on the value of a field
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I have a requirement whereupon I'd like to pull search results back and 
split them up based on some keyword field. So for example, says there's 
a field named 'category',  I'd like to be able to have the results 
displayed as such:

Search Results for Category A:
1,
2,
3,

Search Results for Category B:
1,
2,
3.

The two ways I can think to do this are:
1) A post-process of the results collecting the first x amount of hits 
for each category.
2) Running a different search per category.

This is probably a long shot, but I was wondering if the search itself 
has the means to filter out documents based on a limit of occurances of 
a value for a given search field.  So for example if there are 5 
categories, and we only want to show 5 results per category, then the 
maximum amount of hits returned would be 25. This is because the value 
'Category A' for the field 'category' can only appear 5 times and so 
forth.  Can anyone think of a way to achieve this?

Thanks.


From vesi_posti@yahoo.com  Thu Sep  4 16:44:40 2003
Return-Path: <vesi_posti@yahoo.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71758 invoked from network); 4 Sep 2003 16:44:40 -0000
Received: from unknown (HELO web80701.mail.yahoo.com) (66.163.170.58)
  by daedalus.apache.org with SMTP; 4 Sep 2003 16:44:40 -0000
Message-ID: <20030904164439.65369.qmail@web80701.mail.yahoo.com>
Received: from [12.40.85.6] by web80701.mail.yahoo.com via HTTP; Thu, 04 Sep 2003 09:44:39 PDT
Date: Thu, 4 Sep 2003 09:44:39 -0700 (PDT)
From: vesi posti <vesi_posti@yahoo.com>
Subject: Mullti-term NOT queries
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

According to the QueryParser page:

"The NOT operator cannot be used with just one term".

Is this also true for multi-term NOT queries? E.g.

NOT "jakarta apache" AND NOT "lucene"

My tests suggest so, but I'd like to hear from someone
who'd know for sure.

Also, is this a limitation of the QueryParser or of
the Query API itself?

Thanks!

Eugene.

__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

From burton@newsmonster.org  Thu Sep  4 20:09:09 2003
Return-Path: <burton@newsmonster.org>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1996 invoked from network); 4 Sep 2003 20:09:09 -0000
Received: from unknown (HELO mail.speakeasy.net) (216.254.0.214)
  by daedalus.apache.org with SMTP; 4 Sep 2003 20:09:09 -0000
Received: (qmail 6042 invoked by uid 64014); 4 Sep 2003 20:09:13 -0000
Received: from burton@newsmonster.org by mail14.speakeasy.net with AmikaGuardian-Server-2.0.0 (Processed in 0.191281 secs); 04 Sep 2003 20:09:13 -0000
X-AmikaGuardian-Id: mail14.speakeasy.net10627061532366039
X-AmikaGuardian-Category: AN:Vectored : 1.7
X-AmikaGuardian-Category: AN:Forwarded Mail : 1.7
X-AmikaGuardian-Category: AN:Override : 1.7
X-AmikaGuardian-Category: AN:Business Communications : 0.4
X-AmikaGuardian-Category: AN:Spam Structure : 0.05
X-AmikaGuardian-Category: AN:Junk Mail : 0.08
X-AmikaGuardian-Category: AN:Exception : 1.7
X-AmikaGuardian-Category: AN:Urgency : 0.03
X-AmikaGuardian-Category: AN:Spam Language : 0.03
X-AmikaGuardian-Category: AN:Newsletter : 0.4
X-AmikaGuardian-Category: AN:Obvious Clues : 0.05
X-AmikaGuardian-Category: AN:Spam Indicators : 0.05
X-AmikaGuardian-Category: AN:Spam : 0.08
X-AmikaGuardian-Action: Do Nothing()
Received: from unknown (HELO newsmonster.org) (burton@[67.114.20.29])
          (envelope-sender <burton@newsmonster.org>)
          by mail14.speakeasy.net (qmail-ldap-1.03) with AES256-SHA encrypted SMTP
          for <otis_gospodnetic@yahoo.com>; 4 Sep 2003 20:09:13 -0000
Message-ID: <3F57752C.4010106@newsmonster.org>
Date: Thu, 04 Sep 2003 10:23:56 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en
MIME-Version: 1.0
To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
CC:  lucene-user@jakarta.apache.org
Subject: Re: Lucene app to index Java code
References: <20030904111823.43075.qmail@web12705.mail.yahoo.com>
In-Reply-To: <20030904111823.43075.qmail@web12705.mail.yahoo.com>
X-Enigmail-Version: 0.76.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Otis Gospodnetic wrote:

>Hello,
>
>Has anyone written an application that uses Lucene to index Java code,
>either from the source .java files, or compiled .class files?
>
>I need to create a searchable index for Java code, so that I can use
>that index to check if classes or methods with certain functionality
>have already been written.  This is an effort to remove code
>duplication and do more code re-use.  If this application can also
>index Javadocs, even better!
>
>I think I heard of somebody doing this already.  Kevin Burton?
>  
>
I was playing with it... blogged about it here...

http://www.peerfear.org/rss/permalink/2003/07/23/LuceneForSourceManagement/

>This is something that would fit nicely in Erik's Ant IndexTask in
>Lucene Sandbox), I think.
>  
>
Yes... I was thinking about making an ant task for it or using someone 
else's.  One of the cool things would be direct integration within the IDE.

Also parsing the .java file into a token stream and then indexing the 
tokens would make a blazingly fast doc completion facility....

Kevin

-- 
Help Support NewsMonster Development!  Purchase NewsMonster PRO!

    http://www.newsmonster.org/download-pro.html

Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM - sfburtonator,  Web - http://www.peerfear.org/
GPG fingerprint: 4D20 40A0 C734 307E C7B4  DCAA 0303 3AC5 BD9D 7C4D
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster



From burton@newsmonster.org  Thu Sep  4 20:14:33 2003
Return-Path: <burton@newsmonster.org>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17264 invoked from network); 4 Sep 2003 20:14:33 -0000
Received: from unknown (HELO mail.speakeasy.net) (216.254.0.216)
  by daedalus.apache.org with SMTP; 4 Sep 2003 20:14:33 -0000
Received: (qmail 12062 invoked by uid 64014); 4 Sep 2003 20:14:27 -0000
Received: from burton@newsmonster.org by mail16.speakeasy.net with AmikaGuardian-Server-2.0.0 (Processed in 0.206765 secs); 04 Sep 2003 20:14:27 -0000
X-AmikaGuardian-Id: mail16.speakeasy.net106270646723612058
X-AmikaGuardian-Category: AN:Vectored : 1.7
X-AmikaGuardian-Category: AN:Forwarded Mail : 1.7
X-AmikaGuardian-Category: AN:Override : 1.7
X-AmikaGuardian-Category: AN:Business Communications : 0.4
X-AmikaGuardian-Category: AN:Spam Structure : 0.05
X-AmikaGuardian-Category: AN:Junk Mail : 0.07
X-AmikaGuardian-Category: AN:Exception : 1.7
X-AmikaGuardian-Category: AN:Urgency : 0.02
X-AmikaGuardian-Category: AN:Spam Language : 0.02
X-AmikaGuardian-Category: AN:Newsletter : 0.4
X-AmikaGuardian-Category: AN:Obvious Clues : 0.05
X-AmikaGuardian-Category: AN:Spam Indicators : 0.05
X-AmikaGuardian-Category: AN:Spam : 0.07
X-AmikaGuardian-Action: Do Nothing()
Received: from unknown (HELO newsmonster.org) (burton@[67.114.20.29])
          (envelope-sender <burton@newsmonster.org>)
          by mail16.speakeasy.net (qmail-ldap-1.03) with AES256-SHA encrypted SMTP
          for <lucene-user@jakarta.apache.org>; 4 Sep 2003 20:14:27 -0000
Message-ID: <3F577665.7090502@newsmonster.org>
Date: Thu, 04 Sep 2003 10:29:09 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene app to index Java code
References: <20030904123530.33776.qmail@web12701.mail.yahoo.com>
In-Reply-To: <20030904123530.33776.qmail@web12701.mail.yahoo.com>
X-Enigmail-Version: 0.76.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Otis Gospodnetic wrote:

>What you describe sounds interesting, but I was thinking more along the
>lines of this:
>
>http://www.peerfear.org/rss/permalink/2003/07/23/LuceneForSourceManagement/
>
>An application that I could use to find out whether I already have a
>'getStudents' or 'getStudents*' method somewhere in the source code,
>for instance, before I start writing it.  As the code base grows
>larger, and as the team that works with it becomes bigger, this tools
>becomes more and more valuable.
>If this application could also index Javadocs, so that I can search for
>methods or classes that mention +student* +(database OR db) +update,
>that would be even better.
>
>Has anyone done this?
>Kevin Burton mentioned something similar to what I described above, at
>that URL, but it looks like he didn't make his application available.
>  
>
It's just two source files + Lucene plus I didn't do all the work to 
make it into an OSS package.  99% of OSS work isn't technical but 
political, maintenance, etc..

If someone wants to start an OSS project for this and do all the grunt 
work I will do the coding :)  I don't know what parser I wnat to use to 
tokenize the source but a Doclet would be perfect for this....  The only 
problem is that this wouldn't allow full differential builds and would 
slow down the generation....

Also it just dawned on me that the Emacs compile-internal function 
parses stdout in the form of file:line# so this would make a great way 
to integrate for us Emacs geeks.

Kevin

-- 
Help Support NewsMonster Development!  Purchase NewsMonster PRO!

    http://www.newsmonster.org/download-pro.html

Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM - sfburtonator,  Web - http://www.peerfear.org/
GPG fingerprint: 4D20 40A0 C734 307E C7B4  DCAA 0303 3AC5 BD9D 7C4D
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster



From burton@newsmonster.org  Thu Sep  4 20:22:28 2003
Return-Path: <burton@newsmonster.org>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40621 invoked from network); 4 Sep 2003 20:22:28 -0000
Received: from unknown (HELO mail.speakeasy.net) (216.254.0.214)
  by daedalus.apache.org with SMTP; 4 Sep 2003 20:22:28 -0000
Received: (qmail 23385 invoked by uid 64014); 4 Sep 2003 20:15:31 -0000
Received: from burton@newsmonster.org by mail14.speakeasy.net with AmikaGuardian-Server-2.0.0 (Processed in 0.334778 secs); 04 Sep 2003 20:15:31 -0000
X-AmikaGuardian-Id: mail14.speakeasy.net106270653123623375
X-AmikaGuardian-Category: AN:Vectored : 1.7
X-AmikaGuardian-Category: AN:Forwarded Mail : 1.7
X-AmikaGuardian-Category: AN:Override : 1.7
X-AmikaGuardian-Category: AN:Business Communications : 0.4
X-AmikaGuardian-Category: AN:Junk Mail : 0.28
X-AmikaGuardian-Category: AN:Spam Structure : 0.05
X-AmikaGuardian-Category: AN:Exception : 1.7
X-AmikaGuardian-Category: AN:Pastime : 0.1
X-AmikaGuardian-Category: AN:Urgency : 0.03
X-AmikaGuardian-Category: AN:Spam Content : 0.2
X-AmikaGuardian-Category: AN:Spam Language : 0.03
X-AmikaGuardian-Category: AN:Joke : 0.1
X-AmikaGuardian-Category: AN:Newsletter : 0.4
X-AmikaGuardian-Category: AN:Gambling : 0.2
X-AmikaGuardian-Category: AN:Obvious Clues : 0.05
X-AmikaGuardian-Category: AN:Lifestyle : 0.2
X-AmikaGuardian-Category: AN:Spam : 0.28
X-AmikaGuardian-Category: AN:Spam Indicators : 0.05
X-AmikaGuardian-Action: Do Nothing()
Received: from unknown (HELO newsmonster.org) (burton@[67.114.20.29])
          (envelope-sender <burton@newsmonster.org>)
          by mail14.speakeasy.net (qmail-ldap-1.03) with AES256-SHA encrypted SMTP
          for <lucene-user@jakarta.apache.org>; 4 Sep 2003 20:15:31 -0000
Message-ID: <3F5776A5.9080207@newsmonster.org>
Date: Thu, 04 Sep 2003 10:30:13 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene app to index Java code
References: <1F94B0C2-DED8-11D7-ABA5-000393A564E6@ehatchersolutions.com>
In-Reply-To: <1F94B0C2-DED8-11D7-ABA5-000393A564E6@ehatchersolutions.com>
X-Enigmail-Version: 0.76.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Erik Hatcher wrote:

> A couple of thoughts on this:
>
> - Eclipse uses Lucene for its code indexing/searching (I learned this 
> at the OSCON Keynote by Eclipse folks).  Perhaps looking at how 
> Eclipse does its thing would be useful even if not the solution.
>
> - XDoclet could be used to sweep through Java code and build a 
> text/XML file as richly as you'd like from the information there 
> (complete with JavaDoc tags, which Zapata will miss :)), and then run 
> Lucene on the generated files.  On a related note, the XDoclet2 
> architecture would streamline this even further by eliminating the 
> middle textual representation (QDox/XJavadoc reads Java as a "meta 
> data provider" and then a Lucene "plugin" indexes things).  It could 
> be done without the intermediate text representation even in XDoclet 
> 1.2, but it would require coding a custom subtask and be slightly out 
> of the norm for XDoclet subtasks (but would work just fine).

It would be faster to write a native doclet as this would remove the XML 
parse overhead...  The whole point of this thing is that it needs to be 
fast!

Kevin

-- 
Help Support NewsMonster Development!  Purchase NewsMonster PRO!

    http://www.newsmonster.org/download-pro.html

Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM - sfburtonator,  Web - http://www.peerfear.org/
GPG fingerprint: 4D20 40A0 C734 307E C7B4  DCAA 0303 3AC5 BD9D 7C4D
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster



From erik@ehatchersolutions.com  Thu Sep  4 20:36:21 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78001 invoked from network); 4 Sep 2003 20:36:21 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.66)
  by daedalus.apache.org with SMTP; 4 Sep 2003 20:36:21 -0000
Received: (cpmta 6611 invoked from network); 4 Sep 2003 13:35:41 -0700
Received: from 68.170.78.210 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.66) with SMTP; 4 Sep 2003 13:35:41 -0700
X-Sent: 4 Sep 2003 20:35:41 GMT
Date: Thu, 4 Sep 2003 16:35:41 -0400
Subject: Re: Lucene app to index Java code
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3F5776A5.9080207@newsmonster.org>
Message-Id: <59C80DAA-DF17-11D7-9C0C-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Thursday, September 4, 2003, at 01:30  PM, Kevin A. Burton wrote:
>> - XDoclet could be used to sweep through Java code and build a 
>> text/XML file as richly as you'd like from the information there 
>> (complete with JavaDoc tags, which Zapata will miss :)), and then run 
>> Lucene on the generated files.  On a related note, the XDoclet2 
>> architecture would streamline this even further by eliminating the 
>> middle textual representation (QDox/XJavadoc reads Java as a "meta 
>> data provider" and then a Lucene "plugin" indexes things).  It could 
>> be done without the intermediate text representation even in XDoclet 
>> 1.2, but it would require coding a custom subtask and be slightly out 
>> of the norm for XDoclet subtasks (but would work just fine).
>
> It would be faster to write a native doclet as this would remove the 
> XML parse overhead...  The whole point of this thing is that it needs 
> to be fast!

Do you mean the Ant build file parsing?  That would be the only XML 
parsing in the equation I'm proposing, unless you did it the clunkiest 
XDoclet 1.2 way of having an intermediate XML file.

As for speed.... QDox, I've heard, is the fastest option.  javadoc is 
the slowest parsing of the three I know of (javadoc, xjavadoc, qdox).

	Erik


From burton@newsmonster.org  Thu Sep  4 21:26:22 2003
Return-Path: <burton@newsmonster.org>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48596 invoked from network); 4 Sep 2003 21:26:22 -0000
Received: from unknown (HELO mail.speakeasy.net) (216.254.0.216)
  by daedalus.apache.org with SMTP; 4 Sep 2003 21:26:22 -0000
Received: (qmail 24603 invoked by uid 64014); 4 Sep 2003 21:26:05 -0000
Received: from burton@newsmonster.org by mail16.speakeasy.net with AmikaGuardian-Server-2.0.0 (Processed in 0.41668 secs); 04 Sep 2003 21:26:05 -0000
X-AmikaGuardian-Id: mail16.speakeasy.net106271076423624584
X-AmikaGuardian-Category: AN:Business Communications : 0.4
X-AmikaGuardian-Category: AN:Spam Structure : 0.05
X-AmikaGuardian-Category: AN:Junk Mail : 0.07
X-AmikaGuardian-Category: AN:Urgency : 0.02
X-AmikaGuardian-Category: AN:Spam Language : 0.02
X-AmikaGuardian-Category: AN:Newsletter : 0.4
X-AmikaGuardian-Category: AN:Obvious Clues : 0.05
X-AmikaGuardian-Category: AN:Spam : 0.07
X-AmikaGuardian-Category: AN:Spam Indicators : 0.05
X-AmikaGuardian-Action: Do Nothing()
Received: from unknown (HELO newsmonster.org) (burton@[67.114.20.29])
          (envelope-sender <burton@newsmonster.org>)
          by mail16.speakeasy.net (qmail-ldap-1.03) with AES256-SHA encrypted SMTP
          for <lucene-user@jakarta.apache.org>; 4 Sep 2003 21:26:04 -0000
Message-ID: <3F578723.5040407@newsmonster.org>
Date: Thu, 04 Sep 2003 11:40:35 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Performance of IndexWriter.addDirectory?
X-Enigmail-Version: 0.76.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

What's the performance of IndexWriter.addDirectory?

I assume it isn't linear but is a function of the added index.  Does the 
side of the target index matter?  What about number of documents?

Kevin

-- 
Help Support NewsMonster Development!  Purchase NewsMonster PRO!

    http://www.newsmonster.org/download-pro.html

Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM - sfburtonator,  Web - http://www.peerfear.org/
GPG fingerprint: 4D20 40A0 C734 307E C7B4  DCAA 0303 3AC5 BD9D 7C4D
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster



From faizal19732002@yahoo.com  Fri Sep  5 09:06:11 2003
Return-Path: <faizal19732002@yahoo.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5536 invoked from network); 5 Sep 2003 09:06:11 -0000
Received: from unknown (HELO web20701.mail.yahoo.com) (216.136.226.174)
  by daedalus.apache.org with SMTP; 5 Sep 2003 09:06:11 -0000
Message-ID: <20030905090606.79548.qmail@web20701.mail.yahoo.com>
Received: from [80.127.222.186] by web20701.mail.yahoo.com via HTTP; Fri, 05 Sep 2003 02:06:06 PDT
Date: Fri, 5 Sep 2003 02:06:06 -0700 (PDT)
From: faizal abdoelrahman <faizal19732002@yahoo.com>
Subject: boolean and query through multiple fields
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,


I have n terms in my query and I want each term to
match content from a field, but not necessarily within
a field.

Example fields: manufacturer, description
.Now I want to search for the terms "red" "ford" in
any of these fields, but each term should match some
field.


Solutions I came up with but are really not
satisfactory:
- permute query 
  (+manufacturer:red  +description:ford) or
(+manufacturer:ford +description:red)
  rejected because the number of combinations grows
very large with many fields and many search terms
- concatenating the contents of these selected fields
into one field doing "+concat_field:ford
+concat_field:red".
  This works but now I loose all the advantages of a
multifield index.

Hopefully one of you can help me out or point me to
lucene api sections which I can extend to achieve this
 effect.

Faizal Abdoelrahman
Amsterdam






__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

From faizal19732002@yahoo.com  Fri Sep  5 09:18:22 2003
Return-Path: <faizal19732002@yahoo.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27454 invoked from network); 5 Sep 2003 09:18:22 -0000
Received: from unknown (HELO web20713.mail.yahoo.com) (66.163.169.154)
  by daedalus.apache.org with SMTP; 5 Sep 2003 09:18:22 -0000
Message-ID: <20030905091823.94281.qmail@web20713.mail.yahoo.com>
Received: from [80.127.222.186] by web20713.mail.yahoo.com via HTTP; Fri, 05 Sep 2003 02:18:23 PDT
Date: Fri, 5 Sep 2003 02:18:23 -0700 (PDT)
From: faizal abdoelrahman <faizal19732002@yahoo.com>
Subject: performance fuzzy queries slow
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

Is there a way to speed up fuzzy queries.
I am measuring 1.5 seconds for a single fuzzy query
term
 vs all other types of queries (partial, literal,and
or) which take from 20-40 milliseconds.

I am using an index the size of 40MB querying 60.000
documents and one field containg some 200 words per
document. 

I already tried using a RAMdirectory.
Any comments, please...

Faizal Abdoelrahman
Amsterdam



__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

From boian.gabriel@ssi-schaefer.ro  Fri Sep  5 10:23:07 2003
Return-Path: <boian.gabriel@ssi-schaefer.ro>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56127 invoked from network); 5 Sep 2003 10:23:07 -0000
Received: from unknown (HELO main.schaefer.ro) (213.157.174.12)
  by daedalus.apache.org with SMTP; 5 Sep 2003 10:23:07 -0000
Received: from cpq29 ([192.168.222.179])
	by main.schaefer.ro (8.12.8/8.12.5) with SMTP id h85ANNSo027479
	for <lucene-user@jakarta.apache.org>; Fri, 5 Sep 2003 13:23:24 +0300
Message-ID: <00f401c37397$bc5fb270$b3dea8c0@cpq29>
From: "Gabriel Boian" <boian.gabriel@ssi-schaefer.ro>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Fw: Refine the result set
Date: Fri, 5 Sep 2003 13:23:23 +0300
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_00F1_01C373B0.E17ADDF0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-RAVMilter-Version: 8.4.2(snapshot 20021217) (main.schaefer.ro)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_00F1_01C373B0.E17ADDF0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Because I haven't fount any solution I must ask this question again:

----- Original Message -----=20
From: Gabriel Boian=20
To: Lucene Users List=20
Sent: Monday, September 01, 2003 10:07 AM
Subject: Refine the result set


Hi,

I use Lucene to search on my documentation using a web interface.=20
After I perform a search I want to refine the result set using a new =
query. How can I do that?

Thanks.

Gabriel Boian
------=_NextPart_000_00F1_01C373B0.E17ADDF0--


From lutz.horn@FIZ-Karlsruhe.DE  Fri Sep  5 10:43:39 2003
Return-Path: <lutz.horn@FIZ-Karlsruhe.DE>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4375 invoked from network); 5 Sep 2003 10:43:39 -0000
Received: from unknown (HELO fsd1.FIZ-Karlsruhe.DE) (141.66.18.51)
  by daedalus.apache.org with SMTP; 5 Sep 2003 10:43:39 -0000
Received: from A27swork.FIZ-Karlsruhe.DE (a27swork.fiz-karlsruhe.de [141.66.16.39])
	by fsd1.FIZ-Karlsruhe.DE (8.12.9/8.12.9) with ESMTP id h85AgVY8029478
	for <lucene-user@jakarta.apache.org>; Fri, 5 Sep 2003 12:42:31 +0200 (MEST)
Received: from pc.fiz-karlsruhe.de ([141.66.16.9])
	by A27swork.FIZ-Karlsruhe.DE (8.9.3/8.9.3) with ESMTP id MAA21882
	for <lucene-user@jakarta.apache.org>; Fri, 5 Sep 2003 12:42:32 +0200 (MET DST)
Received: by pc.FIZ-Karlsruhe.DE with Internet Mail Service (5.5.2653.19)
	id <S2WVN8R5>; Fri, 5 Sep 2003 12:42:02 +0200
Received: from fiz-karlsruhe.de (PC-LHO [141.66.100.137]) by pc.fiz-karlsruhe.de with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id S2WVN8RZ; Fri, 5 Sep 2003 12:41:57 +0200
From: Lutz Horn <lutz.horn@FIZ-Karlsruhe.DE>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-ID: <3F586878.3060002@fiz-karlsruhe.de>
Date: Fri, 05 Sep 2003 12:42:00 +0200
Organization: FIZ Karlsruhe
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.5b) Gecko/20030901 Thunderbird/0.2
X-Accept-Language: en-us, en
MIME-Version: 1.0
Subject: Re:Refine the result set
References: <00f401c37397$bc5fb270$b3dea8c0@cpq29>
In-Reply-To: <00f401c37397$bc5fb270$b3dea8c0@cpq29>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

Gabriel Boian wrote:
> I use Lucene to search on my documentation using a web interface. 
> After I perform a search I want to refine the result set using a new
> query. How can I do that?

You could build a query containing the Terms of the old Query and 
combine them with refiening Terms to a new Query. Using a BooleanQuery 
should be enough for this.

Regards
Lutz


From erik@ehatchersolutions.com  Fri Sep  5 10:50:19 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16599 invoked from network); 5 Sep 2003 10:50:19 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 5 Sep 2003 10:50:19 -0000
Received: (cpmta 21397 invoked from network); 5 Sep 2003 03:50:14 -0700
Received: from 68.170.78.210 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 5 Sep 2003 03:50:14 -0700
X-Sent: 5 Sep 2003 10:50:14 GMT
Date: Fri, 5 Sep 2003 06:50:11 -0400
Subject: Re: boolean and query through multiple fields
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20030905090606.79548.qmail@web20701.mail.yahoo.com>
Message-Id: <B96438DF-DF8E-11D7-AFCA-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Friday, September 5, 2003, at 05:06  AM, faizal abdoelrahman wrote:
> - concatenating the contents of these selected fields
> into one field doing "+concat_field:ford
> +concat_field:red".
>   This works but now I loose all the advantages of a
> multifield index.

You don't really lose any multifield advantages - keep the other fields 
*and* the concatenated one.


From faizal19732002@yahoo.com  Fri Sep  5 11:33:11 2003
Return-Path: <faizal19732002@yahoo.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16514 invoked from network); 5 Sep 2003 11:33:11 -0000
Received: from unknown (HELO web20708.mail.yahoo.com) (216.136.226.181)
  by daedalus.apache.org with SMTP; 5 Sep 2003 11:33:11 -0000
Message-ID: <20030905113308.66658.qmail@web20708.mail.yahoo.com>
Received: from [80.127.222.186] by web20708.mail.yahoo.com via HTTP; Fri, 05 Sep 2003 04:33:08 PDT
Date: Fri, 5 Sep 2003 04:33:08 -0700 (PDT)
From: faizal abdoelrahman <faizal19732002@yahoo.com>
Subject: Re: boolean and query through multiple fields
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <B96438DF-DF8E-11D7-AFCA-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Only at run-time we know which fields to search
through. 
(The static index contains some 80 fields, of which on

average 5 fields are searched for, but this set can 
differ per day)

This means updating the concatenated field
when the set of searchable fields changes (daily)?
Is there a way to do this efficiently with a lucene
index, building a field based on the contents of other
fields?

Otherwise I will just make the concatenated field when

I build the index (making the index less static, coz
then it will be updated daily) and
people will have to live with that...

Faizal


--- Erik Hatcher <erik@ehatchersolutions.com> wrote:
> On Friday, September 5, 2003, at 05:06  AM, faizal
> abdoelrahman wrote:
> > - concatenating the contents of these selected
> fields
> > into one field doing "+concat_field:ford
> > +concat_field:red".
> >   This works but now I loose all the advantages of
> a
> > multifield index.
> 
> You don't really lose any multifield advantages -
> keep the other fields 
> *and* the concatenated one.
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

From erik@ehatchersolutions.com  Fri Sep  5 12:38:53 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 86124 invoked from network); 5 Sep 2003 12:38:53 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 5 Sep 2003 12:38:53 -0000
Received: (cpmta 22783 invoked from network); 5 Sep 2003 03:52:01 -0700
Received: from 68.170.78.210 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 5 Sep 2003 03:52:01 -0700
X-Sent: 5 Sep 2003 10:52:01 GMT
Date: Fri, 5 Sep 2003 06:52:02 -0400
Subject: Re: Fw: Refine the result set
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <00f401c37397$bc5fb270$b3dea8c0@cpq29>
Message-Id: <FB38D542-DF8E-11D7-AFCA-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I replied to your previous message, but maybe it got lost in my e-mail 
address shuffling....

Have a look at QueryFilter.  It will allow you to do search refining as 
you desire.

	Erik


On Friday, September 5, 2003, at 06:23  AM, Gabriel Boian wrote:

> Because I haven't fount any solution I must ask this question again:
>
> ----- Original Message -----
> From: Gabriel Boian
> To: Lucene Users List
> Sent: Monday, September 01, 2003 10:07 AM
> Subject: Refine the result set
>
>
> Hi,
>
> I use Lucene to search on my documentation using a web interface.
> After I perform a search I want to refine the result set using a new 
> query. How can I do that?
>
> Thanks.
>
> Gabriel Boian


From vesi_posti@yahoo.com  Fri Sep  5 17:28:45 2003
Return-Path: <vesi_posti@yahoo.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97481 invoked from network); 5 Sep 2003 17:28:45 -0000
Received: from unknown (HELO web80708.mail.yahoo.com) (66.163.170.65)
  by daedalus.apache.org with SMTP; 5 Sep 2003 17:28:45 -0000
Message-ID: <20030905172206.42009.qmail@web80708.mail.yahoo.com>
Received: from [12.40.85.6] by web80708.mail.yahoo.com via HTTP; Fri, 05 Sep 2003 10:22:06 PDT
Date: Fri, 5 Sep 2003 10:22:06 -0700 (PDT)
From: "Eugene S." <vesi_posti@yahoo.com>
Subject: Limit on number of required/prohibited clauses
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I've come across the limit on the number of
required/prohibited clauses in a boolean query (the
limit  is 32). What is the reasoning for having such
limit? Can it be circumvented?

Thanks!

Eugene.

__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

From scott.ganyo@etapestry.com  Fri Sep  5 17:57:22 2003
Return-Path: <scott.ganyo@etapestry.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81653 invoked from network); 5 Sep 2003 17:57:22 -0000
Received: from unknown (HELO darth?bobo.etapestry.com) (216.37.32.2)
  by daedalus.apache.org with SMTP; 5 Sep 2003 17:57:22 -0000
Received: from etapestry.com (192.168.1.103 [192.168.1.103]) by darth_bobo.etapestry.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2650.21)
	id SGR2JBBK; Fri, 5 Sep 2003 12:56:29 -0500
Message-ID: <3F58CE26.9070608@etapestry.com>
Date: Fri, 05 Sep 2003 12:55:50 -0500
From: Scott Ganyo <scott.ganyo@etapestry.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030630
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Limit on number of required/prohibited clauses
References: <20030905172206.42009.qmail@web80708.mail.yahoo.com>
In-Reply-To: <20030905172206.42009.qmail@web80708.mail.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Eugene,

Yes.  Doug (Cutting) added this to eliminate OutOfMemory errors that 
apparently some people were having.  Unfortunately, it causes 
backward-compatibility issues if you were used to using version 1.2.  
So, you'll need to add a call like this:

BooleanQuery.setMaxClauseCount(Integer.MAX_VALUE);

(Of course, you can set the parameter to whatever you want, but 
unrestricted works best for me.)

Scott

Eugene S. wrote:

>Hi,
>
>I've come across the limit on the number of
>required/prohibited clauses in a boolean query (the
>limit  is 32). What is the reasoning for having such
>limit? Can it be circumvented?
>
>Thanks!
>
>Eugene.
>
>__________________________________
>Do you Yahoo!?
>Yahoo! SiteBuilder - Free, easy-to-use web site design software
>http://sitebuilder.yahoo.com
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>  
>

-- 
All progress is initiated by challenging current conceptions, and executed by supplanting existing institutions. - George Bernard Shaw



From chrissibert@comcast.net  Fri Sep  5 18:36:03 2003
Return-Path: <chrissibert@comcast.net>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5006 invoked from network); 5 Sep 2003 18:36:03 -0000
Received: from unknown (HELO sccrmhc13.comcast.net) (204.127.202.64)
  by daedalus.apache.org with SMTP; 5 Sep 2003 18:36:03 -0000
Received: from mother (c-24-129-215-86.se.client2.attbi.com[24.129.215.86](untrusted sender))
          by comcast.net (sccrmhc13) with SMTP
          id <20030905183604016006hja3e>; Fri, 5 Sep 2003 18:36:04 +0000
Message-ID: <002201c373dc$93f237f0$0b02a8c0@mother>
From: "Chris Sibert" <chrissibert@comcast.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <487B2D42-DDC0-11D7-8A10-000393A564E6@ehatchersolutions.com> <005001c371d6$31c37920$0b02a8c0@mother> <20030903053452.GF28984@darksleep.com> <002201c3724b$2c4997c0$0b02a8c0@mother> <20030904070227.GH28984@darksleep.com>
Subject: Re: Lucene features
Date: Fri, 5 Sep 2003 14:36:10 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I'm not sure what all of the 'advanced features' were also.

Phonetic Searching - probably not important to this application.

Synonym searching might be desirable, but now that I'm thinking about it,
also likely not important.

Associated Words - sounds very interesting, like 'gold' might return 'metal'
also, etc.

But Drill Down searching is very desirable. It's where you're able to search
within the results of a previous search. I'm assuming that I'll have to
implement that myself, by keeping a copy of the previous Hits list, and only
returning results that are in both lists.

Thanks very much for your reply.

----- Original Message ----- 
From: "Steven J. Owens" <puffmail@darksleep.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, September 04, 2003 3:02 AM
Subject: Re: Lucene features


> On Wed, Sep 03, 2003 at 02:42:48PM -0400, Chris Sibert wrote:
> > Lucene Users List <lucene-user@jakarta.apache.org>
> > > > I am wondering if Lucene is the way to go for my project.
> > >      Probably.  Tell us a little about your project.
> >
> > It's pretty basic. I'm just indexing 4 large text files, ranging up to
100MB
> > in size. They don't ever change, and are on a CD-ROM. Each file contains
a
> > bunch of small documents. I just create one index for all 4 of them.
These
> > documents are for an association that I belong to - they contain a
history
> > of the association's documents - and my application allows you to search
> > them.
>
>      Well, aside from your concerns about the second list, Lucene
> seems perfect for your needs.  You'd parse apart the four big files
> into a bunch of small documents, the parse those small documents and
> create lucene Documents, containing Fields, and add them to the index.
>
> > They are actually currently indexed by an application called
> > 'Sonar', by Virginia Systems. But I REALLY didn't like using their
> > user interface - blech - so I decided to write a new interface for
> > my own use. But Sonar costs some real bucks to be able to develop
> > against their search API, so I found Lucene, and decided to go with
> > it.
> >
> > Here are the search features that 'Sonar' has :
> >   Boolean Searching
> >   Proximity Searching
> >   Wild Card Searching
> >   Field/Block Searching
>
>      I'm not sure what Field/Block means.  Boolean, Proximity and
> WildCard, are pretty typical in Lucene searches.  You should probably
> take a look at the Query Parser syntax docs:
>
>      http://jakarta.apache.org/lucene/docs/queryparsersyntax.html
>
>
> >   Relevancy Ranking / Date Ranking
>
>      Lucene search results are typically ranked by relevance, and you
> can tweak the search to adjust this (there's a fair bit of discussion
> of this in the lucene-user archives, a good keyword to look for is
> "slop" and "boost").
>
>      Sorting output by date might take some finesse.  I haven't played
> with sorting by date, but I'd expect to handle that by directly
> instantiating a QueryTerm to indicate the date issues.
>
> >   List of Occurrences in Context
>
>      I assume here that you mean displaying the results with a little
> snapshot of the text around it.  There have been discussions about how
> best to do this (often focused around highlighting the search terms in
> the displayed text) on the lucene-users list.  Check the list archive.
>
> >   Phonetic Searching
>
>      I'd guess you need to build this one yourself, perhaps by using a
> soundex algorithm when indexing the original data files.
>
> >   Synonyms/Concepts
>
>      Likewise... you'd need to come up with some sort of ontology of
> synonyms and concepts, then parse the fields you're indexing and
> generate a synonym/concept field that you'd add to the lucene
> Document.
>
> >   Relational Searching
> >   Associated Words
> >   Drill Down Search Narrowing
>
>      I'm not sure what these three mean.
>
> > I think that Lucene has all the features in the first group. How does it
> > stack up against the second group ?
>
>      I'm afraid I haven't been too helpful here.  Perhaps if you
> clarify what the above mean, folks can post about how to implement it
> in Lucene.
>
> > I'm writing the whole thing in Swing, which has been time consuming,
> > and so have invested quite a bit of time into this project. But I'm
> > seeing the end of the tunnel, and want to make sure that I'm going
> > down the right path before I spend too much more time on it.
>
>      It sounds like you ought to at least seriously consider using
> Lucene, if you can find or implement equivalent features, or decide
> you can live without them.
>
> -- 
> Steven J. Owens
> puff@darksleep.com
>
> "I'm going to make broad, sweeping generalizations and strong,
>  declarative statements, because otherwise I'll be here all night and
>  this document will be four times longer and much less fun to read.
>  Take it all with a grain of salt." - Me at http://darksleep.com
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


From David_Birtwell@VWR.COM  Fri Sep  5 19:02:51 2003
Return-Path: <David_Birtwell@VWR.COM>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97885 invoked from network); 5 Sep 2003 19:02:51 -0000
Received: from unknown (HELO wcmail.vwr.com) (66.54.172.100)
  by daedalus.apache.org with SMTP; 5 Sep 2003 19:02:51 -0000
Subject: Re: Limit on number of required/prohibited clauses
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Lotus Notes Release 5.0.8  June 18, 2001
Message-ID: <OFC8C3E268.6DB067AB-ON85256D98.00647CCA@vwr.com>
From: David_Birtwell@VWR.COM
Date: Fri, 5 Sep 2003 14:22:26 -0400
X-MIMETrack: Serialize by Router on PAWCHMAIL01/VWRI(Release 5.0.11  |July 24, 2002) at
 09/05/2003 03:07:36 PM
MIME-Version: 1.0
Content-type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Hi Scott/Eugene,

I don't think that the limitation of 32 required/prohibited clauses is
related to the BooleanQuery maxClauseCount.

The default maxClauseCount of Boolean query is set to 1024.  This
restriction is to prevent a wildcard term expansion from creating a query
with thousands of clauses.  The limitation of 32 required/prohibited
clauses is a different limitation and I believe has more to do with the way
queries are processed at a low level.

Eugene, can you group your terms so that you have less than 32
required/prohibited clauses?  For example, instead of a query that is "-red
-blue -yellow -green", you could do "-(red blue yellow green)" and reduce
your required/prohibited clause count from 4 to 1.

DaveB




                                                                                                                
                      Scott Ganyo                                                                               
                      <scott.ganyo@etap        To:       Lucene Users List <lucene-user@jakarta.apache.org>     
                      estry.com>               cc:                                                              
                                               Subject:  Re: Limit on number of required/prohibited clauses     
                      09/05/2003 01:55                                                                          
                      PM                                                                                        
                      Please respond to                                                                         
                      "Lucene Users                                                                             
                      List"                                                                                     
                                                                                                                
                                                                                                                




Hi Eugene,

Yes.  Doug (Cutting) added this to eliminate OutOfMemory errors that
apparently some people were having.  Unfortunately, it causes
backward-compatibility issues if you were used to using version 1.2.
So, you'll need to add a call like this:

BooleanQuery.setMaxClauseCount(Integer.MAX_VALUE);

(Of course, you can set the parameter to whatever you want, but
unrestricted works best for me.)

Scott

Eugene S. wrote:

>Hi,
>
>I've come across the limit on the number of
>required/prohibited clauses in a boolean query (the
>limit  is 32). What is the reasoning for having such
>limit? Can it be circumvented?
>
>Thanks!
>
>Eugene.
>
>__________________________________
>Do you Yahoo!?
>Yahoo! SiteBuilder - Free, easy-to-use web site design software
>http://sitebuilder.yahoo.com
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>

--
All progress is initiated by challenging current conceptions, and executed
by supplanting existing institutions. - George Bernard Shaw



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org







From erik@ehatchersolutions.com  Fri Sep  5 20:24:19 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14430 invoked from network); 5 Sep 2003 20:24:19 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 5 Sep 2003 20:24:19 -0000
Received: (cpmta 7933 invoked from network); 5 Sep 2003 13:23:31 -0700
Received: from 68.170.78.210 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 5 Sep 2003 13:23:31 -0700
X-Sent: 5 Sep 2003 20:23:31 GMT
Date: Fri, 5 Sep 2003 16:23:31 -0400
Subject: Re: Lucene features
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <002201c373dc$93f237f0$0b02a8c0@mother>
Message-Id: <D0FAED67-DFDE-11D7-853F-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Friday, September 5, 2003, at 02:36  PM, Chris Sibert wrote:
> Synonym searching might be desirable, but now that I'm thinking about 
> it,
> also likely not important.

This could be done with a custom Analyzer.

> Associated Words - sounds very interesting, like 'gold' might return 
> 'metal'
> also, etc.

How is that different from Synonym searching?

> But Drill Down searching is very desirable. It's where you're able to 
> search
> within the results of a previous search. I'm assuming that I'll have to
> implement that myself, by keeping a copy of the previous Hits list, 
> and only
> returning results that are in both lists.

And for the second time today.... QueryFilter.  It allows narrowing the 
documents queried to only the documents from a previous Query.

	Erik


From ab@getopt.org  Fri Sep  5 21:29:06 2003
Return-Path: <ab@getopt.org>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70751 invoked from network); 5 Sep 2003 21:29:06 -0000
Received: from unknown (HELO myworkbase.com) (66.84.39.79)
  by daedalus.apache.org with SMTP; 5 Sep 2003 21:29:06 -0000
Received: from getopt.org (75-mo3-2.acn.waw.pl [62.121.105.75])
	by myworkbase.com (8.12.9/8.11.0) with SMTP id h85LRYGq032433
	for <lucene-user@jakarta.apache.org>; Fri, 5 Sep 2003 17:27:36 -0400
X-Authentication-Warning: myworkbase.com: myworkba owned process doing -bs
Message-ID: <3F58FFEA.5020401@getopt.org>
Date: Fri, 05 Sep 2003 23:28:10 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene features
References: <487B2D42-DDC0-11D7-8A10-000393A564E6@ehatchersolutions.com> <005001c371d6$31c37920$0b02a8c0@mother> <20030903053452.GF28984@darksleep.com> <002201c3724b$2c4997c0$0b02a8c0@mother> <20030904070227.GH28984@darksleep.com> <002201c373dc$93f237f0$0b02a8c0@mother>
In-Reply-To: <002201c373dc$93f237f0$0b02a8c0@mother>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Chris Sibert wrote:
> I'm not sure what all of the 'advanced features' were also.
> 
> Phonetic Searching - probably not important to this application.
> 

Phonetic searching may be achieved by writing your own Analyzer, which 
instead (or more probably, along with) the plain tokens provides their 
phonetic codes, e.g. Double Metaphone for English, or the less useful 
but more familiar Soundex. Phonetic searching increases recall but 
lowers precision, especially if you use stemmer before phonetic encoding...

One trick to consider if using phonetic encoding is to keep around the 
histogram of the original words that have been mapped to corresponding 
phonetic codes. Then, if a query fails to provide satisfactory results, 
you can provide a useful suggestion based on the most frequent term 
found in the histogram, with equal phonetic code to the term in the query.

> Synonym searching might be desirable, but now that I'm thinking about it,
> also likely not important.
> 
> Associated Words - sounds very interesting, like 'gold' might return 'metal'
> also, etc.

If you plan on using just English text, you may want to check the 
excellent (and free) WordNet database, which offers also API - both for 
query expansion and for finding "associated words" (synsets?), or 
hypernyms like in your example.

-- 
Best regards,
Andrzej Bialecki

-------------------------------------------------
Software Architect, System Integration Specialist
CEN/ISSS EC Workshop, ECIMF project chair
EU FP6 E-Commerce Expert/Evaluator
-------------------------------------------------
FreeBSD developer (http://www.freebsd.org)




From clr72@hotmail.com  Fri Sep  5 22:23:48 2003
Return-Path: <clr72@hotmail.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97718 invoked from network); 5 Sep 2003 22:23:48 -0000
Received: from unknown (HELO hotmail.com) (65.54.245.58)
  by daedalus.apache.org with SMTP; 5 Sep 2003 22:23:47 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Fri, 5 Sep 2003 15:23:49 -0700
Received: from 213.114.25.172 by by1fd.bay1.hotmail.msn.com with HTTP;
	Fri, 05 Sep 2003 22:23:48 GMT
X-Originating-IP: [213.114.25.172]
X-Originating-Email: [clr72@hotmail.com]
From: "Clas Rydergren" <clr72@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: Modify the StandardAnalyzer
Date: Fri, 05 Sep 2003 22:23:48 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <BAY1-F58JsYAdBzzXGc0000cc41@hotmail.com>
X-OriginalArrivalTime: 05 Sep 2003 22:23:49.0032 (UTC) FILETIME=[60D96A80:01C373FC]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I have been experimenting with Lucene for a few hours, and now I'm looking 
for a solution to this:

When using the SimpleAnalyzer for indexing text, data like www.hotmail.com 
seem to be indexed as www, hotmail and com which mean that a search for 
"hotmail" will return a record. This is the behavior I am looking for! 
However, since SimpleAnalyzer do not index numbers by default, I would like 
to use the StandardAnalyzer. But, Standardanalyzer do not split the input 
stream at ".".

Ideally I should propably make my own analyser, but that seems to be a bit 
complicated to me :(. Which is the simplest possible modification that I 
need to make to the Lucene source to make the StandardAnalyzer split, for 
example web-addresses, at "." into separately indexed words?

Can this be made by modifications to the StandardTokenizer.jj? How? What is 
the easiest way of getting such modification into the "compiled" Lucene? Is 
there a need for recompiling everything?

Appreciate all help!

regards
clas

_________________________________________________________________
STOP MORE SPAM with the new MSN 8 and get 2 months FREE* 
http://join.msn.com/?page=features/junkmail


From Leo.G@seznam.cz  Sat Sep  6 00:43:56 2003
Return-Path: <Leo.G@seznam.cz>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78211 invoked from network); 6 Sep 2003 00:43:56 -0000
Received: from unknown (HELO smtp-out4.iol.cz) (194.228.2.92)
  by daedalus.apache.org with SMTP; 6 Sep 2003 00:43:56 -0000
Received: from fw.shark (gprs199-239.eurotel.cz [160.218.199.239])
	by smtp-out4.iol.cz (Internet on Line ESMTP server) with ESMTP id A6F8F302B4
	for <lucene-user@jakarta.apache.org>; Sat,  6 Sep 2003 01:45:52 +0200 (CEST)
Received: from seznam.cz (0-253.shark [192.168.0.253])
	by fw.shark (8.12.8/8.12.5) with ESMTP id h85NiLVW007168
	for <lucene-user@jakarta.apache.org>; Sat, 6 Sep 2003 01:44:27 +0200
Message-ID: <3F592029.30301@seznam.cz>
Date: Sat, 06 Sep 2003 01:45:45 +0200
From: Leo Galambos <Leo.G@seznam.cz>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene features
References: <D0FAED67-DFDE-11D7-853F-000393A564E6@ehatchersolutions.com>
In-Reply-To: <D0FAED67-DFDE-11D7-853F-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


>> But Drill Down searching is very desirable. It's where you're able to 
>> search
>> within the results of a previous search. I'm assuming that I'll have to
>> implement that myself, by keeping a copy of the previous Hits list, 
>> and only
>> returning results that are in both lists.
>
>
> And for the second time today.... QueryFilter.  It allows narrowing 
> the documents queried to only the documents from a previous Query.


I guess, it would not be an ideal solution - the first query does two 
things a) it selects a subset from the corpus; b) it assigns a relevance 
to each document of this subset. Your solution omits the second point. 
It implies, the solution will not return "good hit lists", because you 
will not consider the information value of the first query which was 
given to you by a user.

For instance, "neologism" > "George Bush" (1st>2nd query) would return 
different order of hits than "George Bush" > "neologism". Other 
examples, "Prague Berlin" > "flight" (I must go there, and I prefer an 
airplane) versus "flight" > "Prague Berlin" (I must fly, and I prefer 
Berlin).

Thus I think, Chris would implement something more complex than 
QueryFilter. If not, the results will be poorer than with the commercial 
packages he may get. He could use a different model where "AND" is not 
an associative operator (i.e. some modification of the extended Boolean 
model). It implies, he would implement it in Similarity.java (if I 
remember that class name correctly).

Leo




From incze@mail.matav.hu  Sat Sep  6 01:13:09 2003
Return-Path: <incze@mail.matav.hu>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32242 invoked from network); 6 Sep 2003 01:13:09 -0000
Received: from unknown (HELO incze.incze.hu) (62.112.223.117)
  by daedalus.apache.org with SMTP; 6 Sep 2003 01:13:09 -0000
Received: (from incze@localhost)
	by incze.incze.hu (8.11.6/8.11.6) id h861DAA01602
	for lucene-user@jakarta.apache.org; Sat, 6 Sep 2003 03:13:10 +0200
Date: Sat, 6 Sep 2003 03:13:10 +0200
From: Incze Lajos <incze@mail.matav.hu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Modify the StandardAnalyzer
Message-ID: <20030906031310.F17251@incze.incze.hu>
References: <BAY1-F58JsYAdBzzXGc0000cc41@hotmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5.1i
In-Reply-To: <BAY1-F58JsYAdBzzXGc0000cc41@hotmail.com>; from clr72@hotmail.com on Fri, Sep 05, 2003 at 10:23:48PM +0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Fri, Sep 05, 2003 at 10:23:48PM +0000, Clas Rydergren wrote:
> Hi,
> 
> I have been experimenting with Lucene for a few hours, and now I'm looking 
> for a solution to this:
> 
> When using the SimpleAnalyzer for indexing text, data like www.hotmail.com 
> seem to be indexed as www, hotmail and com which mean that a search for 
> "hotmail" will return a record. This is the behavior I am looking for! 
> However, since SimpleAnalyzer do not index numbers by default, I would like 
> to use the StandardAnalyzer. But, Standardanalyzer do not split the input 
> stream at ".".
> 
> Ideally I should propably make my own analyser, but that seems to be a bit 
> complicated to me :(. Which is the simplest possible modification that I 
> need to make to the Lucene source to make the StandardAnalyzer split, for 
> example web-addresses, at "." into separately indexed words?
> 
> Can this be made by modifications to the StandardTokenizer.jj? How? What is 
> the easiest way of getting such modification into the "compiled" Lucene? Is 
> there a need for recompiling everything?
> 
> Appreciate all help!
> 
> regards
> clas

You can stack up the two analyzers, first run the simple then the standard
on the poutput.

incze

From clr72@hotmail.com  Sat Sep  6 11:16:37 2003
Return-Path: <clr72@hotmail.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32938 invoked from network); 6 Sep 2003 11:16:37 -0000
Received: from unknown (HELO hotmail.com) (65.54.245.157)
  by daedalus.apache.org with SMTP; 6 Sep 2003 11:16:37 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Sat, 6 Sep 2003 04:15:09 -0700
Received: from 213.114.25.174 by by1fd.bay1.hotmail.msn.com with HTTP;
	Sat, 06 Sep 2003 11:15:09 GMT
X-Originating-IP: [213.114.25.174]
X-Originating-Email: [clr72@hotmail.com]
From: "Clas Rydergren" <clr72@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: Re: Modify the StandardAnalyzer
Date: Sat, 06 Sep 2003 11:15:09 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <BAY1-F157LgT9jeEWWn00004749@hotmail.com>
X-OriginalArrivalTime: 06 Sep 2003 11:15:09.0434 (UTC) FILETIME=[221E55A0:01C37468]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Hi again,

incze I am not sure I follow you. Do you mean that I should index with the 
SimpleAnalyzer and searching with the StandardAnalyzer? That is not an 
option for me since SimpleAnalyzer do not index number/digits the way I 
would like to (however, the StandardAnalyzer does!)


I found that modifying the StandardTokenizer.jj would be possible in order 
to modify the StandardAnalyzer to my prefered behaviour. When finished 
modifying the .jj-file, I run it trough JavaCC to get the .java-files. 
However those .java-files are not possible to compile together with the 
current distribution because of problems with the exception handling (see  
http://www.mail-archive.com/lucene-user@jakarta.apache.org/msg01403.html )

Next try was to compile Lucene (nightly snapshot) from scratch using Ant. 
That failed with errors with the "class collosions":

    [javac] Compiling 128 source files to 
/home/clryd/lucene/jakarta-lucene/bin/classes
    [javac] 
/home/clryd/lucene/jakarta-lucene/bin/src/org/apache/lucene/analysis/standard/StandardTokenizer.java:14: 
duplicate class: org.apache.lucene.analysis.standard.StandardTokenizer
    [javac] public class StandardTokenizer extends 
org.apache.lucene.analysis.Tokenizer implements StandardTokenizerConstants {
    [javac]        ^
    [javac] 
/home/clryd/lucene/jakarta-lucene/bin/src/org/apache/lucene/analysis/standard/StandardTokenizerTokenManager.java:5: 
duplicate class: 
org.apache.lucene.analysis.standard.StandardTokenizerTokenManager
    [javac] public class StandardTokenizerTokenManager implements 
StandardTokenizerConstants
    [javac]        ^

So now my question is, where do I find a Lucene-verion which is possible to 
compile? Where do I find the source CVS fr Lucene 1.2 r3, or something 
similar?

cheers
/Clas


> > Hi,
> >
> > I have been experimenting with Lucene for a few hours, and now I'm 
>looking
> > for a solution to this:
> >
> > When using the SimpleAnalyzer for indexing text, data like 
>www.hotmail.com
> > seem to be indexed as www, hotmail and com which mean that a search for
> > "hotmail" will return a record. This is the behavior I am looking for!
> > However, since SimpleAnalyzer do not index numbers by default, I would 
>like
> > to use the StandardAnalyzer. But, Standardanalyzer do not split the 
>input
> > stream at ".".
> >
> > Ideally I should propably make my own analyser, but that seems to be a 
>bit
> > complicated to me :(. Which is the simplest possible modification that I
> > need to make to the Lucene source to make the StandardAnalyzer split, 
>for
> > example web-addresses, at "." into separately indexed words?
> >
> > Can this be made by modifications to the StandardTokenizer.jj? How? What 
>is
> > the easiest way of getting such modification into the "compiled" Lucene? 
>Is
> > there a need for recompiling everything?
> >
> > Appreciate all help!
> >
> > regards
> > clas
>
>You can stack up the two analyzers, first run the simple then the standard
>on the poutput.
>
>incze
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

_________________________________________________________________
Tired of spam? Get advanced junk mail protection with MSN 8. 
http://join.msn.com/?page=features/junkmail


From clr72@hotmail.com  Sat Sep  6 13:12:52 2003
Return-Path: <clr72@hotmail.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29732 invoked from network); 6 Sep 2003 13:12:52 -0000
Received: from unknown (HELO hotmail.com) (65.54.245.94)
  by daedalus.apache.org with SMTP; 6 Sep 2003 13:12:52 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Sat, 6 Sep 2003 06:12:41 -0700
Received: from 213.114.25.174 by by1fd.bay1.hotmail.msn.com with HTTP;
	Sat, 06 Sep 2003 13:12:40 GMT
X-Originating-IP: [213.114.25.174]
X-Originating-Email: [clr72@hotmail.com]
From: "Clas Rydergren" <clr72@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: Re: Modify the StandardAnalyzer
Date: Sat, 06 Sep 2003 13:12:40 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <BAY1-F94mGX8w2Gn5Iu0002aeec@hotmail.com>
X-OriginalArrivalTime: 06 Sep 2003 13:12:41.0131 (UTC) FILETIME=[8D41E7B0:01C37478]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N



Sorry, I found the Lucene-1.3-rc1-src files, which compiles perfectly well 
;-) and I "resolved" the original problem by including "." as a whitespace 
character in the queryParser.jj-file. This is maybe not the best solution, 
but it solved my problems for now.

Thanks
/Clas



>Hi again,
>
>incze I am not sure I follow you. Do you mean that I should index with the 
>SimpleAnalyzer and searching with the StandardAnalyzer? That is not an 
>option for me since SimpleAnalyzer do not index number/digits the way I 
>would like to (however, the StandardAnalyzer does!)
>
>
>I found that modifying the StandardTokenizer.jj would be possible in order 
>to modify the StandardAnalyzer to my prefered behaviour. When finished 
>modifying the .jj-file, I run it trough JavaCC to get the .java-files. 
>However those .java-files are not possible to compile together with the 
>current distribution because of problems with the exception handling (see  
>http://www.mail-archive.com/lucene-user@jakarta.apache.org/msg01403.html )
>
>Next try was to compile Lucene (nightly snapshot) from scratch using Ant. 
>That failed with errors with the "class collosions":
>
>    [javac] Compiling 128 source files to 
>/home/clryd/lucene/jakarta-lucene/bin/classes
>    [javac] 
>/home/clryd/lucene/jakarta-lucene/bin/src/org/apache/lucene/analysis/standard/StandardTokenizer.java:14: 
>duplicate class: org.apache.lucene.analysis.standard.StandardTokenizer
>    [javac] public class StandardTokenizer extends 
>org.apache.lucene.analysis.Tokenizer implements StandardTokenizerConstants 
>{
>    [javac]        ^
>    [javac] 
>/home/clryd/lucene/jakarta-lucene/bin/src/org/apache/lucene/analysis/standard/StandardTokenizerTokenManager.java:5: 
>duplicate class: 
>org.apache.lucene.analysis.standard.StandardTokenizerTokenManager
>    [javac] public class StandardTokenizerTokenManager implements 
>StandardTokenizerConstants
>    [javac]        ^
>
>So now my question is, where do I find a Lucene-verion which is possible to 
>compile? Where do I find the source CVS fr Lucene 1.2 r3, or something 
>similar?
>
>cheers
>/Clas
>
>
>> > Hi,
>> >
>> > I have been experimenting with Lucene for a few hours, and now I'm 
>>looking
>> > for a solution to this:
>> >
>> > When using the SimpleAnalyzer for indexing text, data like 
>>www.hotmail.com
>> > seem to be indexed as www, hotmail and com which mean that a search for
>> > "hotmail" will return a record. This is the behavior I am looking for!
>> > However, since SimpleAnalyzer do not index numbers by default, I would 
>>like
>> > to use the StandardAnalyzer. But, Standardanalyzer do not split the 
>>input
>> > stream at ".".
>> >
>> > Ideally I should propably make my own analyser, but that seems to be a 
>>bit
>> > complicated to me :(. Which is the simplest possible modification that 
>>I
>> > need to make to the Lucene source to make the StandardAnalyzer split, 
>>for
>> > example web-addresses, at "." into separately indexed words?
>> >
>> > Can this be made by modifications to the StandardTokenizer.jj? How? 
>>What is
>> > the easiest way of getting such modification into the "compiled" 
>>Lucene? Is
>> > there a need for recompiling everything?
>> >
>> > Appreciate all help!
>> >
>> > regards
>> > clas
>>
>>You can stack up the two analyzers, first run the simple then the standard
>>on the poutput.
>>
>>incze
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>
>_________________________________________________________________
>Tired of spam? Get advanced junk mail protection with MSN 8. 
>http://join.msn.com/?page=features/junkmail
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

_________________________________________________________________
STOP MORE SPAM with the new MSN 8 and get 2 months FREE* 
http://join.msn.com/?page=features/junkmail


From erik@ehatchersolutions.com  Sun Sep  7 02:44:39 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57873 invoked from network); 7 Sep 2003 02:44:39 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.72)
  by daedalus.apache.org with SMTP; 7 Sep 2003 02:44:39 -0000
Received: (cpmta 3675 invoked from network); 6 Sep 2003 19:44:44 -0700
Received: from 68.170.78.210 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.72) with SMTP; 6 Sep 2003 19:44:44 -0700
X-Sent: 7 Sep 2003 02:44:44 GMT
Date: Sat, 6 Sep 2003 22:44:45 -0400
Subject: Re: Lucene features
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3F592029.30301@seznam.cz>
Message-Id: <3DC24860-E0DD-11D7-ADF3-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Friday, September 5, 2003, at 07:45  PM, Leo Galambos wrote:
>> And for the second time today.... QueryFilter.  It allows narrowing 
>> the documents queried to only the documents from a previous Query.
>
>
> I guess, it would not be an ideal solution - the first query does two 
> things a) it selects a subset from the corpus; b) it assigns a 
> relevance to each document of this subset. Your solution omits the 
> second point. It implies, the solution will not return "good hit 
> lists", because you will not consider the information value of the 
> first query which was given to you by a user.

Yes, you're right.  Getting the scores of a second query based on the 
scores of the first query is probably not trivial, but probably 
possible with Lucene.  And that combined with a QueryFilter would do 
the trick I suspect.  Somehow the scores of the first query could be 
remembered and used as a boost (or other type of factor) the scores of 
the second query.

Am I off base here?

> Thus I think, Chris would implement something more complex than 
> QueryFilter. If not, the results will be poorer than with the 
> commercial packages he may get. He could use a different model where 
> "AND" is not an associative operator (i.e. some modification of the 
> extended Boolean model). It implies, he would implement it in 
> Similarity.java (if I remember that class name correctly).

Right... but you'd still need the filtering capability as well, I would 
think - at least for performance reasons.

	Erik


From Leo.G@seznam.cz  Sun Sep  7 15:54:01 2003
Return-Path: <Leo.G@seznam.cz>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72883 invoked from network); 7 Sep 2003 15:54:01 -0000
Received: from unknown (HELO smtp-out4.iol.cz) (194.228.2.92)
  by daedalus.apache.org with SMTP; 7 Sep 2003 15:54:01 -0000
Received: from fw.shark (gprs192-217.eurotel.cz [160.218.192.217])
	by smtp-out4.iol.cz (Internet on Line ESMTP server) with ESMTP id A9E322FF9E
	for <lucene-user@jakarta.apache.org>; Sun,  7 Sep 2003 17:23:35 +0200 (CEST)
Received: from seznam.cz (0-253.shark [192.168.0.253])
	by fw.shark (8.12.8/8.12.5) with ESMTP id h87FM4VW020310
	for <lucene-user@jakarta.apache.org>; Sun, 7 Sep 2003 17:22:12 +0200
Message-ID: <3F5B4D67.9090402@seznam.cz>
Date: Sun, 07 Sep 2003 17:23:19 +0200
From: Leo Galambos <Leo.G@seznam.cz>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene features
References: <3DC24860-E0DD-11D7-ADF3-000393A564E6@ehatchersolutions.com>
In-Reply-To: <3DC24860-E0DD-11D7-ADF3-000393A564E6@ehatchersolutions.com>
X-Enigmail-Version: 0.76.6.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Erik Hatcher wrote:

> On Friday, September 5, 2003, at 07:45  PM, Leo Galambos wrote:
>
>>> And for the second time today.... QueryFilter.  It allows narrowing 
>>> the documents queried to only the documents from a previous Query.
>>
>>
>>
>> I guess, it would not be an ideal solution - the first query does two 
>> things a) it selects a subset from the corpus; b) it assigns a 
>> relevance to each document of this subset. Your solution omits the 
>> second point. It implies, the solution will not return "good hit 
>> lists", because you will not consider the information value of the 
>> first query which was given to you by a user.
>
>
> Yes, you're right.  Getting the scores of a second query based on the 
> scores of the first query is probably not trivial, but probably 
> possible with Lucene.  And that combined with a QueryFilter would do 
> the trick I suspect.  Somehow the scores of the first query could be 
> remembered and used as a boost (or other type of factor) the scores of 
> the second query.


Well, I do not want to be a pessimist, but the boost vector is not a 
good solution due to CWI statistics. On the other hand, it is much 
better than the simple QueryFilter which, in fact, works as 0/1 boost.

Example: I use this notation: inverted_list_term:{list of W values, "-" 
denotes W=0, for 12 documents in a collection}
A:{23[16]------27}
B:{--[38]--------}
C:{18[2-]45239812}
If your first query is B, the subset of documents (denoted by brackets - 
namely, the 3rd and 4th doc) is selected, and if your second query is "A 
C", then you cannot use global IDFs, because in the subset, the IDF 
factors are different. Globally, A is better distriminator, but in the 
subset, C is better. This fact is then reflected by the hit list you 
generate, and I guess, the quality will be also affected by this.

The example shows, that you would rather export the subset to an 
auxiliary index (RAMDirectory?) and then use this structure instead of 
the original index. Obviously, it will solve the issue of speed you 
mentioned.

Unfortunately, I am not sure, if you can export the inverted lists when 
you read them. In egothor, I would use a listener in Rider class, in 
Lucene, I would have to rewrite some classes and it could be a real 
problem. Maybe, there is a solution I do not see...

Your turn ;-)
Cheers,
Leo

>
> Am I off base here?
>
>> Thus I think, Chris would implement something more complex than 
>> QueryFilter. If not, the results will be poorer than with the 
>> commercial packages he may get. He could use a different model where 
>> "AND" is not an associative operator (i.e. some modification of the 
>> extended Boolean model). It implies, he would implement it in 
>> Similarity.java (if I remember that class name correctly).
>
>
> Right... but you'd still need the filtering capability as well, I 
> would think - at least for performance reasons.
>
>     Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>




From mtedone@jemos.org  Sun Sep  7 18:01:19 2003
Return-Path: <mtedone@jemos.org>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84320 invoked from network); 7 Sep 2003 18:01:19 -0000
Received: from unknown (HELO minotaur.apache.org) (209.237.227.194)
  by daedalus.apache.org with SMTP; 7 Sep 2003 18:01:19 -0000
Received: (qmail 91356 invoked from network); 7 Sep 2003 18:01:14 -0000
Received: from dsl-62-3-127-84.zen.co.uk (HELO jemoserver) (62.3.127.84)
  by minotaur-2.apache.org with SMTP; 7 Sep 2003 18:01:14 -0000
Received: from jemoserver ([192.168.2.3])
          by jemoserver (JAMES SMTP Server 2.2.0a10) with SMTP ID 769
          for <lucene-user@jakarta.apache.org>;
          Sun, 7 Sep 2003 18:59:41 +0100 (BST)
Message-ID: <019a01c37569$cf725ba0$0302a8c0@jemoserver>
From: "Marco Tedone" <mtedone@jemos.org>
To: "lucene-users" <lucene-user@jakarta.apache.org>
Subject: [NEWBIE] Creating context-relative URLs with Tomcat + Struts
Date: Sun, 7 Sep 2003 18:59:40 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi all, this is my first post, so I hope not to bore you too much with my
questions:

Ok, let's say that I would like to translate system's specific URLs (i.e.
D:\Tomcat\webapps\foo\foo\bar.jsp and so on...) into  web-context specific
URLs (i.e. http://myServer/foo/foo/bar.jsp). Well, if I immagine to replace
D:\Tomcat\webapps with http://myServer things seem quite easy. My first
question is: is this the right way? As I am very new to Lucene, is there a
possibility to instruct the IndexWriter to replace system path with web path
(specified as argument) during index creation?

Secondly, this is for Struts users, a jsp page not necessarily can be
executed without passing from a Struts Action (i.e. an Action prepared some
data to display, and if we try to access the jsp directly we could have some
bad 5 minutes), so my question is: did anyone encountered this kind of
questions? Did you find any solution? For this second subject, I could think
to a sort of mapping file between JSPs and relevant actions, so that we can
assume that if the user clicks on a JSP link, instead the relevant action
for that JSP will be executed and then the JSP displayed. The mainteinance
for this solution seems CRAP.

Hope someone of you will help,

Marco




From scott@atlassian.com  Sun Sep  7 23:21:53 2003
Return-Path: <scott@atlassian.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57895 invoked from network); 7 Sep 2003 23:21:53 -0000
Received: from unknown (HELO zeus.atlassian.com) (209.61.131.223)
  by daedalus.apache.org with SMTP; 7 Sep 2003 23:21:53 -0000
Received: (from sfarquhar@localhost)
	by zeus.atlassian.com (8.11.6/8.11.6) id h87NLsg09215
	for lucene-user@jakarta.apache.org; Sun, 7 Sep 2003 18:21:54 -0500
X-Authentication-Warning: zeus.atlassian.com: sfarquhar set sender to scott@atlassian.com using -f
Date: Sun, 7 Sep 2003 18:21:54 -0500
From: Scott Farquhar <scott@atlassian.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: [NEWBIE] Creating context-relative URLs with Tomcat + Struts
Message-ID: <20030907182154.A9147@zeus.atlassian.com>
References: <019a01c37569$cf725ba0$0302a8c0@jemoserver>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5i
In-Reply-To: <019a01c37569$cf725ba0$0302a8c0@jemoserver>; from mtedone@jemos.org on Sun, Sep 07, 2003 at 06:59:40PM +0100
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Marco,

You may want to explain what you are trying to do before you start
describing your problems.

For example, I have no idea how / why you would use Lucene to do either
of the things you are talking about below.

Cheers,
Scott

On Sun, Sep 07, 2003 at 06:59:40PM +0100, Marco Tedone wrote:
> Hi all, this is my first post, so I hope not to bore you too much with my
> questions:
> 
> Ok, let's say that I would like to translate system's specific URLs (i.e.
> D:\Tomcat\webapps\foo\foo\bar.jsp and so on...) into  web-context specific
> URLs (i.e. http://myServer/foo/foo/bar.jsp). Well, if I immagine to replace
> D:\Tomcat\webapps with http://myServer things seem quite easy. My first
> question is: is this the right way? As I am very new to Lucene, is there a
> possibility to instruct the IndexWriter to replace system path with web path
> (specified as argument) during index creation?
> 
> Secondly, this is for Struts users, a jsp page not necessarily can be
> executed without passing from a Struts Action (i.e. an Action prepared some
> data to display, and if we try to access the jsp directly we could have some
> bad 5 minutes), so my question is: did anyone encountered this kind of
> questions? Did you find any solution? For this second subject, I could think
> to a sort of mapping file between JSPs and relevant actions, so that we can
> assume that if the user clicks on a JSP link, instead the relevant action
> for that JSP will be executed and then the JSP displayed. The mainteinance
> for this solution seems CRAP.
> 
> Hope someone of you will help,
> 
> Marco
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org

From yourfriendrohit@rediffmail.com  Mon Sep  8 05:08:22 2003
Return-Path: <yourfriendrohit@rediffmail.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57220 invoked from network); 8 Sep 2003 05:08:22 -0000
Received: from unknown (HELO rediffmail.com) (203.199.83.37)
  by daedalus.apache.org with SMTP; 8 Sep 2003 05:08:22 -0000
Received: (qmail 24207 invoked by uid 510); 8 Sep 2003 05:07:12 -0000
Date: 8 Sep 2003 05:07:12 -0000
Message-ID: <20030908050712.24206.qmail@webmail27.rediffmail.com>
Received: from unknown (203.124.128.117) by rediffmail.com via HTTP; 08 sep 2003 05:07:12 -0000
MIME-Version: 1.0
From: "Rohit  Bhagwat" <yourfriendrohit@rediffmail.com>
Reply-To: "Rohit  Bhagwat" <yourfriendrohit@rediffmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Unable to download Lucene source code
Content-type: text/plain;
	format=flowed
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Hello,
 	I am unable to download the source code from any of the links on 
page
http://jakarta.apache.org/site/sourceindex.html
are these links working? I tried all the mirrors.

  Is there any other place on this website, where I can get the 
source code or Can anybody send me the zip files of source code by 
mail, if the size is not too big?

 	Kindly help me out.I am itching to provide 'Search facility' on 
my website and explore Lucene :-)

Thanks & Regards,
Rohit.

Email : yourfriendrohit@rediffmail.com
___________________________________________________
Law meets Electronics; Veena Weds Sanjay.
Rediff Matchmaker strikes another interesting match !!
Visit http://rediff.com/matchmaker?1


From Gregor.Heinrich@igd.fhg.de  Mon Sep  8 09:41:54 2003
Return-Path: <Gregor.Heinrich@igd.fhg.de>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44372 invoked from network); 8 Sep 2003 09:41:54 -0000
Received: from unknown (HELO igdmail.igd.fhg.de) (146.140.28.14)
  by daedalus.apache.org with SMTP; 8 Sep 2003 09:41:54 -0000
Received: from pcara ([146.140.9.73]) by igdmail.igd.fhg.de
          (Netscape Messaging Server 3.6)  with SMTP id AAA7043
          for <lucene-user@jakarta.apache.org>;
          Mon, 8 Sep 2003 11:41:53 +0200
Reply-To: <heinrich@igd.fhg.de>
From: "Gregor Heinrich" <Gregor.Heinrich@igd.fhg.de>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: wildcard search
Date: Mon, 8 Sep 2003 11:41:23 +0200
Message-ID: <006b01c375ed$5e1bb940$49098c92@pcara>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <3F5B4D67.9090402@seznam.cz>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

when querying with a wildcard, e.g., "project*", QueryParser (v1.3rc2-dev)
does seem to count the * as "at least one character" (RE=/.+/), i.e., the
query finds documents containing "projection" and "projective" (no stemming
involved) but not "project". Has anyone an explanation?

Not sure if I have stepped across a bug or for some reason misconfigured
Lucene. (The implementation uses MultiFieldQueryParser.)

Thanks for comments,

Gregor


From thangmn@ssp.com.vn  Mon Sep  8 09:52:08 2003
Return-Path: <thangmn@ssp.com.vn>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57929 invoked from network); 8 Sep 2003 09:52:08 -0000
Received: from unknown (HELO antirelay.saigonsoft.com) (202.161.151.187)
  by daedalus.apache.org with SMTP; 8 Sep 2003 09:52:08 -0000
Received: from antirelay.saigonsoft.com (localhost [127.0.0.1])
	by antirelay.saigonsoft.com (8.12.9/8.12.9) with ESMTP id h889pkhW011945
	for <lucene-user@jakarta.apache.org>; Mon, 8 Sep 2003 02:51:46 -0700 (GMT)
Received: from thangmn ([192.168.9.254])
	by antirelay.saigonsoft.com (8.12.9/8.12.9) with SMTP id h889pd2j011940;
	Mon, 8 Sep 2003 02:51:40 -0700 (GMT)
Message-ID: <009c01c375ee$a9e9bd80$3401a8c0@soft.ssp.com.vn>
From: "Mai Ngoc Thang" <thangmn@ssp.com.vn>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
   "Rohit  Bhagwat" <yourfriendrohit@rediffmail.com>
References: <20030908050712.24206.qmail@webmail27.rediffmail.com>
Subject: Re: Unable to download Lucene source code
Date: Mon, 8 Sep 2003 16:50:27 +0700
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Try this:

http://jakarta.apache.org/builds/jakarta-lucene/release/v1.3-rc1/

I have just downloaded from this and everything is OK,

Cheers,

Thangmn

 
> Hello,
>   I am unable to download the source code from any of the links on 
> page
> http://jakarta.apache.org/site/sourceindex.html
> are these links working? I tried all the mirrors.
> 
>   Is there any other place on this website, where I can get the 
> source code or Can anybody send me the zip files of source code by 
> mail, if the size is not too big?
> 
>   Kindly help me out.I am itching to provide 'Search facility' on 
> my website and explore Lucene :-)
> 
> Thanks & Regards,
> Rohit.
> 
> Email : yourfriendrohit@rediffmail.com


From mtedone@jemos.org  Mon Sep  8 12:42:54 2003
Return-Path: <mtedone@jemos.org>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99001 invoked from network); 8 Sep 2003 12:42:54 -0000
Received: from unknown (HELO jemoserver) (62.3.127.84)
  by daedalus.apache.org with SMTP; 8 Sep 2003 12:42:54 -0000
Received: from jemoserver ([192.168.2.3])
          by jemoserver (JAMES SMTP Server 2.2.0a10) with SMTP ID 656
          for <lucene-user@jakarta.apache.org>;
          Mon, 8 Sep 2003 07:42:11 +0100 (BST)
Message-ID: <002301c375d4$54fb55a0$0302a8c0@jemoserver>
From: "Marco Tedone" <mtedone@jemos.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <019a01c37569$cf725ba0$0302a8c0@jemoserver> <20030907182154.A9147@zeus.atlassian.com>
Subject: Re: [NEWBIE] Creating context-relative URLs with Tomcat + Struts
Date: Mon, 8 Sep 2003 07:42:11 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Sorry Scott, I was under the flies of enthusiasm :)  I'm trying to realize a
simple web-site search functionality and I would like to use Lucene as
index-search engine.

BTW, does it exist any book on Lucene?

Marco
----- Original Message ----- 
From: "Scott Farquhar" <scott@atlassian.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, September 08, 2003 12:21 AM
Subject: Re: [NEWBIE] Creating context-relative URLs with Tomcat + Struts


> Marco,
>
> You may want to explain what you are trying to do before you start
> describing your problems.
>
> For example, I have no idea how / why you would use Lucene to do either
> of the things you are talking about below.
>
> Cheers,
> Scott
>
> On Sun, Sep 07, 2003 at 06:59:40PM +0100, Marco Tedone wrote:
> > Hi all, this is my first post, so I hope not to bore you too much with
my
> > questions:
> >
> > Ok, let's say that I would like to translate system's specific URLs
(i.e.
> > D:\Tomcat\webapps\foo\foo\bar.jsp and so on...) into  web-context
specific
> > URLs (i.e. http://myServer/foo/foo/bar.jsp). Well, if I immagine to
replace
> > D:\Tomcat\webapps with http://myServer things seem quite easy. My first
> > question is: is this the right way? As I am very new to Lucene, is there
a
> > possibility to instruct the IndexWriter to replace system path with web
path
> > (specified as argument) during index creation?
> >
> > Secondly, this is for Struts users, a jsp page not necessarily can be
> > executed without passing from a Struts Action (i.e. an Action prepared
some
> > data to display, and if we try to access the jsp directly we could have
some
> > bad 5 minutes), so my question is: did anyone encountered this kind of
> > questions? Did you find any solution? For this second subject, I could
think
> > to a sort of mapping file between JSPs and relevant actions, so that we
can
> > assume that if the user clicks on a JSP link, instead the relevant
action
> > for that JSP will be executed and then the JSP displayed. The
mainteinance
> > for this solution seems CRAP.
> >
> > Hope someone of you will help,
> >
> > Marco
> >
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>




From jeff@greenninja.com  Mon Sep  8 14:31:11 2003
Return-Path: <jeff@greenninja.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69990 invoked from network); 8 Sep 2003 14:31:11 -0000
Received: from unknown (HELO cosmos.phpwebhosting.com) (66.33.60.222)
  by daedalus.apache.org with SMTP; 8 Sep 2003 14:31:11 -0000
Received: (qmail 29026 invoked from network); 8 Sep 2003 14:24:24 -0000
Received: from unknown (HELO charliebrown) (64.123.5.217)
  by cosmos.phpwebhosting.com with SMTP; 8 Sep 2003 14:24:24 -0000
Message-ID: <027d01c37615$2a50e040$7a01a8c0@charliebrown>
From: "Jeff Linwood" <jeff@greenninja.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <019a01c37569$cf725ba0$0302a8c0@jemoserver> <20030907182154.A9147@zeus.atlassian.com> <002301c375d4$54fb55a0$0302a8c0@jemoserver>
Subject: Re: [NEWBIE] Creating context-relative URLs with Tomcat + Struts
Date: Mon, 8 Sep 2003 09:26:16 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I don't know of any books on just Lucene, but I wrote a chapter on Lucene in
Professional Struts Applications. Since you're apparently using Struts, you
might find it useful.  Another book that has a chapter on Lucene is
Professional JSP.

One thing you should know about Lucene - it's not a ready-to-run search
engine.  You can't just drop it into a web application and let it go, you
have to write the code to add the content to Lucene yourself, and write the
web pages to search the Lucene index and display the results.

Thanks,
Jeff
----- Original Message ----- 
From: "Marco Tedone" <mtedone@jemos.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, September 08, 2003 1:42 AM
Subject: Re: [NEWBIE] Creating context-relative URLs with Tomcat + Struts


> Sorry Scott, I was under the flies of enthusiasm :)  I'm trying to realize
a
> simple web-site search functionality and I would like to use Lucene as
> index-search engine.
>
> BTW, does it exist any book on Lucene?
>
> Marco
> ----- Original Message ----- 
> From: "Scott Farquhar" <scott@atlassian.com>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Monday, September 08, 2003 12:21 AM
> Subject: Re: [NEWBIE] Creating context-relative URLs with Tomcat + Struts
>
>
> > Marco,
> >
> > You may want to explain what you are trying to do before you start
> > describing your problems.
> >
> > For example, I have no idea how / why you would use Lucene to do either
> > of the things you are talking about below.
> >
> > Cheers,
> > Scott
> >
> > On Sun, Sep 07, 2003 at 06:59:40PM +0100, Marco Tedone wrote:
> > > Hi all, this is my first post, so I hope not to bore you too much with
> my
> > > questions:
> > >
> > > Ok, let's say that I would like to translate system's specific URLs
> (i.e.
> > > D:\Tomcat\webapps\foo\foo\bar.jsp and so on...) into  web-context
> specific
> > > URLs (i.e. http://myServer/foo/foo/bar.jsp). Well, if I immagine to
> replace
> > > D:\Tomcat\webapps with http://myServer things seem quite easy. My
first
> > > question is: is this the right way? As I am very new to Lucene, is
there
> a
> > > possibility to instruct the IndexWriter to replace system path with
web
> path
> > > (specified as argument) during index creation?
> > >
> > > Secondly, this is for Struts users, a jsp page not necessarily can be
> > > executed without passing from a Struts Action (i.e. an Action prepared
> some
> > > data to display, and if we try to access the jsp directly we could
have
> some
> > > bad 5 minutes), so my question is: did anyone encountered this kind of
> > > questions? Did you find any solution? For this second subject, I could
> think
> > > to a sort of mapping file between JSPs and relevant actions, so that
we
> can
> > > assume that if the user clicks on a JSP link, instead the relevant
> action
> > > for that JSP will be executed and then the JSP displayed. The
> mainteinance
> > > for this solution seems CRAP.
> > >
> > > Hope someone of you will help,
> > >
> > > Marco
> > >
> > >
> > >
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


From Donglatco@firstam.com  Mon Sep  8 17:04:25 2003
Return-Path: <Donglatco@firstam.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5264 invoked from network); 8 Sep 2003 17:04:25 -0000
Received: from unknown (HELO wsmailap02) (208.246.101.198)
  by daedalus.apache.org with SMTP; 8 Sep 2003 17:04:25 -0000
Received: from 172.21.131.5 by wsmailap02 with ESMTP (Tumbleweed MMS
 SMTP Relay (MMS v5.5.3)); Mon, 08 Sep 2003 10:04:19 -0700
Received: from uscasna01smx04.corp.firstam.com ([172.17.192.54]) by
 famarp01.firstam.com (Mirapoint Messaging Server MOS 3.3.5-GR) with
 ESMTP id CMT99148; Mon, 8 Sep 2003 10:03:49 -0700 (PDT)
Received: by uscasna01smx04.corp.firstam.com with Internet Mail Service
 (5.5.2656.59) id <QZXSB5KX>; Mon, 8 Sep 2003 10:04:17 -0700
Message-ID: <B53968E0F2E758478625534860DC4287029F7ECA@itcxsna04smxs01>
From: "Onglatco, David" <Donglatco@firstam.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: Can't search using numbers
Date: Mon, 8 Sep 2003 09:55:16 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2656.59)
X-WSS-ID: 13426919249331-01-01
Content-Type: multipart/alternative;
 boundary="----_=_NextPart_001_01C37629.FA34B200"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C37629.FA34B200
Content-Type: text/plain
Content-Transfer-Encoding: 7bit

I am able to make text searches, but am unable to search for numbers. I did
check my Analyzer class if numbers were included in the STOP-WORDS, but they
weren't.
 
Has anyone had this problem? Or does anyone have any suggestions? Any help
would be immensely appreciated.
 
Thanks.
 
David O.
 

------_=_NextPart_001_01C37629.FA34B200--


From erik@ehatchersolutions.com  Mon Sep  8 17:37:19 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92807 invoked from network); 8 Sep 2003 17:37:19 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 8 Sep 2003 17:37:19 -0000
Received: (cpmta 26152 invoked from network); 8 Sep 2003 10:37:17 -0700
Received: from 68.170.78.210 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 8 Sep 2003 10:37:17 -0700
X-Sent: 8 Sep 2003 17:37:17 GMT
Date: Mon, 8 Sep 2003 13:37:21 -0400
Subject: Re: Can't search using numbers
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <B53968E0F2E758478625534860DC4287029F7ECA@itcxsna04smxs01>
Message-Id: <197E2DE6-E223-11D7-9DE5-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Which Analyzer are you using?

Look at the "Analysis" section of my article here:

	http://today.java.net/pub/a/today/2003/07/30/LuceneIntro.html

It will help you construct a simple test to see what your Analyzer is 
or is not doing.

	Erik

On Monday, September 8, 2003, at 12:55  PM, Onglatco, David wrote:

> I am able to make text searches, but am unable to search for numbers. 
> I did
> check my Analyzer class if numbers were included in the STOP-WORDS, 
> but they
> weren't.
>
> Has anyone had this problem? Or does anyone have any suggestions? Any 
> help
> would be immensely appreciated.
>
> Thanks.
>
> David O.
>


From mtedone@jemos.org  Tue Sep  9 05:48:21 2003
Return-Path: <mtedone@jemos.org>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62690 invoked from network); 9 Sep 2003 05:48:21 -0000
Received: from unknown (HELO jemoserver) (62.3.127.84)
  by daedalus.apache.org with SMTP; 9 Sep 2003 05:48:21 -0000
Received: from jemoserver ([192.168.2.3])
          by jemoserver (JAMES SMTP Server 2.2.0a10) with SMTP ID 338
          for <lucene-user@jakarta.apache.org>;
          Mon, 8 Sep 2003 21:51:51 +0100 (BST)
Message-ID: <00e401c3764b$072b2a40$0302a8c0@jemoserver>
From: "Marco Tedone" <mtedone@jemos.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <019a01c37569$cf725ba0$0302a8c0@jemoserver> <20030907182154.A9147@zeus.atlassian.com> <002301c375d4$54fb55a0$0302a8c0@jemoserver> <027d01c37615$2a50e040$7a01a8c0@charliebrown>
Subject: Re: [NEWBIE] Creating context-relative URLs with Tomcat + Struts
Date: Mon, 8 Sep 2003 21:51:51 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Jeff, DAMN!, two of the books I haven't got :) I bought Jakarta Struts
from O'reilly and another one on JSP/Servlets/Web programming.

I already wrote the user interfaces and the classes (I wrote a stateless EJB
which performs both the indexing and the researching of the result) to run
the search.

My problem is another: as you'll certainly know, as I'm running on Windows,
my Tomcat home path is something similar to:

D:\Tomcat\

From my web application (which is a J2EE application using Struts and
Tomcat) I ask the application administrator to specify the folder she wants
to index and the folder where she wants the results to be put (for future
searches...) and the file extensions she wants to include.

Now, the application generates the index without any problem. The problem is
that the path to the files is:

D:\Tomcat\webapps\myapp\web\.... (The list of indexed files) and not
something like:

http://www.jemos.org/myapp/web/index.jsp
http://www.jemos.org/myapp/web/welcome.jsp

...And so on.

Therefore, if the user runs a search, I feel myself ridicolous if I'm going
to show her Windows path instead of web-relative paths. The reason for that
is that I'm using the FileDocument class coming with the distribution, which
write the "path" Field using the File.getPath() method.

But there is another problem: because I'm using Tiles (a mean of framing)
the actual web-content is contained in foo-body.jsp pages, which are not
directly accessible, because at least the user will access foo.jsp (which
basically contains only an include to the foo-body.jsp) but more likely he
will perform a Struts Action.

I'm thinking at the following possible solution:

Defining somewhere (conf file?) a mapping between paths to JSPs containing
sensible content (i.e. referring to the above example foo-body.jsp. This way
the path could remain system-relative) and URLs to Struts Action which are
actually executable by simply clicking a link and which forward to those
JSPs. The user then will perform a search, my application will intercept the
string representing the path to the document containing the information,
will search on the mapping file the mapping to the Struts action and will
display to the user the latter link. Eventually the results can be cached
somewhere.

What do you think about this possible solution?

Marco


----- Original Message ----- 
From: "Jeff Linwood" <jeff@greenninja.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, September 08, 2003 3:26 PM
Subject: Re: [NEWBIE] Creating context-relative URLs with Tomcat + Struts


> Hi,
>
> I don't know of any books on just Lucene, but I wrote a chapter on Lucene
in
> Professional Struts Applications. Since you're apparently using Struts,
you
> might find it useful.  Another book that has a chapter on Lucene is
> Professional JSP.
>
> One thing you should know about Lucene - it's not a ready-to-run search
> engine.  You can't just drop it into a web application and let it go, you
> have to write the code to add the content to Lucene yourself, and write
the
> web pages to search the Lucene index and display the results.
>
> Thanks,
> Jeff
> ----- Original Message ----- 
> From: "Marco Tedone" <mtedone@jemos.org>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Monday, September 08, 2003 1:42 AM
> Subject: Re: [NEWBIE] Creating context-relative URLs with Tomcat + Struts
>
>
> > Sorry Scott, I was under the flies of enthusiasm :)  I'm trying to
realize
> a
> > simple web-site search functionality and I would like to use Lucene as
> > index-search engine.
> >
> > BTW, does it exist any book on Lucene?
> >
> > Marco
> > ----- Original Message ----- 
> > From: "Scott Farquhar" <scott@atlassian.com>
> > To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> > Sent: Monday, September 08, 2003 12:21 AM
> > Subject: Re: [NEWBIE] Creating context-relative URLs with Tomcat +
Struts
> >
> >
> > > Marco,
> > >
> > > You may want to explain what you are trying to do before you start
> > > describing your problems.
> > >
> > > For example, I have no idea how / why you would use Lucene to do
either
> > > of the things you are talking about below.
> > >
> > > Cheers,
> > > Scott
> > >
> > > On Sun, Sep 07, 2003 at 06:59:40PM +0100, Marco Tedone wrote:
> > > > Hi all, this is my first post, so I hope not to bore you too much
with
> > my
> > > > questions:
> > > >
> > > > Ok, let's say that I would like to translate system's specific URLs
> > (i.e.
> > > > D:\Tomcat\webapps\foo\foo\bar.jsp and so on...) into  web-context
> > specific
> > > > URLs (i.e. http://myServer/foo/foo/bar.jsp). Well, if I immagine to
> > replace
> > > > D:\Tomcat\webapps with http://myServer things seem quite easy. My
> first
> > > > question is: is this the right way? As I am very new to Lucene, is
> there
> > a
> > > > possibility to instruct the IndexWriter to replace system path with
> web
> > path
> > > > (specified as argument) during index creation?
> > > >
> > > > Secondly, this is for Struts users, a jsp page not necessarily can
be
> > > > executed without passing from a Struts Action (i.e. an Action
prepared
> > some
> > > > data to display, and if we try to access the jsp directly we could
> have
> > some
> > > > bad 5 minutes), so my question is: did anyone encountered this kind
of
> > > > questions? Did you find any solution? For this second subject, I
could
> > think
> > > > to a sort of mapping file between JSPs and relevant actions, so that
> we
> > can
> > > > assume that if the user clicks on a JSP link, instead the relevant
> > action
> > > > for that JSP will be executed and then the JSP displayed. The
> > mainteinance
> > > > for this solution seems CRAP.
> > > >
> > > > Hope someone of you will help,
> > > >
> > > > Marco
> > > >
> > > >
> > > >
> > > >
> > >
> ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > >
> > >
> >
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>




From cvwebmaster@noos.fr  Tue Sep  9 14:39:13 2003
Return-Path: <cvwebmaster@noos.fr>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25961 invoked from network); 9 Sep 2003 14:39:13 -0000
Received: from unknown (HELO smtp.noos.fr) (212.198.2.122)
  by daedalus.apache.org with SMTP; 9 Sep 2003 14:39:13 -0000
Received: (qmail 26721 invoked by uid 0); 9 Sep 2003 14:38:51 -0000
Received: from unknown (HELO nomade) ([::ffff:81.65.144.119])
          (envelope-sender <cvwebmaster@noos.fr>)
          by ::ffff:212.198.2.122 (qmail-ldap-1.03) with SMTP
          for <lucene-user@jakarta.apache.org>; 9 Sep 2003 14:38:51 -0000
Message-ID: <035d01c376e0$0949cfd0$77904151@nomade>
Reply-To: "Sebastien X" <cvwebmaster@noos.fr>
From: "Sebastien X" <cvwebmaster@noos.fr>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: query separate by point 
Date: Tue, 9 Sep 2003 16:38:28 +0200
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_035A_01C376F0.CC4F3F00"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_035A_01C376F0.CC4F3F00
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi all,

I use StandardAnalyzer to index and to search.

If I make a query like "comp.lang.javascript", it return no hit but if I =
make this query "comp.lang.javascript*", it return the goods hits I want =
to have.

Anybody know how I could return the hits without having the * ?

Maybe changing the analyser?

Thanks in advance

S=E9bastien
------=_NextPart_000_035A_01C376F0.CC4F3F00--


From pete@uptima.co.uk  Tue Sep  9 15:01:52 2003
Return-Path: <pete@uptima.co.uk>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2049 invoked from network); 9 Sep 2003 15:01:52 -0000
Received: from unknown (HELO fmailg2.svr.pol.co.uk) (195.92.195.184)
  by daedalus.apache.org with SMTP; 9 Sep 2003 15:01:52 -0000
Received: from [195.92.195.175] (helo=cmailg5.svr.pol.co.uk)
	by fmailg2.svr.pol.co.uk with esmtp (Exim 4.14)
	id 19wjzj-0003vS-FA
	for lucene-user@jakarta.apache.org; Tue, 09 Sep 2003 16:01:27 +0100
Received: from modem-2396.lynx.dialup.pol.co.uk ([217.135.201.92] helo=joseph)
	by cmailg5.svr.pol.co.uk with smtp (Exim 4.14)
	id 19wjxo-0003tV-Cj
	for lucene-user@jakarta.apache.org; Tue, 09 Sep 2003 15:59:28 +0100
Message-ID: <a94901c376e2$d5504580$0200a8c0@joseph>
From: "Pete Lewis" <pete@uptima.co.uk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Reference for Lucene as a search tool built into a CD
Date: Tue, 9 Sep 2003 15:58:29 +0100
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_A946_01C376EB.36700910"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_A946_01C376EB.36700910
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Does anyone know of Lucene being packaged onto a CD to provide a search =
facility for the data on that CD?  If so, would it be possible to =
refence?

Thanks

Pete


------=_NextPart_000_A946_01C376EB.36700910--


From hammer@dezide.com  Tue Sep  9 15:07:47 2003
Return-Path: <hammer@dezide.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23502 invoked from network); 9 Sep 2003 15:07:47 -0000
Received: from unknown (HELO mailserver1.webhot2.dk) (62.61.159.100)
  by daedalus.apache.org with SMTP; 9 Sep 2003 15:07:47 -0000
Received: from fisk [80.165.33.90] by mailserver1.webhot2.dk
  (SMTPD32-6.04) id AD9D146B01F2; Tue, 09 Sep 2003 17:11:25 +0200
Message-ID: <00a201c376e4$5bfe7650$5550bec0@fisk>
From: "Lars Hammer" <hammer@dezide.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <a94901c376e2$d5504580$0200a8c0@joseph>
Subject: Re: Reference for Lucene as a search tool built into a CD
Date: Tue, 9 Sep 2003 17:09:25 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Note: This E-mail was scanned for SPAM and VIRUSES by Declude 1.75
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I think DocSearcher can do just that :

http://www.brownsite.net/docsearch.htm

/Hammer

----- Original Message ----- 
From: "Pete Lewis" <pete@uptima.co.uk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Tuesday, September 09, 2003 4:58 PM
Subject: Reference for Lucene as a search tool built into a CD


Does anyone know of Lucene being packaged onto a CD to provide a search
facility for the data on that CD?  If so, would it be possible to refence?

Thanks

Pete




From otis_gospodnetic@yahoo.com  Tue Sep  9 16:03:26 2003
Return-Path: <otis_gospodnetic@yahoo.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95773 invoked from network); 9 Sep 2003 16:03:26 -0000
Received: from unknown (HELO web12706.mail.yahoo.com) (216.136.173.243)
  by daedalus.apache.org with SMTP; 9 Sep 2003 16:03:26 -0000
Message-ID: <20030909160320.454.qmail@web12706.mail.yahoo.com>
Received: from [194.152.224.210] by web12706.mail.yahoo.com via HTTP; Tue, 09 Sep 2003 09:03:20 PDT
Date: Tue, 9 Sep 2003 09:03:20 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: query separate by point 
To: Lucene Users List <lucene-user@jakarta.apache.org>,
  Sebastien X <cvwebmaster@noos.fr>
In-Reply-To: <035d01c376e0$0949cfd0$77904151@nomade>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Yes, change your Analyzer and use one of the other ones that does not
use a Tokenizer that splits input on non-character characters.
Or you can write your own Analyzer (example in the jGuru FAQ).

Otis


--- Sebastien X <cvwebmaster@noos.fr> wrote:
> Hi all,
> 
> I use StandardAnalyzer to index and to search.
> 
> If I make a query like "comp.lang.javascript", it return no hit but
> if I make this query "comp.lang.javascript*", it return the goods
> hits I want to have.
> 
> Anybody know how I could return the hits without having the * ?
> 
> Maybe changing the analyser?
> 
> Thanks in advance
> 
> Sbastien


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

From Reece.Wilton@dig.com  Wed Sep 10 01:03:09 2003
Return-Path: <Reece.Wilton@dig.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96422 invoked from network); 10 Sep 2003 01:03:09 -0000
Received: from unknown (HELO mail.disney.com) (204.128.192.15)
  by daedalus.apache.org with SMTP; 10 Sep 2003 01:03:09 -0000
Received: from Hermes10.corp.disney.com (hermes10.corp.disney.com [153.7.110.102])
	by mail.disney.com (Switch-3.1.0/Switch-3.1.0) with ESMTP id h8A0OfMf029801
	for <lucene-user@jakarta.apache.org>; Tue, 9 Sep 2003 18:02:11 -0700 (PDT)
Received: from sm-cala-xc07.swna.wdpr.disney.com (sm-cala-xc07.swna.wdpr.disney.com [153.7.195.64]) by hermes.corp.disney.com with ESMTP; Tue, 9 Sep 2003 18:03:27 -0700
Received: from sm-cala-xm11.swna.wdpr.disney.com ([153.7.195.53]) by sm-cala-xc07.swna.wdpr.disney.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Tue, 9 Sep 2003 18:03:12 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.0.6375.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Multiple reads from an IndexSearcher?
Date: Tue, 9 Sep 2003 18:03:12 -0700
Message-Id: <496A2C679221504D8B8AE4B10267E87602E0977A@gb-sm-cala-xm11.corp.disney.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Multiple reads from an IndexSearcher?
Thread-Index: AcN2ME+F8oI4M5abTHujrrEB3k/dpQBAho/g
From: "Wilton, Reece" <Reece.Wilton@dig.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 10 Sep 2003 01:03:12.0797 (UTC) FILETIME=[4EF324D0:01C37737]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I have a single IndexSearcher pointing at an index.  Multiple threads
are calling the search method.  Is this safe to do?  I presume it is the
right way to do it instead of creating a new IndexSearcher per thread.

But I'm having the dreaded "Too many open files" exception.  I'm running
on Windows XP (of course, otherwise it would work!).  Any ideas on how
to fix this (other than upgrading to Linux)?  Is having one
IndexSearcher the right thing to do?  No other processes are accessing
this index so I'm surprised that I'm getting this error.

Here's the exception:

*E,17:25:19.649,/HyphenTest 5> java.io.IOException: Too many open files
*E,17:25:19.664,/HyphenTest 5> 	at
java.io.WinNTFileSystem.createFileExclusively(Native Method)
*E,17:25:19.664,/HyphenTest 5> 	at
java.io.File.createNewFile(File.java:828)
*E,17:25:19.664,/HyphenTest 5> 	at
org.apache.lucene.store.FSDirectory$1.obtain(FSDirectory.java:324)
*E,17:25:19.664,/HyphenTest 5> 	at
org.apache.lucene.store.Lock.obtain(Lock.java:91)
*E,17:25:19.664,/HyphenTest 5> 	at
org.apache.lucene.store.Lock$With.run(Lock.java:146)
*E,17:25:19.664,/HyphenTest 5> 	at
org.apache.lucene.index.IndexReader.open(IndexReader.java:103)
*E,17:25:19.664,/HyphenTest 5> 	at
org.apache.lucene.index.IndexReader.open(IndexReader.java:91)
*E,17:25:19.664,/HyphenTest 5> 	at
org.apache.lucene.search.IndexSearcher.<init>(IndexSearcher.java:75)

Any help/advice is appreciated,
Reece

From jeff@greenninja.com  Wed Sep 10 05:40:39 2003
Return-Path: <jeff@greenninja.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10253 invoked from network); 10 Sep 2003 05:40:39 -0000
Received: from unknown (HELO cosmos.phpwebhosting.com) (66.33.60.222)
  by daedalus.apache.org with SMTP; 10 Sep 2003 05:40:39 -0000
Received: (qmail 15033 invoked from network); 10 Sep 2003 05:40:44 -0000
Received: from unknown (HELO greenninja.com) (66.25.140.5)
  by cosmos.phpwebhosting.com with SMTP; 10 Sep 2003 05:40:44 -0000
Message-ID: <3F5EB960.8070503@greenninja.com>
Date: Wed, 10 Sep 2003 00:40:48 -0500
From: Jeff Linwood <jeff@greenninja.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.5a) Gecko/20030718
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: [NEWBIE] Creating context-relative URLs with Tomcat + Struts
References: <019a01c37569$cf725ba0$0302a8c0@jemoserver> <20030907182154.A9147@zeus.atlassian.com> <002301c375d4$54fb55a0$0302a8c0@jemoserver> <027d01c37615$2a50e040$7a01a8c0@charliebrown> <00e401c3764b$072b2a40$0302a8c0@jemoserver>
In-Reply-To: <00e401c3764b$072b2a40$0302a8c0@jemoserver>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Why don't you set the path field to be relative to whatever the base 
directory is that the administrator puts in?  So, you write the path 
field yourself, and just put in the relative link, like /index.jsp, 
/welcome.jsp, or whatever?  You can just use the relative link directly 
in your web application.

The book chapter covers pulling content out of a database through a data 
access layer, so it's a little different than pulling files out of a 
file system, but most of the basics are the same.

If the actual content is hidden behind wrapper JSP pages, Struts 
Actions, parameters, or whatever, the display code that writes the links 
out in the JSP page can reference a mapping like you said.  The hard 
part would be writing the mapping code, calling it should be easy.

Hope this helps,
Jeff

Marco Tedone wrote:
> Hi Jeff, DAMN!, two of the books I haven't got :) I bought Jakarta Struts
> from O'reilly and another one on JSP/Servlets/Web programming.
> 
> I already wrote the user interfaces and the classes (I wrote a stateless EJB
> which performs both the indexing and the researching of the result) to run
> the search.
> 
> My problem is another: as you'll certainly know, as I'm running on Windows,
> my Tomcat home path is something similar to:
> 
> D:\Tomcat\
> 
>>From my web application (which is a J2EE application using Struts and
> Tomcat) I ask the application administrator to specify the folder she wants
> to index and the folder where she wants the results to be put (for future
> searches...) and the file extensions she wants to include.
> 
> Now, the application generates the index without any problem. The problem is
> that the path to the files is:
> 
> D:\Tomcat\webapps\myapp\web\.... (The list of indexed files) and not
> something like:
> 
> http://www.jemos.org/myapp/web/index.jsp
> http://www.jemos.org/myapp/web/welcome.jsp
> 
> ...And so on.
> 
> Therefore, if the user runs a search, I feel myself ridicolous if I'm going
> to show her Windows path instead of web-relative paths. The reason for that
> is that I'm using the FileDocument class coming with the distribution, which
> write the "path" Field using the File.getPath() method.
> 
> But there is another problem: because I'm using Tiles (a mean of framing)
> the actual web-content is contained in foo-body.jsp pages, which are not
> directly accessible, because at least the user will access foo.jsp (which
> basically contains only an include to the foo-body.jsp) but more likely he
> will perform a Struts Action.
> 
> I'm thinking at the following possible solution:
> 
> Defining somewhere (conf file?) a mapping between paths to JSPs containing
> sensible content (i.e. referring to the above example foo-body.jsp. This way
> the path could remain system-relative) and URLs to Struts Action which are
> actually executable by simply clicking a link and which forward to those
> JSPs. The user then will perform a search, my application will intercept the
> string representing the path to the document containing the information,
> will search on the mapping file the mapping to the Struts action and will
> display to the user the latter link. Eventually the results can be cached
> somewhere.
> 
> What do you think about this possible solution?
> 
> Marco
> 


From mtedone@jemos.org  Wed Sep 10 06:39:12 2003
Return-Path: <mtedone@jemos.org>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95221 invoked from network); 10 Sep 2003 06:39:12 -0000
Received: from unknown (HELO jemoserver) (62.3.127.84)
  by daedalus.apache.org with SMTP; 10 Sep 2003 06:39:12 -0000
Received: from jemoserver ([192.168.2.3])
          by jemoserver (JAMES SMTP Server 2.2.0a10) with SMTP ID 231
          for <lucene-user@jakarta.apache.org>;
          Wed, 10 Sep 2003 07:39:18 +0100 (BST)
Message-ID: <001201c37766$42815e90$0302a8c0@jemoserver>
From: "Marco Tedone" <mtedone@jemos.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <019a01c37569$cf725ba0$0302a8c0@jemoserver> <20030907182154.A9147@zeus.atlassian.com> <002301c375d4$54fb55a0$0302a8c0@jemoserver> <027d01c37615$2a50e040$7a01a8c0@charliebrown> <00e401c3764b$072b2a40$0302a8c0@jemoserver> <3F5EB960.8070503@greenninja.com>
Subject: Re: [NEWBIE] Creating context-relative URLs with Tomcat + Struts
Date: Wed, 10 Sep 2003 07:39:18 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Jeff, that exactly what I'm realizing.

First of all I have been able to read the configuration file (by keeping an
instance of ModuleConfig at startup) and therefore to realize a mapping
between (action -> JSP). This has been only possible because even for simple
forwards I used the Struts ForwardAction. I also found the way to isolate:
protocol + server | web-app-context | action/jsp | Servlet mapping (.do /
/action/).

In the meantime, I created a stateless session bean which has a method
which, given an environment variable as a String, returns the path to that
environment variable; therefore it will be quite simple to replace, let's
say, CATALINA_HOME with the information I isolated as mentioned above.

I'm going to create an entity bean (therefore a db table) with the isolated
information (i.e. protocol, context, and so on);
when user will run a search, and possibly Lucene will return to me the list
of system-relative JSPs, I'll substitute the system-path with the web-path,
by concatenating all the web-relative information stored in the database,
and instead of presenting to the user the list of links to JSPs, I'll show
him the list of links to actions.

There is still a major problem to solve; realize somehow the mapping between
actual content-matching JSPs and JSPs which define only Tiles 'define'
statements. The reason is that the JSPs mapped vs an action in the struts
configuration file are basically empty.

I'll have to work around it.

Marco

- Original Message ----- 
From: "Jeff Linwood" <jeff@greenninja.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, September 10, 2003 6:40 AM
Subject: Re: [NEWBIE] Creating context-relative URLs with Tomcat + Struts


> Why don't you set the path field to be relative to whatever the base
> directory is that the administrator puts in?  So, you write the path
> field yourself, and just put in the relative link, like /index.jsp,
> /welcome.jsp, or whatever?  You can just use the relative link directly
> in your web application.
>
> The book chapter covers pulling content out of a database through a data
> access layer, so it's a little different than pulling files out of a
> file system, but most of the basics are the same.
>
> If the actual content is hidden behind wrapper JSP pages, Struts
> Actions, parameters, or whatever, the display code that writes the links
> out in the JSP page can reference a mapping like you said.  The hard
> part would be writing the mapping code, calling it should be easy.
>
> Hope this helps,
> Jeff
>
> Marco Tedone wrote:
> > Hi Jeff, DAMN!, two of the books I haven't got :) I bought Jakarta
Struts
> > from O'reilly and another one on JSP/Servlets/Web programming.
> >
> > I already wrote the user interfaces and the classes (I wrote a stateless
EJB
> > which performs both the indexing and the researching of the result) to
run
> > the search.
> >
> > My problem is another: as you'll certainly know, as I'm running on
Windows,
> > my Tomcat home path is something similar to:
> >
> > D:\Tomcat\
> >
> >>From my web application (which is a J2EE application using Struts and
> > Tomcat) I ask the application administrator to specify the folder she
wants
> > to index and the folder where she wants the results to be put (for
future
> > searches...) and the file extensions she wants to include.
> >
> > Now, the application generates the index without any problem. The
problem is
> > that the path to the files is:
> >
> > D:\Tomcat\webapps\myapp\web\.... (The list of indexed files) and not
> > something like:
> >
> > http://www.jemos.org/myapp/web/index.jsp
> > http://www.jemos.org/myapp/web/welcome.jsp
> >
> > ...And so on.
> >
> > Therefore, if the user runs a search, I feel myself ridicolous if I'm
going
> > to show her Windows path instead of web-relative paths. The reason for
that
> > is that I'm using the FileDocument class coming with the distribution,
which
> > write the "path" Field using the File.getPath() method.
> >
> > But there is another problem: because I'm using Tiles (a mean of
framing)
> > the actual web-content is contained in foo-body.jsp pages, which are not
> > directly accessible, because at least the user will access foo.jsp
(which
> > basically contains only an include to the foo-body.jsp) but more likely
he
> > will perform a Struts Action.
> >
> > I'm thinking at the following possible solution:
> >
> > Defining somewhere (conf file?) a mapping between paths to JSPs
containing
> > sensible content (i.e. referring to the above example foo-body.jsp. This
way
> > the path could remain system-relative) and URLs to Struts Action which
are
> > actually executable by simply clicking a link and which forward to those
> > JSPs. The user then will perform a search, my application will intercept
the
> > string representing the path to the document containing the information,
> > will search on the mapping file the mapping to the Struts action and
will
> > display to the user the latter link. Eventually the results can be
cached
> > somewhere.
> >
> > What do you think about this possible solution?
> >
> > Marco
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>




From otis_gospodnetic@yahoo.com  Wed Sep 10 09:28:06 2003
Return-Path: <otis_gospodnetic@yahoo.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14060 invoked from network); 10 Sep 2003 09:28:06 -0000
Received: from unknown (HELO web12701.mail.yahoo.com) (216.136.173.238)
  by daedalus.apache.org with SMTP; 10 Sep 2003 09:28:06 -0000
Message-ID: <20030910092820.103.qmail@web12701.mail.yahoo.com>
Received: from [194.152.224.125] by web12701.mail.yahoo.com via HTTP; Wed, 10 Sep 2003 02:28:20 PDT
Date: Wed, 10 Sep 2003 02:28:20 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Multiple reads from an IndexSearcher?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <496A2C679221504D8B8AE4B10267E87602E0977A@gb-sm-cala-xm11.corp.disney.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Yes, you can use a single IndexSearcher with multiple threads.  I have
done so in servlet environments.
This is a common question, so I suggest you check the archives.
Make sure your index is optimized.

Otis

--- "Wilton, Reece" <Reece.Wilton@dig.com> wrote:
> Hi,
> 
> I have a single IndexSearcher pointing at an index.  Multiple threads
> are calling the search method.  Is this safe to do?  I presume it is
> the
> right way to do it instead of creating a new IndexSearcher per
> thread.
> 
> But I'm having the dreaded "Too many open files" exception.  I'm
> running
> on Windows XP (of course, otherwise it would work!).  Any ideas on
> how
> to fix this (other than upgrading to Linux)?  Is having one
> IndexSearcher the right thing to do?  No other processes are
> accessing
> this index so I'm surprised that I'm getting this error.
> 
> Here's the exception:
> 
> *E,17:25:19.649,/HyphenTest 5> java.io.IOException: Too many open
> files
> *E,17:25:19.664,/HyphenTest 5> 	at
> java.io.WinNTFileSystem.createFileExclusively(Native Method)
> *E,17:25:19.664,/HyphenTest 5> 	at
> java.io.File.createNewFile(File.java:828)
> *E,17:25:19.664,/HyphenTest 5> 	at
> org.apache.lucene.store.FSDirectory$1.obtain(FSDirectory.java:324)
> *E,17:25:19.664,/HyphenTest 5> 	at
> org.apache.lucene.store.Lock.obtain(Lock.java:91)
> *E,17:25:19.664,/HyphenTest 5> 	at
> org.apache.lucene.store.Lock$With.run(Lock.java:146)
> *E,17:25:19.664,/HyphenTest 5> 	at
> org.apache.lucene.index.IndexReader.open(IndexReader.java:103)
> *E,17:25:19.664,/HyphenTest 5> 	at
> org.apache.lucene.index.IndexReader.open(IndexReader.java:91)
> *E,17:25:19.664,/HyphenTest 5> 	at
> org.apache.lucene.search.IndexSearcher.<init>(IndexSearcher.java:75)
> 
> Any help/advice is appreciated,
> Reece
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

From pifpafpuf@gmx.de  Wed Sep 10 13:31:56 2003
Return-Path: <pifpafpuf@gmx.de>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56194 invoked from network); 10 Sep 2003 13:31:56 -0000
Received: from unknown (HELO mx0.gmx.net) (213.165.64.100)
  by daedalus.apache.org with SMTP; 10 Sep 2003 13:31:56 -0000
Received: (qmail 30471 invoked by uid 0); 10 Sep 2003 13:31:56 -0000
Date: Wed, 10 Sep 2003 15:31:57 +0200 (MEST)
From: pifpafpuf@gmx.de
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
References: <10441.1063182458@www53.gmx.net>
Subject: Huge RAM and small IO bandwidth indexing fast
X-Priority: 3 (Normal)
X-Authenticated-Sender: #0001850795@gmx.net
X-Authenticated-IP: [193.62.199.77]
Message-ID: <2155.1063200717@www37.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

with a bunch of machines with 2GB of RAM but somehow limited IO bandwidth,
due to indexing on a NFS I wonder how I can optimize indexing. Part of the
problem may be that I want to index individual sentences. I have in the
order of
120e6 sentences to index. Looking at the indexing process with 'top' I see
that it
is consuming only 20% of CPU time and is in state 'D'elayed most of the
time,
most probably waiting on IO.

Any ideas how I can tweak the indexing to use more RAM and less IO? I toyed
with IndexWriter.mergeFactor, but have no idea whether to set it to 100 or
100000.

  Thanks,
  Harald.

-- 
COMPUTERBILD 15/03: Premium-e-mail-Dienste im Test
--------------------------------------------------
1. GMX TopMail - Platz 1 und Testsieger!
2. GMX ProMail - Platz 2 und Preis-Qualittssieger!
3. Arcor - 4. web.de - 5. T-Online - 6. freenet.de - 7. daybyday - 8. e-Post


From otis_gospodnetic@yahoo.com  Wed Sep 10 14:28:44 2003
Return-Path: <otis_gospodnetic@yahoo.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52042 invoked from network); 10 Sep 2003 14:28:44 -0000
Received: from unknown (HELO web12701.mail.yahoo.com) (216.136.173.238)
  by daedalus.apache.org with SMTP; 10 Sep 2003 14:28:44 -0000
Message-ID: <20030910142846.45964.qmail@web12701.mail.yahoo.com>
Received: from [194.152.224.125] by web12701.mail.yahoo.com via HTTP; Wed, 10 Sep 2003 07:28:46 PDT
Date: Wed, 10 Sep 2003 07:28:46 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Huge RAM and small IO bandwidth indexing fast
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <2155.1063200717@www37.gmx.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I included some information about improving indexing performance in my
second Lucene article on Onjava.com.  The article was published a few
months ago, so you'll have to enter Lucene in the search box on
Onjava.com site.

Otis

--- pifpafpuf@gmx.de wrote:
> Hi,
> 
> with a bunch of machines with 2GB of RAM but somehow limited IO
> bandwidth,
> due to indexing on a NFS I wonder how I can optimize indexing. Part
> of the
> problem may be that I want to index individual sentences. I have in
> the
> order of
> 120e6 sentences to index. Looking at the indexing process with 'top'
> I see
> that it
> is consuming only 20% of CPU time and is in state 'D'elayed most of
> the
> time,
> most probably waiting on IO.
> 
> Any ideas how I can tweak the indexing to use more RAM and less IO? I
> toyed
> with IndexWriter.mergeFactor, but have no idea whether to set it to
> 100 or
> 100000.
> 
>   Thanks,
>   Harald.
> 
> -- 
> COMPUTERBILD 15/03: Premium-e-mail-Dienste im Test
> --------------------------------------------------
> 1. GMX TopMail - Platz 1 und Testsieger!
> 2. GMX ProMail - Platz 2 und Preis-Qualittssieger!
> 3. Arcor - 4. web.de - 5. T-Online - 6. freenet.de - 7. daybyday - 8.
> e-Post
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

From guzman@cs.umass.edu  Wed Sep 10 14:42:38 2003
Return-Path: <guzman@cs.umass.edu>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93056 invoked from network); 10 Sep 2003 14:42:38 -0000
Received: from unknown (HELO dandenong.cs.umass.edu) (128.119.246.157)
  by daedalus.apache.org with SMTP; 10 Sep 2003 14:42:38 -0000
Received: from NORTHAM (northam.cs.umass.edu [128.119.246.133])
	by dandenong.cs.umass.edu (8.12.9+Sun/8.8.8) with SMTP id h8AEgdlk012624;
	Wed, 10 Sep 2003 10:42:39 -0400 (EDT)
Message-ID: <016b01c377aa$bd5d7470$85f67780@NORTHAM>
From: "Sergio Guzman-Lara" <guzman@cs.umass.edu>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
   "Lucene Developers List" <lucene-dev@jakarta.apache.org>
Cc: "Bob Krovetz" <krovetz@nec-labs.com>, <guzman@cs.umass.edu>
Subject: Kstem for Lucene
Date: Wed, 10 Sep 2003 10:49:29 -0400
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0168_01C37789.36273570"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0168_01C37789.36273570
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

  Hi all,

  I have ported the kstem stemmer to Java and incorporated it to Lucene. =
You can get the source code (Kstem.jar) from the following website:

http://ciir.cs.umass.edu/downloads/

  Just click on "KStem Java Implementation" (you will need to register =
your e-mail, for free of course, with the CIIR --Center for Intelligent =
Information Retrieval, UMass -- and get an access code).


Content of Kstem.jar:

java/org/apache/lucene/analysis/KStemData1.java
java/org/apache/lucene/analysis/KStemData2.java
java/org/apache/lucene/analysis/KStemData3.java
java/org/apache/lucene/analysis/KStemData4.java
java/org/apache/lucene/analysis/KStemData5.java
java/org/apache/lucene/analysis/KStemData6.java
java/org/apache/lucene/analysis/KStemData7.java
java/org/apache/lucene/analysis/KStemData8.java
java/org/apache/lucene/analysis/KStemFilter.java
java/org/apache/lucene/analysis/KStemmer.java

KStemData1.java, ..., KStemData8.java   Contain several lists of words =
used by Kstem
KStemmer.java      Implements the Kstem algorithm=20
KStemFilter.java     Extends TokenFilter applying Kstem


To compile

unjar the file Kstem.jar to Lucene's "src" directory, and compile it =
there.=20


What is Kstem?

  A stemmer designed by Bob Krovetz (for more information see =
http://ciir.cs.umass.edu/pubfiles/ir-35.pdf).=20


Copyright issues

  This is open source. The actual license agreement is included at the =
top of every source file.


 Any comments/questions/suggestions are welcome,


  Sergio Guzman-Lara
  Senior Research Fellow
  CIIR UMass


------=_NextPart_000_0168_01C37789.36273570--


From routar@ideorlando.org  Wed Sep 10 17:51:33 2003
Return-Path: <routar@ideorlando.org>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38647 invoked from network); 10 Sep 2003 17:51:33 -0000
Received: from unknown (HELO mail.ideorlando.org) (208.63.70.76)
  by daedalus.apache.org with SMTP; 10 Sep 2003 17:51:33 -0000
Received: from ROUTARDBW (unknown [208.62.52.106])
	by mail.ideorlando.org (Postfix) with SMTP id A2A283689D
	for <lucene-user@jakarta.apache.org>; Wed, 10 Sep 2003 13:46:16 -0400 (EDT)
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Query question
Date: Wed, 10 Sep 2003 13:51:37 -0400
Message-ID: <MNEPJJAGGPICDNOCBIKDKEOOCLAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.6604 (9.0.2911.0)
In-Reply-To: <016b01c377aa$bd5d7470$85f67780@NORTHAM>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi all,

	I have a field called "echelon" that are assigned to certain files.  Is
there a query I can write that will give me all files that have this field?

	I have tried stuff like echelon:.+*, echelon:*, etc... some give a query
parser exception while others return nothing.

Let me know,

Rob



From kevin.cobb@emergint.com  Wed Sep 10 18:54:56 2003
Return-Path: <kevin.cobb@emergint.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92689 invoked from network); 10 Sep 2003 18:54:56 -0000
Received: from unknown (HELO mail.lou.emergint.com) (216.249.142.214)
  by daedalus.apache.org with SMTP; 10 Sep 2003 18:54:56 -0000
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C377CD.09E42C76"
Subject: Getting everything out of an index
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
Date: Wed, 10 Sep 2003 14:55:01 -0400
Message-ID: <8D7DE0C84F1D5149894354E754E6807E176AF9@mail.lou.emergint.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Getting everything out of an index
Thread-Index: AcN3zO56NC0ePwoTR0KyPMXuxoPPMQ==
From: "Kevin L. Cobb" <kevin.cobb@emergint.com>
To: <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C377CD.09E42C76
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Is there a quick and easy  way to get everything that is currently
indexed in a particular index when the searchable field is of type
KEYWORD?=20

=20


------_=_NextPart_001_01C377CD.09E42C76--

From Reece.Wilton@dig.com  Wed Sep 10 18:59:07 2003
Return-Path: <Reece.Wilton@dig.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5003 invoked from network); 10 Sep 2003 18:59:07 -0000
Received: from unknown (HELO mail.disney.com) (204.128.192.15)
  by daedalus.apache.org with SMTP; 10 Sep 2003 18:59:07 -0000
Received: from Hermes10.corp.disney.com (hermes10.corp.disney.com [153.7.110.102])
	by mail.disney.com (Switch-3.1.0/Switch-3.1.0) with ESMTP id h8AIv36o025459
	for <lucene-user@jakarta.apache.org>; Wed, 10 Sep 2003 11:58:10 -0700 (PDT)
Received: from sm-cala-xc04.swna.wdpr.disney.com (sm-cala-xc04.swna.wdpr.disney.com [153.7.195.34]) by hermes.corp.disney.com with ESMTP; Wed, 10 Sep 2003 11:59:25 -0700
Received: from sm-cala-xm11.swna.wdpr.disney.com ([153.7.195.53]) by sm-cala-xc04.swna.wdpr.disney.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Wed, 10 Sep 2003 11:59:11 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.0.6375.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Multiple reads from an IndexSearcher?
Date: Wed, 10 Sep 2003 11:59:10 -0700
Message-Id: <496A2C679221504D8B8AE4B10267E876019D7C1B@gb-sm-cala-xm11.corp.disney.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Multiple reads from an IndexSearcher?
Thread-Index: AcN3fe/x0vPqdpcoQbmvHWg3HQqvVAAT6A2A
From: "Wilton, Reece" <Reece.Wilton@dig.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 10 Sep 2003 18:59:11.0163 (UTC) FILETIME=[9EBC08B0:01C377CD]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Doh!  I was creating a new IndexSearcher on every request.  Doh!

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]=20
Sent: Wednesday, September 10, 2003 2:28 AM
To: Lucene Users List
Subject: Re: Multiple reads from an IndexSearcher?


Yes, you can use a single IndexSearcher with multiple threads.  I have
done so in servlet environments. This is a common question, so I suggest
you check the archives. Make sure your index is optimized.

Otis

--- "Wilton, Reece" <Reece.Wilton@dig.com> wrote:
> Hi,
>=20
> I have a single IndexSearcher pointing at an index.  Multiple threads=20
> are calling the search method.  Is this safe to do?  I presume it is=20
> the right way to do it instead of creating a new IndexSearcher per
> thread.
>=20
> But I'm having the dreaded "Too many open files" exception.  I'm=20
> running on Windows XP (of course, otherwise it would work!).  Any=20
> ideas on how
> to fix this (other than upgrading to Linux)?  Is having one
> IndexSearcher the right thing to do?  No other processes are
> accessing
> this index so I'm surprised that I'm getting this error.
>=20
> Here's the exception:
>=20
> *E,17:25:19.649,/HyphenTest 5> java.io.IOException: Too many open=20
> files
> *E,17:25:19.664,/HyphenTest 5> 	at
> java.io.WinNTFileSystem.createFileExclusively(Native Method)
> *E,17:25:19.664,/HyphenTest 5> 	at
> java.io.File.createNewFile(File.java:828)
> *E,17:25:19.664,/HyphenTest 5> 	at
> org.apache.lucene.store.FSDirectory$1.obtain(FSDirectory.java:324)
> *E,17:25:19.664,/HyphenTest 5> 	at
> org.apache.lucene.store.Lock.obtain(Lock.java:91)
> *E,17:25:19.664,/HyphenTest 5> 	at
> org.apache.lucene.store.Lock$With.run(Lock.java:146)
> *E,17:25:19.664,/HyphenTest 5> 	at
> org.apache.lucene.index.IndexReader.open(IndexReader.java:103)
> *E,17:25:19.664,/HyphenTest 5> 	at
> org.apache.lucene.index.IndexReader.open(IndexReader.java:91)
> *E,17:25:19.664,/HyphenTest 5> 	at
> org.apache.lucene.search.IndexSearcher.<init>(IndexSearcher.java:75)
>=20
> Any help/advice is appreciated,
> Reece
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From otis_gospodnetic@yahoo.com  Wed Sep 10 21:05:15 2003
Return-Path: <otis_gospodnetic@yahoo.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35365 invoked from network); 10 Sep 2003 21:05:15 -0000
Received: from unknown (HELO web12706.mail.yahoo.com) (216.136.173.243)
  by daedalus.apache.org with SMTP; 10 Sep 2003 21:05:15 -0000
Message-ID: <20030910210522.87915.qmail@web12706.mail.yahoo.com>
Received: from [195.29.54.60] by web12706.mail.yahoo.com via HTTP; Wed, 10 Sep 2003 14:05:22 PDT
Date: Wed, 10 Sep 2003 14:05:22 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Query question
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <MNEPJJAGGPICDNOCBIKDKEOOCLAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Go to Lucene FAQ at jGuru.com and search for the word 'all'.

Otis

--- Rob Outar <routar@ideorlando.org> wrote:
> Hi all,
> 
> 	I have a field called "echelon" that are assigned to certain files. 
> Is
> there a query I can write that will give me all files that have this
> field?
> 
> 	I have tried stuff like echelon:.+*, echelon:*, etc... some give a
> query
> parser exception while others return nothing.
> 
> Let me know,
> 
> Rob
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

From labate@verticali.com  Thu Sep 11 09:25:28 2003
Return-Path: <labate@verticali.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73131 invoked from network); 11 Sep 2003 09:25:28 -0000
Received: from unknown (HELO titeuf.verticali.com) (195.202.202.7)
  by daedalus.apache.org with SMTP; 11 Sep 2003 09:25:28 -0000
Received: (qmail 4878 invoked by uid 0); 11 Sep 2003 09:25:41 -0000
Received: from unknown (HELO labate) (192.168.1.96)
  by titeuf.verticali.com with SMTP; 11 Sep 2003 09:25:41 -0000
From: "Adriano Labate" <labate@verticali.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE : Unable to download Lucene source code
Date: Thu, 11 Sep 2003 11:25:05 +0200
Message-ID: <016901c37846$9602b6f0$6001a8c0@labate>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
In-Reply-To: <009c01c375ee$a9e9bd80$3401a8c0@soft.ssp.com.vn>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I tried today to download Lucene 1.3 but the link
http://jakarta.apache.org/builds/jakarta-lucene/release/v1.3-rc1
seems to be broken and is redirected to
http://jakarta.apache.org/site/binindex.cgi.

Regards,
Adriano Labate


-----Message d'origine-----
De : Mai Ngoc Thang [mailto:thangmn@ssp.com.vn]=20
Envoy=E9 : lundi, 8 septembre 2003 11:50
=C0 : Lucene Users List; Rohit Bhagwat
Objet : Re: Unable to download Lucene source code


Try this:

http://jakarta.apache.org/builds/jakarta-lucene/release/v1.3-rc1/

I have just downloaded from this and everything is OK,

Cheers,

Thangmn

=20
> Hello,
>   I am unable to download the source code from any of the links on
> page
> http://jakarta.apache.org/site/sourceindex.html
> are these links working? I tried all the mirrors.
>=20
>   Is there any other place on this website, where I can get the
> source code or Can anybody send me the zip files of source code by=20
> mail, if the size is not too big?
>=20
>   Kindly help me out.I am itching to provide 'Search facility' on
> my website and explore Lucene :-)
>=20
> Thanks & Regards,
> Rohit.
>=20
> Email : yourfriendrohit@rediffmail.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org






From otis_gospodnetic@yahoo.com  Thu Sep 11 09:41:43 2003
Return-Path: <otis_gospodnetic@yahoo.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94301 invoked from network); 11 Sep 2003 09:41:43 -0000
Received: from unknown (HELO web12701.mail.yahoo.com) (216.136.173.238)
  by daedalus.apache.org with SMTP; 11 Sep 2003 09:41:43 -0000
Message-ID: <20030911094157.29800.qmail@web12701.mail.yahoo.com>
Received: from [194.152.206.170] by web12701.mail.yahoo.com via HTTP; Thu, 11 Sep 2003 02:41:57 PDT
Date: Thu, 11 Sep 2003 02:41:57 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: RE : Unable to download Lucene source code
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <016901c37846$9602b6f0$6001a8c0@labate>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Scroll down, to a bit more after the middle of that page
(binindex.cgi).  Lucene 1.2 is there.  Lucene 1.3 has not been released
yet, but we are hoping to do it soon.

Otis

--- Adriano Labate <labate@verticali.com> wrote:
> Hi,
> 
> I tried today to download Lucene 1.3 but the link
> http://jakarta.apache.org/builds/jakarta-lucene/release/v1.3-rc1
> seems to be broken and is redirected to
> http://jakarta.apache.org/site/binindex.cgi.
> 
> Regards,
> Adriano Labate
> 
> 
> -----Message d'origine-----
> De : Mai Ngoc Thang [mailto:thangmn@ssp.com.vn] 
> Envoy : lundi, 8 septembre 2003 11:50
>  : Lucene Users List; Rohit Bhagwat
> Objet : Re: Unable to download Lucene source code
> 
> 
> Try this:
> 
> http://jakarta.apache.org/builds/jakarta-lucene/release/v1.3-rc1/
> 
> I have just downloaded from this and everything is OK,
> 
> Cheers,
> 
> Thangmn
> 
>  
> > Hello,
> >   I am unable to download the source code from any of the links on
> > page
> > http://jakarta.apache.org/site/sourceindex.html
> > are these links working? I tried all the mirrors.
> > 
> >   Is there any other place on this website, where I can get the
> > source code or Can anybody send me the zip files of source code by 
> > mail, if the size is not too big?
> > 
> >   Kindly help me out.I am itching to provide 'Search facility' on
> > my website and explore Lucene :-)
> > 
> > Thanks & Regards,
> > Rohit.
> > 
> > Email : yourfriendrohit@rediffmail.com
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

From labate@verticali.com  Thu Sep 11 09:45:12 2003
Return-Path: <labate@verticali.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98387 invoked from network); 11 Sep 2003 09:45:12 -0000
Received: from unknown (HELO titeuf.verticali.com) (195.202.202.7)
  by daedalus.apache.org with SMTP; 11 Sep 2003 09:45:12 -0000
Received: (qmail 5623 invoked by uid 0); 11 Sep 2003 09:45:20 -0000
Received: from unknown (HELO labate) (192.168.1.96)
  by titeuf.verticali.com with SMTP; 11 Sep 2003 09:45:20 -0000
From: "Adriano Labate" <labate@verticali.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE : RE : Unable to download Lucene source code
Date: Thu, 11 Sep 2003 11:44:44 +0200
Message-ID: <016d01c37849$54a39be0$6001a8c0@labate>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
In-Reply-To: <20030911094157.29800.qmail@web12701.mail.yahoo.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Sorry, I meant 1.3 RC1 because I would like to try the highlighting
feature of Mark Harwood at
http://home.clara.net/markharwood/lucene/highlight.htm.

Adriano

-----Message d'origine-----
De : Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]=20
Envoy=E9 : jeudi, 11 septembre 2003 11:42
=C0 : Lucene Users List
Objet : Re: RE : Unable to download Lucene source code


Scroll down, to a bit more after the middle of that page
(binindex.cgi).  Lucene 1.2 is there.  Lucene 1.3 has not been
released yet, but we are hoping to do it soon.

Otis

--- Adriano Labate <labate@verticali.com> wrote:
> Hi,
>=20
> I tried today to download Lucene 1.3 but the link=20
> http://jakarta.apache.org/builds/jakarta-lucene/release/v1.3-rc1
> seems to be broken and is redirected to=20
> http://jakarta.apache.org/site/binindex.cgi.
>=20
> Regards,
> Adriano Labate
>=20
>=20
> -----Message d'origine-----
> De : Mai Ngoc Thang [mailto:thangmn@ssp.com.vn]
> Envoy=E9 : lundi, 8 septembre 2003 11:50
> =C0 : Lucene Users List; Rohit Bhagwat
> Objet : Re: Unable to download Lucene source code
>=20
>=20
> Try this:
>=20
> http://jakarta.apache.org/builds/jakarta-lucene/release/v1.3-rc1/
>=20
> I have just downloaded from this and everything is OK,
>=20
> Cheers,
>=20
> Thangmn
>=20
> =20
> > Hello,
> >   I am unable to download the source code from any of the links on

> > page http://jakarta.apache.org/site/sourceindex.html
> > are these links working? I tried all the mirrors.
> >=20
> >   Is there any other place on this website, where I can get the=20
> > source code or Can anybody send me the zip files of source code by

> > mail, if the size is not too big?
> >=20
> >   Kindly help me out.I am itching to provide 'Search facility' on
my=20
> > website and explore Lucene :-)
> >=20
> > Thanks & Regards,
> > Rohit.
> >=20
> > Email : yourfriendrohit@rediffmail.com
>=20
>=20
>
---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20
>=20
>=20
>=20
>=20
>
---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org






From otis_gospodnetic@yahoo.com  Thu Sep 11 09:49:45 2003
Return-Path: <otis_gospodnetic@yahoo.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2248 invoked from network); 11 Sep 2003 09:49:45 -0000
Received: from unknown (HELO web12706.mail.yahoo.com) (216.136.173.243)
  by daedalus.apache.org with SMTP; 11 Sep 2003 09:49:45 -0000
Message-ID: <20030911094959.93762.qmail@web12706.mail.yahoo.com>
Received: from [194.152.206.170] by web12706.mail.yahoo.com via HTTP; Thu, 11 Sep 2003 02:49:59 PDT
Date: Thu, 11 Sep 2003 02:49:59 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: RE : RE : Unable to download Lucene source code
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <016d01c37849$54a39be0$6001a8c0@labate>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

That you need to get directly out of CVS.  How that is done is
described on the Jakarta site (sorry, don't have the link).

Otis

--- Adriano Labate <labate@verticali.com> wrote:
> Sorry, I meant 1.3 RC1 because I would like to try the highlighting
> feature of Mark Harwood at
> http://home.clara.net/markharwood/lucene/highlight.htm.
> 
> Adriano
> 
> -----Message d'origine-----
> De : Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com] 
> Envoy : jeudi, 11 septembre 2003 11:42
>  : Lucene Users List
> Objet : Re: RE : Unable to download Lucene source code
> 
> 
> Scroll down, to a bit more after the middle of that page
> (binindex.cgi).  Lucene 1.2 is there.  Lucene 1.3 has not been
> released yet, but we are hoping to do it soon.
> 
> Otis
> 
> --- Adriano Labate <labate@verticali.com> wrote:
> > Hi,
> > 
> > I tried today to download Lucene 1.3 but the link 
> > http://jakarta.apache.org/builds/jakarta-lucene/release/v1.3-rc1
> > seems to be broken and is redirected to 
> > http://jakarta.apache.org/site/binindex.cgi.
> > 
> > Regards,
> > Adriano Labate
> > 
> > 
> > -----Message d'origine-----
> > De : Mai Ngoc Thang [mailto:thangmn@ssp.com.vn]
> > Envoy : lundi, 8 septembre 2003 11:50
> >  : Lucene Users List; Rohit Bhagwat
> > Objet : Re: Unable to download Lucene source code
> > 
> > 
> > Try this:
> > 
> > http://jakarta.apache.org/builds/jakarta-lucene/release/v1.3-rc1/
> > 
> > I have just downloaded from this and everything is OK,
> > 
> > Cheers,
> > 
> > Thangmn
> > 
> >  
> > > Hello,
> > >   I am unable to download the source code from any of the links
> on
> 
> > > page http://jakarta.apache.org/site/sourceindex.html
> > > are these links working? I tried all the mirrors.
> > > 
> > >   Is there any other place on this website, where I can get the 
> > > source code or Can anybody send me the zip files of source code
> by
> 
> > > mail, if the size is not too big?
> > > 
> > >   Kindly help me out.I am itching to provide 'Search facility' on
> my 
> > > website and explore Lucene :-)
> > > 
> > > Thanks & Regards,
> > > Rohit.
> > > 
> > > Email : yourfriendrohit@rediffmail.com
> > 
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> > 
> > 
> > 
> > 
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> 
> 
> __________________________________
> Do you Yahoo!?
> Yahoo! SiteBuilder - Free, easy-to-use web site design software
> http://sitebuilder.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

From pifpafpuf@gmx.de  Thu Sep 11 10:15:46 2003
Return-Path: <pifpafpuf@gmx.de>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39109 invoked from network); 11 Sep 2003 10:15:46 -0000
Received: from unknown (HELO mx0.gmx.net) (213.165.64.100)
  by daedalus.apache.org with SMTP; 11 Sep 2003 10:15:46 -0000
Received: (qmail 32033 invoked by uid 0); 11 Sep 2003 10:15:58 -0000
Date: Thu, 11 Sep 2003 12:15:58 +0200 (MEST)
From: pifpafpuf@gmx.de
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
References: <20030910142846.45964.qmail@web12701.mail.yahoo.com>
Subject: Re: Huge RAM and small IO bandwidth indexing fast
X-Priority: 3 (Normal)
X-Authenticated-Sender: #0001850795@gmx.net
X-Authenticated-IP: [193.62.199.77]
Message-ID: <25693.1063275358@www54.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> I included some information about improving indexing performance in my
> second Lucene article on Onjava.com.  The article was published a few
> months ago, so you'll have to enter Lucene in the search box on
> Onjava.com site.

Many thanks, this was helpful. I wonder if you could just
put a paragraph in the javadocs about mergeFactor saying that 

  "it is the number of documents kept
   in memory before writing them to file. To minimize file system
   access, raise this number, but expect up to
   (mergeFactor+1)*numFilesPerSegment files to be open
   at the same time, which may be beyond the processes limit".

This would explain a lot.

  Thanks,
  Harald.

-- 
COMPUTERBILD 15/03: Premium-e-mail-Dienste im Test
--------------------------------------------------
1. GMX TopMail - Platz 1 und Testsieger!
2. GMX ProMail - Platz 2 und Preis-Qualittssieger!
3. Arcor - 4. web.de - 5. T-Online - 6. freenet.de - 7. daybyday - 8. e-Post


From terry@net-frame.com  Thu Sep 11 14:05:04 2003
Return-Path: <terry@net-frame.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89695 invoked from network); 11 Sep 2003 14:05:04 -0000
Received: from unknown (HELO barry.mail.mindspring.net) (207.69.200.25)
  by daedalus.apache.org with SMTP; 11 Sep 2003 14:05:04 -0000
Received: from h-66-167-146-159.mclnva23.covad.net ([66.167.146.159] helo=POWERPACK)
	by barry.mail.mindspring.net with smtp (Exim 3.33 #1)
	id 19xS4H-0007X1-00
	for lucene-user@jakarta.apache.org; Thu, 11 Sep 2003 10:05:05 -0400
Message-ID: <009f01c3786d$b40fd250$0401a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users Group" <lucene-user@jakarta.apache.org>
Subject: Negative boosting?
Date: Thu, 11 Sep 2003 10:05:05 -0400
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_009C_01C3784C.2CA58B00"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_009C_01C3784C.2CA58B00
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I've often found the use of query-based boosting to be very beneficial.  =
This is particularly so when it's easy to identify the term that I want =
to stand out as a primary selector. =20

However, I've come across quite a few other cases where it would be =
easier (and more logical) to apply a negative boost - to de-emphasize =
the match when the term is present. =20

Is it possible to apply a negative boost (It doesn't seem to work), and =
if not, would it break anything signficant if that were added?

Regards,

Terry

------=_NextPart_000_009C_01C3784C.2CA58B00--


From Karsten.Konrad@xtramind.com  Thu Sep 11 14:27:51 2003
Return-Path: <Karsten.Konrad@xtramind.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36382 invoked from network); 11 Sep 2003 14:27:51 -0000
Received: from unknown (HELO mousepad.xtramind.dfki.de) (134.96.191.5)
  by daedalus.apache.org with SMTP; 11 Sep 2003 14:27:51 -0000
Received: from localhost (localhost [127.0.0.1])
	by mousepad.xtramind.dfki.de (Postfix) with ESMTP id 92E4B7D13
	for <lucene-user@jakarta.apache.org>; Thu, 11 Sep 2003 16:27:53 +0200 (MEST)
Received: from omicron.win.xtramind.dfki.de (omicron.xtramind.dfki.de [192.168.4.37])
	by mousepad.xtramind.dfki.de (Postfix) with ESMTP id 283307CF6
	for <lucene-user@jakarta.apache.org>; Thu, 11 Sep 2003 16:27:51 +0200 (MEST)
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: AW: Negative boosting?
Date: Thu, 11 Sep 2003 16:27:51 +0200
Message-ID: <3B48940F2D7712428BD31A041A367DDC015A6B@lrrr>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Negative boosting?
Thread-Index: AcN4bb4f0+zdwmMwREK93moBlGz0rAAAdy1w
From: "Karsten Konrad" <Karsten.Konrad@xtramind.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Scanned: by AMaViS with Sophos Sweep
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


I have done negative boosts, it does work; you must construct your
query terms accordingly. I found the results somewhat unintuitive -
the mixture of negative and postive boosts (mainly 1.0), TF/IDF=20
and document length normalization will very often make documents=20
more relevant that you did not expect to be.=20

Regards,

Karsten

Mit freundlichen Gr=FC=DFen aus Saarbr=FCcken

--

Dr.-Ing. Karsten Konrad
Head of Artificial Intelligence Lab

XtraMind Technologies GmbH
Stuhlsatzenhausweg 3
D-66123 Saarbr=FCcken
Phone: +49 (681) 3025113
Fax: +49 (681) 3025109
konrad@xtramind.com
www.xtramind.com

-----Urspr=FCngliche Nachricht-----
Von: Terry Steichen [mailto:terry@net-frame.com]=20
Gesendet: Donnerstag, 11. September 2003 16:05
An: Lucene Users Group
Betreff: Negative boosting?


I've often found the use of query-based boosting to be very beneficial.  =
This is particularly so when it's easy to identify the term that I want =
to stand out as a primary selector. =20

However, I've come across quite a few other cases where it would be =
easier (and more logical) to apply a negative boost - to de-emphasize =
the match when the term is present. =20

Is it possible to apply a negative boost (It doesn't seem to work), and =
if not, would it break anything signficant if that were added?

Regards,

Terry

From routar@ideorlando.org  Thu Sep 11 14:33:09 2003
Return-Path: <routar@ideorlando.org>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49064 invoked from network); 11 Sep 2003 14:33:09 -0000
Received: from unknown (HELO mail.ideorlando.org) (208.63.70.76)
  by daedalus.apache.org with SMTP; 11 Sep 2003 14:33:09 -0000
Received: from ROUTARDBW (unknown [208.62.52.106])
	by mail.ideorlando.org (Postfix) with SMTP id 38BD83688B
	for <lucene-user@jakarta.apache.org>; Thu, 11 Sep 2003 10:27:30 -0400 (EDT)
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Query question
Date: Thu, 11 Sep 2003 10:32:55 -0400
Message-ID: <MNEPJJAGGPICDNOCBIKDAEPECLAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.6604 (9.0.2911.0)
In-Reply-To: <20030910210522.87915.qmail@web12706.mail.yahoo.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Otis,

	Are you referring to this:

		How do I retrieve all the values of a particular field that exists within
an index, across all documents?

I need a query to do it, the only way clients access the index is via
queries so they cannot write the code in the faq above.

Thanks,

Rob


-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
Sent: Wednesday, September 10, 2003 5:05 PM
To: Lucene Users List
Subject: Re: Query question


Go to Lucene FAQ at jGuru.com and search for the word 'all'.

Otis

--- Rob Outar <routar@ideorlando.org> wrote:
> Hi all,
>
> 	I have a field called "echelon" that are assigned to certain files.
> Is
> there a query I can write that will give me all files that have this
> field?
>
> 	I have tried stuff like echelon:.+*, echelon:*, etc... some give a
> query
> parser exception while others return nothing.
>
> Let me know,
>
> Rob
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From otis_gospodnetic@yahoo.com  Thu Sep 11 15:05:19 2003
Return-Path: <otis_gospodnetic@yahoo.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15454 invoked from network); 11 Sep 2003 15:05:19 -0000
Received: from unknown (HELO web12707.mail.yahoo.com) (216.136.173.244)
  by daedalus.apache.org with SMTP; 11 Sep 2003 15:05:19 -0000
Message-ID: <20030911150521.3607.qmail@web12707.mail.yahoo.com>
Received: from [194.152.206.170] by web12707.mail.yahoo.com via HTTP; Thu, 11 Sep 2003 08:05:21 PDT
Date: Thu, 11 Sep 2003 08:05:21 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: Query question
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <MNEPJJAGGPICDNOCBIKDAEPECLAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Aha.  You can't do it with a query, unless you add a fixed-value field
to all documents added to your index.
e.g.
field:X

Then you can get all documents by searching for +field:X

Otis

--- Rob Outar <routar@ideorlando.org> wrote:
> Otis,
> 
> 	Are you referring to this:
> 
> 		How do I retrieve all the values of a particular field that exists
> within
> an index, across all documents?
> 
> I need a query to do it, the only way clients access the index is via
> queries so they cannot write the code in the faq above.
> 
> Thanks,
> 
> Rob
> 
> 
> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> Sent: Wednesday, September 10, 2003 5:05 PM
> To: Lucene Users List
> Subject: Re: Query question
> 
> 
> Go to Lucene FAQ at jGuru.com and search for the word 'all'.
> 
> Otis
> 
> --- Rob Outar <routar@ideorlando.org> wrote:
> > Hi all,
> >
> > 	I have a field called "echelon" that are assigned to certain
> files.
> > Is
> > there a query I can write that will give me all files that have
> this
> > field?
> >
> > 	I have tried stuff like echelon:.+*, echelon:*, etc... some give a
> > query
> > parser exception while others return nothing.
> >
> > Let me know,
> >
> > Rob
> >
> >
> >
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> >
> 
> 
> __________________________________
> Do you Yahoo!?
> Yahoo! SiteBuilder - Free, easy-to-use web site design software
> http://sitebuilder.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

From cutting@lucene.com  Thu Sep 11 17:23:08 2003
Return-Path: <cutting@lucene.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93115 invoked from network); 11 Sep 2003 17:23:08 -0000
Received: from unknown (HELO mailshell.com) (209.157.66.247)
  by daedalus.apache.org with SMTP; 11 Sep 2003 17:23:08 -0000
Received: (qmail 13987 invoked from network); 11 Sep 2003 17:23:11 -0000
Received: from unknown (HELO lucene.com) (dcutting@grandcentral.com@12.210.200.74)
  by mail.mailshell.com with SMTP; 11 Sep 2003 17:23:11 -0000
Message-ID: <3F60AF7A.2040701@lucene.com>
Date: Thu, 11 Sep 2003 10:23:06 -0700
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030701
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene documentation
References: <BAY1-F132tgVy5RHilp0000ceb9@hotmail.com> <200308290914.39366.tatu@hypermall.net> <004801c36e46$eb5777d0$0201a8c0@POWERPACK> <200308292209.45049.tatu@hypermall.net> <001001c36f06$5364d5b0$0201a8c0@POWERPACK>
In-Reply-To: <001001c36f06$5364d5b0$0201a8c0@POWERPACK>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Terry Steichen wrote:
> PS: If there is general interest in doing some documentation enhancement,
> I'd be happy to participate/contribute.

I think there's always room for better documentation.  If you have ideas 
about this, and, more importantly, time to contribute, please have a go 
at it.

Doug


From cutting@lucene.com  Thu Sep 11 17:59:53 2003
Return-Path: <cutting@lucene.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49200 invoked from network); 11 Sep 2003 17:59:53 -0000
Received: from unknown (HELO mailshell.com) (209.157.66.247)
  by daedalus.apache.org with SMTP; 11 Sep 2003 17:59:53 -0000
Received: (qmail 22452 invoked from network); 11 Sep 2003 17:59:57 -0000
Received: from unknown (HELO lucene.com) (dcutting@grandcentral.com@12.210.200.74)
  by mail.mailshell.com with SMTP; 11 Sep 2003 17:59:57 -0000
Message-ID: <3F60B817.6040008@lucene.com>
Date: Thu, 11 Sep 2003 10:59:51 -0700
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030701
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene features
References: <3DC24860-E0DD-11D7-ADF3-000393A564E6@ehatchersolutions.com>
In-Reply-To: <3DC24860-E0DD-11D7-ADF3-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Erik Hatcher wrote:
> Yes, you're right.  Getting the scores of a second query based on the 
> scores of the first query is probably not trivial, but probably possible 
> with Lucene.  And that combined with a QueryFilter would do the trick I 
> suspect.  Somehow the scores of the first query could be remembered and 
> used as a boost (or other type of factor) the scores of the second query.

Why not just AND together the first and second query?  That way they're 
both incorporated in the ranking.  Filters are good when you don't want 
it to affect the ranking, and also when the first query is a criterion 
that you'll reuse for many queries (e.g., language=french), since the 
bit vectors can be cached (as by QueryFilter).

Doug


From cutting@lucene.com  Thu Sep 11 18:05:54 2003
Return-Path: <cutting@lucene.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53133 invoked from network); 11 Sep 2003 18:05:54 -0000
Received: from unknown (HELO mailshell.com) (209.157.66.249)
  by daedalus.apache.org with SMTP; 11 Sep 2003 18:05:54 -0000
Received: (qmail 18022 invoked from network); 11 Sep 2003 18:05:58 -0000
Received: from unknown (HELO lucene.com) (dcutting@grandcentral.com@12.210.200.74)
  by mail.mailshell.com with SMTP; 11 Sep 2003 18:05:58 -0000
Message-ID: <3F60B981.5090503@lucene.com>
Date: Thu, 11 Sep 2003 11:05:53 -0700
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030701
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene features
References: <3DC24860-E0DD-11D7-ADF3-000393A564E6@ehatchersolutions.com> <3F5B4D67.9090402@seznam.cz>
In-Reply-To: <3F5B4D67.9090402@seznam.cz>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Leo Galambos wrote:
> Example: I use this notation: inverted_list_term:{list of W values, "-" 
> denotes W=0, for 12 documents in a collection}
> A:{23[16]------27}
> B:{--[38]--------}
> C:{18[2-]45239812}
> If your first query is B, the subset of documents (denoted by brackets - 
> namely, the 3rd and 4th doc) is selected, and if your second query is "A 
> C", then you cannot use global IDFs, because in the subset, the IDF 
> factors are different. Globally, A is better distriminator, but in the 
> subset, C is better. This fact is then reflected by the hit list you 
> generate, and I guess, the quality will be also affected by this.
> 
> The example shows, that you would rather export the subset to an 
> auxiliary index (RAMDirectory?) and then use this structure instead of 
> the original index. Obviously, it will solve the issue of speed you 
> mentioned.
> 
> Unfortunately, I am not sure, if you can export the inverted lists when 
> you read them. In egothor, I would use a listener in Rider class, in 
> Lucene, I would have to rewrite some classes and it could be a real 
> problem. Maybe, there is a solution I do not see...

I have some extensions to Lucene that I've not yet commited which make 
it possible to easily define synthetic IndexReaders (not currently 
supported).  So you could do things that way, once I check these in. 
But is this really better than just ANDing the clauses together?  It 
would take some big experiments to know, but my guess is that it doesn't 
make much difference to compute a "local" IDF for such things.

Doug


From Leo.G@seznam.cz  Thu Sep 11 19:48:50 2003
Return-Path: <Leo.G@seznam.cz>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36547 invoked from network); 11 Sep 2003 19:48:50 -0000
Received: from unknown (HELO smtp-out3.iol.cz) (194.228.2.91)
  by daedalus.apache.org with SMTP; 11 Sep 2003 19:48:50 -0000
Received: from fw.shark (gprs193-11.eurotel.cz [160.218.193.11])
	by smtp-out3.iol.cz (Internet on Line ESMP server) with ESMTP id 2ED9B33FA9
	for <lucene-user@jakarta.apache.org>; Thu, 11 Sep 2003 21:48:52 +0200 (CEST)
Received: from seznam.cz (0-3.shark [192.168.0.3])
	by fw.shark (8.12.8/8.12.5) with ESMTP id h8BJlXHc006512
	for <lucene-user@jakarta.apache.org>; Thu, 11 Sep 2003 21:47:37 +0200
Message-ID: <3F60D040.7040401@seznam.cz>
Date: Thu, 11 Sep 2003 21:42:56 +0200
From: Leo Galambos <Leo.G@seznam.cz>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene features
References: <3DC24860-E0DD-11D7-ADF3-000393A564E6@ehatchersolutions.com> <3F60B817.6040008@lucene.com>
In-Reply-To: <3F60B817.6040008@lucene.com>
X-Enigmail-Version: 0.76.4.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Doug Cutting wrote:

> Erik Hatcher wrote:
>
>> Yes, you're right.  Getting the scores of a second query based on the 
>> scores of the first query is probably not trivial, but probably 
>> possible with Lucene.  And that combined with a QueryFilter would do 
>> the trick I suspect.  Somehow the scores of the first query could be 
>> remembered and used as a boost (or other type of factor) the scores 
>> of the second query.
>
>
> Why not just AND together the first and second query?  That way 
> they're both incorporated in the ranking.  Filters are good when you 
> don't want it to affect the ranking, and also when the first query is 
> a criterion that you'll reuse for many queries (e.g., 
> language=french), since the bit vectors can be cached (as by 
> QueryFilter).


You probably missed the start of our discussion - we are talking about 
this: "q1 -> q2" which means "NOT q1 OR q2", versus "q2 -> q1" which 
means "q1 OR NOT q2". It causes the issue, and it also shows why you 
cannot use the simple "AND", because "q1 AND q2" != "NOT q1 OR q2" != 
"q1 OR NOT q2".

Leo

BTW: I didn't see the logic formulas for many years, so it is without 
any guarantee ;-)



From cutting@lucene.com  Thu Sep 11 21:01:48 2003
Return-Path: <cutting@lucene.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61957 invoked from network); 11 Sep 2003 21:01:48 -0000
Received: from unknown (HELO mailshell.com) (209.157.66.232)
  by daedalus.apache.org with SMTP; 11 Sep 2003 21:01:48 -0000
Received: (qmail 8904 invoked from network); 11 Sep 2003 21:01:53 -0000
Received: from unknown (HELO lucene.com) (dcutting@grandcentral.com@12.210.200.74)
  by mail.mailshell.com with SMTP; 11 Sep 2003 21:01:53 -0000
Message-ID: <3F60E2BC.1040202@lucene.com>
Date: Thu, 11 Sep 2003 14:01:48 -0700
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030701
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Split results based on the value of a field
References: <3F57685B.5020303@swebtec.com>
In-Reply-To: <3F57685B.5020303@swebtec.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Jon Pither wrote:
> I have a requirement whereupon I'd like to pull search results back and 
> split them up based on some keyword field. So for example, says there's 
> a field named 'category',  I'd like to be able to have the results 
> displayed as such:
> 
> Search Results for Category A:
> 1,
> 2,
> 3,
> 
> Search Results for Category B:
> 1,
> 2,
> 3.
> 
> The two ways I can think to do this are:
> 1) A post-process of the results collecting the first x amount of hits 
> for each category.
> 2) Running a different search per category.

You could put the text for category A documents in one field, and the 
text for category B documents in another field, then run two searches, 
one of each field.  Then, if you need to search both categories with 
merged results, construct a query that searches both fields.  If you 
never need to do that, you could even use two separate indexes.

Doug


From Leo.G@seznam.cz  Thu Sep 11 21:03:15 2003
Return-Path: <Leo.G@seznam.cz>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63402 invoked from network); 11 Sep 2003 21:03:15 -0000
Received: from unknown (HELO smtp-out4.iol.cz) (194.228.2.92)
  by daedalus.apache.org with SMTP; 11 Sep 2003 21:03:15 -0000
Received: from fw.shark (gprs193-11.eurotel.cz [160.218.193.11])
	by smtp-out4.iol.cz (Internet on Line ESMTP server) with ESMTP id 6861130493
	for <lucene-user@jakarta.apache.org>; Thu, 11 Sep 2003 23:03:16 +0200 (CEST)
Received: from seznam.cz (0-3.shark [192.168.0.3])
	by fw.shark (8.12.8/8.12.5) with ESMTP id h8BL1vHc006678
	for <lucene-user@jakarta.apache.org>; Thu, 11 Sep 2003 23:02:01 +0200
Message-ID: <3F60E1B0.1090807@seznam.cz>
Date: Thu, 11 Sep 2003 22:57:20 +0200
From: Leo Galambos <Leo.G@seznam.cz>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene features
References: <3DC24860-E0DD-11D7-ADF3-000393A564E6@ehatchersolutions.com> <3F5B4D67.9090402@seznam.cz> <3F60B981.5090503@lucene.com>
In-Reply-To: <3F60B981.5090503@lucene.com>
X-Enigmail-Version: 0.76.4.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Doug Cutting wrote:

>
> I have some extensions to Lucene that I've not yet commited which make 
> it possible to easily define synthetic IndexReaders (not currently 
> supported).  So you could do things that way, once I check these in. 
> But is this really better than just ANDing the clauses together?  It 
> would take some big experiments to know, but my guess is that it 
> doesn't make much difference to compute a "local" IDF for such things.


In this case, I think that the operator would be evaluated as "an 
implication" and not "AND" (=1-(((1-q1)^p+(1-q2)^p )/2 )^(1/p)). 
Obviously, you have to use an filter to filter out false hits (in case 
of q1->q2, the formula is true when q1 is false, so it is not what you 
really need), but it is not an issue with the auxiliary index. On the 
other hand, it is a feeling and it needs a test, you are right.

Leo



From morpheus@helix.stanford.edu  Fri Sep 12 00:06:28 2003
Return-Path: <morpheus@helix.stanford.edu>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85203 invoked from network); 12 Sep 2003 00:06:28 -0000
Received: from unknown (HELO smtp1.Stanford.EDU) (171.64.14.23)
  by daedalus.apache.org with SMTP; 12 Sep 2003 00:06:28 -0000
Received: from helix.stanford.edu (HXDHP-C03.Stanford.EDU [171.65.78.133])
	by smtp1.Stanford.EDU (8.12.9/8.12.9) with ESMTP id h8C06WZI024041
	for <lucene-user@jakarta.apache.org>; Thu, 11 Sep 2003 17:06:33 -0700 (PDT)
Message-ID: <3F610E07.7010903@helix.stanford.edu>
Date: Thu, 11 Sep 2003 17:06:31 -0700
From: Mark Woon <morpheus@helix.stanford.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Strange exception with wildcard use
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi all...

I'm getting a BooleanQuery$TooManyClauses exception and I'm not really 
sure why.  I only get it when I do a wild card search, and even then, 
not all the time.

Searching for "ca*" and "pa3*" works just fine, but "pa*" or "pa1*" 
fails with:

org.apache.lucene.search.BooleanQuery$TooManyClauses
	at org.apache.lucene.search.BooleanQuery.add(BooleanQuery.java:109)
	at org.apache.lucene.search.BooleanQuery.add(BooleanQuery.java:101)
	at org.apache.lucene.search.PrefixQuery.rewrite(PrefixQuery.java:85)
	at org.apache.lucene.search.IndexSearcher.rewrite(IndexSearcher.java:195)
	at org.apache.lucene.search.Query.weight(Query.java:120)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:128)
	at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:90)
	at org.apache.lucene.search.Hits.(Hits.java:80)
	at org.apache.lucene.search.Searcher.search(Searcher.java:71)
	at org.apache.lucene.search.Searcher.search(Searcher.java:65)


Does anyone have any idea what might be causing this?  I'm using the 
QueryParser to build my query for me and the SnowballAnalyzer and and 
IndexSearcher with to perform the search.  This is with what's currently 
in CVS.


Thanks,
-Mark



From morpheus@helix.stanford.edu  Fri Sep 12 00:56:57 2003
Return-Path: <morpheus@helix.stanford.edu>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35946 invoked from network); 12 Sep 2003 00:56:57 -0000
Received: from unknown (HELO smtp1.Stanford.EDU) (171.64.14.23)
  by daedalus.apache.org with SMTP; 12 Sep 2003 00:56:57 -0000
Received: from helix.stanford.edu (HXDHP-C03.Stanford.EDU [171.65.78.133])
	by smtp1.Stanford.EDU (8.12.9/8.12.9) with ESMTP id h8C0v1ZI026725
	for <lucene-user@jakarta.apache.org>; Thu, 11 Sep 2003 17:57:01 -0700 (PDT)
Message-ID: <3F6119DB.1000700@helix.stanford.edu>
Date: Thu, 11 Sep 2003 17:56:59 -0700
From: Mark Woon <morpheus@helix.stanford.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Strange exception with wildcard use
References: <3F610E07.7010903@helix.stanford.edu>
In-Reply-To: <3F610E07.7010903@helix.stanford.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


So I've done some digging, and it looks like I can resolve this problem 
by setting the max clause count on BooleanQuery.  However, I'm not 
really sure what this affects.

Can anyone describe what this property controls?  Surely it was set to 
1024 for a reason...

Thanks,
-Mark



From buics123@yahoo.com  Fri Sep 12 06:41:22 2003
Return-Path: <buics123@yahoo.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93571 invoked from network); 12 Sep 2003 06:41:22 -0000
Received: from unknown (HELO web41901.mail.yahoo.com) (66.218.93.152)
  by daedalus.apache.org with SMTP; 12 Sep 2003 06:41:22 -0000
Message-ID: <20030912064134.2902.qmail@web41901.mail.yahoo.com>
Received: from [64.15.239.34] by web41901.mail.yahoo.com via HTTP; Thu, 11 Sep 2003 23:41:34 PDT
Date: Thu, 11 Sep 2003 23:41:34 -0700 (PDT)
From: Rociel Buico <buics123@yahoo.com>
Subject: Index commit.lock
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <MNEPJJAGGPICDNOCBIKDAEPECLAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-608403143-1063348894=:99945"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--0-608403143-1063348894=:99945
Content-Type: text/plain; charset=us-ascii


hello,

my index is being accessed by multiple threads, 

and im getting an ioexception saying about commit.lock.

is there any solution to avoid commit.lock?

tia,

buics


---------------------------------
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
--0-608403143-1063348894=:99945--

From pifpafpuf@gmx.de  Fri Sep 12 08:23:40 2003
Return-Path: <pifpafpuf@gmx.de>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14743 invoked from network); 12 Sep 2003 08:23:40 -0000
Received: from unknown (HELO mx0.gmx.net) (213.165.64.100)
  by daedalus.apache.org with SMTP; 12 Sep 2003 08:23:40 -0000
Received: (qmail 31756 invoked by uid 0); 12 Sep 2003 08:23:53 -0000
Date: Fri, 12 Sep 2003 10:23:53 +0200 (MEST)
From: pifpafpuf@gmx.de
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Subject: endOffset, startOffset of Token
X-Priority: 3 (Normal)
X-Authenticated-Sender: #0001850795@gmx.net
X-Authenticated-IP: [193.62.199.77]
Message-ID: <22576.1063355033@www43.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Are the endOffset, startOffset fields of a Token used in 
proximity search and phrase search.

My problem is that I tried my own TokenStream and may have
messed up the offsets. What are the restrictions for a phrase
search to work? Do the offsets of tokens have to be exactly
adjacent?

  Thanks,
  Harald.

-- 
COMPUTERBILD 15/03: Premium-e-mail-Dienste im Test
--------------------------------------------------
1. GMX TopMail - Platz 1 und Testsieger!
2. GMX ProMail - Platz 2 und Preis-Qualittssieger!
3. Arcor - 4. web.de - 5. T-Online - 6. freenet.de - 7. daybyday - 8. e-Post


From pifpafpuf@gmx.de  Fri Sep 12 10:28:14 2003
Return-Path: <pifpafpuf@gmx.de>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37960 invoked from network); 12 Sep 2003 10:28:14 -0000
Received: from unknown (HELO mx0.gmx.net) (213.165.64.100)
  by daedalus.apache.org with SMTP; 12 Sep 2003 10:28:14 -0000
Received: (qmail 29986 invoked by uid 0); 12 Sep 2003 10:28:28 -0000
Received: from 193.62.199.77 by www28.gmx.net with HTTP;
	Fri, 12 Sep 2003 12:28:28 +0200 (MEST)
Date: Fri, 12 Sep 2003 12:28:28 +0200 (MEST)
From: pifpafpuf@gmx.de
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Subject: QueryParser or Query seem to tokenize keyword fields
X-Priority: 3 (Normal)
X-Authenticated: #1850795
Message-ID: <13813.1063362508@www28.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

My own TokenStream drops all numbers. The document IDs I store with a
document 
are numbers. I enter the ID field as a keyword field. Consquently it is not
run through
tokenization and ends up nicely in the index.

However, when I want to query according to the ID field, the query is run
through
the tokenizer. The tokenizer drops the number producing no output and
the query produces no result.

DISCUSSION:
The immediate solution is to instruct my Analyzer to generate a different
TokenStream
for the ID field, namely one which does not drop numbers.

However, the Lucene documents, tutorials and FAQ state often enought that
document tokenization and query tokenization must be identical to get
consistent results. Therefore I would expect that the information whether
a field needs tokenization or not is taken from the index when querying.
This,
however, is not possible because it seems a field name does not need
consistently
refer to a tokenized or non-tokenized field.

I wonder if it would make sense to requrie that fields names are registered
with the index before they can be used in Documents and to then
enforce consistent use.

  Harald.


-- 
COMPUTERBILD 15/03: Premium-e-mail-Dienste im Test
--------------------------------------------------
1. GMX TopMail - Platz 1 und Testsieger!
2. GMX ProMail - Platz 2 und Preis-Qualittssieger!
3. Arcor - 4. web.de - 5. T-Online - 6. freenet.de - 7. daybyday - 8. e-Post


From rtaylor@newatlanta.com  Fri Sep 12 15:49:17 2003
Return-Path: <rtaylor@newatlanta.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1062 invoked from network); 12 Sep 2003 15:49:17 -0000
Received: from unknown (HELO mail.newatlanta.com) (204.255.113.44)
  by daedalus.apache.org with SMTP; 12 Sep 2003 15:49:17 -0000
Received: from rtaylor [204.255.113.46] by mail.newatlanta.com
  (SMTPD32-6.05) id AD5B269D013A; Fri, 12 Sep 2003 11:59:23 -0400
From: "Robert Taylor" <rtaylor@newatlanta.com>
To: <lucene-user@jakarta.apache.org>
Subject: Lucene and Struts
Date: Fri, 12 Sep 2003 11:51:36 -0400
Message-ID: <OAEDIMPLEONBBFJHJPAMAELDDJAA.rtaylor@newatlanta.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I have a web application developed with Struts and I wish to add the ability
for users to search the web application content.

Some of the web application pages are directly accessible via a URL and
others are only accessible via a Struts action mapping URL.

All of the web application pages are composite pages (similar to Tiles)
where
each page includes and populates a template with content. The content may
come from various locations but the runtime result is a complete page.

After downloading Lucene and working with the demo applications I quickly
realized the problems voiced by Marco Tedone  in this archived message:

http://www.mail-archive.com/lucene-user@jakarta.apache.org/msg04656.html


I read through the thread and it didn't appear that there was a
simple/elegant solution.

I was wondering if anyone has come up with a simple/elegant solution for
using Lucene
with Struts/Tiles.


robert






From jeff@greenninja.com  Fri Sep 12 15:57:26 2003
Return-Path: <jeff@greenninja.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12689 invoked from network); 12 Sep 2003 15:57:26 -0000
Received: from unknown (HELO cosmos.phpwebhosting.com) (66.33.60.222)
  by daedalus.apache.org with SMTP; 12 Sep 2003 15:57:26 -0000
Received: (qmail 15263 invoked from network); 12 Sep 2003 15:57:24 -0000
Received: from unknown (HELO charliebrown) (64.123.5.217)
  by cosmos.phpwebhosting.com with SMTP; 12 Sep 2003 15:57:24 -0000
Message-ID: <0bc601c37946$d2451440$7a01a8c0@charliebrown>
From: "Jeff Linwood" <jeff@greenninja.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <OAEDIMPLEONBBFJHJPAMAELDDJAA.rtaylor@newatlanta.com>
Subject: Re: Lucene and Struts
Date: Fri, 12 Sep 2003 10:59:17 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

You could crawl the web site to build the index.  The crawling strategy is
going to vary depending on how your site is set up in terms of secured areas
vs non-secured, how pages are linked, etc.

Jeff
----- Original Message ----- 
From: "Robert Taylor" <rtaylor@newatlanta.com>
To: <lucene-user@jakarta.apache.org>
Sent: Friday, September 12, 2003 10:51 AM
Subject: Lucene and Struts


> I have a web application developed with Struts and I wish to add the
ability
> for users to search the web application content.
>
> Some of the web application pages are directly accessible via a URL and
> others are only accessible via a Struts action mapping URL.
>
> All of the web application pages are composite pages (similar to Tiles)
> where
> each page includes and populates a template with content. The content may
> come from various locations but the runtime result is a complete page.
>
> After downloading Lucene and working with the demo applications I quickly
> realized the problems voiced by Marco Tedone  in this archived message:
>
> http://www.mail-archive.com/lucene-user@jakarta.apache.org/msg04656.html
>
>
> I read through the thread and it didn't appear that there was a
> simple/elegant solution.
>
> I was wondering if anyone has come up with a simple/elegant solution for
> using Lucene
> with Struts/Tiles.
>
>
> robert
>
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


From mtedone@jemos.org  Fri Sep 12 16:24:48 2003
Return-Path: <mtedone@jemos.org>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48082 invoked from network); 12 Sep 2003 16:24:48 -0000
Received: from unknown (HELO jemoserver) (62.3.127.84)
  by daedalus.apache.org with SMTP; 12 Sep 2003 16:24:48 -0000
Received: from jemoserver ([192.168.2.3])
          by jemoserver (JAMES SMTP Server 2.2.0a10) with SMTP ID 860
          for <lucene-user@jakarta.apache.org>;
          Fri, 12 Sep 2003 17:24:43 +0100 (BST)
Message-ID: <021701c3794a$5f6aa030$0302a8c0@jemoserver>
From: "Marco Tedone" <mtedone@jemos.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <OAEDIMPLEONBBFJHJPAMAELDDJAA.rtaylor@newatlanta.com>
Subject: Re: Lucene and Struts
Date: Fri, 12 Sep 2003 17:24:43 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Well, I'm working on it and I collected all the information I need. Now it's
time to put them together in a unique, possibly fully functional solution.

What I'm realizing is a search facility which shows the user links to
actions which forward to the jsp of interest. This is possible by retrieving
the configuration information both on the struts-config.xml file (mapping
between action and JSPs), and on the tiles-defs.xml file (Yes, I'm using
Tiles). I've been desperate for a while, but then someone from the struts
mailing list illuminated me with the following trick:

 <definition name="tiles.administer" extends="xmlLayout">
      <put name="title" value="Jemos Administation page"/>
      <put name="security" value="/shared/adminSecurityTest.jsp"/>
      <put name="body" value="/site/bodies/administer-body.jsp"/>
      <put name="definition.location.tiles.administer"
value="administer.jsp" />

Basically, it seems (because I haven't tried yet) that it's possible to
define an additional property in a Tiles definition, without it being
actually present in any JSP. If we immagine to put a property which tells,
for each JSP which really contains the content, which is the JSP defined in
the struts configuration file, from there it's possible to get the map
between an action and this JSP, therefore (even if the road is quite long)
the mapping is possible. Here's how it works:

1) An administrator function (in my case a Struts action) creates an index,
given a specific folder (in my case the webapp/myapp folder) as input, a
desired folder as output, and specifying one or more file extensions to
consider for the search (Search facility realized with a steteless session
bean deployed under Jboss). The result is a database with the following
fields:

2) A user submits a query: a component will retrieve from the index all the
content-matching JSPs paths and thanks to another facility I developed, it
will remove the system-relative-path (let's say D:\Tomcat\webapps because
I'm running on Windows) from the JSP (returning the context relative path,
let's say myapp/content-body.jsp). All the matching JSPs will be returned as
a collection (or something similar...).

3) For each path, another component will look in the Tiles defs the matching
JSP (thanks to the above trick!); with this information the Struts
configuration file will be queried and the matching action retrieved: from
here it's quite simple to create a web-fully-context-path to show to the
user...

Result? The user will be shown with links to the actions which map to the
JSPs which contain what she searched for...

Limit? Initially this application will work for Tiles (even if I'll try to
apply some design patterns to allow different implementation) but my goal is
to design a general solution which could work with basic JSPs, include JSPs
and so on...

Hope this will help,

Marco


----- Original Message ----- 
From: "Robert Taylor" <rtaylor@newatlanta.com>
To: <lucene-user@jakarta.apache.org>
Sent: Friday, September 12, 2003 4:51 PM
Subject: Lucene and Struts


> I have a web application developed with Struts and I wish to add the
ability
> for users to search the web application content.
>
> Some of the web application pages are directly accessible via a URL and
> others are only accessible via a Struts action mapping URL.
>
> All of the web application pages are composite pages (similar to Tiles)
> where
> each page includes and populates a template with content. The content may
> come from various locations but the runtime result is a complete page.
>
> After downloading Lucene and working with the demo applications I quickly
> realized the problems voiced by Marco Tedone  in this archived message:
>
> http://www.mail-archive.com/lucene-user@jakarta.apache.org/msg04656.html
>
>
> I read through the thread and it didn't appear that there was a
> simple/elegant solution.
>
> I was wondering if anyone has come up with a simple/elegant solution for
> using Lucene
> with Struts/Tiles.
>
>
> robert
>
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>




From Reece.Wilton@dig.com  Fri Sep 12 16:35:15 2003
Return-Path: <Reece.Wilton@dig.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55804 invoked from network); 12 Sep 2003 16:35:15 -0000
Received: from unknown (HELO mail.disney.com) (204.128.192.15)
  by daedalus.apache.org with SMTP; 12 Sep 2003 16:35:15 -0000
Received: from Hermes10.corp.disney.com (hermes10.corp.disney.com [153.7.110.102])
	by mail.disney.com (Switch-3.1.0/Switch-3.1.0) with ESMTP id h8CGY25d020086
	for <lucene-user@jakarta.apache.org>; Fri, 12 Sep 2003 09:34:12 -0700 (PDT)
Received: from sm-cala-xc07.swna.wdpr.disney.com (sm-cala-xc07.swna.wdpr.disney.com [153.7.195.64]) by hermes.corp.disney.com with ESMTP; Fri, 12 Sep 2003 09:35:28 -0700
Received: from sm-cala-xm11.swna.wdpr.disney.com ([153.7.195.53]) by sm-cala-xc07.swna.wdpr.disney.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Fri, 12 Sep 2003 09:35:13 -0700
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Index commit.lock
X-MimeOLE: Produced By Microsoft Exchange V6.0.6375.0
Date: Fri, 12 Sep 2003 09:35:13 -0700
Message-Id: <496A2C679221504D8B8AE4B10267E876019D7C30@gb-sm-cala-xm11.corp.disney.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Index commit.lock
Thread-Index: AcN4+USDk5TibT/NQUaYCwk0SBos3AAUnSEQ
From: "Wilton, Reece" <Reece.Wilton@dig.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 12 Sep 2003 16:35:14.0046 (UTC) FILETIME=[D77011E0:01C3794B]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Are you running on Windows?  Make sure you only have one IndexWriter or
IndexReader open at a time.  When I had both open I would get this
message.  Also, increase the mergefactor to 100 or so.

-----Original Message-----
From: Rociel Buico [mailto:buics123@yahoo.com]=20
Sent: Thursday, September 11, 2003 11:42 PM
To: Lucene Users List
Subject: Index commit.lock



hello,

my index is being accessed by multiple threads,=20

and im getting an ioexception saying about commit.lock.

is there any solution to avoid commit.lock?

tia,

buics


---------------------------------
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software

From rtaylor@newatlanta.com  Fri Sep 12 17:00:36 2003
Return-Path: <rtaylor@newatlanta.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99787 invoked from network); 12 Sep 2003 17:00:36 -0000
Received: from unknown (HELO minotaur.apache.org) (209.237.227.194)
  by daedalus.apache.org with SMTP; 12 Sep 2003 17:00:36 -0000
Received: (qmail 92811 invoked from network); 12 Sep 2003 17:00:42 -0000
Received: from ftp.newatlanta.com (HELO mail.newatlanta.com) (204.255.113.44)
  by minotaur-2.apache.org with SMTP; 12 Sep 2003 17:00:42 -0000
Received: from rtaylor [204.255.113.46] by mail.newatlanta.com
  (SMTPD32-6.05) id ADF9B3003C6; Fri, 12 Sep 2003 13:10:17 -0400
From: "Robert Taylor" <rtaylor@newatlanta.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Lucene and Struts
Date: Fri, 12 Sep 2003 13:02:29 -0400
Message-ID: <OAEDIMPLEONBBFJHJPAMOELEDJAA.rtaylor@newatlanta.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
In-Reply-To: <0bc601c37946$d2451440$7a01a8c0@charliebrown>
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Yes! I came to the same conclusion. It seems like the most elegant solution
for web applications built using composite pages (Struts or non-struts).

Has anyone implemented this approach?

Has anyone used LARM for this type of approach?
http://jakarta.apache.org/lucene/docs/lucene-sandbox/larm/overview.html

robert


> -----Original Message-----
> From: Jeff Linwood [mailto:jeff@greenninja.com]
> Sent: Friday, September 12, 2003 11:59 AM
> To: Lucene Users List
> Subject: Re: Lucene and Struts
>
>
> You could crawl the web site to build the index.  The crawling strategy is
> going to vary depending on how your site is set up in terms of
> secured areas
> vs non-secured, how pages are linked, etc.
>
> Jeff
> ----- Original Message -----
> From: "Robert Taylor" <rtaylor@newatlanta.com>
> To: <lucene-user@jakarta.apache.org>
> Sent: Friday, September 12, 2003 10:51 AM
> Subject: Lucene and Struts
>
>
> > I have a web application developed with Struts and I wish to add the
> ability
> > for users to search the web application content.
> >
> > Some of the web application pages are directly accessible via a URL and
> > others are only accessible via a Struts action mapping URL.
> >
> > All of the web application pages are composite pages (similar to Tiles)
> > where
> > each page includes and populates a template with content. The
> content may
> > come from various locations but the runtime result is a complete page.
> >
> > After downloading Lucene and working with the demo applications
> I quickly
> > realized the problems voiced by Marco Tedone  in this archived message:
> >
> > http://www.mail-archive.com/lucene-user@jakarta.apache.org/msg04656.html
> >
> >
> > I read through the thread and it didn't appear that there was a
> > simple/elegant solution.
> >
> > I was wondering if anyone has come up with a simple/elegant solution for
> > using Lucene
> > with Struts/Tiles.
> >
> >
> > robert
> >
> >
> >
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


From rtaylor@newatlanta.com  Fri Sep 12 17:15:37 2003
Return-Path: <rtaylor@newatlanta.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22922 invoked from network); 12 Sep 2003 17:15:37 -0000
Received: from unknown (HELO mail.newatlanta.com) (204.255.113.44)
  by daedalus.apache.org with SMTP; 12 Sep 2003 17:15:37 -0000
Received: from rtaylor [204.255.113.46] by mail.newatlanta.com
  (SMTPD32-6.05) id A1AC150A0302; Fri, 12 Sep 2003 13:26:04 -0400
From: "Robert Taylor" <rtaylor@newatlanta.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Lucene and Struts
Date: Fri, 12 Sep 2003 13:18:16 -0400
Message-ID: <OAEDIMPLEONBBFJHJPAMGELIDJAA.rtaylor@newatlanta.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
In-Reply-To: <021701c3794a$5f6aa030$0302a8c0@jemoserver>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Marco thanks for replying....but alas I'm not using
Tiles with this project.

robert


> -----Original Message-----
> From: Marco Tedone [mailto:mtedone@jemos.org]
> Sent: Friday, September 12, 2003 12:25 PM
> To: Lucene Users List
> Subject: Re: Lucene and Struts
>
>
> Well, I'm working on it and I collected all the information I
> need. Now it's
> time to put them together in a unique, possibly fully functional solution.
>
> What I'm realizing is a search facility which shows the user links to
> actions which forward to the jsp of interest. This is possible by
> retrieving
> the configuration information both on the struts-config.xml file (mapping
> between action and JSPs), and on the tiles-defs.xml file (Yes, I'm using
> Tiles). I've been desperate for a while, but then someone from the struts
> mailing list illuminated me with the following trick:
>
>  <definition name="tiles.administer" extends="xmlLayout">
>       <put name="title" value="Jemos Administation page"/>
>       <put name="security" value="/shared/adminSecurityTest.jsp"/>
>       <put name="body" value="/site/bodies/administer-body.jsp"/>
>       <put name="definition.location.tiles.administer"
> value="administer.jsp" />
>
> Basically, it seems (because I haven't tried yet) that it's possible to
> define an additional property in a Tiles definition, without it being
> actually present in any JSP. If we immagine to put a property which tells,
> for each JSP which really contains the content, which is the JSP
> defined in
> the struts configuration file, from there it's possible to get the map
> between an action and this JSP, therefore (even if the road is quite long)
> the mapping is possible. Here's how it works:
>
> 1) An administrator function (in my case a Struts action) creates
> an index,
> given a specific folder (in my case the webapp/myapp folder) as input, a
> desired folder as output, and specifying one or more file extensions to
> consider for the search (Search facility realized with a steteless session
> bean deployed under Jboss). The result is a database with the following
> fields:
>
> 2) A user submits a query: a component will retrieve from the
> index all the
> content-matching JSPs paths and thanks to another facility I developed, it
> will remove the system-relative-path (let's say D:\Tomcat\webapps because
> I'm running on Windows) from the JSP (returning the context relative path,
> let's say myapp/content-body.jsp). All the matching JSPs will be
> returned as
> a collection (or something similar...).
>
> 3) For each path, another component will look in the Tiles defs
> the matching
> JSP (thanks to the above trick!); with this information the Struts
> configuration file will be queried and the matching action retrieved: from
> here it's quite simple to create a web-fully-context-path to show to the
> user...
>
> Result? The user will be shown with links to the actions which map to the
> JSPs which contain what she searched for...
>
> Limit? Initially this application will work for Tiles (even if I'll try to
> apply some design patterns to allow different implementation) but
> my goal is
> to design a general solution which could work with basic JSPs,
> include JSPs
> and so on...
>
> Hope this will help,
>
> Marco
>
>
> ----- Original Message -----
> From: "Robert Taylor" <rtaylor@newatlanta.com>
> To: <lucene-user@jakarta.apache.org>
> Sent: Friday, September 12, 2003 4:51 PM
> Subject: Lucene and Struts
>
>
> > I have a web application developed with Struts and I wish to add the
> ability
> > for users to search the web application content.
> >
> > Some of the web application pages are directly accessible via a URL and
> > others are only accessible via a Struts action mapping URL.
> >
> > All of the web application pages are composite pages (similar to Tiles)
> > where
> > each page includes and populates a template with content. The
> content may
> > come from various locations but the runtime result is a complete page.
> >
> > After downloading Lucene and working with the demo applications
> I quickly
> > realized the problems voiced by Marco Tedone  in this archived message:
> >
> > http://www.mail-archive.com/lucene-user@jakarta.apache.org/msg04656.html
> >
> >
> > I read through the thread and it didn't appear that there was a
> > simple/elegant solution.
> >
> > I was wondering if anyone has come up with a simple/elegant solution for
> > using Lucene
> > with Struts/Tiles.
> >
> >
> > robert
> >
> >
> >
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


From hui@triplehop.com  Fri Sep 12 17:24:51 2003
Return-Path: <hui@triplehop.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40573 invoked from network); 12 Sep 2003 17:24:51 -0000
Received: from unknown (HELO germany.prod.thop-ny.triplehop.com) (216.74.150.80)
  by daedalus.apache.org with SMTP; 12 Sep 2003 17:24:51 -0000
Received: from hui2000 ([208.246.29.6]) by germany.prod.thop-ny.triplehop.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Fri, 12 Sep 2003 13:30:00 -0400
Message-ID: <034101c37952$d64fa990$9e0010ac@thopny.triplehop.com>
From: "hui" <hui@triplehop.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <OAEDIMPLEONBBFJHJPAMOELEDJAA.rtaylor@newatlanta.com>
Subject: too many files within one index
Date: Fri, 12 Sep 2003 13:25:18 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-OriginalArrivalTime: 12 Sep 2003 17:30:00.0062 (UTC) FILETIME=[7E0E51E0:01C37953]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,
I am using Lucene 1.3 rc released on March.20, 2003.
For some reason, the files in the index directory increase very very quickly
for some documents and reach over 3000 files within half hour and even can
not optimize the index.Then it grows up to 33000 files within one index.
In most of other testing cases, it normally never reach 1000 even without
optimization.

Any idea about this?

regards,
Hui


From Reece.Wilton@dig.com  Fri Sep 12 17:37:31 2003
Return-Path: <Reece.Wilton@dig.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52481 invoked from network); 12 Sep 2003 17:37:31 -0000
Received: from unknown (HELO mail.disney.com) (204.128.192.15)
  by daedalus.apache.org with SMTP; 12 Sep 2003 17:37:31 -0000
Received: from Hermes10.corp.disney.com (hermes10.corp.disney.com [153.7.110.102])
	by mail.disney.com (Switch-3.1.0/Switch-3.1.0) with ESMTP id h8CHSTCr001684
	for <lucene-user@jakarta.apache.org>; Fri, 12 Sep 2003 10:36:32 -0700 (PDT)
Received: from sm-cala-xc04.swna.wdpr.disney.com (sm-cala-xc04.swna.wdpr.disney.com [153.7.195.34]) by hermes.corp.disney.com with ESMTP; Fri, 12 Sep 2003 10:37:48 -0700
Received: from sm-cala-xm11.swna.wdpr.disney.com ([153.7.195.53]) by sm-cala-xc04.swna.wdpr.disney.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Fri, 12 Sep 2003 10:37:32 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.0.6375.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: too many files within one index
Date: Fri, 12 Sep 2003 10:37:31 -0700
Message-Id: <496A2C679221504D8B8AE4B10267E876019D7C32@gb-sm-cala-xm11.corp.disney.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: too many files within one index
Thread-Index: AcN5Uy4QKUoFSlOXSZqarG8PhzXMMAAAVNMw
From: "Wilton, Reece" <Reece.Wilton@dig.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 12 Sep 2003 17:37:32.0427 (UTC) FILETIME=[8BAFBDB0:01C37954]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Set the mergefactor to a higher number.

-----Original Message-----
From: hui [mailto:hui@triplehop.com]=20
Sent: Friday, September 12, 2003 10:25 AM
To: Lucene Users List
Subject: too many files within one index


Hi,
I am using Lucene 1.3 rc released on March.20, 2003.
For some reason, the files in the index directory increase very very
quickly for some documents and reach over 3000 files within half hour
and even can not optimize the index.Then it grows up to 33000 files
within one index. In most of other testing cases, it normally never
reach 1000 even without optimization.

Any idea about this?

regards,
Hui


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From cutting@lucene.com  Fri Sep 12 18:01:40 2003
Return-Path: <cutting@lucene.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80624 invoked from network); 12 Sep 2003 18:01:40 -0000
Received: from unknown (HELO mailshell.com) (209.157.66.249)
  by daedalus.apache.org with SMTP; 12 Sep 2003 18:01:40 -0000
Received: (qmail 20687 invoked from network); 12 Sep 2003 18:01:44 -0000
Received: from unknown (HELO lucene.com) (dcutting@grandcentral.com@12.210.200.74)
  by mail.mailshell.com with SMTP; 12 Sep 2003 18:01:44 -0000
Message-ID: <3F620A02.8070608@lucene.com>
Date: Fri, 12 Sep 2003 11:01:38 -0700
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030701
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: endOffset, startOffset of Token
References: <22576.1063355033@www43.gmx.net>
In-Reply-To: <22576.1063355033@www43.gmx.net>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

pifpafpuf@gmx.de wrote:
> Are the endOffset, startOffset fields of a Token used in 
> proximity search and phrase search?

No.  There are not used by indexing or search.  Their intent is only to 
aid the extraction of matching text snippets when displaying results.

Doug


From erik@ehatchersolutions.com  Fri Sep 12 18:12:54 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97659 invoked from network); 12 Sep 2003 18:12:54 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 12 Sep 2003 18:12:54 -0000
Received: (cpmta 22076 invoked from network); 12 Sep 2003 11:12:38 -0700
Received: from 68.232.145.115 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 12 Sep 2003 11:12:38 -0700
X-Sent: 12 Sep 2003 18:12:38 GMT
Date: Fri, 12 Sep 2003 14:12:37 -0400
Subject: Re: Lucene and Struts
Content-Type: text/plain; delsp=yes; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <OAEDIMPLEONBBFJHJPAMAELDDJAA.rtaylor@newatlanta.com>
Message-Id: <B0E0FAE4-E54C-11D7-BE6B-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I've been lurking on these related threads to see what others came up  
with.

The real issue here is defining what the "content" really is.  If the  
web application is solely your own creation, then I feel crawling or  
weird magical tricks with Struts/Tiles/taglibs is not the proper  
approach.  What I'd recommend is you keep the content in a database or  
in some other type of repository and index that directly with Lucene.   
Access that content with your Struts actions and push it into the  
display using the standard mechanisms for Struts/taglibs.

Is this static content that is just text on JSP pages?  If so, pull the  
content out and put it there dynamically - and decouple the content  
from the presentation, and thusly making indexing much easier and  
sensical.

Is this feasible with what you're doing?  If not, why not?

	Erik

On Friday, September 12, 2003, at 11:51  AM, Robert Taylor wrote:

> I have a web application developed with Struts and I wish to add the  
> ability
> for users to search the web application content.
>
> Some of the web application pages are directly accessible via a URL and
> others are only accessible via a Struts action mapping URL.
>
> All of the web application pages are composite pages (similar to Tiles)
> where
> each page includes and populates a template with content. The content  
> may
> come from various locations but the runtime result is a complete page.
>
> After downloading Lucene and working with the demo applications I  
> quickly
> realized the problems voiced by Marco Tedone  in this archived message:
>
> http://www.mail-archive.com/lucene-user@jakarta.apache.org/ 
> msg04656.html
>
>
> I read through the thread and it didn't appear that there was a
> simple/elegant solution.
>
> I was wondering if anyone has come up with a simple/elegant solution  
> for
> using Lucene
> with Struts/Tiles.
>
>
> robert
>
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From rtaylor@newatlanta.com  Fri Sep 12 18:50:18 2003
Return-Path: <rtaylor@newatlanta.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67495 invoked from network); 12 Sep 2003 18:50:18 -0000
Received: from unknown (HELO mail.newatlanta.com) (204.255.113.44)
  by daedalus.apache.org with SMTP; 12 Sep 2003 18:50:18 -0000
Received: from rtaylor [204.255.113.46] by mail.newatlanta.com
  (SMTPD32-6.05) id A7DD94201F2; Fri, 12 Sep 2003 15:00:45 -0400
From: "Robert Taylor" <rtaylor@newatlanta.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Lucene and Struts
Date: Fri, 12 Sep 2003 14:52:57 -0400
Message-ID: <OAEDIMPLEONBBFJHJPAMIELMDJAA.rtaylor@newatlanta.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
In-Reply-To: <B0E0FAE4-E54C-11D7-BE6B-000393A564E6@ehatchersolutions.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Erik, thanks for replying:

> What I'd recommend is you keep the content in a database or
> in some other type of repository and index that directly with Lucene.
I agree that this makes indexing rather straight forward, but....
then I have to build/use a content management system for my
existing web application(s). That's not going to fly for me right now.
Maybe in the future - but for now, I need to provide content-searching
capability for my web applications.


Why is indexing the site using a crawler not such a good idea for web
applications
where 99% of the content is static? If the content changes, you just rebuild
the indexes. This solution works if I have a legacy web site or one deployed
as a web application. It works if my pages are composite or atomic. It works
if
my content is dynamic or static.

robert



> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: Friday, September 12, 2003 2:13 PM
> To: Lucene Users List
> Subject: Re: Lucene and Struts
>
>
> I've been lurking on these related threads to see what others came up
> with.
>
> The real issue here is defining what the "content" really is.  If the
> web application is solely your own creation, then I feel crawling or
> weird magical tricks with Struts/Tiles/taglibs is not the proper
> approach.  What I'd recommend is you keep the content in a database or
> in some other type of repository and index that directly with Lucene.
> Access that content with your Struts actions and push it into the
> display using the standard mechanisms for Struts/taglibs.
>
> Is this static content that is just text on JSP pages?  If so, pull the
> content out and put it there dynamically - and decouple the content
> from the presentation, and thusly making indexing much easier and
> sensical.
>
> Is this feasible with what you're doing?  If not, why not?
>
> 	Erik
>
> On Friday, September 12, 2003, at 11:51  AM, Robert Taylor wrote:
>
> > I have a web application developed with Struts and I wish to add the
> > ability
> > for users to search the web application content.
> >
> > Some of the web application pages are directly accessible via a URL and
> > others are only accessible via a Struts action mapping URL.
> >
> > All of the web application pages are composite pages (similar to Tiles)
> > where
> > each page includes and populates a template with content. The content
> > may
> > come from various locations but the runtime result is a complete page.
> >
> > After downloading Lucene and working with the demo applications I
> > quickly
> > realized the problems voiced by Marco Tedone  in this archived message:
> >
> > http://www.mail-archive.com/lucene-user@jakarta.apache.org/
> > msg04656.html
> >
> >
> > I read through the thread and it didn't appear that there was a
> > simple/elegant solution.
> >
> > I was wondering if anyone has come up with a simple/elegant solution
> > for
> > using Lucene
> > with Struts/Tiles.
> >
> >
> > robert
> >
> >
> >
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


From jeff@greenninja.com  Fri Sep 12 19:31:54 2003
Return-Path: <jeff@greenninja.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38851 invoked from network); 12 Sep 2003 19:31:54 -0000
Received: from unknown (HELO cosmos.phpwebhosting.com) (66.33.60.222)
  by daedalus.apache.org with SMTP; 12 Sep 2003 19:31:54 -0000
Received: (qmail 14411 invoked from network); 12 Sep 2003 19:31:58 -0000
Received: from unknown (HELO charliebrown) (64.123.5.217)
  by cosmos.phpwebhosting.com with SMTP; 12 Sep 2003 19:31:58 -0000
Message-ID: <0c5a01c37964$c90e8b90$7a01a8c0@charliebrown>
From: "Jeff Linwood" <jeff@greenninja.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <B0E0FAE4-E54C-11D7-BE6B-000393A564E6@ehatchersolutions.com>
Subject: Re: Lucene and Struts
Date: Fri, 12 Sep 2003 14:33:46 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Crawling's a good solution because it's so easy to map the content back to a
URL.  For a CMS, it might be the case that you have content in the
repository that isn't ready to be on the site yet, so it's not published to
a URL.  You'd have to keep track of what content is published to which URL
on the site to build the index properly.

Of course, this all depends on what is content in your system, like you
said. The advantage of crawling is that anything on the web page ends up in
the search engine.  That's also one of the disadvantages.

Jeff
----- Original Message ----- 
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Friday, September 12, 2003 1:12 PM
Subject: Re: Lucene and Struts


> I've been lurking on these related threads to see what others came up
> with.
>
> The real issue here is defining what the "content" really is.  If the
> web application is solely your own creation, then I feel crawling or
> weird magical tricks with Struts/Tiles/taglibs is not the proper
> approach.  What I'd recommend is you keep the content in a database or
> in some other type of repository and index that directly with Lucene.
> Access that content with your Struts actions and push it into the
> display using the standard mechanisms for Struts/taglibs.
>
> Is this static content that is just text on JSP pages?  If so, pull the
> content out and put it there dynamically - and decouple the content
> from the presentation, and thusly making indexing much easier and
> sensical.
>
> Is this feasible with what you're doing?  If not, why not?
>
> Erik
>
> On Friday, September 12, 2003, at 11:51  AM, Robert Taylor wrote:
>
> > I have a web application developed with Struts and I wish to add the
> > ability
> > for users to search the web application content.
> >
> > Some of the web application pages are directly accessible via a URL and
> > others are only accessible via a Struts action mapping URL.
> >
> > All of the web application pages are composite pages (similar to Tiles)
> > where
> > each page includes and populates a template with content. The content
> > may
> > come from various locations but the runtime result is a complete page.
> >
> > After downloading Lucene and working with the demo applications I
> > quickly
> > realized the problems voiced by Marco Tedone  in this archived message:
> >
> > http://www.mail-archive.com/lucene-user@jakarta.apache.org/
> > msg04656.html
> >
> >
> > I read through the thread and it didn't appear that there was a
> > simple/elegant solution.
> >
> > I was wondering if anyone has come up with a simple/elegant solution
> > for
> > using Lucene
> > with Struts/Tiles.
> >
> >
> > robert
> >
> >
> >
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


From erik@ehatchersolutions.com  Fri Sep 12 20:20:50 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13912 invoked from network); 12 Sep 2003 20:20:50 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 12 Sep 2003 20:20:50 -0000
Received: (cpmta 8050 invoked from network); 12 Sep 2003 13:20:55 -0700
Received: from 68.232.145.115 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 12 Sep 2003 13:20:55 -0700
X-Sent: 12 Sep 2003 20:20:55 GMT
Date: Fri, 12 Sep 2003 16:20:54 -0400
Subject: Re: Lucene and Struts
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <OAEDIMPLEONBBFJHJPAMIELMDJAA.rtaylor@newatlanta.com>
Message-Id: <9C865D16-E55E-11D7-BE6B-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Friday, September 12, 2003, at 02:52  PM, Robert Taylor wrote:
> I agree that this makes indexing rather straight forward, but....
> then I have to build/use a content management system for my
> existing web application(s). That's not going to fly for me right now.
> Maybe in the future - but for now, I need to provide content-searching
> capability for my web applications.

You can roll your own poor-man's content management system that would 
fit into your web apps just fine.  If the content you truly want 
indexed is one big block of text, for example, just make .txt files for 
each block and then <jsp:include> it where appropriate.  Sure, this 
will involve some connection between the URL and the .txt file.  
Indexing with Lucene then becomes trivial.

> Why is indexing the site using a crawler not such a good idea for web
> applications
> where 99% of the content is static?

I just think it is more of a last resort type of solution, but 
certainly it'll work.

>  If the content changes, you just rebuild
> the indexes. This solution works if I have a legacy web site or one 
> deployed
> as a web application. It works if my pages are composite or atomic. It 
> works
> if
> my content is dynamic or static.

Sure.  But you might also be missing metadata, if that is an important 
piece.  Who is the author of the content?  When was it created?  etc.  
This is all information that you'd lose by crawling, unless you encode 
that with meta tags somehow, or can parse it out.

	Erik


From rtaylor@newatlanta.com  Fri Sep 12 20:31:42 2003
Return-Path: <rtaylor@newatlanta.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26425 invoked from network); 12 Sep 2003 20:31:42 -0000
Received: from unknown (HELO mail.newatlanta.com) (204.255.113.44)
  by daedalus.apache.org with SMTP; 12 Sep 2003 20:31:42 -0000
Received: from rtaylor [204.255.113.46] by mail.newatlanta.com
  (SMTPD32-6.05) id AFA26A10230; Fri, 12 Sep 2003 16:42:10 -0400
From: "Robert Taylor" <rtaylor@newatlanta.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Lucene and Struts
Date: Fri, 12 Sep 2003 16:34:22 -0400
Message-ID: <OAEDIMPLEONBBFJHJPAMGEMCDJAA.rtaylor@newatlanta.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
In-Reply-To: <9C865D16-E55E-11D7-BE6B-000393A564E6@ehatchersolutions.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks again for your insight on this. 

I'll review both solutions.

robert

> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: Friday, September 12, 2003 4:21 PM
> To: Lucene Users List
> Subject: Re: Lucene and Struts
> 
> 
> On Friday, September 12, 2003, at 02:52  PM, Robert Taylor wrote:
> > I agree that this makes indexing rather straight forward, but....
> > then I have to build/use a content management system for my
> > existing web application(s). That's not going to fly for me right now.
> > Maybe in the future - but for now, I need to provide content-searching
> > capability for my web applications.
> 
> You can roll your own poor-man's content management system that would 
> fit into your web apps just fine.  If the content you truly want 
> indexed is one big block of text, for example, just make .txt files for 
> each block and then <jsp:include> it where appropriate.  Sure, this 
> will involve some connection between the URL and the .txt file.  
> Indexing with Lucene then becomes trivial.
> 
> > Why is indexing the site using a crawler not such a good idea for web
> > applications
> > where 99% of the content is static?
> 
> I just think it is more of a last resort type of solution, but 
> certainly it'll work.
> 
> >  If the content changes, you just rebuild
> > the indexes. This solution works if I have a legacy web site or one 
> > deployed
> > as a web application. It works if my pages are composite or atomic. It 
> > works
> > if
> > my content is dynamic or static.
> 
> Sure.  But you might also be missing metadata, if that is an important 
> piece.  Who is the author of the content?  When was it created?  etc.  
> This is all information that you'd lose by crawling, unless you encode 
> that with meta tags somehow, or can parse it out.
> 
> 	Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 

From erik@ehatchersolutions.com  Fri Sep 12 20:43:41 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36517 invoked from network); 12 Sep 2003 20:43:41 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 12 Sep 2003 20:43:41 -0000
Received: (cpmta 27188 invoked from network); 12 Sep 2003 13:43:46 -0700
Received: from 68.232.145.115 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 12 Sep 2003 13:43:46 -0700
X-Sent: 12 Sep 2003 20:43:46 GMT
Date: Fri, 12 Sep 2003 16:43:44 -0400
Subject: Re: Lucene and Struts
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <0c5a01c37964$c90e8b90$7a01a8c0@charliebrown>
Message-Id: <CD2695C2-E561-11D7-BE6B-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


On Friday, September 12, 2003, at 03:33  PM, Jeff Linwood wrote:
> Crawling's a good solution because it's so easy to map the content 
> back to a
> URL.

:)

I smile because my blog is powered by Lucene, and I'm very particular 
about URL's and how it maps to content.  For example:

	http://www.blogscene.org/erik/Computers/Articles/javanet_jul03.html

This is a dynamically generated (despite the .html extension).  I have 
a servlet mapped to /erik/*.  My blog entries are literally on the file 
system as .txt files (blosxom-style, first line is title, rest is 
body).  The Ant <index> task indexes them based on the relative path 
from the blog root, and each directory is a category, each text file a 
blog.  You'd find this blog by searching like this:

	http://www.blogscene.org/erik?q=%22lucene+intro%22

Tacking on ?flav=rss will give you an RSS feed of a particular query!  
You could also see it as text here:

	http://www.blogscene.org/erik/Computers/Articles/javanet_jul03.txt

(the extension is used to determine the "flavor" presented - text 
format is generated using lynx).

All blog entries in the /Computers/Articles category as an RSS feed:

	http://www.blogscene.org/erik/Computers/Articles?flav=rss

All of the above requests are dynamically using a Lucene PrefixQuery 
based on the URI, and if you use the search box it AND's that with a 
QueryParser parsed query allowing queries restricted to a category and 
below.  Selecting a blog by title is like this:

	http://www.blogscene.org/erik?q=title:intro

> Of course, this all depends on what is content in your system, like you
> said. The advantage of crawling is that anything on the web page ends 
> up in
> the search engine.  That's also one of the disadvantages.

I agree that crawling can get the job done, but I'd prefer to integrate 
Lucene at a lower-level with more metadata than just a URL and HTML.  
Lucene *is* the content repository in my blog.

	Erik


From sguntupa@cisco.com  Fri Sep 12 21:45:19 2003
Return-Path: <sguntupa@cisco.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 680 invoked from network); 12 Sep 2003 21:45:19 -0000
Received: from unknown (HELO sj-iport-3.cisco.com) (171.71.176.72)
  by daedalus.apache.org with SMTP; 12 Sep 2003 21:45:19 -0000
Received: from cisco.com (171.71.177.254)
  by sj-iport-3.cisco.com with ESMTP; 12 Sep 2003 14:45:26 -0700
Received: from sguntupa-w2k.cisco.com (dhcp-171-71-188-104.cisco.com [171.71.188.104])
	by sj-core-2.cisco.com (8.12.9/8.12.6) with ESMTP id h8CLjOdQ020566
	for <lucene-user@jakarta.apache.org>; Fri, 12 Sep 2003 14:45:24 -0700 (PDT)
Message-Id: <4.3.2.7.2.20030912142317.02676e18@fargo.cisco.com>
X-Sender: sguntupa@fargo.cisco.com
X-Mailer: QUALCOMM Windows Eudora Version 4.3.2
Date: Fri, 12 Sep 2003 14:45:23 -0700
To: lucene-user@jakarta.apache.org
From: Guntupalli Shanti <sguntupa@cisco.com>
Subject: hits found ..couldn't retrieve documents
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi All,

I have a strange problem...I have indexed a couple of Web pages (used 
htmlparser for HTML to text conversion)
and I can see the index created. When I search for a term, lucene returns 
the hits and score. But when I try to
retrieve the document (hits.doc(int)) it gives me the following error

"Exception in thread "main" java.io.IOException: The system cannot find the 
path specified"
at java.io.RandomAccessFile.readBytes(Native Method)
at java.io.RandomAccessFile.read(Unknown Source)
at org.apache.lucene.store.FSInputStream.readInternal(Unknown Source)
at org.apache.lucene.store.InputStream.refill(Unknown Source)
at org.apache.lucene.store.InputStream.readByte(Unknown Source)
at org.apache.lucene.store.InputStream.readInt(Unknown Source)
at org.apache.lucene.store.InputStream.readLong(Unknown Source)
at org.apache.lucene.index.FieldsReader.doc(Unknown Source)
at org.apache.lucene.index.SegmentReader.document(Unknown Source)
at org.apache.lucene.search.IndexSearcher.doc(Unknown Source)
at org.apache.lucene.search.Hits.doc(Unknown Source)
at WebPageSearcher.main(WebPageSearcher.java:86)

Here is sample code

indexing: (which works fine)

   public void index(String uid, String title, String text) {
     try {
       IndexWriter writer = new 
IndexWriter("d:\\tomcat\\webapps\\ROOT\\url_index", analyzer, true);
       Document document = new Document();
       document.add(Field.Keyword("uid", uid));
       document.add(Field.Text("title", title));
       document.add(Field.UnStored("pagebody", text));

       writer.addDocument(document);
     } catch (Exception e) {
       e.printStackTrace();
     }
   }

Searching: (gives error on the line hits.doc(i))

..........
..........
       	searcher = new IndexSearcher("d:\\tomcat\\webapps\\ROOT\\url_index");
       	Query query = QueryParser.parse(queryString, "pagebody", new 
StandardAnalyzer());
       	hits = searcher.search(query);
           for (int i=0;i< hits.length();i++) {
          	    Document doc = hits.doc(i);
	    String doctitle = doc.get("title");
	    String url = doc.get("uid");
   	  }
   }

I appreciate your time and help
Thanks..Shanti


From Donglatco@firstam.com  Fri Sep 12 22:04:17 2003
Return-Path: <Donglatco@firstam.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17187 invoked from network); 12 Sep 2003 22:04:17 -0000
Received: from unknown (HELO wsmailap02) (208.246.101.198)
  by daedalus.apache.org with SMTP; 12 Sep 2003 22:04:17 -0000
Received: from 172.21.131.5 by wsmailap02 with ESMTP (Tumbleweed MMS
 SMTP Relay (MMS v5.5.3)); Fri, 12 Sep 2003 15:04:18 -0700
Received: from uscasna01smx04.corp.firstam.com ([172.17.192.54]) by
 famarp01.firstam.com (Mirapoint Messaging Server MOS 3.3.5-GR) with
 ESMTP id CNY69440; Fri, 12 Sep 2003 15:03:44 -0700 (PDT)
Received: by uscasna01smx04.corp.firstam.com with Internet Mail Service
 (5.5.2656.59) id <QZXS1C78>; Fri, 12 Sep 2003 15:04:16 -0700
Message-ID: <B53968E0F2E758478625534860DC4287029F7ED8@itcxsna04smxs01>
From: "Onglatco, David" <Donglatco@firstam.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: FOR OTIS GOSPODNETIC
Date: Fri, 12 Sep 2003 14:55:08 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2656.59)
X-WSS-ID: 137C9D6B400082-04-01
Content-Type: multipart/alternative;
 boundary="----_=_NextPart_001_01C37978.88453820"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C37978.88453820
Content-Type: text/plain
Content-Transfer-Encoding: 7bit

This is for Otis.

You might be delighted to know that we used Lucene as our search engine at
http://ulj.firstam.com. The company is First American Corporation, a Fortune
500 company.

You do great work, keep it up!

David



-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com] 
Sent: Wednesday, September 10, 2003 2:05 PM
To: Lucene Users List
Subject: Re: Query question


Go to Lucene FAQ at jGuru.com and search for the word 'all'.

Otis

--- Rob Outar <routar@ideorlando.org> wrote:
> Hi all,
> 
> 	I have a field called "echelon" that are assigned to certain files.
> Is
> there a query I can write that will give me all files that have this
> field?
> 
> 	I have tried stuff like echelon:.+*, echelon:*, etc... some give a 
> query parser exception while others return nothing.
> 
> Let me know,
> 
> Rob
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


------_=_NextPart_001_01C37978.88453820--


From mtedone@jemos.org  Sat Sep 13 01:05:07 2003
Return-Path: <mtedone@jemos.org>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39437 invoked from network); 13 Sep 2003 01:05:07 -0000
Received: from unknown (HELO jemoserver) (62.3.127.84)
  by daedalus.apache.org with SMTP; 13 Sep 2003 01:05:07 -0000
Received: from jemoserver ([192.168.2.3])
          by jemoserver (JAMES SMTP Server 2.2.0a10) with SMTP ID 326
          for <lucene-user@jakarta.apache.org>;
          Sat, 13 Sep 2003 02:05:08 +0100 (BST)
Message-ID: <010201c37993$12ab3770$0302a8c0@jemoserver>
From: "Marco Tedone" <mtedone@jemos.org>
To: "lucene-users" <lucene-user@jakarta.apache.org>
Subject: Why Hits is not serializable?
Date: Sat, 13 Sep 2003 02:05:07 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi, I was wondering why Hits is not serializable? It would have been
convenient for me to have it serializable, as the search action is performed
by a session bean in a context other than the one running the
web-application.

Which is your standard way to pass the matching documents between different
context?

For now, I'm going to create a Serializable object (a String[] or a
Collection) but I'm remaining for your reply.

Thanks,

Marco




From erik@ehatchersolutions.com  Sat Sep 13 01:58:36 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63550 invoked from network); 13 Sep 2003 01:58:36 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.72)
  by daedalus.apache.org with SMTP; 13 Sep 2003 01:58:36 -0000
Received: (cpmta 11531 invoked from network); 12 Sep 2003 18:58:45 -0700
Received: from 68.232.145.115 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.72) with SMTP; 12 Sep 2003 18:58:45 -0700
X-Sent: 13 Sep 2003 01:58:45 GMT
Date: Fri, 12 Sep 2003 21:58:44 -0400
Subject: Re: Why Hits is not serializable?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <010201c37993$12ab3770$0302a8c0@jemoserver>
Message-Id: <CE9654BA-E58D-11D7-A4D8-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Friday, September 12, 2003, at 09:05  PM, Marco Tedone wrote:
> Hi, I was wondering why Hits is not serializable?

Hits is really a collection of pointers back to the documents, not a 
standalone collection.

> Which is your standard way to pass the matching documents between 
> different
> context?

Have a look at ejindex: http://ejindex.sourceforge.net/

Also, have a look at the built-in RemoteSearchable class.  You could 
use it to search over RMI.

> For now, I'm going to create a Serializable object (a String[] or a
> Collection) but I'm remaining for your reply.

But the quickest/easiest way that I've used before is to extract all 
the documents from the hits and wrap it up as a Map and send it back.

	Erik


From mtedone@jemos.org  Sat Sep 13 02:00:51 2003
Return-Path: <mtedone@jemos.org>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64966 invoked from network); 13 Sep 2003 02:00:51 -0000
Received: from unknown (HELO jemoserver) (62.3.127.84)
  by daedalus.apache.org with SMTP; 13 Sep 2003 02:00:51 -0000
Received: from jemoserver ([192.168.2.3])
          by jemoserver (JAMES SMTP Server 2.2.0a10) with SMTP ID 423
          for <lucene-user@jakarta.apache.org>;
          Sat, 13 Sep 2003 03:00:54 +0100 (BST)
Message-ID: <010901c3799a$dd1aee40$0302a8c0@jemoserver>
From: "Marco Tedone" <mtedone@jemos.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <CE9654BA-E58D-11D7-A4D8-000393A564E6@ehatchersolutions.com>
Subject: Re: Why Hits is not serializable?
Date: Sat, 13 Sep 2003 03:00:53 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

That's what I've done so far (in a String[] object).

Thank you for your reply.

Marco
----- Original Message ----- 
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Saturday, September 13, 2003 2:58 AM
Subject: Re: Why Hits is not serializable?


> On Friday, September 12, 2003, at 09:05  PM, Marco Tedone wrote:
> > Hi, I was wondering why Hits is not serializable?
> 
> Hits is really a collection of pointers back to the documents, not a 
> standalone collection.
> 
> > Which is your standard way to pass the matching documents between 
> > different
> > context?
> 
> Have a look at ejindex: http://ejindex.sourceforge.net/
> 
> Also, have a look at the built-in RemoteSearchable class.  You could 
> use it to search over RMI.
> 
> > For now, I'm going to create a Serializable object (a String[] or a
> > Collection) but I'm remaining for your reply.
> 
> But the quickest/easiest way that I've used before is to extract all 
> the documents from the hits and wrap it up as a Map and send it back.
> 
> Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 



From mtedone@jemos.org  Sat Sep 13 02:16:29 2003
Return-Path: <mtedone@jemos.org>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71606 invoked from network); 13 Sep 2003 02:16:29 -0000
Received: from unknown (HELO jemoserver) (62.3.127.84)
  by daedalus.apache.org with SMTP; 13 Sep 2003 02:16:29 -0000
Received: from jemoserver ([192.168.2.3])
          by jemoserver (JAMES SMTP Server 2.2.0a10) with SMTP ID 740;
          Sat, 13 Sep 2003 03:16:31 +0100 (BST)
Message-ID: <011701c3799d$0bbb3370$0302a8c0@jemoserver>
From: "Marco Tedone" <mtedone@jemos.org>
To: "lucene-users" <lucene-user@jakarta.apache.org>
Cc: "Struts-user-list" <struts-user@jakarta.apache.org>
Subject: How I created a Struts search facility
Date: Sat, 13 Sep 2003 03:16:30 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi , I would like to share with you the solution I chose at the end to
create a search facility for my Struts application. Basically, I followed
the Erik's suggestion to realize something independent from the actual
Struts architectural choice (Tiles, <jsp:include>, and so on), and a couple
of Robert Taylor's email gave me the inspiration. Particularly, I realized
that if I could simulate in someway a request to a Struts Action and write
the response content to a file, well, I had a file ready to be indexed by
Lucene. I had a look at the Java Cookbook, and Darwin gave me the solution:

1) I created a Struts Action which reads all the Actions in the
configuration file which have a parameter forwarding to a jsp page and
creates a collection with those information;

2) I created a Session bean which receives this collection as parameter
(thus, a collection of Action mappings, like
http://myserver/myapp/Login.do), reads the stream for each URL and saves the
content in a file. Here I had a good idea: to name the file with the same
name as the action, only replacing the protocol separator with '@' and the
folder separator with '_' (underscore). The result is a folder with files
containing the real HTML as we would see in the source after visiting a
link, named http@__myserver_myapp_Login.do;

3) I run the real Lucene index, pointing to the folder where all the above
mentioned files are located;

4) I run a query

5) I convert back the returned paths replacing '@' with ':' and '_' with
'/'.

Simple as that: I now have a collection of actions which the user can click
on, which will result in HTML page containing the content the user was
interested in.

This is only the beginning: obviously many optimization may be done: for
instance caching the results, giving the possibility to choose the
separators (both for protocol and folder), organizing the configuration
information in a XML configuration file and so on...

Hope this will help,

Marco




From buics123@yahoo.com  Sat Sep 13 02:44:03 2003
Return-Path: <buics123@yahoo.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85512 invoked from network); 13 Sep 2003 02:44:03 -0000
Received: from unknown (HELO web41901.mail.yahoo.com) (66.218.93.152)
  by daedalus.apache.org with SMTP; 13 Sep 2003 02:44:03 -0000
Message-ID: <20030913024413.63737.qmail@web41901.mail.yahoo.com>
Received: from [64.15.239.34] by web41901.mail.yahoo.com via HTTP; Fri, 12 Sep 2003 19:44:13 PDT
Date: Fri, 12 Sep 2003 19:44:13 -0700 (PDT)
From: Rociel Buico <buics123@yahoo.com>
Subject: RE: Index commit.lock
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <496A2C679221504D8B8AE4B10267E876019D7C30@gb-sm-cala-xm11.corp.disney.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1324150835-1063421053=:62234"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--0-1324150835-1063421053=:62234
Content-Type: text/plain; charset=us-ascii

yup i'm using windows, thank you for your time
 
buics
 
 


---------------------------------
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
--0-1324150835-1063421053=:62234--

From erik@ehatchersolutions.com  Sat Sep 13 07:58:29 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11188 invoked from network); 13 Sep 2003 07:58:29 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 13 Sep 2003 07:58:29 -0000
Received: (cpmta 22077 invoked from network); 13 Sep 2003 00:58:42 -0700
Received: from 68.232.145.115 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 13 Sep 2003 00:58:42 -0700
X-Sent: 13 Sep 2003 07:58:42 GMT
Date: Sat, 13 Sep 2003 03:58:41 -0400
Subject: Re: How I created a Struts search facility
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <011701c3799d$0bbb3370$0302a8c0@jemoserver>
Message-Id: <1722C234-E5C0-11D7-8BD2-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Well done!


On Friday, September 12, 2003, at 10:16  PM, Marco Tedone wrote:

> Hi , I would like to share with you the solution I chose at the end to
> create a search facility for my Struts application. Basically, I 
> followed
> the Erik's suggestion to realize something independent from the actual
> Struts architectural choice (Tiles, <jsp:include>, and so on), and a 
> couple
> of Robert Taylor's email gave me the inspiration. Particularly, I 
> realized
> that if I could simulate in someway a request to a Struts Action and 
> write
> the response content to a file, well, I had a file ready to be indexed 
> by
> Lucene. I had a look at the Java Cookbook, and Darwin gave me the 
> solution:
>
> 1) I created a Struts Action which reads all the Actions in the
> configuration file which have a parameter forwarding to a jsp page and
> creates a collection with those information;
>
> 2) I created a Session bean which receives this collection as parameter
> (thus, a collection of Action mappings, like
> http://myserver/myapp/Login.do), reads the stream for each URL and 
> saves the
> content in a file. Here I had a good idea: to name the file with the 
> same
> name as the action, only replacing the protocol separator with '@' and 
> the
> folder separator with '_' (underscore). The result is a folder with 
> files
> containing the real HTML as we would see in the source after visiting a
> link, named http@__myserver_myapp_Login.do;
>
> 3) I run the real Lucene index, pointing to the folder where all the 
> above
> mentioned files are located;
>
> 4) I run a query
>
> 5) I convert back the returned paths replacing '@' with ':' and '_' 
> with
> '/'.
>
> Simple as that: I now have a collection of actions which the user can 
> click
> on, which will result in HTML page containing the content the user was
> interested in.
>
> This is only the beginning: obviously many optimization may be done: 
> for
> instance caching the results, giving the possibility to choose the
> separators (both for protocol and folder), organizing the configuration
> information in a XML configuration file and so on...
>
> Hope this will help,
>
> Marco
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From Eric.Jain@isb-sib.ch  Sat Sep 13 15:08:34 2003
Return-Path: <Eric.Jain@isb-sib.ch>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48416 invoked from network); 13 Sep 2003 15:08:34 -0000
Received: from unknown (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
  by daedalus.apache.org with SMTP; 13 Sep 2003 15:08:34 -0000
Received: from caliente (router.isb-sib.ch [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.8p1/8.12.8) with ESMTP id h8DF8U05027553
	for <lucene-user@jakarta.apache.org>; Sat, 13 Sep 2003 17:08:30 +0200
Message-ID: <002201c37a08$e45468d0$c300000a@caliente>
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <0c5a01c37964$c90e8b90$7a01a8c0@charliebrown> <CD2695C2-E561-11D7-BE6B-000393A564E6@ehatchersolutions.com>
Subject: Re: Lucene and Struts
Date: Sat, 13 Sep 2003 17:08:30 +0200
Organization: Swiss Institute of Bioinformatics
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-sib-MailScanner-Information: Please contact the ISP for more information
X-sib-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> and I'm very particular
> about URL's and how it maps to content

I, too, am very particular about that.

Unfortunately none of the web application frameworks I am aware of
support this philosophy :-(

There are some workarounds such as using mod_rewrite, but so far nothing
really satisfying...

--
Eric Jain


From erik@ehatchersolutions.com  Sat Sep 13 23:10:58 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91163 invoked from network); 13 Sep 2003 23:10:58 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.66)
  by daedalus.apache.org with SMTP; 13 Sep 2003 23:10:58 -0000
Received: (cpmta 15748 invoked from network); 13 Sep 2003 16:11:04 -0700
Received: from 68.232.145.115 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.66) with SMTP; 13 Sep 2003 16:11:04 -0700
X-Sent: 13 Sep 2003 23:11:04 GMT
Date: Sat, 13 Sep 2003 19:11:05 -0400
Subject: Re: Lucene and Struts
Content-Type: text/plain; delsp=yes; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <002201c37a08$e45468d0$c300000a@caliente>
Message-Id: <8D530EFC-E63F-11D7-B773-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Saturday, September 13, 2003, at 11:08  AM, Eric Jain wrote:
>> and I'm very particular
>> about URL's and how it maps to content
>
> I, too, am very particular about that.

A bit off topic, but I'll indulge myself for at least one more message  
on this.  Here is a fun link I've been saving for a while:

	http://www.pixelcharmer.com/fieldnotes/archives/process_designing/ 
2003/000285.html

(notice their URL is a bit lame :)

> Unfortunately none of the web application frameworks I am aware of
> support this philosophy :-(

True, but I don't use an existing framework for a CMS, which my blog is  
a "lite" version of.  I've done a lot with Struts, and I use it for  
heavy form-based sites and it does the job acceptably well.  Now I'm  
embarking on a relatively large-scale Tapestry project, and its URL's  
are even more ridiculous.  At least with Struts you can control how  
URI's are mapped to ActionServlet, so typically either *.do or /do/*,  
and you have full control over the rest of the URI with the action  
mappings.  There is even wildcard support to map a range of URI's to  
the same Action, which may have already been added to the latest  
codebase.

> There are some workarounds such as using mod_rewrite, but so far  
> nothing
> really satisfying...

There is something slightly satisfying about the ease that mod_rewrite  
does its thing though.  I use it, in fact, to map my old blog URL to my  
new one - it is a straightforward domain and path prefix change,  
nothing dramatic though.

	Erik


From mtedone@jemos.org  Sun Sep 14 13:40:25 2003
Return-Path: <mtedone@jemos.org>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10003 invoked from network); 14 Sep 2003 13:40:25 -0000
Received: from unknown (HELO jemoserver) (62.3.127.84)
  by daedalus.apache.org with SMTP; 14 Sep 2003 13:40:25 -0000
Received: from jemoserver ([192.168.2.3])
          by jemoserver (JAMES SMTP Server 2.2.0a10) with SMTP ID 407
          for <lucene-user@jakarta.apache.org>;
          Sun, 14 Sep 2003 14:40:17 +0100 (BST)
Message-ID: <002601c37ac5$bbaf9c20$0302a8c0@jemoserver>
From: "Marco Tedone" <mtedone@jemos.org>
To: "lucene-users" <lucene-user@jakarta.apache.org>
Subject: Few considerations about the struts search facility
Date: Sun, 14 Sep 2003 14:40:17 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi, I just wanted to share with you a couple of considerations I made while
implementing the struts-search facility I mentioned in one of my previous
emails.

As you will probably recall, I had the idea to create files with the same
name as the struts-actions (i.e. http@__myserver_myapp_myAction.do). Today I
discovered an inconvenient resulting from this approach: the struts-index
creation will be for most users an 'Administrator' tool, run on the local
server, and we know that a local server where a website is stored, has a
local name, rather than www.myserver.org, for instance myserver, or
prodserver, and so on.

With the above approach, I was creating files with the following name:

http@__myserver_....

So far so good. The problem is that if than we want to show the file name as
a link where the user can click (wisely re-translated into
http://myserver/myapp.... reversing the initial pattern) users who will run
a search from the 'external' word, will be shown with links like:

http://myserver/myapp/Login.do

which obviously won't work. Here we could have many solutions: we could
translate myserver into the domain name, we could substring the URL
substituting the server name with the domain name, but at the end I realized
that the best solution is to use relative URLs. Therefore, at index
creation, when we must say to the application to create the files with the
content retrieved by an openStream() method, we could simply extract the
relative url by invoking the URL.getFile() method on the URL.

This way, we'll have file like: _myapp_Login.do, _myapp_Intro.do and so on.
Giving those names to the <html:link> element in Struts, will result in the
absolute URL being composed, therefore the link will work both from internal
and external users...

Regards,

Marco




From mark.brand@elegalpublishing.com  Sun Sep 14 13:59:48 2003
Return-Path: <mark.brand@elegalpublishing.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17026 invoked from network); 14 Sep 2003 13:59:48 -0000
Received: from unknown (HELO telpacmail.tel-pacific.com) (203.88.255.15)
  by daedalus.apache.org with SMTP; 14 Sep 2003 13:59:48 -0000
Received: from elegalpublishing.com (i088231017.rivernet.com.au [203.88.231.17])
	by telpacmail.tel-pacific.com (8.12.8/8.12.8) with ESMTP id h8EE0uoF015461
	for <lucene-user@jakarta.apache.org>; Mon, 15 Sep 2003 00:00:57 +1000
Message-ID: <3F64753A.5010709@elegalpublishing.com>
Date: Mon, 15 Sep 2003 00:03:38 +1000
From: Mark Brand <mark.brand@elegalpublishing.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.5b) Gecko/20030901 Thunderbird/0.2
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: lucene & maverick
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

hi

just wondering if anyone has used lucene with maverick. i am just about 
to kick of a project using these two technologies and wanted to get some 
feedback.

thanks
mark



From cvwebmaster@noos.fr  Sun Sep 14 17:05:20 2003
Return-Path: <cvwebmaster@noos.fr>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20089 invoked from network); 14 Sep 2003 17:05:20 -0000
Received: from unknown (HELO smtp.noos.fr) (212.198.2.71)
  by daedalus.apache.org with SMTP; 14 Sep 2003 17:05:20 -0000
Received: (qmail 9161528 invoked by uid 0); 14 Sep 2003 17:05:23 -0000
Received: from unknown (HELO nomade) ([81.67.226.11])
          (envelope-sender <cvwebmaster@noos.fr>)
          by 212.198.2.71 (qmail-ldap-1.03) with SMTP
          for <lucene-user@jakarta.apache.org>; 14 Sep 2003 17:05:23 -0000
Message-ID: <009401c37ae2$60e0ab00$0be24351@nomade>
Reply-To: "Sebastien X" <cvwebmaster@noos.fr>
From: "Sebastien X" <cvwebmaster@noos.fr>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: two fields in a search
Date: Sun, 14 Sep 2003 19:05:18 +0200
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0091_01C37AF3.23842410"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0091_01C37AF3.23842410
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,

I've an index : each document is indexed with 2 fields named "content" =
and "title".

To make my search, I use this code :
QueryParser qp =3D new QueryParser("content", analyzer);

My interrogation is :
if I use the QueryParser("content", analyzer) and I make a search like =
this in my query " title : mysearch", is the exact same thing than if I =
use the QueryParser("title", analyzer) and I make the search " mysearch" =
 ?
I suppose that yes, but someone could confirm that?
Is there a methode to make my search automatically with the 2 fields? =
for the moment, I use this code :
        QueryParser qp =3D new QueryParser("content", analyzer);
        qp.setOperator(QueryParser.DEFAULT_OPERATOR_AND);
        query =3D qp.parse("("+queryString+") OR =
title:("+queryString+")");
Is it the good way?


Thanks in advance


------=_NextPart_000_0091_01C37AF3.23842410--


From incze@mail.matav.hu  Sun Sep 14 19:35:41 2003
Return-Path: <incze@mail.matav.hu>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99837 invoked from network); 14 Sep 2003 19:35:41 -0000
Received: from unknown (HELO incze.incze.hu) (62.112.223.117)
  by daedalus.apache.org with SMTP; 14 Sep 2003 19:35:41 -0000
Received: (from incze@localhost)
	by incze.incze.hu (8.11.6/8.11.6) id h8EJZje15560
	for lucene-user@jakarta.apache.org; Sun, 14 Sep 2003 21:35:45 +0200
Date: Sun, 14 Sep 2003 21:35:45 +0200
From: Incze Lajos <incze@mail.matav.hu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: lucene & maverick
Message-ID: <20030914213544.A15087@incze.incze.hu>
References: <3F64753A.5010709@elegalpublishing.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5.1i
In-Reply-To: <3F64753A.5010709@elegalpublishing.com>; from mark.brand@elegalpublishing.com on Mon, Sep 15, 2003 at 12:03:38AM +1000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Mon, Sep 15, 2003 at 12:03:38AM +1000, Mark Brand wrote:
> hi
> 
> just wondering if anyone has used lucene with maverick. i am just about 
> to kick of a project using these two technologies and wanted to get some 
> feedback.
> 
> thanks
> mark
> 

Yes, I used it in a quick & dirty app. As a matter of fact, these are
totally orthogonal technologies, you can use lucene, woth struts, webwork,
maverick, jsf. I don't really understand what is the point in the question.

incze

From otis_gospodnetic@yahoo.com  Sun Sep 14 20:58:16 2003
Return-Path: <otis_gospodnetic@yahoo.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42862 invoked from network); 14 Sep 2003 20:58:16 -0000
Received: from unknown (HELO web12704.mail.yahoo.com) (216.136.173.241)
  by daedalus.apache.org with SMTP; 14 Sep 2003 20:58:16 -0000
Message-ID: <20030914205822.81012.qmail@web12704.mail.yahoo.com>
Received: from [195.29.53.197] by web12704.mail.yahoo.com via HTTP; Sun, 14 Sep 2003 13:58:22 PDT
Date: Sun, 14 Sep 2003 13:58:22 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: two fields in a search
To: Lucene Users List <lucene-user@jakarta.apache.org>,
  Sebastien X <cvwebmaster@noos.fr>
In-Reply-To: <009401c37ae2$60e0ab00$0be24351@nomade>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Look for MultiFieldQueryParser.  I believe that is the name of the
class.  You should be able to find it in the online Javadocs.

Otis

--- Sebastien X <cvwebmaster@noos.fr> wrote:
> Hi,
> 
> I've an index : each document is indexed with 2 fields named
> "content" and "title".
> 
> To make my search, I use this code :
> QueryParser qp = new QueryParser("content", analyzer);
> 
> My interrogation is :
> if I use the QueryParser("content", analyzer) and I make a search
> like this in my query " title : mysearch", is the exact same thing
> than if I use the QueryParser("title", analyzer) and I make the
> search " mysearch"  ?
> I suppose that yes, but someone could confirm that?
> Is there a methode to make my search automatically with the 2 fields?
> for the moment, I use this code :
>         QueryParser qp = new QueryParser("content", analyzer);
>         qp.setOperator(QueryParser.DEFAULT_OPERATOR_AND);
>         query = qp.parse("("+queryString+") OR
> title:("+queryString+")");
> Is it the good way?
> 
> 
> Thanks in advance
> 
> 


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

From cvwebmaster@noos.fr  Sun Sep 14 22:00:55 2003
Return-Path: <cvwebmaster@noos.fr>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68091 invoked from network); 14 Sep 2003 22:00:55 -0000
Received: from unknown (HELO smtp.noos.fr) (212.198.2.83)
  by daedalus.apache.org with SMTP; 14 Sep 2003 22:00:55 -0000
Received: (qmail 65996432 invoked by uid 0); 14 Sep 2003 22:01:00 -0000
Received: from unknown (HELO nomade) ([81.67.226.11])
          (envelope-sender <cvwebmaster@noos.fr>)
          by 212.198.2.83 (qmail-ldap-1.03) with SMTP
          for <lucene-user@jakarta.apache.org>; 14 Sep 2003 22:01:00 -0000
Message-ID: <00f301c37b0b$a13270c0$0be24351@nomade>
Reply-To: "Sebastien X" <cvwebmaster@noos.fr>
From: "Sebastien X" <cvwebmaster@noos.fr>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20030914205822.81012.qmail@web12704.mail.yahoo.com>
Subject: Re: two fields in a search
Date: Mon, 15 Sep 2003 00:00:36 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks Otis, it seems it's what I search.

Sbastien



> Look for MultiFieldQueryParser.  I believe that is the name of the
> class.  You should be able to find it in the online Javadocs.
>
> Otis
>
> --- Sebastien X <cvwebmaster@noos.fr> wrote:
> > Hi,
> >
> > I've an index : each document is indexed with 2 fields named
> > "content" and "title".
> >
> > To make my search, I use this code :
> > QueryParser qp = new QueryParser("content", analyzer);
> >
> > My interrogation is :
> > if I use the QueryParser("content", analyzer) and I make a search
> > like this in my query " title : mysearch", is the exact same thing
> > than if I use the QueryParser("title", analyzer) and I make the
> > search " mysearch"  ?
> > I suppose that yes, but someone could confirm that?
> > Is there a methode to make my search automatically with the 2 fields?
> > for the moment, I use this code :
> >         QueryParser qp = new QueryParser("content", analyzer);
> >         qp.setOperator(QueryParser.DEFAULT_OPERATOR_AND);
> >         query = qp.parse("("+queryString+") OR
> > title:("+queryString+")");
> > Is it the good way?
> >
> >
> > Thanks in advance
> >
> >
>
>
> __________________________________
> Do you Yahoo!?
> Yahoo! SiteBuilder - Free, easy-to-use web site design software
> http://sitebuilder.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


From cvwebmaster@noos.fr  Sun Sep 14 23:43:22 2003
Return-Path: <cvwebmaster@noos.fr>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31678 invoked from network); 14 Sep 2003 23:43:22 -0000
Received: from unknown (HELO smtp.noos.fr) (212.198.2.72)
  by daedalus.apache.org with SMTP; 14 Sep 2003 23:43:22 -0000
Received: (qmail 19529906 invoked by uid 0); 14 Sep 2003 23:43:24 -0000
Received: from unknown (HELO nomade) ([81.67.226.11])
          (envelope-sender <cvwebmaster@noos.fr>)
          by 212.198.2.72 (qmail-ldap-1.03) with SMTP
          for <lucene-user@jakarta.apache.org>; 14 Sep 2003 23:43:24 -0000
Message-ID: <012601c37b19$ec7f7240$0be24351@nomade>
Reply-To: "Sebastien X" <cvwebmaster@noos.fr>
From: "Sebastien X" <cvwebmaster@noos.fr>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: =?iso-8859-1?Q?diff=E9rents_Analyzer_for_2_fields?=
Date: Mon, 15 Sep 2003 01:42:56 +0200
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0123_01C37B2A.AFC063D0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0123_01C37B2A.AFC063D0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,

I've an another question.

For indexing my documents I use this code :
writer =3D new IndexWriter(index, new StandardAnalyzer(), create);

I use 2 fields "content" and "title" but I would use diff=E9rents =
Analyzer for this 2 fields (one who could use numerical and the other =
not, for example)
Is there a way to do this?

thanks in advance

S=E9bastien 
------=_NextPart_000_0123_01C37B2A.AFC063D0--


From erik@ehatchersolutions.com  Sun Sep 14 23:54:32 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36115 invoked from network); 14 Sep 2003 23:54:32 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 14 Sep 2003 23:54:32 -0000
Received: (cpmta 26603 invoked from network); 14 Sep 2003 16:54:39 -0700
Received: from 68.232.145.115 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 14 Sep 2003 16:54:39 -0700
X-Sent: 14 Sep 2003 23:54:39 GMT
Date: Sun, 14 Sep 2003 19:54:42 -0400
Subject: =?ISO-8859-1?Q?Re:_diff=E9rents_Analyzer_for_2_fields?=
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: quoted-printable
In-Reply-To: <012601c37b19$ec7f7240$0be24351@nomade>
Message-Id: <CF8890B8-E70E-11D7-AB5C-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Sunday, September 14, 2003, at 07:42  PM, Sebastien X wrote:
> For indexing my documents I use this code :
> writer =3D new IndexWriter(index, new StandardAnalyzer(), create);
>
> I use 2 fields "content" and "title" but I would use diff=E9rents=20
> Analyzer for this 2 fields (one who could use numerical and the other=20=

> not, for example)
> Is there a way to do this?

You can only use one Analyzer per document and all tokenized fields=20
will use that analyzer (an aside, you can change analyzers on a per=20
document basis also).

But, you can create a custom Analyzer that does the right logic on a=20
per-field basis easily by just copying the code from the Analyzers you=20=

want to use in there.  The tokenStream method you override provides the=20=

field name as a parameter.

	Erik


From cvwebmaster@noos.fr  Mon Sep 15 00:08:47 2003
Return-Path: <cvwebmaster@noos.fr>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43118 invoked from network); 15 Sep 2003 00:08:47 -0000
Received: from unknown (HELO smtp.noos.fr) (212.198.2.75)
  by daedalus.apache.org with SMTP; 15 Sep 2003 00:08:47 -0000
Received: (qmail 48114374 invoked by uid 0); 15 Sep 2003 00:08:54 -0000
Received: from unknown (HELO nomade) ([81.67.226.11])
          (envelope-sender <cvwebmaster@noos.fr>)
          by 212.198.2.75 (qmail-ldap-1.03) with SMTP
          for <lucene-user@jakarta.apache.org>; 15 Sep 2003 00:08:54 -0000
Message-ID: <012f01c37b1d$7b709670$0be24351@nomade>
Reply-To: "Sebastien X" <cvwebmaster@noos.fr>
From: "Sebastien X" <cvwebmaster@noos.fr>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <CF8890B8-E70E-11D7-AB5C-000393A564E6@ehatchersolutions.com>
Subject: =?iso-8859-1?Q?Re:_diff=E9rents_Analyzer_for_2_fields?=
Date: Mon, 15 Sep 2003 02:08:24 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

>But, you can create a custom Analyzer that does the right logic on a
>per-field basis easily by just copying the code from the Analyzers you
>want to use in there.  The tokenStream method you override provides the
>field name as a parameter.

Ok, I will do that.
Thanks for your help.

Sbastien.


From mark.brand@elegalpublishing.com  Mon Sep 15 01:23:56 2003
Return-Path: <mark.brand@elegalpublishing.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81129 invoked from network); 15 Sep 2003 01:23:56 -0000
Received: from unknown (HELO telpacmail.tel-pacific.com) (203.88.255.15)
  by daedalus.apache.org with SMTP; 15 Sep 2003 01:23:56 -0000
Received: from elegalpublishing.com (i088231006.rivernet.com.au [203.88.231.6])
	by telpacmail.tel-pacific.com (8.12.8/8.12.8) with ESMTP id h8F1PBoF000828
	for <lucene-user@jakarta.apache.org>; Mon, 15 Sep 2003 11:25:12 +1000
Message-ID: <3F651599.9050700@elegalpublishing.com>
Date: Mon, 15 Sep 2003 11:27:53 +1000
From: Mark Brand <mark.brand@elegalpublishing.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.5b) Gecko/20030901 Thunderbird/0.2
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: lucene & maverick
References: <3F64753A.5010709@elegalpublishing.com> <20030914213544.A15087@incze.incze.hu>
In-Reply-To: <20030914213544.A15087@incze.incze.hu>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

hi:

*incze
.. i don't really understand what is the point in the question ...

*mark
i guess the point is - my understanding of these technologies is 
incomplete - and i am trying to get up to speed with them.

thanks incze, your comment about them being totally orthogonal is very 
useful.


mark




From incze@mail.matav.hu  Mon Sep 15 02:49:28 2003
Return-Path: <incze@mail.matav.hu>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15982 invoked from network); 15 Sep 2003 02:49:28 -0000
Received: from unknown (HELO incze.incze.hu) (62.112.223.117)
  by daedalus.apache.org with SMTP; 15 Sep 2003 02:49:28 -0000
Received: (from incze@localhost)
	by incze.incze.hu (8.11.6/8.11.6) id h8F2nav17195
	for lucene-user@jakarta.apache.org; Mon, 15 Sep 2003 04:49:36 +0200
Date: Mon, 15 Sep 2003 04:49:34 +0200
From: Incze Lajos <incze@mail.matav.hu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: lucene & maverick
Message-ID: <20030915044934.A17251@incze.incze.hu>
References: <3F64753A.5010709@elegalpublishing.com> <20030914213544.A15087@incze.incze.hu> <3F651599.9050700@elegalpublishing.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5.1i
In-Reply-To: <3F651599.9050700@elegalpublishing.com>; from mark.brand@elegalpublishing.com on Mon, Sep 15, 2003 at 11:27:53AM +1000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> i guess the point is - my understanding of these technologies is 
> incomplete - and i am trying to get up to speed with them.
> 
> thanks incze, your comment about them being totally orthogonal is very 
> useful.
> 

Sorry if I was rude, just wanted to keep the comment simple.

incze

From otis_gospodnetic@yahoo.com  Mon Sep 15 09:10:07 2003
Return-Path: <otis_gospodnetic@yahoo.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47113 invoked from network); 15 Sep 2003 09:10:07 -0000
Received: from unknown (HELO web12701.mail.yahoo.com) (216.136.173.238)
  by daedalus.apache.org with SMTP; 15 Sep 2003 09:10:07 -0000
Message-ID: <20030915091021.35041.qmail@web12701.mail.yahoo.com>
Received: from [194.152.224.148] by web12701.mail.yahoo.com via HTTP; Mon, 15 Sep 2003 02:10:21 PDT
Date: Mon, 15 Sep 2003 02:10:21 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: diffrents_Analyzer_for_2_fields
To: Lucene Users List <lucene-user@jakarta.apache.org>,
  Sebastien X <cvwebmaster@noos.fr>
In-Reply-To: <012601c37b19$ec7f7240$0be24351@nomade>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

You can write a custom Analyzer that performs different actions on
different fields.  Check out the FAQ at jGuru for an example.

Otis

--- Sebastien X <cvwebmaster@noos.fr> wrote:
> Hi,
> 
> I've an another question.
> 
> For indexing my documents I use this code :
> writer = new IndexWriter(index, new StandardAnalyzer(), create);
> 
> I use 2 fields "content" and "title" but I would use diffrents
> Analyzer for this 2 fields (one who could use numerical and the other
> not, for example)
> Is there a way to do this?
> 
> thanks in advance
> 
> Sbastien 


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

From hui@triplehop.com  Mon Sep 15 13:45:28 2003
Return-Path: <hui@triplehop.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85028 invoked from network); 15 Sep 2003 13:45:28 -0000
Received: from unknown (HELO germany.prod.thop-ny.triplehop.com) (216.74.150.80)
  by daedalus.apache.org with SMTP; 15 Sep 2003 13:45:28 -0000
Received: from hui2000 ([208.246.29.6]) by germany.prod.thop-ny.triplehop.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Mon, 15 Sep 2003 09:50:35 -0400
Message-ID: <002401c37b8f$aefde340$9e0010ac@thopny.triplehop.com>
From: "hui" <hui@triplehop.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <496A2C679221504D8B8AE4B10267E876019D7C32@gb-sm-cala-xm11.corp.disney.com>
Subject: Re: too many files within one index
Date: Mon, 15 Sep 2003 09:45:54 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-OriginalArrivalTime: 15 Sep 2003 13:50:35.0577 (UTC) FILETIME=[56A69290:01C37B90]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Reece,
Thank you for the clue.
Based on the document from Otis, if I understand welll, it seems a lower
mergeFactor should be used.
http://www.onjava.com/pub/a/onjava/2003/03/05/lucene.html

Regards,
Hui

----- Original Message ----- 
From: "Wilton, Reece" <Reece.Wilton@dig.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Friday, September 12, 2003 1:37 PM
Subject: RE: too many files within one index


Set the mergefactor to a higher number.

-----Original Message-----
From: hui [mailto:hui@triplehop.com]
Sent: Friday, September 12, 2003 10:25 AM
To: Lucene Users List
Subject: too many files within one index


Hi,
I am using Lucene 1.3 rc released on March.20, 2003.
For some reason, the files in the index directory increase very very
quickly for some documents and reach over 3000 files within half hour
and even can not optimize the index.Then it grows up to 33000 files
within one index. In most of other testing cases, it normally never
reach 1000 even without optimization.

Any idea about this?

regards,
Hui


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From hammer@dezide.com  Tue Sep 16 11:14:41 2003
Return-Path: <hammer@dezide.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81536 invoked from network); 16 Sep 2003 11:14:41 -0000
Received: from unknown (HELO mailserver1.webhot2.dk) (62.61.159.100)
  by daedalus.apache.org with SMTP; 16 Sep 2003 11:14:41 -0000
Received: from fisk [80.165.33.90] by mailserver1.webhot2.dk
  (SMTPD32-6.04) id A1964183020A; Tue, 16 Sep 2003 13:18:46 +0200
Message-ID: <004e01c37c44$01926ea0$5550bec0@fisk>
From: "Lars Hammer" <hammer@dezide.com>
To: "lucene mailing list" <lucene-user@jakarta.apache.org>
Subject: IndexReader.delete( term ) bug?
Date: Tue, 16 Sep 2003 13:16:41 +0200
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_004B_01C37C54.C4C2E570"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Note: This E-mail was scanned for SPAM and VIRUSES by Declude 1.75
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_004B_01C37C54.C4C2E570
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hello

I am trying to delete all docs in my index containing a field with a =
given value. The API says that the delete( term ) method in IndexReader =
can do that for me. The problem is that it doesn't seem to work =
properly. When i apply the delete( term ) method to docs where i know =
that only one document exists with the given ID, the document is deleted =
as it should be, but when there are more documents with the same ID, =
nothing happens.
It should be said that alle documents have a unique ID and some =
documents furthermore have another ID field called modelTreeFileID, =
which indicates membership to a group of documents.=20

This little code snippet is how I am doing it :

IndexReader ir =3D IndexReader.open( pathToIndex );
Term term =3D new Term( "modelTreeFileID", "324i28383gvvb" );
ir.delete( term );


if only one document was found with the value 324i28383gvvb was found, =
it is deleted, but if more documents were found they are not :-(

Is this a bug in IndexReader or am i doing something wrong.

Any help is appreciated.

/Lars Hammer

http://www.dezide.com



------=_NextPart_000_004B_01C37C54.C4C2E570--



From otis_gospodnetic@yahoo.com  Tue Sep 16 11:36:43 2003
Return-Path: <otis_gospodnetic@yahoo.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15514 invoked from network); 16 Sep 2003 11:36:43 -0000
Received: from unknown (HELO web12704.mail.yahoo.com) (216.136.173.241)
  by daedalus.apache.org with SMTP; 16 Sep 2003 11:36:43 -0000
Message-ID: <20030916113644.47982.qmail@web12704.mail.yahoo.com>
Received: from [194.152.206.249] by web12704.mail.yahoo.com via HTTP; Tue, 16 Sep 2003 04:36:44 PDT
Date: Tue, 16 Sep 2003 04:36:44 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: IndexReader.delete( term ) bug?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <004e01c37c44$01926ea0$5550bec0@fisk>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Lars,

The code looks fine.  However, you are not showing how you deal with
any possible exceptions (IOExceptions, for instance), so it is possible
that you are ignoring exceptions.
Thata delete(Term) method returns an int, so you could also capture
that and see what its value is.
I assume that you are also closing your IndexReader instance...

Otis


--- Lars Hammer <hammer@dezide.com> wrote:
> Hello
> 
> I am trying to delete all docs in my index containing a field with a
> given value. The API says that the delete( term ) method in
> IndexReader can do that for me. The problem is that it doesn't seem
> to work properly. When i apply the delete( term ) method to docs
> where i know that only one document exists with the given ID, the
> document is deleted as it should be, but when there are more
> documents with the same ID, nothing happens.
> It should be said that alle documents have a unique ID and some
> documents furthermore have another ID field called modelTreeFileID,
> which indicates membership to a group of documents. 
> 
> This little code snippet is how I am doing it :
> 
> IndexReader ir = IndexReader.open( pathToIndex );
> Term term = new Term( "modelTreeFileID", "324i28383gvvb" );
> ir.delete( term );
> 
> 
> if only one document was found with the value 324i28383gvvb was
> found, it is deleted, but if more documents were found they are not
> :-(
> 
> Is this a bug in IndexReader or am i doing something wrong.
> 
> Any help is appreciated.
> 
> /Lars Hammer
> 
> http://www.dezide.com
> 
> 
> 


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

From tom.killeen@thomson.com  Tue Sep 16 12:37:42 2003
Return-Path: <tom.killeen@thomson.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30060 invoked from network); 16 Sep 2003 12:37:42 -0000
Received: from unknown (HELO mailao.westgroup.com) (167.68.1.71)
  by daedalus.apache.org with SMTP; 16 Sep 2003 12:37:42 -0000
Received: from morton.int.westgroup.com (localhost.localdomain [127.0.0.1])
	by mailao.westgroup.com (8.12.9/8.12.9) with ESMTP id h8GCbhpo032643
	for <lucene-user@jakarta.apache.org>; Tue, 16 Sep 2003 07:37:43 -0500
Received: from eg-msgimc-a03.int.westgroup.com (eg-msgimc-a03.int.westgroup.com [163.231.102.184])
	by morton.int.westgroup.com (8.12.9/8.12.9) with ESMTP id h8GCbgFf032638
	for <lucene-user@jakarta.apache.org>; Tue, 16 Sep 2003 07:37:42 -0500
Received: by eg-msgimc-a03.int.westgroup.com with Internet Mail Service (5.5.2656.59)
	id <S5DJH4ND>; Tue, 16 Sep 2003 07:37:42 -0500
Message-ID: <3FB41459B6CCD61196290006298F1F1D488298@eg-msgmbx-a02.int.westgroup.com>
From: "Killeen, Tom" <tom.killeen@thomson.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: merging indices
Date: Tue, 16 Sep 2003 07:37:37 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2656.59)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello - 

I have created 27 separate indices that hold a total of 15.8 million XML
documents.  My question is, would I be better served to have one large index
or multiple indices as I have?  Also does anyone have any sample code of how
I merge these indices?  I have seen the addIndexes(Directory[]) method and
am not quite sure how to implement it.

thanks, 
Tom 

From otis_gospodnetic@yahoo.com  Tue Sep 16 13:09:32 2003
Return-Path: <otis_gospodnetic@yahoo.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5526 invoked from network); 16 Sep 2003 13:09:32 -0000
Received: from unknown (HELO web12701.mail.yahoo.com) (216.136.173.238)
  by daedalus.apache.org with SMTP; 16 Sep 2003 13:09:32 -0000
Message-ID: <20030916130933.22040.qmail@web12701.mail.yahoo.com>
Received: from [194.152.206.249] by web12701.mail.yahoo.com via HTTP; Tue, 16 Sep 2003 06:09:33 PDT
Date: Tue, 16 Sep 2003 06:09:33 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: merging indices
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <3FB41459B6CCD61196290006298F1F1D488298@eg-msgmbx-a02.int.westgroup.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Tom,

Not sure which one would be better for you.  It would be easy for you
to test that, though.  My guess would be that a single index will work
better.

To merge indices, create a new instance of FSDirectory.
  Directory dir = new FSDirectory("/path/to/new/index");

Then create an array of your 27 indices (something like the above, but
add it to an array of Directory[] type, and use a different path for
each of your 27 dirs in the ctor above) and pass it to addIndexes
method, like this:
  dir.addIndexes(yourDirectoryArray);

The 'dir' is the 'dir' from above.

Otis


--- "Killeen, Tom" <tom.killeen@thomson.com> wrote:
> Hello - 
> 
> I have created 27 separate indices that hold a total of 15.8 million
> XML
> documents.  My question is, would I be better served to have one
> large index
> or multiple indices as I have?  Also does anyone have any sample code
> of how
> I merge these indices?  I have seen the addIndexes(Directory[])
> method and
> am not quite sure how to implement it.
> 
> thanks, 
> Tom 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

From hammer@dezide.com  Tue Sep 16 14:32:51 2003
Return-Path: <hammer@dezide.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52397 invoked from network); 16 Sep 2003 14:32:51 -0000
Received: from unknown (HELO mailserver1.webhot2.dk) (62.61.159.100)
  by daedalus.apache.org with SMTP; 16 Sep 2003 14:32:51 -0000
Received: from fisk [62.107.96.198] by mailserver1.webhot2.dk
  (SMTPD32-6.04) id A000BBDA0298; Tue, 16 Sep 2003 16:36:48 +0200
Message-ID: <000d01c37c5f$abc222b0$c6606b3e@fisk>
From: "Lars Hammer" <hammer@dezide.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20030916113644.47982.qmail@web12704.mail.yahoo.com>
Subject: Re: IndexReader.delete( term ) bug?
Date: Tue, 16 Sep 2003 16:34:43 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Note: This E-mail was scanned for SPAM and VIRUSES by Declude 1.75
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Sorry I should have posted som more code the first time around, here is the
whole method that i Use. I make a search for the term first to check if any
documents exists :

private void deleteModelTree( String modelTreeFileID, pathToIndex )
    {
        try
        {
            IndexReader ir = IndexReader.open( pathToIndex );

            Term term = new Term( "modelTreeFileID", modelTreeFileID );

            TermQuery query = new TermQuery( term );
            Searcher searcher = new IndexSearcher( pathToIndex );
            Hits hits = searcher.search( query );

            if( hits.length() != 0 )
            {
                ir.delete( term );
            }

            ir.close();
        }
        catch( Exception e )
        {
            e.printStackTrace();
         }
    }

I catch all Execptions to see if anything goes wrong and so far no
excpetions are thrown ....

-thanks in advance!

/Lars Hammer





> Lars,
>
> The code looks fine.  However, you are not showing how you deal with
> any possible exceptions (IOExceptions, for instance), so it is possible
> that you are ignoring exceptions.
> Thata delete(Term) method returns an int, so you could also capture
> that and see what its value is.
> I assume that you are also closing your IndexReader instance...
>
> Otis
>
>
> --- Lars Hammer <hammer@dezide.com> wrote:
> > Hello
> >
> > I am trying to delete all docs in my index containing a field with a
> > given value. The API says that the delete( term ) method in
> > IndexReader can do that for me. The problem is that it doesn't seem
> > to work properly. When i apply the delete( term ) method to docs
> > where i know that only one document exists with the given ID, the
> > document is deleted as it should be, but when there are more
> > documents with the same ID, nothing happens.
> > It should be said that alle documents have a unique ID and some
> > documents furthermore have another ID field called modelTreeFileID,
> > which indicates membership to a group of documents.
> >
> > This little code snippet is how I am doing it :
> >
> > IndexReader ir = IndexReader.open( pathToIndex );
> > Term term = new Term( "modelTreeFileID", "324i28383gvvb" );
> > ir.delete( term );
> >
> >
> > if only one document was found with the value 324i28383gvvb was
> > found, it is deleted, but if more documents were found they are not
> > :-(
> >
> > Is this a bug in IndexReader or am i doing something wrong.
> >
> > Any help is appreciated.
> >
> > /Lars Hammer
> >
> > http://www.dezide.com
> >
> >
> >
>
>
> __________________________________
> Do you Yahoo!?
> Yahoo! SiteBuilder - Free, easy-to-use web site design software
> http://sitebuilder.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>



From avp@imente.com  Tue Sep 16 16:23:39 2003
Return-Path: <avp@imente.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96318 invoked from network); 16 Sep 2003 16:23:39 -0000
Received: from unknown (HELO gustavo.imente.com) (62.97.113.150)
  by daedalus.apache.org with SMTP; 16 Sep 2003 16:23:39 -0000
Received: from imente.com (135.Red-80-36-51.pooles.rima-tde.net [80.36.51.135])
	by gustavo.imente.com (Postfix) with ESMTP id 0862F100056
	for <lucene-user@jakarta.apache.org>; Tue, 16 Sep 2003 18:23:37 +0200 (CEST)
Message-ID: <3F673877.9030806@imente.com>
Date: Tue, 16 Sep 2003 18:21:11 +0200
From: Albert Vila Puig <avp@imente.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: Large data sets benchmark
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello

 I'm planing to use Lucene in a big environment, with large data sets 
(between 50-100Gb of data). I've seen some people have experience in 
this kind of environments.
 I was wondering, if someone can provide a benchmarking with this amount 
of data.
 
Another question, is someone using Lucene in a distribute environment? 
I'm planing to use it in a distribute environment to manage such amount 
of data. I'm interested in the C++ version (CLucene) too, because I 
think the C++ version is faster (someone has real numbers (in 
performance) between the Java and the C++ version).

Thanks,
Albert.


From Reece.Wilton@dig.com  Tue Sep 16 16:35:43 2003
Return-Path: <Reece.Wilton@dig.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11862 invoked from network); 16 Sep 2003 16:35:43 -0000
Received: from unknown (HELO mail.disney.com) (204.128.192.15)
  by daedalus.apache.org with SMTP; 16 Sep 2003 16:35:43 -0000
Received: from Hermes10.corp.disney.com (hermes10.corp.disney.com [153.7.110.102])
	by mail.disney.com (Switch-3.1.0/Switch-3.1.0) with ESMTP id h8GG6BLN025154
	for <lucene-user@jakarta.apache.org>; Tue, 16 Sep 2003 09:34:42 -0700 (PDT)
Received: from sm-cala-xc07.swna.wdpr.disney.com (sm-cala-xc07.swna.wdpr.disney.com [153.7.195.64]) by hermes.corp.disney.com with ESMTP; Tue, 16 Sep 2003 09:35:56 -0700
Received: from sm-cala-xm11.swna.wdpr.disney.com ([153.7.195.53]) by sm-cala-xc07.swna.wdpr.disney.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Tue, 16 Sep 2003 09:35:41 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.0.6375.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: too many files within one index
Date: Tue, 16 Sep 2003 09:35:39 -0700
Message-Id: <496A2C679221504D8B8AE4B10267E876019D7C41@gb-sm-cala-xm11.corp.disney.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: too many files within one index
Thread-Index: AcN7j9TlWgTrMcuzShC9sOlJcWOjPwA4IJSA
From: "Wilton, Reece" <Reece.Wilton@dig.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 16 Sep 2003 16:35:41.0285 (UTC) FILETIME=[91536950:01C37C70]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

The lower the number, the more often a new file is created.  Since
creating/opening files with Lucene seems to cause issues on Windows, I
increased this to 100.  This solved my file locking problems and still
gave me good performance (I am able to perform over 200 queries/second
from a servlet being hit from a remote machine).

-----Original Message-----
From: hui [mailto:hui@triplehop.com]=20
Sent: Monday, September 15, 2003 6:46 AM
To: Lucene Users List
Subject: Re: too many files within one index


Hi Reece,
Thank you for the clue.
Based on the document from Otis, if I understand welll, it seems a lower
mergeFactor should be used.
http://www.onjava.com/pub/a/onjava/2003/03/05/lucene.html

Regards,
Hui

----- Original Message -----=20
From: "Wilton, Reece" <Reece.Wilton@dig.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Friday, September 12, 2003 1:37 PM
Subject: RE: too many files within one index


Set the mergefactor to a higher number.

-----Original Message-----
From: hui [mailto:hui@triplehop.com]
Sent: Friday, September 12, 2003 10:25 AM
To: Lucene Users List
Subject: too many files within one index


Hi,
I am using Lucene 1.3 rc released on March.20, 2003.
For some reason, the files in the index directory increase very very
quickly for some documents and reach over 3000 files within half hour
and even can not optimize the index.Then it grows up to 33000 files
within one index. In most of other testing cases, it normally never
reach 1000 even without optimization.

Any idea about this?

regards,
Hui


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From joseph.paulsen@verizon.net  Tue Sep 16 21:14:02 2003
Return-Path: <joseph.paulsen@verizon.net>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75308 invoked from network); 16 Sep 2003 21:14:02 -0000
Received: from unknown (HELO out001.verizon.net) (206.46.170.140)
  by daedalus.apache.org with SMTP; 16 Sep 2003 21:14:02 -0000
Received: from s0023819896 ([129.44.6.53]) by out001.verizon.net
          (InterMail vM.5.01.05.33 201-253-122-126-133-20030313) with ESMTP
          id <20030916211408.VQUW5382.out001.verizon.net@s0023819896>
          for <lucene-user@jakarta.apache.org>;
          Tue, 16 Sep 2003 16:14:08 -0500
Message-ID: <003401c37c97$763de6a0$6501a8c0@s0023819896>
From: "Joe Paulsen" <joseph.paulsen@verizon.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Browsing the list of searchable terms
Date: Tue, 16 Sep 2003 17:14:05 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Authentication-Info: Submitted using SMTP AUTH at out001.verizon.net from [129.44.6.53] at Tue, 16 Sep 2003 16:14:07 -0500
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

We would like to be able to allow our users to browse the index of
searchable terms by entering a term (or term stem) to which we will
respond with a list of words surrounding the entered word/stem (say 10
terms before and 10 terms after) along with the number of occurrences of
the terms in the documents in the database/index.

We're not quite sure how to do that yet, but our initial reading of the
documentation indicates that maybe we should use IndexReader
TermEnum(Term t).  If we are reading this correctly, the method seems to
be uni-directional only (i.e., there is no way to get the immediately
preceding terms to the user entered word/stem).  Is there a way to
retrieve a bi-directional list of terms surrounding a given word/stem?

Thanks,

Joe Paulsen



From chrissibert@comcast.net  Wed Sep 17 05:27:12 2003
Return-Path: <chrissibert@comcast.net>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77288 invoked from network); 17 Sep 2003 05:27:12 -0000
Received: from unknown (HELO rwcrmhc11.comcast.net) (204.127.198.35)
  by daedalus.apache.org with SMTP; 17 Sep 2003 05:27:12 -0000
Received: from mother (c-24-129-215-86.se.client2.attbi.com[24.129.215.86])
          by comcast.net (rwcrmhc11) with SMTP
          id <2003091705272301300o8t7ge>; Wed, 17 Sep 2003 05:27:23 +0000
Message-ID: <002801c37cdc$64b72780$0b02a8c0@mother>
From: "Chris Sibert" <chrissibert@comcast.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <3DC24860-E0DD-11D7-ADF3-000393A564E6@ehatchersolutions.com> <3F5B4D67.9090402@seznam.cz> <3F60B981.5090503@lucene.com> <3F60E1B0.1090807@seznam.cz>
Subject: Re: Lucene features
Date: Wed, 17 Sep 2003 01:27:31 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks for all the replies. I feel reassured with using Lucene. If I end up
doing anything with the application that I'm writing, I would like to look
at contributing some documentation of Lucene's features, and what it has to
offer.

----- Original Message ----- 
From: "Leo Galambos" <Leo.G@seznam.cz>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, September 11, 2003 4:57 PM
Subject: Re: Lucene features


> Doug Cutting wrote:
>
> >
> > I have some extensions to Lucene that I've not yet commited which make
> > it possible to easily define synthetic IndexReaders (not currently
> > supported).  So you could do things that way, once I check these in.
> > But is this really better than just ANDing the clauses together?  It
> > would take some big experiments to know, but my guess is that it
> > doesn't make much difference to compute a "local" IDF for such things.
>
>
> In this case, I think that the operator would be evaluated as "an
> implication" and not "AND" (=1-(((1-q1)^p+(1-q2)^p )/2 )^(1/p)).
> Obviously, you have to use an filter to filter out false hits (in case
> of q1->q2, the formula is true when q1 is false, so it is not what you
> really need), but it is not an issue with the auxiliary index. On the
> other hand, it is a feeling and it needs a test, you are right.
>
> Leo
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


From otis_gospodnetic@yahoo.com  Wed Sep 17 08:28:36 2003
Return-Path: <otis_gospodnetic@yahoo.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32448 invoked from network); 17 Sep 2003 08:28:36 -0000
Received: from unknown (HELO web12706.mail.yahoo.com) (216.136.173.243)
  by daedalus.apache.org with SMTP; 17 Sep 2003 08:28:36 -0000
Message-ID: <20030917082849.59240.qmail@web12706.mail.yahoo.com>
Received: from [194.152.206.128] by web12706.mail.yahoo.com via HTTP; Wed, 17 Sep 2003 01:28:49 PDT
Date: Wed, 17 Sep 2003 01:28:49 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Lucene features
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <002801c37cdc$64b72780$0b02a8c0@mother>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

That would be nice.  Contributions are always welcome.

Otis

--- Chris Sibert <chrissibert@comcast.net> wrote:
> Thanks for all the replies. I feel reassured with using Lucene. If I
> end up
> doing anything with the application that I'm writing, I would like to
> look
> at contributing some documentation of Lucene's features, and what it
> has to
> offer.
> 
> ----- Original Message ----- 
> From: "Leo Galambos" <Leo.G@seznam.cz>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Thursday, September 11, 2003 4:57 PM
> Subject: Re: Lucene features
> 
> 
> > Doug Cutting wrote:
> >
> > >
> > > I have some extensions to Lucene that I've not yet commited which
> make
> > > it possible to easily define synthetic IndexReaders (not
> currently
> > > supported).  So you could do things that way, once I check these
> in.
> > > But is this really better than just ANDing the clauses together? 
> It
> > > would take some big experiments to know, but my guess is that it
> > > doesn't make much difference to compute a "local" IDF for such
> things.
> >
> >
> > In this case, I think that the operator would be evaluated as "an
> > implication" and not "AND" (=1-(((1-q1)^p+(1-q2)^p )/2 )^(1/p)).
> > Obviously, you have to use an filter to filter out false hits (in
> case
> > of q1->q2, the formula is true when q1 is false, so it is not what
> you
> > really need), but it is not an issue with the auxiliary index. On
> the
> > other hand, it is a feeling and it needs a test, you are right.
> >
> > Leo
> >
> >
> >
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> >
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

From erik@ehatchersolutions.com  Wed Sep 17 12:00:43 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5673 invoked from network); 17 Sep 2003 12:00:43 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 17 Sep 2003 12:00:43 -0000
Received: (cpmta 2775 invoked from network); 17 Sep 2003 05:00:44 -0700
Received: from 68.232.145.115 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 17 Sep 2003 05:00:44 -0700
X-Sent: 17 Sep 2003 12:00:44 GMT
Date: Wed, 17 Sep 2003 08:00:42 -0400
Mime-Version: 1.0 (Apple Message framework v552)
Content-Type: text/plain; charset=US-ASCII; format=flowed
Subject: Lucene demo ideas?
From: Erik Hatcher <erik@ehatchersolutions.com>
To: lucene-user@jakarta.apache.org
Content-Transfer-Encoding: 7bit
Message-Id: <8FFFA400-E906-11D7-91A6-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I'm about to start some refactorings on the web application demo that 
ships with Lucene to show off its features and be usable more easily 
and cleanly out of the box - i.e. just drop into Tomcat's webapps 
directory and go.

Does anyone have any suggestions on what they'd like to see in the demo 
app?  Some of my ideas are:

- Eliminate the need to do a command-line indexing, let the web app do 
this upon command, allowing you to specify where the index lives (there 
will be a reasonable default like ~/lucenedemo/index perhaps) and what 
directory tree to index (perhaps defaulting to the root directory or 
c:\, or where instead?)

- Spin off a background indexing thread so the web app searching is 
immediately useful after kicking off the indexing process, and allow a 
status view of the indexing progress.

- Index text and HTML files.  Any others?  I don't want to get into 
putting too many dependencies in though - let's keep it relatively 
simple, although still demonstrative.  Allow search filtering by last 
modified date range and document type (extension).

- Perhaps allow you to specify the analyzer to use when indexing.

- Show the explanation of how scores are computed in the search results 
as an option.

I'm all ears to possibilities of improvements!  Send your wishlist.

	Erik


From ben@csh.rit.edu  Wed Sep 17 12:42:26 2003
Return-Path: <ben@csh.rit.edu>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64259 invoked from network); 17 Sep 2003 12:42:26 -0000
Received: from unknown (HELO blacksheep.csh.rit.edu) (129.21.60.6)
  by daedalus.apache.org with SMTP; 17 Sep 2003 12:42:26 -0000
Received: from fury.csh.rit.edu (fury.csh.rit.edu [2001:470:1f00:135:a00:20ff:fe8d:5399])
	by blacksheep.csh.rit.edu (Postfix) with ESMTP id C0BDD25E
	for <lucene-user@jakarta.apache.org>; Wed, 17 Sep 2003 08:42:26 -0400 (EDT)
Received: by fury.csh.rit.edu (Postfix, from userid 38448)
	id 7C9C4126C; Wed, 17 Sep 2003 08:42:26 -0400 (EDT)
Received: from localhost (localhost [127.0.0.1])
	by fury.csh.rit.edu (Postfix) with ESMTP id 588C21265
	for <lucene-user@jakarta.apache.org>; Wed, 17 Sep 2003 08:42:26 -0400 (EDT)
Date: Wed, 17 Sep 2003 08:42:26 -0400 (EDT)
From: Ben Litchfield <ben@csh.rit.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene demo ideas?
In-Reply-To: <8FFFA400-E906-11D7-91A6-000393A564E6@ehatchersolutions.com>
Message-ID: <Pine.GSO.4.53.0309170841410.15201@fury.csh.rit.edu>
References: <8FFFA400-E906-11D7-91A6-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


> - Index text and HTML files.  Any others?


What, no PDF files!!

Ben

--
http://www.pdfbox.org

From tom.killeen@thomson.com  Wed Sep 17 12:43:38 2003
Return-Path: <tom.killeen@thomson.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66994 invoked from network); 17 Sep 2003 12:43:38 -0000
Received: from unknown (HELO mailao.westgroup.com) (167.68.1.71)
  by daedalus.apache.org with SMTP; 17 Sep 2003 12:43:38 -0000
Received: from morton.int.westgroup.com (localhost.localdomain [127.0.0.1])
	by mailao.westgroup.com (8.12.9/8.12.9) with ESMTP id h8HChdpo000535
	for <lucene-user@jakarta.apache.org>; Wed, 17 Sep 2003 07:43:39 -0500
Received: from eg-msgimc-b10.int.westgroup.com (eg-msgimc-b10.int.westgroup.com [163.231.96.24])
	by morton.int.westgroup.com (8.12.9/8.12.9) with ESMTP id h8HChcFf000520
	for <lucene-user@jakarta.apache.org>; Wed, 17 Sep 2003 07:43:39 -0500
Received: by eg-msgimc-b10.int.westgroup.com with Internet Mail Service (5.5.2656.59)
	id <SV61CWPX>; Wed, 17 Sep 2003 07:43:38 -0500
Message-ID: <3FB41459B6CCD61196290006298F1F1D4882A7@eg-msgmbx-a02.int.westgroup.com>
From: "Killeen, Tom" <tom.killeen@thomson.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Lucene demo ideas?
Date: Wed, 17 Sep 2003 07:43:36 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2656.59)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I would suggest XML as well.


Tom

-----Original Message-----
From: Ben Litchfield [mailto:ben@csh.rit.edu]
Sent: Wednesday, September 17, 2003 7:42 AM
To: Lucene Users List
Subject: Re: Lucene demo ideas?



> - Index text and HTML files.  Any others?


What, no PDF files!!

Ben

--
http://www.pdfbox.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

From erik@ehatchersolutions.com  Wed Sep 17 12:48:42 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76215 invoked from network); 17 Sep 2003 12:48:42 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 17 Sep 2003 12:48:42 -0000
Received: (cpmta 18978 invoked from network); 17 Sep 2003 05:48:42 -0700
Received: from 128.143.184.61 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 17 Sep 2003 05:48:42 -0700
X-Sent: 17 Sep 2003 12:48:42 GMT
Date: Wed, 17 Sep 2003 08:48:40 -0400
Subject: Re: Lucene demo ideas?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: lucene-user@jakarta.apache.org
Content-Transfer-Encoding: 7bit
In-Reply-To: <004e01c37d19$23ba9270$e42735cf@trigent.com>
Message-Id: <43304A95-E90D-11D7-87C1-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

please keep the discussions on the lucene-user e-mail list.

of course the source code will be available... what is there is already 
in lucene's CVS and i will just revamp what is there and commit it.  
and when we make lucene releases it will be bundled and made available 
as a single download too.

as for indexing XML files.... that is a possibility, but that is a 
broad request.  how would they be indexed?  every element made a field? 
  every attribute too?  what are the field names?  is this really 
appropriate for a "demo"?

On Wednesday, September 17, 2003, at 08:42  AM, Senthil Kumar K wrote:
> hi erik,
>
>   Is it possible to send a source code for the lucene demo
> u proposed and i want to index xml files in my application.
> All i have to do from browser. I have to avoid the command
> line indexing.


From erik@ehatchersolutions.com  Wed Sep 17 13:07:10 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21346 invoked from network); 17 Sep 2003 13:07:10 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 17 Sep 2003 13:07:10 -0000
Received: (cpmta 21405 invoked from network); 17 Sep 2003 06:07:11 -0700
Received: from 128.143.184.61 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 17 Sep 2003 06:07:11 -0700
X-Sent: 17 Sep 2003 13:07:11 GMT
Date: Wed, 17 Sep 2003 09:07:08 -0400
Subject: Re: Lucene demo ideas?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <Pine.GSO.4.53.0309170841410.15201@fury.csh.rit.edu>
Message-Id: <D7F4F0B8-E90F-11D7-87C1-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Wednesday, September 17, 2003, at 08:42  AM, Ben Litchfield wrote:
> What, no PDF files!!

Haha!

> http://www.pdfbox.org

And I've used pdfbox before - its cool.

And I'm cool with adding PDF and Word indexing to the demo personally, 
but I didn't want to increase the "weight" of the demo application.  If 
folks feel strongly about it then I'll incorporate it.


From erik@ehatchersolutions.com  Wed Sep 17 13:08:00 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23541 invoked from network); 17 Sep 2003 13:08:00 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 17 Sep 2003 13:08:00 -0000
Received: (cpmta 22127 invoked from network); 17 Sep 2003 06:08:01 -0700
Received: from 128.143.184.61 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 17 Sep 2003 06:08:01 -0700
X-Sent: 17 Sep 2003 13:08:01 GMT
Date: Wed, 17 Sep 2003 09:07:59 -0400
Subject: Re: Lucene demo ideas?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3FB41459B6CCD61196290006298F1F1D4882A7@eg-msgmbx-a02.int.westgroup.com>
Message-Id: <F6030210-E90F-11D7-87C1-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Wednesday, September 17, 2003, at 08:43  AM, Killeen, Tom wrote:
> I would suggest XML as well.

Again, I'd like to hear more about how you'd do this generically.  Tell 
me what the field names and values would correspond to when presented 
with an XML file.

	Erik


From pete@uptima.co.uk  Wed Sep 17 13:08:45 2003
Return-Path: <pete@uptima.co.uk>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26666 invoked from network); 17 Sep 2003 13:08:45 -0000
Received: from unknown (HELO netmail02.services.quay.plus.net) (212.159.14.221)
  by daedalus.apache.org with SMTP; 17 Sep 2003 13:08:45 -0000
Received: (qmail 5181 invoked from network); 17 Sep 2003 13:08:44 -0000
Received: from pwlewis.force9.co.uk (HELO joseph) (81.174.157.55)
  by netmail02.services.quay.plus.net with SMTP; 17 Sep 2003 13:08:44 -0000
Message-ID: <014201c37d1c$aec5a2d0$0200a8c0@joseph>
From: "Pete Lewis" <pete@uptima.co.uk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <8FFFA400-E906-11D7-91A6-000393A564E6@ehatchersolutions.com>
Subject: Re: Lucene demo ideas?
Date: Wed, 17 Sep 2003 14:07:43 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Might want two demos, one for Unix environments and one for Windows.

Most users will want a fast start that they can copy and adapt.  So quick
targets would be:

filesystems - html / text / pdf / office documents for windows.
xml - fairly simple example maybe against news items.
database - again simple maybe a pseudo employee database.
website - accessable from the filesystem.
website - that requires crawling.

Show hit markup.

Pete

----- Original Message ----- 
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: <lucene-user@jakarta.apache.org>
Sent: Wednesday, September 17, 2003 1:00 PM
Subject: Lucene demo ideas?


> I'm about to start some refactorings on the web application demo that
> ships with Lucene to show off its features and be usable more easily
> and cleanly out of the box - i.e. just drop into Tomcat's webapps
> directory and go.
>
> Does anyone have any suggestions on what they'd like to see in the demo
> app?  Some of my ideas are:
>
> - Eliminate the need to do a command-line indexing, let the web app do
> this upon command, allowing you to specify where the index lives (there
> will be a reasonable default like ~/lucenedemo/index perhaps) and what
> directory tree to index (perhaps defaulting to the root directory or
> c:\, or where instead?)
>
> - Spin off a background indexing thread so the web app searching is
> immediately useful after kicking off the indexing process, and allow a
> status view of the indexing progress.
>
> - Index text and HTML files.  Any others?  I don't want to get into
> putting too many dependencies in though - let's keep it relatively
> simple, although still demonstrative.  Allow search filtering by last
> modified date range and document type (extension).
>
> - Perhaps allow you to specify the analyzer to use when indexing.
>
> - Show the explanation of how scores are computed in the search results
> as an option.
>
> I'm all ears to possibilities of improvements!  Send your wishlist.
>
> Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


From blaplante@netwebapps.com  Wed Sep 17 13:31:58 2003
Return-Path: <blaplante@netwebapps.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60903 invoked from network); 17 Sep 2003 13:31:58 -0000
Received: from unknown (HELO netwebapps.com) (204.118.40.43)
  by daedalus.apache.org with SMTP; 17 Sep 2003 13:31:58 -0000
Received: from vincent [65.26.133.95] by netwebapps.com with ESMTP
  (SMTPD32-8.02) id A14B97FF002E; Wed, 17 Sep 2003 08:27:39 -0500
Message-ID: <001601c37d20$12bfefe0$5f851a41@vincent>
Reply-To: "Bryan LaPlante" <blaplante@netwebapps.com>
From: "Bryan LaPlante" <blaplante@netwebapps.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <8FFFA400-E906-11D7-91A6-000393A564E6@ehatchersolutions.com>
Subject: Re: Lucene demo ideas?
Date: Wed, 17 Sep 2003 08:31:59 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I would like to see the taglib for searching the index in the demo. There is
an html form page and result page already built for the taglib that allows
you to change search params and demonstrates a fair amount of the search
capability of Lucene.

----- Original Message -----
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: <lucene-user@jakarta.apache.org>
Sent: Wednesday, September 17, 2003 7:00 AM
Subject: Lucene demo ideas?


> I'm about to start some refactorings on the web application demo that
> ships with Lucene to show off its features and be usable more easily
> and cleanly out of the box - i.e. just drop into Tomcat's webapps
> directory and go.
>
> Does anyone have any suggestions on what they'd like to see in the demo
> app?  Some of my ideas are:
>
> - Eliminate the need to do a command-line indexing, let the web app do
> this upon command, allowing you to specify where the index lives (there
> will be a reasonable default like ~/lucenedemo/index perhaps) and what
> directory tree to index (perhaps defaulting to the root directory or
> c:\, or where instead?)
>
> - Spin off a background indexing thread so the web app searching is
> immediately useful after kicking off the indexing process, and allow a
> status view of the indexing progress.
>
> - Index text and HTML files.  Any others?  I don't want to get into
> putting too many dependencies in though - let's keep it relatively
> simple, although still demonstrative.  Allow search filtering by last
> modified date range and document type (extension).
>
> - Perhaps allow you to specify the analyzer to use when indexing.
>
> - Show the explanation of how scores are computed in the search results
> as an option.
>
> I'm all ears to possibilities of improvements!  Send your wishlist.
>
> Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


From RPITRE@shawmut.com  Wed Sep 17 13:53:56 2003
Return-Path: <RPITRE@shawmut.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7101 invoked from network); 17 Sep 2003 13:53:56 -0000
Received: from unknown (HELO xmail-out.shawmut.com) (64.214.98.15)
  by daedalus.apache.org with SMTP; 17 Sep 2003 13:53:56 -0000
Received: from SDC-MAIL1.shawmut.com ([192.168.100.3]) by xmail-out.shawmut.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Wed, 17 Sep 2003 09:53:57 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.0.6375.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Lucene demo ideas?
Date: Wed, 17 Sep 2003 09:21:06 -0400
Message-ID: <8BE2F173A6440740934EDD48016EC973260246@SDC-MAIL1.shawmut.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lucene demo ideas?
Thread-Index: AcN9E1W/MuiU/m48SZ29pGw3mXbDHAACwVuQ
From: "Pitre, Russell" <RPITRE@shawmut.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 17 Sep 2003 13:53:57.0531 (UTC) FILETIME=[23D9CEB0:01C37D23]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I know this may be far fetched, but how about being able to index
.jsp's....I know this is a spindle thing, but It seems a lot of people
need this functionality.....


My suggestion

Russ

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]=20
Sent: Wednesday, September 17, 2003 8:01 AM
To: lucene-user@jakarta.apache.org
Subject: Lucene demo ideas?

I'm about to start some refactorings on the web application demo that=20
ships with Lucene to show off its features and be usable more easily=20
and cleanly out of the box - i.e. just drop into Tomcat's webapps=20
directory and go.

Does anyone have any suggestions on what they'd like to see in the demo=20
app?  Some of my ideas are:

- Eliminate the need to do a command-line indexing, let the web app do=20
this upon command, allowing you to specify where the index lives (there=20
will be a reasonable default like ~/lucenedemo/index perhaps) and what=20
directory tree to index (perhaps defaulting to the root directory or=20
c:\, or where instead?)

- Spin off a background indexing thread so the web app searching is=20
immediately useful after kicking off the indexing process, and allow a=20
status view of the indexing progress.

- Index text and HTML files.  Any others?  I don't want to get into=20
putting too many dependencies in though - let's keep it relatively=20
simple, although still demonstrative.  Allow search filtering by last=20
modified date range and document type (extension).

- Perhaps allow you to specify the analyzer to use when indexing.

- Show the explanation of how scores are computed in the search results=20
as an option.

I'm all ears to possibilities of improvements!  Send your wishlist.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From tom.killeen@thomson.com  Wed Sep 17 14:00:59 2003
Return-Path: <tom.killeen@thomson.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37398 invoked from network); 17 Sep 2003 14:00:59 -0000
Received: from unknown (HELO mailao.westgroup.com) (167.68.1.71)
  by daedalus.apache.org with SMTP; 17 Sep 2003 14:00:59 -0000
Received: from morton.int.westgroup.com (localhost.localdomain [127.0.0.1])
	by mailao.westgroup.com (8.12.9/8.12.9) with ESMTP id h8HE11po029129
	for <lucene-user@jakarta.apache.org>; Wed, 17 Sep 2003 09:01:01 -0500
Received: from eg-msgimc-a03.int.westgroup.com (eg-msgimc-a03.int.westgroup.com [163.231.102.184])
	by morton.int.westgroup.com (8.12.9/8.12.9) with ESMTP id h8HE10Fg029119
	for <lucene-user@jakarta.apache.org>; Wed, 17 Sep 2003 09:01:01 -0500
Received: by eg-msgimc-a03.int.westgroup.com with Internet Mail Service (5.5.2656.59)
	id <S5DJLGC8>; Wed, 17 Sep 2003 09:01:00 -0500
Message-ID: <3FB41459B6CCD61196290006298F1F1D4882A9@eg-msgmbx-a02.int.westgroup.com>
From: "Killeen, Tom" <tom.killeen@thomson.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: slow performance with Date Range Searching
Date: Wed, 17 Sep 2003 09:00:53 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2656.59)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello all, 

I have recently indexed approx 15.8 million XML documents in which I index
the contents certain elements (titles, states, dates to name a few).  I have
27 separate indices and use a MultiSearcher to search these indices.  

When I search on the title and state fields with multiple terms searching is
very fast.  For example I get a hit count of 227, 000 in .4 seconds.  But
when I throw a date range in the search, performance suffers significantly.


My query would look something like this: LongTitle:killeen AND
LongTitle:state AND StateDistrict:id AND FiledDate:["1997-01-01" TO
"2002-04-04"] and it returned in 
5.7 seconds


Does anyone have any suggestions for searching date ranges.  Our ranges will
generally be between a 3 - 7 year period.

thanks, 
Tom

From rob@koberg.com  Wed Sep 17 14:09:38 2003
Return-Path: <rob@koberg.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65584 invoked from network); 17 Sep 2003 14:09:38 -0000
Received: from unknown (HELO server1.livestoryboard.com) (209.61.132.12)
  by daedalus.apache.org with SMTP; 17 Sep 2003 14:09:38 -0000
Received: from lsbws (adsl-64-173-57-78.dsl.snfc21.pacbell.net [64.173.57.78])
	(authenticated)
	by server1.livestoryboard.com (8.11.6/8.11.6) with ESMTP id h8HE9kB32303
	for <lucene-user@jakarta.apache.org>; Wed, 17 Sep 2003 09:09:46 -0500
Message-Id: <200309171409.h8HE9kB32303@server1.livestoryboard.com>
From: "Robert Koberg" <rob@koberg.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Lucene demo ideas?
Date: Wed, 17 Sep 2003 07:09:41 -0700
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook, Build 11.0.4920
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <F6030210-E90F-11D7-87C1-000393A564E6@ehatchersolutions.com>
Thread-Index: AcN9HMEs9BwVs8JFSYKUaM8Y8QD0/gAB8RDQ
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

Here are a couple of ideas for XML demos:

1. simply index the content into one 'content' field. Don't worry about
attributes.

2. index a linked Dublin core meta data file:
<link rel="meta" href="index.rdf" />
And add fields for every element after rdf:Description

Best,
-Rob



> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: Wednesday, September 17, 2003 6:08 AM
> To: Lucene Users List
> 
> On Wednesday, September 17, 2003, at 08:43  AM, Killeen, Tom wrote:
> > I would suggest XML as well.
> 
> Again, I'd like to hear more about how you'd do this generically.  Tell
> me what the field names and values would correspond to when presented
> with an XML file.
> 
> 	Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From dquaroni@OPENRATINGS.com  Wed Sep 17 14:16:49 2003
Return-Path: <dquaroni@OPENRATINGS.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91701 invoked from network); 17 Sep 2003 14:16:49 -0000
Received: from unknown (HELO exchange.hq.openratings.com) (141.149.165.226)
  by daedalus.apache.org with SMTP; 17 Sep 2003 14:16:49 -0000
Received: by exchange.hq.openratings.com with Internet Mail Service (5.5.2655.55)
	id <SWM1C776>; Wed, 17 Sep 2003 10:16:50 -0400
Message-ID: <4A46E75D51A2D5119F2A00B0D03D7F0901C67D2A@exchange.hq.openratings.com>
From: Dan Quaroni <dquaroni@OPENRATINGS.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: slow performance with Date Range Searching
Date: Wed, 17 Sep 2003 10:16:49 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I don't know how lucene handles date ranges, but I was having very poor
results using booleans between different because of the way lucene handles
them.  What lucene does is that it evaluates each field in the query
separately and retrieves all of the results, then it evaluates the boolean
joins between the different fields.

So I believe the way lucene is handling the query is:

Get all the documents whose LongTitle has killeen in them
Get all the documents whose LongTitle has state in them
Get all the documents whose StateDistrict has id in them
Get all the documents filed between 1997-01-01 and 2002-04-04

(This, incidently, takes up a huge amount of memory)

Finally, it evaluates the booleans figures out which documents satisfy all
of your criteria and returns that to you.


I'm working on a matching engine that takes company information like their
name and address and finds our record for that company.  I ended up making a
separate index for every state and country because it was running too slow
and running out of memory when I was using booleans between fields. 

Maybe you could do something similar with your dates.  (i.e. one index per
year)


-----Original Message-----
From: Killeen, Tom [mailto:tom.killeen@thomson.com]
Sent: Wednesday, September 17, 2003 10:01 AM
To: 'Lucene Users List'
Subject: slow performance with Date Range Searching


Hello all, 

I have recently indexed approx 15.8 million XML documents in which I index
the contents certain elements (titles, states, dates to name a few).  I have
27 separate indices and use a MultiSearcher to search these indices.  

When I search on the title and state fields with multiple terms searching is
very fast.  For example I get a hit count of 227, 000 in .4 seconds.  But
when I throw a date range in the search, performance suffers significantly.


My query would look something like this: LongTitle:killeen AND
LongTitle:state AND StateDistrict:id AND FiledDate:["1997-01-01" TO
"2002-04-04"] and it returned in 
5.7 seconds


Does anyone have any suggestions for searching date ranges.  Our ranges will
generally be between a 3 - 7 year period.

thanks, 
Tom

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

From Rene.Hackl@FIZ-Karlsruhe.DE  Wed Sep 17 14:22:40 2003
Return-Path: <Rene.Hackl@FIZ-Karlsruhe.DE>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2983 invoked from network); 17 Sep 2003 14:22:40 -0000
Received: from unknown (HELO fsd1.FIZ-Karlsruhe.DE) (141.66.18.51)
  by daedalus.apache.org with SMTP; 17 Sep 2003 14:22:40 -0000
Received: from A27swork.FIZ-Karlsruhe.DE (a27swork.fiz-karlsruhe.de [141.66.16.39])
	by fsd1.FIZ-Karlsruhe.DE (8.12.9/8.12.9) with ESMTP id h8HELUY8013278
	for <lucene-user@jakarta.apache.org>; Wed, 17 Sep 2003 16:21:30 +0200 (MEST)
Received: from pc.fiz-karlsruhe.de ([141.66.16.9])
	by A27swork.FIZ-Karlsruhe.DE (8.9.3/8.9.3) with ESMTP id QAA05456
	for <lucene-user@jakarta.apache.org>; Wed, 17 Sep 2003 16:21:32 +0200 (MET DST)
Received: by pc.fiz-karlsruhe.de with Internet Mail Service (5.5.2653.19)
	id <SX1DVW3G>; Wed, 17 Sep 2003 16:20:52 +0200
Message-ID: <41EA24EC431CD411AA8200008385014F05881ABF@pc.fiz-karlsruhe.de>
From: "Hackl, Rene" <Rene.Hackl@FIZ-Karlsruhe.DE>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: wildcard search and german umlauts
Date: Wed, 17 Sep 2003 16:20:51 +0200
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi All,

has someone ever written an extension of QueryParser providing the
possibility to let wildcard search terms be run through an analyzer ( =
as
suggested by Tatu Saloranta a while ago)? I want to reduce german =
umlauts to
their base letters (eg. '=E4' (&auml;) to 'a' ) and for non-wildcard =
queries
my UmlautFilter does its job. Or is there any other option?

Many thanks,
Ren=E9

From Eric.Jain@isb-sib.ch  Wed Sep 17 14:23:34 2003
Return-Path: <Eric.Jain@isb-sib.ch>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8086 invoked from network); 17 Sep 2003 14:23:34 -0000
Received: from unknown (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
  by daedalus.apache.org with SMTP; 17 Sep 2003 14:23:34 -0000
Received: from caliente (router.isb-sib.ch [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.8p1/8.12.8) with ESMTP id h8HENT05016803
	for <lucene-user@jakarta.apache.org>; Wed, 17 Sep 2003 16:23:29 +0200
Message-ID: <000f01c37d27$4bb426c0$c300000a@caliente>
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <3FB41459B6CCD61196290006298F1F1D4882A9@eg-msgmbx-a02.int.westgroup.com>
Subject: Re: slow performance with Date Range Searching
Date: Wed, 17 Sep 2003 16:23:42 +0200
Organization: Swiss Institute of Bioinformatics
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-sib-MailScanner-Information: Please contact the ISP for more information
X-sib-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> Does anyone have any suggestions for searching date ranges.  Our
> ranges will generally be between a 3 - 7 year period.

Apparently Lucene expands ranges to boolean 'or' queries. So if you have
a thousand distinct dates within a range, Lucene will build a query with
a thousand terms...

One workaround is to first run the query, but without ranges. Store the
results into a bit vector with the position corresponding to the
document id. Then create a TermEnum that starts with the lower range
value. For each term, get the document ids, and set the corresponding
values in a second bit vector. Break the loop as soon as the TermEnum
has reached or passed the upper limit of the range. Finally, 'and' or
'or' the second bit vector with the first one. It's as simple as that
:-)

I wonder why Lucene doesn't use this strategy by default. I realize it
is less efficient when the range includes few terms, but it seems to
scale far better.

--
Eric Jain


From Eric.Jain@isb-sib.ch  Wed Sep 17 14:43:45 2003
Return-Path: <Eric.Jain@isb-sib.ch>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49466 invoked from network); 17 Sep 2003 14:43:45 -0000
Received: from unknown (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
  by daedalus.apache.org with SMTP; 17 Sep 2003 14:43:45 -0000
Received: from caliente (router.isb-sib.ch [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.8p1/8.12.8) with ESMTP id h8HEhj05017617
	for <lucene-user@jakarta.apache.org>; Wed, 17 Sep 2003 16:43:45 +0200
Message-ID: <003f01c37d2a$209749b0$c300000a@caliente>
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <8FFFA400-E906-11D7-91A6-000393A564E6@ehatchersolutions.com>
Subject: Re: Lucene demo ideas?
Date: Wed, 17 Sep 2003 16:43:58 +0200
Organization: Swiss Institute of Bioinformatics
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-sib-MailScanner-Information: Please contact the ISP for more information
X-sib-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> Does anyone have any suggestions on what they'd like to see in the
> demo app?

Show how lucene can 1) do incremental indexing, 2) isn't restricted to
indexing file system resources and 3) can store and query arbitrary
fields. These are in my opinion the features where most other search
engines fall flat.

--
Eric Jain


From hui@triplehop.com  Wed Sep 17 15:03:13 2003
Return-Path: <hui@triplehop.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 86941 invoked from network); 17 Sep 2003 15:03:13 -0000
Received: from unknown (HELO germany.prod.thop-ny.triplehop.com) (216.74.150.80)
  by daedalus.apache.org with SMTP; 17 Sep 2003 15:03:13 -0000
Received: from hui2000 ([208.246.29.6]) by germany.prod.thop-ny.triplehop.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Wed, 17 Sep 2003 11:08:21 -0400
Message-ID: <013f01c37d2c$e0e08770$9e0010ac@thopny.triplehop.com>
From: "hui" <hui@triplehop.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <200309171409.h8HE9kB32303@server1.livestoryboard.com>
Subject: Re: Lucene demo ideas?
Date: Wed, 17 Sep 2003 11:03:40 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-OriginalArrivalTime: 17 Sep 2003 15:08:21.0312 (UTC) FILETIME=[8878BC00:01C37D2D]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I think all the attribute values together with element text values should be
indexed in the "content" part. Also a xml map file could be used to pick up
the nodes need to be indexed separately so we do not create too many fields
by indexing non-critical nodes separately. Simple xpath could be used for
the map source, the field name and index type should be the map target.

Regards,
Hui

----- Original Message ----- 
From: "Robert Koberg" <rob@koberg.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Sent: Wednesday, September 17, 2003 10:09 AM
Subject: RE: Lucene demo ideas?


> Hi,
>
> Here are a couple of ideas for XML demos:
>
> 1. simply index the content into one 'content' field. Don't worry about
> attributes.
>
> 2. index a linked Dublin core meta data file:
> <link rel="meta" href="index.rdf" />
> And add fields for every element after rdf:Description
>
> Best,
> -Rob
>
>
>
> > -----Original Message-----
> > From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> > Sent: Wednesday, September 17, 2003 6:08 AM
> > To: Lucene Users List
> >
> > On Wednesday, September 17, 2003, at 08:43  AM, Killeen, Tom wrote:
> > > I would suggest XML as well.
> >
> > Again, I'd like to hear more about how you'd do this generically.  Tell
> > me what the field names and values would correspond to when presented
> > with an XML file.
> >
> > Erik
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


From ab@getopt.org  Wed Sep 17 15:10:19 2003
Return-Path: <ab@getopt.org>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 447 invoked from network); 17 Sep 2003 15:10:19 -0000
Received: from unknown (HELO mail.ampiro.com) (80.252.165.66)
  by daedalus.apache.org with SMTP; 17 Sep 2003 15:10:19 -0000
Received: from getopt.org (unknown [192.168.10.62])
	by mail.ampiro.com (Postfix) with ESMTP id 404EC5D10
	for <lucene-user@jakarta.apache.org>; Wed, 17 Sep 2003 17:44:56 +0200 (CEST)
Message-ID: <3F687959.10205@getopt.org>
Date: Wed, 17 Sep 2003 17:10:17 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene demo ideas?
References: <D7F4F0B8-E90F-11D7-87C1-000393A564E6@ehatchersolutions.com>
In-Reply-To: <D7F4F0B8-E90F-11D7-87C1-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Erik Hatcher wrote:
> On Wednesday, September 17, 2003, at 08:42  AM, Ben Litchfield wrote:
> 
>> What, no PDF files!!
> 
> 
> Haha!
> 
>> http://www.pdfbox.org
> 
> 
> And I've used pdfbox before - its cool.
> 
> And I'm cool with adding PDF and Word indexing to the demo personally, 
> but I didn't want to increase the "weight" of the demo application.  If 
> folks feel strongly about it then I'll incorporate it.

A word of warning: PDFBox is fantastic, I agree - but some PDFs are not 
so... In my application I experienced numerous hangs when PDFBox would 
start parsing some PDFs (I can send the files to Ben if required), and 
then got stuck in an infinite wait somewhere... So I came up with a 
workaround: I run the parser in a separate thread, while waiting in the 
main thread, and then after a certain timeout I kill the processing 
thread and return.

-- 
Best regards,
Andrzej Bialecki

-------------------------------------------------
Software Architect, System Integration Specialist
CEN/ISSS EC Workshop, ECIMF project chair
EU FP6 E-Commerce Expert/Evaluator
-------------------------------------------------
FreeBSD developer (http://www.freebsd.org)




From erik@ehatchersolutions.com  Wed Sep 17 15:39:02 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65926 invoked from network); 17 Sep 2003 15:39:02 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 17 Sep 2003 15:39:02 -0000
Received: (cpmta 14685 invoked from network); 17 Sep 2003 08:39:04 -0700
Received: from 128.143.184.61 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 17 Sep 2003 08:39:04 -0700
X-Sent: 17 Sep 2003 15:39:04 GMT
Date: Wed, 17 Sep 2003 11:39:01 -0400
Subject: Re: Lucene demo ideas?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <001601c37d20$12bfefe0$5f851a41@vincent>
Message-Id: <0F9DF664-E925-11D7-87C1-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Wednesday, September 17, 2003, at 09:31  AM, Bryan LaPlante wrote:
> I would like to see the taglib for searching the index in the demo. 
> There is
> an html form page and result page already built for the taglib that 
> allows
> you to change search params and demonstrates a fair amount of the 
> search
> capability of Lucene.

Bryan, no offense... but I won't be using the taglib in the demo.  I 
just don't feel accessing a Lucene index via a taglib is the right way 
to do things.  Coupling an index to JSP in that manner is too tight for 
my tastes.  What happens if you want to use Velocity for presentation?  
Or a Swing app?  See what I mean?

	Erik


From erik@ehatchersolutions.com  Wed Sep 17 15:41:51 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71602 invoked from network); 17 Sep 2003 15:41:51 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.66)
  by daedalus.apache.org with SMTP; 17 Sep 2003 15:41:51 -0000
Received: (cpmta 13725 invoked from network); 17 Sep 2003 08:41:53 -0700
Received: from 128.143.184.61 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.66) with SMTP; 17 Sep 2003 08:41:53 -0700
X-Sent: 17 Sep 2003 15:41:53 GMT
Date: Wed, 17 Sep 2003 11:41:48 -0400
Subject: Re: Lucene demo ideas?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <8BE2F173A6440740934EDD48016EC973260246@SDC-MAIL1.shawmut.com>
Message-Id: <72F0C6E6-E925-11D7-87C1-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Wednesday, September 17, 2003, at 09:21  AM, Pitre, Russell wrote:
> I know this may be far fetched, but how about being able to index
> .jsp's....I know this is a spindle thing, but It seems a lot of people
> need this functionality.....

Like I communicated in a previous thread, indexing JSP's just has a 
"smell" to it for me.  I can't argue with the pragmatic way others have 
done it by crawling, but I don't think of JSP's as "content" and I'd 
rather index actual content, that may or may not be later presented 
within a JSP.

	Erik


From cutting@lucene.com  Wed Sep 17 15:58:09 2003
Return-Path: <cutting@lucene.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98416 invoked from network); 17 Sep 2003 15:58:09 -0000
Received: from unknown (HELO mailshell.com) (209.157.66.249)
  by daedalus.apache.org with SMTP; 17 Sep 2003 15:58:09 -0000
Received: (qmail 18220 invoked from network); 17 Sep 2003 15:57:13 -0000
Received: from unknown (HELO lucene.com) (dcutting@grandcentral.com@12.210.200.74)
  by mail.mailshell.com with SMTP; 17 Sep 2003 15:57:13 -0000
Message-ID: <3F688452.9070309@lucene.com>
Date: Wed, 17 Sep 2003 08:57:06 -0700
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030701
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: slow performance with Date Range Searching
References: <3FB41459B6CCD61196290006298F1F1D4882A9@eg-msgmbx-a02.int.westgroup.com>
In-Reply-To: <3FB41459B6CCD61196290006298F1F1D4882A9@eg-msgmbx-a02.int.westgroup.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Killeen, Tom wrote:
> My query would look something like this: LongTitle:killeen AND
> LongTitle:state AND StateDistrict:id AND FiledDate:["1997-01-01" TO
> "2002-04-04"] and it returned in 
> 5.7 seconds
> 
> Does anyone have any suggestions for searching date ranges.  Our ranges will
> generally be between a 3 - 7 year period.

If you use the same date range repeatedly then you can make things fast 
by replacing it with a filter that you re-use.  Try using a QueryFilter 
with your date range query as the query.  Save the QueryFilter object 
and use it again with future queries.  The first query will be slow, but 
subsequent queries will use the cached results of the first.

This is the recommended way to implement a "within the last month", 
"within the last year", etc. feature.  You could even pre-fetch the 
filter whenever you update the index, by evaluating a query before you 
put a new IndexReader in production, so that even the first real user 
query is fast.

Doug


From jeff@greenninja.com  Wed Sep 17 16:14:06 2003
Return-Path: <jeff@greenninja.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22988 invoked from network); 17 Sep 2003 16:14:06 -0000
Received: from unknown (HELO mtaw6.prodigy.net) (64.164.98.56)
  by daedalus.apache.org with SMTP; 17 Sep 2003 16:14:06 -0000
Received: from charliebrown (adsl-64-123-5-217.cc-austin.com [64.123.5.217] (may be forged))
	by mtaw6.prodigy.net (8.12.9/8.12.3) with SMTP id h8HGDq7Q002748
	for <lucene-user@jakarta.apache.org>; Wed, 17 Sep 2003 09:13:56 -0700 (PDT)
Message-ID: <023301c37d36$fcc87f10$7a01a8c0@charliebrown>
From: "Jeff Linwood" <jeff@greenninja.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <8FFFA400-E906-11D7-91A6-000393A564E6@ehatchersolutions.com>
Subject: Re: Lucene demo ideas?
Date: Wed, 17 Sep 2003 11:15:57 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Paging would be great for the results.

Jeff
----- Original Message ----- 
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: <lucene-user@jakarta.apache.org>
Sent: Wednesday, September 17, 2003 7:00 AM
Subject: Lucene demo ideas?


> I'm about to start some refactorings on the web application demo that 
> ships with Lucene to show off its features and be usable more easily 
> and cleanly out of the box - i.e. just drop into Tomcat's webapps 
> directory and go.
> 
> Does anyone have any suggestions on what they'd like to see in the demo 
> app?  Some of my ideas are:
> 
> - Eliminate the need to do a command-line indexing, let the web app do 
> this upon command, allowing you to specify where the index lives (there 
> will be a reasonable default like ~/lucenedemo/index perhaps) and what 
> directory tree to index (perhaps defaulting to the root directory or 
> c:\, or where instead?)
> 
> - Spin off a background indexing thread so the web app searching is 
> immediately useful after kicking off the indexing process, and allow a 
> status view of the indexing progress.
> 
> - Index text and HTML files.  Any others?  I don't want to get into 
> putting too many dependencies in though - let's keep it relatively 
> simple, although still demonstrative.  Allow search filtering by last 
> modified date range and document type (extension).
> 
> - Perhaps allow you to specify the analyzer to use when indexing.
> 
> - Show the explanation of how scores are computed in the search results 
> as an option.
> 
> I'm all ears to possibilities of improvements!  Send your wishlist.
> 
> Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 

From erik@ehatchersolutions.com  Wed Sep 17 16:14:56 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23979 invoked from network); 17 Sep 2003 16:14:56 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.72)
  by daedalus.apache.org with SMTP; 17 Sep 2003 16:14:56 -0000
Received: (cpmta 6403 invoked from network); 17 Sep 2003 09:14:58 -0700
Received: from 128.143.184.61 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.72) with SMTP; 17 Sep 2003 09:14:58 -0700
X-Sent: 17 Sep 2003 16:14:58 GMT
Date: Wed, 17 Sep 2003 12:14:55 -0400
Subject: Re: slow performance with Date Range Searching
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3F688452.9070309@lucene.com>
Message-Id: <13A2257A-E92A-11D7-87C1-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

And with the latest Lucene codebase in CVS, you could also use a 
DateFilter wrapped inside a CachingWrapperFilter instead of a 
QueryFilter.  Just wanted to mention what is now available.

But I'll reiterate what Doug says... be sure to save off the filter 
instance so you don't take the filtering performance hit for the same 
date ranges on later searches.

	Erik


On Wednesday, September 17, 2003, at 11:57  AM, Doug Cutting wrote:

> Killeen, Tom wrote:
>> My query would look something like this: LongTitle:killeen AND
>> LongTitle:state AND StateDistrict:id AND FiledDate:["1997-01-01" TO
>> "2002-04-04"] and it returned in 5.7 seconds
>> Does anyone have any suggestions for searching date ranges.  Our 
>> ranges will
>> generally be between a 3 - 7 year period.
>
> If you use the same date range repeatedly then you can make things 
> fast by replacing it with a filter that you re-use.  Try using a 
> QueryFilter with your date range query as the query.  Save the 
> QueryFilter object and use it again with future queries.  The first 
> query will be slow, but subsequent queries will use the cached results 
> of the first.
>
> This is the recommended way to implement a "within the last month", 
> "within the last year", etc. feature.  You could even pre-fetch the 
> filter whenever you update the index, by evaluating a query before you 
> put a new IndexReader in production, so that even the first real user 
> query is fast.
>
> Doug
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From terry@net-frame.com  Wed Sep 17 19:33:35 2003
Return-Path: <terry@net-frame.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80627 invoked from network); 17 Sep 2003 19:33:35 -0000
Received: from unknown (HELO granger.mail.mindspring.net) (207.69.200.148)
  by daedalus.apache.org with SMTP; 17 Sep 2003 19:33:35 -0000
Received: from h-66-167-233-113.mclnva23.covad.net ([66.167.233.113] helo=POWERPACK)
	by granger.mail.mindspring.net with smtp (Exim 3.33 #1)
	id 19zi3W-0003qS-00
	for lucene-user@jakarta.apache.org; Wed, 17 Sep 2003 15:33:38 -0400
Message-ID: <00ce01c37d52$98132e50$0401a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users Group" <lucene-user@jakarta.apache.org>
Subject: Lucene Scoring Behavior
Date: Wed, 17 Sep 2003 15:33:38 -0400
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_00CB_01C37D31.10B08820"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_00CB_01C37D31.10B08820
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I've run across some puzzling behavior regarding scoring.  I have a set =
of documents which contain, among others, a date field (whose contents =
is a string in the YYYYMMDD format).  When I query on the date 20030917 =
(that is, today), I get 157 hits, all of which have a score of =
.23000652.  If I use 20030916 (yesterday), I get 197 hits, each of which =
has a score of .22295427.

So far, all seems logical.  However, when I search for all records for =
the date 20030915, the first two (of 174 hits) have a score of 1.0, =
while all the rest of the hits have a score of .03125.  Here is a =
tabulation of these and a few more queries:

Query Date      Result
=3D=3D=3D=3D=3D=3D=3D        =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
20030917        all have a score of .23000652 (157)
20030916        all have a score of .22295427 (197)
20030915        first 2 have a 1.0 score, all rest are .03125 (174)
20030914        all have a score of .21384604 (264)
20030913        first 2 have a 1.0 score, all rest are .03125 (156)
20030912        all have a score .2166833 (241)
20030911        first 3 have a 1.0 score, all rest are .03125 (244)
20030910        all have a score of  .2208193 (211)

I would expect that all the hits would have the same score, and I would =
expect it to be normalized to 1 (unless, I guess, the top score was less =
than 1, in which case normalization presumably doesn't occur). =20

Does anyone have any ideas as to what might be going on here?  (I'm =
using the latest CVS sources, obtained this afternoon.)

Regards,

Terry

------=_NextPart_000_00CB_01C37D31.10B08820--


From erik@ehatchersolutions.com  Wed Sep 17 19:46:49 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99163 invoked from network); 17 Sep 2003 19:46:49 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.72)
  by daedalus.apache.org with SMTP; 17 Sep 2003 19:46:49 -0000
Received: (cpmta 15285 invoked from network); 17 Sep 2003 12:46:51 -0700
Received: from 128.143.184.61 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.72) with SMTP; 17 Sep 2003 12:46:51 -0700
X-Sent: 17 Sep 2003 19:46:51 GMT
Date: Wed, 17 Sep 2003 15:46:48 -0400
Subject: Re: Lucene Scoring Behavior
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <00ce01c37d52$98132e50$0401a8c0@POWERPACK>
Message-Id: <ACE022EE-E947-11D7-87C1-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Try using IndexSearcher.explain and dump out the contents of what it 
returns either as toString or toHtml (whichever format suits your 
environment best) and see what it has to say.  It'll give you the 
low-down on the factors involved in the score calculation.  I'm 
interested to see what you come up with.

	Erik


On Wednesday, September 17, 2003, at 03:33  PM, Terry Steichen wrote:

> I've run across some puzzling behavior regarding scoring.  I have a 
> set of documents which contain, among others, a date field (whose 
> contents is a string in the YYYYMMDD format).  When I query on the 
> date 20030917 (that is, today), I get 157 hits, all of which have a 
> score of .23000652.  If I use 20030916 (yesterday), I get 197 hits, 
> each of which has a score of .22295427.
>
> So far, all seems logical.  However, when I search for all records for 
> the date 20030915, the first two (of 174 hits) have a score of 1.0, 
> while all the rest of the hits have a score of .03125.  Here is a 
> tabulation of these and a few more queries:
>
> Query Date      Result
> =======        ========================
> 20030917        all have a score of .23000652 (157)
> 20030916        all have a score of .22295427 (197)
> 20030915        first 2 have a 1.0 score, all rest are .03125 (174)
> 20030914        all have a score of .21384604 (264)
> 20030913        first 2 have a 1.0 score, all rest are .03125 (156)
> 20030912        all have a score .2166833 (241)
> 20030911        first 3 have a 1.0 score, all rest are .03125 (244)
> 20030910        all have a score of  .2208193 (211)
>
> I would expect that all the hits would have the same score, and I 
> would expect it to be normalized to 1 (unless, I guess, the top score 
> was less than 1, in which case normalization presumably doesn't > occur).
>
> Does anyone have any ideas as to what might be going on here?  (I'm 
> using the latest CVS sources, obtained this afternoon.)
>
> Regards,
>
> Terry


From cutting@lucene.com  Wed Sep 17 20:55:51 2003
Return-Path: <cutting@lucene.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16714 invoked from network); 17 Sep 2003 20:55:51 -0000
Received: from unknown (HELO mailshell.com) (209.157.66.247)
  by daedalus.apache.org with SMTP; 17 Sep 2003 20:55:51 -0000
Received: (qmail 475 invoked from network); 17 Sep 2003 20:55:56 -0000
Received: from unknown (HELO lucene.com) (dcutting@grandcentral.com@12.210.200.74)
  by mail.mailshell.com with SMTP; 17 Sep 2003 20:55:56 -0000
Message-ID: <3F68CA57.2000000@lucene.com>
Date: Wed, 17 Sep 2003 13:55:51 -0700
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030701
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene Scoring Behavior
References: <00ce01c37d52$98132e50$0401a8c0@POWERPACK>
In-Reply-To: <00ce01c37d52$98132e50$0401a8c0@POWERPACK>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

If you're using RangeQuery to do date searching, then you'll likely see 
unusual scoring.  The IDF of a date, like any other term, is inversely 
related to the number of documents with that date.  So documents whose 
dates are rare will score higher, which is probably not what you intend.

Using a Filter for date searching is one way to remove dates from the 
scoring calculation.  Another is to provide a Similarity implementation 
that gives an IDF of 1.0 for terms from your date field, e.g., something 
like:

public class MySimilarity extends DefaultSimilarity {
   public float idf(Term term, Searcher searcher) throws IOException {
     if (term.field() == "date") {
       return 1.0f;
     } else {
       return super.idf(term, searcher);
     }
   }
}

Or you could just give date clauses of your query a very small boost 
(e.g., .0001) so that other clauses dominate the scoring.

Doug

Terry Steichen wrote:
> I've run across some puzzling behavior regarding scoring.  I have a set of documents which contain, among others, a date field (whose contents is a string in the YYYYMMDD format).  When I query on the date 20030917 (that is, today), I get 157 hits, all of which have a score of .23000652.  If I use 20030916 (yesterday), I get 197 hits, each of which has a score of .22295427.
> 
> So far, all seems logical.  However, when I search for all records for the date 20030915, the first two (of 174 hits) have a score of 1.0, while all the rest of the hits have a score of .03125.  Here is a tabulation of these and a few more queries:
> 
> Query Date      Result
> =======        ========================
> 20030917        all have a score of .23000652 (157)
> 20030916        all have a score of .22295427 (197)
> 20030915        first 2 have a 1.0 score, all rest are .03125 (174)
> 20030914        all have a score of .21384604 (264)
> 20030913        first 2 have a 1.0 score, all rest are .03125 (156)
> 20030912        all have a score .2166833 (241)
> 20030911        first 3 have a 1.0 score, all rest are .03125 (244)
> 20030910        all have a score of  .2208193 (211)
> 
> I would expect that all the hits would have the same score, and I would expect it to be normalized to 1 (unless, I guess, the top score was less than 1, in which case normalization presumably doesn't occur).  
> 
> Does anyone have any ideas as to what might be going on here?  (I'm using the latest CVS sources, obtained this afternoon.)
> 
> Regards,
> 
> Terry
> 


From terry@net-frame.com  Wed Sep 17 21:33:39 2003
Return-Path: <terry@net-frame.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62833 invoked from network); 17 Sep 2003 21:33:39 -0000
Received: from unknown (HELO granger.mail.mindspring.net) (207.69.200.148)
  by daedalus.apache.org with SMTP; 17 Sep 2003 21:33:39 -0000
Received: from h-66-167-233-113.mclnva23.covad.net ([66.167.233.113] helo=POWERPACK)
	by granger.mail.mindspring.net with smtp (Exim 3.33 #1)
	id 19zjvl-0000Z6-00
	for lucene-user@jakarta.apache.org; Wed, 17 Sep 2003 17:33:45 -0400
Message-ID: <00eb01c37d63$60106f70$0401a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <00ce01c37d52$98132e50$0401a8c0@POWERPACK> <3F68CA57.2000000@lucene.com>
Subject: Re: Lucene Scoring Behavior
Date: Wed, 17 Sep 2003 17:33:45 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Doug/Erik,

I do use RangeQuery to get a range of dates, but in this case I'm just
getting a single date (string), so I believe it's just a regular query I'm
using.

Per Erik's suggestion, I checked out the Explanation for some of these
anomolies.  I've included a condensation of the data it generated below
(which I don't frankly don't understand).  Perhaps that will give you or
Erik some insight into what's happening?

Regards,

Terry

PS: I note that the 'docFreq' parameters displayed below correspond exactly
to the number of hits for the query.  Also, here's the Similarity class I'm
using (per an earlier suggestion of Doug):

public class WESimilarity2 extends
org.apache.lucene.search.DefaultSimilarity {

 public float lengthNorm(String fieldName, int numTerms) {
  if (fieldName.equals("headline") || fieldName.equals("summary") ||
fieldName.equals("ssummary")){
   return 4.0f * super.lengthNorm(fieldName, Math.max(numTerms,750));
  } else {
   return super.lengthNorm(fieldName, Math.max(numTerms, 750));
  }
 }
}




Query #1: pub_date:20030917
All items: Score: .23000652
0.23000652 = weight(pub_date:20030917 in 91197), product of:
  0.99999994 = queryWeight(pub_date:20030917), product of:
    7.360209 = idf(docFreq=157)
    0.1358657 = queryNorm
  0.23000653 = fieldWeight(pub_date:20030917 in 91197), product of:
    1.0 = tf(termFreq(pub_date:20030917)=1)
    7.360209 = idf(docFreq=157)
    0.03125 = fieldNorm(field=pub_date, doc=91197)

Query #2: pub_date:20030916
All items: Score: .22295427
0.22295427 = fieldWeight(pub_date:20030916 in 90992), product of:
  1.0 = tf(termFreq(pub_date:20030916)=1)
  7.1345367 = idf(docFreq=197)
  0.03125 = fieldNorm(field=pub_date, doc=90992)


Query #3: pub_date:20030915
Items 1&2: Score: 1.0
7.2580175 = weight(pub_date:20030915 in 90970), product of:
  0.99999994 = queryWeight(pub_date:20030915), product of:
    7.258018 = idf(docFreq=174)
    0.13777865 = queryNorm
  7.258018 = fieldWeight(pub_date:20030915 in 90970), product of:
    1.0 = tf(termFreq(pub_date:20030915)=1)
    7.258018 = idf(docFreq=174)
    1.0 = fieldNorm(field=pub_date, doc=90970)

Query #3 (same as above): pub_date:20030915
Other items: Score: 03125
0.22681305 = weight(pub_date:20030915 in 90826), product of:
  0.99999994 = queryWeight(pub_date:20030915), product of:
    7.258018 = idf(docFreq=174)
    0.13777865 = queryNorm
  0.22681306 = fieldWeight(pub_date:20030915 in 90826), product of:
    1.0 = tf(termFreq(pub_date:20030915)=1)
    7.258018 = idf(docFreq=174)
    0.03125 = fieldNorm(field=pub_date, doc=90826)

Query #4: pub_date:20030914
0.21384604 = weight(pub_date:20030914 in 90417), product of:
  0.99999994 = queryWeight(pub_date:20030914), product of:
    6.843074 = idf(docFreq=264)
    0.14613315 = queryNorm
  0.21384606 = fieldWeight(pub_date:20030914 in 90417), product of:
    1.0 = tf(termFreq(pub_date:20030914)=1)
    6.843074 = idf(docFreq=264)
    0.03125 = fieldNorm(field=pub_date, doc=90417)

Query #5: pub_date 20030913
Items 1&2: Score: 1.0
7.366558 = fieldWeight(pub_date:20030913 in 90591), product of:
  1.0 = tf(termFreq(pub_date:20030913)=1)
  7.366558 = idf(docFreq=156)
  1.0 = fieldNorm(field=pub_date, doc=90591)

Query #5 (same as above): pub_date:20030913
Other items: Score: .03125
0.23020494 = fieldWeight(pub_date:20030913 in 90383), product of:
  1.0 = tf(termFreq(pub_date:20030913)=1)
  7.366558 = idf(docFreq=156)
  0.03125 = fieldNorm(field=pub_date, doc=90383)


----- Original Message -----
From: "Doug Cutting" <cutting@lucene.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, September 17, 2003 4:55 PM
Subject: Re: Lucene Scoring Behavior


> If you're using RangeQuery to do date searching, then you'll likely see
> unusual scoring.  The IDF of a date, like any other term, is inversely
> related to the number of documents with that date.  So documents whose
> dates are rare will score higher, which is probably not what you intend.
>
> Using a Filter for date searching is one way to remove dates from the
> scoring calculation.  Another is to provide a Similarity implementation
> that gives an IDF of 1.0 for terms from your date field, e.g., something
> like:
>
> public class MySimilarity extends DefaultSimilarity {
>    public float idf(Term term, Searcher searcher) throws IOException {
>      if (term.field() == "date") {
>        return 1.0f;
>      } else {
>        return super.idf(term, searcher);
>      }
>    }
> }
>
> Or you could just give date clauses of your query a very small boost
> (e.g., .0001) so that other clauses dominate the scoring.
>
> Doug
>
> Terry Steichen wrote:
> > I've run across some puzzling behavior regarding scoring.  I have a set
of documents which contain, among others, a date field (whose contents is a
string in the YYYYMMDD format).  When I query on the date 20030917 (that is,
today), I get 157 hits, all of which have a score of .23000652.  If I use
20030916 (yesterday), I get 197 hits, each of which has a score of
.22295427.
> >
> > So far, all seems logical.  However, when I search for all records for
the date 20030915, the first two (of 174 hits) have a score of 1.0, while
all the rest of the hits have a score of .03125.  Here is a tabulation of
these and a few more queries:
> >
> > Query Date      Result
> > =======        ========================
> > 20030917        all have a score of .23000652 (157)
> > 20030916        all have a score of .22295427 (197)
> > 20030915        first 2 have a 1.0 score, all rest are .03125 (174)
> > 20030914        all have a score of .21384604 (264)
> > 20030913        first 2 have a 1.0 score, all rest are .03125 (156)
> > 20030912        all have a score .2166833 (241)
> > 20030911        first 3 have a 1.0 score, all rest are .03125 (244)
> > 20030910        all have a score of  .2208193 (211)
> >
> > I would expect that all the hits would have the same score, and I would
expect it to be normalized to 1 (unless, I guess, the top score was less
than 1, in which case normalization presumably doesn't occur).
> >
> > Does anyone have any ideas as to what might be going on here?  (I'm
using the latest CVS sources, obtained this afternoon.)
> >
> > Regards,
> >
> > Terry
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


From cutting@lucene.com  Wed Sep 17 21:51:05 2003
Return-Path: <cutting@lucene.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 86008 invoked from network); 17 Sep 2003 21:51:05 -0000
Received: from unknown (HELO mailshell.com) (209.157.66.232)
  by daedalus.apache.org with SMTP; 17 Sep 2003 21:51:05 -0000
Received: (qmail 1683 invoked from network); 17 Sep 2003 21:51:10 -0000
Received: from unknown (HELO lucene.com) (dcutting@grandcentral.com@12.210.200.74)
  by mail.mailshell.com with SMTP; 17 Sep 2003 21:51:10 -0000
Message-ID: <3F68D749.6050100@lucene.com>
Date: Wed, 17 Sep 2003 14:51:05 -0700
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030701
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene Scoring Behavior
References: <00ce01c37d52$98132e50$0401a8c0@POWERPACK> <3F68CA57.2000000@lucene.com> <00eb01c37d63$60106f70$0401a8c0@POWERPACK>
In-Reply-To: <00eb01c37d63$60106f70$0401a8c0@POWERPACK>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Terry Steichen wrote:
>   0.03125 = fieldNorm(field=pub_date, doc=90992)
>   1.0 = fieldNorm(field=pub_date, doc=90970)

It looks like the fieldNorm's are what differ, not the IDFs.  These are 
the product of the document and/or field boost, and 1/sqrt(numTerms) 
where numTerms is the number of terms in the "pub_date" field of the 
document.  Thus if each document is only assigned one date, and you 
didn't boost the field or the document when you indexed it, this should 
be 1.0.  But if the document has two dates, then this would be 
1/sqrt(2).  Or if you boosted this document pub_date field, then this 
will have whatever boost you provided.

So, did you boost anything when indexing?  Or could a single document 
have two or more different values for pub_date?  Either would explain this.

Doug


From mtedone@jemos.org  Wed Sep 17 23:31:16 2003
Return-Path: <mtedone@jemos.org>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79272 invoked from network); 17 Sep 2003 23:31:16 -0000
Received: from unknown (HELO jemoserver) (62.3.127.84)
  by daedalus.apache.org with SMTP; 17 Sep 2003 23:31:16 -0000
Received: from jemoserver ([192.168.2.3])
          by jemoserver (JAMES SMTP Server 2.2.0a10) with SMTP ID 296
          for <lucene-user@jakarta.apache.org>;
          Thu, 18 Sep 2003 00:31:22 +0100 (BST)
Message-ID: <016001c37d73$cdd204f0$0302a8c0@jemoserver>
From: "Marco Tedone" <mtedone@jemos.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <8BE2F173A6440740934EDD48016EC973260246@SDC-MAIL1.shawmut.com>
Subject: Re: Lucene demo ideas?
Date: Thu, 18 Sep 2003 00:31:22 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I would have the code ready is wanted...
----- Original Message ----- 
From: "Pitre, Russell" <RPITRE@shawmut.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, September 17, 2003 2:21 PM
Subject: RE: Lucene demo ideas?


I know this may be far fetched, but how about being able to index
.jsp's....I know this is a spindle thing, but It seems a lot of people
need this functionality.....


My suggestion

Russ

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com] 
Sent: Wednesday, September 17, 2003 8:01 AM
To: lucene-user@jakarta.apache.org
Subject: Lucene demo ideas?

I'm about to start some refactorings on the web application demo that 
ships with Lucene to show off its features and be usable more easily 
and cleanly out of the box - i.e. just drop into Tomcat's webapps 
directory and go.

Does anyone have any suggestions on what they'd like to see in the demo 
app?  Some of my ideas are:

- Eliminate the need to do a command-line indexing, let the web app do 
this upon command, allowing you to specify where the index lives (there 
will be a reasonable default like ~/lucenedemo/index perhaps) and what 
directory tree to index (perhaps defaulting to the root directory or 
c:\, or where instead?)

- Spin off a background indexing thread so the web app searching is 
immediately useful after kicking off the indexing process, and allow a 
status view of the indexing progress.

- Index text and HTML files.  Any others?  I don't want to get into 
putting too many dependencies in though - let's keep it relatively 
simple, although still demonstrative.  Allow search filtering by last 
modified date range and document type (extension).

- Perhaps allow you to specify the analyzer to use when indexing.

- Show the explanation of how scores are computed in the search results 
as an option.

I'm all ears to possibilities of improvements!  Send your wishlist.

Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




From mtedone@jemos.org  Wed Sep 17 23:35:23 2003
Return-Path: <mtedone@jemos.org>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83913 invoked from network); 17 Sep 2003 23:35:23 -0000
Received: from unknown (HELO jemoserver) (62.3.127.84)
  by daedalus.apache.org with SMTP; 17 Sep 2003 23:35:23 -0000
Received: from jemoserver ([192.168.2.3])
          by jemoserver (JAMES SMTP Server 2.2.0a10) with SMTP ID 871
          for <lucene-user@jakarta.apache.org>;
          Thu, 18 Sep 2003 00:35:23 +0100 (BST)
Message-ID: <01da01c37d74$5d4f1cd0$0302a8c0@jemoserver>
From: "Marco Tedone" <mtedone@jemos.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <8FFFA400-E906-11D7-91A6-000393A564E6@ehatchersolutions.com> <023301c37d36$fcc87f10$7a01a8c0@charliebrown>
Subject: Re: Lucene demo ideas?
Date: Thu, 18 Sep 2003 00:35:23 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Yeah, that would be great!
----- Original Message ----- 
From: "Jeff Linwood" <jeff@greenninja.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, September 17, 2003 5:15 PM
Subject: Re: Lucene demo ideas?


> Paging would be great for the results.
>
> Jeff
> ----- Original Message ----- 
> From: "Erik Hatcher" <erik@ehatchersolutions.com>
> To: <lucene-user@jakarta.apache.org>
> Sent: Wednesday, September 17, 2003 7:00 AM
> Subject: Lucene demo ideas?
>
>
> > I'm about to start some refactorings on the web application demo that
> > ships with Lucene to show off its features and be usable more easily
> > and cleanly out of the box - i.e. just drop into Tomcat's webapps
> > directory and go.
> >
> > Does anyone have any suggestions on what they'd like to see in the demo
> > app?  Some of my ideas are:
> >
> > - Eliminate the need to do a command-line indexing, let the web app do
> > this upon command, allowing you to specify where the index lives (there
> > will be a reasonable default like ~/lucenedemo/index perhaps) and what
> > directory tree to index (perhaps defaulting to the root directory or
> > c:\, or where instead?)
> >
> > - Spin off a background indexing thread so the web app searching is
> > immediately useful after kicking off the indexing process, and allow a
> > status view of the indexing progress.
> >
> > - Index text and HTML files.  Any others?  I don't want to get into
> > putting too many dependencies in though - let's keep it relatively
> > simple, although still demonstrative.  Allow search filtering by last
> > modified date range and document type (extension).
> >
> > - Perhaps allow you to specify the analyzer to use when indexing.
> >
> > - Show the explanation of how scores are computed in the search results
> > as an option.
> >
> > I'm all ears to possibilities of improvements!  Send your wishlist.
> >
> > Erik
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>




From terry@net-frame.com  Wed Sep 17 23:37:32 2003
Return-Path: <terry@net-frame.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85258 invoked from network); 17 Sep 2003 23:37:32 -0000
Received: from unknown (HELO granger.mail.mindspring.net) (207.69.200.148)
  by daedalus.apache.org with SMTP; 17 Sep 2003 23:37:32 -0000
Received: from h-66-167-233-113.mclnva23.covad.net ([66.167.233.113] helo=POWERPACK)
	by granger.mail.mindspring.net with smtp (Exim 3.33 #1)
	id 19zlrd-000845-00
	for lucene-user@jakarta.apache.org; Wed, 17 Sep 2003 19:37:38 -0400
Message-ID: <010901c37d74$ae679c50$0401a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <00ce01c37d52$98132e50$0401a8c0@POWERPACK> <3F68CA57.2000000@lucene.com> <00eb01c37d63$60106f70$0401a8c0@POWERPACK> <3F68D749.6050100@lucene.com>
Subject: Re: Lucene Scoring Behavior
Date: Wed, 17 Sep 2003 19:37:38 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Doug,

(1) No, I did *not* boost the pub_date field, either in the indexing process
or in the query itself.

(2) And, each pub_date field of each document (which is in XML format)
contains only one instance of the date string.

(3) And only the pub_date field itself is indexed.  There are other
attributes of this field that may contain the date string, but they aren't
indexed - that is, they are not included in the instantiated Document class.

Regards,

Terry

----- Original Message -----
From: "Doug Cutting" <cutting@lucene.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, September 17, 2003 5:51 PM
Subject: Re: Lucene Scoring Behavior


> Terry Steichen wrote:
> >   0.03125 = fieldNorm(field=pub_date, doc=90992)
> >   1.0 = fieldNorm(field=pub_date, doc=90970)
>
> It looks like the fieldNorm's are what differ, not the IDFs.  These are
> the product of the document and/or field boost, and 1/sqrt(numTerms)
> where numTerms is the number of terms in the "pub_date" field of the
> document.  Thus if each document is only assigned one date, and you
> didn't boost the field or the document when you indexed it, this should
> be 1.0.  But if the document has two dates, then this would be
> 1/sqrt(2).  Or if you boosted this document pub_date field, then this
> will have whatever boost you provided.
>
> So, did you boost anything when indexing?  Or could a single document
> have two or more different values for pub_date?  Either would explain
this.
>
> Doug
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


From tatu@hypermall.net  Thu Sep 18 03:13:00 2003
Return-Path: <tatu@hypermall.net>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61681 invoked from network); 18 Sep 2003 03:13:00 -0000
Received: from unknown (HELO mz1.forethought.net) (216.241.36.12)
  by daedalus.apache.org with SMTP; 18 Sep 2003 03:13:00 -0000
Received: from j72.denver.dsl.forethought.net ([216.241.38.72] helo=www.doomdark.org)
	by mz1.forethought.net with esmtp (Exim 4.14)
	id 19zpEE-0006eZ-2G
	for lucene-user@jakarta.apache.org; Wed, 17 Sep 2003 21:13:10 -0600
Content-Type: text/plain;
  charset="iso-8859-1"
From: Tatu Saloranta <tatu@hypermall.net>
Reply-To: tatu@hypermall.net
Organization: Linux-users missalie
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Lucene demo ideas?
Date: Wed, 17 Sep 2003 21:16:26 -0600
User-Agent: KMail/1.4.3
References: <F6030210-E90F-11D7-87C1-000393A564E6@ehatchersolutions.com>
In-Reply-To: <F6030210-E90F-11D7-87C1-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200309172116.26354.tatu@hypermall.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Wednesday 17 September 2003 07:07, Erik Hatcher wrote:
> On Wednesday, September 17, 2003, at 08:43  AM, Killeen, Tom wrote:
> > I would suggest XML as well.
>
> Again, I'd like to hear more about how you'd do this generically.  Tell
> me what the field names and values would correspond to when presented
> with an XML file.

Perhaps just one generic "content" field, which would contain tokenized
content from all XML segments. That could be done easily & efficiently
with just sax event handling? Since it's a simple demo, you can't get much
simpler than that, but it should still be fairly useful?
Attributes could/should be ignored by default; common practice for XML markup
seems to be for attributes not to contain any content that would make sense to 
index.

So I'd think just stripping out all tags (and comments, PIs etc) might be 
reasonable plain simple approach for demo app.

-+ Tatu +-


From cutting@lucene.com  Thu Sep 18 03:15:20 2003
Return-Path: <cutting@lucene.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63920 invoked from network); 18 Sep 2003 03:15:20 -0000
Received: from unknown (HELO mailshell.com) (209.157.66.249)
  by daedalus.apache.org with SMTP; 18 Sep 2003 03:15:20 -0000
Received: (qmail 17477 invoked from network); 18 Sep 2003 03:15:30 -0000
Received: from unknown (HELO lucene.com) (dcutting@grandcentral.com@12.210.200.74)
  by mail.mailshell.com with SMTP; 18 Sep 2003 03:15:30 -0000
Message-ID: <3F69234B.7000603@lucene.com>
Date: Wed, 17 Sep 2003 20:15:23 -0700
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030701
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene Scoring Behavior
References: <00ce01c37d52$98132e50$0401a8c0@POWERPACK> <3F68CA57.2000000@lucene.com> <00eb01c37d63$60106f70$0401a8c0@POWERPACK> <3F68D749.6050100@lucene.com> <010901c37d74$ae679c50$0401a8c0@POWERPACK>
In-Reply-To: <010901c37d74$ae679c50$0401a8c0@POWERPACK>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hmm.  This makes no sense to me.  Can you supply a reproducible 
standalone test case?

Doug

Terry Steichen wrote:
> Doug,
> 
> (1) No, I did *not* boost the pub_date field, either in the indexing process
> or in the query itself.
> 
> (2) And, each pub_date field of each document (which is in XML format)
> contains only one instance of the date string.
> 
> (3) And only the pub_date field itself is indexed.  There are other
> attributes of this field that may contain the date string, but they aren't
> indexed - that is, they are not included in the instantiated Document class.
> 
> Regards,
> 
> Terry
> 
> ----- Original Message -----
> From: "Doug Cutting" <cutting@lucene.com>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Wednesday, September 17, 2003 5:51 PM
> Subject: Re: Lucene Scoring Behavior
> 
> 
> 
>>Terry Steichen wrote:
>>
>>>  0.03125 = fieldNorm(field=pub_date, doc=90992)
>>>  1.0 = fieldNorm(field=pub_date, doc=90970)
>>
>>It looks like the fieldNorm's are what differ, not the IDFs.  These are
>>the product of the document and/or field boost, and 1/sqrt(numTerms)
>>where numTerms is the number of terms in the "pub_date" field of the
>>document.  Thus if each document is only assigned one date, and you
>>didn't boost the field or the document when you indexed it, this should
>>be 1.0.  But if the document has two dates, then this would be
>>1/sqrt(2).  Or if you boosted this document pub_date field, then this
>>will have whatever boost you provided.
>>
>>So, did you boost anything when indexing?  Or could a single document
>>have two or more different values for pub_date?  Either would explain
> 
> this.
> 
>>Doug
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


From pbecker@dstc.edu.au  Thu Sep 18 11:44:45 2003
Return-Path: <pbecker@dstc.edu.au>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33564 invoked from network); 18 Sep 2003 11:44:45 -0000
Received: from unknown (HELO mail.iinet.net.au) (203.59.3.36)
  by daedalus.apache.org with SMTP; 18 Sep 2003 11:44:45 -0000
Received: (qmail 13244 invoked from network); 18 Sep 2003 11:44:42 -0000
Received: from unknown (HELO dstc.edu.au) (203.14.170.115)
  by mail.iinet.net.au with SMTP; 18 Sep 2003 11:44:42 -0000
Message-ID: <3F699A11.3010401@dstc.edu.au>
Date: Thu, 18 Sep 2003 21:42:09 +1000
From: Peter Becker <pbecker@dstc.edu.au>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene demo ideas?
References: <8FFFA400-E906-11D7-91A6-000393A564E6@ehatchersolutions.com>
In-Reply-To: <8FFFA400-E906-11D7-91A6-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Erik Hatcher wrote:

[...]

> - Index text and HTML files.  Any others?  I don't want to get into 
> putting too many dependencies in though - let's keep it relatively 
> simple, although still demonstrative.  Allow search filtering by last 
> modified date range and document type (extension). 

If I may plug our code again ;-) Docco (http://tockit.sf.net) contains a 
framework for document handlers, with implementations for plain text, 
html, xml and OpenOffice based on JDK 1.4 and plugins for PDFBox, POI 
and Multivalent. There is also a notion of file mappings (i.e. mapping 
from a match on a FileFilter to a handler) and we plan to add code to 
mixin external information like meta-data stores or EAs from advanced 
file systems. It is available on SF (within 
http://sf.net/projects/toscanaj) and is at the moment BSD-style 
licensed. We would be happy to contribute bits of that and thanks to the 
plugin architecture dependencies should be controllable. Admittably the 
plugin loader is still a hack, but it works.

  Peter


From terry@net-frame.com  Thu Sep 18 14:10:27 2003
Return-Path: <terry@net-frame.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68049 invoked from network); 18 Sep 2003 14:10:27 -0000
Received: from unknown (HELO granger.mail.mindspring.net) (207.69.200.148)
  by daedalus.apache.org with SMTP; 18 Sep 2003 14:10:27 -0000
Received: from h-66-167-233-113.mclnva23.covad.net ([66.167.233.113] helo=POWERPACK)
	by granger.mail.mindspring.net with smtp (Exim 3.33 #1)
	id 19zzUJ-00084c-00
	for lucene-user@jakarta.apache.org; Thu, 18 Sep 2003 10:10:27 -0400
Message-ID: <016101c37dee$9e0ebbc0$0401a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <00ce01c37d52$98132e50$0401a8c0@POWERPACK> <3F68CA57.2000000@lucene.com> <00eb01c37d63$60106f70$0401a8c0@POWERPACK> <3F68D749.6050100@lucene.com> <010901c37d74$ae679c50$0401a8c0@POWERPACK> <3F69234B.7000603@lucene.com>
Subject: Re: Lucene Scoring Behavior
Date: Thu, 18 Sep 2003 10:10:30 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Doug,

I just extracted a portion of the database, reindexed and found the scores
to come out much more like we'd expect.  Appears this may be an indexing
issue - I index new stuff each day and merge the new index with the master
index.  Only redo the master when I can't avoid it (because it takes so
long).  I probably merge 100 times or more before reindexing.  This evening
I'll reindex and let you know if the apparent problem clears up.  If so,
I'll keep track of it as I continue to merge and see if there's any issue
there.

Thanks for the input (and from Erik, pointing me to the Explanation - it's
pretty neat).

Question: The new scores for the test database portion mentioned above all
seem to come out in the range of .06 to .07.  I assume this is because they
never get normalized.  If this is the case, (a) would it hurt anything to
"normalize up" (so the scores range up to 1), and if so (b) is there an
easy, non-disruptive (to the source code) way to do this?

Regards,

Terry


----- Original Message -----
From: "Doug Cutting" <cutting@lucene.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, September 17, 2003 11:15 PM
Subject: Re: Lucene Scoring Behavior


> Hmm.  This makes no sense to me.  Can you supply a reproducible
> standalone test case?
>
> Doug
>
> Terry Steichen wrote:
> > Doug,
> >
> > (1) No, I did *not* boost the pub_date field, either in the indexing
process
> > or in the query itself.
> >
> > (2) And, each pub_date field of each document (which is in XML format)
> > contains only one instance of the date string.
> >
> > (3) And only the pub_date field itself is indexed.  There are other
> > attributes of this field that may contain the date string, but they
aren't
> > indexed - that is, they are not included in the instantiated Document
class.
> >
> > Regards,
> >
> > Terry
> >
> > ----- Original Message -----
> > From: "Doug Cutting" <cutting@lucene.com>
> > To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> > Sent: Wednesday, September 17, 2003 5:51 PM
> > Subject: Re: Lucene Scoring Behavior
> >
> >
> >
> >>Terry Steichen wrote:
> >>
> >>>  0.03125 = fieldNorm(field=pub_date, doc=90992)
> >>>  1.0 = fieldNorm(field=pub_date, doc=90970)
> >>
> >>It looks like the fieldNorm's are what differ, not the IDFs.  These are
> >>the product of the document and/or field boost, and 1/sqrt(numTerms)
> >>where numTerms is the number of terms in the "pub_date" field of the
> >>document.  Thus if each document is only assigned one date, and you
> >>didn't boost the field or the document when you indexed it, this should
> >>be 1.0.  But if the document has two dates, then this would be
> >>1/sqrt(2).  Or if you boosted this document pub_date field, then this
> >>will have whatever boost you provided.
> >>
> >>So, did you boost anything when indexing?  Or could a single document
> >>have two or more different values for pub_date?  Either would explain
> >
> > this.
> >
> >>Doug
> >>
> >>
> >>---------------------------------------------------------------------
> >>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >>
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


From otis_gospodnetic@yahoo.com  Thu Sep 18 14:17:04 2003
Return-Path: <otis_gospodnetic@yahoo.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78140 invoked from network); 18 Sep 2003 14:17:04 -0000
Received: from unknown (HELO web12705.mail.yahoo.com) (216.136.173.242)
  by daedalus.apache.org with SMTP; 18 Sep 2003 14:17:04 -0000
Message-ID: <20030918141706.57047.qmail@web12705.mail.yahoo.com>
Received: from [194.152.215.99] by web12705.mail.yahoo.com via HTTP; Thu, 18 Sep 2003 07:17:06 PDT
Date: Thu, 18 Sep 2003 07:17:06 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Adding String in a Field
To: lucene-user@jakarta.apache.org
In-Reply-To: <3F6DC5F2@OrangeMail>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Amit, this is a question for the -user list, not -dev list.

I suggest that you look at one of Lucene articles that deal with
indexing.  You will find links to them on the Resources page, which is
listed on Lucene's home page.

Otis

--- Amit Bhavsar <anbhavsa@mailbox.syr.edu> wrote:
> Hi,
> 
> I am trying to add fields to a document as show below:
> 
> doc.add(Field.Text(fieldName, newString));
> 
> 
> Here fieldName and newString are both strings. I wanted to have the
> words in 
> newString searchable, ie indexed.
> 
> Currently, I am using a StringTokenizer to get tokens from the string
> and 
> adding '\n' between tokens.
> 
> Is there a quicer and cleaner way of doing this reliably?
> 
> Here is a sample strings I am trying to add:
> "Interactive teaching, Computer simulations, Universe, Computational
> science, 
> GalaxSee software, Solar system, Earth, Sun, Gravity, Gravitational
> pull, 
> Orbits, Velocity"
> 
> "http://www.shodor.org/master/galaxsee/ = GalaxSee;
> http://www.shodor.org/ = 
> Shodor Education Foundation, Inc.; http://www.shodor.org/master/ =
> Master 
> Tools; http://www.nap.edu/readingroom/books/nses/html/6e.html#csa912
> = Click 
> here for further information on NSES standards.; 
> http://www.shodor.org/master/dodea/index.html = Click here for
> additional 
> information on DoDDs standards"
> 
> 
> Any help/input will be appreciated.
> 
> thank you.
> 
> amit
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-dev-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

From mgiles@visionstudio.com  Thu Sep 18 20:51:22 2003
Return-Path: <mgiles@visionstudio.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71878 invoked from network); 18 Sep 2003 20:51:22 -0000
Received: from unknown (HELO SuperNova2.cwihosting.com) (66.216.127.37)
  by daedalus.apache.org with SMTP; 18 Sep 2003 20:51:22 -0000
Received: from h0004763fc2ea.ne.client2.attbi.com ([24.91.229.13] helo=mgiles-office.visionstudio.com)
	by SuperNova2.cwihosting.com with asmtp (Exim 4.20)
	id 1A05kF-0005dm-MW
	for lucene-user@jakarta.apache.org; Thu, 18 Sep 2003 15:51:19 -0500
Message-Id: <5.2.0.9.0.20030918163957.040bdaa0@mail.visionstudio.com>
X-Sender: mgiles%visionstudio.com@mail.visionstudio.com
X-Mailer: QUALCOMM Windows Eudora Version 5.2.0.9
Date: Thu, 18 Sep 2003 16:50:53 -0400
To: lucene-user@jakarta.apache.org
From: Michael Giles <mgiles@visionstudio.com>
Subject: HTML Parsing problems...
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="=====================_270082843==.ALT"
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - SuperNova2.cwihosting.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - visionstudio.com
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--=====================_270082843==.ALT
Content-Type: text/plain; charset="us-ascii"; format=flowed

I know, I know, the HTML Parser in the demo is just that (i.e. a demo), but 
I also know that it is updated from time to time and performs much better 
than the other ones that I have tested.  Frustratingly, the very first page 
I tried to parse failed 
(<http://www.theregister.co.uk/content/54/32593.html>http://www.theregister.co.uk/content/54/32593.html). 
It seems to be choking on tags that are being written inside of JavaScript 
code (i.e. document.write('</scr' + 'ipt>');.  Obviously, the simple 
solution (that I am using with another parser) is to just ignore everything 
inside of <script> tags.  It appears that the parser is ignoring text 
inside script tags, but it seems like it needs to be a bit smarter (or 
maybe dumber) about how it deals with this (so it doesn't get confused by 
such occurrences).  I see a bug has been filed regarding trouble parsing 
JavaScript, has anyone given it thought?

Outside of the HTML parsing, all is well (and outside of a few pages, the 
parser is a champ).

Thanks!
-Mike  
--=====================_270082843==.ALT--



From tatu@hypermall.net  Fri Sep 19 02:11:06 2003
Return-Path: <tatu@hypermall.net>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36603 invoked from network); 19 Sep 2003 02:11:06 -0000
Received: from unknown (HELO mz2.forethought.net) (216.241.36.13)
  by daedalus.apache.org with SMTP; 19 Sep 2003 02:11:06 -0000
Received: from j72.denver.dsl.forethought.net ([216.241.38.72] helo=www.doomdark.org)
	by mz2.forethought.net with esmtp (Exim 4.14)
	id 1A0Ajr-0005pe-BV
	for lucene-user@jakarta.apache.org; Thu, 18 Sep 2003 20:11:15 -0600
Content-Type: text/plain;
  charset="iso-8859-1"
From: Tatu Saloranta <tatu@hypermall.net>
Reply-To: tatu@hypermall.net
Organization: Linux-users missalie
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: HTML Parsing problems...
Date: Thu, 18 Sep 2003 20:14:05 -0600
User-Agent: KMail/1.4.3
References: <5.2.0.9.0.20030918163957.040bdaa0@mail.visionstudio.com>
In-Reply-To: <5.2.0.9.0.20030918163957.040bdaa0@mail.visionstudio.com>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200309182014.05911.tatu@hypermall.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Thursday 18 September 2003 14:50, Michael Giles wrote:
> I know, I know, the HTML Parser in the demo is just that (i.e. a demo), but
> I also know that it is updated from time to time and performs much better
> than the other ones that I have tested.  Frustratingly, the very first page
> I tried to parse failed
> (<http://www.theregister.co.uk/content/54/32593.html>http://www.theregister
>.co.uk/content/54/32593.html). It seems to be choking on tags that are being
> written inside of JavaScript code (i.e. document.write('</scr' + 'ipt>');. 
> Obviously, the simple solution (that I am using with another parser) is to
> just ignore everything inside of <script> tags.  It appears that the parser
> is ignoring text inside script tags, but it seems like it needs to be a bit
> smarter (or maybe dumber) about how it deals with this (so it doesn't get

I would guess that often ignoring stuff in <script> (for indexing purposes) 
makes sense; exception being if someone wants to create HTML site creation 
IDE (like specifically wants to search for stuff in javascript sections?).
Nonetheless HTML parser has to be able to handle these I think.

> confused by such occurrences).  I see a bug has been filed regarding
> trouble parsing JavaScript, has anyone given it thought?

I implemented a rather robust (X[HT])ML parser ("QnD") that was able to work
through many of such issues (<script> tag, unquoted single '&' and '<' chars,
in attr values and elements, simplistic approach to optional end tags). Since 
it was dead-optimized for speed (anything fully in memory in a char array, 
optimizing based on that) I thought it might be useful for indexing (even 
more so than for its original purpose which was to be very fast utility for 
filtering [adding and/or removing stuff] of HTML pages).

If anyone would be interested I could give the source code and/or (if I have 
time) to implement efficient fault-tolerant indexer.
Like I said this also works equally well for well-formed XML, but that's 
nothing special.

-+ Tatu +-


From pbecker@dstc.edu.au  Fri Sep 19 02:40:00 2003
Return-Path: <pbecker@dstc.edu.au>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58492 invoked from network); 19 Sep 2003 02:40:00 -0000
Received: from unknown (HELO gum.itee.uq.edu.au) (130.102.66.1)
  by daedalus.apache.org with SMTP; 19 Sep 2003 02:40:00 -0000
Received: from nut.itee.uq.edu.au (nut.itee.uq.edu.au [130.102.66.13])
	by gum.itee.uq.edu.au (8.12.10/8.12.9) with ESMTP id h8J2e6OC028262
	for <lucene-user@jakarta.apache.org>; Fri, 19 Sep 2003 12:40:06 +1000 (EST)
Received: from dstc.edu.au (g613-8949.itee.uq.edu.au [130.102.66.107])
	by nut.itee.uq.edu.au (8.12.10/8.12.9) with ESMTP id h8J2e6Sq007087
	for <lucene-user@jakarta.apache.org>; Fri, 19 Sep 2003 12:40:06 +1000 (EST)
Message-ID: <3F6A6C86.8040605@dstc.edu.au>
Date: Fri, 19 Sep 2003 12:40:06 +1000
From: Peter Becker <pbecker@dstc.edu.au>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: HTML Parsing problems...
References: <5.2.0.9.0.20030918163957.040bdaa0@mail.visionstudio.com> <200309182014.05911.tatu@hypermall.net>
In-Reply-To: <200309182014.05911.tatu@hypermall.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Checked: This message probably not SPAM
X-Spam-Score: -1.5
X-Spam-Tests: EMAIL_ATTRIBUTION,HTML_70_80,HTML_MESSAGE,IN_REP_TO,REFERENCES,REPLY_WITH_QUOTES,USER_AGENT_MOZILLA_UA,X_ACCEPT_LANG
X-Spam-Report: -1.50 points, 8 required;
	* -0.5 -- Has a valid-looking References header
	* -0.5 -- Has a In-Reply-To header
	*  0.0 -- User-Agent header indicates a non-spam MUA (Mozilla)
	* -0.1 -- Has a X-Accept-Language  header
	* -0.5 -- BODY: Contains what looks like an email attribution
	*  0.5 -- BODY: Message is 70% to 80% HTML
	*  0.1 -- BODY: HTML included in message
	* -0.5 -- Reply with quoted text
X-Scanned-By: MIMEDefang 2.35
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Tatu Saloranta wrote:

>On Thursday 18 September 2003 14:50, Michael Giles wrote:
>  
>
>>I know, I know, the HTML Parser in the demo is just that (i.e. a demo), but
>>I also know that it is updated from time to time and performs much better
>>than the other ones that I have tested.  Frustratingly, the very first page
>>I tried to parse failed
>>(<http://www.theregister.co.uk/content/54/32593.html>http://www.theregister
>>.co.uk/content/54/32593.html). It seems to be choking on tags that are being
>>written inside of JavaScript code (i.e. document.write('</scr' + 'ipt>');. 
>>Obviously, the simple solution (that I am using with another parser) is to
>>just ignore everything inside of <script> tags.  It appears that the parser
>>is ignoring text inside script tags, but it seems like it needs to be a bit
>>smarter (or maybe dumber) about how it deals with this (so it doesn't get
>>    
>>
>
>I would guess that often ignoring stuff in <script> (for indexing purposes) 
>makes sense; exception being if someone wants to create HTML site creation 
>IDE (like specifically wants to search for stuff in javascript sections?).
>Nonetheless HTML parser has to be able to handle these I think.
>
>  
>
>>confused by such occurrences).  I see a bug has been filed regarding
>>trouble parsing JavaScript, has anyone given it thought?
>>    
>>
>
>I implemented a rather robust (X[HT])ML parser ("QnD") that was able to work
>through many of such issues (<script> tag, unquoted single '&' and '<' chars,
>in attr values and elements, simplistic approach to optional end tags). Since 
>it was dead-optimized for speed (anything fully in memory in a char array, 
>optimizing based on that) I thought it might be useful for indexing (even 
>more so than for its original purpose which was to be very fast utility for 
>filtering [adding and/or removing stuff] of HTML pages).
>
>If anyone would be interested I could give the source code and/or (if I have 
>time) to implement efficient fault-tolerant indexer.
>Like I said this also works equally well for well-formed XML, but that's 
>nothing special.
>
We had reasonably good experiences with this simple bit of code, using 
Swing's HTML parser:

  
http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/toscanaj/docco/source/org/tockit/docco/documenthandler/HtmlDocumentHandler.java?rev=1.4&content-type=text/vnd.viewcvs-markup

We haven't tested it much, but it does grok a local copy of the link given.

Here is our XML parsing code:

http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/toscanaj/docco/source/org/tockit/docco/documenthandler/XmlDocumentHandler.java?rev=1.6&content-type=text/vnd.viewcvs-markup
http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/toscanaj/docco/source/org/tockit/docco/documenthandler/SaxTextContentParser.java?rev=1.3&content-type=text/vnd.viewcvs-markup

The XML bit is not too good yet. E.g. it chokes on large XML easily 
since it reads all content into memory at once.

Some of the code will require JDK 1.4, though. The XML relies on JAXP, I 
don't know about the HTMLEditorKit.

JTidy seems to be another option.

  Peter


From buics123@yahoo.com  Fri Sep 19 06:50:59 2003
Return-Path: <buics123@yahoo.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52983 invoked from network); 19 Sep 2003 06:50:59 -0000
Received: from unknown (HELO web41902.mail.yahoo.com) (66.218.93.153)
  by daedalus.apache.org with SMTP; 19 Sep 2003 06:50:59 -0000
Message-ID: <20030919065111.98940.qmail@web41902.mail.yahoo.com>
Received: from [64.15.239.34] by web41902.mail.yahoo.com via HTTP; Thu, 18 Sep 2003 23:51:11 PDT
Date: Thu, 18 Sep 2003 23:51:11 -0700 (PDT)
From: Rociel Buico <buics123@yahoo.com>
Subject: cant rename segments.new to segment
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-162776526-1063954271=:94865"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--0-162776526-1063954271=:94865
Content-Type: text/plain; charset=us-ascii

all,
when i'm trying to run my index writer program at idea (IDE) i got this error (cant rename segments.new to segments, sometimes the deletable file got an error), but when im going to run the program in the command prompt, it looks fine, no error returned.
 
im just making 1 index and no threads
is this a bug?


---------------------------------
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
--0-162776526-1063954271=:94865--

From mgiles@visionstudio.com  Fri Sep 19 13:55:42 2003
Return-Path: <mgiles@visionstudio.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97692 invoked from network); 19 Sep 2003 13:55:42 -0000
Received: from unknown (HELO SuperNova2.cwihosting.com) (66.216.127.37)
  by daedalus.apache.org with SMTP; 19 Sep 2003 13:55:42 -0000
Received: from h0004763fc2ea.ne.client2.attbi.com ([24.91.229.13] helo=mgiles-office.visionstudio.com)
	by SuperNova2.cwihosting.com with asmtp (Exim 4.20)
	id 1A0Ljb-0003l6-MI
	for lucene-user@jakarta.apache.org; Fri, 19 Sep 2003 08:55:43 -0500
Message-Id: <5.2.0.9.0.20030919094144.04079e98@mail.visionstudio.com>
X-Sender: mgiles%visionstudio.com@mail.visionstudio.com
X-Mailer: QUALCOMM Windows Eudora Version 5.2.0.9
Date: Fri, 19 Sep 2003 09:55:46 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Michael Giles <mgiles@visionstudio.com>
Subject: Re: HTML Parsing problems...
In-Reply-To: <200309182014.05911.tatu@hypermall.net>
References: <5.2.0.9.0.20030918163957.040bdaa0@mail.visionstudio.com>
 <5.2.0.9.0.20030918163957.040bdaa0@mail.visionstudio.com>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - SuperNova2.cwihosting.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - visionstudio.com
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Tatu,

Thanks for the reply.  See below for comments.

> > just ignore everything inside of <script> tags.  It appears that the parser
> > is ignoring text inside script tags, but it seems like it needs to be a bit
> > smarter (or maybe dumber) about how it deals with this (so it doesn't get
>
>I would guess that often ignoring stuff in <script> (for indexing purposes)
>makes sense; exception being if someone wants to create HTML site creation
>IDE (like specifically wants to search for stuff in javascript sections?).
>Nonetheless HTML parser has to be able to handle these I think.

Fortunately, the sole purpose of the parser that ships with Lucene is 
indexing HTML documents.  As such, I see no reason to worry about 
functionality for other use cases (i.e. IDE development).  There are plenty 
of other parsers out there that try to be complete.  It would be great if 
this one was optimized for the task at hand (and thus can ignore text 
inside <script> tags).

> > confused by such occurrences).  I see a bug has been filed regarding
> > trouble parsing JavaScript, has anyone given it thought?
>
>If anyone would be interested I could give the source code and/or (if I have
>time) to implement efficient fault-tolerant indexer.
>Like I said this also works equally well for well-formed XML, but that's
>nothing special.

I'd definitely be interested to see what you did.  My application needs to 
index "public" documents as users submit requests (eventually 1000's per 
day), so I don't have control over the HTML (i.e. it needs to be fault 
tolerant) and it needs to be efficient.  Parsing a big page (i.e. 
http://www.mysql.com/documentation/mysql/bychapter/manual_Reference.html) 
is another good way to stress the basic parsers (some are frighteningly CPU 
intensive).

Even though I think a solid HTML parser that is optimized for the task of 
indexing is actually quite important to Lucene, we can take any further 
discussions off-line as they are probably not deemed relevant to the Lucene 
list.

-Mike




From n.maisonneuve@hotPop.com  Fri Sep 19 14:56:02 2003
Return-Path: <n.maisonneuve@hotPop.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15693 invoked from network); 19 Sep 2003 14:56:02 -0000
Received: from unknown (HELO babyruth.hotpop.com) (204.57.55.14)
  by daedalus.apache.org with SMTP; 19 Sep 2003 14:56:02 -0000
Received: from hotpop.com (kubrick.hotpop.com [204.57.55.16])
	by babyruth.hotpop.com (Postfix) with SMTP
	id 6011B21DEDA; Fri, 19 Sep 2003 14:56:00 +0000 (UTC)
Received: from astikoportable (danton-1-81-57-18-97.fbx.proxad.net [81.57.18.97])
	by smtp-2.hotpop.com (Postfix) with SMTP
	id D61F91800EF; Fri, 19 Sep 2003 14:54:48 +0000 (UTC)
Message-ID: <001001c37ebd$f286dff0$61123951@astikoportable>
From: "Nicolas Maisonneuve" <n.maisonneuve@hotPop.com>
To: <lucene-dev@jakarta.apache.org>, <lucene-user@jakarta.apache.org>
Subject: create a getQuery in the Hits Class
Date: Fri, 19 Sep 2003 16:54:36 +0200
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_000D_01C37ECE.B5525360"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-HotPOP: -----------------------------------------------
                   Sent By HotPOP.com FREE Email
             Get your FREE POP email at www.HotPOP.com
          -----------------------------------------------
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_000D_01C37ECE.B5525360
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

hy ,=20
 in the Hits class , we have a query proporty but no public method to =
get it..=20

it would great if you add this=20
public final Query getQuery() {
return this.query;
}
------=_NextPart_000_000D_01C37ECE.B5525360--




From hui@triplehop.com  Fri Sep 19 15:14:49 2003
Return-Path: <hui@triplehop.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48779 invoked from network); 19 Sep 2003 15:14:49 -0000
Received: from unknown (HELO germany.prod.thop-ny.triplehop.com) (216.74.150.80)
  by daedalus.apache.org with SMTP; 19 Sep 2003 15:14:49 -0000
Received: from hui2000 ([208.246.29.6]) by germany.prod.thop-ny.triplehop.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Fri, 19 Sep 2003 11:19:58 -0400
Message-ID: <00d701c37ec0$d522e3c0$9e0010ac@thopny.triplehop.com>
From: "hui" <hui@triplehop.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <200309171409.h8HE9kB32303@server1.livestoryboard.com>
Subject: some requests
Date: Fri, 19 Sep 2003 11:15:16 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-OriginalArrivalTime: 19 Sep 2003 15:19:58.0171 (UTC) FILETIME=[7CA87AB0:01C37EC1]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,
I am wondering whether we could do some changes for the feature Lucene.
1. Move the Analyzer down to field level from document level so some fields
could be applied a specail analyzer.Other fields still use the default
analyzer from the document level.
For example, I do not need to index the number for the "content" field. It
helps me reduce the index size a lot when I have some excel files. But I
always need the "created_date" to be indexed though it is a number field.

I know there are some workarounds put in the group, but I think it should be
a good feature to have.

2. Does it affect the performance/space a lot if I use the large max length
for the field like 1000000(Normally only "content" need that.) If so, could
we make this parameter associated with "field" rather than "document"?

3. Based on the
document(http://www.onjava.com/pub/a/onjava/2003/03/05/lucene.html) from
Otic(It is really great! ), the mergeFactor control when we put the indexed
documents into one segment and merge the segments into one big segment. For
Windows, larger mergeFactor could cause the "Too many files open" problem
when merging the segments. But the lower mergeFactor slows down the
indexing. Could we export two different parameters here? One is  to control
when we put the files into one segment in the disk so I can set it larger
when the machine has enough memory; another one is to control when merge the
segments.
Right now it is the power of the mergeFactor.

Regards,
Hui


From mandeep.sethi@pearson.com  Fri Sep 19 15:56:25 2003
Return-Path: <mandeep.sethi@pearson.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18605 invoked from network); 19 Sep 2003 15:56:25 -0000
Received: from unknown (HELO ncspsmtp2.ncs.com) (159.182.31.5)
  by daedalus.apache.org with SMTP; 19 Sep 2003 15:56:25 -0000
Received: from iowacexchbrg.ic.ncs.com (Not Verified[10.25.4.190]) by ncspsmtp2.ncs.com with NetIQ MailMarshal (v5.5.4.16)
	id <BA0102883c>; Fri, 19 Sep 2003 10:56:26 -0500
Received: by iowacexchbrg.ic.ncs.com with Internet Mail Service (5.5.2656.59)
	id <TDC80XN2>; Fri, 19 Sep 2003 10:56:27 -0500
Message-ID: <6F3CF8F7047E374CAF4DCED3ED14576E0368ECAA@iowacexch4.ic.ncs.com>
From: "Sethi, Mandeep" <mandeep.sethi@pearson.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: NewBie
Date: Fri, 19 Sep 2003 10:56:26 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2656.59)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N




Hi Fundu People

I'm a newbie in this and hence please bear with my FADQ(D==Dumb)(I'm for
some reasons not able to download the lucene-user Digest till now) The demo
I tried from apache performs the search from command line well however it
gives a list of null results when we try to load it from war file ,we are
using weblogic8.1 ,any clues?.

Secondly we want to display some description relevant to searched pages ,one
solution we have thought is of creating a cache(HashMap) ,with the absolute
URL of pages as key and description(parsed by using some parser to parse
HTML pages using <description tag>) Could someone suggest a better
solution(this one doesn't seems right) or point myself to some already
implemented solutions

Thanks

**************************************************************************** 
This email may contain confidential material. 
If you were not an intended recipient, 
Please notify the sender and delete all copies. 
We may monitor email to and from our network. 
****************************************************************************

From Reece.Wilton@dig.com  Fri Sep 19 16:23:22 2003
Return-Path: <Reece.Wilton@dig.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74202 invoked from network); 19 Sep 2003 16:23:22 -0000
Received: from unknown (HELO mail.disney.com) (204.128.192.15)
  by daedalus.apache.org with SMTP; 19 Sep 2003 16:23:22 -0000
Received: from Hermes10.corp.disney.com (hermes10.corp.disney.com [153.7.110.102])
	by mail.disney.com (Switch-3.1.2/Switch-3.1.0) with ESMTP id h8JGKm43019758
	for <lucene-user@jakarta.apache.org>; Fri, 19 Sep 2003 09:22:20 -0700 (PDT)
Received: from sm-cala-xc04.swna.wdpr.disney.com (sm-cala-xc04.swna.wdpr.disney.com [153.7.195.34]) by hermes.corp.disney.com with ESMTP; Fri, 19 Sep 2003 09:23:40 -0700
Received: from sm-cala-xm11.swna.wdpr.disney.com ([153.7.195.53]) by sm-cala-xc04.swna.wdpr.disney.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Fri, 19 Sep 2003 09:23:24 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.0.6375.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: cant rename segments.new to segment
Date: Fri, 19 Sep 2003 09:23:24 -0700
Message-Id: <496A2C679221504D8B8AE4B10267E876019D7C76@gb-sm-cala-xm11.corp.disney.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: cant rename segments.new to segment
Thread-Index: AcN+eqolH46CQO5hTK26Ie3efAsCvwAT1WMw
From: "Wilton, Reece" <Reece.Wilton@dig.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 19 Sep 2003 16:23:24.0950 (UTC) FILETIME=[59ACDB60:01C37ECA]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

This occurs for me on Windows XP when the mergefactor is low or when
there is more than one reader or writer open.  Try increasing the
mergefactor.  Also, don't open and close the writer after each document.
Open the writer once, index all your docs and then close the writer.
You'll have much better success!

-----Original Message-----
From: Rociel Buico [mailto:buics123@yahoo.com]=20
Sent: Thursday, September 18, 2003 11:51 PM
To: lucene-user@jakarta.apache.org
Subject: cant rename segments.new to segment


all,
when i'm trying to run my index writer program at idea (IDE) i got this
error (cant rename segments.new to segments, sometimes the deletable
file got an error), but when im going to run the program in the command
prompt, it looks fine, no error returned.
=20
im just making 1 index and no threads
is this a bug?


---------------------------------
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software

From Reece.Wilton@dig.com  Fri Sep 19 16:24:12 2003
Return-Path: <Reece.Wilton@dig.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76327 invoked from network); 19 Sep 2003 16:24:12 -0000
Received: from unknown (HELO mail.disney.com) (204.128.192.15)
  by daedalus.apache.org with SMTP; 19 Sep 2003 16:24:12 -0000
Received: from Hermes10.corp.disney.com (hermes10.corp.disney.com [153.7.110.102])
	by mail.disney.com (Switch-3.1.2/Switch-3.1.0) with ESMTP id h8JGLI63001332
	for <lucene-user@jakarta.apache.org>; Fri, 19 Sep 2003 09:23:10 -0700 (PDT)
Received: from sm-cala-xc07.swna.wdpr.disney.com (sm-cala-xc07.swna.wdpr.disney.com [153.7.195.64]) by hermes.corp.disney.com with ESMTP; Fri, 19 Sep 2003 09:24:29 -0700
Received: from sm-cala-xm11.swna.wdpr.disney.com ([153.7.195.53]) by sm-cala-xc07.swna.wdpr.disney.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Fri, 19 Sep 2003 09:24:13 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.0.6375.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: cant rename segments.new to segment
Date: Fri, 19 Sep 2003 09:23:54 -0700
Message-Id: <496A2C679221504D8B8AE4B10267E876019D7C77@gb-sm-cala-xm11.corp.disney.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: cant rename segments.new to segment
Thread-Index: AcN+eqolH46CQO5hTK26Ie3efAsCvwAT7PNw
From: "Wilton, Reece" <Reece.Wilton@dig.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 19 Sep 2003 16:24:13.0958 (UTC) FILETIME=[76E2E260:01C37ECA]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Are people having this same issue on Linux or is this just a Windows
issue?

-----Original Message-----
From: Rociel Buico [mailto:buics123@yahoo.com]=20
Sent: Thursday, September 18, 2003 11:51 PM
To: lucene-user@jakarta.apache.org
Subject: cant rename segments.new to segment


all,
when i'm trying to run my index writer program at idea (IDE) i got this
error (cant rename segments.new to segments, sometimes the deletable
file got an error), but when im going to run the program in the command
prompt, it looks fine, no error returned.
=20
im just making 1 index and no threads
is this a bug?


---------------------------------
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software

From bruce@jivesoftware.com  Fri Sep 19 16:28:02 2003
Return-Path: <bruce@jivesoftware.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79432 invoked from network); 19 Sep 2003 16:28:02 -0000
Received: from unknown (HELO jive.servlets.net) (209.162.192.250)
  by daedalus.apache.org with SMTP; 19 Sep 2003 16:28:02 -0000
Received: from jivesoftware.com (CPE00045ade8fc4-CM008037bbf5fd.cpe.net.cable.rogers.com [24.153.2.131])
	(authenticated bits=0)
	by jive.servlets.net (8.12.8/8.12.8) with ESMTP id h8JGRxek003651
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=OK)
	for <lucene-user@jakarta.apache.org>; Fri, 19 Sep 2003 09:28:05 -0700
Message-ID: <3F6B2E90.7010105@jivesoftware.com>
Date: Fri, 19 Sep 2003 12:28:00 -0400
From: Bruce Ritchie <bruce@jivesoftware.com>
Organization: Jive Software
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.5) Gecko/20030916
X-Accept-Language: en-ca, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: cant rename segments.new to segment
References: <496A2C679221504D8B8AE4B10267E876019D7C77@gb-sm-cala-xm11.corp.disney.com>
In-Reply-To: <496A2C679221504D8B8AE4B10267E876019D7C77@gb-sm-cala-xm11.corp.disney.com>
Content-Type: multipart/signed; protocol="application/x-pkcs7-signature"; micalg=sha1; boundary="------------ms030507070307070109080406"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--------------ms030507070307070109080406
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Wilton, Reece wrote:

> Are people having this same issue on Linux or is this just a Windows
> issue?

I've only heard of the issue on Windows - I believe a patch from Matt Tucker was actually 
incorporated into Lucene that made some attempt to work around this issue.


Regards,

Bruce Ritchie

--------------ms030507070307070109080406
Content-Type: application/x-pkcs7-signature; name="smime.p7s"
Content-Transfer-Encoding: base64
Content-Disposition: attachment; filename="smime.p7s"
Content-Description: S/MIME Cryptographic Signature

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIJWDCC
AwowggJzoAMCAQICAwht7zANBgkqhkiG9w0BAQQFADCBkjELMAkGA1UEBhMCWkExFTATBgNV
BAgTDFdlc3Rlcm4gQ2FwZTESMBAGA1UEBxMJQ2FwZSBUb3duMQ8wDQYDVQQKEwZUaGF3dGUx
HTAbBgNVBAsTFENlcnRpZmljYXRlIFNlcnZpY2VzMSgwJgYDVQQDEx9QZXJzb25hbCBGcmVl
bWFpbCBSU0EgMjAwMC44LjMwMB4XDTAyMTAwNzIwNTMyOFoXDTAzMTAwNzIwNTMyOFowSDEf
MB0GA1UEAxMWVGhhd3RlIEZyZWVtYWlsIE1lbWJlcjElMCMGCSqGSIb3DQEJARYWYnJ1Y2VA
aml2ZXNvZnR3YXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAN1qo82c
agU3foe/NdBpl0qE2gtfjKV21zQM6NjXgfi4saTNwMvPJCpoU4KXCQZC+sPOll23eo0dtugN
q/70apl32G7TwckV24aL0MYbWZhr8s75k6OTfGS57w8J2T60Zi7BDEEUv8vjUG/eRYV8pSK1
3Acix+FPhN8sW+NFF0Hfe9z7brpJ/7BTsiHcEXwdqlR/XjPgcNpCbQ/QQJkf3Zmx3XYBfn7T
3fyhSm4uhPNkz941HTblz6+VBB/ICubucm+Pz5gSpHYGBm+J8jnimVMQEX1LL/wInN7vwutu
sIMLoQ8C1YAQMUCnITEA38kg5ZHBwD0I/odURGXdKCjAdlECAwEAAaMzMDEwIQYDVR0RBBow
GIEWYnJ1Y2VAaml2ZXNvZnR3YXJlLmNvbTAMBgNVHRMBAf8EAjAAMA0GCSqGSIb3DQEBBAUA
A4GBAA+U/df/1mU5jG7Ksuc2wX+V/oUt6telqLGQNn/BdKJlsUTDFHvs2QUeaeWwmbNsbXiC
JSowxA4lrUZaLdj8NZcjhdZhFqJpU/ksyem45qRYYHVMnWpoII7dSUmLQWntM70497rSUUD2
CSwJ4JfceLLDO0PKOzlCR+gmbYFTJzrdMIIDCjCCAnOgAwIBAgIDCG3vMA0GCSqGSIb3DQEB
BAUAMIGSMQswCQYDVQQGEwJaQTEVMBMGA1UECBMMV2VzdGVybiBDYXBlMRIwEAYDVQQHEwlD
YXBlIFRvd24xDzANBgNVBAoTBlRoYXd0ZTEdMBsGA1UECxMUQ2VydGlmaWNhdGUgU2Vydmlj
ZXMxKDAmBgNVBAMTH1BlcnNvbmFsIEZyZWVtYWlsIFJTQSAyMDAwLjguMzAwHhcNMDIxMDA3
MjA1MzI4WhcNMDMxMDA3MjA1MzI4WjBIMR8wHQYDVQQDExZUaGF3dGUgRnJlZW1haWwgTWVt
YmVyMSUwIwYJKoZIhvcNAQkBFhZicnVjZUBqaXZlc29mdHdhcmUuY29tMIIBIjANBgkqhkiG
9w0BAQEFAAOCAQ8AMIIBCgKCAQEA3WqjzZxqBTd+h7810GmXSoTaC1+MpXbXNAzo2NeB+Lix
pM3Ay88kKmhTgpcJBkL6w86WXbd6jR226A2r/vRqmXfYbtPByRXbhovQxhtZmGvyzvmTo5N8
ZLnvDwnZPrRmLsEMQRS/y+NQb95FhXylIrXcByLH4U+E3yxb40UXQd973Ptuukn/sFOyIdwR
fB2qVH9eM+Bw2kJtD9BAmR/dmbHddgF+ftPd/KFKbi6E82TP3jUdNuXPr5UEH8gK5u5yb4/P
mBKkdgYGb4nyOeKZUxARfUsv/Aic3u/C626wgwuhDwLVgBAxQKchMQDfySDlkcHAPQj+h1RE
Zd0oKMB2UQIDAQABozMwMTAhBgNVHREEGjAYgRZicnVjZUBqaXZlc29mdHdhcmUuY29tMAwG
A1UdEwEB/wQCMAAwDQYJKoZIhvcNAQEEBQADgYEAD5T91//WZTmMbsqy5zbBf5X+hS3q16Wo
sZA2f8F0omWxRMMUe+zZBR5p5bCZs2xteIIlKjDEDiWtRlot2Pw1lyOF1mEWomlT+SzJ6bjm
pFhgdUydamggjt1JSYtBae0zvTj3utJRQPYJLAngl9x4ssM7Q8o7OUJH6CZtgVMnOt0wggM4
MIICoaADAgECAhBmRXK3zHT1z2N2RYTQLpEBMA0GCSqGSIb3DQEBBAUAMIHRMQswCQYDVQQG
EwJaQTEVMBMGA1UECBMMV2VzdGVybiBDYXBlMRIwEAYDVQQHEwlDYXBlIFRvd24xGjAYBgNV
BAoTEVRoYXd0ZSBDb25zdWx0aW5nMSgwJgYDVQQLEx9DZXJ0aWZpY2F0aW9uIFNlcnZpY2Vz
IERpdmlzaW9uMSQwIgYDVQQDExtUaGF3dGUgUGVyc29uYWwgRnJlZW1haWwgQ0ExKzApBgkq
hkiG9w0BCQEWHHBlcnNvbmFsLWZyZWVtYWlsQHRoYXd0ZS5jb20wHhcNMDAwODMwMDAwMDAw
WhcNMDQwODI3MjM1OTU5WjCBkjELMAkGA1UEBhMCWkExFTATBgNVBAgTDFdlc3Rlcm4gQ2Fw
ZTESMBAGA1UEBxMJQ2FwZSBUb3duMQ8wDQYDVQQKEwZUaGF3dGUxHTAbBgNVBAsTFENlcnRp
ZmljYXRlIFNlcnZpY2VzMSgwJgYDVQQDEx9QZXJzb25hbCBGcmVlbWFpbCBSU0EgMjAwMC44
LjMwMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDeMzKmY8cJJUU+0m54J2eBxdqIGYKX
DuNEKYpjNSptcDz63K737nRvMLwzkH/5NHGgo22Y8cNPomXbDfpL8dbdYaX5hc1VmjUanZJ1
qCeu2HL5ugL217CR3hzpq+AYA6h8Q0JQUYeDPPA5tJtUihOH/7ObnUlmAC0JieyUa+mhaQID
AQABo04wTDApBgNVHREEIjAgpB4wHDEaMBgGA1UEAxMRUHJpdmF0ZUxhYmVsMS0yOTcwEgYD
VR0TAQH/BAgwBgEB/wIBADALBgNVHQ8EBAMCAQYwDQYJKoZIhvcNAQEEBQADgYEAMbFLR135
AXHl9VNsXXnWPZjAJhNigSKnEvgilegbSbcnewQ5uvzm8iTrkfq97A0qOPdQVahs9w2tTBu8
A/S166JHn2yiDFiNMUIJEWywGmnRKxKyQF1q+XnQ6i4l3Yrk/NsNH50C81rbyjz2ROomaYd/
SJ7OpZ/nhNjJYmKtBcYxggPVMIID0QIBATCBmjCBkjELMAkGA1UEBhMCWkExFTATBgNVBAgT
DFdlc3Rlcm4gQ2FwZTESMBAGA1UEBxMJQ2FwZSBUb3duMQ8wDQYDVQQKEwZUaGF3dGUxHTAb
BgNVBAsTFENlcnRpZmljYXRlIFNlcnZpY2VzMSgwJgYDVQQDEx9QZXJzb25hbCBGcmVlbWFp
bCBSU0EgMjAwMC44LjMwAgMIbe8wCQYFKw4DAhoFAKCCAg8wGAYJKoZIhvcNAQkDMQsGCSqG
SIb3DQEHATAcBgkqhkiG9w0BCQUxDxcNMDMwOTE5MTYyODAwWjAjBgkqhkiG9w0BCQQxFgQU
nTBIzNPCpTHAlqsc9uNeqrdSvH4wUgYJKoZIhvcNAQkPMUUwQzAKBggqhkiG9w0DBzAOBggq
hkiG9w0DAgICAIAwDQYIKoZIhvcNAwICAUAwBwYFKw4DAgcwDQYIKoZIhvcNAwICASgwgasG
CSsGAQQBgjcQBDGBnTCBmjCBkjELMAkGA1UEBhMCWkExFTATBgNVBAgTDFdlc3Rlcm4gQ2Fw
ZTESMBAGA1UEBxMJQ2FwZSBUb3duMQ8wDQYDVQQKEwZUaGF3dGUxHTAbBgNVBAsTFENlcnRp
ZmljYXRlIFNlcnZpY2VzMSgwJgYDVQQDEx9QZXJzb25hbCBGcmVlbWFpbCBSU0EgMjAwMC44
LjMwAgMIbe8wga0GCyqGSIb3DQEJEAILMYGdoIGaMIGSMQswCQYDVQQGEwJaQTEVMBMGA1UE
CBMMV2VzdGVybiBDYXBlMRIwEAYDVQQHEwlDYXBlIFRvd24xDzANBgNVBAoTBlRoYXd0ZTEd
MBsGA1UECxMUQ2VydGlmaWNhdGUgU2VydmljZXMxKDAmBgNVBAMTH1BlcnNvbmFsIEZyZWVt
YWlsIFJTQSAyMDAwLjguMzACAwht7zANBgkqhkiG9w0BAQEFAASCAQCR1R7agaWcjC99RZ2X
ghPFv0o8hyi5ws3gXdf0VPFJUPWyybnVgfkJD3afF4Ei6nI4Ho+gX7nRQKG3Ho0qVsh6Ltja
3lDDkYt7HsHrbwqrqe7xGFJAxkjbcce81e+Mh7Y4a7wbL6oi/7ozgfPBrjNBP6Qx0x+lq4Gw
WA+921P2wQYvWOKzKCRmkKLlIiQBQYPTjrUpH4KReqV4KLSqjn6/mZTq46ImuDPapJa/oiik
tVCFl7Vl2bRUmih8ZPLrs8WtSNIDVimwoQW62RkuT1U+unpyhn/Rn1NvAdvoi75tmiBsAlL9
6sTlGibGukjHz64zf2/K8wv5iQlaLNV7xsPGAAAAAAAA
--------------ms030507070307070109080406--


From erik@ehatchersolutions.com  Fri Sep 19 23:45:20 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82042 invoked from network); 19 Sep 2003 23:45:20 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 19 Sep 2003 23:45:20 -0000
Received: (cpmta 22528 invoked from network); 19 Sep 2003 16:45:27 -0700
Received: from 128.143.184.10 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 19 Sep 2003 16:45:27 -0700
X-Sent: 19 Sep 2003 23:45:27 GMT
Date: Fri, 19 Sep 2003 19:45:29 -0400
Subject: Re: some requests
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <00d701c37ec0$d522e3c0$9e0010ac@thopny.triplehop.com>
Message-Id: <598A7718-EAFB-11D7-9260-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Friday, September 19, 2003, at 11:15  AM, hui wrote:
> 1. Move the Analyzer down to field level from document level so some 
> fields
> could be applied a specail analyzer.Other fields still use the default
> analyzer from the document level.
> For example, I do not need to index the number for the "content" 
> field. It
> helps me reduce the index size a lot when I have some excel files. But 
> I
> always need the "created_date" to be indexed though it is a number 
> field.
>
> I know there are some workarounds put in the group, but I think it 
> should be
> a good feature to have.

The "workaround" is to write a custom analyzer and and have it do the 
desired thing per-field.

Hmmm.... just thinking out loud here without knowing if this is 
possible, but could a generic "wrapper" Analyzer be written that allows 
other analyzers to be used under the covers based on a field 
name/analyzer mapping?   If so, that would be quite cool and save folks 
from having to write custom analyzers as much to handle this pretty 
typical use-case.  I'll look into this more in the very near future 
personally, but feel free to have a look at this yourself and see what 
you can come up with.

	Erik


From erik@ehatchersolutions.com  Sat Sep 20 00:07:53 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98135 invoked from network); 20 Sep 2003 00:07:53 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.66)
  by daedalus.apache.org with SMTP; 20 Sep 2003 00:07:53 -0000
Received: (cpmta 22702 invoked from network); 19 Sep 2003 17:07:59 -0700
Received: from 128.143.184.10 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.66) with SMTP; 19 Sep 2003 17:07:59 -0700
X-Sent: 20 Sep 2003 00:07:59 GMT
Date: Fri, 19 Sep 2003 20:08:00 -0400
Subject: Re: HTML Parsing problems...
Content-Type: text/plain; delsp=yes; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <5.2.0.9.0.20030918163957.040bdaa0@mail.visionstudio.com>
Message-Id: <7F397200-EAFE-11D7-9260-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I'm going to swap in the neko HTML parser for the demo refactorings I'm  
doing.  I would be all for replacing the demo HTML parser with this.

If you look at the Ant <index> task in the sandbox, you'll see that I  
used JTidy for it and it works well, but I've heard that neko is faster  
and better so I'll give it a try.

	Erik


On Thursday, September 18, 2003, at 04:50  PM, Michael Giles wrote:

> I know, I know, the HTML Parser in the demo is just that (i.e. a  
> demo), but I also know that it is updated from time to time and  
> performs much better than the other ones that I have tested.   
> Frustratingly, the very first page I tried to parse failed  
> (<http://www.theregister.co.uk/content/54/32593.html>http:// 
> www.theregister.co.uk/content/54/32593.html). It seems to be choking  
> on tags that are being written inside of JavaScript code (i.e.  
> document.write('</scr' + 'ipt>');.  Obviously, the simple solution  
> (that I am using with another parser) is to just ignore everything  
> inside of <script> tags.  It appears that the parser is ignoring text  
> inside script tags, but it seems like it needs to be a bit smarter (or  
> maybe dumber) about how it deals with this (so it doesn't get confused  
> by such occurrences).  I see a bug has been filed regarding trouble  
> parsing JavaScript, has anyone given it thought?
>
> Outside of the HTML parsing, all is well (and outside of a few pages,  
> the parser is a champ).
>
> Thanks!
> -Mike 
>  


From buics123@yahoo.com  Sat Sep 20 02:24:24 2003
Return-Path: <buics123@yahoo.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66416 invoked from network); 20 Sep 2003 02:24:24 -0000
Received: from unknown (HELO web41906.mail.yahoo.com) (66.218.93.157)
  by daedalus.apache.org with SMTP; 20 Sep 2003 02:24:24 -0000
Message-ID: <20030920022434.58487.qmail@web41906.mail.yahoo.com>
Received: from [64.15.239.34] by web41906.mail.yahoo.com via HTTP; Fri, 19 Sep 2003 19:24:34 PDT
Date: Fri, 19 Sep 2003 19:24:34 -0700 (PDT)
From: Rociel Buico <buics123@yahoo.com>
Subject: Re: cant rename segments.new to segment
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <3F6B2E90.7010105@jivesoftware.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-220724919-1064024674=:57338"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--0-220724919-1064024674=:57338
Content-Type: text/plain; charset=us-ascii

i have downloaded the lucene-20030909.jar and its ok now, 
but i have to stress test my application first.
 
btw, im running it on windows 2000
 
cheers,
buics

Bruce Ritchie <bruce@jivesoftware.com> wrote:
Wilton, Reece wrote:

> Are people having this same issue on Linux or is this just a Windows
> issue?

I've only heard of the issue on Windows - I believe a patch from Matt Tucker was actually 
incorporated into Lucene that made some attempt to work around this issue.


Regards,

Bruce Ritchie


> ATTACHMENT part 2 application/x-pkcs7-signature name=smime.p7s


---------------------------------
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
--0-220724919-1064024674=:57338--

From mgiles@visionstudio.com  Sat Sep 20 10:59:27 2003
Return-Path: <mgiles@visionstudio.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42907 invoked from network); 20 Sep 2003 10:59:27 -0000
Received: from unknown (HELO SuperNova2.cwihosting.com) (66.216.127.37)
  by daedalus.apache.org with SMTP; 20 Sep 2003 10:59:27 -0000
Received: from h0004763fc2ea.ne.client2.attbi.com ([24.91.229.13] helo=mgiles-office.visionstudio.com)
	by SuperNova2.cwihosting.com with asmtp (Exim 4.20)
	id 1A0fSY-0006BS-M1
	for lucene-user@jakarta.apache.org; Sat, 20 Sep 2003 05:59:26 -0500
Message-Id: <5.2.0.9.0.20030920064712.040efe98@mail.visionstudio.com>
X-Sender: mgiles%visionstudio.com@mail.visionstudio.com
X-Mailer: QUALCOMM Windows Eudora Version 5.2.0.9
Date: Sat, 20 Sep 2003 06:59:31 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Michael Giles <mgiles@visionstudio.com>
Subject: Re: HTML Parsing problems...
In-Reply-To: <7F397200-EAFE-11D7-9260-000393A564E6@ehatchersolutions.com
 >
References: <5.2.0.9.0.20030918163957.040bdaa0@mail.visionstudio.com>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - SuperNova2.cwihosting.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - visionstudio.com
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Erik,

Probably a good idea to swap something else in, although Neko introduces a 
dependency on Xerces.  I didn't play with Neko because I am currently using 
a different XML parser and didn't want to deal with the conflicts (and also 
find dependencies on specific parsers annoying).  However, yesterday I 
downloaded TagSoup(http://mercury.ccil.org/~cowan/XML/tagsoup/) and it is 
great!  It is small and fast and so far has parsed every page I've thrown 
at it.  I wrote a SAX ContentHandler that only grabs the text and does a 
few other little things (like inserting spaces, removing tabs/line feeds, 
grabbing title) and it seems to be a perfect fit for the job.  It requires 
the SAX framework, but is parser independent.  The only tweak I made to the 
TagSoup code was to add an "else" to deal with a bug where it was consuming 
";" after entities that it did not deal with.

If Neko is potentially headed into the Apache fold, that probably makes 
sense.  But if you are interested in my TagSoup ContentHandler for testing 
it out, just let me know.

-Mike

At 08:08 PM 9/19/2003 -0400, you wrote:
>I'm going to swap in the neko HTML parser for the demo refactorings I'm
>doing.  I would be all for replacing the demo HTML parser with this.
>
>If you look at the Ant <index> task in the sandbox, you'll see that I
>used JTidy for it and it works well, but I've heard that neko is faster
>and better so I'll give it a try.
>
>         Erik
>



From senthilkumar_k@trigent.com  Sat Sep 20 11:36:26 2003
Return-Path: <senthilkumar_k@trigent.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67953 invoked from network); 20 Sep 2003 11:36:26 -0000
Received: from unknown (HELO kovalam.trigent.com) (207.53.39.25)
  by daedalus.apache.org with SMTP; 20 Sep 2003 11:36:26 -0000
Received: from TSLC0463 (TSLC0463.trigent.com [207.53.39.228])
          by kovalam.trigent.com (Netscape Mail Server v2.02) with SMTP
          id AAA162 for <lucene-user@jakarta.apache.org>;
          Sat, 20 Sep 2003 17:00:49 +0530
Reply-To: <senthilkumar_k@trigent.com>
From: "Senthil Kumar K" <senthilkumar_k@trigent.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: How to search document for modified date
Date: Sat, 20 Sep 2003 17:08:49 +0530
Message-ID: <000001c37f6b$c2f35120$e42735cf@trigent.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
In-Reply-To: <20030920022434.58487.qmail@web41906.mail.yahoo.com>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4927.1200
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

    How to make query to search in the lucene index
for document with specified date.While indexing
i made
 doc.add(Field.Keyword("modified",
DateField.timeToString(f.lastModified())))
like this.

If any one knows how to search for documents with specific date.
please give me a sample query.

thanks in advance.
regards,
k.senthilkumar.

-----Original Message-----
From: Rociel Buico [mailto:buics123@yahoo.com]
Sent: Saturday, September 20, 2003 7:55 AM
To: Lucene Users List
Subject: Re: cant rename segments.new to segment


i have downloaded the lucene-20030909.jar and its ok now,
but i have to stress test my application first.

btw, im running it on windows 2000

cheers,
buics

Bruce Ritchie <bruce@jivesoftware.com> wrote:
Wilton, Reece wrote:

> Are people having this same issue on Linux or is this just a Windows
> issue?

I've only heard of the issue on Windows - I believe a patch from Matt
Tucker was actually
incorporated into Lucene that made some attempt to work around this
issue.


Regards,

Bruce Ritchie


> ATTACHMENT part 2 application/x-pkcs7-signature name=smime.p7s


---------------------------------
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software


From erik@ehatchersolutions.com  Sat Sep 20 13:11:35 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24889 invoked from network); 20 Sep 2003 13:11:35 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.66)
  by daedalus.apache.org with SMTP; 20 Sep 2003 13:11:35 -0000
Received: (cpmta 926 invoked from network); 20 Sep 2003 06:11:35 -0700
Received: from 128.143.211.51 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.66) with SMTP; 20 Sep 2003 06:11:35 -0700
X-Sent: 20 Sep 2003 13:11:35 GMT
Date: Sat, 20 Sep 2003 09:11:36 -0400
Subject: Re: How to search document for modified date
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <000001c37f6b$c2f35120$e42735cf@trigent.com>
Message-Id: <F709B3E1-EB6B-11D7-83C0-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Saturday, September 20, 2003, at 07:38  AM, Senthil Kumar K wrote:
> Hi,
>
>     How to make query to search in the lucene index
> for document with specified date.While indexing
> i made
>  doc.add(Field.Keyword("modified",
> DateField.timeToString(f.lastModified())))
> like this.
>
> If any one knows how to search for documents with specific date.
> please give me a sample query.

Query query = new TermQuery(new Term("modified", 
DateField.dateToString(date));

You could also do this with QueryParser expressions, although there are 
some caveats to date fields and its usage (must use default locale 
short date format strings, for instance).

	Erik


From erik@ehatchersolutions.com  Sat Sep 20 13:11:56 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25717 invoked from network); 20 Sep 2003 13:11:56 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.72)
  by daedalus.apache.org with SMTP; 20 Sep 2003 13:11:56 -0000
Received: (cpmta 20538 invoked from network); 20 Sep 2003 06:11:57 -0700
Received: from 128.143.211.51 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.72) with SMTP; 20 Sep 2003 06:11:57 -0700
X-Sent: 20 Sep 2003 13:11:57 GMT
Date: Sat, 20 Sep 2003 04:13:44 -0400
Subject: per-field Analyzer (was Re: some requests)
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <598A7718-EAFB-11D7-9260-000393A564E6@ehatchersolutions.com>
Message-Id: <5A4393E2-EB42-11D7-83C0-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Friday, September 19, 2003, at 07:45  PM, Erik Hatcher wrote:
> On Friday, September 19, 2003, at 11:15  AM, hui wrote:
>> 1. Move the Analyzer down to field level from document level so some 
>> fields
>> could be applied a specail analyzer.Other fields still use the default
>> analyzer from the document level.
>> For example, I do not need to index the number for the "content" 
>> field. It
>> helps me reduce the index size a lot when I have some excel files. 
>> But I
>> always need the "created_date" to be indexed though it is a number 
>> field.
>>
>> I know there are some workarounds put in the group, but I think it 
>> should be
>> a good feature to have.
>
> The "workaround" is to write a custom analyzer and and have it do the 
> desired thing per-field.
>
> Hmmm.... just thinking out loud here without knowing if this is 
> possible, but could a generic "wrapper" Analyzer be written that 
> allows other analyzers to be used under the covers based on a field 
> name/analyzer mapping?   If so, that would be quite cool and save 
> folks from having to write custom analyzers as much to handle this 
> pretty typical use-case.  I'll look into this more in the very near 
> future personally, but feel free to have a look at this yourself and 
> see what you can come up with.

What about something like this?

public class PerFieldWrapperAnalyzer extends Analyzer {
   private Analyzer defaultAnalyzer;
   private Map analyzerMap = new HashMap();


   public PerFieldWrapperAnalyzer(Analyzer defaultAnalyzer) {
     this.defaultAnalyzer = defaultAnalyzer;
   }

   public void addAnalyzer(String fieldName, Analyzer analyzer) {
     analyzerMap.put(fieldName, analyzer);
   }

   public TokenStream tokenStream(String fieldName, Reader reader) {
     Analyzer analyzer = (Analyzer) analyzerMap.get(fieldName);
     if (analyzer == null) {
       analyzer = defaultAnalyzer;
     }

     return analyzer.tokenStream(fieldName, reader);
   }
}

This would allow you to construct a single analyzer out of others, on a 
per-field basis, including a default one for any fields that do not 
have a special one.  Whether the constructor should take the map or the 
addAnalyzer method is implemented is debatable, but I prefer the 
addAnalyzer way.  Maybe addAnalyzer could return 'this' so you could 
chain: new PerFieldWrapperAnalyzer(new 
StandardAnalyzer).addAnalyzer("field1", new 
WhitespaceAnalyzer()).addAnalyzer(.....).  And I'm more inclined to 
call this thing PerFieldAnalyzerWrapper instead.  Any naming 
suggestions?

This simple little class would seem to be the answer to a very common 
question asked.

Thoughts?  Should this be made part of the core?

	Erik


From senthilkumar_k@trigent.com  Sun Sep 21 09:36:09 2003
Return-Path: <senthilkumar_k@trigent.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26154 invoked from network); 21 Sep 2003 09:36:09 -0000
Received: from unknown (HELO kovalam.trigent.com) (207.53.39.25)
  by daedalus.apache.org with SMTP; 21 Sep 2003 09:36:09 -0000
Received: from TSLC0463 (TSLC0463.trigent.com [207.53.39.228])
          by kovalam.trigent.com (Netscape Mail Server v2.02) with SMTP
          id AAA74 for <lucene-user@jakarta.apache.org>;
          Sun, 21 Sep 2003 15:00:43 +0530
Reply-To: <senthilkumar_k@trigent.com>
From: "Senthil Kumar K" <senthilkumar_k@trigent.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: How to search document for modified date
Date: Sun, 21 Sep 2003 15:08:46 +0530
Message-ID: <000001c38024$28358540$e42735cf@trigent.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
In-Reply-To: <F709B3E1-EB6B-11D7-83C0-000393A564E6@ehatchersolutions.com>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4927.1200
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

  Erik thanks for your reply. 
  How to do using QueryParser expressions.

senthilkumar.k


-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Saturday, September 20, 2003 6:42 PM
To: Lucene Users List
Subject: Re: How to search document for modified date


On Saturday, September 20, 2003, at 07:38  AM, Senthil Kumar K wrote:
> Hi,
>
>     How to make query to search in the lucene index
> for document with specified date.While indexing
> i made
>  doc.add(Field.Keyword("modified",
> DateField.timeToString(f.lastModified())))
> like this.
>
> If any one knows how to search for documents with specific date.
> please give me a sample query.

Query query = new TermQuery(new Term("modified", 
DateField.dateToString(date));

You could also do this with QueryParser expressions, although there are 
some caveats to date fields and its usage (must use default locale 
short date format strings, for instance).

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

From terry@net-frame.com  Sun Sep 21 18:00:58 2003
Return-Path: <terry@net-frame.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57769 invoked from network); 21 Sep 2003 18:00:58 -0000
Received: from unknown (HELO hall.mail.mindspring.net) (207.69.200.60)
  by daedalus.apache.org with SMTP; 21 Sep 2003 18:00:58 -0000
Received: from h-68-166-69-126.mclnva23.covad.net ([68.166.69.126] helo=POWERPACK)
	by hall.mail.mindspring.net with smtp (Exim 3.33 #1)
	id 1A18W6-0001N7-00
	for lucene-user@jakarta.apache.org; Sun, 21 Sep 2003 14:01:02 -0400
Message-ID: <006e01c3806a$561c74a0$0201a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users Group" <lucene-user@jakarta.apache.org>
Subject: Broken by Lock
Date: Sun, 21 Sep 2003 14:01:08 -0400
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_006B_01C38048.CEB9F580"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_006B_01C38048.CEB9F580
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

About a month ago, timeouts were added to Lock (and they seem to make a =
lot of good sense).  However, because of this enhancement, in using the =
latest CVS my application broke - I keep getting the message "Lock =
obtain timed out".  I looked through the source in an attempt to figure =
out a quick way to set something to provide backward compatibility, but =
it didn't leap out at me. =20

Does anyone know of a simple way to do this?

Regards,

Terry


------=_NextPart_000_006B_01C38048.CEB9F580--


From sg@media-style.com  Sun Sep 21 19:40:10 2003
Return-Path: <sg@media-style.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12485 invoked from network); 21 Sep 2003 19:40:10 -0000
Received: from unknown (HELO sioux.media-style.com) (212.122.43.147)
  by daedalus.apache.org with SMTP; 21 Sep 2003 19:40:10 -0000
Received: from dsl-213-023-066-106.arcor-ip.net ([213.23.66.106] helo=media-style.com)
	by sioux.media-style.com with asmtp (Exim 3.35 #1 (Debian))
	id 1A19vm-0006Gu-00
	for <lucene-user@jakarta.apache.org>; Sun, 21 Sep 2003 21:31:38 +0200
Message-ID: <3F6DFEA2.50805@media-style.com>
Date: Sun, 21 Sep 2003 21:40:18 +0200
From: Stefan Groschupf <sg@media-style.com>
Reply-To:  sg@media-style.com
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030624 Netscape/7.1 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: pre analysing
References: <006e01c3806a$561c74a0$0201a8c0@POWERPACK>
In-Reply-To: <006e01c3806a$561c74a0$0201a8c0@POWERPACK>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi there,

I wish to run an pre analyzer that help me to choice the right analyzer 
I wish to run on my stream.
For instance i wish to analyze the language of my text and choice then 
an language dependent stop word remover.
Since it is a token stream an my language detection need the whole text 
to identify the language, how to implement a pre Analyzer?

I wish to do something like a pipeline.

Thanks for any hints.

Stefan




From terry@net-frame.com  Sun Sep 21 21:23:55 2003
Return-Path: <terry@net-frame.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89940 invoked from network); 21 Sep 2003 21:23:55 -0000
Received: from unknown (HELO hall.mail.mindspring.net) (207.69.200.60)
  by daedalus.apache.org with SMTP; 21 Sep 2003 21:23:55 -0000
Received: from h-68-166-69-126.mclnva23.covad.net ([68.166.69.126] helo=POWERPACK)
	by hall.mail.mindspring.net with smtp (Exim 3.33 #1)
	id 1A1BgX-00000X-00
	for lucene-user@jakarta.apache.org; Sun, 21 Sep 2003 17:24:01 -0400
Message-ID: <008e01c38086$b176c5f0$0201a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <00ce01c37d52$98132e50$0401a8c0@POWERPACK> <3F68CA57.2000000@lucene.com> <00eb01c37d63$60106f70$0401a8c0@POWERPACK> <3F68D749.6050100@lucene.com> <010901c37d74$ae679c50$0401a8c0@POWERPACK> <3F69234B.7000603@lucene.com> <016101c37dee$9e0ebbc0$0401a8c0@POWERPACK>
Subject: Re: Lucene Scoring Behavior
Date: Sun, 21 Sep 2003 17:24:08 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Doug,

Well, my good intentions (to reindex on Thursday night) were interrupted by
Hurricaine Isabel (followed by a 44 hour power outtage).

Well, excuses aside, I did get the reindex done today and the scores for all
hits from a single date query come out to be the same score (as they
should).  Don't have any idea what screwed up the previous index - though as
promised, I'll keep an eye on it as I continue to merge new stuff over the
next few days/weeks.

Is there a way, using standard Lucene configuration parameters and/or API's,
to force the hit scores to come out so the highest one is set to 1, and the
others are proportionately lower?

Regards,

Terry

----- Original Message -----
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, September 18, 2003 10:10 AM
Subject: Re: Lucene Scoring Behavior


> Doug,
>
> I just extracted a portion of the database, reindexed and found the scores
> to come out much more like we'd expect.  Appears this may be an indexing
> issue - I index new stuff each day and merge the new index with the master
> index.  Only redo the master when I can't avoid it (because it takes so
> long).  I probably merge 100 times or more before reindexing.  This
evening
> I'll reindex and let you know if the apparent problem clears up.  If so,
> I'll keep track of it as I continue to merge and see if there's any issue
> there.
>
> Thanks for the input (and from Erik, pointing me to the Explanation - it's
> pretty neat).
>
> Question: The new scores for the test database portion mentioned above all
> seem to come out in the range of .06 to .07.  I assume this is because
they
> never get normalized.  If this is the case, (a) would it hurt anything to
> "normalize up" (so the scores range up to 1), and if so (b) is there an
> easy, non-disruptive (to the source code) way to do this?
>
> Regards,
>
> Terry
>
>
> ----- Original Message -----
> From: "Doug Cutting" <cutting@lucene.com>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Wednesday, September 17, 2003 11:15 PM
> Subject: Re: Lucene Scoring Behavior
>
>
> > Hmm.  This makes no sense to me.  Can you supply a reproducible
> > standalone test case?
> >
> > Doug
> >
> > Terry Steichen wrote:
> > > Doug,
> > >
> > > (1) No, I did *not* boost the pub_date field, either in the indexing
> process
> > > or in the query itself.
> > >
> > > (2) And, each pub_date field of each document (which is in XML format)
> > > contains only one instance of the date string.
> > >
> > > (3) And only the pub_date field itself is indexed.  There are other
> > > attributes of this field that may contain the date string, but they
> aren't
> > > indexed - that is, they are not included in the instantiated Document
> class.
> > >
> > > Regards,
> > >
> > > Terry
> > >
> > > ----- Original Message -----
> > > From: "Doug Cutting" <cutting@lucene.com>
> > > To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> > > Sent: Wednesday, September 17, 2003 5:51 PM
> > > Subject: Re: Lucene Scoring Behavior
> > >
> > >
> > >
> > >>Terry Steichen wrote:
> > >>
> > >>>  0.03125 = fieldNorm(field=pub_date, doc=90992)
> > >>>  1.0 = fieldNorm(field=pub_date, doc=90970)
> > >>
> > >>It looks like the fieldNorm's are what differ, not the IDFs.  These
are
> > >>the product of the document and/or field boost, and 1/sqrt(numTerms)
> > >>where numTerms is the number of terms in the "pub_date" field of the
> > >>document.  Thus if each document is only assigned one date, and you
> > >>didn't boost the field or the document when you indexed it, this
should
> > >>be 1.0.  But if the document has two dates, then this would be
> > >>1/sqrt(2).  Or if you boosted this document pub_date field, then this
> > >>will have whatever boost you provided.
> > >>
> > >>So, did you boost anything when indexing?  Or could a single document
> > >>have two or more different values for pub_date?  Either would explain
> > >
> > > this.
> > >
> > >>Doug
> > >>
> > >>
> > >>---------------------------------------------------------------------
> > >>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > >>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > >>
> > >
> > >
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


From niall_lennon@hotmail.com  Sun Sep 21 22:13:51 2003
Return-Path: <niall_lennon@hotmail.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19976 invoked from network); 21 Sep 2003 22:13:51 -0000
Received: from unknown (HELO hotmail.com) (64.4.27.28)
  by daedalus.apache.org with SMTP; 21 Sep 2003 22:13:51 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Sun, 21 Sep 2003 15:13:58 -0700
Received: from 194.125.179.88 by by8fd.bay8.hotmail.msn.com with HTTP;
	Sun, 21 Sep 2003 22:13:58 GMT
X-Originating-IP: [194.125.179.88]
X-Originating-Email: [niall_lennon@hotmail.com]
From: "Niall Lennon" <niall_lennon@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: MultiFieldQueryParser & Phrases Problem
Date: Sun, 21 Sep 2003 22:13:58 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <BAY8-F28y6mmgZzWD6600008550@hotmail.com>
X-OriginalArrivalTime: 21 Sep 2003 22:13:58.0540 (UTC) FILETIME=[A77F7CC0:01C3808D]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I'm currently using the MultiFieldQueryParser to search across four fields. 
I'm searching for phrases so i've wrapped my search text in quotes... 
everything worked
fine until i tried to execute a search ending with the 'A' and for some 
reason the A and quotes are ignored e.g.:


Analyzer analyzer = new StandardAnalyzer();
Searcher searcher = new IndexSearcher(IndexReader.open("dbindex"));

String[] fields = {"code_field", "short_description_field", 
"category_field", "manufacturer_field"};
int[] flags = {MultiFieldQueryParser.NORMAL_FIELD, 
MultiFieldQueryParser.NORMAL_FIELD, MultiFieldQueryParser.NORMAL_FIELD, 
MultiFieldQueryParser.NORMAL_FIELD};

Query query =    MultiFieldQueryParser.parse("\"Category A\"", fields, 
flags, analyzer);

System.out.println("query -> " + query);

Hits hits = searcher.search(query);



The System output for the above is as follows:
code_field:category short_description_field:category category_field:category 
manufacturer_field:category



If i execute the same code with the following search text i get the expected 
results:
Query query =    MultiFieldQueryParser.parse("\"Category Z\"", fields, 
flags, analyzer);


code_field:"category z" short_description_field:"category z" 
category_field:"category z" manufacturer_field:"category z"



I' appreicate any help with regards this matter...

_________________________________________________________________
The new MSN 8: advanced junk mail protection and 2 months FREE* 
http://join.msn.com/?page=features/junkmail


From erik@ehatchersolutions.com  Sun Sep 21 22:46:30 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45101 invoked from network); 21 Sep 2003 22:46:30 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.66)
  by daedalus.apache.org with SMTP; 21 Sep 2003 22:46:30 -0000
Received: (cpmta 2285 invoked from network); 21 Sep 2003 15:46:37 -0700
Received: from 128.143.59.121 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.66) with SMTP; 21 Sep 2003 15:46:36 -0700
X-Sent: 21 Sep 2003 22:46:36 GMT
Date: Sun, 21 Sep 2003 18:46:38 -0400
Subject: Re: MultiFieldQueryParser & Phrases Problem
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <BAY8-F28y6mmgZzWD6600008550@hotmail.com>
Message-Id: <7632A60B-EC85-11D7-92C7-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

StandardAnalyzer removes stop words and "a" is one of them.  That is 
why you have issues with that phrase.

	Erik


On Sunday, September 21, 2003, at 06:13  PM, Niall Lennon wrote:

> I'm currently using the MultiFieldQueryParser to search across four 
> fields. I'm searching for phrases so i've wrapped my search text in 
> quotes... everything worked
> fine until i tried to execute a search ending with the 'A' and for 
> some reason the A and quotes are ignored e.g.:
>
>
> Analyzer analyzer = new StandardAnalyzer();
> Searcher searcher = new IndexSearcher(IndexReader.open("dbindex"));
>
> String[] fields = {"code_field", "short_description_field", 
> "category_field", "manufacturer_field"};
> int[] flags = {MultiFieldQueryParser.NORMAL_FIELD, 
> MultiFieldQueryParser.NORMAL_FIELD, 
> MultiFieldQueryParser.NORMAL_FIELD, 
> MultiFieldQueryParser.NORMAL_FIELD};
>
> Query query =    MultiFieldQueryParser.parse("\"Category A\"", fields, 
> flags, analyzer);
>
> System.out.println("query -> " + query);
>
> Hits hits = searcher.search(query);
>
>
>
> The System output for the above is as follows:
> code_field:category short_description_field:category 
> category_field:category manufacturer_field:category
>
>
>
> If i execute the same code with the following search text i get the 
> expected results:
> Query query =    MultiFieldQueryParser.parse("\"Category Z\"", fields, 
> flags, analyzer);
>
>
> code_field:"category z" short_description_field:"category z" 
> category_field:"category z" manufacturer_field:"category z"
>
>
>
> I' appreicate any help with regards this matter...
>
> _________________________________________________________________
> The new MSN 8: advanced junk mail protection and 2 months FREE* 
> http://join.msn.com/?page=features/junkmail
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From niall_lennon@hotmail.com  Mon Sep 22 00:20:24 2003
Return-Path: <niall_lennon@hotmail.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3888 invoked from network); 22 Sep 2003 00:20:24 -0000
Received: from unknown (HELO hotmail.com) (64.4.27.31)
  by daedalus.apache.org with SMTP; 22 Sep 2003 00:20:24 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Sun, 21 Sep 2003 17:20:32 -0700
Received: from 194.125.178.147 by by8fd.bay8.hotmail.msn.com with HTTP;
	Mon, 22 Sep 2003 00:20:32 GMT
X-Originating-IP: [194.125.178.147]
X-Originating-Email: [niall_lennon@hotmail.com]
From: "Niall Lennon" <niall_lennon@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: Re: MultiFieldQueryParser & Phrases Problem
Date: Mon, 22 Sep 2003 00:20:32 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <BAY8-F310w59ZQoMCfR00008836@hotmail.com>
X-OriginalArrivalTime: 22 Sep 2003 00:20:32.0289 (UTC) FILETIME=[55B9A110:01C3809F]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Cheers for that Erik.


>From: Erik Hatcher <erik@ehatchersolutions.com>
>Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>Subject: Re: MultiFieldQueryParser & Phrases Problem
>Date: Sun, 21 Sep 2003 18:46:38 -0400
>
>StandardAnalyzer removes stop words and "a" is one of them.  That is why 
>you have issues with that phrase.
>
>	Erik
>
>
>On Sunday, September 21, 2003, at 06:13  PM, Niall Lennon wrote:
>
>>I'm currently using the MultiFieldQueryParser to search across four 
>>fields. I'm searching for phrases so i've wrapped my search text in 
>>quotes... everything worked
>>fine until i tried to execute a search ending with the 'A' and for some 
>>reason the A and quotes are ignored e.g.:
>>
>>
>>Analyzer analyzer = new StandardAnalyzer();
>>Searcher searcher = new IndexSearcher(IndexReader.open("dbindex"));
>>
>>String[] fields = {"code_field", "short_description_field", 
>>"category_field", "manufacturer_field"};
>>int[] flags = {MultiFieldQueryParser.NORMAL_FIELD, 
>>MultiFieldQueryParser.NORMAL_FIELD, MultiFieldQueryParser.NORMAL_FIELD, 
>>MultiFieldQueryParser.NORMAL_FIELD};
>>
>>Query query =    MultiFieldQueryParser.parse("\"Category A\"", fields, 
>>flags, analyzer);
>>
>>System.out.println("query -> " + query);
>>
>>Hits hits = searcher.search(query);
>>
>>
>>
>>The System output for the above is as follows:
>>code_field:category short_description_field:category 
>>category_field:category manufacturer_field:category
>>
>>
>>
>>If i execute the same code with the following search text i get the 
>>expected results:
>>Query query =    MultiFieldQueryParser.parse("\"Category Z\"", fields, 
>>flags, analyzer);
>>
>>
>>code_field:"category z" short_description_field:"category z" 
>>category_field:"category z" manufacturer_field:"category z"
>>
>>
>>
>>I' appreicate any help with regards this matter...
>>
>>_________________________________________________________________
>>The new MSN 8: advanced junk mail protection and 2 months FREE* 
>>http://join.msn.com/?page=features/junkmail
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

_________________________________________________________________
The new MSN 8: smart spam protection and 2 months FREE*  
http://join.msn.com/?page=features/junkmail


From erik@ehatchersolutions.com  Mon Sep 22 02:27:47 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96305 invoked from network); 22 Sep 2003 02:27:47 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.66)
  by daedalus.apache.org with SMTP; 22 Sep 2003 02:27:47 -0000
Received: (cpmta 25650 invoked from network); 21 Sep 2003 19:27:26 -0700
Received: from 128.143.59.121 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.66) with SMTP; 21 Sep 2003 19:27:26 -0700
X-Sent: 22 Sep 2003 02:27:26 GMT
Date: Sun, 21 Sep 2003 22:27:27 -0400
Subject: Re: How to search document for modified date
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <000001c38024$28358540$e42735cf@trigent.com>
Message-Id: <4F134AD8-ECA4-11D7-92C7-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Sunday, September 21, 2003, at 05:38  AM, Senthil Kumar K wrote:
> Hi,
>
>   Erik thanks for your reply.
>   How to do using QueryParser expressions.

My personal take is using the date support in Lucene is not all that 
fun or easy because of the contortions necessary to deal with it.  But, 
QueryParser supports date field ranges (but not a term query by date 
field).  So, you can do it this way:

	date:[1/1/04 TO 1/1/04] for inclusive date ranges (only 1/1/04 found)
	date:{1/1/04 TO 1/5/04} for exclusive ranges (dates 1/2, 1/3, and 
1/4/04 are found, but not 1/1 or 1/5/04)



From senthilkumar_k@trigent.com  Mon Sep 22 06:04:21 2003
Return-Path: <senthilkumar_k@trigent.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31439 invoked from network); 22 Sep 2003 06:04:21 -0000
Received: from unknown (HELO kovalam.trigent.com) (207.53.39.25)
  by daedalus.apache.org with SMTP; 22 Sep 2003 06:04:21 -0000
Received: from TSLC0463 (TSLC0463.trigent.com [207.53.39.228])
          by kovalam.trigent.com (Netscape Mail Server v2.02) with SMTP
          id AAA230 for <lucene-user@jakarta.apache.org>;
          Mon, 22 Sep 2003 11:28:51 +0530
Reply-To: <senthilkumar_k@trigent.com>
From: "Senthil Kumar K" <senthilkumar_k@trigent.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: Is it possible in lucene for numeric search
Date: Mon, 22 Sep 2003 11:36:58 +0530
Message-ID: <000001c380cf$bbcff6e0$e42735cf@trigent.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
In-Reply-To: <4F134AD8-ECA4-11D7-92C7-000393A564E6@ehatchersolutions.com>
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4927.1200
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,
   
  I found that lucene is a full-featured text search engine. Is it 
possible to make it for numeric search. In my appl. I need to look 
in to the index for score=75. 

regards,
k.senthilkumar 


From avp@imente.com  Mon Sep 22 08:00:27 2003
Return-Path: <avp@imente.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37456 invoked from network); 22 Sep 2003 08:00:27 -0000
Received: from unknown (HELO gustavo.imente.com) (62.97.113.150)
  by daedalus.apache.org with SMTP; 22 Sep 2003 08:00:27 -0000
Received: from imente.com (135.Red-80-36-51.pooles.rima-tde.net [80.36.51.135])
	by gustavo.imente.com (Postfix) with ESMTP id 207B7100064
	for <lucene-user@jakarta.apache.org>; Mon, 22 Sep 2003 10:00:13 +0200 (CEST)
Message-ID: <3F6EAB9A.1080603@imente.com>
Date: Mon, 22 Sep 2003 09:58:18 +0200
From: Albert Vila Puig <avp@imente.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: Distributed Indexing
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I have to develop a distributed search engine for my company. Im very 
interested with the Lucene index format, and I want to use it. The main 
problem is how to distribute the index in the different machines.

The solution is not just copy the index, because I have to manage 50Gb 
of data. I want to distribute the index in a more efficient way, Ive 
thought the best was doing it by document, by field or by term.

For example, I can distribute half the data by document, having 
documents in one computer and other documents in another (thats the 
simplest way, but you have to send a query to all the servers).

Another way is distribute the index by field (I work only with XML data, 
so a field will be a Xml element), having one field in one server, and 
another one in other. This version seems more efficient because you only 
have to send the query depending what field the user want to search.

The last solution is distribute the index by term. Then you only have to 
send the query to those servers containing this term. Using the field 
and term solution, I dont want to distribute the documents with the 
index (because on document can contain a lot of terms, and I dont want 
to distribute the same document in all the computers), just the 
documentID, and have the pair <documentID, document> in another computer.

Im planning to have an indexing server, which will be in charge of 
indexing the data and then distribute it over the n backend servers 
(depending if the distribution is per document, per field or per term; 
the indexing server will have to look the lucene index and distribute 
only the needed parts). Then, the search server will know these 
distribution and will only send the queries to the appropriate servers.

I want a include replication in order to increase the fiability as well.

Any comments, suggestions and/or problems. Do you think It is a 
realistic/good solution?

Thanks,

Albert


From ab@getopt.org  Mon Sep 22 12:41:27 2003
Return-Path: <ab@getopt.org>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43622 invoked from network); 22 Sep 2003 12:41:27 -0000
Received: from unknown (HELO mail2.astercity.net) (212.76.33.36)
  by daedalus.apache.org with SMTP; 22 Sep 2003 12:41:27 -0000
Received: from getopt.org (75-mo3-2.acn.waw.pl [62.121.105.75])
	by mail2.astercity.net (sendmail) with ESMTP id 728D21340F
	for <lucene-user@jakarta.apache.org>; Mon, 22 Sep 2003 14:41:26 +0200 (CEST)
Message-ID: <3F6EEE1A.5000800@getopt.org>
Date: Mon, 22 Sep 2003 14:42:02 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: HTML Parsing problems...
References: <5.2.0.9.0.20030918163957.040bdaa0@mail.visionstudio.com> <5.2.0.9.0.20030920064712.040efe98@mail.visionstudio.com>
In-Reply-To: <5.2.0.9.0.20030920064712.040efe98@mail.visionstudio.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Michael Giles wrote:
> Erik,
> 
> Probably a good idea to swap something else in, although Neko introduces 
> a dependency on Xerces.  I didn't play with Neko because I am currently 
> using a different XML parser and didn't want to deal with the conflicts 
> (and also find dependencies on specific parsers annoying).  However, 
> yesterday I downloaded 
> TagSoup(http://mercury.ccil.org/~cowan/XML/tagsoup/) and it is great!  
> It is small and fast and so far has parsed every page I've thrown at 
> it.  I wrote a SAX ContentHandler that only grabs the text and does a 
> few other little things (like inserting spaces, removing tabs/line 
> feeds, grabbing title) and it seems to be a perfect fit for the job.  It 
> requires the SAX framework, but is parser independent.  The only tweak I 
> made to the TagSoup code was to add an "else" to deal with a bug where 
> it was consuming ";" after entities that it did not deal with.

TagSoup is great - however, it is not maintained nor developed (the same 
could be said about JTidy as well, but TagSoup's history is much 
shorter...). I'm using HTMLParser (http://htmlparser.sourceforge.net) 
for my application, and it also works very well, even for ill-formed 
input. It's also very actively developed.

-- 
Best regards,
Andrzej Bialecki

-------------------------------------------------
Software Architect, System Integration Specialist
CEN/ISSS EC Workshop, ECIMF project chair
EU FP6 E-Commerce Expert/Evaluator
-------------------------------------------------
FreeBSD developer (http://www.freebsd.org)




From erik@ehatchersolutions.com  Mon Sep 22 13:09:13 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91931 invoked from network); 22 Sep 2003 13:09:13 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 22 Sep 2003 13:09:13 -0000
Received: (cpmta 20376 invoked from network); 22 Sep 2003 06:08:42 -0700
Received: from 128.143.59.121 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 22 Sep 2003 06:08:42 -0700
X-Sent: 22 Sep 2003 13:08:42 GMT
Date: Mon, 22 Sep 2003 09:08:44 -0400
Subject: Re: Is it possible in lucene for numeric search
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <000001c380cf$bbcff6e0$e42735cf@trigent.com>
Message-Id: <E4E872E4-ECFD-11D7-99E6-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Yes, you can do numeric searches as long as you realize its really just 
text that is indexed.  You will need to ensure the Analyzer you use 
indexes numbers appropriately as well.

	Erik


On Monday, September 22, 2003, at 02:06  AM, Senthil Kumar K wrote:

> Hi,
>
>   I found that lucene is a full-featured text search engine. Is it
> possible to make it for numeric search. In my appl. I need to look
> in to the index for score=75.
>
> regards,
> k.senthilkumar
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From hui@triplehop.com  Mon Sep 22 13:39:37 2003
Return-Path: <hui@triplehop.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53002 invoked from network); 22 Sep 2003 13:39:37 -0000
Received: from unknown (HELO germany.prod.thop-ny.triplehop.com) (216.74.150.80)
  by daedalus.apache.org with SMTP; 22 Sep 2003 13:39:37 -0000
Received: from hui2000 ([208.246.29.6]) by germany.prod.thop-ny.triplehop.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Mon, 22 Sep 2003 09:44:46 -0400
Message-ID: <02b801c3810f$07d46b40$9e0010ac@thopny.triplehop.com>
From: "hui" <hui@triplehop.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <5A4393E2-EB42-11D7-83C0-000393A564E6@ehatchersolutions.com>
Subject: Re: per-field Analyzer (was Re: some requests)
Date: Mon, 22 Sep 2003 09:40:05 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-OriginalArrivalTime: 22 Sep 2003 13:44:46.0179 (UTC) FILETIME=[AF48EB30:01C3810F]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Good work, Erik.

Hui

----- Original Message ----- 
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Saturday, September 20, 2003 4:13 AM
Subject: per-field Analyzer (was Re: some requests)


> On Friday, September 19, 2003, at 07:45  PM, Erik Hatcher wrote:
> > On Friday, September 19, 2003, at 11:15  AM, hui wrote:
> >> 1. Move the Analyzer down to field level from document level so some 
> >> fields
> >> could be applied a specail analyzer.Other fields still use the default
> >> analyzer from the document level.
> >> For example, I do not need to index the number for the "content" 
> >> field. It
> >> helps me reduce the index size a lot when I have some excel files. 
> >> But I
> >> always need the "created_date" to be indexed though it is a number 
> >> field.
> >>
> >> I know there are some workarounds put in the group, but I think it 
> >> should be
> >> a good feature to have.
> >
> > The "workaround" is to write a custom analyzer and and have it do the 
> > desired thing per-field.
> >
> > Hmmm.... just thinking out loud here without knowing if this is 
> > possible, but could a generic "wrapper" Analyzer be written that 
> > allows other analyzers to be used under the covers based on a field 
> > name/analyzer mapping?   If so, that would be quite cool and save 
> > folks from having to write custom analyzers as much to handle this 
> > pretty typical use-case.  I'll look into this more in the very near 
> > future personally, but feel free to have a look at this yourself and 
> > see what you can come up with.
> 
> What about something like this?
> 
> public class PerFieldWrapperAnalyzer extends Analyzer {
>    private Analyzer defaultAnalyzer;
>    private Map analyzerMap = new HashMap();
> 
> 
>    public PerFieldWrapperAnalyzer(Analyzer defaultAnalyzer) {
>      this.defaultAnalyzer = defaultAnalyzer;
>    }
> 
>    public void addAnalyzer(String fieldName, Analyzer analyzer) {
>      analyzerMap.put(fieldName, analyzer);
>    }
> 
>    public TokenStream tokenStream(String fieldName, Reader reader) {
>      Analyzer analyzer = (Analyzer) analyzerMap.get(fieldName);
>      if (analyzer == null) {
>        analyzer = defaultAnalyzer;
>      }
> 
>      return analyzer.tokenStream(fieldName, reader);
>    }
> }
> 
> This would allow you to construct a single analyzer out of others, on a 
> per-field basis, including a default one for any fields that do not 
> have a special one.  Whether the constructor should take the map or the 
> addAnalyzer method is implemented is debatable, but I prefer the 
> addAnalyzer way.  Maybe addAnalyzer could return 'this' so you could 
> chain: new PerFieldWrapperAnalyzer(new 
> StandardAnalyzer).addAnalyzer("field1", new 
> WhitespaceAnalyzer()).addAnalyzer(.....).  And I'm more inclined to 
> call this thing PerFieldAnalyzerWrapper instead.  Any naming 
> suggestions?
> 
> This simple little class would seem to be the answer to a very common 
> question asked.
> 
> Thoughts?  Should this be made part of the core?
> 
> Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

From mgiles@visionstudio.com  Mon Sep 22 13:41:58 2003
Return-Path: <mgiles@visionstudio.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56677 invoked from network); 22 Sep 2003 13:41:58 -0000
Received: from unknown (HELO SuperNova2.cwihosting.com) (66.216.127.37)
  by daedalus.apache.org with SMTP; 22 Sep 2003 13:41:58 -0000
Received: from h0004763fc2ea.ne.client2.attbi.com ([24.91.229.13] helo=mgiles-office.visionstudio.com)
	by SuperNova2.cwihosting.com with asmtp (Exim 4.20)
	id 1A1Qwy-0002sQ-2q
	for lucene-user@jakarta.apache.org; Mon, 22 Sep 2003 08:42:00 -0500
Message-Id: <5.2.0.9.0.20030922093935.040ec1e0@mail.visionstudio.com>
X-Sender: mgiles%visionstudio.com@mail.visionstudio.com
X-Mailer: QUALCOMM Windows Eudora Version 5.2.0.9
Date: Mon, 22 Sep 2003 09:42:09 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Michael Giles <mgiles@visionstudio.com>
Subject: Re: HTML Parsing problems...
In-Reply-To: <3F6EEE1A.5000800@getopt.org>
References: <5.2.0.9.0.20030920064712.040efe98@mail.visionstudio.com>
 <5.2.0.9.0.20030918163957.040bdaa0@mail.visionstudio.com>
 <5.2.0.9.0.20030920064712.040efe98@mail.visionstudio.com>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - SuperNova2.cwihosting.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - visionstudio.com
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Yeah, I was using HTMLParser for a few days until I tried to parse a 400K 
document and it spun at 100% CPU for a very long time.  It is tolerant of 
bad HTML, but does not appear to scale.  TagSoup processed the same 
document in a second or less at <25% CPU.

-Mike

At 02:42 PM 9/22/2003 +0200, you wrote:

>TagSoup is great - however, it is not maintained nor developed (the same 
>could be said about JTidy as well, but TagSoup's history is much 
>shorter...). I'm using HTMLParser (http://htmlparser.sourceforge.net) for 
>my application, and it also works very well, even for ill-formed input. 
>It's also very actively developed.
>
>--
>Best regards,
>Andrzej Bialecki
>
>-------------------------------------------------
>Software Architect, System Integration Specialist
>CEN/ISSS EC Workshop, ECIMF project chair
>EU FP6 E-Commerce Expert/Evaluator
>-------------------------------------------------



From terry@net-frame.com  Mon Sep 22 14:16:53 2003
Return-Path: <terry@net-frame.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2312 invoked from network); 22 Sep 2003 14:16:53 -0000
Received: from unknown (HELO smtp6.mindspring.com) (207.69.200.110)
  by daedalus.apache.org with SMTP; 22 Sep 2003 14:16:53 -0000
Received: from h-68-166-69-126.mclnva23.covad.net ([68.166.69.126] helo=POWERPACK)
	by smtp6.mindspring.com with smtp (Exim 3.33 #1)
	id 1A1RUl-00067d-00
	for lucene-user@jakarta.apache.org; Mon, 22 Sep 2003 10:16:55 -0400
Message-ID: <002901c38114$321f0a90$0201a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <E4E872E4-ECFD-11D7-99E6-000393A564E6@ehatchersolutions.com>
Subject: Re: Is it possible in lucene for numeric search
Date: Mon, 22 Sep 2003 10:17:03 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

You can also use a RangeQuery.  If you index the field of numeric data, say
'score', as a string, then you can do things like: score:[75 TO 80].  Only
extra work is that you need to pad the actual score with enough 0's (such
that 9 becomes 09, etc.) to cover the expected range.

Regards,

Terry

----- Original Message -----
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, September 22, 2003 9:08 AM
Subject: Re: Is it possible in lucene for numeric search


> Yes, you can do numeric searches as long as you realize its really just
> text that is indexed.  You will need to ensure the Analyzer you use
> indexes numbers appropriately as well.
>
> Erik
>
>
> On Monday, September 22, 2003, at 02:06  AM, Senthil Kumar K wrote:
>
> > Hi,
> >
> >   I found that lucene is a full-featured text search engine. Is it
> > possible to make it for numeric search. In my appl. I need to look
> > in to the index for score=75.
> >
> > regards,
> > k.senthilkumar
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


From dquaroni@OPENRATINGS.com  Tue Sep 23 00:26:44 2003
Return-Path: <dquaroni@OPENRATINGS.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28532 invoked from network); 23 Sep 2003 00:26:44 -0000
Received: from unknown (HELO exchange.hq.openratings.com) (141.149.165.226)
  by daedalus.apache.org with SMTP; 23 Sep 2003 00:26:44 -0000
Received: by exchange.hq.openratings.com with Internet Mail Service (5.5.2655.55)
	id <SWM1D457>; Mon, 22 Sep 2003 20:26:45 -0400
Message-ID: <4A46E75D51A2D5119F2A00B0D03D7F0901C67D92@exchange.hq.openratings.com>
From: Dan Quaroni <dquaroni@OPENRATINGS.com>
Reply-To: Lucene Users List <lucene-user@jakarta.apache.org>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: Confusion over wildcard search logic
Date: Mon, 22 Sep 2003 20:26:40 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi there.  I've got an index of company names, and it's split up into
separate indexes by state.

I have a simple command line interface for testing.  I'm getting some odd
results, though, with certain logic of wildcard searches.  It seems like
depending on what order I put the fields of the query in alters the results
drastically when I AND them together.

Here are some examples:

***************************
This one makes sense

Query> name:amb*
State> california
name:amb*
org.apache.lucene.search.PrefixQuery@2d086a
amb*
2819 total matching documents 

***************************
This is the REALLY confusing one.  We know there's a company named AMB
Property Corporation.  Why do I get NO hits?

Query> name:"amb prop*"
State> california
name:"amb prop*"
org.apache.lucene.search.PhraseQuery@20dda
"amb prop"
0 total matching documents

***************************
Ok, so I get some results with this (I know the * isn't neccessary at the
end of property, but bear with me for the next example where it goes all
screwy)

Query> name:amb property*
State> california
name:amb property*
org.apache.lucene.search.BooleanQuery@10b053
amb name:amb property*:property*
56 total matching documents

***************************
south san francisco is an exact match to the city.  Why does this find 0
results??!

Query> name:amb property* AND city:south san francisco
State> california
name:amb property* AND city:south san francisco
org.apache.lucene.search.BooleanQuery@283b8a
amb +name:amb property* AND city:south san francisco:property* +city:south
name:
amb property* AND city:south san francisco:san name:amb property* AND
city:south
 san francisco:francisco
0 total matching documents

****************************
Do this and suddenly I get matches

Query> name:amb propert* and city:"south san fran*"
State> california
name:amb propert* and city:"south san fran*"
org.apache.lucene.search.BooleanQuery@3ee284
amb name:amb propert* and city:"south san fran*":propert* city:"south san
fran"56 total matching documents 

*****************************
And look, this gets matches too:

Query> name:"amb propert*" and city:"south san*"
State> california
name:"amb propert*" and city:"south san*"
org.apache.lucene.search.BooleanQuery@a32b
"amb propert" city:"south san"
10732 total matching documents 

*****************************
Yet do this and we're back to 0 results:

Query> name:"amb propert*" and city:"south san fran*"
State> california
name:"amb propert*" and city:"south san fran*"
org.apache.lucene.search.BooleanQuery@58957f
"amb propert" city:"south san fran"
0 total matching documents

******************************
Now flip the query around and it works:

Query> city:"south san fran*" and name:amb propert*
State> california
city:"south san fran*" and name:amb propert*
org.apache.lucene.search.BooleanQuery@965fb
city:"south san fran" amb city:"south san fran*" and name:amb
propert*:propert*
56 total matching documents

*******************************
Finally, using the prefix of the metaphone name with quotes around it
produces no results:

Query> metaph_name:"ambprp*"
State> california
metaph_name:"ambprp*"
org.apache.lucene.search.TermQuery@67b241
metaph_name:ambprp
0 total matching documents 

*******************************
But take away the quotes and it works:

Query> metaph_name:ambprp*
State> california
metaph_name:ambprp*
org.apache.lucene.search.PrefixQuery@21c887
metaph_name:ambprp*
6 total matching documents 


********************************
But quotes don't seem to matter in this complex wildcard:

Query> metaph_name:ambprp* and city:"sou* or san or fra*"
State> california
metaph_name:ambprp* and city:"sou* or san or fra*"
org.apache.lucene.search.BooleanQuery@7ffe01
metaph_name:ambprp* city:"sou san fra"
6 total matching documents 


So...  Can someone help me nail down the logic for these things so we can
construct some good queries?

Thanks!

From chris5hen@hotmail.com  Tue Sep 23 07:12:25 2003
Return-Path: <chris5hen@hotmail.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53671 invoked from network); 23 Sep 2003 07:12:25 -0000
Received: from unknown (HELO hotmail.com) (64.4.17.113)
  by daedalus.apache.org with SMTP; 23 Sep 2003 07:12:25 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Tue, 23 Sep 2003 00:12:38 -0700
Received: from 217.86.215.213 by lw11fd.law11.hotmail.msn.com with HTTP;
	Tue, 23 Sep 2003 07:12:38 GMT
X-Originating-IP: [217.86.215.213]
X-Originating-Email: [chris5hen@hotmail.com]
From: "Chris Hennen" <chris5hen@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: scoring algorithm 
Date: Tue, 23 Sep 2003 09:12:38 +0200
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1; format=flowed
Message-ID: <Law11-F113a9jE11ojM00014512@hotmail.com>
X-OriginalArrivalTime: 23 Sep 2003 07:12:38.0161 (UTC) FILETIME=[11E80810:01C381A2]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

what is the purpose of "tf_q * idf_t / norm_q" in Lucene's scoring 
algorithm:
score_d = sum_t( tf_q * idf_t / norm_q * tf_d * idf_t / norm_d_t)

I dont understand, why the score has to be higher, when the frequency of a 
term in the query is higher. What is normalized by "norm_q"?

Thanks,
Chris

_________________________________________________________________
Alles neu beim MSN Messenger: Emoticons, Hintergrnde, Spiele! 
http://messenger.msn.de Jetzt die neue Version 6.0 testen!


From gwohaur@crimsonlogic.com  Tue Sep 23 07:21:22 2003
Return-Path: <gwohaur@crimsonlogic.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62330 invoked from network); 23 Sep 2003 07:21:22 -0000
Received: from unknown (HELO rhea.crimsonlogic.com) (210.56.134.81)
  by daedalus.apache.org with SMTP; 23 Sep 2003 07:21:22 -0000
Received: from SG01PVEXCH00.snshub.org ([172.29.8.14])
	by rhea.crimsonlogic.com (8.12.9/8.12.9) with ESMTP id h8N7LXML001645
	for <lucene-user@jakarta.apache.org>; Tue, 23 Sep 2003 15:21:34 +0800
X-MimeOLE: Produced By Microsoft Exchange V6.0.4712.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: taxonomy with lucene
Date: Tue, 23 Sep 2003 15:21:33 +0800
Message-ID: <0217CC82D9B9B347B9C0A7A27EFE38FBBFC0EF@SG01PVEXCH00.snshub.org>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: taxonomy with lucene
Thread-Index: AcOBo1GktuzK5e2VT8GComX2aOjWnw==
From: "Gwo Haur, Fun" <gwohaur@crimsonlogic.com>
To: <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,
Has anyone tried building taxonomies in Lucene? Any idea what is the
likely approach to be taken?

thanks

From puffmail@darksleep.com  Tue Sep 23 07:45:47 2003
Return-Path: <puffmail@darksleep.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90181 invoked from network); 23 Sep 2003 07:45:47 -0000
Received: from unknown (HELO darksleep.com) (192.204.202.251)
  by daedalus.apache.org with SMTP; 23 Sep 2003 07:45:47 -0000
Received: by darksleep.com (Postfix, from userid 1009)
	id ED2973CD2D; Tue, 23 Sep 2003 03:45:59 -0400 (EDT)
Date: Tue, 23 Sep 2003 03:45:59 -0400
From: "Steven J. Owens" <puffmail@darksleep.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene demo ideas?
Message-ID: <20030923074559.GB20629@darksleep.com>
Reply-To: puff@darksleep.com
References: <8FFFA400-E906-11D7-91A6-000393A564E6@ehatchersolutions.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <8FFFA400-E906-11D7-91A6-000393A564E6@ehatchersolutions.com>
User-Agent: Mutt/1.4i
Sender: Steven J.Owens <puffmail@darksleep.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Wed, Sep 17, 2003 at 08:00:42AM -0400, Erik Hatcher wrote:
> I'm about to start some refactorings on the web application demo that 
> ships with Lucene to show off its features and be usable more easily 
> and cleanly out of the box - i.e. just drop into Tomcat's webapps 
> directory and go.
> 
> Does anyone have any suggestions on what they'd like to see in the demo 
> app?

     One odd thought (may be out of scope) is to put together a
google-flavored query language, since most users are going to be
unfamiliar with the default Lucene query language.  Lucene doesn't
really match google, but something google-flavored might be better at
showing off Lucene's features in the demo.

-- 
Steven J. Owens
puff@darksleep.com

"I'm going to make broad, sweeping generalizations and strong,
 declarative statements, because otherwise I'll be here all night and
 this document will be four times longer and much less fun to read.
 Take it all with a grain of salt." - Me at http://darksleep.com


From Eric.Jain@isb-sib.ch  Tue Sep 23 08:01:18 2003
Return-Path: <Eric.Jain@isb-sib.ch>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10143 invoked from network); 23 Sep 2003 08:01:18 -0000
Received: from unknown (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
  by daedalus.apache.org with SMTP; 23 Sep 2003 08:01:18 -0000
Received: from caliente (router.isb-sib.ch [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.10/8.12.8) with ESMTP id h8N81S1D018817
	for <lucene-user@jakarta.apache.org>; Tue, 23 Sep 2003 10:01:28 +0200
Message-ID: <009701c381a8$e97edc80$c300000a@caliente>
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <0217CC82D9B9B347B9C0A7A27EFE38FBBFC0EF@SG01PVEXCH00.snshub.org>
Subject: Re: taxonomy with lucene
Date: Tue, 23 Sep 2003 10:01:36 +0200
Organization: Swiss Institute of Bioinformatics
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-sib-MailScanner-Information: Please contact the ISP for more information
X-sib-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> Has anyone tried building taxonomies in Lucene? Any idea what is the
> likely approach to be taken?

I'm storing data with a hierarchical classification in a Lucene index,
if that is what you mean.

The approach is very simple. Every document has a field for a unique
identifier, a field for the identifier of its immediate parent, and a
field for those of all ancestors. This allows you to write queries such
as "name:human ancestor:2759" to find organisms that have "human" in
their name, and are Eukaryotes (but not, say, viruses).

This approach also allows you to efficiently display search results in a
tree, even for very large result sets, as long as the hierarchy doesn't
get to flat.

One drawback of this approach is that doing incremental updates is not
possible, or at least very complicated (duplicated information in the
ancestor field), and you must be careful about the order in which you
add documents to the index (parent before child).

Let me know if you are interested in any further details.

--
Eric Jain


From Julien.Nioche@lingway.com  Tue Sep 23 09:34:22 2003
Return-Path: <Julien.Nioche@lingway.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29390 invoked from network); 23 Sep 2003 09:34:22 -0000
Received: from unknown (HELO smtp2.clb.oleane.net) (213.56.31.18)
  by daedalus.apache.org with SMTP; 23 Sep 2003 09:34:22 -0000
Received: from teck ([217.167.130.37]) (authenticated)
	by smtp2.clb.oleane.net with ESMTP id h8N9YX97015028
	for <lucene-user@jakarta.apache.org>; Tue, 23 Sep 2003 11:34:34 +0200
Message-ID: <00f301c381b6$82d0f870$680010ac@teck>
From: "Julien Nioche" <Julien.Nioche@lingway.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <5A4393E2-EB42-11D7-83C0-000393A564E6@ehatchersolutions.com> <02b801c3810f$07d46b40$9e0010ac@thopny.triplehop.com>
Subject: Proposition :adding minMergeDoc to IndexWriter
Date: Tue, 23 Sep 2003 11:38:55 +0200
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----=_NextPart_000_00F0_01C381C7.4563A8A0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_00F0_01C381C7.4563A8A0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

Hui,

Concerning an other point of your request list I proposed a patch this week
end on the lucene-dev list and i totally forgot that this feature was
requested on the user list.

This new feature should help you to set a number of Documents to be merged
in memory independently of the mergeFactor.

Any comments would be appreciated

Best regards

Julien Nioche
http://www.lingway.com

---------- Debut du message initial -----------

De     : "fp235-5" <julien.nioche@lingway.com>
A      : "lucene-dev" <lucene-dev@jakarta.apache.org>
Copies :
Date   : Sat, 20 Sep 2003 16:06:06 +0200
Sujet  : [PATCH] IndexWriter : controling the number of Docs merged

Hello,

Someone made a suggestion yesterday about adding a variable to IndexWriter
in
order to control the number of Documents merged in RAMDirectory
independently of
the mergeFactor. (I'm sorry I don't remember who exactly and the mail
arrived at
my office).
I'm proposing a tiny modification of IndexWriter to add this functionality.
A
variable minMergeDocs specifies the number of Documents to be merged in
memory
before starting a new Segment. The mergeFactor still control the number of
Segments created in the Directory and thus it's possible to avoid the file
number limitation problem.

The diff file is attached.

As noticed by Dmitry and Erik there are no true JUnit tests. I'd be OK to
write
a JUnit test for this feature. The problem is that the SegmentInfos field is
private in IndexWriter and can't be used to check the number and size of the
Segments. I ran a test using the infoStream variable of IndexWriter -
everything
seems to be OK.

Any comments / suggestions are welcome.

Regards

Julien









----- Original Message -----
From: "hui" <hui@triplehop.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, September 22, 2003 3:40 PM
Subject: Re: per-field Analyzer (was Re: some requests)


> Good work, Erik.
>
> Hui
>
> ----- Original Message -----
> From: "Erik Hatcher" <erik@ehatchersolutions.com>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Saturday, September 20, 2003 4:13 AM
> Subject: per-field Analyzer (was Re: some requests)
>
>
> > On Friday, September 19, 2003, at 07:45  PM, Erik Hatcher wrote:
> > > On Friday, September 19, 2003, at 11:15  AM, hui wrote:
> > >> 1. Move the Analyzer down to field level from document level so some
> > >> fields
> > >> could be applied a specail analyzer.Other fields still use the
default
> > >> analyzer from the document level.
> > >> For example, I do not need to index the number for the "content"
> > >> field. It
> > >> helps me reduce the index size a lot when I have some excel files.
> > >> But I
> > >> always need the "created_date" to be indexed though it is a number
> > >> field.
> > >>
> > >> I know there are some workarounds put in the group, but I think it
> > >> should be
> > >> a good feature to have.
> > >
> > > The "workaround" is to write a custom analyzer and and have it do the
> > > desired thing per-field.
> > >
> > > Hmmm.... just thinking out loud here without knowing if this is
> > > possible, but could a generic "wrapper" Analyzer be written that
> > > allows other analyzers to be used under the covers based on a field
> > > name/analyzer mapping?   If so, that would be quite cool and save
> > > folks from having to write custom analyzers as much to handle this
> > > pretty typical use-case.  I'll look into this more in the very near
> > > future personally, but feel free to have a look at this yourself and
> > > see what you can come up with.
> >
> > What about something like this?
> >
> > public class PerFieldWrapperAnalyzer extends Analyzer {
> >    private Analyzer defaultAnalyzer;
> >    private Map analyzerMap = new HashMap();
> >
> >
> >    public PerFieldWrapperAnalyzer(Analyzer defaultAnalyzer) {
> >      this.defaultAnalyzer = defaultAnalyzer;
> >    }
> >
> >    public void addAnalyzer(String fieldName, Analyzer analyzer) {
> >      analyzerMap.put(fieldName, analyzer);
> >    }
> >
> >    public TokenStream tokenStream(String fieldName, Reader reader) {
> >      Analyzer analyzer = (Analyzer) analyzerMap.get(fieldName);
> >      if (analyzer == null) {
> >        analyzer = defaultAnalyzer;
> >      }
> >
> >      return analyzer.tokenStream(fieldName, reader);
> >    }
> > }
> >
> > This would allow you to construct a single analyzer out of others, on a
> > per-field basis, including a default one for any fields that do not
> > have a special one.  Whether the constructor should take the map or the
> > addAnalyzer method is implemented is debatable, but I prefer the
> > addAnalyzer way.  Maybe addAnalyzer could return 'this' so you could
> > chain: new PerFieldWrapperAnalyzer(new
> > StandardAnalyzer).addAnalyzer("field1", new
> > WhitespaceAnalyzer()).addAnalyzer(.....).  And I'm more inclined to
> > call this thing PerFieldAnalyzerWrapper instead.  Any naming
> > suggestions?
> >
> > This simple little class would seem to be the answer to a very common
> > question asked.
> >
> > Thoughts?  Should this be made part of the core?
> >
> > Erik
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>

------=_NextPart_000_00F0_01C381C7.4563A8A0
Content-Type: text/plain;
	name="IndexWriter.minMergeDocs.patch.txt"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: attachment;
	filename="IndexWriter.minMergeDocs.patch.txt"

Index: IndexWriter.java
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
RCS file: =
/home/cvspublic/jakarta-lucene/src/java/org/apache/lucene/index/IndexWrit=
er.java,v
retrieving revision 1.15
diff -u -r1.15 IndexWriter.java
--- IndexWriter.java	15 Sep 2003 12:40:23 -0000	1.15
+++ IndexWriter.java	20 Sep 2003 12:22:13 -0000
@@ -249,6 +249,16 @@
    *
    * <p>This must never be less than 2.  The default value is 10.*/
   public int mergeFactor =3D 10;
+ =20
+  /** Determines the minimal number of documents required before =
merging
+   * and starting a new Segment. Since Documents are merged in a=20
+   * {@link org.apache.lucene.store.RAMDirectory}, large value gives =
faster=20
+   * indexing. At the same time mergeFactor limits the number of files =
open in=20
+   * a FSDirectory.
+   *=20
+   * <p> The default value is 10.*/
+  public int minMergeDocs =3D 10;
+ =20
=20
   /** Determines the largest number of documents ever merged by =
addDocument().
    * Small values (e.g., less than 10,000) are best for interactive =
indexing,
@@ -316,7 +326,7 @@
=20
   /** Incremental segment merger.  */
   private final void maybeMergeSegments() throws IOException {
-    long targetMergeDocs =3D mergeFactor;
+    long targetMergeDocs =3D minMergeDocs;
     while (targetMergeDocs <=3D maxMergeDocs) {
       // find segments smaller than current target size
       int minSegment =3D segmentInfos.size();

------=_NextPart_000_00F0_01C381C7.4563A8A0--


From czy@canal21.com  Tue Sep 23 09:37:46 2003
Return-Path: <czy@canal21.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35516 invoked from network); 23 Sep 2003 09:37:46 -0000
Received: from unknown (HELO correo.canal21.com) (212.55.8.18)
  by daedalus.apache.org with SMTP; 23 Sep 2003 09:37:46 -0000
Received: from vikingo.polaris.net ([80.59.60.16]) by
          correo.canal21.com (Netscape Messaging Server 4.15) with ESMTP
          id HLNUQS00.CUI for <lucene-user@jakarta.apache.org>; Tue, 23
          Sep 2003 11:37:40 +0200 
From: "Cecilio Cano Calonge" <czy@canal21.com>
Reply-To: czy@canal21.com
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Limitation in size of Query class.
Date: Tue, 23 Sep 2003 11:38:50 +0200
User-Agent: KMail/1.5.1
MIME-Version: 1.0
Content-Type: Text/Plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Content-Description: clearsigned data
Content-Disposition: inline
Message-Id: <200309231139.05105.czy@canal21.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

=2D----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hi, all.

In the Query class, and his subclasses.
Are there any limitation in size ?
=20
Thanks in avance.

=2D --=20
Cecilio Cano Calonge =B7 Czy=20
GNUpg Key =3D 5011 67C7 7C0B A513 C18F  D93B 071B BA7C 9DF6 9399
=20
=2D----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)

iD8DBQE/cBSyBxu6fJ32k5kRAud3AJ9fVcYK1+h0zAVed2B77nDszn8vBgCdHzJx
fKAPG0QFo7NWHMf1OZB+rks=3D
=3D4Qif
=2D----END PGP SIGNATURE-----


From dquaroni@OPENRATINGS.com  Tue Sep 23 11:04:24 2003
Return-Path: <dquaroni@OPENRATINGS.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58962 invoked from network); 23 Sep 2003 11:04:24 -0000
Received: from unknown (HELO exchange.hq.openratings.com) (141.149.165.226)
  by daedalus.apache.org with SMTP; 23 Sep 2003 11:04:24 -0000
Received: by exchange.hq.openratings.com with Internet Mail Service (5.5.2655.55)
	id <SWM1DWW2>; Tue, 23 Sep 2003 07:04:21 -0400
Message-ID: <4A46E75D51A2D5119F2A00B0D03D7F0901C67D93@exchange.hq.openratings.com>
From: Dan Quaroni <dquaroni@OPENRATINGS.com>
Reply-To: Lucene Users List <lucene-user@jakarta.apache.org>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: RE: Confusion over wildcard search logic
Date: Tue, 23 Sep 2003 07:04:17 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

 BTW, this is with lucene 1.2

Thanks!

From erik@ehatchersolutions.com  Tue Sep 23 12:37:07 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89182 invoked from network); 23 Sep 2003 12:37:07 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 23 Sep 2003 12:37:07 -0000
Received: (cpmta 17651 invoked from network); 23 Sep 2003 05:36:53 -0700
Received: from 128.143.103.57 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 23 Sep 2003 05:36:53 -0700
X-Sent: 23 Sep 2003 12:36:53 GMT
Date: Mon, 22 Sep 2003 22:33:34 -0400
Subject: Re: Confusion over wildcard search logic
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <4A46E75D51A2D5119F2A00B0D03D7F0901C67D92@exchange.hq.openratings.com>
Message-Id: <5434E780-ED6E-11D7-B16F-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Ah, this is a fun one.... lots of fiddly issues with how queries work 
and how QueryParser works.  I'll take a stab at some of these inline 
below....

On Monday, September 22, 2003, at 08:26  PM, Dan Quaroni wrote:
> I have a simple command line interface for testing.

Interesting interface.  Looks like something that if made generic 
enough would be handy to have at least in the sandbox.

>   I'm getting some odd
> results, though, with certain logic of wildcard searches.

not all your queries are truly "WildcardQuery"'s though.  look at the 
class it constructed to get a better idea of what is happening.

>   It seems like
> depending on what order I put the fields of the query in alters the 
> results
> drastically when I AND them together.

Not quite the right explanation of what is happening.  More below....

> ***************************
> This one makes sense
>
> Query> name:amb*
> State> california
> name:amb*
> org.apache.lucene.search.PrefixQuery@2d086a
> amb*
> 2819 total matching documents

Right.... QueryParser does a little optimization here and anything with 
a simple trailing * turns into a PrefixQuery, meaning all name fields 
that begin with "amb".

> ***************************
> This is the REALLY confusing one.  We know there's a company named AMB
> Property Corporation.  Why do I get NO hits?
>
> Query> name:"amb prop*"
> State> california
> name:"amb prop*"
> org.apache.lucene.search.PhraseQuery@20dda
> "amb prop"
> 0 total matching documents

Notice you're now in PhraseQuery land.  Wildcards don't work like you 
seem to expect here.  What is really happening here is a query for 
documents that have "amb" and "prop" terms side by side in that order.  
The asterisk got axed by the analyzer.  If you said "name:amb 
name:prop*" you'd get some hits I believe, as it would turn into a 
boolean query with a term and wildcard queries either OR'd or AND'd 
together.  PhraseQuery does not support wildcards.  A custom subclass 
of QueryParser could do some interesting things here and expand 
wildcard-like terms like this in a phrase into PhrasePrefixQuery, but 
that is probably overkill here (although maybe not).  Look at the test 
case for PhrasePrefixQuery for some hints.

> Ok, so I get some results with this (I know the * isn't neccessary at 
> the
> end of property, but bear with me for the next example where it goes 
> all
> screwy)
>
> Query> name:amb property*
> State> california
> name:amb property*
> org.apache.lucene.search.BooleanQuery@10b053
> amb name:amb property*:property*
> 56 total matching documents

your default field for QueryParser is "property*"?  Odd field name, or 
is the output fishy?  I'm a bit confused by the "property*:" there.  
I'm assuming you're outputting the Query.toString here.

See above for a different way to phrase the query.

> ***************************
> south san francisco is an exact match to the city.  Why does this find 
> 0
> results??!
>
> Query> name:amb property* AND city:south san francisco
> State> california
> name:amb property* AND city:south san francisco
> org.apache.lucene.search.BooleanQuery@283b8a
> amb +name:amb property* AND city:south san francisco:property* 
> +city:south
> name:
> amb property* AND city:south san francisco:san name:amb property* AND
> city:south
>  san francisco:francisco
> 0 total matching documents

with all the AND's going on, this makes sense because "san" and 
"francisco" end up as separate term queries.  you'd have to say 
city:"south san francisco" to turn it into a PhraseQuery.

> ****************************
> Do this and suddenly I get matches
>
> Query> name:amb propert* and city:"south san fran*"
> State> california
> name:amb propert* and city:"south san fran*"
> org.apache.lucene.search.BooleanQuery@3ee284
> amb name:amb propert* and city:"south san fran*":propert* city:"south 
> san
> fran"56 total matching documents

you're getting hits on the wildcard match at least, and probably on 
name field "amb" as well.  again, phrase queries don't support 
wildcards like you've done here with "south san fran*" so you're not 
matching anything with that.

> *****************************
> And look, this gets matches too:
>
> Query> name:"amb propert*" and city:"south san*"
> State> california
> name:"amb propert*" and city:"south san*"
> org.apache.lucene.search.BooleanQuery@a32b
> "amb propert" city:"south san"
> 10732 total matching documents

my guess here is you're getting hits on "south san" as a phrase query.  
are there that many in that area?

> *****************************
> Yet do this and we're back to 0 results:
>
> Query> name:"amb propert*" and city:"south san fran*"
> State> california
> name:"amb propert*" and city:"south san fran*"
> org.apache.lucene.search.BooleanQuery@58957f
> "amb propert" city:"south san fran"
> 0 total matching documents

you're getting zero hits from "amb propert*" since * is getting 
stripped by the analyzer and there is no "amb propert" phrase match, 
and with the AND (which should be all uppercase, right?) definitely not 
getting hits.

> ******************************
> Now flip the query around and it works:
>
> Query> city:"south san fran*" and name:amb propert*
> State> california
> city:"south san fran*" and name:amb propert*
> org.apache.lucene.search.BooleanQuery@965fb
> city:"south san fran" amb city:"south san fran*" and name:amb
> propert*:propert*
> 56 total matching documents

You didn't quite flip it around, you took off some quotes too, which 
removed a PhraseQuery and you're getting your hits from name:amb here 
as well as probably the wildcard of propert*.  I'm still confused by 
the output of propert*: here - are you using the CVS version of Lucene? 
  the toString looks ok there, maybe there was a bug in that method in 
earlier code?

> *******************************
> Finally, using the prefix of the metaphone name with quotes around it
> produces no results:
>
> Query> metaph_name:"ambprp*"
> State> california
> metaph_name:"ambprp*"
> org.apache.lucene.search.TermQuery@67b241
> metaph_name:ambprp
> 0 total matching documents

Notice this is a TermQuery - thats the clue... the asterisk is taken 
literally there, so no matches.

> *******************************
> But take away the quotes and it works:
>
> Query> metaph_name:ambprp*
> State> california
> metaph_name:ambprp*
> org.apache.lucene.search.PrefixQuery@21c887
> metaph_name:ambprp*
> 6 total matching documents

Now you kicked it into an optimized wildcard query, which turns into a 
prefix query, hence the matches.

> ********************************
> But quotes don't seem to matter in this complex wildcard:
>
> Query> metaph_name:ambprp* and city:"sou* or san or fra*"
> State> california
> metaph_name:ambprp* and city:"sou* or san or fra*"
> org.apache.lucene.search.BooleanQuery@7ffe01
> metaph_name:ambprp* city:"sou san fra"
> 6 total matching documents

your clue here is that the toString output has the asterisks removed, 
so your analyzer stripped them.  again quotes mean phrase query.  
phrase queries don't support wildcards.

> So...  Can someone help me nail down the logic for these things so we 
> can
> construct some good queries?

I hope my above analysis helps.  I may not be perfectly right on 
everything, but should be relatively close at identifying the issues.  
Fixing it is more up to how you want to deal with it.  Perhaps a custom 
QueryParser is more what you're after.

	Erik


From hui@triplehop.com  Tue Sep 23 13:48:32 2003
Return-Path: <hui@triplehop.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32174 invoked from network); 23 Sep 2003 13:48:32 -0000
Received: from unknown (HELO germany.prod.thop-ny.triplehop.com) (216.74.150.80)
  by daedalus.apache.org with SMTP; 23 Sep 2003 13:48:32 -0000
Received: from hui2000 ([208.246.29.6]) by germany.prod.thop-ny.triplehop.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Tue, 23 Sep 2003 09:53:41 -0400
Message-ID: <010a01c381d9$71119590$9e0010ac@thopny.triplehop.com>
From: "hui" <hui@triplehop.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <5A4393E2-EB42-11D7-83C0-000393A564E6@ehatchersolutions.com> <02b801c3810f$07d46b40$9e0010ac@thopny.triplehop.com> <00f301c381b6$82d0f870$680010ac@teck>
Subject: Re: Proposition :adding minMergeDoc to IndexWriter
Date: Tue, 23 Sep 2003 09:48:59 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-OriginalArrivalTime: 23 Sep 2003 13:53:41.0046 (UTC) FILETIME=[1880E560:01C381DA]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

It is a great. Julien. Thanks.
Next time I am going to post the requests to the developer groups.

Regards,
Hui
----- Original Message ----- 
From: "Julien Nioche" <Julien.Nioche@lingway.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Tuesday, September 23, 2003 5:38 AM
Subject: Proposition :adding minMergeDoc to IndexWriter


> Hui,
>
> Concerning an other point of your request list I proposed a patch this
week
> end on the lucene-dev list and i totally forgot that this feature was
> requested on the user list.
>
> This new feature should help you to set a number of Documents to be merged
> in memory independently of the mergeFactor.
>
> Any comments would be appreciated
>
> Best regards
>
> Julien Nioche
> http://www.lingway.com
>
> ---------- Debut du message initial -----------
>
> De     : "fp235-5" <julien.nioche@lingway.com>
> A      : "lucene-dev" <lucene-dev@jakarta.apache.org>
> Copies :
> Date   : Sat, 20 Sep 2003 16:06:06 +0200
> Sujet  : [PATCH] IndexWriter : controling the number of Docs merged
>
> Hello,
>
> Someone made a suggestion yesterday about adding a variable to IndexWriter
> in
> order to control the number of Documents merged in RAMDirectory
> independently of
> the mergeFactor. (I'm sorry I don't remember who exactly and the mail
> arrived at
> my office).
> I'm proposing a tiny modification of IndexWriter to add this
functionality.
> A
> variable minMergeDocs specifies the number of Documents to be merged in
> memory
> before starting a new Segment. The mergeFactor still control the number of
> Segments created in the Directory and thus it's possible to avoid the file
> number limitation problem.
>
> The diff file is attached.
>
> As noticed by Dmitry and Erik there are no true JUnit tests. I'd be OK to
> write
> a JUnit test for this feature. The problem is that the SegmentInfos field
is
> private in IndexWriter and can't be used to check the number and size of
the
> Segments. I ran a test using the infoStream variable of IndexWriter -
> everything
> seems to be OK.
>
> Any comments / suggestions are welcome.
>
> Regards
>
> Julien
>
>
>
>
>
>
>
>
>
> ----- Original Message -----
> From: "hui" <hui@triplehop.com>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Monday, September 22, 2003 3:40 PM
> Subject: Re: per-field Analyzer (was Re: some requests)
>
>
> > Good work, Erik.
> >
> > Hui
> >
> > ----- Original Message -----
> > From: "Erik Hatcher" <erik@ehatchersolutions.com>
> > To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> > Sent: Saturday, September 20, 2003 4:13 AM
> > Subject: per-field Analyzer (was Re: some requests)
> >
> >
> > > On Friday, September 19, 2003, at 07:45  PM, Erik Hatcher wrote:
> > > > On Friday, September 19, 2003, at 11:15  AM, hui wrote:
> > > >> 1. Move the Analyzer down to field level from document level so
some
> > > >> fields
> > > >> could be applied a specail analyzer.Other fields still use the
> default
> > > >> analyzer from the document level.
> > > >> For example, I do not need to index the number for the "content"
> > > >> field. It
> > > >> helps me reduce the index size a lot when I have some excel files.
> > > >> But I
> > > >> always need the "created_date" to be indexed though it is a number
> > > >> field.
> > > >>
> > > >> I know there are some workarounds put in the group, but I think it
> > > >> should be
> > > >> a good feature to have.
> > > >
> > > > The "workaround" is to write a custom analyzer and and have it do
the
> > > > desired thing per-field.
> > > >
> > > > Hmmm.... just thinking out loud here without knowing if this is
> > > > possible, but could a generic "wrapper" Analyzer be written that
> > > > allows other analyzers to be used under the covers based on a field
> > > > name/analyzer mapping?   If so, that would be quite cool and save
> > > > folks from having to write custom analyzers as much to handle this
> > > > pretty typical use-case.  I'll look into this more in the very near
> > > > future personally, but feel free to have a look at this yourself and
> > > > see what you can come up with.
> > >
> > > What about something like this?
> > >
> > > public class PerFieldWrapperAnalyzer extends Analyzer {
> > >    private Analyzer defaultAnalyzer;
> > >    private Map analyzerMap = new HashMap();
> > >
> > >
> > >    public PerFieldWrapperAnalyzer(Analyzer defaultAnalyzer) {
> > >      this.defaultAnalyzer = defaultAnalyzer;
> > >    }
> > >
> > >    public void addAnalyzer(String fieldName, Analyzer analyzer) {
> > >      analyzerMap.put(fieldName, analyzer);
> > >    }
> > >
> > >    public TokenStream tokenStream(String fieldName, Reader reader) {
> > >      Analyzer analyzer = (Analyzer) analyzerMap.get(fieldName);
> > >      if (analyzer == null) {
> > >        analyzer = defaultAnalyzer;
> > >      }
> > >
> > >      return analyzer.tokenStream(fieldName, reader);
> > >    }
> > > }
> > >
> > > This would allow you to construct a single analyzer out of others, on
a
> > > per-field basis, including a default one for any fields that do not
> > > have a special one.  Whether the constructor should take the map or
the
> > > addAnalyzer method is implemented is debatable, but I prefer the
> > > addAnalyzer way.  Maybe addAnalyzer could return 'this' so you could
> > > chain: new PerFieldWrapperAnalyzer(new
> > > StandardAnalyzer).addAnalyzer("field1", new
> > > WhitespaceAnalyzer()).addAnalyzer(.....).  And I'm more inclined to
> > > call this thing PerFieldAnalyzerWrapper instead.  Any naming
> > > suggestions?
> > >
> > > This simple little class would seem to be the answer to a very common
> > > question asked.
> > >
> > > Thoughts?  Should this be made part of the core?
> > >
> > > Erik
> > >
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
>


----------------------------------------------------------------------------
----


> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From terry@net-frame.com  Tue Sep 23 14:08:30 2003
Return-Path: <terry@net-frame.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80966 invoked from network); 23 Sep 2003 14:08:30 -0000
Received: from unknown (HELO barry.mail.mindspring.net) (207.69.200.25)
  by daedalus.apache.org with SMTP; 23 Sep 2003 14:08:30 -0000
Received: from h-68-166-69-126.mclnva23.dynamic.covad.net ([68.166.69.126] helo=POWERPACK)
	by barry.mail.mindspring.net with smtp (Exim 3.33 #1)
	id 1A1nqC-00032x-00
	for lucene-user@jakarta.apache.org; Tue, 23 Sep 2003 10:08:32 -0400
Message-ID: <005501c381dc$324a1550$0201a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <5434E780-ED6E-11D7-B16F-000393A564E6@ehatchersolutions.com>
Subject: Re: Confusion over wildcard search logic
Date: Tue, 23 Sep 2003 10:08:42 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Erik's analysis is comprehensive and useful.  I think this example reflects
a common (and understandable) oversight - that wildcards do *not* work with
a phrase.  Got caught on that many times myself.  Also there may be
confusion about the format -> field:(term1 term2), in that the examples
provided don't seem to make use a parentheses.  Finally, as I recall, there
was some bug(s) with some wildcard patterns with 1.2.

Regards,

Terry

----- Original Message -----
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, September 22, 2003 10:33 PM
Subject: Re: Confusion over wildcard search logic


> Ah, this is a fun one.... lots of fiddly issues with how queries work
> and how QueryParser works.  I'll take a stab at some of these inline
> below....
>
> On Monday, September 22, 2003, at 08:26  PM, Dan Quaroni wrote:
> > I have a simple command line interface for testing.
>
> Interesting interface.  Looks like something that if made generic
> enough would be handy to have at least in the sandbox.
>
> >   I'm getting some odd
> > results, though, with certain logic of wildcard searches.
>
> not all your queries are truly "WildcardQuery"'s though.  look at the
> class it constructed to get a better idea of what is happening.
>
> >   It seems like
> > depending on what order I put the fields of the query in alters the
> > results
> > drastically when I AND them together.
>
> Not quite the right explanation of what is happening.  More below....
>
> > ***************************
> > This one makes sense
> >
> > Query> name:amb*
> > State> california
> > name:amb*
> > org.apache.lucene.search.PrefixQuery@2d086a
> > amb*
> > 2819 total matching documents
>
> Right.... QueryParser does a little optimization here and anything with
> a simple trailing * turns into a PrefixQuery, meaning all name fields
> that begin with "amb".
>
> > ***************************
> > This is the REALLY confusing one.  We know there's a company named AMB
> > Property Corporation.  Why do I get NO hits?
> >
> > Query> name:"amb prop*"
> > State> california
> > name:"amb prop*"
> > org.apache.lucene.search.PhraseQuery@20dda
> > "amb prop"
> > 0 total matching documents
>
> Notice you're now in PhraseQuery land.  Wildcards don't work like you
> seem to expect here.  What is really happening here is a query for
> documents that have "amb" and "prop" terms side by side in that order.
> The asterisk got axed by the analyzer.  If you said "name:amb
> name:prop*" you'd get some hits I believe, as it would turn into a
> boolean query with a term and wildcard queries either OR'd or AND'd
> together.  PhraseQuery does not support wildcards.  A custom subclass
> of QueryParser could do some interesting things here and expand
> wildcard-like terms like this in a phrase into PhrasePrefixQuery, but
> that is probably overkill here (although maybe not).  Look at the test
> case for PhrasePrefixQuery for some hints.
>
> > Ok, so I get some results with this (I know the * isn't neccessary at
> > the
> > end of property, but bear with me for the next example where it goes
> > all
> > screwy)
> >
> > Query> name:amb property*
> > State> california
> > name:amb property*
> > org.apache.lucene.search.BooleanQuery@10b053
> > amb name:amb property*:property*
> > 56 total matching documents
>
> your default field for QueryParser is "property*"?  Odd field name, or
> is the output fishy?  I'm a bit confused by the "property*:" there.
> I'm assuming you're outputting the Query.toString here.
>
> See above for a different way to phrase the query.
>
> > ***************************
> > south san francisco is an exact match to the city.  Why does this find
> > 0
> > results??!
> >
> > Query> name:amb property* AND city:south san francisco
> > State> california
> > name:amb property* AND city:south san francisco
> > org.apache.lucene.search.BooleanQuery@283b8a
> > amb +name:amb property* AND city:south san francisco:property*
> > +city:south
> > name:
> > amb property* AND city:south san francisco:san name:amb property* AND
> > city:south
> >  san francisco:francisco
> > 0 total matching documents
>
> with all the AND's going on, this makes sense because "san" and
> "francisco" end up as separate term queries.  you'd have to say
> city:"south san francisco" to turn it into a PhraseQuery.
>
> > ****************************
> > Do this and suddenly I get matches
> >
> > Query> name:amb propert* and city:"south san fran*"
> > State> california
> > name:amb propert* and city:"south san fran*"
> > org.apache.lucene.search.BooleanQuery@3ee284
> > amb name:amb propert* and city:"south san fran*":propert* city:"south
> > san
> > fran"56 total matching documents
>
> you're getting hits on the wildcard match at least, and probably on
> name field "amb" as well.  again, phrase queries don't support
> wildcards like you've done here with "south san fran*" so you're not
> matching anything with that.
>
> > *****************************
> > And look, this gets matches too:
> >
> > Query> name:"amb propert*" and city:"south san*"
> > State> california
> > name:"amb propert*" and city:"south san*"
> > org.apache.lucene.search.BooleanQuery@a32b
> > "amb propert" city:"south san"
> > 10732 total matching documents
>
> my guess here is you're getting hits on "south san" as a phrase query.
> are there that many in that area?
>
> > *****************************
> > Yet do this and we're back to 0 results:
> >
> > Query> name:"amb propert*" and city:"south san fran*"
> > State> california
> > name:"amb propert*" and city:"south san fran*"
> > org.apache.lucene.search.BooleanQuery@58957f
> > "amb propert" city:"south san fran"
> > 0 total matching documents
>
> you're getting zero hits from "amb propert*" since * is getting
> stripped by the analyzer and there is no "amb propert" phrase match,
> and with the AND (which should be all uppercase, right?) definitely not
> getting hits.
>
> > ******************************
> > Now flip the query around and it works:
> >
> > Query> city:"south san fran*" and name:amb propert*
> > State> california
> > city:"south san fran*" and name:amb propert*
> > org.apache.lucene.search.BooleanQuery@965fb
> > city:"south san fran" amb city:"south san fran*" and name:amb
> > propert*:propert*
> > 56 total matching documents
>
> You didn't quite flip it around, you took off some quotes too, which
> removed a PhraseQuery and you're getting your hits from name:amb here
> as well as probably the wildcard of propert*.  I'm still confused by
> the output of propert*: here - are you using the CVS version of Lucene?
>   the toString looks ok there, maybe there was a bug in that method in
> earlier code?
>
> > *******************************
> > Finally, using the prefix of the metaphone name with quotes around it
> > produces no results:
> >
> > Query> metaph_name:"ambprp*"
> > State> california
> > metaph_name:"ambprp*"
> > org.apache.lucene.search.TermQuery@67b241
> > metaph_name:ambprp
> > 0 total matching documents
>
> Notice this is a TermQuery - thats the clue... the asterisk is taken
> literally there, so no matches.
>
> > *******************************
> > But take away the quotes and it works:
> >
> > Query> metaph_name:ambprp*
> > State> california
> > metaph_name:ambprp*
> > org.apache.lucene.search.PrefixQuery@21c887
> > metaph_name:ambprp*
> > 6 total matching documents
>
> Now you kicked it into an optimized wildcard query, which turns into a
> prefix query, hence the matches.
>
> > ********************************
> > But quotes don't seem to matter in this complex wildcard:
> >
> > Query> metaph_name:ambprp* and city:"sou* or san or fra*"
> > State> california
> > metaph_name:ambprp* and city:"sou* or san or fra*"
> > org.apache.lucene.search.BooleanQuery@7ffe01
> > metaph_name:ambprp* city:"sou san fra"
> > 6 total matching documents
>
> your clue here is that the toString output has the asterisks removed,
> so your analyzer stripped them.  again quotes mean phrase query.
> phrase queries don't support wildcards.
>
> > So...  Can someone help me nail down the logic for these things so we
> > can
> > construct some good queries?
>
> I hope my above analysis helps.  I may not be perfectly right on
> everything, but should be relatively close at identifying the issues.
> Fixing it is more up to how you want to deal with it.  Perhaps a custom
> QueryParser is more what you're after.
>
> Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


From dquaroni@OPENRATINGS.com  Tue Sep 23 14:09:25 2003
Return-Path: <dquaroni@OPENRATINGS.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83945 invoked from network); 23 Sep 2003 14:09:25 -0000
Received: from unknown (HELO exchange.hq.openratings.com) (141.149.165.226)
  by daedalus.apache.org with SMTP; 23 Sep 2003 14:09:25 -0000
Received: by exchange.hq.openratings.com with Internet Mail Service (5.5.2655.55)
	id <SWM1DXLY>; Tue, 23 Sep 2003 10:09:20 -0400
Message-ID: <4A46E75D51A2D5119F2A00B0D03D7F0901C67D98@exchange.hq.openratings.com>
From: Dan Quaroni <dquaroni@OPENRATINGS.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Confusion over wildcard search logic
Date: Tue, 23 Sep 2003 10:09:10 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Yeah, thanks a lot for your help!  I'm using the release version of Lucene
version 1.2.  

> not all your queries are truly "WildcardQuery"'s though.  look at the 
> class it constructed to get a better idea of what is happening.

Yeah, I printed the queries out to see what was going on and noticed that.
I used wildcard in the subject as a sort of general description of what I
was after rather than its technical meaning to lucene, but I was curious
about why I was getting the query types I was getting.  

> your default field for QueryParser is "property*"?  Odd field name, or 
> is the output fishy?  I'm a bit confused by the "property*:" there.  
> I'm assuming you're outputting the Query.toString here.

That's just the Query.toString, yeah.  I didn't set any default fields to
property* so whatever it's spitting out comes from the QueryParser.

>> Query> name:amb propert* and city:"south san fran*"

> you're getting hits on the wildcard match at least, and probably on 
> name field "amb" as well.  again, phrase queries don't support 
> wildcards like you've done here with "south san fran*" so you're not 
> matching anything with that.

Ok... What's the correct procedure for doing a multi-word wildcard where I
want it to begin with "south san fran" but not get anything else that
contains "south" or "san"?  Just and together the south, san, and fran?  

Although this might produce good results, my understanding was that booleans
retrieve all matches and store them in memory then resolve the booleans.  If
I use the term "san" to search California, I'm going to need a lot of memory
to store all of the temporary results...!  

Or is that only true when doing booleans on different fields?  If so, I
think we have our solution! :)

> I'm still confused by the output of propert*: here - are you using 
> the CVS version of Lucene?

The honest to goodness 1.2 release. :)

> I hope my above analysis helps.  I may not be perfectly right on 
> everything, but should be relatively close at identifying the issues.  
> Fixing it is more up to how you want to deal with it.  Perhaps a custom 
> QueryParser is more what you're after.

Well, i think the real key piece of information was to drop the quotes to
avoid the phrase queries.  Thanks!

From dquaroni@OPENRATINGS.com  Tue Sep 23 14:24:06 2003
Return-Path: <dquaroni@OPENRATINGS.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17281 invoked from network); 23 Sep 2003 14:24:06 -0000
Received: from unknown (HELO exchange.hq.openratings.com) (141.149.165.226)
  by daedalus.apache.org with SMTP; 23 Sep 2003 14:24:06 -0000
Received: by exchange.hq.openratings.com with Internet Mail Service (5.5.2655.55)
	id <SWM1DXN7>; Tue, 23 Sep 2003 10:24:01 -0400
Message-ID: <4A46E75D51A2D5119F2A00B0D03D7F0901C67D9B@exchange.hq.openratings.com>
From: Dan Quaroni <dquaroni@OPENRATINGS.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Confusion over wildcard search logic
Date: Tue, 23 Sep 2003 10:23:59 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Your email prompted me to re-read the query parser documentation.  There are
only two examples using parentheses, which seem to be the answer to my
questions.  They are:

 (jakarta OR apache) AND website 

And

title:(+return +"pink panther")


These leave a lot unanswered, though.  I mean, for example, what would
happen if the query were:

title:(+return +pink panther)
or 
title:(return*pink panther)

I.e. are the + or booleans required between each word inside the
parentheses?

I guess the answer is that I need to just play with it and find out, but as
others have mentioned, the documentation is lacking in some respects and I'd
say this is one of them... Maybe I'll submit some answers when I figure them
out. :)

From otis_gospodnetic@yahoo.com  Tue Sep 23 14:25:37 2003
Return-Path: <otis_gospodnetic@yahoo.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19626 invoked from network); 23 Sep 2003 14:25:37 -0000
Received: from unknown (HELO web12704.mail.yahoo.com) (216.136.173.241)
  by daedalus.apache.org with SMTP; 23 Sep 2003 14:25:37 -0000
Message-ID: <20030923142536.41294.qmail@web12704.mail.yahoo.com>
Received: from [194.152.224.140] by web12704.mail.yahoo.com via HTTP; Tue, 23 Sep 2003 07:25:36 PDT
Date: Tue, 23 Sep 2003 07:25:36 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: Confusion over wildcard search logic
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <4A46E75D51A2D5119F2A00B0D03D7F0901C67D9B@exchange.hq.openratings.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello,

> I guess the answer is that I need to just play with it and find out,
> but as
> others have mentioned, the documentation is lacking in some respects
> and I'd
> say this is one of them... Maybe I'll submit some answers when I
> figure them out. :)

Thank you, always appreciated.

Otis


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

From erik@ehatchersolutions.com  Tue Sep 23 14:38:15 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47918 invoked from network); 23 Sep 2003 14:38:15 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.71)
  by daedalus.apache.org with SMTP; 23 Sep 2003 14:38:15 -0000
Received: (cpmta 3158 invoked from network); 23 Sep 2003 07:37:57 -0700
Received: from 128.143.103.57 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.71) with SMTP; 23 Sep 2003 07:37:57 -0700
X-Sent: 23 Sep 2003 14:37:57 GMT
Date: Tue, 23 Sep 2003 10:37:59 -0400
Subject: Re: Confusion over wildcard search logic
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20030923142536.41294.qmail@web12704.mail.yahoo.com>
Message-Id: <879A4A58-EDD3-11D7-B16F-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Better yet, submit some JUnit test cases that show how this stuff 
works, if the ones in Lucene's codebase aren't comprehensive enough.  
This is an excellent way to "play" with an API and get a good 
understanding of it and documenting it at the same time.

	Erik


On Tuesday, September 23, 2003, at 10:25  AM, Otis Gospodnetic wrote:

> Hello,
>
>> I guess the answer is that I need to just play with it and find out,
>> but as
>> others have mentioned, the documentation is lacking in some respects
>> and I'd
>> say this is one of them... Maybe I'll submit some answers when I
>> figure them out. :)
>
> Thank you, always appreciated.
>
> Otis
>
>
> __________________________________
> Do you Yahoo!?
> Yahoo! SiteBuilder - Free, easy-to-use web site design software
> http://sitebuilder.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From Velayudham-Radhakrishnan@deshaw.com  Tue Sep 23 14:44:16 2003
Return-Path: <Velayudham-Radhakrishnan@deshaw.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62243 invoked from network); 23 Sep 2003 14:44:16 -0000
Received: from unknown (HELO deputy.deshaw.com) (149.77.1.3)
  by daedalus.apache.org with SMTP; 23 Sep 2003 14:44:16 -0000
Received: from mshyd1.hyd.deshaw.com (mshyd1.hyd.deshaw.com [149.77.160.26])
 by deputy.deshaw.com (8.12.7/8.9.3/2.0.kim) with ESMTP id h8NEiErI016175
 for <lucene-user@jakarta.apache.org>; Tue, 23 Sep 2003 10:44:16 -0400 (EDT)
Received: by mshyd1.hyd.deshaw.com with Internet Mail Service (5.5.2653.19)
	id <SW60RRWH>; Tue, 23 Sep 2003 20:14:14 +0530
Message-ID: <7B4F465444F8D51184B500065B381750015F2580@mshyd1.hyd.deshaw.com>
From: "Radhakrishnan, Velayudham" <Velayudham-Radhakrishnan@deshaw.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Multiple Index search using SearchBean.
Date: Tue, 23 Sep 2003 20:14:13 +0530
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi folks, 

I have been using Lucene for a while. Our application needs to sort 
the result set by last modified date. I was really happy to see SearchBean
and
HitsIterator. 

My question is that can I use SearchBean for search using Multiple indices. 
I skimmed through the souce code but could not find any method to search 
using Multiple indices or an array of Directories.

Can anyone help me. Thanks in advance.

~Vela

From erik@ehatchersolutions.com  Tue Sep 23 14:45:21 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65609 invoked from network); 23 Sep 2003 14:45:21 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.65)
  by daedalus.apache.org with SMTP; 23 Sep 2003 14:45:21 -0000
Received: (cpmta 16382 invoked from network); 23 Sep 2003 07:45:23 -0700
Received: from 128.143.103.57 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.65) with SMTP; 23 Sep 2003 07:45:23 -0700
X-Sent: 23 Sep 2003 14:45:23 GMT
Date: Tue, 23 Sep 2003 10:45:25 -0400
Subject: Re: Confusion over wildcard search logic
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <4A46E75D51A2D5119F2A00B0D03D7F0901C67D98@exchange.hq.openratings.com>
Message-Id: <9152EA95-EDD4-11D7-B16F-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Tuesday, September 23, 2003, at 10:09  AM, Dan Quaroni wrote:
> Yeah, thanks a lot for your help!  I'm using the release version of 
> Lucene
> version 1.2.

Perhaps give the latest codebase a try too, just to see if any fixes 
(particularly in that WildcardQuery.toString) are there.

>> you're getting hits on the wildcard match at least, and probably on
>> name field "amb" as well.  again, phrase queries don't support
>> wildcards like you've done here with "south san fran*" so you're not
>> matching anything with that.
>
> Ok... What's the correct procedure for doing a multi-word wildcard 
> where I
> want it to begin with "south san fran" but not get anything else that
> contains "south" or "san"?  Just and together the south, san, and fran?

As far as I know there isn't a way to do this with QueryParser 
currently.  The real way to do this with the existing API is to use 
PhrasePrefixQuery and do some manual setup before using it (like you'll 
see in the current test case and Javadocs for it) by enumerating all 
the terms that start with "fran" and passing that to a 
PhrasePrefixQuery (isn't this class misnamed?  What does this have to 
do with "prefix"?) along with "south" and "san".

> Although this might produce good results, my understanding was that 
> booleans
> retrieve all matches and store them in memory then resolve the 
> booleans.  If
> I use the term "san" to search California, I'm going to need a lot of 
> memory
> to store all of the temporary results...!

+south +san +fran* ought to do the trick.  i wouldn't worry about 
memory too much until you've seen it to be a problem.  i think you'll 
be fine (but don't currently have the understanding or data to back 
that up).

	Erik


From dquaroni@OPENRATINGS.com  Tue Sep 23 14:55:29 2003
Return-Path: <dquaroni@OPENRATINGS.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99101 invoked from network); 23 Sep 2003 14:55:29 -0000
Received: from unknown (HELO exchange.hq.openratings.com) (141.149.165.226)
  by daedalus.apache.org with SMTP; 23 Sep 2003 14:55:29 -0000
Received: by exchange.hq.openratings.com with Internet Mail Service (5.5.2655.55)
	id <SWM1DXRR>; Tue, 23 Sep 2003 10:55:24 -0400
Message-ID: <4A46E75D51A2D5119F2A00B0D03D7F0901C67D9E@exchange.hq.openratings.com>
From: Dan Quaroni <dquaroni@OPENRATINGS.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Confusion over wildcard search logic
Date: Tue, 23 Sep 2003 10:55:14 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> Perhaps give the latest codebase a try too, just to see if any fixes 
> (particularly in that WildcardQuery.toString) are there.

It's our intention to put this into a production environment soon, so we
were waiting on 1.3 to go final before attempting to use it.

> i wouldn't worry about 
> memory too much until you've seen it to be a problem.  i think you'll 
> be fine (but don't currently have the understanding or data to back 
> that up).

The reason I split up the indexes by state was that I was running out of
memory (and searches were very slow) with the whole world of companies in
one index with all kinds of boolean joining.  With it split out, it seems to
do pretty well.

Well, after some extremely brief experimentation (Maybe I shoulda done it
before writing the email, huh?)  I discovered this:

**********************
This worked pretty well and got me some good results - the company that I
was looking for came back second (Which is pretty good given how general I
made the query)

Query> name:(amb proper*)
State> california
name:(amb proper*)
org.apache.lucene.search.BooleanQuery@a992f
amb proper*
31988 total matching documents

*************
This one matched a ton of documents, however the company I was looking for
came up first in the list, though with a pretty abysmal score of 0.23769014

Query> name:(amb prop*) and city:(south san fran*)
State> california
name:(amb prop*) and city:(south san fran*)
org.apache.lucene.search.BooleanQuery@34bb5
(amb prop*) (city:south city:san city:fran*)
721977 total matching documents

****************
The previous query took 1552 millis.  I was able to reduce that to 285
millis just by adding the +'s you suggested:

Query> name:(amb prop*) and city:(+south +san +fran*)
State> california
name:(amb prop*) and city:(+south +san +fran*)
org.apache.lucene.search.BooleanQuery@6d4c1
(amb prop*) (+city:south +city:san +city:fran*)
45011 total matching documents


Incidently, I say everything that I do with great awe at the power of Lucene
and respect for those who have made it possible.  Please don't take anything
I say as a gripe - I'm just learning how things work and that's a neccessary
step to take for any new software package of this type.  You just have to
learn the ins and outs and little quirks to be able to take full advantage
of it.  

Thanks!


From avp@imente.com  Tue Sep 23 16:59:34 2003
Return-Path: <avp@imente.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34882 invoked from network); 23 Sep 2003 16:59:34 -0000
Received: from unknown (HELO gustavo.imente.com) (62.97.113.150)
  by daedalus.apache.org with SMTP; 23 Sep 2003 16:59:34 -0000
Received: from imente.com (135.Red-80-36-51.pooles.rima-tde.net [80.36.51.135])
	by gustavo.imente.com (Postfix) with ESMTP id E9114100065
	for <lucene-user@jakarta.apache.org>; Tue, 23 Sep 2003 18:59:03 +0200 (CEST)
Message-ID: <3F707B67.7040800@imente.com>
Date: Tue, 23 Sep 2003 18:57:11 +0200
From: Albert Vila Puig <avp@imente.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Is the lucene index serializable?
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Can I send a small lucene index by SOAP/TCP/HTTP/RMI? Is there a way to 
serialize a Lucene Index?
I wan to send it from the Indexer server to the Search Server, and then 
do a merge operation in the Search Server with the previous index file.

Thanks.


From petite_abeille@mac.com  Tue Sep 23 17:11:16 2003
Return-Path: <petite_abeille@mac.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63448 invoked from network); 23 Sep 2003 17:11:16 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.85)
  by daedalus.apache.org with SMTP; 23 Sep 2003 17:11:16 -0000
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id h8NHBKtq013478
	for <lucene-user@jakarta.apache.org>; Tue, 23 Sep 2003 10:11:20 -0700 (PDT)
Received: from mac.com (adsl-62-167-110-48.adslplus.ch [62.167.110.48])
	(authenticated bits=0)
	by mac.com (Xserve/8.12.9/MantshX 2.0) with ESMTP id h8NHBHwE006624
	for <lucene-user@jakarta.apache.org>; Tue, 23 Sep 2003 10:11:19 -0700 (PDT)
Date: Tue, 23 Sep 2003 19:11:18 +0200
Subject: Re: Is the lucene index serializable?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: petite_abeille <petite_abeille@mac.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3F707B67.7040800@imente.com>
Message-Id: <F2175190-EDE8-11D7-85C6-000393760B7E@mac.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> Can I send a small lucene index by SOAP/TCP/HTTP/RMI? Is there a way 
> to serialize a Lucene Index?
> I wan to send it from the Indexer server to the Search Server, and 
> then do a merge operation in the Search Server with the previous index 
> file.

Well, what about a very old fashioned way instead? Something like 
tar.gz.ftp? Not very glamourous, but workable...

Cheers,

PA.


From jlauman@nwcascades.com  Tue Sep 23 17:56:39 2003
Return-Path: <jlauman@nwcascades.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34175 invoked from network); 23 Sep 2003 17:56:39 -0000
Received: from unknown (HELO ns2.nwcascades.com) (63.224.55.101)
  by daedalus.apache.org with SMTP; 23 Sep 2003 17:56:39 -0000
Received: from nwcascades.com (0-1pool143-92.nas12.tukwila2.wa.us.da.qwest.net [67.5.143.92])
	by ns2.nwcascades.com (8.12.8/8.12.8) with ESMTP id h8NHuejn003896
	for <lucene-user@jakarta.apache.org>; Tue, 23 Sep 2003 10:56:42 -0700
Message-ID: <3F708962.AE149C63@nwcascades.com>
Date: Tue, 23 Sep 2003 10:56:50 -0700
From: Jack Lauman <jlauman@nwcascades.com>
Organization: nwcascades.com
X-Mailer: Mozilla 4.8 [en] (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Design question
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I, like a lot of other people are new to Lucene.  Practical examples
are pretty scarce.

I have the following site:

http://www.tasteofwhatcom.com

It's built on JBoss 3.0.7/Tomcat 4.1.24, Apache 2.0.47/mod_jk 1.2.4,
MySQL 3.23.57 and RedHat 9.0.

I want to add search capabilites to the site to allow users to
search for entries.  All the menu items are in various MySQL
tables.  In addition some information is in static html and jsp
pages.  Some links are to PDF docs on the site.

How do you create a Lucene index on 'menu items' in the database as
well as the static pages both html and jsp, and any PDF docs that
are linked?  Are there any examples?

Thanks,

Jack


From petite_abeille@mac.com  Tue Sep 23 18:02:38 2003
Return-Path: <petite_abeille@mac.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43919 invoked from network); 23 Sep 2003 18:02:38 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.85)
  by daedalus.apache.org with SMTP; 23 Sep 2003 18:02:38 -0000
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id h8NI2gtq009158
	for <lucene-user@jakarta.apache.org>; Tue, 23 Sep 2003 11:02:42 -0700 (PDT)
Received: from mac.com (adsl-62-167-110-48.adslplus.ch [62.167.110.48])
	(authenticated bits=0)
	by mac.com (Xserve/8.12.9/MantshX 2.0) with ESMTP id h8NI1ewE024282
	for <lucene-user@jakarta.apache.org>; Tue, 23 Sep 2003 11:02:41 -0700 (PDT)
Date: Tue, 23 Sep 2003 20:01:42 +0200
Subject: Re: Design question
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: petite_abeille <petite_abeille@mac.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3F708962.AE149C63@nwcascades.com>
Message-Id: <FCFE227F-EDEF-11D7-85C6-000393760B7E@mac.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> I, like a lot of other people are new to Lucene.  Practical examples
> are pretty scarce.

If you don't mind learning by example, take a look at the "Powered by 
Lucene" page. A fair number of those projects are open source.

http://jakarta.apache.org/lucene/docs/powered.html

PA.


From ykingma@xs4all.nl  Tue Sep 23 19:30:15 2003
Return-Path: <ykingma@xs4all.nl>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96405 invoked from network); 23 Sep 2003 19:30:15 -0000
Received: from unknown (HELO smtpzilla3.xs4all.nl) (194.109.127.139)
  by daedalus.apache.org with SMTP; 23 Sep 2003 19:30:15 -0000
Received: from k7l (a80-127-237-50.dial.xs4all.nl [80.127.237.50])
	by smtpzilla3.xs4all.nl (8.12.9/8.12.9) with ESMTP id h8NJUBBD064272;
	Tue, 23 Sep 2003 21:30:12 +0200 (CEST)
Content-Type: text/plain;
  charset="iso-8859-1"
From: Ype Kingma <ykingma@xs4all.nl>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
   "Chris Hennen" <chris5hen@hotmail.com>
Subject: Re: scoring algorithm
Date: Sun, 21 Sep 2003 21:29:40 -0700
User-Agent: KMail/1.4.3
References: <Law11-F113a9jE11ojM00014512@hotmail.com>
In-Reply-To: <Law11-F113a9jE11ojM00014512@hotmail.com>
MIME-Version: 1.0
Content-Transfer-Encoding: quoted-printable
Message-Id: <200309212129.40135.ykingma@xs4all.nl>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Tuesday 23 September 2003 00:12, Chris Hennen wrote:
> Hi,
>
> what is the purpose of "tf_q * idf_t / norm_q" in Lucene's scoring
> algorithm:
> score_d =3D sum_t( tf_q * idf_t / norm_q * tf_d * idf_t / norm_d_t)
>
> I dont understand, why the score has to be higher, when the frequency o=
f a
> term in the query is higher. What is normalized by "norm_q"?

To give the user the possibility to assign a higher weight to a term in a
query, (by using a term weight or by repeating the term).
The norm_q compensates the total score for the query weights,
leaving the scores of two different queries somewhat comparable.

Kind regards,
Ype


From gwohaur@crimsonlogic.com  Wed Sep 24 07:56:52 2003
Return-Path: <gwohaur@crimsonlogic.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18111 invoked from network); 24 Sep 2003 07:56:52 -0000
Received: from unknown (HELO cronus.crimsonlogic.com) (210.56.134.80)
  by daedalus.apache.org with SMTP; 24 Sep 2003 07:56:52 -0000
Received: from SG01PVEXCH00.snshub.org ([172.29.8.14])
	by cronus.crimsonlogic.com (8.12.9/8.12.9) with ESMTP id h8O7v3aw007940
	for <lucene-user@jakarta.apache.org>; Wed, 24 Sep 2003 15:57:04 +0800
X-MimeOLE: Produced By Microsoft Exchange V6.0.4712.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: taxonomy with lucene
Date: Wed, 24 Sep 2003 15:57:03 +0800
Message-ID: <0217CC82D9B9B347B9C0A7A27EFE38FBBFC0F4@SG01PVEXCH00.snshub.org>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: taxonomy with lucene
Thread-Index: AcOBqOlhf1DLUr57Qqm8OxzH3L45UwAxxp1Q
From: "Gwo Haur, Fun" <gwohaur@crimsonlogic.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


>The approach is very simple. Every document has a field for a unique
identifier,=20
>a field for the identifier of its immediate parent, and a field for
those of all=20
>ancestors. This allows you to write queries such as "name:human
ancestor:2759" to find=20
>organisms that have "human" in their name, and are Eukaryotes (but not,
say, viruses).

>One drawback of this approach is that doing incremental updates is not
possible, or at=20
>least very complicated (duplicated information in the ancestor field),
and you must be=20
>careful about the order in which you add documents to the index (parent
before child).


Are these fields and their values added during the index operation? I
mean is it possible to add in the fields at a later time (ie after
indexing). What about updating the fields?=20

It seems like I have to remove the index item and then re-index it in
again?


From jeamel@gmx.de  Wed Sep 24 08:19:28 2003
Return-Path: <jeamel@gmx.de>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44009 invoked from network); 24 Sep 2003 08:19:28 -0000
Received: from unknown (HELO mail.gmx.net) (213.165.64.20)
  by daedalus.apache.org with SMTP; 24 Sep 2003 08:19:28 -0000
Received: (qmail 2130 invoked by uid 65534); 24 Sep 2003 08:19:40 -0000
Received: from pD9E77446.dip.t-dialin.net (EHLO hanna) (217.231.116.70)
  by mail.gmx.net (mp010) with SMTP; 24 Sep 2003 10:19:40 +0200
X-Authenticated: #3439441
Date: Wed, 24 Sep 2003 10:19:39 +0200
From: Hanna <jeamel@gmx.de>
X-Mailer: The Bat! (v2.00.6) Business
Reply-To: Hanna <jeamel@gmx.de>
X-Priority: 3 (Normal)
Message-ID: <1661860437.20030924101939@gmx.de>
To: lucene-user@jakarta.apache.org
Subject: FileNotFoundException when optimizing
Resent-from: Hanna <jeamel@gmx.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello,

we use Lucene 1.2 to index data of a content management system on a
solaris machine.

Our problem is that the segments file seems not to be up to date. When
the IndexWriter.optimize() method is used, a FileNotFoundException is
thrown. The file that is looked for does not exist.

This issue was posted before, but it has not been answered yet. So I
try it again. Here is the stacktrace of the exception:

java.io.FileNotFoundException: /var/spool/www/index/otv/_19bi.fnm (No such file or directory)
        at java.io.RandomAccessFile.open(Native Method)
        at java.io.RandomAccessFile.<init>(RandomAccessFile.java:139)
        at org.apache.lucene.store.FSInputStream$Descriptor.<init>(Unknown Source)
        at org.apache.lucene.store.FSInputStream.<init>(Unknown Source)
        at org.apache.lucene.store.FSDirectory.openFile(Unknown Source)
        at org.apache.lucene.index.FieldInfos.<init>(Unknown Source)
        at org.apache.lucene.index.SegmentReader.<init>(Unknown Source)
        at org.apache.lucene.index.IndexWriter.mergeSegments(Unknown Source)
        at org.apache.lucene.index.IndexWriter.optimize(Unknown Source)
        at de.blueorange.xred.search.LuceneIndexer.closeWriter(LuceneIndexer.java:650)
        at de.blueorange.xred.search.LuceneIndexer.close(LuceneIndexer.java:701)
        at de.blueorange.xred.search.LuceneIndexer.executeRequest(LuceneIndexer.java:278)
        at de.blueorange.xred.search.LuceneIndexer.run(LuceneIndexer.java:306)
        at java.lang.Thread.run(Thread.java:479)


There are several other files which are not found.

What could be the cause of the old entries in the segments file? Maybe
there is a problem with concurrent reading and writing threads?


Thanks a lot
Hanna


From Eric.Jain@isb-sib.ch  Wed Sep 24 09:29:41 2003
Return-Path: <Eric.Jain@isb-sib.ch>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53548 invoked from network); 24 Sep 2003 09:29:41 -0000
Received: from unknown (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
  by daedalus.apache.org with SMTP; 24 Sep 2003 09:29:41 -0000
Received: from caliente (router.isb-sib.ch [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.10/8.12.8) with ESMTP id h8O9Tr1D009616
	for <lucene-user@jakarta.apache.org>; Wed, 24 Sep 2003 11:29:53 +0200
Message-ID: <001f01c3827e$6fe95a40$c300000a@caliente>
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <0217CC82D9B9B347B9C0A7A27EFE38FBBFC0F4@SG01PVEXCH00.snshub.org>
Subject: Re: taxonomy with lucene
Date: Wed, 24 Sep 2003 11:30:05 +0200
Organization: Swiss Institute of Bioinformatics
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-sib-MailScanner-Information: Please contact the ISP for more information
X-sib-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> Are these fields and their values added during the index operation? I
> mean is it possible to add in the fields at a later time (ie after
> indexing). What about updating the fields?
>
> It seems like I have to remove the index item and then re-index it in
> again?

Unfortunately, yes. The problem is that it is not possible to modify
individual index fields with Lucene, and I am not aware of any
workaround.

--
Eric Jain


From markharw00d@yahoo.co.uk  Wed Sep 24 21:44:49 2003
Return-Path: <markharw00d@yahoo.co.uk>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31743 invoked from network); 24 Sep 2003 21:44:49 -0000
Received: from unknown (HELO server0027.freedom2surf.net) (194.106.33.36)
  by daedalus.apache.org with SMTP; 24 Sep 2003 21:44:49 -0000
Received: from dell (searcharea.co.uk [194.106.34.5])
	by server0027.freedom2surf.net (8.12.6/8.12.6/Debian-7) with SMTP id h8OLitit019264
	for <lucene-user@jakarta.apache.org>; Wed, 24 Sep 2003 21:44:55 GMT
Date: Wed, 24 Sep 2003 21:44:55 GMT
Message-Id: <200309242144.h8OLitit019264@server0027.freedom2surf.net>
From: markharw00d@yahoo.co.uk
To: lucene-user@jakarta.apache.org
Subject: New highlighter package available
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Details of a new highlighter package are available here:

http://home.clara.net/markharwood/lucene/highlight.htm

Features include:
* Support for highlighting all query types
* Support for getting "best fragments" summary from large docs
* Works with latest version of Lucene

Hope you find this useful.
Mark Harwood


From ab@getopt.org  Thu Sep 25 00:24:58 2003
Return-Path: <ab@getopt.org>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27267 invoked from network); 25 Sep 2003 00:24:58 -0000
Received: from unknown (HELO mail3.astercity.net) (212.76.33.52)
  by daedalus.apache.org with SMTP; 25 Sep 2003 00:24:58 -0000
Received: from getopt.org (75-mo3-2.acn.waw.pl [62.121.105.75])
	by mail3.astercity.net (sendmail) with ESMTP id A321A2BB215
	for <lucene-user@jakarta.apache.org>; Thu, 25 Sep 2003 02:24:59 +0200 (CEST)
Message-ID: <3F7235FA.8090000@getopt.org>
Date: Thu, 25 Sep 2003 02:25:30 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Luke v. 0.3 release - Lucene Index Browser
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

This release brings small bugfixes and UI enhancements. Most of these 
changes have been contributed by Ryan Cox - thank you!

Please visit http://www.getopt.org/luke for more information.

Java WebStart users should get an update automatically the next time 
they start Luke. All others please visit the link above to get both 
binaries and source code.

-- 
Best regards,
Andrzej Bialecki

-------------------------------------------------
Software Architect, System Integration Specialist
CEN/ISSS EC Workshop, ECIMF project chair
EU FP6 E-Commerce Expert/Evaluator
-------------------------------------------------
FreeBSD developer (http://www.freebsd.org)





From otis_gospodnetic@yahoo.com  Thu Sep 25 08:28:19 2003
Return-Path: <otis_gospodnetic@yahoo.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72839 invoked from network); 25 Sep 2003 08:28:19 -0000
Received: from unknown (HELO web12705.mail.yahoo.com) (216.136.173.242)
  by daedalus.apache.org with SMTP; 25 Sep 2003 08:28:19 -0000
Message-ID: <20030925082833.81328.qmail@web12705.mail.yahoo.com>
Received: from [194.152.224.15] by web12705.mail.yahoo.com via HTTP; Thu, 25 Sep 2003 01:28:33 PDT
Date: Thu, 25 Sep 2003 01:28:33 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Lucene MBean service for JBoss
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <oprsmre7hh7u9gqe@smtp.paradise.net.nz>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks, I'm finally including this on the Contributions page.

Otis

--- Andy Scholz <andy.scholz@exodelta.com> wrote:
> Hi All,
> 
> For those that may be interested, I have written a full text indexing
> 
> service for the JBoss application server that uses Lucene as its
> engine. It 
> allows lucene to be used as a service rather than a standalone app
> with 
> thread pooling, access synchronization, management etc. Index and
> search 
> interfaces are accessable via JNDI and remotely via session EJB's.
> 
> Additionally I have provided content filters for common formats like
> HTML, 
> MSWord, MSExcel, xml etc (with some help from other projects). A
> simple 
> interface also allows you to write your own filters for different
> formats.
> 
> It is available under an LGPL license and source code, binaries and
> info 
> are avaialble here:
> http://ejindex.sourceforge.net
> 
> I'd love to get some feedback, so if your iterested, please let me
> know 
> your comments or suggestions;)
> 
> regards,
> Andy Scholz
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Shopping - with improved product search
http://shopping.yahoo.com

From lucene@nitwit.de  Thu Sep 25 10:57:35 2003
Return-Path: <lucene@nitwit.de>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72747 invoked from network); 25 Sep 2003 10:57:35 -0000
Received: from unknown (HELO smtprelay02.ispgateway.de) (62.67.200.157)
  by daedalus.apache.org with SMTP; 25 Sep 2003 10:57:35 -0000
Received: (qmail 22863 invoked from network); 25 Sep 2003 10:57:34 -0000
Received: from unknown (HELO tcn.local) (652696@[217.231.215.179])
          (envelope-sender <lucene@nitwit.de>)
          by smtprelay02.ispgateway.de (qmail-ldap-1.03) with SMTP
          for <lucene-user@jakarta.apache.org>; 25 Sep 2003 10:57:34 -0000
Received: from localhost (localhost [127.0.0.1])
	by tcn.local (Postfix) with ESMTP id BC8EDD86E0
	for <lucene-user@jakarta.apache.org>; Thu, 25 Sep 2003 12:56:54 +0200 (CEST)
From: lucene@nitwit.de
To: lucene-user@jakarta.apache.org
Subject: wildcards in fields?
Date: Thu, 25 Sep 2003 12:56:54 +0200
User-Agent: KMail/1.5.3
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200309251256.54217.lucene@nitwit.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi!

I search in a field called "url". url:www.blah.com does return hits while 
url:blah.com does not. So I tried url:*blah.com but this does even throw a 
ParseException.

What am I doing wrong?

Timo


From lucene@nitwit.de  Thu Sep 25 10:58:58 2003
Return-Path: <lucene@nitwit.de>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78239 invoked from network); 25 Sep 2003 10:58:58 -0000
Received: from unknown (HELO smtprelay01.ispgateway.de) (62.67.200.156)
  by daedalus.apache.org with SMTP; 25 Sep 2003 10:58:58 -0000
Received: (qmail 15074 invoked from network); 25 Sep 2003 10:55:33 -0000
Received: from unknown (HELO tcn.local) (652696@[217.231.215.179])
          (envelope-sender <lucene@nitwit.de>)
          by smtprelay01.ispgateway.de (qmail-ldap-1.03) with SMTP
          for <lucene-user@jakarta.apache.org>; 25 Sep 2003 10:55:33 -0000
Received: from localhost (localhost [127.0.0.1])
	by tcn.local (Postfix) with ESMTP id 8E774156B26
	for <lucene-user@jakarta.apache.org>; Thu, 25 Sep 2003 12:55:00 +0200 (CEST)
From: lucene@nitwit.de
To: lucene-user@jakarta.apache.org
Subject: stop words in index
Date: Thu, 25 Sep 2003 12:54:59 +0200
User-Agent: KMail/1.5.3
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200309251254.59961.lucene@nitwit.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi!

I use a GermanAnalyzer for indexing and searching, search for "der" ("the") 
does not return any hits. But examining the index with Luke does show up 
"der" as the top ranked word. Other word which are probably stop words as 
well ("zum") return hits.

bug?
Timo


From Wolf-Dietrich.Materna@empolis.com  Thu Sep 25 11:15:46 2003
Return-Path: <Wolf-Dietrich.Materna@empolis.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9552 invoked from network); 25 Sep 2003 11:15:46 -0000
Received: from unknown (HELO ns1.empolis.com) (62.52.175.194)
  by daedalus.apache.org with SMTP; 25 Sep 2003 11:15:46 -0000
Received: from empdegu04.de.empolis.com (geps-gtso-de01.mediaways.net [195.71.227.139])
	by ns1.empolis.com (8.11.6+Sun/8.11.3/NS1) with ESMTP id h8PBFjs17037
	for <lucene-user@jakarta.apache.org>; Thu, 25 Sep 2003 13:15:45 +0200 (MEST)
Received: by EMPDEGU04 with Internet Mail Service (5.5.2656.59)
	id <TPT575HN>; Thu, 25 Sep 2003 13:16:07 +0200
Message-ID: <3FBFE0B523AD8049BF872A710EF9B3225393B9@EMPDEGU04>
From: "Materna, Wolf-Dietrich (empolis B)"
	 <Wolf-Dietrich.Materna@empolis.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: AW: wildcards in fields?
Date: Thu, 25 Sep 2003 13:16:06 +0200
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2656.59)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello,
> Von: lucene@nitwit.de [mailto:lucene@nitwit.de]
> 
> I search in a field called "url". url:www.blah.com does 
> return hits while 
> url:blah.com does not. So I tried url:*blah.com but this does 
> even throw a 
> ParseException.
> 
> What am I doing wrong?
Wildcards at the beginning of a term are not supported. Lucene use the first
characters to speedup the search for matching terms (== words). So the query
parser doesn't accept you query. (Afterwise lucene has to examine all terms
and this would be very slow).
You may use a second field to store the url as invered string, e.g.
invurl: moc.halb.www and search for invurl:moc.halb.* instead.
Checkout the archives for both mailing lists (lucene-user@jakarta.apache.org
and lucene-dev@jakarta.apache.org). IRC there are other proposals discussed
serveral time ago to workaround this limit.
Regards,
	Wolf-Dietrich
-- 
Wolf-Dietrich Materna
Development
 
empolis GmbH -  arvato knowledge management 

phone: +49 - 30 - 34 35 34 95 
<<mailto:Wolf-Dietrich.Materna@empolis.com>> <<http://www.empolis.com>> 

From andy.scholz@exodelta.com  Thu Sep 25 13:07:50 2003
Return-Path: <andy.scholz@exodelta.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87339 invoked from network); 25 Sep 2003 13:07:50 -0000
Received: from unknown (HELO linda-3.paradise.net.nz) (202.0.58.22)
  by daedalus.apache.org with SMTP; 25 Sep 2003 13:07:50 -0000
Received: from smtp-1.paradise.net.nz (smtp-1b.paradise.net.nz [202.0.32.210])
 by linda-3.paradise.net.nz (Paradise.net.nz)
 with ESMTP id <0HLR001HCTT3DB@linda-3.paradise.net.nz> for
 lucene-user@jakarta.apache.org; Fri, 26 Sep 2003 01:07:51 +1200 (NZST)
Received: from exodelta.com (203-79-83-4.cable.paradise.net.nz [203.79.83.4])
	by smtp-1.paradise.net.nz (Postfix) with ESMTP id 3B7828278B	for
 <lucene-user@jakarta.apache.org>; Fri, 26 Sep 2003 01:07:51 +1200 (NZST)
Date: Fri, 26 Sep 2003 01:07:46 +1200
From: Andy Scholz <andy.scholz@exodelta.com>
Subject: Re: Lucene MBean service for JBoss
In-reply-to: <20030925082833.81328.qmail@web12705.mail.yahoo.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <3F72E8A2.7040900@exodelta.com>
MIME-version: 1.0
Content-type: text/plain; format=flowed; charset=us-ascii
Content-transfer-encoding: 7bit
X-Accept-Language: en-us, en
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.5b)
 Gecko/20030827
References: <20030925082833.81328.qmail@web12705.mail.yahoo.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks Otis...

With any luck my current employer will also chip in a few bucks to help 
maintain the project (I'm working on it).......

cheers
-andy

Otis Gospodnetic wrote:

>Thanks, I'm finally including this on the Contributions page.
>
>Otis
>
>--- Andy Scholz <andy.scholz@exodelta.com> wrote:
>  
>
>>Hi All,
>>
>>For those that may be interested, I have written a full text indexing
>>
>>service for the JBoss application server that uses Lucene as its
>>engine. It 
>>allows lucene to be used as a service rather than a standalone app
>>with 
>>thread pooling, access synchronization, management etc. Index and
>>search 
>>interfaces are accessable via JNDI and remotely via session EJB's.
>>
>>Additionally I have provided content filters for common formats like
>>HTML, 
>>MSWord, MSExcel, xml etc (with some help from other projects). A
>>simple 
>>interface also allows you to write your own filters for different
>>formats.
>>
>>It is available under an LGPL license and source code, binaries and
>>info 
>>are avaialble here:
>>http://ejindex.sourceforge.net
>>
>>I'd love to get some feedback, so if your iterested, please let me
>>know 
>>your comments or suggestions;)
>>
>>regards,
>>Andy Scholz
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>    
>>
>
>
>__________________________________
>Do you Yahoo!?
>The New Yahoo! Shopping - with improved product search
>http://shopping.yahoo.com
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>  
>



From lucene@nitwit.de  Thu Sep 25 16:17:48 2003
Return-Path: <lucene@nitwit.de>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7831 invoked from network); 25 Sep 2003 16:17:48 -0000
Received: from unknown (HELO smtprelay01.ispgateway.de) (62.67.200.156)
  by daedalus.apache.org with SMTP; 25 Sep 2003 16:17:48 -0000
Received: (qmail 9933 invoked from network); 25 Sep 2003 16:17:39 -0000
Received: from unknown (HELO tcn.local) (652696@[217.231.248.165])
          (envelope-sender <lucene@nitwit.de>)
          by smtprelay01.ispgateway.de (qmail-ldap-1.03) with SMTP
          for <lucene-user@jakarta.apache.org>; 25 Sep 2003 16:17:39 -0000
Received: from localhost (localhost [127.0.0.1])
	by tcn.local (Postfix) with ESMTP id 84B8C15E3AD
	for <lucene-user@jakarta.apache.org>; Thu, 25 Sep 2003 18:16:43 +0200 (CEST)
From: lucene@nitwit.de
To: lucene-user@jakarta.apache.org
Subject: wildcards in fields?
Date: Thu, 25 Sep 2003 18:16:40 +0200
User-Agent: KMail/1.5.3
MIME-Version: 1.0
Content-Disposition: inline
Message-Id: <200309251256.54217.lucene@nitwit.de>
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi!

I search in a field called "url". url:www.blah.com does return hits while 
url:blah.com does not. So I tried url:*blah.com but this does even throw a 
ParseException.

What am I doing wrong?

Timo


From gayo.diallo@imag.fr  Thu Sep 25 16:20:34 2003
Return-Path: <gayo.diallo@imag.fr>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10349 invoked from network); 25 Sep 2003 16:20:34 -0000
Received: from unknown (HELO imag.imag.fr) (129.88.30.1)
  by daedalus.apache.org with SMTP; 25 Sep 2003 16:20:34 -0000
Received: from orage.imag.fr (orage.imag.fr [152.77.201.1])
	by imag.imag.fr (8.12.10/8.12.10) with ESMTP id h8PGKTNB025958
	for <lucene-user@jakarta.apache.org>; Thu, 25 Sep 2003 18:20:33 +0200 (CEST)
Received: from batica1.imag.fr (batica1.imag.fr [152.77.200.163])
	by orage.imag.fr (8.12.9+Sun/8.11.3/ImagV2) with ESMTP id h8PGKSTT028213
	for <lucene-user@jakarta.apache.org>; Thu, 25 Sep 2003 18:20:29 +0200 (CEST)
Message-Id: <5.0.2.1.2.20030925182334.00b09638@mail-timc.imag.fr>
X-Sender: gdiallo@mail-timc.imag.fr
X-Mailer: QUALCOMM Windows Eudora Version 5.0.2
Date: Thu, 25 Sep 2003 18:24:13 +0200
To: lucene-user@jakarta.apache.org
From: Gayo Diallo <gayo.diallo@imag.fr>
Subject: French texts
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="=====================_802824==_.ALT"
X-IMAG-MailScanner: Found to be clean
X-IMAG-MailScanner-Information: Please contact the ISP for more information
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--=====================_802824==_.ALT
Content-Type: text/plain; charset="us-ascii"; format=flowed

Hi,
I just want to know If It's possible to use Lucene for french documents.
Is there any analyser for this language ?
Best regards,
Gayo Diallo

--=====================_802824==_.ALT--


From bruce@jivesoftware.com  Thu Sep 25 16:32:15 2003
Return-Path: <bruce@jivesoftware.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29596 invoked from network); 25 Sep 2003 16:32:15 -0000
Received: from unknown (HELO jive.servlets.net) (209.162.192.250)
  by daedalus.apache.org with SMTP; 25 Sep 2003 16:32:15 -0000
Received: from jivesoftware.com (CPE00045ade8fc4-CM008037bbf5fd.cpe.net.cable.rogers.com [24.153.2.131])
	(authenticated bits=0)
	by jive.servlets.net (8.12.8/8.12.8) with ESMTP id h8PGWGmX018956
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=OK)
	for <lucene-user@jakarta.apache.org>; Thu, 25 Sep 2003 09:32:18 -0700
Message-ID: <3F73188B.1090805@jivesoftware.com>
Date: Thu, 25 Sep 2003 12:32:11 -0400
From: Bruce Ritchie <bruce@jivesoftware.com>
Organization: Jive Software
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.5) Gecko/20030916
X-Accept-Language: en-ca, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: French texts
References: <5.0.2.1.2.20030925182334.00b09638@mail-timc.imag.fr>
In-Reply-To: <5.0.2.1.2.20030925182334.00b09638@mail-timc.imag.fr>
Content-Type: multipart/signed; protocol="application/x-pkcs7-signature"; micalg=sha1; boundary="------------ms090200060908040408080702"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--------------ms090200060908040408080702
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Yes, you can use lucene to search French documents. The snowball stemmers contribution contains a 
French stemmer - you'll find it athttp://jakarta.apache.org/lucene/docs/lucene-sandbox/snowball/

Regards,

Bruce Ritchie

Gayo Diallo wrote:

> Hi,
> I just want to know If It's possible to use Lucene for french documents.
> Is there any analyser for this language ?
> Best regards,
> Gayo Diallo
> 

--------------ms090200060908040408080702
Content-Type: application/x-pkcs7-signature; name="smime.p7s"
Content-Transfer-Encoding: base64
Content-Disposition: attachment; filename="smime.p7s"
Content-Description: S/MIME Cryptographic Signature

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIJWDCC
AwowggJzoAMCAQICAwht7zANBgkqhkiG9w0BAQQFADCBkjELMAkGA1UEBhMCWkExFTATBgNV
BAgTDFdlc3Rlcm4gQ2FwZTESMBAGA1UEBxMJQ2FwZSBUb3duMQ8wDQYDVQQKEwZUaGF3dGUx
HTAbBgNVBAsTFENlcnRpZmljYXRlIFNlcnZpY2VzMSgwJgYDVQQDEx9QZXJzb25hbCBGcmVl
bWFpbCBSU0EgMjAwMC44LjMwMB4XDTAyMTAwNzIwNTMyOFoXDTAzMTAwNzIwNTMyOFowSDEf
MB0GA1UEAxMWVGhhd3RlIEZyZWVtYWlsIE1lbWJlcjElMCMGCSqGSIb3DQEJARYWYnJ1Y2VA
aml2ZXNvZnR3YXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAN1qo82c
agU3foe/NdBpl0qE2gtfjKV21zQM6NjXgfi4saTNwMvPJCpoU4KXCQZC+sPOll23eo0dtugN
q/70apl32G7TwckV24aL0MYbWZhr8s75k6OTfGS57w8J2T60Zi7BDEEUv8vjUG/eRYV8pSK1
3Acix+FPhN8sW+NFF0Hfe9z7brpJ/7BTsiHcEXwdqlR/XjPgcNpCbQ/QQJkf3Zmx3XYBfn7T
3fyhSm4uhPNkz941HTblz6+VBB/ICubucm+Pz5gSpHYGBm+J8jnimVMQEX1LL/wInN7vwutu
sIMLoQ8C1YAQMUCnITEA38kg5ZHBwD0I/odURGXdKCjAdlECAwEAAaMzMDEwIQYDVR0RBBow
GIEWYnJ1Y2VAaml2ZXNvZnR3YXJlLmNvbTAMBgNVHRMBAf8EAjAAMA0GCSqGSIb3DQEBBAUA
A4GBAA+U/df/1mU5jG7Ksuc2wX+V/oUt6telqLGQNn/BdKJlsUTDFHvs2QUeaeWwmbNsbXiC
JSowxA4lrUZaLdj8NZcjhdZhFqJpU/ksyem45qRYYHVMnWpoII7dSUmLQWntM70497rSUUD2
CSwJ4JfceLLDO0PKOzlCR+gmbYFTJzrdMIIDCjCCAnOgAwIBAgIDCG3vMA0GCSqGSIb3DQEB
BAUAMIGSMQswCQYDVQQGEwJaQTEVMBMGA1UECBMMV2VzdGVybiBDYXBlMRIwEAYDVQQHEwlD
YXBlIFRvd24xDzANBgNVBAoTBlRoYXd0ZTEdMBsGA1UECxMUQ2VydGlmaWNhdGUgU2Vydmlj
ZXMxKDAmBgNVBAMTH1BlcnNvbmFsIEZyZWVtYWlsIFJTQSAyMDAwLjguMzAwHhcNMDIxMDA3
MjA1MzI4WhcNMDMxMDA3MjA1MzI4WjBIMR8wHQYDVQQDExZUaGF3dGUgRnJlZW1haWwgTWVt
YmVyMSUwIwYJKoZIhvcNAQkBFhZicnVjZUBqaXZlc29mdHdhcmUuY29tMIIBIjANBgkqhkiG
9w0BAQEFAAOCAQ8AMIIBCgKCAQEA3WqjzZxqBTd+h7810GmXSoTaC1+MpXbXNAzo2NeB+Lix
pM3Ay88kKmhTgpcJBkL6w86WXbd6jR226A2r/vRqmXfYbtPByRXbhovQxhtZmGvyzvmTo5N8
ZLnvDwnZPrRmLsEMQRS/y+NQb95FhXylIrXcByLH4U+E3yxb40UXQd973Ptuukn/sFOyIdwR
fB2qVH9eM+Bw2kJtD9BAmR/dmbHddgF+ftPd/KFKbi6E82TP3jUdNuXPr5UEH8gK5u5yb4/P
mBKkdgYGb4nyOeKZUxARfUsv/Aic3u/C626wgwuhDwLVgBAxQKchMQDfySDlkcHAPQj+h1RE
Zd0oKMB2UQIDAQABozMwMTAhBgNVHREEGjAYgRZicnVjZUBqaXZlc29mdHdhcmUuY29tMAwG
A1UdEwEB/wQCMAAwDQYJKoZIhvcNAQEEBQADgYEAD5T91//WZTmMbsqy5zbBf5X+hS3q16Wo
sZA2f8F0omWxRMMUe+zZBR5p5bCZs2xteIIlKjDEDiWtRlot2Pw1lyOF1mEWomlT+SzJ6bjm
pFhgdUydamggjt1JSYtBae0zvTj3utJRQPYJLAngl9x4ssM7Q8o7OUJH6CZtgVMnOt0wggM4
MIICoaADAgECAhBmRXK3zHT1z2N2RYTQLpEBMA0GCSqGSIb3DQEBBAUAMIHRMQswCQYDVQQG
EwJaQTEVMBMGA1UECBMMV2VzdGVybiBDYXBlMRIwEAYDVQQHEwlDYXBlIFRvd24xGjAYBgNV
BAoTEVRoYXd0ZSBDb25zdWx0aW5nMSgwJgYDVQQLEx9DZXJ0aWZpY2F0aW9uIFNlcnZpY2Vz
IERpdmlzaW9uMSQwIgYDVQQDExtUaGF3dGUgUGVyc29uYWwgRnJlZW1haWwgQ0ExKzApBgkq
hkiG9w0BCQEWHHBlcnNvbmFsLWZyZWVtYWlsQHRoYXd0ZS5jb20wHhcNMDAwODMwMDAwMDAw
WhcNMDQwODI3MjM1OTU5WjCBkjELMAkGA1UEBhMCWkExFTATBgNVBAgTDFdlc3Rlcm4gQ2Fw
ZTESMBAGA1UEBxMJQ2FwZSBUb3duMQ8wDQYDVQQKEwZUaGF3dGUxHTAbBgNVBAsTFENlcnRp
ZmljYXRlIFNlcnZpY2VzMSgwJgYDVQQDEx9QZXJzb25hbCBGcmVlbWFpbCBSU0EgMjAwMC44
LjMwMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDeMzKmY8cJJUU+0m54J2eBxdqIGYKX
DuNEKYpjNSptcDz63K737nRvMLwzkH/5NHGgo22Y8cNPomXbDfpL8dbdYaX5hc1VmjUanZJ1
qCeu2HL5ugL217CR3hzpq+AYA6h8Q0JQUYeDPPA5tJtUihOH/7ObnUlmAC0JieyUa+mhaQID
AQABo04wTDApBgNVHREEIjAgpB4wHDEaMBgGA1UEAxMRUHJpdmF0ZUxhYmVsMS0yOTcwEgYD
VR0TAQH/BAgwBgEB/wIBADALBgNVHQ8EBAMCAQYwDQYJKoZIhvcNAQEEBQADgYEAMbFLR135
AXHl9VNsXXnWPZjAJhNigSKnEvgilegbSbcnewQ5uvzm8iTrkfq97A0qOPdQVahs9w2tTBu8
A/S166JHn2yiDFiNMUIJEWywGmnRKxKyQF1q+XnQ6i4l3Yrk/NsNH50C81rbyjz2ROomaYd/
SJ7OpZ/nhNjJYmKtBcYxggPVMIID0QIBATCBmjCBkjELMAkGA1UEBhMCWkExFTATBgNVBAgT
DFdlc3Rlcm4gQ2FwZTESMBAGA1UEBxMJQ2FwZSBUb3duMQ8wDQYDVQQKEwZUaGF3dGUxHTAb
BgNVBAsTFENlcnRpZmljYXRlIFNlcnZpY2VzMSgwJgYDVQQDEx9QZXJzb25hbCBGcmVlbWFp
bCBSU0EgMjAwMC44LjMwAgMIbe8wCQYFKw4DAhoFAKCCAg8wGAYJKoZIhvcNAQkDMQsGCSqG
SIb3DQEHATAcBgkqhkiG9w0BCQUxDxcNMDMwOTI1MTYzMjExWjAjBgkqhkiG9w0BCQQxFgQU
lI3BV6M3hTwO663+f2mbqRmPpfUwUgYJKoZIhvcNAQkPMUUwQzAKBggqhkiG9w0DBzAOBggq
hkiG9w0DAgICAIAwDQYIKoZIhvcNAwICAUAwBwYFKw4DAgcwDQYIKoZIhvcNAwICASgwgasG
CSsGAQQBgjcQBDGBnTCBmjCBkjELMAkGA1UEBhMCWkExFTATBgNVBAgTDFdlc3Rlcm4gQ2Fw
ZTESMBAGA1UEBxMJQ2FwZSBUb3duMQ8wDQYDVQQKEwZUaGF3dGUxHTAbBgNVBAsTFENlcnRp
ZmljYXRlIFNlcnZpY2VzMSgwJgYDVQQDEx9QZXJzb25hbCBGcmVlbWFpbCBSU0EgMjAwMC44
LjMwAgMIbe8wga0GCyqGSIb3DQEJEAILMYGdoIGaMIGSMQswCQYDVQQGEwJaQTEVMBMGA1UE
CBMMV2VzdGVybiBDYXBlMRIwEAYDVQQHEwlDYXBlIFRvd24xDzANBgNVBAoTBlRoYXd0ZTEd
MBsGA1UECxMUQ2VydGlmaWNhdGUgU2VydmljZXMxKDAmBgNVBAMTH1BlcnNvbmFsIEZyZWVt
YWlsIFJTQSAyMDAwLjguMzACAwht7zANBgkqhkiG9w0BAQEFAASCAQCd3Ucd1s5czzLPBgkS
ZEYlTHD2Z5J6ahDisXKW/wcZPoht3rsxP9mcp2wLArrb6u2kn3WejdtK6buuR3ye1b52l9Da
ymTcLpWt7h0ooo0t4hEnx40NbJH9xjlO/bJrl8yNQ3KznzFsOI1nOx670X/guOvn24d9Tgy2
IM43EnUBYkCeOkxxrJ59uL/wg9b3Ng29TwSO7UgPuSYnFTX3VqOhHT2i+pDRntBYzGwXvZyk
+ym1kZadgTiPzLiZ1UmhoxCsFzirKgho1qGT3KqErnIKebKwWg1JkKv4W/TXZMD8AjRC+mWX
cul2d5cPXiYP9zRIVcbXHPV2r7Al2U6C/YTgAAAAAAAA
--------------ms090200060908040408080702--


From vyuryev@rambler.ru  Fri Sep 26 05:31:52 2003
Return-Path: <vyuryev@rambler.ru>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3717 invoked from network); 26 Sep 2003 05:31:52 -0000
Received: from unknown (HELO mxc.rambler.ru) (81.19.66.31)
  by daedalus.apache.org with SMTP; 26 Sep 2003 05:31:52 -0000
Received: from mail5.rambler.ru (mail5.rambler.ru [81.19.66.7])
	by mxc.rambler.ru (Postfix) with ESMTP id B6AAA7D48
	for <lucene-user@jakarta.apache.org>; Fri, 26 Sep 2003 09:32:02 +0400 (MSD)
	(envelope-from vyuryev@rambler.ru)
Received: from [81.19.66.146] (account <vyuryev@rambler.ru>)
  by mail5.rambler.ru (CommuniGate Pro WebUser 4.0.6)
  with HTTP id 26651780 for <lucene-user@jakarta.apache.org>; Fri, 26 Sep 2003 09:31:26 +0400
From: "=?windows-1251?Q?=C2=EB=E0=E4=E8=EC=E8=F0_=DE=F0=FC=E5=E2?=" <vyuryev@rambler.ru>
Subject: Re: French texts
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: CommuniGate Pro Web Mailer v.4.0.6
Date: Fri, 26 Sep 2003 09:31:26 +0400
Message-ID: <web-26651780@mail5.rambler.ru>
In-Reply-To: <5.0.2.1.2.20030925182334.00b09638@mail-timc.imag.fr>
MIME-Version: 1.0
Content-Type: text/plain; charset="windows-1251"; format="flowed"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi!

Here you will find a good example of operation Lucene in French.
http://www.nongnu.org/sdx/

Good luck,
Vladimir Yuryev

On Thu, 25 Sep 2003 18:24:13 +0200
  Gayo Diallo <gayo.diallo@imag.fr> wrote:
>Hi,
>I just want to know If It's possible to use Lucene for french 
>documents.
>Is there any analyser for this language ?
>Best regards,
>Gayo Diallo


From paladin3@club-internet.fr  Fri Sep 26 08:47:21 2003
Return-Path: <paladin3@club-internet.fr>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22896 invoked from network); 26 Sep 2003 08:47:21 -0000
Received: from unknown (HELO relay-1m.club-internet.fr) (194.158.104.40)
  by daedalus.apache.org with SMTP; 26 Sep 2003 08:47:21 -0000
Received: from club-internet.fr (flashmail-3m.cs.clubint.net [172.16.20.62])
	by relay-1m.club-internet.fr (Postfix) with SMTP id 0E2571727
	for <lucene-user@jakarta.apache.org>; Fri, 26 Sep 2003 10:47:34 +0200 (CEST)
Received: from [195.6.199.245] by flashmail-3m.club-internet.fr via html
	interface;
From: paladin3@club-internet.fr
To: lucene-user@jakarta.apache.org
Subject: Redefine the wildcards
Date: Fri, 26 Sep 2003 10:47:34 CEST
Mime-Version: 1.0
X-Mailer: Medianet/v2.0
Message-Id: <mnet1.1064566054.17563.paladin3@club-internet.fr>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello
I use lucene to index a big database (3 millions of articles).
When i search the ref number 1423* all is fine but when i search the 142* =
i have a java.lang.outofmemory.
I've read here that it is because a too big number of possibilities (for e=
xemple 1420000001, 142000000A etc) and not because of too much hits.
So i wonder if it possible to redefine the wildcards in lucene to make the=
m replace only numbers and not caracters .

Thanks for your advices and excuse me for my poor english


From ck@caroli-of.de  Fri Sep 26 09:18:28 2003
Return-Path: <ck@caroli-of.de>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70131 invoked from network); 26 Sep 2003 09:18:28 -0000
Received: from unknown (HELO natsmtp01.webmailer.de) (192.67.198.81)
  by daedalus.apache.org with SMTP; 26 Sep 2003 09:18:28 -0000
Received: from CAROLIMOBIL (pD9E4A3DD.dip.t-dialin.net [217.228.163.221])
	by post.webmailer.de (8.12.10/8.12.10) with ESMTP id h8Q9Ie2B026257
	for <lucene-user@jakarta.apache.org>; Fri, 26 Sep 2003 11:18:40 +0200 (MEST)
Date: Fri, 26 Sep 2003 11:18:33 +0200
From: =?ISO-8859-15?B?Q2Fyc3RlbiBL9mhsZXI=?= <ck@caroli-of.de>
X-Mailer: The Bat! (v1.62i)
Reply-To: =?ISO-8859-15?B?Q2Fyc3RlbiBL9mhsZXI=?= <ck@caroli-of.de>
Organization: CAROLI GbR
X-Priority: 3 (Normal)
Message-ID: <524609387.20030926111833@caroli-of.de>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Document size
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-15
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi!
How can I find out how many words of a document have been indexed?

Text of my document: "Lucene is great"
Indexed: 'Lucene','great'
...should return '2'.

Thanks in advance. Carsten


From lucene@nitwit.de  Fri Sep 26 09:19:05 2003
Return-Path: <lucene@nitwit.de>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73791 invoked from network); 26 Sep 2003 09:19:05 -0000
Received: from unknown (HELO smtprelay02.ispgateway.de) (62.67.200.157)
  by daedalus.apache.org with SMTP; 26 Sep 2003 09:19:05 -0000
Received: (qmail 4994 invoked from network); 26 Sep 2003 09:18:20 -0000
Received: from unknown (HELO tcn.local) (652696@[217.231.247.233])
          (envelope-sender <lucene@nitwit.de>)
          by smtprelay02.ispgateway.de (qmail-ldap-1.03) with SMTP
          for <lucene-user@jakarta.apache.org>; 26 Sep 2003 09:18:20 -0000
Received: from localhost (localhost [127.0.0.1])
	by tcn.local (Postfix) with ESMTP id 4C5D9157053
	for <lucene-user@jakarta.apache.org>; Fri, 26 Sep 2003 11:17:45 +0200 (CEST)
From: lucene@nitwit.de
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Redefine the wildcards
Date: Fri, 26 Sep 2003 11:17:44 +0200
User-Agent: KMail/1.5.3
References: <mnet1.1064566054.17563.paladin3@club-internet.fr>
In-Reply-To: <mnet1.1064566054.17563.paladin3@club-internet.fr>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200309261117.44263.lucene@nitwit.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Friday 26 September 2003 15:47, paladin3@club-internet.fr wrote:
> because of too much hits. So i wonder if it possible to redefine the
> wildcards in lucene to make them replace only numbers and not caracters .

What about regular expressions?


From rselvaraj@searchblox.com  Fri Sep 26 11:58:15 2003
Return-Path: <rselvaraj@searchblox.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65795 invoked from network); 26 Sep 2003 11:58:15 -0000
Received: from unknown (HELO anchor-post-35.mail.demon.net) (194.217.242.85)
  by daedalus.apache.org with SMTP; 26 Sep 2003 11:58:15 -0000
Received: from no-dns-yet.demon.co.uk ([62.49.59.195] helo=searchblox.com)
	by anchor-post-35.mail.demon.net with esmtp (Exim 3.35 #1)
	id 1A2rEl-000Kxl-0Z; Fri, 26 Sep 2003 12:58:15 +0100
Message-ID: <3F7429D2.2000402@searchblox.com>
Date: Fri, 26 Sep 2003 12:58:10 +0100
From: Robert Selvaraj <rselvaraj@searchblox.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.4) Gecko/20030624 Netscape/7.1 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  lucene-dev@jakarta.apache.org,  lucene-user@jakarta.apache.org
Subject: Announcing SearchBlox Search Application 1.0
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello,

This is to announce the release of SearchBlox 1.0.

Searchblox is a search application designed on a robust Java 
architecture. It enables you to deploy search on your Intranet/Internet 
sites in a matter of minutes, focusing on presentation of content rather 
than diving into details of search technology. It extends software from 
Lucene and a host of other Open Source Projects. SearchBlox is available 
as a Web Archive (WAR) and is deployable on any Servlet 2.3/JSP 1.2 
compliant server.


End User Features
=================
Advanced Search - supports Boolean AND, OR, and NOT searches, Fuzzy and 
fielded query searches
Sort - search results can be sorted by date, relevance or alphabetically.
Hit Highlighting - query terms are highlighted on content title and 
description
Collections  users can limit search to specific collections

Administrator Features
======================
Web-based Admin Console  easy to use and intuitive console to manage 
all aspects of the Search application
Collections  create up to 5 document collections with customized settings
Look & Feel  search results customizable using XSLT stylesheets. Can 
also be delivered as XML
Reporting  real-time reporting with weekly, daily and hourly result 
sets, top queries and zero match queries
Schedulers  flexible scheduling of  indexing and index-refresh operations

Content Features
================
Crawlers  can index both HTTP and File-system based content
Languages  supports English, Spanish, French, German, Italian, Danish, 
Dutch, Finnish, Norwegian, Portuguese, Swedish
Stopwords  separate stopword list for each supported language
File Types  supports HTML, Word, Excel, PDF, Text, RTF
MetaTags - supports standard meta tag fields (title, description, keyword)


The SearchBlox FREE Edition is available free of charge and can index up 
to 1000 HTML documents.

The software can be downloaded from http://www.searchblox.com


Best Regards,

The SearchBlox Team
http://www.searchblox.com





From erik@ehatchersolutions.com  Fri Sep 26 13:25:32 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99544 invoked from network); 26 Sep 2003 13:25:32 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 26 Sep 2003 13:25:32 -0000
Received: (cpmta 23805 invoked from network); 26 Sep 2003 06:25:33 -0700
Received: from 68.232.144.213 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 26 Sep 2003 06:25:33 -0700
X-Sent: 26 Sep 2003 13:25:33 GMT
Date: Fri, 26 Sep 2003 09:25:37 -0400
Subject: Re: Announcing SearchBlox Search Application 1.0
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3F7429D2.2000402@searchblox.com>
Message-Id: <EA83881A-F024-11D7-AB5E-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Friday, September 26, 2003, at 07:58  AM, Robert Selvaraj wrote:
> The SearchBlox FREE Edition is available free of charge and can index 
> up to 1000 HTML documents.

This looks very slick!  I'd guess you'd not be interested in 
open-sourcing what you've done, but here's an idea to consider - use 
the free edition as an open source contribution to Lucene's codebase as 
a demo application :))  You'd get a lot of publicity for your 
commercial versions!

	Erik


From rselvaraj@searchblox.com  Fri Sep 26 13:46:03 2003
Return-Path: <rselvaraj@searchblox.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39145 invoked from network); 26 Sep 2003 13:46:03 -0000
Received: from unknown (HELO anchor-post-35.mail.demon.net) (194.217.242.85)
  by daedalus.apache.org with SMTP; 26 Sep 2003 13:46:03 -0000
Received: from no-dns-yet.demon.co.uk ([62.49.59.195] helo=searchblox.com)
	by anchor-post-35.mail.demon.net with esmtp (Exim 3.35 #1)
	id 1A2sv6-000CyN-0Z
	for lucene-user@jakarta.apache.org; Fri, 26 Sep 2003 14:46:04 +0100
Message-ID: <3F744316.6010707@searchblox.com>
Date: Fri, 26 Sep 2003 14:45:58 +0100
From: Robert Selvaraj <rselvaraj@searchblox.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.4) Gecko/20030624 Netscape/7.1 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Announcing SearchBlox Search Application 1.0
References: <EA83881A-F024-11D7-AB5E-000393A564E6@ehatchersolutions.com>
In-Reply-To: <EA83881A-F024-11D7-AB5E-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks Eric.

I definitely like the idea of including the FREE Edition's WAR file to 
the Lucene code base as a demo application. On one hand, it demonstrates 
the power of Lucene and on the other, as you have already pointed out, 
it will give SearchBlox a lot of publicity.

Let me know how we can take this further.

Robert


Erik Hatcher wrote:

> On Friday, September 26, 2003, at 07:58  AM, Robert Selvaraj wrote:
> 
>> The SearchBlox FREE Edition is available free of charge and can index 
>> up to 1000 HTML documents.
> 
> 
> This looks very slick!  I'd guess you'd not be interested in 
> open-sourcing what you've done, but here's an idea to consider - use the 
> free edition as an open source contribution to Lucene's codebase as a 
> demo application :))  You'd get a lot of publicity for your commercial 
> versions!
> 
>     Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 



From erik@ehatchersolutions.com  Fri Sep 26 13:58:53 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80826 invoked from network); 26 Sep 2003 13:58:53 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.72)
  by daedalus.apache.org with SMTP; 26 Sep 2003 13:58:53 -0000
Received: (cpmta 15243 invoked from network); 26 Sep 2003 06:58:52 -0700
Received: from 68.232.144.213 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.72) with SMTP; 26 Sep 2003 06:58:52 -0700
X-Sent: 26 Sep 2003 13:58:52 GMT
Date: Fri, 26 Sep 2003 09:58:56 -0400
Subject: Re: Announcing SearchBlox Search Application 1.0
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3F744316.6010707@searchblox.com>
Message-Id: <920A5844-F029-11D7-AB5E-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Robert,

On Friday, September 26, 2003, at 09:45  AM, Robert Selvaraj wrote:
> Thanks Eric.

That's Erik, with a "k" :))

> I definitely like the idea of including the FREE Edition's WAR file to 
> the Lucene code base as a demo application. On one hand, it 
> demonstrates the power of Lucene and on the other, as you have already 
> pointed out, it will give SearchBlox a lot of publicity.

We would require the source code itself to be included in Apache's CVS 
repository for it to be included.  I'm in the midst of revamping the 
Lucene demo application, but your application certainly far supersedes 
any plans I had for it, so searchblox would make for an excellent 
replacement.

	Erik


From rselvaraj@searchblox.com  Fri Sep 26 14:16:38 2003
Return-Path: <rselvaraj@searchblox.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7183 invoked from network); 26 Sep 2003 14:16:38 -0000
Received: from unknown (HELO anchor-post-35.mail.demon.net) (194.217.242.85)
  by daedalus.apache.org with SMTP; 26 Sep 2003 14:16:38 -0000
Received: from no-dns-yet.demon.co.uk ([62.49.59.195] helo=searchblox.com)
	by anchor-post-35.mail.demon.net with esmtp (Exim 3.35 #1)
	id 1A2tOi-000IxM-0Z
	for lucene-user@jakarta.apache.org; Fri, 26 Sep 2003 15:16:40 +0100
Message-ID: <3F744A42.1000502@searchblox.com>
Date: Fri, 26 Sep 2003 15:16:34 +0100
From: Robert Selvaraj <rselvaraj@searchblox.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.4) Gecko/20030624 Netscape/7.1 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Announcing SearchBlox Search Application 1.0
References: <920A5844-F029-11D7-AB5E-000393A564E6@ehatchersolutions.com>
In-Reply-To: <920A5844-F029-11D7-AB5E-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

It will not be possible to provide you with the source code!

All the editions of SearchBlox are built on the same code base and 
releasing the source code to Lucene will have a adverse impact on our 
commercial versions with the business model we are adopting at the moment.

Robert


Erik Hatcher wrote:

> Robert,
> 
> On Friday, September 26, 2003, at 09:45  AM, Robert Selvaraj wrote:
> 
>> Thanks Eric.
> 
> 
> That's Erik, with a "k" :))
> 
>> I definitely like the idea of including the FREE Edition's WAR file to 
>> the Lucene code base as a demo application. On one hand, it 
>> demonstrates the power of Lucene and on the other, as you have already 
>> pointed out, it will give SearchBlox a lot of publicity.
> 
> 
> We would require the source code itself to be included in Apache's CVS 
> repository for it to be included.  I'm in the midst of revamping the 
> Lucene demo application, but your application certainly far supersedes 
> any plans I had for it, so searchblox would make for an excellent 
> replacement.
> 
>     Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 



From erik@ehatchersolutions.com  Fri Sep 26 14:35:06 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46575 invoked from network); 26 Sep 2003 14:35:06 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 26 Sep 2003 14:35:06 -0000
Received: (cpmta 25686 invoked from network); 26 Sep 2003 07:35:07 -0700
Received: from 68.232.144.213 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 26 Sep 2003 07:35:07 -0700
X-Sent: 26 Sep 2003 14:35:07 GMT
Date: Fri, 26 Sep 2003 10:35:10 -0400
Subject: Re: Announcing SearchBlox Search Application 1.0
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3F744A42.1000502@searchblox.com>
Message-Id: <A21807FE-F02E-11D7-AB5E-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Friday, September 26, 2003, at 10:16  AM, Robert Selvaraj wrote:
> It will not be possible to provide you with the source code!

> All the editions of SearchBlox are built on the same code base and 
> releasing the source code to Lucene will have a adverse impact on our 
> commercial versions with the business model we are adopting at the 
> moment.

Well, it was worth a try :)

And I definitely understand your position.  The demo app of Lucene will 
hopefully eventually evolve into something like a searchbox-lite type 
of application.

	Erik


From pierrick.brihaye@wanadoo.fr  Sun Sep 28 07:49:15 2003
Return-Path: <pierrick.brihaye@wanadoo.fr>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43285 invoked from network); 28 Sep 2003 07:49:15 -0000
Received: from unknown (HELO mwinf0302.wanadoo.fr) (193.252.22.28)
  by daedalus.apache.org with SMTP; 28 Sep 2003 07:49:15 -0000
Received: from becane (ca-rennes-5-182.w80-8.abo.wanadoo.fr [80.8.175.182])
	by mwinf0302.wanadoo.fr (SMTP Server) with SMTP id E8D0EC000244
	for <lucene-user@jakarta.apache.org>; Sun, 28 Sep 2003 09:49:26 +0200 (CEST)
Message-ID: <003d01c38595$031f2560$d4d1fea9@becane>
From: "Pierrick Brihaye" <pierrick.brihaye@wanadoo.fr>
To: <lucene-user@jakarta.apache.org>
Subject: Announce : arabic Stemmer/Analyzer for Lucene
Date: Sun, 28 Sep 2003 09:49:14 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi all,

I have written a Lucene Analyzer for arabic. You will find it here :
http://perso.wanadoo.fr/pierrick.brihaye/ArabicAnalyzer.jar (provisional
adress, anybody interested in hosting it ?)

This work is still in beta stage but it gives quite good results :-)

In order to make it work, you need :

1) a 1.4+ JVM (because of the native support for regular expressions which
are heavily used in the program ; I've been too lazy to use an external
package)

2) Apache Jakarta Commons-Collections :
http://jakarta.apache.org/commons/collections.html

3) a recent Lucene distribution ;-)

All this work is based on the amazing Tim Buckwalter's Arabic Morphological
Analyzer Version 1.0
(http://www.ldc.upenn.edu/Catalog/CatalogEntry.jsp?catalogId=LDC2002L49)
originaly written in Perl and released under the GPL.

The jar contains :

a) the compiled classes
b) the required data files (dictionaries and compatibility tables)
c) 2 command-line test programs
d) 3 test documents with different encodings
e) the source code
f) a README file that will give you a little bit more of information :-)

To Lucene developers : I plan to offer this work to Lucene (see the jar
hierarchy... and the source file headers ;-). Any objections ?

Feedback is very welcome : there are quite a lot of unresolved issues, with
the analyzer itselfs as well as with Lucene.

mE AlslAmap, cheers,

p.b.






From erik@ehatchersolutions.com  Sun Sep 28 13:05:42 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70169 invoked from network); 28 Sep 2003 13:05:42 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.72)
  by daedalus.apache.org with SMTP; 28 Sep 2003 13:05:42 -0000
Received: (cpmta 20950 invoked from network); 28 Sep 2003 06:05:39 -0700
Received: from 68.232.144.213 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.72) with SMTP; 28 Sep 2003 06:05:39 -0700
X-Sent: 28 Sep 2003 13:05:39 GMT
Date: Sun, 28 Sep 2003 09:05:44 -0400
Subject: Re: Announce : arabic Stemmer/Analyzer for Lucene
Content-Type: text/plain; delsp=yes; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <003d01c38595$031f2560$d4d1fea9@becane>
Message-Id: <783392BC-F1B4-11D7-A1CC-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

We could put this in the Lucene sandbox CVS perhaps.  Could you package  
it similarly to the other contributions there with a build file and  
convert your command-line tests to JUnit tests that run from the build  
file?

I took a quick look and looks like you did a fair bit of work and have  
the ASL in the source files.  The question, though, is whether your  
basing it on GPL code is acceptable.  Did you copy code from it?  We  
can have no GPL code in Apache's CVS.

	Erik


On Sunday, September 28, 2003, at 03:49  AM, Pierrick Brihaye wrote:

> Hi all,
>
> I have written a Lucene Analyzer for arabic. You will find it here :
> http://perso.wanadoo.fr/pierrick.brihaye/ArabicAnalyzer.jar  
> (provisional
> adress, anybody interested in hosting it ?)
>
> This work is still in beta stage but it gives quite good results :-)
>
> In order to make it work, you need :
>
> 1) a 1.4+ JVM (because of the native support for regular expressions  
> which
> are heavily used in the program ; I've been too lazy to use an external
> package)
>
> 2) Apache Jakarta Commons-Collections :
> http://jakarta.apache.org/commons/collections.html
>
> 3) a recent Lucene distribution ;-)
>
> All this work is based on the amazing Tim Buckwalter's Arabic  
> Morphological
> Analyzer Version 1.0
> (http://www.ldc.upenn.edu/Catalog/ 
> CatalogEntry.jsp?catalogId=LDC2002L49)
> originaly written in Perl and released under the GPL.
>
> The jar contains :
>
> a) the compiled classes
> b) the required data files (dictionaries and compatibility tables)
> c) 2 command-line test programs
> d) 3 test documents with different encodings
> e) the source code
> f) a README file that will give you a little bit more of information  
> :-)
>
> To Lucene developers : I plan to offer this work to Lucene (see the jar
> hierarchy... and the source file headers ;-). Any objections ?
>
> Feedback is very welcome : there are quite a lot of unresolved issues,  
> with
> the analyzer itselfs as well as with Lucene.
>
> mE AlslAmap, cheers,
>
> p.b.
>
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From pierrick.brihaye@wanadoo.fr  Sun Sep 28 13:20:20 2003
Return-Path: <pierrick.brihaye@wanadoo.fr>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78445 invoked from network); 28 Sep 2003 13:20:20 -0000
Received: from unknown (HELO mwinf0502.wanadoo.fr) (193.252.22.26)
  by daedalus.apache.org with SMTP; 28 Sep 2003 13:20:20 -0000
Received: from becane (ca-rennes-2-141.w80-8.abo.wanadoo.fr [80.8.1.141])
	by mwinf0502.wanadoo.fr (SMTP Server) with SMTP id 25DB8E800362
	for <lucene-user@jakarta.apache.org>; Sun, 28 Sep 2003 15:20:21 +0200 (CEST)
Message-ID: <001d01c385c3$3c4249c0$d4d1fea9@becane>
From: "Pierrick Brihaye" <pierrick.brihaye@wanadoo.fr>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <783392BC-F1B4-11D7-A1CC-000393A564E6@ehatchersolutions.com>
Subject: Re: Announce : arabic Stemmer/Analyzer for Lucene
Date: Sun, 28 Sep 2003 15:20:06 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

> We could put this in the Lucene sandbox CVS perhaps.

Why not ?

> Could you package
> it similarly to the other contributions there with a build file

Yes... but you'll have to wait :-)

> and
> convert your command-line tests to JUnit tests that run from the build
> file?

And also on this point. The 2 CLI programs are rather "demonstration"
programs than real test cases that could demonstrate the current pending
issues.

> I took a quick look and looks like you did a fair bit of work and have
> the ASL in the source files.

Yes... at least in the source files that are based on my own work.

> The question, though, is whether your
> basing it on GPL code is acceptable.  Did you copy code from it?

As I said, it is based on Tim's Buckwalter work : original Perl program as
well as those precious dictionary files.

> We can have no GPL code in Apache's CVS.

:-/ How can we do, so ? Shall I split the packages in two parts ? No
problems for the "Lucene bindings". But there could be one for the aramorph
package (java port of the original work), which is based on work originally
ruled by the GPL...

Cheers,

p.b.




From erik@ehatchersolutions.com  Sun Sep 28 13:48:06 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88422 invoked from network); 28 Sep 2003 13:48:06 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 28 Sep 2003 13:48:06 -0000
Received: (cpmta 24137 invoked from network); 28 Sep 2003 06:48:07 -0700
Received: from 68.232.144.213 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 28 Sep 2003 06:48:07 -0700
X-Sent: 28 Sep 2003 13:48:07 GMT
Date: Sun, 28 Sep 2003 09:48:12 -0400
Subject: Re: Announce : arabic Stemmer/Analyzer for Lucene
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <001d01c385c3$3c4249c0$d4d1fea9@becane>
Message-Id: <66D5FB8C-F1BA-11D7-A1CC-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Sunday, September 28, 2003, at 09:20  AM, Pierrick Brihaye wrote:
>> We can have no GPL code in Apache's CVS.
>
> :-/ How can we do, so ? Shall I split the packages in two parts ? No
> problems for the "Lucene bindings". But there could be one for the 
> aramorph
> package (java port of the original work), which is based on work 
> originally
> ruled by the GPL...

Since you ported GPL code, aren't you required to GPL your version as 
well?  I'm not a lawyer and not clear on how this works.  You can use 
reflection to "link" to GPL code from Apache code, but I don't think 
you can directly import GPL'd packages (again, I'm not clear on this 
though).

The safest bet is to just host what you've done on your own or at 
Sourceforge or java.net.  It probably wouldn't be a bad idea to have 
some type of repository of Lucene extensions hosted elsewhere anyway to 
solve the GPL issue.

	Erik


From pierrick.brihaye@wanadoo.fr  Sun Sep 28 14:09:02 2003
Return-Path: <pierrick.brihaye@wanadoo.fr>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94883 invoked from network); 28 Sep 2003 14:09:02 -0000
Received: from unknown (HELO mwinf0501.wanadoo.fr) (193.252.22.26)
  by daedalus.apache.org with SMTP; 28 Sep 2003 14:09:02 -0000
Received: from becane (ca-rennes-2-141.w80-8.abo.wanadoo.fr [80.8.1.141])
	by mwinf0501.wanadoo.fr (SMTP Server) with SMTP id B615E400222
	for <lucene-user@jakarta.apache.org>; Sun, 28 Sep 2003 16:09:02 +0200 (CEST)
Message-ID: <003b01c385ca$01482860$d4d1fea9@becane>
From: "Pierrick Brihaye" <pierrick.brihaye@wanadoo.fr>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <66D5FB8C-F1BA-11D7-A1CC-000393A564E6@ehatchersolutions.com>
Subject: Re: Announce : arabic Stemmer/Analyzer for Lucene
Date: Sun, 28 Sep 2003 16:08:33 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

> Since you ported GPL code, aren't you required to GPL your version as
> well?

I think so : the aramorph package should be GPLed IMHO. The rest, i.e. my
own code, can be given to Lucene :-)

> The safest bet is to just host what you've done on your own or at
> Sourceforge or java.net.

Or elsewhere :-) The main objective is to use this analyzer within SDX :
http://www.nongnu.org/sdx/

>  It probably wouldn't be a bad idea to have
> some type of repository of Lucene extensions hosted elsewhere anyway to
> solve the GPL issue.

Totally agree !

So... it is an ASL infringement from my part to have prepended
"org.apache.lucene" to the aramorph package :-) ?

Cheers,

p.b.



From erik@ehatchersolutions.com  Sun Sep 28 14:15:59 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7713 invoked from network); 28 Sep 2003 14:15:59 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.72)
  by daedalus.apache.org with SMTP; 28 Sep 2003 14:15:59 -0000
Received: (cpmta 29519 invoked from network); 28 Sep 2003 07:16:00 -0700
Received: from 68.232.144.213 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.72) with SMTP; 28 Sep 2003 07:16:00 -0700
X-Sent: 28 Sep 2003 14:16:00 GMT
Date: Sun, 28 Sep 2003 10:16:04 -0400
Subject: Re: Announce : arabic Stemmer/Analyzer for Lucene
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <003b01c385ca$01482860$d4d1fea9@becane>
Message-Id: <4BAA32B6-F1BE-11D7-A1CC-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Sunday, September 28, 2003, at 10:08  AM, Pierrick Brihaye wrote:
>>  It probably wouldn't be a bad idea to have
>> some type of repository of Lucene extensions hosted elsewhere anyway 
>> to
>> solve the GPL issue.
>
> Totally agree !
>
> So... it is an ASL infringement from my part to have prepended
> "org.apache.lucene" to the aramorph package :-) ?

Well, there are no rules or legalese about restricting package naming 
conventions anywhere that I know of (in or out of Apache) except for 
the java.* and sun.* that is built-into Java itself that can seal these 
out from use.  So there is probably no problem using that package name 
on GPL'd code.

	Erik


From medined@mtolive.com  Sun Sep 28 14:55:33 2003
Return-Path: <medined@mtolive.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44435 invoked from network); 28 Sep 2003 14:55:33 -0000
Received: from unknown (HELO c011.snv.cp.net) (209.228.34.214)
  by daedalus.apache.org with SMTP; 28 Sep 2003 14:55:33 -0000
Received: (cpmta 10872 invoked from network); 28 Sep 2003 07:55:34 -0700
Received: from 68.50.73.98 (HELO medined01)
  by smtp.mtolive.com (209.228.34.214) with SMTP; 28 Sep 2003 07:55:34 -0700
X-Sent: 28 Sep 2003 14:55:34 GMT
Message-ID: <0ac901c385d0$912d1b10$62493244@medined01>
From: "David Medinets" <medined@mtolive.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <4BAA32B6-F1BE-11D7-A1CC-000393A564E6@ehatchersolutions.com>
Subject: Re: Announce : arabic Stemmer/Analyzer for Lucene
Date: Sun, 28 Sep 2003 10:55:32 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2727.1300
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

----- Original Message -----
From: "Erik Hatcher" <erik@ehatchersolutions.com>
> On Sunday, September 28, 2003, at 10:08  AM, Pierrick Brihaye wrote:
> > So... it is an ASL infringement from my part to have prepended
> > "org.apache.lucene" to the aramorph package :-) ?
>
> Well, there are no rules or legalese about restricting package naming
> conventions anywhere that I know of (in or out of Apache) except for
> the java.* and sun.* that is built-into Java itself that can seal these
> out from use.  So there is probably no problem using that package name
> on GPL'd code.

There may be no legal objection, but is it considered a good idea to
appropriate the namespace? If you don't own a domain and your name isn't
common, then I'd suggest using a package such as
org.pierrick.brihaye.aramorph. Alternatively you could be more creative. As
far as I know, there are no restrictions on package names except those
imposed on directory names. So you don't need to start with 'org' or 'com'.
How about coder.pierrick.brihaye.aramorph?

David Medinets
http://www.codebits.com


From scott@atlassian.com  Sun Sep 28 15:44:16 2003
Return-Path: <scott@atlassian.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75790 invoked from network); 28 Sep 2003 15:44:16 -0000
Received: from unknown (HELO zeus.atlassian.com) (209.61.131.223)
  by daedalus.apache.org with SMTP; 28 Sep 2003 15:44:16 -0000
Received: (from sfarquhar@localhost)
	by zeus.atlassian.com (8.11.6/8.11.6) id h8SFiJX19859
	for lucene-user@jakarta.apache.org; Sun, 28 Sep 2003 10:44:19 -0500
X-Authentication-Warning: zeus.atlassian.com: sfarquhar set sender to scott@atlassian.com using -f
Date: Sun, 28 Sep 2003 10:44:19 -0500
From: Scott Farquhar <scott@atlassian.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Announce : arabic Stemmer/Analyzer for Lucene
Message-ID: <20030928104419.A19845@zeus.atlassian.com>
References: <003d01c38595$031f2560$d4d1fea9@becane>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5i
In-Reply-To: <003d01c38595$031f2560$d4d1fea9@becane>; from pierrick.brihaye@wanadoo.fr on Sun, Sep 28, 2003 at 09:49:14AM +0200
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Sun, Sep 28, 2003 at 09:49:14AM +0200, Pierrick Brihaye wrote:
> All this work is based on the amazing Tim Buckwalter's Arabic Morphological
> Analyzer Version 1.0
> (http://www.ldc.upenn.edu/Catalog/CatalogEntry.jsp?catalogId=LDC2002L49)
> originaly written in Perl and released under the GPL.

Is it possible to contact Tim, and ask if he will allow you to license
his code under an Apache style license?  Many authors are accomodating
with licensing software under different licenses.

I have personal worries about including GPL code in any commercial
application (even dynamically linked).

Cheers,
Scott

From pierrick.brihaye@wanadoo.fr  Sun Sep 28 16:15:25 2003
Return-Path: <pierrick.brihaye@wanadoo.fr>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7429 invoked from network); 28 Sep 2003 16:15:25 -0000
Received: from unknown (HELO mwinf0204.wanadoo.fr) (193.252.22.29)
  by daedalus.apache.org with SMTP; 28 Sep 2003 16:15:25 -0000
Received: from becane (ca-rennes-3-136.w80-8.abo.wanadoo.fr [80.8.2.136])
	by mwinf0204.wanadoo.fr (SMTP Server) with SMTP id 2E1FBA0001B2
	for <lucene-user@jakarta.apache.org>; Sun, 28 Sep 2003 18:15:28 +0200 (CEST)
Message-ID: <001701c385db$b2a389e0$d4d1fea9@becane>
From: "Pierrick Brihaye" <pierrick.brihaye@wanadoo.fr>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <003d01c38595$031f2560$d4d1fea9@becane> <20030928104419.A19845@zeus.atlassian.com>
Subject: Re: Announce : arabic Stemmer/Analyzer for Lucene
Date: Sun, 28 Sep 2003 18:15:13 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

> Is it possible to contact Tim,

I did it soon after I posted the announcment.

> and ask if he will allow you to license
> his code under an Apache style license?  Many authors are accomodating
> with licensing software under different licenses.

It's true but...

> I have personal worries about including GPL code in any commercial
> application (even dynamically linked).

... so do I :-)

Thanks for the advices (more to come on Monday I presume). I think it will
help to take my decision.

Cheers,

p.b.



From Eric.Jain@isb-sib.ch  Mon Sep 29 07:11:37 2003
Return-Path: <Eric.Jain@isb-sib.ch>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59534 invoked from network); 29 Sep 2003 07:11:37 -0000
Received: from unknown (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
  by daedalus.apache.org with SMTP; 29 Sep 2003 07:11:37 -0000
Received: from caliente (router.isb-sib.ch [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.10/8.12.8) with ESMTP id h8T7Bl1D020306
	for <lucene-user@jakarta.apache.org>; Mon, 29 Sep 2003 09:11:47 +0200
Message-ID: <004501c38658$f594a770$c300000a@caliente>
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <003d01c38595$031f2560$d4d1fea9@becane> <20030928104419.A19845@zeus.atlassian.com>
Subject: Re: Announce : arabic Stemmer/Analyzer for Lucene
Date: Mon, 29 Sep 2003 09:11:52 +0200
Organization: Swiss Institute of Bioinformatics
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-sib-MailScanner-Information: Please contact the ISP for more information
X-sib-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> I have personal worries about including GPL code in any commercial
> application (even dynamically linked).

See http://www.gnu.org/licenses/gpl-faq.html#IfInterpreterIsGPL:

"A consequence is that if you choose to use GPL'd Perl modules or Java
classes in your program, you must release the program in a
GPL-compatible way, regardless of the license used in the Perl or Java
interpreter that the combined Perl or Java program will run on."

MySQL AB, for instance, insists that you buy a license for their JDBC
driver if you intend to use it in a non-GPL application...

--
Eric Jain


From Rene.Hackl@FIZ-Karlsruhe.DE  Mon Sep 29 13:21:47 2003
Return-Path: <Rene.Hackl@FIZ-Karlsruhe.DE>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50631 invoked from network); 29 Sep 2003 13:21:47 -0000
Received: from unknown (HELO fsd1.FIZ-Karlsruhe.DE) (141.66.18.51)
  by daedalus.apache.org with SMTP; 29 Sep 2003 13:21:47 -0000
Received: from A27swork.FIZ-Karlsruhe.DE (a27swork.fiz-karlsruhe.de [141.66.16.39])
	by fsd1.FIZ-Karlsruhe.DE (8.12.10/8.12.10) with ESMTP id h8TDKRnM014643
	for <lucene-user@jakarta.apache.org>; Mon, 29 Sep 2003 15:20:27 +0200 (MEST)
Received: from pc.fiz-karlsruhe.de ([141.66.16.9])
	by A27swork.FIZ-Karlsruhe.DE (8.9.3/8.9.3) with ESMTP id PAA01949
	for <lucene-user@jakarta.apache.org>; Mon, 29 Sep 2003 15:20:31 +0200 (MET DST)
Received: by pc.fiz-karlsruhe.de with Internet Mail Service (5.5.2653.19)
	id <TT99TJHZ>; Mon, 29 Sep 2003 15:19:47 +0200
Message-ID: <41EA24EC431CD411AA8200008385014F05881AC4@pc.fiz-karlsruhe.de>
From: "Hackl, Rene" <Rene.Hackl@FIZ-Karlsruhe.DE>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: derive tokens from single token
Date: Mon, 29 Sep 2003 15:19:44 +0200
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi All,

I'm looking for a way to implement simultaneous left and right =
truncation.=20

The goal is to enable the user to search for e.g. "*hydronaphth*" and =
find
"hexahydronaphthalene" as well as "heptahydronaphthalin".

To achieve that functionality, I'd like to index terms in the way that =
from
a token "foobar" the tokens "oobar" and "obar" ( e.g. mininum word =
length =3D
4)
would be derived and added to the index. I tried to extend TokenFilter, =
but=20
all I get is either "oobar" or "obar", depends on when 'return' is =
called.=20

How could I add such extra tokens to the tokenStream? Any thoughts on =
this
appreciated.

Best regards,

Ren=E9 Hackl

From dquaroni@OPENRATINGS.com  Mon Sep 29 13:25:35 2003
Return-Path: <dquaroni@OPENRATINGS.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55148 invoked from network); 29 Sep 2003 13:25:35 -0000
Received: from unknown (HELO exchange.hq.openratings.com) (141.149.165.226)
  by daedalus.apache.org with SMTP; 29 Sep 2003 13:25:35 -0000
Received: by exchange.hq.openratings.com with Internet Mail Service (5.5.2655.55)
	id <SWM11RLJ>; Mon, 29 Sep 2003 09:25:34 -0400
Message-ID: <4A46E75D51A2D5119F2A00B0D03D7F0901C67E16@exchange.hq.openratings.com>
From: Dan Quaroni <dquaroni@OPENRATINGS.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: derive tokens from single token
Date: Mon, 29 Sep 2003 09:25:34 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

My understanding is that the best way to do this is to create an extra =
field
that is reversed.  That way you store foobar and raboof, and when =
someone
wants to do a left-wildcard, you search in the reversed field so that =
they
search for:

*bar

And you reverse that and perform a search on the reversed field for:

rab*

And find your foobar.

-----Original Message-----
From: Hackl, Rene [mailto:Rene.Hackl@FIZ-Karlsruhe.DE]
Sent: Monday, September 29, 2003 9:20 AM
To: 'lucene-user@jakarta.apache.org'
Subject: derive tokens from single token


Hi All,

I'm looking for a way to implement simultaneous left and right =
truncation.=20

The goal is to enable the user to search for e.g. "*hydronaphth*" and =
find
"hexahydronaphthalene" as well as "heptahydronaphthalin".

To achieve that functionality, I'd like to index terms in the way that =
from
a token "foobar" the tokens "oobar" and "obar" ( e.g. mininum word =
length =3D
4)
would be derived and added to the index. I tried to extend TokenFilter, =
but=20
all I get is either "oobar" or "obar", depends on when 'return' is =
called.=20

How could I add such extra tokens to the tokenStream? Any thoughts on =
this
appreciated.

Best regards,

Ren=E9 Hackl

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

From dquaroni@OPENRATINGS.com  Mon Sep 29 13:30:53 2003
Return-Path: <dquaroni@OPENRATINGS.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61319 invoked from network); 29 Sep 2003 13:30:53 -0000
Received: from unknown (HELO exchange.hq.openratings.com) (141.149.165.226)
  by daedalus.apache.org with SMTP; 29 Sep 2003 13:30:53 -0000
Received: by exchange.hq.openratings.com with Internet Mail Service (5.5.2655.55)
	id <SWM11RL7>; Mon, 29 Sep 2003 09:30:54 -0400
Message-ID: <4A46E75D51A2D5119F2A00B0D03D7F0901C67E17@exchange.hq.openratings.com>
From: Dan Quaroni <dquaroni@OPENRATINGS.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: derive tokens from single token
Date: Mon, 29 Sep 2003 09:30:54 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Right, so I got all confused with the chemistry -- That solution won't =
work.

If you're just allowing them to do wildcards by tokenizing on the =
syntax of
chemistry, then you could split the words up according to that..

-----Original Message-----
From: Hackl, Rene [mailto:Rene.Hackl@FIZ-Karlsruhe.DE]
Sent: Monday, September 29, 2003 9:20 AM
To: 'lucene-user@jakarta.apache.org'
Subject: derive tokens from single token


Hi All,

I'm looking for a way to implement simultaneous left and right =
truncation.=20

The goal is to enable the user to search for e.g. "*hydronaphth*" and =
find
"hexahydronaphthalene" as well as "heptahydronaphthalin".

To achieve that functionality, I'd like to index terms in the way that =
from
a token "foobar" the tokens "oobar" and "obar" ( e.g. mininum word =
length =3D
4)
would be derived and added to the index. I tried to extend TokenFilter, =
but=20
all I get is either "oobar" or "obar", depends on when 'return' is =
called.=20

How could I add such extra tokens to the tokenStream? Any thoughts on =
this
appreciated.

Best regards,

Ren=E9 Hackl

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

From pierrick.brihaye@culture.gouv.fr  Mon Sep 29 13:38:25 2003
Return-Path: <pierrick.brihaye@culture.gouv.fr>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73316 invoked from network); 29 Sep 2003 13:38:25 -0000
Received: from unknown (HELO hermes.culture.fr) (143.126.201.210)
  by daedalus.apache.org with SMTP; 29 Sep 2003 13:38:25 -0000
Received: by mta.culture.fr with id h8TDcQo9019095
 for <lucene-user@jakarta.apache.org>; Mon, 29 Sep 2003 15:38:26 +0200
Received: from bretagne.culture.fr (bretagne.culture.fr) by pasteur.culture.fr
 (Content Technologies SMTPRS 4.3.10) with ESMTP id <T64fa68d75d8f7ec9dc3f0@pasteur.culture.fr> for <lucene-user@jakarta.apache.org>;
 Mon, 29 Sep 2003 15:38:24 +0200
Received: from culture.gouv.fr by bretagne.culture.fr with ESMTP id h8TDcODS010832
  for <lucene-user@jakarta.apache.org>; Mon, 29 Sep 2003 15:38:24 +0200
Message-ID: <3F7837A9.5040002@culture.gouv.fr>
Date: Mon, 29 Sep 2003 15:46:17 +0200
From: Pierrick Brihaye <pierrick.brihaye@culture.gouv.fr>
User-Agent: Mozilla/5.0 (Windows; U; Win98; fr-FR; rv:1.0.2) Gecko/20030208 Netscape/7.02
X-Accept-Language: fr-fr, fr
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: derive tokens from single token
References: <41EA24EC431CD411AA8200008385014F05881AC4@pc.fiz-karlsruhe.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

Hackl, Rene a crit:

> I tried to extend TokenFilter, but 
> all I get is either "oobar" or "obar", depends on when 'return' is called. 
> 
> How could I add such extra tokens to the tokenStream? Any thoughts on this
> appreciated.

Adapted from my... arabic Analyzer :

public class ChemicalOrSomethingFilter extends TokenFilter {
	
   private Token receivedToken = null;
   private StringBuffer receivedText = new StringBuffer();	
	
   public ChemicalOrSomethingFilter(TokenStream input){
     super(input);
   }
	
   private String getNextTruncation() {		
     StringBuffer emittedText = new StringBuffer();
     //left trim the token
     while(true) {
       if (receivedText.length() == 0) break;
       char c = receivedText.charAt(0);
       if (!Character.isWhitespace(c)) break;
       receivedText.deleteCharAt(0);		
     }				
     //keep the good stuff
     while(true) {
       if (receivedText.length() == 0) break;
       char c = receivedText.charAt(0);
       if (Character.isWhitespace(c)) break;
       emittedText.append(receivedText.charAt(0));
       receivedText.deleteCharAt(0);			
     }		
     //right trim the token
     while(true) {
      if (receivedText.length() == 0) break;
      char c = receivedText.charAt(0);
      if (!Character.isWhitespace(c)) break;
      receivedText.deleteCharAt(0);		
     }				
     return emittedText.toString();
   }

   public final Token next() throws IOException {
     while (true) {
       String emittedText;	
       int positionIncrement = 0;	
       //New token ?
       if (receivedText.length() == 0) {
         receivedToken = input.next();			
         if (receivedToken == null) return null;
         receivedText.append(receivedToken.termText());		
         positionIncrement = 1;		
       }
       emittedText = getNextPart();			
       //Warning : all tokens are emitted with the *same* offset
       if (emittedText.length() > 0) {
         Token emittedToken = new Token(emittedText, 
receivedToken.startOffset(), receivedToken.endOffset());			 
emittedToken.setPositionIncrement(positionIncrement);
         return emittedToken;
       }				
     }
   }
}

Not tested at all : it is a quick copy of my "WhiteSpaceFilter" (that's 
why triming is so important up there ;-) which is not the best designed 
class.

This should work for indexing. For querying, it's another matter 
especially if you want to use the queryParser.

Keep us informed.

Cheers,

-- 
Pierrick Brihaye, informaticien
Service rgional de l'Inventaire
DRAC Bretagne
mailto:pierrick.brihaye@culture.fr


From gilles.moyse@cetelem.fr  Mon Sep 29 13:48:44 2003
Return-Path: <gilles.moyse@cetelem.fr>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89376 invoked from network); 29 Sep 2003 13:48:44 -0000
Received: from unknown (HELO xenon.neuges.net) (194.250.170.150)
  by daedalus.apache.org with SMTP; 29 Sep 2003 13:48:44 -0000
Received: from somewhere.xenon
        by somewhere.xenon (8.9.3/8.9.3/1.1.3) with ESMTP id PAA12924
        for <lucene-user@jakarta.apache.org>; Mon, 29 Sep 2003 15:51:31 +0200 (MET DST)
Received: from somewhere.xenon
        by somewhere.xenon (8.9.3/8.9.3/1.1.3) with ESMTP id PAA12918
        for <lucene-user@jakarta.apache.org>; Mon, 29 Sep 2003 15:51:30 +0200 (MET DST)
Received: from somewhere.diderot
        by somewhere.diderot (8.9.3/8.9.3) with ESMTP id PAA13646
        for <lucene-user@jakarta.apache.org>; Mon, 29 Sep 2003 15:50:30 +0200 (MET DST)
Received: by exchange.ctlmcof.fr with Internet Mail Service (5.5.2655.55)
	id <TYF3RTM9>; Mon, 29 Sep 2003 15:49:22 +0200
Message-ID: <DCEE3C62548AFE48ADF88CBFDB8260A203CBBA35@NGMAIL3>
From: "MOYSE Gilles (Cetelem)" <gilles.moyse@cetelem.fr>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: derive tokens from single token
Date: Mon, 29 Sep 2003 15:49:21 +0200
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C3868F.D02526DB"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C3868F.D02526DB
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi.

In your the method "next", I think there is a "null pointer exception"
threat.


	       //New token ?
       if (receivedText.length() =3D=3D 0) {//<-- null pointer =
exception may
occur here
         receivedToken =3D input.next();		=09
         if (receivedToken =3D=3D null) return null; 	// if the pointer
was null, null exception occured while checking the "length" property =
above
									//
if you know the pointer cant be null, this test is not useful. Or maybe =
I
messed something ?
         receivedText.append(receivedToken.termText());	=09
         positionIncrement =3D 1;	=09
       }

isn't this one more secure ?

	       //New token ?
	if (receivedToken =3D=3D null) return null;
	if (receivedText.length() =3D=3D 0) {
         receivedToken =3D input.next();		=09
         receivedText.append(receivedToken.termText());	=09
         positionIncrement =3D 1;	=09
       }


Hope I did not miss anything, and my remark will be useful.

Gilles.

-----Message d'origine-----
De : Pierrick Brihaye [mailto:pierrick.brihaye@culture.gouv.fr]
Envoy=E9 : lundi 29 septembre 2003 15:46
=C0 : Lucene Users List
Objet : Re: derive tokens from single token


Hi,

Hackl, Rene a =E9crit:

> I tried to extend TokenFilter, but=20
> all I get is either "oobar" or "obar", depends on when 'return' is =
called.

>=20
> How could I add such extra tokens to the tokenStream? Any thoughts on =
this
> appreciated.

Adapted from my... arabic Analyzer :

public class ChemicalOrSomethingFilter extends TokenFilter {
=09
   private Token receivedToken =3D null;
   private StringBuffer receivedText =3D new StringBuffer();=09
=09
   public ChemicalOrSomethingFilter(TokenStream input){
     super(input);
   }
=09
   private String getNextTruncation() {	=09
     StringBuffer emittedText =3D new StringBuffer();
     //left trim the token
     while(true) {
       if (receivedText.length() =3D=3D 0) break;
       char c =3D receivedText.charAt(0);
       if (!Character.isWhitespace(c)) break;
       receivedText.deleteCharAt(0);	=09
     }			=09
     //keep the good stuff
     while(true) {
       if (receivedText.length() =3D=3D 0) break;
       char c =3D receivedText.charAt(0);
       if (Character.isWhitespace(c)) break;
       emittedText.append(receivedText.charAt(0));
       receivedText.deleteCharAt(0);		=09
     }	=09
     //right trim the token
     while(true) {
      if (receivedText.length() =3D=3D 0) break;
      char c =3D receivedText.charAt(0);
      if (!Character.isWhitespace(c)) break;
      receivedText.deleteCharAt(0);	=09
     }			=09
     return emittedText.toString();
   }

   public final Token next() throws IOException {
     while (true) {
       String emittedText;=09
       int positionIncrement =3D 0;=09
       //New token ?
       if (receivedText.length() =3D=3D 0) {
         receivedToken =3D input.next();		=09
         if (receivedToken =3D=3D null) return null;
         receivedText.append(receivedToken.termText());	=09
         positionIncrement =3D 1;	=09
       }
       emittedText =3D getNextPart();		=09
       //Warning : all tokens are emitted with the *same* offset
       if (emittedText.length() > 0) {
         Token emittedToken =3D new Token(emittedText,=20
receivedToken.startOffset(), receivedToken.endOffset());

emittedToken.setPositionIncrement(positionIncrement);
         return emittedToken;
       }			=09
     }
   }
}

Not tested at all : it is a quick copy of my "WhiteSpaceFilter" (that's =

why triming is so important up there ;-) which is not the best designed =

class.

This should work for indexing. For querying, it's another matter=20
especially if you want to use the queryParser.

Keep us informed.

Cheers,

--=20
Pierrick Brihaye, informaticien
Service r=E9gional de l'Inventaire
DRAC Bretagne
mailto:pierrick.brihaye@culture.fr


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

------_=_NextPart_001_01C3868F.D02526DB--

From erik@ehatchersolutions.com  Mon Sep 29 13:50:21 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91417 invoked from network); 29 Sep 2003 13:50:21 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.64)
  by daedalus.apache.org with SMTP; 29 Sep 2003 13:50:21 -0000
Received: (cpmta 19761 invoked from network); 29 Sep 2003 06:50:23 -0700
Received: from 68.232.144.213 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.64) with SMTP; 29 Sep 2003 06:50:23 -0700
X-Sent: 29 Sep 2003 13:50:23 GMT
Date: Mon, 29 Sep 2003 09:50:27 -0400
Subject: Re: derive tokens from single token
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <41EA24EC431CD411AA8200008385014F05881AC4@pc.fiz-karlsruhe.de>
Message-Id: <E19604BC-F283-11D7-92E4-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Monday, September 29, 2003, at 09:19  AM, Hackl, Rene wrote:
> I'm looking for a way to implement simultaneous left and right 
> truncation.
>
> The goal is to enable the user to search for e.g. "*hydronaphth*" and 
> find
> "hexahydronaphthalene" as well as "heptahydronaphthalin".

WildcardQuery, if used directly but not through QueryParser, allows for 
left and right wildcards like this.  Performance is the biggest concern 
though, as it will have to enumerate all terms in the index to look for 
matches.

> To achieve that functionality, I'd like to index terms in the way that 
> from
> a token "foobar" the tokens "oobar" and "obar" ( e.g. mininum word 
> length =
> 4)
> would be derived and added to the index. I tried to extend 
> TokenFilter, but
> all I get is either "oobar" or "obar", depends on when 'return' is 
> called.

This is an interesting approach and would certainly give you the search 
results you are looking for, except that you'll be indexing a ton of 
terms I'd guess.  If there is some other way to split these words by 
separating by prefix ("hexa", "hepta") and suffix ("alene", "alin") it 
would likely be better.  But maybe its not practical to do so.

But, to the main question....

> How could I add such extra tokens to the tokenStream? Any thoughts on 
> this
> appreciated.

Yes, this can be done.  Craig Walls did this with an example Analyzer 
in his December '02 Java Developer's Journal article.  I adapted his 
example to use to demonstrate this for presentations.  Here is my code:

import java.io.IOException;
import java.util.Enumeration;
import java.util.HashMap;
import java.util.ResourceBundle;
import java.util.Stack;
import java.util.StringTokenizer;

import org.apache.lucene.analysis.Token;
import org.apache.lucene.analysis.TokenFilter;
import org.apache.lucene.analysis.TokenStream;

public class AliasFilter extends TokenFilter {
   private static HashMap aliasMap = new HashMap();

   static {
       aliasMap.put("country","yeehaw");
       aliasMap.put("western","rawhide");
   }

   private Stack currentTokenAliases;

   public AliasFilter(TokenStream in) {
     currentTokenAliases = new Stack();
     input = in;
   }

   public Token next() throws IOException {
     if(currentTokenAliases.size() > 0) {
       return (Token)currentTokenAliases.pop();
     }

     Token nextToken = input.next();
     addAliasesToStack(nextToken, currentTokenAliases);

     return nextToken;
   }

   private void addAliasesToStack(Token token, Stack aliasStack) {
     if(token == null) return;

     String aliasString = (String)aliasMap.get(token.termText());

     if(aliasString == null || aliasString.length() < 1) return;

     StringTokenizer tokenizer = new StringTokenizer(aliasString, " ");
     while(tokenizer.hasMoreElements()) {
       String nextAlias = tokenizer.nextToken();
       Token nextTokenAlias = new Token(nextAlias, 0, 
nextAlias.length());
       aliasStack.push(nextTokenAlias);
     }
   }
}

Note that this is a braindead example of injecting tokens into the 
stream, so when "country" or "western" is encountered, another token is 
added to the stream.  In your case you'll do something with the initial 
token and push all its 4+ length pieces onto the stack.

	Erik


From pierrick.brihaye@culture.gouv.fr  Mon Sep 29 14:06:50 2003
Return-Path: <pierrick.brihaye@culture.gouv.fr>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10820 invoked from network); 29 Sep 2003 14:06:50 -0000
Received: from unknown (HELO hermes.culture.fr) (143.126.201.210)
  by daedalus.apache.org with SMTP; 29 Sep 2003 14:06:50 -0000
Received: by mta.culture.fr with id h8TE6po9023931
 for <lucene-user@jakarta.apache.org>; Mon, 29 Sep 2003 16:06:51 +0200
Received: from bretagne.culture.fr (bretagne.culture.fr) by pasteur.culture.fr
 (Content Technologies SMTPRS 4.3.10) with ESMTP id <T64fa82dd2b8f7ec9dc3f0@pasteur.culture.fr> for <lucene-user@jakarta.apache.org>;
 Mon, 29 Sep 2003 16:06:49 +0200
Received: from culture.gouv.fr by bretagne.culture.fr with ESMTP id h8TE6nDS011996
  for <lucene-user@jakarta.apache.org>; Mon, 29 Sep 2003 16:06:50 +0200
Message-ID: <3F783E52.4060102@culture.gouv.fr>
Date: Mon, 29 Sep 2003 16:14:42 +0200
From: Pierrick Brihaye <pierrick.brihaye@culture.gouv.fr>
User-Agent: Mozilla/5.0 (Windows; U; Win98; fr-FR; rv:1.0.2) Gecko/20030208 Netscape/7.02
X-Accept-Language: fr-fr, fr
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: derive tokens from single token
References: <DCEE3C62548AFE48ADF88CBFDB8260A203CBBA35@NGMAIL3>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

MOYSE Gilles (Cetelem) a crit:

> isn't this one more secure ?

> 	       //New token ?
> 	if (receivedToken == null) return null;
> 	if (receivedText.length() == 0) {
>          receivedToken = input.next();			
>          receivedText.append(receivedToken.termText());		
>          positionIncrement = 1;		
>        }

I don't think so. The aim of this method is to "substream" the main 
stream :-) i.e. output several tokens when just one is received (see 
thread's object).

In other terms, we shall not consume a token until the current token is 
itself entirely consumed, i.e. receivedText.length() == 0.

When the currentToken is consumed, we shall immediately return null if 
we receive a null Token (i.e. EOS). That's why this statement is 
*inside* a successful test for current token consumption.

I must reckognize that the use of a string buffer is maybe not the best 
way to do. I must also reckognize that I have to be *very* confident in 
the getNextTruncation() method :-)

Well, my code snippet was to demonstrate :

1) how a "substream" can be handled (remember : I tried to extend 
TokenFilter, but all I get is either "oobar" or "obar", depends on when 
'return' is called)

2) how these tokens will be meited at the same position, thus permitting 
efficient queries.

Cheers,

-- 
Pierrick Brihaye, informaticien
Service rgional de l'Inventaire
DRAC Bretagne
mailto:pierrick.brihaye@culture.fr


From Rene.Hackl@FIZ-Karlsruhe.DE  Mon Sep 29 15:04:05 2003
Return-Path: <Rene.Hackl@FIZ-Karlsruhe.DE>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98388 invoked from network); 29 Sep 2003 15:04:05 -0000
Received: from unknown (HELO fsd1.FIZ-Karlsruhe.DE) (141.66.18.51)
  by daedalus.apache.org with SMTP; 29 Sep 2003 15:04:05 -0000
Received: from A27swork.FIZ-Karlsruhe.DE (a27swork.fiz-karlsruhe.de [141.66.16.39])
	by fsd1.FIZ-Karlsruhe.DE (8.12.10/8.12.10) with ESMTP id h8TF2jnM018008
	for <lucene-user@jakarta.apache.org>; Mon, 29 Sep 2003 17:02:45 +0200 (MEST)
Received: from pc.fiz-karlsruhe.de ([141.66.16.9])
	by A27swork.FIZ-Karlsruhe.DE (8.9.3/8.9.3) with ESMTP id RAA07544
	for <lucene-user@jakarta.apache.org>; Mon, 29 Sep 2003 17:02:49 +0200 (MET DST)
Received: by pc.fiz-karlsruhe.de with Internet Mail Service (5.5.2653.19)
	id <TT99TKCN>; Mon, 29 Sep 2003 17:02:05 +0200
Message-ID: <41EA24EC431CD411AA8200008385014F05881AC5@pc.fiz-karlsruhe.de>
From: "Hackl, Rene" <Rene.Hackl@FIZ-Karlsruhe.DE>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: Re: derive tokens from single token
Date: Mon, 29 Sep 2003 17:01:54 +0200
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thank you very much for your feedback, guys!=20

Erik, Pierrick, thanks a lot for your code, I'm trying to adapt either
approach right now.

> except that you'll be indexing a ton of=20
> terms I'd guess.  If there is some other way to split these words by=20
> separating by prefix ("hexa", "hepta") and suffix ("alene", "alin") =
it=20
> would likely be better.  But maybe its not practical to do so.

There'll be at least two indexes, one "normal" one and another bloated =
one.
Dan suggested splitting, too, but, unfortunately, if users search for =
e.g.

"9-Oxabicyclo[3.3.1]nona-2,6-diene"

they don't want anything else than that substance, as opposed to=20

"*-Oxabicyclo[3.3.1]nona*"=20

where they'd be interested in substances from that family - whatever =
the
numbers are.

If you're interested, once I've some hard performance results at hand, =
I
could post them around.

Best regards,

Ren=E9 Hackl

From erik@ehatchersolutions.com  Mon Sep 29 15:46:52 2003
Return-Path: <erik@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1309 invoked from network); 29 Sep 2003 15:46:52 -0000
Received: from unknown (HELO c000.snv.cp.net) (209.228.32.72)
  by daedalus.apache.org with SMTP; 29 Sep 2003 15:46:52 -0000
Received: (cpmta 25003 invoked from network); 29 Sep 2003 08:46:51 -0700
Received: from 68.232.144.213 (HELO ehatchersolutions.com)
  by smtp.hatcher.net (209.228.32.72) with SMTP; 29 Sep 2003 08:46:51 -0700
X-Sent: 29 Sep 2003 15:46:51 GMT
Date: Mon, 29 Sep 2003 11:46:58 -0400
Subject: Re: derive tokens from single token
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <41EA24EC431CD411AA8200008385014F05881AC5@pc.fiz-karlsruhe.de>
Message-Id: <28C6474E-F294-11D7-92E4-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Monday, September 29, 2003, at 11:01  AM, Hackl, Rene wrote:
>> except that you'll be indexing a ton of
>> terms I'd guess.  If there is some other way to split these words by
>> separating by prefix ("hexa", "hepta") and suffix ("alene", "alin") it
>> would likely be better.  But maybe its not practical to do so.
>
> There'll be at least two indexes, one "normal" one and another bloated 
> one.
> Dan suggested splitting, too, but, unfortunately, if users search for 
> e.g.
>
> "9-Oxabicyclo[3.3.1]nona-2,6-diene"
>
> they don't want anything else than that substance, as opposed to
>
> "*-Oxabicyclo[3.3.1]nona*"
>
> where they'd be interested in substances from that family - whatever 
> the
> numbers are.

But consider the same type of thing like a phrase query.  If two 
documents are indexed with a field containing "a b c" and "x b y"

If searching for "b" is done, both documents are returned.  If 
searching for "a b" is done, then only the first document is returned.  
So I think with a domain aware analyzer, you might be able to split 
things up into separate terms and then on the querying side of things 
the same type of analysis would be done  Certainly not a trivial thing, 
and maybe not even the right approach, but it seems that intelligent 
analysis can make things a lot easier on users and performance for 
searching.  Maybe?  Just food for thought.

> If you're interested, once I've some hard performance results at hand, 
> I
> could post them around.

Definitely interested!

	Erik


From pierrick.brihaye@wanadoo.fr  Mon Sep 29 16:41:00 2003
Return-Path: <pierrick.brihaye@wanadoo.fr>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91806 invoked from network); 29 Sep 2003 16:41:00 -0000
Received: from unknown (HELO mwinf0101.wanadoo.fr) (193.252.22.30)
  by daedalus.apache.org with SMTP; 29 Sep 2003 16:41:00 -0000
Received: from becane (ca-rennes-4-73.w80-8.abo.wanadoo.fr [80.8.3.73])
	by mwinf0101.wanadoo.fr (SMTP Server) with SMTP id 7FEB1C0000C7
	for <lucene-user@jakarta.apache.org>; Mon, 29 Sep 2003 18:41:03 +0200 (CEST)
Message-ID: <005e01c386a8$6f863540$d4d1fea9@becane>
From: "Pierrick Brihaye" <pierrick.brihaye@wanadoo.fr>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <41EA24EC431CD411AA8200008385014F05881AC5@pc.fiz-karlsruhe.de>
Subject: Re: derive tokens from single token
Date: Mon, 29 Sep 2003 18:40:47 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

>There'll be at least two indexes, one "normal" one and another bloated one.
>Dan suggested splitting, too, but, unfortunately, if users search for e.g.
>
>"9-Oxabicyclo[3.3.1]nona-2,6-diene"
>
>they don't want anything else than that substance, as opposed to
>
>"*-Oxabicyclo[3.3.1]nona*"
>
>where they'd be interested in substances from that family - whatever the
>numbers are.

As Erik says, it seems that you basically want a PhraseQuery.

At first glance you should tokenize on "-" to have the "words" of your
"phrase".

Then, when you have a number, i.e. "9", "[3.3.1]", "2,6", you could output
"dummy tokens" that would take *one* position, say "NUMBER_ALONE",
"NUMBER_BETWEEN_BACKETS", "COMMA_SEPARATED_NUMBERS"... or just "NUMBER".

When you process :

"hexahydronaphthalene" tokenize it as : "hexa hydro naphtal ene".
"heptahydronaphthalin" tokenize it as : "hepta hydro naphtal in".
The PhraseQuery "hydronaphtal", tokenized by the same tokenizer as "hydro
naphtal" will match both in a PhraseQuery.

Sorry, my knowledge in organic chemistry is far :-) and I wonder if these
considerations are not over-simplistic. Maybe your "same position" approach
(solved by a "token stack" algorithm) is the least worse one.

Exciting analysis problematics however,

Cherrs,

p.b.



From Leo.G@seznam.cz  Mon Sep 29 16:51:30 2003
Return-Path: <Leo.G@seznam.cz>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19633 invoked from network); 29 Sep 2003 16:51:30 -0000
Received: from unknown (HELO smtp-out4.iol.cz) (194.228.2.92)
  by daedalus.apache.org with SMTP; 29 Sep 2003 16:51:30 -0000
Received: from fw.shark (gprs197-108.eurotel.cz [160.218.197.108])
	by smtp-out4.iol.cz (Internet on Line ESMTP server) with ESMTP id B6CC2303AA
	for <lucene-user@jakarta.apache.org>; Mon, 29 Sep 2003 18:51:54 +0200 (CEST)
Received: from seznam.cz (0-3.shark [192.168.0.3])
	by fw.shark (8.12.8/8.12.5) with ESMTP id h8TGoZkI002039
	for <lucene-user@jakarta.apache.org>; Mon, 29 Sep 2003 18:50:38 +0200
Message-ID: <3F786258.3080107@seznam.cz>
Date: Mon, 29 Sep 2003 18:48:24 +0200
From: Leo Galambos <Leo.G@seznam.cz>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: derive tokens from single token
References: <28C6474E-F294-11D7-92E4-000393A564E6@ehatchersolutions.com>
In-Reply-To: <28C6474E-F294-11D7-92E4-000393A564E6@ehatchersolutions.com>
X-Enigmail-Version: 0.76.4.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

what about bi/tri-grams + some sort of hit filtering? It will do the 
job. I just saw some ineffective implementation of 1-grams for CJK on 
lucene-dev@. It could be a good starting point for full n-gram 
support... Just a thought.

Leo

Erik Hatcher wrote:

> On Monday, September 29, 2003, at 11:01  AM, Hackl, Rene wrote:
>
>>> except that you'll be indexing a ton of
>>> terms I'd guess.  If there is some other way to split these words by
>>> separating by prefix ("hexa", "hepta") and suffix ("alene", "alin") it
>>> would likely be better.  But maybe its not practical to do so.
>>
>>
>> There'll be at least two indexes, one "normal" one and another 
>> bloated one.
>> Dan suggested splitting, too, but, unfortunately, if users search for 
>> e.g.
>>
>> "9-Oxabicyclo[3.3.1]nona-2,6-diene"
>>
>> they don't want anything else than that substance, as opposed to
>>
>> "*-Oxabicyclo[3.3.1]nona*"
>>
>> where they'd be interested in substances from that family - whatever the
>> numbers are.
>
>
> But consider the same type of thing like a phrase query.  If two 
> documents are indexed with a field containing "a b c" and "x b y"
>
> If searching for "b" is done, both documents are returned.  If 
> searching for "a b" is done, then only the first document is 
> returned.  So I think with a domain aware analyzer, you might be able 
> to split things up into separate terms and then on the querying side 
> of things the same type of analysis would be done  Certainly not a 
> trivial thing, and maybe not even the right approach, but it seems 
> that intelligent analysis can make things a lot easier on users and 
> performance for searching.  Maybe?  Just food for thought.
>
>> If you're interested, once I've some hard performance results at hand, I
>> could post them around.
>
>
> Definitely interested!
>
>     Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>



From ilmabarbosa@yahoo.com.br  Mon Sep 29 17:53:05 2003
Return-Path: <ilmabarbosa@yahoo.com.br>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18827 invoked from network); 29 Sep 2003 17:53:05 -0000
Received: from unknown (HELO web40911.mail.yahoo.com) (66.218.78.208)
  by daedalus.apache.org with SMTP; 29 Sep 2003 17:53:05 -0000
Message-ID: <20030929175310.22806.qmail@web40911.mail.yahoo.com>
Received: from [200.150.13.235] by web40911.mail.yahoo.com via HTTP; Mon, 29 Sep 2003 14:53:10 ART
Date: Mon, 29 Sep 2003 14:53:10 -0300 (ART)
From: =?iso-8859-1?q?ilma=20barbosa?= <ilmabarbosa@yahoo.com.br>
Subject: Re: derive tokens from single token
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <E19604BC-F283-11D7-92E4-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

 --- Erik Hatcher <erik@ehatchersolutions.com>
escreveu: > On Monday, September 29, 2003, at 09:19 
AM, Hackl,
> Rene wrote:
> > I'm looking for a way to implement simultaneous
> left and right 
> > truncation.
> >
> > The goal is to enable the user to search for e.g.
> "*hydronaphth*" and 
> > find
> > "hexahydronaphthalene" as well as
> "heptahydronaphthalin".
> 
> WildcardQuery, if used directly but not through
> QueryParser, allows for 
> left and right wildcards like this.  Performance is
> the biggest concern 
> though, as it will have to enumerate all terms in
> the index to look for 
> matches.
> 
> > To achieve that functionality, I'd like to index
> terms in the way that 
> > from
> > a token "foobar" the tokens "oobar" and "obar" (
> e.g. mininum word 
> > length =
> > 4)
> > would be derived and added to the index. I tried
> to extend 
> > TokenFilter, but
> > all I get is either "oobar" or "obar", depends on
> when 'return' is 
> > called.
> 
> This is an interesting approach and would certainly
> give you the search 
> results you are looking for, except that you'll be
> indexing a ton of 
> terms I'd guess.  If there is some other way to
> split these words by 
> separating by prefix ("hexa", "hepta") and suffix
> ("alene", "alin") it 
> would likely be better.  But maybe its not practical
> to do so.
> 
> But, to the main question....
> 
> > How could I add such extra tokens to the
> tokenStream? Any thoughts on 
> > this
> > appreciated.
> 
> Yes, this can be done.  Craig Walls did this with an
> example Analyzer 
> in his December '02 Java Developer's Journal
> article.  I adapted his 
> example to use to demonstrate this for
> presentations.  Here is my code:
> 
> import java.io.IOException;
> import java.util.Enumeration;
> import java.util.HashMap;
> import java.util.ResourceBundle;
> import java.util.Stack;
> import java.util.StringTokenizer;
> 
> import org.apache.lucene.analysis.Token;
> import org.apache.lucene.analysis.TokenFilter;
> import org.apache.lucene.analysis.TokenStream;
> 
> public class AliasFilter extends TokenFilter {
>    private static HashMap aliasMap = new HashMap();
> 
>    static {
>        aliasMap.put("country","yeehaw");
>        aliasMap.put("western","rawhide");
>    }
> 
>    private Stack currentTokenAliases;
> 
>    public AliasFilter(TokenStream in) {
>      currentTokenAliases = new Stack();
>      input = in;
>    }
> 
>    public Token next() throws IOException {
>      if(currentTokenAliases.size() > 0) {
>        return (Token)currentTokenAliases.pop();
>      }
> 
>      Token nextToken = input.next();
>      addAliasesToStack(nextToken,
> currentTokenAliases);
> 
>      return nextToken;
>    }
> 
>    private void addAliasesToStack(Token token, Stack
> aliasStack) {
>      if(token == null) return;
> 
>      String aliasString =
> (String)aliasMap.get(token.termText());
> 
>      if(aliasString == null || aliasString.length()
> < 1) return;
> 
>      StringTokenizer tokenizer = new
> StringTokenizer(aliasString, " ");
>      while(tokenizer.hasMoreElements()) {
>        String nextAlias = tokenizer.nextToken();
>        Token nextTokenAlias = new Token(nextAlias,
> 0, 
> nextAlias.length());
>        aliasStack.push(nextTokenAlias);
>      }
>    }
> }
> 
> Note that this is a braindead example of injecting
> tokens into the 
> stream, so when "country" or "western" is
> encountered, another token is 
> added to the stream.  In your case you'll do
> something with the initial 
> token and push all its 4+ length pieces onto the
> stack.
> 
> 	Erik
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
>  



From ilmabarbosa@yahoo.com.br  Mon Sep 29 17:55:42 2003
Return-Path: <ilmabarbosa@yahoo.com.br>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20719 invoked from network); 29 Sep 2003 17:55:42 -0000
Received: from unknown (HELO web40904.mail.yahoo.com) (66.218.78.201)
  by daedalus.apache.org with SMTP; 29 Sep 2003 17:55:42 -0000
Message-ID: <20030929175546.12721.qmail@web40904.mail.yahoo.com>
Received: from [200.150.13.235] by web40904.mail.yahoo.com via HTTP; Mon, 29 Sep 2003 14:55:46 ART
Date: Mon, 29 Sep 2003 14:55:46 -0300 (ART)
From: =?iso-8859-1?q?ilma=20barbosa?= <ilmabarbosa@yahoo.com.br>
Subject: Re: derive tokens from single token
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20030929175310.22806.qmail@web40911.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

 --- ilma barbosa <ilmabarbosa@yahoo.com.br> escreveu:
>  --- Erik Hatcher <erik@ehatchersolutions.com>
> escreveu: > On Monday, September 29, 2003, at 09:19 
> AM, Hackl,
> > Rene wrote:
> > > I'm looking for a way to implement simultaneous
> > left and right 
> > > truncation.
> > >
> > > The goal is to enable the user to search for
> e.g.
> > "*hydronaphth*" and 
> > > find
> > > "hexahydronaphthalene" as well as
> > "heptahydronaphthalin".
> > 
> > WildcardQuery, if used directly but not through
> > QueryParser, allows for 
> > left and right wildcards like this.  Performance
> is
> > the biggest concern 
> > though, as it will have to enumerate all terms in
> > the index to look for 
> > matches.
> > 
> > > To achieve that functionality, I'd like to index
> > terms in the way that 
> > > from
> > > a token "foobar" the tokens "oobar" and "obar" (
> > e.g. mininum word 
> > > length =
> > > 4)
> > > would be derived and added to the index. I tried
> > to extend 
> > > TokenFilter, but
> > > all I get is either "oobar" or "obar", depends
> on
> > when 'return' is 
> > > called.
> > 
> > This is an interesting approach and would
> certainly
> > give you the search 
> > results you are looking for, except that you'll be
> > indexing a ton of 
> > terms I'd guess.  If there is some other way to
> > split these words by 
> > separating by prefix ("hexa", "hepta") and suffix
> > ("alene", "alin") it 
> > would likely be better.  But maybe its not
> practical
> > to do so.
> > 
> > But, to the main question....
> > 
> > > How could I add such extra tokens to the
> > tokenStream? Any thoughts on 
> > > this
> > > appreciated.
> > 
> > Yes, this can be done.  Craig Walls did this with
> an
> > example Analyzer 
> > in his December '02 Java Developer's Journal
> > article.  I adapted his 
> > example to use to demonstrate this for
> > presentations.  Here is my code:
> > 
> > import java.io.IOException;
> > import java.util.Enumeration;
> > import java.util.HashMap;
> > import java.util.ResourceBundle;
> > import java.util.Stack;
> > import java.util.StringTokenizer;
> > 
> > import org.apache.lucene.analysis.Token;
> > import org.apache.lucene.analysis.TokenFilter;
> > import org.apache.lucene.analysis.TokenStream;
> > 
> > public class AliasFilter extends TokenFilter {
> >    private static HashMap aliasMap = new
> HashMap();
> > 
> >    static {
> >        aliasMap.put("country","yeehaw");
> >        aliasMap.put("western","rawhide");
> >    }
> > 
> >    private Stack currentTokenAliases;
> > 
> >    public AliasFilter(TokenStream in) {
> >      currentTokenAliases = new Stack();
> >      input = in;
> >    }
> > 
> >    public Token next() throws IOException {
> >      if(currentTokenAliases.size() > 0) {
> >        return (Token)currentTokenAliases.pop();
> >      }
> > 
> >      Token nextToken = input.next();
> >      addAliasesToStack(nextToken,
> > currentTokenAliases);
> > 
> >      return nextToken;
> >    }
> > 
> >    private void addAliasesToStack(Token token,
> Stack
> > aliasStack) {
> >      if(token == null) return;
> > 
> >      String aliasString =
> > (String)aliasMap.get(token.termText());
> > 
> >      if(aliasString == null ||
> aliasString.length()
> > < 1) return;
> > 
> >      StringTokenizer tokenizer = new
> > StringTokenizer(aliasString, " ");
> >      while(tokenizer.hasMoreElements()) {
> >        String nextAlias = tokenizer.nextToken();
> >        Token nextTokenAlias = new Token(nextAlias,
> > 0, 
> > nextAlias.length());
> >        aliasStack.push(nextTokenAlias);
> >      }
> >    }
> > }
> > 
> > Note that this is a braindead example of injecting
> > tokens into the 
> > stream, so when "country" or "western" is
> > encountered, another token is 
> > added to the stream.  In your case you'll do
> > something with the initial 
> > token and push all its 4+ length pieces onto the
> > stack.
> > 
> > 	Erik
> > 
> > 
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> > lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> >  
> 
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
>  

=====




From Rene.Hackl@FIZ-Karlsruhe.DE  Tue Sep 30 12:52:42 2003
Return-Path: <Rene.Hackl@FIZ-Karlsruhe.DE>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43767 invoked from network); 30 Sep 2003 12:52:42 -0000
Received: from unknown (HELO fsd1.FIZ-Karlsruhe.DE) (141.66.18.51)
  by daedalus.apache.org with SMTP; 30 Sep 2003 12:52:42 -0000
Received: from A27swork.FIZ-Karlsruhe.DE (a27swork.fiz-karlsruhe.de [141.66.16.39])
	by fsd1.FIZ-Karlsruhe.DE (8.12.10/8.12.10) with ESMTP id h8UCpKnM023605
	for <lucene-user@jakarta.apache.org>; Tue, 30 Sep 2003 14:51:20 +0200 (MEST)
Received: from pc.fiz-karlsruhe.de ([141.66.16.9])
	by A27swork.FIZ-Karlsruhe.DE (8.9.3/8.9.3) with ESMTP id OAA01127
	for <lucene-user@jakarta.apache.org>; Tue, 30 Sep 2003 14:51:24 +0200 (MET DST)
Received: by pc.fiz-karlsruhe.de with Internet Mail Service (5.5.2653.19)
	id <TT99TQCA>; Tue, 30 Sep 2003 14:50:39 +0200
Message-ID: <41EA24EC431CD411AA8200008385014F05881AC7@pc.fiz-karlsruhe.de>
From: "Hackl, Rene" <Rene.Hackl@FIZ-Karlsruhe.DE>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: Re: derive tokens from single token
Date: Tue, 30 Sep 2003 14:50:38 +0200
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> As Erik says, it seems that you basically want a PhraseQuery.

A PhraseQuery would do - and certainly perform much better - if I could
guarantee, that two conditions are fulfilled:

1. as you mentioned, the analyzer must be intelligent enough to rip =
such
formulas into the right tokens. Sometimes however only the context =
makes
clear where a descriptor ends and another one starts. Moreover, there =
are
hundreds if not thousands of possible constituents (like "bi", "tri",
"penta", "hexa" etc. ).

2. users do not only enter queries in terms of the smallest possible
constituents, but also combinations of these, for instance
Q:"*hydronaphthalene*". If the resulting answer set contains
"hydro-something-naphtalene" this will raise eyebrows.

What is more, the index will consist of english and german documents.
Therefore it would be nice to put a wildcard at the right place and get =
hits
in both languages.

> what about bi/tri-grams + some sort of hit filtering? It will do the=20
> job.=20

Yes, we thought about some kind of n-gram support. At first glance =
though we
couldn't see how to reduce the noise efficiently, but if there's time, =
I'll
give it a try.

As for the AliasFilter class: when I realized how easy it would be to =
make
the necessary changes I hardly couldn't believe it. Thanks again, Erik! =


For the sake of "compile-and-go" I put the slightly modified class at =
the
bottom.=20

Best regards,

Ren=E9 Hackl

-----------------------------------

package org.apache.lucene.analysis;

import java.io.IOException;
import java.util.Stack;
import java.util.StringTokenizer;

import org.apache.lucene.analysis.Token;
import org.apache.lucene.analysis.TokenFilter;
import org.apache.lucene.analysis.TokenStream;

public class CutOffFilter extends TokenFilter { =20

   private Stack currentTokenAliases;

   public CutOffFilter(TokenStream in) {
     currentTokenAliases =3D new Stack();
     input =3D in;
   }

   public Token next() throws IOException {
     if(currentTokenAliases.size() > 0) {     =09
       return (Token)currentTokenAliases.pop();     =20
     }

     Token nextToken =3D input.next();
     addAliasesToStack(nextToken, currentTokenAliases);    =20
        =20
     return nextToken;
   }

   private void addAliasesToStack(Token token, Stack aliasStack) {
     if(token =3D=3D null) return;

     String tokenString =3D token.termText();
     String tokenSubString =3D "";
              =20
     int x =3D 1;
    =20
     for( int i =3D tokenString.length(); i > 4; i-- ) {
     	tokenSubString +=3D tokenString.substring( x, =
tokenString.length() );
     	tokenSubString +=3D " ";     =09
     	x++;     	=09
     }                             =20

     //System.out.println( "SUBSTRING ELEMENTS: "+tokenSubString );

     StringTokenizer tokenizer =3D new StringTokenizer(tokenSubString, =
" ");
     while(tokenizer.hasMoreElements()) {
       String nextAlias =3D tokenizer.nextToken();      =20
       Token nextTokenAlias =3D new Token(nextAlias, 0, =
nextAlias.length());

       aliasStack.push(nextTokenAlias);
     }
   }
}

From Rene.Hackl@FIZ-Karlsruhe.DE  Tue Sep 30 15:03:20 2003
Return-Path: <Rene.Hackl@FIZ-Karlsruhe.DE>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88269 invoked from network); 30 Sep 2003 15:03:20 -0000
Received: from unknown (HELO fsd1.FIZ-Karlsruhe.DE) (141.66.18.51)
  by daedalus.apache.org with SMTP; 30 Sep 2003 15:03:19 -0000
Received: from A27swork.FIZ-Karlsruhe.DE (a27swork.fiz-karlsruhe.de [141.66.16.39])
	by fsd1.FIZ-Karlsruhe.DE (8.12.10/8.12.10) with ESMTP id h8UF1xnM029284
	for <lucene-user@jakarta.apache.org>; Tue, 30 Sep 2003 17:01:59 +0200 (MEST)
Received: from pc.fiz-karlsruhe.de ([141.66.16.9])
	by A27swork.FIZ-Karlsruhe.DE (8.9.3/8.9.3) with ESMTP id RAA12537
	for <lucene-user@jakarta.apache.org>; Tue, 30 Sep 2003 17:02:03 +0200 (MET DST)
Received: by pc.fiz-karlsruhe.de with Internet Mail Service (5.5.2653.19)
	id <TT99TR0J>; Tue, 30 Sep 2003 17:01:18 +0200
Message-ID: <41EA24EC431CD411AA8200008385014F05881ACD@pc.fiz-karlsruhe.de>
From: "Hackl, Rene" <Rene.Hackl@FIZ-Karlsruhe.DE>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: Ngram index
Date: Tue, 30 Sep 2003 17:01:18 +0200
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Just an idea about what Leo said yesterday.

> what about bi/tri-grams + some sort of hit filtering? It will do the=20
> job. I just saw some ineffective implementation of 1-grams for CJK on =

> lucene-dev@. It could be a good starting point for full n-gram=20
> support... Just a thought.

A change in the AliasFilter seemed to work:

private void addAliasesToStack(Token token, Stack aliasStack) {
     if(token =3D=3D null) return;

     String tokenString =3D token.termText();
     String tokenSubString =3D "";
              =20
     // --- from here --- =20
     int x =3D 0;    =20
     while( tokenString.length() > x+2 ) {     =09
     	tokenSubString +=3D tokenString.substring( x, x+3 );
     	tokenSubString +=3D " ";     =09
     	x++;     	=09
     }
     // --- to here ---

     //System.out.println( "SUBSTRING ELEMENTS: "+tokenSubString );

     StringTokenizer tokenizer =3D new StringTokenizer(tokenSubString, =
" ");
     while(tokenizer.hasMoreElements()) {
       String nextAlias =3D tokenizer.nextToken();      =20
       Token nextTokenAlias =3D new Token(nextAlias, 0, =
nextAlias.length());

       aliasStack.push(nextTokenAlias);
     }
   }

This snippet creates overlapping tri-grams. But I don't know if this is =
of
any use, a mere notion.

Best regards,

Ren=E9 Hackl

From gui@prosoma.com.br  Tue Sep 30 20:30:54 2003
Return-Path: <gui@prosoma.com.br>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46340 invoked from network); 30 Sep 2003 20:30:54 -0000
Received: from unknown (HELO messiah.infoage.com.br) (200.187.133.40)
  by daedalus.apache.org with SMTP; 30 Sep 2003 20:30:54 -0000
Received: (qmail 23674 invoked from network); 30 Sep 2003 20:20:36 -0000
Received: from unknown (HELO ?172.16.1.54?) (200.187.133.34)
  by messiah.infoage.com.br with SMTP; 30 Sep 2003 20:20:36 -0000
Subject: Lucene 1.3-rc1 ?
From: Guilherme Barile <gui@prosoma.com.br>
To: Lucene <lucene-user@jakarta.apache.org>
Content-Type: multipart/alternative; boundary="=-M7sL6TD0d2HjBxQHk9b8"
Message-Id: <1064953852.20457.9.camel@localhost>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.0 
Date: 30 Sep 2003 17:30:53 -0300
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--=-M7sL6TD0d2HjBxQHk9b8
Content-Type: text/plain
Content-Transfer-Encoding: 7bit

I just reinstalled my system, and can't seem to find lucene 1.3 for
download ? 
What's that new cgi for downloading jakarta files ?

Can anyone tell me where to get it ? 

Thanks a lot !


gui

--=-M7sL6TD0d2HjBxQHk9b8--


