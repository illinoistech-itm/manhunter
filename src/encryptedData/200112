From lucene-user-return-507-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Sat Dec 01 10:40:05 2001
Return-Path: <lucene-user-return-507-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 17141 invoked from network); 1 Dec 2001 10:40:05 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 1 Dec 2001 10:40:05 -0000
Received: (qmail 10966 invoked by uid 97); 1 Dec 2001 10:40:17 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 10922 invoked by uid 97); 1 Dec 2001 10:40:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10911 invoked from network); 1 Dec 2001 10:40:15 -0000
Date: Sat, 1 Dec 2001 02:44:26 -0800 (Pacific Standard Time)
From: Joshua O'Madadhain <jmadden@ics.uci.edu>
To: lucene-user@jakarta.apache.org
Subject: multiple-term queries and term numbers
Message-ID: <Pine.WNT.4.21.0112010224310.-201735@syzygy.reshsg.uci.edu>
X-X-Sender: jmadden@smtp.ics.uci.edu
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

A couple of questions:

(1) I'm confused by the API for queries which have multiple terms.  How do
I construct a query where each term in the query has a different boost
factor?


(2) Does the Lucene API provide a mechanism for efficiently looking up the
number of a term in an index (that is, the position of that term in the
TermEnum associated with the index)?  I need to be able to get this
information for the term expansion that I'm doing on the query (in other
words, given each term in the query, I need to get its number so that I
can access the pre-computed sets of candidate terms in the general lexicon
to which the query may be expanded).

If there is no such mechanism in the API, there are only two reasonably
efficient methods that come to my mind for getting this information.  If
I've missed something obvious and efficient, or if my ideas won't work, by
all means tell me.  :)

a. At startup, since the TermEnum for an index appears to be sorted
lexiocographically, load the TermEnum into an an array and then do binary
search on the array looking for the term (making sure to run the term
through the Analyzer first).

b. Instead of representing my term lookup tables by arrays of arrays, 
represent them as hash tables (keyed by some munging of the string
which represents the term) of arrays.  

Thanks in advance for any assistance.

Regards,

Joshua O'Madadhain

 jmadden@ics.uci.edu...Obscurium Per Obscurius...www.ics.uci.edu/~jmadden
    Joshua Madden: Information Scientist, Musician, Philosopher-At-Tall
 It's that moment of dawning comprehension that I live for--Bill Watterson
My opinions are too rational and insightful to be those of any organization.


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-508-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Sun Dec 02 02:51:09 2001
Return-Path: <lucene-user-return-508-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 56263 invoked from network); 2 Dec 2001 02:51:09 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 2 Dec 2001 02:51:09 -0000
Received: (qmail 6177 invoked by uid 97); 2 Dec 2001 02:51:16 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 6110 invoked by uid 97); 2 Dec 2001 02:51:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6099 invoked from network); 2 Dec 2001 02:51:14 -0000
Date: Sat, 1 Dec 2001 18:55:21 -0800 (Pacific Standard Time)
From: Joshua O'Madadhain <jmadden@ics.uci.edu>
To: lucene-user@jakarta.apache.org
Subject: number of terms vs. number of fields
Message-ID: <Pine.WNT.4.21.0112011840140.-366467@syzygy.reshsg.uci.edu>
X-X-Sender: jmadden@smtp.ics.uci.edu
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I have been experimenting with indexing a document set with different sets
of fields.  Specifically, I start out with a "contents" field that
is a concatenation of all the elements of the original document in which
I'm interested.  This gets me an index with about 7500 unique terms (which
I determine by opening up an IndexReader, extracting the terms in the
index, and counting them).  Then I've been adding each of the separate
elements (title, major subject, minor subject, abstract/extract), one at a
time, to the index (by recreating the index).  

Because "contents" is the concatenation of the other fields ("title",
"major", "minor", "abstract"/"extract"), I would expect that the number of
unique terms in the index would not change if I added the other fields
into the index; each term should just have twice the frequency
as if I only used the "contents" field.  However, this is not what's
happening; in fact, if I add all the other fields in, the total number of
unique terms is 22000+.

I have verified that "contents" contains everything that the other fields
do, so I am quite puzzled by this.  Any idea what's going on here, and
why?

For anyone who might be interested in checking this out, my code is below.

Regards,

Joshua


// FileCFDocument.java (a modified version of FileDocument.java in the
// source examples)
import java.io.File;
import java.io.FileInputStream;
import java.util.Vector;

import org.apache.lucene.document.Document;
import org.apache.lucene.document.Field;

/** A utility for making Lucene Documents from a File. */

public class FileCFDocument
{
    public static Document[] makeDocuments(File f)
        throws java.io.FileNotFoundException, java.io.IOException
    {
        // open file, read it into a byte array and thence a String
        FileInputStream fis = new FileInputStream(f);
        int n = fis.available();
        byte[] data = new byte[n];
        fis.read(data);
        fis.close();

        String s = new String(data);
        int ti, so, mj, mn, ab, ex, rf, abex;

        Vector vdocs = new Vector();
        String contents;

        // fields being indexed:
        // TI (title)
        // MJ (major subject)
        // MN (minor subject)
        // AB/EX (abstract/extract)

        ti = s.indexOf("\nTI ");
        while (ti != -1)
        {
            // make a new, empty document
            Document doc = new Document();

            int k = s.indexOf("\nPN ");
            doc.add(Field.UnIndexed("number", s.substring(k+4, k+9)));

            // DEBUG
            System.out.println(s.substring(k, k+9));

            s = s.substring(ti+4);

            // DEBUG
            System.out.println("s.length(): " + s.length());

            so = s.indexOf("\nSO ");
            mj = s.indexOf("\nMJ ");
            mn = s.indexOf("\nMN ");
            ab = s.indexOf("\nAB ");
            ex = s.indexOf("\nEX ");
            rf = s.indexOf("\nRF ");

//            System.out.println("so: " + so + ", mj: " + mj + ", mn: " 
//		+ mn +
//                ", ab: " + ab + ", ex: " + ex + ", rf: " + rf);

            String title = s.substring(0, so);
            doc.add(Field.Text("title", title));
            contents = title;

            if (mj != -1 && mj < mn) // not all documents have major
subject
            {
                String major = s.substring(mj+4, mn);
//                doc.add(Field.Text("major", major));
                contents = contents + " " + major;
            }

            if (ab != -1 && ab < rf) // if this document has an abstract
            {
                abex = ab;
                String abs = s.substring(ab+4, rf);
//                doc.add(Field.Text("abstract", abs));
                contents = contents + " " + abs;
            }
            else // it has an extract instead
            {
                abex = ex;
                String extract = s.substring(ex+4, rf);
//                doc.add(Field.Text("extract", extract));
                contents = contents + " " + extract;
            }

            if (mn != -1 && mn < abex)
            {
                String minor = s.substring(mn+4, abex);
//                doc.add(Field.Text("minor", minor));
                contents = contents + " " + minor;
            }

            // add a field that's the concatenation of the others so that
            // we can search on all fields simultaneously
            doc.add(Field.Text("contents", contents));

            // DEBUG
//            System.out.println(contents);
            System.out.println(doc.toString());

            ti = s.indexOf("\nTI ");
            vdocs.add(doc);
        }

        Document[] docs = new Document[vdocs.size()];
        vdocs.toArray(docs);

        return docs;
  }

  private FileCFDocument() {}
}

// IndexCFFiles.java (a modification of the IndexFiles.java example)
import org.apache.lucene.analysis.StopAnalyzer;
import org.apache.lucene.index.IndexWriter;
import org.apache.lucene.document.Document;

import java.io.File;
import java.util.Date;

// DEBUG
import org.apache.lucene.index.IndexReader;
import java.util.Vector;
import org.apache.lucene.index.TermEnum;

class IndexCFFiles
{

    public static void main(String[] args)
    {
        try
        {
            Date start = new Date();

            String indexID = "index";
            if (args.length > 1)
                indexID = args[1];
            IndexWriter writer = new IndexWriter(indexID, new
                ThoroughAnalyzer(), true);
            writer.mergeFactor = 20;

            indexDocs(writer, new File(args[0]));

            writer.optimize();
            writer.close();

            Date end = new Date();

            System.out.print(end.getTime() - start.getTime());
            System.out.println(" total milliseconds");

            // DEBUG
            // open the specified index
            IndexReader ir = IndexReader.open(indexID);

            // get an enumeration of the terms in the index
            TermEnum te = ir.terms();

            // extract the terms from this enumeration
            Vector v = new Vector();
            while (te.next())
            {
                char c = te.term().text().charAt(0);
                if (((c >= 65 && c <= 91) || (c >= 97 && c <= 123)))
                    v.add(te.term());
            }

            // place the terms in an array
            int n = v.size();

            // DEBUG
            System.out.println("Number of unique terms in index '" +
		indexID +
                          "': " + n);

        }
        catch (Exception e)
        {
            System.out.println(" caught a " + e.getClass() +
                "\n with message: " + e.getMessage());
        }
    }

    public static void indexDocs(IndexWriter writer, File file)
       throws Exception
    {
        if (file.isDirectory())
        {
            String[] files = file.list();
            for (int i = 0; i < files.length; i++)
                indexDocs(writer, new File(file, files[i]));
        }
        else
        {
            System.out.println("adding " + file);
            Document[] docs = FileCFDocument.makeDocuments(file);
            for (int i = 0; i < docs.length; i++)
                writer.addDocument(docs[i]);
        }
    }
}


 jmadden@ics.uci.edu...Obscurium Per Obscurius...www.ics.uci.edu/~jmadden
    Joshua Madden: Information Scientist, Musician, Philosopher-At-Tall
 It's that moment of dawning comprehension that I live for--Bill Watterson
My opinions are too rational and insightful to be those of any organization.



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-509-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Sun Dec 02 15:51:29 2001
Return-Path: <lucene-user-return-509-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 30050 invoked from network); 2 Dec 2001 15:51:27 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 2 Dec 2001 15:51:27 -0000
Received: (qmail 7272 invoked by uid 97); 2 Dec 2001 15:51:27 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 7190 invoked by uid 97); 2 Dec 2001 15:51:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7179 invoked from network); 2 Dec 2001 15:51:25 -0000
Message-ID: <002f01c17b49$75b50070$1573a8c0@marc>
From: "Marc Kramis" <mkramis@student.ethz.ch>
To: <lucene-user@jakarta.apache.org>
Subject: Re: SqlDirectory
Date: Sun, 2 Dec 2001 16:53:17 +0100
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----=_NextPart_000_002C_01C17B51.D726DBA0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-OriginalArrivalTime: 02 Dec 2001 15:51:18.0952 (UTC) FILETIME=[2EB4E280:01C17B49]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_002C_01C17B51.D726DBA0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

here you find the current code:

java:
SQLDirectory.java. (should work with all sql databases via JDBC)

sql:
Oracle: see appended scripts
SQL Server: change varchar2 to varchar, integer to bigint and raw to binary

it seems to be quite stable by now.
the input and outputstream methods should be reviewed.

indexing seems to be a little faster than FSDirectory (both db and files on
remote server)
querying is slower, but included cache increases performance over time or
repeated queries (especially paging)

enjoy ;)
marc



----- Original Message -----
From: "Marc Kramis" <mkramis@student.ethz.ch>
To: <lucene-user@jakarta.apache.org>
Sent: Monday, November 26, 2001 9:38 PM
Subject: SqlDirectory


> hi all
>
> some time ago, there was a short discussion about a database store. I also
> needed some persistence layer that was accessible via JDBC. It turned out,
> that a BLOB implementation is strongly dependent on the RDBMS used and
also
> poorly performing.
>
> I implemented a SqlDirectory, based on the idea of RAMDirectory and its
> buffers as basic element.
> goals:
> 1. should work with all JDBC compliant RDBMS (no adaption required, no
> blobs!).
> 2. performance should be acceptable.
> 3. simple db schema.
>
> status:
> 1. tested on Oracle 8i (free oracle JDBC driver type 4) and SQL Server
2000
> (free microsoft JDBC beta driver type 4). works perfectly.
> 2. consists of 2 tables and 1 index. (one tablespace can have several
> indexes of course)
> 3. promising performance.
>
> todo:
> 1. test reliability, performance, concurrency (multiple reader/writer),
test
> with mySQL
> 2. code review
> 3. introduce caching (maybe CacheDirectory)
>
> if someone has experience or just likes to test it, mail me. Anyway, could
I
> simply attach the SqlDirectory.java file to my mails?
>
> marc
>

------=_NextPart_000_002C_01C17B51.D726DBA0
Content-Type: application/x-javascript;
	name="SqlDirectory.java"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: attachment;
	filename="SqlDirectory.java"

/**
 * @author Marc Kramis (mkramis@student.ethz.ch)
 * @version 1.0.43
 *
 * requires Java 1.2 API or higher
 * =
-------------------------------------------------------------------------=
----
 * SQLDirectory as persistence layer based on a RDBMS. required are two
 * tables and one combined index:
 * table LUCENE_FILE:   primary key filename varchar(256)
 *                      modified integer(8)
 *                      length integer(8)
 *                      reader integer (8)
 * table LUCENE_BUFFER: filename varchar(256)
 *                      buffernumber integer(8)
 *                      buffer binary(1024)
 * index LUCENE_INDEX:  on LUCENE_BUFFER (filename, buffernumber)
 *
 * note: if more than one index is required in one tablespace, use other =
names.
 * note: remember to use a high merge factor (e.g. 100) for batch =
indexing.
 * =
-------------------------------------------------------------------------=
----
 * priorities: 1=3Dhigh, 2=3Dmedium, 3=3Dlow
 * @todo 2:exception handling, throw IOException instead of =
IllegalStateExcp.
 * @todo 3:since SQLDirectory is slower than FSDirectory, the current =
locking
 *         mechanism might cause timeouts more often. check for random =
exponential
 *         timeout (see TCP/IP) instead of linear or other locking =
mechanism.
 * @todo 2:how to handle broken connections?
 * @todo 2:open reader problem: if reader fails, reader is not =
decremented
 * @todo 2:in-process thread safety?
 * @todo 3:test for several drivers and db systems
 */

import org.apache.lucene.store.*;

import java.io.IOException;
import java.util.ArrayList;
import java.util.Hashtable;
import java.sql.DriverManager;
import java.sql.Connection;
import java.sql.Statement;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;

final public class SQLDirectory extends Directory {

  private final static String DEFAULT_FILE_TABLE =3D "LUCENE_FILE";
  private final static String DEFAULT_BUFFER_TABLE =3D "LUCENE_BUFFER";

  private final Connection con;
  private final String fileTable;
  private final String bufferTable;

  /**
   * read-only processes might use much higher sizes
   * minimum is 2
   */
  public int cacheSize =3D 32;

  /**
   * accept "outside" connection for connection reusing.
   */
  public SQLDirectory(Connection con) {
    // assign parameter
    this.con =3D con;
    this.fileTable =3D DEFAULT_FILE_TABLE;
    this.bufferTable =3D DEFAULT_BUFFER_TABLE;
    // initialization
    try {
      con.setAutoCommit(false);
    } catch (SQLException se) {
      throw new IllegalArgumentException(se.getMessage());
    }
  }

  /**
   * Convenience Constructor
   * using default table name. create is set to false (only read or =
append)
   */
  public SQLDirectory(String driver,
                      String url,
                      String user,
                      String login) {
    this(driver, url, user, login, DEFAULT_FILE_TABLE, =
DEFAULT_BUFFER_TABLE, false);
  }

  /**
   * important for transactionla behaviour: autocommit set to false!
   * this feature lets us profit from db transactions. (except mySQL?)
   * (no parameter check is performed)
   */
  public SQLDirectory(String driver,
                      String url,
                      String user,
                      String login,
                      String fileTable,
                      String bufferTable,
                      boolean create)  {
    // assign parameter
    this.fileTable =3D fileTable;
    this.bufferTable =3D bufferTable;
    // initialization
    try {
      Class.forName(driver);
      con =3D DriverManager.getConnection(url, user, login);
      con.setAutoCommit(false);
      if (create) {
        create();
      }
    } catch (ClassNotFoundException ce) {
      throw new IllegalArgumentException("invalid driver: " + =
ce.getMessage());
    } catch (SQLException se) {
      throw new IllegalArgumentException("invalid url, user or login: " =
+ se.getMessage());
    }
  }

  /**
   * Recovery
   * if some writer or reader process has failed. make sure no other =
reader or
   * writer threads exist. then recover by deleting write.lock, =
commit.lock and
   */
  public final void recover() throws IOException {
    try {
      //System.out.print("create() ...");
      // clear all reader
      Statement stmt =3D con.createStatement();
      stmt.executeUpdate("update " + fileTable + " set reader =3D 0");
      stmt.executeUpdate("delete from " + fileTable + " where filename =
like '%.lock'");
      stmt.executeUpdate("delete from " + bufferTable + " where filename =
like '%.lock'");
      stmt.close();
      con.commit();
      //System.out.println(" done");
    } catch (SQLException e) {
      try {
        con.rollback();
      } catch (SQLException se) {
        throw new IOException("rollback failed: " + se.getMessage());
      }
      throw new IOException(e.getMessage());
    }
  }

  /**
   * delete all files and buffers
   */
  private final void create() throws SQLException {
    try {
      //System.out.print("create() ...");
      // delete all existing files and buffers
      Statement stmt =3D con.createStatement();
      stmt.executeUpdate("delete from " + bufferTable);
      stmt.executeUpdate("delete from " + fileTable);
      stmt.close();
      con.commit();
      //System.out.println(" done");
    } catch (SQLException e) {
      try {
        con.rollback();
      } catch (SQLException se) {
        throw new SQLException("rollback failed: " + se.getMessage());
      }
      throw new SQLException(e.getMessage());
    }
  }

  /** Returns an array of strings, one for each file in the directory. =
*/
  public final String[] list() throws IOException {
    //System.out.print("list() ...");
    String[] result =3D null;
    try {
      ArrayList list =3D new ArrayList();
      Statement stmt =3D con.createStatement();
      ResultSet rs =3D stmt.executeQuery("select filename from " + =
fileTable);
      while (rs.next()) {
        list.add(rs.getString(1));
      }
      rs.close();
      stmt.close();
      result =3D (String[])list.toArray();
    } catch (SQLException e) {
      throw new IOException(e.getMessage());
    }
    //System.out.println(" done");
    return result;
  }

  /** Returns true iff the named file exists in this directory. */
  public final boolean fileExists(String name) throws IOException {
    //System.out.print("fileExists(" + name + ") ...");
    boolean result;
    try {
      Statement stmt =3D con.createStatement();
      ResultSet rs =3D stmt.executeQuery("select filename from "
          + fileTable + " where filename =3D '" + name + "'");
      result =3D rs.next();
      rs.close();
      stmt.close();
    } catch (SQLException e) {
      throw new IOException(e.getMessage());
    }
    //System.out.println(" done: " + result);
    return result;
  }

  /** Returns the time the named file was last modified. */
  public final long fileModified(String name) throws IOException {
    //System.out.print("fileModified(" + name + ") ...");
    long result;
    try {
      Statement stmt =3D con.createStatement();
      ResultSet rs =3D stmt.executeQuery("select modified from "
          + fileTable + " where filename =3D '" + name + "'");
      rs.next();
      result =3D rs.getLong(1);
      rs.close();
      stmt.close();
    } catch (SQLException e) {
      throw new IOException(e.getMessage());
    }
    //System.out.println(" done:  " + result);
    return result;
  }

  /** Returns the length in bytes of a file in the directory. */
  public final long fileLength(String name) throws IOException {
    //System.out.print("fileLength(" + name + ") ...");
    long result;
    try {
      Statement stmt =3D con.createStatement();
      ResultSet rs =3D stmt.executeQuery("select length from "
          + fileTable + " where filename =3D '" + name + "'");
      rs.next();
      result =3D rs.getLong(1);
      rs.close();
      stmt.close();
    } catch (SQLException e) {
      throw new IOException(e.getMessage());
    }
    //System.out.println(" done: " + result);
    return result;
  }

  /** Removes an existing file in the directory. */
  public final void deleteFile(String name) throws IOException {
    //System.out.print("deleteFile(" + name + ") ...");
    try {
      Statement stmt =3D con.createStatement();
      int deleted =3D stmt.executeUpdate("delete from " + fileTable + " =
where filename =3D '"
          + name + "'");
      if (deleted !=3D 0) {
        stmt.executeUpdate("delete from " + bufferTable + " where =
filename =3D '"
            + name + "'");
        stmt.close();
        con.commit();
      } else {
        stmt.close();
        throw new IOException("couldn't delete" + name);
      }
    } catch (SQLException e) {
      try {
        con.rollback();
      } catch (SQLException se) {
        throw new IOException("rollback failed: " + se.getMessage());
      }
      throw new IOException(e.getMessage());
    }
    //System.out.println(" done");
  }

  /** Removes an existing file in the directory. */
  public final void renameFile(String from, String to) throws =
IOException {
    //System.out.print("renameFile(" + from + ", " + to + ") ...");
    try {
      Statement stmt =3D con.createStatement();
      stmt.executeUpdate("delete from " + fileTable + " where filename =
=3D '"
          + to + "'");
      stmt.executeUpdate("delete from " + bufferTable + " where filename =
=3D '"
          + to + "'");
      stmt.executeUpdate("update " + fileTable + " set filename =3D '"
          + to + "' where filename =3D '"
          + from + "'");
      stmt.executeUpdate("update " + bufferTable + " set filename =3D '"
          + to + "' where filename =3D '"
          + from + "'");
      stmt.close();
      con.commit();
    } catch (SQLException e) {
      try {
        con.rollback();
      } catch (SQLException se) {
        throw new IOException("rollback failed: " + se.getMessage());
      }
      throw new IOException(e.getMessage());
    }
    //System.out.println(" done");
  }

  /** Creates a new, empty file in the directory with the given name.
      Returns a stream writing this file. */
  public final OutputStream createFile(String name) throws IOException {
    //System.out.print("createFile(" + name + ") ...");
    try {
      Statement stmt =3D con.createStatement();
      stmt.executeUpdate("insert into "
          + fileTable + " (filename, modified, length, reader) values =
('"
          + name + "', " + System.currentTimeMillis() + ", 0, 0)");
      stmt.close();
      con.commit();
    } catch (SQLException e) {
      try {
        con.rollback();
      } catch (SQLException se) {
        throw new IOException("rollback failed: " + se.getMessage());
      }
      throw new IOException(e.getMessage());
    }
    //System.out.println(" done");
    return new SQLOutputStream(con, fileTable, bufferTable, name);
  }

  /** Returns a stream reading an existing file. */
  public final InputStream openFile(String name) throws IOException {
    //System.out.println("openFile(" + name + ")");
    return new SQLInputStream(con, fileTable, bufferTable, name, =
fileLength(name), cacheSize);
  }

  /** Construct a {@link Lock}.
   * @paSql name the name of the lock file
   */
  public final Lock makeLock(final String name) {
    return new Lock() {
	public boolean obtain() throws IOException {
          boolean result =3D true;
          //System.out.print("lock.obtain(" + name + ") ...");
          try {
            Statement stmt =3D con.createStatement();
            stmt.executeUpdate("insert into "
                + fileTable + " (filename, modified, length, reader) =
values ('"
                + name + "', " + System.currentTimeMillis() + ", 0, =
0)");
            stmt.close();
            con.commit();
          } catch (SQLException e) {
            try {
              con.rollback();
            } catch (Exception se) {
              throw new IOException("rollback failed: " + =
se.getMessage());
            }
            result =3D false;
          }
          //System.out.println(" done: " + result);
          return result;
	}
	public void release() {
          //System.out.print("lock.release(" + name + ") ...");
	  try {
            Statement stmt =3D con.createStatement();
            stmt.executeUpdate("delete from " + fileTable + " where =
filename =3D '"
                + name + "'");
            stmt.close();
            con.commit();
          } catch (SQLException e) {
            try {
              con.rollback();
            } catch (SQLException se) {
              throw new IllegalStateException("rollback failed: " + =
se.getMessage());
            }
            throw new IllegalStateException(e.getMessage());
          }
          //System.out.println(" done");
	}
      };
  }

  /** Closes the store to future operations. */
  public final void close() {
    //System.out.println("close()");
    try {
      if (con !=3D null && !!con.isClosed()) {
        con.close();
      }
    } catch (Exception e) {
      throw new IllegalStateException(e.getMessage());
    }
  }
}

/**
 * SqlInputStream to read virtual files
 * note: cloneable interface!
 */
final class SQLInputStream extends InputStream implements Cloneable {

  private static final int SQL_BUFFER_SIZE =3D 1024;

  private final Connection con;
  private final String fileTable;
  private final String bufferTable;
  private final String filename;

  private final SQLCache cache;
  private final StringBuffer sqlQuery;
  private long pointer;

  /**
   * SqlInputStream constructor
   * make sure a cloned instance is well behaving by implementing the =
clone()
   * method
   */
  public SQLInputStream(Connection con, String fileTable, String =
bufferTable, String filename, long length, int cacheSize) {
    // assign parameter
    this.con =3D con;
    this.fileTable =3D fileTable;
    this.bufferTable =3D bufferTable;
    this.filename =3D filename;
    this.length =3D length;
    // initialization
    cache =3D new SQLCache(cacheSize);
    sqlQuery =3D new StringBuffer("select buffer from ");
    sqlQuery.append(bufferTable);
    sqlQuery.append(" where filename =3D '");
    sqlQuery.append(filename);
    sqlQuery.append("' and buffernumber =3D ?");
    pointer =3D 0;
    updateReader('+');
    //System.out.println("SqlInputStream(" + filename + ")");
  }

  /**
   * make sure, each clone reading increases the reader counter
   */
  public Object clone() {
    //System.out.println("SqlInputStream.clone(" + filename + ")");
    updateReader('+');
    return super.clone();
  }

  /**
   * InputStream methods
   **/
  public final void readInternal(byte[] dest, int destOffset, int len) {
    //System.out.print("SqlInputStream.readInternal(" + filename + ") =
...");
    try {

      PreparedStatement pstmtSelect =3D =
con.prepareStatement(sqlQuery.toString());

      ResultSet rs =3D null;
      byte[] buffer =3D null;

      int remainder =3D len;
      long start =3D pointer;

      while (remainder !=3D 0) {
        long bufferNumber =3D start/SQL_BUFFER_SIZE;
        Long bufferNr =3D new Long(bufferNumber);
        int bufferOffset =3D (int)(start%SQL_BUFFER_SIZE);
        int bytesInBuffer =3D SQL_BUFFER_SIZE - bufferOffset;
        int bytesToCopy =3D bytesInBuffer >=3D remainder ? remainder : =
bytesInBuffer;
        if (!cache.containsKey(bufferNr)) {
          pstmtSelect.setLong(1, bufferNumber);
          rs =3D pstmtSelect.executeQuery();
          rs.next();
          buffer =3D rs.getBytes(1);
          rs.close();
          cache.put(bufferNr, buffer);
        } else {
          buffer =3D cache.get(bufferNr);
        }
        System.arraycopy(buffer, bufferOffset, dest, destOffset, =
bytesToCopy);
        destOffset +=3D bytesToCopy;
        start +=3D bytesToCopy;
        remainder -=3D bytesToCopy;
      }

      pointer +=3D len;
      pstmtSelect.close();

    } catch (Exception e) {
      throw new IllegalStateException(e.getMessage());
    }
    //System.out.println(" done");
  }

  /**
   * close call after
   */
  public final void close() {
    //System.out.print("InputStream.close(" + filename + ") ...");
    updateReader('-');
    //System.out.println(" done");
  }

  /**
   * random access: repositioning of pointer
   * @param pos
   */
  public final void seekInternal(long position) {
    pointer =3D position;
  }

  /**
   * helper method to modify the number of reader of a file
   * @param sign: '+' =3D=3D increment; '-' =3D=3D decrement
   */
  private final void updateReader(char sign) {
    try {
      Statement stmt =3D con.createStatement();
      stmt.executeUpdate("update "
          + fileTable + " set reader =3D reader " + sign + " 1 where =
filename =3D '"
          + filename + "'");
      stmt.close();
      con.commit();
    } catch (SQLException e) {
      try {
        con.rollback();
      } catch (SQLException se) {
        throw new IllegalStateException("rollback failed: " + =
se.getMessage());
      }
      throw new IllegalStateException(e.getMessage());
    }
  }
}

/**
 * @todo the 0th buffer seems to be overwritten from time to time by =
higher
 *       level api (4 bytes) -> (should be cached there?)
 * @todo move file status writing from flushBuffer() to close(). goal: =
do it
 *       only once. (transaction safety?)
 * @todo check batch processing. seems not to work with standard =
JDBC-ODBC bridge
 *       driver
 */
final class SQLOutputStream extends OutputStream {

  private static final int SQL_BUFFER_SIZE =3D 1024;

  private final Connection con;
  private final String fileTable;
  private final String bufferTable;
  private final String filename;

  private long length;
  private long pointer;
  private int bufferSize;
  private byte[] firstBuffer;

  private final PreparedStatement pstmtCreate;
  private final PreparedStatement pstmtSelect;
  private final PreparedStatement pstmtUpdate;
  private final PreparedStatement pstmtInsert;

  public SQLOutputStream(Connection con, String fileTable, String =
bufferTable, String filename) {
    // assign parameter
    this.con =3D con;
    this.fileTable =3D fileTable;
    this.bufferTable =3D bufferTable;
    this.filename =3D filename;
    // initialization
    pointer =3D 0;
    bufferSize =3D 0;
    length =3D 0;
    try {
      pstmtCreate =3D con.prepareStatement("update " + fileTable
          + " set modified =3D ?, length =3D ? where filename =3D '"
          + filename + "'");
      pstmtSelect =3D con.prepareStatement("select buffer from "
            + bufferTable + " where filename =3D '"
            + filename + "' and buffernumber =3D ?");
      pstmtUpdate =3D con.prepareStatement("update "
            + bufferTable + " set buffer =3D ? where filename =3D '"
            + filename + "' and buffernumber =3D ?");
      pstmtInsert =3D con.prepareStatement("insert into "
            + bufferTable + " (filename, buffernumber, buffer) values ("
            + "?, ?, ?)");
    } catch (SQLException e) {
      throw new IllegalStateException(e.getMessage());
    }
    //System.out.println("SqlOutputStream(" + filename + ")");
  }

  /** output methods: */
  public final void flushBuffer(byte[] src, int len) {
    //System.out.print("SqlOutputStream.flushBuffer(" + filename + ") =
...");
    try {

      long bufferNumber =3D pointer/SQL_BUFFER_SIZE;
      int bufferOffset =3D (int)pointer%SQL_BUFFER_SIZE;
      int bytesInBuffer =3D SQL_BUFFER_SIZE - bufferOffset;
      int bytesToCopy =3D bytesInBuffer >=3D len ? len : bytesInBuffer;

      byte[] buffer;

      // append new buffer if required
      if (bufferNumber =3D=3D bufferSize) {
        // create new buffer
        buffer =3D new byte[SQL_BUFFER_SIZE];
        // modify buffer
        System.arraycopy(src, 0, buffer, bufferOffset, bytesToCopy);
        if (bufferNumber =3D=3D 0) {
          firstBuffer =3D buffer;
        }
        // create modified buffer
        pstmtInsert.setString(1, filename);
        pstmtInsert.setLong(2, bufferNumber);
        pstmtInsert.setBytes(3, buffer);
        pstmtInsert.executeUpdate();
        bufferSize++;
      } else {
        // read buffer
        if (bufferNumber !=3D 0) {
          pstmtSelect.setLong(1, bufferNumber);
          ResultSet rs =3D pstmtSelect.executeQuery();
          rs.next();
          buffer =3D rs.getBytes(1);
          rs.close();
        } else {
          buffer =3D firstBuffer;
        }
        // modify buffer
        System.arraycopy(src, 0, buffer, bufferOffset, bytesToCopy);
        // write buffer back
        pstmtUpdate.setBytes(1, buffer);
        pstmtUpdate.setLong(2, bufferNumber);
        pstmtUpdate.executeUpdate();
      }
      // adapt file information
      pointer +=3D len;
      length +=3D len;
      // write file information
      pstmtCreate.setLong(1, System.currentTimeMillis());
      pstmtCreate.setLong(2, length);
      pstmtCreate.executeUpdate();
      con.commit();
    } catch (Exception e) {
      try {
        con.rollback();
      } catch (SQLException se) {
        throw new IllegalStateException("rollback failed: " + =
se.getMessage());
      }
      throw new IllegalStateException(e.getMessage());
    }
    //System.out.println(" done");
  }

  /**
   * be inconsistance? but performs much better!
   */
  public final void close() throws IOException {
    super.close();
    //System.out.println("SqlOutputStream.close(" + filename + ")");
   try {
      pstmtCreate.close();
      pstmtSelect.close();
      pstmtUpdate.close();
      pstmtInsert.close();
    } catch (SQLException se) {
      throw new IllegalStateException(se.getMessage());
    }
  }

  /** Random-access methods */
  public final void seek(long pos) throws IOException {
    super.seek(pos);
    pointer =3D pos;
  }
  public final long length() throws IOException {
    //System.out.println("SqlOutputStream.length(" + filename + ")");
    return length;
  }
}

/**
 * SQLCache
 * ringbuffer with constant access time (oldest element overwritten =
first)
 * maximal size (buffer)
 * 0th element never overwritten if set (mostly accessed)
 * minimum size is 2
 */
final class SQLCache extends Hashtable {

  private final Long[] ringbuffer;
  private final int size;

  private int position;

  public SQLCache(int size) {
    super(size);
    ringbuffer =3D new Long[size];
    this.size =3D size;
    position =3D 0;
  }

  public void put(Long bufferNumber, byte[] buffer) {
    // delete existing (must be garbage collected!)
    if (ringbuffer[position] !=3D null) {
      remove(ringbuffer[position]);
    }
    // insert new
    ringbuffer[position] =3D bufferNumber;
    super.put(bufferNumber, buffer);
    // rotate position
    position++;
    if (position =3D=3D size) {
      position=3D1;
    }
  }

  public byte[] get(Long bufferNumber) {
    return (byte[])super.get(bufferNumber);
  }
}
------=_NextPart_000_002C_01C17B51.D726DBA0
Content-Type: application/octet-stream;
	name="create_lucene.sql"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
	filename="create_lucene.sql"

create table LUCENE_FILE (
	filename varchar2(256),
	modified integer,
	length integer,
	reader integer,
	constraint LUCENE_FILE_PK primary key (filename)
	using index
		storage (
			initial           1M
			next              1M
			minextents         1
			maxextents unlimited
			pctincrease        0))
	storage (
		initial           1M
		next              1M
		minextents         1
		maxextents unlimited
		pctincrease        0);
		
create table LUCENE_BUFFER (
	filename varchar2(256),
	buffernumber integer,
	buffer raw(1024))
	storage (
		initial          10M
		next             10M
		minextents         1
		maxextents unlimited
		pctincrease        0);
		
create index LUCENE_INDEX on LUCENE_BUFFER(filename, buffernumber)
	storage (
		initial           1M
		next              1M
		minextents         1
		maxextents unlimited
		pctincrease        0);
------=_NextPart_000_002C_01C17B51.D726DBA0
Content-Type: application/octet-stream;
	name="drop_lucene.sql"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
	filename="drop_lucene.sql"

drop index LUCENE_INDEX;

drop table LUCENE_BUFFER;
drop table LUCENE_FILE;


------=_NextPart_000_002C_01C17B51.D726DBA0
Content-Type: text/plain; charset=us-ascii

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>
------=_NextPart_000_002C_01C17B51.D726DBA0--



From lucene-user-return-510-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 03 10:35:39 2001
Return-Path: <lucene-user-return-510-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 52450 invoked from network); 3 Dec 2001 10:35:39 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 3 Dec 2001 10:35:39 -0000
Received: (qmail 4758 invoked by uid 97); 3 Dec 2001 10:35:51 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 4742 invoked by uid 97); 3 Dec 2001 10:35:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4727 invoked from network); 3 Dec 2001 10:35:49 -0000
Message-Id: <5.1.0.14.1.20011203103256.00b0ca20@captain-flack.granta.internal>
X-Sender: paddy@captain-flack.granta.internal
X-Mailer: QUALCOMM Windows Eudora Version 5.1
Date: Mon, 03 Dec 2001 10:35:34 +0000
To: lucene-user@jakarta.apache.org
From: Paddy Clark <Paddy.Clark@grantadesign.com>
Subject: Fwd: Near without slop
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

This message didn't get a response on lucene-dev so I thought I would give 
it a try here .....

>OK I'm struggling .. how would I implement a NEAR operator, without using 
>phrases ?
>
>My current "NEAR" solution is to modify the query parser to build a 
>PhraseQuery from the terms surrounding NEAR and set the slop 
>correctly.  This works for this kind of query:
>
>Bob NEAR Jim
>
>The problem comes when I try
>
>microsoft NEAR app*
>
>to get microsoft near application, apple etc.
>
>app* is not a term so you cannot add it to a PhraseQuery.  The problem 
>also occurs with
>
>microsoft NEAR "Bill Gates"
>linux NEAR (unix AND bsd)
>
>and other combinations...
>
>Any pointers as to how to tackle this problem ?
>
>Thanks,
>
>P.
>--
>Patrick Clark
>Granta Design Limted


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-511-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 03 12:10:24 2001
Return-Path: <lucene-user-return-511-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 98456 invoked from network); 3 Dec 2001 12:10:23 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 3 Dec 2001 12:10:23 -0000
Received: (qmail 25615 invoked by uid 97); 3 Dec 2001 12:10:23 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 25599 invoked by uid 97); 3 Dec 2001 12:10:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25552 invoked from network); 3 Dec 2001 12:10:22 -0000
From: =?iso-8859-1?Q?Bizu_de_An=FAncio?= <atendimento@bizudeanuncio.com>
To: <lucene-user@jakarta.apache.org>
Subject: Filter and stop-words
Date: Mon, 3 Dec 2001 10:21:35 -0200
Message-ID: <MABBJIIKNJENHNLGGGEFAEALCBAA.atendimento@bizudeanuncio.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2314.1300
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

	I'm new to Lucene. First of all I would like to know if there is a search
arquive like "sun servlets list".

	My first problem is that I want to index a Portuguese database and I need
to remove the "s" (plural) and acents (à é ...) from the words. Is there a
way of passing a filter class to the Lucene indexer ? And about the
stop-words, where should I configure Lucene to ignore it ?

	Any help would be appreciated,

	thanks a lot,

		jk


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-512-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 03 12:22:34 2001
Return-Path: <lucene-user-return-512-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 1765 invoked from network); 3 Dec 2001 12:22:34 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 3 Dec 2001 12:22:34 -0000
Received: (qmail 1110 invoked by uid 97); 3 Dec 2001 12:22:34 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 1071 invoked by uid 97); 3 Dec 2001 12:22:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1060 invoked from network); 3 Dec 2001 12:22:33 -0000
Reply-To: <karl@gan.no>
From: =?iso-8859-1?Q?Karl_=D8ie?= <karl@gan.no>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Filter and stop-words
Date: Mon, 3 Dec 2001 13:23:14 +0100
Message-ID: <MIEMIGIOHNPEKDBMNDPCCEFGCAAA.karl@gan.no>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
In-Reply-To: <MABBJIIKNJENHNLGGGEFAEALCBAA.atendimento@bizudeanuncio.com>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

to remove plural form you have to create a stemmer for your language, i have
been working with porting a stemmer for norwegian for lucene, to get a head
start i have ported the norwegian snowball stemmer, there is one for
portuguese as well, check it out!

http://snowball.sourceforge.net/portuguese/stemmer.html

mvh karl øie


-----Original Message-----
From: Bizu de Anúncio [mailto:atendimento@bizudeanuncio.com]
Sent: 3. desember 2001 13:22
To: lucene-user@jakarta.apache.org
Subject: Filter and stop-words


	I'm new to Lucene. First of all I would like to know if there is a search
arquive like "sun servlets list".

	My first problem is that I want to index a Portuguese database and I need
to remove the "s" (plural) and acents (à é ...) from the words. Is there a
way of passing a filter class to the Lucene indexer ? And about the
stop-words, where should I configure Lucene to ignore it ?

	Any help would be appreciated,

	thanks a lot,

		jk


--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-513-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 03 12:33:42 2001
Return-Path: <lucene-user-return-513-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 4647 invoked from network); 3 Dec 2001 12:33:41 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 3 Dec 2001 12:33:41 -0000
Received: (qmail 5459 invoked by uid 97); 3 Dec 2001 12:33:18 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 5254 invoked by uid 97); 3 Dec 2001 12:33:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5198 invoked from network); 3 Dec 2001 12:33:13 -0000
Message-ID: <EFBAE6A5813BD41192870000F83118688C3122@hceh70.post.ch>
From: "Ruffieux Stephane, yellowworld extern" <ruffieuxs@yellowworld.ch>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: WG: Filter and stop-words
Date: Mon, 3 Dec 2001 13:33:04 +0100 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Yes, it is a way. You have to implement
org.apache.lucene.analysis.TokenFilter and to implement the next() =
method
with the algorithm for Portugese. After that you can create a
PortugeseAnalyser (inherits from Analyser) which use it.=20

In the actual version of Lucene it's an implementation for german. It =
can
perhaps help you.=20

The following link gives algorithms for some european langages:
http://snowball.sourceforge.net/texts/stemmersoverview.html
<http://snowball.sourceforge.net/texts/stemmersoverview.html>=20

Best regards.

St=E9phane

PS: I work on the same problem, but for french and italian. Had =
somebody
still programming stemmer for this languages?

-----Urspr=FCngliche Nachricht-----
Von:	Bizu de An=FAncio [SMTP:atendimento@bizudeanuncio.com]
<mailto:[SMTP:atendimento@bizudeanuncio.com]>=20
Gesendet am:	Montag, 3. Dezember 2001 13:22
An:	lucene-user@jakarta.apache.org
<mailto:lucene-user@jakarta.apache.org>=20
Betreff:	Filter and stop-words

	I'm new to Lucene. First of all I would like to know if there is a
search
arquive like "sun servlets list".

	My first problem is that I want to index a Portuguese database and I
need
to remove the "s" (plural) and acents (=E0 =E9 ...) from the words. Is =
there a
way of passing a filter class to the Lucene indexer ? And about the
stop-words, where should I configure Lucene to ignore it ?

	Any help would be appreciated,

	thanks a lot,

		jk


--
To unsubscribe, e-mail:   =
<mailto:lucene-user-unsubscribe@jakarta.apache.org
<mailto:lucene-user-unsubscribe@jakarta.apache.org> >
For additional commands, e-mail: =
<mailto:lucene-user-help@jakarta.apache.org
<mailto:lucene-user-help@jakarta.apache.org> >

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-514-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 03 15:13:39 2001
Return-Path: <lucene-user-return-514-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 91966 invoked from network); 3 Dec 2001 15:13:39 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 3 Dec 2001 15:13:39 -0000
Received: (qmail 22584 invoked by uid 97); 3 Dec 2001 15:13:41 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 22568 invoked by uid 97); 3 Dec 2001 15:13:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22557 invoked from network); 3 Dec 2001 15:13:39 -0000
From: "Parag Dharmadhikari" <parag@bsil.com>
To: "lucene-user" <lucene-user@jakarta.apache.org>
Subject: Killing the ongoing indexing
Date: Mon, 3 Dec 2001 20:44:53 +0530
Message-ID: <NDBBIPCAFOAAMEDODMEDCEKBKEAA.parag@bsil.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6600
Importance: Normal
X-AntiVirus: scanned for viruses by AMaViS 0.2.1 (http://amavis.org/)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi all,

If i want to stop the indexing for current ongoing searching operation then
how should i proceed?

thanx in advance

regards
parag


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-515-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 03 15:54:31 2001
Return-Path: <lucene-user-return-515-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 22886 invoked from network); 3 Dec 2001 15:54:31 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 3 Dec 2001 15:54:31 -0000
Received: (qmail 15071 invoked by uid 97); 3 Dec 2001 15:54:32 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 15031 invoked by uid 97); 3 Dec 2001 15:54:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15007 invoked from network); 3 Dec 2001 15:54:30 -0000
Message-ID: <20011203155430.22159.qmail@web12708.mail.yahoo.com>
Date: Mon, 3 Dec 2001 07:54:30 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Word/RTF documents -> XML -> Lucene Document
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Some people asked about something like this.
This can convert Word/RTF files to XML and from there you can use the
code that converts that XML to Lucene Documents that was posted the
other day.

http://www.tetrasix.com/

Otis


__________________________________________________
Do You Yahoo!?
Buy the perfect holiday gifts at Yahoo! Shopping.
http://shopping.yahoo.com

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-516-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 03 16:32:56 2001
Return-Path: <lucene-user-return-516-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 49423 invoked from network); 3 Dec 2001 16:32:56 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 3 Dec 2001 16:32:56 -0000
Received: (qmail 4396 invoked by uid 97); 3 Dec 2001 16:32:55 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 4370 invoked by uid 97); 3 Dec 2001 16:32:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4358 invoked from network); 3 Dec 2001 16:32:53 -0000
Message-ID: <4BC270C6AB8AD411AD0B00B0D0493DF0D78A5E@mail.grandcentral.com>
From: Doug Cutting <DCutting@grandcentral.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: RE: number of terms vs. number of fields
Date: Mon, 3 Dec 2001 08:19:59 -0800 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Lucene counts the same string in different fields as a different term.  In
other words, a term is composed of a field and a string.

Doug

> -----Original Message-----
> From: Joshua O'Madadhain [mailto:jmadden@ics.uci.edu]
> Sent: Saturday, December 01, 2001 6:55 PM
> To: lucene-user@jakarta.apache.org
> Subject: number of terms vs. number of fields
> 
> 
> I have been experimenting with indexing a document set with 
> different sets
> of fields.  Specifically, I start out with a "contents" field that
> is a concatenation of all the elements of the original 
> document in which
> I'm interested.  This gets me an index with about 7500 unique 
> terms (which
> I determine by opening up an IndexReader, extracting the terms in the
> index, and counting them).  Then I've been adding each of the separate
> elements (title, major subject, minor subject, 
> abstract/extract), one at a
> time, to the index (by recreating the index).  
> 
> Because "contents" is the concatenation of the other fields ("title",
> "major", "minor", "abstract"/"extract"), I would expect that 
> the number of
> unique terms in the index would not change if I added the other fields
> into the index; each term should just have twice the frequency
> as if I only used the "contents" field.  However, this is not what's
> happening; in fact, if I add all the other fields in, the 
> total number of
> unique terms is 22000+.
> 
> I have verified that "contents" contains everything that the 
> other fields
> do, so I am quite puzzled by this.  Any idea what's going on here, and
> why?
> 
> For anyone who might be interested in checking this out, my 
> code is below.
> 
> Regards,
> 
> Joshua
> 
> 
> // FileCFDocument.java (a modified version of FileDocument.java in the
> // source examples)
> import java.io.File;
> import java.io.FileInputStream;
> import java.util.Vector;
> 
> import org.apache.lucene.document.Document;
> import org.apache.lucene.document.Field;
> 
> /** A utility for making Lucene Documents from a File. */
> 
> public class FileCFDocument
> {
>     public static Document[] makeDocuments(File f)
>         throws java.io.FileNotFoundException, java.io.IOException
>     {
>         // open file, read it into a byte array and thence a String
>         FileInputStream fis = new FileInputStream(f);
>         int n = fis.available();
>         byte[] data = new byte[n];
>         fis.read(data);
>         fis.close();
> 
>         String s = new String(data);
>         int ti, so, mj, mn, ab, ex, rf, abex;
> 
>         Vector vdocs = new Vector();
>         String contents;
> 
>         // fields being indexed:
>         // TI (title)
>         // MJ (major subject)
>         // MN (minor subject)
>         // AB/EX (abstract/extract)
> 
>         ti = s.indexOf("\nTI ");
>         while (ti != -1)
>         {
>             // make a new, empty document
>             Document doc = new Document();
> 
>             int k = s.indexOf("\nPN ");
>             doc.add(Field.UnIndexed("number", s.substring(k+4, k+9)));
> 
>             // DEBUG
>             System.out.println(s.substring(k, k+9));
> 
>             s = s.substring(ti+4);
> 
>             // DEBUG
>             System.out.println("s.length(): " + s.length());
> 
>             so = s.indexOf("\nSO ");
>             mj = s.indexOf("\nMJ ");
>             mn = s.indexOf("\nMN ");
>             ab = s.indexOf("\nAB ");
>             ex = s.indexOf("\nEX ");
>             rf = s.indexOf("\nRF ");
> 
> //            System.out.println("so: " + so + ", mj: " + mj 
> + ", mn: " 
> //		+ mn +
> //                ", ab: " + ab + ", ex: " + ex + ", rf: " + rf);
> 
>             String title = s.substring(0, so);
>             doc.add(Field.Text("title", title));
>             contents = title;
> 
>             if (mj != -1 && mj < mn) // not all documents have major
> subject
>             {
>                 String major = s.substring(mj+4, mn);
> //                doc.add(Field.Text("major", major));
>                 contents = contents + " " + major;
>             }
> 
>             if (ab != -1 && ab < rf) // if this document has 
> an abstract
>             {
>                 abex = ab;
>                 String abs = s.substring(ab+4, rf);
> //                doc.add(Field.Text("abstract", abs));
>                 contents = contents + " " + abs;
>             }
>             else // it has an extract instead
>             {
>                 abex = ex;
>                 String extract = s.substring(ex+4, rf);
> //                doc.add(Field.Text("extract", extract));
>                 contents = contents + " " + extract;
>             }
> 
>             if (mn != -1 && mn < abex)
>             {
>                 String minor = s.substring(mn+4, abex);
> //                doc.add(Field.Text("minor", minor));
>                 contents = contents + " " + minor;
>             }
> 
>             // add a field that's the concatenation of the 
> others so that
>             // we can search on all fields simultaneously
>             doc.add(Field.Text("contents", contents));
> 
>             // DEBUG
> //            System.out.println(contents);
>             System.out.println(doc.toString());
> 
>             ti = s.indexOf("\nTI ");
>             vdocs.add(doc);
>         }
> 
>         Document[] docs = new Document[vdocs.size()];
>         vdocs.toArray(docs);
> 
>         return docs;
>   }
> 
>   private FileCFDocument() {}
> }
> 
> // IndexCFFiles.java (a modification of the IndexFiles.java example)
> import org.apache.lucene.analysis.StopAnalyzer;
> import org.apache.lucene.index.IndexWriter;
> import org.apache.lucene.document.Document;
> 
> import java.io.File;
> import java.util.Date;
> 
> // DEBUG
> import org.apache.lucene.index.IndexReader;
> import java.util.Vector;
> import org.apache.lucene.index.TermEnum;
> 
> class IndexCFFiles
> {
> 
>     public static void main(String[] args)
>     {
>         try
>         {
>             Date start = new Date();
> 
>             String indexID = "index";
>             if (args.length > 1)
>                 indexID = args[1];
>             IndexWriter writer = new IndexWriter(indexID, new
>                 ThoroughAnalyzer(), true);
>             writer.mergeFactor = 20;
> 
>             indexDocs(writer, new File(args[0]));
> 
>             writer.optimize();
>             writer.close();
> 
>             Date end = new Date();
> 
>             System.out.print(end.getTime() - start.getTime());
>             System.out.println(" total milliseconds");
> 
>             // DEBUG
>             // open the specified index
>             IndexReader ir = IndexReader.open(indexID);
> 
>             // get an enumeration of the terms in the index
>             TermEnum te = ir.terms();
> 
>             // extract the terms from this enumeration
>             Vector v = new Vector();
>             while (te.next())
>             {
>                 char c = te.term().text().charAt(0);
>                 if (((c >= 65 && c <= 91) || (c >= 97 && c <= 123)))
>                     v.add(te.term());
>             }
> 
>             // place the terms in an array
>             int n = v.size();
> 
>             // DEBUG
>             System.out.println("Number of unique terms in index '" +
> 		indexID +
>                           "': " + n);
> 
>         }
>         catch (Exception e)
>         {
>             System.out.println(" caught a " + e.getClass() +
>                 "\n with message: " + e.getMessage());
>         }
>     }
> 
>     public static void indexDocs(IndexWriter writer, File file)
>        throws Exception
>     {
>         if (file.isDirectory())
>         {
>             String[] files = file.list();
>             for (int i = 0; i < files.length; i++)
>                 indexDocs(writer, new File(file, files[i]));
>         }
>         else
>         {
>             System.out.println("adding " + file);
>             Document[] docs = FileCFDocument.makeDocuments(file);
>             for (int i = 0; i < docs.length; i++)
>                 writer.addDocument(docs[i]);
>         }
>     }
> }
> 
> 
>  jmadden@ics.uci.edu...Obscurium Per 
> Obscurius...www.ics.uci.edu/~jmadden
>     Joshua Madden: Information Scientist, Musician, 
> Philosopher-At-Tall
>  It's that moment of dawning comprehension that I live 
> for--Bill Watterson
> My opinions are too rational and insightful to be those of 
> any organization.
> 
> 
> 
> --
> To unsubscribe, e-mail:   
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail: 
> <mailto:lucene-user-help@jakarta.apache.org>
> 

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-517-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 03 16:40:48 2001
Return-Path: <lucene-user-return-517-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 54614 invoked from network); 3 Dec 2001 16:40:48 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 3 Dec 2001 16:40:48 -0000
Received: (qmail 11844 invoked by uid 97); 3 Dec 2001 16:39:51 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 11703 invoked by uid 97); 3 Dec 2001 16:39:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11571 invoked from network); 3 Dec 2001 16:39:48 -0000
Date: Mon, 03 Dec 2001 08:31:49 -0800
From: Winton Davies <wdavies@overture.com>
Subject: Re: Killing the ongoing indexing
In-reply-to: <NDBBIPCAFOAAMEDODMEDCEKBKEAA.parag@bsil.com>
X-Sender: wintondavies@mail.earthlink.net
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <v04205501b8315850cddc@[192.168.1.100]>
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii; format=flowed
Content-transfer-encoding: 7BIT
References: <NDBBIPCAFOAAMEDODMEDCEKBKEAA.parag@bsil.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Parag,

  I don't think you can disrupt ongoing indexing -- so, if you can 
somehow collect the signal (^C ?) and then wait exit next time it 
asks for a record ?

  Winton

p.s. I found a neat trick along these lines for HitCollector 
implementation -- lets say you are happy with the first 50 records 
that are collected ? But there's no way to stop the HitCollector (and 
Scorer) from processing every remaining hit ? Wrong .... :) Try 
throwing an Exception (Try an array out of bounds or div/zero), and 
catch it around the Search(query, HC) call. The HitCOllector will 
have the answers you collected :)

  Ok, suboptimal in the sense that some overhead went into that catch, 
but until there is a way into that API, its all you can do :)  Yep, 
and I know that the answers coming back aren't sorted according to 
relevance, but if they meet external criteria (eg give me firsdt 50 
matchs > date 1 ), then this is perfectly respectable thing to do.

 

Winton Davies
Lead Engineer, Overture (NSDQ: OVER)
1820 Gateway Drive, Suite 360
San Mateo, CA 94404
work: (650) 403-2259
cell: (650) 867-1598
http://www.overture.com/

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-518-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 03 17:06:21 2001
Return-Path: <lucene-user-return-518-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 76626 invoked from network); 3 Dec 2001 17:06:21 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 3 Dec 2001 17:06:21 -0000
Received: (qmail 855 invoked by uid 97); 3 Dec 2001 17:06:17 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 819 invoked by uid 97); 3 Dec 2001 17:06:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 802 invoked from network); 3 Dec 2001 17:06:14 -0000
Message-ID: <003801c17c1c$c31d4b50$024a1390@trollw2kserver>
Reply-To: "Brian Brown" <brian.brown@wanadoo.fr>
From: "Brian Brown" <brian.brown@wanadoo.fr>
To: <lucene-user@jakarta.apache.org>
Subject: Fw: Filter and stop-words
Date: Mon, 3 Dec 2001 18:05:45 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I have just started work on a French stemmer for Lucene. My approach is
to use the German stemmer contributed by Gerhard Schwarz as a starting
point for the structure of the modules (thank you, Gerhard). I notice that
at
least one other person is working on a French stemmer (Stephane Ruffieux).
Should we consider collaboration?

Brian Brown
----- Original Message -----
From: "Ruffieux Stephane, yellowworld extern" <ruffieuxs@yellowworld.ch>
To: <lucene-user@jakarta.apache.org>
Sent: Monday, December 03, 2001 1:33 PM
Subject: WG: Filter and stop-words


Yes, it is a way. You have to implement
org.apache.lucene.analysis.TokenFilter and to implement the next() method
with the algorithm for Portugese. After that you can create a
PortugeseAnalyser (inherits from Analyser) which use it.

In the actual version of Lucene it's an implementation for german. It can
perhaps help you.

The following link gives algorithms for some european langages:
http://snowball.sourceforge.net/texts/stemmersoverview.html
<http://snowball.sourceforge.net/texts/stemmersoverview.html>

Best regards.

Stéphane

PS: I work on the same problem, but for french and italian. Had somebody
still programming stemmer for this languages?

-----Ursprüngliche Nachricht-----
Von: Bizu de Anúncio [SMTP:atendimento@bizudeanuncio.com]
<mailto:[SMTP:atendimento@bizudeanuncio.com]>
Gesendet am: Montag, 3. Dezember 2001 13:22
An: lucene-user@jakarta.apache.org
<mailto:lucene-user@jakarta.apache.org>
Betreff: Filter and stop-words

I'm new to Lucene. First of all I would like to know if there is a
search
arquive like "sun servlets list".

My first problem is that I want to index a Portuguese database and I
need
to remove the "s" (plural) and acents (à é ...) from the words. Is there a
way of passing a filter class to the Lucene indexer ? And about the
stop-words, where should I configure Lucene to ignore it ?

Any help would be appreciated,

thanks a lot,

jk


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org
<mailto:lucene-user-unsubscribe@jakarta.apache.org> >
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org
<mailto:lucene-user-help@jakarta.apache.org> >

--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-519-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 03 20:24:47 2001
Return-Path: <lucene-user-return-519-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 91263 invoked from network); 3 Dec 2001 20:24:47 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 3 Dec 2001 20:24:47 -0000
Received: (qmail 12177 invoked by uid 97); 3 Dec 2001 20:24:51 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 12161 invoked by uid 97); 3 Dec 2001 20:24:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12140 invoked from network); 3 Dec 2001 20:24:50 -0000
Message-ID: <20011203202449.34399.qmail@web11808.mail.yahoo.com>
Date: Mon, 3 Dec 2001 12:24:49 -0800 (PST)
From: srinivasa v <inrisrini2k@yahoo.com>
Subject: How to search words starts with ?,æ,Æ
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-383649107-1007411089=:33692"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--0-383649107-1007411089=:33692
Content-Type: text/plain; charset=us-ascii


hi all,

I'm using lucene package for my application, 
it is giving result for almost all sorts of Queries, 
but when I tried to search a word which starts with
containg special characters like " æ " and " Æ " it is
not giving result.

Acually internal representation of these characters 
contain some characters like ?+, I mean 
æ => ?+,

But actually lucene QueryParser class and Query classes
are replaceing ? with blanks. So if i give 

Code?Code 

for searching they are replacing it with

Code Code 

and Searcing for it. 

My question is 

How can I search these words which contain ? in their 
content like name?, get? etc., and also how can I search
the special characters whose internal representaion contains
? as their values.

Some mails of lucene tells that we have to modify QueryParser.jj
class file. How and what I have to modify to get the above said query results ?

Please help me it is Very Urgent !!!!

Thanks in advance

Srini




---------------------------------
Do You Yahoo!?
Buy the perfect holiday gifts at Yahoo! Shopping.
--0-383649107-1007411089=:33692--

From lucene-user-return-520-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 03 23:40:28 2001
Return-Path: <lucene-user-return-520-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 95458 invoked from network); 3 Dec 2001 23:40:28 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 3 Dec 2001 23:40:28 -0000
Received: (qmail 20544 invoked by uid 97); 3 Dec 2001 23:40:35 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 20505 invoked by uid 97); 3 Dec 2001 23:40:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20494 invoked from network); 3 Dec 2001 23:40:33 -0000
From: "Tom Barrett" <barrett_tom@yahoo.com>
To: <lucene-user@jakarta.apache.org>
Subject: prefix query with multiple words
Date: Mon, 3 Dec 2001 17:42:00 -0600
Message-ID: <NEBBKDCIELHCGJKLMMNJEECLCCAA.barrett_tom@yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hey all-

Wondering if it's possible to a prefix query, but with multiple words;
basically trying to get

+artist:"eric clap*"

to return documents with artists "eric clap", "eric clapton", "eric
claptonean", etc.

You can get close by parsing into multiple words first and prefixing the
last word (i.e. "Eric Clap" -> +artist:eric +artist:clap*), but this also
gives you results that have the phrase in the wrong order (i.e. returns
results with artist "clap eric")

Is there any way to do this right?

Thanks,

Tom


_________________________________________________________
Do You Yahoo!?
Get your free @yahoo.com address at http://mail.yahoo.com


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-521-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Dec 04 07:17:30 2001
Return-Path: <lucene-user-return-521-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 38008 invoked from network); 4 Dec 2001 07:17:30 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 4 Dec 2001 07:17:30 -0000
Received: (qmail 20994 invoked by uid 97); 4 Dec 2001 07:17:41 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 20930 invoked by uid 97); 4 Dec 2001 07:17:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20919 invoked from network); 4 Dec 2001 07:17:39 -0000
Message-ID: <2122.202.140.147.60.1007450256.squirrel@mail.interactive1.com>
Date: Tue, 4 Dec 2001 07:17:36 -0000 (GMT)
Subject: Wild-card search - *bas*
From: <sampreet@interactive1.com>
To: <lucene-user@jakarta.apache.org>
X-Mailer: InteractiveMail (version 1.2.0)
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-AntiVirus: scanned for viruses by AMaViS 0.2.1 (http://amavis.org/)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi All,

I am using lucene for search functionality in our project. I wanted to
implement the wild-card query such as '*bas*' which results in hits
containing 'database' and 'basic'. Can it be implemented using lucene. If
yes, how ? The org.apache.lucene.search package provides WildcardQuery and
FuzzyQuery classes. Do they have something to do with it. Or do i need to
write a separate Query class say, PartQuery and edit the QueryParser for
the same?

Kindly give your suggestions.

I have an urgent requirement, so an early reply will be highly appreciated.


Thanks in advance,

Sampreet.


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-522-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Dec 04 07:23:11 2001
Return-Path: <lucene-user-return-522-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 39502 invoked from network); 4 Dec 2001 07:23:11 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 4 Dec 2001 07:23:11 -0000
Received: (qmail 24496 invoked by uid 97); 4 Dec 2001 07:23:21 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 24480 invoked by uid 97); 4 Dec 2001 07:23:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24468 invoked from network); 4 Dec 2001 07:23:20 -0000
Message-ID: <EFBAE6A5813BD41192870000F83118688C3125@hceh70.post.ch>
From: "Ruffieux Stephane, yellowworld extern" <ruffieuxs@yellowworld.ch>
To: "Lucene-User (E-Mail)" <lucene-user@jakarta.apache.org>
Subject: WG: Filter and stop-words
Date: Tue, 4 Dec 2001 08:23:16 +0100 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I think that to start on the basis of the german stemmer is a good way. =


I'm sorry, Brian, but the priorities in our project were defined in the =
last
time and the search aspects aren't the first. So I can't help you a lot =
in
the following months.

Stephane Ruffieux

-----Urspr=FCngliche Nachricht-----
Von:	Brian Brown [SMTP:brian.brown@wanadoo.fr]
<mailto:[SMTP:brian.brown@wanadoo.fr]>=20
Gesendet am:	Montag, 3. Dezember 2001 18:06
An:	lucene-user@jakarta.apache.org
<mailto:lucene-user@jakarta.apache.org>=20
Betreff:	Fw: Filter and stop-words

I have just started work on a French stemmer for Lucene. My approach is
to use the German stemmer contributed by Gerhard Schwarz as a starting
point for the structure of the modules (thank you, Gerhard). I notice =
that
at
least one other person is working on a French stemmer (Stephane =
Ruffieux).
Should we consider collaboration?

Brian Brown
----- Original Message -----
From: "Ruffieux Stephane, yellowworld extern" <ruffieuxs@yellowworld.ch
<mailto:ruffieuxs@yellowworld.ch> >
To: <lucene-user@jakarta.apache.org =
<mailto:lucene-user@jakarta.apache.org>
>
Sent: Monday, December 03, 2001 1:33 PM
Subject: WG: Filter and stop-words


Yes, it is a way. You have to implement
org.apache.lucene.analysis.TokenFilter and to implement the next() =
method
with the algorithm for Portugese. After that you can create a
PortugeseAnalyser (inherits from Analyser) which use it.

In the actual version of Lucene it's an implementation for german. It =
can
perhaps help you.

The following link gives algorithms for some european langages:
http://snowball.sourceforge.net/texts/stemmersoverview.html
<http://snowball.sourceforge.net/texts/stemmersoverview.html>=20
<http://snowball.sourceforge.net/texts/stemmersoverview.html
<http://snowball.sourceforge.net/texts/stemmersoverview.html> >

Best regards.

St=E9phane

PS: I work on the same problem, but for french and italian. Had =
somebody
still programming stemmer for this languages?

-----Urspr=FCngliche Nachricht-----
Von: Bizu de An=FAncio [SMTP:atendimento@bizudeanuncio.com]
<mailto:[SMTP:atendimento@bizudeanuncio.com]>=20
<mailto:[SMTP:atendimento@bizudeanuncio.com]
<mailto:[SMTP:atendimento@bizudeanuncio.com]> >
Gesendet am: Montag, 3. Dezember 2001 13:22
An: lucene-user@jakarta.apache.org =
<mailto:lucene-user@jakarta.apache.org>=20
<mailto:lucene-user@jakarta.apache.org
<mailto:lucene-user@jakarta.apache.org> >
Betreff: Filter and stop-words

I'm new to Lucene. First of all I would like to know if there is a
search
arquive like "sun servlets list".

My first problem is that I want to index a Portuguese database and I
need
to remove the "s" (plural) and acents (=E0 =E9 ...) from the words. Is =
there a
way of passing a filter class to the Lucene indexer ? And about the
stop-words, where should I configure Lucene to ignore it ?

Any help would be appreciated,

thanks a lot,

jk


--
To unsubscribe, e-mail:   =
<mailto:lucene-user-unsubscribe@jakarta.apache.org
<mailto:lucene-user-unsubscribe@jakarta.apache.org
<mailto:lucene-user-unsubscribe@jakarta.apache.org> > >
For additional commands, e-mail: =
<mailto:lucene-user-help@jakarta.apache.org
<mailto:lucene-user-help@jakarta.apache.org
<mailto:lucene-user-help@jakarta.apache.org> > >

--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org
<mailto:lucene-user-unsubscribe@jakarta.apache.org> >
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org
<mailto:lucene-user-help@jakarta.apache.org> >



--
To unsubscribe, e-mail:   =
<mailto:lucene-user-unsubscribe@jakarta.apache.org
<mailto:lucene-user-unsubscribe@jakarta.apache.org> >
For additional commands, e-mail: =
<mailto:lucene-user-help@jakarta.apache.org
<mailto:lucene-user-help@jakarta.apache.org> >

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-523-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Dec 04 13:08:37 2001
Return-Path: <lucene-user-return-523-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 87087 invoked from network); 4 Dec 2001 13:08:37 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 4 Dec 2001 13:08:37 -0000
Received: (qmail 982 invoked by uid 97); 4 Dec 2001 13:08:36 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 941 invoked by uid 97); 4 Dec 2001 13:08:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 930 invoked from network); 4 Dec 2001 13:08:34 -0000
From: "Anders Nielsen" <anders@visator.dk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: prefix query with multiple words
Date: Tue, 4 Dec 2001 14:09:21 +0100
Message-ID: <NJEPIMGJMJELKKFFHINCGEKPCPAA.anders@visator.dk>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
In-reply-to: <NEBBKDCIELHCGJKLMMNJEECLCCAA.barrett_tom@yahoo.com>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I've made a "hack"-solution for this. It basically makes a BooleanQuery with
alot of OR-branches. Each OR option corresponds to a complete phrase, and
like in the code for PrefixQuery I take the last term in the phrase I want
to search for and make a TermEnumeration and find all the terms that has the
search-term as the prefix. For each of those I make a complete PhraseQuery.

A solution where it was possible to add an array of terms instead of a
single term, to a PhraseQuery would most likely perform alot better.


-------------------------------------

public
class PhrasePrefixQuery
{
    public static Query getQuery(IndexReader reader, Term[] terms)
    {
        Term prefixTerm = terms[terms.length-1];
        TermEnum enum = null;

        BooleanQuery result = new BooleanQuery();

        try {
            enum = reader.terms(prefixTerm);

            do {
                Term term = enum.term();
                if (term != null &&
term.text().startsWith(prefixTerm.text()) && term.field() ==
prefixTerm.field()) {
                    PhraseQuery pq = new PhraseQuery();
                    for (int i=0;i<terms.length;i++) {
                        if (i == terms.length-1)
                            pq.add(term);
                        else
                            pq.add(terms[i]);
                    }

                    result.add(pq, false, false);
                }
                else
                    break;
                }
            while (enum.next());
        }
        catch (IOException e) {
            e.printStackTrace();
        }
        finally {
            if (enum != null)
                try {
                    enum.close();
                }
                catch (IOException e) {
                    e.printStackTrace();
                }
        }

        return result;
    }
}

-----Original Message-----
From: Tom Barrett [mailto:barrett_tom@yahoo.com]
Sent: 4. december 2001 00:42
To: lucene-user@jakarta.apache.org
Subject: prefix query with multiple words


Hey all-

Wondering if it's possible to a prefix query, but with multiple words;
basically trying to get

+artist:"eric clap*"

to return documents with artists "eric clap", "eric clapton", "eric
claptonean", etc.

You can get close by parsing into multiple words first and prefixing the
last word (i.e. "Eric Clap" -> +artist:eric +artist:clap*), but this also
gives you results that have the phrase in the wrong order (i.e. returns
results with artist "clap eric")

Is there any way to do this right?

Thanks,

Tom

 _________________________________________________________ Do You Yahoo!?
Get your free @yahoo.com address at http://mail.yahoo.com
--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-524-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Dec 04 14:27:12 2001
Return-Path: <lucene-user-return-524-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 45378 invoked from network); 4 Dec 2001 14:27:12 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 4 Dec 2001 14:27:12 -0000
Received: (qmail 25728 invoked by uid 97); 4 Dec 2001 14:27:12 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 25705 invoked by uid 97); 4 Dec 2001 14:27:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25671 invoked from network); 4 Dec 2001 14:27:10 -0000
From: jean-christian.gagne@prasahewitt.ch
X-Authentication-Warning: l98upfw32.hewitt.com: noaccess set sender to <jean-christian.gagne@prasahewitt.ch> using -f
X-Lotus-FromDomain: HEWITT ASSOCIATES NA
To: lucene-user@jakarta.apache.org
Message-ID: <86256B18.004F3F5A.00@lintng1.hewitt.com>
Date: Tue, 4 Dec 2001 15:25:21 +0100
Subject: test - don't read
Mime-Version: 1.0
Content-type: text/plain; charset=us-ascii
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N



Just a test. I told you not to read it  :-)



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-525-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Dec 04 15:02:48 2001
Return-Path: <lucene-user-return-525-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 80054 invoked from network); 4 Dec 2001 15:02:47 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 4 Dec 2001 15:02:47 -0000
Received: (qmail 25386 invoked by uid 97); 4 Dec 2001 15:02:32 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 25342 invoked by uid 97); 4 Dec 2001 15:02:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25285 invoked from network); 4 Dec 2001 15:02:28 -0000
From: jean-christian.gagne@prasahewitt.ch
X-Authentication-Warning: l98upfw32.hewitt.com: noaccess set sender to <jean-christian.gagne@prasahewitt.ch> using -f
X-Lotus-FromDomain: HEWITT ASSOCIATES NA
To: lucene-user@jakarta.apache.org
Message-ID: <86256B18.00527A74.00@lintng1.hewitt.com>
Date: Tue, 4 Dec 2001 15:59:00 +0100
Subject: existing or not existing
Mime-Version: 1.0
Content-type: text/plain; charset=us-ascii
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N



Hi there,

I'm testing Lucene after reading a good article on it on JavaWorld.

Lucene seems quite simple and very powerful, but there's something I can't get.
The first time an application uses an index, this one doesn't exist yet, so the
boolean argument of the IndexWriter constructor must be true (creating a new
empty index). Next time the same app is started, I want to use the existing
index, the boolean argument must be false. Here is my question : how do I know
wether the index exists or not ??  Is there a way to create an IndexWriter on a
given index, creating it only if needed ?

It seems like a stupid question, I must have missed something...

Thanks


JCG



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-526-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Dec 04 15:23:49 2001
Return-Path: <lucene-user-return-526-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 97019 invoked from network); 4 Dec 2001 15:23:49 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 4 Dec 2001 15:23:49 -0000
Received: (qmail 10179 invoked by uid 97); 4 Dec 2001 15:23:49 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 10163 invoked by uid 97); 4 Dec 2001 15:23:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10151 invoked from network); 4 Dec 2001 15:23:48 -0000
Message-ID: <3C0CE97E.1066C87F@tropo.com>
Date: Tue, 04 Dec 2001 07:19:26 -0800
From: David Spencer <dave@tropo.com>
X-Mailer: Mozilla 4.7 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: existing or not existing
References: <86256B18.00527A74.00@lintng1.hewitt.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Rcpt-To: <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I think the 'create' flag really indicates whether it's ok
to *overwrite* the *possibly*existing* index.
Despite the tricky nuance it works great.

http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/IndexWriter.html#IndexWriter(org.apache.lucene.store.Directory,%20org.apache.lucene.analysis.Analyzer,%20boolean)

jean-christian.gagne@prasahewitt.ch wrote:

> Hi there,
>
> I'm testing Lucene after reading a good article on it on JavaWorld.
>
> Lucene seems quite simple and very powerful, but there's something I can't get.
> The first time an application uses an index, this one doesn't exist yet, so the
> boolean argument of the IndexWriter constructor must be true (creating a new
> empty index). Next time the same app is started, I want to use the existing
> index, the boolean argument must be false. Here is my question : how do I know
> wether the index exists or not ??  Is there a way to create an IndexWriter on a
> given index, creating it only if needed ?
>
> It seems like a stupid question, I must have missed something...
>
> Thanks
>
> JCG
>
> --
> To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>

--
http://www.tropo.com/



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-527-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Dec 04 16:18:13 2001
Return-Path: <lucene-user-return-527-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 45596 invoked from network); 4 Dec 2001 16:18:12 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 4 Dec 2001 16:18:12 -0000
Received: (qmail 11757 invoked by uid 97); 4 Dec 2001 16:18:13 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 11717 invoked by uid 97); 4 Dec 2001 16:18:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11706 invoked from network); 4 Dec 2001 16:18:11 -0000
From: jean-christian.gagne@prasahewitt.ch
X-Authentication-Warning: l98upfw32.hewitt.com: noaccess set sender to <jean-christian.gagne@prasahewitt.ch> using -f
X-Lotus-FromDomain: HEWITT ASSOCIATES NA
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Message-ID: <86256B18.005920B4.00@lintng1.hewitt.com>
Date: Tue, 4 Dec 2001 17:01:10 +0100
Subject: Re: existing or not existing
Mime-Version: 1.0
Content-type: text/plain; charset=us-ascii
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N



Thank you for your quick answer.

I agree that create=true indicates that it's ok to overwrite. But when
create=false and the index does not exists, I get a FileNotFoundException.

I expected something like java.io.FileOutputStream 'append' flag :
false = overwrite
true = If the file exists, use it. If not, create an empty one

The choice of the constructor does not depend on "Does that file exist ?"  but
rather on "Do I overwrite a possibly existing file ?".


JCG



|--------+------------------------------->
|        |          David Spencer        |
|        |          <dave@tropo.com>     |
|        |                               |
|        |          04.12.2001 16:19     |
|        |          Please respond to    |
|        |          "Lucene Users List"  |
|        |                               |
|--------+------------------------------->
  >-------------------------------------------------------------------------|
  |                                                                         |
  |      To:   Lucene Users List <lucene-user@jakarta.apache.org>           |
  |      cc:                                                                |
  |      Subject:   Re: existing or not existing                            |
  >-------------------------------------------------------------------------|





I think the 'create' flag really indicates whether it's ok
to *overwrite* the *possibly*existing* index.
Despite the tricky nuance it works great.





--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-528-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Dec 04 16:45:54 2001
Return-Path: <lucene-user-return-528-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 71181 invoked from network); 4 Dec 2001 16:45:54 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 4 Dec 2001 16:45:54 -0000
Received: (qmail 7018 invoked by uid 97); 4 Dec 2001 16:45:55 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 7002 invoked by uid 97); 4 Dec 2001 16:45:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6989 invoked from network); 4 Dec 2001 16:45:53 -0000
Message-ID: <20011204164553.25523.qmail@web12706.mail.yahoo.com>
Date: Tue, 4 Dec 2001 08:45:53 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: existing or not existing
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <86256B18.00527A74.00@lintng1.hewitt.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

You could try looking for a segments file in the index directory.
If it exists, the index exists, else it does not.

Is there a better way?

Otis

--- jean-christian.gagne@prasahewitt.ch wrote:
> 
> 
> Hi there,
> 
> I'm testing Lucene after reading a good article on it on JavaWorld.
> 
> Lucene seems quite simple and very powerful, but there's something I
> can't get.
> The first time an application uses an index, this one doesn't exist
> yet, so the
> boolean argument of the IndexWriter constructor must be true
> (creating a new
> empty index). Next time the same app is started, I want to use the
> existing
> index, the boolean argument must be false. Here is my question : how
> do I know
> wether the index exists or not ??  Is there a way to create an
> IndexWriter on a
> given index, creating it only if needed ?
> 
> It seems like a stupid question, I must have missed something...
> 
> Thanks
> 
> 
> JCG
> 
> 
> 
> --
> To unsubscribe, e-mail:  
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
> 


__________________________________________________
Do You Yahoo!?
Buy the perfect holiday gifts at Yahoo! Shopping.
http://shopping.yahoo.com

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-529-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Dec 04 16:59:03 2001
Return-Path: <lucene-user-return-529-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 85440 invoked from network); 4 Dec 2001 16:59:03 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 4 Dec 2001 16:59:03 -0000
Received: (qmail 16362 invoked by uid 97); 4 Dec 2001 16:58:35 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 16321 invoked by uid 97); 4 Dec 2001 16:58:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16273 invoked from network); 4 Dec 2001 16:58:34 -0000
Sender: tril@pluto.blackwell.co.uk
Message-ID: <3C0D00E3.9121D44E@blackwell.co.uk>
Date: Tue, 04 Dec 2001 16:59:15 +0000
From: Ian Lea <ian.lea@blackwell.co.uk>
X-Mailer: Mozilla 4.74 [en] (X11; U; Linux 2.2.16 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: existing or not existing
References: <20011204164553.25523.qmail@web12706.mail.yahoo.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Personally, I like to know when I'm creating an index
so tend to have different code paths, or even different
classes, for reading and writing indexes.  But how
about creating the IndexWriter with flag set to false
and catching the exception it will no doubt throw 
if the index doesn't exist, and reissuing the
call with the flag set to true?



--
Ian.
ian.lea@blackwell.co.uk


Otis Gospodnetic wrote:
> 
> You could try looking for a segments file in the index directory.
> If it exists, the index exists, else it does not.
> 
> Is there a better way?
> 
> Otis
> 
> --- jean-christian.gagne@prasahewitt.ch wrote:
> >
> >
> > Hi there,
> >
> > I'm testing Lucene after reading a good article on it on JavaWorld.
> >
> > Lucene seems quite simple and very powerful, but there's something I
> > can't get.
> > The first time an application uses an index, this one doesn't exist
> > yet, so the
> > boolean argument of the IndexWriter constructor must be true
> > (creating a new
> > empty index). Next time the same app is started, I want to use the
> > existing
> > index, the boolean argument must be false. Here is my question : how
> > do I know
> > wether the index exists or not ??  Is there a way to create an
> > IndexWriter on a
> > given index, creating it only if needed ?
> >
> > It seems like a stupid question, I must have missed something...
> >
> > Thanks

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-530-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Dec 04 17:13:04 2001
Return-Path: <lucene-user-return-530-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 2156 invoked from network); 4 Dec 2001 17:13:04 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 4 Dec 2001 17:13:04 -0000
Received: (qmail 4179 invoked by uid 97); 4 Dec 2001 17:13:06 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 4161 invoked by uid 97); 4 Dec 2001 17:13:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4150 invoked from network); 4 Dec 2001 17:13:05 -0000
Message-ID: <4BC270C6AB8AD411AD0B00B0D0493DF0D78A62@mail.grandcentral.com>
From: Doug Cutting <DCutting@grandcentral.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: RE: prefix query with multiple words
Date: Tue, 4 Dec 2001 09:00:08 -0800 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

In short, this is not currently supported, but might be someday.

For more details, see my recent response to a message with subject "RE: Near
without slop".

Doug

> -----Original Message-----
> From: Tom Barrett [mailto:barrett_tom@yahoo.com]
> Sent: Monday, December 03, 2001 3:42 PM
> To: lucene-user@jakarta.apache.org
> Subject: prefix query with multiple words
> 
> 
> Hey all-
> 
> Wondering if it's possible to a prefix query, but with multiple words;
> basically trying to get
> 
> +artist:"eric clap*"
> 
> to return documents with artists "eric clap", "eric clapton", "eric
> claptonean", etc.
> 
> You can get close by parsing into multiple words first and 
> prefixing the
> last word (i.e. "Eric Clap" -> +artist:eric +artist:clap*), 
> but this also
> gives you results that have the phrase in the wrong order 
> (i.e. returns
> results with artist "clap eric")
> 
> Is there any way to do this right?
> 
> Thanks,
> 
> Tom
> 
> 
> _________________________________________________________
> Do You Yahoo!?
> Get your free @yahoo.com address at http://mail.yahoo.com
> 
> 
> --
> To unsubscribe, e-mail:   
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-531-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Dec 04 17:13:06 2001
Return-Path: <lucene-user-return-531-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 2173 invoked from network); 4 Dec 2001 17:13:06 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 4 Dec 2001 17:13:06 -0000
Received: (qmail 4402 invoked by uid 97); 4 Dec 2001 17:13:08 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 4259 invoked by uid 97); 4 Dec 2001 17:13:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4163 invoked from network); 4 Dec 2001 17:13:05 -0000
Message-ID: <4BC270C6AB8AD411AD0B00B0D0493DF0D78A61@mail.grandcentral.com>
From: Doug Cutting <DCutting@grandcentral.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: RE: Near without slop
Date: Tue, 4 Dec 2001 09:00:08 -0800 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> From: Paddy Clark [mailto:Paddy.Clark@grantadesign.com]
> >
> >My current "NEAR" solution is to modify the query parser to build a 
> >PhraseQuery from the terms surrounding NEAR and set the slop 
> >correctly.  This works for this kind of query:
> >
> >Bob NEAR Jim
> >
> >The problem comes when I try
> >
> >microsoft NEAR app*

One can do this currently by automatically generating a phrase query for
each of the possible phrases, e.g. "microsoft application", "microsoft
apps", but this is not very efficient, as it would process the term
'microsoft' many times.

I have proposed improving support for this sort of thing by adding the
following method to PhraseQuery:
  public void add(Term[] terms)
This would match any of the named terms at this position in the phrase.  One
could combine this with wildcard term enumeration to generate the phrase
query that you desire.  This would be more efficient than the above
approach.  For example, if you added {"a","b"} and {"x","y"} to a
PhraseQuery then it would match any of "a x", "a y", "b x" and "b y", and
much more efficiently than a query containing these four phrase queries.  It
would only traverse the TermPositions for each term once, while the
four-phrase version would traverse each twice.

I don't know how soon I will get to implementing this though...

Doug

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-532-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Dec 04 20:45:31 2001
Return-Path: <lucene-user-return-532-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 59528 invoked from network); 4 Dec 2001 20:45:30 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 4 Dec 2001 20:45:30 -0000
Received: (qmail 6294 invoked by uid 97); 4 Dec 2001 20:45:32 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 6239 invoked by uid 97); 4 Dec 2001 20:45:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6018 invoked from network); 4 Dec 2001 20:45:29 -0000
X-MimeOLE: Produced By Microsoft Exchange V6.0.4417.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C17D04.98FA9AA4"
Subject: RE: existing or not existing
Date: Tue, 4 Dec 2001 21:45:24 +0100
Message-ID: <50EA669584662B498F13A5F24630A0C0DB133A@peach.mnet.private>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: existing or not existing
Thread-Index: AcF84yhA+mZDRXKpRPKNcY193VDEYgAH+4qA
From: =?iso-8859-2?Q?Hal=E1csy_P=E9ter?= <halacsy.peter@axelero.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C17D04.98FA9AA4
Content-Type: text/plain;
	charset="iso-8859-2"
Content-Transfer-Encoding: quoted-printable



> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> Sent: Tuesday, December 04, 2001 5:46 PM
> To: Lucene Users List
> Subject: Re: existing or not existing
>=20
>=20
> You could try looking for a segments file in the index directory.
> If it exists, the index exists, else it does not.
>=20
> Is there a better way?
>=20
jive forum uses this method


> Otis
peter

------_=_NextPart_001_01C17D04.98FA9AA4--

From lucene-user-return-533-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Dec 05 05:57:26 2001
Return-Path: <lucene-user-return-533-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 78860 invoked from network); 5 Dec 2001 05:57:26 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 5 Dec 2001 05:57:26 -0000
Received: (qmail 24616 invoked by uid 97); 5 Dec 2001 05:57:35 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 24554 invoked by uid 97); 5 Dec 2001 05:57:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24543 invoked from network); 5 Dec 2001 05:57:33 -0000
Sender: root@abingdon
Message-ID: <3C0DB803.D584572E@brit.ca>
Date: Wed, 05 Dec 2001 01:00:35 -0500
From: Trevor Boicey <tboicey@brit.ca>
X-Mailer: Mozilla 4.78 [en] (X11; U; Linux 2.4.14 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: existing or not existing
References: <20011204164553.25523.qmail@web12706.mail.yahoo.com> <3C0D00E3.9121D44E@blackwell.co.uk>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Ian Lea wrote:
> 
> Personally, I like to know when I'm creating an index
> so tend to have different code paths, or even different
> classes, for reading and writing indexes.  But how
> about creating the IndexWriter with flag set to false
> and catching the exception it will no doubt throw
> if the index doesn't exist, and reissuing the
> call with the flag set to true?

  This is what I do, but frankly it's a little scary.

  Basically, if your open fails for some other reason, it
blows away your index.

  In my application that's acceptable since my index is
pretty transient, but it's a bit iffy in a lot of situations.

  I think it would make sense to follow the "standard"
of, if that flag is true, to make the index if needed and
use it if it exists.

  The "false" flag could be used to trap exceptions if
the index doesn't exist, and allow the user to perform
other initializations.

  To simply clear the index completely should be another
mechanism that the user would call if they really wanted
to overwrite an index with a new one.

-- 
Trevor Boicey, P. Eng.
Ottawa, Canada, tboicey@brit.ca
ICQ #17432933 http://www.brit.ca/~tboicey/
"There will be no aggressive condiment passing in this house!" - Marge

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-534-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Dec 05 06:46:00 2001
Return-Path: <lucene-user-return-534-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 91130 invoked from network); 5 Dec 2001 06:46:00 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 5 Dec 2001 06:46:00 -0000
Received: (qmail 13291 invoked by uid 97); 5 Dec 2001 06:46:10 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 13247 invoked by uid 97); 5 Dec 2001 06:46:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13236 invoked from network); 5 Dec 2001 06:46:09 -0000
From: jean-christian.gagne@prasahewitt.ch
X-Authentication-Warning: l4dupfw42.hewitt.com: noaccess set sender to <jean-christian.gagne@prasahewitt.ch> using -f
X-Lotus-FromDomain: HEWITT ASSOCIATES NA
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Message-ID: <86256B19.00251AE5.00@lintng1.hewitt.com>
Date: Wed, 5 Dec 2001 07:45:11 +0100
Subject: Re: existing or not existing
Mime-Version: 1.0
Content-type: text/plain; charset=us-ascii
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N







>  This is what I do, but frankly it's a little scary.
>
>  Basically, if your open fails for some other reason, it
>blows away your index.
>
>
>  I think it would make sense to follow the "standard"
>of, if that flag is true, to make the index if needed and
>use it if it exists.
>
>  To simply clear the index completely should be another
>mechanism that the user would call if they really wanted
>to overwrite an index with a new one.


I agree with you.

To make sure that I don't overwrite an existing index just because the open
failed, I won't rely on the exception but rather
check for the presence of the segment file, as suggested in another reply.

JCG



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-535-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Dec 05 08:32:03 2001
Return-Path: <lucene-user-return-535-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 25298 invoked from network); 5 Dec 2001 08:32:03 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 5 Dec 2001 08:32:03 -0000
Received: (qmail 8480 invoked by uid 97); 5 Dec 2001 08:32:14 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 8464 invoked by uid 97); 5 Dec 2001 08:32:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8453 invoked from network); 5 Dec 2001 08:32:13 -0000
Mime-Version: 1.0
X-Sender: ykingma@pop.xs4all.nl
Message-Id: <a05010401b8338ccdee58@[194.109.166.98]>
In-Reply-To: <20011204164553.25523.qmail@web12706.mail.yahoo.com>
References: <20011204164553.25523.qmail@web12706.mail.yahoo.com>
Date: Wed, 5 Dec 2001 09:38:57 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Ype Kingma <ykingma@xs4all.nl>
Subject: Re: existing or not existing
Content-Type: text/plain; charset="us-ascii"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Otis,

>You could try looking for a segments file in the index directory.
>If it exists, the index exists, else it does not.
>
>Is there a better way?

Simply create an indexreader and catch the IOException to handle the non
existing case.

Ype.


>Otis
>
>--- jean-christian.gagne@prasahewitt.ch wrote:
>>
>>
>> Hi there,
>>
>> I'm testing Lucene after reading a good article on it on JavaWorld.
>>
>> Lucene seems quite simple and very powerful, but there's something I
>> can't get.
>> The first time an application uses an index, this one doesn't exist
>> yet, so the
>> boolean argument of the IndexWriter constructor must be true
>> (creating a new
>> empty index). Next time the same app is started, I want to use the
>> existing
>> index, the boolean argument must be false. Here is my question : how
>> do I know
>> wether the index exists or not ??  Is there a way to create an
>> IndexWriter on a
>> given index, creating it only if needed ?
>>
>> It seems like a stupid question, I must have missed something...
>>
>> Thanks
>>
>>
>> JCG
>>
>>
>>
>> --
>> To unsubscribe, e-mail: 
>> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
>> For additional commands, e-mail:
>> <mailto:lucene-user-help@jakarta.apache.org>
>>
>
>
>__________________________________________________
>Do You Yahoo!?
>Buy the perfect holiday gifts at Yahoo! Shopping.
>http://shopping.yahoo.com
>
>--
>To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
>For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-536-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Dec 05 12:29:36 2001
Return-Path: <lucene-user-return-536-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 26391 invoked from network); 5 Dec 2001 12:29:35 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 5 Dec 2001 12:29:35 -0000
Received: (qmail 16738 invoked by uid 97); 5 Dec 2001 12:29:34 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 16708 invoked by uid 97); 5 Dec 2001 12:29:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4287 invoked from network); 5 Dec 2001 08:20:55 -0000
Content-Type: text/plain;
  charset="iso-8859-1"
From: Chantal Ackermann <chantal.ackermann@biomax.de>
Reply-To: chantal.ackermann@biomax.de
To: lucene-user@jakarta.apache.org
Subject: FileNotFoundException
Date: Wed, 5 Dec 2001 09:22:04 +0100
X-Mailer: KMail [version 1.2]
MIME-Version: 1.0
Message-Id: <01120509220400.01036@guffert>
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

hello all,

I am still trying to find the best way to index a really big amount of data. 
at the moment I am trying to index each of the 29 textfiles in a single 
thread using for each an own IndexWriter and an own directory where to place 
the index. there are always six threads working the same time.

the problem that occures now is that every second thread stops due to a 
FileNotFoundException or an ArrayIndexOutOfBoundsException (the latter only 
once) while the other half finishes fine. the file's name is different for 
each thread but has always the extension ".fnm".

for example:
java.io.FileNotFoundException: 
/lucenetest/medlineIndex/1976-1977/_2zfj.fnm (Datei oder 
Verzeichnis nicht gefunden)
        at java.io.RandomAccessFile.open(Native Method)
        at java.io.RandomAccessFile.<init>(RandomAccessFile.java(Compiled 
Code))        at 
java.io.RandomAccessFile.<init>(RandomAccessFile.java(Compiled Code))        
at org.apache.lucene.store.FSInputStream.<init>(Unknown Source)
        at org.apache.lucene.store.FSInputStream.<init>(Unknown Source)
        at org.apache.lucene.store.FSDirectory.openFile(Unknown Source)
        at org.apache.lucene.index.FieldInfos.<init>(Unknown Source)
        at org.apache.lucene.index.SegmentReader.<init>(Unknown Source)
        at org.apache.lucene.index.IndexWriter.mergeSegments(Unknown Source)
        at org.apache.lucene.index.IndexWriter.maybeMergeSegments(Unknown 
Source)
        at org.apache.lucene.index.IndexWriter.maybeMergeSegments(Unknown 
Source)
        at org.apache.lucene.index.IndexWriter.addDocument(Unknown Source)
        at 
de.biomax.lucenetest.MedlineRecordIndexer.indexDocs(MedlineRecordIndexer.java(Compiled 
Code))

since half of the files are indexed without throwing that kind of exception 
I'm at a loss where to start debugging. any ideas?

thanks a lot
chantal

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-537-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Dec 05 12:38:42 2001
Return-Path: <lucene-user-return-537-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 31877 invoked from network); 5 Dec 2001 12:38:42 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 5 Dec 2001 12:38:41 -0000
Received: (qmail 19494 invoked by uid 97); 5 Dec 2001 12:38:40 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 19478 invoked by uid 97); 5 Dec 2001 12:38:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19467 invoked from network); 5 Dec 2001 12:38:39 -0000
Sender: tril@pluto.blackwell.co.uk
Message-ID: <3C0E154D.637B21CF@blackwell.co.uk>
Date: Wed, 05 Dec 2001 12:38:37 +0000
From: Ian Lea <ian.lea@blackwell.co.uk>
X-Mailer: Mozilla 4.73 [en] (X11; U; SunOS 5.6 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: FileNotFoundException
References: <01120509220400.01036@guffert>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I don't have an explanation for this, but if it was me indexing
this large amount of data I'd be running each of the 6 in a
completely separate process.  More control, less damage when
one bit fails, perhaps better performance on a multi-processor
machine.  And perhaps you wouldn't get this problem!


--
Ian.
ian.lea@blackwell.co.uk


Chantal Ackermann wrote:
> 
> hello all,
> 
> I am still trying to find the best way to index a really big amount of data.
> at the moment I am trying to index each of the 29 textfiles in a single
> thread using for each an own IndexWriter and an own directory where to place
> the index. there are always six threads working the same time.
> 
> the problem that occures now is that every second thread stops due to a
> FileNotFoundException or an ArrayIndexOutOfBoundsException (the latter only
> once) while the other half finishes fine. the file's name is different for
> each thread but has always the extension ".fnm".
> 
> for example:
> java.io.FileNotFoundException:
> /lucenetest/medlineIndex/1976-1977/_2zfj.fnm (Datei oder
> Verzeichnis nicht gefunden)
>         at java.io.RandomAccessFile.open(Native Method)
>         at java.io.RandomAccessFile.<init>(RandomAccessFile.java(Compiled
> Code))        at
> java.io.RandomAccessFile.<init>(RandomAccessFile.java(Compiled Code))
> at org.apache.lucene.store.FSInputStream.<init>(Unknown Source)
>         at org.apache.lucene.store.FSInputStream.<init>(Unknown Source)
>         at org.apache.lucene.store.FSDirectory.openFile(Unknown Source)
>         at org.apache.lucene.index.FieldInfos.<init>(Unknown Source)
>         at org.apache.lucene.index.SegmentReader.<init>(Unknown Source)
>         at org.apache.lucene.index.IndexWriter.mergeSegments(Unknown Source)
>         at org.apache.lucene.index.IndexWriter.maybeMergeSegments(Unknown
> Source)
>         at org.apache.lucene.index.IndexWriter.maybeMergeSegments(Unknown
> Source)
>         at org.apache.lucene.index.IndexWriter.addDocument(Unknown Source)
>         at
> de.biomax.lucenetest.MedlineRecordIndexer.indexDocs(MedlineRecordIndexer.java(Compiled
> Code))
> 
> since half of the files are indexed without throwing that kind of exception
> I'm at a loss where to start debugging. any ideas?
> 
> thanks a lot
> chantal

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-538-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Dec 05 12:56:53 2001
Return-Path: <lucene-user-return-538-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 38148 invoked from network); 5 Dec 2001 12:56:53 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 5 Dec 2001 12:56:53 -0000
Received: (qmail 28049 invoked by uid 97); 5 Dec 2001 12:56:52 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 28033 invoked by uid 97); 5 Dec 2001 12:56:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27975 invoked from network); 5 Dec 2001 12:56:51 -0000
Message-ID: <3C0E2782.5E2F402D@bouncy.com>
Date: Wed, 05 Dec 2001 13:56:18 +0000
From: Manfred =?iso-8859-1?Q?Sch=E4fer?= <mschaefer@bouncy.com>
Organization: Bouncy Bytes Software GmbH
X-Mailer: Mozilla 4.78 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Prefix query case sensitiv
References: <3BFE95BB.34CF6B03@bouncy.com>
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Return-Path: mschaefer@bouncy.com
X-MDaemon-Deliver-To: lucene-user@jakarta.apache.org
Reply-To: mschaefer@bouncy.com
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Hi,

As supposed in an earlier message i've done an toLowerCase to the query-text to
enable case-insensitive prefix queries. Unfortunatly this disables boolean
searches :-(. As a workaround i've written some code to make 'and' and 'or' -
words in the query text uppercase again. Not really elegant, but working.

manfred

--
 Manfred Schäfer
 Application Development
 _______________________________________________________________________

 Bouncy*Bytes Software GmbH
 Hofgut Bayerseich
 Darmstaedter Landstrasse 64
 D-63329 Egelsbach
 Germany
 Tel.: ++49 - (0) 61 03 - 70 65 6-0
 Fax : ++49 - (0) 61 03 - 70 65 6-15
 info@bouncy.com
 http://www.bouncy.com

 synformation.com(R)  Web-Content-Management-System
 Synergize your information.
________________________________________________________________________




--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-539-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Dec 05 17:34:52 2001
Return-Path: <lucene-user-return-539-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 73210 invoked from network); 5 Dec 2001 17:34:52 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 5 Dec 2001 17:34:52 -0000
Received: (qmail 12255 invoked by uid 97); 5 Dec 2001 17:34:54 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 12237 invoked by uid 97); 5 Dec 2001 17:34:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12225 invoked from network); 5 Dec 2001 17:34:52 -0000
Message-ID: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D55@mail.grandcentral.com>
From: Doug Cutting <DCutting@grandcentral.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: existing or not existing
Date: Wed, 5 Dec 2001 09:21:56 -0800 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> 
> You could try looking for a segments file in the index directory.
> If it exists, the index exists, else it does not.
> 
> Is there a better way?

I think that's currently the best way.  But it's not great, because it
requires applications to know something about the internal structure of the
index.

Going forward, I'm hesitant to change the semantics of the 'create' flag.
I'm also hesitant to add another flag or constructor method.

Perhaps the addition of the following IndexReader methods would suffice:

  /** Returns true iff an index exists in the named directory. */
  public static boolean indexExists(String directory);
  public static boolean indexExists(File directory);
  public static boolean indexExists(Directory directory);

These are analogous to the 'lastModified' methods. Internally these would
just check for the existence of the segments file.

Does that sound like a good plan?

Another place that currently requires application knowledge of index
structure is failure recovery.  Currently if an indexing application crashes
it may leave .lock files in the directory which must be removed before the
index can be altered again.  Perhaps this can be resolved similarly by
adding methods like:

  /** Returns true iff the index in the named directory is currently
locked.*/
  public static boolean isLocked(Directory directory);

  /** Forcibly unlocks the index in the named directory. 
   * Caution: this should only be used by failure recovery code,
   * when it is known that no other process or thread is in fact
   * currently accessing this index.
   */
  public static void unlock(Directory directory);

We could also have String and File versions for convenience.

Would folks use something like this?  If so, more fodder for the TODO list!

Doug

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-540-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Dec 06 13:01:00 2001
Return-Path: <lucene-user-return-540-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 30873 invoked from network); 6 Dec 2001 13:01:00 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 6 Dec 2001 13:01:00 -0000
Received: (qmail 6863 invoked by uid 97); 6 Dec 2001 13:00:59 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 6806 invoked by uid 97); 6 Dec 2001 13:00:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6777 invoked from network); 6 Dec 2001 13:00:57 -0000
Message-ID: <D5DED48E6099D411AF0A00805F8B20270BB308@HL-EXCHANGE>
From: Jeff Kunkle <Jeff.Kunkle@HERNDON-LAB.com>
To: lucene-user@jakarta.apache.org
Subject: Industry Use of Lucene?
Date: Thu, 6 Dec 2001 07:58:06 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Does anyone know of any companies or agencies using Lucene for their
products/projects?  I am attempting to make a marketing pitch for Lucene to
my manager and I know one of the first questions will be, "Who else is using
it?"  I know Lucene is a very powerful, fast, and flexible full-text search
engine but my manager will need a little more coercing.  Any help on this
topic is greatly appreciated.

Thanks,
Jeff

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-541-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Dec 06 13:34:37 2001
Return-Path: <lucene-user-return-541-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 49474 invoked from network); 6 Dec 2001 13:34:37 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 6 Dec 2001 13:34:37 -0000
Received: (qmail 4763 invoked by uid 97); 6 Dec 2001 13:34:36 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 4753 invoked by uid 97); 6 Dec 2001 13:34:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1922 invoked from network); 5 Dec 2001 14:46:32 -0000
Message-ID: <019E9F2CC112D31185AF00C0F02CD9B4440E00@MAIL>
From: Patrick Codere <patrick.codere@motovan.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: FW: Installation notes
Date: Wed, 5 Dec 2001 09:59:40 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C17D9D.7743E400"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C17D9D.7743E400
Content-Type: text/plain;
	charset="iso-8859-1"


> Dear All,
> 
>   I just downloaded the latest version of Lucene, and not being to
> familiar with java, I would like to get some help on installing it.  I
> downloaded it, and using ant I got the following message: "could not
> create task of type : javacc.".  What does this mean?
> 
> Please Help.
> 
> Thanks. 

------_=_NextPart_001_01C17D9D.7743E400--

From lucene-user-return-542-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Dec 06 13:45:24 2001
Return-Path: <lucene-user-return-542-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 58960 invoked from network); 6 Dec 2001 13:45:24 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 6 Dec 2001 13:45:24 -0000
Received: (qmail 15453 invoked by uid 97); 6 Dec 2001 13:45:24 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 15436 invoked by uid 97); 6 Dec 2001 13:45:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15425 invoked from network); 6 Dec 2001 13:45:21 -0000
Message-ID: <20011206134521.4852.qmail@web12704.mail.yahoo.com>
Date: Thu, 6 Dec 2001 05:45:21 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Industry Use of Lucene?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <D5DED48E6099D411AF0A00805F8B20270BB308@HL-EXCHANGE>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

It looks like a person at Overture (former Goto.com) is using it.
I know ScreamingMedia.com used it at one point.

Otis

--- Jeff Kunkle <Jeff.Kunkle@HERNDON-LAB.com> wrote:
> Does anyone know of any companies or agencies using Lucene for their
> products/projects?  I am attempting to make a marketing pitch for
> Lucene to
> my manager and I know one of the first questions will be, "Who else
> is using
> it?"  I know Lucene is a very powerful, fast, and flexible full-text
> search
> engine but my manager will need a little more coercing.  Any help on
> this
> topic is greatly appreciated.
> 
> Thanks,
> Jeff
> 
> --
> To unsubscribe, e-mail:  
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
> 


__________________________________________________
Do You Yahoo!?
Send your FREE holiday greetings online!
http://greetings.yahoo.com

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-543-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Dec 06 13:48:05 2001
Return-Path: <lucene-user-return-543-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 60446 invoked from network); 6 Dec 2001 13:48:05 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 6 Dec 2001 13:48:05 -0000
Received: (qmail 17212 invoked by uid 97); 6 Dec 2001 13:48:05 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 17189 invoked by uid 97); 6 Dec 2001 13:48:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17176 invoked from network); 6 Dec 2001 13:48:02 -0000
Message-ID: <20011206134801.16732.qmail@web12701.mail.yahoo.com>
Date: Thu, 6 Dec 2001 05:48:01 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: FW: Installation notes
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <019E9F2CC112D31185AF00C0F02CD9B4440E00@MAIL>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

You need to download and install JavaCC.
Try this:
http://marc.theaimsgroup.com/?l=lucene-user&w=2&r=1&s=javacc&q=b

Otis


--- Patrick Codere <patrick.codere@motovan.com> wrote:
> 
> > Dear All,
> > 
> >   I just downloaded the latest version of Lucene, and not being to
> > familiar with java, I would like to get some help on installing it.
>  I
> > downloaded it, and using ant I got the following message: "could
> not
> > create task of type : javacc.".  What does this mean?
> > 
> > Please Help.
> > 
> > Thanks. 
> 


__________________________________________________
Do You Yahoo!?
Send your FREE holiday greetings online!
http://greetings.yahoo.com

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-544-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Dec 06 13:54:49 2001
Return-Path: <lucene-user-return-544-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 65414 invoked from network); 6 Dec 2001 13:54:49 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 6 Dec 2001 13:54:49 -0000
Received: (qmail 23440 invoked by uid 97); 6 Dec 2001 13:54:48 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 23424 invoked by uid 97); 6 Dec 2001 13:54:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23413 invoked from network); 6 Dec 2001 13:54:46 -0000
Reply-To: <karl@gan.no>
From: =?iso-8859-1?Q?Karl_=D8ie?= <karl@gan.no>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Installation notes
Date: Thu, 6 Dec 2001 14:55:39 +0100
Message-ID: <MIEMIGIOHNPEKDBMNDPCCEGACAAA.karl@gan.no>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
In-Reply-To: <019E9F2CC112D31185AF00C0F02CD9B4440E00@MAIL>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

you will need javacc.zip in your classpath to compile lucene. it can be
found in the jakarta-lucene-1.2-rc2/lib/ directory.

mvh karl øie


-----Original Message-----
From: Patrick Codere [mailto:patrick.codere@motovan.com]
Sent: 5. desember 2001 16:00
To: 'lucene-user@jakarta.apache.org'
Subject: FW: Installation notes



> Dear All,
>
>   I just downloaded the latest version of Lucene, and not being to
> familiar with java, I would like to get some help on installing it.  I
> downloaded it, and using ant I got the following message: "could not
> create task of type : javacc.".  What does this mean?
>
> Please Help.
>
> Thanks.


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-545-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Dec 06 14:45:43 2001
Return-Path: <lucene-user-return-545-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 13126 invoked from network); 6 Dec 2001 14:45:43 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 6 Dec 2001 14:45:43 -0000
Received: (qmail 12803 invoked by uid 97); 6 Dec 2001 14:45:44 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 12761 invoked by uid 97); 6 Dec 2001 14:45:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12750 invoked from network); 6 Dec 2001 14:45:42 -0000
From: Matt Tucker <matt@jivesoftware.com>
X-Authentication-Warning: s149v112.servlets.net: apache set sender to matt@jivesoftware.com using -f
To: Lucene Users List <lucene-user@jakarta.apache.org>,
   Jeff Kunkle <Jeff.Kunkle@HERNDON-LAB.com>
Subject: Re: Industry Use of Lucene?
Message-ID: <1007649940.3c0f8494ee25b@www.jivesoftware.com>
Date: Thu, 06 Dec 2001 06:45:40 -0800 (PST)
References: <D5DED48E6099D411AF0A00805F8B20270BB308@HL-EXCHANGE>
In-Reply-To: <D5DED48E6099D411AF0A00805F8B20270BB308@HL-EXCHANGE>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
User-Agent: IMP/PHP IMAP webmail program 2.2.6
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Jeff,

We've been using Lucene as a part of our product Jive Forums 
(http://www.jivesoftware.com) for about a year now. So, that means it's in use 
on thousands upon thousands of our customer's production websites including 
Sun, Sony Music, and many others. I'd be happy to provide more detailed 
information about our integration if you'd like. Lucene has been great for us 
and we never mind raving about it. :)

Regards,
Matt

Quoting Jeff Kunkle <Jeff.Kunkle@HERNDON-LAB.com>:

> Does anyone know of any companies or agencies using Lucene for their
> products/projects?  I am attempting to make a marketing pitch for Lucene
> to
> my manager and I know one of the first questions will be, "Who else is
> using
> it?"  I know Lucene is a very powerful, fast, and flexible full-text
> search
> engine but my manager will need a little more coercing.  Any help on
> this
> topic is greatly appreciated.
> 
> Thanks,
> Jeff
> 
> --
> To unsubscribe, e-mail:  
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
> 

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-546-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Dec 06 15:24:49 2001
Return-Path: <lucene-user-return-546-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 45472 invoked from network); 6 Dec 2001 15:24:49 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 6 Dec 2001 15:24:49 -0000
Received: (qmail 23842 invoked by uid 97); 6 Dec 2001 15:24:49 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 23826 invoked by uid 97); 6 Dec 2001 15:24:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23813 invoked from network); 6 Dec 2001 15:24:46 -0000
Message-ID: <20011206152447.19166.qmail@web12705.mail.yahoo.com>
Date: Thu, 6 Dec 2001 07:24:47 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: existing or not existing
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D55@mail.grandcentral.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Yes, I would use this, especially the IndexReader methods that you
suggested.

Otis

--- Doug Cutting <DCutting@grandcentral.com> wrote:
> > From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> > 
> > You could try looking for a segments file in the index directory.
> > If it exists, the index exists, else it does not.
> > 
> > Is there a better way?
> 
> I think that's currently the best way.  But it's not great, because
> it
> requires applications to know something about the internal structure
> of the
> index.
> 
> Going forward, I'm hesitant to change the semantics of the 'create'
> flag.
> I'm also hesitant to add another flag or constructor method.
> 
> Perhaps the addition of the following IndexReader methods would
> suffice:
> 
>   /** Returns true iff an index exists in the named directory. */
>   public static boolean indexExists(String directory);
>   public static boolean indexExists(File directory);
>   public static boolean indexExists(Directory directory);
> 
> These are analogous to the 'lastModified' methods. Internally these
> would
> just check for the existence of the segments file.
> 
> Does that sound like a good plan?
> 
> Another place that currently requires application knowledge of index
> structure is failure recovery.  Currently if an indexing application
> crashes
> it may leave .lock files in the directory which must be removed
> before the
> index can be altered again.  Perhaps this can be resolved similarly
> by
> adding methods like:
> 
>   /** Returns true iff the index in the named directory is currently
> locked.*/
>   public static boolean isLocked(Directory directory);
> 
>   /** Forcibly unlocks the index in the named directory. 
>    * Caution: this should only be used by failure recovery code,
>    * when it is known that no other process or thread is in fact
>    * currently accessing this index.
>    */
>   public static void unlock(Directory directory);
> 
> We could also have String and File versions for convenience.
> 
> Would folks use something like this?  If so, more fodder for the TODO
> list!
> 
> Doug
> 
> --
> To unsubscribe, e-mail:  
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
> 


__________________________________________________
Do You Yahoo!?
Send your FREE holiday greetings online!
http://greetings.yahoo.com

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-547-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Dec 06 19:59:55 2001
Return-Path: <lucene-user-return-547-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 93866 invoked from network); 6 Dec 2001 19:59:55 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 6 Dec 2001 19:59:55 -0000
Received: (qmail 5787 invoked by uid 97); 6 Dec 2001 19:59:21 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 5671 invoked by uid 97); 6 Dec 2001 19:59:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5516 invoked from network); 6 Dec 2001 19:59:18 -0000
Subject: Re: Industry Use of Lucene?
In-Reply-To: <D5DED48E6099D411AF0A00805F8B20270BB308@HL-EXCHANGE>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Date: Thu, 6 Dec 2001 14:58:38 -0500 (EST)
X-Mailer: ELM [version 2.4ME+ PL94 (25)]
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset=US-ASCII
Message-Id: <20011206195838.7425E3C1C3@darksleep.com>
From: puffmail@darksleep.com (Steven J. Owens)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Jeff Kunkle asks:
> Does anyone know of any companies or agencies using Lucene for their
> products/projects?  I am attempting to make a marketing pitch for
> Lucene to my manager and I know one of the first questions will be,
> "Who else is using it?"  I know Lucene is a very powerful, fast, and
> flexible full-text search engine but my manager will need a little
> more coercing.  Any help on this topic is greatly appreciated.

     We use Lucene in our contract-management product.  The company
name is Medebiz (medebiz.net), but just recently we merged with Moai
(moai.com) and the conglomerated whole will be under the "Moai" name.

     You might want to point out Doug's background at Excite and Apple
when you talk to your manager...

Steven J. Owens
puff@darksleep.com

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-548-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Dec 06 20:26:46 2001
Return-Path: <lucene-user-return-548-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 12470 invoked from network); 6 Dec 2001 20:26:46 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 6 Dec 2001 20:26:46 -0000
Received: (qmail 23651 invoked by uid 97); 6 Dec 2001 20:26:49 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 23609 invoked by uid 97); 6 Dec 2001 20:26:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23598 invoked from network); 6 Dec 2001 20:26:48 -0000
Subject: Re: Industry Use of Lucene?
From: Scott Ganyo <scott.ganyo@etapestry.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20011206195838.7425E3C1C3@darksleep.com>
References: <20011206195838.7425E3C1C3@darksleep.com>
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
X-Mailer: Evolution/1.0 (Preview Release)
Date: 06 Dec 2001 15:23:12 -0500
Message-Id: <1007670211.13668.1.camel@ra>
Mime-Version: 1.0
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

We use Lucene extensively as a core part of our ASP product here at
eTapestry.  In fact, we've built our database query engine on top of
it.  We have been extremely pleased with the results.

Scott

Jeff Kunkle asks:
> Does anyone know of any companies or agencies using Lucene for their
> products/projects?  I am attempting to make a marketing pitch for
> Lucene to my manager and I know one of the first questions will be,
> "Who else is using it?"  I know Lucene is a very powerful, fast, and
> flexible full-text search engine but my manager will need a little
> more coercing.  Any help on this topic is greatly appreciated.



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-549-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Dec 07 06:54:03 2001
Return-Path: <lucene-user-return-549-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 51786 invoked from network); 7 Dec 2001 06:54:03 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 7 Dec 2001 06:54:03 -0000
Received: (qmail 11640 invoked by uid 97); 7 Dec 2001 06:54:13 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 11624 invoked by uid 97); 7 Dec 2001 06:54:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11613 invoked from network); 7 Dec 2001 06:54:11 -0000
From: jean-christian.gagne@prasahewitt.ch
X-Authentication-Warning: l4dupfw42.hewitt.com: noaccess set sender to <jean-christian.gagne@prasahewitt.ch> using -f
X-Lotus-FromDomain: HEWITT ASSOCIATES NA
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Message-ID: <86256B1B.0025E5B8.00@lintng1.hewitt.com>
Date: Fri, 7 Dec 2001 07:53:45 +0100
Subject: RE: existing or not existing
Mime-Version: 1.0
Content-type: text/plain; charset=us-ascii
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

|--------+------------------------------->
|        |          Doug Cutting         |
|        |          <DCutting@grandcentra|
|        |          l.com>               |
|        |                               |
|        |          05.12.2001 18:21     |
|        |          Please respond to    |
|        |          "Lucene Users List"  |
|        |                               |
|--------+------------------------------->
  >-------------------------------------------------------------------------|
  |                                                                         |
  |      To:   'Lucene Users List' <lucene-user@jakarta.apache.org>         |
  |      cc:                                                                |
  |      Subject:   RE: existing or not existing                            |
  >-------------------------------------------------------------------------|










> Would folks use something like this?  If so, more fodder for the TODO list!


I would use the new methods of IndexReader, and I have one more suggestion :

public boolean isOptimized()


JCG




--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-550-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Dec 07 11:57:13 2001
Return-Path: <lucene-user-return-550-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 67444 invoked from network); 7 Dec 2001 11:57:13 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 7 Dec 2001 11:57:13 -0000
Received: (qmail 25262 invoked by uid 97); 7 Dec 2001 11:57:11 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 25218 invoked by uid 97); 7 Dec 2001 11:57:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25207 invoked from network); 7 Dec 2001 11:57:09 -0000
From: "Christian Schrader" <schrader.news@evendi.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Lexical Error
Date: Fri, 7 Dec 2001 12:57:17 +0100
Message-ID: <NDBBIEGCHDOAKKHFNEONIEHFGKAA.schrader.news@evendi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
In-Reply-To: <86256B1B.0025E5B8.00@lintng1.hewitt.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I just encountered an Error searching for a Term like ${test}.
org.apache.lucene.queryParser.TokenMgrError: Lexical error at line 1, column
1.  Encountered: "$" (36), after : ""

Is this error known?

Chris


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-551-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Dec 07 12:33:49 2001
Return-Path: <lucene-user-return-551-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 85009 invoked from network); 7 Dec 2001 12:33:49 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 7 Dec 2001 12:33:49 -0000
Received: (qmail 16337 invoked by uid 97); 7 Dec 2001 12:33:47 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 16321 invoked by uid 97); 7 Dec 2001 12:33:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16310 invoked from network); 7 Dec 2001 12:33:46 -0000
Date: Fri, 7 Dec 2001 14:33:03 +0200
From: "Serge A. Redchuk" <bitl@mail.ru>
X-Mailer: The Bat! (v1.53d)
Reply-To: MailRu <bitl@mail.ru>
X-Priority: 3 (Normal)
Message-ID: <851978284.20011207143303@mail.ru>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: *news*
In-Reply-To: <NDBBIEGCHDOAKKHFNEONIEHFGKAA.schrader.news@evendi.de>
References: <NDBBIEGCHDOAKKHFNEONIEHFGKAA.schrader.news@evendi.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello, all !

Does anybody know how to perform wildcard search for both: name and
value in field ?
I.e: search for Term( "*news*", "comp*" ); ?

I could not reach it using WildcardQuery or QueryParser :-(


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-552-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Dec 07 12:36:40 2001
Return-Path: <lucene-user-return-552-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 86588 invoked from network); 7 Dec 2001 12:36:40 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 7 Dec 2001 12:36:40 -0000
Received: (qmail 18631 invoked by uid 97); 7 Dec 2001 12:36:21 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 18450 invoked by uid 97); 7 Dec 2001 12:36:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18389 invoked from network); 7 Dec 2001 12:36:18 -0000
Date: Fri, 7 Dec 2001 14:35:42 +0200
From: "Serge A. Redchuk" <bitl@mail.ru>
X-Mailer: The Bat! (v1.53d)
Reply-To: MailRu <bitl@mail.ru>
X-Priority: 3 (Normal)
Message-ID: <1602136942.20011207143542@mail.ru>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: *news*  - oops
In-Reply-To: <NDBBIEGCHDOAKKHFNEONIEHFGKAA.schrader.news@evendi.de>
References: <NDBBIEGCHDOAKKHFNEONIEHFGKAA.schrader.news@evendi.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Oops !
I've ment how to search for something like this:
"path:*n* AND rn*" where rn:* is value for some "body"


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-553-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Dec 07 12:43:22 2001
Return-Path: <lucene-user-return-553-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 89563 invoked from network); 7 Dec 2001 12:43:22 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 7 Dec 2001 12:43:22 -0000
Received: (qmail 28533 invoked by uid 97); 7 Dec 2001 12:43:20 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 28517 invoked by uid 97); 7 Dec 2001 12:43:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28502 invoked from network); 7 Dec 2001 12:43:19 -0000
Message-ID: <1525.202.140.147.60.1007728998.squirrel@mail.interactive1.com>
Date: Fri, 7 Dec 2001 12:43:18 -0000 (GMT)
Subject: RE: Wild-card search - *bas*
From: <sampreet@interactive1.com>
To: <lucene-user@jakarta.apache.org>
X-Mailer: InteractiveMail (version 1.2.0)
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-AntiVirus: scanned for viruses by AMaViS 0.2.1 (http://amavis.org/)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello,

I was experimenting for the wild cards when I found that the
org.apache.lucene.search.PrefixQuery class uses reader.terms(prefix) to get
a set of terms, in the getQuery() method. These terms are later filtered to
get to the terms required by it. reader.terms() does not seem to return any
terms (infact, it is supposed to return all the terms in an index). How can
I get all the terms in an index within the PrefixQuery class?

Also, any kind of information on the working of QueryParserTokenManager
class will be helpful :-)

Thanks in advance,

Sampreet.


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-554-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Dec 07 13:09:49 2001
Return-Path: <lucene-user-return-554-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 9091 invoked from network); 7 Dec 2001 13:09:49 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 7 Dec 2001 13:09:49 -0000
Received: (qmail 26423 invoked by uid 97); 7 Dec 2001 13:09:48 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 26406 invoked by uid 97); 7 Dec 2001 13:09:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26395 invoked from network); 7 Dec 2001 13:09:47 -0000
Message-ID: <003501c17f20$a2112c40$0b01a8c0@168.1.8.Domainrelevanz>
Reply-To: "Kelvin Tan" <kelvin@relevanz.com>
From: "Kelvin Tan" <kelvin@relevanz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <D5DED48E6099D411AF0A00805F8B20270BB308@HL-EXCHANGE>
Subject: Re: Industry Use of Lucene?
Date: Fri, 7 Dec 2001 21:11:07 +0800
Organization: Relevanz Pte Ltd
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2615.200
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2615.200
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

At http://www.relevanz.com, we use Lucene to power the search for our
Marketing Directory of websites.

More than happy with the results thus far...

Kelvin

----- Original Message -----
From: Jeff Kunkle <Jeff.Kunkle@HERNDON-LAB.com>
To: <lucene-user@jakarta.apache.org>
Sent: Thursday, December 06, 2001 8:58 PM
Subject: Industry Use of Lucene?


> Does anyone know of any companies or agencies using Lucene for their
> products/projects?  I am attempting to make a marketing pitch for Lucene
to
> my manager and I know one of the first questions will be, "Who else is
using
> it?"  I know Lucene is a very powerful, fast, and flexible full-text
search
> engine but my manager will need a little more coercing.  Any help on this
> topic is greatly appreciated.
>
> Thanks,
> Jeff
>
> --
> To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>
>
>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-555-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Dec 07 13:50:25 2001
Return-Path: <lucene-user-return-555-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 35089 invoked from network); 7 Dec 2001 13:50:25 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 7 Dec 2001 13:50:25 -0000
Received: (qmail 4343 invoked by uid 97); 7 Dec 2001 13:50:25 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 4327 invoked by uid 97); 7 Dec 2001 13:50:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4316 invoked from network); 7 Dec 2001 13:50:24 -0000
From: jean-christian.gagne@prasahewitt.ch
X-Authentication-Warning: l98upfw32.hewitt.com: noaccess set sender to <jean-christian.gagne@prasahewitt.ch> using -f
X-Lotus-FromDomain: HEWITT ASSOCIATES NA
To: lucene-user@jakarta.apache.org
Message-ID: <86256B1B.004BF2C2.00@lintng1.hewitt.com>
Date: Fri, 7 Dec 2001 14:49:23 +0100
Subject: concurrent usage summary
Mime-Version: 1.0
Content-type: text/plain; charset=us-ascii
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N



Hi all,

It looks like Lucene supports concurrent searchs as long as the index is not
modified with add, delete, or optimize actions (and maybe others?). For those
actions, it is not clear what is happening (at least for me) with open
searchers, readers and writers. Can those be reused freely ? When should they be
opened/closed ?  Can I add/delete documents while another thread is looping on
Hits ?

A brief summary of what can/cannot be done when modifying an index (and related
issues) would be very appreciated.


JCG



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-556-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Dec 07 14:01:12 2001
Return-Path: <lucene-user-return-556-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 40165 invoked from network); 7 Dec 2001 14:01:12 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 7 Dec 2001 14:01:12 -0000
Received: (qmail 8940 invoked by uid 97); 7 Dec 2001 14:01:11 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 8865 invoked by uid 97); 7 Dec 2001 14:01:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8814 invoked from network); 7 Dec 2001 14:01:08 -0000
From: "Christian Schrader" <schrader.news@evendi.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: AW: Lexical Error
Date: Fri, 7 Dec 2001 15:01:10 +0100
Message-ID: <NDBBIEGCHDOAKKHFNEONIEIAGKAA.schrader.news@evendi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
In-Reply-To: <NDBBIEGCHDOAKKHFNEONIEHFGKAA.schrader.news@evendi.de>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Is there a good reason, why the QueryParser should throw an Error instead of
an Exception?

> -----Ursprungliche Nachricht-----
> Von: Christian Schrader [mailto:schrader.news@evendi.de]
> Gesendet: December 7, 2001 12:57 PM
> An: Lucene Users List
> Betreff: Lexical Error
>
>
> I just encountered an Error searching for a Term like ${test}.
> org.apache.lucene.queryParser.TokenMgrError: Lexical error at
> line 1, column
> 1.  Encountered: "$" (36), after : ""
>
> Is this error known?
>
> Chris
>
>
> --
> To unsubscribe, e-mail:
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
>
>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-557-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Dec 07 14:06:55 2001
Return-Path: <lucene-user-return-557-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 42106 invoked from network); 7 Dec 2001 14:06:55 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 7 Dec 2001 14:06:55 -0000
Received: (qmail 11673 invoked by uid 97); 7 Dec 2001 14:06:55 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 11657 invoked by uid 97); 7 Dec 2001 14:06:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11646 invoked from network); 7 Dec 2001 14:06:54 -0000
Message-ID: <3C10CCB4.8010604@axelero.com>
Date: Fri, 07 Dec 2001 15:05:40 +0100
From: =?ISO-8859-1?Q?Hal=E1csy=20P=E9ter?= <halacsy.peter@axelero.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:0.9.4) Gecko/20010914
X-Accept-Language: en-us
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: AW: Lexical Error
References: <NDBBIEGCHDOAKKHFNEONIEIAGKAA.schrader.news@evendi.de>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 07 Dec 2001 14:06:46.0431 (UTC) FILETIME=[680EE2F0:01C17F28]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Christian Schrader wrote:

>Is there a good reason, why the QueryParser should throw an Error instead of
>an Exception?
>
Unfortunatly this is the feature of JavaCC and not only of Lucene's 
QueryParser.

peter

>
>>-----Ursprungliche Nachricht-----
>>Von: Christian Schrader [mailto:schrader.news@evendi.de]
>>Gesendet: December 7, 2001 12:57 PM
>>An: Lucene Users List
>>Betreff: Lexical Error
>>
>>
>>I just encountered an Error searching for a Term like ${test}.
>>org.apache.lucene.queryParser.TokenMgrError: Lexical error at
>>line 1, column
>>1.  Encountered: "$" (36), after : ""
>>
>>Is this error known?
>>
>>Chris
>>
>>
>>--
>>To unsubscribe, e-mail:
>><mailto:lucene-user-unsubscribe@jakarta.apache.org>
>>For additional commands, e-mail:
>><mailto:lucene-user-help@jakarta.apache.org>
>>
>>
>
>
>--
>To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
>For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>
>




--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-558-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Dec 07 14:20:48 2001
Return-Path: <lucene-user-return-558-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 48422 invoked from network); 7 Dec 2001 14:20:48 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 7 Dec 2001 14:20:48 -0000
Received: (qmail 20270 invoked by uid 97); 7 Dec 2001 14:20:48 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 20252 invoked by uid 97); 7 Dec 2001 14:20:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20240 invoked from network); 7 Dec 2001 14:20:47 -0000
From: "Christian Schrader" <schrader.news@evendi.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: AW: AW: Lexical Error
Date: Fri, 7 Dec 2001 15:20:54 +0100
Message-ID: <NDBBIEGCHDOAKKHFNEONCEICGKAA.schrader.news@evendi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
In-Reply-To: <3C10CCB4.8010604@axelero.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Couldn't QueryParser catch the Error and throw an Exception?
"Subclasses of Error, unlike subclasses of Exception, should not be caught
and generally cause termination of the program. Subclasses of Error need not
be declared in the throws clause of a method definition."

I am complaining, because my Servlet just crashed, even though it had a
try{}catch(Exception e){}, which should catch everything, unless catching is
worthless anyways (OutOfMemoryError) :-).

> -----Ursprungliche Nachricht-----
> Von: Halacsy Peter [mailto:halacsy.peter@axelero.com]
> Gesendet: December 7, 2001 3:06 PM
> An: Lucene Users List
> Betreff: Re: AW: Lexical Error
>
>
> Christian Schrader wrote:
>
> >Is there a good reason, why the QueryParser should throw an
> Error instead of
> >an Exception?
> >
> Unfortunatly this is the feature of JavaCC and not only of Lucene's
> QueryParser.
>
> peter
>
> >
> >>-----Ursprungliche Nachricht-----
> >>Von: Christian Schrader [mailto:schrader.news@evendi.de]
> >>Gesendet: December 7, 2001 12:57 PM
> >>An: Lucene Users List
> >>Betreff: Lexical Error
> >>
> >>
> >>I just encountered an Error searching for a Term like ${test}.
> >>org.apache.lucene.queryParser.TokenMgrError: Lexical error at
> >>line 1, column
> >>1.  Encountered: "$" (36), after : ""
> >>
> >>Is this error known?
> >>
> >>Chris
> >>
> >>
> >>--
> >>To unsubscribe, e-mail:
> >><mailto:lucene-user-unsubscribe@jakarta.apache.org>
> >>For additional commands, e-mail:
> >><mailto:lucene-user-help@jakarta.apache.org>
> >>
> >>
> >
> >
> >--
> >To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
>For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>
>




--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-559-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Dec 07 14:21:42 2001
Return-Path: <lucene-user-return-559-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 48966 invoked from network); 7 Dec 2001 14:21:42 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 7 Dec 2001 14:21:42 -0000
Received: (qmail 20931 invoked by uid 97); 7 Dec 2001 14:21:42 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 20914 invoked by uid 97); 7 Dec 2001 14:21:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20903 invoked from network); 7 Dec 2001 14:21:41 -0000
Message-ID: <86F21E9558CE6F429B2D0AEB9820F1B82F2FE6@S1001EXM01.macromedia.com>
From: Paul Friedman <pfriedman@macromedia.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Lexical Error
Date: Fri, 7 Dec 2001 09:21:38 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I often encounter this problem when using QueryParser to parse queries that contain certain punctuation.  I believe the only solution is to parse the query yourself (allowing the punctuation) and build the query objects directly.

Paul

-----Original Message-----
From: Christian Schrader [mailto:schrader.news@evendi.de]
Sent: Friday, December 07, 2001 6:57 AM
To: Lucene Users List
Subject: Lexical Error


I just encountered an Error searching for a Term like ${test}.
org.apache.lucene.queryParser.TokenMgrError: Lexical error at line 1, column
1.  Encountered: "$" (36), after : ""

Is this error known?

Chris


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-560-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Dec 07 14:23:37 2001
Return-Path: <lucene-user-return-560-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 52038 invoked from network); 7 Dec 2001 14:23:37 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 7 Dec 2001 14:23:37 -0000
Received: (qmail 21567 invoked by uid 97); 7 Dec 2001 14:23:37 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 21550 invoked by uid 97); 7 Dec 2001 14:23:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21534 invoked from network); 7 Dec 2001 14:23:36 -0000
Message-ID: <86F21E9558CE6F429B2D0AEB9820F1B82F2FE7@S1001EXM01.macromedia.com>
From: Paul Friedman <pfriedman@macromedia.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: AW: Lexical Error
Date: Fri, 7 Dec 2001 09:23:34 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

try {
}
catch (Throwable th) {
  // do something with error
}

-----Original Message-----
From: Christian Schrader [mailto:schrader.news@evendi.de]
Sent: Friday, December 07, 2001 9:21 AM
To: Lucene Users List
Subject: AW: AW: Lexical Error


Couldn't QueryParser catch the Error and throw an Exception?
"Subclasses of Error, unlike subclasses of Exception, should not be caught
and generally cause termination of the program. Subclasses of Error need not
be declared in the throws clause of a method definition."

I am complaining, because my Servlet just crashed, even though it had a
try{}catch(Exception e){}, which should catch everything, unless catching is
worthless anyways (OutOfMemoryError) :-).

> -----Ursprungliche Nachricht-----
> Von: Halacsy Peter [mailto:halacsy.peter@axelero.com]
> Gesendet: December 7, 2001 3:06 PM
> An: Lucene Users List
> Betreff: Re: AW: Lexical Error
>
>
> Christian Schrader wrote:
>
> >Is there a good reason, why the QueryParser should throw an
> Error instead of
> >an Exception?
> >
> Unfortunatly this is the feature of JavaCC and not only of Lucene's
> QueryParser.
>
> peter
>
> >
> >>-----Ursprungliche Nachricht-----
> >>Von: Christian Schrader [mailto:schrader.news@evendi.de]
> >>Gesendet: December 7, 2001 12:57 PM
> >>An: Lucene Users List
> >>Betreff: Lexical Error
> >>
> >>
> >>I just encountered an Error searching for a Term like ${test}.
> >>org.apache.lucene.queryParser.TokenMgrError: Lexical error at
> >>line 1, column
> >>1.  Encountered: "$" (36), after : ""
> >>
> >>Is this error known?
> >>
> >>Chris
> >>
> >>
> >>--
> >>To unsubscribe, e-mail:
> >><mailto:lucene-user-unsubscribe@jakarta.apache.org>
> >>For additional commands, e-mail:
> >><mailto:lucene-user-help@jakarta.apache.org>
> >>
> >>
> >
> >
> >--
> >To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
>For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>
>




--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-561-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Dec 07 15:00:36 2001
Return-Path: <lucene-user-return-561-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 78863 invoked from network); 7 Dec 2001 15:00:36 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 7 Dec 2001 15:00:36 -0000
Received: (qmail 7343 invoked by uid 97); 7 Dec 2001 15:00:35 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 7327 invoked by uid 97); 7 Dec 2001 15:00:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7282 invoked from network); 7 Dec 2001 15:00:33 -0000
Date: Fri, 7 Dec 2001 16:59:52 +0200
From: "Serge A. Redchuk" <bitl@mail.ru>
X-Mailer: The Bat! (v1.53d)
Reply-To: "lucene-user@jakarta.apache.org" <lucene-user@jakarta.apache.org>
X-Priority: 3 (Normal)
Message-ID: <594686999.20011207165952@mail.ru>
To: "lucene-user@jakarta.apache.org" <lucene-user@jakarta.apache.org>
Subject: cancel ny question
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello all !
Please do not pay attantion to my previous 2 letters with question
about how to search smth. like this: fieldname1:*smth* fname2:moo*

I've already know how to do it !

-- 
Best regards,
 Serge                          mailto:bitl@mail.ru


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-562-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Dec 07 15:51:13 2001
Return-Path: <lucene-user-return-562-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 17493 invoked from network); 7 Dec 2001 15:51:13 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 7 Dec 2001 15:51:13 -0000
Received: (qmail 11878 invoked by uid 97); 7 Dec 2001 15:51:13 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 11862 invoked by uid 97); 7 Dec 2001 15:51:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11851 invoked from network); 7 Dec 2001 15:51:12 -0000
Message-ID: <004f01c17f36$d4a7e8e0$436fa8c0@cronaintsep.com>
From: "YMikulski" <YMikulski@infonet.by>
To: "users LUCENE" <lucene-user@jakarta.apache.org>
Subject: suggestion
Date: Fri, 7 Dec 2001 17:49:51 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4522.1200
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello!
I like to suggest making jsp custom tags to work with LUCENE.
I think it can be useful for many LUCENE users.
What do you think about it?
Is it interesting to LUCENE users and committers at all?

Best Regards,
   Yauheny Mikulski.

P.S.
Please, don't redirect me to Jakarta Taglibs.
My library is almost ready, and I've suggested it at Jakarta Taglibs, but
there is still no reply from committers.

I think,  the project committers are engaged in their taglibs,
and they are interested in implementation of their taglibs only.




--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-563-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Dec 07 17:30:32 2001
Return-Path: <lucene-user-return-563-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 93444 invoked from network); 7 Dec 2001 17:30:31 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 7 Dec 2001 17:30:31 -0000
Received: (qmail 5588 invoked by uid 97); 7 Dec 2001 17:30:32 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 5449 invoked by uid 97); 7 Dec 2001 17:30:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5257 invoked from network); 7 Dec 2001 17:30:26 -0000
Message-ID: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D65@mail.grandcentral.com>
From: Doug Cutting <DCutting@grandcentral.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: suggestion
Date: Fri, 7 Dec 2001 09:29:16 -0800 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="koi8-r"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Can you provide some examples of tags that you think would be useful?

Would you like to implement these?

Doug

> -----Original Message-----
> From: YMikulski [mailto:YMikulski@infonet.by]
> Sent: Friday, December 07, 2001 7:50 AM
> To: users LUCENE
> Subject: suggestion
> 
> 
> Hello!
> I like to suggest making jsp custom tags to work with LUCENE.
> I think it can be useful for many LUCENE users.
> What do you think about it?
> Is it interesting to LUCENE users and committers at all?
> 
> Best Regards,
>    Yauheny Mikulski.
> 
> P.S.
> Please, don't redirect me to Jakarta Taglibs.
> My library is almost ready, and I've suggested it at Jakarta 
> Taglibs, but
> there is still no reply from committers.
> 
> I think,  the project committers are engaged in their taglibs,
> and they are interested in implementation of their taglibs only.
> 
> 
> 
> 
> --
> To unsubscribe, e-mail:   
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail: 
> <mailto:lucene-user-help@jakarta.apache.org>
> 

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-564-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Dec 07 17:38:56 2001
Return-Path: <lucene-user-return-564-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 2916 invoked from network); 7 Dec 2001 17:38:56 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 7 Dec 2001 17:38:56 -0000
Received: (qmail 20243 invoked by uid 97); 7 Dec 2001 17:38:56 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 20202 invoked by uid 97); 7 Dec 2001 17:38:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20179 invoked from network); 7 Dec 2001 17:38:50 -0000
Message-ID: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D66@mail.grandcentral.com>
From: Doug Cutting <DCutting@grandcentral.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: concurrent usage summary
Date: Fri, 7 Dec 2001 09:37:38 -0800 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> From: jean-christian.gagne@prasahewitt.ch
> 
> It looks like Lucene supports concurrent searchs as long as 
> the index is not
> modified with add, delete, or optimize actions (and maybe 
> others?).

Searches may be made at any time, including while the index is being
modified by the add, delete and optimize operations.  

> For those
> actions, it is not clear what is happening (at least for me) with open
> searchers, readers and writers. Can those be reused freely ?
> When should they be opened/closed ?

Searchers and readers may be used freely until they are closed.  A single
searcher and reader may be shared by many threads, conducting concurrent
searches.  That is in fact recommended.  A reader will close itself when
garbage collected, so don't worry about explicitly closing readers (unless
you are near yout file descriptor limit).

Only a single writer should exist at once.  Readers opened after it is
closed will see the changes made to it.

> Can I add/delete documents while another 
> thread is looping on
> Hits ?

Yes.

> A brief summary of what can/cannot be done when modifying an 
> index (and related
> issues) would be very appreciated.

The prohibitions are:
  - don't use a reader/writer after it has been closed;
  - don't try to write simultaneously from different processes

Doug

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-565-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Dec 07 17:43:30 2001
Return-Path: <lucene-user-return-565-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 4160 invoked from network); 7 Dec 2001 17:43:30 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 7 Dec 2001 17:43:30 -0000
Received: (qmail 23169 invoked by uid 97); 7 Dec 2001 17:43:18 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 23123 invoked by uid 97); 7 Dec 2001 17:43:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23067 invoked from network); 7 Dec 2001 17:43:17 -0000
Message-ID: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D67@mail.grandcentral.com>
From: Doug Cutting <DCutting@grandcentral.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Industry Use of Lucene?
Date: Fri, 7 Dec 2001 09:42:07 -0800 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Kelvin,

I don't seen "powered by Lucene" on your results pages:
  http://www.relevanz.com/Search?query=media

If you add this, we can add you to the "Powered by Lucene" page:
  http://jakarta.apache.org/lucene/docs/powered.html

What other sites should be added to this page?

Doug


> -----Original Message-----
> From: Kelvin Tan [mailto:kelvin@relevanz.com]
> Sent: Friday, December 07, 2001 5:11 AM
> To: Lucene Users List
> Subject: Re: Industry Use of Lucene?
> 
> 
> At http://www.relevanz.com, we use Lucene to power the search for our
> Marketing Directory of websites.
> 
> More than happy with the results thus far...
> 
> Kelvin

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-566-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Dec 07 19:07:41 2001
Return-Path: <lucene-user-return-566-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 67700 invoked from network); 7 Dec 2001 19:07:41 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 7 Dec 2001 19:07:41 -0000
Received: (qmail 6755 invoked by uid 97); 7 Dec 2001 19:07:43 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 6739 invoked by uid 97); 7 Dec 2001 19:07:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6727 invoked from network); 7 Dec 2001 19:07:42 -0000
Mime-Version: 1.0
X-Sender: avi_drissman@mail.baseview.com
Message-Id: <a05101001b836c2d6d713@[10.1.4.99]>
Date: Fri, 7 Dec 2001 14:07:22 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Avi Drissman <avi_drissman@baseview.com>
Subject: License adherence
Content-Type: text/plain; charset="us-ascii" ; format="flowed"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I'm integrating Lucene as the searching engine of a commercial server 
product. I've been reading the license trying to figure out how, 
precisely, it affects us.

Our obligations under condition 3 is pretty clear. A sentence in our 
documentation. Not a problem.

I'm trying to understand what my obligations under condition 2 are. 
Would the use of Lucene as the search engine of a product be 
considered a binary redistribution? If so, what would be the 
preferred method of including the license? As a separate file? As an 
attachment to the Read Me? And if I have to distribute the license as 
required by condition 3, does that fulfill my condition 2 
responsibilities?

Avi
-- 
Avi Drissman
avi_drissman@baseview.com
Bit bashing since 1977

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-567-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Dec 07 21:37:24 2001
Return-Path: <lucene-user-return-567-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 73010 invoked from network); 7 Dec 2001 21:37:24 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 7 Dec 2001 21:37:24 -0000
Received: (qmail 26713 invoked by uid 97); 7 Dec 2001 21:37:21 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 26672 invoked by uid 97); 7 Dec 2001 21:37:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26661 invoked from network); 7 Dec 2001 21:37:20 -0000
Subject: RE: suggestion
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Warren.Master@jpmorgan.com
Date: Fri, 7 Dec 2001 16:36:56 -0500
Message-ID: <OFE9371B5D.D26BD75E-ON05256B1B.00761F06@notes.chase.com>
X-MIMETrack: Serialize by Router on EMAMPE12/CHASE(Release 5.0.7 |March 21, 2001) at 12/07/2001
 04:35:47 PM
MIME-Version: 1.0
Content-type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


some thoughts:

It would be nice to have a META data driven tag that can Index
(add/update/delete) Documents. Fields and how their data is retrieved
(Strings,Streams)
would be defined in the Meta data. A TAG for Searching would be nice too.
This Tag should have a Hits Cache (with cache manager) to allow Hits to be
sorted and the results can be reused when paging results so you would not
have to re-submit the query (not that is't slow to do that)


ie)  HitsToken=SEARCH(String)


GetRows(HistsTokem,1,25)
Hit NEXT
     GetRows(HistsTokem,26,50) .....

ReleaseCache(HitsToken)


in cases when release is not called  the cache Manager would have a fixed
Cache Size which could recycle FIFO when cache is full.





warren




Doug Cutting <DCutting@grandcentral.com> on 12/07/2001 12:29:16 PM

Please respond to "Lucene Users List" <lucene-user@jakarta.apache.org>



To:   "'Lucene Users List'" <lucene-user@jakarta.apache.org>
cc:
Subject:  RE: suggestion


Can you provide some examples of tags that you think would be useful?

Would you like to implement these?

Doug

> -----Original Message-----
> From: YMikulski [mailto:YMikulski@infonet.by]
> Sent: Friday, December 07, 2001 7:50 AM
> To: users LUCENE
> Subject: suggestion
>
>
> Hello!
> I like to suggest making jsp custom tags to work with LUCENE.
> I think it can be useful for many LUCENE users.
> What do you think about it?
> Is it interesting to LUCENE users and committers at all?
>
> Best Regards,
>    Yauheny Mikulski.
>
> P.S.
> Please, don't redirect me to Jakarta Taglibs.
> My library is almost ready, and I've suggested it at Jakarta
> Taglibs, but
> there is still no reply from committers.
>
> I think,  the project committers are engaged in their taglibs,
> and they are interested in implementation of their taglibs only.
>
>
>
>
> --
> To unsubscribe, e-mail:
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
>

--
To unsubscribe, e-mail:   <
mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <
mailto:lucene-user-help@jakarta.apache.org>






--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-568-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Sat Dec 08 02:47:56 2001
Return-Path: <lucene-user-return-568-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 1134 invoked from network); 8 Dec 2001 02:47:56 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 8 Dec 2001 02:47:56 -0000
Received: (qmail 25622 invoked by uid 97); 8 Dec 2001 02:48:03 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 25561 invoked by uid 97); 8 Dec 2001 02:48:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25550 invoked from network); 8 Dec 2001 02:48:01 -0000
Message-ID: <005401c17f92$f3387200$0b01a8c0@168.1.8.Domainrelevanz>
Reply-To: "Kelvin Tan" <kelvin@relevanz.com>
From: "Kelvin Tan" <kelvin@relevanz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D67@mail.grandcentral.com>
Subject: Re: Industry Use of Lucene?
Date: Sat, 8 Dec 2001 10:49:25 +0800
Organization: Relevanz Pte Ltd
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2615.200
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2615.200
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


----- Original Message -----
From: Doug Cutting <DCutting@grandcentral.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Sent: Saturday, December 08, 2001 1:42 AM
Subject: RE: Industry Use of Lucene?


> Kelvin,
>
> I don't seen "powered by Lucene" on your results pages:
>   http://www.relevanz.com/Search?query=media
>
> If you add this, we can add you to the "Powered by Lucene" page:
>   http://jakarta.apache.org/lucene/docs/powered.html

Oooops!! It's up now...:-)

http://www.relevanz.com/Search?query=marketing

>
> What other sites should be added to this page?
>
> Doug
>
>
> > -----Original Message-----
> > From: Kelvin Tan [mailto:kelvin@relevanz.com]
> > Sent: Friday, December 07, 2001 5:11 AM
> > To: Lucene Users List
> > Subject: Re: Industry Use of Lucene?
> >
> >
> > At http://www.relevanz.com, we use Lucene to power the search for our
> > Marketing Directory of websites.
> >
> > More than happy with the results thus far...
> >
> > Kelvin
>
> --
> To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>
>
>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-569-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Sat Dec 08 03:20:04 2001
Return-Path: <lucene-user-return-569-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 9747 invoked from network); 8 Dec 2001 03:20:04 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 8 Dec 2001 03:20:04 -0000
Received: (qmail 15050 invoked by uid 97); 8 Dec 2001 03:20:11 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 15040 invoked by uid 97); 8 Dec 2001 03:20:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8901 invoked from network); 7 Dec 2001 20:44:11 -0000
Date: Fri, 7 Dec 2001 12:44:09 -0800
From: Brian Goetz <brian@quiotix.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: AW: Lexical Error
Message-ID: <20011207124409.A9152@lx.quiotix.com>
References: <NDBBIEGCHDOAKKHFNEONIEIAGKAA.schrader.news@evendi.de> <3C10CCB4.8010604@axelero.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5i
In-Reply-To: <3C10CCB4.8010604@axelero.com>; from halacsy.peter@axelero.com on Fri, Dec 07, 2001 at 03:05:40PM +0100
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> >Is there a good reason, why the QueryParser should throw an Error instead of
> >an Exception?
> >
> Unfortunatly this is the feature of JavaCC and not only of Lucene's 
> QueryParser.

Sort of.  It should be possible to fix this by using a different approach
to token building.

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-570-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Sat Dec 08 11:50:35 2001
Return-Path: <lucene-user-return-570-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 17791 invoked from network); 8 Dec 2001 11:50:35 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 8 Dec 2001 11:50:35 -0000
Received: (qmail 19604 invoked by uid 97); 8 Dec 2001 11:50:33 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 19594 invoked by uid 97); 8 Dec 2001 11:50:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18382 invoked from network); 8 Dec 2001 11:39:54 -0000
From: "Kiran Kumar K.G" <kiran.k@net-kraft.com>
To: <lucene-user@jakarta.apache.org>
Subject: searching words starting with accent characters using UTF-8
Date: Sat, 8 Dec 2001 17:13:27 +0530
Message-ID: <NFBBKPLCJKPEGKDAHDCAOEFCCAAA.kiran.k@net-kraft.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4807.1700
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Iam trying to search for words starting with accent characters.As posted in
one of the Lucene user-list mail I tried using UTF-8 encoding
String query = this.request.getParameter( "query" );
if( query!=null ) {
query = new String( query.getBytes(), "UTF-8" );
}

But this code is not working properly.
If I give a word æran, its giving empty string

Somebody in the user list had mentioned that this is working fine.

Please mention any dependency for this code to work(OS,JDK version etc.)

Let me know is there any other way to handle words starting with special
characters.

Thanx,
Kiran




--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-571-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 10 06:02:24 2001
Return-Path: <lucene-user-return-571-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 82727 invoked from network); 10 Dec 2001 06:02:24 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 10 Dec 2001 06:02:24 -0000
Received: (qmail 21969 invoked by uid 97); 10 Dec 2001 06:02:33 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 21923 invoked by uid 97); 10 Dec 2001 06:02:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21912 invoked from network); 10 Dec 2001 06:02:31 -0000
Message-ID: <20011210060231.28019.qmail@web11801.mail.yahoo.com>
Date: Sun, 9 Dec 2001 22:02:31 -0800 (PST)
From: srinivasa v <inrisrini2k@yahoo.com>
Subject: Improper Indexing !!!
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1824288679-1007964151=:27290"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--0-1824288679-1007964151=:27290
Content-Type: text/plain; charset=us-ascii


Hi all,

I'm using lucene application forindexing XML,HTML and Text files.
When I indexed one XML file of about 2MB size it indexed. But
when I given some words for searching it is not giving me proper 
results. It says "0 total matching documents", for some words.
But for most of the others it is giving me the results.

So my question is is the file size (2MB) is cauing any problem in 
indexing, if yes please tell me what could be the MAximum size of 
a file to index, or is there anyway to solve this problem ?

Please helpme....it is very very Urgent !!!

Thankx in advance
Srini



---------------------------------
Do You Yahoo!?
Send your FREE holiday greetings online at Yahoo! Greetings.
--0-1824288679-1007964151=:27290--

From lucene-user-return-572-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 10 06:45:27 2001
Return-Path: <lucene-user-return-572-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 97874 invoked from network); 10 Dec 2001 06:45:26 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 10 Dec 2001 06:45:26 -0000
Received: (qmail 29562 invoked by uid 97); 10 Dec 2001 06:45:36 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 29546 invoked by uid 97); 10 Dec 2001 06:45:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29535 invoked from network); 10 Dec 2001 06:45:35 -0000
From: jean-christian.gagne@prasahewitt.ch
X-Authentication-Warning: l4dupfw42.hewitt.com: noaccess set sender to <jean-christian.gagne@prasahewitt.ch> using -f
X-Lotus-FromDomain: HEWITT ASSOCIATES NA
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Message-ID: <86256B1E.002512AE.00@lintng1.hewitt.com>
Date: Mon, 10 Dec 2001 07:44:39 +0100
Subject: RE: concurrent usage summary
Mime-Version: 1.0
Content-type: text/plain; charset=us-ascii
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N



Thanks a lot for the complete answer Doug !

JCG




--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-573-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 10 06:55:42 2001
Return-Path: <lucene-user-return-573-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 1098 invoked from network); 10 Dec 2001 06:55:41 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 10 Dec 2001 06:55:41 -0000
Received: (qmail 1580 invoked by uid 97); 10 Dec 2001 06:55:51 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 1564 invoked by uid 97); 10 Dec 2001 06:55:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1553 invoked from network); 10 Dec 2001 06:55:50 -0000
From: jean-christian.gagne@prasahewitt.ch
X-Authentication-Warning: l98upfw32.hewitt.com: noaccess set sender to <jean-christian.gagne@prasahewitt.ch> using -f
X-Lotus-FromDomain: HEWITT ASSOCIATES NA
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Message-ID: <86256B1E.00260A14.00@lintng1.hewitt.com>
Date: Mon, 10 Dec 2001 07:55:12 +0100
Subject: Re: searching words starting with accent characters using UTF-8
Mime-Version: 1.0
Content-type: text/plain; charset=us-ascii
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N







>As posted in
>one of the Lucene user-list mail I tried using UTF-8 encoding


I don't know for queries, but when I use accent characters in a XML document, I
use ISO-8859-1 encoding (otherwise the parser complains).


JCG



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-574-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 10 08:39:33 2001
Return-Path: <lucene-user-return-574-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 32865 invoked from network); 10 Dec 2001 08:39:33 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 10 Dec 2001 08:39:33 -0000
Received: (qmail 6627 invoked by uid 97); 10 Dec 2001 08:39:44 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 6611 invoked by uid 97); 10 Dec 2001 08:39:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6600 invoked from network); 10 Dec 2001 08:39:43 -0000
Reply-To: <karl@gan.no>
From: =?iso-8859-1?Q?Karl_=D8ie?= <karl@gan.no>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: searching words starting with accent characters using UTF-8
Date: Mon, 10 Dec 2001 09:38:51 +0100
Message-ID: <MIEMIGIOHNPEKDBMNDPCIEGDCAAA.karl@gan.no>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
Importance: Normal
In-Reply-To: <NFBBKPLCJKPEGKDAHDCAOEFCCAAA.kiran.k@net-kraft.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

please note that the code in rc1 and rc2 is not working with Norwegian
chars(don't know about accents), I had to use the version 1.6 from the cvs
repository.

files can be found here, after downlaoding you will have to rebuild lucene.

http://cvs.apache.org/viewcvs/jakarta-lucene/src/java/org/apache/lucene/quer
yParser/

mvh karl øie


-----Original Message-----
From: Kiran Kumar K.G [mailto:kiran.k@net-kraft.com]
Sent: 8. desember 2001 12:43
To: lucene-user@jakarta.apache.org
Subject: searching words starting with accent characters using UTF-8



Iam trying to search for words starting with accent characters.As posted in
one of the Lucene user-list mail I tried using UTF-8 encoding
String query = this.request.getParameter( "query" );
if( query!=null ) {
query = new String( query.getBytes(), "UTF-8" );
}

But this code is not working properly.
If I give a word æran, its giving empty string

Somebody in the user list had mentioned that this is working fine.

Please mention any dependency for this code to work(OS,JDK version etc.)

Let me know is there any other way to handle words starting with special
characters.

Thanx,
Kiran




--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-575-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 10 08:54:50 2001
Return-Path: <lucene-user-return-575-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 40461 invoked from network); 10 Dec 2001 08:54:50 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 10 Dec 2001 08:54:50 -0000
Received: (qmail 13398 invoked by uid 97); 10 Dec 2001 08:55:02 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 13357 invoked by uid 97); 10 Dec 2001 08:55:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13344 invoked from network); 10 Dec 2001 08:55:00 -0000
X-Originating-IP: [195.61.21.200]
From: "Lex Lawrence" <lex_lawrence@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: Re: AW: Lexical Error
Date: Mon, 10 Dec 2001 03:54:58 -0500
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <F29MWGp168TzTiNS3OY00022c55@hotmail.com>
X-OriginalArrivalTime: 10 Dec 2001 08:54:59.0241 (UTC) FILETIME=[58F17990:01C18158]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Perhaps something as simple as adding a catch-all token.  When the parser 
encounters something goofy, it will match the last token (and not throw an 
Error), but since it isn't expecting a <CATCHALL> token,
you'll get a nice ParseException.

<*> TOKEN : {
  < WHATEVER_TOKEN_DEFS_YOU_WANT: "blah" > |
  < CATCHALL: ~[] >
}

-Lex



>From: Brian Goetz <brian@quiotix.com>
>Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>To: Lucene Users List <lucene-user@jakarta.apache.org>
>Subject: Re: AW: Lexical Error
>Date: Fri, 7 Dec 2001 12:44:09 -0800
>
> > >Is there a good reason, why the QueryParser should throw an Error 
>instead of
> > >an Exception?
> > >
> > Unfortunatly this is the feature of JavaCC and not only of Lucene's
> > QueryParser.
>
>Sort of.  It should be possible to fix this by using a different approach
>to token building.
>
>--
>To unsubscribe, e-mail:   
><mailto:lucene-user-unsubscribe@jakarta.apache.org>
>For additional commands, e-mail: 
><mailto:lucene-user-help@jakarta.apache.org>
>


_________________________________________________________________
Get your FREE download of MSN Explorer at http://explorer.msn.com/intl.asp


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-576-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 10 09:05:35 2001
Return-Path: <lucene-user-return-576-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 48744 invoked from network); 10 Dec 2001 09:05:35 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 10 Dec 2001 09:05:35 -0000
Received: (qmail 16753 invoked by uid 97); 10 Dec 2001 09:05:45 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 16693 invoked by uid 97); 10 Dec 2001 09:05:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16608 invoked from network); 10 Dec 2001 09:05:44 -0000
Date: Mon, 10 Dec 2001 11:04:32 +0200
From: "Serge A. Redchuk" <bitl@mail.ru>
X-Mailer: The Bat! (v1.53d)
Reply-To: MailRu <bitl@mail.ru>
X-Priority: 3 (Normal)
Message-ID: <267300487.20011210110432@mail.ru>
To: "lucene-user@jakarta.apache.org" <lucene-user@jakarta.apache.org>
CC: "sampreet@interactive1.com" <sampreet@interactive1.com>
Subject: delete/update
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello lucene-user,

  You can laugh, but it's not clear to me how to update/remove Field
  from Document (can only add) or even update/remove Document from
  Index.
  But I saw this magic words (update/remove) in this conference.
  And did NOT - in Lucene online documentation !!!

  Can anybody help me ??? I'll be very appreciate ...

-- 
Best regards,
 Serge                          mailto:bitl@mail.ru


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-577-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 10 09:22:54 2001
Return-Path: <lucene-user-return-577-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 54966 invoked from network); 10 Dec 2001 09:22:53 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 10 Dec 2001 09:22:53 -0000
Received: (qmail 22169 invoked by uid 97); 10 Dec 2001 09:23:06 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 22153 invoked by uid 97); 10 Dec 2001 09:23:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22142 invoked from network); 10 Dec 2001 09:23:05 -0000
Date: Mon, 10 Dec 2001 11:22:06 +0200
From: "Serge A. Redchuk" <bitl@mail.ru>
X-Mailer: The Bat! (v1.53d)
Reply-To: MailRu <bitl@mail.ru>
X-Priority: 3 (Normal)
Message-ID: <1638354182.20011210112206@mail.ru>
To: "lucene-user@jakarta.apache.org" <lucene-user@jakarta.apache.org>
Subject: continue - delete/update
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello All !
      I see delete method in IndexReader, but when I delete item from
      reader - this item will not be deleted physically.
      So I must rewrite all index after each deleting ??
      Or it is quite smart to be rewrited partially ?
-- 
Best regards,
 Serge                          mailto:bitl@mail.ru


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-578-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 10 09:32:02 2001
Return-Path: <lucene-user-return-578-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 58261 invoked from network); 10 Dec 2001 09:32:02 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 10 Dec 2001 09:32:02 -0000
Received: (qmail 26257 invoked by uid 97); 10 Dec 2001 09:32:14 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 26209 invoked by uid 97); 10 Dec 2001 09:32:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26198 invoked from network); 10 Dec 2001 09:32:13 -0000
Sender: tril@pluto.blackwell.co.uk
Message-ID: <3C14814A.6E0B6063@blackwell.co.uk>
Date: Mon, 10 Dec 2001 09:32:58 +0000
From: Ian Lea <ian.lea@blackwell.co.uk>
X-Mailer: Mozilla 4.74 [en] (X11; U; Linux 2.2.16 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: continue - delete/update
References: <1638354182.20011210112206@mail.ru>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

You don't need to rewrite the index after each deletion,
but you could consider optimizing it after a batch of
changes.  See the javadoc for IndexWriter.



--
Ian.
ian.lea@blackwell.co.uk


"Serge A. Redchuk" wrote:
> 
> Hello All !
>       I see delete method in IndexReader, but when I delete item from
>       reader - this item will not be deleted physically.
>       So I must rewrite all index after each deleting ??
>       Or it is quite smart to be rewrited partially ?

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-579-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 10 10:39:11 2001
Return-Path: <lucene-user-return-579-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 92501 invoked from network); 10 Dec 2001 10:39:11 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 10 Dec 2001 10:39:11 -0000
Received: (qmail 27773 invoked by uid 97); 10 Dec 2001 10:39:23 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 27757 invoked by uid 97); 10 Dec 2001 10:39:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27740 invoked from network); 10 Dec 2001 10:39:22 -0000
From: jean-christian.gagne@prasahewitt.ch
X-Authentication-Warning: l4dupfw42.hewitt.com: noaccess set sender to <jean-christian.gagne@prasahewitt.ch> using -f
X-Lotus-FromDomain: HEWITT ASSOCIATES NA
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
        MailRu <bitl@mail.ru>
Message-ID: <86256B1E.003A65A8.00@lintng1.hewitt.com>
Date: Mon, 10 Dec 2001 11:37:34 +0100
Subject: Re: delete/update
Mime-Version: 1.0
Content-type: text/plain; charset=us-ascii
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N



Hi Serge,

You can't remove a field from a Document. If you compare an Index in Lucene to a
table in a relational database,  a Document is a row and a Field is a column.
You can always delete a row but you cannot remove a column (for a single row).
However, if you can directly update a row in a database, you can't update a
Document. Instead you have to delete that Document, create a new one with new
values and add it to the index.

Note that I'm new to Lucene and the above infos may not be 100% accurate
(hopefully not 100% wrong !!).

JCG




Hello lucene-user,

  You can laugh, but it's not clear to me how to update/remove Field
  from Document (can only add) or even update/remove Document from
  Index.
  But I saw this magic words (update/remove) in this conference.
  And did NOT - in Lucene online documentation !!!

  Can anybody help me ??? I'll be very appreciate ...






--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-580-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 10 12:18:11 2001
Return-Path: <lucene-user-return-580-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 29117 invoked from network); 10 Dec 2001 12:18:11 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 10 Dec 2001 12:18:11 -0000
Received: (qmail 5844 invoked by uid 97); 10 Dec 2001 12:18:11 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 5833 invoked by uid 97); 10 Dec 2001 12:18:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19844 invoked from network); 10 Dec 2001 09:14:36 -0000
Date: Mon, 10 Dec 2001 01:14:35 -0800
From: Brian Goetz <brian@quiotix.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: AW: Lexical Error
Message-ID: <20011210011435.C2341@lx.quiotix.com>
References: <F29MWGp168TzTiNS3OY00022c55@hotmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5i
In-Reply-To: <F29MWGp168TzTiNS3OY00022c55@hotmail.com>; from lex_lawrence@hotmail.com on Mon, Dec 10, 2001 at 03:54:58AM -0500
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> Perhaps something as simple as adding a catch-all token.  When the parser 
> encounters something goofy, it will match the last token (and not throw an 
> Error), but since it isn't expecting a <CATCHALL> token,
> you'll get a nice ParseException.
> 
> <*> TOKEN : {
>   < WHATEVER_TOKEN_DEFS_YOU_WANT: "blah" > |
>   < CATCHALL: ~[] >
> }

Yes, this is the standard JavaCC trick for preventing the
TokenMgrError from being thrown, and it works just fine (then the
error becomes a ParseException which can be caught.)

However, I'd prefer to just fix the damn thing.  

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-581-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 10 12:18:19 2001
Return-Path: <lucene-user-return-581-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 29175 invoked from network); 10 Dec 2001 12:18:18 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 10 Dec 2001 12:18:18 -0000
Received: (qmail 6122 invoked by uid 97); 10 Dec 2001 12:18:18 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 6112 invoked by uid 97); 10 Dec 2001 12:18:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11641 invoked from network); 10 Dec 2001 08:49:20 -0000
Date: Mon, 10 Dec 2001 00:49:18 -0800
From: Brian Goetz <brian@quiotix.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>, karl@gan.no
Cc: lucene-dev@jakarta.apache.org
Subject: Re: searching words starting with accent characters using UTF-8
Message-ID: <20011210004918.A2341@lx.quiotix.com>
References: <NFBBKPLCJKPEGKDAHDCAOEFCCAAA.kiran.k@net-kraft.com> <MIEMIGIOHNPEKDBMNDPCIEGDCAAA.karl@gan.no>
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
User-Agent: Mutt/1.2.5i
In-Reply-To: <MIEMIGIOHNPEKDBMNDPCIEGDCAAA.karl@gan.no>; from karl@gan.no on Mon, Dec 10, 2001 at 09:38:51AM +0100
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

OK, mea culpa.  The new query parser is not as "improved" as I'd hoped
it would be.  My bad.

In my defense, I'd say that I've written lots of parsers, but always
for development tools, which have different error-handling
characteristics than end-user tools, which the query parser is.
But that's not really relevant.  

When I wrote the query parser, I defined query terms by inclusion
rather than exclusion, and the result was that a lot of valid queries
are not accepted.  It shouldn't be hard to fix this problem once and
for all, and I'm happy to do so, except that there are a few things
about it I want to discuss first.

The query parser was later extended to support fuzzy and wildcard
queries.  A few people here, including Doug and myself, questioned the
wisdom of putting chainsaws in the hands of the untrained; innocent,
inadvertent misuse of these features effectively constitute a
denial-of- service attack.  I'm of the opinion that these advanced
features should be left to the programmatic query classes, or perhaps
to a separate "power-user query parser", and not part of the basic
query language.  This discussion was started about a month and a half
ago, but never came to any agreement or even any real discussion.  

I'm perfectly willing to redo it, but I'd like to see a decision on
the above first.  (You all know my opinion; I'm willing to hear
reasoned arguments on the other side, but the "backward compatibility"
argument, which was raised earlier, will be ignored -- we're allowed
to decide that a recent feature is a bad idea and kill it.)

-Brian


On Mon, Dec 10, 2001 at 09:38:51AM +0100, Karl Øie wrote:
> please note that the code in rc1 and rc2 is not working with Norwegian
> chars(don't know about accents), I had to use the version 1.6 from the cvs
> repository.
> 
> files can be found here, after downlaoding you will have to rebuild lucene.
> 
> http://cvs.apache.org/viewcvs/jakarta-lucene/src/java/org/apache/lucene/quer
> yParser/
> 
> mvh karl øie
> 
> 
> -----Original Message-----
> From: Kiran Kumar K.G [mailto:kiran.k@net-kraft.com]
> Sent: 8. desember 2001 12:43
> To: lucene-user@jakarta.apache.org
> Subject: searching words starting with accent characters using UTF-8
> 
> 
> 
> Iam trying to search for words starting with accent characters.As posted in
> one of the Lucene user-list mail I tried using UTF-8 encoding
> String query = this.request.getParameter( "query" );
> if( query!=null ) {
> query = new String( query.getBytes(), "UTF-8" );
> }
> 
> But this code is not working properly.
> If I give a word æran, its giving empty string
> 
> Somebody in the user list had mentioned that this is working fine.
> 
> Please mention any dependency for this code to work(OS,JDK version etc.)
> 
> Let me know is there any other way to handle words starting with special
> characters.
> 
> Thanx,
> Kiran
> 
> 
> 
> 
> --
> To unsubscribe, e-mail:
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
> 
> 
> --
> To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-582-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 10 13:31:07 2001
Return-Path: <lucene-user-return-582-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 60707 invoked from network); 10 Dec 2001 13:31:06 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 10 Dec 2001 13:31:06 -0000
Received: (qmail 17675 invoked by uid 97); 10 Dec 2001 13:31:06 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 17659 invoked by uid 97); 10 Dec 2001 13:31:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17648 invoked from network); 10 Dec 2001 13:31:05 -0000
Message-ID: <3C14B9C7.7000105@mindspring.com>
Date: Mon, 10 Dec 2001 08:33:59 -0500
From: Paul Spencer <paulspencer@mindspring.com>
User-Agent: Mozilla/5.0 (Windows; U; WinNT4.0; en-US; rv:0.9.4) Gecko/20011019 Netscape6/6.2
X-Accept-Language: en-us, es
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: Include ANT in CVS?
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I suggest you include ant in the CVS.  I believe this is a common 
practice for Jakarta projects.

Paul Spencer


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-583-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 10 17:18:58 2001
Return-Path: <lucene-user-return-583-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 28803 invoked from network); 10 Dec 2001 17:18:58 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 10 Dec 2001 17:18:58 -0000
Received: (qmail 24663 invoked by uid 97); 10 Dec 2001 17:19:00 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 24647 invoked by uid 97); 10 Dec 2001 17:18:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24636 invoked from network); 10 Dec 2001 17:18:58 -0000
Message-ID: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D70@mail.grandcentral.com>
From: Doug Cutting <DCutting@grandcentral.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Include ANT in CVS?
Date: Mon, 10 Dec 2001 09:17:39 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> From: Paul Spencer [mailto:paulspencer@mindspring.com]
> 
> I suggest you include ant in the CVS.  I believe this is a common 
> practice for Jakarta projects.

Just because it is common practice does not mean that it is a good idea.

Why do you think Ant should be included in Lucene's CVS?  What would it make
easier?

In the past, Ant was in Lucene's CVS.  But all of the developers had a
separate ant installation anyway, both for Lucene and for other projects
they work on.  So distributing ant with Lucene was just adding unused code.

Doug

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-584-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 10 18:49:18 2001
Return-Path: <lucene-user-return-584-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 87126 invoked from network); 10 Dec 2001 18:49:18 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 10 Dec 2001 18:49:18 -0000
Received: (qmail 10580 invoked by uid 97); 10 Dec 2001 18:49:03 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 10358 invoked by uid 97); 10 Dec 2001 18:48:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10228 invoked from network); 10 Dec 2001 18:48:55 -0000
Subject: Re: Include ANT in CVS?
In-Reply-To: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D70@mail.grandcentral.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Date: Mon, 10 Dec 2001 13:48:13 -0500 (EST)
X-Mailer: ELM [version 2.4ME+ PL94 (25)]
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset=US-ASCII
Message-Id: <20011210184813.CE34D3C1BB@darksleep.com>
From: puffmail@darksleep.com (Steven J. Owens)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Doug,

> > I suggest you include ant in the CVS.  I believe this is a common 
> > practice for Jakarta projects.
> 
> Just because it is common practice does not mean that it is a good idea.
> 
> Why do you think Ant should be included in Lucene's CVS?  What would it make
> easier?
> 
> In the past, Ant was in Lucene's CVS.  But all of the developers had a
> separate ant installation anyway, both for Lucene and for other projects
> they work on.  So distributing ant with Lucene was just adding unused code.

     I kind of agree with both sides here.  While it's a bit wasteful
to distribute the various tools as part of the Lucene checkout, I know
that I find it quite annoying to check a project out and then have to
go and find, download and install all of the other pieces, tools and
utilities.

     What would perhaps make more sense would be an optional checkout
of the necessary tools.  It would make even more sense to have a
site-wide jakarta tools checkout as well as a project-specific
optional checkout, but one st at a time.


Steven J. Owens 
puff@darksleep.com

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-585-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 10 22:43:13 2001
Return-Path: <lucene-user-return-585-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 17282 invoked from network); 10 Dec 2001 22:43:12 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 10 Dec 2001 22:43:12 -0000
Received: (qmail 18217 invoked by uid 97); 10 Dec 2001 22:43:18 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 18177 invoked by uid 97); 10 Dec 2001 22:43:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11839 invoked from network); 10 Dec 2001 22:34:31 -0000
Message-ID: <3C153909.6040402@apache.org>
Date: Mon, 10 Dec 2001 17:36:57 -0500
User-Agent: Mozilla/5.0 (Windows; U; WinNT4.0; en-US; rv:0.9.4) Gecko/20011019 Netscape6/6.2
X-Accept-Language: en-us, es
MIME-Version: 1.0
Subject: Re: Include ANT in CVS?
References: <20011210184813.CE34D3C1BB@darksleep.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
To: Lucene Users List <lucene-user@jakarta.apache.org>
From: Paul Spencer <paulsp@apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Some of the reasons Ant in included:

1) The "current" downloadable version of ANT may be incompatible
    it the project.

2) It remove the question "what version of ant are using?" when
    dealing with build problems.

3) Ant is small.

If you are down load the source, you are going to need ant to build.

Paul Spencer

Steven J. Owens wrote:

> Doug,
> 
> 
>>>I suggest you include ant in the CVS.  I believe this is a common 
>>>practice for Jakarta projects.
>>>
>>Just because it is common practice does not mean that it is a good idea.
>>
>>Why do you think Ant should be included in Lucene's CVS?  What would it make
>>easier?
>>
>>In the past, Ant was in Lucene's CVS.  But all of the developers had a
>>separate ant installation anyway, both for Lucene and for other projects
>>they work on.  So distributing ant with Lucene was just adding unused code.
>>
> 
>      I kind of agree with both sides here.  While it's a bit wasteful
> to distribute the various tools as part of the Lucene checkout, I know
> that I find it quite annoying to check a project out and then have to
> go and find, download and install all of the other pieces, tools and
> utilities.
> 
>      What would perhaps make more sense would be an optional checkout
> of the necessary tools.  It would make even more sense to have a
> site-wide jakarta tools checkout as well as a project-specific
> optional checkout, but one st at a time.
> 
> 
> Steven J. Owens 
> puff@darksleep.com
> 
> --
> To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>
> 
> 



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-586-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 10 22:51:31 2001
Return-Path: <lucene-user-return-586-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 24082 invoked from network); 10 Dec 2001 22:51:30 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 10 Dec 2001 22:51:30 -0000
Received: (qmail 24185 invoked by uid 97); 10 Dec 2001 22:51:36 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 24152 invoked by uid 97); 10 Dec 2001 22:51:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24140 invoked from network); 10 Dec 2001 22:51:34 -0000
Message-ID: <3C153C5B.4D5C2554@apache.org>
Date: Mon, 10 Dec 2001 17:51:07 -0500
From: Ted Husted <husted@apache.org>
Organization: Apache Software Foundation / Jakarta
X-Mailer: Mozilla 4.75 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Include ANT in CVS?
References: <3C14B9C7.7000105@mindspring.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Carrying binaries in a Jakarta CVS is strongly discouraged. Bundling the
Ant binary would definately raise eyebrows. Most products include Ant
build script, but I doubt that any include the Ant binary. If they do,
they should stop.

There are ongoing discussions of hosting some type of distribution
program so people can easily obtain the latest binary JARs of things
(CJAN), but at this time the universal recommendation would be for
people to download and install something like Ant separately. 

At one time, Turbine offered a development kit that bundle various
related things together, but I don't think even that included Ant.

-- Ted Husted, Husted dot Com, Fairport NY USA.
-- Custom Software ~ Technical Services.
-- Tel +1 716 737-3463
-- http://www.husted.com/struts/


Paul Spencer wrote:
> 
> I suggest you include ant in the CVS.  I believe this is a common
> practice for Jakarta projects.
> 
> Paul Spencer

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-587-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 10 22:53:29 2001
Return-Path: <lucene-user-return-587-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 24538 invoked from network); 10 Dec 2001 22:53:28 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 10 Dec 2001 22:53:28 -0000
Received: (qmail 24809 invoked by uid 97); 10 Dec 2001 22:53:34 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 24793 invoked by uid 97); 10 Dec 2001 22:53:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24781 invoked from network); 10 Dec 2001 22:53:33 -0000
Message-ID: <3C153CD1.9A556A54@apache.org>
Date: Mon, 10 Dec 2001 17:53:05 -0500
From: Ted Husted <husted@apache.org>
Organization: Apache Software Foundation / Jakarta
X-Mailer: Mozilla 4.75 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Include ANT in CVS?
References: <20011210184813.CE34D3C1BB@darksleep.com> <3C153909.6040402@apache.org>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Paul Spencer wrote:
> Some of the reasons Ant in included:
> 1) The "current" downloadable version of ANT may be incompatible
>     it the project.

Jakarta runs GUMP against all the products nightly. If the nightly build
here fails against the nightly build of Ant, it would be reported on the
list in the morning. 
 

> 2) It remove the question "what version of ant are using?" when
>     dealing with build problems.

Even if you bundled it, that doesn't mean people would use it, so the
question would still need to be asked.


-- Ted Husted, Husted dot Com, Fairport NY USA.
-- Custom Software ~ Technical Services.
-- Tel +1 716 737-3463
-- http://www.husted.com/struts/

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-588-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 10 23:07:11 2001
Return-Path: <lucene-user-return-588-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 36280 invoked from network); 10 Dec 2001 23:07:11 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 10 Dec 2001 23:07:11 -0000
Received: (qmail 7856 invoked by uid 97); 10 Dec 2001 23:07:16 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 7814 invoked by uid 97); 10 Dec 2001 23:07:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7798 invoked from network); 10 Dec 2001 23:07:13 -0000
Message-ID: <D15E9D991E0FD41184C90080C80D274630310C@MUSCOVITE>
From: Aruna Raghavan <ArunaR@opin.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: closing and opening the IndexWriter
Date: Mon, 10 Dec 2001 17:07:26 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Hello All,
Is it necessary to close and reopen an IndexWriter in order to create/delete
Documents and do look ups? I am currently using a home made locking
mechanism to do lock() and unlock() for reads and writes. Are there any
problems with this approach? Thanks in advance for any help.

Aruna Raghavan
Software Developer
OPIN Systems SPC

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-589-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 10 23:45:12 2001
Return-Path: <lucene-user-return-589-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 61847 invoked from network); 10 Dec 2001 23:45:12 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 10 Dec 2001 23:45:12 -0000
Received: (qmail 24359 invoked by uid 97); 10 Dec 2001 23:44:49 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 24262 invoked by uid 97); 10 Dec 2001 23:44:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24217 invoked from network); 10 Dec 2001 23:44:47 -0000
Message-ID: <001601c181d4$a558e1c0$6401a8c0@darden.virginia.edu>
From: "Erik Hatcher" <lists@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <3C14B9C7.7000105@mindspring.com> <3C153C5B.4D5C2554@apache.org>
Subject: Re: Include ANT in CVS?
Date: Mon, 10 Dec 2001 18:44:43 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Actually I believe the Xalan and/or Xerces group bundle Ant because they
want to allow easy modifications of the codebase by savvy developers
avoiding the configuration issues needed to install Ant and get it all set
up properly to build their systems.

But in general, I am not for bundling Ant with projects either since its
something we all should have installed separately anyway.

    Erik




----- Original Message -----
From: "Ted Husted" <husted@apache.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, December 10, 2001 5:51 PM
Subject: Re: Include ANT in CVS?


> Carrying binaries in a Jakarta CVS is strongly discouraged. Bundling the
> Ant binary would definately raise eyebrows. Most products include Ant
> build script, but I doubt that any include the Ant binary. If they do,
> they should stop.
>
> There are ongoing discussions of hosting some type of distribution
> program so people can easily obtain the latest binary JARs of things
> (CJAN), but at this time the universal recommendation would be for
> people to download and install something like Ant separately.
>
> At one time, Turbine offered a development kit that bundle various
> related things together, but I don't think even that included Ant.
>
> -- Ted Husted, Husted dot Com, Fairport NY USA.
> -- Custom Software ~ Technical Services.
> -- Tel +1 716 737-3463
> -- http://www.husted.com/struts/
>
>
> Paul Spencer wrote:
> >
> > I suggest you include ant in the CVS.  I believe this is a common
> > practice for Jakarta projects.
> >
> > Paul Spencer
>
> --
> To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>
>
>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-590-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 10 23:46:47 2001
Return-Path: <lucene-user-return-590-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 62495 invoked from network); 10 Dec 2001 23:46:46 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 10 Dec 2001 23:46:46 -0000
Received: (qmail 26723 invoked by uid 97); 10 Dec 2001 23:46:53 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 26707 invoked by uid 97); 10 Dec 2001 23:46:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26696 invoked from network); 10 Dec 2001 23:46:52 -0000
Message-ID: <001e01c181d4$f08d3380$6401a8c0@darden.virginia.edu>
From: "Erik Hatcher" <lists@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20011210184813.CE34D3C1BB@darksleep.com> <3C153909.6040402@apache.org>
Subject: Re: Include ANT in CVS?
Date: Mon, 10 Dec 2001 18:46:50 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

The ant-dev team work very hard to maintain backwards compatibility and
anything that breaks a Lucene build will be caught by Gump long before a
release version of Ant or Lucene is made.

All of us doing Java development should have Ant already installed anyway,
no?!  :)

Is there something specifically breaking the Lucene build that is Ant
related?  If so, what?

    Erik

----- Original Message -----
From: "Paul Spencer" <paulsp@apache.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, December 10, 2001 5:36 PM
Subject: Re: Include ANT in CVS?


> Some of the reasons Ant in included:
>
> 1) The "current" downloadable version of ANT may be incompatible
>     it the project.
>
> 2) It remove the question "what version of ant are using?" when
>     dealing with build problems.
>
> 3) Ant is small.
>
> If you are down load the source, you are going to need ant to build.
>
> Paul Spencer
>
> Steven J. Owens wrote:
>
> > Doug,
> >
> >
> >>>I suggest you include ant in the CVS.  I believe this is a common
> >>>practice for Jakarta projects.
> >>>
> >>Just because it is common practice does not mean that it is a good idea.
> >>
> >>Why do you think Ant should be included in Lucene's CVS?  What would it
make
> >>easier?
> >>
> >>In the past, Ant was in Lucene's CVS.  But all of the developers had a
> >>separate ant installation anyway, both for Lucene and for other projects
> >>they work on.  So distributing ant with Lucene was just adding unused
code.
> >>
> >
> >      I kind of agree with both sides here.  While it's a bit wasteful
> > to distribute the various tools as part of the Lucene checkout, I know
> > that I find it quite annoying to check a project out and then have to
> > go and find, download and install all of the other pieces, tools and
> > utilities.
> >
> >      What would perhaps make more sense would be an optional checkout
> > of the necessary tools.  It would make even more sense to have a
> > site-wide jakarta tools checkout as well as a project-specific
> > optional checkout, but one st at a time.
> >
> >
> > Steven J. Owens
> > puff@darksleep.com
> >
> > --
> > To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
> > For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>
> >
> >
>
>
>
> --
> To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>
>
>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-591-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Dec 11 04:44:31 2001
Return-Path: <lucene-user-return-591-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 68055 invoked from network); 11 Dec 2001 04:44:31 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 11 Dec 2001 04:44:31 -0000
Received: (qmail 6179 invoked by uid 97); 11 Dec 2001 04:44:40 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 6141 invoked by uid 97); 11 Dec 2001 04:44:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6129 invoked from network); 11 Dec 2001 04:44:37 -0000
Message-ID: <1444.202.140.147.60.1008045869.squirrel@mail.interactive1.com>
Date: Tue, 11 Dec 2001 04:44:29 -0000 (GMT)
Subject: WildcardQuery
From: <sampreet@interactive1.com>
To: <lucene-user@jakarta.apache.org>
X-Mailer: InteractiveMail (version 1.2.0)
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-AntiVirus: scanned for viruses by AMaViS 0.2.1 (http://amavis.org/)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi All,

This must be simple enough, but can anyone please explain me when a
WildcardQuery is created in QueryParser i.e. what special characters in the
query string are required to build a WildcardQuery within QueryParser?

Thanks in advance.

Best regards,
Sampreet


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-592-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Dec 11 06:28:39 2001
Return-Path: <lucene-user-return-592-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 97436 invoked from network); 11 Dec 2001 06:28:38 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 11 Dec 2001 06:28:38 -0000
Received: (qmail 7811 invoked by uid 97); 11 Dec 2001 06:28:48 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 7795 invoked by uid 97); 11 Dec 2001 06:28:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7768 invoked from network); 11 Dec 2001 06:28:47 -0000
Message-ID: <3C15A79A.9F49F53@tropo.com>
Date: Mon, 10 Dec 2001 22:28:42 -0800
From: David Spencer <dave@tropo.com>
X-Mailer: Mozilla 4.7 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: continue - delete/update
References: <1638354182.20011210112206@mail.ru>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Rcpt-To: <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I think if   you call IndexReader.close() then the deleted item really goes away.

"Serge A. Redchuk" wrote:

> Hello All !
>       I see delete method in IndexReader, but when I delete item from
>       reader - this item will not be deleted physically.
>       So I must rewrite all index after each deleting ??
>       Or it is quite smart to be rewrited partially ?
> --
> Best regards,
>  Serge                          mailto:bitl@mail.ru
>
> --
> To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>

--
http://www.tropo.com/



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-593-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Dec 11 07:30:53 2001
Return-Path: <lucene-user-return-593-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 15161 invoked from network); 11 Dec 2001 07:30:52 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 11 Dec 2001 07:30:52 -0000
Received: (qmail 29419 invoked by uid 97); 11 Dec 2001 07:31:03 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 29403 invoked by uid 97); 11 Dec 2001 07:31:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29392 invoked from network); 11 Dec 2001 07:31:02 -0000
Date: Tue, 11 Dec 2001 09:29:30 +0200
From: "Serge A. Redchuk" <bitl@mail.ru>
X-Mailer: The Bat! (v1.53d)
Reply-To: MailRu <bitl@mail.ru>
X-Priority: 3 (Normal)
Message-ID: <991366745.20011211092930@mail.ru>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: WildcardQuery
In-Reply-To: <1444.202.140.147.60.1008045869.squirrel@mail.interactive1.com>
References: <1444.202.140.147.60.1008045869.squirrel@mail.interactive1.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello sampreet,

Tuesday, December 11, 2001, 6:44:29 AM, you wrote:

sic> Hi All,

sic> This must be simple enough, but can anyone please explain me when a
sic> WildcardQuery is created in QueryParser i.e. what special characters in the
sic> query string are required to build a WildcardQuery within QueryParser?

Moreover, when I achieved complex search like this: "path:*new* comp*"
by combining WildcardQueries in BooleanQuery (NOT BY QueryParser), and
then got that query using boolq.toString(...); - the QueryParser COULD
NOT parse this string !!!

Is not it strange ? :

   QueryParser.parse( bquery.toString( ... ) ) ....  - do not work :-(

-- 
Best regards,
 Serge                            mailto:bitl@mail.ru


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-594-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Dec 11 14:22:12 2001
Return-Path: <lucene-user-return-594-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 36945 invoked from network); 11 Dec 2001 14:22:12 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 11 Dec 2001 14:22:12 -0000
Received: (qmail 15546 invoked by uid 97); 11 Dec 2001 14:22:11 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 15025 invoked by uid 97); 11 Dec 2001 14:22:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14972 invoked from network); 11 Dec 2001 14:22:05 -0000
Message-ID: <20011211142204.64536.qmail@web12704.mail.yahoo.com>
Date: Tue, 11 Dec 2001 06:22:04 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: WildcardQuery
To: Lucene Users List <lucene-user@jakarta.apache.org>, MailRu <bitl@mail.ru>
In-Reply-To: <991366745.20011211092930@mail.ru>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

If I understand you correctly, you tried to search for '*new*'.  I
believe you can't use an asterisk (*) as the first query of the query
term. So, new* is valid, while *new or *new* is not.

Otis

--- "Serge A. Redchuk" <bitl@mail.ru> wrote:
> Hello sampreet,
> 
> Tuesday, December 11, 2001, 6:44:29 AM, you wrote:
> 
> sic> Hi All,
> 
> sic> This must be simple enough, but can anyone please explain me
> when a
> sic> WildcardQuery is created in QueryParser i.e. what special
> characters in the
> sic> query string are required to build a WildcardQuery within
> QueryParser?
> 
> Moreover, when I achieved complex search like this: "path:*new*
> comp*"
> by combining WildcardQueries in BooleanQuery (NOT BY QueryParser),
> and
> then got that query using boolq.toString(...); - the QueryParser
> COULD
> NOT parse this string !!!
> 
> Is not it strange ? :
> 
>    QueryParser.parse( bquery.toString( ... ) ) ....  - do not work
> :-(
> 
> -- 
> Best regards,
>  Serge                            mailto:bitl@mail.ru
> 
> 
> --
> To unsubscribe, e-mail:  
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
> 


__________________________________________________
Do You Yahoo!?
Check out Yahoo! Shopping and Yahoo! Auctions for all of
your unique holiday gifts! Buy at http://shopping.yahoo.com
or bid at http://auctions.yahoo.com

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-595-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Dec 11 15:24:07 2001
Return-Path: <lucene-user-return-595-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 82267 invoked from network); 11 Dec 2001 15:24:06 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 11 Dec 2001 15:24:06 -0000
Received: (qmail 21371 invoked by uid 97); 11 Dec 2001 15:24:07 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 21336 invoked by uid 97); 11 Dec 2001 15:24:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21320 invoked from network); 11 Dec 2001 15:24:04 -0000
Date: Tue, 11 Dec 2001 17:23:30 +0200
From: "Serge A. Redchuk" <bitl@mail.ru>
X-Mailer: The Bat! (v1.53d)
Reply-To: MailRu <bitl@mail.ru>
X-Priority: 3 (Normal)
Message-ID: <1776715155.20011211172330@mail.ru>
To: "lucene-user@jakarta.apache.org" <lucene-user@jakarta.apache.org>
Subject: Re[2]: WildcardQuery
In-Reply-To: <20011211142204.64536.qmail@web12704.mail.yahoo.com>
References: <20011211142204.64536.qmail@web12704.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello Otis,

Strongly can not agree with you, because I really _can_ search for
anything like '*new*'.

_Simply_Beacuse_I_have_working_code_that_do_it_

Here's a slice of output of my program:

Boolean wildcard search:
built query: bee*
news41:beem;
news42:beem;
news4:beem;

Boolean wildcard search:
built query: *ee
f3:qthree;

Boolean wildcard search:
built query: +be* +path:*ws42
news42:beem;

Boolean wildcard search:
built query: +path:*ws4 +be*
news4:beem;

As you can see the first search returned 3 entries, but the 3-rd -
only one. As well as the 4-th.
And the 2-nd search returned only entry "f3:qthree;"
(as we've expected: "built query: *ee").

And I've achieve it combining WildcardQueries in BooleanQuery, but
did not achieve it by simple call of QueryParser.parser.

Tuesday, December 11, 2001, 4:22:04 PM, you wrote:

OG> If I understand you correctly, you tried to search for '*new*'.  I
OG> believe you can't use an asterisk (*) as the first query of the query
OG> term. So, new* is valid, while *new or *new* is not.

OG> Otis

OG> --- "Serge A. Redchuk" <bitl@mail.ru> wrote:
>> Hello sampreet,
>> 
>> Tuesday, December 11, 2001, 6:44:29 AM, you wrote:
>> 
>> sic> Hi All,
>> 
>> sic> This must be simple enough, but can anyone please explain me
>> when a
>> sic> WildcardQuery is created in QueryParser i.e. what special
>> characters in the
>> sic> query string are required to build a WildcardQuery within
>> QueryParser?
>> 
>> Moreover, when I achieved complex search like this: "path:*new*
>> comp*"
>> by combining WildcardQueries in BooleanQuery (NOT BY QueryParser),
>> and
>> then got that query using boolq.toString(...); - the QueryParser
>> COULD
>> NOT parse this string !!!
>> 
>> Is not it strange ? :
>> 
>>    QueryParser.parse( bquery.toString( ... ) ) ....  - do not work
>> :-(
>> 
>> -- 
>> Best regards,
>>  Serge                            mailto:bitl@mail.ru
>> 
>> 
>> --
>> To unsubscribe, e-mail:  
>> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
>> For additional commands, e-mail:
>> <mailto:lucene-user-help@jakarta.apache.org>
>> 


OG> __________________________________________________
OG> Do You Yahoo!?
OG> Check out Yahoo! Shopping and Yahoo! Auctions for all of
OG> your unique holiday gifts! Buy at http://shopping.yahoo.com
OG> or bid at http://auctions.yahoo.com



-- 
Best regards,
 Serge                            mailto:bitl@mail.ru


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-596-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Dec 11 15:29:02 2001
Return-Path: <lucene-user-return-596-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 86479 invoked from network); 11 Dec 2001 15:29:02 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 11 Dec 2001 15:29:02 -0000
Received: (qmail 29799 invoked by uid 97); 11 Dec 2001 15:29:01 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 29767 invoked by uid 97); 11 Dec 2001 15:29:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29726 invoked from network); 11 Dec 2001 15:28:57 -0000
From: "Benjamin Kopic" <bkopic@interactive1.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Re[2]: WildcardQuery
Date: Tue, 11 Dec 2001 15:28:46 -0000
Message-ID: <NFBBLLKBBKKJCAHBCMFJGEDACAAA.bkopic@interactive1.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <1776715155.20011211172330@mail.ru>
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
Importance: Normal
X-AntiVirus: scanned for viruses by AMaViS 0.2.1 (http://amavis.org/)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Sergej

Could you please provide a sample code to demonstrate how you did that?

Best regards

Benjamin

> -----Original Message-----
> From: Serge A. Redchuk [mailto:bitl@mail.ru]
> Sent: 11 December 2001 15:24
> To: lucene-user@jakarta.apache.org
> Subject: Re[2]: WildcardQuery
> 
> 
> Hello Otis,
> 
> Strongly can not agree with you, because I really _can_ search for
> anything like '*new*'.
> 
> _Simply_Beacuse_I_have_working_code_that_do_it_
> 
> Here's a slice of output of my program:
> 
> Boolean wildcard search:
> built query: bee*
> news41:beem;
> news42:beem;
> news4:beem;
> 
> Boolean wildcard search:
> built query: *ee
> f3:qthree;
> 
> Boolean wildcard search:
> built query: +be* +path:*ws42
> news42:beem;
> 
> Boolean wildcard search:
> built query: +path:*ws4 +be*
> news4:beem;
> 
> As you can see the first search returned 3 entries, but the 3-rd -
> only one. As well as the 4-th.
> And the 2-nd search returned only entry "f3:qthree;"
> (as we've expected: "built query: *ee").
> 
> And I've achieve it combining WildcardQueries in BooleanQuery, but
> did not achieve it by simple call of QueryParser.parser.
> 
> Tuesday, December 11, 2001, 4:22:04 PM, you wrote:
> 
> OG> If I understand you correctly, you tried to search for '*new*'.  I
> OG> believe you can't use an asterisk (*) as the first query of the query
> OG> term. So, new* is valid, while *new or *new* is not.
> 
> OG> Otis
> 
> OG> --- "Serge A. Redchuk" <bitl@mail.ru> wrote:
> >> Hello sampreet,
> >> 
> >> Tuesday, December 11, 2001, 6:44:29 AM, you wrote:
> >> 
> >> sic> Hi All,
> >> 
> >> sic> This must be simple enough, but can anyone please explain me
> >> when a
> >> sic> WildcardQuery is created in QueryParser i.e. what special
> >> characters in the
> >> sic> query string are required to build a WildcardQuery within
> >> QueryParser?
> >> 
> >> Moreover, when I achieved complex search like this: "path:*new*
> >> comp*"
> >> by combining WildcardQueries in BooleanQuery (NOT BY QueryParser),
> >> and
> >> then got that query using boolq.toString(...); - the QueryParser
> >> COULD
> >> NOT parse this string !!!
> >> 
> >> Is not it strange ? :
> >> 
> >>    QueryParser.parse( bquery.toString( ... ) ) ....  - do not work
> >> :-(
> >> 
> >> -- 
> >> Best regards,
> >>  Serge                            mailto:bitl@mail.ru
> >> 
> >> 
> >> --
> >> To unsubscribe, e-mail:  
> >> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> >> For additional commands, e-mail:
> >> <mailto:lucene-user-help@jakarta.apache.org>
> >> 
> 
> 
> OG> __________________________________________________
> OG> Do You Yahoo!?
> OG> Check out Yahoo! Shopping and Yahoo! Auctions for all of
> OG> your unique holiday gifts! Buy at http://shopping.yahoo.com
> OG> or bid at http://auctions.yahoo.com
> 
> 
> 
> -- 
> Best regards,
>  Serge                            mailto:bitl@mail.ru
> 
> 
> --
> To unsubscribe, e-mail:   
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail: 
> <mailto:lucene-user-help@jakarta.apache.org>
> 
> 


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-597-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Dec 11 15:56:21 2001
Return-Path: <lucene-user-return-597-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 13395 invoked from network); 11 Dec 2001 15:56:21 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 11 Dec 2001 15:56:21 -0000
Received: (qmail 4343 invoked by uid 97); 11 Dec 2001 15:55:41 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 4301 invoked by uid 97); 11 Dec 2001 15:55:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4257 invoked from network); 11 Dec 2001 15:55:38 -0000
Date: Tue, 11 Dec 2001 17:54:38 +0200
From: "Serge A. Redchuk" <bitl@mail.ru>
X-Mailer: The Bat! (v1.53d)
Reply-To: MailRu <bitl@mail.ru>
X-Priority: 3 (Normal)
Message-ID: <238583212.20011211175438@mail.ru>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re[4]: WildcardQuery
In-Reply-To: <NFBBLLKBBKKJCAHBCMFJGEDACAAA.bkopic@interactive1.com>
References: <NFBBLLKBBKKJCAHBCMFJGEDACAAA.bkopic@interactive1.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello Benjamin,

Tuesday, December 11, 2001, 5:28:46 PM, you wrote:

BK> Sergej

BK> Could you please provide a sample code to demonstrate how you did that?

Of course:
(please correct me if I'll become wrong finally, but hope that I have
not hallucinations :-)

// search function
void searchBooleanWildcard( HashMap terms, boolean req ) throws IOException {
    System.out.println( "Boolean wildcard search:" );
    HashSet entries = new HashSet( terms.entrySet() );
    BooleanQuery bQuery = new BooleanQuery();
    for( Iterator it = entries.iterator(); it.hasNext(); ){
      Object itn = it.next();
      String where = (String)((Map.Entry)itn).getKey();
      String what = (String)((Map.Entry)itn).getValue();
      WildcardQuery wQuery = new WildcardQuery( new Term( where, what ) );
      //System.out.println( "Add to query: [" + where + ", " + what + "]" );
      bQuery.add( wQuery, req, false );
    }
    System.out.println( "built query: " + bQuery.toString( "body" ) );
    Searcher searcher = new IndexSearcher( rdir );
    this.showHits( searcher.search( bQuery ) );
  }

// used at the end of the function above
private void showHits( Hits hits ) throws IOException {
    for( int i=0; i<hits.length(); i++ ){
      System.out.println( hits.doc( i ).get( "path" ) + ":"
        + hits.doc( i ).get( "body" ) + "; Score: " + hits.score( i ) );
    };
    System.out.println( "" );
  }

Please do not forget that HashMap can't contain more then one values
with the same key. So the function searchBooleanWildcard(HashMap hmap) can
combine search request only for different field names. (Hope that this
explaination is quite clear).

For example if we built search directories from 3 type of fields:
["body", "..."], ["path", "..."], ["type", "..."]
we can add no more then 3 pairs to HashMap hmap.

And an example of search:
HashMap phQeryTerms = new HashMap();
phQeryTerms.put( "body", "*e*n" );
sr.searchBooleanWildcard( phQeryTerms, true );

Corresponding output:
Boolean wildcard search:
built query: +*e*n
news7:bean; Score: 1.0
news73:beeemN; Score: 0.25
news71:jEaN; Score: 0.25

Of course, when the next pairs are indexed
( path , body ):
"news7", "bean"
"news71", "jEaN"
"news72", "lion"
"news73", "beeemN"
  
BK> Best regards

BK> Benjamin

>> -----Original Message-----
>> From: Serge A. Redchuk [mailto:bitl@mail.ru]
>> Sent: 11 December 2001 15:24
>> To: lucene-user@jakarta.apache.org
>> Subject: Re[2]: WildcardQuery
>> 
>> 
>> Hello Otis,
>> 
>> Strongly can not agree with you, because I really _can_ search for
>> anything like '*new*'.
>> 
>> _Simply_Beacuse_I_have_working_code_that_do_it_
>> 
>> Here's a slice of output of my program:
>> 
>> Boolean wildcard search:
>> built query: bee*
>> news41:beem;
>> news42:beem;
>> news4:beem;
>> 
>> Boolean wildcard search:
>> built query: *ee
>> f3:qthree;
>> 
>> Boolean wildcard search:
>> built query: +be* +path:*ws42
>> news42:beem;
>> 
>> Boolean wildcard search:
>> built query: +path:*ws4 +be*
>> news4:beem;
>> 
>> As you can see the first search returned 3 entries, but the 3-rd -
>> only one. As well as the 4-th.
>> And the 2-nd search returned only entry "f3:qthree;"
>> (as we've expected: "built query: *ee").
>> 
>> And I've achieve it combining WildcardQueries in BooleanQuery, but
>> did not achieve it by simple call of QueryParser.parser.
>> 
>> Tuesday, December 11, 2001, 4:22:04 PM, you wrote:
>> 
>> OG> If I understand you correctly, you tried to search for '*new*'.  I
>> OG> believe you can't use an asterisk (*) as the first query of the query
>> OG> term. So, new* is valid, while *new or *new* is not.
>> 
>> OG> Otis
>> 
>> OG> --- "Serge A. Redchuk" <bitl@mail.ru> wrote:
>> >> Hello sampreet,
>> >> 
>> >> Tuesday, December 11, 2001, 6:44:29 AM, you wrote:
>> >> 
>> >> sic> Hi All,
>> >> 
>> >> sic> This must be simple enough, but can anyone please explain me
>> >> when a
>> >> sic> WildcardQuery is created in QueryParser i.e. what special
>> >> characters in the
>> >> sic> query string are required to build a WildcardQuery within
>> >> QueryParser?
>> >> 
>> >> Moreover, when I achieved complex search like this: "path:*new*
>> >> comp*"
>> >> by combining WildcardQueries in BooleanQuery (NOT BY QueryParser),
>> >> and
>> >> then got that query using boolq.toString(...); - the QueryParser
>> >> COULD
>> >> NOT parse this string !!!
>> >> 
>> >> Is not it strange ? :
>> >> 
>> >>    QueryParser.parse( bquery.toString( ... ) ) ....  - do not work
>> >> :-(
>> >> 

-- 
Best regards,
 Serge                            mailto:bitl@mail.ru


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-598-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Dec 11 16:03:40 2001
Return-Path: <lucene-user-return-598-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 19541 invoked from network); 11 Dec 2001 16:03:39 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 11 Dec 2001 16:03:39 -0000
Received: (qmail 8747 invoked by uid 97); 11 Dec 2001 16:03:40 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 8731 invoked by uid 97); 11 Dec 2001 16:03:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8720 invoked from network); 11 Dec 2001 16:03:39 -0000
From: "Benjamin Kopic" <bkopic@interactive1.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	"MailRu" <bitl@mail.ru>
Subject: RE: Re[4]: WildcardQuery
Date: Tue, 11 Dec 2001 16:03:24 -0000
Message-ID: <NFBBLLKBBKKJCAHBCMFJKEDACAAA.bkopic@interactive1.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <238583212.20011211175438@mail.ru>
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
Importance: Normal
X-AntiVirus: scanned for viruses by AMaViS 0.2.1 (http://amavis.org/)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thank you Sergej :)

> -----Original Message-----
> From: Serge A. Redchuk [mailto:bitl@mail.ru]
> Sent: 11 December 2001 15:55
> To: Lucene Users List
> Subject: Re[4]: WildcardQuery
>
>
> Hello Benjamin,
>
> Tuesday, December 11, 2001, 5:28:46 PM, you wrote:
>
> BK> Sergej
>
> BK> Could you please provide a sample code to demonstrate how you
> did that?
>
> Of course:
> (please correct me if I'll become wrong finally, but hope that I have
> not hallucinations :-)
>
> // search function
> void searchBooleanWildcard( HashMap terms, boolean req ) throws
> IOException {
>     System.out.println( "Boolean wildcard search:" );
>     HashSet entries = new HashSet( terms.entrySet() );
>     BooleanQuery bQuery = new BooleanQuery();
>     for( Iterator it = entries.iterator(); it.hasNext(); ){
>       Object itn = it.next();
>       String where = (String)((Map.Entry)itn).getKey();
>       String what = (String)((Map.Entry)itn).getValue();
>       WildcardQuery wQuery = new WildcardQuery( new Term( where, what ) );
>       //System.out.println( "Add to query: [" + where + ", " +
> what + "]" );
>       bQuery.add( wQuery, req, false );
>     }
>     System.out.println( "built query: " + bQuery.toString( "body" ) );
>     Searcher searcher = new IndexSearcher( rdir );
>     this.showHits( searcher.search( bQuery ) );
>   }
>
> // used at the end of the function above
> private void showHits( Hits hits ) throws IOException {
>     for( int i=0; i<hits.length(); i++ ){
>       System.out.println( hits.doc( i ).get( "path" ) + ":"
>         + hits.doc( i ).get( "body" ) + "; Score: " + hits.score( i ) );
>     };
>     System.out.println( "" );
>   }
>
> Please do not forget that HashMap can't contain more then one values
> with the same key. So the function searchBooleanWildcard(HashMap hmap) can
> combine search request only for different field names. (Hope that this
> explaination is quite clear).
>
> For example if we built search directories from 3 type of fields:
> ["body", "..."], ["path", "..."], ["type", "..."]
> we can add no more then 3 pairs to HashMap hmap.
>
> And an example of search:
> HashMap phQeryTerms = new HashMap();
> phQeryTerms.put( "body", "*e*n" );
> sr.searchBooleanWildcard( phQeryTerms, true );
>
> Corresponding output:
> Boolean wildcard search:
> built query: +*e*n
> news7:bean; Score: 1.0
> news73:beeemN; Score: 0.25
> news71:jEaN; Score: 0.25
>
> Of course, when the next pairs are indexed
> ( path , body ):
> "news7", "bean"
> "news71", "jEaN"
> "news72", "lion"
> "news73", "beeemN"
>
> BK> Best regards
>
> BK> Benjamin
>
> >> -----Original Message-----
> >> From: Serge A. Redchuk [mailto:bitl@mail.ru]
> >> Sent: 11 December 2001 15:24
> >> To: lucene-user@jakarta.apache.org
> >> Subject: Re[2]: WildcardQuery
> >>
> >>
> >> Hello Otis,
> >>
> >> Strongly can not agree with you, because I really _can_ search for
> >> anything like '*new*'.
> >>
> >> _Simply_Beacuse_I_have_working_code_that_do_it_
> >>
> >> Here's a slice of output of my program:
> >>
> >> Boolean wildcard search:
> >> built query: bee*
> >> news41:beem;
> >> news42:beem;
> >> news4:beem;
> >>
> >> Boolean wildcard search:
> >> built query: *ee
> >> f3:qthree;
> >>
> >> Boolean wildcard search:
> >> built query: +be* +path:*ws42
> >> news42:beem;
> >>
> >> Boolean wildcard search:
> >> built query: +path:*ws4 +be*
> >> news4:beem;
> >>
> >> As you can see the first search returned 3 entries, but the 3-rd -
> >> only one. As well as the 4-th.
> >> And the 2-nd search returned only entry "f3:qthree;"
> >> (as we've expected: "built query: *ee").
> >>
> >> And I've achieve it combining WildcardQueries in BooleanQuery, but
> >> did not achieve it by simple call of QueryParser.parser.
> >>
> >> Tuesday, December 11, 2001, 4:22:04 PM, you wrote:
> >>
> >> OG> If I understand you correctly, you tried to search for '*new*'.  I
> >> OG> believe you can't use an asterisk (*) as the first query
> of the query
> >> OG> term. So, new* is valid, while *new or *new* is not.
> >>
> >> OG> Otis
> >>
> >> OG> --- "Serge A. Redchuk" <bitl@mail.ru> wrote:
> >> >> Hello sampreet,
> >> >>
> >> >> Tuesday, December 11, 2001, 6:44:29 AM, you wrote:
> >> >>
> >> >> sic> Hi All,
> >> >>
> >> >> sic> This must be simple enough, but can anyone please explain me
> >> >> when a
> >> >> sic> WildcardQuery is created in QueryParser i.e. what special
> >> >> characters in the
> >> >> sic> query string are required to build a WildcardQuery within
> >> >> QueryParser?
> >> >>
> >> >> Moreover, when I achieved complex search like this: "path:*new*
> >> >> comp*"
> >> >> by combining WildcardQueries in BooleanQuery (NOT BY QueryParser),
> >> >> and
> >> >> then got that query using boolq.toString(...); - the QueryParser
> >> >> COULD
> >> >> NOT parse this string !!!
> >> >>
> >> >> Is not it strange ? :
> >> >>
> >> >>    QueryParser.parse( bquery.toString( ... ) ) ....  - do not work
> >> >> :-(
> >> >>
>
> --
> Best regards,
>  Serge                            mailto:bitl@mail.ru
>
>
> --
> To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-599-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Dec 11 17:07:43 2001
Return-Path: <lucene-user-return-599-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 76909 invoked from network); 11 Dec 2001 17:07:43 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 11 Dec 2001 17:07:43 -0000
Received: (qmail 19199 invoked by uid 97); 11 Dec 2001 17:07:45 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 19159 invoked by uid 97); 11 Dec 2001 17:07:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19147 invoked from network); 11 Dec 2001 17:07:43 -0000
Message-ID: <20011211170742.94909.qmail@web12704.mail.yahoo.com>
Date: Tue, 11 Dec 2001 09:07:42 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Re[2]: WildcardQuery
To: Lucene Users List <lucene-user@jakarta.apache.org>, MailRu <bitl@mail.ru>
In-Reply-To: <1776715155.20011211172330@mail.ru>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Sorry, It looks like I was wrong.  I should have said that I haven't
used WildcardQuery, but normally (i.e. not in Lucene), a few
characters, often 3, are required before the wild card character.
Sorry, can't help you, maybe somebody else can.

Otis

--- "Serge A. Redchuk" <bitl@mail.ru> wrote:
> Hello Otis,
> 
> Strongly can not agree with you, because I really _can_ search for
> anything like '*new*'.
> 
> _Simply_Beacuse_I_have_working_code_that_do_it_
> 
> Here's a slice of output of my program:
> 
> Boolean wildcard search:
> built query: bee*
> news41:beem;
> news42:beem;
> news4:beem;
> 
> Boolean wildcard search:
> built query: *ee
> f3:qthree;
> 
> Boolean wildcard search:
> built query: +be* +path:*ws42
> news42:beem;
> 
> Boolean wildcard search:
> built query: +path:*ws4 +be*
> news4:beem;
> 
> As you can see the first search returned 3 entries, but the 3-rd -
> only one. As well as the 4-th.
> And the 2-nd search returned only entry "f3:qthree;"
> (as we've expected: "built query: *ee").
> 
> And I've achieve it combining WildcardQueries in BooleanQuery, but
> did not achieve it by simple call of QueryParser.parser.
> 
> Tuesday, December 11, 2001, 4:22:04 PM, you wrote:
> 
> OG> If I understand you correctly, you tried to search for '*new*'. 
> I
> OG> believe you can't use an asterisk (*) as the first query of the
> query
> OG> term. So, new* is valid, while *new or *new* is not.
> 
> OG> Otis
> 
> OG> --- "Serge A. Redchuk" <bitl@mail.ru> wrote:
> >> Hello sampreet,
> >> 
> >> Tuesday, December 11, 2001, 6:44:29 AM, you wrote:
> >> 
> >> sic> Hi All,
> >> 
> >> sic> This must be simple enough, but can anyone please explain me
> >> when a
> >> sic> WildcardQuery is created in QueryParser i.e. what special
> >> characters in the
> >> sic> query string are required to build a WildcardQuery within
> >> QueryParser?
> >> 
> >> Moreover, when I achieved complex search like this: "path:*new*
> >> comp*"
> >> by combining WildcardQueries in BooleanQuery (NOT BY QueryParser),
> >> and
> >> then got that query using boolq.toString(...); - the QueryParser
> >> COULD
> >> NOT parse this string !!!
> >> 
> >> Is not it strange ? :
> >> 
> >>    QueryParser.parse( bquery.toString( ... ) ) ....  - do not work
> >> :-(
> >> 
> >> -- 
> >> Best regards,
> >>  Serge                            mailto:bitl@mail.ru
> >> 
> >> 
> >> --
> >> To unsubscribe, e-mail:  
> >> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> >> For additional commands, e-mail:
> >> <mailto:lucene-user-help@jakarta.apache.org>
> >> 
> 
> 
> OG> __________________________________________________
> OG> Do You Yahoo!?
> OG> Check out Yahoo! Shopping and Yahoo! Auctions for all of
> OG> your unique holiday gifts! Buy at http://shopping.yahoo.com
> OG> or bid at http://auctions.yahoo.com
> 
> 
> 
> -- 
> Best regards,
>  Serge                            mailto:bitl@mail.ru
> 
> 
> --
> To unsubscribe, e-mail:  
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
> 


__________________________________________________
Do You Yahoo!?
Check out Yahoo! Shopping and Yahoo! Auctions for all of
your unique holiday gifts! Buy at http://shopping.yahoo.com
or bid at http://auctions.yahoo.com

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-600-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Dec 11 18:46:36 2001
Return-Path: <lucene-user-return-600-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 52074 invoked from network); 11 Dec 2001 18:46:36 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 11 Dec 2001 18:46:36 -0000
Received: (qmail 18211 invoked by uid 97); 11 Dec 2001 18:45:39 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 18189 invoked by uid 97); 11 Dec 2001 18:45:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15774 invoked from network); 11 Dec 2001 16:57:53 -0000
X-Originating-IP: [63.87.177.13]
From: "Dzung Nguyen" <nguyendq35@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: Search different terms for different fields (Complex Query)
Date: Tue, 11 Dec 2001 16:57:52 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <F45taIQfSwBWznpbmiA00021c9b@hotmail.com>
X-OriginalArrivalTime: 11 Dec 2001 16:57:52.0689 (UTC) FILETIME=[F8E08A10:01C18264]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Please help

In my LuceneDocument, I have three fields (title, library, content) and I 
would like to search for 'myText' in the content field AND it should also 
match 'myLibrary' in Library field.

"content:myText: AND "library:myLibrary"

It should only return hit if 'myText' is in the content and 'myLibrary' is 
in the library field.

I read the Lucene FAG and it mention about complex query but does NOT give 
any example.  Can someone please help me with some sample code.

Thanks

Here is what the FAG say:
"A more complex queries may contain nested queries with 'and', 'or', 'not' 
or 'phrase' relations. Queries may also contains specification of which 
document fields to match against the various parts of the query (.e.g. 
'authors' and 'title') and hints that may effects the ranking of the matched 
documents ('boost' factor)."


_________________________________________________________________
Get your FREE download of MSN Explorer at http://explorer.msn.com/intl.asp


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-601-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Dec 11 18:53:59 2001
Return-Path: <lucene-user-return-601-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 57546 invoked from network); 11 Dec 2001 18:53:58 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 11 Dec 2001 18:53:58 -0000
Received: (qmail 24528 invoked by uid 97); 11 Dec 2001 18:54:01 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 24489 invoked by uid 97); 11 Dec 2001 18:54:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24477 invoked from network); 11 Dec 2001 18:54:00 -0000
Message-ID: <20011211185400.3375.qmail@web12703.mail.yahoo.com>
Date: Tue, 11 Dec 2001 10:54:00 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Search different terms for different fields (Complex Query)
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <F45taIQfSwBWznpbmiA00021c9b@hotmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Have you tried:
  content:myText AND library:myLibrary

Note no quotes and no ':' after myText

If the quote of the FAQ (not FAG, fag is a slang (derogatory?) term for
homosexuals) entry is the real version then there are some typos to fix
there...

Otis


--- Dzung Nguyen <nguyendq35@hotmail.com> wrote:
> 
> Please help
> 
> In my LuceneDocument, I have three fields (title, library, content)
> and I 
> would like to search for 'myText' in the content field AND it should
> also 
> match 'myLibrary' in Library field.
> 
> "content:myText: AND "library:myLibrary"
> 
> It should only return hit if 'myText' is in the content and
> 'myLibrary' is 
> in the library field.
> 
> I read the Lucene FAG and it mention about complex query but does NOT
> give 
> any example.  Can someone please help me with some sample code.
> 
> Thanks
> 
> Here is what the FAG say:
> "A more complex queries may contain nested queries with 'and', 'or',
> 'not' 
> or 'phrase' relations. Queries may also contains specification of
> which 
> document fields to match against the various parts of the query
> (.e.g. 
> 'authors' and 'title') and hints that may effects the ranking of the
> matched 
> documents ('boost' factor)."
> 
> 
> _________________________________________________________________
> Get your FREE download of MSN Explorer at
> http://explorer.msn.com/intl.asp
> 
> 
> --
> To unsubscribe, e-mail:  
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
> 


__________________________________________________
Do You Yahoo!?
Check out Yahoo! Shopping and Yahoo! Auctions for all of
your unique holiday gifts! Buy at http://shopping.yahoo.com
or bid at http://auctions.yahoo.com

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-602-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Dec 11 19:02:48 2001
Return-Path: <lucene-user-return-602-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 65051 invoked from network); 11 Dec 2001 19:02:48 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 11 Dec 2001 19:02:48 -0000
Received: (qmail 7599 invoked by uid 97); 11 Dec 2001 19:02:07 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 7536 invoked by uid 97); 11 Dec 2001 19:02:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7442 invoked from network); 11 Dec 2001 19:02:05 -0000
Reply-To: <swong@progress.com>
From: "Stephen Wong" <swong@progress.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Search different terms for different fields (Complex Query)
Date: Tue, 11 Dec 2001 14:02:02 -0500
Message-ID: <MOEHLDGPPFCFPJENGKDHKECNCDAA.swong@progress.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
In-Reply-To: <F45taIQfSwBWznpbmiA00021c9b@hotmail.com>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

It sounds like the "complex" query you are looking
for is a BooleanQuery which links different queries
together.

Maybe:
BooleanQuery bq = new BooleanQuery();
bq.add(new TermQuery(new Term("content", "yourText")), true, false);
bq.add(new TermQuery(new Term("library", "yourText")), true, false);
... and then pass this Query into the searcher you are using.

I believe that BooleanQuery will return all documents that match
both of the TermQuery(s) you pass in.

Hope this helps, and goodluck,
Stephen Wong

> -----Original Message-----
> From: Dzung Nguyen [mailto:nguyendq35@hotmail.com]
> Sent: Tuesday, December 11, 2001 11:58 AM
> To: lucene-user@jakarta.apache.org
> Subject: Search different terms for different fields (Complex Query)
>
>
>
> Please help
>
> In my LuceneDocument, I have three fields (title, library, content) and I
> would like to search for 'myText' in the content field AND it should also
> match 'myLibrary' in Library field.
>
> "content:myText: AND "library:myLibrary"
>
> It should only return hit if 'myText' is in the content and
> 'myLibrary' is
> in the library field.
>
> I read the Lucene FAG and it mention about complex query but does
> NOT give
> any example.  Can someone please help me with some sample code.
>
> Thanks
>
> Here is what the FAG say:
> "A more complex queries may contain nested queries with 'and',
> 'or', 'not'
> or 'phrase' relations. Queries may also contains specification of which
> document fields to match against the various parts of the query (.e.g.
> 'authors' and 'title') and hints that may effects the ranking of
> the matched
> documents ('boost' factor)."
>
>
> _________________________________________________________________
> Get your FREE download of MSN Explorer at http://explorer.msn.com/intl.asp
>
>
> --
> To unsubscribe, e-mail:
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
>
>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-603-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Dec 12 00:55:57 2001
Return-Path: <lucene-user-return-603-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 73810 invoked from network); 12 Dec 2001 00:55:57 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 12 Dec 2001 00:55:57 -0000
Received: (qmail 15055 invoked by uid 97); 12 Dec 2001 00:56:03 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 15039 invoked by uid 97); 12 Dec 2001 00:56:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15028 invoked from network); 12 Dec 2001 00:56:02 -0000
Message-ID: <008f01c182a7$f753d420$0b01a8c0@168.1.8.Domainrelevanz>
Reply-To: "Kelvin Tan" <kelvin@relevanz.com>
From: "Kelvin Tan" <kelvin@relevanz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <MOEHLDGPPFCFPJENGKDHKECNCDAA.swong@progress.com>
Subject: Re: Search different terms for different fields (Complex Query)
Date: Wed, 12 Dec 2001 08:57:25 +0800
Organization: Relevanz Pte Ltd
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2615.200
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2615.200
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I've posted a MultiFieldQueryParser to this list previously. Search the
archives.

I think you'll find it useful.

Kelvin

----- Original Message -----
From: Stephen Wong <swong@progress.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Sent: Wednesday, December 12, 2001 3:02 AM
Subject: RE: Search different terms for different fields (Complex Query)


> It sounds like the "complex" query you are looking
> for is a BooleanQuery which links different queries
> together.
>
> Maybe:
> BooleanQuery bq = new BooleanQuery();
> bq.add(new TermQuery(new Term("content", "yourText")), true, false);
> bq.add(new TermQuery(new Term("library", "yourText")), true, false);
> ... and then pass this Query into the searcher you are using.
>
> I believe that BooleanQuery will return all documents that match
> both of the TermQuery(s) you pass in.
>
> Hope this helps, and goodluck,
> Stephen Wong
>
> > -----Original Message-----
> > From: Dzung Nguyen [mailto:nguyendq35@hotmail.com]
> > Sent: Tuesday, December 11, 2001 11:58 AM
> > To: lucene-user@jakarta.apache.org
> > Subject: Search different terms for different fields (Complex Query)
> >
> >
> >
> > Please help
> >
> > In my LuceneDocument, I have three fields (title, library, content) and
I
> > would like to search for 'myText' in the content field AND it should
also
> > match 'myLibrary' in Library field.
> >
> > "content:myText: AND "library:myLibrary"
> >
> > It should only return hit if 'myText' is in the content and
> > 'myLibrary' is
> > in the library field.
> >
> > I read the Lucene FAG and it mention about complex query but does
> > NOT give
> > any example.  Can someone please help me with some sample code.
> >
> > Thanks
> >
> > Here is what the FAG say:
> > "A more complex queries may contain nested queries with 'and',
> > 'or', 'not'
> > or 'phrase' relations. Queries may also contains specification of which
> > document fields to match against the various parts of the query (.e.g.
> > 'authors' and 'title') and hints that may effects the ranking of
> > the matched
> > documents ('boost' factor)."
> >
> >
> > _________________________________________________________________
> > Get your FREE download of MSN Explorer at
http://explorer.msn.com/intl.asp
> >
> >
> > --
> > To unsubscribe, e-mail:
> > <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> > For additional commands, e-mail:
> > <mailto:lucene-user-help@jakarta.apache.org>
> >
> >
>
>
> --
> To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>
>
>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-604-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Dec 12 03:39:36 2001
Return-Path: <lucene-user-return-604-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 24515 invoked from network); 12 Dec 2001 03:39:36 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 12 Dec 2001 03:39:36 -0000
Received: (qmail 9512 invoked by uid 97); 12 Dec 2001 03:39:44 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 9496 invoked by uid 97); 12 Dec 2001 03:39:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9485 invoked from network); 12 Dec 2001 03:39:41 -0000
Message-ID: <001f01c182be$c82e5000$850aa8c0@cmm.intumit.com>
From: =?big5?B?s6+r2KTl?= <hchen@intumit.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: CJK Tokenizer
Date: Wed, 12 Dec 2001 11:40:40 +0800
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_001A_01C18301.D316D760"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_001A_01C18301.D316D760
Content-Type: text/plain;
	charset="big5"
Content-Transfer-Encoding: quoted-printable

Hi,

I understand that a Chinese tokenizer has been contributed.  Is it =
publicly available?

Thanks

--
Herman


------=_NextPart_000_001A_01C18301.D316D760--



From lucene-user-return-605-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Dec 12 04:05:44 2001
Return-Path: <lucene-user-return-605-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 31130 invoked from network); 12 Dec 2001 04:05:44 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 12 Dec 2001 04:05:44 -0000
Received: (qmail 14802 invoked by uid 97); 12 Dec 2001 04:05:52 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 14786 invoked by uid 97); 12 Dec 2001 04:05:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14774 invoked from network); 12 Dec 2001 04:05:51 -0000
Message-ID: <1259.202.140.147.60.1008129948.squirrel@mail.interactive1.com>
Date: Wed, 12 Dec 2001 04:05:48 -0000 (GMT)
Subject: Re: Re[2]: WildcardQuery
From: <sampreet@interactive1.com>
To: <lucene-user@jakarta.apache.org>
In-Reply-To: <20011211170742.94909.qmail@web12704.mail.yahoo.com>
References: <20011211170742.94909.qmail@web12704.mail.yahoo.com>
X-Mailer: InteractiveMail (version 1.2.0)
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-AntiVirus: scanned for viruses by AMaViS 0.2.1 (http://amavis.org/)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello lucene users,

Thanks for the interest regarding wild card searches.

The WildcardQuery interprets * for 1 or more characters. But i had to edit
it for zero or more characters such that *place* , gives results
containing 'marketplace' and 'placed', but also for 'place', as was the
project requirement. Its only that instead of building the WildcardQuery
explicitly, I wanted it to be done by QueryParser class for code
optimization. I had posted the query for the same purpose.

Any suggestions will be quite helpful.

Thanks in advance,

Best regards,
Sampreet



> Sorry, It looks like I was wrong.  I should have said that I haven't
> used WildcardQuery, but normally (i.e. not in Lucene), a few
> characters, often 3, are required before the wild card character.
> Sorry, can't help you, maybe somebody else can.
>
> Otis
>
> --- "Serge A. Redchuk" <bitl@mail.ru> wrote:
>> Hello Otis,
>>
>> Strongly can not agree with you, because I really _can_ search for
>> anything like '*new*'.
>>
>> _Simply_Beacuse_I_have_working_code_that_do_it_
>>
>> Here's a slice of output of my program:
>>
>> Boolean wildcard search:
>> built query: bee*
>> news41:beem;
>> news42:beem;
>> news4:beem;
>>
>> Boolean wildcard search:
>> built query: *ee
>> f3:qthree;
>>
>> Boolean wildcard search:
>> built query: +be* +path:*ws42
>> news42:beem;
>>
>> Boolean wildcard search:
>> built query: +path:*ws4 +be*
>> news4:beem;
>>
>> As you can see the first search returned 3 entries, but the 3-rd -
>> only one. As well as the 4-th.
>> And the 2-nd search returned only entry "f3:qthree;"
>> (as we've expected: "built query: *ee").
>>
>> And I've achieve it combining WildcardQueries in BooleanQuery, but did
>> not achieve it by simple call of QueryParser.parser.
>>
>> Tuesday, December 11, 2001, 4:22:04 PM, you wrote:
>>
>> OG> If I understand you correctly, you tried to search for '*new*'.  I
>> OG> believe you can't use an asterisk (*) as the first query of the
>> query
>> OG> term. So, new* is valid, while *new or *new* is not.
>>
>> OG> Otis
>>
>> OG> --- "Serge A. Redchuk" <bitl@mail.ru> wrote:
>> >> Hello sampreet,
>> >>
>> >> Tuesday, December 11, 2001, 6:44:29 AM, you wrote:
>> >>
>> >> sic> Hi All,
>> >>
>> >> sic> This must be simple enough, but can anyone please explain me
>> >> when a
>> >> sic> WildcardQuery is created in QueryParser i.e. what special
>> >> characters in the
>> >> sic> query string are required to build a WildcardQuery within
>> >> QueryParser?
>> >>
>> >> Moreover, when I achieved complex search like this: "path:*new*
>> >> comp*"
>> >> by combining WildcardQueries in BooleanQuery (NOT BY QueryParser),
>> >> and
>> >> then got that query using boolq.toString(...); - the QueryParser
>> >> COULD
>> >> NOT parse this string !!!
>> >>
>> >> Is not it strange ? :
>> >>
>> >>    QueryParser.parse( bquery.toString( ... ) ) ....  - do not work
>> >> :-(
>> >>
>> >> --
>> >> Best regards,
>> >>  Serge                            mailto:bitl@mail.ru
>> >>
>> >>
>> >> --
>> >> To unsubscribe, e-mail:
>> >> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
>> >> For additional commands, e-mail:
>> >> <mailto:lucene-user-help@jakarta.apache.org>
>> >>
>>
>>
>> OG> __________________________________________________
>> OG> Do You Yahoo!?
>> OG> Check out Yahoo! Shopping and Yahoo! Auctions for all of
>> OG> your unique holiday gifts! Buy at http://shopping.yahoo.com
>> OG> or bid at http://auctions.yahoo.com
>>
>>
>>
>> --
>> Best regards,
>>  Serge                            mailto:bitl@mail.ru
>>
>>
>> --
>> To unsubscribe, e-mail:
>> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
>> For additional commands, e-mail:
>> <mailto:lucene-user-help@jakarta.apache.org>
>>
>
>
> __________________________________________________
> Do You Yahoo!?
> Check out Yahoo! Shopping and Yahoo! Auctions for all of
> your unique holiday gifts! Buy at http://shopping.yahoo.com
> or bid at http://auctions.yahoo.com
>
> --
> To unsubscribe, e-mail:
> <mailto:lucene-user-unsubscribe@jakarta.apache.org> For additional
> commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-606-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Dec 12 04:32:40 2001
Return-Path: <lucene-user-return-606-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 45560 invoked from network); 12 Dec 2001 04:32:40 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 12 Dec 2001 04:32:40 -0000
Received: (qmail 23424 invoked by uid 97); 12 Dec 2001 04:32:41 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 23162 invoked by uid 97); 12 Dec 2001 04:32:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23143 invoked from network); 12 Dec 2001 04:32:38 -0000
Message-ID: <20011212043237.93117.qmail@web12704.mail.yahoo.com>
Date: Tue, 11 Dec 2001 20:32:37 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: CJK Tokenizer
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <001f01c182be$c82e5000$850aa8c0@cmm.intumit.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

It is not a part of the Lucene distribution yet, but you should be able
to find it in Lucene mailing lists' archives, since it was posted to
either user or developer list a few weeks ago.

Otis

--- ³¯«Ø¤å <hchen@intumit.com> wrote:
> Hi,
> 
> I understand that a Chinese tokenizer has been contributed.  Is it
> publicly available?
> 
> Thanks
> 
> --
> Herman
> 
> 


__________________________________________________
Do You Yahoo!?
Check out Yahoo! Shopping and Yahoo! Auctions for all of
your unique holiday gifts! Buy at http://shopping.yahoo.com
or bid at http://auctions.yahoo.com

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-607-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Dec 12 07:13:21 2001
Return-Path: <lucene-user-return-607-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 5254 invoked from network); 12 Dec 2001 07:13:21 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 12 Dec 2001 07:13:21 -0000
Received: (qmail 27183 invoked by uid 97); 12 Dec 2001 07:13:32 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 27135 invoked by uid 97); 12 Dec 2001 07:13:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27124 invoked from network); 12 Dec 2001 07:13:31 -0000
Message-ID: <1378.202.140.147.60.1008141203.squirrel@mail.interactive1.com>
Date: Wed, 12 Dec 2001 07:13:23 -0000 (GMT)
Subject: Re:query parser and specific type of query
From: <sampreet@interactive1.com>
To: <lucene-user@jakarta.apache.org>
Cc: <rahul.sawhney@philips.com>
X-Mailer: InteractiveMail (version 1.2.0)
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-AntiVirus: scanned for viruses by AMaViS 0.2.1 (http://amavis.org/)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Rahul,

I think you need to use the PhraseQuery. It is used by QueryParser when the
search string is given in quotes say "company shareholders"

The FuzzyQuery has a functinality similar to soundex() function in oracle,
ie searching for similar sounding words as that of the search keyword. It
will be used by the QueryParser when the search keyword is followed by ~
say place~ will result in documents containing words
like 'pace', 'place', 'plague' etc.

Hope this works for u.

Sampreet


Hi,

I would like to know how to do the following using Lucene:
I index some file containing a string "king of spades" using stop analyzer.
The analyzer filters out "of" in the above string since it is not useful
for searching
and indexes king and spades.
Its fine till this point.

Now i would like to search for the same string "king of spades".
My questions are,
1. If i want to generate a PhraseQuery from the QueryParser using
StopAnalyzer, what
should be done?
2. If i want to generate a FuzzyQuery from the QueryParser using
StopAnalyzer, what
should be done?

thanks for any help,

regards,
==Rahul==


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-608-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Dec 12 07:43:04 2001
Return-Path: <lucene-user-return-608-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 16125 invoked from network); 12 Dec 2001 07:43:03 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 12 Dec 2001 07:43:03 -0000
Received: (qmail 1613 invoked by uid 97); 12 Dec 2001 07:43:12 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 1597 invoked by uid 97); 12 Dec 2001 07:43:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1586 invoked from network); 12 Dec 2001 07:43:11 -0000
Date: Wed, 12 Dec 2001 09:41:46 +0200
From: "Serge A. Redchuk" <bitl@mail.ru>
X-Mailer: The Bat! (v1.53d)
Reply-To: MailRu <bitl@mail.ru>
X-Priority: 3 (Normal)
Message-ID: <171916575.20011212094146@mail.ru>
To: "lucene-user@jakarta.apache.org" <lucene-user@jakarta.apache.org>
Subject: Re[4]: WildcardQuery
In-Reply-To: <20011211170742.94909.qmail@web12704.mail.yahoo.com>
References: <20011211170742.94909.qmail@web12704.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello Otis,

Tuesday, December 11, 2001, 7:07:42 PM, you wrote:

OG> Sorry, It looks like I was wrong.  I should have said that I haven't
Don't mention !
OG> used WildcardQuery, but normally (i.e. not in Lucene), a few
You should take in attantion that also unix command prompt understands
'*' before anything else. I think it must be common.
OG> characters, often 3, are required before the wild card character.
OG> Sorry, can't help you, maybe somebody else can.
Maybe !

-- 
Best regards,
 Serge                            mailto:bitl@mail.ru


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-609-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Dec 13 15:05:51 2001
Return-Path: <lucene-user-return-609-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 99540 invoked from network); 13 Dec 2001 15:05:50 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 13 Dec 2001 15:05:50 -0000
Received: (qmail 12583 invoked by uid 97); 13 Dec 2001 15:05:38 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 12542 invoked by uid 97); 13 Dec 2001 15:05:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12529 invoked from network); 13 Dec 2001 15:05:35 -0000
Sender: nick@mail.swissonline.ch
Message-ID: <3C18C3BB.C1A4E35D@techop.ch>
Date: Thu, 13 Dec 2001 16:05:31 +0100
From: Nick Smith <nick@techop.ch>
X-Mailer: Mozilla 4.75 [en] (X11; U; SunOS 5.8 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Request For Comments : Deleting docs & efficency
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Hello All,
    I'm currently having problems designing my application
with respect to synchronising the deletion of documents from
an index which is also being indexing and queried.
    
   I am using the suggested procedure for safely indexing and
searching concurrently of recreating the IndexSearcher when the
index has been modified by the IndexWriter (new segments having
been flushed to the filesystem).
 
   Now I am considering to use separate documents (one for each
deleted document) with two fields key=<some common key> and
deleted="true"> for marking deleted documents. As this can be
done using only an IndexWriter it relieves the application of
closing/opening the IndexWriter/IndexSearchers on every delete.

   The index is then searched twice, once for documents with
matching data fields (A) and a second time for deleted documents
with "deleted:true" (B).  My result set would then be documents
A minus B.   As the index has a limited lifetime the extra
storage required is not a major issue.  Also "out-of-hours"
maintainance could be performed if necessary.

A *possible* optimization would be in-memory cache of all deleted
documents ID's.  The question is how persistant are these document
ID's?  If I never delete from the index, can I assume that are
persistant, even across app. restarts?  If so then the BitSet
representing the ID's of the deleted document could be used by a
HitCollector to knock out the deleted documents from a query.  The
deleted ID's would then need to be saved somewhere to persist
across application shutdowns.

Any comments/ideas/shoot-downs welcome!

Nick

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-610-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Dec 13 23:31:02 2001
Return-Path: <lucene-user-return-610-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 79457 invoked from network); 13 Dec 2001 23:31:02 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 13 Dec 2001 23:31:02 -0000
Received: (qmail 15509 invoked by uid 97); 13 Dec 2001 23:30:47 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 15252 invoked by uid 97); 13 Dec 2001 23:30:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15153 invoked from network); 13 Dec 2001 23:30:42 -0000
Subject: eyebrowse database dependency?
To: lucene-user@jakarta.apache.org
Date: Thu, 13 Dec 2001 18:29:58 -0500 (EST)
X-Mailer: ELM [version 2.4ME+ PL89 (25)]
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset=US-ASCII
Message-Id: <20011213232958.A0E2A3C278@darksleep.com>
From: puffmail@darksleep.com (Steven J. Owens)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi folks,

      I've been looking at Eyebrowse, an email archive indexing
program built on top of Lucene.  Eyebrowse also uses mysql to store
database tables about messages (tables containing mbox filenames,
message locations, authors, subjects, threads, date ranges, etc).
When I was thinking about designing a similar store, I expected that
most of the details could be stored as Lucene fields.  Some of them
might be a bit of a stretch, and certainly there would have to be at
least a few non-Lucene details stored elsewhere (like the most recent
mbox file and the location of the end of the most recently indexed
message), but those seem, to my inexperienced eye, tolerable to avoid
the overhead of an entire database added to the system

     I believe one of the eyebrowse developers is a member here.  I'm
curious as to the design factors that influenced choosing to use a
database in addition to Lucene itself.

Steven J. Owens
puff@darksleep.com

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-611-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Dec 14 11:36:09 2001
Return-Path: <lucene-user-return-611-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 68243 invoked from network); 14 Dec 2001 11:36:09 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 14 Dec 2001 11:36:09 -0000
Received: (qmail 12881 invoked by uid 97); 14 Dec 2001 11:36:07 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 12822 invoked by uid 97); 14 Dec 2001 11:36:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12810 invoked from network); 14 Dec 2001 11:36:05 -0000
From: =?iso-8859-1?Q?Jan_St=F6vesand?= <j.stoevesand@finix.de>
To: <lucene-user@jakarta.apache.org>
Subject: Can't get a DateFilter to work
Date: Fri, 14 Dec 2001 12:37:30 +0100
Message-ID: <NFBBIMCJELMCGGHDPPKJMEJDCFAA.j.stoevesand@finix.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6700
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I really tried everything to get a DateFilter to work but I failed. :-(

What I did was:

Indexing:

doc.add( Field.Keyword("last-modifed",
DateField.timeToString( timeInMillies ) );

e.g.
millies: 1008269714990
field value: 0cv6xr772

If i submit a "normal" query, looking for 0cv6xr772 I find the entry, i.e.
the entry should be indexed correctly.
If I search for a text in the body of the element I find about 30 entries
including the one mentioned above with last-midified=0cv6xr772.

If I repeat the same query with

DateFilter filter=new DateFilter("last-modified", 0, 2008269714990);
Hits hits = searcher.search(query, filter);

I do not get any results. What am I doing wrong?
Any help appreciated.

JAn


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-612-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Dec 14 11:39:21 2001
Return-Path: <lucene-user-return-612-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 69097 invoked from network); 14 Dec 2001 11:39:20 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 14 Dec 2001 11:39:20 -0000
Received: (qmail 14670 invoked by uid 97); 14 Dec 2001 11:39:19 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 14654 invoked by uid 97); 14 Dec 2001 11:39:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14643 invoked from network); 14 Dec 2001 11:39:18 -0000
Sender: tril@pluto.blackwell.co.uk
Message-ID: <3C19E519.85DD6EFB@blackwell.co.uk>
Date: Fri, 14 Dec 2001 11:40:09 +0000
From: Ian Lea <ian.lea@blackwell.co.uk>
X-Mailer: Mozilla 4.74 [en] (X11; U; Linux 2.2.16 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Can't get a DateFilter to work
References: <NFBBIMCJELMCGGHDPPKJMEJDCFAA.j.stoevesand@finix.de>
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Could be just a typo in the email message, but 1008269714990 != 2008269714990.


--
Ian.
ian.lea@blackwell.co.uk

Jan Stövesand wrote:
> 
> Hi,
> 
> I really tried everything to get a DateFilter to work but I failed. :-(
> 
> What I did was:
> 
> Indexing:
> 
> doc.add( Field.Keyword("last-modifed",
> DateField.timeToString( timeInMillies ) );
> 
> e.g.
> millies: 1008269714990
> field value: 0cv6xr772
> 
> If i submit a "normal" query, looking for 0cv6xr772 I find the entry, i.e.
> the entry should be indexed correctly.
> If I search for a text in the body of the element I find about 30 entries
> including the one mentioned above with last-midified=0cv6xr772.
> 
> If I repeat the same query with
> 
> DateFilter filter=new DateFilter("last-modified", 0, 2008269714990);
> Hits hits = searcher.search(query, filter);
> 
> I do not get any results. What am I doing wrong?
> Any help appreciated.
> 
> JAn

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-613-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Dec 14 11:43:39 2001
Return-Path: <lucene-user-return-613-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 70979 invoked from network); 14 Dec 2001 11:43:38 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 14 Dec 2001 11:43:38 -0000
Received: (qmail 17746 invoked by uid 97); 14 Dec 2001 11:43:37 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 17730 invoked by uid 97); 14 Dec 2001 11:43:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17719 invoked from network); 14 Dec 2001 11:43:37 -0000
From: =?iso-8859-1?Q?Jan_St=F6vesand?= <j.stoevesand@finix.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: AW: Can't get a DateFilter to work
Date: Fri, 14 Dec 2001 12:45:02 +0100
Message-ID: <NFBBIMCJELMCGGHDPPKJGEJECFAA.j.stoevesand@finix.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <3C19E519.85DD6EFB@blackwell.co.uk>
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6700
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

it is no typo. I thought that a DateFilter will return everything between
"from" (0) and "to" (2008269714990), specified in the parameter list.

Jan

> -----Ursprüngliche Nachricht-----
> Von: tril@pluto.blackwell.co.uk [mailto:tril@pluto.blackwell.co.uk]Im
> Auftrag von Ian Lea
> Gesendet: Freitag, 14. Dezember 2001 12:40
> An: Lucene Users List
> Betreff: Re: Can't get a DateFilter to work
>
>
> Could be just a typo in the email message, but 1008269714990 !=
> 2008269714990.
>
>
> --
> Ian.
> ian.lea@blackwell.co.uk
>
> Jan Stövesand wrote:
> >
> > Hi,
> >
> > I really tried everything to get a DateFilter to work but I failed. :-(
> >
> > What I did was:
> >
> > Indexing:
> >
> > doc.add( Field.Keyword("last-modifed",
> > DateField.timeToString( timeInMillies ) );
> >
> > e.g.
> > millies: 1008269714990
> > field value: 0cv6xr772
> >
> > If i submit a "normal" query, looking for 0cv6xr772 I find the
> entry, i.e.
> > the entry should be indexed correctly.
> > If I search for a text in the body of the element I find about
> 30 entries
> > including the one mentioned above with last-midified=0cv6xr772.
> >
> > If I repeat the same query with
> >
> > DateFilter filter=new DateFilter("last-modified", 0, 2008269714990);
> > Hits hits = searcher.search(query, filter);
> >
> > I do not get any results. What am I doing wrong?
> > Any help appreciated.
> >
> > JAn
>
> --
> To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-614-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Dec 14 15:44:41 2001
Return-Path: <lucene-user-return-614-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 17418 invoked from network); 14 Dec 2001 15:44:40 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 14 Dec 2001 15:44:40 -0000
Received: (qmail 10172 invoked by uid 97); 14 Dec 2001 15:44:41 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 10138 invoked by uid 97); 14 Dec 2001 15:44:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10127 invoked from network); 14 Dec 2001 15:44:40 -0000
Date: Fri, 14 Dec 2001 17:42:48 +0200
From: "Serge A. Redchuk" <bitl@mail.ru>
X-Mailer: The Bat! (v1.53d)
Reply-To: MailRu <bitl@mail.ru>
X-Priority: 3 (Normal)
Message-ID: <10431240521.20011214174248@mail.ru>
To: "lucene-user@jakarta.apache.org" <lucene-user@jakarta.apache.org>
Subject: Re: delete/update
In-Reply-To: <003b01c184a6$66c3cc70$0102000a@cardiweb.com>
References: <003b01c184a6$66c3cc70$0102000a@cardiweb.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello Mike,

Friday, December 14, 2001, 3:51:15 PM, you wrote:


MB> Hi.

MB> I send you this mail because I saw a post you made on Lucene Mailing List about deleting an indexed document.
MB> I was wondering if you solved your problem : I'm unable to remove a document form an index.

Oh! Unfortunatelly now I see that deletion is not ideal... :-(
But !!!
I found that It's working with "delay" ;-)
I was confused but I'll explain.
Using next steps: 1 - what my program does, 2 - what is the result in what case.

1 - what my program does
in general my program try to do the next:

1. reindex Lucene index if something changed
   (file modified, dleted, new appeared), all unmodified remains untouched
2. do search
3. show result

2 - what is the result in what case
I force my program to delete one file from index, and then to search
for words that was only in deleted file.
Still unsutisfied - the unexpected result that the words found ...

So, I start my program again and now it does nothing with index !
And search fails ! :-))))

I can't figure out whay that. Whay deletion comes true not instantly.

I've really _CLOSED_ and even assigned null(s) to all index readers and
writers !!

So, I can't answer you completely, but for now I satisfied by this
partial result.

MB> If you solved it, do you have any hint for me ?
MB> If you don't solved it, do you remember if methode 'delete' of IndexReader wich return the number of really deleted document was returning 1 ? (for me, it return 0, so I don't have the problem to
MB> refresh the index, but to remove a document from the index ...).



-- 
Best regards,
 Serge                            mailto:bitl@mail.ru


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-615-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Dec 14 17:21:19 2001
Return-Path: <lucene-user-return-615-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 4119 invoked from network); 14 Dec 2001 17:21:19 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 14 Dec 2001 17:21:19 -0000
Received: (qmail 11603 invoked by uid 97); 14 Dec 2001 17:20:39 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 11351 invoked by uid 97); 14 Dec 2001 17:20:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11262 invoked from network); 14 Dec 2001 17:20:31 -0000
Message-ID: <005f01c184c4$102ff780$0102000a@cardiweb.com>
From: "Mike Baroukh" <mbaroukh@cardiweb.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	"MailRu" <bitl@mail.ru>
References: <003b01c184a6$66c3cc70$0102000a@cardiweb.com> <10431240521.20011214174248@mail.ru>
Subject: Re: delete/update
Date: Fri, 14 Dec 2001 18:23:36 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4807.1700
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4807.1700
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Serge,

Thanks for your response.
Unfortunally, it was not really the answer I hoped ! :-)

But I still look around and I won't miss to let you know if I find something
positive.

Tanks again.

Mike

----- Original Message -----
From: "Serge A. Redchuk" <bitl@mail.ru>
To: <lucene-user@jakarta.apache.org>
Sent: Friday, December 14, 2001 4:42 PM
Subject: Re: delete/update


> Hello Mike,
>
> Friday, December 14, 2001, 3:51:15 PM, you wrote:
>
>
> MB> Hi.
>
> MB> I send you this mail because I saw a post you made on Lucene Mailing
List about deleting an indexed document.
> MB> I was wondering if you solved your problem : I'm unable to remove a
document form an index.
>
> Oh! Unfortunatelly now I see that deletion is not ideal... :-(
> But !!!
> I found that It's working with "delay" ;-)
> I was confused but I'll explain.
> Using next steps: 1 - what my program does, 2 - what is the result in what
case.
>
> 1 - what my program does
> in general my program try to do the next:
>
> 1. reindex Lucene index if something changed
>    (file modified, dleted, new appeared), all unmodified remains untouched
> 2. do search
> 3. show result
>
> 2 - what is the result in what case
> I force my program to delete one file from index, and then to search
> for words that was only in deleted file.
> Still unsutisfied - the unexpected result that the words found ...
>
> So, I start my program again and now it does nothing with index !
> And search fails ! :-))))
>
> I can't figure out whay that. Whay deletion comes true not instantly.
>
> I've really _CLOSED_ and even assigned null(s) to all index readers and
> writers !!
>
> So, I can't answer you completely, but for now I satisfied by this
> partial result.
>
> MB> If you solved it, do you have any hint for me ?
> MB> If you don't solved it, do you remember if methode 'delete' of
IndexReader wich return the number of really deleted document was returning
1 ? (for me, it return 0, so I don't have the problem to
> MB> refresh the index, but to remove a document from the index ...).
>
>
>
> --
> Best regards,
>  Serge                            mailto:bitl@mail.ru
>
>
> --
> To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>
>
>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-616-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 17 07:44:22 2001
Return-Path: <lucene-user-return-616-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 15298 invoked from network); 17 Dec 2001 07:44:22 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 17 Dec 2001 07:44:22 -0000
Received: (qmail 22748 invoked by uid 97); 17 Dec 2001 07:44:33 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 22669 invoked by uid 97); 17 Dec 2001 07:44:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22658 invoked from network); 17 Dec 2001 07:44:31 -0000
Date: Mon, 17 Dec 2001 09:43:52 +0200
From: "Serge A. Redchuk" <bitl@mail.ru>
X-Mailer: The Bat! (v1.53d)
Reply-To: MailRu <bitl@mail.ru>
X-Priority: 3 (Normal)
Message-ID: <52260440.20011217094352@mail.ru>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re[2]: delete/update
In-Reply-To: <005f01c184c4$102ff780$0102000a@cardiweb.com>
References: <003b01c184a6$66c3cc70$0102000a@cardiweb.com>
 <10431240521.20011214174248@mail.ru>
 <005f01c184c4$102ff780$0102000a@cardiweb.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello Mike,

Now I have working code !!-)
For instant deletion I just changed my code so, that in most cases
(except one) each index writer/reader is newly created in the begin of
method(s) and .close(), =null in the end. Maybe =null is not really
necessary, but I'll feel more comfortable with it.
That's all !
Hope you'll success after review your code !
For simplicity I've created 4 methods:

private IndexWriter raiseIWriter( boolean createNew ) throws IOException {
    return new IndexWriter( whereIndex, indAna, createNew );
}
private void dropIWriter( IndexWriter iw ) throws IOException {
    iw.close();
    iw = null;
}

and similar for IndexReader, and than mostly NO used any reader/writer
except what I get with this methods:

// example of deleter:
private void idxDeleteDoc( String fldName, String fldVal ) throws IOException {
    infoln( "idx_del [" + fldName + ", " + fldVal + "]" );
    IndexReader ir = raiseIReader();
    ir.delete( new Term( fldName, fldVal ) );
    dropIReader( ir );
}

Maybe it's important that no any spare reader/writer opened at the time of
document deletion with IndexReader.
Maybe similar sentence is present in FAQ :-) I dunno :-)

Bye !

MB> Thanks for your response.
MB> Unfortunally, it was not really the answer I hoped ! :-)

MB> But I still look around and I won't miss to let you know if I find something
MB> positive.

MB> Tanks again.

MB> Mike

MB> ----- Original Message -----
MB> From: "Serge A. Redchuk" <bitl@mail.ru>
MB> To: <lucene-user@jakarta.apache.org>
MB> Sent: Friday, December 14, 2001 4:42 PM
MB> Subject: Re: delete/update


>> Hello Mike,
>>
>> Friday, December 14, 2001, 3:51:15 PM, you wrote:
>>
>>
>> MB> Hi.
>>
>> MB> I send you this mail because I saw a post you made on Lucene Mailing
MB> List about deleting an indexed document.
>> MB> I was wondering if you solved your problem : I'm unable to remove a
MB> document form an index.
>>
>> Oh! Unfortunatelly now I see that deletion is not ideal... :-(
>> But !!!
>> I found that It's working with "delay" ;-)
>> I was confused but I'll explain.
>> Using next steps: 1 - what my program does, 2 - what is the result in what
MB> case.
>>
>> 1 - what my program does
>> in general my program try to do the next:
>>
>> 1. reindex Lucene index if something changed
>>    (file modified, dleted, new appeared), all unmodified remains untouched
>> 2. do search
>> 3. show result
>>
>> 2 - what is the result in what case
>> I force my program to delete one file from index, and then to search
>> for words that was only in deleted file.
>> Still unsutisfied - the unexpected result that the words found ...
>>
>> So, I start my program again and now it does nothing with index !
>> And search fails ! :-))))
>>
>> I can't figure out whay that. Whay deletion comes true not instantly.
>>
>> I've really _CLOSED_ and even assigned null(s) to all index readers and
>> writers !!
>>
>> So, I can't answer you completely, but for now I satisfied by this
>> partial result.
>>
>> MB> If you solved it, do you have any hint for me ?
>> MB> If you don't solved it, do you remember if methode 'delete' of
MB> IndexReader wich return the number of really deleted document was returning
MB> 1 ? (for me, it return 0, so I don't have the problem to
>> MB> refresh the index, but to remove a document from the index ...).
>>
>>
>>
>> --
>> Best regards,
>>  Serge                            mailto:bitl@mail.ru
>>
>>
>> --
>> To unsubscribe, e-mail:
MB> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
>> For additional commands, e-mail:
MB> <mailto:lucene-user-help@jakarta.apache.org>
>>
>>


MB> --
MB> To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
MB> For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>




-- 
Best regards,
 Serge                            mailto:bitl@mail.ru


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-617-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 17 11:01:49 2001
Return-Path: <lucene-user-return-617-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 5510 invoked from network); 17 Dec 2001 11:01:49 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 17 Dec 2001 11:01:49 -0000
Received: (qmail 12478 invoked by uid 97); 17 Dec 2001 11:02:01 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 12440 invoked by uid 97); 17 Dec 2001 11:02:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12429 invoked from network); 17 Dec 2001 11:02:00 -0000
Sender: tril@pluto.blackwell.co.uk
Message-ID: <3C1DD0DB.D1CE021D@blackwell.co.uk>
Date: Mon, 17 Dec 2001 11:02:51 +0000
From: Ian Lea <ian.lea@blackwell.co.uk>
X-Mailer: Mozilla 4.74 [en] (X11; U; Linux 2.2.16 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: AW: Can't get a DateFilter to work
References: <NFBBIMCJELMCGGHDPPKJGEJECFAA.j.stoevesand@finix.de>
Content-Type: multipart/mixed;
 boundary="------------85E7EC074EC023112B904EC3"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--------------85E7EC074EC023112B904EC3
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Sorry, my mistake.  I glanced at your message and leapt to
the wrong conclusion.  Don't know what is wrong in your code
but since I had been meaning to get to grips with Date
searching in Lucene but had never made time to do so, have
knocked up a test program, attached to this message, which
creates a small index and searches on a few ranges, including
0 to 2008269714990, and it seems to work fine.  Perhaps it
may help you track down your problem.

If not, and you still want help, I suggest you post the
simplest possible program that demonstrates the problem.



--
Ian.
ian.lea@blackwell.co.uk



Jan Stövesand wrote:
> 
> Hi,
> 
> it is no typo. I thought that a DateFilter will return everything between
> "from" (0) and "to" (2008269714990), specified in the parameter list.
> 
> Jan
> 
> > -----Ursprüngliche Nachricht-----
> > Von: tril@pluto.blackwell.co.uk [mailto:tril@pluto.blackwell.co.uk]Im
> > Auftrag von Ian Lea
> > Gesendet: Freitag, 14. Dezember 2001 12:40
> > An: Lucene Users List
> > Betreff: Re: Can't get a DateFilter to work
> >
> >
> > Could be just a typo in the email message, but 1008269714990 !=
> > 2008269714990.
> >
> >
> > --
> > Ian.
> > ian.lea@blackwell.co.uk
> >
> > Jan Stövesand wrote:
> > >
> > > Hi,
> > >
> > > I really tried everything to get a DateFilter to work but I failed. :-(
> > >
> > > What I did was:
> > >
> > > Indexing:
> > >
> > > doc.add( Field.Keyword("last-modifed",
> > > DateField.timeToString( timeInMillies ) );
> > >
> > > e.g.
> > > millies: 1008269714990
> > > field value: 0cv6xr772
> > >
> > > If i submit a "normal" query, looking for 0cv6xr772 I find the
> > entry, i.e.
> > > the entry should be indexed correctly.
> > > If I search for a text in the body of the element I find about
> > 30 entries
> > > including the one mentioned above with last-midified=0cv6xr772.
> > >
> > > If I repeat the same query with
> > >
> > > DateFilter filter=new DateFilter("last-modified", 0, 2008269714990);
> > > Hits hits = searcher.search(query, filter);
> > >
> > > I do not get any results. What am I doing wrong?
> > > Any help appreciated.
> > >
> > > JAn
> >
> > --
--------------85E7EC074EC023112B904EC3
Content-Type: text/plain; charset=us-ascii;
 name="LuceneDateTest.java"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="LuceneDateTest.java"

import java.util.Date;
import org.apache.lucene.queryParser.*; 
import org.apache.lucene.search.*; 
import org.apache.lucene.index.*; 
import org.apache.lucene.analysis.*; 
import org.apache.lucene.analysis.standard.*;
import org.apache.lucene.document.*; 
import org.apache.lucene.store.*;

/** Simple program to play with DateFilter stuff.
 *
 *  To compile and run on unix, save to e.g. /tmp/LuceneDateTest.java and
 *  <pre>
 *   $ cd /tmp
 *   $ CLASSPATH=./:/some/where/lucene.jar; export CLASSPATH
 *   $ javac LuceneDateTest.java
 *   $ java LuceneDateTest
 *  </pre>
 *  
 *  Adjust as appropriate for other platforms.
 *
 *  Creates a RAMDirectory, adds some documents with dates and
 *    searches on date ranges.
 */


public class LuceneDateTest { 
    
    RAMDirectory ramdir;
    Analyzer analyzer;
    IndexWriter writer;
    IndexReader reader;
    Searcher searcher;
    Date start;
    Date middle;
    Date end;

    public LuceneDateTest() {
	analyzer = new StandardAnalyzer(); 
	ramdir = new RAMDirectory();
    }


    public static void main(String args[]) throws Exception { 
	LuceneDateTest ld = new LuceneDateTest();
	ld.load();
	ld.search();
    }
    
    
    void load() throws Exception {
	start = new Date();
	writer = new IndexWriter(ramdir, analyzer, true); 
	add("doc1");
	add("doc2");
	middle = new Date();
	add("doc3");
	add("doc4");
	writer.close();
	end = new Date();
    }	
    
    
    
    void add(String id) throws Exception {
	Document d = new Document();
	d.add(Field.Keyword("id", id));
	String lmod = DateField.timeToString(System.currentTimeMillis());
	String lmod2 = DateField.timeToString(1008269714990L);
	d.add(Field.Keyword("last-modified", lmod));
	d.add(Field.Keyword("last-mod2", lmod2));
	System.out.println("Adding id:"+id+
			   ", last-modified: "+lmod+
			   ", last-mod2: "+lmod2);
	writer.addDocument(d);
    }
    
    

    void search() throws Exception {
	reader = IndexReader.open(ramdir);
	searcher = new IndexSearcher(reader);
	
	DateFilter filter;
	Query query = QueryParser.parse("d*", "id", analyzer);
	
	filter = new DateFilter("last-modified",
				start,
				end);
	search(query, filter, "start to end (4): ");
	
	filter = new DateFilter("last-modified",
				middle,
				end);
	search(query, filter, "middle to end (2): ");

	filter = new DateFilter("last-modified",
				0,
				System.currentTimeMillis());
	search(query, filter, "0 to now (4): ");

	
	filter = new DateFilter("last-mod2",
				0,
				2008269714990L);
	search(query, filter, "0 to 2008269714990 (4): ");
    }


    void search(Query query, Filter filter, String s) throws Exception {
	Hits hits = searcher.search(query, filter);
	System.out.println(s+hits.length());
	for (int i = 0; i < hits.length(); i++) {
	    System.out.println("    " + 
			       hits.doc(i).get("id") + " " +
			       hits.doc(i).get("last-modified")+" "+
			       hits.doc(i).get("last-mod2"));
	}
    }
}



--------------85E7EC074EC023112B904EC3
Content-Type: text/plain; charset=us-ascii

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>
--------------85E7EC074EC023112B904EC3--


From lucene-user-return-618-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 17 12:41:50 2001
Return-Path: <lucene-user-return-618-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 44077 invoked from network); 17 Dec 2001 12:41:50 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 17 Dec 2001 12:41:50 -0000
Received: (qmail 22572 invoked by uid 97); 17 Dec 2001 12:41:48 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 22556 invoked by uid 97); 17 Dec 2001 12:41:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22545 invoked from network); 17 Dec 2001 12:41:47 -0000
From: =?iso-8859-1?Q?Jan_St=F6vesand?= <j.stoevesand@finix.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: AW: AW: Can't get a DateFilter to work: SOLVED
Date: Mon, 17 Dec 2001 13:43:46 +0100
Message-ID: <NFBBIMCJELMCGGHDPPKJMEKJCFAA.j.stoevesand@finix.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6700
Importance: Normal
In-Reply-To: <3C1DD0DB.D1CE021D@blackwell.co.uk>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

The problem is solved.
There was a small difference in the code used for searching with/without a
Datefilter. The error was in the code building the actual result set and NOT
in the code doing the search itself. That's why I didn't see it.
Now everything works find.

Thanks to all who helped.

Jan


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-619-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 17 13:51:54 2001
Return-Path: <lucene-user-return-619-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 68826 invoked from network); 17 Dec 2001 13:51:53 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 17 Dec 2001 13:51:53 -0000
Received: (qmail 1076 invoked by uid 97); 17 Dec 2001 13:51:53 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 1042 invoked by uid 97); 17 Dec 2001 13:51:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1031 invoked from network); 17 Dec 2001 13:51:52 -0000
Date: Mon, 17 Dec 2001 15:51:18 +0200
From: "Serge A. Redchuk" <bitl@mail.ru>
X-Mailer: The Bat! (v1.53d)
Reply-To: "lucene-user@jakarta.apache.org" <lucene-user@jakarta.apache.org>
X-Priority: 3 (Normal)
Message-ID: <11424306040.20011217155118@mail.ru>
To: "lucene-user@jakarta.apache.org" <lucene-user@jakarta.apache.org>
Subject: "ideo-logic" error in QueryParser and in BooleanQuery !
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello lucene-user,

... and dear lucene developers !

  I think there's "ideo-logic" error in QueryParser:
  (and in BooleanQuery!)

  when I search for smth. like "love OR NOT onion"
  I receive the same result as I search for "love AND NOT onion".
  IMHO it's wrong.

  Let we have 4 docs:
  doc1: "Love is life"
  doc2: "Java is pretty nice language"
  doc3: "C++ is powerful, but unsafe"
  doc4: "Onion and love sometimes are not compatoble"

  So, if search for "love OR NOT onion"
  result must be: doc1, doc2, doc3.
  (_everything_ where the word "onion" isn't present, because we say "OR")

  but, we have the same result as in case of search for:
  "love AND NOT onion":
  result: doc1.

  
  So, I have created own parser, using BooleanQuery, that would help
  me, but unfortunatelly it wouldn't.

  Please ! Fix it !

-- 
Best regards,
 Serge                          mailto:bitl@mail.ru


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-620-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 17 14:15:25 2001
Return-Path: <lucene-user-return-620-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 82983 invoked from network); 17 Dec 2001 14:15:25 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 17 Dec 2001 14:15:25 -0000
Received: (qmail 24714 invoked by uid 97); 17 Dec 2001 14:15:26 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 24672 invoked by uid 97); 17 Dec 2001 14:15:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24661 invoked from network); 17 Dec 2001 14:15:25 -0000
Date: Mon, 17 Dec 2001 16:14:45 +0200
From: "Serge A. Redchuk" <bitl@mail.ru>
X-Mailer: The Bat! (v1.53d)
Reply-To: "lucene-user@jakarta.apache.org" <lucene-user@jakarta.apache.org>
X-Priority: 3 (Normal)
Message-ID: <18325712773.20011217161445@mail.ru>
To: "lucene-user@jakarta.apache.org" <lucene-user@jakarta.apache.org>
Subject: continue "ideo-logic" error in QueryParser and in BooleanQuery !
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

......
  Let we have 4 docs:
  doc1: "Love is life"
  doc2: "Java is pretty nice language"
  doc3: "C++ is powerful, but unsafe"
  doc4: "Onion and love sometimes are not compatoble"

  So, if search for "love OR NOT onion"

Here I was wrong:  (nevertheless it not solve described bug)
  result must be: doc1, doc2, doc3.
must be:
  result must be: doc1, doc2, doc3, doc4.  (ALL)
.....

Certainly I understand that people will not compose such complex
queries to search for ALL,
but lucene still do not finds all.


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-621-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 17 15:36:27 2001
Return-Path: <lucene-user-return-621-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 28035 invoked from network); 17 Dec 2001 15:36:26 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 17 Dec 2001 15:36:26 -0000
Received: (qmail 22371 invoked by uid 97); 17 Dec 2001 15:36:26 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 22355 invoked by uid 97); 17 Dec 2001 15:36:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22341 invoked from network); 17 Dec 2001 15:36:25 -0000
Message-ID: <20011217153626.87302.qmail@web12702.mail.yahoo.com>
Date: Mon, 17 Dec 2001 07:36:26 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: continue "ideo-logic" error in QueryParser and in BooleanQuery !
To: "lucene-user@jakarta.apache.org" <lucene-user@jakarta.apache.org>
In-Reply-To: <18325712773.20011217161445@mail.ru>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Actually,

I do not think this is a bug.
You cannot make searches with queries that have only the NOT part.
You cannot ask Lucene to match all documents that do not contain a
certain term.  For instance, issuing a 'NOT pretty' will not return
doc1, doc3, doc4.
You have to use that NOT pretty in combination with something else
(AND).  For instance 'love AND NOT pretty' should return doc1.

I was about to say that you can check what other search engines do when
you give them just the negation, so I tried av.com and google.com. 
AltaVista does return a bunch of matches, but Google doesn't let you
enter such a query.

Otis


--- "Serge A. Redchuk" <bitl@mail.ru> wrote:
> ......
>   Let we have 4 docs:
>   doc1: "Love is life"
>   doc2: "Java is pretty nice language"
>   doc3: "C++ is powerful, but unsafe"
>   doc4: "Onion and love sometimes are not compatoble"
> 
>   So, if search for "love OR NOT onion"
> 
> Here I was wrong:  (nevertheless it not solve described bug)
>   result must be: doc1, doc2, doc3.
> must be:
>   result must be: doc1, doc2, doc3, doc4.  (ALL)
> .....
> 
> Certainly I understand that people will not compose such complex
> queries to search for ALL,
> but lucene still do not finds all.
> 
> 
> --
> To unsubscribe, e-mail:  
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
> 


__________________________________________________
Do You Yahoo!?
Check out Yahoo! Shopping and Yahoo! Auctions for all of
your unique holiday gifts! Buy at http://shopping.yahoo.com
or bid at http://auctions.yahoo.com

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-622-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 17 16:32:23 2001
Return-Path: <lucene-user-return-622-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 64515 invoked from network); 17 Dec 2001 16:32:23 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 17 Dec 2001 16:32:23 -0000
Received: (qmail 12226 invoked by uid 97); 17 Dec 2001 16:32:05 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 12153 invoked by uid 97); 17 Dec 2001 16:32:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12004 invoked from network); 17 Dec 2001 16:32:01 -0000
Message-ID: <001201c18718$5265c250$a301a8c0@arcadsoftware.fr>
From: "Christophe GOGUYER DESSAGNES" <cgd@arcadsoftware.com>
To: <lucene-user@jakarta.apache.org>
Subject: HTML Parser
Date: Mon, 17 Dec 2001 17:31:42 +0100
Organization: Arcad Software
MIME-Version: 1.0
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
Disposition-Notification-To: "Christophe GOGUYER DESSAGNES" <cgd@arcadsoftware.com>
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

How should I integrate the HTML Parser (which is in the demo directory) in a
new project ?
In particular with the HTMLParser.jj file.
Do a need to compile it before trying to use it in my code.
Any help would be apreciated !
Thank.

-----
Christophe


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-623-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 17 16:42:37 2001
Return-Path: <lucene-user-return-623-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 70371 invoked from network); 17 Dec 2001 16:42:37 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 17 Dec 2001 16:42:37 -0000
Received: (qmail 24305 invoked by uid 97); 17 Dec 2001 16:42:37 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 24288 invoked by uid 97); 17 Dec 2001 16:42:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24277 invoked from network); 17 Dec 2001 16:42:36 -0000
From: =?ISO-8859-2?Q?Uro=B9_Jurgli=E8?= <jurglic@parsek.net>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: DateFilter and NullPointerException
Date: Mon, 17 Dec 2001 17:42:24 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C18719.D1D53E70"
Message-Id: <20011217164035.618424B14F@ns.eon.si>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C18719.D1D53E70
Content-Type: text/plain;
	charset="ISO-8859-2"

I'm having a problem when using Query and DateFilter for a search. If I
create DateFilter with DateFilter.After with current time&date as parameter,
then I get NullPointerException when executing search
(Searcher.search(Query, DateFilter)). Had anyone experienced something like
that? If I set time just a bit in past, it returns empty hits which is how
it should behave all the time.

code snipet:
	// I have java files as documents, consisting of content
(Field.Text()) and modified (Field.Keyword())
	Query q = new WildcardQuery(new Term("content", "packag*"));
	DateFilter df = DateFilter.After("modified",
Calendar.getInstance().getTime());
	Searcher searcher = new IndexSearcher(path);
	Hits hits = searcher.search(q, df);	// line 66

exception:
Exception in thread "main" java.lang.NullPointerException
        at org.apache.lucene.search.DateFilter.bits(Unknown Source)
        at org.apache.lucene.search.IndexSearcher.search(Unknown Source)
        at org.apache.lucene.search.Hits.getMoreDocs(Unknown Source)
        at org.apache.lucene.search.Hits.<init>(Unknown Source)
        at org.apache.lucene.search.Searcher.search(Unknown Source)
        at Search.main(Search.java:66)

Regards,
Uros.

------_=_NextPart_001_01C18719.D1D53E70--

From lucene-user-return-624-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 17 16:53:19 2001
Return-Path: <lucene-user-return-624-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 78264 invoked from network); 17 Dec 2001 16:53:18 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 17 Dec 2001 16:53:18 -0000
Received: (qmail 13275 invoked by uid 97); 17 Dec 2001 16:53:19 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 13253 invoked by uid 97); 17 Dec 2001 16:53:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13241 invoked from network); 17 Dec 2001 16:53:18 -0000
Message-ID: <20011217165317.22796.qmail@web12708.mail.yahoo.com>
Date: Mon, 17 Dec 2001 08:53:17 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: DateFilter and NullPointerException
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20011217164035.618424B14F@ns.eon.si>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hm, do you know which line in DateFilter.java this NPE comes from?
Could you try compiling Lucene with the -g switch so that we can see
the line numbers in the exception stack trace?

If you want you can also submit a bug report at
http://nagoya.apache.org/bugzilla/

Thanks,
Otis

--- Uro¹_Jurgliè <jurglic@parsek.net> wrote:
> I'm having a problem when using Query and DateFilter for a search. If
> I
> create DateFilter with DateFilter.After with current time&date as
> parameter,
> then I get NullPointerException when executing search
> (Searcher.search(Query, DateFilter)). Had anyone experienced
> something like
> that? If I set time just a bit in past, it returns empty hits which
> is how
> it should behave all the time.
> 
> code snipet:
> 	// I have java files as documents, consisting of content
> (Field.Text()) and modified (Field.Keyword())
> 	Query q = new WildcardQuery(new Term("content", "packag*"));
> 	DateFilter df = DateFilter.After("modified",
> Calendar.getInstance().getTime());
> 	Searcher searcher = new IndexSearcher(path);
> 	Hits hits = searcher.search(q, df);	// line 66
> 
> exception:
> Exception in thread "main" java.lang.NullPointerException
>         at org.apache.lucene.search.DateFilter.bits(Unknown Source)
>         at org.apache.lucene.search.IndexSearcher.search(Unknown
> Source)
>         at org.apache.lucene.search.Hits.getMoreDocs(Unknown Source)
>         at org.apache.lucene.search.Hits.<init>(Unknown Source)
>         at org.apache.lucene.search.Searcher.search(Unknown Source)
>         at Search.main(Search.java:66)
> 
> Regards,
> Uros.
> 


__________________________________________________
Do You Yahoo!?
Check out Yahoo! Shopping and Yahoo! Auctions for all of
your unique holiday gifts! Buy at http://shopping.yahoo.com
or bid at http://auctions.yahoo.com

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-625-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 17 16:54:49 2001
Return-Path: <lucene-user-return-625-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 78864 invoked from network); 17 Dec 2001 16:54:49 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 17 Dec 2001 16:54:49 -0000
Received: (qmail 13827 invoked by uid 97); 17 Dec 2001 16:54:51 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 13810 invoked by uid 97); 17 Dec 2001 16:54:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13799 invoked from network); 17 Dec 2001 16:54:50 -0000
From: =?Windows-1252?Q?Jan_St=F6vesand?= <j.stoevesand@finix.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Using a DateFilter without a query
Date: Mon, 17 Dec 2001 17:56:50 +0100
Message-ID: <NFBBIMCJELMCGGHDPPKJIELCCFAA.j.stoevesand@finix.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6700
Importance: Normal
In-Reply-To: <001201c18718$5265c250$a301a8c0@arcadsoftware.fr>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

is it possible to use a DateFilter without a query. I would like to get all
Documents from within a certain period of time WITHOUT specifying any query
except the range of dates.

OR

Is there something like query that will always return all documents from an
index?

Jan


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-626-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 17 17:01:17 2001
Return-Path: <lucene-user-return-626-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 80968 invoked from network); 17 Dec 2001 17:01:17 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 17 Dec 2001 17:01:17 -0000
Received: (qmail 18868 invoked by uid 97); 17 Dec 2001 17:01:19 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 18820 invoked by uid 97); 17 Dec 2001 17:01:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18802 invoked from network); 17 Dec 2001 17:01:17 -0000
Message-ID: <20011217170116.95035.qmail@web12707.mail.yahoo.com>
Date: Mon, 17 Dec 2001 09:01:16 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Using a DateFilter without a query
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <NFBBIMCJELMCGGHDPPKJIELCCFAA.j.stoevesand@finix.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello,

--- Jan_Stövesand <j.stoevesand@finix.de> wrote:
> Hi,
> 
> is it possible to use a DateFilter without a query. I would like to
> get all
> Documents from within a certain period of time WITHOUT specifying any
> query except the range of dates.

I don't know, but I'd like to know.  Have you tried it?

> Is there something like query that will always return all documents
> from an index?

This has been asked in the past.  It can't be done, but you could work
around it by adding a field with a known, constant value to each
document.  Then searching for that will give you all documents in the
index.
Is there a better way?

Otis


__________________________________________________
Do You Yahoo!?
Check out Yahoo! Shopping and Yahoo! Auctions for all of
your unique holiday gifts! Buy at http://shopping.yahoo.com
or bid at http://auctions.yahoo.com

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-627-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 17 17:06:37 2001
Return-Path: <lucene-user-return-627-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 86181 invoked from network); 17 Dec 2001 17:06:37 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 17 Dec 2001 17:06:37 -0000
Received: (qmail 24257 invoked by uid 97); 17 Dec 2001 17:06:39 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 24241 invoked by uid 97); 17 Dec 2001 17:06:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24230 invoked from network); 17 Dec 2001 17:06:38 -0000
From: =?iso-8859-1?Q?Uro=9A_Jurglic?= <jurglic@parsek.net>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Using a DateFilter without a query
Date: Mon, 17 Dec 2001 18:06:24 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C1871D.2C6DB756"
Message-Id: <20011217170436.5DECD4B156@ns.eon.si>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C1871D.2C6DB756
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Useful alternative to DateFilter is using RangeQuery, containing string
representations of date objects (DateField.dateToString())
for lower and upper term. At least one of terms must be not null, in =
case
you want to search after or before specified date. It seems to work =
better
than filtering with DateFilter - I get no null pointer ex.

Uros.


-----Izvorno sporocilo-----
Od: Jan St=F6vesand [mailto:j.stoevesand@finix.de]
Poslano: 17. december 2001 17:57
Za: Lucene Users List
Zadeva: Using a DateFilter without a query


Hi,

is it possible to use a DateFilter without a query. I would like to get =
all
Documents from within a certain period of time WITHOUT specifying any =
query
except the range of dates.

OR

Is there something like query that will always return all documents =
from an
index?

Jan


--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>

------_=_NextPart_001_01C1871D.2C6DB756--

From lucene-user-return-628-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Dec 17 18:38:39 2001
Return-Path: <lucene-user-return-628-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 46535 invoked from network); 17 Dec 2001 18:38:39 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 17 Dec 2001 18:38:39 -0000
Received: (qmail 6482 invoked by uid 97); 17 Dec 2001 18:38:39 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 6443 invoked by uid 97); 17 Dec 2001 18:38:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6411 invoked from network); 17 Dec 2001 18:38:35 -0000
Message-ID: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D96@RIKER>
From: Doug Cutting <DCutting@grandcentral.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Using a DateFilter without a query
Date: Mon, 17 Dec 2001 10:36:55 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> From: jurglic@parsek.net [mailto:jurglic@parsek.net]
> 
> Useful alternative to DateFilter is using RangeQuery, 
> containing string
> representations of date objects (DateField.dateToString())
> for lower and upper term.

Probably we should create a subclass of RangeQuery called DateQuery that
makes this very simple.

Doug

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-629-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Dec 18 11:05:17 2001
Return-Path: <lucene-user-return-629-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 63214 invoked from network); 18 Dec 2001 11:05:16 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 18 Dec 2001 11:05:16 -0000
Received: (qmail 9941 invoked by uid 97); 18 Dec 2001 11:05:29 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 9888 invoked by uid 97); 18 Dec 2001 11:05:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9877 invoked from network); 18 Dec 2001 11:05:27 -0000
Reply-To: <karl@gan.no>
From: =?Windows-1252?Q?Karl_=D8ie?= <karl@gan.no>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: HTML Parser
Date: Tue, 18 Dec 2001 12:05:01 +0100
Message-ID: <MIEMIGIOHNPEKDBMNDPCOEGOCAAA.karl@gan.no>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
Importance: Normal
In-Reply-To: <001201c18718$5265c250$a301a8c0@arcadsoftware.fr>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

*.jj files are compiled with javacc, there is a javacc.zip file in your lib
directory, but you should download the compilerset.

mvh karl øie

-----Original Message-----
From: Christophe GOGUYER DESSAGNES [mailto:cgd@arcadsoftware.com]
Sent: 17. desember 2001 17:32
To: lucene-user@jakarta.apache.org
Subject: HTML Parser


Hi,

How should I integrate the HTML Parser (which is in the demo directory) in a
new project ?
In particular with the HTMLParser.jj file.
Do a need to compile it before trying to use it in my code.
Any help would be apreciated !
Thank.

-----
Christophe


--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-630-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Dec 19 02:14:18 2001
Return-Path: <lucene-user-return-630-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 54273 invoked from network); 19 Dec 2001 02:14:18 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 19 Dec 2001 02:14:18 -0000
Received: (qmail 2739 invoked by uid 97); 19 Dec 2001 02:14:24 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 2698 invoked by uid 97); 19 Dec 2001 02:14:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2687 invoked from network); 19 Dec 2001 02:14:22 -0000
Message-ID: <001101c18832$a3dcbf60$0100a8c0@medusa>
From: "Philipp Chudinov" <morpheus@basko.ru>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: what encoding to use when indexing?
Date: Wed, 19 Dec 2001 07:12:40 +0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi!
What encoding should documents be to index? I need to search windows-1251
xml files, so should I convert them to UTF-8 first, or not to make it
possible to search in russian?

Thanks.


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-631-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Dec 19 07:14:30 2001
Return-Path: <lucene-user-return-631-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 36448 invoked from network); 19 Dec 2001 07:14:29 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 19 Dec 2001 07:14:29 -0000
Received: (qmail 27800 invoked by uid 97); 19 Dec 2001 07:14:30 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 27752 invoked by uid 97); 19 Dec 2001 07:14:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27741 invoked from network); 19 Dec 2001 07:14:28 -0000
Date: Wed, 19 Dec 2001 09:14:17 +0200 (EET)
From: Jan Ekholm <chakie@infa.abo.fi>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Date ranges?
In-Reply-To: <001101c18832$a3dcbf60$0100a8c0@medusa>
Message-ID: <Pine.LNX.4.10.10112190850570.31526-100000@infa.abo.fi>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Hi all,

I'm very new to Lucene, but have used it quite successfully for indexing
text in a few different languages. Now we want to add some extra
meta-information about the documents, and let the clients search that
information, such as a few dates. 

I can store the date info easily using the DateField helper methods, but
finding seems to be a little weird, especially using ranges. I've yet to
find any docs about the ranges, so I've basically just done a few tests
with them. I do have a few questions however that I'd hope to get some
clarification on.

1. does the order of the terms in a range query matter? I can create a
query like this:

               created:[0cvbxmfnu-0cvai6kzu] 

and get it to match a few docs. If I reverse the dates and get this:

               created:[0cvai6kzu-0cvbxmfnu]

I get the exact same answer. Which is weird.


2. do date ranges work at all? If I search for documents that are created
max one day age I get, say, 10 hits (range has null upper limit). If I
search for docs that are created max 2 days ago I get, say 30 hits (range
has null upper limit). So if I search for docs that are max 2 days old,
but at least 1 day old I should get around 20 (both limits sets). Right?
Instead I always get the 30. Seems like the range query ignores my upper
bound.

3. Is there some nice way of setting numerical values so that I can search
them using ranges? We already store an id for each document as a Keyword,
and it is used to retrieve some extra info about a document. If I try to
do a range query on the document id:s, like this:

	id:[100-200]

I get a lot of documents that have id:s well over 1000, or something
that's totally outside to given range. Is there any nice way of doing
this?


As a whole I'm mighty impressed with the quality of Lucene, and especially
the speed. It's made my life a lot easier. I'd appreciate all hints and
pointers to RTFM entries (if available).

-- 
                 "Students?" barked the Archchancellor.
    "Yes, Master. You know? They're the thinner ones with the pale faces?
  Because we're a university? They come with the whole thing, like rats --"
                                         -- Terry Pratchett, Moving Pictures


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-632-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Dec 19 08:25:04 2001
Return-Path: <lucene-user-return-632-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 65307 invoked from network); 19 Dec 2001 08:25:04 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 19 Dec 2001 08:25:04 -0000
Received: (qmail 15242 invoked by uid 97); 19 Dec 2001 08:25:04 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 15192 invoked by uid 97); 19 Dec 2001 08:25:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15178 invoked from network); 19 Dec 2001 08:25:01 -0000
Date: Wed, 19 Dec 2001 10:24:58 +0200 (EET)
From: Jan Ekholm <chakie@infa.abo.fi>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Date ranges?
In-Reply-To: <Pine.LNX.4.10.10112190850570.31526-100000@infa.abo.fi>
Message-ID: <Pine.LNX.4.10.10112191021460.31526-100000@infa.abo.fi>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Wed, 19 Dec 2001, Jan Ekholm wrote:

>2. do date ranges work at all? If I search for documents that are created
>max one day age I get, say, 10 hits (range has null upper limit). If I
>search for docs that are created max 2 days ago I get, say 30 hits (range
>has null upper limit). So if I search for docs that are max 2 days old,
>but at least 1 day old I should get around 20 (both limits sets). Right?
>Instead I always get the 30. Seems like the range query ignores my upper
>bound.

I also don't find anything by doing a search like the below to find all
documents that have been added before this present time:

	created:[null-0cvc0va2h]

Always returns 0 documents, even though that should give *all* docs. We've
been running 1.2-rc2, should we upgrade to 1.2?

-- 
    - "Remember -- that which does not kill us can only make us stronger."
    - "And that which does kill us leaves us dead!"
                                           -- Terry Pratchett, Carpe Jugulum


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-633-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Dec 19 11:54:59 2001
Return-Path: <lucene-user-return-633-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 50662 invoked from network); 19 Dec 2001 11:54:59 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 19 Dec 2001 11:54:59 -0000
Received: (qmail 5223 invoked by uid 97); 19 Dec 2001 11:54:59 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 5206 invoked by uid 97); 19 Dec 2001 11:54:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5195 invoked from network); 19 Dec 2001 11:54:58 -0000
Message-ID: <149701c18884$4b52e930$0102000a@cardiweb.com>
From: "Mike Baroukh" <mbaroukh@cardiweb.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <003b01c184a6$66c3cc70$0102000a@cardiweb.com> <10431240521.20011214174248@mail.ru> <005f01c184c4$102ff780$0102000a@cardiweb.com> <52260440.20011217094352@mail.ru>
Subject: IndexReader/IndexSearcher
Date: Wed, 19 Dec 2001 12:57:12 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4807.1700
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4807.1700
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Hi all.

Can somebody tell me where is my error.
There is something I don't understand.

If I search something with

    IndexReader indexReader = IndexReader.open("/myindex");
    TermDocs docs = indexReader.termDocs(new Term("codman", "BO23"));
    while ( (docs!=null) && (docs.next()) ) {
        nbis++;
    }
    if (docs!=null) docs.close();
    indexReader.close();

I see that nbis = 0 so temDocs returned nothing.

But, If I use

    SimpleAnalyzer analyzer = new SimpleAnalyzer();
    IndexSearcher indexSearcher = new IndexSearcher("/myindex");
    Query query = QueryParser.parse("BO23", "codman", analyzer);
    Hits hits = indexSearcher.search(query);
    nbis = hits.length();

It's exactly the same query, the same index but this time, it return 1
document.

I don't understand where this difference came from ?
I know that the firs way is not the good way of searching but what I wan't
is to delete from the index the document returned wy the search #2.

Thanks in advance for any help.

Mike



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-634-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Dec 19 15:14:15 2001
Return-Path: <lucene-user-return-634-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 72776 invoked from network); 19 Dec 2001 15:14:14 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 19 Dec 2001 15:14:14 -0000
Received: (qmail 9586 invoked by uid 97); 19 Dec 2001 15:12:28 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 9376 invoked by uid 97); 19 Dec 2001 15:12:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9123 invoked from network); 19 Dec 2001 15:12:13 -0000
Message-ID: <155901c1889e$cdc47860$0102000a@cardiweb.com>
From: "Mike Baroukh" <mbaroukh@cardiweb.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <003b01c184a6$66c3cc70$0102000a@cardiweb.com> <10431240521.20011214174248@mail.ru> <005f01c184c4$102ff780$0102000a@cardiweb.com> <52260440.20011217094352@mail.ru> <149701c18884$4b52e930$0102000a@cardiweb.com>
Subject: Re: IndexReader/IndexSearcher
Date: Wed, 19 Dec 2001 16:06:58 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4807.1700
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4807.1700
X-Spam-Rating: 64.125.133.20 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I reply to myself :

It seem that when using IndexReader, keywords must be lower case.
So, I indexed BO23, I can search BO23 with IndexSearcher, but I must use
bo23 to search with IndexReader.

Am I right ?

Mike

----- Original Message -----
From: "Mike Baroukh" <mbaroukh@cardiweb.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, December 19, 2001 12:57 PM
Subject: IndexReader/IndexSearcher


>
> Hi all.
>
> Can somebody tell me where is my error.
> There is something I don't understand.
>
> If I search something with
>
>     IndexReader indexReader = IndexReader.open("/myindex");
>     TermDocs docs = indexReader.termDocs(new Term("codman", "BO23"));
>     while ( (docs!=null) && (docs.next()) ) {
>         nbis++;
>     }
>     if (docs!=null) docs.close();
>     indexReader.close();
>
> I see that nbis = 0 so temDocs returned nothing.
>
> But, If I use
>
>     SimpleAnalyzer analyzer = new SimpleAnalyzer();
>     IndexSearcher indexSearcher = new IndexSearcher("/myindex");
>     Query query = QueryParser.parse("BO23", "codman", analyzer);
>     Hits hits = indexSearcher.search(query);
>     nbis = hits.length();
>
> It's exactly the same query, the same index but this time, it return 1
> document.
>
> I don't understand where this difference came from ?
> I know that the firs way is not the good way of searching but what I wan't
> is to delete from the index the document returned wy the search #2.
>
> Thanks in advance for any help.
>
> Mike
>
>
>
> --
> To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>
>
>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-635-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Dec 19 15:20:40 2001
Return-Path: <lucene-user-return-635-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 83082 invoked from network); 19 Dec 2001 15:20:40 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 19 Dec 2001 15:20:40 -0000
Received: (qmail 28236 invoked by uid 97); 19 Dec 2001 15:20:29 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 28190 invoked by uid 97); 19 Dec 2001 15:20:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28066 invoked from network); 19 Dec 2001 15:20:18 -0000
Message-ID: <20011219151930.52496.qmail@web12701.mail.yahoo.com>
Date: Wed, 19 Dec 2001 07:19:30 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: IndexReader/IndexSearcher
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <155901c1889e$cdc47860$0102000a@cardiweb.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Uh, I don't repeat myself, but I'll repeat others' words :)

It is the analyzer (StandardAnalyzer, I believe) that lowercases text
before indexing it.
If you use the same analyzer to search it will lowercase text before
performing a search, so you'll find the document with bo23 in it even
if you use BO23 in the search.

Otis

--- Mike Baroukh <mbaroukh@cardiweb.com> wrote:
> I reply to myself :
> 
> It seem that when using IndexReader, keywords must be lower case.
> So, I indexed BO23, I can search BO23 with IndexSearcher, but I must
> use
> bo23 to search with IndexReader.
> 
> Am I right ?
> 
> Mike
> 
> ----- Original Message -----
> From: "Mike Baroukh" <mbaroukh@cardiweb.com>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Wednesday, December 19, 2001 12:57 PM
> Subject: IndexReader/IndexSearcher
> 
> 
> >
> > Hi all.
> >
> > Can somebody tell me where is my error.
> > There is something I don't understand.
> >
> > If I search something with
> >
> >     IndexReader indexReader = IndexReader.open("/myindex");
> >     TermDocs docs = indexReader.termDocs(new Term("codman",
> "BO23"));
> >     while ( (docs!=null) && (docs.next()) ) {
> >         nbis++;
> >     }
> >     if (docs!=null) docs.close();
> >     indexReader.close();
> >
> > I see that nbis = 0 so temDocs returned nothing.
> >
> > But, If I use
> >
> >     SimpleAnalyzer analyzer = new SimpleAnalyzer();
> >     IndexSearcher indexSearcher = new IndexSearcher("/myindex");
> >     Query query = QueryParser.parse("BO23", "codman", analyzer);
> >     Hits hits = indexSearcher.search(query);
> >     nbis = hits.length();
> >
> > It's exactly the same query, the same index but this time, it
> return 1
> > document.
> >
> > I don't understand where this difference came from ?
> > I know that the firs way is not the good way of searching but what
> I wan't
> > is to delete from the index the document returned wy the search #2.
> >
> > Thanks in advance for any help.
> >
> > Mike
> >
> >
> >
> > --
> > To unsubscribe, e-mail:
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> > For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
> >
> >
> 
> 
> --
> To unsubscribe, e-mail:  
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
> 


__________________________________________________
Do You Yahoo!?
Check out Yahoo! Shopping and Yahoo! Auctions for all of
your unique holiday gifts! Buy at http://shopping.yahoo.com
or bid at http://auctions.yahoo.com

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-637-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Dec 19 17:15:37 2001
Return-Path: <lucene-user-return-637-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 41061 invoked from network); 19 Dec 2001 17:15:37 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 19 Dec 2001 17:15:37 -0000
Received: (qmail 5057 invoked by uid 97); 19 Dec 2001 17:15:19 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 5033 invoked by uid 97); 19 Dec 2001 17:15:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5015 invoked from network); 19 Dec 2001 17:15:18 -0000
Message-ID: <16f501c188b1$2d01b4c0$0102000a@cardiweb.com>
From: "Mike Baroukh" <mbaroukh@cardiweb.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <INEEIBNONCJNFCDJHILAMEIJCFAA.mread@dircon.co.uk> <1008775113.8024.19.camel@bender>
Subject: Re: Deleting problem
Date: Wed, 19 Dec 2001 18:18:28 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4807.1700
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4807.1700
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Hi.

Maybe it's the same problem that I asked for and Otis Gospodnetic has just
answered (Many thanks !) :

If your analyzer convert tokens to lower case, then you must use lower case
value to search with IndexReader.
You can see it with TermEnum and look at values taht are really stored in
the index ...


----- Original Message -----
From: "Stephan J. Schmidt" <stephan.schmidt@neotis.de>
To: <lucene-user@jakarta.apache.org>
Sent: Wednesday, December 19, 2001 4:17 PM
Subject: Deleting problem


> Hi,
>
> I have problems deleting documents from the index.
> The documents are indexed with an unique OID. Searching
> for this OID returns some documents but deleting
> this OID returns 0 for deleted documents.
>
>       Searcher searcher = new
IndexSearcher("/opt/server/neotis/solent/kindex");
>
>       String oidString = "E78180808080808080808080808080neotis";
>       Query query = QueryParser.parse(oidString, "OID", new
OIDAnalyzer());
>
>       Hits hits = searcher.search(query);
>
>       int start = 0;
>       final int HITS_PER_PAGE = 10;
>       int end = Math.min(HITS_PER_PAGE, hits.length());
>
>       // Documents are found here
>       for(int i = start; i < end; i++) {
>         System.out.println(hits.doc(i).get("Name")+"
OID:"+hits.doc(i).get("OID"));
>       }
>
>       searcher.close();
>
>       // Returns "0" for deleted documents and documents are not deleted
>       IndexReader reader =
IndexReader.open("/opt/server/neotis/solent/kindex");
>       System.err.println("Deleted: " + reader.delete(new Term("OID",
oidString)))
>
> Thanks,
> bye
> -stephan
>
>
> --
> To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>
>
>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-638-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Dec 19 17:22:54 2001
Return-Path: <lucene-user-return-638-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 44439 invoked from network); 19 Dec 2001 17:22:54 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 19 Dec 2001 17:22:54 -0000
Received: (qmail 19182 invoked by uid 97); 19 Dec 2001 17:22:56 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 19153 invoked by uid 97); 19 Dec 2001 17:22:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19136 invoked from network); 19 Dec 2001 17:22:53 -0000
Message-ID: <170701c188b1$4da54430$0102000a@cardiweb.com>
From: "Mike Baroukh" <mbaroukh@cardiweb.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20011219151930.52496.qmail@web12701.mail.yahoo.com>
Subject: Re: IndexReader/IndexSearcher
Date: Wed, 19 Dec 2001 18:19:23 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4807.1700
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4807.1700
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Thanks a lot. It's clear for me now !


----- Original Message -----
From: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, December 19, 2001 4:19 PM
Subject: Re: IndexReader/IndexSearcher


> Uh, I don't repeat myself, but I'll repeat others' words :)
>
> It is the analyzer (StandardAnalyzer, I believe) that lowercases text
> before indexing it.
> If you use the same analyzer to search it will lowercase text before
> performing a search, so you'll find the document with bo23 in it even
> if you use BO23 in the search.
>
> Otis
>
> --- Mike Baroukh <mbaroukh@cardiweb.com> wrote:
> > I reply to myself :
> >
> > It seem that when using IndexReader, keywords must be lower case.
> > So, I indexed BO23, I can search BO23 with IndexSearcher, but I must
> > use
> > bo23 to search with IndexReader.
> >
> > Am I right ?
> >
> > Mike
> >
> > ----- Original Message -----
> > From: "Mike Baroukh" <mbaroukh@cardiweb.com>
> > To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> > Sent: Wednesday, December 19, 2001 12:57 PM
> > Subject: IndexReader/IndexSearcher
> >
> >
> > >
> > > Hi all.
> > >
> > > Can somebody tell me where is my error.
> > > There is something I don't understand.
> > >
> > > If I search something with
> > >
> > >     IndexReader indexReader = IndexReader.open("/myindex");
> > >     TermDocs docs = indexReader.termDocs(new Term("codman",
> > "BO23"));
> > >     while ( (docs!=null) && (docs.next()) ) {
> > >         nbis++;
> > >     }
> > >     if (docs!=null) docs.close();
> > >     indexReader.close();
> > >
> > > I see that nbis = 0 so temDocs returned nothing.
> > >
> > > But, If I use
> > >
> > >     SimpleAnalyzer analyzer = new SimpleAnalyzer();
> > >     IndexSearcher indexSearcher = new IndexSearcher("/myindex");
> > >     Query query = QueryParser.parse("BO23", "codman", analyzer);
> > >     Hits hits = indexSearcher.search(query);
> > >     nbis = hits.length();
> > >
> > > It's exactly the same query, the same index but this time, it
> > return 1
> > > document.
> > >
> > > I don't understand where this difference came from ?
> > > I know that the firs way is not the good way of searching but what
> > I wan't
> > > is to delete from the index the document returned wy the search #2.
> > >
> > > Thanks in advance for any help.
> > >
> > > Mike
> > >
> > >
> > >
> > > --
> > > To unsubscribe, e-mail:
> > <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> > > For additional commands, e-mail:
> > <mailto:lucene-user-help@jakarta.apache.org>
> > >
> > >
> >
> >
> > --
> > To unsubscribe, e-mail:
> > <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> > For additional commands, e-mail:
> > <mailto:lucene-user-help@jakarta.apache.org>
> >
>
>
> __________________________________________________
> Do You Yahoo!?
> Check out Yahoo! Shopping and Yahoo! Auctions for all of
> your unique holiday gifts! Buy at http://shopping.yahoo.com
> or bid at http://auctions.yahoo.com
>
> --
> To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>
>
>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-636-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Dec 19 18:30:54 2001
Return-Path: <lucene-user-return-636-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 5565 invoked from network); 19 Dec 2001 18:30:54 -0000
Received: from unknown (HELO mail.covalent.net) (64.84.39.163)
  by daedalus.apache.org with SMTP; 19 Dec 2001 18:30:54 -0000
Received: (qmail 6903 invoked from network); 19 Dec 2001 16:44:14 -0000
Received: from host-131-49-18-192.iplanet.com (HELO nagoya.betaversion.org) (192.18.49.131)
  by mail.covalent.net with SMTP; 19 Dec 2001 16:44:14 -0000
Received: (qmail 12261 invoked by uid 97); 19 Dec 2001 16:43:23 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 12141 invoked by uid 97); 19 Dec 2001 16:43:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12967 invoked from network); 19 Dec 2001 16:10:28 -0000
Subject: Deleting problem
From: "Stephan J. Schmidt" <stephan.schmidt@neotis.de>
To: lucene-user@jakarta.apache.org
In-Reply-To: <INEEIBNONCJNFCDJHILAMEIJCFAA.mread@dircon.co.uk>
References: <INEEIBNONCJNFCDJHILAMEIJCFAA.mread@dircon.co.uk>
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
X-Mailer: Evolution/0.99.2 (Preview Release)
Date: 19 Dec 2001 16:17:53 +0100
Message-Id: <1008775113.8024.19.camel@bender>
Mime-Version: 1.0
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I have problems deleting documents from the index.
The documents are indexed with an unique OID. Searching
for this OID returns some documents but deleting
this OID returns 0 for deleted documents.

      Searcher searcher = new IndexSearcher("/opt/server/neotis/solent/kindex");

      String oidString = "E78180808080808080808080808080neotis";
      Query query = QueryParser.parse(oidString, "OID", new OIDAnalyzer());

      Hits hits = searcher.search(query);

      int start = 0;
      final int HITS_PER_PAGE = 10;
      int end = Math.min(HITS_PER_PAGE, hits.length());

      // Documents are found here      
      for(int i = start; i < end; i++) {
        System.out.println(hits.doc(i).get("Name")+" OID:"+hits.doc(i).get("OID"));
      }
     
      searcher.close();

      // Returns "0" for deleted documents and documents are not deleted 
      IndexReader reader = IndexReader.open("/opt/server/neotis/solent/kindex");
      System.err.println("Deleted: " + reader.delete(new Term("OID", oidString)))

Thanks,
bye
-stephan


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-639-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Dec 20 11:35:37 2001
Return-Path: <lucene-user-return-639-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 89024 invoked from network); 20 Dec 2001 11:35:37 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 20 Dec 2001 11:35:37 -0000
Received: (qmail 22793 invoked by uid 97); 20 Dec 2001 11:34:40 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 22659 invoked by uid 97); 20 Dec 2001 11:34:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22564 invoked from network); 20 Dec 2001 11:34:34 -0000
From: =?iso-8859-1?Q?Jan_St=F6vesand?= <j.stoevesand@finix.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Strange Results with German Analyzer
Date: Thu, 20 Dec 2001 12:36:05 +0100
Message-ID: <NFBBIMCJELMCGGHDPPKJGENBCFAA.j.stoevesand@finix.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6700
In-Reply-To: <170701c188b1$4da54430$0102000a@cardiweb.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I used a German Analyzer for Indexing and Searching. afaik, the search is
case insensitive. At least I get the same searchresults for

kapitalanlagen
Kapitalanlagen

But, for some words the Analyzer behaves somewhat funny:

Holland -> 22 results
hollAnd -> 22 results
hollanD -> 22 results
HOLLAND -> 22 results

holland -> 1 result (!) which is NOT in the 22 results mentioned above.

I have no idea and my knowledge about Searching, stemming, indexing etc is,
well, small.

Jan


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-640-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Dec 20 11:54:37 2001
Return-Path: <lucene-user-return-640-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 98120 invoked from network); 20 Dec 2001 11:54:37 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 20 Dec 2001 11:54:37 -0000
Received: (qmail 7208 invoked by uid 97); 20 Dec 2001 11:54:36 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 7192 invoked by uid 97); 20 Dec 2001 11:54:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7180 invoked from network); 20 Dec 2001 11:54:36 -0000
Reply-To: <karl@gan.no>
From: =?iso-8859-1?Q?Karl_=D8ie?= <karl@gan.no>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Strange Results with German Analyzer
Date: Thu, 20 Dec 2001 12:54:16 +0100
Message-ID: <MIEMIGIOHNPEKDBMNDPCEEHECAAA.karl@gan.no>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
In-Reply-To: <NFBBIMCJELMCGGHDPPKJGENBCFAA.j.stoevesand@finix.de>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

take a look at the end of GermanAnalyzer.java

http://cvs.apache.org/viewcvs/jakarta-lucene/src/java/org/apache/lucene/anal
ysis/de/GermanAnalyzer.java?rev=1.2&content-type=text/vnd.viewcvs-markup


	public final TokenStream tokenStream( String fieldName, Reader reader ) {
		TokenStream result = new StandardTokenizer( reader );
		result = new StandardFilter( result );
		result = new StopFilter( result, stoptable );
		result = new GermanStemFilter( result, excltable );
		// Convert to lowercase after stemming!
		result = new LowerCaseFilter( result );
		return result;
	}

as you can see the analyzer converts all words to lowercase to save some
space, you can ofcourse remove the LowerCaseFilter) to get case sensetive
search. the reason why holland gives 1 and hollAnd returns 22 i can not
say...

mvh karl øie



-----Original Message-----
From: Jan Stövesand [mailto:j.stoevesand@finix.de]
Sent: 20. desember 2001 12:36
To: Lucene Users List
Subject: Strange Results with German Analyzer


Hi,

I used a German Analyzer for Indexing and Searching. afaik, the search is
case insensitive. At least I get the same searchresults for

kapitalanlagen
Kapitalanlagen

But, for some words the Analyzer behaves somewhat funny:

Holland -> 22 results
hollAnd -> 22 results
hollanD -> 22 results
HOLLAND -> 22 results

holland -> 1 result (!) which is NOT in the 22 results mentioned above.

I have no idea and my knowledge about Searching, stemming, indexing etc is,
well, small.

Jan


--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-641-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Dec 20 14:40:16 2001
Return-Path: <lucene-user-return-641-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 29181 invoked from network); 20 Dec 2001 14:40:16 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 20 Dec 2001 14:40:16 -0000
Received: (qmail 17724 invoked by uid 97); 20 Dec 2001 14:40:17 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 17692 invoked by uid 97); 20 Dec 2001 14:40:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17681 invoked from network); 20 Dec 2001 14:40:15 -0000
Message-ID: <3C21F7B0.2CBF4F49@fpg.de>
Date: Thu, 20 Dec 2001 15:37:36 +0100
From: Gerhard Schwarz <gerhard.schwarz@fpg.de>
Organization: Frost & Partner
X-Mailer: Mozilla 4.79 [en]C-CCK-MCD DT  (Win98; U)
X-Accept-Language: de,en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Strange Results with German Analyzer
References: <NFBBIMCJELMCGGHDPPKJGENBCFAA.j.stoevesand@finix.de>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Loop-Detect: 1
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello,

Jan Stvvesand wrote:
> 
> Hi,
> 
> I used a German Analyzer for Indexing and Searching. afaik, the search is
> case insensitive. At least I get the same searchresults for
> 
> kapitalanlagen
> Kapitalanlagen
> 
> But, for some words the Analyzer behaves somewhat funny:
> 
> Holland -> 22 results
> hollAnd -> 22 results
> hollanD -> 22 results
> HOLLAND -> 22 results
> 
> holland -> 1 result (!) which is NOT in the 22 results mentioned above.

That result is correct.
 
> I have no idea and my knowledge about Searching, stemming, indexing etc is,
> well, small.

Well, I try to explain it in short.
Words starting with an uppercase letter become stemmed an other way
than all other words. Words containing one uppercase letter that is
not starting the word and words containing more than one uppercase
letter become will not be stemmed. 

So the stemming looks like this:

Holland -> possibly noun -> stemmed to "holland" 
hollAnd -> not a regular german word -> ignored -> lowercasefilter ->
"holland"
hollanD -> not a regular german word -> ignored -> lowercasefilter ->
"holland"
HOLLAND -> not a regular german word -> ignored -> lowercasefilter ->
"holland"
holland -> stemmed to "holla" ("nd" is a suffix to be stripped from
non-nouns)

It looks like the check for irregular words need some improvement,
it should be less restrictive with possibly mistyped words.

Another thing is, that the search _is_ case sensitive when the
GermanAnalyzer is used. This is because in german you should search
a substantive as a substantive. And stemming nouns a different way
than the rest gives much better results than medium stemming that
ignores case from the beginning.


HTH,
Gerhard

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-642-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Dec 21 23:05:19 2001
Return-Path: <lucene-user-return-642-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 52532 invoked from network); 21 Dec 2001 23:05:19 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 21 Dec 2001 23:05:19 -0000
Received: (qmail 14681 invoked by uid 97); 21 Dec 2001 23:05:25 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 14624 invoked by uid 97); 21 Dec 2001 23:05:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14613 invoked from network); 21 Dec 2001 23:05:23 -0000
Message-ID: <D15E9D991E0FD41184C90080C80D274650B4E4@MUSCOVITE>
From: Aruna Raghavan <ArunaR@opin.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: Basic clause with NOT
Date: Fri, 21 Dec 2001 17:02:03 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello,
In Lucene documentation, the query syntax is defined as follows:
Syntax:
Query  ::=  Clause  ( [ Conjunction ] Clause ) *

Where:
		Clause ::=  [ Modifier ] [ FieldName ':' ] BasicClause 
			Modifier    ::= '-' | '+' | '!' | 'NOT'
			BasicClause ::= ( Term | Phrase | | PrefixQuery '('
Query ')'
			PrefixQuery ::= Term '*'
			Term        ::= <a-word-or-token-to-match>
			Phrase      ::= '"' Term * '"'

		Conjunction ::= 'AND' | 'OR' | '||'

		-----------------------------

		If I try a search using  "NOT sometext" it does not work. Is
it not supported? I think I am following the syntax according to the
documentation. I am trying to get all documents that do not have a given
word.
		Thanks in advance for any help.


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-643-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Dec 21 23:06:08 2001
Return-Path: <lucene-user-return-643-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 53017 invoked from network); 21 Dec 2001 23:06:07 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 21 Dec 2001 23:06:07 -0000
Received: (qmail 15078 invoked by uid 97); 21 Dec 2001 23:06:13 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 15062 invoked by uid 97); 21 Dec 2001 23:06:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15051 invoked from network); 21 Dec 2001 23:06:12 -0000
Message-ID: <D15E9D991E0FD41184C90080C80D274650B4E5@MUSCOVITE>
From: Aruna Raghavan <ArunaR@opin.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: Limit on number of characters before wildcard?
Date: Fri, 21 Dec 2001 17:05:11 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,
>From some testing that I have done it appears that there is a limit of 3
characters before the wild card for wildcard queries. In other words, if the
word is dogleash and I looking by using do* it returns wrong results
(usually only a asubset) where as if I use dog*, I get correct results.

Also, wildcard at the begining of the keyword does not seem to be supported.
(*ogleash)
Can some one confirm this? Is this documented anywhere?

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-644-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Dec 21 23:30:13 2001
Return-Path: <lucene-user-return-644-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 61460 invoked from network); 21 Dec 2001 23:30:13 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 21 Dec 2001 23:30:13 -0000
Received: (qmail 24491 invoked by uid 97); 21 Dec 2001 23:30:17 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 24475 invoked by uid 97); 21 Dec 2001 23:30:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24464 invoked from network); 21 Dec 2001 23:30:16 -0000
Message-ID: <20011221233017.39117.qmail@web12707.mail.yahoo.com>
Date: Fri, 21 Dec 2001 15:30:17 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Basic clause with NOT
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <D15E9D991E0FD41184C90080C80D274650B4E4@MUSCOVITE>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

This is a FAQ.
See http://www.jguru.com/faq/home.jsp?topic=Lucene in a few hours.

The answer is: NOT <query term> queries are not permitted.

Otis


--- Aruna Raghavan <ArunaR@opin.com> wrote:
> Hello,
> In Lucene documentation, the query syntax is defined as follows:
> Syntax:
> Query  ::=  Clause  ( [ Conjunction ] Clause ) *
> 
> Where:
> 		Clause ::=  [ Modifier ] [ FieldName ':' ] BasicClause 
> 			Modifier    ::= '-' | '+' | '!' | 'NOT'
> 			BasicClause ::= ( Term | Phrase | | PrefixQuery '('
> Query ')'
> 			PrefixQuery ::= Term '*'
> 			Term        ::= <a-word-or-token-to-match>
> 			Phrase      ::= '"' Term * '"'
> 
> 		Conjunction ::= 'AND' | 'OR' | '||'
> 
> 		-----------------------------
> 
> 		If I try a search using  "NOT sometext" it does not work. Is
> it not supported? I think I am following the syntax according to the
> documentation. I am trying to get all documents that do not have a
> given
> word.
> 		Thanks in advance for any help.
> 
> 
> --
> To unsubscribe, e-mail:  
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
> 


__________________________________________________
Do You Yahoo!?
Send your FREE holiday greetings online!
http://greetings.yahoo.com

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-645-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Sat Dec 22 18:29:30 2001
Return-Path: <lucene-user-return-645-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 62888 invoked from network); 22 Dec 2001 18:29:30 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 22 Dec 2001 18:29:30 -0000
Received: (qmail 10120 invoked by uid 97); 22 Dec 2001 18:29:29 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 10110 invoked by uid 97); 22 Dec 2001 18:29:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9680 invoked from network); 22 Dec 2001 18:24:17 -0000
Date: Sat, 22 Dec 2001 13:24:15 -0500
From: Nathaniel Irons <ndi-l@bumppo.net>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Basic clause with NOT
Message-ID: <20011222132415.A4798@neter.pair.com>
References: <D15E9D991E0FD41184C90080C80D274650B4E4@MUSCOVITE> <20011221233017.39117.qmail@web12707.mail.yahoo.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5i
In-Reply-To: <20011221233017.39117.qmail@web12707.mail.yahoo.com>; from otis_gospodnetic@yahoo.com on Fri, Dec 21, 2001 at 03:30:17PM -0800
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Fri, Dec 21, 2001 at 03:30:17PM -0800, Otis Gospodnetic wrote:

> The answer is: NOT <query term> queries are not permitted.

Is it impractical (or a speed trap) to add a field with a known value
to all documents, and then search for it alongside the negated query?
I'm not clear if this is the strategy dismissed as "very slow" in the
new FAQ entry.

  -nat

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-646-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Sat Dec 22 23:59:39 2001
Return-Path: <lucene-user-return-646-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 53379 invoked from network); 22 Dec 2001 23:59:39 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 22 Dec 2001 23:59:39 -0000
Received: (qmail 11065 invoked by uid 97); 22 Dec 2001 23:59:44 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 11018 invoked by uid 97); 22 Dec 2001 23:59:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11007 invoked from network); 22 Dec 2001 23:59:42 -0000
Message-ID: <20011222235943.31255.qmail@web12705.mail.yahoo.com>
Date: Sat, 22 Dec 2001 15:59:43 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Basic clause with NOT
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20011222132415.A4798@neter.pair.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

See this: http://marc.theaimsgroup.com/?t=100455365600001&r=1&w=2

--- Nathaniel Irons <ndi-l@bumppo.net> wrote:
> On Fri, Dec 21, 2001 at 03:30:17PM -0800, Otis Gospodnetic wrote:
> 
> > The answer is: NOT <query term> queries are not permitted.
> 
> Is it impractical (or a speed trap) to add a field with a known value
> to all documents, and then search for it alongside the negated query?
> I'm not clear if this is the strategy dismissed as "very slow" in the
> new FAQ entry.
> 
>   -nat
> 
> --
> To unsubscribe, e-mail:  
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
> 


__________________________________________________
Do You Yahoo!?
Send your FREE holiday greetings online!
http://greetings.yahoo.com

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-647-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Dec 27 11:25:37 2001
Return-Path: <lucene-user-return-647-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 84991 invoked from network); 27 Dec 2001 11:25:36 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 27 Dec 2001 11:25:36 -0000
Received: (qmail 10952 invoked by uid 97); 27 Dec 2001 11:25:50 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 10900 invoked by uid 97); 27 Dec 2001 11:25:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10889 invoked from network); 27 Dec 2001 11:25:48 -0000
From: =?ISO-8859-2?Q?Uro=B9_Jurgli=E8?= <jurglic@parsek.net>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: deleting documents
Date: Thu, 27 Dec 2001 12:25:39 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C18EC9.36889FFE"
Message-Id: <20011227112359.5F7D74B15E@ns.eon.si>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C18EC9.36889FFE
Content-Type: text/plain;
	charset="ISO-8859-2"

I had a following problem:
I filled index like this:
	iw = new IndexWriter(index, new SimpleAnalyzer(), false);
	iw.addDocument(assetToDoc(asset)); // assetToDoc return Document
instance
	iw.close();

and deleted one document as follows:
	ir = IndexReader.open(index);
	Term uidTerm = new Term("uid", assetUid);	// uid is primary
key
	int count = ir.delete(uidTerm);
	ir.close();

When I next wanted to print index's content:
	IndexReader ir = IndexReader.open(indexPath);
	for (int i=0; i<ir.maxDoc(); i++) {
		System.out.println(i);
		Document doc = ir.document(i);
		Enumeration fields = doc.fields();

		while (fields.hasMoreElements()) {
			System.out.println(fields.nextElement());
		}
		System.out.println();
	}

the ir.maxDoc() went beyond true number of docs in index and I got stucked
with Exception telling me that I'm trying to access deleted document. 

Now I always, after deleting a document, open an IndexWriter and call
optimize() and close it and it works okay then, the index doesn't get
currupted anymore. But I haven't noticed anywhere that this is a standard
procedure after deleting a document, so am I doing something wrong?
Has anyone experienced something similiar? If true, please let me know how
did you solve it.


Happy y2k+2



------_=_NextPart_001_01C18EC9.36889FFE--

From lucene-user-return-648-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Dec 27 11:59:11 2001
Return-Path: <lucene-user-return-648-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 95183 invoked from network); 27 Dec 2001 11:59:11 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 27 Dec 2001 11:59:11 -0000
Received: (qmail 19904 invoked by uid 97); 27 Dec 2001 11:59:10 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 19865 invoked by uid 97); 27 Dec 2001 11:59:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19847 invoked from network); 27 Dec 2001 11:59:07 -0000
Subject: Jonathan Wasson/IT/VANCPOWER is out of the office.
From: Jonathan_Wasson@dom.com
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Message-ID: <OF055680B6.144491E9-ON85256B2F.0041D4CD@vapower.com>
Date: Thu, 27 Dec 2001 06:59:03 -0500
X-MIMETrack: Serialize by Router on MAIL01/SERVERS/VANCPOWER(Release 5.0.8 |June 18, 2001) at
 12/27/2001 07:00:45 AM
MIME-Version: 1.0
Content-type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I will be out of the office starting  12/24/2001 and will not return until
01/02/2002.

I will respond to your message when I return.


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-649-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Dec 27 13:40:51 2001
Return-Path: <lucene-user-return-649-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 29622 invoked from network); 27 Dec 2001 13:40:51 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 27 Dec 2001 13:40:51 -0000
Received: (qmail 3539 invoked by uid 97); 27 Dec 2001 13:40:50 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 3523 invoked by uid 97); 27 Dec 2001 13:40:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3512 invoked from network); 27 Dec 2001 13:40:49 -0000
Sender: tril@pluto.blackwell.co.uk
Message-ID: <3C2B251F.CE60687B@blackwell.co.uk>
Date: Thu, 27 Dec 2001 13:41:51 +0000
From: Ian Lea <ian.lea@blackwell.co.uk>
X-Mailer: Mozilla 4.74 [en] (X11; U; Linux 2.2.16 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: deleting documents
References: <20011227112359.5F7D74B15E@ns.eon.si>
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

According to the javadoc for IndexReader maxDoc "returns one greater than
the largest possible document number" so doesn't necessarily bear much
resemblance to the actual number of undeleted documents in the index.

IndexReader.isDeleted(i) says whether a particular document has
been deleted and can be called before IndexReader.document(i) to
avoid Exceptions being thrown.

I don't think your index is corrupt.  If you read the javadoc for
IndexReader.delete() you will see that deleted documents don't disappear
immediately (unless you call optimize() as you are) but will disappear
as the index gets modified further.


Hope that helps.


--
Ian.
ian.lea@blackwell.co.uk


Uro¹ Jurgliè wrote:
> 
> I had a following problem:
> I filled index like this:
>         iw = new IndexWriter(index, new SimpleAnalyzer(), false);
>         iw.addDocument(assetToDoc(asset)); // assetToDoc return Document
> instance
>         iw.close();
> 
> and deleted one document as follows:
>         ir = IndexReader.open(index);
>         Term uidTerm = new Term("uid", assetUid);       // uid is primary
> key
>         int count = ir.delete(uidTerm);
>         ir.close();
> 
> When I next wanted to print index's content:
>         IndexReader ir = IndexReader.open(indexPath);
>         for (int i=0; i<ir.maxDoc(); i++) {
>                 System.out.println(i);
>                 Document doc = ir.document(i);
>                 Enumeration fields = doc.fields();
> 
>                 while (fields.hasMoreElements()) {
>                         System.out.println(fields.nextElement());
>                 }
>                 System.out.println();
>         }
> 
> the ir.maxDoc() went beyond true number of docs in index and I got stucked
> with Exception telling me that I'm trying to access deleted document.
> 
> Now I always, after deleting a document, open an IndexWriter and call
> optimize() and close it and it works okay then, the index doesn't get
> currupted anymore. But I haven't noticed anywhere that this is a standard
> procedure after deleting a document, so am I doing something wrong?
> Has anyone experienced something similiar? If true, please let me know how
> did you solve it.
> 
> Happy y2k+2

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-650-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Dec 27 19:29:05 2001
Return-Path: <lucene-user-return-650-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 64794 invoked from network); 27 Dec 2001 19:29:05 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 27 Dec 2001 19:29:05 -0000
Received: (qmail 2310 invoked by uid 97); 27 Dec 2001 19:29:08 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 2274 invoked by uid 97); 27 Dec 2001 19:29:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2263 invoked from network); 27 Dec 2001 19:29:06 -0000
Message-ID: <D15E9D991E0FD41184C90080C80D274650B4EA@MUSCOVITE>
From: Aruna Raghavan <ArunaR@opin.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: simple syntax question
Date: Thu, 27 Dec 2001 13:28:21 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello All,
I am confused about the meaning of the braces in the query syntax:
what does cat(dog) find?
what does cat(dog)* find?
Or is the following defines queries of the following kind?
(cat) AND (dog)  AND (bird) and so on. (i.e, one or more bool combinations)

I think it is the last. But I need someone to confirm this.

Syntax:
Query  ::=  Clause  ( [ Conjunction ] Clause ) *

Where:
		Clause ::=  [ Modifier ] [ FieldName ':' ] BasicClause 
			Modifier    ::= '-' | '+' | '!' | 'NOT'
			BasicClause ::= ( Term | Phrase | | PrefixQuery '('
Query ')'
			PrefixQuery ::= Term '*'
			Term        ::= <a-word-or-token-to-match>
			Phrase      ::= '"' Term * '"'

		Conjunction ::= 'AND' | 'OR' | '||'

		-----------------------------

Thanks once again for all the help!


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-651-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Dec 27 20:09:19 2001
Return-Path: <lucene-user-return-651-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 76099 invoked from network); 27 Dec 2001 20:09:19 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 27 Dec 2001 20:09:19 -0000
Received: (qmail 17550 invoked by uid 97); 27 Dec 2001 20:09:23 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 17534 invoked by uid 97); 27 Dec 2001 20:09:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17523 invoked from network); 27 Dec 2001 20:09:22 -0000
Message-ID: <D15E9D991E0FD41184C90080C80D274650B4EB@MUSCOVITE>
From: Aruna Raghavan <ArunaR@opin.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: another simple question on query syntax
Date: Thu, 27 Dec 2001 14:09:49 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

		Hello,
		Does any one know what is  PrefixQuery '(' Query ')'? in the
definition of query syntax
Syntax:
Query  ::=  Clause  ( [ Conjunction ] Clause ) *

Where:
		Clause ::=  [ Modifier ] [ FieldName ':' ] BasicClause 
			Modifier    ::= '-' | '+' | '!' | 'NOT'
			BasicClause ::= ( Term | Phrase | | PrefixQuery '('
Query ')'
			PrefixQuery ::= Term '*'
			Term        ::= <a-word-or-token-to-match>
			Phrase      ::= '"' Term * '"'

		Conjunction ::= 'AND' | 'OR' | '||'

		-----------------------------


		It seems to imply the following
		(dog*)((cat) AND (bird))
		but I am not sure what this finds.
		Thanks once again for all the help!


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-652-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Dec 27 20:26:49 2001
Return-Path: <lucene-user-return-652-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 80224 invoked from network); 27 Dec 2001 20:26:49 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 27 Dec 2001 20:26:49 -0000
Received: (qmail 23113 invoked by uid 97); 27 Dec 2001 20:26:53 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 23074 invoked by uid 97); 27 Dec 2001 20:26:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23063 invoked from network); 27 Dec 2001 20:26:52 -0000
Message-ID: <D15E9D991E0FD41184C90080C80D274650B4EC@MUSCOVITE>
From: Aruna Raghavan <ArunaR@opin.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: another simple question on query syntax
Date: Thu, 27 Dec 2001 14:27:39 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Hello again,
Prefix query in general means some thing like the following where the
operator is followed by the operands.
AND (a,b)
OR (a, AND (b,c))

If I apply this to the following definition, it still is not clear what it
will find-
AND (a,b) (Query)???

Just thought I would give more detail on what I am having trouble with.
Thx again!
-----Original Message-----
From: Aruna Raghavan [mailto:ArunaR@opin.com]
Sent: Thursday, December 27, 2001 2:10 PM
To: 'lucene-user@jakarta.apache.org'
Subject: another simple question on query syntax


		Hello,
		Does any one know what is  PrefixQuery '(' Query ')'? in the
definition of query syntax
Syntax:
Query  ::=  Clause  ( [ Conjunction ] Clause ) *

Where:
		Clause ::=  [ Modifier ] [ FieldName ':' ] BasicClause 
			Modifier    ::= '-' | '+' | '!' | 'NOT'
			BasicClause ::= ( Term | Phrase | | PrefixQuery '('
Query ')'
			PrefixQuery ::= Term '*'
			Term        ::= <a-word-or-token-to-match>
			Phrase      ::= '"' Term * '"'

		Conjunction ::= 'AND' | 'OR' | '||'

		-----------------------------


		It seems to imply the following
		(dog*)((cat) AND (bird))
		but I am not sure what this finds.
		Thanks once again for all the help!


--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


