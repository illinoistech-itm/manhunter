From java-user-return-30443-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 01 12:42:12 2007
Return-Path: <java-user-return-30443-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23621 invoked from network); 1 Oct 2007 12:42:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Oct 2007 12:42:11 -0000
Received: (qmail 50221 invoked by uid 500); 1 Oct 2007 12:41:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50191 invoked by uid 500); 1 Oct 2007 12:41:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50180 invoked by uid 99); 1 Oct 2007 12:41:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Oct 2007 05:41:54 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of sand.chawla@gmail.com designates 64.233.162.237 as permitted sender)
Received: from [64.233.162.237] (HELO nz-out-0506.google.com) (64.233.162.237)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Oct 2007 12:41:56 +0000
Received: by nz-out-0506.google.com with SMTP id i28so2244033nzi
        for <java-user@lucene.apache.org>; Mon, 01 Oct 2007 05:41:35 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        bh=ViyfG/JM/uSIdIK9QBV3prAsRgTkkhypox5zKUezlnI=;
        b=HtlgtJSCm7eoERkDWHGxIQSzKxJMs+sP8vRgi+p97AofLgdMSQ8AEpCzQOz8DR27lg+2ZOmKB++D74ql+vNqIOglZKQhDwZ/fgCtK7GzK0TNg3V/v87XA2YD1YS3ONTKixjsIeUK87A7j0O/zP930OhVcCzCXlOutHpbJNNCTso=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=KrfBGe26hKMAupzNBCDFA7Cg/ZVwP4nUCagJSvoBZQiXabwa/DfWooNCQR6BoplQUAtsvejjITpfDFPzgmES6nDjrBymLGzd7Ob40BGgYN8AMGfpcyHFvGce3b2gkbmgG0+Ys3TKSYz4a6Lglu72AFHdAh2aJnx8y7f/076wGNA=
Received: by 10.114.67.2 with SMTP id p2mr569898waa.1191242494462;
        Mon, 01 Oct 2007 05:41:34 -0700 (PDT)
Received: by 10.141.66.6 with HTTP; Mon, 1 Oct 2007 05:41:34 -0700 (PDT)
Message-ID: <a70e4c2b0710010541k2db160f4m4c710f5d51cd4d2a@mail.gmail.com>
Date: Mon, 1 Oct 2007 18:11:34 +0530
From: "sandeep chawla" <sand.chawla@gmail.com>
To: java-user@lucene.apache.org
Subject: Some questions...
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

I want to ask two question  here-

1- Does lucene provide a tokenizer which can use string as a delimiter
if not , someone please give me some gyan :) about how to do it.

2- Is there a way I can get the term.docFrq()  for a particular set of
documents..

i mean if i have a 100 documents  and out of which 50 are physics and
50 are chemistry.

I want to calculate docfreq in 50 documents not in 100 documents.

Thanks a lot
Sandeep

-- 
SANDEEP CHAWLA
House No- 23
10th main
BTM 1st  Stage
Bangalore Mobile: 91-9986150603

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30444-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 01 13:27:04 2007
Return-Path: <java-user-return-30444-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46619 invoked from network); 1 Oct 2007 13:27:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Oct 2007 13:27:04 -0000
Received: (qmail 9983 invoked by uid 500); 1 Oct 2007 13:26:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9957 invoked by uid 500); 1 Oct 2007 13:26:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9938 invoked by uid 99); 1 Oct 2007 13:26:40 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Oct 2007 06:26:40 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of dckorah@gmail.com designates 64.233.182.191 as permitted sender)
Received: from [64.233.182.191] (HELO nf-out-0910.google.com) (64.233.182.191)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Oct 2007 13:26:40 +0000
Received: by nf-out-0910.google.com with SMTP id d3so2430237nfc
        for <java-user@lucene.apache.org>; Mon, 01 Oct 2007 06:26:19 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:from:to:subject:date:mime-version:content-type:x-mailer:x-mimeole:thread-index:message-id;
        bh=4Cj4iLKRVFLLXdI1VhX30EDoVFVlgW9/UZSxSuPHang=;
        b=UWJf/1irZycM1UB6jo9zkbZHZCQxr5fjveO6pWI/C7xfgC8fH1geCyfUJzFUkpxCngXyJJ8Nyr0m7o9VqGD19gQeJPDk11147JNXt4UBbfm3OkjZEIJv90Yn+xpbsupXfaLEgtup3XEmzv8ud2yffQMCMiWICdwqKa8stiid/+s=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:from:to:subject:date:mime-version:content-type:x-mailer:x-mimeole:thread-index:message-id;
        b=loVH05qnVmXAzsLrNQO11uTpt7iXLpQByXzk0+jgGKmZouW6+oByKycv5btsBm4IbzrK/c+OVtQPCE2smseEwtAII4an/aCau6TwqrEQ4wbKXxFOY/phV7HQV33Nun0admfH3OTzyPgAwmVjQIbpqxLdbA5Cv1JtRPy4ZBpFZx0=
Received: by 10.78.149.15 with SMTP id w15mr3081717hud.1191245176427;
        Mon, 01 Oct 2007 06:26:16 -0700 (PDT)
Received: from SCWDEVDINOKVM ( [62.249.212.129])
        by mx.google.com with ESMTPS id v33sm2320726hub.2007.10.01.06.26.13
        (version=SSLv3 cipher=RC4-MD5);
        Mon, 01 Oct 2007 06:26:15 -0700 (PDT)
From: "Dino Korah" <dckorah@gmail.com>
To: <java-user@lucene.apache.org>
Subject: mixing analyzer
Date: Mon, 1 Oct 2007 14:26:05 +0100
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_002D_01C80437.03347120"
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3138
Thread-Index: AcgELp3ngJDZIEeiT++0vcdeICcLuw==
Message-ID: <4700f577.21624e0a.366a.ffff9907@mx.google.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_NextPart_000_002D_01C80437.03347120
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,

=20

I am working on a lucene email indexing system which potentially can get
documents in various languages. Currently I am using StandardAnalyzer, =
which
works for English but not for many of the other languages. One of the
requirements for the search interface is that they have to search =
without
selecting languages.

=20

Is it possible to search across multiple indexes that has been created =
with
different analyzers; ie, when some one search for say =93earth=94 lucene =
will
search for =93earth=94 over CJK Analyzed IndexCJK and StandardAnalyzer =
analyzed
IndexSA in one search() call? If not is there a way of combining the =
result
from multiple search() call.

=20

Thanks in advance.

=20

d i n o    k o r a h
Tel: +44 795 66 65 283
--------------------------------
51=B021'52"N  0=B05' 14.16"

=20


------=_NextPart_000_002D_01C80437.03347120--


From java-user-return-30445-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 01 13:35:25 2007
Return-Path: <java-user-return-30445-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50235 invoked from network); 1 Oct 2007 13:35:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Oct 2007 13:35:24 -0000
Received: (qmail 30374 invoked by uid 500); 1 Oct 2007 13:35:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30344 invoked by uid 500); 1 Oct 2007 13:35:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30327 invoked by uid 99); 1 Oct 2007 13:35:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Oct 2007 06:35:04 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erickerickson@gmail.com designates 64.233.182.187 as permitted sender)
Received: from [64.233.182.187] (HELO nf-out-0910.google.com) (64.233.182.187)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Oct 2007 13:35:06 +0000
Received: by nf-out-0910.google.com with SMTP id d3so2432525nfc
        for <java-user@lucene.apache.org>; Mon, 01 Oct 2007 06:34:44 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=9KuXyE1tfwLyDM4Zke1i2q1VPHPct7/msNCTYjjhHuE=;
        b=ChwNrz1hGqg4kiR//wkq3PtA+kpnd3rHUgzJVtx2GA/cGL1s/2jUSzzzigeHMCuT2JCvAOXMEPoogi1yRphdbU2wSYwz28qLuh+f18oGYxASbDW+J2HqMQrXN68WU+X1VEjKE8fBXXuoqmvlSDy9owu6N0kEn4+gPv16cJeYqUo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=i7i30hMFtqvqqNxKmV2cb8BobKPDP3Ku69PDnbWp7mzE8eZsKLZyhxY86A4Yn8Tiul/jUlqN1oupZST2XMzha9jmag9QTA2IBP103s2dAp/boeo0dNhhGcag6Riy6y3KOUV/yvm1z1JfdT7IH2Dy/pZLsTBG4aAU39se2Xy31PE=
Received: by 10.82.138.6 with SMTP id l6mr6551689bud.1191245682341;
        Mon, 01 Oct 2007 06:34:42 -0700 (PDT)
Received: by 10.82.167.3 with HTTP; Mon, 1 Oct 2007 06:34:42 -0700 (PDT)
Message-ID: <359a92830710010634t6f1067e3n26babdf3433261f5@mail.gmail.com>
Date: Mon, 1 Oct 2007 09:34:42 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: mixing analyzer
In-Reply-To: <4700f577.21624e0a.366a.ffff9907@mx.google.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_11877_33046406.1191245682306"
References: <4700f577.21624e0a.366a.ffff9907@mx.google.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_11877_33046406.1191245682306
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Sure, but there's a time/space tradeoff. Isn't there always <G>....

PerFieldAnalyzerWrapper is your friend. It would require that your
index be built on a per-language basis. Say indexing
text from French documents in a field "french_text", Chinese
documents in a field chinese_text. You'd construct your query
something like "chinese_text:blah OR french_text:blah" and
your PerFieldAnalyzer would just handle things for you.

But this may not fit your problem space ideally....

Best
Erick


On 10/1/07, Dino Korah <dckorah@gmail.com> wrote:
>
> Hi,
>
>
>
> I am working on a lucene email indexing system which potentially can get
> documents in various languages. Currently I am using StandardAnalyzer,
> which
> works for English but not for many of the other languages. One of the
> requirements for the search interface is that they have to search without
> selecting languages.
>
>
>
> Is it possible to search across multiple indexes that has been created
> with
> different analyzers; ie, when some one search for say "earth" lucene will
> search for "earth" over CJK Analyzed IndexCJK and StandardAnalyzer
> analyzed
> IndexSA in one search() call? If not is there a way of combining the
> result
> from multiple search() call.
>
>
>
> Thanks in advance.
>
>
>
> d i n o    k o r a h
> Tel: +44 795 66 65 283
> --------------------------------
> 51=B021'52"N  0=B05' 14.16"
>
>
>
>

------=_Part_11877_33046406.1191245682306--

From java-user-return-30446-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 01 13:37:32 2007
Return-Path: <java-user-return-30446-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50775 invoked from network); 1 Oct 2007 13:37:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Oct 2007 13:37:31 -0000
Received: (qmail 36645 invoked by uid 500); 1 Oct 2007 13:37:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36617 invoked by uid 500); 1 Oct 2007 13:37:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36606 invoked by uid 99); 1 Oct 2007 13:37:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Oct 2007 06:37:14 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [194.125.145.37] (HELO mercury.propylon.com) (194.125.145.37)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Oct 2007 13:37:15 +0000
Received: from propylon-sdsl.sdsl.esat.net ([193.120.101.26] helo=[192.168.213.155])
	by mercury.propylon.com with esmtp (Exim 4.50)
	id 1IcLM8-0000Hh-EC
	for java-user@lucene.apache.org; Mon, 01 Oct 2007 14:30:45 +0100
Message-ID: <4700F72B.1010609@propylon.com>
Date: Mon, 01 Oct 2007 14:33:31 +0100
From: John Byrne <john.byrne@propylon.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-SA-Exim-Connect-IP: 193.120.101.26
X-SA-Exim-Mail-From: john.byrne@propylon.com
Subject: Indexing puncuation and symbols
X-Spam-Checker-Version: SpamAssassin 3.0.3 (2005-04-27) on 
	mercury.propylon.com
X-Spam-Level: 
X-SA-Exim-Version: 4.2 (built Thu, 03 Mar 2005 10:44:12 +0100)
X-SA-Exim-Scanned: Yes (on mercury.propylon.com)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=0.1 required=5.0 tests=AWL autolearn=failed 
	version=3.0.3

Hi,

Has anyone written an analyzer that preserves puncuation and synmbols 
("£", "$", "%" etc.) as tokens?

That way we could distinguish between searching for "100" and "100%" or 
"$100".

Does anyone know of a reason why that wouldn't work? I notice that even 
Google doesn't support that. But I can't think why.

Regards,
John B.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30447-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 01 13:42:48 2007
Return-Path: <java-user-return-30447-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51848 invoked from network); 1 Oct 2007 13:42:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Oct 2007 13:42:47 -0000
Received: (qmail 51849 invoked by uid 500); 1 Oct 2007 13:42:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51823 invoked by uid 500); 1 Oct 2007 13:42:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51811 invoked by uid 99); 1 Oct 2007 13:42:31 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Oct 2007 06:42:31 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 80.76.149.213 is neither permitted nor denied by domain of karl.wettin@gmail.com)
Received: from [80.76.149.213] (HELO ch-smtp02.sth.basefarm.net) (80.76.149.213)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Oct 2007 13:42:31 +0000
Received: from c83-249-118-113.bredband.comhem.se ([83.249.118.113]:55833 helo=[192.168.1.101])
	by ch-smtp02.sth.basefarm.net with esmtp (Exim 4.66)
	(envelope-from <karl.wettin@gmail.com>)
	id 1IcLXG-0003Sd-6p
	for java-user@lucene.apache.org; Mon, 01 Oct 2007 15:42:10 +0200
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <a70e4c2b0710010541k2db160f4m4c710f5d51cd4d2a@mail.gmail.com>
References: <a70e4c2b0710010541k2db160f4m4c710f5d51cd4d2a@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <3FFCF614-F35D-456A-83DC-860BFC44DA25@gmail.com>
Content-Transfer-Encoding: 7bit
From: Karl Wettin <karl.wettin@gmail.com>
Subject: Re: Some questions...
Date: Mon, 1 Oct 2007 15:34:41 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Originating-IP: 83.249.118.113
X-Scan-Result: No virus found in message 1IcLXG-0003Sd-6p.
X-Scan-Signature: ch-smtp02.sth.basefarm.net 1IcLXG-0003Sd-6p 70795c59383168b0d6e4f1f38792a849
X-Virus-Checked: Checked by ClamAV on apache.org


1 okt 2007 kl. 14.41 skrev sandeep chawla:

> 2- Is there a way I can get the term.docFrq()  for a particular set of
> documents..

Using TermDocs or the TermFreqVector.


-- 
karl


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30448-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 01 13:45:27 2007
Return-Path: <java-user-return-30448-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52603 invoked from network); 1 Oct 2007 13:45:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Oct 2007 13:45:26 -0000
Received: (qmail 57855 invoked by uid 500); 1 Oct 2007 13:45:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57825 invoked by uid 500); 1 Oct 2007 13:45:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57811 invoked by uid 99); 1 Oct 2007 13:45:07 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Oct 2007 06:45:07 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 80.76.149.212 is neither permitted nor denied by domain of karl.wettin@gmail.com)
Received: from [80.76.149.212] (HELO ch-smtp01.sth.basefarm.net) (80.76.149.212)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Oct 2007 13:45:08 +0000
Received: from c83-249-118-113.bredband.comhem.se ([83.249.118.113]:55855 helo=[192.168.1.101])
	by ch-smtp01.sth.basefarm.net with esmtp (Exim 4.66)
	(envelope-from <karl.wettin@gmail.com>)
	id 1IcLZm-0007iS-5Q
	for java-user@lucene.apache.org; Mon, 01 Oct 2007 15:44:47 +0200
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <4700F72B.1010609@propylon.com>
References: <4700F72B.1010609@propylon.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Message-Id: <0C09F3B2-8C01-4C61-970E-B4673971B526@gmail.com>
Content-Transfer-Encoding: quoted-printable
From: Karl Wettin <karl.wettin@gmail.com>
Subject: Re: Indexing puncuation and symbols
Date: Mon, 1 Oct 2007 15:37:18 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Originating-IP: 83.249.118.113
X-Scan-Result: No virus found in message 1IcLZm-0007iS-5Q.
X-Scan-Signature: ch-smtp01.sth.basefarm.net 1IcLZm-0007iS-5Q fefc1d7eabdfdf53eab36070e41724a8
X-Virus-Checked: Checked by ClamAV on apache.org


1 okt 2007 kl. 15.33 skrev John Byrne:

> Has anyone written an analyzer that preserves puncuation and
> synmbols ("=A3", "$", "%" etc.) as tokens?

WhitespaceAnalyzer?

You could also extend the lexical rules of StandardAnalyzer.


--=20
karl=

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30449-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 01 13:55:55 2007
Return-Path: <java-user-return-30449-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55900 invoked from network); 1 Oct 2007 13:55:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Oct 2007 13:55:55 -0000
Received: (qmail 83933 invoked by uid 500); 1 Oct 2007 13:55:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83905 invoked by uid 500); 1 Oct 2007 13:55:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83894 invoked by uid 99); 1 Oct 2007 13:55:38 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Oct 2007 06:55:38 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [194.125.145.37] (HELO mercury.propylon.com) (194.125.145.37)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Oct 2007 13:55:38 +0000
Received: from propylon-sdsl.sdsl.esat.net ([193.120.101.26] helo=[192.168.213.155])
	by mercury.propylon.com with esmtp (Exim 4.50)
	id 1IcLgX-0000uv-Fo
	for java-user@lucene.apache.org; Mon, 01 Oct 2007 14:52:17 +0100
Message-ID: <4700FC1C.6010707@propylon.com>
Date: Mon, 01 Oct 2007 14:54:36 +0100
From: John Byrne <john.byrne@propylon.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
References: <4700F72B.1010609@propylon.com> <0C09F3B2-8C01-4C61-970E-B4673971B526@gmail.com>
In-Reply-To: <0C09F3B2-8C01-4C61-970E-B4673971B526@gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-SA-Exim-Connect-IP: 193.120.101.26
X-SA-Exim-Mail-From: john.byrne@propylon.com
Subject: Re: Indexing puncuation and symbols
X-Spam-Checker-Version: SpamAssassin 3.0.3 (2005-04-27) on 
	mercury.propylon.com
X-Spam-Level: 
X-SA-Exim-Version: 4.2 (built Thu, 03 Mar 2005 10:44:12 +0100)
X-SA-Exim-Scanned: Yes (on mercury.propylon.com)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=0.1 required=5.0 tests=AWL autolearn=failed 
	version=3.0.3

Whitespace analyzer does preserve those symbols, but not as tokens. It 
simply leaves them attached to the original term.

As an example of what I'm talking about, consider a document that 
contains (without the quotes) "foo, ".

Now, using WhitespaceAnalyzer, I could only get that document by 
searching for "foo,". Using StandardAnalyzer or any analyzer that 
removes punctuation, I could only find it by searching for "foo".

I want an analyzer that will allow me to find it if I build a phrase 
query with the term "foo" followed immediately by ",". After all, the 
comma may be relevant to the search, but is definitely not part of the 
word.

Extending StandardAnalyer is what I had in mind, but I don't know where 
to start. I also wonder why no-one seems to have done it before- it 
makes me suspect that there's some reason I haven't seen yet that makes 
it impossible ot impractical.



Karl Wettin wrote:
>
> 1 okt 2007 kl. 15.33 skrev John Byrne:
>
>> Has anyone written an analyzer that preserves puncuation and
>> synmbols ("£", "$", "%" etc.) as tokens?
>
> WhitespaceAnalyzer?
>
> You could also extend the lexical rules of StandardAnalyzer.
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30450-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 01 14:03:54 2007
Return-Path: <java-user-return-30450-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59856 invoked from network); 1 Oct 2007 14:03:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Oct 2007 14:03:52 -0000
Received: (qmail 10303 invoked by uid 500); 1 Oct 2007 14:03:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10104 invoked by uid 500); 1 Oct 2007 14:03:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10093 invoked by uid 99); 1 Oct 2007 14:03:36 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Oct 2007 07:03:36 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of patrek@gmail.com designates 66.249.92.175 as permitted sender)
Received: from [66.249.92.175] (HELO ug-out-1314.google.com) (66.249.92.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Oct 2007 14:03:37 +0000
Received: by ug-out-1314.google.com with SMTP id a2so2077209ugf
        for <java-user@lucene.apache.org>; Mon, 01 Oct 2007 07:03:16 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        bh=LAxo0rV0XTEf9hWtuCj5bOoxrNwqcsS7YYsaRgK6TZY=;
        b=YqhdUw8Xsc8WThl08t+vJTvCVU+U0ICiCreMJZmqLRcTqvxUzFQZZyhMAvEvVZj9BZU3cuLn0+jouZ851l8AswOMa5SdFkr6qLqhI3IjiUmi5EPkNJ9scCUeLtq1oMlgLq94jiTTRpvSJ5X0cgbUhLwUhoJmpzIKwqInCZigZD4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=r2lip5moNXtALen4Ffx2iPs5PXVotTnADjCQ6e5GSoQbiXLGVozmWZGNuonn5YZk+ijHqmhGh5P6MduZR30uAQW5HzfRhymWe+tlOnS+vRc258Od7xxY3cgzgRVyiprXu7sADAE9Ns9fQqVEzKFc4Ze9LbyjfM2Hz2eBhgp3IiE=
Received: by 10.66.216.8 with SMTP id o8mr8861914ugg.1191247395957;
        Mon, 01 Oct 2007 07:03:15 -0700 (PDT)
Received: by 10.67.87.20 with HTTP; Mon, 1 Oct 2007 07:03:15 -0700 (PDT)
Message-ID: <48b038c60710010703u1370e6cu170d15fe1480f607@mail.gmail.com>
Date: Mon, 1 Oct 2007 10:03:15 -0400
From: "Patrick Turcotte" <patrek@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Indexing puncuation and symbols
In-Reply-To: <4700FC1C.6010707@propylon.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <4700F72B.1010609@propylon.com>
	 <0C09F3B2-8C01-4C61-970E-B4673971B526@gmail.com>
	 <4700FC1C.6010707@propylon.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

Don't know the size of your dataset. But, couldn't you index in 2
fields, with PerFieldAnalyzer, tokenizing with Standard for 1 field,
and WhiteSpace for the other.

Then use multiple field query (there is a query parser for that, just
don't remember the name right now).

Patrick

On 10/1/07, John Byrne <john.byrne@propylon.com> wrote:
> Whitespace analyzer does preserve those symbols, but not as tokens. It
> simply leaves them attached to the original term.
>
> As an example of what I'm talking about, consider a document that
> contains (without the quotes) "foo, ".
>
> Now, using WhitespaceAnalyzer, I could only get that document by
> searching for "foo,". Using StandardAnalyzer or any analyzer that
> removes punctuation, I could only find it by searching for "foo".
>
> I want an analyzer that will allow me to find it if I build a phrase
> query with the term "foo" followed immediately by ",". After all, the
> comma may be relevant to the search, but is definitely not part of the
> word.
>
> Extending StandardAnalyer is what I had in mind, but I don't know where
> to start. I also wonder why no-one seems to have done it before- it
> makes me suspect that there's some reason I haven't seen yet that makes
> it impossible ot impractical.
>
>
>
> Karl Wettin wrote:
> >
> > 1 okt 2007 kl. 15.33 skrev John Byrne:
> >
> >> Has anyone written an analyzer that preserves puncuation and
> >> synmbols ("=A3", "$", "%" etc.) as tokens?
> >
> > WhitespaceAnalyzer?
> >
> > You could also extend the lexical rules of StandardAnalyzer.
> >
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30451-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 01 14:38:07 2007
Return-Path: <java-user-return-30451-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70137 invoked from network); 1 Oct 2007 14:38:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Oct 2007 14:38:06 -0000
Received: (qmail 75264 invoked by uid 500); 1 Oct 2007 14:37:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75235 invoked by uid 500); 1 Oct 2007 14:37:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75224 invoked by uid 99); 1 Oct 2007 14:37:49 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Oct 2007 07:37:49 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [194.125.145.37] (HELO mercury.propylon.com) (194.125.145.37)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Oct 2007 14:37:50 +0000
Received: from propylon-sdsl.sdsl.esat.net ([193.120.101.26] helo=[192.168.213.155])
	by mercury.propylon.com with esmtp (Exim 4.50)
	id 1IcMLo-0002Ml-2V
	for java-user@lucene.apache.org; Mon, 01 Oct 2007 15:34:29 +0100
Message-ID: <47010619.4030909@propylon.com>
Date: Mon, 01 Oct 2007 15:37:13 +0100
From: John Byrne <john.byrne@propylon.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
References: <4700F72B.1010609@propylon.com>	 <0C09F3B2-8C01-4C61-970E-B4673971B526@gmail.com>	 <4700FC1C.6010707@propylon.com> <48b038c60710010703u1370e6cu170d15fe1480f607@mail.gmail.com>
In-Reply-To: <48b038c60710010703u1370e6cu170d15fe1480f607@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-SA-Exim-Connect-IP: 193.120.101.26
X-SA-Exim-Mail-From: john.byrne@propylon.com
Subject: Re: Indexing puncuation and symbols
X-Spam-Checker-Version: SpamAssassin 3.0.3 (2005-04-27) on 
	mercury.propylon.com
X-Spam-Level: 
X-SA-Exim-Version: 4.2 (built Thu, 03 Mar 2005 10:44:12 +0100)
X-SA-Exim-Scanned: Yes (on mercury.propylon.com)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=0.1 required=5.0 tests=AWL autolearn=failed 
	version=3.0.3

Well, the size wouldn't be a problem, we could afford the extra field. 
But it would seem to complicate the search quite a lot. I'd have to run 
the search terms through both analyzers. It would be much simpler if the 
characters were indexed as separate tokens.

Patrick Turcotte wrote:
> Hi,
>
> Don't know the size of your dataset. But, couldn't you index in 2
> fields, with PerFieldAnalyzer, tokenizing with Standard for 1 field,
> and WhiteSpace for the other.
>
> Then use multiple field query (there is a query parser for that, just
> don't remember the name right now).
>
> Patrick
>
> On 10/1/07, John Byrne <john.byrne@propylon.com> wrote:
>   
>> Whitespace analyzer does preserve those symbols, but not as tokens. It
>> simply leaves them attached to the original term.
>>
>> As an example of what I'm talking about, consider a document that
>> contains (without the quotes) "foo, ".
>>
>> Now, using WhitespaceAnalyzer, I could only get that document by
>> searching for "foo,". Using StandardAnalyzer or any analyzer that
>> removes punctuation, I could only find it by searching for "foo".
>>
>> I want an analyzer that will allow me to find it if I build a phrase
>> query with the term "foo" followed immediately by ",". After all, the
>> comma may be relevant to the search, but is definitely not part of the
>> word.
>>
>> Extending StandardAnalyer is what I had in mind, but I don't know where
>> to start. I also wonder why no-one seems to have done it before- it
>> makes me suspect that there's some reason I haven't seen yet that makes
>> it impossible ot impractical.
>>
>>
>>
>> Karl Wettin wrote:
>>     
>>> 1 okt 2007 kl. 15.33 skrev John Byrne:
>>>
>>>       
>>>> Has anyone written an analyzer that preserves puncuation and
>>>> synmbols ("£", "$", "%" etc.) as tokens?
>>>>         
>>> WhitespaceAnalyzer?
>>>
>>> You could also extend the lexical rules of StandardAnalyzer.
>>>
>>>
>>>       
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>     
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>   


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30452-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 01 14:53:55 2007
Return-Path: <java-user-return-30452-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75450 invoked from network); 1 Oct 2007 14:53:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Oct 2007 14:53:54 -0000
Received: (qmail 15367 invoked by uid 500); 1 Oct 2007 14:53:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15341 invoked by uid 500); 1 Oct 2007 14:53:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15330 invoked by uid 99); 1 Oct 2007 14:53:37 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Oct 2007 07:53:37 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of patrek@gmail.com designates 66.249.92.173 as permitted sender)
Received: from [66.249.92.173] (HELO ug-out-1314.google.com) (66.249.92.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Oct 2007 14:53:39 +0000
Received: by ug-out-1314.google.com with SMTP id a2so2089734ugf
        for <java-user@lucene.apache.org>; Mon, 01 Oct 2007 07:53:18 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        bh=TJMn+TXlLhi0YGEL4Xx1gjBsl7hb4wU5vRiX8Uh5INE=;
        b=KkhStEn/r522G0gcNZZ/Vk8xIRia1R2UyS32lvxsMrdQgUb/fnmoHahAJ+f+7AMR2ltPGROMo0mZMjzVGdLvNQOSJ1sVQvGkCtlHcgt7+iWJ6qQyyC9myLQ+jeIRpGJicFpwJL8LriNPv/cfYonxtp2LNyv/FCR2qihkh5F23DM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=CBlhYrFt0l3AvEdjN0OvjsW+eD12+Iaw9cG67gUBFUmvAMXhCIgP+Chrj4IRbvshPcvp4rIRTb7w2R/WriVsKU82vnRFouymg9ZiVEICPqomUQbKN4Q1WV6yuSm38mDVgFcvQTWPKaM9LPlrl1BI/HWai9w7dCBJZ0Bthu2aLkQ=
Received: by 10.66.252.8 with SMTP id z8mr957726ugh.1191250397832;
        Mon, 01 Oct 2007 07:53:17 -0700 (PDT)
Received: by 10.67.87.20 with HTTP; Mon, 1 Oct 2007 07:53:17 -0700 (PDT)
Message-ID: <48b038c60710010753p1a3079eco3b04fe9d572860b4@mail.gmail.com>
Date: Mon, 1 Oct 2007 10:53:17 -0400
From: "Patrick Turcotte" <patrek@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Indexing puncuation and symbols
In-Reply-To: <47010619.4030909@propylon.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <4700F72B.1010609@propylon.com>
	 <0C09F3B2-8C01-4C61-970E-B4673971B526@gmail.com>
	 <4700FC1C.6010707@propylon.com>
	 <48b038c60710010703u1370e6cu170d15fe1480f607@mail.gmail.com>
	 <47010619.4030909@propylon.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Of course, it depends on the kind of query you are doing, but (I did
find the query parser in the mean time)

MultiFieldQueryParser mfqp = new MultiFieldQueryParser(useFields,
analyzer, boosts);
where analyzer can be a PerFieldAnalyzer
followed by
Query query = mfqp.parse(queryString);
would do the trick quite simply.

Patrick

On 10/1/07, John Byrne <john.byrne@propylon.com> wrote:
> Well, the size wouldn't be a problem, we could afford the extra field.
> But it would seem to complicate the search quite a lot. I'd have to run
> the search terms through both analyzers. It would be much simpler if the
> characters were indexed as separate tokens.
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30453-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 01 15:26:50 2007
Return-Path: <java-user-return-30453-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18157 invoked from network); 1 Oct 2007 15:26:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Oct 2007 15:26:49 -0000
Received: (qmail 86579 invoked by uid 500); 1 Oct 2007 15:26:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86542 invoked by uid 500); 1 Oct 2007 15:26:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86531 invoked by uid 99); 1 Oct 2007 15:26:32 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Oct 2007 08:26:32 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [194.109.24.31] (HELO smtp-vbr11.xs4all.nl) (194.109.24.31)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Oct 2007 15:26:31 +0000
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr11.xs4all.nl (8.13.8/8.13.8) with ESMTP id l91FPdQk081380
	for <java-user@lucene.apache.org>; Mon, 1 Oct 2007 17:25:39 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: a query for a special AND?
Date: Mon, 1 Oct 2007 17:25:39 +0200
User-Agent: KMail/1.8.2
References: <34b8543c0709170240u66a657b9r21d3d4547585d8d3@mail.gmail.com> <200709200946.02329.paul.elschot@xs4all.nl> <34b8543c0709300020l5097cdcbq5c121a1ba77d3942@mail.gmail.com>
In-Reply-To: <34b8543c0709300020l5097cdcbq5c121a1ba77d3942@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200710011725.39092.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org

As for suggestions on how to do this, I have no other than
to make sure that you can create the queries necessary to obtain
the required output.

Regards,
Paul Elschot


On Sunday 30 September 2007 09:20, Mohammad Norouzi wrote:
> Hi Paul,
> thanks, I dot your idea, now I am planing to implement this,
> "de-normalization", now I just need your suggestion on this issue and tell
> me which one is the best
>
> I am considering to put a Field as follows:
> my_de_normalized_field
> service_name : service_value
>
> if there are more than one service and value then I need to separate with a
> character such as comma
>
> service_name1:value1 , service_name2: value2,....
>
> apart from that, each value might be a range value say, 10 - 20 or a single
> value say, -2
>
> do you have any suggestion on this?
>
> thank you very much
>
> On 9/20/07, Paul Elschot <paul.elschot@xs4all.nl> wrote:
> > On Thursday 20 September 2007 09:19, Mohammad Norouzi wrote:
> > > well, you mean we should separate documents just like relational tables
> >
> > in
> >
> > > databases ?
> >
> > Quite the contrary, it's called _de_normalization. This means that the
> > documents in lucene normally contain more information than is present
> > in a single relational entity.
> >
> > > if yes, how to make the relationship between those documents
> >
> > Lucene has no facilities to maintain relational relationships among
> > its documents. A lucene index allows free format documents, i.e.
> > any document may have any field or not.
> > In practice you will need at least a primary key, but even that you will
> > need to program yourself.
> >
> > Regards,
> > Paul Elschot
> >
> > > thank you so much Paul
> > >
> > > On 9/20/07, Paul Elschot <paul.elschot@xs4all.nl> wrote:
> > > > On Thursday 20 September 2007 07:29, Mohammad Norouzi wrote:
> > > > > Sorry Paul I just hurried in replying ;)
> > > > > I read the documents of Lucene about query syntax and I figured out
> >
> > the
> >
> > > > what
> > > >
> > > > > is the difference
> > > > > but my problem is different, this is preoccupied my mind and I am
> >
> > under
> >
> > > > > pressure to solve this problem, after analyzing the results I get,
> >
> > now I
> >
> > > > > think we need a "group by" in our query.
> > > > >
> > > > > let me tell you an example: we need a list of patients that have
> >
> > been
> >
> > > > > examined by certain services specified by the user , say service
> > > > > one
> >
> > and
> >
> > > > > service two.
> > > > >
> > > > > in this case here is the correct result:
> > > > > patient-id              service_name               patient_result
> > > > > 1                             s1                                12
> > > > > 1                             s2                                13
> > > > > 2                             s1                                 
> > > > > 41
> > > > >
> > > > > 2                             s2                                22
> > > > >
> > > > > but for example, following is incorrect because patient 1 has no
> >
> > service
> >
> > > > > with name service2:
> > > > > patient-id              service_name               patient_result
> > > > > 1                             s1                                12
> > > > > 1                             s3                                13
> > > >
> > > > That depends on what you put in your lucene documents.
> > > > You can only get complete lucene documents as query results.
> > > > For the above example a patient with all service names
> > > > should be indexed in a single lucene doc.
> > > >
> > > > The rows above suggest that the relation between patient and
> > > > service forms the relational result. However, for a text search
> > > > engine it is usual to denormalize the relational records into
> > > > indexed documents, depending on the required output.
> > > >
> > > > Regards,
> > > > Paul Elschot
> > > >
> > > > > On 9/20/07, Mohammad Norouzi <mnrz57@gmail.com> wrote:
> > > > > > Hi Paul,
> > > > > > would you tell me what is the difference between AND and + ?
> > > > > > I tried both but get different result
> > > > > > with AND I get 1777 documents and with + I get nearly 25000 ?
> > > > > >
> > > > > > On 9/17/07, Paul Elschot <paul.elschot@xs4all.nl> wrote:
> > > > > > > On Monday 17 September 2007 11:40, Mohammad Norouzi wrote:
> > > > > > > > Hi
> > > > > > > > I have a problem in getting correct result from Lucene,
> >
> > consider
> >
> > > > we
> > > >
> > > > > > > have an
> > > > > > >
> > > > > > > > index containing documents with fields "field1" and "field2"
> >
> > etc.
> >
> > > > now
> > > >
> > > > > > > I want
> > > > > > >
> > > > > > > > to have documents in which their field1 are equal one by one
> >
> > and
> >
> > > > their
> > > >
> > > > > > > > field2 with two different value
> > > > > > > >
> > > > > > > > to clarify consider I have this query:
> > > > > > > > field1:val*  (field2:"myValue1" XOR field2:"myValue2")
> > > > > > >
> > > > > > > Did you try this:
> > > > > > >
> > > > > > > +field1:val*  +field2:"myValue1" +field2:"myValue2"
> > > > > > >
> > > > > > > Regards,
> > > > > > > Paul Elschot
> > > > > > >
> > > > > > > > now I want this result:
> > > > > > > > field1              field2
> > > > > > > > val1                myValue1
> > > > > > > > val1                myValue2
> > > > > > > > val2                myValue1
> > > > > > > > val2                myValue2
> > > > > > > >
> > > > > > > > this result is not acceptable:
> > > > > > > > val3              myValue1
> > > > > > > > or
> > > > > > > > val4             myValue1
> > > > > > > > val4             myValue3
> > > > > > > >
> > > > > > > > I put XOR as operator because this is not a typical OR, it's
> > > > > > >
> > > > > > > different, it
> > > > > > >
> > > > > > > > means documents that contains both myValue1 and myValue2 for
> >
> > the
> >
> > > > field
> > > >
> > > > > > > > field2
> > > > > > > >
> > > > > > > > how to build a query to get such result?
> > > > > > > >
> > > > > > > > thanks in advance
> > > > > > > > --
> > > > > > > > Regards,
> > > > > > > > Mohammad
> > > > > > > > --------------------------
> > > > > > > > see my blog: http://brainable.blogspot.com/
> > > > > > > > another in Persian: http://fekre-motefavet.blogspot.com/
> > > > > > > > Sun Certified Java Programmer
> > > > > > > > ExpertsExchange Certified, Master:
> > > > > > > > http://www.experts-exchange.com/M_1938796.html
> > > >
> > > > ---------------------------------------------------------------------
> > > >
> > > > > > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > > > > > For additional commands, e-mail:
> >
> > java-user-help@lucene.apache.org
> >
> > > > > > --
> > > > > > Regards,
> > > > > > Mohammad
> > > > > > --------------------------
> > > > > > see my blog: http://brainable.blogspot.com/
> > > > > > another in Persian: http://fekre-motefavet.blogspot.com/
> > > > > > Sun Certified Java Programmer
> > > > > > ExpertsExchange Certified, Master:
> > > >
> > > > http://www.experts-exchange.com/M_1938796.html
> > > >
> > > > > --
> > > > > Regards,
> > > > > Mohammad
> > > > > --------------------------
> > > > > see my blog: http://brainable.blogspot.com/
> > > > > another in Persian: http://fekre-motefavet.blogspot.com/
> > > > > Sun Certified Java Programmer
> > > > > ExpertsExchange Certified, Master:
> > > > > http://www.experts-exchange.com/M_1938796.html
> > > >
> > > > ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> > > --
> > > Regards,
> > > Mohammad
> > > --------------------------
> > > see my blog: http://brainable.blogspot.com/
> > > another in Persian: http://fekre-motefavet.blogspot.com/
> > > Sun Certified Java Programmer
> > > ExpertsExchange Certified, Master:
> > > http://www.experts-exchange.com/M_1938796.html
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30454-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 01 16:05:07 2007
Return-Path: <java-user-return-30454-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80193 invoked from network); 1 Oct 2007 16:05:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Oct 2007 16:05:06 -0000
Received: (qmail 63746 invoked by uid 500); 1 Oct 2007 16:04:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63716 invoked by uid 500); 1 Oct 2007 16:04:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63705 invoked by uid 99); 1 Oct 2007 16:04:49 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Oct 2007 09:04:49 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of dckorah@gmail.com designates 64.233.182.189 as permitted sender)
Received: from [64.233.182.189] (HELO nf-out-0910.google.com) (64.233.182.189)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Oct 2007 16:04:49 +0000
Received: by nf-out-0910.google.com with SMTP id d3so2477285nfc
        for <java-user@lucene.apache.org>; Mon, 01 Oct 2007 09:04:28 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:from:to:subject:date:mime-version:content-type:content-transfer-encoding:x-mailer:x-mimeole:thread-index:in-reply-to:message-id;
        bh=3u2ydvv8YNDLDiOdXSCyOeXsG33ai03j5/vuUmcr3yI=;
        b=XjVrfMQAu0bEIz1MqXMN9eaW/XNlJ76VJJYiNz875D7bPgBHCUv1cbsFf8bGV7o8A6xc6Plyc1dzSWYZrrodsnDoK7Ms98wqnF8WhV34nDsaa0TZ1BpxZT6fudqpINQgGGESlsu+7xj1tXk2pTrOrPv/5VGA7rrEdMbQGW6wonE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:from:to:subject:date:mime-version:content-type:content-transfer-encoding:x-mailer:x-mimeole:thread-index:in-reply-to:message-id;
        b=a1xtIp8SgWzzWZJaDas3HS5MYTJPHmio7SB5oubEKS7QJiNjRktBy/2Wt9J2xofROZdJz6p+WHaV/5RBVJL5B38e5uWJkSVWziszZDgnm0Fd9omk183t2t4YUu9kXS3WNlFMpzeF7BlJo2/F23mt/YhYxPwG3rG7cRA9Y40r5wM=
Received: by 10.78.159.7 with SMTP id h7mr3313554hue.1191254668094;
        Mon, 01 Oct 2007 09:04:28 -0700 (PDT)
Received: from SCWDEVDINOKVM ( [62.249.212.129])
        by mx.google.com with ESMTPS id 4sm2396760hud.2007.10.01.09.04.25
        (version=SSLv3 cipher=RC4-MD5);
        Mon, 01 Oct 2007 09:04:26 -0700 (PDT)
From: "Dino Korah" <dckorah@gmail.com>
To: <java-user@lucene.apache.org>
Subject: RE: mixing analyzer
Date: Mon, 1 Oct 2007 17:03:42 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3138
Thread-Index: AcgEL+o+CJSGAeDkSo+l5G0nkQqOjgAD9c0w
In-Reply-To: <359a92830710010634t6f1067e3n26babdf3433261f5@mail.gmail.com>
Message-ID: <47011a8a.04044e0a.643b.ffff9d8b@mx.google.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Thanks Erick.

The PerFieldAnalyzerWrapper could fit in but in the current world of
multilingual anywhere, (even in programming languages.. %$=A3%#@), =
almost any
field in an email (addresses, subject, body, attachment filenames, ... )
document could be multilingual.=20

I will have a go anyway.

-----Original Message-----
From: Erick Erickson [mailto:erickerickson@gmail.com]=20
Sent: 01 October 2007 14:35
To: java-user@lucene.apache.org
Subject: Re: mixing analyzer

Sure, but there's a time/space tradeoff. Isn't there always <G>....

PerFieldAnalyzerWrapper is your friend. It would require that your
index be built on a per-language basis. Say indexing
text from French documents in a field "french_text", Chinese
documents in a field chinese_text. You'd construct your query
something like "chinese_text:blah OR french_text:blah" and
your PerFieldAnalyzer would just handle things for you.

But this may not fit your problem space ideally....

Best
Erick


On 10/1/07, Dino Korah <dckorah@gmail.com> wrote:
>
> Hi,
>
>
>
> I am working on a lucene email indexing system which potentially can =
get
> documents in various languages. Currently I am using StandardAnalyzer,
> which
> works for English but not for many of the other languages. One of the
> requirements for the search interface is that they have to search =
without
> selecting languages.
>
>
>
> Is it possible to search across multiple indexes that has been created
> with
> different analyzers; ie, when some one search for say "earth" lucene =
will
> search for "earth" over CJK Analyzed IndexCJK and StandardAnalyzer
> analyzed
> IndexSA in one search() call? If not is there a way of combining the
> result
> from multiple search() call.
>
>
>
> Thanks in advance.
>
>
>
> d i n o    k o r a h
> Tel: +44 795 66 65 283
> --------------------------------
> 51=B021'52"N  0=B05' 14.16"
>
>
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30455-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 01 17:38:51 2007
Return-Path: <java-user-return-30455-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84636 invoked from network); 1 Oct 2007 17:38:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Oct 2007 17:38:50 -0000
Received: (qmail 1141 invoked by uid 500); 1 Oct 2007 17:38:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 746 invoked by uid 500); 1 Oct 2007 17:38:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 735 invoked by uid 99); 1 Oct 2007 17:38:34 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Oct 2007 10:38:34 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of peterlkeegan@gmail.com designates 64.233.162.224 as permitted sender)
Received: from [64.233.162.224] (HELO nz-out-0506.google.com) (64.233.162.224)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Oct 2007 17:38:35 +0000
Received: by nz-out-0506.google.com with SMTP id i28so2324391nzi
        for <java-user@lucene.apache.org>; Mon, 01 Oct 2007 10:38:14 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        bh=6Hs1X40Zwz83DtS7reCRu2jM81ZFCbXnClyhKrCg1+w=;
        b=bks988lrO68Yg+Sc4pZR2oYG9xn9AH4saElmmJv2gemUhs7JkVIn7iDbjbd510R2KeL8FBc1cXlBzxsdzCr8nC//58pl89lpzk3Ykrp47IbDdrBz9JKYlwdxrsDul8cZxR848dt4hf59WTGpr/22OzSsg6Fq3t8jYuGYIJb5NE4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=qg4Tlnv9ZHWq4rmXG/gpyirfEWXD6ypr0rWg66SBBpyS7+vjic84JR37VPBCF7aEMKx62dvxMMpRmyqb6IyjtoSJ6Ac8GTzClFIHrmU+a4q/2QEUlPK9HS7Bqe29TO9kY0GS+HC+fDuoq7+95SccE4nNSuXf4rpMRE0yt42b7DI=
Received: by 10.114.73.1 with SMTP id v1mr2162970waa.1191260293266;
        Mon, 01 Oct 2007 10:38:13 -0700 (PDT)
Received: by 10.114.135.8 with HTTP; Mon, 1 Oct 2007 10:38:13 -0700 (PDT)
Message-ID: <e994873a0710011038t29ab4dd7n7046912eb7321229@mail.gmail.com>
Date: Mon, 1 Oct 2007 13:38:13 -0400
From: "Peter Keegan" <peterlkeegan@gmail.com>
To: java-user <java-user@lucene.apache.org>
Subject: GOMStaxWriter compile error
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_8358_26231378.1191260293263"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_8358_26231378.1191260293263
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I've been getting the following compiler error when building the javadocs
from the trunk sources:

Ant build error:

    [javac] D:\lucene-
2.2.0\contrib\gdata-server\src\gom\src\java\org\apache\lucene\gdata\gom\writer\GOMStaxWriter.java:102:cannot
find symbol
    [javac] symbol  : method createXMLStreamWriter(java.io.Writer)
    [javac] location: class javax.xml.stream.XMLInputFactory
    [javac]                 GOMStaxWriter.class.getClassLoader
()).createXMLStreamWriter(
    [javac]                                                      ^
    [javac] 1 error

The Eclipse compiler error is:
The method createXMLStreamWriter(Writer) is undefined for the type
XMLInputFactory
 .../contrib/gdata-server/src/gom/src/java/org/apache/lucene/gdata/gom/writer
 GOMStaxWriter.java    line 102    1191259164737    2261318

I'm using Java 6. Is anyone else seeing this error?

Peter

------=_Part_8358_26231378.1191260293263--

From java-user-return-30456-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 01 21:43:51 2007
Return-Path: <java-user-return-30456-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72760 invoked from network); 1 Oct 2007 21:43:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Oct 2007 21:43:50 -0000
Received: (qmail 50994 invoked by uid 500); 1 Oct 2007 21:43:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50966 invoked by uid 500); 1 Oct 2007 21:43:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50955 invoked by uid 99); 1 Oct 2007 21:43:33 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Oct 2007 14:43:33 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erickerickson@gmail.com designates 209.85.128.184 as permitted sender)
Received: from [209.85.128.184] (HELO fk-out-0910.google.com) (209.85.128.184)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Oct 2007 21:43:35 +0000
Received: by fk-out-0910.google.com with SMTP id z23so4130059fkz
        for <java-user@lucene.apache.org>; Mon, 01 Oct 2007 14:43:13 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=Fb1fSE0SFK4LgHALD2DqjBgl1PRNinqOmOV17IlXkPE=;
        b=omOxWtO8SutR1suRpUNtX5L9G+pDtiWLKHmXR38SFVAYUcge1oR9NNc34ulvn4w2cXSRFhDuTEG7srX5X8PfplXAVDVwa36Ey8fLaVf/9ORQJBo7UvQOIB9kDaCrLmvbA2C0/XSZYWmfCcwG2S6F6CuLxxkfrEzbJRBg5GGlklU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=bMeb1vIIeZ3EHiOHvkwiBMGDs26hQ8tnHKgCx8lGZSB9rQrcTSU9TioIMWFJasPGeDQfhB4FTez2f1+deylt1kS3LMz2LZLlq9EFRzfjb5tGJ245KCU2fZfuLZh1zucBcvkadjdDjHUQ5a4/xUCGqKLoidBYndna77T1B9Uild0=
Received: by 10.82.172.10 with SMTP id u10mr15691519bue.1191274992596;
        Mon, 01 Oct 2007 14:43:12 -0700 (PDT)
Received: by 10.82.167.3 with HTTP; Mon, 1 Oct 2007 14:43:12 -0700 (PDT)
Message-ID: <359a92830710011443l42e42acavcb179510da23026f@mail.gmail.com>
Date: Mon, 1 Oct 2007 17:43:12 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Indexing puncuation and symbols
In-Reply-To: <48b038c60710010753p1a3079eco3b04fe9d572860b4@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_15116_326279.1191274992588"
References: <4700F72B.1010609@propylon.com>
	 <0C09F3B2-8C01-4C61-970E-B4673971B526@gmail.com>
	 <4700FC1C.6010707@propylon.com>
	 <48b038c60710010703u1370e6cu170d15fe1480f607@mail.gmail.com>
	 <47010619.4030909@propylon.com>
	 <48b038c60710010753p1a3079eco3b04fe9d572860b4@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_15116_326279.1191274992588
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

You might be able to create an analyzer that breaks your
stream up (from the example) into tokens
"foo" and "," and then (using the same analyzer)
search on phrases with a slop of 0. That seems like
it'd do what you want.....

Best
Erick

On 10/1/07, Patrick Turcotte <patrek@gmail.com> wrote:
>
> Of course, it depends on the kind of query you are doing, but (I did
> find the query parser in the mean time)
>
> MultiFieldQueryParser mfqp = new MultiFieldQueryParser(useFields,
> analyzer, boosts);
> where analyzer can be a PerFieldAnalyzer
> followed by
> Query query = mfqp.parse(queryString);
> would do the trick quite simply.
>
> Patrick
>
> On 10/1/07, John Byrne <john.byrne@propylon.com> wrote:
> > Well, the size wouldn't be a problem, we could afford the extra field.
> > But it would seem to complicate the search quite a lot. I'd have to run
> > the search terms through both analyzers. It would be much simpler if the
> > characters were indexed as separate tokens.
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_15116_326279.1191274992588--

From java-user-return-30457-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 01 22:05:45 2007
Return-Path: <java-user-return-30457-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77337 invoked from network); 1 Oct 2007 22:05:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Oct 2007 22:05:44 -0000
Received: (qmail 74389 invoked by uid 500); 1 Oct 2007 22:05:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74361 invoked by uid 500); 1 Oct 2007 22:05:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73943 invoked by uid 99); 1 Oct 2007 22:05:19 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Oct 2007 15:05:18 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erickerickson@gmail.com designates 209.85.128.191 as permitted sender)
Received: from [209.85.128.191] (HELO fk-out-0910.google.com) (209.85.128.191)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Oct 2007 22:05:19 +0000
Received: by fk-out-0910.google.com with SMTP id z23so4135491fkz
        for <java-user@lucene.apache.org>; Mon, 01 Oct 2007 15:04:58 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=euYVgzOeuYmOoV49n/T69FW+iJrhtT/WOAfJEJMR+h0=;
        b=HdbJvVXOMqaZhSX7SI+C8zSo8EhbDYjBp7aVaersiUkSvallDFWK9dP9D8+wq/fAO88fQ8EdwYCkpLNAHXP49Frno+QayUYT82j87wGNGdKP8Jf0l9ErcppCGd/HPQwQxo44r7diAurVauCIiSeG6s06MgmNYZxl7N/05HrDqjA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=lRvDnxJjVkHSWh+U+Ehx9fBLha8hCPr7HnZhu8EZRmO9ra3pXpFT8PdDBEozy89OlXa4YOHLT1HJJvyAoxzeWVUfolc4tVWDv2uX0cV/uG3WM7gjmZJW4j1sf68ZEMjL6TwL4s80LL4wNCqSRlYcM+HT1Wl6qCh8D6/Rot4wJq4=
Received: by 10.82.152.16 with SMTP id z16mr1192921bud.1191276297695;
        Mon, 01 Oct 2007 15:04:57 -0700 (PDT)
Received: by 10.82.167.3 with HTTP; Mon, 1 Oct 2007 15:04:57 -0700 (PDT)
Message-ID: <359a92830710011504x49344a69xbc131f7d2ac61c7f@mail.gmail.com>
Date: Mon, 1 Oct 2007 18:04:57 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: mixing analyzer
In-Reply-To: <47011a8a.04044e0a.643b.ffff9d8b@mx.google.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_15168_32964784.1191276297685"
References: <359a92830710010634t6f1067e3n26babdf3433261f5@mail.gmail.com>
	 <47011a8a.04044e0a.643b.ffff9d8b@mx.google.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_15168_32964784.1191276297685
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

The whole question of multilingual indexing has been discusses
at length, you might find some ideas if you search the archive...

Erick

On 10/1/07, Dino Korah <dckorah@gmail.com> wrote:
>
> Thanks Erick.
>
> The PerFieldAnalyzerWrapper could fit in but in the current world of
> multilingual anywhere, (even in programming languages.. %$=A3%#@), almost
> any
> field in an email (addresses, subject, body, attachment filenames, ... )
> document could be multilingual.
>
> I will have a go anyway.
>
> -----Original Message-----
> From: Erick Erickson [mailto:erickerickson@gmail.com]
> Sent: 01 October 2007 14:35
> To: java-user@lucene.apache.org
> Subject: Re: mixing analyzer
>
> Sure, but there's a time/space tradeoff. Isn't there always <G>....
>
> PerFieldAnalyzerWrapper is your friend. It would require that your
> index be built on a per-language basis. Say indexing
> text from French documents in a field "french_text", Chinese
> documents in a field chinese_text. You'd construct your query
> something like "chinese_text:blah OR french_text:blah" and
> your PerFieldAnalyzer would just handle things for you.
>
> But this may not fit your problem space ideally....
>
> Best
> Erick
>
>
> On 10/1/07, Dino Korah <dckorah@gmail.com> wrote:
> >
> > Hi,
> >
> >
> >
> > I am working on a lucene email indexing system which potentially can ge=
t
> > documents in various languages. Currently I am using StandardAnalyzer,
> > which
> > works for English but not for many of the other languages. One of the
> > requirements for the search interface is that they have to search
> without
> > selecting languages.
> >
> >
> >
> > Is it possible to search across multiple indexes that has been created
> > with
> > different analyzers; ie, when some one search for say "earth" lucene
> will
> > search for "earth" over CJK Analyzed IndexCJK and StandardAnalyzer
> > analyzed
> > IndexSA in one search() call? If not is there a way of combining the
> > result
> > from multiple search() call.
> >
> >
> >
> > Thanks in advance.
> >
> >
> >
> > d i n o    k o r a h
> > Tel: +44 795 66 65 283
> > --------------------------------
> > 51=B021'52"N  0=B05' 14.16"
> >
> >
> >
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_15168_32964784.1191276297685--

From java-user-return-30458-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 02 02:26:27 2007
Return-Path: <java-user-return-30458-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72102 invoked from network); 2 Oct 2007 02:26:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 2 Oct 2007 02:26:26 -0000
Received: (qmail 40662 invoked by uid 500); 2 Oct 2007 02:26:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40628 invoked by uid 500); 2 Oct 2007 02:26:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40617 invoked by uid 99); 2 Oct 2007 02:26:09 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Oct 2007 19:26:09 -0700
X-ASF-Spam-Status: No, hits=2.7 required=10.0
	tests=HTML_MESSAGE,REPTO_QUOTE_YAHOO,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [206.190.49.19] (HELO web52909.mail.re2.yahoo.com) (206.190.49.19)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 02 Oct 2007 02:26:10 +0000
Received: (qmail 15854 invoked by uid 60001); 2 Oct 2007 02:25:48 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Reply-To:Subject:To:MIME-Version:Content-Type:Message-ID;
  b=jr7K5qVG0x+Ab7FUnl3yVQWxq0KbLJsxySDHRl8IKvWeVLN5oz2nZCbXnJDtkWPX0lkrduYJP/TS9KsXyTa3xq5qdmOBmgURalinaWgCbIsXAKNUspeYYohTrisAdsZ3onrk+kUQJ3vFzSV8cOiCns/YGtx0PbcbHnsL4DRq2cY=;
X-YMail-OSG: q2Nq5DoVM1nWe_PeZapaCkB.BAUUSBI3Rt6QcvKmP8UTYACE3Cj5WEA1v6QLoXBLBz9ziQGrV6Dx46EIW.LCMFBqEPd9Du.TlnfvjW1uaIZoQ.oZjVx3gCYNVR8N
Received: from [216.252.108.190] by web52909.mail.re2.yahoo.com via HTTP; Mon, 01 Oct 2007 19:25:47 PDT
X-Mailer: YahooMailRC/651.50 YahooMailWebService/0.7.134
Date: Mon, 1 Oct 2007 19:25:47 -0700 (PDT)
From: "Johnny R. Ruiz III" <jorzi@yahoo.com>
Reply-To: "Johnny R. Ruiz III" <jorzi@yahoo.com>
Subject: Index Dedupe
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-613323700-1191291947=:13765"
Message-ID: <72970.13765.qm@web52909.mail.re2.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-613323700-1191291947=:13765
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable

Hi,=0A=0AI can't seem to find a way to delete duplicate in lucene index.  I=
 hve  a unique key so it seems to be straight forward.  But I can't find a =
simple way  to do it except for putting  each record in the index into Hash=
Map.  Are there any method in lucene package that I could use?=0A=0ATnx,=0A=
Johnny=0A=0A=0A=0A      ___________________________________________________=
_________________________________=0ALuggage? GPS? Comic books? =0ACheck out=
 fitting gifts for grads at Yahoo! Search=0Ahttp://search.yahoo.com/search?=
fr=3Doni_on_mail&p=3Dgraduation+gifts&cs=3Dbz
--0-613323700-1191291947=:13765--

From java-user-return-30459-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 02 04:03:22 2007
Return-Path: <java-user-return-30459-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84094 invoked from network); 2 Oct 2007 04:03:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 2 Oct 2007 04:03:20 -0000
Received: (qmail 95027 invoked by uid 500); 2 Oct 2007 04:03:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94997 invoked by uid 500); 2 Oct 2007 04:03:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94986 invoked by uid 99); 2 Oct 2007 04:03:04 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Oct 2007 21:03:04 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [203.217.22.128] (HELO file1.syd.nuix.com.au) (203.217.22.128)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 Oct 2007 04:03:06 +0000
Received: from host68.syd.nuix.com.au (host68.syd.nuix.com.au [192.168.222.68])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 03E264A8220
	for <java-user@lucene.apache.org>; Tue,  2 Oct 2007 14:00:38 +1000 (EST)
From: Daniel Noll <daniel@nuix.com>
To: java-user@lucene.apache.org
Subject: Re: Index Dedupe
Date: Tue, 2 Oct 2007 14:00:07 +1000
User-Agent: KMail/1.9.7
References: <72970.13765.qm@web52909.mail.re2.yahoo.com>
In-Reply-To: <72970.13765.qm@web52909.mail.re2.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200710021400.07528.daniel@nuix.com>
X-Virus-Checked: Checked by ClamAV on apache.org

On Tuesday 02 October 2007 12:25:47 Johnny R. Ruiz III wrote:
> Hi,
>
> I can't seem to find a way to delete duplicate in lucene index.  I hve  a
> unique key so it seems to be straight forward.  But I can't find a simple
> way  to do it except for putting  each record in the index into HashMap. 
> Are there any method in lucene package that I could use?

I would use termDocs() to iterate all the terms in that field.  Then skip the 
first doc for each term and delete all subsequent ones.

Daniel

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30460-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 02 10:18:24 2007
Return-Path: <java-user-return-30460-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89618 invoked from network); 2 Oct 2007 10:18:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 2 Oct 2007 10:18:02 -0000
Received: (qmail 33859 invoked by uid 500); 2 Oct 2007 10:17:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33830 invoked by uid 500); 2 Oct 2007 10:17:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33818 invoked by uid 99); 2 Oct 2007 10:17:44 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 Oct 2007 03:17:44 -0700
X-ASF-Spam-Status: No, hits=2.7 required=10.0
	tests=HTML_MESSAGE,REPTO_QUOTE_YAHOO,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [206.190.49.11] (HELO web52901.mail.re2.yahoo.com) (206.190.49.11)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 02 Oct 2007 10:17:44 +0000
Received: (qmail 26340 invoked by uid 60001); 2 Oct 2007 10:16:23 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Reply-To:Subject:To:MIME-Version:Content-Type:Message-ID;
  b=KThFq5uE+LCIEg/2sEKjeCTsBc+MAXL2IkWmeWa9DBMDTCpHW3aidjk06XHx4AGNLrmsnxhfXtsH31NUm+CVz9/PdKvSVIKozXqcGfs1PUALTk71DJ+DkzgoC9MhpDTO3FHIwHLyyW++nuuFpRoCJtZWnQGNBoZcEh35EmPz4dc=;
X-YMail-OSG: deuXLQUVM1lr_n2nasz6iYOunlYrDjhbyJ9LJY.tzEbS7blcMr44HkautH0RqQiQUA--
Received: from [216.252.108.190] by web52901.mail.re2.yahoo.com via HTTP; Tue, 02 Oct 2007 03:16:23 PDT
X-Mailer: YahooMailRC/651.50 YahooMailWebService/0.7.134
Date: Tue, 2 Oct 2007 03:16:23 -0700 (PDT)
From: "Johnny R. Ruiz III" <jorzi@yahoo.com>
Reply-To: "Johnny R. Ruiz III" <jorzi@yahoo.com>
Subject: Re: Index Dedupe
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-293090585-1191320183=:25959"
Message-ID: <669123.25959.qm@web52901.mail.re2.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-293090585-1191320183=:25959
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable

Hi Daniel, =0A=0ATnx, but forgive my ignorance..  can u give me a sample co=
de to do it :).   I have never used termDocs() before. =0A=0ATnx,=0AJohnny=
=0A=0A----- Original Message ----=0AFrom: Daniel Noll <daniel@nuix.com>=0AT=
o: java-user@lucene.apache.org=0ASent: Tuesday, October 2, 2007 12:00:07 PM=
=0ASubject: Re: Index Dedupe=0A=0AOn Tuesday 02 October 2007 12:25:47 Johnn=
y R. Ruiz III wrote:=0A> Hi,=0A>=0A> I can't seem to find a way to delete d=
uplicate in lucene index.  I hve  a=0A> unique key so it seems to be straig=
ht forward.  But I can't find a simple=0A> way  to do it except for putting=
  each record in the index into HashMap. =0A> Are there any method in lucen=
e package that I could use?=0A=0AI would use termDocs() to iterate all the =
terms in that field.  Then skip the =0Afirst doc for each term and delete a=
ll subsequent ones.=0A=0ADaniel=0A=0A--------------------------------------=
-------------------------------=0ATo unsubscribe, e-mail: java-user-unsubsc=
ribe@lucene.apache.org=0AFor additional commands, e-mail: java-user-help@lu=
cene.apache.org=0A=0A=0A=0A=0A=0A=0A=0A=0A       =0A_______________________=
_____________________________________________________________=0ANeed a vaca=
tion? Get great deals=0Ato amazing places on Yahoo! Travel.=0Ahttp://travel=
.yahoo.com/
--0-293090585-1191320183=:25959--

From java-user-return-30461-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 02 13:32:37 2007
Return-Path: <java-user-return-30461-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79692 invoked from network); 2 Oct 2007 13:32:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 2 Oct 2007 13:32:37 -0000
Received: (qmail 91525 invoked by uid 500); 2 Oct 2007 13:32:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91085 invoked by uid 500); 2 Oct 2007 13:32:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91074 invoked by uid 99); 2 Oct 2007 13:32:20 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 Oct 2007 06:32:20 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erickerickson@gmail.com designates 209.85.134.189 as permitted sender)
Received: from [209.85.134.189] (HELO mu-out-0910.google.com) (209.85.134.189)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 Oct 2007 13:32:22 +0000
Received: by mu-out-0910.google.com with SMTP id g7so5117004muf
        for <java-user@lucene.apache.org>; Tue, 02 Oct 2007 06:32:00 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=buzTgG4QxH16XU3MabnO+DrFzfud8gUKwrT6rgyIYvo=;
        b=WeAfL5GjgLTsiBhDYhvAFUBKsN29fNcEvsX7WCm/rT02rTdeKJXLdMU4ZK/u0+3thV3qJSdCLcKcTJVDCdOJ2TwgrUlefavCn2evWenoDZOusoZfFaS4h5LQJJu9O0lWjFXWs5d+GILIFc76sjlJD4uGP2+bw9GWE5Llo1Sqavk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=rkIL0yjcOL6zMWXv2lIPHF5kg2B0jBRAzgU8hadjeD0Yj6BZ5v72Zhpg4Hj+sLoj2wws8pv5q+tcG90/IqTNAH7JyZHTVlH7xAB+5+oSQyAWD5c+TYy1Df0iXSk7xMXAvmUFGLDy9vQH3GDq4jh4Jp0vAVgVGagaRjlGsH/GEXQ=
Received: by 10.82.138.6 with SMTP id l6mr11254921bud.1191331920334;
        Tue, 02 Oct 2007 06:32:00 -0700 (PDT)
Received: by 10.82.167.3 with HTTP; Tue, 2 Oct 2007 06:32:00 -0700 (PDT)
Message-ID: <359a92830710020632i5f3c7bfej1fa242179f3effdf@mail.gmail.com>
Date: Tue, 2 Oct 2007 09:32:00 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org, "Johnny R. Ruiz III" <jorzi@yahoo.com>
Subject: Re: Index Dedupe
In-Reply-To: <669123.25959.qm@web52901.mail.re2.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_18186_15764467.1191331920330"
References: <669123.25959.qm@web52901.mail.re2.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_18186_15764467.1191331920330
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Here's a couple of fragments, alter to suit....
    public void doRemove(Directory dir) throws Exception
    {

      this.reader = IndexReader.open(dir);

        TermEnum theTerms = this.reader.terms(new Term("unique_field", ""));

        Term term = null;

        do {
            term = theTerms.term();

            if ((term == null) || ! term.field().equalsIgnoreCase("doc_id"))
{
                break;
            }

            if (theTerms.docFreq() > 1) {
                this.removeDupsForTerm(term);
            }
        } while (theTerms.next());
}


   private void removeDupsForTerm(Term term) throws Exception
    {
        TermDocs td = this.reader.termDocs(term);
        for ( int idx = 0; td.next(); ++idx) {
            if (idx > 0) {
                this.reader.deleteDocument(td.doc());
           }
        }
    }
On 10/2/07, Johnny R. Ruiz III <jorzi@yahoo.com> wrote:
>
> Hi Daniel,
>
> Tnx, but forgive my ignorance..  can u give me a sample code to do it
> :).   I have never used termDocs() before.
>
> Tnx,
> Johnny
>
> ----- Original Message ----
> From: Daniel Noll <daniel@nuix.com>
> To: java-user@lucene.apache.org
> Sent: Tuesday, October 2, 2007 12:00:07 PM
> Subject: Re: Index Dedupe
>
> On Tuesday 02 October 2007 12:25:47 Johnny R. Ruiz III wrote:
> > Hi,
> >
> > I can't seem to find a way to delete duplicate in lucene index.  I
> hve  a
> > unique key so it seems to be straight forward.  But I can't find a
> simple
> > way  to do it except for putting  each record in the index into HashMap.
> > Are there any method in lucene package that I could use?
>
> I would use termDocs() to iterate all the terms in that field.  Then skip
> the
> first doc for each term and delete all subsequent ones.
>
> Daniel
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
>
>
>
>
>
>
> ____________________________________________________________________________________
> Need a vacation? Get great deals
> to amazing places on Yahoo! Travel.
> http://travel.yahoo.com/

------=_Part_18186_15764467.1191331920330--

From java-user-return-30462-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 02 15:27:31 2007
Return-Path: <java-user-return-30462-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63625 invoked from network); 2 Oct 2007 15:27:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 2 Oct 2007 15:27:30 -0000
Received: (qmail 33731 invoked by uid 500); 2 Oct 2007 15:27:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32979 invoked by uid 500); 2 Oct 2007 15:27:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32968 invoked by uid 99); 2 Oct 2007 15:27:13 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 Oct 2007 08:27:13 -0700
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [208.97.132.119] (HELO spunkymail-a1.g.dreamhost.com) (208.97.132.119)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 Oct 2007 15:27:12 +0000
Received: from [192.168.0.3] (adsl-074-229-189-244.sip.rmo.bellsouth.net [74.229.189.244])
	by spunkymail-a1.g.dreamhost.com (Postfix) with ESMTP id AD539FFE00
	for <java-user@lucene.apache.org>; Tue,  2 Oct 2007 08:26:51 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <72970.13765.qm@web52909.mail.re2.yahoo.com>
References: <72970.13765.qm@web52909.mail.re2.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <CB45A8EF-8460-4BFD-944A-0388487FC886@apache.org>
Content-Transfer-Encoding: 7bit
From: Grant Ingersoll <gsingers@apache.org>
Subject: Re: Index Dedupe
Date: Tue, 2 Oct 2007 11:26:49 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org

http://www.gossamer-threads.com/lists/lucene/java-dev/53351 might be  
of interest.

On Oct 1, 2007, at 10:25 PM, Johnny R. Ruiz III wrote:

> Hi,
>
> I can't seem to find a way to delete duplicate in lucene index.  I  
> hve  a unique key so it seems to be straight forward.  But I can't  
> find a simple way  to do it except for putting  each record in the  
> index into HashMap.  Are there any method in lucene package that I  
> could use?
>
> Tnx,
> Johnny
>
>
>
>        
> ______________________________________________________________________ 
> ______________
> Luggage? GPS? Comic books?
> Check out fitting gifts for grads at Yahoo! Search
> http://search.yahoo.com/search?fr=oni_on_mail&p=graduation+gifts&cs=bz

--------------------------
Grant Ingersoll
http://lucene.grantingersoll.com

Lucene Helpful Hints:
http://wiki.apache.org/lucene-java/BasicsOfPerformance
http://wiki.apache.org/lucene-java/LuceneFAQ



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30463-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 02 22:45:25 2007
Return-Path: <java-user-return-30463-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58940 invoked from network); 2 Oct 2007 22:45:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 2 Oct 2007 22:45:25 -0000
Received: (qmail 91931 invoked by uid 500); 2 Oct 2007 22:45:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91897 invoked by uid 500); 2 Oct 2007 22:45:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91886 invoked by uid 99); 2 Oct 2007 22:45:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 Oct 2007 15:45:06 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of peterlkeegan@gmail.com designates 64.233.162.226 as permitted sender)
Received: from [64.233.162.226] (HELO nz-out-0506.google.com) (64.233.162.226)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 Oct 2007 22:45:08 +0000
Received: by nz-out-0506.google.com with SMTP id i28so2703913nzi
        for <java-user@lucene.apache.org>; Tue, 02 Oct 2007 15:44:47 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        bh=HBL3Si3OGBlXOGfzwOV6oInzCfB1+RFJh5F93LKk9qE=;
        b=tEPtPKCcmcCLm1EHDCBPQgZKn63v8F6BnFPdC4JcisEizMZOtpIRYHpOISAkw2PrIHyG0Dbq/KJ5ZTTxx+HhT8YDJbCzw65unh53l1fHboA89WtYohqyf45JU0iCRLDIrFcE/r12iBaejHwrC34eFQOv31zjTjMJv9cHRFX+9Aw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=nzy32ru2TC5ubaDmI967z0B0fXU14oBIxC2uLR6wB8B/sIG5XQTSYbQ+bWwBjMcbN4x+jpj7guemYyOfbw63zKmb8je+0qVfThlmEuOPieD1CYpA17kN9HpRzfbZEfbV/rnqIF3hZFB7efaIKgMXE5leUufjD39PDLF7v749tjE=
Received: by 10.115.88.1 with SMTP id q1mr2994595wal.1191365086268;
        Tue, 02 Oct 2007 15:44:46 -0700 (PDT)
Received: by 10.114.135.8 with HTTP; Tue, 2 Oct 2007 15:44:46 -0700 (PDT)
Message-ID: <e994873a0710021544k23535fcfi2773cbc127c10e10@mail.gmail.com>
Date: Tue, 2 Oct 2007 18:44:46 -0400
From: "Peter Keegan" <peterlkeegan@gmail.com>
To: java-user <java-user@lucene.apache.org>
Subject: BoostingTermQuery performance
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_14381_25544757.1191365086253"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_14381_25544757.1191365086253
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I have been experimenting with payloads and BoostingTermQuery, which I think
are excellent additions to Lucene core. Currently, BoostingTermQuery extends
SpanQuery. I would suggest changing this class to extend TermQuery and
refactor the current version to something like 'BoostingSpanQuery'.

The reason is rooted in performance. In my testing, I compared query
throughput using TermQuery against 2 versions of BoostingTermQuery - the
current one that extends SpanQuery and one that extends TermQuery (which
I've included, below). Here are the results (qps = queries per second):

TermQuery:    200 qps
BoostingTermQuery (extends SpanQuery): 97 qps
BoostingTermQuery (extends TermQuery): 130 qps

Here is a version of BoostingTermQuery that extends TermQuery. I had to
modify TermQuery and TermScorer to make them public. A code review would be
in order, and I would appreciate your comments on this suggestion.

Peter

-----------------------------------------

import org.apache.lucene.index.IndexReader;
import org.apache.lucene.index.Term;
import org.apache.lucene.index.TermDocs;
import org.apache.lucene.index.TermPositions;
import org.apache.lucene.search.*;


import java.io.IOException;

/**
 * Copyright 2004 The Apache Software Foundation
 * <p/>
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * <p/>
 * http://www.apache.org/licenses/LICENSE-2.0
 * <p/>
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/**
 * The BoostingTermQuery is very similar to the {@link
org.apache.lucene.search.spans.SpanTermQuery} except
 * that it factors in the value of the payload located at each of the
positions where the
 * {@link org.apache.lucene.index.Term} occurs.
 * <p>
 * In order to take advantage of this, you must override {@link
org.apache.lucene.search.Similarity#scorePayload(byte[],int,int)}
 * which returns 1 by default.
 * <p>
 * Payload scores are averaged across term occurrences in the document.
 *
 * <p><font color="#FF0000">
 * WARNING: The status of the <b>Payloads</b> feature is experimental.
 * The APIs introduced here might change in the future and will not be
 * supported anymore in such a case.</font>
 *
 * @see org.apache.lucene.search.Similarity#scorePayload(byte[], int, int)
 */
public class BoostingTermQuery extends TermQuery{
    Term term;
    Similarity similarity;

  public BoostingTermQuery(Term term) {
    super(term);
    this.term = term;

  }


  protected Weight createWeight(Searcher searcher) throws IOException {
    this.similarity = getSimilarity(searcher);
    return new BoostingTermWeight(this, searcher);
  }

  protected class BoostingTermWeight extends TermWeight implements Weight {


    public BoostingTermWeight(BoostingTermQuery query, Searcher searcher)
throws IOException {
      super(searcher);
    }




    public Scorer scorer(IndexReader reader) throws IOException {
      return new BoostingTermScorer(reader.termDocs(term),
reader.termPositions(term), this, similarity,
             reader.norms(term.field()));
    }

    class BoostingTermScorer extends TermScorer {

      //TODO: is this the best way to allocate this?
      byte[] payload = new byte[256];
      private TermPositions positions;
      protected float payloadScore;
      private int payloadsSeen;

      public BoostingTermScorer(TermDocs termDocs, TermPositions
termPositions, Weight weight,
                                Similarity similarity, byte[] norms) throws
IOException {
          super(weight, termDocs, similarity, norms);
          positions = termPositions;

      }

      /**
       * Go to the next document
       *
       */
      public boolean next() throws IOException {

        boolean result = super.next();
        //set the payload.  super.next() properly increments the term
positions
        if (result) {
          if (positions.skipTo(super.doc())) {
              positions.nextPosition();
              processPayload(similarity);
          }
        }

        return result;
      }

      public boolean skipTo(int target) throws IOException {
        boolean result = super.skipTo(target);

        if (result) {
            if (positions.skipTo(target)) {
                positions.nextPosition();
              processPayload(similarity);
          }
        }

        return result;
      }

//      protected boolean setFreqCurrentDoc() throws IOException {
//        if (!more) {
//          return false;
//        }
//        doc = spans.doc();
//        freq = 0.0f;
//        payloadScore = 0;
//        payloadsSeen = 0;
//        Similarity similarity1 = getSimilarity();
//        while (more && doc == spans.doc()) {
//          int matchLength = spans.end() - spans.start();
//
//          freq += similarity1.sloppyFreq(matchLength);
//          processPayload(similarity1);
//
//          more = spans.next();//this moves positions to the next match in
this document
//        }
//        return more || (freq != 0);
//      }


      protected void processPayload(Similarity similarity) throws
IOException {
        if (positions.isPayloadAvailable()) {
          payload = positions.getPayload(payload, 0);
          payloadScore += similarity.scorePayload(payload, 0,
positions.getPayloadLength());
          payloadsSeen++;

        } else {
          //zero out the payload?
        }

      }

      public float score() {

        return super.score() * (payloadsSeen > 0 ? (payloadScore /
payloadsSeen) : 1);
      }


      public Explanation explain(final int doc) throws IOException {
        Explanation result = new Explanation();
        Explanation nonPayloadExpl = super.explain(doc);
        result.addDetail(nonPayloadExpl);
        //QUESTION: Is there a wau to avoid this skipTo call?  We need to
know whether to load the payload or not

        Explanation payloadBoost = new Explanation();
        result.addDetail(payloadBoost);
/*
        if (skipTo(doc) == true) {
          processPayload();
        }
*/

        float avgPayloadScore =  (payloadsSeen > 0 ? (payloadScore /
payloadsSeen) : 1);
        payloadBoost.setValue(avgPayloadScore);
        //GSI: I suppose we could toString the payload, but I don't think
that would be a good idea
        payloadBoost.setDescription("scorePayload(...)");
        result.setValue(nonPayloadExpl.getValue() * avgPayloadScore);
        result.setDescription("btq, product of:");
        return result;
      }
    }

  }


  public boolean equals(Object o) {
    if (!(o instanceof BoostingTermQuery))
      return false;
    BoostingTermQuery other = (BoostingTermQuery) o;
    return (this.getBoost() == other.getBoost())
            && this.term.equals(other.term);
  }
}


Diffs for TermQuery, TermScorer:

Index: src/java/org/apache/lucene/search/TermQuery.java
===================================================================
--- src/java/org/apache/lucene/search/TermQuery.java    (revision 581018)
+++ src/java/org/apache/lucene/search/TermQuery.java    (working copy)
@@ -31,7 +31,7 @@
 public class TermQuery extends Query {
   private Term term;

-  private class TermWeight implements Weight {
+  public class TermWeight implements Weight {
     private Similarity similarity;
     private float value;
     private float idf;
Index: src/java/org/apache/lucene/search/TermScorer.java
===================================================================
--- src/java/org/apache/lucene/search/TermScorer.java    (revision 581018)
+++ src/java/org/apache/lucene/search/TermScorer.java    (working copy)
@@ -23,7 +23,7 @@

 /** Expert: A <code>Scorer</code> for documents matching a
<code>Term</code>.
  */
-final class TermScorer extends Scorer {
+public class TermScorer extends Scorer {
   private Weight weight;
   private TermDocs termDocs;
   private byte[] norms;
@@ -44,7 +44,7 @@
    * @param similarity The </code>Similarity</code> implementation to be
used for score computations.
    * @param norms The field norms of the document fields for the
<code>Term</code>.
    */
-  TermScorer(Weight weight, TermDocs td, Similarity similarity,
+  public TermScorer(Weight weight, TermDocs td, Similarity similarity,
              byte[] norms) {
     super(similarity);
     this.weight = weight;


Peter

------=_Part_14381_25544757.1191365086253--

From java-user-return-30464-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 02 23:35:14 2007
Return-Path: <java-user-return-30464-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82094 invoked from network); 2 Oct 2007 23:35:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 2 Oct 2007 23:35:13 -0000
Received: (qmail 44544 invoked by uid 500); 2 Oct 2007 23:34:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44517 invoked by uid 500); 2 Oct 2007 23:34:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44506 invoked by uid 99); 2 Oct 2007 23:34:56 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 Oct 2007 16:34:56 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 80.76.149.213 is neither permitted nor denied by domain of karl.wettin@gmail.com)
Received: from [80.76.149.213] (HELO ch-smtp02.sth.basefarm.net) (80.76.149.213)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 Oct 2007 23:34:58 +0000
Received: from c83-249-118-113.bredband.comhem.se ([83.249.118.113]:50668 helo=[192.168.1.101])
	by ch-smtp02.sth.basefarm.net with esmtp (Exim 4.66)
	(envelope-from <karl.wettin@gmail.com>)
	id 1IcrD6-0007Hx-7u
	for java-user@lucene.apache.org; Wed, 03 Oct 2007 01:31:28 +0200
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <e994873a0710021544k23535fcfi2773cbc127c10e10@mail.gmail.com>
References: <e994873a0710021544k23535fcfi2773cbc127c10e10@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <1FB3A5EF-2C74-4FF9-93FA-7F0E21854063@gmail.com>
Content-Transfer-Encoding: 7bit
From: Karl Wettin <karl.wettin@gmail.com>
Subject: Re: BoostingTermQuery performance
Date: Wed, 3 Oct 2007 01:23:56 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Originating-IP: 83.249.118.113
X-Scan-Result: No virus found in message 1IcrD6-0007Hx-7u.
X-Scan-Signature: ch-smtp02.sth.basefarm.net 1IcrD6-0007Hx-7u bfa9ff583342965b0f6c13eb96cf7725
X-Virus-Checked: Checked by ClamAV on apache.org


3 okt 2007 kl. 00.44 skrev Peter Keegan:

>
> TermQuery:    200 qps
> BoostingTermQuery (extends SpanQuery): 97 qps
> BoostingTermQuery (extends TermQuery): 130 qps
>
> Here is a version of BoostingTermQuery that extends TermQuery. I  
> had to
> modify TermQuery and TermScorer to make them public. A code review  
> would be
> in order, and I would appreciate your comments on this suggestion.

This is nice, you should open a ticket in the Jira and post it in there!


-- 
karl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30465-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 02 23:39:08 2007
Return-Path: <java-user-return-30465-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84178 invoked from network); 2 Oct 2007 23:39:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 2 Oct 2007 23:39:07 -0000
Received: (qmail 53368 invoked by uid 500); 2 Oct 2007 23:38:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53318 invoked by uid 500); 2 Oct 2007 23:38:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53307 invoked by uid 99); 2 Oct 2007 23:38:49 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 Oct 2007 16:38:49 -0700
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [208.97.132.145] (HELO spunkymail-a1.g.dreamhost.com) (208.97.132.145)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 Oct 2007 23:38:50 +0000
Received: from [192.168.0.3] (adsl-074-229-189-244.sip.rmo.bellsouth.net [74.229.189.244])
	by spunkymail-a1.g.dreamhost.com (Postfix) with ESMTP id 784CCFE24A
	for <java-user@lucene.apache.org>; Tue,  2 Oct 2007 16:37:58 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <e994873a0710021544k23535fcfi2773cbc127c10e10@mail.gmail.com>
References: <e994873a0710021544k23535fcfi2773cbc127c10e10@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <932DC72C-3BB0-4E11-B3F4-2C4BE595E135@apache.org>
Content-Transfer-Encoding: 7bit
From: Grant Ingersoll <gsingers@apache.org>
Subject: Re: BoostingTermQuery performance
Date: Tue, 2 Oct 2007 19:37:56 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Peter,

This sounds interesting.  Can you put this in JIRA as a patch,  
please?  I am slowly but surely working on Span query stuff, so  
hopefully I can get to it soon.

Thanks,
Grant
On Oct 2, 2007, at 6:44 PM, Peter Keegan wrote:

> I have been experimenting with payloads and BoostingTermQuery,  
> which I think
> are excellent additions to Lucene core. Currently,  
> BoostingTermQuery extends
> SpanQuery. I would suggest changing this class to extend TermQuery and
> refactor the current version to something like 'BoostingSpanQuery'.
>
> The reason is rooted in performance. In my testing, I compared query
> throughput using TermQuery against 2 versions of BoostingTermQuery  
> - the
> current one that extends SpanQuery and one that extends TermQuery  
> (which
> I've included, below). Here are the results (qps = queries per  
> second):
>
> TermQuery:    200 qps
> BoostingTermQuery (extends SpanQuery): 97 qps
> BoostingTermQuery (extends TermQuery): 130 qps
>
> Here is a version of BoostingTermQuery that extends TermQuery. I  
> had to
> modify TermQuery and TermScorer to make them public. A code review  
> would be
> in order, and I would appreciate your comments on this suggestion.
>
> Peter
>
> -----------------------------------------
>
> import org.apache.lucene.index.IndexReader;
> import org.apache.lucene.index.Term;
> import org.apache.lucene.index.TermDocs;
> import org.apache.lucene.index.TermPositions;
> import org.apache.lucene.search.*;
>
>
> import java.io.IOException;
>
> /**
>  * Copyright 2004 The Apache Software Foundation
>  * <p/>
>  * Licensed under the Apache License, Version 2.0 (the "License");
>  * you may not use this file except in compliance with the License.
>  * You may obtain a copy of the License at
>  * <p/>
>  * http://www.apache.org/licenses/LICENSE-2.0
>  * <p/>
>  * Unless required by applicable law or agreed to in writing, software
>  * distributed under the License is distributed on an "AS IS" BASIS,
>  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or  
> implied.
>  * See the License for the specific language governing permissions and
>  * limitations under the License.
>  */
>
> /**
>  * The BoostingTermQuery is very similar to the {@link
> org.apache.lucene.search.spans.SpanTermQuery} except
>  * that it factors in the value of the payload located at each of the
> positions where the
>  * {@link org.apache.lucene.index.Term} occurs.
>  * <p>
>  * In order to take advantage of this, you must override {@link
> org.apache.lucene.search.Similarity#scorePayload(byte[],int,int)}
>  * which returns 1 by default.
>  * <p>
>  * Payload scores are averaged across term occurrences in the  
> document.
>  *
>  * <p><font color="#FF0000">
>  * WARNING: The status of the <b>Payloads</b> feature is experimental.
>  * The APIs introduced here might change in the future and will not be
>  * supported anymore in such a case.</font>
>  *
>  * @see org.apache.lucene.search.Similarity#scorePayload(byte[],  
> int, int)
>  */
> public class BoostingTermQuery extends TermQuery{
>     Term term;
>     Similarity similarity;
>
>   public BoostingTermQuery(Term term) {
>     super(term);
>     this.term = term;
>
>   }
>
>
>   protected Weight createWeight(Searcher searcher) throws  
> IOException {
>     this.similarity = getSimilarity(searcher);
>     return new BoostingTermWeight(this, searcher);
>   }
>
>   protected class BoostingTermWeight extends TermWeight implements  
> Weight {
>
>
>     public BoostingTermWeight(BoostingTermQuery query, Searcher  
> searcher)
> throws IOException {
>       super(searcher);
>     }
>
>
>
>
>     public Scorer scorer(IndexReader reader) throws IOException {
>       return new BoostingTermScorer(reader.termDocs(term),
> reader.termPositions(term), this, similarity,
>              reader.norms(term.field()));
>     }
>
>     class BoostingTermScorer extends TermScorer {
>
>       //TODO: is this the best way to allocate this?
>       byte[] payload = new byte[256];
>       private TermPositions positions;
>       protected float payloadScore;
>       private int payloadsSeen;
>
>       public BoostingTermScorer(TermDocs termDocs, TermPositions
> termPositions, Weight weight,
>                                 Similarity similarity, byte[]  
> norms) throws
> IOException {
>           super(weight, termDocs, similarity, norms);
>           positions = termPositions;
>
>       }
>
>       /**
>        * Go to the next document
>        *
>        */
>       public boolean next() throws IOException {
>
>         boolean result = super.next();
>         //set the payload.  super.next() properly increments the term
> positions
>         if (result) {
>           if (positions.skipTo(super.doc())) {
>               positions.nextPosition();
>               processPayload(similarity);
>           }
>         }
>
>         return result;
>       }
>
>       public boolean skipTo(int target) throws IOException {
>         boolean result = super.skipTo(target);
>
>         if (result) {
>             if (positions.skipTo(target)) {
>                 positions.nextPosition();
>               processPayload(similarity);
>           }
>         }
>
>         return result;
>       }
>
> //      protected boolean setFreqCurrentDoc() throws IOException {
> //        if (!more) {
> //          return false;
> //        }
> //        doc = spans.doc();
> //        freq = 0.0f;
> //        payloadScore = 0;
> //        payloadsSeen = 0;
> //        Similarity similarity1 = getSimilarity();
> //        while (more && doc == spans.doc()) {
> //          int matchLength = spans.end() - spans.start();
> //
> //          freq += similarity1.sloppyFreq(matchLength);
> //          processPayload(similarity1);
> //
> //          more = spans.next();//this moves positions to the next  
> match in
> this document
> //        }
> //        return more || (freq != 0);
> //      }
>
>
>       protected void processPayload(Similarity similarity) throws
> IOException {
>         if (positions.isPayloadAvailable()) {
>           payload = positions.getPayload(payload, 0);
>           payloadScore += similarity.scorePayload(payload, 0,
> positions.getPayloadLength());
>           payloadsSeen++;
>
>         } else {
>           //zero out the payload?
>         }
>
>       }
>
>       public float score() {
>
>         return super.score() * (payloadsSeen > 0 ? (payloadScore /
> payloadsSeen) : 1);
>       }
>
>
>       public Explanation explain(final int doc) throws IOException {
>         Explanation result = new Explanation();
>         Explanation nonPayloadExpl = super.explain(doc);
>         result.addDetail(nonPayloadExpl);
>         //QUESTION: Is there a wau to avoid this skipTo call?  We  
> need to
> know whether to load the payload or not
>
>         Explanation payloadBoost = new Explanation();
>         result.addDetail(payloadBoost);
> /*
>         if (skipTo(doc) == true) {
>           processPayload();
>         }
> */
>
>         float avgPayloadScore =  (payloadsSeen > 0 ? (payloadScore /
> payloadsSeen) : 1);
>         payloadBoost.setValue(avgPayloadScore);
>         //GSI: I suppose we could toString the payload, but I don't  
> think
> that would be a good idea
>         payloadBoost.setDescription("scorePayload(...)");
>         result.setValue(nonPayloadExpl.getValue() * avgPayloadScore);
>         result.setDescription("btq, product of:");
>         return result;
>       }
>     }
>
>   }
>
>
>   public boolean equals(Object o) {
>     if (!(o instanceof BoostingTermQuery))
>       return false;
>     BoostingTermQuery other = (BoostingTermQuery) o;
>     return (this.getBoost() == other.getBoost())
>             && this.term.equals(other.term);
>   }
> }
>
>
> Diffs for TermQuery, TermScorer:
>
> Index: src/java/org/apache/lucene/search/TermQuery.java
> ===================================================================
> --- src/java/org/apache/lucene/search/TermQuery.java    (revision  
> 581018)
> +++ src/java/org/apache/lucene/search/TermQuery.java    (working copy)
> @@ -31,7 +31,7 @@
>  public class TermQuery extends Query {
>    private Term term;
>
> -  private class TermWeight implements Weight {
> +  public class TermWeight implements Weight {
>      private Similarity similarity;
>      private float value;
>      private float idf;
> Index: src/java/org/apache/lucene/search/TermScorer.java
> ===================================================================
> --- src/java/org/apache/lucene/search/TermScorer.java    (revision  
> 581018)
> +++ src/java/org/apache/lucene/search/TermScorer.java    (working  
> copy)
> @@ -23,7 +23,7 @@
>
>  /** Expert: A <code>Scorer</code> for documents matching a
> <code>Term</code>.
>   */
> -final class TermScorer extends Scorer {
> +public class TermScorer extends Scorer {
>    private Weight weight;
>    private TermDocs termDocs;
>    private byte[] norms;
> @@ -44,7 +44,7 @@
>     * @param similarity The </code>Similarity</code> implementation  
> to be
> used for score computations.
>     * @param norms The field norms of the document fields for the
> <code>Term</code>.
>     */
> -  TermScorer(Weight weight, TermDocs td, Similarity similarity,
> +  public TermScorer(Weight weight, TermDocs td, Similarity  
> similarity,
>               byte[] norms) {
>      super(similarity);
>      this.weight = weight;
>
>
> Peter

--------------------------
Grant Ingersoll
http://lucene.grantingersoll.com

Lucene Helpful Hints:
http://wiki.apache.org/lucene-java/BasicsOfPerformance
http://wiki.apache.org/lucene-java/LuceneFAQ



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30466-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 03 00:26:08 2007
Return-Path: <java-user-return-30466-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4712 invoked from network); 3 Oct 2007 00:26:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 3 Oct 2007 00:26:08 -0000
Received: (qmail 83939 invoked by uid 500); 3 Oct 2007 00:25:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83894 invoked by uid 500); 3 Oct 2007 00:25:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83883 invoked by uid 99); 3 Oct 2007 00:25:50 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 Oct 2007 17:25:50 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of mike.klaas@gmail.com designates 209.85.146.176 as permitted sender)
Received: from [209.85.146.176] (HELO wa-out-1112.google.com) (209.85.146.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Oct 2007 00:25:51 +0000
Received: by wa-out-1112.google.com with SMTP id j40so5752158wah
        for <java-user@lucene.apache.org>; Tue, 02 Oct 2007 17:25:29 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        bh=uylMsfX764msEQtdKXwNJ48L+qJOuIKT/PQm1uXYVXM=;
        b=Rh1zNz1hktxa3WFglniNWUn4HpwoddFyUfiSKG4EL9ANOj3rdyRxyx8Ho4JgN0mTymZZhwu/GoR1YPByjTNslJHOauqZxBxZRW6n+T92RUgRBoIcneDRlB1uOu00rkmhWLV3WqlfYGz+iUnpvBIPTQtfYYDooBKknOu4KzZaA7I=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=UWGckqgXbFpG4uM803/zXGIpcTmhOrLekW+c+/DyzlCe9qpUuzqAtgQddR9gSpFwofUBHQJUiGGFVrjVDSm6jrSc54daPjpiLhM2gQDj7hqOb4mByi2w7+xIM7KtdJBoSQZW6oQjRhjLWwH8JFYl7oz7MOyt7A/pWPKL8+T1Ulo=
Received: by 10.114.61.1 with SMTP id j1mr3228223waa.1191371129169;
        Tue, 02 Oct 2007 17:25:29 -0700 (PDT)
Received: from ?192.168.1.104? ( [24.82.155.191])
        by mx.google.com with ESMTPS id l27sm9688611waf.2007.10.02.17.25.28
        (version=TLSv1/SSLv3 cipher=OTHER);
        Tue, 02 Oct 2007 17:25:28 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <e994873a0710021544k23535fcfi2773cbc127c10e10@mail.gmail.com>
References: <e994873a0710021544k23535fcfi2773cbc127c10e10@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <FA7B0EFD-4245-46F5-AE0C-092D748DA3F5@gmail.com>
Content-Transfer-Encoding: 7bit
From: Mike Klaas <mike.klaas@gmail.com>
Subject: Re: BoostingTermQuery performance
Date: Tue, 2 Oct 2007 17:25:24 -0700
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

On 2-Oct-07, at 3:44 PM, Peter Keegan wrote:

> I have been experimenting with payloads and BoostingTermQuery,  
> which I think
> are excellent additions to Lucene core. Currently,  
> BoostingTermQuery extends
> SpanQuery. I would suggest changing this class to extend TermQuery and
> refactor the current version to something like 'BoostingSpanQuery'.
>
> The reason is rooted in performance. In my testing, I compared query
> throughput using TermQuery against 2 versions of BoostingTermQuery  
> - the
> current one that extends SpanQuery and one that extends TermQuery  
> (which
> I've included, below). Here are the results (qps = queries per  
> second):
>
> TermQuery:    200 qps
> BoostingTermQuery (extends SpanQuery): 97 qps
> BoostingTermQuery (extends TermQuery): 130 qps
>
> Here is a version of BoostingTermQuery that extends TermQuery. I  
> had to
> modify TermQuery and TermScorer to make them public. A code review  
> would be
> in order, and I would appreciate your comments on this suggestion.

Awesome!  I wasn't aware that there was such a difference.  With a  
performance gap that large, it is definitely worth having the option.

Payload have the potential to be a heavily-used feature in Lucene,  
and performacen will be key for that.

-Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30467-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 03 01:20:24 2007
Return-Path: <java-user-return-30467-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16836 invoked from network); 3 Oct 2007 01:20:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 3 Oct 2007 01:20:11 -0000
Received: (qmail 16647 invoked by uid 500); 3 Oct 2007 01:19:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16615 invoked by uid 500); 3 Oct 2007 01:19:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16604 invoked by uid 99); 3 Oct 2007 01:19:51 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 Oct 2007 18:19:51 -0700
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [208.97.132.202] (HELO spunkymail-a2.g.dreamhost.com) (208.97.132.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Oct 2007 01:19:52 +0000
Received: from [192.168.0.3] (adsl-074-229-189-244.sip.rmo.bellsouth.net [74.229.189.244])
	by spunkymail-a2.g.dreamhost.com (Postfix) with ESMTP id 06C1D87E86
	for <java-user@lucene.apache.org>; Tue,  2 Oct 2007 18:19:26 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <FA7B0EFD-4245-46F5-AE0C-092D748DA3F5@gmail.com>
References: <e994873a0710021544k23535fcfi2773cbc127c10e10@mail.gmail.com> <FA7B0EFD-4245-46F5-AE0C-092D748DA3F5@gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <C7DBC5B0-110F-4CE3-B3C0-250043E6EBCC@apache.org>
Content-Transfer-Encoding: 7bit
From: Grant Ingersoll <gsingers@apache.org>
Subject: Re: BoostingTermQuery performance
Date: Tue, 2 Oct 2007 21:19:18 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org

https://issues.apache.org/jira/browse/LUCENE-1017


On Oct 2, 2007, at 8:25 PM, Mike Klaas wrote:

> On 2-Oct-07, at 3:44 PM, Peter Keegan wrote:
>
>> I have been experimenting with payloads and BoostingTermQuery,  
>> which I think
>> are excellent additions to Lucene core. Currently,  
>> BoostingTermQuery extends
>> SpanQuery. I would suggest changing this class to extend TermQuery  
>> and
>> refactor the current version to something like 'BoostingSpanQuery'.
>>
>> The reason is rooted in performance. In my testing, I compared query
>> throughput using TermQuery against 2 versions of BoostingTermQuery  
>> - the
>> current one that extends SpanQuery and one that extends TermQuery  
>> (which
>> I've included, below). Here are the results (qps = queries per  
>> second):
>>
>> TermQuery:    200 qps
>> BoostingTermQuery (extends SpanQuery): 97 qps
>> BoostingTermQuery (extends TermQuery): 130 qps
>>
>> Here is a version of BoostingTermQuery that extends TermQuery. I  
>> had to
>> modify TermQuery and TermScorer to make them public. A code review  
>> would be
>> in order, and I would appreciate your comments on this suggestion.
>
> Awesome!  I wasn't aware that there was such a difference.  With a  
> performance gap that large, it is definitely worth having the option.
>
> Payload have the potential to be a heavily-used feature in Lucene,  
> and performacen will be key for that.
>
> -Mike
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

--------------------------
Grant Ingersoll
http://lucene.grantingersoll.com

Lucene Helpful Hints:
http://wiki.apache.org/lucene-java/BasicsOfPerformance
http://wiki.apache.org/lucene-java/LuceneFAQ



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30468-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 03 18:21:15 2007
Return-Path: <java-user-return-30468-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23628 invoked from network); 3 Oct 2007 18:21:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 3 Oct 2007 18:21:14 -0000
Received: (qmail 90888 invoked by uid 500); 3 Oct 2007 18:20:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90849 invoked by uid 500); 3 Oct 2007 18:20:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90838 invoked by uid 99); 3 Oct 2007 18:20:57 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Oct 2007 11:20:57 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of fizx.list@gmail.com designates 209.85.132.249 as permitted sender)
Received: from [209.85.132.249] (HELO an-out-0708.google.com) (209.85.132.249)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Oct 2007 18:20:59 +0000
Received: by an-out-0708.google.com with SMTP id c5so647698anc
        for <java-user@lucene.apache.org>; Wed, 03 Oct 2007 11:20:38 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        bh=ACriOrvPzDAMEunuoeoHB1pg0qxqCJQWwQ7odjynUgM=;
        b=dp6ft4hnXlrtyxPUivr7C9iM3X9cZXXdhoMbTpXuR7qUIQtFqD1zDdTYkNPGTOUk43wBBiJJ3m1loaLJd+xzrcd4MMS8G6vNumXvhJ5O85VidRqydTqOHtq+Nf3DoBsR8eEm48RyRHd8bAUesfwBXaZ26IhR4SvDID5sRMC8wrE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=fbN2Kujsi8HhJCoaRwlC1PJiCW9y7A9EL/aAMmlUfs3n2bFZ1k1BaTp6lvlYE6bqHgQSYhNealPA6t39udxMruYZxfPN6BDjddKn2BlPeS7qWYQt5PxmZkOvVQpcqnjxNvGutyivwx0s9at71aAe6GGZlmMcP4Nrjv/mgvR4yFs=
Received: by 10.142.128.6 with SMTP id a6mr6286wfd.1191435637228;
        Wed, 03 Oct 2007 11:20:37 -0700 (PDT)
Received: by 10.142.12.7 with HTTP; Wed, 3 Oct 2007 11:20:37 -0700 (PDT)
Message-ID: <a76d475c0710031120r666c5232sa8462e78721c04cc@mail.gmail.com>
Date: Wed, 3 Oct 2007 11:20:37 -0700
From: "Kyle Maxwell" <fizx.list@gmail.com>
To: java-user@lucene.apache.org
Subject: Subset match query?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_9060_6015240.1191435637258"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_9060_6015240.1191435637258
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I'm indexing a dataset with lots of short fields.  I have determined that it
would be useful to highly boost matches where every term in this field is
represented in the query. i.e.:
Query: lucene field matches
Field: lucene field
but not
Field: lucene has a field ...
Field: lucene field foo...

I'm finding this to be very difficult to implement.  I believe that I could
write a query to count the term matches in a field, but I'm not sure how, in
a subclass of query, it would be possible to efficiently count the total
number of terms in the field.  Any advice would be welcome!

-Kyle

------=_Part_9060_6015240.1191435637258--

From java-user-return-30469-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 03 20:44:12 2007
Return-Path: <java-user-return-30469-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75094 invoked from network); 3 Oct 2007 20:44:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 3 Oct 2007 20:44:10 -0000
Received: (qmail 22017 invoked by uid 500); 3 Oct 2007 20:43:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21659 invoked by uid 500); 3 Oct 2007 20:43:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21648 invoked by uid 99); 3 Oct 2007 20:43:53 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Oct 2007 13:43:53 -0700
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [208.97.132.145] (HELO spunkymail-a14.g.dreamhost.com) (208.97.132.145)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Oct 2007 20:43:52 +0000
Received: from [192.168.0.3] (adsl-074-229-189-244.sip.rmo.bellsouth.net [74.229.189.244])
	by spunkymail-a14.g.dreamhost.com (Postfix) with ESMTP id CBCBF190E32
	for <java-user@lucene.apache.org>; Wed,  3 Oct 2007 13:42:57 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <a76d475c0710031120r666c5232sa8462e78721c04cc@mail.gmail.com>
References: <a76d475c0710031120r666c5232sa8462e78721c04cc@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <74DE3E67-32CD-4142-981B-07008EDF374F@apache.org>
Content-Transfer-Encoding: 7bit
From: Grant Ingersoll <gsingers@apache.org>
Subject: Re: Subset match query?
Date: Wed, 3 Oct 2007 16:42:46 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org

See the Similarity.coord() method.

/** Computes a score factor based on the fraction of all query terms  
that a
    * document contains.  This value is multiplied into scores.
    *
    * <p>The presence of a large portion of the query terms indicates  
a better
    * match with the query, so implementations of this method usually  
return
    * larger values when the ratio between these parameters is large  
and smaller
    * values when the ratio between them is small.
    *
    * @param overlap the number of query terms matched in the document
    * @param maxOverlap the total number of terms in the query
    * @return a score factor based on term overlap with the query
    */
   public abstract float coord(int overlap, int maxOverlap);

Cheers,
Grant

On Oct 3, 2007, at 2:20 PM, Kyle Maxwell wrote:

> I'm indexing a dataset with lots of short fields.  I have  
> determined that it
> would be useful to highly boost matches where every term in this  
> field is
> represented in the query. i.e.:
> Query: lucene field matches
> Field: lucene field
> but not
> Field: lucene has a field ...
> Field: lucene field foo...
>
> I'm finding this to be very difficult to implement.  I believe that  
> I could
> write a query to count the term matches in a field, but I'm not  
> sure how, in
> a subclass of query, it would be possible to efficiently count the  
> total
> number of terms in the field.  Any advice would be welcome!
>
> -Kyle

--------------------------
Grant Ingersoll
http://lucene.grantingersoll.com

Lucene Boot Camp Training:
ApacheCon Atlanta, Nov. 12, 2007.  Sign up now!  http:// 
www.apachecon.com

Lucene Helpful Hints:
http://wiki.apache.org/lucene-java/BasicsOfPerformance
http://wiki.apache.org/lucene-java/LuceneFAQ



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30470-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 03 20:46:27 2007
Return-Path: <java-user-return-30470-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76166 invoked from network); 3 Oct 2007 20:46:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 3 Oct 2007 20:46:25 -0000
Received: (qmail 29185 invoked by uid 500); 3 Oct 2007 20:46:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29149 invoked by uid 500); 3 Oct 2007 20:46:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29138 invoked by uid 99); 3 Oct 2007 20:46:08 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Oct 2007 13:46:08 -0700
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [208.97.132.119] (HELO spunkymail-a16.g.dreamhost.com) (208.97.132.119)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Oct 2007 20:46:08 +0000
Received: from [192.168.0.3] (adsl-074-229-189-244.sip.rmo.bellsouth.net [74.229.189.244])
	by spunkymail-a16.g.dreamhost.com (Postfix) with ESMTP id 2322E7CF6A
	for <java-user@lucene.apache.org>; Wed,  3 Oct 2007 13:45:44 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <a76d475c0710031120r666c5232sa8462e78721c04cc@mail.gmail.com>
References: <a76d475c0710031120r666c5232sa8462e78721c04cc@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <46BBEF54-CE55-417B-AC3A-C89F3E65FBF4@apache.org>
Content-Transfer-Encoding: 7bit
From: Grant Ingersoll <gsingers@apache.org>
Subject: Re: Subset match query?
Date: Wed, 3 Oct 2007 16:45:35 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org

Oops, too quick to reply...  coord() won't quite do it, since it does  
terms matched in doc versus terms in query.


On Oct 3, 2007, at 2:20 PM, Kyle Maxwell wrote:

> I'm indexing a dataset with lots of short fields.  I have  
> determined that it
> would be useful to highly boost matches where every term in this  
> field is
> represented in the query. i.e.:
> Query: lucene field matches
> Field: lucene field
> but not
> Field: lucene has a field ...
> Field: lucene field foo...
>
> I'm finding this to be very difficult to implement.  I believe that  
> I could
> write a query to count the term matches in a field, but I'm not  
> sure how, in
> a subclass of query, it would be possible to efficiently count the  
> total
> number of terms in the field.  Any advice would be welcome!
>
> -Kyle

--------------------------
Grant Ingersoll
http://lucene.grantingersoll.com

Lucene Boot Camp Training:
ApacheCon Atlanta, Nov. 12, 2007.  Sign up now!  http:// 
www.apachecon.com

Lucene Helpful Hints:
http://wiki.apache.org/lucene-java/BasicsOfPerformance
http://wiki.apache.org/lucene-java/LuceneFAQ



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30471-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 03 20:58:10 2007
Return-Path: <java-user-return-30471-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80002 invoked from network); 3 Oct 2007 20:58:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 3 Oct 2007 20:58:09 -0000
Received: (qmail 49562 invoked by uid 500); 3 Oct 2007 20:57:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49527 invoked by uid 500); 3 Oct 2007 20:57:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49516 invoked by uid 99); 3 Oct 2007 20:57:53 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Oct 2007 13:57:53 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [208.69.42.181] (HELO radix.cryptio.net) (208.69.42.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Oct 2007 20:57:55 +0000
Received: by radix.cryptio.net (Postfix, from userid 1007)
	id C457C71C197; Wed,  3 Oct 2007 13:57:04 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by radix.cryptio.net (Postfix) with ESMTP id C0BDA71C083
	for <java-user@lucene.apache.org>; Wed,  3 Oct 2007 13:57:04 -0700 (PDT)
Date: Wed, 3 Oct 2007 13:57:04 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Subset match query?
In-Reply-To: <a76d475c0710031120r666c5232sa8462e78721c04cc@mail.gmail.com>
Message-ID: <Pine.LNX.4.62.0710031353240.22966@radix.cryptio.net>
References: <a76d475c0710031120r666c5232sa8462e78721c04cc@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


A typical solution to problems in this "space" is to index marker terms to 
denote boundaries in the term sequence ... in combination with things 
like SpanNear and SpanNot, this can be used to make queries like "these 
5 words must be in the same sentence"

in your specific example however, where you want to match the entire 
sequence of terms for a doc in a specific field, i don't think you need 
any special indexing tricks ... you could probably just use a 
SpanFirst query containing a SpanNear query right? ... 
the key being that the end value of the SpanFirstQuery should be the same 
as the number of lcauses in the SpanNearQuery.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30472-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 03 21:30:51 2007
Return-Path: <java-user-return-30472-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88057 invoked from network); 3 Oct 2007 21:30:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 3 Oct 2007 21:30:50 -0000
Received: (qmail 95447 invoked by uid 500); 3 Oct 2007 21:30:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95407 invoked by uid 500); 3 Oct 2007 21:30:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95396 invoked by uid 99); 3 Oct 2007 21:30:33 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Oct 2007 14:30:33 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of fizx.list@gmail.com designates 72.14.204.238 as permitted sender)
Received: from [72.14.204.238] (HELO qb-out-0506.google.com) (72.14.204.238)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Oct 2007 21:30:35 +0000
Received: by qb-out-0506.google.com with SMTP id o21so1695624qba
        for <java-user@lucene.apache.org>; Wed, 03 Oct 2007 14:30:14 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=NOftzJAQIpKOtRnCvWy8y3MUPhyCvO8kh1691MRvwus=;
        b=nZr2BKd3imBGBiBkuviE1in3woIreE4eKZsKA2pbm0uomHirkG3OfKUhwSgI8VykqW0/l43xepziXWKRPJmMuZVSJCDOvK2uVBn9tKA6ZTUmnZBbmFHxKbZhP5h21kIjvGjjqnEa+zY0PKJXyiglx6wgxnJna/i+F48VsRNhs48=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=CK+FkmwvcngJbJHgd/lpcyV/AMMqrQyIVSgF19YGyffWb3uXiajWHAt7/dxeyz74eYBr8SazHn7beMYgY+q8Eff1xyN1zfPVdlVFObjbEtFqIii5JcZZ0KY/kNT/RbtJ74C23l+IOAbJuVW1lAKaIWQHCMTgByDCyHlyUNoGFEo=
Received: by 10.142.12.14 with SMTP id 14mr74608wfl.1191447013007;
        Wed, 03 Oct 2007 14:30:13 -0700 (PDT)
Received: by 10.142.12.7 with HTTP; Wed, 3 Oct 2007 14:30:12 -0700 (PDT)
Message-ID: <a76d475c0710031430r4f96a1fbxa2c2846c66f77b90@mail.gmail.com>
Date: Wed, 3 Oct 2007 14:30:12 -0700
From: "Kyle Maxwell" <fizx.list@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Subset match query?
In-Reply-To: <Pine.LNX.4.62.0710031353240.22966@radix.cryptio.net>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_9447_24401490.1191447013013"
References: <a76d475c0710031120r666c5232sa8462e78721c04cc@mail.gmail.com>
	 <Pine.LNX.4.62.0710031353240.22966@radix.cryptio.net>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_9447_24401490.1191447013013
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I understand how that recommendation could potentially cover fields with
undesired terms mixed in with the desired terms.  I fail to see that it
covers the case where the undesired term(s) are last, i.e. "desired desired
undesired."  Could you please elaborate?  Thanks!

-Kyle


On 10/3/07, Chris Hostetter <hossman_lucene@fucit.org> wrote:
>
>
> A typical solution to problems in this "space" is to index marker terms to
> denote boundaries in the term sequence ... in combination with things
> like SpanNear and SpanNot, this can be used to make queries like "these
> 5 words must be in the same sentence"
>
> in your specific example however, where you want to match the entire
> sequence of terms for a doc in a specific field, i don't think you need
> any special indexing tricks ... you could probably just use a
> SpanFirst query containing a SpanNear query right? ...
> the key being that the end value of the SpanFirstQuery should be the same
> as the number of lcauses in the SpanNearQuery.
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_9447_24401490.1191447013013--

From java-user-return-30473-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 03 21:36:01 2007
Return-Path: <java-user-return-30473-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89068 invoked from network); 3 Oct 2007 21:36:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 3 Oct 2007 21:36:00 -0000
Received: (qmail 4292 invoked by uid 500); 3 Oct 2007 21:35:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4254 invoked by uid 500); 3 Oct 2007 21:35:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4243 invoked by uid 99); 3 Oct 2007 21:35:43 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Oct 2007 14:35:43 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [208.69.42.181] (HELO radix.cryptio.net) (208.69.42.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Oct 2007 21:35:46 +0000
Received: by radix.cryptio.net (Postfix, from userid 1007)
	id 7CEC571C1AC; Wed,  3 Oct 2007 14:34:56 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by radix.cryptio.net (Postfix) with ESMTP id 7A22071C19C
	for <java-user@lucene.apache.org>; Wed,  3 Oct 2007 14:34:56 -0700 (PDT)
Date: Wed, 3 Oct 2007 14:34:56 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Subset match query?
In-Reply-To: <a76d475c0710031430r4f96a1fbxa2c2846c66f77b90@mail.gmail.com>
Message-ID: <Pine.LNX.4.62.0710031431540.28888@radix.cryptio.net>
References: <a76d475c0710031120r666c5232sa8462e78721c04cc@mail.gmail.com> 
 <Pine.LNX.4.62.0710031353240.22966@radix.cryptio.net>
 <a76d475c0710031430r4f96a1fbxa2c2846c66f77b90@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: I understand how that recommendation could potentially cover fields with
: undesired terms mixed in with the desired terms.  I fail to see that it
: covers the case where the undesired term(s) are last, i.e. "desired desired
: undesired."  Could you please elaborate?  Thanks!

my bad ... you are correct, there would be a false positive in that case.  
"out of the box" i think you would have index a marker token at the end of 
hte field and include it in your SpanNear.

in general, even if you were going to write a custom query, the lucene 
index structure makes it very easy/fast to find matches on specific 
tokens, but finding the absence of something (A not followed by anything, 
or a purely negative boolean query) doesn't fit with the way things are 
set up -- so workarrounds have to be found ... using a MatchAllDocsQuery
works well when dealing with purely negative queries, using a marker term 
to denote the end of a value works well in this case.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30474-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 03 22:31:24 2007
Return-Path: <java-user-return-30474-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 812 invoked from network); 3 Oct 2007 22:31:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 3 Oct 2007 22:31:24 -0000
Received: (qmail 67442 invoked by uid 500); 3 Oct 2007 22:31:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67403 invoked by uid 500); 3 Oct 2007 22:31:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67392 invoked by uid 99); 3 Oct 2007 22:31:07 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Oct 2007 15:31:07 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of warren@clarksnutrition.com designates 66.160.183.118 as permitted sender)
Received: from [66.160.183.118] (HELO unassigned118.fc.aoindustries.com) (66.160.183.118)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Oct 2007 22:31:08 +0000
Received: from [192.168.4.47] (pool-71-110-202-177.lsanca.dsl-w.verizon.net [71.110.202.177])
	(authenticated bits=0)
	by www7.fc.aoindustries.com (8.13.4/8.13.4) with ESMTP id l93MUlmV001549
	for <java-user@lucene.apache.org>; Wed, 3 Oct 2007 17:30:47 -0500
Message-ID: <4704181A.5090502@clarksnutrition.com>
Date: Wed, 03 Oct 2007 15:30:50 -0700
From: Warren <warren@clarksnutrition.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: BooleanQuery questions
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

I am new to Lucene and am having problems with booleanQueries. How do you write Boolean OR and AND 
queries?

Is this an OR query

booleanQuery.add(query1, BooleanClause.Occur.SHOULD);
booleanQuery.add(query2, BooleanClause.Occur.SHOULD);

and is this an AND query

booleanQuery.add(query1, BooleanClause.Occur.MUST);
booleanQuery.add(query2, BooleanClause.Occur.MUST);

Is there a problem writing it this way so I can change between the two by setting booleanANDSearch 
to true or false

booleanQuery.add(query1,(booleanANDSearch?BooleanClause.Occur.MUST:BooleanClause.Occur.SHOULD));
booleanQuery.add(query2,(booleanANDSearch?BooleanClause.Occur.MUST:BooleanClause.Occur.SHOULD));

Also, when I call booleanQuery.toString(), I am getting this:

(upc:creatine description:creatine content:creatine) (brand:gluten brand:free) (category:alc 
category:beer)

It looks like each grouping is a query but how are the queries connected, with AND, OR or NOT?

-- 
Thanks,

Warren Bell

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30475-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 04 00:04:40 2007
Return-Path: <java-user-return-30475-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34248 invoked from network); 4 Oct 2007 00:04:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 4 Oct 2007 00:04:39 -0000
Received: (qmail 50093 invoked by uid 500); 4 Oct 2007 00:04:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50061 invoked by uid 500); 4 Oct 2007 00:04:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50050 invoked by uid 99); 4 Oct 2007 00:04:23 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Oct 2007 17:04:23 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erickerickson@gmail.com designates 209.85.134.189 as permitted sender)
Received: from [209.85.134.189] (HELO mu-out-0910.google.com) (209.85.134.189)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Oct 2007 00:04:25 +0000
Received: by mu-out-0910.google.com with SMTP id g7so5787585muf
        for <java-user@lucene.apache.org>; Wed, 03 Oct 2007 17:04:03 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=PnSjq7o0ny4UCIiS/pK7/wSXF499rdFh7gP63rlSGAQ=;
        b=qVwwNVKP1GnPRupzhi0uUJFvf+bWYxggmqy/thKmUHyvaCr2FfH/x13tasE2ZWtMOIAdSLT625+c+UlEt7xjTIOQKYgBZWrbVA1+uYC6FCq016lWdYbHBFtw6uWrA/dFq0ZOYWOKXJp0MFBixPw+8MsqRG6G/xeisDz+kusH7CQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Hi4maoPz/PgEdZ5aVCnId34vfRPmllW+pT/eZuCdyM3UPMITh9BWzUryWOW4uWPp3onRZu0Y6TiBPBoWu6UD/PKeJo+i18BYxq8BZwas0IQV2qsmYWddIamMtUcXmVgmxNFxiy1NiFHsd5hQ8sRITXlhcbiiC04QpCeptRrZTXo=
Received: by 10.82.171.16 with SMTP id t16mr6457227bue.1191456243338;
        Wed, 03 Oct 2007 17:04:03 -0700 (PDT)
Received: by 10.82.167.3 with HTTP; Wed, 3 Oct 2007 17:04:03 -0700 (PDT)
Message-ID: <359a92830710031704v33271e30t11c58397d1d8247b@mail.gmail.com>
Date: Wed, 3 Oct 2007 20:04:03 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: BooleanQuery questions
In-Reply-To: <4704181A.5090502@clarksnutrition.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_27482_31940172.1191456243328"
References: <4704181A.5090502@clarksnutrition.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_27482_31940172.1191456243328
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I don't see a problem with your booleanANDSearch thingy, although
I haven't tried it.

Does toString() return the same string regardless of the value of
booleanANDSearch? That would surprise me. The default
is OR, so the toString output looks like booleanANDSearch is false.

In general, the Lucene syntax is
no symbol SHOULD
+              MUST
-               MUST_NOT

If this doesn't help, could you give us the toString for your
query1 and query2?

Erick

On 10/3/07, Warren <warren@clarksnutrition.com> wrote:
>
> I am new to Lucene and am having problems with booleanQueries. How do you
> write Boolean OR and AND
> queries?
>
> Is this an OR query
>
> booleanQuery.add(query1, BooleanClause.Occur.SHOULD);
> booleanQuery.add(query2, BooleanClause.Occur.SHOULD);
>
> and is this an AND query
>
> booleanQuery.add(query1, BooleanClause.Occur.MUST);
> booleanQuery.add(query2, BooleanClause.Occur.MUST);
>
> Is there a problem writing it this way so I can change between the two by
> setting booleanANDSearch
> to true or false
>
> booleanQuery.add(query1,(booleanANDSearch?BooleanClause.Occur.MUST:
> BooleanClause.Occur.SHOULD));
> booleanQuery.add(query2,(booleanANDSearch?BooleanClause.Occur.MUST:
> BooleanClause.Occur.SHOULD));
>
> Also, when I call booleanQuery.toString(), I am getting this:
>
> (upc:creatine description:creatine content:creatine) (brand:gluten
> brand:free) (category:alc
> category:beer)
>
> It looks like each grouping is a query but how are the queries connected,
> with AND, OR or NOT?
>
> --
> Thanks,
>
> Warren Bell
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_27482_31940172.1191456243328--

From java-user-return-30476-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 04 00:17:40 2007
Return-Path: <java-user-return-30476-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38649 invoked from network); 4 Oct 2007 00:17:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 4 Oct 2007 00:17:39 -0000
Received: (qmail 57156 invoked by uid 500); 4 Oct 2007 00:17:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57116 invoked by uid 500); 4 Oct 2007 00:17:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57105 invoked by uid 99); 4 Oct 2007 00:17:22 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Oct 2007 17:17:22 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of fizx.list@gmail.com designates 209.85.162.181 as permitted sender)
Received: from [209.85.162.181] (HELO el-out-1112.google.com) (209.85.162.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Oct 2007 00:17:25 +0000
Received: by el-out-1112.google.com with SMTP id m34so1209573ele
        for <java-user@lucene.apache.org>; Wed, 03 Oct 2007 17:17:04 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        bh=VD3xc2MnmuuGrQmqGy7mt/UjaqIjpb3GXOJtyvu9b0A=;
        b=prruYc0KtWPgEn0hpU9h9XLuF/fHNSm7htPwtSR6teZm3bkvNEatO9GEgZUhP94MF8/oXMLBijrsZiS7tk5YdqoYX7j3ugwVyUhWp2I5xdLevAL+PkqWY50zqBcrnq6L0PblEveD5g9tW05rX7OVkXNOq97PUgoTXfWQ/b9ZPKs=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=sQ/v8l4DLSHDGNtPFEAYDROhk8KAMIuF2OLB7Z/hNO4s0SWNtjej1xy99R8obrxckQtudPntZbK5P1bBHzvDbamHEigWV6/TvcqYNkrAwwL/A3gWYB803cZAdckUgEjWh/TivGZeyfrOqFKn0/km0zuIZAvT5sJPQb8ueeyVPm4=
Received: by 10.142.214.5 with SMTP id m5mr398285wfg.1191457024101;
        Wed, 03 Oct 2007 17:17:04 -0700 (PDT)
Received: by 10.142.12.7 with HTTP; Wed, 3 Oct 2007 17:17:04 -0700 (PDT)
Message-ID: <a76d475c0710031717y526af717p50b4ec4d254e4841@mail.gmail.com>
Date: Wed, 3 Oct 2007 17:17:04 -0700
From: "Kyle Maxwell" <fizx.list@gmail.com>
To: java-user@lucene.apache.org
Subject: Generalized proximity query performance
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_9818_10926641.1191457024095"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_9818_10926641.1191457024095
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi again,As the subject would suggest I'm trying to implement a layer of
proximity weighting over lucene.  This has greatly increased search
relevance, but at the same time has knocked down performance by a
substantial amount (see footer).

I am using a hand rolled query of the following form (implemented with
SpanNearQuery, not a sloppy PhraseQuery):
a b c => +(a AND b AND c) OR "a b"~5 OR "b c"~5

The obvious solution, "a b c"~5, is not applicable for my issues, because I
would like to allow for the possibility that a and b are near each other in
one field, while c is in another field.

So, is there something I'm missing to make this performant?  Would a
reordering, query rewriting solution help?  If there's no solution in
existing Lucene, would anyone be interested in investigating options with
me?

-Kyle


Somewhat arbitrary benchmarks.
--------------
Before:
$ ./bench.rb "paris hilton"
0.022000   0.000000   0.022000 (  0.021000)
$ ./bench.rb "paris hilton goes to jail"
0.024000   0.000000   0.024000 (  0.024000)

After:
$> ./bench.rb "paris hilton"
0.103000   0.000000   0.103000 (  0.103000)
$> ./bench.rb "paris hilton goes to jail"
1.514000   0.000000   1.514000 (  1.513000)

------=_Part_9818_10926641.1191457024095--

From java-user-return-30477-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 04 00:30:06 2007
Return-Path: <java-user-return-30477-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42133 invoked from network); 4 Oct 2007 00:30:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 4 Oct 2007 00:30:05 -0000
Received: (qmail 63276 invoked by uid 500); 4 Oct 2007 00:29:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63235 invoked by uid 500); 4 Oct 2007 00:29:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63224 invoked by uid 99); 4 Oct 2007 00:29:48 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Oct 2007 17:29:48 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [63.168.41.121] (HELO mail1.ventyx.com) (63.168.41.121)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Oct 2007 00:29:50 +0000
Received: from sfoexchfe1.iint (sfoexchfe1.dmventyx.com [172.16.64.190] (may be forged))
	by mail1.ventyx.com (8.11.7p3+Sun/8.11.7) with ESMTP id l940TTb05541
	for <java-user@lucene.apache.org>; Wed, 3 Oct 2007 17:29:29 -0700 (PDT)
Received: from SFOEXCHEVS1.IINT ([172.16.64.188]) by sfoexchfe1.iint with Microsoft SMTPSVC(6.0.3790.1830); Wed, 3 Oct 2007 17:29:29 -0700
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.2929
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C8061D.A02BA90E"
Content-Transfer-Encoding: 7bit
Subject: FW: Eliminating duplicate documents when indexing
Date: Wed, 3 Oct 2007 17:29:28 -0700
Message-ID: <3BAE9EAD184D5146BAB3288E086F11C07FEAEC@SFOEXCHEVS1.iint>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Importance: normal
Priority: normal
Thread-Topic: Eliminating duplicate documents when indexing
thread-index: AcgFWuAV4ko7LaChSw2Wem1E3Nf5LAAwQmqw
From: "Rod Giles" <Rod.Giles@ventyx.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 04 Oct 2007 00:29:29.0167 (UTC) FILETIME=[A03475F0:01C8061D]
X-Virus-Checked: Checked by ClamAV on apache.org

------_=_NextPart_001_01C8061D.A02BA90E
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Duplicate Documents In An Index

The updateDocument method of Index Writer indicates that a delete term
occurs before the update

document takes place (i.e. the document is replaced in the index, but
not duplicated).    Has anyone

been able to get this process to work?  The term that I am using has a
unique key that comes directly

from the primary key of a database table.   But, my updated documents
are still consistently duplicated

in my index when the writer is eventually flushed.   I am tried using
Lucene 2.2 and nightly build

Lucene-2007-10-02_02-29-37 (which correctly includes the
setRamBufferSizeMB() method for Index Writer).

=20

=20

Optimizing An Index

Also, in the nightly build lucene-2007-10-02_02-29-37, the optimize()
method of Index Writer appears to

have been broken.  My existing code, which worked with Lucene 2.2,
consistently throws an illegal argument

exception when this method is executed.

=20

=20

=20



DISCLAIMER:
Please note that our email and web site addresses have changed.
************************************************************************
This email message and all attachments transmitted with it are for the =
sole use of the intended recipient(s) and may contain confidential and =
privileged information. Please DO NOT forward this email outside of the =
recipient's Company unless expressly authorized to do so herein. Any =
unauthorized review, use, disclosure or distribution is prohibited. If =
you are not the intended recipient, please contact the sender by reply =
email and destroy all copies of the original message.
Any views expressed in this email message are those of the individual =
sender except where the sender specifically states them to be the views =
of Ventyx.
************************************************************************

------_=_NextPart_001_01C8061D.A02BA90E--

From java-user-return-30478-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 04 00:41:43 2007
Return-Path: <java-user-return-30478-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45148 invoked from network); 4 Oct 2007 00:41:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 4 Oct 2007 00:41:42 -0000
Received: (qmail 74923 invoked by uid 500); 4 Oct 2007 00:41:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74738 invoked by uid 500); 4 Oct 2007 00:41:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74727 invoked by uid 99); 4 Oct 2007 00:41:24 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Oct 2007 17:41:24 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of warren@clarksnutrition.com designates 66.160.183.118 as permitted sender)
Received: from [66.160.183.118] (HELO unassigned118.fc.aoindustries.com) (66.160.183.118)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Oct 2007 00:41:26 +0000
Received: from [192.168.4.47] (pool-71-110-202-177.lsanca.dsl-w.verizon.net [71.110.202.177])
	(authenticated bits=0)
	by www7.fc.aoindustries.com (8.13.4/8.13.4) with ESMTP id l940f4cY025451
	for <java-user@lucene.apache.org>; Wed, 3 Oct 2007 19:41:06 -0500
Message-ID: <470436A3.4090504@clarksnutrition.com>
Date: Wed, 03 Oct 2007 17:41:07 -0700
From: Warren <warren@clarksnutrition.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: BooleanQuery questions
References: <4704181A.5090502@clarksnutrition.com> <359a92830710031704v33271e30t11c58397d1d8247b@mail.gmail.com>
In-Reply-To: <359a92830710031704v33271e30t11c58397d1d8247b@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Thanks for the reply. Everything is working correctly now. I jumped the gun without debuging it 
more. booleanANDSearch was not getting set correctly.

Erick Erickson wrote:
> I don't see a problem with your booleanANDSearch thingy, although
> I haven't tried it.
> 
> Does toString() return the same string regardless of the value of
> booleanANDSearch? That would surprise me. The default
> is OR, so the toString output looks like booleanANDSearch is false.
> 
> In general, the Lucene syntax is
> no symbol SHOULD
> +              MUST
> -               MUST_NOT
> 
> If this doesn't help, could you give us the toString for your
> query1 and query2?
> 
> Erick
> 
> On 10/3/07, Warren <warren@clarksnutrition.com> wrote:
>> I am new to Lucene and am having problems with booleanQueries. How do you
>> write Boolean OR and AND
>> queries?
>>
>> Is this an OR query
>>
>> booleanQuery.add(query1, BooleanClause.Occur.SHOULD);
>> booleanQuery.add(query2, BooleanClause.Occur.SHOULD);
>>
>> and is this an AND query
>>
>> booleanQuery.add(query1, BooleanClause.Occur.MUST);
>> booleanQuery.add(query2, BooleanClause.Occur.MUST);
>>
>> Is there a problem writing it this way so I can change between the two by
>> setting booleanANDSearch
>> to true or false
>>
>> booleanQuery.add(query1,(booleanANDSearch?BooleanClause.Occur.MUST:
>> BooleanClause.Occur.SHOULD));
>> booleanQuery.add(query2,(booleanANDSearch?BooleanClause.Occur.MUST:
>> BooleanClause.Occur.SHOULD));
>>
>> Also, when I call booleanQuery.toString(), I am getting this:
>>
>> (upc:creatine description:creatine content:creatine) (brand:gluten
>> brand:free) (category:alc
>> category:beer)
>>
>> It looks like each grouping is a query but how are the queries connected,
>> with AND, OR or NOT?
>>
>> --
>> Thanks,
>>
>> Warren Bell
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
> 

-- 
Thanks,

Warren Bell
Systems Administrator
Clark's Nutritional Centers
4225 Market St.
Riverside, CA 92501
951-321-1960 ext. 142
909-645-8864 mobile

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30479-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 04 07:12:54 2007
Return-Path: <java-user-return-30479-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41460 invoked from network); 4 Oct 2007 07:12:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 4 Oct 2007 07:12:52 -0000
Received: (qmail 50156 invoked by uid 500); 4 Oct 2007 07:12:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50113 invoked by uid 500); 4 Oct 2007 07:12:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50102 invoked by uid 99); 4 Oct 2007 07:12:36 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Oct 2007 00:12:36 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [209.191.85.105] (HELO web37103.mail.mud.yahoo.com) (209.191.85.105)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 04 Oct 2007 07:12:37 +0000
Received: (qmail 79130 invoked by uid 60001); 4 Oct 2007 07:12:16 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Message-ID;
  b=zmGAvHlFqIvXd8xAppYDzfkTlGDXFAmt2IuFiTivI1Nf3NmjwxX89kAq4MyAYyg6/93meMHsVfhQnCg10P+l6ParCKqG0We0fy70rc0ke31hvsgtwckChmmGEGEZsQpVpB8FfKagqWtRIkMKa6BIB5PEpkzkw+/i5yxaiyCwEBw=;
X-YMail-OSG: ddidoE4VM1kHY5MfVUKOrTBk5egek4.LltSkBteUYItUh1Jx3Ly9W6.8vglpbPxVRkLsXqAi3Gr_.9i5DZts1oJPDvJe9Nv74d.8
Received: from [68.142.201.143] by web37103.mail.mud.yahoo.com via HTTP; Thu, 04 Oct 2007 00:12:15 PDT
X-Mailer: YahooMailRC/651.50 YahooMailWebService/0.7.134
Date: Thu, 4 Oct 2007 00:12:15 -0700 (PDT)
From: Dan Rich <isparql@yahoo.com>
Subject: Scorer skipTo() expectations?
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1071020228-1191481935=:78969"
Message-ID: <977310.78969.qm@web37103.mail.mud.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-1071020228-1191481935=:78969
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable

Hi, =0A=0AI have a custom Query class that provides a long list of lucene d=
ocIds (not for filtering purposes), which is one clause in a standard Boole=
anQuery (which also contains TermQuery instances).=0A=0AI have a custom Sco=
rer that goes along with the custom Query class. =0A=0AWhat (if any) docume=
nt ordering requirements does the Scorer class have for its skipTo(int docI=
d) method?=0A=0AIn particular, currently I'm sorting/returning the docIds i=
n ascending order from my custom Query class. That can be expensive for lar=
ge docId lists; is sorting necessary? It looks like skipTo() might expect t=
he documents it gets to be in ascending order to behave correctly as part o=
f a BooleanQuery, but I can't tell for sure from the doc.=0A=0AIf the docum=
ent list from my custom Scorer class does not have its document list in asc=
ending order (e.g. 10, 80, 40, 60, 50) will whatever uses skipTo() potentia=
lly lose hits? If not, is there any performance concern with having the doc=
Ids unordered?=0A=0A=0A      ______________________________________________=
______________________________________=0AFussy? Opinionated? Impossible to =
please? Perfect.  Join Yahoo!'s user panel and lay it on us. http://surveyl=
ink.yahoo.com/gmrs/yahoo_panel_invite.asp?a=3D7 =0A
--0-1071020228-1191481935=:78969--

From java-user-return-30480-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 04 15:09:06 2007
Return-Path: <java-user-return-30480-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24400 invoked from network); 4 Oct 2007 15:09:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 4 Oct 2007 15:09:06 -0000
Received: (qmail 25561 invoked by uid 500); 4 Oct 2007 15:08:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25538 invoked by uid 500); 4 Oct 2007 15:08:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25527 invoked by uid 99); 4 Oct 2007 15:08:48 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Oct 2007 08:08:48 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [134.155.87.224] (HELO salsa.informatik.uni-mannheim.de) (134.155.87.224)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Oct 2007 15:08:47 +0000
Received: from [127.0.0.1] (swt120.informatik.uni-mannheim.de [134.155.89.132])
	(authenticated bits=0)
	by salsa.informatik.uni-mannheim.de (8.14.1/8.13.7) with ESMTP id l94F5D5h004308
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <java-user@lucene.apache.org>; Thu, 4 Oct 2007 17:05:13 +0200
Message-ID: <4705012A.1070406@informatik.uni-mannheim.de>
Date: Thu, 04 Oct 2007 17:05:14 +0200
From: Oliver Hummel <hummel@informatik.uni-mannheim.de>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: RegexQuery on multiple fields?
X-Enigmail-Version: 0.95.0
Content-Type: text/plain; charset=ISO-8859-15
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: ClamAV version 0.91.2, clamav-milter version 0.91.2 on salsa.informatik.uni-mannheim.de
X-Virus-Status: Clean
X-Greylist: Sender succeeded SMTP AUTH authentication, not delayed by milter-greylist-2.0.2 (salsa.informatik.uni-mannheim.de [134.155.88.83]); Thu, 04 Oct 2007 17:05:13 +0200 (CEST)
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

I've recently tried the RegexQuery with Lucene which works fine with the
following code snippet:

  Hits hits;
  String q = "someregex";
  Term t = new Term("content", q);
  Query query = new RegexQuery(t);
  hits = searcher.search(query);

However, I wonder whether it is possible to use a QueryParser together with the
RegexQuery to determine the field to be searched on dynamically?

I wasn't able to find a solution in the API. Anybody knows one? Or is this not
possible?

Thanks in advance!

  Oliver



--
http://merobase.com - find source code, components and web services

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30481-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 04 17:15:37 2007
Return-Path: <java-user-return-30481-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7662 invoked from network); 4 Oct 2007 17:15:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 4 Oct 2007 17:15:36 -0000
Received: (qmail 64416 invoked by uid 500); 4 Oct 2007 17:15:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64386 invoked by uid 500); 4 Oct 2007 17:15:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64345 invoked by uid 99); 4 Oct 2007 17:15:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Oct 2007 10:15:06 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of galeas@gmx.de designates 213.165.64.20 as permitted sender)
Received: from [213.165.64.20] (HELO mail.gmx.net) (213.165.64.20)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 04 Oct 2007 17:15:06 +0000
Received: (qmail 1550 invoked by uid 0); 4 Oct 2007 17:13:44 -0000
Received: from 91.2.92.103 by www131.gmx.net with HTTP;
 Thu, 04 Oct 2007 19:13:44 +0200 (CEST)
Content-Type: text/plain; charset="us-ascii"
Date: Thu, 04 Oct 2007 19:13:44 +0200
From: "Patricio Galeas" <galeas@gmx.de>
Message-ID: <20071004171344.99080@gmx.net>
MIME-Version: 1.0
Subject: TermPositionVector.indexesOf()
To: java-user@lucene.apache.org
X-Authenticated: #24368204
X-Flags: 0001
X-Mailer: WWW-Mail 6100 (Global Message Exchange)
X-Priority: 3
X-Provags-ID: V01U2FsdGVkX1/EXmVmxyXE5nG4sgaKFJE2fD/6rTSDHAtW3Wc33+
 N8KMc8nnibKdiJ59t/DalIXkHLuAgsCOHddw== 
Content-Transfer-Encoding: 7bit
X-GMX-UID: fyczdoYVYmYBWXrjFnY3NwdCWkZTQZQ4
X-Virus-Checked: Checked by ClamAV on apache.org

Hello,

I'm using the following method to obtain the position of some terms in a document:

int[] indexOfTerms = TermPositionVector.indexesOf(String[] terms, int start, int len);

Should I parse the strings contained in "terms" before I apply indexOf()?

Thank you in advance
Patricio
-- 
Ist Ihr Browser Vista-kompatibel? Jetzt die neuesten 
Browser-Versionen downloaden: http://www.gmx.net/de/go/browser

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30482-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 04 17:36:14 2007
Return-Path: <java-user-return-30482-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18814 invoked from network); 4 Oct 2007 17:36:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 4 Oct 2007 17:36:14 -0000
Received: (qmail 9492 invoked by uid 500); 4 Oct 2007 17:35:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8991 invoked by uid 500); 4 Oct 2007 17:35:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8980 invoked by uid 99); 4 Oct 2007 17:35:56 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Oct 2007 10:35:56 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [194.109.24.24] (HELO smtp-vbr4.xs4all.nl) (194.109.24.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Oct 2007 17:35:58 +0000
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr4.xs4all.nl (8.13.8/8.13.8) with ESMTP id l94HZbUc072573
	for <java-user@lucene.apache.org>; Thu, 4 Oct 2007 19:35:37 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Scorer skipTo() expectations?
Date: Thu, 4 Oct 2007 19:35:36 +0200
User-Agent: KMail/1.8.2
References: <977310.78969.qm@web37103.mail.mud.yahoo.com>
In-Reply-To: <977310.78969.qm@web37103.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200710041935.36665.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org

Dan,

In Scorers, when skipTo() or next() returns true for the second or later
time, the result of doc() will be increased.
When Scorer.skipTo() does not have document order, documents will
be lost, which means that not all matching documents will be found
by the search.

For disjunctions (OR), one needs to merge the documents of
two Scorers using next() to iterate over the documents.
The merging is normally done on the fly using a specialized priority queue
on the doc() values in DisjunctionSumScorer.
No sorting of  complete document lists is done at search time,
that is done at indexing time. And since TermScorer uses the
index directly, it will always return documents in order.

The only exception to document ordering is BooleanScorer.next(),
which is used by BooleanQuery for some cases of top
level disjunctions, and then only when documents are allowed
to be scored out of order. The reason for that is performance,
BooleanScorer uses a faster data structure than a priority queue,
but BooleanScorer does not implement skipTo().

Regards,
Paul Elschot




On Thursday 04 October 2007 09:12, Dan Rich wrote:
> Hi,
>
> I have a custom Query class that provides a long list of lucene docIds (not
> for filtering purposes), which is one clause in a standard BooleanQuery
> (which also contains TermQuery instances).
>
> I have a custom Scorer that goes along with the custom Query class.
>
> What (if any) document ordering requirements does the Scorer class have for
> its skipTo(int docId) method?
>
> In particular, currently I'm sorting/returning the docIds in ascending
> order from my custom Query class. That can be expensive for large docId
> lists; is sorting necessary? It looks like skipTo() might expect the
> documents it gets to be in ascending order to behave correctly as part of a
> BooleanQuery, but I can't tell for sure from the doc.
>
> If the document list from my custom Scorer class does not have its document
> list in ascending order (e.g. 10, 80, 40, 60, 50) will whatever uses
> skipTo() potentially lose hits? If not, is there any performance concern
> with having the docIds unordered?
>
>
>      
> ___________________________________________________________________________
>_________ Fussy? Opinionated? Impossible to please? Perfect.  Join Yahoo!'s
> user panel and lay it on us.
> http://surveylink.yahoo.com/gmrs/yahoo_panel_invite.asp?a=7

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30483-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 04 18:44:39 2007
Return-Path: <java-user-return-30483-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49905 invoked from network); 4 Oct 2007 18:44:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 4 Oct 2007 18:44:38 -0000
Received: (qmail 67335 invoked by uid 500); 4 Oct 2007 18:44:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67304 invoked by uid 500); 4 Oct 2007 18:44:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 33855 invoked by uid 99); 4 Oct 2007 18:27:53 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of mikal_sk@hotmail.com designates 65.54.246.215 as permitted sender)
Message-ID: <BAY102-F341388B2A206044AFC7B3EEAA80@phx.gbl>
X-Originating-IP: [85.200.37.123]
X-Originating-Email: [mikal_sk@hotmail.com]
X-Sender: mikal_sk@hotmail.com
From: "Mikal skåren" <mikal_sk@hotmail.com>
To: java-user@lucene.apache.org
Subject: Promblems with searching a field
Date: Thu, 04 Oct 2007 20:27:32 +0200
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
X-OriginalArrivalTime: 04 Oct 2007 18:27:32.0723 (UTC) FILETIME=[3A9BD430:01C806B4]
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,
I am new to lucene and am currently having some problems searching an index.

so we make the index like this :

  doc.add(new Field("itno", item.getMMITNO(), Field.Store.YES, 
Field.Index.TOKENIZED ));

this runs ok the index looks like this :

   [stored/uncompressed,indexed,tokenized<itno:00000002     >,

But when we try searching this field we get no hits (search is 00000002, 
ItemIndexing.getAnalyzer()  == SimpleAnalyzer)

try {
            Hits hits =
indexSearcher.search(newQueryParser("itno",ItemIndexing.getAnalyzer()).parse(search));
           //Returns 0
            log.info("Size " + hits.length());
            List result = getResult(hits);
            indexSearcher.close();

            return result;
        } catch (Exception e) {


What are we doing wrong, any help would be appreciated..

_________________________________________________________________
Trangt om plassen? http://www.hotmail.com MSN Hotmail gir deg 250MB gratis 
lagringsplass


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30484-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 04 18:47:03 2007
Return-Path: <java-user-return-30484-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50249 invoked from network); 4 Oct 2007 18:47:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 4 Oct 2007 18:47:02 -0000
Received: (qmail 72440 invoked by uid 500); 4 Oct 2007 18:46:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72418 invoked by uid 500); 4 Oct 2007 18:46:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 60389 invoked by uid 99); 4 Oct 2007 18:40:03 -0000
X-ASF-Spam-Status: No, hits=2.8 required=10.0
	tests=RCVD_IN_SBL,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=QhwYdGqfBcXfbtgJ8kXiUJ9h455HaPjar853rpjOrqwgHRYYhiJu2UFVvodmUdGNnzYcMiH79ave0CTw0KetB//TiPmWWVuwo0lng8/mgLbmWiJzls/tU5ojBMLiUPZeTNP1JY1YJRs27VehEI2VvdPqFGdxAdjDanLOqORcyhs=;
X-YMail-OSG: 5M5F2soVM1n4zXzdzGA_3Ennih2T2Sc5GKvrk.iQ2JNrey9ZcYUjBBFP0wlI7InnillREttkWTdU9oa6m4L1dEL_RzOV3jTrsIefPQ53rsewfoB.eOv_IJR6UvaO
Date: Thu, 4 Oct 2007 11:39:42 -0700 (PDT)
From: "pp1907@yahoo.com" <pp1907@yahoo.com>
Subject: Custom Search algorithm integration
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
Message-ID: <417798.74454.qm@web52712.mail.re2.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

Were planning to use Lucene or Solr within our
application and wanted to know if it can support the
following:

Scenario:
We have (say) 5 fields in a document which need to be
indexed. 4 fields are indexed by Lucene. The 5th field
is not indexed as it has data that cant be indexed or
searched by Lucene.

We have a special algorithm/API to search/match on the
5th field. Can this algorithm/API be integrated within
Lucene/Solr so that if we pass the 5th field data as a
query, the search engine will use our algorithm/API to
search and return/display the results. The reason why
 we want this to be integrated with Lucene/Solr are
obvious - rely on Lucene/Solr's basic scalability /
performance as well as integrate both  traditional
searching capabilities and specialized searching for
our end-user 

Is this possible to achieve in Lucene/Solr and if so,
how. Would be nice to understand your thoughts as this
is very critical for us.

Appreciate your help. thank you.

cheers
Prakash



       
____________________________________________________________________________________
Yahoo! oneSearch: Finally, mobile search 
that gives answers, not web links. 
http://mobile.yahoo.com/mobileweb/onesearch?refer=1ONXIC

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30485-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 04 19:27:09 2007
Return-Path: <java-user-return-30485-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65095 invoked from network); 4 Oct 2007 19:27:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 4 Oct 2007 19:27:07 -0000
Received: (qmail 49090 invoked by uid 500); 4 Oct 2007 19:26:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48530 invoked by uid 500); 4 Oct 2007 19:26:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48519 invoked by uid 99); 4 Oct 2007 19:26:50 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Oct 2007 12:26:50 -0700
X-ASF-Spam-Status: No, hits=2.9 required=10.0
	tests=HTML_MESSAGE,SPF_PASS,URIBL_RHS_DOB
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erickerickson@gmail.com designates 209.85.128.186 as permitted sender)
Received: from [209.85.128.186] (HELO fk-out-0910.google.com) (209.85.128.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Oct 2007 19:26:52 +0000
Received: by fk-out-0910.google.com with SMTP id z23so258317fkz
        for <java-user@lucene.apache.org>; Thu, 04 Oct 2007 12:26:30 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=H6QgoI/EjZnYpcqjWHOYnUFOKUQbu6b440+WEctoGFU=;
        b=krJh+pQ4TOoMUL+RLjEgj/YIt1uoLIrc/RX7modiMufCk5xc4CYZ98KVkLRQEs6z4rcBiw6uqbG3So59mObGfg6qTu1sRlBh4IMu0Xi00SIloaTEp2GpjQsYFG2WnBjGrWT+ixRlhbXhXaG6/Ky75ufx2FIPT8JNfRQ+qpm7LhE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=iS2pLWYiT1m6WygIuwwbx0uhXAvSoshYjM7rhrbNgfIW68UAvHwBeZ+VrJ/4/W2Wqc7OAzWZus4GQYFIBobbxB0V0tUuIyUWPPZBb9DODNcuNUj4GZnsaFZImf7jW9WeYwD1TDKw+EWMKGTJlkIOpNrMRyebHdIRla9oyXQCQ+A=
Received: by 10.82.126.5 with SMTP id y5mr2718342buc.1191525989844;
        Thu, 04 Oct 2007 12:26:29 -0700 (PDT)
Received: by 10.82.167.3 with HTTP; Thu, 4 Oct 2007 12:26:29 -0700 (PDT)
Message-ID: <359a92830710041226w40ba69c1jbb3948c52f0cbfa8@mail.gmail.com>
Date: Thu, 4 Oct 2007 15:26:29 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Promblems with searching a field
In-Reply-To: <BAY102-F341388B2A206044AFC7B3EEAA80@phx.gbl>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_32563_6863486.1191525989839"
References: <BAY102-F341388B2A206044AFC7B3EEAA80@phx.gbl>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_32563_6863486.1191525989839
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

It's hard to say, but two things will help you track this down.

1> get a copy of Luke to examine your index (which you may have already).
2> Query.toString is your friend. It'll show you exactly what the parsed
    query looks like. It may be obvious when you see that output
    what the problem is, but if not you can try moving the parsed
    code into the search tab of Luke and glean more info.

Where did you get this data: "<itno:00000002     >,"? It's kind of
interesting that there are spaces AFTER the 000000002. What analyzer
did you use when you indexed it and can you guarantee that it's
the same analyzer that you used to parse the query?


And one aside. Opening and closing a searcher for each request is
very wasteful. Is closing your searcher just an artifact of cutting/pasting=
?
If not, you haven't opened the searcher in the snippet either <G>...

Best
Erick

On 10/4/07, Mikal sk=E5ren <mikal_sk@hotmail.com> wrote:
>
> Hi,
> I am new to lucene and am currently having some problems searching an
> index.
>
> so we make the index like this :
>
>   doc.add(new Field("itno", item.getMMITNO(), Field.Store.YES,
> Field.Index.TOKENIZED ));
>
> this runs ok the index looks like this :
>
>    [stored/uncompressed,indexed,tokenized<itno:00000002     >,
>
> But when we try searching this field we get no hits (search is 00000002,
> ItemIndexing.getAnalyzer()  =3D=3D SimpleAnalyzer)
>
> try {
>             Hits hits =3D
> indexSearcher.search(newQueryParser("itno",ItemIndexing.getAnalyzer
> ()).parse(search));
>            //Returns 0
>             log.info("Size " + hits.length());
>             List result =3D getResult(hits);
>             indexSearcher.close();
>
>             return result;
>         } catch (Exception e) {
>
>
> What are we doing wrong, any help would be appreciated..
>
> _________________________________________________________________
> Trangt om plassen? http://www.hotmail.com MSN Hotmail gir deg 250MB grati=
s
> lagringsplass
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_32563_6863486.1191525989839--

From java-user-return-30486-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 05 01:31:18 2007
Return-Path: <java-user-return-30486-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79127 invoked from network); 5 Oct 2007 01:31:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Oct 2007 01:31:17 -0000
Received: (qmail 9344 invoked by uid 500); 5 Oct 2007 01:31:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9308 invoked by uid 500); 5 Oct 2007 01:31:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9297 invoked by uid 99); 5 Oct 2007 01:31:00 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Oct 2007 18:31:00 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of vivextra@gmail.com designates 64.233.162.239 as permitted sender)
Received: from [64.233.162.239] (HELO nz-out-0506.google.com) (64.233.162.239)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Oct 2007 01:31:02 +0000
Received: by nz-out-0506.google.com with SMTP id i28so296692nzi
        for <java-user@lucene.apache.org>; Thu, 04 Oct 2007 18:30:41 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        bh=+Qbp83xGWkIZQzaz2oC539FwOTYOwpM2ELCze12Eofo=;
        b=p3dQix8SHgldKoOihWYAurSiJREGfgMiUBNDsdDlLpBHA33PxW89LrTgDL0cQzmDEoKj+1yZoL2JH8aQDhx806vSHAv8QNwYsBOtDP7sQQ+KVl4FeazXI5X9n+isYFqUFoD8CAugX5kUAkBANwGh0d+chxU3Rul48g6aJln8YkY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=s1LPvGptx676ernfqDnA48SMmRB5TmmJqx+ZiN4ShBbc/vfh/WXJ8n9P7Zw/BV3CElGyYe8mJNaeozocM06054DZgoDL61H3Jx+kK8Cz/Ue5D+yMvzP247M9cfgMw7daIyhvTGoLNF0JCBjatZyXVhq8EJvUBJ7orHz7MRern0E=
Received: by 10.115.46.9 with SMTP id y9mr1686698waj.1191547840930;
        Thu, 04 Oct 2007 18:30:40 -0700 (PDT)
Received: by 10.114.14.11 with HTTP; Thu, 4 Oct 2007 18:30:40 -0700 (PDT)
Message-ID: <a206fb7e0710041830y15d483f3tb1efa75e3a968e8e@mail.gmail.com>
Date: Thu, 4 Oct 2007 18:30:40 -0700
From: "vivek sar" <vivextra@gmail.com>
To: java-user@lucene.apache.org
Subject: Help with Lucene Indexer crash recovery
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

 We are using Lucene 2.3. The problem we are facing is quite a few
times if our application is stopped (killed or crash) while Indexer is
doing its job, the next time when we bring up the application the
Indexer fails to run with the following exception,

2007-10-04 12:29:53,089 ERROR [PS thread 10] IndexerJob - Full-text
indexer failed to index
java.io.FileNotFoundException:
/opt/manager/apps/conf/index/MasterIndex/_llb.cfs (No such file or
directory)
        at java.io.RandomAccessFile.open(Native Method)
        at java.io.RandomAccessFile.<init>(Unknown Source)
        at org.apache.lucene.store.FSDirectory$FSIndexInput$Descriptor.<init>(FSDirectory.java:506)
        at org.apache.lucene.store.FSDirectory$FSIndexInput.<init>(FSDirectory.java:536)
        at org.apache.lucene.store.FSDirectory.openInput(FSDirectory.java:445)
        at org.apache.lucene.index.CompoundFileReader.<init>(CompoundFileReader.java:70)
        at org.apache.lucene.index.SegmentReader.initialize(SegmentReader.java:181)
        at org.apache.lucene.index.SegmentReader.get(SegmentReader.java:167)
        at org.apache.lucene.index.SegmentReader.get(SegmentReader.java:131)
        at org.apache.lucene.index.IndexReader$1.doBody(IndexReader.java:206)
        at org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:610)

The search also doesn't work after this.

Looks like the index were left in some weird state (might be
corrupted). I was wondering if there is a tool or a way to repair the
indexes if we are not able to open them at run-time?

Thanks,
-vivek

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30487-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 05 11:52:30 2007
Return-Path: <java-user-return-30487-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84345 invoked from network); 5 Oct 2007 11:52:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Oct 2007 11:52:29 -0000
Received: (qmail 16650 invoked by uid 500); 5 Oct 2007 11:52:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16625 invoked by uid 500); 5 Oct 2007 11:52:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16614 invoked by uid 99); 5 Oct 2007 11:52:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Oct 2007 04:52:11 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [66.111.4.25] (HELO out1.smtp.messagingengine.com) (66.111.4.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Oct 2007 11:52:13 +0000
Received: from compute1.internal (compute1.internal [10.202.2.41])
	by out1.messagingengine.com (Postfix) with ESMTP id D17EC22F24
	for <java-user@lucene.apache.org>; Fri,  5 Oct 2007 07:51:52 -0400 (EDT)
Received: from web8.messagingengine.com ([10.202.2.217])
  by compute1.internal (MEProxy); Fri, 05 Oct 2007 07:51:52 -0400
Received: by web8.messagingengine.com (Postfix, from userid 99)
	id B32739518; Fri,  5 Oct 2007 07:51:52 -0400 (EDT)
Message-Id: <1191585112.19609.1214311329@webmail.messagingengine.com>
X-Sasl-Enc: 5zUEEGhEgn/KWZIHR6m2Gj7mM7LuzxGEhqND8X35a00T 1191585112
From: "Michael McCandless" <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="ISO-8859-1"
MIME-Version: 1.0
X-Mailer: MessagingEngine.com Webmail Interface
References: <a206fb7e0710041830y15d483f3tb1efa75e3a968e8e@mail.gmail.com>
Subject: Re: Help with Lucene Indexer crash recovery
In-Reply-To: <a206fb7e0710041830y15d483f3tb1efa75e3a968e8e@mail.gmail.com>
Date: Fri, 05 Oct 2007 07:51:52 -0400
X-Virus-Checked: Checked by ClamAV on apache.org

"vivek sar" <vivextra@gmail.com> wrote:

> We are using Lucene 2.3.

Do you mean Lucene 2.2?  Your stack trace seems to line up with 2.2,
and 2.3 isn't quite released yet.

> The problem we are facing is quite a few times if our application is
> stopped (killed or crash) while Indexer is doing its job, the next
> time when we bring up the application the Indexer fails to run with
> the following exception,

> 2007-10-04 12:29:53,089 ERROR [PS thread 10] IndexerJob - Full-text
> indexer failed to index
> java.io.FileNotFoundException:
> /opt/manager/apps/conf/index/MasterIndex/_llb.cfs (No such file or
> directory)
>         at java.io.RandomAccessFile.open(Native Method)
>         at java.io.RandomAccessFile.<init>(Unknown Source)
>         at
>         org.apache.lucene.store.FSDirectory$FSIndexInput$Descriptor.<init>(FSDirectory.java:506)
>         at
>         org.apache.lucene.store.FSDirectory$FSIndexInput.<init>(FSDirectory.java:536)
>         at
>         org.apache.lucene.store.FSDirectory.openInput(FSDirectory.java:445)
>         at
>         org.apache.lucene.index.CompoundFileReader.<init>(CompoundFileReader.java:70)
>         at
>         org.apache.lucene.index.SegmentReader.initialize(SegmentReader.java:181)
>         at
>         org.apache.lucene.index.SegmentReader.get(SegmentReader.java:167)
>         at
>         org.apache.lucene.index.SegmentReader.get(SegmentReader.java:131)
>         at
>         org.apache.lucene.index.IndexReader$1.doBody(IndexReader.java:206)
>         at
>         org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:610)
> 
> The search also doesn't work after this.

Can you share some details of how you are using Lucene, and, how/why
it's killed or crashed so often?  When it crashes, do you get an
exception from Lucene (which could be the root cause here)?

What OS and filesystem is the index on?  Are you changing any default
settings like autoCommit, lock factory & lock file location, etc?

Even if Lucene (JVM) is killed, the index should not become corrupt in
this particular way, unless the IO system fails to complete its
"write" operations.  Lucene always writes & closes new segments files
(_llb.cfs) before writing the segments_N file that refers to them.

> Looks like the index were left in some weird state (might be
> corrupted). I was wondering if there is a tool or a way to repair the
> indexes if we are not able to open them at run-time?

I just took a first stab at just such a tool, here:

  https://issues.apache.org/jira/browse/LUCENE-1020

Please be very very careful!: I just wrote this code and it could have
some horrible bug that destroys your index.  So make a backup of your
index first.

Could you first run that tool without the "-fix" option and post back
the resulting output?

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30488-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 05 12:41:54 2007
Return-Path: <java-user-return-30488-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3716 invoked from network); 5 Oct 2007 12:41:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Oct 2007 12:41:53 -0000
Received: (qmail 79078 invoked by uid 500); 5 Oct 2007 12:40:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79046 invoked by uid 500); 5 Oct 2007 12:40:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79023 invoked by uid 99); 5 Oct 2007 12:40:34 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Oct 2007 05:40:34 -0700
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [208.97.132.119] (HELO spunkymail-a17.g.dreamhost.com) (208.97.132.119)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Oct 2007 12:40:33 +0000
Received: from [192.168.0.3] (adsl-074-229-189-244.sip.rmo.bellsouth.net [74.229.189.244])
	by spunkymail-a17.g.dreamhost.com (Postfix) with ESMTP id 1C56274E54
	for <java-user@lucene.apache.org>; Fri,  5 Oct 2007 05:40:11 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <417798.74454.qm@web52712.mail.re2.yahoo.com>
References: <417798.74454.qm@web52712.mail.re2.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <8489F9B1-275E-4E42-8301-E415193E6C4D@apache.org>
Content-Transfer-Encoding: 7bit
From: Grant Ingersoll <gsingers@apache.org>
Subject: Re: Custom Search algorithm integration
Date: Fri, 5 Oct 2007 08:40:01 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org

You may want to look at the FunctionQuery capability, either in  
Lucene, or the expanded capabilities (recently added) in Solr.

-Grant

On Oct 4, 2007, at 2:39 PM, pp1907@yahoo.com wrote:

> Hi,
>
> Were planning to use Lucene or Solr within our
> application and wanted to know if it can support the
> following:
>
> Scenario:
> We have (say) 5 fields in a document which need to be
> indexed. 4 fields are indexed by Lucene. The 5th field
> is not indexed as it has data that cant be indexed or
> searched by Lucene.
>
> We have a special algorithm/API to search/match on the
> 5th field. Can this algorithm/API be integrated within
> Lucene/Solr so that if we pass the 5th field data as a
> query, the search engine will use our algorithm/API to
> search and return/display the results. The reason why
>  we want this to be integrated with Lucene/Solr are
> obvious - rely on Lucene/Solr's basic scalability /
> performance as well as integrate both  traditional
> searching capabilities and specialized searching for
> our end-user
>
> Is this possible to achieve in Lucene/Solr and if so,
> how. Would be nice to understand your thoughts as this
> is very critical for us.
>
> Appreciate your help. thank you.
>
> cheers
> Prakash
>
>
>
>
> ______________________________________________________________________ 
> ______________
> Yahoo! oneSearch: Finally, mobile search
> that gives answers, not web links.
> http://mobile.yahoo.com/mobileweb/onesearch?refer=1ONXIC
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

--------------------------
Grant Ingersoll
http://lucene.grantingersoll.com

Lucene Boot Camp Training:
ApacheCon Atlanta, Nov. 12, 2007.  Sign up now!  http:// 
www.apachecon.com

Lucene Helpful Hints:
http://wiki.apache.org/lucene-java/BasicsOfPerformance
http://wiki.apache.org/lucene-java/LuceneFAQ



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30489-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 05 16:23:54 2007
Return-Path: <java-user-return-30489-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88579 invoked from network); 5 Oct 2007 16:23:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Oct 2007 16:23:53 -0000
Received: (qmail 12522 invoked by uid 500); 5 Oct 2007 16:23:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12496 invoked by uid 500); 5 Oct 2007 16:23:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12485 invoked by uid 99); 5 Oct 2007 16:23:36 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Oct 2007 09:23:36 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [194.125.145.37] (HELO mercury.propylon.com) (194.125.145.37)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Oct 2007 16:23:38 +0000
Received: from propylon-sdsl.sdsl.esat.net ([193.120.101.26] helo=[192.168.213.155])
	by mercury.propylon.com with esmtp (Exim 4.50)
	id 1IdpuJ-00017k-Ql
	for java-user@lucene.apache.org; Fri, 05 Oct 2007 17:20:15 +0100
Message-ID: <470664E1.8020400@propylon.com>
Date: Fri, 05 Oct 2007 17:22:57 +0100
From: John Byrne <john.byrne@propylon.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-SA-Exim-Connect-IP: 193.120.101.26
X-SA-Exim-Mail-From: john.byrne@propylon.com
Subject: Querying the Query object
X-Spam-Checker-Version: SpamAssassin 3.0.3 (2005-04-27) on 
	mercury.propylon.com
X-Spam-Level: 
X-SA-Exim-Version: 4.2 (built Thu, 03 Mar 2005 10:44:12 +0100)
X-SA-Exim-Scanned: Yes (on mercury.propylon.com)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=0.1 required=5.0 tests=AWL autolearn=failed 
	version=3.0.3

Hi,

Is there any way to find out if an instance of Query has any terms 
within it? I have a custom parser (QueryParser does not do everything I 
need) and it somtimes creates empty BooleanQuerys. (This happens as a 
side effect of recursive parsing - even if there are no terms for a 
query, I still need to create it in case there turns out to be another 
query nested inside it.  ).

So I need to have a way of finding out if a query is blank, so that I 
can exclude it when creating my final query.

The documented "extractTerms" method apparently only works if the 
"rewrite" method is used first, and this requires an instance of 
IndexReader which is not feasible for me, since all this happens in a 
search servlet, and needs to be thread safe.

One way I have tried is to create a BooleanClause with the query, turn 
it into a string with "toString()" and then check if that string 
contains "()".

But I was hoping for a neater way!

Any suggestions?

Thanks!
JohnB


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30490-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 05 16:49:29 2007
Return-Path: <java-user-return-30490-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23606 invoked from network); 5 Oct 2007 16:49:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Oct 2007 16:49:28 -0000
Received: (qmail 45081 invoked by uid 500); 5 Oct 2007 16:49:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44352 invoked by uid 500); 5 Oct 2007 16:49:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44341 invoked by uid 99); 5 Oct 2007 16:49:10 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Oct 2007 09:49:10 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of markrmiller@gmail.com designates 209.85.132.244 as permitted sender)
Received: from [209.85.132.244] (HELO an-out-0708.google.com) (209.85.132.244)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Oct 2007 16:49:12 +0000
Received: by an-out-0708.google.com with SMTP id c5so88547anc
        for <java-user@lucene.apache.org>; Fri, 05 Oct 2007 09:48:51 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        bh=vAfEeCpAla/I2QbnQCmxnxlh0zKGEbMNEWXYAS8FPag=;
        b=UHWn/s6T6lKfqVjT26IF7RbzKSAF6EZ/C0DNgMqfBkhLHQ+A8x/Q39inmUIVd2lXYowbSi34MfIA3XZMnwoHNBAtlNnunnvk1sQBObasJ1scQbzdJbNMOB5uJqDGh3Wxzox+zNx1HdQ9AHYg+OcW73newiVD8CUl3tPXmrVMxaI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=aC28Ay9u28U+CAQ8ew/QiMWRFpD5qRdr2AcHlwCeznf2m/Hn5l7p6bx/LcnepXpt5iqqQKMJgCIqTRI/CwQwe4ziJBpQS1Y/feBwWU6fBm39Ru5k63mpdrKjQjJFc7I3LiGYAz/TNDK5IobIBSuhZsIbN86Zj0M8tdpab2/0Vdc=
Received: by 10.142.148.7 with SMTP id v7mr1831261wfd.1191602930362;
        Fri, 05 Oct 2007 09:48:50 -0700 (PDT)
Received: from ?192.168.1.108? ( [69.124.234.183])
        by mx.google.com with ESMTPS id 10sm25860wrl.2007.10.05.09.48.48
        (version=SSLv3 cipher=RC4-MD5);
        Fri, 05 Oct 2007 09:48:49 -0700 (PDT)
Message-ID: <47066AEE.4070505@gmail.com>
Date: Fri, 05 Oct 2007 12:48:46 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Querying the Query object
References: <470664E1.8020400@propylon.com>
In-Reply-To: <470664E1.8020400@propylon.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

What makes you think the query needs to be rewritten to extract terms? 
Not the case...unless you want to extract Terms from say, a Wildcard or 
Fuzzy query. In that case you need an IndexReader however, as the terms 
in the Wildcard/Fuzzy query are determined by what is in your index...

I am also confused by your thread safety concern...

- Mark

John Byrne wrote:
> Hi,
>
> Is there any way to find out if an instance of Query has any terms 
> within it? I have a custom parser (QueryParser does not do everything 
> I need) and it somtimes creates empty BooleanQuerys. (This happens as 
> a side effect of recursive parsing - even if there are no terms for a 
> query, I still need to create it in case there turns out to be another 
> query nested inside it.  ).
>
> So I need to have a way of finding out if a query is blank, so that I 
> can exclude it when creating my final query.
>
> The documented "extractTerms" method apparently only works if the 
> "rewrite" method is used first, and this requires an instance of 
> IndexReader which is not feasible for me, since all this happens in a 
> search servlet, and needs to be thread safe.
>
> One way I have tried is to create a BooleanClause with the query, turn 
> it into a string with "toString()" and then check if that string 
> contains "()".
>
> But I was hoping for a neater way!
>
> Any suggestions?
>
> Thanks!
> JohnB
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30491-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 05 17:55:28 2007
Return-Path: <java-user-return-30491-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86686 invoked from network); 5 Oct 2007 17:55:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Oct 2007 17:55:27 -0000
Received: (qmail 49256 invoked by uid 500); 5 Oct 2007 17:55:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49227 invoked by uid 500); 5 Oct 2007 17:55:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49215 invoked by uid 99); 5 Oct 2007 17:55:09 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Oct 2007 10:55:09 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [208.69.42.181] (HELO radix.cryptio.net) (208.69.42.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Oct 2007 17:55:12 +0000
Received: by radix.cryptio.net (Postfix, from userid 1007)
	id 149DF71C1D2; Fri,  5 Oct 2007 10:54:51 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by radix.cryptio.net (Postfix) with ESMTP id 112B771C1CA
	for <java-user@lucene.apache.org>; Fri,  5 Oct 2007 10:54:51 -0700 (PDT)
Date: Fri, 5 Oct 2007 10:54:51 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Generalized proximity query performance
In-Reply-To: <a76d475c0710031717y526af717p50b4ec4d254e4841@mail.gmail.com>
Message-ID: <Pine.LNX.4.62.0710051050260.23452@radix.cryptio.net>
References: <a76d475c0710031717y526af717p50b4ec4d254e4841@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

: I am using a hand rolled query of the following form (implemented with
: SpanNearQuery, not a sloppy PhraseQuery):
: a b c => +(a AND b AND c) OR "a b"~5 OR "b c"~5
: 
: The obvious solution, "a b c"~5, is not applicable for my issues, because I
: would like to allow for the possibility that a and b are near each other in
: one field, while c is in another field.

Hmmm.. can you give some more concrete examples of what you mean by this?  
both in terms of the use case you are trying to satisfy, and in terms of 
how your current code works ... you don't have to post code or give away 
trade secrets, just describe it as a black box (ie: what is the input?, 
how do you know when to use fieldA vs fieldC,how do you decide when to 
make a span query vs an OR query?

based one what youv'e described so far, it's hard to udnerstand what it is 
you are doing -- which is important to udnerstand how to help you make it 
better/faster.

: Somewhat arbitrary benchmarks.

they do seem fairly arbitrary, especially since there are no units on the 
numbers, and no indication as to what "before" and "after" refer to...


: --------------
: Before:
: $ ./bench.rb "paris hilton"
: 0.022000   0.000000   0.022000 (  0.021000)
: $ ./bench.rb "paris hilton goes to jail"
: 0.024000   0.000000   0.024000 (  0.024000)
: 
: After:
: $> ./bench.rb "paris hilton"
: 0.103000   0.000000   0.103000 (  0.103000)
: $> ./bench.rb "paris hilton goes to jail"
: 1.514000   0.000000   1.514000 (  1.513000)




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30492-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 05 18:22:58 2007
Return-Path: <java-user-return-30492-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4915 invoked from network); 5 Oct 2007 18:22:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Oct 2007 18:22:57 -0000
Received: (qmail 89561 invoked by uid 500); 5 Oct 2007 18:22:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89537 invoked by uid 500); 5 Oct 2007 18:22:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89525 invoked by uid 99); 5 Oct 2007 18:22:40 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Oct 2007 11:22:40 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lists@nabble.com designates 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Oct 2007 18:22:41 +0000
Received: from isper.nabble.com ([192.168.236.156])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <lists@nabble.com>)
	id 1Idrob-0006Mn-6m
	for java-user@lucene.apache.org; Fri, 05 Oct 2007 11:22:21 -0700
Message-ID: <13064913.post@talk.nabble.com>
Date: Fri, 5 Oct 2007 11:22:21 -0700 (PDT)
From: sumittyagi <ping.sumit@gmail.com>
To: java-user@lucene.apache.org
Subject: got stuck in running lucene demo
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: ping.sumit@gmail.com
X-Virus-Checked: Checked by ClamAV on apache.org


hi,
ihave just downloaded lucene 2.2.0 and tomcat, and have set my classpaths ,
now i am got stuck at the very first stage of indexing files, which ask me
to do like this
java org.apache.lucene.demo.IndexFiles {full-path-to-lucene}/src

i dont know from which directory i have to execute this command.
please help me regarding this
thanks
-- 
View this message in context: http://www.nabble.com/got-stuck-in-running-lucene-demo-tf4576912.html#a13064913
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30493-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 05 18:23:48 2007
Return-Path: <java-user-return-30493-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5379 invoked from network); 5 Oct 2007 18:23:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Oct 2007 18:23:47 -0000
Received: (qmail 92319 invoked by uid 500); 5 Oct 2007 18:23:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92295 invoked by uid 500); 5 Oct 2007 18:23:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92284 invoked by uid 99); 5 Oct 2007 18:23:29 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Oct 2007 11:23:29 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of mike.klaas@gmail.com designates 209.85.198.188 as permitted sender)
Received: from [209.85.198.188] (HELO rv-out-0910.google.com) (209.85.198.188)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Oct 2007 18:23:31 +0000
Received: by rv-out-0910.google.com with SMTP id k20so155009rvb
        for <java-user@lucene.apache.org>; Fri, 05 Oct 2007 11:23:10 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        bh=/kTJbgdXjYIvEUMD6y0fIQjIQqO4SggK9XKZw0ntkjE=;
        b=dmlTSDDNhvZKv/qrdUUwziWTc1EmCZisVNuIwWPFDj4kuxT6YL3s90pkKtZBWGwL+GFQJM6CyuE0M2jRHUE3bavY6B2tWyFRYopqDdz/28BbhOkeXHzCDHMoeIl/xovdkzXC3Z56l7F0HmtZ/Bqn6X90+CXy6z4ZF5ilg4qU/sc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=PGQJGj+Eo1SJL/0bycec0uHAPXU49I3caeZsNfazduMohlwXYi7IHE3ruDR+jMwOsLycj2JcpFBaF+Euxig5U3YSH4U2AvfF7xkygP4OCxYgec75j+Q2Dwu36kQNoIR4ekcjyh51eRn19nowDcr9AQwhvVT8NRlahvOWq1+YIlM=
Received: by 10.140.158.4 with SMTP id g4mr463893rve.1191608590166;
        Fri, 05 Oct 2007 11:23:10 -0700 (PDT)
Received: from ?192.168.1.104? ( [24.82.155.191])
        by mx.google.com with ESMTPS id z20sm2182353pod.2007.10.05.11.23.08
        (version=TLSv1/SSLv3 cipher=OTHER);
        Fri, 05 Oct 2007 11:23:08 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <Pine.LNX.4.62.0710051050260.23452@radix.cryptio.net>
References: <a76d475c0710031717y526af717p50b4ec4d254e4841@mail.gmail.com> <Pine.LNX.4.62.0710051050260.23452@radix.cryptio.net>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <B4C30241-C35B-49B4-BE3B-FAA8A4DB4E11@gmail.com>
Content-Transfer-Encoding: 7bit
From: Mike Klaas <mike.klaas@gmail.com>
Subject: Re: Generalized proximity query performance
Date: Fri, 5 Oct 2007 11:23:07 -0700
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

On 5-Oct-07, at 10:54 AM, Chris Hostetter wrote:

> : I am using a hand rolled query of the following form (implemented  
> with
> : SpanNearQuery, not a sloppy PhraseQuery):
> : a b c => +(a AND b AND c) OR "a b"~5 OR "b c"~5
> :
> : The obvious solution, "a b c"~5, is not applicable for my issues,  
> because I
> : would like to allow for the possibility that a and b are near  
> each other in
> : one field, while c is in another field.
>
> Hmmm.. can you give some more concrete examples of what you mean by  
> this?
> both in terms of the use case you are trying to satisfy, and in  
> terms of
> how your current code works ... you don't have to post code or give  
> away
> trade secrets, just describe it as a black box (ie: what is the  
> input?,
> how do you know when to use fieldA vs fieldC,how do you decide when to
> make a span query vs an OR query?
>
> based one what youv'e described so far, it's hard to udnerstand  
> what it is
> you are doing -- which is important to udnerstand how to help you  
> make it
> better/faster.

I understand the OP to want a PhraseQuery that has an intention  
(rather than side-effect) of doing proximity-based scoring.

"phrase query here"~1000 is the current hack that performs fine for N  
< 3 query terms, but fails currently for N >= 3 since it requires  
that all the terms be present.  For larger queries, this effectively  
nullifies the usefulness of the phrase query approach.

It doesn't seem to me that writing a variant of PhraseQuery that has  
the desired functionality would be _too_ hard, but I haven't looked  
into it in depth.

-Mike



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30494-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 05 18:29:27 2007
Return-Path: <java-user-return-30494-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9750 invoked from network); 5 Oct 2007 18:29:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Oct 2007 18:29:26 -0000
Received: (qmail 4981 invoked by uid 500); 5 Oct 2007 18:29:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4948 invoked by uid 500); 5 Oct 2007 18:29:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4931 invoked by uid 99); 5 Oct 2007 18:29:04 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Oct 2007 11:29:04 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [208.69.42.181] (HELO radix.cryptio.net) (208.69.42.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Oct 2007 18:28:52 +0000
Received: by radix.cryptio.net (Postfix, from userid 1007)
	id E73B471C1DE; Fri,  5 Oct 2007 11:27:53 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by radix.cryptio.net (Postfix) with ESMTP id E3C3C71C1D3
	for <java-user@lucene.apache.org>; Fri,  5 Oct 2007 11:27:53 -0700 (PDT)
Date: Fri, 5 Oct 2007 11:27:53 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Generalized proximity query performance
In-Reply-To: <B4C30241-C35B-49B4-BE3B-FAA8A4DB4E11@gmail.com>
Message-ID: <Pine.LNX.4.62.0710051126050.29876@radix.cryptio.net>
References: <a76d475c0710031717y526af717p50b4ec4d254e4841@mail.gmail.com>
 <Pine.LNX.4.62.0710051050260.23452@radix.cryptio.net>
 <B4C30241-C35B-49B4-BE3B-FAA8A4DB4E11@gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: > : would like to allow for the possibility that a and b are near each other
: > in
: > : one field, while c is in another field.

: I understand the OP to want a PhraseQuery that has an intention (rather than
: side-effect) of doing proximity-based scoring.
: 
: "phrase query here"~1000 is the current hack that performs fine for N < 3
: query terms, but fails currently for N >= 3 since it requires that all the
: terms be present.  For larger queries, this effectively nullifies the
: usefulness of the phrase query approach.

that's what i thought first too, and it is a problem i'd eventaully like 
to tackle ... it was the part about "c" being in a differnet field from 
"a" and "b" that confused me ... i don't know what that exactly is being 
suggested here.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30495-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 05 18:33:16 2007
Return-Path: <java-user-return-30495-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11661 invoked from network); 5 Oct 2007 18:33:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Oct 2007 18:33:15 -0000
Received: (qmail 10866 invoked by uid 500); 5 Oct 2007 18:32:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10823 invoked by uid 500); 5 Oct 2007 18:32:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10812 invoked by uid 99); 5 Oct 2007 18:32:58 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Oct 2007 11:32:58 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of mike.klaas@gmail.com designates 209.85.198.190 as permitted sender)
Received: from [209.85.198.190] (HELO rv-out-0910.google.com) (209.85.198.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Oct 2007 18:32:59 +0000
Received: by rv-out-0910.google.com with SMTP id k20so156879rvb
        for <java-user@lucene.apache.org>; Fri, 05 Oct 2007 11:32:38 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        bh=mCr/TRBiiaCJQ/BVM5ZsA0bYcfjcIVNu1sXEqdTyKf0=;
        b=nkn0Jruz1GQYO0VjVo41rmsVoCqkn9nj8FKEdjEgJigCq1zo1jv1ZYAjyvqBgAgrIrRSB0h0VTo1fKFLcCJ8JHuco1zUHcVcr8giyIL3KTbhCkbzUAm6TRDjeFkJM0YhZc1oe9rKrMMdqDV/6X4QWeSPldyeyKOIjRRpUqGeyqk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=sXeevVk3c+Wdttq7CVGo8OC3CZ5luLmkOTxg3nDRNGnDc+H6bLa7daOtB5EC+8lSMcuVGkAnB4h66h6dbKjMgYQO9RX5UJCJfiD3isBwqLCo+1Ju4/FmOB4Q6EO5WRlJIh+Qx/VAb73hxAJ7Klg1DTBtg8tNpRF/DhBvFKruKBE=
Received: by 10.140.207.2 with SMTP id e2mr1850846rvg.1191609158095;
        Fri, 05 Oct 2007 11:32:38 -0700 (PDT)
Received: from ?192.168.1.104? ( [24.82.155.191])
        by mx.google.com with ESMTPS id z20sm2185654pod.2007.10.05.11.32.37
        (version=TLSv1/SSLv3 cipher=OTHER);
        Fri, 05 Oct 2007 11:32:37 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <Pine.LNX.4.62.0710051126050.29876@radix.cryptio.net>
References: <a76d475c0710031717y526af717p50b4ec4d254e4841@mail.gmail.com> <Pine.LNX.4.62.0710051050260.23452@radix.cryptio.net> <B4C30241-C35B-49B4-BE3B-FAA8A4DB4E11@gmail.com> <Pine.LNX.4.62.0710051126050.29876@radix.cryptio.net>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <C309BADC-FBB6-4B05-B4B6-6965CFF333AA@gmail.com>
Content-Transfer-Encoding: 7bit
From: Mike Klaas <mike.klaas@gmail.com>
Subject: Re: Generalized proximity query performance
Date: Fri, 5 Oct 2007 11:32:36 -0700
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

On 5-Oct-07, at 11:27 AM, Chris Hostetter wrote:

>
> that's what i thought first too, and it is a problem i'd eventaully  
> like
> to tackle ... it was the part about "c" being in a differnet field  
> from
> "a" and "b" that confused me ... i don't know what that exactly is  
> being
> suggested here.

I'm thinking of the dismax model: you still want each keyword to  
match (though possibly in different fields).  I don't really think  
that that is appropriate to through into a single query class.   
Having separate match/boost clauses is better.

-Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30496-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 05 19:51:18 2007
Return-Path: <java-user-return-30496-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44361 invoked from network); 5 Oct 2007 19:51:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Oct 2007 19:51:17 -0000
Received: (qmail 2815 invoked by uid 500); 5 Oct 2007 19:50:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2775 invoked by uid 500); 5 Oct 2007 19:50:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2764 invoked by uid 99); 5 Oct 2007 19:50:58 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Oct 2007 12:50:58 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of vivextra@gmail.com designates 64.233.162.237 as permitted sender)
Received: from [64.233.162.237] (HELO nz-out-0506.google.com) (64.233.162.237)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Oct 2007 19:51:01 +0000
Received: by nz-out-0506.google.com with SMTP id i28so461447nzi
        for <java-user@lucene.apache.org>; Fri, 05 Oct 2007 12:50:40 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        bh=UIscBf7teke6DkxrtE9JQMUUMHqnCldWbQmcPz3geus=;
        b=RD6PdSCeJcd+CvyGsPJ58mPgWBFACcyjD/MWn9ib9tZetGRbnubv8/8iqwupNaYS0iLS7FhLdDIlZHdMT8TPuJjOCxK6GxOQbYgR5a70onUnyUJJKhixiNvJiP1G5sCCS+SxVr7Cwk29GzOawXVPENZskPDJ/XBWXFoJpcjDz8w=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=JGx/TQzp8DC/mAaVTH0yMch69+ach9iWke91e1qe0rfIviakaVPVQGs/p0InMcpfZJ5zaURZu6y8HvVQ1Gbx2lfEZ1XuxqvxnPLd+G7pX2xnum+BnOBg+IHHi94PgWg88wJmJyDipgBVM1nalM3UaRsvNiepgfHKnMAkqJh8ff8=
Received: by 10.114.146.1 with SMTP id t1mr2439073wad.1191613839585;
        Fri, 05 Oct 2007 12:50:39 -0700 (PDT)
Received: by 10.114.14.11 with HTTP; Fri, 5 Oct 2007 12:50:39 -0700 (PDT)
Message-ID: <a206fb7e0710051250y3a264fedwb41e2a34a328d186@mail.gmail.com>
Date: Fri, 5 Oct 2007 12:50:39 -0700
From: "vivek sar" <vivextra@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Help with Lucene Indexer crash recovery
In-Reply-To: <1191585112.19609.1214311329@webmail.messagingengine.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <a206fb7e0710041830y15d483f3tb1efa75e3a968e8e@mail.gmail.com>
	 <1191585112.19609.1214311329@webmail.messagingengine.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Thanks for the response Michael.

Sorry, I'm using Lucene 2.2. We are using Lucene to index our database
(Oracle) into documents for full-text search feature. Here is the
process of indexing,

1) Have two IndexWriters which run in two different threads and write
to two different directories (temporary indexes). They both read from
the same queue (db resultset queue) and then right to the index. Close
the indexwriters once done.
2) Once the IndexWriters are done we start the MasterIndex, which is
another IndexWriter. This merges the indexes in those two temporary
indexes.
3) Once the writer.addIndexes is done I call writer.optimize() and
then writer.close().
4) Our IndexSearcher reads only from the MasterIndex

Once in a while we kill the running application using "kill -9". I
think if the IndexWriter is in process of merging and we kill it we
run into this problem. It has already happened few times in last one
week. I do clean up the lock if there is a write.lock at the startup
of the system. I can not recreate the index as it may take hours to
re-index.

I don't have any shutdown hook right now, but I'm thinking of adding
one for graceful index closing.  We use following merge parameters,

mergeFactor=100
maxMergeDocs=99999
maxBufferedDocs=1000

I can try out your tool, is it something that can be integrated into
the application itself? So, basically I'm looking to catch the
"FileNotFoundException" and take some action to recover from it.

Thanks,
-vivek



On 10/5/07, Michael McCandless <lucene@mikemccandless.com> wrote:
> "vivek sar" <vivextra@gmail.com> wrote:
>
> > We are using Lucene 2.3.
>
> Do you mean Lucene 2.2?  Your stack trace seems to line up with 2.2,
> and 2.3 isn't quite released yet.
>
> > The problem we are facing is quite a few times if our application is
> > stopped (killed or crash) while Indexer is doing its job, the next
> > time when we bring up the application the Indexer fails to run with
> > the following exception,
>
> > 2007-10-04 12:29:53,089 ERROR [PS thread 10] IndexerJob - Full-text
> > indexer failed to index
> > java.io.FileNotFoundException:
> > /opt/manager/apps/conf/index/MasterIndex/_llb.cfs (No such file or
> > directory)
> >         at java.io.RandomAccessFile.open(Native Method)
> >         at java.io.RandomAccessFile.<init>(Unknown Source)
> >         at
> >         org.apache.lucene.store.FSDirectory$FSIndexInput$Descriptor.<init>(FSDirectory.java:506)
> >         at
> >         org.apache.lucene.store.FSDirectory$FSIndexInput.<init>(FSDirectory.java:536)
> >         at
> >         org.apache.lucene.store.FSDirectory.openInput(FSDirectory.java:445)
> >         at
> >         org.apache.lucene.index.CompoundFileReader.<init>(CompoundFileReader.java:70)
> >         at
> >         org.apache.lucene.index.SegmentReader.initialize(SegmentReader.java:181)
> >         at
> >         org.apache.lucene.index.SegmentReader.get(SegmentReader.java:167)
> >         at
> >         org.apache.lucene.index.SegmentReader.get(SegmentReader.java:131)
> >         at
> >         org.apache.lucene.index.IndexReader$1.doBody(IndexReader.java:206)
> >         at
> >         org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:610)
> >
> > The search also doesn't work after this.
>
> Can you share some details of how you are using Lucene, and, how/why
> it's killed or crashed so often?  When it crashes, do you get an
> exception from Lucene (which could be the root cause here)?
>
> What OS and filesystem is the index on?  Are you changing any default
> settings like autoCommit, lock factory & lock file location, etc?
>
> Even if Lucene (JVM) is killed, the index should not become corrupt in
> this particular way, unless the IO system fails to complete its
> "write" operations.  Lucene always writes & closes new segments files
> (_llb.cfs) before writing the segments_N file that refers to them.
>
> > Looks like the index were left in some weird state (might be
> > corrupted). I was wondering if there is a tool or a way to repair the
> > indexes if we are not able to open them at run-time?
>
> I just took a first stab at just such a tool, here:
>
>   https://issues.apache.org/jira/browse/LUCENE-1020
>
> Please be very very careful!: I just wrote this code and it could have
> some horrible bug that destroys your index.  So make a backup of your
> index first.
>
> Could you first run that tool without the "-fix" option and post back
> the resulting output?
>
> Mike
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30497-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 05 21:12:42 2007
Return-Path: <java-user-return-30497-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64815 invoked from network); 5 Oct 2007 21:12:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Oct 2007 21:12:42 -0000
Received: (qmail 74681 invoked by uid 500); 5 Oct 2007 21:12:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74643 invoked by uid 500); 5 Oct 2007 21:12:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74630 invoked by uid 99); 5 Oct 2007 21:12:24 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Oct 2007 14:12:24 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of fizx.list@gmail.com designates 209.85.132.250 as permitted sender)
Received: from [209.85.132.250] (HELO an-out-0708.google.com) (209.85.132.250)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Oct 2007 21:12:27 +0000
Received: by an-out-0708.google.com with SMTP id c5so100534anc
        for <java-user@lucene.apache.org>; Fri, 05 Oct 2007 14:12:06 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=hylCEqBLkSqe06XuVdgvjqgpNGRE4+YS4bxYHHsa0Uc=;
        b=Kk1xhyVqLVyhwasYOb21yrHHxsRHQgs/EhesV/DgZzI3JvknMPOhILbc8azqeYxX8N6O6R/51PqTtXycIy06DFyiGs9yc+tylfyME6gxcE/8eSA0kVKL9DHoH/Prh76nXEHHE74u7Po37M7HTylqGqZtA9X3DqhZvHLy/I3k+g4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=kCmXi1qHOTeYSAYs5M2o+slPzxWmxSy3ZOE0XMAXgAOC+3HkSIO6ETMfzvsv5PXM0Mihx08ga2+QcrpjWm0wTpIsIOOsuxzB1EHNA13w7C1Y/cSZJwTWBXkOWHghKufYHRePKSXFLdC3crTv3rI3GMGAG+Yz/7mh7l2iVqLngXE=
Received: by 10.143.33.19 with SMTP id l19mr1800927wfj.1191618725353;
        Fri, 05 Oct 2007 14:12:05 -0700 (PDT)
Received: by 10.142.12.7 with HTTP; Fri, 5 Oct 2007 14:12:05 -0700 (PDT)
Message-ID: <a76d475c0710051412y24c0d758q9ee4f16ceec8dacc@mail.gmail.com>
Date: Fri, 5 Oct 2007 14:12:05 -0700
From: "Kyle Maxwell" <fizx.list@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Generalized proximity query performance
In-Reply-To: <Pine.LNX.4.62.0710051050260.23452@radix.cryptio.net>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_15429_22654674.1191618725303"
References: <a76d475c0710031717y526af717p50b4ec4d254e4841@mail.gmail.com>
	 <Pine.LNX.4.62.0710051050260.23452@radix.cryptio.net>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_15429_22654674.1191618725303
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

>
> Hmmm.. can you give some more concrete examples of what you mean by this?
> both in terms of the use case you are trying to satisfy, and in terms of
> how your current code works ... you don't have to post code or give away
> trade secrets, just describe it as a black box (ie: what is the input?,
> how do you know when to use fieldA vs fieldC,how do you decide when to
> make a span query vs an OR query?


I have a title field, and a genre field.  A user enters the query:
harry potter books

If I could intelligently rewrite queries, this would be better formulated
as:
title:"harry potter"~5 genre:books


Instead, since I don't have that knowledge, I should perhaps rewrite several
guesses, and take the dismax.  These guesses are equivalent to passing the
following query through the MultiFieldQueryParser:

("harry potter"~5 AND books) OR (harry AND "potter books"~5)

This is rather slow.  The in the before/after, the numbers are in seconds,
for one query, before and after this transformation has been made.


Hope that clears things up

-Kyle

------=_Part_15429_22654674.1191618725303--

From java-user-return-30498-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 05 23:03:39 2007
Return-Path: <java-user-return-30498-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4979 invoked from network); 5 Oct 2007 23:03:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Oct 2007 23:03:38 -0000
Received: (qmail 85128 invoked by uid 500); 5 Oct 2007 23:03:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85094 invoked by uid 500); 5 Oct 2007 23:03:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85083 invoked by uid 99); 5 Oct 2007 23:03:21 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Oct 2007 16:03:21 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [208.69.42.181] (HELO radix.cryptio.net) (208.69.42.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Oct 2007 23:03:24 +0000
Received: by radix.cryptio.net (Postfix, from userid 1007)
	id 08F6271C110; Fri,  5 Oct 2007 16:03:03 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by radix.cryptio.net (Postfix) with ESMTP id EC50871C0FE
	for <java-user@lucene.apache.org>; Fri,  5 Oct 2007 16:03:03 -0700 (PDT)
Date: Fri, 5 Oct 2007 16:03:03 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Querying the Query object
In-Reply-To: <470664E1.8020400@propylon.com>
Message-ID: <Pine.LNX.4.62.0710051600170.28363@radix.cryptio.net>
References: <470664E1.8020400@propylon.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: Is there any way to find out if an instance of Query has any terms within it?
: I have a custom parser (QueryParser does not do everything I need) and it
: somtimes creates empty BooleanQuerys. (This happens as a side effect of

so you're problem is not "does a Query have any terms in it" it's "does a 
BooleanQuery have any clauses in it?" ... booleanQuery.clauses().size() 
will answer that question for you.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30499-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 05 23:20:17 2007
Return-Path: <java-user-return-30499-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13882 invoked from network); 5 Oct 2007 23:20:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Oct 2007 23:20:16 -0000
Received: (qmail 98571 invoked by uid 500); 5 Oct 2007 23:19:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98542 invoked by uid 500); 5 Oct 2007 23:19:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98531 invoked by uid 99); 5 Oct 2007 23:19:59 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Oct 2007 16:19:59 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [208.69.42.181] (HELO radix.cryptio.net) (208.69.42.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Oct 2007 23:19:59 +0000
Received: by radix.cryptio.net (Postfix, from userid 1007)
	id 2FCA471C0B6; Fri,  5 Oct 2007 16:19:39 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by radix.cryptio.net (Postfix) with ESMTP id 241CE71C083
	for <java-user@lucene.apache.org>; Fri,  5 Oct 2007 16:19:39 -0700 (PDT)
Date: Fri, 5 Oct 2007 16:19:39 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Help with Lucene Indexer crash recovery
In-Reply-To: <a206fb7e0710051250y3a264fedwb41e2a34a328d186@mail.gmail.com>
Message-ID: <Pine.LNX.4.62.0710051605120.28363@radix.cryptio.net>
References: <a206fb7e0710041830y15d483f3tb1efa75e3a968e8e@mail.gmail.com> 
 <1191585112.19609.1214311329@webmail.messagingengine.com>
 <a206fb7e0710051250y3a264fedwb41e2a34a328d186@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: Once in a while we kill the running application using "kill -9". I

To quote a great man, who frequently quotes another great man: "Well 
there's your problem!"

stop using "kill -9" ... i'll say it again because it's important, and 
i'm even going to violate etiquite and use all caps because it's *that* 
important...

	STOP USING KILL -9

...it's an abhorent practice that too many people make a habit of. SIGKILL 
(the signal sent when you run "kill -9") is ment to be a last resort only 
if you can't get a rogue process to stop by any other means.  Instead of 
using kill -9, add some sort of notification mechanism to your application 
so you can trigger graceful shutdowns, or at the very least just use 
"kill" (no -9) so that the process (the JVM) can at least exit on it's own 
and do basic buffer flushing and file handle closing.

: I don't have any shutdown hook right now, but I'm thinking of adding
: one for graceful index closing.  We use following merge parameters,

When you use SIGKILL the process has no idea it's about to die ... it is 
given no notice, it is wiped off the face of the earth in one blinding 
atomic action -- so a shutdown hook isn't going to do you any good if you 
keep using kill -9.

http://en.wikipedia.org/wiki/SIGKILL
http://speculation.org/garrick/kill-9.html

-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30500-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 06 00:13:28 2007
Return-Path: <java-user-return-30500-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34047 invoked from network); 6 Oct 2007 00:13:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 6 Oct 2007 00:13:27 -0000
Received: (qmail 24753 invoked by uid 500); 6 Oct 2007 00:13:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24716 invoked by uid 500); 6 Oct 2007 00:13:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24704 invoked by uid 99); 6 Oct 2007 00:13:09 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Oct 2007 17:13:09 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 80.76.149.213 is neither permitted nor denied by domain of karl.wettin@gmail.com)
Received: from [80.76.149.213] (HELO ch-smtp02.sth.basefarm.net) (80.76.149.213)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 Oct 2007 00:13:11 +0000
Received: from c83-249-118-113.bredband.comhem.se ([83.249.118.113]:50083 helo=[192.168.1.101])
	by ch-smtp02.sth.basefarm.net with esmtp (Exim 4.66)
	(envelope-from <karl.wettin@gmail.com>)
	id 1IdxEj-0003sR-72
	for java-user@lucene.apache.org; Sat, 06 Oct 2007 02:09:41 +0200
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <a206fb7e0710051250y3a264fedwb41e2a34a328d186@mail.gmail.com>
References: <a206fb7e0710041830y15d483f3tb1efa75e3a968e8e@mail.gmail.com> <1191585112.19609.1214311329@webmail.messagingengine.com> <a206fb7e0710051250y3a264fedwb41e2a34a328d186@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <8AAAE9EE-BF44-4CA3-9989-D96949536771@gmail.com>
Content-Transfer-Encoding: 7bit
From: Karl Wettin <karl.wettin@gmail.com>
Subject: Re: Help with Lucene Indexer crash recovery
Date: Sat, 6 Oct 2007 02:01:33 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Originating-IP: 83.249.118.113
X-Scan-Result: No virus found in message 1IdxEj-0003sR-72.
X-Scan-Signature: ch-smtp02.sth.basefarm.net 1IdxEj-0003sR-72 1f8adeadcce10cc78ce04cb5bb6ea9b4
X-Virus-Checked: Checked by ClamAV on apache.org


5 okt 2007 kl. 21.50 skrev vivek sar:

> Once the writer.addIndexes is done I call writer.optimize()

No biggie, but IndexWriter.addIndexes() will automatically optimize,  
so that is one line of code you can get rid of.

> it may take hours to re-index

/Perhaps/ using IndexWriter.addIndexesNoOptimize(), closing the  
index, making it accessable and then optimizing it in a new thread  
could bring the "master index" up for use noticeable sooner.


-- 
karl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30501-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 06 03:21:21 2007
Return-Path: <java-user-return-30501-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76626 invoked from network); 6 Oct 2007 03:21:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 6 Oct 2007 03:21:19 -0000
Received: (qmail 81511 invoked by uid 500); 6 Oct 2007 03:21:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81477 invoked by uid 500); 6 Oct 2007 03:21:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81466 invoked by uid 99); 6 Oct 2007 03:21:02 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Oct 2007 20:21:02 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of raghuram.nadiminti@gmail.com designates 64.233.182.185 as permitted sender)
Received: from [64.233.182.185] (HELO nf-out-0910.google.com) (64.233.182.185)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 Oct 2007 03:21:05 +0000
Received: by nf-out-0910.google.com with SMTP id d3so546618nfc
        for <java-user@lucene.apache.org>; Fri, 05 Oct 2007 20:20:43 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        bh=yQmOWiSF4TjpVgO+QWQL6TKEMVeifDOaFowTESefq5w=;
        b=Xgna1CHPGiiCOCkagrRc4klAgbC70WA5lN/O6J4/UUpOUlrIcaSrsPHpwUSrS4E7Ha9bx9BRwjaJgRWK5vNnz7QtRBpRQK+39YaKpwBaHv5NGqgHBmuXya9tF3QLlQRe5tMHb9urhXYYpqAN1WETB3YOyY7aw7eSzs/RSfXLN60=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=i5TQhXS0IoFh3//Cx4y8h6B5XBgbu/BTh3HwgrV39FrJhYXkOhQQnCcwtJZ/XW6AwITMcPWKD+EuYut3KXhskh4Jux8WQPmQlwjCBRV3Tg6lxpAYAVmnTLaIs8BB9W6aVMCkRR4kcm3D/iEn6OdA4cOrZyolaSU/07KKHq2SFgA=
Received: by 10.78.183.8 with SMTP id g8mr2631582huf.1191640843310;
        Fri, 05 Oct 2007 20:20:43 -0700 (PDT)
Received: by 10.78.167.15 with HTTP; Fri, 5 Oct 2007 20:20:43 -0700 (PDT)
Message-ID: <1e68ba6b0710052020p7dde2ffao291fcaf81161be6f@mail.gmail.com>
Date: Sat, 6 Oct 2007 08:50:43 +0530
From: "Raghu Ram" <raghuram.nadiminti@gmail.com>
To: java-user@lucene.apache.org
Subject: Group of documents.
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_29827_6000550.1191640843305"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_29827_6000550.1191640843305
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi,
      We have an application in which we want to index feeds. Each feed is a
collection of articles and some other metadata. The problem is that
sometimes we want to search for feeds and sometimes for articles. As far as
I know lucene doesn't provide any abstraction for grouping  its documents.
The only solution that we have in our minds now is to have two indexes one
for articles and one for feeds. There are two problems with this approach
1) redundancy
2) as feeds are just a collection of articles and get updated we have to
continuously update the document that represents the feed in the feed index.
Is this an efficient operation ??

Can we have any other solutions/hacks for this problem ??
Thanks.

------=_Part_29827_6000550.1191640843305--

From java-user-return-30502-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 06 08:07:20 2007
Return-Path: <java-user-return-30502-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41683 invoked from network); 6 Oct 2007 08:07:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 6 Oct 2007 08:07:19 -0000
Received: (qmail 62423 invoked by uid 500); 6 Oct 2007 08:07:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62074 invoked by uid 500); 6 Oct 2007 08:07:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62063 invoked by uid 99); 6 Oct 2007 08:07:01 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 Oct 2007 01:07:01 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of mnrz57@gmail.com designates 64.233.178.240 as permitted sender)
Received: from [64.233.178.240] (HELO hs-out-2021.google.com) (64.233.178.240)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 Oct 2007 08:07:01 +0000
Received: by hs-out-2021.google.com with SMTP id 54so52224hsz
        for <java-user@lucene.apache.org>; Sat, 06 Oct 2007 01:06:40 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        bh=2PDmxX7VsrD6dNdthhCqmmytHX7GqrGP5/Tf2RZuDL0=;
        b=IL5KwcfORe20CwHW/A3ihhzE/vjKO5kiu7K5vAPQPmuNetUz/H+sHOfsKR9zX6+xY5oY96ythFG9kQMhAmIMbUB9x7U8BdsGRoajnRgVC/jLvPdBjU4RITNARch/GU73MnnX0mxhEeGkf0stMLxtrgHMsGml0Yortn1848wyZFk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=NVPCZy7wKhn2rntDx9GFDTJsKWElyL6rb5wV0tZheaO/YCHIyh397ERc36QSf35XEBfzm4NdKTHaILaKhK6le3H9wmsIo6LLAfR7Fm9io+OBRD+lc54Zrj9on6mjs6lnWIwTKxB7Py3PNET/kjY007QQm1lNQBBhme5dI0VUbks=
Received: by 10.90.51.17 with SMTP id y17mr802721agy.1191658000032;
        Sat, 06 Oct 2007 01:06:40 -0700 (PDT)
Received: by 10.90.117.15 with HTTP; Sat, 6 Oct 2007 01:06:40 -0700 (PDT)
Message-ID: <34b8543c0710060106t37466a83u5364ec173dcbe310@mail.gmail.com>
Date: Sat, 6 Oct 2007 11:36:40 +0330
From: "Mohammad Norouzi" <mnrz57@gmail.com>
To: java-user@lucene.apache.org
Subject: lucene optimal configuration
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_38572_30366076.1191658000027"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_38572_30366076.1191658000027
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi everybody,
I always used lucene with its default configuration values.now I want to
know if there is any document in which initial values for configuring a
Lucene project is specified (values for Lucene, App Server and JDK).

if anyone had such experience on achieving best performance  of Lucene, we
are appreciate to hear about any settings they made on their application. I
know the applications are different but your experiences are, of course,
useful

thanks

-- 
Regards,
Mohammad
--------------------------
see my blog: http://brainable.blogspot.com/
another in Persian: http://fekre-motefavet.blogspot.com/
Sun Certified Java Programmer
ExpertsExchange Certified, Master:
http://www.experts-exchange.com/M_1938796.html

------=_Part_38572_30366076.1191658000027--

From java-user-return-30503-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 06 08:31:08 2007
Return-Path: <java-user-return-30503-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44235 invoked from network); 6 Oct 2007 08:31:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 6 Oct 2007 08:31:06 -0000
Received: (qmail 73431 invoked by uid 500); 6 Oct 2007 08:30:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73406 invoked by uid 500); 6 Oct 2007 08:30:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73395 invoked by uid 99); 6 Oct 2007 08:30:49 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 Oct 2007 01:30:49 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of chris.lu@gmail.com designates 64.233.182.190 as permitted sender)
Received: from [64.233.182.190] (HELO nf-out-0910.google.com) (64.233.182.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 Oct 2007 08:30:49 +0000
Received: by nf-out-0910.google.com with SMTP id d3so565069nfc
        for <java-user@lucene.apache.org>; Sat, 06 Oct 2007 01:30:28 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=TkCK3SfQNQr8ISezVi6g8Za1LKjFlJajsF967Er2vTs=;
        b=h0gVTKVEO0c5zuJ1gD/OD8lip+75POcdeqy4bx6PvbDu7xWVpSq1E2lHkfPZJauO5N3dTvseE/V+lTRXT5pPbLDo89tIVl2CplTv8avpHQ2v252RMs46IBp90O8DPT2QyCW5BiHGmOEdQNkFbF6PgZX/Vv5TiqLGCTH93U7D4fY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=PLCx0wuC0+BDgEkgaBMcMSqCmtZxB1h2NQ6+JyT4p4MmFvsqZDf2MTppb476VE/jtTWJAMrYvYeEfKtT0zzu5VNLcKtlmaYw4/6coblBtVHK5+E2YJJe0mfA3dbrTt6f+I7Csr3hZNmc5lKeXy/+Oer7gvLXKDqCcOXvU3O3/DQ=
Received: by 10.78.157.19 with SMTP id f19mr112917hue.1191659427691;
        Sat, 06 Oct 2007 01:30:27 -0700 (PDT)
Received: by 10.78.140.5 with HTTP; Sat, 6 Oct 2007 01:30:27 -0700 (PDT)
Message-ID: <6e3ae6310710060130m9acc4b3h732a846b906747aa@mail.gmail.com>
Date: Sat, 6 Oct 2007 01:30:27 -0700
From: "Chris Lu" <chris.lu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: lucene optimal configuration
In-Reply-To: <34b8543c0710060106t37466a83u5364ec173dcbe310@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_39601_21824389.1191659427686"
References: <34b8543c0710060106t37466a83u5364ec173dcbe310@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_39601_21824389.1191659427686
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

If in general, the default values should be good for general purpose.
It'll be good to know which part you want to optimize, and exactly what
problem you want to solve.

But even you get very specific, nobody can tell you what's the best
configuration.
You have to try to adjust most variables to fit your specific setup.

-- 
Chris Lu
-------------------------
Instant Scalable Full-Text Search On Any Database/Application
site: http://www.dbsight.net
demo: http://search.dbsight.com
Lucene Database Search in 3 minutes:
http://wiki.dbsight.com/index.php?title=Create_Lucene_Database_Search_in_3_minutes

On 10/6/07, Mohammad Norouzi <mnrz57@gmail.com> wrote:
>
> Hi everybody,
> I always used lucene with its default configuration values.now I want to
> know if there is any document in which initial values for configuring a
> Lucene project is specified (values for Lucene, App Server and JDK).
>
> if anyone had such experience on achieving best performance  of Lucene, we
> are appreciate to hear about any settings they made on their application.
> I
> know the applications are different but your experiences are, of course,
> useful
>
> thanks
>
> --
> Regards,
> Mohammad
> --------------------------
> see my blog: http://brainable.blogspot.com/
> another in Persian: http://fekre-motefavet.blogspot.com/
> Sun Certified Java Programmer
> ExpertsExchange Certified, Master:
> http://www.experts-exchange.com/M_1938796.html
>

------=_Part_39601_21824389.1191659427686--

From java-user-return-30504-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 06 08:35:39 2007
Return-Path: <java-user-return-30504-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44617 invoked from network); 6 Oct 2007 08:35:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 6 Oct 2007 08:35:37 -0000
Received: (qmail 75874 invoked by uid 500); 6 Oct 2007 08:35:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75837 invoked by uid 500); 6 Oct 2007 08:35:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75825 invoked by uid 99); 6 Oct 2007 08:35:20 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 Oct 2007 01:35:20 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [66.111.4.25] (HELO out1.smtp.messagingengine.com) (66.111.4.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 Oct 2007 08:35:20 +0000
Received: from compute1.internal (compute1.internal [10.202.2.41])
	by out1.messagingengine.com (Postfix) with ESMTP id 28C432F6E5
	for <java-user@lucene.apache.org>; Sat,  6 Oct 2007 04:31:50 -0400 (EDT)
Received: from web8.messagingengine.com ([10.202.2.217])
  by compute1.internal (MEProxy); Sat, 06 Oct 2007 04:31:50 -0400
Received: by web8.messagingengine.com (Postfix, from userid 99)
	id 0A3361D9D0; Sat,  6 Oct 2007 04:31:50 -0400 (EDT)
Message-Id: <1191659510.9901.1214451159@webmail.messagingengine.com>
X-Sasl-Enc: EJ7vYF9HfBBAwuxpDgtkuzUTOjJBlb6MgdeI+dnAAT0u 1191659510
From: "Michael McCandless" <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="ISO-8859-1"
MIME-Version: 1.0
X-Mailer: MessagingEngine.com Webmail Interface
References: <34b8543c0710060106t37466a83u5364ec173dcbe310@mail.gmail.com>
Subject: Re: lucene optimal configuration
In-Reply-To: <34b8543c0710060106t37466a83u5364ec173dcbe310@mail.gmail.com>
Date: Sat, 06 Oct 2007 04:31:50 -0400
X-Virus-Checked: Checked by ClamAV on apache.org


For tips on improving indexing performance, start here:

  http://wiki.apache.org/lucene-java/ImproveIndexingSpeed

And for searching performance, here:

  http://wiki.apache.org/lucene-java/ImproveSearchingSpeed

Mike

"Mohammad Norouzi" <mnrz57@gmail.com> wrote:
> Hi everybody,
> I always used lucene with its default configuration values.now I want to
> know if there is any document in which initial values for configuring a
> Lucene project is specified (values for Lucene, App Server and JDK).
> 
> if anyone had such experience on achieving best performance  of Lucene, we
> are appreciate to hear about any settings they made on their application. I
> know the applications are different but your experiences are, of course,
> useful
> 
> thanks
> 
> -- 
> Regards,
> Mohammad
> --------------------------
> see my blog: http://brainable.blogspot.com/
> another in Persian: http://fekre-motefavet.blogspot.com/
> Sun Certified Java Programmer
> ExpertsExchange Certified, Master:
> http://www.experts-exchange.com/M_1938796.html

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30505-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 06 09:07:50 2007
Return-Path: <java-user-return-30505-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49127 invoked from network); 6 Oct 2007 09:07:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 6 Oct 2007 09:07:49 -0000
Received: (qmail 86401 invoked by uid 500); 6 Oct 2007 09:07:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86357 invoked by uid 500); 6 Oct 2007 09:07:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86346 invoked by uid 99); 6 Oct 2007 09:07:31 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 Oct 2007 02:07:31 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [66.111.4.25] (HELO out1.smtp.messagingengine.com) (66.111.4.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 Oct 2007 09:07:34 +0000
Received: from compute2.internal (compute2.internal [10.202.2.42])
	by out1.messagingengine.com (Postfix) with ESMTP id CBA282F4D0
	for <java-user@lucene.apache.org>; Sat,  6 Oct 2007 05:04:03 -0400 (EDT)
Received: from web8.messagingengine.com ([10.202.2.217])
  by compute2.internal (MEProxy); Sat, 06 Oct 2007 05:04:03 -0400
Received: by web8.messagingengine.com (Postfix, from userid 99)
	id A98CADA1C; Sat,  6 Oct 2007 05:04:03 -0400 (EDT)
Message-Id: <1191661443.14232.1214452223@webmail.messagingengine.com>
X-Sasl-Enc: KSVaiwvW+HNFpZPIdE9eGUPdnA7rJrzWmfA9IneRiH1V 1191661443
From: "Michael McCandless" <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="ISO-8859-1"
MIME-Version: 1.0
X-Mailer: MessagingEngine.com Webmail Interface
References: <a206fb7e0710041830y15d483f3tb1efa75e3a968e8e@mail.gmail.com>
   <1191585112.19609.1214311329@webmail.messagingengine.com>
   <a206fb7e0710051250y3a264fedwb41e2a34a328d186@mail.gmail.com>
Subject: Re: Help with Lucene Indexer crash recovery
In-Reply-To: <a206fb7e0710051250y3a264fedwb41e2a34a328d186@mail.gmail.com>
Date: Sat, 06 Oct 2007 05:04:03 -0400
X-Virus-Checked: Checked by ClamAV on apache.org

"vivek sar" <vivextra@gmail.com> wrote:
> Sorry, I'm using Lucene 2.2. We are using Lucene to index our database
> (Oracle) into documents for full-text search feature. Here is the
> process of indexing,
> 
> 1) Have two IndexWriters which run in two different threads and write
> to two different directories (temporary indexes). They both read from
> the same queue (db resultset queue) and then right to the index. Close
> the indexwriters once done.
> 2) Once the IndexWriters are done we start the MasterIndex, which is
> another IndexWriter. This merges the indexes in those two temporary
> indexes.
> 3) Once the writer.addIndexes is done I call writer.optimize() and
> then writer.close().
> 4) Our IndexSearcher reads only from the MasterIndex

This process sounds fine, though as Karl pointed out you could
let the reader before you start the optimize.  You could also consider
skipping the optimize entirely, unless the search latency is in fact
too high (or throughput too low) without it.
 
> Once in a while we kill the running application using "kill -9". I
> think if the IndexWriter is in process of merging and we kill it we
> run into this problem. It has already happened few times in last one
> week. I do clean up the lock if there is a write.lock at the startup
> of the system. I can not recreate the index as it may take hours to
> re-index.

As Hoss pointed out, "kill -9" really should be a means of last
resort.

That said, it should never in fact cause index corruption, as far as I
know.  Lucene is "semi-transactional": at any & all moments you should
be able to destroy the JVM and the index will be unharmed. I would
really like to get to the bottom of why this is not the case here.

So you've noticed that if kill -9 is sent while the addIndexes is
happening then that can lead to this corruption?  If possible, could
you use IndexWriter.setInfoStream(...) during at least that step to
get verbose details about what the writer is doing, and then capture
that output & post it the next time you get this error to happen?
That would go a long ways to getting to the root cause here.

Which OS and file system are you using?  Are all these steps happening
on a single machine & JVM?

> I don't have any shutdown hook right now, but I'm thinking of adding
> one for graceful index closing.  We use following merge parameters,
> 
> mergeFactor=100
> maxMergeDocs=99999
> maxBufferedDocs=1000

Seems OK.

> I can try out your tool, is it something that can be integrated into
> the application itself? So, basically I'm looking to catch the
> "FileNotFoundException" and take some action to recover from it.

Well, once the tool has been tested and shown to be bug-free then you
could in theory use this as a live recovery inside the application.
But for starters I would run it from the command line without the
-check.  Be very careful: this is totally new code and it could make
your situation even worse, if it has any bugs.  And remember when the
tool works, it will have removed a whole segment from your index which
means possibly a great many documents are now gone.

Also, it would be far better to get to the root cause & fix it,
instead of having to use this tool perpetually.

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30506-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 06 09:33:02 2007
Return-Path: <java-user-return-30506-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54756 invoked from network); 6 Oct 2007 09:33:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 6 Oct 2007 09:33:00 -0000
Received: (qmail 93784 invoked by uid 500); 6 Oct 2007 09:32:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93756 invoked by uid 500); 6 Oct 2007 09:32:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 10476 invoked by uid 99); 6 Oct 2007 05:03:23 -0000
X-ASF-Spam-Status: No, hits=2.8 required=10.0
	tests=RCVD_IN_SBL,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=AY0HcsZaqGCRzHSTwvoOt1dzgnNsDySTIdgWtd0fMHqTFfqR6SRJOIvZRNwzozxmxyY3Xu58yVOYAjXqLDkTCPgN/OgE1uIbhfjpLaYbOxYZNR5OrU/QThhcQ+85J+TXEB3t4ZY09c5HyCstEsOEUnSQm5csc80pbYHqGlx0w2g=;
X-YMail-OSG: twLm_hAVM1mAFChXCUJetz14XRWtU.tv5eLmlKlN5tdS8xLwg7hNtUKaFSQ4FX.ARw--
Date: Fri, 5 Oct 2007 22:03:00 -0700 (PDT)
From: "pp1907@yahoo.com" <pp1907@yahoo.com>
Subject: Re: Custom Search algorithm integration
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
Message-ID: <45529.66988.qm@web52704.mail.re2.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Thank you Grant but FuntionQuery doesnt solve the
problem. Looks like I didnt explain the problem
properly. Let me try it again:
 
1. We have a document in which there are 4 text fields
and a image field.
2. We have a special algorithm to perform match based
on the image. In the sense, if 2 images are provided,
the algorithm can determine with a match result and a
score (which indicates likelihood of match)
 
We want to know how we can integrate the "image
matching" algorithm into Lucene/Solr. 
 
The search will happen through API only where the
image is passed and matched images from the index
needs to be given back as result.
 
Wanted to understand if we could achieve the
integration of this with Lucene/Solr so that both
search on text fields and images can happen.
 
Would be nice to hear your thoughts.
 
cheers
Prakash

Grant Ingersoll <gsingers@apache.org> wrote:
You may want to look at the FunctionQuery capability,
either in 
Lucene, or the expanded capabilities (recently added)
in Solr.

-Grant

On Oct 4, 2007, at 2:39 PM, pp1907@yahoo.com wrote:

> Hi,
>
> Were planning to use Lucene or Solr within our
> application and wanted to know if it can support the
> following:
>
> Scenario:
> We have (say) 5 fields in a document which need to
be
> indexed. 4 fields are indexed by Lucene. The 5th
field
> is not indexed as it has data that cant be indexed
or
> searched by Lucene.
>
> We have a special algorithm/API to search/match on
the
> 5th field. Can this algorithm/API be integrated
within
> Lucene/Solr so that if we pass the 5th field data as
a
> query, the search engine will use our algorithm/API
to
> search and return/display the results. The reason
why
> we want this to be integrated with Lucene/Solr are
> obvious - rely on Lucene/Solr's basic scalability /
> performance as well as integrate both traditional
> searching capabilities and specialized searching for
> our end-user
>
> Is this possible to achieve in Lucene/Solr and if
so,
> how. Would be nice to understand your thoughts as
this
> is very critical for us.
>
> Appreciate your help. thank you.
>
> cheers
> Prakash
>
>
>
>
>
______________________________________________________________________

> ______________
> Yahoo! oneSearch: Finally, mobile search
> that gives answers, not web links.
>
http://mobile.yahoo.com/mobileweb/onesearch?refer=1ONXIC
>
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
java-user-help@lucene.apache.org
>

--------------------------
Grant Ingersoll
http://lucene.grantingersoll.com

Lucene Boot Camp Training:
ApacheCon Atlanta, Nov. 12, 2007. Sign up now! http://

www.apachecon.com

Lucene Helpful Hints:
http://wiki.apache.org/lucene-java/BasicsOfPerformance
http://wiki.apache.org/lucene-java/LuceneFAQ



---------------------------------------------------------------------
To unsubscribe, e-mail:
java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail:
java-user-help@lucene.apache.org





       
____________________________________________________________________________________
Be a better Heartthrob. Get better relationship answers from someone who knows. Yahoo! Answers - Check it out. 
http://answers.yahoo.com/dir/?link=list&sid=396545433

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30507-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 06 11:43:48 2007
Return-Path: <java-user-return-30507-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34678 invoked from network); 6 Oct 2007 11:43:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 6 Oct 2007 11:43:47 -0000
Received: (qmail 34824 invoked by uid 500); 6 Oct 2007 11:43:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34803 invoked by uid 500); 6 Oct 2007 11:43:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34792 invoked by uid 99); 6 Oct 2007 11:43:29 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 Oct 2007 04:43:29 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [72.249.39.145] (HELO hubmed.org) (72.249.39.145)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 Oct 2007 11:43:32 +0000
Received: from [192.168.1.65] (host86-139-53-86.range86-139.btcentralplus.com [86.139.53.86])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by hubmed.org (Postfix) with ESMTP id 5DE7C7C112
	for <java-user@lucene.apache.org>; Sat,  6 Oct 2007 11:42:41 +0000 (UTC)
Message-ID: <470774AE.6070206@hubmed.org>
Date: Sat, 06 Oct 2007 12:42:38 +0100
From: Alf Eaton <lists@hubmed.org>
User-Agent: Thunderbird 2.0.0.6 (X11/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Group of documents.
References: <1e68ba6b0710052020p7dde2ffao291fcaf81161be6f@mail.gmail.com>
In-Reply-To: <1e68ba6b0710052020p7dde2ffao291fcaf81161be6f@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Raghu Ram wrote:
> Hi,
>       We have an application in which we want to index feeds. Each feed is a
> collection of articles and some other metadata. The problem is that
> sometimes we want to search for feeds and sometimes for articles. As far as
> I know lucene doesn't provide any abstraction for grouping  its documents.
> The only solution that we have in our minds now is to have two indexes one
> for articles and one for feeds. There are two problems with this approach
> 1) redundancy
> 2) as feeds are just a collection of articles and get updated we have to
> continuously update the document that represents the feed in the feed index.
> Is this an efficient operation ??
> 
> Can we have any other solutions/hacks for this problem ??

Add a multi-valued field to each article that says which feed(s) it's
found in?

alf

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30508-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 06 12:05:44 2007
Return-Path: <java-user-return-30508-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36805 invoked from network); 6 Oct 2007 12:05:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 6 Oct 2007 12:05:43 -0000
Received: (qmail 42841 invoked by uid 500); 6 Oct 2007 12:05:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42795 invoked by uid 500); 6 Oct 2007 12:05:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42784 invoked by uid 99); 6 Oct 2007 12:05:25 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 Oct 2007 05:05:25 -0700
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [208.97.132.202] (HELO spunkymail-a4.g.dreamhost.com) (208.97.132.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 Oct 2007 12:05:25 +0000
Received: from [192.168.0.3] (adsl-074-229-189-244.sip.rmo.bellsouth.net [74.229.189.244])
	by spunkymail-a4.g.dreamhost.com (Postfix) with ESMTP id EFFA13B9F0
	for <java-user@lucene.apache.org>; Sat,  6 Oct 2007 05:04:33 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <45529.66988.qm@web52704.mail.re2.yahoo.com>
References: <45529.66988.qm@web52704.mail.re2.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <1762AFFC-E531-46CD-8B81-DEF3C8749818@apache.org>
Content-Transfer-Encoding: 7bit
From: Grant Ingersoll <gsingers@apache.org>
Subject: Re: Custom Search algorithm integration
Date: Sat, 6 Oct 2007 08:04:31 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org

I presume that the image field is a binary field, right?

I can think of a couple of things that _may_ work for you:

1. You create a dummy token on the "image" field, and then store the  
image data as a payload on that token.  Then you can use the payload  
mechanism to score the field by overriding the scorePayload (I think  
that's the name) method in the Similarity class.  You may have to  
implement a new Query for this similar to BoostingTermQuery (but  
maybe not)

2. You could implement scoring of binary fields in Lucene.  I've had  
in my mind that a binary field is the same as a payload, more or  
less, so it seems like it would be relatively easy to create a query  
mechanism for it, just not sure of the loading part of it at this  
time (but that should be easy enough to figure out)

I don't know how the performance of either of these approaches would  
be.  If you have large images, it could be a significant overhead.   
The other option, of course, is to do postprocessing on the results  
by first narrowing down on the text fields and then scoring the images.

-Grant

On Oct 6, 2007, at 1:03 AM, pp1907@yahoo.com wrote:

> Thank you Grant but FuntionQuery doesnt solve the
> problem. Looks like I didnt explain the problem
> properly. Let me try it again:
>
> 1. We have a document in which there are 4 text fields
> and a image field.
> 2. We have a special algorithm to perform match based
> on the image. In the sense, if 2 images are provided,
> the algorithm can determine with a match result and a
> score (which indicates likelihood of match)
>
> We want to know how we can integrate the "image
> matching" algorithm into Lucene/Solr.
>
> The search will happen through API only where the
> image is passed and matched images from the index
> needs to be given back as result.
>
> Wanted to understand if we could achieve the
> integration of this with Lucene/Solr so that both
> search on text fields and images can happen.
>
> Would be nice to hear your thoughts.
>
> cheers
> Prakash
>
> Grant Ingersoll <gsingers@apache.org> wrote:
> You may want to look at the FunctionQuery capability,
> either in
> Lucene, or the expanded capabilities (recently added)
> in Solr.
>
> -Grant
>
> On Oct 4, 2007, at 2:39 PM, pp1907@yahoo.com wrote:
>
>> Hi,
>>
>> Were planning to use Lucene or Solr within our
>> application and wanted to know if it can support the
>> following:
>>
>> Scenario:
>> We have (say) 5 fields in a document which need to
> be
>> indexed. 4 fields are indexed by Lucene. The 5th
> field
>> is not indexed as it has data that cant be indexed
> or
>> searched by Lucene.
>>
>> We have a special algorithm/API to search/match on
> the
>> 5th field. Can this algorithm/API be integrated
> within
>> Lucene/Solr so that if we pass the 5th field data as
> a
>> query, the search engine will use our algorithm/API
> to
>> search and return/display the results. The reason
> why
>> we want this to be integrated with Lucene/Solr are
>> obvious - rely on Lucene/Solr's basic scalability /
>> performance as well as integrate both traditional
>> searching capabilities and specialized searching for
>> our end-user
>>
>> Is this possible to achieve in Lucene/Solr and if
> so,
>> how. Would be nice to understand your thoughts as
> this
>> is very critical for us.
>>
>> Appreciate your help. thank you.
>>
>> cheers
>> Prakash
>>
>>
>>
>>
>>
> ______________________________________________________________________
>
>> ______________
>> Yahoo! oneSearch: Finally, mobile search
>> that gives answers, not web links.
>>
> http://mobile.yahoo.com/mobileweb/onesearch?refer=1ONXIC
>>
>>
> ---------------------------------------------------------------------
>> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail:
> java-user-help@lucene.apache.org
>>
>
> --------------------------
> Grant Ingersoll
> http://lucene.grantingersoll.com
>
> Lucene Boot Camp Training:
> ApacheCon Atlanta, Nov. 12, 2007. Sign up now! http://
>
> www.apachecon.com
>
> Lucene Helpful Hints:
> http://wiki.apache.org/lucene-java/BasicsOfPerformance
> http://wiki.apache.org/lucene-java/LuceneFAQ
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
>
>
>
>
>
>
> ______________________________________________________________________ 
> ______________
> Be a better Heartthrob. Get better relationship answers from  
> someone who knows. Yahoo! Answers - Check it out.
> http://answers.yahoo.com/dir/?link=list&sid=396545433
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

--------------------------
Grant Ingersoll
http://lucene.grantingersoll.com

Lucene Boot Camp Training:
ApacheCon Atlanta, Nov. 12, 2007.  Sign up now!  http:// 
www.apachecon.com

Lucene Helpful Hints:
http://wiki.apache.org/lucene-java/BasicsOfPerformance
http://wiki.apache.org/lucene-java/LuceneFAQ



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30509-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 06 16:40:27 2007
Return-Path: <java-user-return-30509-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7329 invoked from network); 6 Oct 2007 16:40:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 6 Oct 2007 16:40:26 -0000
Received: (qmail 90087 invoked by uid 500); 6 Oct 2007 16:40:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90061 invoked by uid 500); 6 Oct 2007 16:40:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90050 invoked by uid 99); 6 Oct 2007 16:40:08 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 Oct 2007 09:40:08 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 80.76.149.213 is neither permitted nor denied by domain of karl.wettin@gmail.com)
Received: from [80.76.149.213] (HELO ch-smtp02.sth.basefarm.net) (80.76.149.213)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 Oct 2007 16:40:11 +0000
Received: from c83-249-118-113.bredband.comhem.se ([83.249.118.113]:57958 helo=[192.168.1.101])
	by ch-smtp02.sth.basefarm.net with esmtp (Exim 4.66)
	(envelope-from <karl.wettin@gmail.com>)
	id 1IeCdo-0006sA-7x
	for java-user@lucene.apache.org; Sat, 06 Oct 2007 18:36:38 +0200
Mime-Version: 1.0 (Apple Message framework v752.3)
Content-Transfer-Encoding: 7bit
Message-Id: <9DDFDD4D-EF67-4C77-AE6E-FAC1105882DB@gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
To: java-user@lucene.apache.org
From: Karl Wettin <karl.wettin@gmail.com>
Subject: norms(String field, byte[] bytes, int offset) 
Date: Sat, 6 Oct 2007 18:29:00 +0200
X-Mailer: Apple Mail (2.752.3)
X-Originating-IP: 83.249.118.113
X-Scan-Result: No virus found in message 1IeCdo-0006sA-7x.
X-Scan-Signature: ch-smtp02.sth.basefarm.net 1IeCdo-0006sA-7x c93be2558282793487c78e0b50ff3fcf
X-Virus-Checked: Checked by ClamAV on apache.org

I'm confused by this method. Why is the length set to maxDoc() and  
not bytes.length? This means that the following snippet will throw an  
ArrayIndexOutOfBoundsException in most cases:

byte[] b = new byte[1];
ir.norms(field, b, doc);


>   /** Read norms into a pre-allocated array. */
>   public synchronized void norms(String field, byte[] bytes, int  
> offset)
>     throws IOException {
>
>     ensureOpen();
>     Norm norm = (Norm) norms.get(field);
>     if (norm == null) {
>       System.arraycopy(fakeNorms(), 0, bytes, offset, maxDoc());
>       return;
>     }
>
>     if (norm.bytes != null) {                     // can copy from  
> cache
>       System.arraycopy(norm.bytes, 0, bytes, offset, maxDoc());
>       return;
>     }
>
>     // Read from disk.  norm.in may be shared across  multiple  
> norms and
>     // should only be used in a synchronized context.
>     norm.in.seek(norm.normSeek);
>     norm.in.readBytes(bytes, offset, maxDoc());
>   }

-- 
karl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30510-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 07 03:10:21 2007
Return-Path: <java-user-return-30510-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93124 invoked from network); 7 Oct 2007 03:10:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Oct 2007 03:10:20 -0000
Received: (qmail 4713 invoked by uid 500); 7 Oct 2007 03:10:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4681 invoked by uid 500); 7 Oct 2007 03:10:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4670 invoked by uid 99); 7 Oct 2007 03:10:02 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 Oct 2007 20:10:02 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of raghuram.nadiminti@gmail.com designates 64.233.182.189 as permitted sender)
Received: from [64.233.182.189] (HELO nf-out-0910.google.com) (64.233.182.189)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 Oct 2007 03:09:57 +0000
Received: by nf-out-0910.google.com with SMTP id d3so670027nfc
        for <java-user@lucene.apache.org>; Sat, 06 Oct 2007 20:09:35 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=+UGsUpGhLNAlpbn0BiutVaS2CpY7ylXpzLsQ0XSIXR8=;
        b=aMP60M8n5GnuIS00H9IVh4GjBSdt612IfmpZHY92ADotob2VkifipVaq0r9m0D6y7jOobWnYsCXbQqV+0LBc9XrjkxpbEO8yc5g5m6C8YbFK9mN5tkBk2bG1//D1FEmgHIK2dD5YtzwmCD13+U9Yiudx8autpoAd0CP1yLuraVs=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=hNZxQJcMtUcHThi1+GwxTBO39nPCymqCQmxFdqtaN/JnlYzoSnSJXjewoiaE+0oscm4XtBnPpKktgvMZn3QQIDRtujUjZ1e8OM269OoDlO1VKtOTmMRBXAji8xQnnKAMeRr2h6dicMOx1iv2pptcHirL2vlzsSFvLuAVgJkz7uQ=
Received: by 10.78.180.16 with SMTP id c16mr828203huf.1191726574889;
        Sat, 06 Oct 2007 20:09:34 -0700 (PDT)
Received: by 10.78.167.15 with HTTP; Sat, 6 Oct 2007 20:09:29 -0700 (PDT)
Message-ID: <1e68ba6b0710062009m5356e92drec979f2e432f3106@mail.gmail.com>
Date: Sun, 7 Oct 2007 08:39:29 +0530
From: "Raghu Ram" <raghuram.nadiminti@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Group of documents.
In-Reply-To: <470774AE.6070206@hubmed.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_32551_6457186.1191726569875"
References: <1e68ba6b0710052020p7dde2ffao291fcaf81161be6f@mail.gmail.com>
	 <470774AE.6070206@hubmed.org>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_32551_6457186.1191726569875
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

But then how can i search for feeds ???

On 10/6/07, Alf Eaton <lists@hubmed.org> wrote:
>
> Raghu Ram wrote:
> > Hi,
> >       We have an application in which we want to index feeds. Each feed
> is a
> > collection of articles and some other metadata. The problem is that
> > sometimes we want to search for feeds and sometimes for articles. As far
> as
> > I know lucene doesn't provide any abstraction for grouping  its
> documents.
> > The only solution that we have in our minds now is to have two indexes
> one
> > for articles and one for feeds. There are two problems with this
> approach
> > 1) redundancy
> > 2) as feeds are just a collection of articles and get updated we have to
> > continuously update the document that represents the feed in the feed
> index.
> > Is this an efficient operation ??
> >
> > Can we have any other solutions/hacks for this problem ??
>
> Add a multi-valued field to each article that says which feed(s) it's
> found in?
>
> alf
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_32551_6457186.1191726569875--

From java-user-return-30511-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 07 05:57:19 2007
Return-Path: <java-user-return-30511-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20800 invoked from network); 7 Oct 2007 05:57:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Oct 2007 05:57:18 -0000
Received: (qmail 39511 invoked by uid 500); 7 Oct 2007 05:57:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39483 invoked by uid 500); 7 Oct 2007 05:57:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39471 invoked by uid 99); 7 Oct 2007 05:57:01 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 Oct 2007 22:57:01 -0700
X-ASF-Spam-Status: No, hits=3.2 required=10.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.191.88.223] (HELO web610.biz.mail.mud.yahoo.com) (209.191.88.223)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 07 Oct 2007 05:57:01 +0000
Received: (qmail 28474 invoked by uid 60001); 7 Oct 2007 05:56:39 -0000
X-YMail-OSG: VUSW9o0VM1nGEvJE5HXz5juqXRoMsFfjXrsyqiCK3mFMmjNWTZ2fw3Ihj2LnMoJ_rS5DEvIHg4D68o3ly_dJa3oSsFfjYtu2AFv_ueG6f9R1heVrjzriy7UcZA--
Received: from [59.92.198.209] by web610.biz.mail.mud.yahoo.com via HTTP; Sat, 06 Oct 2007 22:56:39 PDT
Date: Sat, 6 Oct 2007 22:56:39 -0700 (PDT)
From: Prakash Prabhu <prakash.prabhu@atyati.com>
Subject: Re: Custom Search algorithm integration
To: java-user@lucene.apache.org
In-Reply-To: <1762AFFC-E531-46CD-8B81-DEF3C8749818@apache.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1667132792-1191736599=:24585"
Content-Transfer-Encoding: 8bit
Message-ID: <298015.24585.qm@web610.biz.mail.mud.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-1667132792-1191736599=:24585
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Yes, image field is binary. However, image size is not more than 1KB. We would use a combination of text search to narrow down the results. But once we get the results, we would want to search all images (within the above resultset) with the user given image file.
   
  Ideally, your 2nd approach - of scoring/matching within Lucene is what we were looking for. Rather, we already have the capability to match & score if 2 images are provided. It would be best if we could integrate our Java API within Lucene search/score.
   
  Lucene allows to store binary value as a field. However, am not sure (as we are new to Lucene) how we can tell Lucene to use our API to search/match for the binary/image field.
   
  would be good to hear your thoughts.thank you
   
  cheers
  Prakash

Grant Ingersoll <gsingers@apache.org> wrote:
  I presume that the image field is a binary field, right?

I can think of a couple of things that _may_ work for you:

1. You create a dummy token on the "image" field, and then store the 
image data as a payload on that token. Then you can use the payload 
mechanism to score the field by overriding the scorePayload (I think 
that's the name) method in the Similarity class. You may have to 
implement a new Query for this similar to BoostingTermQuery (but 
maybe not)

2. You could implement scoring of binary fields in Lucene. I've had 
in my mind that a binary field is the same as a payload, more or 
less, so it seems like it would be relatively easy to create a query 
mechanism for it, just not sure of the loading part of it at this 
time (but that should be easy enough to figure out)

I don't know how the performance of either of these approaches would 
be. If you have large images, it could be a significant overhead. 
The other option, of course, is to do postprocessing on the results 
by first narrowing down on the text fields and then scoring the images.

-Grant

On Oct 6, 2007, at 1:03 AM, pp1907@yahoo.com wrote:

> Thank you Grant but FuntionQuery doesnt solve the
> problem. Looks like I didnt explain the problem
> properly. Let me try it again:
>
> 1. We have a document in which there are 4 text fields
> and a image field.
> 2. We have a special algorithm to perform match based
> on the image. In the sense, if 2 images are provided,
> the algorithm can determine with a match result and a
> score (which indicates likelihood of match)
>
> We want to know how we can integrate the "image
> matching" algorithm into Lucene/Solr.
>
> The search will happen through API only where the
> image is passed and matched images from the index
> needs to be given back as result.
>
> Wanted to understand if we could achieve the
> integration of this with Lucene/Solr so that both
> search on text fields and images can happen.
>
> Would be nice to hear your thoughts.
>
> cheers
> Prakash
>
> Grant Ingersoll wrote:
> You may want to look at the FunctionQuery capability,
> either in
> Lucene, or the expanded capabilities (recently added)
> in Solr.
>
> -Grant
>
> On Oct 4, 2007, at 2:39 PM, pp1907@yahoo.com wrote:
>
>> Hi,
>>
>> Were planning to use Lucene or Solr within our
>> application and wanted to know if it can support the
>> following:
>>
>> Scenario:
>> We have (say) 5 fields in a document which need to
> be
>> indexed. 4 fields are indexed by Lucene. The 5th
> field
>> is not indexed as it has data that cant be indexed
> or
>> searched by Lucene.
>>
>> We have a special algorithm/API to search/match on
> the
>> 5th field. Can this algorithm/API be integrated
> within
>> Lucene/Solr so that if we pass the 5th field data as
> a
>> query, the search engine will use our algorithm/API
> to
>> search and return/display the results. The reason
> why
>> we want this to be integrated with Lucene/Solr are
>> obvious - rely on Lucene/Solr's basic scalability /
>> performance as well as integrate both traditional
>> searching capabilities and specialized searching for
>> our end-user
>>
>> Is this possible to achieve in Lucene/Solr and if
> so,
>> how. Would be nice to understand your thoughts as
> this
>> is very critical for us.
>>
>> Appreciate your help. thank you.
>>
>> cheers
>> Prakash
>>
>>
>>
>>
>>
> ______________________________________________________________________
>
>> ______________
>> Yahoo! oneSearch: Finally, mobile search
>> that gives answers, not web links.
>>
> http://mobile.yahoo.com/mobileweb/onesearch?refer=1ONXIC
>>
>>
> ---------------------------------------------------------------------
>> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail:
> java-user-help@lucene.apache.org
>>
>
> --------------------------
> Grant Ingersoll
> http://lucene.grantingersoll.com
>
> Lucene Boot Camp Training:
> ApacheCon Atlanta, Nov. 12, 2007. Sign up now! http://
>
> www.apachecon.com
>
> Lucene Helpful Hints:
> http://wiki.apache.org/lucene-java/BasicsOfPerformance
> http://wiki.apache.org/lucene-java/LuceneFAQ
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
>
>
>
>
>
>
> ______________________________________________________________________ 
> ______________
> Be a better Heartthrob. Get better relationship answers from 
> someone who knows. Yahoo! Answers - Check it out.
> http://answers.yahoo.com/dir/?link=list&sid=396545433
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

--------------------------
Grant Ingersoll
http://lucene.grantingersoll.com

Lucene Boot Camp Training:
ApacheCon Atlanta, Nov. 12, 2007. Sign up now! http:// 
www.apachecon.com

Lucene Helpful Hints:
http://wiki.apache.org/lucene-java/BasicsOfPerformance
http://wiki.apache.org/lucene-java/LuceneFAQ



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



--0-1667132792-1191736599=:24585--

From java-user-return-30512-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 07 10:29:23 2007
Return-Path: <java-user-return-30512-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64873 invoked from network); 7 Oct 2007 10:29:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Oct 2007 10:29:19 -0000
Received: (qmail 22050 invoked by uid 500); 7 Oct 2007 10:29:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22015 invoked by uid 500); 7 Oct 2007 10:29:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22004 invoked by uid 99); 7 Oct 2007 10:29:02 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 Oct 2007 03:29:02 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [72.249.39.145] (HELO hubmed.org) (72.249.39.145)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 Oct 2007 10:29:03 +0000
Received: from [192.168.1.65] (host86-139-53-86.range86-139.btcentralplus.com [86.139.53.86])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by hubmed.org (Postfix) with ESMTP id 3AE2C7C116
	for <java-user@lucene.apache.org>; Sun,  7 Oct 2007 10:28:42 +0000 (UTC)
Message-ID: <4708B4D8.10400@hubmed.org>
Date: Sun, 07 Oct 2007 11:28:40 +0100
From: Alf Eaton <lists@hubmed.org>
User-Agent: Thunderbird 2.0.0.6 (X11/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Group of documents.
References: <1e68ba6b0710052020p7dde2ffao291fcaf81161be6f@mail.gmail.com>	 <470774AE.6070206@hubmed.org> <1e68ba6b0710062009m5356e92drec979f2e432f3106@mail.gmail.com>
In-Reply-To: <1e68ba6b0710062009m5356e92drec979f2e432f3106@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Make a separate index of feeds?

alf

Raghu Ram wrote:
> But then how can i search for feeds ???
> 
> On 10/6/07, Alf Eaton <lists@hubmed.org> wrote:
>> Raghu Ram wrote:
>>> Hi,
>>>       We have an application in which we want to index feeds. Each feed
>> is a
>>> collection of articles and some other metadata. The problem is that
>>> sometimes we want to search for feeds and sometimes for articles. As far
>> as
>>> I know lucene doesn't provide any abstraction for grouping  its
>> documents.
>>> The only solution that we have in our minds now is to have two indexes
>> one
>>> for articles and one for feeds. There are two problems with this
>> approach
>>> 1) redundancy
>>> 2) as feeds are just a collection of articles and get updated we have to
>>> continuously update the document that represents the feed in the feed
>> index.
>>> Is this an efficient operation ??
>>>
>>> Can we have any other solutions/hacks for this problem ??
>> Add a multi-valued field to each article that says which feed(s) it's
>> found in?
>>
>> alf
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30513-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 07 11:48:30 2007
Return-Path: <java-user-return-30513-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87764 invoked from network); 7 Oct 2007 11:48:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Oct 2007 11:48:29 -0000
Received: (qmail 39967 invoked by uid 500); 7 Oct 2007 11:48:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39946 invoked by uid 500); 7 Oct 2007 11:48:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39935 invoked by uid 99); 7 Oct 2007 11:48:10 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 Oct 2007 04:48:10 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [66.111.4.25] (HELO out1.smtp.messagingengine.com) (66.111.4.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 Oct 2007 11:48:14 +0000
Received: from compute1.internal (compute1.internal [10.202.2.41])
	by out1.messagingengine.com (Postfix) with ESMTP id 2EDE62F563
	for <java-user@lucene.apache.org>; Sun,  7 Oct 2007 07:47:54 -0400 (EDT)
Received: from web8.messagingengine.com ([10.202.2.217])
  by compute1.internal (MEProxy); Sun, 07 Oct 2007 07:47:54 -0400
Received: by web8.messagingengine.com (Postfix, from userid 99)
	id 0760B12B15; Sun,  7 Oct 2007 07:47:54 -0400 (EDT)
Message-Id: <1191757673.30911.1214561755@webmail.messagingengine.com>
X-Sasl-Enc: s+jczo+0ZlSVG7piGGVKiADGkNlADrLZc3qWgUpK9+xx 1191757673
From: "Michael McCandless" <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="ISO-8859-1"
MIME-Version: 1.0
X-Mailer: MessagingEngine.com Webmail Interface
References: <9DDFDD4D-EF67-4C77-AE6E-FAC1105882DB@gmail.com>
Subject: Re: norms(String field, byte[] bytes, int offset)
In-Reply-To: <9DDFDD4D-EF67-4C77-AE6E-FAC1105882DB@gmail.com>
Date: Sun, 07 Oct 2007 07:47:53 -0400
X-Virus-Checked: Checked by ClamAV on apache.org


I think the intention of that method is to load all norms for that reader
into the byte array, so I think it's reasonable that an exception is
thrown if you provide a byte array that's too small.

Though maybe it would be friendlier to throw an IllegalArgumentException
that says "the byte array is not long enough"?

Mike

"Karl Wettin" <karl.wettin@gmail.com> wrote:
> I'm confused by this method. Why is the length set to maxDoc() and  
> not bytes.length? This means that the following snippet will throw an  
> ArrayIndexOutOfBoundsException in most cases:
> 
> byte[] b = new byte[1];
> ir.norms(field, b, doc);
> 
> 
> >   /** Read norms into a pre-allocated array. */
> >   public synchronized void norms(String field, byte[] bytes, int  
> > offset)
> >     throws IOException {
> >
> >     ensureOpen();
> >     Norm norm = (Norm) norms.get(field);
> >     if (norm == null) {
> >       System.arraycopy(fakeNorms(), 0, bytes, offset, maxDoc());
> >       return;
> >     }
> >
> >     if (norm.bytes != null) {                     // can copy from  
> > cache
> >       System.arraycopy(norm.bytes, 0, bytes, offset, maxDoc());
> >       return;
> >     }
> >
> >     // Read from disk.  norm.in may be shared across  multiple  
> > norms and
> >     // should only be used in a synchronized context.
> >     norm.in.seek(norm.normSeek);
> >     norm.in.readBytes(bytes, offset, maxDoc());
> >   }
> 
> -- 
> karl
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30514-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 07 14:27:31 2007
Return-Path: <java-user-return-30514-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37137 invoked from network); 7 Oct 2007 14:27:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Oct 2007 14:27:31 -0000
Received: (qmail 22908 invoked by uid 500); 7 Oct 2007 14:27:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22864 invoked by uid 500); 7 Oct 2007 14:27:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22853 invoked by uid 99); 7 Oct 2007 14:27:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 Oct 2007 07:27:14 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of yseeley@gmail.com designates 209.85.198.188 as permitted sender)
Received: from [209.85.198.188] (HELO rv-out-0910.google.com) (209.85.198.188)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 Oct 2007 14:27:16 +0000
Received: by rv-out-0910.google.com with SMTP id k20so455711rvb
        for <java-user@lucene.apache.org>; Sun, 07 Oct 2007 07:26:55 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        bh=T/5E39/sIcXBjXYYjB4K9bX1IHMJSkZZ2yXtfGn2C/E=;
        b=MD/Cs82pGThOYkrWKO7FG1avWbQF8ZlzV+08OTphJvwHnjcpzgamUF4w0Vx8hqAu1ZNktyhsj1rtWz2OGPTsLvDdakwUNEniAnMHZUO2FDRvb6xVn5ShrcxYO5JnP4m5ERqECATUAv+S6wQTbVfXeZvUJPkOmYplMD39DBWDZcA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        b=NxFk3oZnAZjpMlDKpegFyV/+ql0Py1Nt4OjkAQfy5BrveQnm/xE7TbTYacnhVNyjWanv3bS2bIYlmLN0lcsks+fLe0hlAPhnEMD8QRNeUiSNK9OconVntwe+3v1WPgJPLmShjFoE11TOEu6+Z1ZgnUC/1NFDnsO3lX9OOvohdRc=
Received: by 10.142.12.14 with SMTP id 14mr1891226wfl.1191767215390;
        Sun, 07 Oct 2007 07:26:55 -0700 (PDT)
Received: by 10.143.33.20 with HTTP; Sun, 7 Oct 2007 07:26:55 -0700 (PDT)
Message-ID: <c68e39170710070726q521c03ease7cc8c3d1284727f@mail.gmail.com>
Date: Sun, 7 Oct 2007 10:26:55 -0400
From: "Yonik Seeley" <yonik@apache.org>
Sender: yseeley@gmail.com
To: java-user@lucene.apache.org
Subject: Re: Group of documents.
In-Reply-To: <1e68ba6b0710062009m5356e92drec979f2e432f3106@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <1e68ba6b0710052020p7dde2ffao291fcaf81161be6f@mail.gmail.com>
	 <470774AE.6070206@hubmed.org>
	 <1e68ba6b0710062009m5356e92drec979f2e432f3106@mail.gmail.com>
X-Google-Sender-Auth: 1389b37cd9bc640b
X-Virus-Checked: Checked by ClamAV on apache.org

On 10/6/07, Raghu Ram <raghuram.nadiminti@gmail.com> wrote:
> But then how can i search for feeds ???

I'm not quite sure what you mean by "search for feeds"...
but assuming you want a list of feeds that contain articles with the
search terms, you could do faceting on the "feeds" field.  That would
let you know which feeds had the most matching documents.

-Yonik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30515-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 07 16:22:40 2007
Return-Path: <java-user-return-30515-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31648 invoked from network); 7 Oct 2007 16:22:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Oct 2007 16:22:39 -0000
Received: (qmail 82719 invoked by uid 500); 7 Oct 2007 16:22:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82683 invoked by uid 500); 7 Oct 2007 16:22:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82672 invoked by uid 99); 7 Oct 2007 16:22:22 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 Oct 2007 09:22:22 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of devquestions@gmail.com designates 209.85.198.187 as permitted sender)
Received: from [209.85.198.187] (HELO rv-out-0910.google.com) (209.85.198.187)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 Oct 2007 16:22:24 +0000
Received: by rv-out-0910.google.com with SMTP id k20so472741rvb
        for <java-user@lucene.apache.org>; Sun, 07 Oct 2007 09:22:03 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        bh=GkDshFVcxImUr3zbW4101Y3WpjgWYxy0VY4Satpb55Q=;
        b=ev5FWXC7qbEXahPfjtlEmxAbjS0deomFD0wH78xHkXP4fCBDTmri0WYb/h4mmZhdJkskIt0aOyzyyNTP8HyARjE61zLm+qOKYaDpOSc95wR3z8XogesgnRVOt47jRuKNiOmT5n0fpIyiPJWRPGaKP9Ed4sbVigPRNO4sk/NUR0E=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=SteHZcISVZMsyjGzme/0TxQOBcBBfEQG86rNXN/vEj/qjHCxHZ6ahuSl+Mj+s//BwT3jtpyr8jD+MMA+mSLEopaN0yt18YUeADpVoHXEwMctJWsgqU6QSyrQdxAjI93A6mqGvJPdR+pPgVcGTuXv7+Ie9LUyi5gCV4aKn0963CU=
Received: by 10.141.145.11 with SMTP id x11mr195881rvn.1191774123101;
        Sun, 07 Oct 2007 09:22:03 -0700 (PDT)
Received: by 10.140.148.2 with HTTP; Sun, 7 Oct 2007 09:22:03 -0700 (PDT)
Message-ID: <c01704c90710070922x552fe247neb77e2d891ae90a5@mail.gmail.com>
Date: Sun, 7 Oct 2007 12:22:03 -0400
From: "Developer Developer" <devquestions@gmail.com>
To: java-user@lucene.apache.org
Subject: Lucene newbee quesiton- Term Positions
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_15155_26664012.1191774123090"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_15155_26664012.1191774123090
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hello,

I have simple lucene 2.2 index created. I want to  list all the terms and
their positions in a document. how can I do it ?

Can you please provide some sample code.

Thanks !

------=_Part_15155_26664012.1191774123090--

From java-user-return-30516-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 07 16:39:35 2007
Return-Path: <java-user-return-30516-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49192 invoked from network); 7 Oct 2007 16:39:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Oct 2007 16:39:33 -0000
Received: (qmail 88596 invoked by uid 500); 7 Oct 2007 16:39:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88561 invoked by uid 500); 7 Oct 2007 16:39:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88550 invoked by uid 99); 7 Oct 2007 16:39:17 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 Oct 2007 09:39:17 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erickerickson@gmail.com designates 209.85.128.186 as permitted sender)
Received: from [209.85.128.186] (HELO fk-out-0910.google.com) (209.85.128.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 Oct 2007 16:39:18 +0000
Received: by fk-out-0910.google.com with SMTP id z23so1153077fkz
        for <java-user@lucene.apache.org>; Sun, 07 Oct 2007 09:38:57 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=3yyefrErHjnTigkSdgDbrFp7/vBQL4ChHQPV8D7E22I=;
        b=SgFwR3sDQoyZC1BFO4jYs071jzteBjaLPxbX3g1fFHTy31PunXndFyc+cQoaTFfmS4awcpQvVec9YGmFM9kz/K+CMYdgFqX1CAsNou+SledbqOGURp3vHM9iBDgWLKruTMXawKtEAD6am6yZQzN52TRObu9nDO07tpPpTG1p3JU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Z/EiObHY+cI3e3IDC3iYUJWCbh6dwV0F8nCfrpzQ43d/JUpHEX62JB9UDRLiC9mKCSB3bxiD8VaybQanv2qBSIdsNuWAcJWSTykazrseeXy4lyGHMu4T3px4UTDZqabcjrMBROSpfyaP1lJpIdLEjOjZ20HglUKeRKYZXx4lmdQ=
Received: by 10.82.126.5 with SMTP id y5mr8728685buc.1191775136551;
        Sun, 07 Oct 2007 09:38:56 -0700 (PDT)
Received: by 10.82.167.3 with HTTP; Sun, 7 Oct 2007 09:38:56 -0700 (PDT)
Message-ID: <359a92830710070938la012e9fyb5e7eae8e3a08f6f@mail.gmail.com>
Date: Sun, 7 Oct 2007 12:38:56 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene newbee quesiton- Term Positions
In-Reply-To: <c01704c90710070922x552fe247neb77e2d891ae90a5@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_42814_1135473.1191775136551"
References: <c01704c90710070922x552fe247neb77e2d891ae90a5@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_42814_1135473.1191775136551
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I suspect that this is more work than you think, not to mention
very slow. This is just due to the nature of an inverted
index....

To see what I mean, get a copy of Luke and have it
reconstruct one of your documents and you'll see what the
performance is like.

I think Luke has all the example code you could ask for, that's
the place I'd look first. See:
http://lucene.apache.org/java/docs/contributions.html

Why do you want to do this and is it really necessary? You
could think about storing the entire document, then when you
needed to count terms, just using one of the tokenizers and
counting them yourself....

Best
Erick

On 10/7/07, Developer Developer <devquestions@gmail.com> wrote:
>
> Hello,
>
> I have simple lucene 2.2 index created. I want to  list all the terms and
> their positions in a document. how can I do it ?
>
> Can you please provide some sample code.
>
> Thanks !
>

------=_Part_42814_1135473.1191775136551--

From java-user-return-30517-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 07 16:49:19 2007
Return-Path: <java-user-return-30517-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63663 invoked from network); 7 Oct 2007 16:49:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Oct 2007 16:49:19 -0000
Received: (qmail 92609 invoked by uid 500); 7 Oct 2007 16:49:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92574 invoked by uid 500); 7 Oct 2007 16:49:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92552 invoked by uid 99); 7 Oct 2007 16:49:02 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 Oct 2007 09:49:02 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 80.76.149.212 is neither permitted nor denied by domain of karl.wettin@gmail.com)
Received: from [80.76.149.212] (HELO ch-smtp01.sth.basefarm.net) (80.76.149.212)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 Oct 2007 16:49:04 +0000
Received: from c83-249-118-113.bredband.comhem.se ([83.249.118.113]:54866 helo=[192.168.1.101])
	by ch-smtp01.sth.basefarm.net with esmtp (Exim 4.66)
	(envelope-from <karl.wettin@gmail.com>)
	id 1IeZG1-0004nk-63
	for java-user@lucene.apache.org; Sun, 07 Oct 2007 18:45:34 +0200
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <359a92830710070938la012e9fyb5e7eae8e3a08f6f@mail.gmail.com>
References: <c01704c90710070922x552fe247neb77e2d891ae90a5@mail.gmail.com> <359a92830710070938la012e9fyb5e7eae8e3a08f6f@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <AC323EDE-7784-4CEA-A834-C43A2DE0EE57@gmail.com>
Content-Transfer-Encoding: 7bit
From: Karl Wettin <karl.wettin@gmail.com>
Subject: Re: Lucene newbee quesiton- Term Positions
Date: Sun, 7 Oct 2007 18:37:17 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Originating-IP: 83.249.118.113
X-Scan-Result: No virus found in message 1IeZG1-0004nk-63.
X-Scan-Signature: ch-smtp01.sth.basefarm.net 1IeZG1-0004nk-63 29a1e10dccd0fb9f03001906eaea8b34
X-Virus-Checked: Checked by ClamAV on apache.org



7 okt 2007 kl. 18.38 skrev Erick Erickson:

> I suspect that this is more work than you think, not to mention
> very slow. This is just due to the nature of an inverted
> index....
>
> To see what I mean, get a copy of Luke and have it
> reconstruct one of your documents and you'll see what the
> performance is like.


Also, I recently posted this transparent code for TermVectorMapper  
that will build the term vector space model if it was not cached  
(Field.TermVector.NO):

https://issues.apache.org/jira/secure/attachment/12366959/ 
LUCENE-1016.txt

-- 
karl





>
> I think Luke has all the example code you could ask for, that's
> the place I'd look first. See:
> http://lucene.apache.org/java/docs/contributions.html
>
> Why do you want to do this and is it really necessary? You
> could think about storing the entire document, then when you
> needed to count terms, just using one of the tokenizers and
> counting them yourself....
>
> Best
> Erick
>
> On 10/7/07, Developer Developer <devquestions@gmail.com> wrote:
>>
>> Hello,
>>
>> I have simple lucene 2.2 index created. I want to  list all the  
>> terms and
>> their positions in a document. how can I do it ?
>>
>> Can you please provide some sample code.
>>
>> Thanks !
>>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30518-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 07 16:49:28 2007
Return-Path: <java-user-return-30518-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63835 invoked from network); 7 Oct 2007 16:49:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Oct 2007 16:49:27 -0000
Received: (qmail 94102 invoked by uid 500); 7 Oct 2007 16:49:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94075 invoked by uid 500); 7 Oct 2007 16:49:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94064 invoked by uid 99); 7 Oct 2007 16:49:09 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 Oct 2007 09:49:09 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of devquestions@gmail.com designates 209.85.198.188 as permitted sender)
Received: from [209.85.198.188] (HELO rv-out-0910.google.com) (209.85.198.188)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 Oct 2007 16:49:11 +0000
Received: by rv-out-0910.google.com with SMTP id k20so476905rvb
        for <java-user@lucene.apache.org>; Sun, 07 Oct 2007 09:48:50 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=YJ0ZQTIuwNncokhdutl5ZRyLCmOq6UIvgTR4ThEhoRE=;
        b=AXsqUfjrJU3YNxPokWV528WpuF0yoVJ+hJhT9e+0hdwFpFpDjMITTGvcphgd6NOuoFd/Gx+GETkHYaSgGwX8OIP0mGLSHetC40LyhHR+dcnbjB97MDcugWlYckoiO6i3huae25cOkHMOVnYrdsrvhIpzsBr0q9Xv9uUG4nlkMO8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=R4avL+Zx7QFGElRIbUpjoNCgSjntEcQ2csQIhgGVDmaQdvcvrKg3jduMGjjXZSgpAKvWNG2tigIC6QqcNGz1x9cJ/BTBVdhP3DPRct7p683E2S6JpdvHYey830D9laHLhMjy5LRtqm/zyY82qMcqRQ0HHxaagx8PhgbOPnR218I=
Received: by 10.140.251.1 with SMTP id y1mr2534143rvh.1191775730369;
        Sun, 07 Oct 2007 09:48:50 -0700 (PDT)
Received: by 10.140.148.2 with HTTP; Sun, 7 Oct 2007 09:48:50 -0700 (PDT)
Message-ID: <c01704c90710070948y2213dcffk1426a0d5cc768fa7@mail.gmail.com>
Date: Sun, 7 Oct 2007 12:48:50 -0400
From: "Developer Developer" <devquestions@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene newbee quesiton- Term Positions
In-Reply-To: <359a92830710070938la012e9fyb5e7eae8e3a08f6f@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_15178_8915766.1191775730376"
References: <c01704c90710070922x552fe247neb77e2d891ae90a5@mail.gmail.com>
	 <359a92830710070938la012e9fyb5e7eae8e3a08f6f@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_15178_8915766.1191775730376
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi Eric,

Thanks for the quick reply.    My index does not return any hits when i
search for certain phrases . I am very sure that the indexed documents does
have those phrases in them.

Therefore i want to just list all the terms and their postions for given
document just to make sure that the indexed document does have those terms
indexed in the correct order.

I did check with luke and came up with the following code that does not seem
to be working !!. positions.next()) returns flase !.  Do you see anything
wrong in this code?

Directory dir = FSDirectory.getDirectory(args[0]);
IndexReader reader = IndexReader.open(dir);
TermPositions positions = reader.termPositions();

 while(positions.next())
  {
     positions.nextPosition();

     positions.nextPosition();
     byte b[] = positions.getPayload(null, 0);
     System.out.println(b);
  }





On 10/7/07, Erick Erickson <erickerickson@gmail.com> wrote:
>
> I suspect that this is more work than you think, not to mention
> very slow. This is just due to the nature of an inverted
> index....
>
> To see what I mean, get a copy of Luke and have it
> reconstruct one of your documents and you'll see what the
> performance is like.
>
> I think Luke has all the example code you could ask for, that's
> the place I'd look first. See:
> http://lucene.apache.org/java/docs/contributions.html
>
> Why do you want to do this and is it really necessary? You
> could think about storing the entire document, then when you
> needed to count terms, just using one of the tokenizers and
> counting them yourself....
>
> Best
> Erick
>
> On 10/7/07, Developer Developer <devquestions@gmail.com> wrote:
> >
> > Hello,
> >
> > I have simple lucene 2.2 index created. I want to  list all the terms
> and
> > their positions in a document. how can I do it ?
> >
> > Can you please provide some sample code.
> >
> > Thanks !
> >
>

------=_Part_15178_8915766.1191775730376--

From java-user-return-30519-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 07 16:50:42 2007
Return-Path: <java-user-return-30519-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64753 invoked from network); 7 Oct 2007 16:50:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Oct 2007 16:50:42 -0000
Received: (qmail 95931 invoked by uid 500); 7 Oct 2007 16:50:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95715 invoked by uid 500); 7 Oct 2007 16:50:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95704 invoked by uid 99); 7 Oct 2007 16:50:25 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 Oct 2007 09:50:25 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 80.76.149.212 is neither permitted nor denied by domain of karl.wettin@gmail.com)
Received: from [80.76.149.212] (HELO ch-smtp01.sth.basefarm.net) (80.76.149.212)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 Oct 2007 16:50:27 +0000
Received: from c83-249-118-113.bredband.comhem.se ([83.249.118.113]:54900 helo=[192.168.1.101])
	by ch-smtp01.sth.basefarm.net with esmtp (Exim 4.66)
	(envelope-from <karl.wettin@gmail.com>)
	id 1IeZKP-0004O7-6B
	for java-user@lucene.apache.org; Sun, 07 Oct 2007 18:50:06 +0200
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <1191757673.30911.1214561755@webmail.messagingengine.com>
References: <9DDFDD4D-EF67-4C77-AE6E-FAC1105882DB@gmail.com> <1191757673.30911.1214561755@webmail.messagingengine.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <866E2AE4-AA51-4E1E-9847-47B78A500822@gmail.com>
Content-Transfer-Encoding: 7bit
From: Karl Wettin <karl.wettin@gmail.com>
Subject: Re: norms(String field, byte[] bytes, int offset)
Date: Sun, 7 Oct 2007 18:42:24 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Originating-IP: 83.249.118.113
X-Scan-Result: No virus found in message 1IeZKP-0004O7-6B.
X-Scan-Signature: ch-smtp01.sth.basefarm.net 1IeZKP-0004O7-6B 4470c76ea3f4764de3f77ccbbd8e712e
X-Virus-Checked: Checked by ClamAV on apache.org

7 okt 2007 kl. 13.47 skrev Michael McCandless:

>
> I think the intention of that method is to load all norms for that  
> reader
> into the byte array, so I think it's reasonable that an exception is
> thrown if you provide a byte array that's too small.

Hmm, OK.

But I don't understand why there is such a limit, and what could go  
wrong if one would start allowing smaller arrays?

Nor can I find any use of this method in the trunk, except for in a  
test case.

-- 
karl




>
> Though maybe it would be friendlier to throw an  
> IllegalArgumentException
> that says "the byte array is not long enough"?
>
> Mike
>
> "Karl Wettin" <karl.wettin@gmail.com> wrote:
>> I'm confused by this method. Why is the length set to maxDoc() and
>> not bytes.length? This means that the following snippet will throw an
>> ArrayIndexOutOfBoundsException in most cases:
>>
>> byte[] b = new byte[1];
>> ir.norms(field, b, doc);
>>
>>
>>>   /** Read norms into a pre-allocated array. */
>>>   public synchronized void norms(String field, byte[] bytes, int
>>> offset)
>>>     throws IOException {
>>>
>>>     ensureOpen();
>>>     Norm norm = (Norm) norms.get(field);
>>>     if (norm == null) {
>>>       System.arraycopy(fakeNorms(), 0, bytes, offset, maxDoc());
>>>       return;
>>>     }
>>>
>>>     if (norm.bytes != null) {                     // can copy from
>>> cache
>>>       System.arraycopy(norm.bytes, 0, bytes, offset, maxDoc());
>>>       return;
>>>     }
>>>
>>>     // Read from disk.  norm.in may be shared across  multiple
>>> norms and
>>>     // should only be used in a synchronized context.
>>>     norm.in.seek(norm.normSeek);
>>>     norm.in.readBytes(bytes, offset, maxDoc());
>>>   }
>>
>> -- 
>> karl
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30520-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 07 17:27:15 2007
Return-Path: <java-user-return-30520-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16915 invoked from network); 7 Oct 2007 17:27:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Oct 2007 17:27:15 -0000
Received: (qmail 21088 invoked by uid 500); 7 Oct 2007 17:26:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21065 invoked by uid 500); 7 Oct 2007 17:26:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21054 invoked by uid 99); 7 Oct 2007 17:26:57 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 Oct 2007 10:26:57 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [66.111.4.25] (HELO out1.smtp.messagingengine.com) (66.111.4.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 Oct 2007 17:27:00 +0000
Received: from compute1.internal (compute1.internal [10.202.2.41])
	by out1.messagingengine.com (Postfix) with ESMTP id E55472F93F
	for <java-user@lucene.apache.org>; Sun,  7 Oct 2007 13:26:39 -0400 (EDT)
Received: from web8.messagingengine.com ([10.202.2.217])
  by compute1.internal (MEProxy); Sun, 07 Oct 2007 13:26:39 -0400
Received: by web8.messagingengine.com (Postfix, from userid 99)
	id A7C0F1F8A5; Sun,  7 Oct 2007 13:26:39 -0400 (EDT)
Message-Id: <1191777999.12906.1214589171@webmail.messagingengine.com>
X-Sasl-Enc: +UwL/+Tr4+bvvHeS1xjWn9eA6bji9wzcabz3rUZ3r5nX 1191777999
From: "Michael McCandless" <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="ISO-8859-1"
MIME-Version: 1.0
X-Mailer: MessagingEngine.com Webmail Interface
References: <9DDFDD4D-EF67-4C77-AE6E-FAC1105882DB@gmail.com>
   <1191757673.30911.1214561755@webmail.messagingengine.com>
   <866E2AE4-AA51-4E1E-9847-47B78A500822@gmail.com>
Subject: Re: norms(String field, byte[] bytes, int offset)
In-Reply-To: <866E2AE4-AA51-4E1E-9847-47B78A500822@gmail.com>
Date: Sun, 07 Oct 2007 13:26:39 -0400
X-Virus-Checked: Checked by ClamAV on apache.org


Actually, MultiReader & MultiSegmentReader make use of this method, to
load all norms from each sub-reader into a single byte array.

I guess we could change the code to only load up until the end of
the byte array that's passed in, but, that weakens the error checking?
Ie if the intent is to "load all norms", it's nice to catch the error
(that you passed in a too-small byte array) earlier rather than later.

Or maybe we could add a new method whose purpose is to load a subset
of the norms?  Is there are particular use case behind this?

Mike

"Karl Wettin" <karl.wettin@gmail.com wrote:
> 7 okt 2007 kl. 13.47 skrev Michael McCandless:
> 
> >
> > I think the intention of that method is to load all norms for that  
> > reader
> > into the byte array, so I think it's reasonable that an exception is
> > thrown if you provide a byte array that's too small.
> 
> Hmm, OK.
> 
> But I don't understand why there is such a limit, and what could go  
> wrong if one would start allowing smaller arrays?
> 
> Nor can I find any use of this method in the trunk, except for in a  
> test case.
> 
> -- 
> karl
> 
> 
> 
> 
> >
> > Though maybe it would be friendlier to throw an  
> > IllegalArgumentException
> > that says "the byte array is not long enough"?
> >
> > Mike
> >
> > "Karl Wettin" <karl.wettin@gmail.com> wrote:
> >> I'm confused by this method. Why is the length set to maxDoc() and
> >> not bytes.length? This means that the following snippet will throw an
> >> ArrayIndexOutOfBoundsException in most cases:
> >>
> >> byte[] b = new byte[1];
> >> ir.norms(field, b, doc);
> >>
> >>
> >>>   /** Read norms into a pre-allocated array. */
> >>>   public synchronized void norms(String field, byte[] bytes, int
> >>> offset)
> >>>     throws IOException {
> >>>
> >>>     ensureOpen();
> >>>     Norm norm = (Norm) norms.get(field);
> >>>     if (norm == null) {
> >>>       System.arraycopy(fakeNorms(), 0, bytes, offset, maxDoc());
> >>>       return;
> >>>     }
> >>>
> >>>     if (norm.bytes != null) {                     // can copy from
> >>> cache
> >>>       System.arraycopy(norm.bytes, 0, bytes, offset, maxDoc());
> >>>       return;
> >>>     }
> >>>
> >>>     // Read from disk.  norm.in may be shared across  multiple
> >>> norms and
> >>>     // should only be used in a synchronized context.
> >>>     norm.in.seek(norm.normSeek);
> >>>     norm.in.readBytes(bytes, offset, maxDoc());
> >>>   }
> >>
> >> -- 
> >> karl
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30521-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 07 19:28:14 2007
Return-Path: <java-user-return-30521-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76935 invoked from network); 7 Oct 2007 19:28:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Oct 2007 19:28:13 -0000
Received: (qmail 274 invoked by uid 500); 7 Oct 2007 19:27:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 236 invoked by uid 500); 7 Oct 2007 19:27:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 225 invoked by uid 99); 7 Oct 2007 19:27:56 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 Oct 2007 12:27:56 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of devquestions@gmail.com designates 209.85.198.186 as permitted sender)
Received: from [209.85.198.186] (HELO rv-out-0910.google.com) (209.85.198.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 Oct 2007 19:27:58 +0000
Received: by rv-out-0910.google.com with SMTP id k20so501669rvb
        for <java-user@lucene.apache.org>; Sun, 07 Oct 2007 12:27:36 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        bh=y4r+5Pb7jLhZdhFFwkhxmRgcTBNfarEZyB5AlbiH/RY=;
        b=mSE5HkuwGU8SGbYLzPwKOuNTkZelPAJQBy+Gdc2+52qybUCscAiBSlQbYEczRL8hjONWRw/iNDgLUlMs/XWl3TpzJfHRh3vKaQ7yB8XZGMmIlhWOzXsZJ/70KrKepT0mMNUhNp8FilOYOF5wt0Y1Gn+TUBDSe/5pZIdXMXuvcBE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=XJNn6SUDAQvMl5BbNBZTvO/cyAxarRyZ7qOswnI0QYZC1Qb431d1Ov82WgG6gUeo3zxdR6z6uP/diMn7vh0jd2tNDJRH4zcQtsGDna/hHAw/ykKNtzBRalOxlHr+iZp6X55Vi4vJBWTZHNDBNAvcXjRzSTxcQDSoaVfbTMKhvdo=
Received: by 10.140.165.21 with SMTP id n21mr406329rve.1191785256697;
        Sun, 07 Oct 2007 12:27:36 -0700 (PDT)
Received: by 10.140.148.2 with HTTP; Sun, 7 Oct 2007 12:27:36 -0700 (PDT)
Message-ID: <c01704c90710071227v149acaffoee1d481d1bfcbe05@mail.gmail.com>
Date: Sun, 7 Oct 2007 15:27:36 -0400
From: "Developer Developer" <devquestions@gmail.com>
To: java-user@lucene.apache.org
Subject: Use of Field(String name, TokenStream tokenStream)
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_15336_7433777.1191785256851"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_15336_7433777.1191785256851
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hello Frens,

I am observing that a Field constructed using tokenStream i.e Filed fl  =
new Field(String name, TokenStream tokenStream)  is not converted to the
lower case when stored in the index.
The terms in the index are exactly same as those in tokenStream.
When I do a phrase search,the  PhraseQuery converts the search string to
all lower case , however it does not find any hits in the index because in
the index the terms are all in the Mixed case ( i.e as they appeared in the
tokenstream).

My questions are

is this the correct behavior of Lucene ?
If so, why do we need Tokenstream constructor  when we cannot even search on
it ?
is there a way to convert the tokens to terms while storing in the index
when using tokenstream as input to Field?

------=_Part_15336_7433777.1191785256851--

From java-user-return-30522-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 07 19:30:52 2007
Return-Path: <java-user-return-30522-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78083 invoked from network); 7 Oct 2007 19:30:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Oct 2007 19:30:51 -0000
Received: (qmail 2586 invoked by uid 500); 7 Oct 2007 19:30:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2544 invoked by uid 500); 7 Oct 2007 19:30:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2533 invoked by uid 99); 7 Oct 2007 19:30:34 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 Oct 2007 12:30:34 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of yseeley@gmail.com designates 209.85.198.188 as permitted sender)
Received: from [209.85.198.188] (HELO rv-out-0910.google.com) (209.85.198.188)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 Oct 2007 19:30:36 +0000
Received: by rv-out-0910.google.com with SMTP id k20so502057rvb
        for <java-user@lucene.apache.org>; Sun, 07 Oct 2007 12:30:15 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        bh=0uqZJecR9T/H5Ov6R+tFft4gGbQPAwNwcS5bDqnDyBw=;
        b=ZdMY43Ws4gx9Q6bAinz23AsrQw1r/uAkf5rTyIkEcg21rzNxYE8i6LWx3fW1Nk6Tz9oLiUeNhuCWZ+4CnMNoK26HYrjSYSlDd1Tvz5CcHNl/x14hpmIdPM0EnmZI25W29NF+OKVFGoRMIvnXuyMC3CW+D7fxLLNIohHYiIxSckw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        b=rOZEpOOmNVVIWqCAt7o/+ggDbFo1BZrpJvFnI49J0ZTyejooW3WUCVJDxecbOia9aSIlrNB5llxFLUMSshVbwofSJhlB+E6vP0TQ1dxtzSN3K1d2iOrsFu/0UIvRfhDUzdN0F0E42oWvxZI4E0LmGCydEsR80g+xDUtZGrSutUA=
Received: by 10.142.233.9 with SMTP id f9mr1719620wfh.1191785415003;
        Sun, 07 Oct 2007 12:30:15 -0700 (PDT)
Received: by 10.143.33.20 with HTTP; Sun, 7 Oct 2007 12:30:14 -0700 (PDT)
Message-ID: <c68e39170710071230k574de63fsa28e8e58fe7d8172@mail.gmail.com>
Date: Sun, 7 Oct 2007 15:30:14 -0400
From: "Yonik Seeley" <yonik@apache.org>
Sender: yseeley@gmail.com
To: java-user@lucene.apache.org
Subject: Re: norms(String field, byte[] bytes, int offset)
In-Reply-To: <1191777999.12906.1214589171@webmail.messagingengine.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <9DDFDD4D-EF67-4C77-AE6E-FAC1105882DB@gmail.com>
	 <1191757673.30911.1214561755@webmail.messagingengine.com>
	 <866E2AE4-AA51-4E1E-9847-47B78A500822@gmail.com>
	 <1191777999.12906.1214589171@webmail.messagingengine.com>
X-Google-Sender-Auth: 2921e07498d3589a
X-Virus-Checked: Checked by ClamAV on apache.org

On 10/7/07, Michael McCandless <lucene@mikemccandless.com> wrote:
> Actually, MultiReader & MultiSegmentReader make use of this method, to
> load all norms from each sub-reader into a single byte array.

Right.  Karl, see MultiSegmentReader.norms(String field)
for how this method is used.  You want to be able to read all of the
norms of a sub-reader into the middle of an existing byte[] that is
passed.

-Yonik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30523-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 07 21:47:13 2007
Return-Path: <java-user-return-30523-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97357 invoked from network); 7 Oct 2007 21:47:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Oct 2007 21:47:12 -0000
Received: (qmail 70894 invoked by uid 500); 7 Oct 2007 21:46:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70858 invoked by uid 500); 7 Oct 2007 21:46:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70847 invoked by uid 99); 7 Oct 2007 21:46:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 Oct 2007 14:46:54 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [208.69.42.181] (HELO radix.cryptio.net) (208.69.42.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 Oct 2007 21:46:56 +0000
Received: by radix.cryptio.net (Postfix, from userid 1007)
	id E702271C09F; Sun,  7 Oct 2007 14:46:05 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by radix.cryptio.net (Postfix) with ESMTP id D570D71C021
	for <java-user@lucene.apache.org>; Sun,  7 Oct 2007 14:46:05 -0700 (PDT)
Date: Sun, 7 Oct 2007 14:46:05 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: got stuck in running lucene demo
In-Reply-To: <13064913.post@talk.nabble.com>
Message-ID: <Pine.LNX.4.62.0710071444010.11688@radix.cryptio.net>
References: <13064913.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: java org.apache.lucene.demo.IndexFiles {full-path-to-lucene}/src
: 
: i dont know from which directory i have to execute this command.

it doesn't matter which directory you run it from -- that's why it says 
"{full-path-to-lucene}".  as long as you set your CLASSPATH up like the 
previous step said, then you can run that command anywhere you want, just 
keep in mind what it's going to do...

"This will produce a subdirectory called index which will contain an index 
of all of the Lucene source code."

...so that "index" directory will be in your current working directory -- 
so make sure you have write permisions for your current working directory.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30524-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 07 21:50:52 2007
Return-Path: <java-user-return-30524-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98133 invoked from network); 7 Oct 2007 21:50:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Oct 2007 21:50:51 -0000
Received: (qmail 74012 invoked by uid 500); 7 Oct 2007 21:50:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73982 invoked by uid 500); 7 Oct 2007 21:50:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73971 invoked by uid 99); 7 Oct 2007 21:50:34 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 Oct 2007 14:50:34 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [208.69.42.181] (HELO radix.cryptio.net) (208.69.42.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 Oct 2007 21:50:36 +0000
Received: by radix.cryptio.net (Postfix, from userid 1007)
	id 01FB871C0D3; Sun,  7 Oct 2007 14:50:15 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by radix.cryptio.net (Postfix) with ESMTP id 0017C71C0BA
	for <java-user@lucene.apache.org>; Sun,  7 Oct 2007 14:50:15 -0700 (PDT)
Date: Sun, 7 Oct 2007 14:50:15 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Group of documents.
In-Reply-To: <1e68ba6b0710052020p7dde2ffao291fcaf81161be6f@mail.gmail.com>
Message-ID: <Pine.LNX.4.62.0710071447130.11688@radix.cryptio.net>
References: <1e68ba6b0710052020p7dde2ffao291fcaf81161be6f@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

: The only solution that we have in our minds now is to have two indexes one
: for articles and one for feeds. There are two problems with this approach
: 1) redundancy

this isn't really a "problem" a lucene index is designed to make searching 
fast, not to be a normalized data store -- there are lots of little 
redundencies inside of a lucene index to make searching faster, you're 
just talking about adding one higher up.  

alterntately you could just have an index of articles and when you want to 
"search for a feed" you would scan through every matching article to build 
a list of matching feeds.  this would be less "redundent" but it would 
also probably be slower.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30525-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 07 22:03:43 2007
Return-Path: <java-user-return-30525-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99686 invoked from network); 7 Oct 2007 22:03:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Oct 2007 22:03:41 -0000
Received: (qmail 78760 invoked by uid 500); 7 Oct 2007 22:03:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78724 invoked by uid 500); 7 Oct 2007 22:03:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78713 invoked by uid 99); 7 Oct 2007 22:03:24 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 Oct 2007 15:03:24 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [208.69.42.181] (HELO radix.cryptio.net) (208.69.42.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 Oct 2007 22:03:26 +0000
Received: by radix.cryptio.net (Postfix, from userid 1007)
	id 2331371C0FE; Sun,  7 Oct 2007 15:02:36 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by radix.cryptio.net (Postfix) with ESMTP id 1E0DD71C0FC
	for <java-user@lucene.apache.org>; Sun,  7 Oct 2007 15:02:36 -0700 (PDT)
Date: Sun, 7 Oct 2007 15:02:36 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Help with Lucene Indexer crash recovery
In-Reply-To: <1191661443.14232.1214452223@webmail.messagingengine.com>
Message-ID: <Pine.LNX.4.62.0710071452230.11688@radix.cryptio.net>
References: <a206fb7e0710041830y15d483f3tb1efa75e3a968e8e@mail.gmail.com>  
 <1191585112.19609.1214311329@webmail.messagingengine.com>  
 <a206fb7e0710051250y3a264fedwb41e2a34a328d186@mail.gmail.com>
 <1191661443.14232.1214452223@webmail.messagingengine.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: That said, it should never in fact cause index corruption, as far as I
: know.  Lucene is "semi-transactional": at any & all moments you should
: be able to destroy the JVM and the index will be unharmed. I would
: really like to get to the bottom of why this is not the case here.

At any point you can shutdown the JVM and the index will be unharmed, but 
"destroying" it with "kill -9" goes a little farther then that.  

Lucene can't make that claim because the JVM can't even garuntee that 
bytes are written to physical disk when we close() an OutputStream -- all 
it garuntees is that the bytes have been handed to the OS.  When you "kill 
-9" a process the OS is free to make *EVERYTHING* about that process 
vanish without cleaning up after it ... i'm pretty sure even pending IO 
operations are fair game for disappearing.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30526-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 07 22:07:45 2007
Return-Path: <java-user-return-30526-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1144 invoked from network); 7 Oct 2007 22:07:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Oct 2007 22:07:45 -0000
Received: (qmail 80893 invoked by uid 500); 7 Oct 2007 22:07:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80863 invoked by uid 500); 7 Oct 2007 22:07:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80852 invoked by uid 99); 7 Oct 2007 22:07:28 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 Oct 2007 15:07:28 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [208.69.42.181] (HELO radix.cryptio.net) (208.69.42.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 Oct 2007 22:07:30 +0000
Received: by radix.cryptio.net (Postfix, from userid 1007)
	id 4C2F271C128; Sun,  7 Oct 2007 15:07:10 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by radix.cryptio.net (Postfix) with ESMTP id 48DFB71C121
	for <java-user@lucene.apache.org>; Sun,  7 Oct 2007 15:07:10 -0700 (PDT)
Date: Sun, 7 Oct 2007 15:07:10 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Use of Field(String name, TokenStream tokenStream)
In-Reply-To: <c01704c90710071227v149acaffoee1d481d1bfcbe05@mail.gmail.com>
Message-ID: <Pine.LNX.4.62.0710071504190.11688@radix.cryptio.net>
References: <c01704c90710071227v149acaffoee1d481d1bfcbe05@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: I am observing that a Field constructed using tokenStream i.e Filed fl  =
: new Field(String name, TokenStream tokenStream)  is not converted to the
: lower case when stored in the index.
: The terms in the index are exactly same as those in tokenStream.
: When I do a phrase search,the  PhraseQuery converts the search string to
: all lower case , however it does not find any hits in the index because in

if this is the case, then it is because the Analyzer used by your 
QueryParser is lowercasing the tokens.  when you use the Field constructor 
that takes a TokenStream, all of the analysis for the source text should 
have alreayd been done -- if not, then use one of the other constructors 
and let the Analyser do it's thing when you add the document to your 
index.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30527-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 07 22:15:56 2007
Return-Path: <java-user-return-30527-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3501 invoked from network); 7 Oct 2007 22:15:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Oct 2007 22:15:55 -0000
Received: (qmail 83463 invoked by uid 500); 7 Oct 2007 22:15:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83427 invoked by uid 500); 7 Oct 2007 22:15:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83416 invoked by uid 99); 7 Oct 2007 22:15:38 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 Oct 2007 15:15:38 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 80.76.149.213 is neither permitted nor denied by domain of karl.wettin@gmail.com)
Received: from [80.76.149.213] (HELO ch-smtp02.sth.basefarm.net) (80.76.149.213)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 Oct 2007 22:15:39 +0000
Received: from c83-249-118-113.bredband.comhem.se ([83.249.118.113]:56472 helo=[192.168.1.101])
	by ch-smtp02.sth.basefarm.net with esmtp (Exim 4.66)
	(envelope-from <karl.wettin@gmail.com>)
	id 1IeeM4-00019U-8P
	for java-user@lucene.apache.org; Mon, 08 Oct 2007 00:12:08 +0200
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <1191777999.12906.1214589171@webmail.messagingengine.com>
References: <9DDFDD4D-EF67-4C77-AE6E-FAC1105882DB@gmail.com> <1191757673.30911.1214561755@webmail.messagingengine.com> <866E2AE4-AA51-4E1E-9847-47B78A500822@gmail.com> <1191777999.12906.1214589171@webmail.messagingengine.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <041B15FE-F2C2-46C4-B594-728A4F362FC4@gmail.com>
Content-Transfer-Encoding: 7bit
From: Karl Wettin <karl.wettin@gmail.com>
Subject: Re: norms(String field, byte[] bytes, int offset)
Date: Mon, 8 Oct 2007 00:03:54 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Originating-IP: 83.249.118.113
X-Scan-Result: No virus found in message 1IeeM4-00019U-8P.
X-Scan-Signature: ch-smtp02.sth.basefarm.net 1IeeM4-00019U-8P 41271da651e67142b61cc92ce033c981
X-Virus-Checked: Checked by ClamAV on apache.org


7 okt 2007 kl. 19.26 skrev Michael McCandless:

> I guess we could change the code to only load up until the end of
> the byte array that's passed in, but, that weakens the error checking?
> Ie if the intent is to "load all norms", it's nice to catch the error
> (that you passed in a too-small byte array) earlier rather than later.

If it was me that wrote that code, I'd have MultiWhatNot to validate and
throw the exception, if possible. But that's just me.

> Or maybe we could add a new method whose purpose is to load a subset
> of the norms?  Is there are particular use case behind this?

There is no use-case. I noticed this as a discrepancy between LUCENE-550
and the SegmentImplementation, and simply wondered why.


-- 
karl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30528-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 07 22:20:04 2007
Return-Path: <java-user-return-30528-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4609 invoked from network); 7 Oct 2007 22:20:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Oct 2007 22:20:03 -0000
Received: (qmail 85244 invoked by uid 500); 7 Oct 2007 22:19:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85211 invoked by uid 500); 7 Oct 2007 22:19:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85200 invoked by uid 99); 7 Oct 2007 22:19:46 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 Oct 2007 15:19:46 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [208.69.42.181] (HELO radix.cryptio.net) (208.69.42.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 Oct 2007 22:19:48 +0000
Received: by radix.cryptio.net (Postfix, from userid 1007)
	id 35B8D71C1D1; Sun,  7 Oct 2007 15:18:58 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by radix.cryptio.net (Postfix) with ESMTP id 326B271C1D0
	for <java-user@lucene.apache.org>; Sun,  7 Oct 2007 15:18:58 -0700 (PDT)
Date: Sun, 7 Oct 2007 15:18:58 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Generalized proximity query performance
In-Reply-To: <a76d475c0710051412y24c0d758q9ee4f16ceec8dacc@mail.gmail.com>
Message-ID: <Pine.LNX.4.62.0710071509030.11688@radix.cryptio.net>
References: <a76d475c0710031717y526af717p50b4ec4d254e4841@mail.gmail.com> 
 <Pine.LNX.4.62.0710051050260.23452@radix.cryptio.net>
 <a76d475c0710051412y24c0d758q9ee4f16ceec8dacc@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

: If I could intelligently rewrite queries, this would be better formulated
: as:
: title:"harry potter"~5 genre:books
: 
: Instead, since I don't have that knowledge, I should perhaps rewrite several
: guesses, and take the dismax.  These guesses are equivalent to passing the

right.  okay.  the brute force approach of trying all possible 
permutations is really the only thing you can do unless you can think 
of ways to translate the "intelligence" that you would use to rewrite 
hte query into code.  One start: test each "word" against each field and 
see if the idf is unusually high, if it is then maybe it's a good idea to 
pull that word out of the phrase and use it to query that specific field 
... maybe you only do this on words at the beginign and end of the input?

the problem becomes a lot simpler when you write code specific to your 
domain .. if you know you are dealing with "products" and you hvae a 
"type" field that only ever contains 1 of 50 values which frequently 
appera in search input (ie: books, couch, dvd) then testing that field
first makes a lot of sense ... the problem becausem much ahrder when you 
want it to work on any generic index under the sun without knowing 
anything about the user behavior.

: This is rather slow.  The in the before/after, the numbers are in seconds,
: for one query, before and after this transformation has been made.

oh, well yeah ... no suprise there.  you can't compare benchmarks between 
two queries that do completley differnet things -- a "simple" query is 
probably always going to be faster the a more complex query that matches a 
different set of documents, or does a "better" job of scoring the same 
set as the simple query.  it's an apple and oranges thing.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30529-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 08 07:34:16 2007
Return-Path: <java-user-return-30529-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67957 invoked from network); 8 Oct 2007 07:34:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Oct 2007 07:34:15 -0000
Received: (qmail 46837 invoked by uid 500); 8 Oct 2007 07:33:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46812 invoked by uid 500); 8 Oct 2007 07:33:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46801 invoked by uid 99); 8 Oct 2007 07:33:57 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 00:33:57 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [194.125.145.37] (HELO mercury.propylon.com) (194.125.145.37)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 07:33:58 +0000
Received: from propylon-sdsl.sdsl.esat.net ([193.120.101.26] helo=[192.168.213.155])
	by mercury.propylon.com with esmtp (Exim 4.50)
	id 1Ien1M-0007Ie-Mg
	for java-user@lucene.apache.org; Mon, 08 Oct 2007 08:27:25 +0100
Message-ID: <4709DC8E.9020209@propylon.com>
Date: Mon, 08 Oct 2007 08:30:22 +0100
From: John Byrne <john.byrne@propylon.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
References: <470664E1.8020400@propylon.com> <Pine.LNX.4.62.0710051600170.28363@radix.cryptio.net>
In-Reply-To: <Pine.LNX.4.62.0710051600170.28363@radix.cryptio.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-SA-Exim-Connect-IP: 193.120.101.26
X-SA-Exim-Mail-From: john.byrne@propylon.com
Subject: Re: Querying the Query object
X-Spam-Checker-Version: SpamAssassin 3.0.3 (2005-04-27) on 
	mercury.propylon.com
X-Spam-Level: 
X-SA-Exim-Version: 4.2 (built Thu, 03 Mar 2005 10:44:12 +0100)
X-SA-Exim-Scanned: Yes (on mercury.propylon.com)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=0.1 required=5.0 tests=AWL autolearn=failed 
	version=3.0.3

Yes, that sounds like what I was looking for! Thanks.

Chris Hostetter wrote:
> : Is there any way to find out if an instance of Query has any terms within it?
> : I have a custom parser (QueryParser does not do everything I need) and it
> : somtimes creates empty BooleanQuerys. (This happens as a side effect of
>
> so you're problem is not "does a Query have any terms in it" it's "does a 
> BooleanQuery have any clauses in it?" ... booleanQuery.clauses().size() 
> will answer that question for you.
>
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>   


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30530-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 08 13:37:25 2007
Return-Path: <java-user-return-30530-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95384 invoked from network); 8 Oct 2007 13:37:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Oct 2007 13:37:24 -0000
Received: (qmail 61905 invoked by uid 500); 8 Oct 2007 13:37:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61875 invoked by uid 500); 8 Oct 2007 13:37:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61864 invoked by uid 99); 8 Oct 2007 13:37:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 06:37:06 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pvsaikrishna@gmail.com designates 66.249.82.226 as permitted sender)
Received: from [66.249.82.226] (HELO wx-out-0506.google.com) (66.249.82.226)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 13:37:08 +0000
Received: by wx-out-0506.google.com with SMTP id i28so1138119wxd
        for <java-user@lucene.apache.org>; Mon, 08 Oct 2007 06:36:47 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        bh=Qro+TGBp6wRYbX4RR60jnx1V5OZg5ZTI1LwBsITTR3E=;
        b=a1uxpGAnrA7JQ8Zn4/zpCGwqP8JvagKvxjwK5KEl6aduahvjRz8HomsnaX5bpD5C9e82ALshbP4pKlipDxA3QfUWqon5N+6zxDXddHNF5NFLE/IeXnQ39iSorJaOFjD0LCsdQ8X1pilOLc/XDtVPjqIpRJSOvxdxeWEWFaRcfyA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=B53WbW7a/2LjM1we6N8CXt4I1z/GwnWXeBC6bnuAg1ROy5T+xM7OaOx77OOYoBJwEHovSYoK3P7t1Kf3YR6eb8Nq2S5Kuh/OthJhE1WX08LX4XiLQTt8q81wr8Ajo98PRqPnz2yXktrZ2AUr5RqWqUkHtwMZbRjGoMLDcvreIiE=
Received: by 10.90.56.11 with SMTP id e11mr911015aga.1191850607268;
        Mon, 08 Oct 2007 06:36:47 -0700 (PDT)
Received: by 10.90.101.20 with HTTP; Mon, 8 Oct 2007 06:36:47 -0700 (PDT)
Message-ID: <171dbfa60710080636k6bf02cebt93e906963b01fd84@mail.gmail.com>
Date: Mon, 8 Oct 2007 19:06:47 +0530
From: "saikrishna venkata pendyala" <pvsaikrishna@gmail.com>
To: java-user@lucene.apache.org
Subject: Re : porting lucene on to mobile phone
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_766_25138204.1191850607236"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_766_25138204.1191850607236
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hai,

      Has any one tried to port lucene on to a mobile phone. I need a
text-based search engine for mobile phone as part of my project.

      Or is there any other J2ME based API which can be used to search the
text in mobile phones.

thanks,
Saikrishna.

------=_Part_766_25138204.1191850607236--

From java-user-return-30531-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 08 13:59:20 2007
Return-Path: <java-user-return-30531-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4289 invoked from network); 8 Oct 2007 13:59:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Oct 2007 13:59:19 -0000
Received: (qmail 97701 invoked by uid 500); 8 Oct 2007 13:59:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97662 invoked by uid 500); 8 Oct 2007 13:59:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97651 invoked by uid 99); 8 Oct 2007 13:59:02 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 06:59:02 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of narendra.yadala@gmail.com designates 209.85.146.179 as permitted sender)
Received: from [209.85.146.179] (HELO wa-out-1112.google.com) (209.85.146.179)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 13:59:04 +0000
Received: by wa-out-1112.google.com with SMTP id j40so1803874wah
        for <java-user@lucene.apache.org>; Mon, 08 Oct 2007 06:58:25 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        bh=9DdUUBEXSsQTWuj8Kj7WuKt2BXsNpRlcW/sDu13rBio=;
        b=M5fhv8cJOYKStCLb/Obcjiokd5ZS2us+MiDQclojP7Q2Pmm3mbKWA7zQGuSLrPj6CusNjtQMuYUGXgXbqcWBMj/2KfwlYsGVFuP1mbBiDM9/KJCEliIvxfVh1ZWkdNJXtwjeYrO4TlsxGtAh0+WJgFLhAP6FiP0ZKkIlh7LgdWM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=ZIr2oJqlW+78jHkYeJk7uuG39QVKRq/ryblWXiA6Sd9G9gstQorEntLGRwFTuu7C8HMTosnU1wLBajwgWDwl/I3TjA/gBnRzOUbJdlxVUkeNDI7Xw0w52bx6300qDgxN/vgfasM1/gBCm96U0lvqOL/I6am6YyAsNK+6uEtVdBU=
Received: by 10.114.109.1 with SMTP id h1mr2766785wac.1191851905829;
        Mon, 08 Oct 2007 06:58:25 -0700 (PDT)
Received: by 10.115.110.16 with HTTP; Mon, 8 Oct 2007 06:58:25 -0700 (PDT)
Message-ID: <81fbf42e0710080658w7c6134eep3fed4dcd62ef1f6e@mail.gmail.com>
Date: Mon, 8 Oct 2007 19:28:25 +0530
From: "Narendra yadala" <narendra.yadala@gmail.com>
To: java-user@lucene.apache.org
Subject: Lucene indexing error
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_27016_7354541.1191851905818"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_27016_7354541.1191851905818
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi All

I am getting this error when I am doing Indexing using Lucene.
java.io.IOException: Access is denied on
java.io.WinNTFileSystem.createFileExclusively
Please let me know if there is any fix for this bug.

Thanks
Narendra

------=_Part_27016_7354541.1191851905818--

From java-user-return-30532-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 08 14:08:35 2007
Return-Path: <java-user-return-30532-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7234 invoked from network); 8 Oct 2007 14:08:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Oct 2007 14:08:34 -0000
Received: (qmail 15782 invoked by uid 500); 8 Oct 2007 14:08:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15590 invoked by uid 500); 8 Oct 2007 14:08:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15579 invoked by uid 99); 8 Oct 2007 14:08:15 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 07:08:15 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 80.76.149.213 is neither permitted nor denied by domain of karl.wettin@gmail.com)
Received: from [80.76.149.213] (HELO ch-smtp02.sth.basefarm.net) (80.76.149.213)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 14:08:16 +0000
Received: from c83-249-118-113.bredband.comhem.se ([83.249.118.113]:50644 helo=[192.168.1.101])
	by ch-smtp02.sth.basefarm.net with esmtp (Exim 4.66)
	(envelope-from <karl.wettin@gmail.com>)
	id 1IetDx-0000y7-7Y
	for java-user@lucene.apache.org; Mon, 08 Oct 2007 16:04:45 +0200
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <171dbfa60710080636k6bf02cebt93e906963b01fd84@mail.gmail.com>
References: <171dbfa60710080636k6bf02cebt93e906963b01fd84@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <9CA7A691-6D66-41C1-9365-92614EC15E96@gmail.com>
Content-Transfer-Encoding: 7bit
From: Karl Wettin <karl.wettin@gmail.com>
Subject: Re: Re : porting lucene on to mobile phone
Date: Mon, 8 Oct 2007 15:57:00 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Originating-IP: 83.249.118.113
X-Scan-Result: No virus found in message 1IetDx-0000y7-7Y.
X-Scan-Signature: ch-smtp02.sth.basefarm.net 1IetDx-0000y7-7Y 27f61fb801e63fd4fe2fbbed07b56140
X-Virus-Checked: Checked by ClamAV on apache.org


8 okt 2007 kl. 15.36 skrev saikrishna venkata pendyala:

>       Has any one tried to port lucene on to a mobile phone. I need a
> text-based search engine for mobile phone as part of my project.


There was some discussion about this here on the forums some year(s?)  
ago. The major problem back then was the lack of floaing points.  
Also, as Lucene moves towards Java 1.5 the possible compabillity with  
J2ME moves further away.

>       Or is there any other J2ME based API which can be used to  
> search the
> text in mobile phones.

Before asking too much you should tell us some about your project.  
How large is the corpus, what features do you require, et c? I.e. do  
you really need Lucene, is it perhaps sufficient with something  
simple as a trie-pattern?

-- 
karl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30533-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 08 14:09:16 2007
Return-Path: <java-user-return-30533-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7433 invoked from network); 8 Oct 2007 14:09:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Oct 2007 14:09:15 -0000
Received: (qmail 17481 invoked by uid 500); 8 Oct 2007 14:08:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17455 invoked by uid 500); 8 Oct 2007 14:08:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17444 invoked by uid 99); 8 Oct 2007 14:08:57 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 07:08:57 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 80.76.149.213 is neither permitted nor denied by domain of karl.wettin@gmail.com)
Received: from [80.76.149.213] (HELO ch-smtp02.sth.basefarm.net) (80.76.149.213)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 14:08:59 +0000
Received: from c83-249-118-113.bredband.comhem.se ([83.249.118.113]:50644 helo=[192.168.1.101])
	by ch-smtp02.sth.basefarm.net with esmtp (Exim 4.66)
	(envelope-from <karl.wettin@gmail.com>)
	id 1IetEe-0000y7-8a
	for java-user@lucene.apache.org; Mon, 08 Oct 2007 16:05:28 +0200
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <81fbf42e0710080658w7c6134eep3fed4dcd62ef1f6e@mail.gmail.com>
References: <81fbf42e0710080658w7c6134eep3fed4dcd62ef1f6e@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <AF80679D-E467-4CB1-8E13-CC185099C5B2@gmail.com>
Content-Transfer-Encoding: 7bit
From: Karl Wettin <karl.wettin@gmail.com>
Subject: Re: Lucene indexing error
Date: Mon, 8 Oct 2007 15:57:43 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Originating-IP: 83.249.118.113
X-Scan-Result: No virus found in message 1IetEe-0000y7-8a.
X-Scan-Signature: ch-smtp02.sth.basefarm.net 1IetEe-0000y7-8a 127b380d43d058fe835bb0a17cdb0844
X-Virus-Checked: Checked by ClamAV on apache.org


8 okt 2007 kl. 15.58 skrev Narendra yadala:

> Hi All
>
> I am getting this error when I am doing Indexing using Lucene.
> java.io.IOException: Access is denied on
> java.io.WinNTFileSystem.createFileExclusively
> Please let me know if there is any fix for this bug.

Please supply the complete stack trace.


-- 
karl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30534-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 08 14:12:54 2007
Return-Path: <java-user-return-30534-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8211 invoked from network); 8 Oct 2007 14:12:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Oct 2007 14:12:54 -0000
Received: (qmail 21483 invoked by uid 500); 8 Oct 2007 14:12:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21449 invoked by uid 500); 8 Oct 2007 14:12:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21438 invoked by uid 99); 8 Oct 2007 14:12:36 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 07:12:36 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of narendra.yadala@gmail.com designates 72.14.204.227 as permitted sender)
Received: from [72.14.204.227] (HELO qb-out-0506.google.com) (72.14.204.227)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 14:12:38 +0000
Received: by qb-out-0506.google.com with SMTP id o21so737935qba
        for <java-user@lucene.apache.org>; Mon, 08 Oct 2007 07:12:17 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=8X2xk/7m5FXigBYmhvgowyM6y5wqIzzaA+oUcfSlwzQ=;
        b=mFi24HoLcKX6ID3nKqmRmxQ1j0DW3EbEGiPf7kKMn/7KhrJqxz3rBTk2WxwlJzMvQ3jg6Rv86ZSB5Ttr0zQKYgEjSYIm+lpe+sEfzt3Wm4CJ5cqnCpI+IOGgHlkyrOWlrRg0ImPkswSZFshgnDUGVw2ytVrUYHl5ya4KOo4DMK4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=NIiFoScH1JZzUCGa3xwMELAQ4/L8jlTDpb13SSxtAx3/sVKdTa2lqY/ddKK3dChdbjPURvPejNwfeqdNGeSNzcGknAp0Y1yLHBIpY8L45u76NzgZiU+rl066dxbHlAAtiNoWsBShPR2qYx2pcdABkepyxIbDS9mcMrVdhdMrKXI=
Received: by 10.114.177.1 with SMTP id z1mr2564281wae.1191852736720;
        Mon, 08 Oct 2007 07:12:16 -0700 (PDT)
Received: by 10.115.110.16 with HTTP; Mon, 8 Oct 2007 07:12:16 -0700 (PDT)
Message-ID: <81fbf42e0710080712x339639ayacd316789bc86b6a@mail.gmail.com>
Date: Mon, 8 Oct 2007 19:42:16 +0530
From: "Narendra yadala" <narendra.yadala@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene indexing error
In-Reply-To: <AF80679D-E467-4CB1-8E13-CC185099C5B2@gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_27133_11079655.1191852736700"
References: <81fbf42e0710080658w7c6134eep3fed4dcd62ef1f6e@mail.gmail.com>
	 <AF80679D-E467-4CB1-8E13-CC185099C5B2@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_27133_11079655.1191852736700
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

This is the relevant portion of the stack trace:

Caused by: java.io.IOException: Access is denied
      at java.io.WinNTFileSystem.createFileExclusively(Native Method)
      at java.io.File.createNewFile(File.java:850)
      at org.apache.jackrabbit.core.query.lucene.FSDirectory$1.obtain(
FSDirectory.java:119)
      at org.apache.lucene.store.Lock.obtain(Lock.java:51)
      at org.apache.lucene.store.Lock$With.run(Lock.java:98)
      at org.apache.lucene.index.IndexReader.open(IndexReader.java:141)
      at org.apache.lucene.index.IndexReader.open(IndexReader.java:136)


On 10/8/07, Karl Wettin <karl.wettin@gmail.com> wrote:
>
>
> 8 okt 2007 kl. 15.58 skrev Narendra yadala:
>
> > Hi All
> >
> > I am getting this error when I am doing Indexing using Lucene.
> > java.io.IOException: Access is denied on
> > java.io.WinNTFileSystem.createFileExclusively
> > Please let me know if there is any fix for this bug.
>
> Please supply the complete stack trace.
>
>
> --
> karl
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_27133_11079655.1191852736700--

From java-user-return-30535-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 08 14:26:36 2007
Return-Path: <java-user-return-30535-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11633 invoked from network); 8 Oct 2007 14:26:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Oct 2007 14:26:33 -0000
Received: (qmail 44462 invoked by uid 500); 8 Oct 2007 14:26:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43664 invoked by uid 500); 8 Oct 2007 14:26:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43653 invoked by uid 99); 8 Oct 2007 14:26:15 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 07:26:14 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jattardi@gmail.com designates 209.85.146.183 as permitted sender)
Received: from [209.85.146.183] (HELO wa-out-1112.google.com) (209.85.146.183)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 14:26:17 +0000
Received: by wa-out-1112.google.com with SMTP id j40so1813318wah
        for <java-user@lucene.apache.org>; Mon, 08 Oct 2007 07:25:55 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=KFqtLBrxkBbrQOWjOx+0sEcwHoiwyBWLqzdKN5+m6qo=;
        b=JVhJDvo8EVefG4sCgW8q0/x8l0RLzM6z6cybeKbBPxi4jfd8aaZ5aIDoyYOlvWwZTuocX+T/8f3diBwZHGO/rZy6yorVx7M+cKJU963JB0xdr9+Evt3150euofjL0g/U4KAkUmUeCRDgVd7mWBezXk0u7yj9WmBl8Fopj+f2UGU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Hq9iaoAW99bAQnmf5vhI+NJz7TPKcFHyDO1WaV1ChpiNe5V5BelO1OA8Hpj0vM0wvRJ+QG8KMGCxpIRSA7Oc3MQxjIy0Om0GdutZJlSnTOVQ2XeKVFh8O2kM9/HAWTdBfFLrjd9uRMaSlQYFKu6KLktG05BaEgYNPajWUbLb32c=
Received: by 10.114.27.20 with SMTP id a20mr3649885waa.1191853553774;
        Mon, 08 Oct 2007 07:25:53 -0700 (PDT)
Received: by 10.115.107.3 with HTTP; Mon, 8 Oct 2007 07:25:53 -0700 (PDT)
Message-ID: <7a14509e0710080725r639e60fjd2481da039767bf5@mail.gmail.com>
Date: Mon, 8 Oct 2007 10:25:53 -0400
From: "Joe Attardi" <jattardi@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene indexing error
In-Reply-To: <81fbf42e0710080712x339639ayacd316789bc86b6a@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_11_29684530.1191853553770"
References: <81fbf42e0710080658w7c6134eep3fed4dcd62ef1f6e@mail.gmail.com>
	 <AF80679D-E467-4CB1-8E13-CC185099C5B2@gmail.com>
	 <81fbf42e0710080712x339639ayacd316789bc86b6a@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_11_29684530.1191853553770
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

On 10/8/07, Narendra yadala <narendra.yadala@gmail.com> wrote:
>
> This is the relevant portion of the stack trace:
>
> Caused by: java.io.IOException: Access is denied
>       at java.io.WinNTFileSystem.createFileExclusively(Native Method)
>       at java.io.File.createNewFile(File.java:850)
>       at org.apache.jackrabbit.core.query.lucene.FSDirectory$1.obtain(
> FSDirectory.java:119)
>       at org.apache.lucene.store.Lock.obtain(Lock.java:51)
>       at org.apache.lucene.store.Lock$With.run(Lock.java:98)
>       at org.apache.lucene.index.IndexReader.open(IndexReader.java:141)
>       at org.apache.lucene.index.IndexReader.open(IndexReader.java:136)


Looks like you don't have permission to access the Lucene index file(s).

-- 
Joe Attardi
jattardi@gmail.com
http://thinksincode.blogspot.com/

------=_Part_11_29684530.1191853553770--

From java-user-return-30536-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 08 14:29:37 2007
Return-Path: <java-user-return-30536-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12410 invoked from network); 8 Oct 2007 14:29:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Oct 2007 14:29:37 -0000
Received: (qmail 51229 invoked by uid 500); 8 Oct 2007 14:29:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51199 invoked by uid 500); 8 Oct 2007 14:29:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51188 invoked by uid 99); 8 Oct 2007 14:29:19 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 07:29:19 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of narendra.yadala@gmail.com designates 64.233.162.239 as permitted sender)
Received: from [64.233.162.239] (HELO nz-out-0506.google.com) (64.233.162.239)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 14:29:16 +0000
Received: by nz-out-0506.google.com with SMTP id i28so596848nzi
        for <java-user@lucene.apache.org>; Mon, 08 Oct 2007 07:28:55 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=pGRlUV/MwKfWjjWumKjgso19wlpECI+Ylvo0n6Tia1Y=;
        b=i7Ix3KIkZeTauhNmBTGe+YM5b7QqhlU2Wup2yvX5yU6Vi4xTuUQR0IRZQtyVMrcvlAPf+xzyr7ON0IZSDJz+2vGXdB294vyLCr9KU7laNOhk4Kw/Ap3MH9MX9bbN+shP5qmIfPOPL90F8CWbkZG7etSpNDXa2Cfl3i7KO035i7c=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=MUGbeEBsWm5PR1zFJrkRDTRR+X5qH7vAAH+yNqpINebPwfhtwQNyfO4wmKADVOZqU7vI58fD2WVjLOZH4pFbIaN15acsyEJrwuUBhqLco43P/y9cAU2fIVdR7UJPxCchN/plaJJfZycblvlAWVT1Op5PeTaJdnpJua8uWI6meOc=
Received: by 10.142.49.4 with SMTP id w4mr2197570wfw.1191853734368;
        Mon, 08 Oct 2007 07:28:54 -0700 (PDT)
Received: by 10.65.107.4 with HTTP; Mon, 8 Oct 2007 07:28:54 -0700 (PDT)
Message-ID: <81fbf42e0710080728s35a065el71b475ad93c72e44@mail.gmail.com>
Date: Mon, 8 Oct 2007 19:58:54 +0530
From: "Narendra yadala" <narendra.yadala@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene indexing error
In-Reply-To: <7a14509e0710080725r639e60fjd2481da039767bf5@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_23556_10480879.1191853734285"
References: <81fbf42e0710080658w7c6134eep3fed4dcd62ef1f6e@mail.gmail.com>
	 <AF80679D-E467-4CB1-8E13-CC185099C5B2@gmail.com>
	 <81fbf42e0710080712x339639ayacd316789bc86b6a@mail.gmail.com>
	 <7a14509e0710080725r639e60fjd2481da039767bf5@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_23556_10480879.1191853734285
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I do have permission to access Lucene files. They reside on my local
machine.
But still this is giving the error.I am using Windows XP operationg system.

Regards
Narendra


On 10/8/07, Joe Attardi <jattardi@gmail.com> wrote:
>
> On 10/8/07, Narendra yadala <narendra.yadala@gmail.com> wrote:
> >
> > This is the relevant portion of the stack trace:
> >
> > Caused by: java.io.IOException: Access is denied
> >       at java.io.WinNTFileSystem.createFileExclusively(Native Method)
> >       at java.io.File.createNewFile(File.java:850)
> >       at org.apache.jackrabbit.core.query.lucene.FSDirectory$1.obtain(
> > FSDirectory.java:119)
> >       at org.apache.lucene.store.Lock.obtain(Lock.java:51)
> >       at org.apache.lucene.store.Lock$With.run(Lock.java:98)
> >       at org.apache.lucene.index.IndexReader.open(IndexReader.java:141)
> >       at org.apache.lucene.index.IndexReader.open(IndexReader.java:136)
>
>
> Looks like you don't have permission to access the Lucene index file(s).
>
> --
> Joe Attardi
> jattardi@gmail.com
> http://thinksincode.blogspot.com/
>

------=_Part_23556_10480879.1191853734285--

From java-user-return-30537-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 08 14:34:08 2007
Return-Path: <java-user-return-30537-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13703 invoked from network); 8 Oct 2007 14:34:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Oct 2007 14:34:08 -0000
Received: (qmail 58563 invoked by uid 500); 8 Oct 2007 14:33:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58531 invoked by uid 500); 8 Oct 2007 14:33:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58520 invoked by uid 99); 8 Oct 2007 14:33:49 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 07:33:49 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jattardi@gmail.com designates 209.85.146.178 as permitted sender)
Received: from [209.85.146.178] (HELO wa-out-1112.google.com) (209.85.146.178)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 14:33:52 +0000
Received: by wa-out-1112.google.com with SMTP id j40so1815829wah
        for <java-user@lucene.apache.org>; Mon, 08 Oct 2007 07:33:31 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=p+Bqoj6LX8Xfgihi+e08v1nlGxjOr7PDP9woYgqxGmA=;
        b=i762cWsu/kXbL17RSxkKgbgL7XlqlFP7u8UT0uauegtx+KNwy4GkPOZb6Rx15K9RtI8B7A2glD0jKKEDADy/CHHXD8wFVQvwrI2xnwuKZH77MjWCUIYfpx5QJ8/IzaaHxO+cIMNB4rYWj4Jf9iUlVgPGmD0Cij1LujuK9z2EWBc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=iZembRk+twKvlfvwgq3YjS1PedhFyEcsVEf+ZKLga2Swm3oiPoE0ZlMFWu6i6h1vONUC5uLbPFjjADgkidZzV2D/1vEzE2cLAHxmC163uAmtkZP2hFAfxEx9CdeB2cT+qc9VCBu6iaMA2lgajVyzzwfM9SWQQ1/cKRFKrWSuoko=
Received: by 10.114.148.1 with SMTP id v1mr3429449wad.1191854010862;
        Mon, 08 Oct 2007 07:33:30 -0700 (PDT)
Received: by 10.115.107.3 with HTTP; Mon, 8 Oct 2007 07:33:30 -0700 (PDT)
Message-ID: <7a14509e0710080733j7716d8e3se18b6e25a4fcbaf6@mail.gmail.com>
Date: Mon, 8 Oct 2007 10:33:30 -0400
From: "Joe Attardi" <jattardi@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene indexing error
In-Reply-To: <81fbf42e0710080728s35a065el71b475ad93c72e44@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_49_30386168.1191854010855"
References: <81fbf42e0710080658w7c6134eep3fed4dcd62ef1f6e@mail.gmail.com>
	 <AF80679D-E467-4CB1-8E13-CC185099C5B2@gmail.com>
	 <81fbf42e0710080712x339639ayacd316789bc86b6a@mail.gmail.com>
	 <7a14509e0710080725r639e60fjd2481da039767bf5@mail.gmail.com>
	 <81fbf42e0710080728s35a065el71b475ad93c72e44@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_49_30386168.1191854010855
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

On 10/8/07, Narendra yadala <narendra.yadala@gmail.com> wrote:
>
> I do have permission to access Lucene files. They reside on my local
> machine.
> But still this is giving the error.I am using Windows XP operationg
> system.
>

Well, since you are opening an IndexReader (as evidenced by your stack
trace), I assume that the file that Lucene is trying to create is a lock
file. Do you have any stale lock files, or any other kind of weird situation
that might prevent a lock file from being created in your index directory?

What if you try a different directory for your index - do you get the same
error then?

-- 
Joe Attardi
jattardi@gmail.com
http://thinksincode.blogspot.com/

------=_Part_49_30386168.1191854010855--

From java-user-return-30538-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 08 14:45:13 2007
Return-Path: <java-user-return-30538-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15632 invoked from network); 8 Oct 2007 14:45:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Oct 2007 14:45:11 -0000
Received: (qmail 73008 invoked by uid 500); 8 Oct 2007 14:44:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72982 invoked by uid 500); 8 Oct 2007 14:44:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72971 invoked by uid 99); 8 Oct 2007 14:44:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 07:44:54 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of narendra.yadala@gmail.com designates 64.233.166.178 as permitted sender)
Received: from [64.233.166.178] (HELO py-out-1112.google.com) (64.233.166.178)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 14:44:56 +0000
Received: by py-out-1112.google.com with SMTP id d32so4530476pye
        for <java-user@lucene.apache.org>; Mon, 08 Oct 2007 07:44:35 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=6QR22JmPzM69DFNIBA1vw2ueObf1a5BuEVCt5uLkfOo=;
        b=XZSZiFaWFYQ367EPm46/GlOHzwIuuOHE+dtOP6A3VeL05xR14rzTd9VlS2uk/gdujBN/DDphEmeROGDggMOpHHl8C3bmpcHetvqQxjWVFZhUibnjEGUPf9dxT2EM7Xhecf/ged5ekq5MIoY46GPTzX+nvsZ+7Dju05UYcdpObyc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=RuCoITxFE214iKpAkO5oci95d5nwnRclRTevrJZHAm8VgqG3JMSRWBYiI27z+cD4EofwiAqiJboAbm5nnd1zBb5+T8HeCO/PS9SZv7p9E/al2s9i9ov9/0D+QHkX8Y7d+vsxrVF2XCoHicigeDDSU/xihFeiNr+ee4NBnDTYBu0=
Received: by 10.65.200.8 with SMTP id c8mr22603892qbq.1191854672648;
        Mon, 08 Oct 2007 07:44:32 -0700 (PDT)
Received: by 10.65.107.4 with HTTP; Mon, 8 Oct 2007 07:44:32 -0700 (PDT)
Message-ID: <81fbf42e0710080744x7f50c65bwd43d263c8cfe7fb0@mail.gmail.com>
Date: Mon, 8 Oct 2007 20:14:32 +0530
From: "Narendra yadala" <narendra.yadala@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene indexing error
In-Reply-To: <7a14509e0710080733j7716d8e3se18b6e25a4fcbaf6@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_23674_13102517.1191854672641"
References: <81fbf42e0710080658w7c6134eep3fed4dcd62ef1f6e@mail.gmail.com>
	 <AF80679D-E467-4CB1-8E13-CC185099C5B2@gmail.com>
	 <81fbf42e0710080712x339639ayacd316789bc86b6a@mail.gmail.com>
	 <7a14509e0710080725r639e60fjd2481da039767bf5@mail.gmail.com>
	 <81fbf42e0710080728s35a065el71b475ad93c72e44@mail.gmail.com>
	 <7a14509e0710080733j7716d8e3se18b6e25a4fcbaf6@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_23674_13102517.1191854672641
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I think this bug is related to the one posted on Lucene JIRA:
http://issues.apache.org/jira/browse/LUCENE-665
Please let me know if there is any solution to this bug of Lucene.

Thanks
Narendra


On 10/8/07, Joe Attardi <jattardi@gmail.com> wrote:
>
> On 10/8/07, Narendra yadala <narendra.yadala@gmail.com> wrote:
> >
> > I do have permission to access Lucene files. They reside on my local
> > machine.
> > But still this is giving the error.I am using Windows XP operationg
> > system.
> >
>
> Well, since you are opening an IndexReader (as evidenced by your stack
> trace), I assume that the file that Lucene is trying to create is a lock
> file. Do you have any stale lock files, or any other kind of weird
> situation
> that might prevent a lock file from being created in your index directory?
>
> What if you try a different directory for your index - do you get the same
> error then?
>
> --
> Joe Attardi
> jattardi@gmail.com
> http://thinksincode.blogspot.com/
>

------=_Part_23674_13102517.1191854672641--

From java-user-return-30539-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 08 15:41:18 2007
Return-Path: <java-user-return-30539-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86180 invoked from network); 8 Oct 2007 15:41:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Oct 2007 15:41:17 -0000
Received: (qmail 80749 invoked by uid 500); 8 Oct 2007 15:40:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80715 invoked by uid 500); 8 Oct 2007 15:40:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80704 invoked by uid 99); 8 Oct 2007 15:40:58 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 08:40:58 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pvsaikrishna@gmail.com designates 64.233.184.233 as permitted sender)
Received: from [64.233.184.233] (HELO wr-out-0506.google.com) (64.233.184.233)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 15:41:01 +0000
Received: by wr-out-0506.google.com with SMTP id c55so606249wra
        for <java-user@lucene.apache.org>; Mon, 08 Oct 2007 08:40:36 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=eLY5/oO3XxBev4idRLE4xt1y2M/mFxEu4sBdQ5cA9NY=;
        b=WtY25aOf7uKFo/OEDIxEsA4Plc6SclxAGm5Y8t7ZWBvFN+rgruFnNdzQSO8bopMRFIs3K+hFclvy7OKA6Uarq1xQ/RLyFuOU7LJJr1Zr2sLg+LGKQtIjAu26yjiX6EwJCe+8FuEqvmyMzowuy+kU4z27MKbb8PV/NODI0y+NCgM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=q7sRVADGNPcr+HJoXBCV/quK9hTB8hBrtK9dx+IINKi0gCZo+iRpKZE/vCmO2QmtEZjsTtio4WfPf17CzsVotVsGHGqDvHn3/MBqPBkA3eINgSP1SXXIXP6JS3WIIqjAP9gGlEWbbqKkMmjpL8E1QVEwRLKM2VrbTgp8xR2fWPM=
Received: by 10.90.96.7 with SMTP id t7mr3835795agb.1191858036492;
        Mon, 08 Oct 2007 08:40:36 -0700 (PDT)
Received: by 10.90.101.20 with HTTP; Mon, 8 Oct 2007 08:40:36 -0700 (PDT)
Message-ID: <171dbfa60710080840qf1543b1l4bf1dba773e51c6d@mail.gmail.com>
Date: Mon, 8 Oct 2007 21:10:36 +0530
From: "saikrishna venkata pendyala" <pvsaikrishna@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Re : porting lucene on to mobile phone
In-Reply-To: <9CA7A691-6D66-41C1-9365-92614EC15E96@gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_1626_17762806.1191858036485"
References: <171dbfa60710080636k6bf02cebt93e906963b01fd84@mail.gmail.com>
	 <9CA7A691-6D66-41C1-9365-92614EC15E96@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_1626_17762806.1191858036485
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hai,

     Thank you for responding.

 I have abt 17,00,000 documents in 1000 files. I need to index the titles of
those documents with out storing the titles and storing the file name.

When ever I issue a query I need to get the name of the file in which that
document exists.

thanks,
Saikrishna.

On 10/8/07, Karl Wettin <karl.wettin@gmail.com> wrote:
>
>
> 8 okt 2007 kl. 15.36 skrev saikrishna venkata pendyala:
>
> >       Has any one tried to port lucene on to a mobile phone. I need a
> > text-based search engine for mobile phone as part of my project.
>
>
> There was some discussion about this here on the forums some year(s?)
> ago. The major problem back then was the lack of floaing points.
> Also, as Lucene moves towards Java 1.5 the possible compabillity with
> J2ME moves further away.
>
> >       Or is there any other J2ME based API which can be used to
> > search the
> > text in mobile phones.
>
> Before asking too much you should tell us some about your project.
> How large is the corpus, what features do you require, et c? I.e. do
> you really need Lucene, is it perhaps sufficient with something
> simple as a trie-pattern?
>
> --
> karl
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_1626_17762806.1191858036485--

From java-user-return-30540-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 08 15:52:41 2007
Return-Path: <java-user-return-30540-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1498 invoked from network); 8 Oct 2007 15:52:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Oct 2007 15:52:40 -0000
Received: (qmail 23886 invoked by uid 500); 8 Oct 2007 15:52:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23857 invoked by uid 500); 8 Oct 2007 15:52:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23846 invoked by uid 99); 8 Oct 2007 15:52:21 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 08:52:21 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pvsaikrishna@gmail.com designates 64.233.184.234 as permitted sender)
Received: from [64.233.184.234] (HELO wr-out-0506.google.com) (64.233.184.234)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 15:52:24 +0000
Received: by wr-out-0506.google.com with SMTP id c55so608794wra
        for <java-user@lucene.apache.org>; Mon, 08 Oct 2007 08:52:02 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=1RuBxUXM7MBJLJVA85CP+0+6rPQ9RBvAsXcbmcgyhxQ=;
        b=iDAcZkpYIKGipjTPzhjUzyGwzwrXP/6Oust0D/FD6qn96yixQEiao3Z5hmpQa4Hm/1VfIsCJ0n4APdciwuE2rPMmXK/4Bm4n6lpvYMhbiV6ZkTqcwotjSRk4fhjFTSU6ECaxPn/b6oIA6VNkKjy5JJ0fJdd3cUfIJ+JL6I7mHg0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=EJgpns1/exIEnYVNMbQFlXBKHPrr14oIs89bqSv6pnzyNTF+G8HFPHD58XzG1KQJefRZzjeToHfKavgOsQyOUru4a5KbLjHzdqpgDkbUNZnhf9L/kOZbE49I+S81y087ET9KJnFlSCsfd5dMnQb0UJtJ8vu65kHgLXs6JKAkLpk=
Received: by 10.90.89.5 with SMTP id m5mr251309agb.1191858722430;
        Mon, 08 Oct 2007 08:52:02 -0700 (PDT)
Received: by 10.90.101.20 with HTTP; Mon, 8 Oct 2007 08:52:02 -0700 (PDT)
Message-ID: <171dbfa60710080852g1c264c17ja641bccafed62217@mail.gmail.com>
Date: Mon, 8 Oct 2007 21:22:02 +0530
From: "saikrishna venkata pendyala" <pvsaikrishna@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene indexing error
In-Reply-To: <81fbf42e0710080744x7f50c65bwd43d263c8cfe7fb0@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_1727_22359323.1191858722405"
References: <81fbf42e0710080658w7c6134eep3fed4dcd62ef1f6e@mail.gmail.com>
	 <AF80679D-E467-4CB1-8E13-CC185099C5B2@gmail.com>
	 <81fbf42e0710080712x339639ayacd316789bc86b6a@mail.gmail.com>
	 <7a14509e0710080725r639e60fjd2481da039767bf5@mail.gmail.com>
	 <81fbf42e0710080728s35a065el71b475ad93c72e44@mail.gmail.com>
	 <7a14509e0710080733j7716d8e3se18b6e25a4fcbaf6@mail.gmail.com>
	 <81fbf42e0710080744x7f50c65bwd43d263c8cfe7fb0@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_1727_22359323.1191858722405
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Lucene creates an lock on the index before using it and then unlock the
index, after using it. If the lucene is interuptted and is closed by force
the, index remains in locked state and it cannot be used.

Generally in linux lucene lock information file is create in /tmp directory.
Delete the lock file to unlock the lucene index and index can be used again.


On 10/8/07, Narendra yadala <narendra.yadala@gmail.com> wrote:
>
> I think this bug is related to the one posted on Lucene JIRA:
> http://issues.apache.org/jira/browse/LUCENE-665
> Please let me know if there is any solution to this bug of Lucene.
>
> Thanks
> Narendra
>
>
> On 10/8/07, Joe Attardi <jattardi@gmail.com> wrote:
> >
> > On 10/8/07, Narendra yadala <narendra.yadala@gmail.com> wrote:
> > >
> > > I do have permission to access Lucene files. They reside on my local
> > > machine.
> > > But still this is giving the error.I am using Windows XP operationg
> > > system.
> > >
> >
> > Well, since you are opening an IndexReader (as evidenced by your stack
> > trace), I assume that the file that Lucene is trying to create is a lock
> > file. Do you have any stale lock files, or any other kind of weird
> > situation
> > that might prevent a lock file from being created in your index
> directory?
> >
> > What if you try a different directory for your index - do you get the
> same
> > error then?
> >
> > --
> > Joe Attardi
> > jattardi@gmail.com
> > http://thinksincode.blogspot.com/
> >
>

------=_Part_1727_22359323.1191858722405--

From java-user-return-30541-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 08 15:56:36 2007
Return-Path: <java-user-return-30541-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8113 invoked from network); 8 Oct 2007 15:56:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Oct 2007 15:56:35 -0000
Received: (qmail 35448 invoked by uid 500); 8 Oct 2007 15:56:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35417 invoked by uid 500); 8 Oct 2007 15:56:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35405 invoked by uid 99); 8 Oct 2007 15:56:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 08:56:11 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 80.76.149.213 is neither permitted nor denied by domain of karl.wettin@gmail.com)
Received: from [80.76.149.213] (HELO ch-smtp02.sth.basefarm.net) (80.76.149.213)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 15:56:13 +0000
Received: from c83-249-118-113.bredband.comhem.se ([83.249.118.113]:51538 helo=[192.168.1.101])
	by ch-smtp02.sth.basefarm.net with esmtp (Exim 4.66)
	(envelope-from <karl.wettin@gmail.com>)
	id 1IeuxT-0006LY-6h
	for java-user@lucene.apache.org; Mon, 08 Oct 2007 17:55:51 +0200
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <171dbfa60710080840qf1543b1l4bf1dba773e51c6d@mail.gmail.com>
References: <171dbfa60710080636k6bf02cebt93e906963b01fd84@mail.gmail.com> <9CA7A691-6D66-41C1-9365-92614EC15E96@gmail.com> <171dbfa60710080840qf1543b1l4bf1dba773e51c6d@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <DDBA69C5-CE2A-464A-9681-E1BD53CE2A0E@gmail.com>
Content-Transfer-Encoding: 7bit
From: Karl Wettin <karl.wettin@gmail.com>
Subject: Re: Re : porting lucene on to mobile phone
Date: Mon, 8 Oct 2007 17:48:05 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Originating-IP: 83.249.118.113
X-Scan-Result: No virus found in message 1IeuxT-0006LY-6h.
X-Scan-Signature: ch-smtp02.sth.basefarm.net 1IeuxT-0006LY-6h 4493261e39bc26c2bb0782ee65e63004
X-Virus-Checked: Checked by ClamAV on apache.org


8 okt 2007 kl. 17.40 skrev saikrishna venkata pendyala:

>  I have abt 17,00,000 documents in 1000 files. I need to index the  
> titles of
> those documents with out storing the titles and storing the file name.

Not sure I understand what you say here.

You want to create 1,7 million documents containing a short and  
indexed field: title, and a stored field: file name?

> When ever I issue a query I need to get the name of the file in  
> which that
> document exists.

You only require boolean term queries? And no scoring, sorting or  
anything like that?

In that case, it should not be that hard to rewrite Lucene for your  
needs.

See LUCENE-584 for seperation of Matcher and Scorer.


-- 
karl


>
> thanks,
> Saikrishna.
>
> On 10/8/07, Karl Wettin <karl.wettin@gmail.com> wrote:
>>
>>
>> 8 okt 2007 kl. 15.36 skrev saikrishna venkata pendyala:
>>
>>>       Has any one tried to port lucene on to a mobile phone. I  
>>> need a
>>> text-based search engine for mobile phone as part of my project.
>>
>>
>> There was some discussion about this here on the forums some year(s?)
>> ago. The major problem back then was the lack of floaing points.
>> Also, as Lucene moves towards Java 1.5 the possible compabillity with
>> J2ME moves further away.
>>
>>>       Or is there any other J2ME based API which can be used to
>>> search the
>>> text in mobile phones.
>>
>> Before asking too much you should tell us some about your project.
>> How large is the corpus, what features do you require, et c? I.e. do
>> you really need Lucene, is it perhaps sufficient with something
>> simple as a trie-pattern?
>>
>> --
>> karl
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30542-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 08 16:01:34 2007
Return-Path: <java-user-return-30542-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15370 invoked from network); 8 Oct 2007 16:01:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Oct 2007 16:01:33 -0000
Received: (qmail 47220 invoked by uid 500); 8 Oct 2007 16:01:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47192 invoked by uid 500); 8 Oct 2007 16:01:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47181 invoked by uid 99); 8 Oct 2007 16:01:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 09:01:14 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of narendra.yadala@gmail.com designates 64.233.166.176 as permitted sender)
Received: from [64.233.166.176] (HELO py-out-1112.google.com) (64.233.166.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 16:01:17 +0000
Received: by py-out-1112.google.com with SMTP id d32so4610284pye
        for <java-user@lucene.apache.org>; Mon, 08 Oct 2007 09:00:56 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=WQyKZvOscXzSxi2ROaSZtL0W0EfTrH5+4+hHKCltFmg=;
        b=HDYbemBfVYO+FM7UeJqqTwyfKewKIsMEm58vT3McnXp5xb/GIO7sI0Qytz6qUUQn6KEH8W8er80Xa5nDNA5KvTEuQY/zLF876RiShemqknfz1An+PtOKpJD7WJ8C/pV4QS5fhjycsOPCHtTpNRGDy3zgiAjwsOPIkBJEFXviQzM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=BjYUnb2sZYC1yJBwvlE4F/2QhrSE9P1LhA5Q8FOSeLfSjzdyLtOJoSbf+xoSWUwtUdzLjCmQrAGICG8+8ZmTiVhepGDSpfpGTwyUQulz5lkKoEEWfXALydzT++3sOj+lrGY3tB9BfLwWXCH12SwAeWRhROi3nAYp5ZhSUCmQX3A=
Received: by 10.65.158.9 with SMTP id k9mr673908qbo.1191859254907;
        Mon, 08 Oct 2007 09:00:54 -0700 (PDT)
Received: by 10.65.107.4 with HTTP; Mon, 8 Oct 2007 09:00:54 -0700 (PDT)
Message-ID: <81fbf42e0710080900t80b596dqdd6f0d9ffa35ccf7@mail.gmail.com>
Date: Mon, 8 Oct 2007 21:30:54 +0530
From: "Narendra yadala" <narendra.yadala@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene indexing error
In-Reply-To: <171dbfa60710080852g1c264c17ja641bccafed62217@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_24212_1670370.1191859254850"
References: <81fbf42e0710080658w7c6134eep3fed4dcd62ef1f6e@mail.gmail.com>
	 <AF80679D-E467-4CB1-8E13-CC185099C5B2@gmail.com>
	 <81fbf42e0710080712x339639ayacd316789bc86b6a@mail.gmail.com>
	 <7a14509e0710080725r639e60fjd2481da039767bf5@mail.gmail.com>
	 <81fbf42e0710080728s35a065el71b475ad93c72e44@mail.gmail.com>
	 <7a14509e0710080733j7716d8e3se18b6e25a4fcbaf6@mail.gmail.com>
	 <81fbf42e0710080744x7f50c65bwd43d263c8cfe7fb0@mail.gmail.com>
	 <171dbfa60710080852g1c264c17ja641bccafed62217@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_24212_1670370.1191859254850
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

But then the core problem is that the index that is created is in a totally
corrupted state.
So deleting or keeping the lock does not make a difference as the Index
itself is not created properly.
The problem arises when the index is getting created itself.

Regards
Narendra


On 10/8/07, saikrishna venkata pendyala <pvsaikrishna@gmail.com> wrote:
>
> Lucene creates an lock on the index before using it and then unlock the
> index, after using it. If the lucene is interuptted and is closed by force
> the, index remains in locked state and it cannot be used.
>
> Generally in linux lucene lock information file is create in /tmp
> directory.
> Delete the lock file to unlock the lucene index and index can be used
> again.
>
>
> On 10/8/07, Narendra yadala <narendra.yadala@gmail.com> wrote:
> >
> > I think this bug is related to the one posted on Lucene JIRA:
> > http://issues.apache.org/jira/browse/LUCENE-665
> > Please let me know if there is any solution to this bug of Lucene.
> >
> > Thanks
> > Narendra
> >
> >
> > On 10/8/07, Joe Attardi <jattardi@gmail.com> wrote:
> > >
> > > On 10/8/07, Narendra yadala <narendra.yadala@gmail.com> wrote:
> > > >
> > > > I do have permission to access Lucene files. They reside on my local
> > > > machine.
> > > > But still this is giving the error.I am using Windows XP operationg
> > > > system.
> > > >
> > >
> > > Well, since you are opening an IndexReader (as evidenced by your stack
> > > trace), I assume that the file that Lucene is trying to create is a
> lock
> > > file. Do you have any stale lock files, or any other kind of weird
> > > situation
> > > that might prevent a lock file from being created in your index
> > directory?
> > >
> > > What if you try a different directory for your index - do you get the
> > same
> > > error then?
> > >
> > > --
> > > Joe Attardi
> > > jattardi@gmail.com
> > > http://thinksincode.blogspot.com/
> > >
> >
>

------=_Part_24212_1670370.1191859254850--

From java-user-return-30543-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 08 16:14:57 2007
Return-Path: <java-user-return-30543-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31257 invoked from network); 8 Oct 2007 16:14:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Oct 2007 16:14:56 -0000
Received: (qmail 78623 invoked by uid 500); 8 Oct 2007 16:14:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78588 invoked by uid 500); 8 Oct 2007 16:14:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78574 invoked by uid 99); 8 Oct 2007 16:14:12 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 09:14:12 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pvsaikrishna@gmail.com designates 209.85.146.180 as permitted sender)
Received: from [209.85.146.180] (HELO wa-out-1112.google.com) (209.85.146.180)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 16:14:11 +0000
Received: by wa-out-1112.google.com with SMTP id j40so1849311wah
        for <java-user@lucene.apache.org>; Mon, 08 Oct 2007 09:13:50 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=D7hEHOFaBq3HO4eNaMfL4ZzisCAeYBHOUfYMKGIBfUo=;
        b=Y64VHJB5ILS44O8HMkC35COsRSY2M1wvqAW0dr5XZrB9BXn451DWejMEJw1IXmnvDqpgaLp4yZX7SGDSmlKX7HiKxANt8KwYid2nKFF2JYaPsZ8ZiiEjQZLLhZ0ngF21iHoGsXtkgqOiieaOn2+ik23ENSR+MPXQtKm5bmUtj3k=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Gvc+Gtzb/pBui/5M26aWvgAMvDyHc86yWY5GMI4gZqft6aTp3XP2ViunU3gfhY0btSPw0GdAQlhm1PnmitCLHP0iN4oDar/OEtFrIk6yz4xGEmjofTrt56lLKtXjUhZDKDkqqeZ3Y13SToY+gOC2z/1CmR9EtYazd8Ijde5+Hr8=
Received: by 10.114.202.15 with SMTP id z15mr6594042waf.1191860029882;
        Mon, 08 Oct 2007 09:13:49 -0700 (PDT)
Received: by 10.114.127.15 with HTTP; Mon, 8 Oct 2007 09:13:49 -0700 (PDT)
Message-ID: <171dbfa60710080913jaea6f9dlb879816843be482b@mail.gmail.com>
Date: Mon, 8 Oct 2007 21:43:49 +0530
From: "saikrishna venkata pendyala" <pvsaikrishna@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Re : porting lucene on to mobile phone
In-Reply-To: <DDBA69C5-CE2A-464A-9681-E1BD53CE2A0E@gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_421_21231193.1191860029860"
References: <171dbfa60710080636k6bf02cebt93e906963b01fd84@mail.gmail.com>
	 <9CA7A691-6D66-41C1-9365-92614EC15E96@gmail.com>
	 <171dbfa60710080840qf1543b1l4bf1dba773e51c6d@mail.gmail.com>
	 <DDBA69C5-CE2A-464A-9681-E1BD53CE2A0E@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_421_21231193.1191860029860
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

On 10/8/07, Karl Wettin <karl.wettin@gmail.com> wrote:
>
>
> 8 okt 2007 kl. 17.40 skrev saikrishna venkata pendyala:
>
> >  I have abt 17,00,000 documents in 1000 files. I need to index the
> > titles of
> > those documents with out storing the titles and storing the file name.
>
> Not sure I understand what you say here.
>
> You want to create 1,7 million documents containing a short and
> indexed field: title, and a stored field: file name?


Yes this is what I need.


> When ever I issue a query I need to get the name of the file in
> > which that
> > document exists.
>
> You only require boolean term queries? And no scoring, sorting or
> anything like that?



I need the name of the file in which the best matched title exists. Don't I
need scoring here.

Suppose my query is "q1 q2 q3" and their are titles like "q1
q2","q3","q1",etc.  Among this the best mateched title is "q1 q2", and I
need the name of the file in which the document with title "q1 q2" occur.



In that case, it should not be that hard to rewrite Lucene for your
> needs.
>
> See LUCENE-584 for seperation of Matcher and Scorer.
>
>
> --
> karl
>
>
> >
> > thanks,
> > Saikrishna.
> >
> > On 10/8/07, Karl Wettin <karl.wettin@gmail.com> wrote:
> >>
> >>
> >> 8 okt 2007 kl. 15.36 skrev saikrishna venkata pendyala:
> >>
> >>>       Has any one tried to port lucene on to a mobile phone. I
> >>> need a
> >>> text-based search engine for mobile phone as part of my project.
> >>
> >>
> >> There was some discussion about this here on the forums some year(s?)
> >> ago. The major problem back then was the lack of floaing points.
> >> Also, as Lucene moves towards Java 1.5 the possible compabillity with
> >> J2ME moves further away.
> >>
> >>>       Or is there any other J2ME based API which can be used to
> >>> search the
> >>> text in mobile phones.
> >>
> >> Before asking too much you should tell us some about your project.
> >> How large is the corpus, what features do you require, et c? I.e. do
> >> you really need Lucene, is it perhaps sufficient with something
> >> simple as a trie-pattern?
> >>
> >> --
> >> karl
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_421_21231193.1191860029860--

From java-user-return-30544-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 08 16:34:26 2007
Return-Path: <java-user-return-30544-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60198 invoked from network); 8 Oct 2007 16:34:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Oct 2007 16:34:23 -0000
Received: (qmail 41275 invoked by uid 500); 8 Oct 2007 16:34:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41247 invoked by uid 500); 8 Oct 2007 16:34:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41236 invoked by uid 99); 8 Oct 2007 16:34:04 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 09:34:04 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 80.76.149.213 is neither permitted nor denied by domain of karl.wettin@gmail.com)
Received: from [80.76.149.213] (HELO ch-smtp02.sth.basefarm.net) (80.76.149.213)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 16:34:06 +0000
Received: from c83-249-118-113.bredband.comhem.se ([83.249.118.113]:51689 helo=[192.168.1.101])
	by ch-smtp02.sth.basefarm.net with esmtp (Exim 4.66)
	(envelope-from <karl.wettin@gmail.com>)
	id 1IevY9-0002nl-7s
	for java-user@lucene.apache.org; Mon, 08 Oct 2007 18:33:45 +0200
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <171dbfa60710080913jaea6f9dlb879816843be482b@mail.gmail.com>
References: <171dbfa60710080636k6bf02cebt93e906963b01fd84@mail.gmail.com> <9CA7A691-6D66-41C1-9365-92614EC15E96@gmail.com> <171dbfa60710080840qf1543b1l4bf1dba773e51c6d@mail.gmail.com> <DDBA69C5-CE2A-464A-9681-E1BD53CE2A0E@gmail.com> <171dbfa60710080913jaea6f9dlb879816843be482b@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <E8D813D0-CB58-418D-B029-F0B1AE465AC2@gmail.com>
Content-Transfer-Encoding: 7bit
From: Karl Wettin <karl.wettin@gmail.com>
Subject: Re: Re : porting lucene on to mobile phone
Date: Mon, 8 Oct 2007 18:26:00 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Originating-IP: 83.249.118.113
X-Scan-Result: No virus found in message 1IevY9-0002nl-7s.
X-Scan-Signature: ch-smtp02.sth.basefarm.net 1IevY9-0002nl-7s 9312368bd6a7fdf4c827666d772bad6e
X-Virus-Checked: Checked by ClamAV on apache.org


8 okt 2007 kl. 18.13 skrev saikrishna venkata pendyala:

> I need the name of the file in which the best matched title exists.  
> Don't I
> need scoring here.

I don't know how you would decide what the best matched document is  
without scoring the results?


-- 
karl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30545-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 08 16:53:32 2007
Return-Path: <java-user-return-30545-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93015 invoked from network); 8 Oct 2007 16:53:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Oct 2007 16:53:31 -0000
Received: (qmail 89809 invoked by uid 500); 8 Oct 2007 16:53:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89776 invoked by uid 500); 8 Oct 2007 16:53:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89765 invoked by uid 99); 8 Oct 2007 16:53:12 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 09:53:12 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pvsaikrishna@gmail.com designates 66.249.82.224 as permitted sender)
Received: from [66.249.82.224] (HELO wx-out-0506.google.com) (66.249.82.224)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 16:53:15 +0000
Received: by wx-out-0506.google.com with SMTP id i28so1183971wxd
        for <java-user@lucene.apache.org>; Mon, 08 Oct 2007 09:52:53 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=mm6nvCHvrDqUr13wuuQyQnfSK9aZwqX9DUfKILXGjjc=;
        b=JW10vrAi28V/9bKA4hBd87xBYNLLcRWSztQPP5PbOtZaM/wBtO1VbBR3iYNPQiKKg4DhrGocrpqMOEzy96A4XpZQwNv9HTJ0kpAVNj3U03gN0sdEESMVKxqC7/136I8CojPHrOJOgkcDyQ1KCupHSaN3HpOI3OGXsJNYa/wBAOE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=SsrJomNI64q0hyxGcW07ZwfZaq+O1BmWoh6xX0dbbC5UVx1h3kmNVtisSBJ5ufcARRta2M88zsXDzVPGsyUH5ctsbB+EtZaZwriDUi6TN+pEkt1JnLYJ3R1JINCi6EeCyX+m50o44LmAMvFDQScqegf5Aeq+v7v+nwPP4ADGuME=
Received: by 10.90.79.6 with SMTP id c6mr4097968agb.1191862373114;
        Mon, 08 Oct 2007 09:52:53 -0700 (PDT)
Received: by 10.90.101.20 with HTTP; Mon, 8 Oct 2007 09:52:53 -0700 (PDT)
Message-ID: <171dbfa60710080952l3b5f9bd2of22f5eb0e4d1ed86@mail.gmail.com>
Date: Mon, 8 Oct 2007 22:22:53 +0530
From: "saikrishna venkata pendyala" <pvsaikrishna@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Re : porting lucene on to mobile phone
In-Reply-To: <E8D813D0-CB58-418D-B029-F0B1AE465AC2@gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_99_1457151.1191862373107"
References: <171dbfa60710080636k6bf02cebt93e906963b01fd84@mail.gmail.com>
	 <9CA7A691-6D66-41C1-9365-92614EC15E96@gmail.com>
	 <171dbfa60710080840qf1543b1l4bf1dba773e51c6d@mail.gmail.com>
	 <DDBA69C5-CE2A-464A-9681-E1BD53CE2A0E@gmail.com>
	 <171dbfa60710080913jaea6f9dlb879816843be482b@mail.gmail.com>
	 <E8D813D0-CB58-418D-B029-F0B1AE465AC2@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_99_1457151.1191862373107
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

On 10/8/07, Karl Wettin <karl.wettin@gmail.com> wrote:
>
>
> 8 okt 2007 kl. 18.13 skrev saikrishna venkata pendyala:
>
> > I need the name of the file in which the best matched title exists.
> > Don't I
> > need scoring here.
>
> I don't know how you would decide what the best matched document is
> without scoring the results?



Yes we need scoring to decide what is best matched.

Can I use ucene with some changs, for the purpose of matching and with OUT
SCORING the query given.

thnks,
Saikrishna.

--
> karl
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_99_1457151.1191862373107--

From java-user-return-30546-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 08 16:59:18 2007
Return-Path: <java-user-return-30546-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2859 invoked from network); 8 Oct 2007 16:59:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Oct 2007 16:59:17 -0000
Received: (qmail 8497 invoked by uid 500); 8 Oct 2007 16:58:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8464 invoked by uid 500); 8 Oct 2007 16:58:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8453 invoked by uid 99); 8 Oct 2007 16:58:58 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 09:58:58 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 80.76.149.213 is neither permitted nor denied by domain of karl.wettin@gmail.com)
Received: from [80.76.149.213] (HELO ch-smtp02.sth.basefarm.net) (80.76.149.213)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 16:59:00 +0000
Received: from c83-249-118-113.bredband.comhem.se ([83.249.118.113]:51906 helo=[192.168.1.101])
	by ch-smtp02.sth.basefarm.net with esmtp (Exim 4.66)
	(envelope-from <karl.wettin@gmail.com>)
	id 1IevwD-0001V2-8a
	for java-user@lucene.apache.org; Mon, 08 Oct 2007 18:58:37 +0200
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <171dbfa60710080952l3b5f9bd2of22f5eb0e4d1ed86@mail.gmail.com>
References: <171dbfa60710080636k6bf02cebt93e906963b01fd84@mail.gmail.com> <9CA7A691-6D66-41C1-9365-92614EC15E96@gmail.com> <171dbfa60710080840qf1543b1l4bf1dba773e51c6d@mail.gmail.com> <DDBA69C5-CE2A-464A-9681-E1BD53CE2A0E@gmail.com> <171dbfa60710080913jaea6f9dlb879816843be482b@mail.gmail.com> <E8D813D0-CB58-418D-B029-F0B1AE465AC2@gmail.com> <171dbfa60710080952l3b5f9bd2of22f5eb0e4d1ed86@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <65763995-4586-4DE5-9B0C-259B1B6D6691@gmail.com>
Content-Transfer-Encoding: 7bit
From: Karl Wettin <karl.wettin@gmail.com>
Subject: Re: Re : porting lucene on to mobile phone
Date: Mon, 8 Oct 2007 18:50:50 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Originating-IP: 83.249.118.113
X-Scan-Result: No virus found in message 1IevwD-0001V2-8a.
X-Scan-Signature: ch-smtp02.sth.basefarm.net 1IevwD-0001V2-8a b5b718a7db4c11daadecfa13af60c9b5
X-Virus-Checked: Checked by ClamAV on apache.org


8 okt 2007 kl. 18.52 skrev saikrishna venkata pendyala:

> Can I use ucene with some changs, for the purpose of matching and  
> with OUT
> SCORING the query given.

Sorry, but I don't understand your question?

In order to run Lucene on J2ME you need CLDC1.1 or later,  
alternatively modify Lucene to use some sort of floating point library.


-- 
karl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30547-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 08 17:01:17 2007
Return-Path: <java-user-return-30547-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7310 invoked from network); 8 Oct 2007 17:01:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Oct 2007 17:01:16 -0000
Received: (qmail 16405 invoked by uid 500); 8 Oct 2007 17:00:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15994 invoked by uid 500); 8 Oct 2007 17:00:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15983 invoked by uid 99); 8 Oct 2007 17:00:57 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 10:00:57 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [66.196.101.27] (HELO web59201.mail.re1.yahoo.com) (66.196.101.27)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 08 Oct 2007 17:00:59 +0000
Received: (qmail 35927 invoked by uid 60001); 8 Oct 2007 16:59:37 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Message-ID;
  b=xGxjnjZO+dFraz4063B+dIxIg/nroT9REudiuB5/+nPIFlvADaP9qQWN8V6wN2mbp5KA4RHrRHya87mgdcP/Djp+i1LIfkH1d6jb6NhhozR45oB7FvffN89F3MfAIw1T+dvS3VHV5WqVm7hCSKYM6vleR8Z9dm2Fkj9Tei5wisg=;
X-YMail-OSG: 5Je17d8VM1n1hENnJw2fVHsAb56fNGtGa2e8wU6eSN5iMMYj_5gAGlsZVDMObzQQggx6UdvITSacRvRm.OO.71LhFlxwrlQ-
Received: from [68.167.115.34] by web59201.mail.re1.yahoo.com via HTTP; Mon, 08 Oct 2007 09:59:37 PDT
X-Mailer: YahooMailRC/651.50 YahooMailWebService/0.7.134.6
Date: Mon, 8 Oct 2007 09:59:37 -0700 (PDT)
From: Cool Coder <techcool.kumar@yahoo.com>
Subject: Grouping by field value
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1539115748-1191862777=:35714"
Message-ID: <891435.35714.qm@web59201.mail.re1.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-1539115748-1191862777=:35714
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable

Hello Gurus,=0A                =0AI just started working on a lucene based =
project and I need your help on the following queries.=0AThe result of sear=
ch needs to show a summary based on a Field value.=0AOne of the field in th=
e search Document is "type" with some possible values like "good" , "bad", =
"better" etc...=0ANow the summary of result should contain like good(8), ba=
d(4), better(16) etc...=0AOne possible way to find is to traverse through t=
he Hits and count individual hit for "type" field type. I think this would =
be expensive, and let me know what do you think. Is there any other way to =
know count based on a field value.=0A=0AMy next question is very simple, I =
just wanted to search more than one field something like search for "kbk pe=
ncil" in "description" field and "manufacturer" field. Can I use BooleanQue=
ry for that?=0A=0AI would appreciate your help on this.=0A=0A- RB=0A=0A=0A =
     ______________________________________________________________________=
______________=0ACatch up on fall's hot new shows on Yahoo! TV. Watch previ=
ews, get listings, and more!=0Ahttp://tv.yahoo.com/collections/3658 
--0-1539115748-1191862777=:35714--

From java-user-return-30548-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 08 17:12:35 2007
Return-Path: <java-user-return-30548-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22139 invoked from network); 8 Oct 2007 17:12:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Oct 2007 17:12:34 -0000
Received: (qmail 39072 invoked by uid 500); 8 Oct 2007 17:12:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39043 invoked by uid 500); 8 Oct 2007 17:12:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39032 invoked by uid 99); 8 Oct 2007 17:12:16 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 10:12:16 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [208.69.42.181] (HELO radix.cryptio.net) (208.69.42.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 17:12:18 +0000
Received: by radix.cryptio.net (Postfix, from userid 1007)
	id F09BC71C0ED; Mon,  8 Oct 2007 10:11:57 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by radix.cryptio.net (Postfix) with ESMTP id DAF5271C08D
	for <java-user@lucene.apache.org>; Mon,  8 Oct 2007 10:11:57 -0700 (PDT)
Date: Mon, 8 Oct 2007 10:11:57 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Lucene indexing error
In-Reply-To: <81fbf42e0710080744x7f50c65bwd43d263c8cfe7fb0@mail.gmail.com>
Message-ID: <Pine.LNX.4.62.0710081006140.8064@radix.cryptio.net>
References: <81fbf42e0710080658w7c6134eep3fed4dcd62ef1f6e@mail.gmail.com> 
 <AF80679D-E467-4CB1-8E13-CC185099C5B2@gmail.com> 
 <81fbf42e0710080712x339639ayacd316789bc86b6a@mail.gmail.com> 
 <7a14509e0710080725r639e60fjd2481da039767bf5@mail.gmail.com> 
 <81fbf42e0710080728s35a065el71b475ad93c72e44@mail.gmail.com> 
 <7a14509e0710080733j7716d8e3se18b6e25a4fcbaf6@mail.gmail.com>
 <81fbf42e0710080744x7f50c65bwd43d263c8cfe7fb0@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: I think this bug is related to the one posted on Lucene JIRA:
: http://issues.apache.org/jira/browse/LUCENE-665
: Please let me know if there is any solution to this bug of Lucene.

note that the issue is "Closed, Resolution: Won't Fix" it was determined 
that ultimately there was no bug in Lucene.  The problem related to other 
windows programs attempting to "monitor" all new files and thus 
interfereing with lucene's ability to modify those files.

if you read the full details of the issue, you'll also see that 
investigations into trying to introduce workarrounds for Windows users 
ended when it was determined that a new "lockless commits" feature didn't 
seem to suffer from this problem.  Lockless commits were first releases in 
2.1, on 2007-02-14.

Which begs the question: which version of Lucene are you using?

(Incidently: what you posted was not a full stack trace ... it was a part 
of a stack trace ... since we have no idea what else you excluded, we have 
no way of kowing if there was other useful information in the rest of the 
stack trace.  Even if it didn't seem relevent to you, knowing the 
context of where the exception was caught is frequently extrmely helpful 
in debugging the cause.)



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30549-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 08 17:13:22 2007
Return-Path: <java-user-return-30549-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22517 invoked from network); 8 Oct 2007 17:13:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Oct 2007 17:13:21 -0000
Received: (qmail 41511 invoked by uid 500); 8 Oct 2007 17:13:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41482 invoked by uid 500); 8 Oct 2007 17:13:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41471 invoked by uid 99); 8 Oct 2007 17:13:03 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 10:13:03 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of yseeley@gmail.com designates 64.233.162.231 as permitted sender)
Received: from [64.233.162.231] (HELO nz-out-0506.google.com) (64.233.162.231)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 17:13:06 +0000
Received: by nz-out-0506.google.com with SMTP id i28so633409nzi
        for <java-user@lucene.apache.org>; Mon, 08 Oct 2007 10:12:46 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        bh=ZbTa0zh3w3HyWjR8hPqqForqocfMMyg/N+kDnFIY+ug=;
        b=Qmvg41CIY+ySpQGcj/TkyIp+A83PlnpIcf/zKcTqHvXY0qgYYcuOF5DM/JgQs9DSlKAKS6QVN51uWPADkgUE2Nhz4fCfFcqs4zcTKRiFi8qyyZIsXm0xyUMVmdzblyIwp3c5yqo4VHtskt8uXrNkbjEmFi2VKTekqLutOa9ie1Y=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        b=ZjXB6bpn5I+BSoUdxK6eEDmE+JNECgTz/KORY4y0/16/I3A5QSxJbKarvDz3A+bo33eygj2PmB95fAsuhG1wFNv+Nu/cVOcsIgqQ5CAsCIrA9Z0+HOnUupffE8Ck8ElrOE/R1FpF4KS7mlMOGlR6T5E3VHT+0i+jlCJLQi8A7Aw=
Received: by 10.142.139.19 with SMTP id m19mr320439wfd.1191863564792;
        Mon, 08 Oct 2007 10:12:44 -0700 (PDT)
Received: by 10.143.33.20 with HTTP; Mon, 8 Oct 2007 10:12:44 -0700 (PDT)
Message-ID: <c68e39170710081012s2514adfek613a02f2fabea3f6@mail.gmail.com>
Date: Mon, 8 Oct 2007 13:12:44 -0400
From: "Yonik Seeley" <yonik@apache.org>
Sender: yseeley@gmail.com
To: java-user@lucene.apache.org
Subject: Re: Grouping by field value
In-Reply-To: <891435.35714.qm@web59201.mail.re1.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <891435.35714.qm@web59201.mail.re1.yahoo.com>
X-Google-Sender-Auth: ea343915f8d0fbea
X-Virus-Checked: Checked by ClamAV on apache.org

On 10/8/07, Cool Coder <techcool.kumar@yahoo.com> wrote:
> I just started working on a lucene based project and I need your help on the following queries.
> The result of search needs to show a summary based on a Field value.
> One of the field in the search Document is "type" with some possible values like "good" , "bad", "better" etc...
> Now the summary of result should contain like good(8), bad(4), better(16) etc...

If Solr will work for you, it has faceting built in.

q=foo&facet=on&facet.field=type

If not, and the number of unique values in the field is low, set
intersections can be much faster than counting hits (for a large
number of hits).

> My next question is very simple, I just wanted to search more than one field something like search for "kbk pencil" in "description" field and "manufacturer" field. Can I use BooleanQuery for that?

It depends highly on what you want to match... is kbk in one field and
pencil in the other field acceptable or not, etc?

Again, if you can use Solr, check out the dismax handler... it
constructs multi-field queries for you with different weights on the
fields.

-Yonik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30550-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 08 17:18:22 2007
Return-Path: <java-user-return-30550-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26192 invoked from network); 8 Oct 2007 17:18:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Oct 2007 17:18:22 -0000
Received: (qmail 54993 invoked by uid 500); 8 Oct 2007 17:17:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54968 invoked by uid 500); 8 Oct 2007 17:17:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54931 invoked by uid 99); 8 Oct 2007 17:17:57 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 10:17:57 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pvsaikrishna@gmail.com designates 72.14.246.245 as permitted sender)
Received: from [72.14.246.245] (HELO ag-out-0708.google.com) (72.14.246.245)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 17:17:58 +0000
Received: by ag-out-0708.google.com with SMTP id 5so529304agb
        for <java-user@lucene.apache.org>; Mon, 08 Oct 2007 10:17:37 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=1pB4Rw0ZOl+q7rnoRv80S3jl70l3wxWjcfmzeYWyCCs=;
        b=MP/areMsWAHuPRkjuhRd44tNqUF1RBn4ykRtjTbcc7paB7VcdWLlAZnAmus1Ay+wsGm+ibFrqVB63gr+3B7A0eZJ3J/3jKUz+S5KqnjEmsSwZIPufG8qd+ZOwPMrlB566Ub/h7MIv3umTxlR6+6gkTGnBB/0QE7HXWtlk9W3rUY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=NNY3J/981aDv8v4GmF2W8/YlNPwFbXxyAfwYYx7JBAfui1JSz40ZMpK4QzfDXt5bl+2Kc1vx29bm0E9sZ1iBWf1ImdrfwRY8gxB/zG+ov2nV7HdnXhVw5xFOX0QJ0G+h9GolDNK+tHdA9ll/no6FsTxa0WAHSTPbIFKFtvLb4nI=
Received: by 10.90.116.6 with SMTP id o6mr4855059agc.1191863857351;
        Mon, 08 Oct 2007 10:17:37 -0700 (PDT)
Received: by 10.90.101.20 with HTTP; Mon, 8 Oct 2007 10:17:37 -0700 (PDT)
Message-ID: <171dbfa60710081017x559a399es6467e6d26cd5e105@mail.gmail.com>
Date: Mon, 8 Oct 2007 22:47:37 +0530
From: "saikrishna venkata pendyala" <pvsaikrishna@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Re : porting lucene on to mobile phone
In-Reply-To: <65763995-4586-4DE5-9B0C-259B1B6D6691@gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_306_20472651.1191863857340"
References: <171dbfa60710080636k6bf02cebt93e906963b01fd84@mail.gmail.com>
	 <9CA7A691-6D66-41C1-9365-92614EC15E96@gmail.com>
	 <171dbfa60710080840qf1543b1l4bf1dba773e51c6d@mail.gmail.com>
	 <DDBA69C5-CE2A-464A-9681-E1BD53CE2A0E@gmail.com>
	 <171dbfa60710080913jaea6f9dlb879816843be482b@mail.gmail.com>
	 <E8D813D0-CB58-418D-B029-F0B1AE465AC2@gmail.com>
	 <171dbfa60710080952l3b5f9bd2of22f5eb0e4d1ed86@mail.gmail.com>
	 <65763995-4586-4DE5-9B0C-259B1B6D6691@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_306_20472651.1191863857340
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Sorry I couldn't frame my question correctly due to typos.

this is what you said earlier

"""
You only require boolean term queries? And no scoring, sorting or
anything like that?

In that case, it should not be that hard to rewrite Lucene for your
needs.

"""

Can I rewrite lucene to match the given query with some title ?


On 10/8/07, Karl Wettin <karl.wettin@gmail.com> wrote:
>
>
> 8 okt 2007 kl. 18.52 skrev saikrishna venkata pendyala:
>
> > Can I use ucene with some changs, for the purpose of matching and
> > with OUT
> > SCORING the query given.
>
> Sorry, but I don't understand your question?
>
> In order to run Lucene on J2ME you need CLDC1.1 or later,
> alternatively modify Lucene to use some sort of floating point library.
>
>
> --
> karl
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_306_20472651.1191863857340--

From java-user-return-30551-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 08 17:24:42 2007
Return-Path: <java-user-return-30551-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28978 invoked from network); 8 Oct 2007 17:24:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Oct 2007 17:24:41 -0000
Received: (qmail 74514 invoked by uid 500); 8 Oct 2007 17:24:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74475 invoked by uid 500); 8 Oct 2007 17:24:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74464 invoked by uid 99); 8 Oct 2007 17:24:22 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 10:24:22 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [208.69.42.181] (HELO radix.cryptio.net) (208.69.42.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 17:24:25 +0000
Received: by radix.cryptio.net (Postfix, from userid 1007)
	id C1DF571C1C7; Mon,  8 Oct 2007 10:24:04 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by radix.cryptio.net (Postfix) with ESMTP id B6C0171C0EE
	for <java-user@lucene.apache.org>; Mon,  8 Oct 2007 10:24:04 -0700 (PDT)
Date: Mon, 8 Oct 2007 10:24:04 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Re : porting lucene on to mobile phone
In-Reply-To: <171dbfa60710080913jaea6f9dlb879816843be482b@mail.gmail.com>
Message-ID: <Pine.LNX.4.62.0710081020320.8064@radix.cryptio.net>
References: <171dbfa60710080636k6bf02cebt93e906963b01fd84@mail.gmail.com> 
 <9CA7A691-6D66-41C1-9365-92614EC15E96@gmail.com> 
 <171dbfa60710080840qf1543b1l4bf1dba773e51c6d@mail.gmail.com> 
 <DDBA69C5-CE2A-464A-9681-E1BD53CE2A0E@gmail.com>
 <171dbfa60710080913jaea6f9dlb879816843be482b@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: > You want to create 1,7 million documents containing a short and
: > indexed field: title, and a stored field: file name?

: Yes this is what I need.

if i may make a modest proposal: i would suggest that before you dig ito 
the details of what it takes to get LUcene working on a mobile platform, 
you spend 30 minutes writing a simple command line (JRE) app that uses 
lucene to index your source data the way you expect ot index it (ie: index 
the title, store the filename) and see how big that index is.  depending 
on how long these titles/filenames are and how many unique terms are in 
the titles, you may find that your index won't even fit in the mount of 
storage available on your target device -- so the issues of getting Lucene 
running on that device may be moot.

if thta is the case; perhaps a webservice (or SMS) based approach would 
work better .. Solr might be able to simplify the "server' side, all you 
need to do is write the client and feed Solr a CSV files of your data.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30552-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 08 17:28:24 2007
Return-Path: <java-user-return-30552-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31155 invoked from network); 8 Oct 2007 17:28:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Oct 2007 17:28:24 -0000
Received: (qmail 83828 invoked by uid 500); 8 Oct 2007 17:28:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83439 invoked by uid 500); 8 Oct 2007 17:28:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83428 invoked by uid 99); 8 Oct 2007 17:28:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 10:28:06 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 80.76.149.212 is neither permitted nor denied by domain of karl.wettin@gmail.com)
Received: from [80.76.149.212] (HELO ch-smtp01.sth.basefarm.net) (80.76.149.212)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 17:28:08 +0000
Received: from c83-249-118-113.bredband.comhem.se ([83.249.118.113]:52030 helo=[192.168.1.101])
	by ch-smtp01.sth.basefarm.net with esmtp (Exim 4.66)
	(envelope-from <karl.wettin@gmail.com>)
	id 1IewLO-0007YJ-4s
	for java-user@lucene.apache.org; Mon, 08 Oct 2007 19:24:38 +0200
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <171dbfa60710081017x559a399es6467e6d26cd5e105@mail.gmail.com>
References: <171dbfa60710080636k6bf02cebt93e906963b01fd84@mail.gmail.com> <9CA7A691-6D66-41C1-9365-92614EC15E96@gmail.com> <171dbfa60710080840qf1543b1l4bf1dba773e51c6d@mail.gmail.com> <DDBA69C5-CE2A-464A-9681-E1BD53CE2A0E@gmail.com> <171dbfa60710080913jaea6f9dlb879816843be482b@mail.gmail.com> <E8D813D0-CB58-418D-B029-F0B1AE465AC2@gmail.com> <171dbfa60710080952l3b5f9bd2of22f5eb0e4d1ed86@mail.gmail.com> <65763995-4586-4DE5-9B0C-259B1B6D6691@gmail.com> <171dbfa60710081017x559a399es6467e6d26cd5e105@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <E3F15985-58A6-443A-A6D7-E674498FF06B@gmail.com>
Content-Transfer-Encoding: 7bit
From: Karl Wettin <karl.wettin@gmail.com>
Subject: Re: Re : porting lucene on to mobile phone
Date: Mon, 8 Oct 2007 19:16:21 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Originating-IP: 83.249.118.113
X-Scan-Result: No virus found in message 1IewLO-0007YJ-4s.
X-Scan-Signature: ch-smtp01.sth.basefarm.net 1IewLO-0007YJ-4s 3c247e18a70284c4bbea6166341a4cdf
X-Virus-Checked: Checked by ClamAV on apache.org


8 okt 2007 kl. 19.17 skrev saikrishna venkata pendyala:

>> You only require boolean term queries? And no scoring, sorting or
>> anything like that?
>>
>> In that case, it should not be that hard to rewrite Lucene for your
>> needs.
>
>
> Can I rewrite lucene to match the given query with some title ?

Sorry, I still don't understand.

If you only want matching and no scoring (i.e. you will not get to  
know what document was the better or worse match), then it is no that  
hard to get rid of all floating points.

See LUCENE-584 for seperation of Matcher and Scorer.


-- 
karl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30553-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 08 17:50:08 2007
Return-Path: <java-user-return-30553-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39495 invoked from network); 8 Oct 2007 17:50:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Oct 2007 17:50:07 -0000
Received: (qmail 24035 invoked by uid 500); 8 Oct 2007 17:47:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24008 invoked by uid 500); 8 Oct 2007 17:47:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23997 invoked by uid 99); 8 Oct 2007 17:47:46 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 10:47:46 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [66.196.101.27] (HELO web59201.mail.re1.yahoo.com) (66.196.101.27)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 08 Oct 2007 17:47:47 +0000
Received: (qmail 53540 invoked by uid 60001); 8 Oct 2007 17:47:25 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Message-ID;
  b=bkP3mmw0f3MXQOyJzs2UGapHQ7Ob1I6YXYkXaERFCfFLmfFBd2Oh+BTbh0Kq9xL/Biv/3MeALKIvzwESPb9BfXHbfMLEOB0i3LG+Hnu46Ksd8qiGnWf8zqzK8vrtPXjxRCuxRB6IeBQV1Y2U+Wc//ltJwYcRgVFgIrxhBBOqYOk=;
X-YMail-OSG: nJKh_IYVM1mE3KMis0lOz3oDolHwenwZF3F2LjhtCVLygyvxBPdNQ4XP2d..zUyXns8DokRM80uxjloJeVsje_lOgxGUA73_g3SOMLFz0Ijz.ZfyaIX00CuQVxg2ljA3
Received: from [68.167.115.34] by web59201.mail.re1.yahoo.com via HTTP; Mon, 08 Oct 2007 10:47:25 PDT
X-Mailer: YahooMailRC/651.50 YahooMailWebService/0.7.134.6
Date: Mon, 8 Oct 2007 10:47:25 -0700 (PDT)
From: Cool Coder <techcool.kumar@yahoo.com>
Subject: Re: Grouping by field value
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-200306078-1191865645=:53150"
Message-ID: <642696.53150.qm@web59201.mail.re1.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-200306078-1191865645=:53150
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable

>If Solr will work for you, it has faceting built in.=0ALet me check with S=
olr, whether I can use Solr.=0A=0A>> My next question is very simple, I jus=
t wanted to search more than one field something like search for "kbk penci=
l" in "description" field and >>"manufacturer" field. Can I use BooleanQuer=
y for that?=0A=0A>It depends highly on what you want to match... is kbk in =
one field and=0A>pencil in the other field acceptable or not, etc?=0A=0AI j=
ust wanted to search "kbk pencil" value for fields "description" and "manuf=
acturer" . It might happen that I can use more than one field in query with=
 AND, OR clause. Does Lucence support such queries?=0A=0A-RB=0A------------=
---------------------------------------------------------=0ATo unsubscribe,=
 e-mail: java-user-unsubscribe@lucene.apache.org=0AFor additional commands,=
 e-mail: java-user-help@lucene.apache.org=0A=0A=0A      ___________________=
_________________________________________________________________=0AShape Y=
ahoo! in your own image.  Join our Network Research Panel today!   http://s=
urveylink.yahoo.com/gmrs/yahoo_panel_invite.asp?a=3D7 =0A=0A
--0-200306078-1191865645=:53150--

From java-user-return-30554-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 09 04:54:16 2007
Return-Path: <java-user-return-30554-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98731 invoked from network); 9 Oct 2007 04:54:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 9 Oct 2007 04:54:15 -0000
Received: (qmail 15460 invoked by uid 500); 9 Oct 2007 04:53:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15435 invoked by uid 500); 9 Oct 2007 04:53:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15424 invoked by uid 99); 9 Oct 2007 04:53:57 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 21:53:57 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of narendra.yadala@gmail.com designates 209.85.146.178 as permitted sender)
Received: from [209.85.146.178] (HELO wa-out-1112.google.com) (209.85.146.178)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Oct 2007 04:54:00 +0000
Received: by wa-out-1112.google.com with SMTP id j40so2056248wah
        for <java-user@lucene.apache.org>; Mon, 08 Oct 2007 21:53:39 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=yWPuETcTrC0PSgVDUV9w1B0CaXHCyAo7gOQJFZAJb+A=;
        b=Nyrap0VWr5MmvBHqeBgXMr8vV5qyWfzpshxAvXPnLmPGXJKwM86+of7iN7C106vC8W5B6ppUVcoBm2WD7Cc1juojxwx7tA6XvrIvCRAUp65VDmwucLZD8wHkFLrbyxcb68C7Tub/NYkqKETdVWqwYkB3hxaShKtVMlNYkxfkPgQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=TKaZ7Xiu5ACZ9GuyfBJUHFig0oDppGS7nx4lxQ9+7+sqaGyWIaO07eZkfo4bwYJcQHNtlrQ1yCBiowSg2/7v0Ov+Nm9fcFg+UCXOMgMgKdeKlQQF7e8oPmg6PsUV6zlyjC8d8TBEtTK3BxwlLmpQds9dHDVxzUTUdN3huEK+lVM=
Received: by 10.115.32.1 with SMTP id k1mr3990419waj.1191905618954;
        Mon, 08 Oct 2007 21:53:38 -0700 (PDT)
Received: by 10.115.110.16 with HTTP; Mon, 8 Oct 2007 21:53:38 -0700 (PDT)
Message-ID: <81fbf42e0710082153t79498827x94206926aee7f0da@mail.gmail.com>
Date: Tue, 9 Oct 2007 10:23:38 +0530
From: "Narendra yadala" <narendra.yadala@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene indexing error
In-Reply-To: <Pine.LNX.4.62.0710081006140.8064@radix.cryptio.net>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_3132_31704300.1191905618935"
References: <81fbf42e0710080658w7c6134eep3fed4dcd62ef1f6e@mail.gmail.com>
	 <AF80679D-E467-4CB1-8E13-CC185099C5B2@gmail.com>
	 <81fbf42e0710080712x339639ayacd316789bc86b6a@mail.gmail.com>
	 <7a14509e0710080725r639e60fjd2481da039767bf5@mail.gmail.com>
	 <81fbf42e0710080728s35a065el71b475ad93c72e44@mail.gmail.com>
	 <7a14509e0710080733j7716d8e3se18b6e25a4fcbaf6@mail.gmail.com>
	 <81fbf42e0710080744x7f50c65bwd43d263c8cfe7fb0@mail.gmail.com>
	 <Pine.LNX.4.62.0710081006140.8064@radix.cryptio.net>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_3132_31704300.1191905618935
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Thanks very much for the information. I did not include the other portion of
the stack trace because it was totally belonging to Jackrabbit library. Now
I guess the problem is due to the fact that Jackrabbit's latest version is
using Lucene 2.0 for its indexing purposes. So I will search some patch
which involves fixing this bug for Jackrabbit.

Regards
Narendra


On 10/8/07, Chris Hostetter <hossman_lucene@fucit.org> wrote:
>
>
> : I think this bug is related to the one posted on Lucene JIRA:
> : http://issues.apache.org/jira/browse/LUCENE-665
> : Please let me know if there is any solution to this bug of Lucene.
>
> note that the issue is "Closed, Resolution: Won't Fix" it was determined
> that ultimately there was no bug in Lucene.  The problem related to other
> windows programs attempting to "monitor" all new files and thus
> interfereing with lucene's ability to modify those files.
>
> if you read the full details of the issue, you'll also see that
> investigations into trying to introduce workarrounds for Windows users
> ended when it was determined that a new "lockless commits" feature didn't
> seem to suffer from this problem.  Lockless commits were first releases in
> 2.1, on 2007-02-14.
>
> Which begs the question: which version of Lucene are you using?
>
> (Incidently: what you posted was not a full stack trace ... it was a part
> of a stack trace ... since we have no idea what else you excluded, we have
> no way of kowing if there was other useful information in the rest of the
> stack trace.  Even if it didn't seem relevent to you, knowing the
> context of where the exception was caught is frequently extrmely helpful
> in debugging the cause.)
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_3132_31704300.1191905618935--

From java-user-return-30555-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 09 05:37:01 2007
Return-Path: <java-user-return-30555-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9408 invoked from network); 9 Oct 2007 05:36:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 9 Oct 2007 05:36:59 -0000
Received: (qmail 44751 invoked by uid 500); 9 Oct 2007 05:36:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44728 invoked by uid 500); 9 Oct 2007 05:36:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44717 invoked by uid 99); 9 Oct 2007 05:36:40 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Oct 2007 22:36:40 -0700
X-ASF-Spam-Status: No, hits=-4.0 required=10.0
	tests=INVESTMENT_ADVICE,RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of Uttam.Barik@fmr.com designates 192.223.178.26 as permitted sender)
Received: from [192.223.178.26] (HELO maillnx-us311.fmr.com) (192.223.178.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Oct 2007 05:36:42 +0000
Received: from MSGMROSM02WIN.dmn1.fmr.com (MSGMROSM02WIN.dmn1.fmr.com [172.26.31.170])
	by maillnx-us311.fmr.com (Switch-3.1.8/Switch-3.1.7) with SMTP id l995ZgNV030142
	for <java-user@lucene.apache.org>; Tue, 9 Oct 2007 01:35:43 -0400
Received: from MSGMROIV01WIN.DMN1.FMR.COM (172.26.31.106)
	by MSGMROSM02WIN.dmn1.fmr.com (Sigaba Gateway v4.1)
	with ESMTP id 158981896; Tue, 09 Oct 2007 01:35:42 -0400
Received: from MSGMMKIM01WIN.DMN1.FMR.COM ([172.25.108.46]) by MSGMROIV01WIN.DMN1.FMR.COM with SMTP_server; Tue, 09 Oct 2007 01:35:42 -0400
Received: from msgmmkrg01win.DMN1.FMR.COM ([172.25.106.86]) by MSGMMKIM01WIN.DMN1.FMR.COM with Microsoft SMTPSVC(5.0.2195.6713);
	 Tue, 9 Oct 2007 01:35:41 -0400
Received: from MSGBANRG01WIN.DMN1.FMR.COM ([10.165.9.29]) by msgmmkrg01win.DMN1.FMR.COM with Microsoft SMTPSVC(5.0.2195.6713);
	 Tue, 9 Oct 2007 01:35:19 -0400
Received: from msgbancla2win.dmn1.fmr.com ([10.165.10.28]) by MSGBANRG01WIN.DMN1.FMR.COM with Microsoft SMTPSVC(5.0.2195.6713);
	 Tue, 9 Oct 2007 01:35:07 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Please unsubscribe  me from this group mail
Date: Tue, 9 Oct 2007 11:05:07 +0530
Message-ID: <67634794C8E76D4D9FF37A9B92D76464044723F5@MSGBANCLA2WIN.DMN1.FMR.COM>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Please unsubscribe  me from this group mail
Thread-Index: AcgJyf+UMlTBTzt2S8a5P0qUxIqOTAAbA00w
From: "Barik, Uttam" <Uttam.Barik@fmr.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 09 Oct 2007 05:35:07.0781 (UTC) FILETIME=[26EFA350:01C80A36]
X-Virus-Checked: Checked by ClamAV on apache.org

=20


Regards,
Uttam Kumar Barik=20

IT Services
Fidelity Business Services India Pvt. Limited
------------------------------------------------------
*uttam.barik@fmr.com
*External: +91-80-6691 2542       VoIP: 8-658-6739

........................................................................
....................................
Important:  This e-mail, including any attachment(s) hereto, is intended
only for the individual or entity to which it is addressed.  It may
contain proprietary, confidential or privileged information or attorney
work product belonging to Fidelity Business Services India Pvt. Ltd.
(FBS India) or its affiliates. If you are not the intended recipient of
this e-mail, or if you have otherwise received this e-mail in error,
please immediately notify the sender via return e-mail and permanently
delete the original mail, any print outs and any copies, including any
attachments. Any dissemination, distribution, alteration or copying of
this e-mail is strictly prohibited. The originator of this e-mail does
not guarantee the security of this message and will not be responsible
for any damages arising from any dissemination, distribution, alteration
or copying of this message and/or any attachments to this message by a
third party or as a result of any virus being passed on.  Any comments
or statements made in this are not necessarily those of FBS India or any
other Fidelity entity.  All e-mails sent from or to FBS India may be
subject to our monitoring and recording procedures.  FBS India is an
Appointed Representative of Fidelity Investments International, which is
authorized and regulated by the United Kingdom Financial Services
Authority. Fidelity Investments International only gives information on
its products and services and does not give investment advice to private
clients based on individual circumstances
........................................................................
.....................................


-----Original Message-----
From: Karl Wettin [mailto:karl.wettin@gmail.com]=20
Sent: Monday, October 08, 2007 9:56 PM
To: java-user@lucene.apache.org
Subject: Re: Re : porting lucene on to mobile phone


8 okt 2007 kl. 18.13 skrev saikrishna venkata pendyala:

> I need the name of the file in which the best matched title exists. =20
> Don't I
> need scoring here.

I don't know how you would decide what the best matched document is =20
without scoring the results?


--=20
karl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30556-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 09 07:56:31 2007
Return-Path: <java-user-return-30556-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62928 invoked from network); 9 Oct 2007 07:56:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 9 Oct 2007 07:56:30 -0000
Received: (qmail 71479 invoked by uid 500); 9 Oct 2007 07:56:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71443 invoked by uid 500); 9 Oct 2007 07:56:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71432 invoked by uid 99); 9 Oct 2007 07:56:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Oct 2007 00:56:11 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [213.39.232.201] (HELO moskovskaya.fh-wedel.de) (213.39.232.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Oct 2007 07:56:12 +0000
Received: from di by moskovskaya.fh-wedel.de with local (Exim 4.50)
	id 1If9wR-0007Cn-T6
	for java-user@lucene.apache.org; Tue, 09 Oct 2007 09:55:47 +0200
Date: Tue, 9 Oct 2007 09:55:47 +0200
From: Martin Dietze <di@fh-wedel.de>
To: java-user@lucene.apache.org
Subject: Weird operator precedence with default operator AND
Message-ID: <20071009075547.GA27648@fh-wedel.de>
Reply-To: Martin Dietze <martin@the-little-red-haired-girl.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.5.16 (2007-06-09)
Sender: Martin Dietze <di@mail.fh-wedel.de>
X-SA-Exim-Connect-IP: <locally generated>
X-SA-Exim-Mail-From: di@mail.fh-wedel.de
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

 I've been going nuts trying to use LuceneParser parse query
strings using the default operator AND correctly:

String queryString = getQueryString();
QueryParser parser = new QueryParser("text", new StandardAnalyzer());
parser.setDefaultOperator(QueryParser.AND_OPERATOR);
try {
  Query q = parser.parse(queryString);
  LOG.info("q: " + q.toString());
  /* [...] */

Here's two example queries and the results I get with and
without the `setDefaultOperator()' statetment:

Query: hose AND cat:Wohnen cat:Mode OR color:blau

- Default-Op OR:  (+text:hose +cat:Wohnen) cat:Mode color:blau
- Default-Op AND: +(+text:hose +cat:Wohnen) cat:Mode color:blau

Query: hose AND ( cat:Wohnen cat:Mode ) OR color:blau

- Default-Op OR:  (+text:hose +(cat:Wohnen cat:Mode)) color:blau
- Default-Op AND: (+text:hose +(+cat:Wohnen +cat:Mode)) color:blau

It seems like theparser handles the default case well, but what
I get with the default operator set to AND is completely
incorrect. I've seen this behaviour with both version 2.1.0 and
2.2.0.

Any hints?

Cheers,

Martin

-- 
----------- / http://herbert.the-little-red-haired-girl.org / -------------
=+= 
I got it good, I got it bad. I got the sweetest sadness I ever had.
      --- the The

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30557-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 09 08:19:25 2007
Return-Path: <java-user-return-30557-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73593 invoked from network); 9 Oct 2007 08:19:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 9 Oct 2007 08:19:24 -0000
Received: (qmail 87096 invoked by uid 500); 9 Oct 2007 08:19:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87068 invoked by uid 500); 9 Oct 2007 08:19:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87057 invoked by uid 99); 9 Oct 2007 08:19:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Oct 2007 01:19:06 -0700
X-ASF-Spam-Status: No, hits=2.8 required=10.0
	tests=MIME_BASE64_BLANKS,MIME_BASE64_TEXT,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of chee.wu@gmail.com designates 209.85.198.189 as permitted sender)
Received: from [209.85.198.189] (HELO rv-out-0910.google.com) (209.85.198.189)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Oct 2007 08:19:07 +0000
Received: by rv-out-0910.google.com with SMTP id k20so879260rvb
        for <java-user@lucene.apache.org>; Tue, 09 Oct 2007 01:18:45 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:from:to:subject:date:mime-version:content-type:content-transfer-encoding:x-priority:x-msmail-priority:x-mailer:x-mimeole;
        bh=1NNP0+/ap1TocQsDSsbEeJ/sf/DD1i5ZfA+0tg+KAjM=;
        b=t9ZcZ+nFLWHyz3UkDcmNhO2f/ojwL3G3MOv1vLjRN8Nd/qecZ7OiK8e9HJD9vEkV/edOj+peFV54hVj5CsIYLctyhO/Oppr/oMjxwIqJgHp/H/iIFCMjCVjrfeIEvIqmPfKO92CdiKzNZhL8Vo4/M5dRKNtSX2FsKumhJLNaV+E=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:from:to:subject:date:mime-version:content-type:content-transfer-encoding:x-priority:x-msmail-priority:x-mailer:x-mimeole;
        b=bqLEIonSqe9f44LS62XmqeEJbU17dVMOl/03An881jbOUk6n+qkUl6TIK2mes1PYg8lD754GDJs80fLghRoiSFM1lohHR8vwhOhAJZD/bvJ+ia5pvZqDBV3LIHnNUWSUZh1nOzJXM/qn07UOp5s9/vOJX+A+noYtGX0L0fTcpf8=
Received: by 10.115.32.1 with SMTP id k1mr519310waj.1191917925647;
        Tue, 09 Oct 2007 01:18:45 -0700 (PDT)
Received: from D7B19P1X ( [220.249.26.10])
        by mx.google.com with ESMTPS id z20sm7606413pod.2007.10.09.01.18.41
        (version=SSLv3 cipher=RC4-MD5);
        Tue, 09 Oct 2007 01:18:44 -0700 (PDT)
Message-ID: <034901c80a4d$0086c150$7f00a8c0@D7B19P1X>
From: "qi wu" <chee.wu@gmail.com>
To: <java-user@lucene.apache.org>
Subject: Hadoop/Lucene/Nutch user in Beijing Get Together?
Date: Tue, 9 Oct 2007 16:18:28 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="gb2312"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.3138
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3138
X-Virus-Checked: Checked by ClamAV on apache.org

SGksDQpJIGZpbmQgc29tZSBwZW9wbGUgZnJvbSBDaGluYSBhbHNvIGFyZSBpbiBMdWNlbmUgcmVs
YXRlZCBtYWlsIGxpc3QuIERvIGFueSBvbmUgaGF2ZSBpbnRlcmVzdCB0byBtZWV0IHRvZ2V0aGVy
IGZvciBleHByaWVuY2Ugc2hhcmluZyBvciBqdXN0IGZvciBrbm93biBlYWNoIG90aGVyLg0KSWYg
eW91IHdlcmUgaW50ZXJlc3RlZCwgcGxzIGRyb3AgbWUgYSBtYWlsIG9yIGp1c3Qgam9pbiB0aGUg
R29vZ2xlIGdyb3VwIGh0dHA6Ly9ncm91cHMuZ29vZ2xlLmNvbS9ncm91cC9sdWNlbmUtYmVpamlu
Zy1ldmVudC0yMDA3ICB5b3Vyc2xlZi4NCiANClRoYW5rcw0KIC1RaQ==



From java-user-return-30558-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 09 08:37:06 2007
Return-Path: <java-user-return-30558-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80705 invoked from network); 9 Oct 2007 08:37:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 9 Oct 2007 08:37:05 -0000
Received: (qmail 5063 invoked by uid 500); 9 Oct 2007 08:36:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5032 invoked by uid 500); 9 Oct 2007 08:36:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5021 invoked by uid 99); 9 Oct 2007 08:36:48 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Oct 2007 01:36:48 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of kenwudi@gmail.com designates 209.85.128.188 as permitted sender)
Received: from [209.85.128.188] (HELO fk-out-0910.google.com) (209.85.128.188)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Oct 2007 08:36:49 +0000
Received: by fk-out-0910.google.com with SMTP id z23so1663817fkz
        for <java-user@lucene.apache.org>; Tue, 09 Oct 2007 01:36:28 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        bh=SrN29W9lGsMjhfL+ZsZuYc5NPd4NRexG39r5C97YhQg=;
        b=lyihwVZdH4G/b/Bm/GJqbNbXjH32ev/zTQ0pxlE1e9leIjJUmTj4T+hI8smuPUTqgTGCPaQs1kHvQ1egvx8Bqb/5ITJYyHP8BW70mJMvFx6R8ZpOTwGRLB8Sg7P5PPVtqRR4WOt7cwufNLEsct9DMLZn2fyunjNCkxE7H+DX60k=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=t8FKrTLqDTgmuluQFAMjydB65jnLCOwe76BE+u1mLk11fegD4FaXK2yTIK6D5iZeTFoOTmRbYkNwSY7h5jvzJ63eAeI+u/JNEZUsf3U10kHASGA6TP0XOuUagYCC+23a09bS/QXREVuW6pOJyW+lm6xf8KTBrjKarMKcU/OHCF0=
Received: by 10.82.181.10 with SMTP id d10mr12637482buf.1191918987339;
        Tue, 09 Oct 2007 01:36:27 -0700 (PDT)
Received: by 10.82.146.5 with HTTP; Tue, 9 Oct 2007 01:36:27 -0700 (PDT)
Message-ID: <1e3745680710090136v29af7c28q928f6267ccd48fbb@mail.gmail.com>
Date: Tue, 9 Oct 2007 16:36:27 +0800
From: KenWu <kenwudi@gmail.com>
Reply-To: kenwudi@gmail.com
To: java-user@lucene.apache.org
Subject: Re: Hadoop/Lucene/Nutch user in Beijing Get Together?
In-Reply-To: <034901c80a4d$0086c150$7f00a8c0@D7B19P1X>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_4196_3371324.1191918987334"
References: <034901c80a4d$0086c150$7f00a8c0@D7B19P1X>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_4196_3371324.1191918987334
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

i`m in Beijing,reading Hadoop/Lucene/Nutch source code every day.

On 10/9/07, qi wu <chee.wu@gmail.com> wrote:
>
> Hi,
> I find some people from China also are in Lucene related mail list. Do any
> one have interest to meet together for exprience sharing or just for known
> each other.
> If you were interested, pls drop me a mail or just join the Google group
> http://groups.google.com/group/lucene-beijing-event-2007  yourslef.
>
> Thanks
> -Qi




-- 
http://www.5dinfo.net/

------=_Part_4196_3371324.1191918987334--

From java-user-return-30559-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 09 09:31:22 2007
Return-Path: <java-user-return-30559-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 971 invoked from network); 9 Oct 2007 09:31:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 9 Oct 2007 09:31:21 -0000
Received: (qmail 68038 invoked by uid 500); 9 Oct 2007 09:30:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68008 invoked by uid 500); 9 Oct 2007 09:30:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67990 invoked by uid 99); 9 Oct 2007 09:30:52 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Oct 2007 02:30:52 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of accesine.java@gmail.com designates 64.233.166.182 as permitted sender)
Received: from [64.233.166.182] (HELO py-out-1112.google.com) (64.233.166.182)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Oct 2007 09:30:54 +0000
Received: by py-out-1112.google.com with SMTP id d32so5408316pye
        for <java-user@lucene.apache.org>; Tue, 09 Oct 2007 02:30:33 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=/+RH4cn+wdlgDz4Zc3mPTPeW5hQOJQBzodiotyEcwKU=;
        b=eTbDq1TCyAMoX2iAtqB1ET4pMhRgRFwZ51sVrqQRna6v9lix6EKgrya3Uz3DwQ9zwWvTOms77uT4BsKzC+W8XbhfGdF0g1yDkMauxo9bd2mCS892THg+OA0a7N2PLX6mtaTcqya5n1yqY8u6IIsQANIGcuwQdAU8kLvIzzCgGCA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=TuUqT3cKe6docdvaOAIARa2TXpgwz/U2tOgTXbOPuH2f4DqjfaXVKiq79aXFZNGSlykg4pnRDXB65U6MdpRlNXbqr1TZA8ZYICGo/VFh9JlTjYCZw7PrygpsexYygGJ9tgZUbwtdHo6AzF+Ig/G+yFhv/PZx6a48FfxlV+70504=
Received: by 10.64.179.12 with SMTP id b12mr26546587qbf.1191922233182;
        Tue, 09 Oct 2007 02:30:33 -0700 (PDT)
Received: by 10.65.72.5 with HTTP; Tue, 9 Oct 2007 02:30:33 -0700 (PDT)
Message-ID: <ca1504900710090230o4e9c2fbdtf15ecd63d38a3bbb@mail.gmail.com>
Date: Tue, 9 Oct 2007 17:30:33 +0800
From: "Transbuerg Tian" <accesine.java@gmail.com>
To: java-user@lucene.apache.org, kenwudi@gmail.com
Subject: Re: Hadoop/Lucene/Nutch user in Beijing Get Together?
In-Reply-To: <1e3745680710090136v29af7c28q928f6267ccd48fbb@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_7673_23531166.1191922233166"
References: <034901c80a4d$0086c150$7f00a8c0@D7B19P1X>
	 <1e3745680710090136v29af7c28q928f6267ccd48fbb@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_7673_23531166.1191922233166
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

xing , wo ye canjia .

ok , I am enrolled.

tian chunfeng

On 10/9/07, KenWu <kenwudi@gmail.com> wrote:
>
> i`m in Beijing,reading Hadoop/Lucene/Nutch source code every day.
>
> On 10/9/07, qi wu <chee.wu@gmail.com> wrote:
> >
> > Hi,
> > I find some people from China also are in Lucene related mail list. Do
> any
> > one have interest to meet together for exprience sharing or just for
> known
> > each other.
> > If you were interested, pls drop me a mail or just join the Google group
> > http://groups.google.com/group/lucene-beijing-event-2007  yourslef.
> >
> > Thanks
> > -Qi
>
>
>
>
> --
> http://www.5dinfo.net/
>

------=_Part_7673_23531166.1191922233166--

From java-user-return-30560-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 09 13:03:09 2007
Return-Path: <java-user-return-30560-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99737 invoked from network); 9 Oct 2007 13:03:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 9 Oct 2007 13:03:07 -0000
Received: (qmail 45020 invoked by uid 500); 9 Oct 2007 13:02:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44987 invoked by uid 500); 9 Oct 2007 13:02:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44948 invoked by uid 99); 9 Oct 2007 13:02:48 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Oct 2007 06:02:48 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erickerickson@gmail.com designates 64.233.182.186 as permitted sender)
Received: from [64.233.182.186] (HELO nf-out-0910.google.com) (64.233.182.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Oct 2007 13:02:50 +0000
Received: by nf-out-0910.google.com with SMTP id d3so1172517nfc
        for <java-user@lucene.apache.org>; Tue, 09 Oct 2007 06:02:28 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=u3VfrjUAPz+kBFK2k/Iszw3b7WVV+A5M2R573ZHoxZs=;
        b=t9BU++gFs91nzqQ9EOV7hL/h1VyfIxGkL5nqHntkvYURxvNFmK2hMHFLp7MvvIgE1/3TfBFrmm7u88KQTgyBHeTRf4ELpWrBl0nyOmrVDEbC5bPoX8fj5Sz6fBa83Hx0xfzE2QzBqqFboisYdMEqRsaFEPDNP36GspkPa+vLWzI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=QoptfUCeGFgA7K88Hepz35hSa/Obn/0t86P9fRdV11Xp5YnoNqTFNAftJixv4lW3716TmOrWUkaaOixLunMWF0P6dbUoQyTvWUHBnKdq1lGSd3VDp337QfFgDzEd/P4Z5rdi/s6hFmPCR3jcDtc5JABW29iXH22ASCw8rDwg/sA=
Received: by 10.82.183.19 with SMTP id g19mr7756098buf.1191934947864;
        Tue, 09 Oct 2007 06:02:27 -0700 (PDT)
Received: by 10.82.167.3 with HTTP; Tue, 9 Oct 2007 06:02:27 -0700 (PDT)
Message-ID: <359a92830710090602h3f3755d9pc674e1e74a89ceb7@mail.gmail.com>
Date: Tue, 9 Oct 2007 09:02:27 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene newbee quesiton- Term Positions
In-Reply-To: <c01704c90710070948y2213dcffk1426a0d5cc768fa7@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_4521_28976499.1191934947856"
References: <c01704c90710070922x552fe247neb77e2d891ae90a5@mail.gmail.com>
	 <359a92830710070938la012e9fyb5e7eae8e3a08f6f@mail.gmail.com>
	 <c01704c90710070948y2213dcffk1426a0d5cc768fa7@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_4521_28976499.1191934947856
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I certainly applaud your effort to dig in and find out what's going on!

However, I suspect you'll get farther faster by trying one of several
tactics:
1> post the indexing code and the searching code in snippet form. This
    kind of issue is usually a problem with analyzers. That is, perhaps
    you're using one analyzer for indexing and a different one for
searching.
    Or you've made a typo in, say, the field name. Or.... Phrases certainly
    work for many people <G>.
2> Just let Luke reconstruct the document in question for you and inspect
     the reconstructed document. You can cut-n-paste the contents of a
     field into an editor and just search......
3> back out any complex analyzers you're using and just go with
     something like SimpleAnalyzer. Once that's working, work up
     from there. A unit test and/or small self-contained program
     will work well for you here.

Best
Erick

On 10/7/07, Developer Developer <devquestions@gmail.com> wrote:
>
> Hi Eric,
>
> Thanks for the quick reply.    My index does not return any hits when i
> search for certain phrases . I am very sure that the indexed documents
> does
> have those phrases in them.
>
> Therefore i want to just list all the terms and their postions for given
> document just to make sure that the indexed document does have those terms
> indexed in the correct order.
>
> I did check with luke and came up with the following code that does not
> seem
> to be working !!. positions.next()) returns flase !.  Do you see anything
> wrong in this code?
>
> Directory dir = FSDirectory.getDirectory(args[0]);
> IndexReader reader = IndexReader.open(dir);
> TermPositions positions = reader.termPositions();
>
> while(positions.next())
>   {
>      positions.nextPosition();
>
>      positions.nextPosition();
>      byte b[] = positions.getPayload(null, 0);
>      System.out.println(b);
>   }
>
>
>
>
>
> On 10/7/07, Erick Erickson <erickerickson@gmail.com> wrote:
> >
> > I suspect that this is more work than you think, not to mention
> > very slow. This is just due to the nature of an inverted
> > index....
> >
> > To see what I mean, get a copy of Luke and have it
> > reconstruct one of your documents and you'll see what the
> > performance is like.
> >
> > I think Luke has all the example code you could ask for, that's
> > the place I'd look first. See:
> > http://lucene.apache.org/java/docs/contributions.html
> >
> > Why do you want to do this and is it really necessary? You
> > could think about storing the entire document, then when you
> > needed to count terms, just using one of the tokenizers and
> > counting them yourself....
> >
> > Best
> > Erick
> >
> > On 10/7/07, Developer Developer <devquestions@gmail.com> wrote:
> > >
> > > Hello,
> > >
> > > I have simple lucene 2.2 index created. I want to  list all the terms
> > and
> > > their positions in a document. how can I do it ?
> > >
> > > Can you please provide some sample code.
> > >
> > > Thanks !
> > >
> >
>

------=_Part_4521_28976499.1191934947856--

From java-user-return-30561-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 09 13:10:06 2007
Return-Path: <java-user-return-30561-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4414 invoked from network); 9 Oct 2007 13:10:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 9 Oct 2007 13:10:05 -0000
Received: (qmail 64183 invoked by uid 500); 9 Oct 2007 13:09:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63902 invoked by uid 500); 9 Oct 2007 13:09:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63883 invoked by uid 99); 9 Oct 2007 13:09:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Oct 2007 06:09:47 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erickerickson@gmail.com designates 64.233.182.188 as permitted sender)
Received: from [64.233.182.188] (HELO nf-out-0910.google.com) (64.233.182.188)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Oct 2007 13:09:50 +0000
Received: by nf-out-0910.google.com with SMTP id d3so1174190nfc
        for <java-user@lucene.apache.org>; Tue, 09 Oct 2007 06:09:29 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=xDbxPB2a8a/HxlxDcOllmglphuwC8EjibQL0/s8NuCo=;
        b=kLSz3JJLpOdN1Ar/XjGQlTQ6Wyyzq4C0B970rmy2YWUwmtd9m6yNPl0/+xkMGxzkyXjWBQ5nxfqI0Z1PebwSSLzbqKGBkDx7/iaOYFWZozAJj767YyMRijei1wBVRxcR9x5pmuuL4yltxaNqY6r/gebQIPPxewFuLyRLflwAffc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=kv2kiyEXK+8IKnVohZqk5Px1t9uyi7vm02gNsoHwDoQZpeG4zf8GErLJAgjujAZWwMgSkoqr9OQgyO2E+U6SYciiVmOUYa0yup4C040TRTpEfmi31n5YiLIt1aws3x9uEh/5Z/YaP7Se5wZc9GzTO56p+UlanEGqlwz7sIX5EYE=
Received: by 10.82.165.13 with SMTP id n13mr28034197bue.1191935368420;
        Tue, 09 Oct 2007 06:09:28 -0700 (PDT)
Received: by 10.82.167.3 with HTTP; Tue, 9 Oct 2007 06:09:28 -0700 (PDT)
Message-ID: <359a92830710090609l6ead6147ub51126ef74bc0fc4@mail.gmail.com>
Date: Tue, 9 Oct 2007 09:09:28 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Grouping by field value
In-Reply-To: <642696.53150.qm@web59201.mail.re1.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_4565_9405316.1191935368418"
References: <642696.53150.qm@web59201.mail.re1.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_4565_9405316.1191935368418
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Sure. You can either build up the string and let QueryParser handle it
or construct your very own BooleanQuery appropriately. The second
is what I'd try first.

Best
Erick

On 10/8/07, Cool Coder <techcool.kumar@yahoo.com> wrote:
>
> >If Solr will work for you, it has faceting built in.
> Let me check with Solr, whether I can use Solr.
>
> >> My next question is very simple, I just wanted to search more than one
> field something like search for "kbk pencil" in "description" field and
> >>"manufacturer" field. Can I use BooleanQuery for that?
>
> >It depends highly on what you want to match... is kbk in one field and
> >pencil in the other field acceptable or not, etc?
>
> I just wanted to search "kbk pencil" value for fields "description" and
> "manufacturer" . It might happen that I can use more than one field in query
> with AND, OR clause. Does Lucence support such queries?
>
> -RB
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>       ____________________________________________________________________________________
> Shape Yahoo! in your own image.  Join our Network Research Panel today!
> http://surveylink.yahoo.com/gmrs/yahoo_panel_invite.asp?a=7
>
>

------=_Part_4565_9405316.1191935368418--

From java-user-return-30562-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 09 13:15:47 2007
Return-Path: <java-user-return-30562-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7217 invoked from network); 9 Oct 2007 13:15:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 9 Oct 2007 13:15:45 -0000
Received: (qmail 76444 invoked by uid 500); 9 Oct 2007 13:15:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76412 invoked by uid 500); 9 Oct 2007 13:15:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76401 invoked by uid 99); 9 Oct 2007 13:15:27 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Oct 2007 06:15:27 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,INVESTMENT_ADVICE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jattardi@gmail.com designates 209.85.146.181 as permitted sender)
Received: from [209.85.146.181] (HELO wa-out-1112.google.com) (209.85.146.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Oct 2007 13:15:29 +0000
Received: by wa-out-1112.google.com with SMTP id j40so2191354wah
        for <java-user@lucene.apache.org>; Tue, 09 Oct 2007 06:15:06 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=yApwsGghkMD1vp6rnBhOzUhPbRL/eID9g0PQ6WVFvpk=;
        b=s2xDMllQR13sa12H10BRh0mjKrTijR8vDrPVUe8OZ1aisjl01y0MU+6kU2fQuOUJSNm7nPSZSLH3cNOb9WZWL/r3321xFM56BJWAwAREeL9VYR1CjqLpgDa4g/XFK7PqWxkZvyVuw+RkMxWX1AUxKg8D2HeE2wL52WjronJwAWE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=b1WVTed+iXEapVA3JzOBvAqko4wlKqaKP0e8hRVh5TTC+De1xFOu8V9d9h7+Z3O64hfy5GEpPAsmK6n+u3eFupIaKT+bPa6FTffQCrfFBRvyY+DXek/q65wq4N7yYyRQnYQUFbnoqg9N83LEWnVAzACsZs19vGMxvz8j2y4yE5o=
Received: by 10.114.52.1 with SMTP id z1mr776555waz.1191935706452;
        Tue, 09 Oct 2007 06:15:06 -0700 (PDT)
Received: by 10.115.107.3 with HTTP; Tue, 9 Oct 2007 06:15:06 -0700 (PDT)
Message-ID: <7a14509e0710090615k3d4b1274p576d08d1ded68be2@mail.gmail.com>
Date: Tue, 9 Oct 2007 09:15:06 -0400
From: "Joe Attardi" <jattardi@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Please unsubscribe me from this group mail
In-Reply-To: <67634794C8E76D4D9FF37A9B92D76464044723F5@MSGBANCLA2WIN.DMN1.FMR.COM>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_3342_6259096.1191935706438"
References: <67634794C8E76D4D9FF37A9B92D76464044723F5@MSGBANCLA2WIN.DMN1.FMR.COM>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_3342_6259096.1191935706438
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Uttam,

To unsubscribe you need to send an email to
java-user-unsubscribe@lucene.apache.org.

-- 
Joe Attardi
jattardi@gmail.com
http://thinksincode.blogspot.com/

On 10/9/07, Barik, Uttam <Uttam.Barik@fmr.com> wrote:
>
>
>
>
> Regards,
> Uttam Kumar Barik
>
> IT Services
> Fidelity Business Services India Pvt. Limited
> ------------------------------------------------------
> *uttam.barik@fmr.com
> *External: +91-80-6691 2542       VoIP: 8-658-6739
>
> ........................................................................
> ....................................
> Important:  This e-mail, including any attachment(s) hereto, is intended
> only for the individual or entity to which it is addressed.  It may
> contain proprietary, confidential or privileged information or attorney
> work product belonging to Fidelity Business Services India Pvt. Ltd.
> (FBS India) or its affiliates. If you are not the intended recipient of
> this e-mail, or if you have otherwise received this e-mail in error,
> please immediately notify the sender via return e-mail and permanently
> delete the original mail, any print outs and any copies, including any
> attachments. Any dissemination, distribution, alteration or copying of
> this e-mail is strictly prohibited. The originator of this e-mail does
> not guarantee the security of this message and will not be responsible
> for any damages arising from any dissemination, distribution, alteration
> or copying of this message and/or any attachments to this message by a
> third party or as a result of any virus being passed on.  Any comments
> or statements made in this are not necessarily those of FBS India or any
> other Fidelity entity.  All e-mails sent from or to FBS India may be
> subject to our monitoring and recording procedures.  FBS India is an
> Appointed Representative of Fidelity Investments International, which is
> authorized and regulated by the United Kingdom Financial Services
> Authority. Fidelity Investments International only gives information on
> its products and services and does not give investment advice to private
> clients based on individual circumstances
> ........................................................................
> .....................................
>
>
> -----Original Message-----
> From: Karl Wettin [mailto:karl.wettin@gmail.com]
> Sent: Monday, October 08, 2007 9:56 PM
> To: java-user@lucene.apache.org
> Subject: Re: Re : porting lucene on to mobile phone
>
>
> 8 okt 2007 kl. 18.13 skrev saikrishna venkata pendyala:
>
> > I need the name of the file in which the best matched title exists.
> > Don't I
> > need scoring here.
>
> I don't know how you would decide what the best matched document is
> without scoring the results?
>
>
> --
> karl
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_3342_6259096.1191935706438--

From java-user-return-30563-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 09 13:50:27 2007
Return-Path: <java-user-return-30563-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31069 invoked from network); 9 Oct 2007 13:50:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 9 Oct 2007 13:50:26 -0000
Received: (qmail 35187 invoked by uid 500); 9 Oct 2007 13:50:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35155 invoked by uid 500); 9 Oct 2007 13:50:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35144 invoked by uid 99); 9 Oct 2007 13:50:08 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Oct 2007 06:50:08 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of narendra.yadala@gmail.com designates 209.85.146.182 as permitted sender)
Received: from [209.85.146.182] (HELO wa-out-1112.google.com) (209.85.146.182)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Oct 2007 13:50:10 +0000
Received: by wa-out-1112.google.com with SMTP id j40so2203207wah
        for <java-user@lucene.apache.org>; Tue, 09 Oct 2007 06:49:49 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        bh=YaAEMSPpaXLcatZXfWGX6yQUM8Ref0DaceYiEowFxgU=;
        b=X2spLtCp2VWcZtTnnTpqpfADhU5tAS5nBn5Sp+EAs+SU4L6FjRd+KILaNCBxuDtaldFA+G9QY37cR9/I5TgV9wJAlaVK8v4pMnfPvbCbpmmRUkGhCqWJMCJVy72oRJ7N0lrxnxJW+MhjnOmLrfBuTjx+ECZ8EcvkcW7yKwhNwZs=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=fa18ipDRRvr/9lq9JMDoSL6K+6M+pagXmDxfHhMWVHx1OfHKhnsedsYUnQEwHLhv8Pu7HFPie5zYYUU36Rx+yA5OpwexEWHcQWpa0jWGhVYYIHaratIM69fYtwl6t8AKMvbx1VXNSw2YUFHCi/ntY3RFMY7pUnnoAVDg42Uea1Y=
Received: by 10.114.52.1 with SMTP id z1mr810581waz.1191937789094;
        Tue, 09 Oct 2007 06:49:49 -0700 (PDT)
Received: by 10.115.110.16 with HTTP; Tue, 9 Oct 2007 06:49:49 -0700 (PDT)
Message-ID: <81fbf42e0710090649w494aa740n23e36dbb3b307b8a@mail.gmail.com>
Date: Tue, 9 Oct 2007 19:19:49 +0530
From: "Narendra yadala" <narendra.yadala@gmail.com>
To: java-user@lucene.apache.org
Subject: Storage of norms array
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_4987_9108441.1191937789082"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_4987_9108441.1191937789082
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi All

Currently I am using document.setBoost for setting a boost proportionate to
some other parameter.
For ex: p is my parameter whose value is 5.0f
I am using document.setBoost(p) for making this p as a boost for this
document.
But since document.boost gets encoded inside norms array, so I am forced to
store
the norms array for all the fields in my document and as a result
I am wasting space of 2 bytes for two fields for which I dont need any
length normalization and stuff.
And also my parameter p does not exist for all the documents in the index.
So now if I have million documents and only 2% has this parameter p then I
am storing
980,000*3 extra bytes considering there are 3 fields in my document.
So what should I do considering the space considerations in my context.

Regards
Narendra

------=_Part_4987_9108441.1191937789082--

From java-user-return-30564-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 09 14:15:05 2007
Return-Path: <java-user-return-30564-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41155 invoked from network); 9 Oct 2007 14:15:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 9 Oct 2007 14:15:04 -0000
Received: (qmail 98299 invoked by uid 500); 9 Oct 2007 14:14:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98271 invoked by uid 500); 9 Oct 2007 14:14:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98260 invoked by uid 99); 9 Oct 2007 14:14:45 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Oct 2007 07:14:45 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erickerickson@gmail.com designates 209.85.128.191 as permitted sender)
Received: from [209.85.128.191] (HELO fk-out-0910.google.com) (209.85.128.191)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Oct 2007 14:14:47 +0000
Received: by fk-out-0910.google.com with SMTP id z23so1738359fkz
        for <java-user@lucene.apache.org>; Tue, 09 Oct 2007 07:14:25 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=Y1f/imkXn/lZM9IDHNjmqRHoq3jT2fL8WglQZBcwzSM=;
        b=F248Q8hzVXeVVwRXbh2kURoh0rwhXlE637Om//yPiq8FMqmzKDhF6Xa/0CdCj+WtBn9bR2zYilUD9CFjIRA+jB4r+71zzznd0HncAM4dNsfNsh82Y+VEvTFP5LlcBIHaacWCwtiG/MBpFJ0LOr8TdHAFlqoTWCQqm4JQVR1ijMk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Cjz+YipsTcSx71kX9awoEkKrflYgMxg0/tisJiTd3i69eXUL7mEJubiuceSPUTZAwZtx7CjOf89SyP67JHQLI4o/tS7fuRIgrx1T0JuHOtwYElFhkABi3YcfJAUnu7UJ0u6i5nW3n8xmWOesaaCkLyugeOF9hgJNd8OZCrcjNBY=
Received: by 10.82.181.10 with SMTP id d10mr13248794buf.1191939264881;
        Tue, 09 Oct 2007 07:14:24 -0700 (PDT)
Received: by 10.82.167.3 with HTTP; Tue, 9 Oct 2007 07:14:24 -0700 (PDT)
Message-ID: <359a92830710090714x37cefefcsf2c6ebd3b2ca4ba9@mail.gmail.com>
Date: Tue, 9 Oct 2007 10:14:24 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Storage of norms array
In-Reply-To: <81fbf42e0710090649w494aa740n23e36dbb3b307b8a@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_4939_15422074.1191939264879"
References: <81fbf42e0710090649w494aa740n23e36dbb3b307b8a@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_4939_15422074.1191939264879
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I think you shouldn't worry about it until you can demonstrate that
you actually have a space problem. Worrying about storing
an extra < 3M is almost certainly a waste of time.

What evidence do you have that this is any kind of problem
at all?

Best
Erick

On 10/9/07, Narendra yadala <narendra.yadala@gmail.com> wrote:
>
> Hi All
>
> Currently I am using document.setBoost for setting a boost proportionate
> to
> some other parameter.
> For ex: p is my parameter whose value is 5.0f
> I am using document.setBoost(p) for making this p as a boost for this
> document.
> But since document.boost gets encoded inside norms array, so I am forced
> to
> store
> the norms array for all the fields in my document and as a result
> I am wasting space of 2 bytes for two fields for which I dont need any
> length normalization and stuff.
> And also my parameter p does not exist for all the documents in the index.
> So now if I have million documents and only 2% has this parameter p then I
> am storing
> 980,000*3 extra bytes considering there are 3 fields in my document.
> So what should I do considering the space considerations in my context.
>
> Regards
> Narendra
>

------=_Part_4939_15422074.1191939264879--

From java-user-return-30565-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 09 14:23:10 2007
Return-Path: <java-user-return-30565-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44480 invoked from network); 9 Oct 2007 14:23:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 9 Oct 2007 14:23:09 -0000
Received: (qmail 17705 invoked by uid 500); 9 Oct 2007 14:22:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16982 invoked by uid 500); 9 Oct 2007 14:22:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16971 invoked by uid 99); 9 Oct 2007 14:22:49 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Oct 2007 07:22:49 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [63.65.184.134] (HELO birexchange.BIRPLAZA.local) (63.65.184.134)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Oct 2007 14:22:52 +0000
Content-class: urn:content-classes:message
Subject: combining Filter's & Query's to search
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Date: Tue, 9 Oct 2007 10:22:27 -0400
x-mimeole: Produced By Microsoft Exchange V6.5.6944.0
Message-ID: <CC2671C08F06704ABFD37ED1EA09AA56188B77@birexchange.BIRPLAZA.local>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: combining Filter's & Query's to search
Thread-Index: AcgKdn/IEX90mhLOSCir73kHf9PqiAAAKrUg
From: "Beard, Brian" <Brian.Beard@mybir.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

I'm currently using rangeFilter's and queryWrapperFilter's to get around
the max boolean clause limit.

A couple of questions concerning this:

1) Is it good design practice to substitue every term containing a
wildcard with a queryWrapperFilter, and a rangeQuery with a  RangeFilter
and ChainedFilter'ing these together (to avoid the possibility of a
maxBooleanClause limit being exceeded)?=20

We have a searcher that stays open continuously, and reopens when we
have new updates (remains to be seen in deployment, but will probably
occur on approximately an hourly basis). So even though we're caching
the filters with the CachedWrapperFilter, any particular cached filter
may not get used that often and extraneous ones may be left around. The
index will eventually have up to 1/2 million+ records at 3-4K per
document ~1-2GB. We're also using multiple indexes with MultiSearcher to
be able to tailor how the updates are done. (Currently at 2 indexes for
two data sources). It's also a user requirement to be able to search on
leading wildcards.

2) The second part of this has to do with whether a mechanism like
QueryParser exists to help with constructing the filters above.
Currently, I'm using ChainedFilter to chain filters together. But this
works at just the top level. Is it possible from a nested boolean
expression to appropriately insert a FilteredQuery at the right spot.

So, for example, if the query were
name:joe OR (id:123 AND date:[20070101 TO 20071231])

    It would be possible to use something like=20
    searcher.search(theQuery, rangeFilter)

    It would also be possible to use a FilteredQuery with id and a  =20
    RangeFilter first, and using a BooleanQuery with an OR.=20

Is there any way in Lucene to automatically construct FilteredQuery's
when the search is done? I'm basically trying to be lazy and not
re-write something as complicated as QueryParser.parse if it already
exists. It would be great to use the power of QueryParser so that
rangeFilters were always used instead of a RangeQuery.





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30566-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 09 15:05:34 2007
Return-Path: <java-user-return-30566-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68832 invoked from network); 9 Oct 2007 15:05:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 9 Oct 2007 15:05:33 -0000
Received: (qmail 88369 invoked by uid 500); 9 Oct 2007 14:58:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88348 invoked by uid 500); 9 Oct 2007 14:58:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88336 invoked by uid 99); 9 Oct 2007 14:58:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Oct 2007 07:58:14 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.217] (HELO web26006.mail.ukl.yahoo.com) (217.12.10.217)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 09 Oct 2007 14:58:16 +0000
Received: (qmail 11624 invoked by uid 60001); 9 Oct 2007 14:56:53 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=Akk2QQWskH99f5dxz8LjGxQCNCqOcOBYSgoersEHzrdonuirGmn/fA8qFh6wqlXPb6WqswrfFtcvgNJZ/Wl6FUoFPLfgHiHDerCfBFuCyR6I1c2CTlsR3I02pWa8+0ofvoJciojKesrDfWEPecdVOmgGEiCEmATE4fjE5R5pG9g=;
X-YMail-OSG: G3y4OVoVM1mwTXku.OHHoPNeFcgwh2Vh1cel5KjpzrZsLe1i6YhYJQrw7rBEbdPfZBMLSEL_rReK5GmgkfnYKFcpidr0DbIL.sX9YQNQv6HG223sNzHJ4KmH1tQ-
Received: from [193.36.230.96] by web26006.mail.ukl.yahoo.com via HTTP; Tue, 09 Oct 2007 14:56:53 GMT
X-Mailer: YahooMailRC/814.05 YahooMailWebService/0.7.134.6
Date: Tue, 9 Oct 2007 14:56:53 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: combining Filter's & Query's to search
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
Message-ID: <823153.11616.qm@web26006.mail.ukl.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Note that as of Lucene 2.1 QueryParser was changed to use RangeFilters in p=
lace of RangeQuerys by default.=0A=0AYou can simply subclass QueryParser to=
 override construction of wildcardQuerys etc. These methods are over-ridabl=
e to provide a hook for you to return a Query object of your choosing (e.g.=
 ConstantScoreQuery wrapping your choice of filter)=0A=0ACheers=0AMark=0A=
=0A=0A=0A----- Original Message ----=0AFrom: "Beard, Brian" <Brian.Beard@my=
bir.com>=0ATo: java-user@lucene.apache.org=0ASent: Tuesday, 9 October, 2007=
 3:22:27 PM=0ASubject: combining Filter's & Query's to search=0A=0AI'm curr=
ently using rangeFilter's and queryWrapperFilter's to get=0A around=0Athe m=
ax boolean clause limit.=0A=0AA couple of questions concerning this:=0A=0A1=
) Is it good design practice to substitue every term containing a=0Awildcar=
d with a queryWrapperFilter, and a rangeQuery with a=0A  RangeFilter=0Aand =
ChainedFilter'ing these together (to avoid the possibility of a=0AmaxBoolea=
nClause limit being exceeded)? =0A=0AWe have a searcher that stays open con=
tinuously, and reopens when we=0Ahave new updates (remains to be seen in de=
ployment, but will probably=0Aoccur on approximately an hourly basis). So e=
ven though we're caching=0Athe filters with the CachedWrapperFilter, any pa=
rticular cached filter=0Amay not get used that often and extraneous ones ma=
y be left around. The=0Aindex will eventually have up to 1/2 million+ recor=
ds at 3-4K per=0Adocument ~1-2GB. We're also using multiple indexes with Mu=
ltiSearcher=0A to=0Abe able to tailor how the updates are done. (Currently =
at 2 indexes for=0Atwo data sources). It's also a user requirement to be ab=
le to search on=0Aleading wildcards.=0A=0A2) The second part of this has to=
 do with whether a mechanism like=0AQueryParser exists to help with constru=
cting the filters above.=0ACurrently, I'm using ChainedFilter to chain filt=
ers together. But this=0Aworks at just the top level. Is it possible from a=
 nested boolean=0Aexpression to appropriately insert a FilteredQuery at the=
 right spot.=0A=0ASo, for example, if the query were=0Aname:joe OR (id:123 =
AND date:[20070101 TO 20071231])=0A=0A    It would be possible to use somet=
hing like =0A    searcher.search(theQuery, rangeFilter)=0A=0A    It would a=
lso be possible to use a FilteredQuery with id and a   =0A    RangeFilter f=
irst, and using a BooleanQuery with an OR. =0A=0AIs there any way in Lucene=
 to automatically construct FilteredQuery's=0Awhen the search is done? I'm =
basically trying to be lazy and not=0Are-write something as complicated as =
QueryParser.parse if it already=0Aexists. It would be great to use the powe=
r of QueryParser so that=0ArangeFilters were always used instead of a Range=
Query.=0A=0A=0A=0A=0A=0A---------------------------------------------------=
------------------=0ATo unsubscribe, e-mail: java-user-unsubscribe@lucene.a=
pache.org=0AFor additional commands, e-mail: java-user-help@lucene.apache.o=
rg=0A=0A=0A=0A=0A=0A=0A      ______________________________________________=
_____________=0AYahoo! Answers - Got a question? Someone out there knows th=
e answer. Try it=0Anow.=0Ahttp://uk.answers.yahoo.com/ 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30567-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 09 16:05:33 2007
Return-Path: <java-user-return-30567-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57950 invoked from network); 9 Oct 2007 16:05:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 9 Oct 2007 16:05:32 -0000
Received: (qmail 48120 invoked by uid 500); 9 Oct 2007 15:36:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48095 invoked by uid 500); 9 Oct 2007 15:36:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48084 invoked by uid 99); 9 Oct 2007 15:36:17 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Oct 2007 08:36:17 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [63.65.184.134] (HELO birexchange.BIRPLAZA.local) (63.65.184.134)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Oct 2007 15:36:21 +0000
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Subject: RE: combining Filter's & Query's to search
Content-Transfer-Encoding: quoted-printable
x-mimeole: Produced By Microsoft Exchange V6.5.6944.0
Date: Tue, 9 Oct 2007 11:35:59 -0400
Message-ID: <CC2671C08F06704ABFD37ED1EA09AA56188B98@birexchange.BIRPLAZA.local>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: combining Filter's & Query's to search
Thread-Index: AcgKhdRF2VsRtIQlT+yIbG+C6JkxRQAAspaw
From: "Beard, Brian" <Brian.Beard@mybir.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

WooHoo! That's good news.

Now I seee the ConstantScoreRangeQuery in QueryParser.getRangeQuery.
So all I have to do is over-ride QueryParser.getWildcardQuery.

-----Original Message-----
From: mark harwood [mailto:markharw00d@yahoo.co.uk]=20
Sent: Tuesday, October 09, 2007 10:57 AM
To: java-user@lucene.apache.org
Subject: Re: combining Filter's & Query's to search

Note that as of Lucene 2.1 QueryParser was changed to use RangeFilters
in place of RangeQuerys by default.

You can simply subclass QueryParser to override construction of
wildcardQuerys etc. These methods are over-ridable to provide a hook for
you to return a Query object of your choosing (e.g. ConstantScoreQuery
wrapping your choice of filter)

Cheers
Mark



----- Original Message ----
From: "Beard, Brian" <Brian.Beard@mybir.com>
To: java-user@lucene.apache.org
Sent: Tuesday, 9 October, 2007 3:22:27 PM
Subject: combining Filter's & Query's to search

I'm currently using rangeFilter's and queryWrapperFilter's to get
 around
the max boolean clause limit.

A couple of questions concerning this:

1) Is it good design practice to substitue every term containing a
wildcard with a queryWrapperFilter, and a rangeQuery with a
  RangeFilter
and ChainedFilter'ing these together (to avoid the possibility of a
maxBooleanClause limit being exceeded)?=20

We have a searcher that stays open continuously, and reopens when we
have new updates (remains to be seen in deployment, but will probably
occur on approximately an hourly basis). So even though we're caching
the filters with the CachedWrapperFilter, any particular cached filter
may not get used that often and extraneous ones may be left around. The
index will eventually have up to 1/2 million+ records at 3-4K per
document ~1-2GB. We're also using multiple indexes with MultiSearcher
 to
be able to tailor how the updates are done. (Currently at 2 indexes for
two data sources). It's also a user requirement to be able to search on
leading wildcards.

2) The second part of this has to do with whether a mechanism like
QueryParser exists to help with constructing the filters above.
Currently, I'm using ChainedFilter to chain filters together. But this
works at just the top level. Is it possible from a nested boolean
expression to appropriately insert a FilteredQuery at the right spot.

So, for example, if the query were
name:joe OR (id:123 AND date:[20070101 TO 20071231])

    It would be possible to use something like=20
    searcher.search(theQuery, rangeFilter)

    It would also be possible to use a FilteredQuery with id and a  =20
    RangeFilter first, and using a BooleanQuery with an OR.=20

Is there any way in Lucene to automatically construct FilteredQuery's
when the search is done? I'm basically trying to be lazy and not
re-write something as complicated as QueryParser.parse if it already
exists. It would be great to use the power of QueryParser so that
rangeFilters were always used instead of a RangeQuery.





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org






      ___________________________________________________________
Yahoo! Answers - Got a question? Someone out there knows the answer. Try
it
now.
http://uk.answers.yahoo.com/=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30568-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 09 17:20:06 2007
Return-Path: <java-user-return-30568-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2330 invoked from network); 9 Oct 2007 17:20:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 9 Oct 2007 17:20:05 -0000
Received: (qmail 26057 invoked by uid 500); 9 Oct 2007 17:19:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25858 invoked by uid 500); 9 Oct 2007 17:19:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25847 invoked by uid 99); 9 Oct 2007 17:19:45 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Oct 2007 10:19:45 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [66.104.95.4] (HELO listing.marketingbrokers.com) (66.104.95.4)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 09 Oct 2007 17:19:47 +0000
Received: from ip66-104-95-21.z95-104-66.customer.algx.net ([66.104.95.21])
          by listing.marketingbrokers.com (JAMES SMTP Server 2.2.0) with SMTP ID 1018
          for <java-user@lucene.apache.org>;
          Tue, 9 Oct 2007 10:18:05 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
Content-Transfer-Encoding: 7bit
Message-Id: <7B663ADB-EF82-4426-AA16-BB3A4C9A1DDC@marketingbrokers.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: java-user@lucene.apache.org
From: "Peter W." <peter@marketingbrokers.com>
Subject: Lucene in Action
Date: Tue, 9 Oct 2007 10:18:04 -0700
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

Hello,

How is progress on the new Lucene in Action coming?

Thanks,

Peter W.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30569-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 09 19:45:31 2007
Return-Path: <java-user-return-30569-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49292 invoked from network); 9 Oct 2007 19:45:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 9 Oct 2007 19:45:30 -0000
Received: (qmail 55319 invoked by uid 500); 9 Oct 2007 19:45:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55278 invoked by uid 500); 9 Oct 2007 19:45:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55265 invoked by uid 99); 9 Oct 2007 19:45:12 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Oct 2007 12:45:12 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [206.190.39.214] (HELO web50312.mail.re2.yahoo.com) (206.190.39.214)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 09 Oct 2007 19:45:13 +0000
Received: (qmail 77742 invoked by uid 60001); 9 Oct 2007 19:44:51 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=wMVPX1cNp+8bmQtObsyCfZacdb+Tu3IOotuKrw4oRaAxaGD6SgeSoIcIzIiSnnabjWX7cz20DpAb7oPCIsbq2kahBPiMGB6ayx/g+tUy5rUILIHbA2CV7gkx1bnhy1ZjknZEtyzcbdPTHyZvaBr+s54APS78DCAWP5Nyg3VHqIE=;
X-YMail-OSG: VTkGozcVM1nYxkGpMKSHcZLpTpXSvFebvElieQ.uAnZvYALamjlGGAffhXIHVGAOnxG8rIiqbLyfu3Ig54GruDXrKCDnnnr1wiyDOJxC7g6JxP9nYoytY_wHQ9E.I26Ak_hOgvmrg03hoQ--
Received: from [72.231.9.236] by web50312.mail.re2.yahoo.com via HTTP; Tue, 09 Oct 2007 12:44:50 PDT
X-Mailer: YahooMailRC/814.05 YahooMailWebService/0.7.134.6
Date: Tue, 9 Oct 2007 12:44:50 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Lucene in Action
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Message-ID: <38301.77727.qm@web50312.mail.re2.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Peter - LIA2 is in progress! :)  LIA2IP?=0A =0AOtis (hi Erik! ;))=0A=0A. . =
. . . . . . . . . . . . . . . . . . . . . . . . . . . .=0ASimpy -- http://w=
ww.simpy.com/  -  Tag  -  Search  -  Share=0A=0A----- Original Message ----=
=0AFrom: Peter W. <peter@marketingbrokers.com>=0ATo: java-user@lucene.apach=
e.org=0ASent: Tuesday, October 9, 2007 1:18:04 PM=0ASubject: Lucene in Acti=
on=0A=0A=0AHello,=0A=0AHow is progress on the new Lucene in Action coming?=
=0A=0AThanks,=0A=0APeter W.=0A=0A------------------------------------------=
---------------------------=0ATo unsubscribe, e-mail: java-user-unsubscribe=
@lucene.apache.org=0AFor additional commands, e-mail: java-user-help@lucene=
.apache.org=0A=0A=0A=0A

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30570-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 09 19:59:15 2007
Return-Path: <java-user-return-30570-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67934 invoked from network); 9 Oct 2007 19:59:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 9 Oct 2007 19:59:14 -0000
Received: (qmail 90768 invoked by uid 500); 9 Oct 2007 19:58:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90732 invoked by uid 500); 9 Oct 2007 19:58:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90721 invoked by uid 99); 9 Oct 2007 19:58:56 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Oct 2007 12:58:56 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lucenelist2007@danielnaber.de designates 80.67.18.44 as permitted sender)
Received: from [80.67.18.44] (HELO smtprelay06.ispgateway.de) (80.67.18.44)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Oct 2007 19:58:57 +0000
Received: (qmail 24075 invoked from network); 9 Oct 2007 19:58:34 -0000
Received: from unknown (HELO p54bfc816.dip.t-dialin.net) (695637@[84.191.200.22])
          (envelope-sender <lucenelist2007@danielnaber.de>)
          by smtprelay06.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 9 Oct 2007 19:58:34 -0000
From: Daniel Naber <lucenelist2007@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: Weird operator precedence with default operator AND
Date: Tue, 9 Oct 2007 21:53:31 +0200
User-Agent: KMail/1.8.2
References: <20071009075547.GA27648@fh-wedel.de>
In-Reply-To: <20071009075547.GA27648@fh-wedel.de>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200710092153.32009@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org

On Tuesday 09 October 2007 09:55, Martin Dietze wrote:

>  I've been going nuts trying to use LuceneParser parse query
> strings using the default operator AND correctly:

The operator precedence is known to be buggy. You need to use parenthesis, 
e.g. (aa AND bb) OR (cc AND dd)

regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30571-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 09 23:53:13 2007
Return-Path: <java-user-return-30571-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50637 invoked from network); 9 Oct 2007 23:53:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 9 Oct 2007 23:53:11 -0000
Received: (qmail 35282 invoked by uid 500); 9 Oct 2007 23:52:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35250 invoked by uid 500); 9 Oct 2007 23:52:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 61691 invoked by uid 99); 9 Oct 2007 22:42:33 -0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of goksron@gmail.com designates 209.85.198.186 as permitted sender)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:from:to:subject:date:message-id:mime-version:content-type:x-mailer:x-mimeole:thread-index;
        bh=C7ex1/FgMBscn4DNM4rCiQpUqFZx0yRoY6kCSkugC+w=;
        b=E46o41r2xIL+gYq1z4kuMh6O/hZUWVok1rgE0ZVB1NdT85DtT719kRM+IDATI3O77XlWlqaUR4fnWw+MwRnsfgnvFaJTVbvOgHoMKk84wjov5bHO2OJetHK8zI/jGKq6TYFKDXewJsakoJ5L1bz2+juCo12qPr80ojXEwGJO89U=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:from:to:subject:date:message-id:mime-version:content-type:x-mailer:x-mimeole:thread-index;
        b=iZWzgWRoN5gI2lSXsavuqToOWViP3aiYVd04jnUwYlmCFNI25s3kTKJ+uonyVH2guRfbxC0b2DAHpaqMNDlKp8fGH/4p4XG5UH8MHtZFf6oSPWMVXqh13Whq9Si1UDZLyUNLrUv1K284R6vC1OY9Dp/+p8K9exHKuzqwQOqJ3cc=
From: "Lance Norskog" <goksron@gmail.com>
To: <java-user@lucene.apache.org>
Subject: [JOB] Solr/Lucene developer wanted in startup: San Francisco Peninsula, CA, USA
Date: Tue, 9 Oct 2007 15:42:13 -0700
Message-ID: <002801c80ac5$a4160240$770fa8c0@madrid>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0029_01C80A8A.F7B72A40"
X-Mailer: Microsoft Office Outlook 11
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3138
Thread-Index: AcgKxOa/Xp628RIKReSYboGzjq83qQ==
X-Virus-Checked: Checked by ClamAV on apache.org

------=_NextPart_000_0029_01C80A8A.F7B72A40
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hi-
 
We are a startup in the web indexing space. We are looking for an
experienced search engine developer for our team. We are using Solr and
Lucene, but search is search and solid experience with any large search
engine is welcome.
 
At this point we do not wish to disclose our name. We have solid funding and
are a real business. We have a contract with a large company to lease our
index and provide various services.
 
Thank for your time. Please contact me at goksron@gmail.com.
 
Lance Norskog
650-922-8831

------=_NextPart_000_0029_01C80A8A.F7B72A40--


From java-user-return-30572-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 10 02:08:06 2007
Return-Path: <java-user-return-30572-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86349 invoked from network); 10 Oct 2007 02:08:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 10 Oct 2007 02:08:05 -0000
Received: (qmail 30478 invoked by uid 500); 10 Oct 2007 02:07:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30442 invoked by uid 500); 10 Oct 2007 02:07:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30431 invoked by uid 99); 10 Oct 2007 02:07:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Oct 2007 19:07:47 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [66.104.95.4] (HELO listing.marketingbrokers.com) (66.104.95.4)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 10 Oct 2007 02:07:50 +0000
Received: from ip66-104-95-21.z95-104-66.customer.algx.net ([66.104.95.21])
          by listing.marketingbrokers.com (JAMES SMTP Server 2.2.0) with SMTP ID 519
          for <java-user@lucene.apache.org>;
          Tue, 9 Oct 2007 19:06:08 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <38301.77727.qm@web50312.mail.re2.yahoo.com>
References: <38301.77727.qm@web50312.mail.re2.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <D43FA7C4-A6AC-4B9D-8918-D509F120F6C4@marketingbrokers.com>
Content-Transfer-Encoding: 7bit
From: "Peter W." <peter@marketingbrokers.com>
Subject: Re: Lucene in Action
Date: Tue, 9 Oct 2007 19:05:33 -0700
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

Cool!

The quality of first LIA really shined even for
those familiar with Java but new to assertions
and unit tests. Can't wait to buy LIA2...

Please accept the request to include FieldSelector,
QueryWrapperFilter, Lucli, MemoryIndex, MoreLikeThis,
Payload, ScoreDoc, TermDocs, ValueSourceQuery, facets,
boosting, duplicates, span queries and highlighting stuff.

Even Luke and the other Lucene related projects.

Thanks,

Peter W.


Otis Gospodnetic wrote:

> Peter - LIA2 is in progress! :)  LIA2IP?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30573-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 10 04:42:40 2007
Return-Path: <java-user-return-30573-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93121 invoked from network); 10 Oct 2007 04:42:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 10 Oct 2007 04:42:39 -0000
Received: (qmail 33598 invoked by uid 500); 10 Oct 2007 04:42:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33567 invoked by uid 500); 10 Oct 2007 04:42:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33556 invoked by uid 99); 10 Oct 2007 04:42:20 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Oct 2007 21:42:20 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of scott.a.phillips@gmail.com designates 209.85.198.190 as permitted sender)
Received: from [209.85.198.190] (HELO rv-out-0910.google.com) (209.85.198.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Oct 2007 04:42:24 +0000
Received: by rv-out-0910.google.com with SMTP id k20so70041rvb
        for <java-user@lucene.apache.org>; Tue, 09 Oct 2007 21:41:46 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        bh=YoZXbq0m28sNtNloJFBLzBrlpc08xzI3tkv2J/OPLN4=;
        b=bs0ag+lkQhjnc7ZdGG61BJ9QLy5G1KhNr64BGPcVji/KrxKopTVZSucPLIPm9X5sHzP+GrlrrduDE/6yFzmjz44H1+Ut735c2K3ZTAaN2+qAtMnfia+MJ3q6tSCc0YPzY1TA4RsePL+87y4vCFexg7JFvmz9L499TntdzLUX9ZA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=XaX8iHQ0s3i4jnLG6q3RKdFeTzCVA/Zb0snMCtvQWrmGS2KLMp4pYlJTADEYh5GzuClIThY53ZBM7dz0udY3Oiu4qQEy8o+vx+1Hq/OqJloc3vyDf2O6cCbHcaOQOJZ0NO7gYutlR/0W+H24RCA0HaPou7R+AhE5RPY4hKKD4nk=
Received: by 10.142.232.20 with SMTP id e20mr19538wfh.1191991305977;
        Tue, 09 Oct 2007 21:41:45 -0700 (PDT)
Received: by 10.143.7.12 with HTTP; Tue, 9 Oct 2007 21:41:45 -0700 (PDT)
Message-ID: <10acfa680710092141u74a78d55s6f2e2747d58f3354@mail.gmail.com>
Date: Tue, 9 Oct 2007 23:41:45 -0500
From: "Scott Phillips" <scott.a.phillips@gmail.com>
To: java-user@lucene.apache.org
Subject: Field rank?
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org

Hi everyone,

I have a question that I can't quite seem to find the answer to by
googling or searching the archives of this mailing list. The problem
is I would like to weight some fields more than others. Assume that I
have three fields: title, author, and default where title and author
contain there respective attributes and default contains all text
extracted from the document. When a user searches for 'foo' i would to
see at the top of the result list documents that contain 'foo' in the
title.

Looking through the archive I see i could re-craft my user's query as such:

(title: foo)^3 OR (author: foo)^2 OR (default: foo)

But this doesn't seem very elegant of a solution to the problem and
becomes more problematic as the number of fields increase. Also I'm
not sure if this is possible if the user entered more complex
queries...

Does anyone have any ideas?

Scott--

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30574-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 10 08:06:13 2007
Return-Path: <java-user-return-30574-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61967 invoked from network); 10 Oct 2007 08:06:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 10 Oct 2007 08:06:12 -0000
Received: (qmail 41232 invoked by uid 500); 10 Oct 2007 08:05:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40987 invoked by uid 500); 10 Oct 2007 08:05:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40976 invoked by uid 99); 10 Oct 2007 08:05:53 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Oct 2007 01:05:53 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of raghuram.nadiminti@gmail.com designates 64.233.182.188 as permitted sender)
Received: from [64.233.182.188] (HELO nf-out-0910.google.com) (64.233.182.188)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Oct 2007 08:05:57 +0000
Received: by nf-out-0910.google.com with SMTP id d3so102852nfc
        for <java-user@lucene.apache.org>; Wed, 10 Oct 2007 01:05:35 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=pDVgWAN8ipJ+TP92/5ld2dFzgryW5H7h9GnDwiqjTXI=;
        b=Uwnpu6UIhvIRCEB4F/IbIcUj2neOO+ZrTc/TEoZU9M2xhQIYMFF52isP9woyhvRBd44gLEoBrIXY6NLIowq3lf8sTGrEOT+1rIjRt2VRybSyu555Gd6TqIP9m6KApuhRrkYPbRJrHh05igaWrSCGNmLq9P4xt6ZGiY7M2zR0AxU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=ULQ2zWAN7Sf/QDgQc0iU/9Gbhxn/x7Zb3o4ujW9nkC5Fumy/QfgYvAhxmKi2NvMHJUKvMV1+vtA7axpFzb0DLz5/2TfZd3lPGAgDrTcnE61G222mueYjxxX+4UNm/GDpuzuOCQxbcGQUTrnjK2cwbGDpAiRqjhOTtxOdB4R6070=
Received: by 10.78.204.7 with SMTP id b7mr211112hug.1192003535088;
        Wed, 10 Oct 2007 01:05:35 -0700 (PDT)
Received: by 10.78.167.15 with HTTP; Wed, 10 Oct 2007 01:05:35 -0700 (PDT)
Message-ID: <1e68ba6b0710100105w5d8f310k271a5eae6978d7cb@mail.gmail.com>
Date: Wed, 10 Oct 2007 13:35:35 +0530
From: "Raghu Ram" <raghuram.nadiminti@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene in Action
In-Reply-To: <D43FA7C4-A6AC-4B9D-8918-D509F120F6C4@marketingbrokers.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_10907_32358698.1192003535070"
References: <38301.77727.qm@web50312.mail.re2.yahoo.com>
	 <D43FA7C4-A6AC-4B9D-8918-D509F120F6C4@marketingbrokers.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_10907_32358698.1192003535070
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Is there any document or book that discusses lucene internal details ????

On 10/10/07, Peter W. <peter@marketingbrokers.com> wrote:
>
> Cool!
>
> The quality of first LIA really shined even for
> those familiar with Java but new to assertions
> and unit tests. Can't wait to buy LIA2...
>
> Please accept the request to include FieldSelector,
> QueryWrapperFilter, Lucli, MemoryIndex, MoreLikeThis,
> Payload, ScoreDoc, TermDocs, ValueSourceQuery, facets,
> boosting, duplicates, span queries and highlighting stuff.
>
> Even Luke and the other Lucene related projects.
>
> Thanks,
>
> Peter W.
>
>
> Otis Gospodnetic wrote:
>
> > Peter - LIA2 is in progress! :)  LIA2IP?
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_10907_32358698.1192003535070--

From java-user-return-30575-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 10 08:20:40 2007
Return-Path: <java-user-return-30575-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68115 invoked from network); 10 Oct 2007 08:20:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 10 Oct 2007 08:20:39 -0000
Received: (qmail 62926 invoked by uid 500); 10 Oct 2007 08:20:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62891 invoked by uid 500); 10 Oct 2007 08:20:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62880 invoked by uid 99); 10 Oct 2007 08:20:21 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Oct 2007 01:20:21 -0700
X-ASF-Spam-Status: No, hits=-4.0 required=10.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of DORONC@il.ibm.com designates 195.212.29.155 as permitted sender)
Received: from [195.212.29.155] (HELO mtagate6.de.ibm.com) (195.212.29.155)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Oct 2007 08:20:23 +0000
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate6.de.ibm.com (8.13.8/8.13.8) with ESMTP id l9A8JxeN308550
	for <java-user@lucene.apache.org>; Wed, 10 Oct 2007 08:19:59 GMT
Received: from d12av04.megacenter.de.ibm.com (d12av04.megacenter.de.ibm.com [9.149.165.229])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.8/8.13.8/NCO v8.5) with ESMTP id l9A8JxBX1884334
	for <java-user@lucene.apache.org>; Wed, 10 Oct 2007 10:19:59 +0200
Received: from d12av04.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l9A8Jx2P022522
	for <java-user@lucene.apache.org>; Wed, 10 Oct 2007 10:19:59 +0200
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l9A8JxqZ022517
	for <java-user@lucene.apache.org>; Wed, 10 Oct 2007 10:19:59 +0200
In-Reply-To: <10acfa680710092141u74a78d55s6f2e2747d58f3354@mail.gmail.com>
Subject: Re: Field rank?
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
Message-ID: <OF5E676107.24D62225-ONC2257370.002D43E7-C2257370.002D84F6@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Wed, 10 Oct 2007 10:17:11 +0200
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.2HF71 | November 3, 2006) at
 10/10/2007 10:19:58
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Scott,

Would indexing time field boosts work for you?
http://lucene.apache.org/java/docs/scoring.html#Score%20Boosting

Doron

"Scott Phillips" wrote:

> Hi everyone,
>
> I have a question that I can't quite seem to find the answer to by
> googling or searching the archives of this mailing list. The problem
> is I would like to weight some fields more than others. Assume that I
> have three fields: title, author, and default where title and author
> contain there respective attributes and default contains all text
> extracted from the document. When a user searches for 'foo' i would to
> see at the top of the result list documents that contain 'foo' in the
> title.
>
> Looking through the archive I see i could re-craft my user's
> query as such:
>
> (title: foo)^3 OR (author: foo)^2 OR (default: foo)
>
> But this doesn't seem very elegant of a solution to the problem and
> becomes more problematic as the number of fields increase. Also I'm
> not sure if this is possible if the user entered more complex
> queries...
>
> Does anyone have any ideas?
>
> Scott--


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30576-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 10 09:04:57 2007
Return-Path: <java-user-return-30576-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83988 invoked from network); 10 Oct 2007 09:04:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 10 Oct 2007 09:04:54 -0000
Received: (qmail 5646 invoked by uid 500); 10 Oct 2007 09:04:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5617 invoked by uid 500); 10 Oct 2007 09:04:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5604 invoked by uid 99); 10 Oct 2007 09:04:35 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Oct 2007 02:04:35 -0700
X-ASF-Spam-Status: No, hits=-4.0 required=10.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [64.18.2.165] (HELO exprod7og106.obsmtp.com) (64.18.2.165)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 10 Oct 2007 09:04:32 +0000
Received: from source ([64.233.182.184]) by exprod7ob106.postini.com ([64.18.6.12]) with SMTP;
	Wed, 10 Oct 2007 02:04:10 PDT
Received: by nf-out-0910.google.com with SMTP id c10so149325nfd
        for <java-user@lucene.apache.org>; Wed, 10 Oct 2007 02:04:10 -0700 (PDT)
Received: by 10.78.147.6 with SMTP id u6mr259321hud.1192007049443;
        Wed, 10 Oct 2007 02:04:09 -0700 (PDT)
Received: by 10.78.140.10 with HTTP; Wed, 10 Oct 2007 02:04:09 -0700 (PDT)
Message-ID: <47699a8d0710100204o5ba579d2k3b766281e4e2a70b@mail.gmail.com>
Date: Wed, 10 Oct 2007 02:04:09 -0700
From: "Kyle Maxwell" <kyle@casttv.com>
To: java-user@lucene.apache.org
Subject: Re: Field rank?
In-Reply-To: <10acfa680710092141u74a78d55s6f2e2747d58f3354@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <10acfa680710092141u74a78d55s6f2e2747d58f3354@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

> I have a question that I can't quite seem to find the answer to by
> googling or searching the archives of this mailing list. The problem
> is I would like to weight some fields more than others. Assume that I
> have three fields: title, author, and default where title and author
> contain there respective attributes and default contains all text
> extracted from the document. When a user searches for 'foo' i would to
> see at the top of the result list documents that contain 'foo' in the
> title.
>
> Looking through the archive I see i could re-craft my user's query as such:
>
> (title: foo)^3 OR (author: foo)^2 OR (default: foo)
>
> But this doesn't seem very elegant of a solution to the problem and
> becomes more problematic as the number of fields increase. Also I'm
> not sure if this is possible if the user entered more complex
> queries...

One of the MultiFieldQueryParser's constructors has a field boost argument.

-- 
Kyle Maxwell
Software Engineer
CastTV, Inc
http://www.casttv.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30577-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 10 12:00:09 2007
Return-Path: <java-user-return-30577-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43118 invoked from network); 10 Oct 2007 12:00:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 10 Oct 2007 12:00:08 -0000
Received: (qmail 29175 invoked by uid 500); 10 Oct 2007 11:59:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29141 invoked by uid 500); 10 Oct 2007 11:59:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29130 invoked by uid 99); 10 Oct 2007 11:59:49 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Oct 2007 04:59:49 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of mailing.patrick.kimber@gmail.com designates 209.85.128.189 as permitted sender)
Received: from [209.85.128.189] (HELO fk-out-0910.google.com) (209.85.128.189)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Oct 2007 11:59:53 +0000
Received: by fk-out-0910.google.com with SMTP id z23so165383fkz
        for <java-user@lucene.apache.org>; Wed, 10 Oct 2007 04:59:31 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        bh=uAwNmLAHVQUE+rO368Q4Nh4aHGW9wxMU6sZpPgCT874=;
        b=BsJKWu4i5XflkOrAOAk9UN65V0aquQ1TJwOJ6o8UdD36rek59vDe3hklppm/42IYHRjmpess646WReCgN7wBjA+ZCDWDQkDwWmgCdUBt4hXlQLIntVs5436bFvgm6T//Sl+EMFtvZAI21Cz983rkDpF/d7E8TPYvt1cxG3W0NDE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=YetZtAMHr1pZYV+3C8uR9xqsKsI7TMjwuGWZysonJ/th5HLTFyPiWVVW2be4aydpWDkBnc4PaYF/vTlS7UrTzFZuTOIa09lth5jVpvBywKD14okCPCB3kE5gqn4OrGHWwhwmScbaWieTx51/7Z5GQTb9UUuBGpDO6uTE7ENWRfI=
Received: by 10.82.107.15 with SMTP id f15mr1357142buc.1192017571279;
        Wed, 10 Oct 2007 04:59:31 -0700 (PDT)
Received: by 10.82.158.2 with HTTP; Wed, 10 Oct 2007 04:59:31 -0700 (PDT)
Message-ID: <4f9b23800710100459x6050f26bwbcd7f9584a3279ff@mail.gmail.com>
Date: Wed, 10 Oct 2007 12:59:31 +0100
From: "Patrick Kimber" <mailing.patrick.kimber@gmail.com>
To: java-user@lucene.apache.org
Subject: IndexMergeTool - Close indexes before merge?
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org

Hi

The IndexMergeTool (see url below) creates a new index, the "mergedIndex".

Do the other indexes, "index1", "index2", etc, need to be closed
before performing the merge?
This is the same as asking if the indexes passed to
IndexWriter.addIndexes need to be closed before they are added to the
new index.

http://svn.apache.org/repos/asf/lucene/java/trunk/contrib/miscellaneous/src/java/org/apache/lucene/misc/IndexMergeTool.java

Thanks for your help,

Patrick

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30578-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 10 12:04:04 2007
Return-Path: <java-user-return-30578-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44382 invoked from network); 10 Oct 2007 12:04:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 10 Oct 2007 12:04:03 -0000
Received: (qmail 34455 invoked by uid 500); 10 Oct 2007 12:03:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34424 invoked by uid 500); 10 Oct 2007 12:03:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34413 invoked by uid 99); 10 Oct 2007 12:03:44 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Oct 2007 05:03:44 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of markrmiller@gmail.com designates 209.85.198.191 as permitted sender)
Received: from [209.85.198.191] (HELO rv-out-0910.google.com) (209.85.198.191)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Oct 2007 12:03:46 +0000
Received: by rv-out-0910.google.com with SMTP id k20so145553rvb
        for <java-user@lucene.apache.org>; Wed, 10 Oct 2007 05:03:23 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        bh=Bt5K/d8GHlpIgztixjNpGO/m+5gtK4ndyGLo+Propjg=;
        b=raokUAKi1Hh8XeiCHYKoQC8jL8VX3hYuXHruTxWefg39nxAvuu7pNqAa17e76K6OUpdHV+S5Uv1smEqP5lddwZd+FixvVRoxjcellP2VwTj8iW0c710zdSRigZtCaz/qOc8NlZiYzAEpLb1RG84jgXdRIhgKW1VqST8UUPzgpws=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=e59LZ2Y3xXI7ppTiPu+BY/M8QasO0Nw6/j5xquabJ1QSqrda6CrRWDX0di1cc2nOzTYANJIkSlaj5aYrUIyA2IZWxmsrqMcNfJin2742NkHLbFzljPRTWS2CE99e9MB9haAx2ogCAO0U6V3C6wv61s6G53NhYbDYLzpK1XzHRtw=
Received: by 10.141.196.13 with SMTP id y13mr235927rvp.1192017799655;
        Wed, 10 Oct 2007 05:03:19 -0700 (PDT)
Received: from ?192.168.1.100? ( [69.124.234.183])
        by mx.google.com with ESMTPS id 10sm941024wrl.2007.10.10.05.03.17
        (version=SSLv3 cipher=RC4-MD5);
        Wed, 10 Oct 2007 05:03:18 -0700 (PDT)
Message-ID: <470CBF83.7060608@gmail.com>
Date: Wed, 10 Oct 2007 08:03:15 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Weird operator precedence with default operator AND
References: <20071009075547.GA27648@fh-wedel.de>
In-Reply-To: <20071009075547.GA27648@fh-wedel.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

There is a lot on this topic if you search the archives.

Things to check out:

Precedence QueryParser (I think its in Lucene contrib packages - I don't 
believe its perfect but I have not tried it)

Qsol: myhardshadow.com/qsol (A query parser I wrote that has fully 
customizable precedence support - don't be fooled by the stale 
website...I am actually working on version 2 as i have time)

- Mark

Martin Dietze wrote:
> Hi,
>
>  I've been going nuts trying to use LuceneParser parse query
> strings using the default operator AND correctly:
>
> String queryString = getQueryString();
> QueryParser parser = new QueryParser("text", new StandardAnalyzer());
> parser.setDefaultOperator(QueryParser.AND_OPERATOR);
> try {
>   Query q = parser.parse(queryString);
>   LOG.info("q: " + q.toString());
>   /* [...] */
>
> Here's two example queries and the results I get with and
> without the `setDefaultOperator()' statetment:
>
> Query: hose AND cat:Wohnen cat:Mode OR color:blau
>
> - Default-Op OR:  (+text:hose +cat:Wohnen) cat:Mode color:blau
> - Default-Op AND: +(+text:hose +cat:Wohnen) cat:Mode color:blau
>
> Query: hose AND ( cat:Wohnen cat:Mode ) OR color:blau
>
> - Default-Op OR:  (+text:hose +(cat:Wohnen cat:Mode)) color:blau
> - Default-Op AND: (+text:hose +(+cat:Wohnen +cat:Mode)) color:blau
>
> It seems like theparser handles the default case well, but what
> I get with the default operator set to AND is completely
> incorrect. I've seen this behaviour with both version 2.1.0 and
> 2.2.0.
>
> Any hints?
>
> Cheers,
>
> Martin
>
>   

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30579-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 10 12:21:55 2007
Return-Path: <java-user-return-30579-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52022 invoked from network); 10 Oct 2007 12:21:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 10 Oct 2007 12:21:55 -0000
Received: (qmail 62386 invoked by uid 500); 10 Oct 2007 12:21:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62065 invoked by uid 500); 10 Oct 2007 12:21:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62054 invoked by uid 99); 10 Oct 2007 12:21:36 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Oct 2007 05:21:36 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [66.111.4.25] (HELO out1.smtp.messagingengine.com) (66.111.4.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Oct 2007 12:21:40 +0000
Received: from compute1.internal (compute1.internal [10.202.2.41])
	by out1.messagingengine.com (Postfix) with ESMTP id 088C831F9B
	for <java-user@lucene.apache.org>; Wed, 10 Oct 2007 08:21:19 -0400 (EDT)
Received: from web8.messagingengine.com ([10.202.2.217])
  by compute1.internal (MEProxy); Wed, 10 Oct 2007 08:21:19 -0400
Received: by web8.messagingengine.com (Postfix, from userid 99)
	id DDFDE1C1F1; Wed, 10 Oct 2007 08:21:18 -0400 (EDT)
Message-Id: <1192018878.11346.1215128253@webmail.messagingengine.com>
X-Sasl-Enc: zASzWkmAffMBy2jQaCzBDlc7CkpaUEJTY6T6n3KXP27E 1192018878
From: "Michael McCandless" <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="ISO-8859-1"
MIME-Version: 1.0
X-Mailer: MessagingEngine.com Webmail Interface
References: <4f9b23800710100459x6050f26bwbcd7f9584a3279ff@mail.gmail.com>
Subject: Re: IndexMergeTool - Close indexes before merge?
In-Reply-To: <4f9b23800710100459x6050f26bwbcd7f9584a3279ff@mail.gmail.com>
Date: Wed, 10 Oct 2007 08:21:18 -0400
X-Virus-Checked: Checked by ClamAV on apache.org


Yes, you should close the indices before adding them.  Both of the addIndexes*
methods that take Directory[] require that there are no writers changing the
index in those directories.

They do not acquire the write lock in those Directories, so it's up to your
application to ensure no writer changes the index while addIndexes is running. 

I'll update the javadocs with this caveat.  Thanks for pointing it out
Patrick!

Mike

"Patrick Kimber" <mailing.patrick.kimber@gmail.com> wrote:
> Hi
> 
> The IndexMergeTool (see url below) creates a new index, the
> "mergedIndex".
> 
> Do the other indexes, "index1", "index2", etc, need to be closed
> before performing the merge?
> This is the same as asking if the indexes passed to
> IndexWriter.addIndexes need to be closed before they are added to the
> new index.
> 
> http://svn.apache.org/repos/asf/lucene/java/trunk/contrib/miscellaneous/src/java/org/apache/lucene/misc/IndexMergeTool.java
> 
> Thanks for your help,
> 
> Patrick
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30580-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 10 12:21:56 2007
Return-Path: <java-user-return-30580-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52031 invoked from network); 10 Oct 2007 12:21:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 10 Oct 2007 12:21:55 -0000
Received: (qmail 62697 invoked by uid 500); 10 Oct 2007 12:21:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62657 invoked by uid 500); 10 Oct 2007 12:21:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62598 invoked by uid 99); 10 Oct 2007 12:21:38 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Oct 2007 05:21:38 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [213.39.232.201] (HELO moskovskaya.fh-wedel.de) (213.39.232.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Oct 2007 12:21:40 +0000
Received: from di by moskovskaya.fh-wedel.de with local (Exim 4.50)
	id 1IfaYw-0008Af-HG
	for java-user@lucene.apache.org; Wed, 10 Oct 2007 14:21:18 +0200
Date: Wed, 10 Oct 2007 14:21:18 +0200
From: Martin Dietze <di@fh-wedel.de>
To: java-user@lucene.apache.org
Subject: Re: Weird operator precedence with default operator AND
Message-ID: <20071010122118.GA31386@fh-wedel.de>
Reply-To: Martin Dietze <martin@the-little-red-haired-girl.org>
Mail-Followup-To: java-user@lucene.apache.org
References: <20071009075547.GA27648@fh-wedel.de> <200710092153.32009@danielnaber.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <200710092153.32009@danielnaber.de>
User-Agent: Mutt/1.5.16 (2007-06-09)
Sender: Martin Dietze <di@mail.fh-wedel.de>
X-SA-Exim-Connect-IP: <locally generated>
X-SA-Exim-Mail-From: di@mail.fh-wedel.de
X-Virus-Checked: Checked by ClamAV on apache.org

On Tue, October 09, 2007, Daniel Naber wrote:

> The operator precedence is known to be buggy. You need to use parenthesis, 
> e.g. (aa AND bb) OR (cc AND dd)

This would be fine with me but unfortunately not for my users.
More precisely, I need to analyze a query string from one search
engine, filter out a black list of facette queries and pass the
result on to a second search engine. This means that I have no
control over the way people enter their queries.

Is there any known query parser which handles this correctly?

Also, how does solr do this? It uses a parser derived from the
Lucene QueryParser, and I found it produces the same output,
however the search queries are still handled correctly, i.e. the
results I get indicate that deep down inside it seems to get it
right in the end.

Cheers,

Martin

-- 
----------- / http://herbert.the-little-red-haired-girl.org / -------------
=+= 
My name is spelled Luxury Yacht but it's pronounced Throatwabbler Mangrove.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30581-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 10 12:27:49 2007
Return-Path: <java-user-return-30581-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56435 invoked from network); 10 Oct 2007 12:27:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 10 Oct 2007 12:27:28 -0000
Received: (qmail 80456 invoked by uid 500); 10 Oct 2007 12:27:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80422 invoked by uid 500); 10 Oct 2007 12:27:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80404 invoked by uid 99); 10 Oct 2007 12:27:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Oct 2007 05:27:11 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [213.39.232.201] (HELO moskovskaya.fh-wedel.de) (213.39.232.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Oct 2007 12:27:13 +0000
Received: from di by moskovskaya.fh-wedel.de with local (Exim 4.50)
	id 1IfaeK-0008BD-Cr
	for java-user@lucene.apache.org; Wed, 10 Oct 2007 14:26:52 +0200
Date: Wed, 10 Oct 2007 14:26:52 +0200
From: Martin Dietze <di@fh-wedel.de>
To: java-user@lucene.apache.org
Subject: Re: Weird operator precedence with default operator AND
Message-ID: <20071010122652.GA31418@fh-wedel.de>
Reply-To: Martin Dietze <martin@the-little-red-haired-girl.org>
Mail-Followup-To: java-user@lucene.apache.org
References: <20071009075547.GA27648@fh-wedel.de> <470CBF83.7060608@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <470CBF83.7060608@gmail.com>
User-Agent: Mutt/1.5.16 (2007-06-09)
Sender: Martin Dietze <di@mail.fh-wedel.de>
X-SA-Exim-Connect-IP: <locally generated>
X-SA-Exim-Mail-From: di@mail.fh-wedel.de
X-Virus-Checked: Checked by ClamAV on apache.org

Mark,

 this reply was just in time :)

On Wed, October 10, 2007, Mark Miller wrote:

> Precedence QueryParser (I think its in Lucene contrib packages - I don't 
> believe its perfect but I have not tried it)

I checked that one out, and while it improves things with
default settings I found it to exhibit the same incorrect
behaviour with default operator AND.

> Qsol: myhardshadow.com/qsol (A query parser I wrote that has fully 
> customizable precedence support - don't be fooled by the stale website...I 
> am actually working on version 2 as i have time)

That sounds promising, I will check this out right now!

Thannk you!

Martin

-- 
----------- / http://herbert.the-little-red-haired-girl.org / -------------
=+= 
Die Freiheit ist uns ein schoenes Weib. 
Sie hat einen Ober- und Unterleib.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30582-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 10 12:30:53 2007
Return-Path: <java-user-return-30582-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58614 invoked from network); 10 Oct 2007 12:30:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 10 Oct 2007 12:30:52 -0000
Received: (qmail 89102 invoked by uid 500); 10 Oct 2007 12:30:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89078 invoked by uid 500); 10 Oct 2007 12:30:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89064 invoked by uid 99); 10 Oct 2007 12:30:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Oct 2007 05:30:26 -0700
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [208.97.132.83] (HELO spunkymail-a14.g.dreamhost.com) (208.97.132.83)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Oct 2007 12:30:27 +0000
Received: from [192.168.0.3] (adsl-074-229-189-244.sip.rmo.bellsouth.net [74.229.189.244])
	by spunkymail-a14.g.dreamhost.com (Postfix) with ESMTP id F026D190E2D
	for <java-user@lucene.apache.org>; Wed, 10 Oct 2007 05:30:07 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <1e68ba6b0710100105w5d8f310k271a5eae6978d7cb@mail.gmail.com>
References: <38301.77727.qm@web50312.mail.re2.yahoo.com> <D43FA7C4-A6AC-4B9D-8918-D509F120F6C4@marketingbrokers.com> <1e68ba6b0710100105w5d8f310k271a5eae6978d7cb@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <3258775C-5AF8-4229-9D8F-B79EBF342126@apache.org>
Content-Transfer-Encoding: 7bit
From: Grant Ingersoll <gsingers@apache.org>
Subject: Re: Lucene in Action
Date: Wed, 10 Oct 2007 08:30:02 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org

The best place is the Lucene website, including the wiki and the  
javadocs.  Is there something in particular you are interested in?

-Grant

On Oct 10, 2007, at 4:05 AM, Raghu Ram wrote:

> Is there any document or book that discusses lucene internal  
> details ????
>
> On 10/10/07, Peter W. <peter@marketingbrokers.com> wrote:
>>
>> Cool!
>>
>> The quality of first LIA really shined even for
>> those familiar with Java but new to assertions
>> and unit tests. Can't wait to buy LIA2...
>>
>> Please accept the request to include FieldSelector,
>> QueryWrapperFilter, Lucli, MemoryIndex, MoreLikeThis,
>> Payload, ScoreDoc, TermDocs, ValueSourceQuery, facets,
>> boosting, duplicates, span queries and highlighting stuff.
>>
>> Even Luke and the other Lucene related projects.
>>
>> Thanks,
>>
>> Peter W.
>>
>>
>> Otis Gospodnetic wrote:
>>
>>> Peter - LIA2 is in progress! :)  LIA2IP?
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>

--------------------------
Grant Ingersoll
http://lucene.grantingersoll.com

Lucene Boot Camp Training:
ApacheCon Atlanta, Nov. 12, 2007.  Sign up now!  http:// 
www.apachecon.com

Lucene Helpful Hints:
http://wiki.apache.org/lucene-java/BasicsOfPerformance
http://wiki.apache.org/lucene-java/LuceneFAQ



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30583-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 10 14:09:42 2007
Return-Path: <java-user-return-30583-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3629 invoked from network); 10 Oct 2007 14:09:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 10 Oct 2007 14:09:41 -0000
Received: (qmail 73748 invoked by uid 500); 10 Oct 2007 14:08:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73726 invoked by uid 500); 10 Oct 2007 14:08:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 42547 invoked by uid 99); 10 Oct 2007 13:51:54 -0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=IXRGMqFa0h5v2FOAtaEx0FSygDxbpeAA5hZYnXJ7ts6bCfSm9HsiBU1NeKrMLe8lupcrftIjTSz+6+Se/NPTa/9FyzgZWymGuuC3AuVvLwIdoL8DYiZuqRcS6cI0WS//u2STx6vGAWyCnUbjk2TnyllsNWv97QezvCL62hvxKtQ=;
X-YMail-OSG: f7jj0bMVM1nKWiGWEHbL7V61bN0N1O_bKrNGuyRYUqsDhKZr80W9AZp5CgmwkWoDscbnk51aTUPvyFAuujUDoXozpSnjPtl0cu3._4iTTwiEAUtGgP4r9TwTtStfHyiylEwcF6_8C5J4bh5nqYW_ht9w
Date: Wed, 10 Oct 2007 06:51:33 -0700 (PDT)
From: "pp1907@yahoo.com" <pp1907@yahoo.com>
Subject: Re: Custom Search algorithm integration
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1030916150-1192024293=:18418"
Content-Transfer-Encoding: 8bit
Message-ID: <970569.18418.qm@web52705.mail.re2.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-1030916150-1192024293=:18418
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Yes, image field is binary. However, image size is not more than 1KB. We would use a combination of text search to narrow down the results. But once we get the results, we would want to search all images (within the above resultset) with the user given image file.
   
  Ideally, your 2nd approach - of scoring/matching within Lucene is what we were looking for. Rather, we already have the capability to match & score if 2 images are provided. It would be best if we could integrate our Java API within Lucene search/score.
   
  Lucene allows to store binary value as a field. However, am not sure (as we are new to Lucene) how we can tell Lucene to use our API to search/match for the binary/image field.
   
  would be good to hear your thoughts.thank you
   
  cheers
  Prakash

Grant Ingersoll <gsingers@apache.org> wrote:
    I presume that the image field is a binary field, right?

I can think of a couple of things that _may_ work for you:

1. You create a dummy token on the "image" field, and then store the 
image data as a payload on that token. Then you can use the payload 
mechanism to score the field by overriding the scorePayload (I think 
that's the name) method in the Similarity class. You may have to 
implement a new Query for this similar to BoostingTermQuery (but 
maybe not)

2. You could implement scoring of binary fields in Lucene. I've had 
in my mind that a binary field is the same as a payload, more or 
less, so it seems like it would be relatively easy to create a query 
mechanism for it, just not sure of the loading part of it at this 
time (but that should be easy enough to figure out)

I don't know how the performance of either of these approaches would 
be. If you have large images, it could be a significant overhead. 
The other option, of course, is to do postprocessing on the results 
by first narrowing down on the text fields and then scoring the images.

-Grant

On Oct 6, 2007, at 1:03 AM, pp1907@yahoo.com wrote:

> Thank you Grant but FuntionQuery doesnt solve the
> problem. Looks like I didnt explain the problem
> properly. Let me try it again:
>
> 1. We have a document in which there are 4 text fields
> and a image field.
> 2. We have a special algorithm to perform match based
> on the image. In the sense, if 2 images are provided,
> the algorithm can determine with a match result and a
> score (which indicates likelihood of match)
>
> We want to know how we can integrate the "image
> matching" algorithm into Lucene/Solr.
>
> The search will happen through API only where the
> image is passed and matched images from the index
> needs to be given back as result.
>
> Wanted to understand if we could achieve the
> integration of this with Lucene/Solr so that both
> search on text fields and images can happen.
>
> Would be nice to hear your thoughts.
>
> cheers
> Prakash
>
> Grant Ingersoll wrote:
> You may want to look at the FunctionQuery capability,
> either in
> Lucene, or the expanded capabilities (recently added)
> in Solr.
>
> -Grant
>
> On Oct 4, 2007, at 2:39 PM, pp1907@yahoo.com wrote:
>
>> Hi,
>>
>> Were planning to use Lucene or Solr within our
>> application and wanted to know if it can support the
>> following:
>>
>> Scenario:
>> We have (say) 5 fields in a document which need to
> be
>> indexed. 4 fields are indexed by Lucene. The 5th
> field
>> is not indexed as it has data that cant be indexed
> or
>> searched by Lucene.
>>
>> We have a special algorithm/API to search/match on
> the
>> 5th field. Can this algorithm/API be integrated
> within
>> Lucene/Solr so that if we pass the 5th field data as
> a
>> query, the search engine will use our algorithm/API
> to
>> search and return/display the results. The reason
> why
>> we want this to be integrated with Lucene/Solr are
>> obvious - rely on Lucene/Solr's basic scalability /
>> performance as well as integrate both traditional
>> searching capabilities and specialized searching for
>> our end-user
>>
>> Is this possible to achieve in Lucene/Solr and if
> so,
>> how. Would be nice to understand your thoughts as
> this
>> is very critical for us.
>>
>> Appreciate your help. thank you.
>>
>> cheers
>> Prakash
>>
>>
>>
>>
>>
> ______________________________________________________________________
>
>> ______________
>> Yahoo! oneSearch: Finally, mobile search
>> that gives answers, not web links.
>>
> http://mobile.yahoo.com/mobileweb/onesearch?refer=1ONXIC
>>
>>
> ---------------------------------------------------------------------
>> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail:
> java-user-help@lucene.apache.org
>>
>
> --------------------------
> Grant Ingersoll
> http://lucene.grantingersoll.com
>
> Lucene Boot Camp Training:
> ApacheCon Atlanta, Nov. 12, 2007. Sign up now! http://
>
> www.apachecon.com
>
> Lucene Helpful Hints:
> http://wiki.apache.org/lucene-java/BasicsOfPerformance
> http://wiki.apache.org/lucene-java/LuceneFAQ
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
>
>
>
>
>
>
> ______________________________________________________________________ 
> ______________
> Be a better Heartthrob. Get better relationship answers from 
> someone who knows. Yahoo! Answers - Check it out.
> http://answers.yahoo.com/dir/?link=list&sid=396545433
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

--------------------------
Grant Ingersoll
http://lucene.grantingersoll.com

Lucene Boot Camp Training:
ApacheCon Atlanta, Nov. 12, 2007. Sign up now! http:// 
www.apachecon.com

Lucene Helpful Hints:
http://wiki.apache.org/lucene-java/BasicsOfPerformance
http://wiki.apache.org/lucene-java/LuceneFAQ



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




       
---------------------------------
 Check out  the hottest 2008 models today at Yahoo! Autos.
--0-1030916150-1192024293=:18418--

From java-user-return-30584-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 10 14:45:24 2007
Return-Path: <java-user-return-30584-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16993 invoked from network); 10 Oct 2007 14:45:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 10 Oct 2007 14:45:24 -0000
Received: (qmail 56862 invoked by uid 500); 10 Oct 2007 14:44:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56837 invoked by uid 500); 10 Oct 2007 14:44:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56826 invoked by uid 99); 10 Oct 2007 14:44:07 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Oct 2007 07:44:07 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [213.39.232.201] (HELO moskovskaya.fh-wedel.de) (213.39.232.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Oct 2007 14:44:08 +0000
Received: from di by moskovskaya.fh-wedel.de with local (Exim 4.50)
	id 1Ifcjm-0000Le-Al
	for java-user@lucene.apache.org; Wed, 10 Oct 2007 16:40:38 +0200
Date: Wed, 10 Oct 2007 16:40:38 +0200
From: Martin Dietze <di@fh-wedel.de>
To: java-user@lucene.apache.org
Subject: Re: Weird operator precedence with default operator AND
Message-ID: <20071010144038.GA1320@fh-wedel.de>
Reply-To: Martin Dietze <martin@the-little-red-haired-girl.org>
Mail-Followup-To: java-user@lucene.apache.org
References: <20071009075547.GA27648@fh-wedel.de> <470CBF83.7060608@gmail.com> <20071010122652.GA31418@fh-wedel.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20071010122652.GA31418@fh-wedel.de>
User-Agent: Mutt/1.5.16 (2007-06-09)
Sender: Martin Dietze <di@mail.fh-wedel.de>
X-SA-Exim-Connect-IP: <locally generated>
X-SA-Exim-Mail-From: di@mail.fh-wedel.de
X-Virus-Checked: Checked by ClamAV on apache.org

Mark,

On Wed, October 10, 2007, Martin Dietze wrote:

> > Qsol: myhardshadow.com/qsol (A query parser I wrote that has fully 
> > customizable precedence support - don't be fooled by the stale website...I 
> > am actually working on version 2 as i have time)
> 
> That sounds promising, I will check this out right now!

 as far as I can judge this from what I've tested now it seem
like qsol does handle operator precedence correctly for my
test cases. However - excuse a possibly dumb question - how
do I get out my query in a form accepted by solr?

Cheers,

Martin

-- 
----------- / http://herbert.the-little-red-haired-girl.org / -------------
=+= 
I now declare this bizarre open!

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30585-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 10 17:02:08 2007
Return-Path: <java-user-return-30585-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85379 invoked from network); 10 Oct 2007 17:02:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 10 Oct 2007 17:02:06 -0000
Received: (qmail 14555 invoked by uid 500); 10 Oct 2007 16:18:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14531 invoked by uid 500); 10 Oct 2007 16:18:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14518 invoked by uid 99); 10 Oct 2007 16:18:41 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Oct 2007 09:18:41 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of grant.ingersoll@gmail.com designates 66.249.82.232 as permitted sender)
Received: from [66.249.82.232] (HELO wx-out-0506.google.com) (66.249.82.232)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Oct 2007 16:18:41 +0000
Received: by wx-out-0506.google.com with SMTP id i28so212205wxd
        for <java-user@lucene.apache.org>; Wed, 10 Oct 2007 09:18:20 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        bh=7VEJ8Ym1sU/HK9hYWkUQNC/5vjJf2VYAVr8xU4Yeg54=;
        b=XrZVSRgsGAR0daGCju841gOlDveWV0nemDiyeA35/F1yfiDFBwmSt3taan+tB/OxSgtYc78E2N4lZkdmc0LOQ4F/poUG1BWDMmLHZrnri4E/QjLmDWL6KrPwBVaPYRvV7YyIHZoQtnxjYxDlliClTI+l2mFauIy/2sj3OF4sYes=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=EIRr4hn1T8+YHJgZcsPa8nHFuF1fOj9vv6J4WyMYlV68C4OXBOY8me1fs/XW7yt0/O0jusGjizsxM/XrE/MdC3RHzHlqRSsKOV/Wadt/DiEfDoJcGqQ8kq2Mc9Xw4pTUecwtmJ8wFgoBl4Q3VzEjag3ErYUP5oelxV1jQsA+85c=
Received: by 10.90.116.6 with SMTP id o6mr1366375agc.1192033100351;
        Wed, 10 Oct 2007 09:18:20 -0700 (PDT)
Received: from ?192.168.0.3? ( [74.229.189.244])
        by mx.google.com with ESMTPS id c20sm738496ana.2007.10.10.09.18.18
        (version=TLSv1/SSLv3 cipher=OTHER);
        Wed, 10 Oct 2007 09:18:18 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <970569.18418.qm@web52705.mail.re2.yahoo.com>
References: <970569.18418.qm@web52705.mail.re2.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <32CD5301-6380-43E9-AEA1-5B31697208AC@gmail.com>
Content-Transfer-Encoding: 7bit
From: Grant Ingersoll <grant.ingersoll@gmail.com>
Subject: Re: Custom Search algorithm integration
Date: Wed, 10 Oct 2007 12:18:13 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org


On Oct 10, 2007, at 9:51 AM, pp1907@yahoo.com wrote:

> Yes, image field is binary. However, image size is not more than  
> 1KB. We would use a combination of text search to narrow down the  
> results. But once we get the results, we would want to search all  
> images (within the above resultset) with the user given image file.
>
>   Ideally, your 2nd approach - of scoring/matching within Lucene is  
> what we were looking for. Rather, we already have the capability to  
> match & score if 2 images are provided. It would be best if we  
> could integrate our Java API within Lucene search/score.
>
>   Lucene allows to store binary value as a field. However, am not  
> sure (as we are new to Lucene) how we can tell Lucene to use our  
> API to search/match for the binary/image field.
>
>   would be good to hear your thoughts.thank you

Not sure what more I can add.  I would try, as a proof of concept,  
using the payload mechanism (approach 1) and implement your algorithm  
in the scorePayload() method of Similarity.  Otherwise, if you want  
the 2nd approach, you will need to get into the Lucene code and  
figure out how to implement a Query/Scorer/Weight mechanism that  
works with binary fields.  This isn't well thought out at this point  
by me, it just seems like it should be possible.  See the Scoring  
section of the website for more info on how to create Querys, etc.   
The payload stuff may or may not serve as an example here.  If you  
have specific questions on the API, feel free to come back with more  
questions.  You may also try searching the java-user and java-dev  
archives for items related to binary fields.


>
>   cheers
>   Prakash
>
> Grant Ingersoll <gsingers@apache.org> wrote:
>     I presume that the image field is a binary field, right?
>
> I can think of a couple of things that _may_ work for you:
>
> 1. You create a dummy token on the "image" field, and then store the
> image data as a payload on that token. Then you can use the payload
> mechanism to score the field by overriding the scorePayload (I think
> that's the name) method in the Similarity class. You may have to
> implement a new Query for this similar to BoostingTermQuery (but
> maybe not)
>
> 2. You could implement scoring of binary fields in Lucene. I've had
> in my mind that a binary field is the same as a payload, more or
> less, so it seems like it would be relatively easy to create a query
> mechanism for it, just not sure of the loading part of it at this
> time (but that should be easy enough to figure out)
>
> I don't know how the performance of either of these approaches would
> be. If you have large images, it could be a significant overhead.
> The other option, of course, is to do postprocessing on the results
> by first narrowing down on the text fields and then scoring the  
> images.
>
> -Grant
>
> On Oct 6, 2007, at 1:03 AM, pp1907@yahoo.com wrote:
>
>> Thank you Grant but FuntionQuery doesnt solve the
>> problem. Looks like I didnt explain the problem
>> properly. Let me try it again:
>>
>> 1. We have a document in which there are 4 text fields
>> and a image field.
>> 2. We have a special algorithm to perform match based
>> on the image. In the sense, if 2 images are provided,
>> the algorithm can determine with a match result and a
>> score (which indicates likelihood of match)
>>
>> We want to know how we can integrate the "image
>> matching" algorithm into Lucene/Solr.
>>
>> The search will happen through API only where the
>> image is passed and matched images from the index
>> needs to be given back as result.
>>
>> Wanted to understand if we could achieve the
>> integration of this with Lucene/Solr so that both
>> search on text fields and images can happen.
>>
>> Would be nice to hear your thoughts.
>>
>> cheers
>> Prakash
>>
>> Grant Ingersoll wrote:
>> You may want to look at the FunctionQuery capability,
>> either in
>> Lucene, or the expanded capabilities (recently added)
>> in Solr.
>>
>> -Grant
>>
>> On Oct 4, 2007, at 2:39 PM, pp1907@yahoo.com wrote:
>>
>>> Hi,
>>>
>>> Were planning to use Lucene or Solr within our
>>> application and wanted to know if it can support the
>>> following:
>>>
>>> Scenario:
>>> We have (say) 5 fields in a document which need to
>> be
>>> indexed. 4 fields are indexed by Lucene. The 5th
>> field
>>> is not indexed as it has data that cant be indexed
>> or
>>> searched by Lucene.
>>>
>>> We have a special algorithm/API to search/match on
>> the
>>> 5th field. Can this algorithm/API be integrated
>> within
>>> Lucene/Solr so that if we pass the 5th field data as
>> a
>>> query, the search engine will use our algorithm/API
>> to
>>> search and return/display the results. The reason
>> why
>>> we want this to be integrated with Lucene/Solr are
>>> obvious - rely on Lucene/Solr's basic scalability /
>>> performance as well as integrate both traditional
>>> searching capabilities and specialized searching for
>>> our end-user
>>>
>>> Is this possible to achieve in Lucene/Solr and if
>> so,
>>> how. Would be nice to understand your thoughts as
>> this
>>> is very critical for us.
>>>
>>> Appreciate your help. thank you.
>>>
>>> cheers
>>> Prakash
>>>
>>>
>>>
>>>
>>>
>> _____________________________________________________________________ 
>> _
>>
>>> ______________
>>> Yahoo! oneSearch: Finally, mobile search
>>> that gives answers, not web links.
>>>
>> http://mobile.yahoo.com/mobileweb/onesearch?refer=1ONXIC
>>>
>>>
>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail:
>> java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail:
>> java-user-help@lucene.apache.org
>>>
>>
>> --------------------------
>> Grant Ingersoll
>> http://lucene.grantingersoll.com
>>
>> Lucene Boot Camp Training:
>> ApacheCon Atlanta, Nov. 12, 2007. Sign up now! http://
>>
>> www.apachecon.com
>>
>> Lucene Helpful Hints:
>> http://wiki.apache.org/lucene-java/BasicsOfPerformance
>> http://wiki.apache.org/lucene-java/LuceneFAQ
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail:
>> java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail:
>> java-user-help@lucene.apache.org
>>
>>
>>
>>
>>
>>
>> _____________________________________________________________________ 
>> _
>> ______________
>> Be a better Heartthrob. Get better relationship answers from
>> someone who knows. Yahoo! Answers - Check it out.
>> http://answers.yahoo.com/dir/?link=list&sid=396545433
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>
> --------------------------
> Grant Ingersoll
> http://lucene.grantingersoll.com
>
> Lucene Boot Camp Training:
> ApacheCon Atlanta, Nov. 12, 2007. Sign up now! http://
> www.apachecon.com
>
> Lucene Helpful Hints:
> http://wiki.apache.org/lucene-java/BasicsOfPerformance
> http://wiki.apache.org/lucene-java/LuceneFAQ
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
>
> ---------------------------------
>  Check out  the hottest 2008 models today at Yahoo! Autos.

------------------------------------------------------
Grant Ingersoll
http://www.grantingersoll.com/
http://lucene.grantingersoll.com
http://www.paperoftheweek.com/



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30586-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 10 17:19:01 2007
Return-Path: <java-user-return-30586-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7802 invoked from network); 10 Oct 2007 17:19:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 10 Oct 2007 17:19:00 -0000
Received: (qmail 47103 invoked by uid 500); 10 Oct 2007 16:45:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47078 invoked by uid 500); 10 Oct 2007 16:45:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47066 invoked by uid 99); 10 Oct 2007 16:45:10 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Oct 2007 09:45:10 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lists@nabble.com designates 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Oct 2007 16:45:13 +0000
Received: from isper.nabble.com ([192.168.236.156])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <lists@nabble.com>)
	id 1Ifeg0-0006RD-S6
	for java-user@lucene.apache.org; Wed, 10 Oct 2007 09:44:52 -0700
Message-ID: <13139648.post@talk.nabble.com>
Date: Wed, 10 Oct 2007 09:44:52 -0700 (PDT)
From: lucene_user <jkraemer@cs.tufts.edu>
To: java-user@lucene.apache.org
Subject: Scoring a single document from a corpus based on a given query
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: jkraemer@cs.tufts.edu
X-Virus-Checked: Checked by ClamAV on apache.org


I would like to score a single document from a corpus based on a given query. 
The formula score(q,d) is basically what I am looking for.

Pseudo Code of Something Close to what I am looking for:
indexReader.score(query, documentId);

The formula score(q,d) is used throughout the documentation to describe
similarity but there does not seem to be a corresponding java method.

I could work around the issue by applying a search filter to only consider
the particular document I am looking for.  I was hoping for a cleaner
approach. 
-- 
View this message in context: http://www.nabble.com/Scoring-a-single-document-from-a-corpus-based-on-a-given-query-tf4601980.html#a13139648
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30587-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 10 17:43:51 2007
Return-Path: <java-user-return-30587-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25584 invoked from network); 10 Oct 2007 17:43:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 10 Oct 2007 17:43:51 -0000
Received: (qmail 20177 invoked by uid 500); 10 Oct 2007 17:19:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20153 invoked by uid 500); 10 Oct 2007 17:19:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20135 invoked by uid 99); 10 Oct 2007 17:19:56 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Oct 2007 10:19:56 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of markrmiller@gmail.com designates 209.85.132.240 as permitted sender)
Received: from [209.85.132.240] (HELO an-out-0708.google.com) (209.85.132.240)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Oct 2007 17:19:57 +0000
Received: by an-out-0708.google.com with SMTP id c5so19595anc
        for <java-user@lucene.apache.org>; Wed, 10 Oct 2007 10:19:36 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        bh=dqp1P6p5e9R/pEARYZqiOZz0YxTKO1nYdvafxeA4nmk=;
        b=ka42EnvZcwFGSM2Fe0sN+P5gpKiM0lmRJiVH0xcujV4KsCMc5jyFcFkiGcq8FKtyl6M1DcINtLFjNNENyoV+v6ZxBtqyjarVS9NIl2jDj8aRrRuSzUc0tg2fA+HN3Ji9IOqQnKp4bJjLqpYvLlQ7A0b+p7wlbzNHEyIpsnZ/6KQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=qnAOgkX7S85WWrOAezzdPrGsGBpLbMbQ4kMXEEa+ubNou3L1Zjqebws1rIlvsHGK+GSeYzJjkPmiNECl4RGwV5fUf4IzuLPYa74mG5NQXb4uXvYHlxSXWggoChMAz9Tz20sooa1/cmQmUyidBovNhisoVMCesfLgvSuacpLcs/8=
Received: by 10.142.177.7 with SMTP id z7mr269556wfe.1192036774555;
        Wed, 10 Oct 2007 10:19:34 -0700 (PDT)
Received: from ?192.168.1.100? ( [69.124.234.183])
        by mx.google.com with ESMTPS id m6sm1415130wrm.2007.10.10.10.19.33
        (version=SSLv3 cipher=RC4-MD5);
        Wed, 10 Oct 2007 10:19:33 -0700 (PDT)
Message-ID: <470D099F.3010802@gmail.com>
Date: Wed, 10 Oct 2007 13:19:27 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Weird operator precedence with default operator AND
References: <20071009075547.GA27648@fh-wedel.de> <470CBF83.7060608@gmail.com> <20071010122652.GA31418@fh-wedel.de> <20071010144038.GA1320@fh-wedel.de>
In-Reply-To: <20071010144038.GA1320@fh-wedel.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

I have only taken passing glances at Solr, so I am afraid I cannot be of 
much help. Certainly one of the Solr guys will be able to be of 
assistance though.

Since Qsol generates Query objects, you just need to find out how to 
bypass sending solr a query String and instead give it a Query object. I 
assume this must be possible.

Back in the day you might have been able to call Query.toString() as the 
Query contract says that toString() should output valid QueryParser 
syntax. This does not work for many queries though (most notably Span 
Queries -- QueryParser knows nothing about Span queries).

- Mark

Martin Dietze wrote:
> Mark,
>
> On Wed, October 10, 2007, Martin Dietze wrote:
>
>   
>>> Qsol: myhardshadow.com/qsol (A query parser I wrote that has fully 
>>> customizable precedence support - don't be fooled by the stale website...I 
>>> am actually working on version 2 as i have time)
>>>       
>> That sounds promising, I will check this out right now!
>>     
>
>  as far as I can judge this from what I've tested now it seem
> like qsol does handle operator precedence correctly for my
> test cases. However - excuse a possibly dumb question - how
> do I get out my query in a form accepted by solr?
>
> Cheers,
>
> Martin
>
>   

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30588-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 10 18:01:55 2007
Return-Path: <java-user-return-30588-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37118 invoked from network); 10 Oct 2007 18:01:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 10 Oct 2007 18:01:54 -0000
Received: (qmail 87416 invoked by uid 500); 10 Oct 2007 17:48:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87390 invoked by uid 500); 10 Oct 2007 17:48:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87373 invoked by uid 99); 10 Oct 2007 17:48:18 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Oct 2007 10:48:18 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [194.109.24.28] (HELO smtp-vbr8.xs4all.nl) (194.109.24.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Oct 2007 17:48:21 +0000
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr8.xs4all.nl (8.13.8/8.13.8) with ESMTP id l9AHlxHh055658
	for <java-user@lucene.apache.org>; Wed, 10 Oct 2007 19:47:59 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Scoring a single document from a corpus based on a given query
Date: Wed, 10 Oct 2007 19:47:59 +0200
User-Agent: KMail/1.8.2
References: <13139648.post@talk.nabble.com>
In-Reply-To: <13139648.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200710101947.59149.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org

On Wednesday 10 October 2007 18:44, lucene_user wrote:
> I would like to score a single document from a corpus based on a given
> query. The formula score(q,d) is basically what I am looking for.
>
> Pseudo Code of Something Close to what I am looking for:
> indexReader.score(query, documentId);
>
> The formula score(q,d) is used throughout the documentation to describe
> similarity but there does not seem to be a corresponding java method.
>
> I could work around the issue by applying a search filter to only consider
> the particular document I am looking for.  I was hoping for a cleaner
> approach.

You can try this:

Explanation e = indexSearcher.explain(query, documentId);

and get the score value from the explanation.

Have a look at the code of any Scorer.explain() method on
how to get the score value only. There really is no need to filter
in this case.

Regards,
Paul Elschot

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30589-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 10 18:04:50 2007
Return-Path: <java-user-return-30589-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39742 invoked from network); 10 Oct 2007 18:04:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 10 Oct 2007 18:04:50 -0000
Received: (qmail 99924 invoked by uid 500); 10 Oct 2007 17:53:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99894 invoked by uid 500); 10 Oct 2007 17:53:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99879 invoked by uid 99); 10 Oct 2007 17:53:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Oct 2007 10:53:26 -0700
X-ASF-Spam-Status: No, hits=-2.0 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of gresh@us.ibm.com designates 32.97.182.146 as permitted sender)
Received: from [32.97.182.146] (HELO e6.ny.us.ibm.com) (32.97.182.146)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Oct 2007 17:53:28 +0000
Received: from d01relay02.pok.ibm.com (d01relay02.pok.ibm.com [9.56.227.234])
	by e6.ny.us.ibm.com (8.13.8/8.13.8) with ESMTP id l9AHsao2003111
	for <java-user@lucene.apache.org>; Wed, 10 Oct 2007 13:54:36 -0400
Received: from d01av03.pok.ibm.com (d01av03.pok.ibm.com [9.56.224.217])
	by d01relay02.pok.ibm.com (8.13.8/8.13.8/NCO v8.5) with ESMTP id l9AHr6AM099124
	for <java-user@lucene.apache.org>; Wed, 10 Oct 2007 13:53:06 -0400
Received: from d01av03.pok.ibm.com (loopback [127.0.0.1])
	by d01av03.pok.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l9AHquZY000626
	for <java-user@lucene.apache.org>; Wed, 10 Oct 2007 13:52:56 -0400
Received: from d01ml605.pok.ibm.com (d01ml605.pok.ibm.com [9.56.227.91])
	by d01av03.pok.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l9AHqu9f032727
	for <java-user@lucene.apache.org>; Wed, 10 Oct 2007 13:52:56 -0400
To: java-user@lucene.apache.org
MIME-Version: 1.0
Subject: MoreLikeThis and stopword stemming
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
From: Donna L Gresh <gresh@us.ibm.com>
Message-ID: <OF801B22FD.D5B4E2EC-ON85257370.00615D55-85257370.00623AEF@us.ibm.com>
Date: Wed, 10 Oct 2007 13:52:55 -0400
X-MIMETrack: Serialize by Router on D01ML605/01/M/IBM(Release 8.0|August 02, 2007) at 10/10/2007
 13:52:56,
	Serialize complete at 10/10/2007 13:52:56
Content-Type: multipart/alternative; boundary="=_alternative 00623A6C85257370_="
X-Virus-Checked: Checked by ClamAV on apache.org

--=_alternative 00623A6C85257370_=
Content-Type: text/plain; charset="US-ASCII"

What is the appropriate way of achieving both stopwords and stemming of 
stopwords when the MoreLikeThis class is used? My analyzer 
(MoreLikeThis.setAnalyzer) uses the Snowball filter, and is initialized 
with a stopwords set:

analyzer = new StandardAnalyzer(stopwords) {
             public TokenStream tokenStream(String fieldName, 
java.io.Reader reader) {
             return new SnowballFilter(super
.tokenStream(fieldName,reader),
             "English");
             }
};



If I do NOTsupply a separate stopwords list to the MoreLikeThis object 
(that is, using MoreLikeThis.setStopWords), will "the right thing" happen; 
that is, will my input text to the MoreLikeThis object be stemmed and 
(stemmed) stopwords removed before a query is formed? It seems that 
MoreLikeThis.setStopWords uses a simple lookup of words in the stop words 
list (no stemming) which is not what I want.

Thanks in advance
Donna


Donna L. Gresh
Services Research, Mathematical Sciences Department
IBM T.J. Watson Research Center
(914) 945-2472
http://www.research.ibm.com/people/g/donnagresh
gresh@us.ibm.com

--=_alternative 00623A6C85257370_=--

From java-user-return-30590-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 10 18:10:07 2007
Return-Path: <java-user-return-30590-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42902 invoked from network); 10 Oct 2007 18:10:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 10 Oct 2007 18:10:07 -0000
Received: (qmail 32942 invoked by uid 500); 10 Oct 2007 18:03:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32915 invoked by uid 500); 10 Oct 2007 18:03:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32903 invoked by uid 99); 10 Oct 2007 18:03:35 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Oct 2007 11:03:35 -0700
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [208.97.132.177] (HELO spunkymail-a2.g.dreamhost.com) (208.97.132.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Oct 2007 18:03:36 +0000
Received: from [192.168.0.3] (adsl-074-229-189-244.sip.rmo.bellsouth.net [74.229.189.244])
	by spunkymail-a2.g.dreamhost.com (Postfix) with ESMTP id 4B23687F14
	for <java-user@lucene.apache.org>; Wed, 10 Oct 2007 11:03:15 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <13139648.post@talk.nabble.com>
References: <13139648.post@talk.nabble.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <C12D52D8-D6C5-4000-86AC-E90BAFAB208E@apache.org>
Content-Transfer-Encoding: 7bit
From: Grant Ingersoll <gsingers@apache.org>
Subject: Re: Scoring a single document from a corpus based on a given query
Date: Wed, 10 Oct 2007 14:03:11 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org

Have a look at the contrib/memory package delivered with Lucene.  It  
contains a MemoryIndex which is designed exactly for this scenario.

On Oct 10, 2007, at 12:44 PM, lucene_user wrote:

>
> I would like to score a single document from a corpus based on a  
> given query.
> The formula score(q,d) is basically what I am looking for.
>
> Pseudo Code of Something Close to what I am looking for:
> indexReader.score(query, documentId);
>
> The formula score(q,d) is used throughout the documentation to  
> describe
> similarity but there does not seem to be a corresponding java method.
>
> I could work around the issue by applying a search filter to only  
> consider
> the particular document I am looking for.  I was hoping for a cleaner
> approach.
> -- 
> View this message in context: http://www.nabble.com/Scoring-a- 
> single-document-from-a-corpus-based-on-a-given-query- 
> tf4601980.html#a13139648
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

--------------------------
Grant Ingersoll
http://lucene.grantingersoll.com

Lucene Boot Camp Training:
ApacheCon Atlanta, Nov. 12, 2007.  Sign up now!  http:// 
www.apachecon.com

Lucene Helpful Hints:
http://wiki.apache.org/lucene-java/BasicsOfPerformance
http://wiki.apache.org/lucene-java/LuceneFAQ



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30591-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 10 18:40:45 2007
Return-Path: <java-user-return-30591-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60594 invoked from network); 10 Oct 2007 18:40:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 10 Oct 2007 18:40:44 -0000
Received: (qmail 36247 invoked by uid 500); 10 Oct 2007 18:39:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36222 invoked by uid 500); 10 Oct 2007 18:39:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36209 invoked by uid 99); 10 Oct 2007 18:39:04 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Oct 2007 11:39:04 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of yseeley@gmail.com designates 209.85.162.183 as permitted sender)
Received: from [209.85.162.183] (HELO el-out-1112.google.com) (209.85.162.183)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Oct 2007 18:39:08 +0000
Received: by el-out-1112.google.com with SMTP id m34so91516ele
        for <java-user@lucene.apache.org>; Wed, 10 Oct 2007 11:38:47 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        bh=bxuDPsLETawn5oW/1ndLtu5L3Ide5I14t+mAWapAwIg=;
        b=oAd85JhLEV/wSshiPCai1UzDV2rXL1/xUdaFrZQwxXY2pHXLuvVFNR1Ej7/wQaNKcohq3j8XqNpPRyEnvqLEywGe+toByL7ejUFEfbqimKToIDv/V7KmErWalVIXEyN7TsztrlpL7eE7bRxPho4dCB7XB5Fe8Uhq3e7GC3hXAzk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        b=ONwhN1uYOApoH0xnFPPpJFdBygsUd9lmYI8RUsEiKMHKZBrsZDTkYpYyHpBpH+hRA1vZ4+mRm1vmLrBUWTc0MPcEN5FYfsLbMazEvLszrfZ8bluU3KL7loAd0ERrwAMBGd2c2TKpex7ly3PxEon93APKgDuht3On4xXMjVyHixM=
Received: by 10.142.231.7 with SMTP id d7mr334796wfh.1192041526577;
        Wed, 10 Oct 2007 11:38:46 -0700 (PDT)
Received: by 10.143.33.20 with HTTP; Wed, 10 Oct 2007 11:38:46 -0700 (PDT)
Message-ID: <c68e39170710101138p61fd6c79i2baf2d7b4b620db7@mail.gmail.com>
Date: Wed, 10 Oct 2007 14:38:46 -0400
From: "Yonik Seeley" <yonik@apache.org>
Sender: yseeley@gmail.com
To: java-user@lucene.apache.org
Subject: Re: Scoring a single document from a corpus based on a given query
In-Reply-To: <C12D52D8-D6C5-4000-86AC-E90BAFAB208E@apache.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <13139648.post@talk.nabble.com>
	 <C12D52D8-D6C5-4000-86AC-E90BAFAB208E@apache.org>
X-Google-Sender-Auth: 7d9c9fb73c0082d6
X-Virus-Checked: Checked by ClamAV on apache.org

On 10/10/07, Grant Ingersoll <gsingers@apache.org> wrote:
> Have a look at the contrib/memory package delivered with Lucene.  It
> contains a MemoryIndex which is designed exactly for this scenario.

That's a fast way to see if a single doc matches a query, but it won't
give you the same score as if you queried the complete corpus (idf
factors, etc).

-Yonik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30592-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 10 22:10:55 2007
Return-Path: <java-user-return-30592-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38771 invoked from network); 10 Oct 2007 22:10:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 10 Oct 2007 22:10:53 -0000
Received: (qmail 52137 invoked by uid 500); 10 Oct 2007 22:10:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52113 invoked by uid 500); 10 Oct 2007 22:10:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 84317 invoked by uid 99); 10 Oct 2007 19:52:54 -0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C80B77.1B8CF994"
Subject: [ADMIN] - Spam problems?
Date: Wed, 10 Oct 2007 15:50:34 -0400
Message-ID: <DD53F42E567D404DB5DB639E57EE17050472E919@mse10be1.mse10.exchange.ms>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [ADMIN] - Spam problems?
Thread-Index: AcgLdtKbPfbpCpvxS26cmbOzBJ7cjg==
From: "Norskog, Lance" <lance@divvio.com>
To: <solr-user@lucene.apache.org>,
	<java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

------_=_NextPart_001_01C80B77.1B8CF994
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable

Hi-
=20
Around Sept. 20 I started getting Japanese spam to this account. This is
a special  account I only use for the Solr and Lucene user mailing
lists. Did anybody else get these, starting around 9/20?
=20
Lance Norskog

------_=_NextPart_001_01C80B77.1B8CF994--

From java-user-return-30593-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 10 23:36:55 2007
Return-Path: <java-user-return-30593-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67056 invoked from network); 10 Oct 2007 23:36:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 10 Oct 2007 23:36:54 -0000
Received: (qmail 39511 invoked by uid 500); 10 Oct 2007 23:36:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39463 invoked by uid 500); 10 Oct 2007 23:36:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39414 invoked by uid 99); 10 Oct 2007 23:36:32 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Oct 2007 16:36:32 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [208.69.42.181] (HELO radix.cryptio.net) (208.69.42.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Oct 2007 23:36:35 +0000
Received: by radix.cryptio.net (Postfix, from userid 1007)
	id 3D75171C1C8; Wed, 10 Oct 2007 16:35:45 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by radix.cryptio.net (Postfix) with ESMTP id 3177C71C1C3;
	Wed, 10 Oct 2007 16:35:45 -0700 (PDT)
Date: Wed, 10 Oct 2007 16:35:45 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
cc: solr-user@lucene.apache.org
Subject: Re: [ADMIN] - Spam problems?
In-Reply-To: <DD53F42E567D404DB5DB639E57EE17050472E919@mse10be1.mse10.exchange.ms>
Message-ID: <Pine.LNX.4.62.0710101630500.7470@radix.cryptio.net>
References: <DD53F42E567D404DB5DB639E57EE17050472E919@mse10be1.mse10.exchange.ms>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: Around Sept. 20 I started getting Japanese spam to this account. This is
: a special  account I only use for the Solr and Lucene user mailing
: lists. Did anybody else get these, starting around 9/20?

Note that many mailing list archives leave the sender emails in plain text 
(which results in easy harvesting by spam bots).  even the archives that 
strip or obfuscate email addresses in headers frequently do nothing baout 
email addrs in the body of hte message.  ie: when someone replies to a 
post and their mail client does something like...

>> On Wed, 10 Oct 2007, Norskog, Lance <foo@localhost.local> wrote:

or...

>> Date: Wed, 10 Oct 2007 15:50:34 -0400
>> From: "Norskog, Lance" <foo@localhost.local>

one solution is to configure your spam filter to automatically reject mail 
where you address is in a recepient header (as opposed to the list 
addresses) .... the trade off being you'll never see private replies
replies, but hey: this is open source, everything should be discussed in 
the open :)


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30594-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 10 23:58:36 2007
Return-Path: <java-user-return-30594-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74424 invoked from network); 10 Oct 2007 23:58:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 10 Oct 2007 23:58:35 -0000
Received: (qmail 62362 invoked by uid 500); 10 Oct 2007 23:58:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62035 invoked by uid 500); 10 Oct 2007 23:58:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62024 invoked by uid 99); 10 Oct 2007 23:58:17 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Oct 2007 16:58:17 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [208.69.42.181] (HELO radix.cryptio.net) (208.69.42.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Oct 2007 23:58:20 +0000
Received: by radix.cryptio.net (Postfix, from userid 1007)
	id 31B9F71C1C0; Wed, 10 Oct 2007 16:58:00 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by radix.cryptio.net (Postfix) with ESMTP id 2E6F771C0AA
	for <java-user@lucene.apache.org>; Wed, 10 Oct 2007 16:58:00 -0700 (PDT)
Date: Wed, 10 Oct 2007 16:58:00 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Weird operator precedence with default operator AND
In-Reply-To: <470D099F.3010802@gmail.com>
Message-ID: <Pine.LNX.4.62.0710101637411.7470@radix.cryptio.net>
References: <20071009075547.GA27648@fh-wedel.de> <470CBF83.7060608@gmail.com>
 <20071010122652.GA31418@fh-wedel.de> <20071010144038.GA1320@fh-wedel.de>
 <470D099F.3010802@gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: I have only taken passing glances at Solr, so I am afraid I cannot be of much
: help. Certainly one of the Solr guys will be able to be of assistance though.

the StandardRequestHandler in solr will accept anythign the lucene  
QueryParser will accept ... sublcassing StandardRequestHandler to use the 
Qsol parser instead would be fairly easy (there are some open feature 
requests in Jira that will make it trivial, but they're still in flux)

: Since Qsol generates Query objects, you just need to find out how to bypass
: sending solr a query String and instead give it a Query object. I assume this
: must be possible.

Eh ... not really.  it would be easier to just load the Qsol parser in 
solr ... or toString() the query...

: Back in the day you might have been able to call Query.toString() as the Query
: contract says that toString() should output valid QueryParser syntax. This

Back in 1.4.3 it said "The representation used is one that is readable by 
QueryParser" but that wasn't really a "contract" as much as it was a 
statement about how the "core" queries behaved (hence the wording was 
changed) ... a contract would imply that *anyone* subclassing Query must 
obey the contract, and that would be an impossible contract for anyone but 
lucene commiters to satisfy.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30595-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 11 02:32:40 2007
Return-Path: <java-user-return-30595-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29950 invoked from network); 11 Oct 2007 02:32:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 11 Oct 2007 02:32:39 -0000
Received: (qmail 49191 invoked by uid 500); 11 Oct 2007 02:32:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49161 invoked by uid 500); 11 Oct 2007 02:32:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49150 invoked by uid 99); 11 Oct 2007 02:32:21 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Oct 2007 19:32:21 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of markrmiller@gmail.com designates 66.249.82.232 as permitted sender)
Received: from [66.249.82.232] (HELO wx-out-0506.google.com) (66.249.82.232)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Oct 2007 02:32:24 +0000
Received: by wx-out-0506.google.com with SMTP id i28so334390wxd
        for <java-user@lucene.apache.org>; Wed, 10 Oct 2007 19:32:03 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        bh=Wlit7aM7qPxiFDfr+1B1wLu4BQJDc+dC47vuiF+xaNo=;
        b=X69vSVRcFu9k5TWAbgegvrWFkshZxXMXJwIFbPwt0LRaw2jnJD6FZStnTk6X23iVRc3xlbG0tLUW6n6gIJ2aNhTyAVbQnICPpNmvkZo+JTXFve+ooMgUgu/UJSDrX2LL/4mT2Y6vpe8HxNVC7vwQzQftV6M9FD3sc/95XgXTlWM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=MF5pcfb+KWSVuqPNxkMprQKOD4PXUv3gZ4YaxgLxtpLsoIQY123LkR2qWdHnk6jucvLwWuCCH9aW125cwk91aNfy42BzgGyE+7YoLwK9gpj7RtBPf8esf8lZybjuZu5fwidEMFteJB2OcJ2vzCEIewCtxWlQteMMXLo6YahmBcs=
Received: by 10.90.89.5 with SMTP id m5mr2223255agb.1192069923261;
        Wed, 10 Oct 2007 19:32:03 -0700 (PDT)
Received: from ?192.168.1.100? ( [69.124.234.183])
        by mx.google.com with ESMTPS id g7sm1977211wra.2007.10.10.19.32.01
        (version=SSLv3 cipher=RC4-MD5);
        Wed, 10 Oct 2007 19:32:02 -0700 (PDT)
Message-ID: <470D8B18.7060501@gmail.com>
Date: Wed, 10 Oct 2007 22:31:52 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Weird operator precedence with default operator AND
References: <20071009075547.GA27648@fh-wedel.de> <470CBF83.7060608@gmail.com> <20071010122652.GA31418@fh-wedel.de> <20071010144038.GA1320@fh-wedel.de> <470D099F.3010802@gmail.com> <Pine.LNX.4.62.0710101637411.7470@radix.cryptio.net>
In-Reply-To: <Pine.LNX.4.62.0710101637411.7470@radix.cryptio.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

As usual, thank you to the gruff but brilliant Mr Hostetter.

- Mark

Chris Hostetter wrote:
> : I have only taken passing glances at Solr, so I am afraid I cannot be of much
> : help. Certainly one of the Solr guys will be able to be of assistance though.
>
> the StandardRequestHandler in solr will accept anythign the lucene  
> QueryParser will accept ... sublcassing StandardRequestHandler to use the 
> Qsol parser instead would be fairly easy (there are some open feature 
> requests in Jira that will make it trivial, but they're still in flux)
>
> : Since Qsol generates Query objects, you just need to find out how to bypass
> : sending solr a query String and instead give it a Query object. I assume this
> : must be possible.
>
> Eh ... not really.  it would be easier to just load the Qsol parser in 
> solr ... or toString() the query...
>
> : Back in the day you might have been able to call Query.toString() as the Query
> : contract says that toString() should output valid QueryParser syntax. This
>
> Back in 1.4.3 it said "The representation used is one that is readable by 
> QueryParser" but that wasn't really a "contract" as much as it was a 
> statement about how the "core" queries behaved (hence the wording was 
> changed) ... a contract would imply that *anyone* subclassing Query must 
> obey the contract, and that would be an impossible contract for anyone but 
> lucene commiters to satisfy.
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>   

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30596-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 11 02:41:48 2007
Return-Path: <java-user-return-30596-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31826 invoked from network); 11 Oct 2007 02:41:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 11 Oct 2007 02:41:47 -0000
Received: (qmail 58082 invoked by uid 500); 11 Oct 2007 02:41:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58045 invoked by uid 500); 11 Oct 2007 02:41:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58034 invoked by uid 99); 11 Oct 2007 02:41:29 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Oct 2007 19:41:29 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [208.69.42.181] (HELO radix.cryptio.net) (208.69.42.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Oct 2007 02:41:32 +0000
Received: by radix.cryptio.net (Postfix, from userid 1007)
	id 4C9DB71C15B; Wed, 10 Oct 2007 19:40:42 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by radix.cryptio.net (Postfix) with ESMTP id 48B1971C0BA
	for <java-user@lucene.apache.org>; Wed, 10 Oct 2007 19:40:42 -0700 (PDT)
Date: Wed, 10 Oct 2007 19:40:42 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: Lucene Users <java-user@lucene.apache.org>
Subject: Re: Weird operator precedence with default operator AND
In-Reply-To: <470D8B18.7060501@gmail.com>
Message-ID: <Pine.LNX.4.62.0710101933350.3154@radix.cryptio.net>
References: <20071009075547.GA27648@fh-wedel.de> <470CBF83.7060608@gmail.com>
 <20071010122652.GA31418@fh-wedel.de> <20071010144038.GA1320@fh-wedel.de>
 <470D099F.3010802@gmail.com> <Pine.LNX.4.62.0710101637411.7470@radix.cryptio.net>
 <470D8B18.7060501@gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

: As usual, thank you to the gruff but brilliant Mr Hostetter.

Doh! ... sorry if i've been gruffer then usual ... i've been rotating my 
sleep schedule so my days start an hour earlier each day for the last 6 
days.  it's been throwing my psyche for a loop.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30597-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 11 08:10:06 2007
Return-Path: <java-user-return-30597-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44641 invoked from network); 11 Oct 2007 08:10:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 11 Oct 2007 08:10:05 -0000
Received: (qmail 3771 invoked by uid 500); 11 Oct 2007 08:09:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3737 invoked by uid 500); 11 Oct 2007 08:09:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3726 invoked by uid 99); 11 Oct 2007 08:09:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Oct 2007 01:09:47 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [213.39.232.201] (HELO moskovskaya.fh-wedel.de) (213.39.232.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Oct 2007 08:09:48 +0000
Received: from di by moskovskaya.fh-wedel.de with local (Exim 4.50)
	id 1Ift6i-0004m2-Pa
	for java-user@lucene.apache.org; Thu, 11 Oct 2007 10:09:24 +0200
Date: Thu, 11 Oct 2007 10:09:24 +0200
From: Martin Dietze <di@fh-wedel.de>
To: java-user@lucene.apache.org
Subject: Re: Weird operator precedence with default operator AND
Message-ID: <20071011080924.GC17538@fh-wedel.de>
Reply-To: Martin Dietze <martin@the-little-red-haired-girl.org>
Mail-Followup-To: java-user@lucene.apache.org
References: <20071009075547.GA27648@fh-wedel.de> <470CBF83.7060608@gmail.com> <20071010122652.GA31418@fh-wedel.de> <20071010144038.GA1320@fh-wedel.de> <470D099F.3010802@gmail.com> <Pine.LNX.4.62.0710101637411.7470@radix.cryptio.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <Pine.LNX.4.62.0710101637411.7470@radix.cryptio.net>
User-Agent: Mutt/1.5.16 (2007-06-09)
Sender: Martin Dietze <di@mail.fh-wedel.de>
X-SA-Exim-Connect-IP: <locally generated>
X-SA-Exim-Mail-From: di@mail.fh-wedel.de
X-Virus-Checked: Checked by ClamAV on apache.org

On Wed, October 10, 2007, Chris Hostetter wrote:

> Eh ... not really.  it would be easier to just load the Qsol parser in 
> solr ... or toString() the query...

This would be nice, but unfortunately I do not have direct access
to the solr server in my application. I need to parse queries,
filter out blacklisted facettes and then parse them on to solr
using solrj.

Maybe I am missing out on something obvious, and there's an
entirely simple way to accomplish this?

Cheers,

Martin

-- 
----------- / http://herbert.the-little-red-haired-girl.org / -------------
=+= 
Yoda of Borg I am. Assimilated you will be.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30598-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 11 08:10:53 2007
Return-Path: <java-user-return-30598-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44884 invoked from network); 11 Oct 2007 08:10:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 11 Oct 2007 08:10:51 -0000
Received: (qmail 6305 invoked by uid 500); 11 Oct 2007 08:10:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6272 invoked by uid 500); 11 Oct 2007 08:10:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5525 invoked by uid 99); 11 Oct 2007 08:10:28 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Oct 2007 01:10:28 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [213.39.232.201] (HELO moskovskaya.fh-wedel.de) (213.39.232.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Oct 2007 08:10:21 +0000
Received: from di by moskovskaya.fh-wedel.de with local (Exim 4.50)
	id 1Ift4B-0004lm-Nx
	for java-user@lucene.apache.org; Thu, 11 Oct 2007 10:06:47 +0200
Date: Thu, 11 Oct 2007 10:06:47 +0200
From: Martin Dietze <di@fh-wedel.de>
To: java-user@lucene.apache.org
Subject: Re: Weird operator precedence with default operator AND
Message-ID: <20071011080647.GB17538@fh-wedel.de>
Reply-To: Martin Dietze <martin@the-little-red-haired-girl.org>
Mail-Followup-To: java-user@lucene.apache.org
References: <20071009075547.GA27648@fh-wedel.de> <470CBF83.7060608@gmail.com> <20071010122652.GA31418@fh-wedel.de> <20071010144038.GA1320@fh-wedel.de> <470D099F.3010802@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <470D099F.3010802@gmail.com>
User-Agent: Mutt/1.5.16 (2007-06-09)
Sender: Martin Dietze <di@mail.fh-wedel.de>
X-SA-Exim-Connect-IP: <locally generated>
X-SA-Exim-Mail-From: di@mail.fh-wedel.de
X-Virus-Checked: Checked by ClamAV on apache.org

On Wed, October 10, 2007, Mark Miller wrote:

> Back in the day you might have been able to call Query.toString() as the 
> Query contract says that toString() should output valid QueryParser syntax. 
> This does not work for many queries though (most notably Span Queries -- 
> QueryParser knows nothing about Span queries).

I see, so my old code which was based on QueryParser was not
completely flawed :) Are there any other queries besides span
queries which can occur with qsol and do not produce valid
QueryParser syntax? 

Also I wonder why a facette query, like `foo:bar' results in a
SpanQuery `+spanNear([foo, bar], 0, true)' (I may not understand
the concept here).

Cheers,

Martin

-- 
----------- / http://herbert.the-little-red-haired-girl.org / -------------
=+= 
Who the fsck is "General Failure", and why is he reading my disk?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30599-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 11 13:06:02 2007
Return-Path: <java-user-return-30599-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37805 invoked from network); 11 Oct 2007 13:06:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 11 Oct 2007 13:06:01 -0000
Received: (qmail 10137 invoked by uid 500); 11 Oct 2007 13:05:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10089 invoked by uid 500); 11 Oct 2007 13:05:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10078 invoked by uid 99); 11 Oct 2007 13:05:42 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Oct 2007 06:05:42 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of sand.chawla@gmail.com designates 209.85.146.181 as permitted sender)
Received: from [209.85.146.181] (HELO wa-out-1112.google.com) (209.85.146.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Oct 2007 13:05:45 +0000
Received: by wa-out-1112.google.com with SMTP id j40so665747wah
        for <java-user@lucene.apache.org>; Thu, 11 Oct 2007 06:05:24 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        bh=2MSgkCRqReswYqrTyE5RO1giN+LePb3uw0gr1NzxoWA=;
        b=RlLQ/yXLCTw8MPzx4bQMEzIa29M09a7lB1HQNQ3D/tyLa5HyOfZz8ARRmJE8xZBRJBy/ntKnuYgrxaP/AEI/aX9NgCdOcTvpLw9BQgRpSKvRaogb9FRvfnPHaeHtYosGeAlb/mPEH+4rJn3OIGM94epgCb2VbyKZmJYeBdGf2P8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=uW/4x39n2QLecmmnW8FPxwwiVJr2Q0ovjYsxoSd2xb8x6wA5SSZAxoj+aynaDxn08QEg/vs+Pk+ajNZ9CdQcNNp9hMEInk/iKNwGbbU3BTBegbbp0wdr28XGjyrZ7WIDzD5tYIyvGSkNJCnXC95K6uNKeruGKC2ixvFLwYjReB4=
Received: by 10.114.154.1 with SMTP id b1mr2167424wae.1192107924189;
        Thu, 11 Oct 2007 06:05:24 -0700 (PDT)
Received: by 10.114.154.11 with HTTP; Thu, 11 Oct 2007 06:05:24 -0700 (PDT)
Message-ID: <a70e4c2b0710110605v44675040kb538653696d8d50a@mail.gmail.com>
Date: Thu, 11 Oct 2007 18:35:24 +0530
From: "sandeep chawla" <sand.chawla@gmail.com>
To: java-user@lucene.apache.org
Subject: Lucene ID and scoring.
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_16303_29353629.1192107924183"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_16303_29353629.1192107924183
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi All,

I have two questions here

1- Lucene generates id for every document it indexes and it does in
order..0,1,2,3.....n .Can i make lucene use my id ( my id for a document
..say randomly generated unique id for a document) as lucene id.

The reason i am asking this question because lucene filter uses lucene id (
to create  BitSet ) and i dont wanna keep multiple ids .

2- Is there any way to change lucene's scoring formula without changing the
lucene core.
I know, there is one way of doing this is to extend the similarity and thats
really simple but it can help only in formulae which has tf and idf in
multiplication.

for example a formula like  tf(power n) * idf ( power m) can be easily
implemented using similarity

but what about the formula tf(power n)  + idf(power m )

is there a simple way to implement the above without changing lucene core (
i know one way to do is too change the TermScorer and hardcore the + sign
but that's too naive :)

Thanks a lot ...
Sandeep

-- 
SANDEEP CHAWLA
House No- 23
10th main
BTM 1st  Stage
Bangalore Mobile: 91-9986150603

------=_Part_16303_29353629.1192107924183--

From java-user-return-30600-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 11 15:33:19 2007
Return-Path: <java-user-return-30600-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29032 invoked from network); 11 Oct 2007 15:33:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 11 Oct 2007 15:33:18 -0000
Received: (qmail 78874 invoked by uid 500); 11 Oct 2007 15:32:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78851 invoked by uid 500); 11 Oct 2007 15:32:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78840 invoked by uid 99); 11 Oct 2007 15:32:57 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Oct 2007 08:32:57 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of markrmiller@gmail.com designates 66.249.90.177 as permitted sender)
Received: from [66.249.90.177] (HELO ik-out-1112.google.com) (66.249.90.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Oct 2007 15:33:00 +0000
Received: by ik-out-1112.google.com with SMTP id c28so775888ika
        for <java-user@lucene.apache.org>; Thu, 11 Oct 2007 08:32:39 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        bh=0pXP5pJGADCuyiTvBD0lunMRxa6XjvnAuvDWdTsrjrA=;
        b=YLdhOLK9qrHePCxzOdhYfXPOB9VlGxFUUeUVc73rYWYMEBStniMcXWwJQXXsyDDB+wV+XNaeJHKirYDNTYmbAaoMXHTMQ0PUxql5b6fb/EOSy8YyxixIyHYkcaqphUF+EZRasL6msDLAjYufFhOoh1SVsmR0+K4lcybi0bYKql0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=TBFkfgf6E0WoJHqgYjNHLe9qreSA5E0ONG3KChHpfuaAYxNWWk0mzkTMGTig3Sq0sdiTA7Osn6Blp8DzWmBCpzAoCI8t40B4XTLtlYP20wqR0KEFty7gfmKmueG8f8GmBpCAlGh8iMEnqlZmgVA+8pN2FtG/4JiYD73Zs5HbdUg=
Received: by 10.142.109.16 with SMTP id h16mr636714wfc.1192116757751;
        Thu, 11 Oct 2007 08:32:37 -0700 (PDT)
Received: from ?192.168.1.100? ( [69.124.234.183])
        by mx.google.com with ESMTPS id 13sm3099525wrl.2007.10.11.08.32.33
        (version=SSLv3 cipher=RC4-MD5);
        Thu, 11 Oct 2007 08:32:36 -0700 (PDT)
Message-ID: <470E41FB.2070403@gmail.com>
Date: Thu, 11 Oct 2007 11:32:11 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Weird operator precedence with default operator AND
References: <20071009075547.GA27648@fh-wedel.de> <470CBF83.7060608@gmail.com> <20071010122652.GA31418@fh-wedel.de> <20071010144038.GA1320@fh-wedel.de> <470D099F.3010802@gmail.com> <20071011080647.GB17538@fh-wedel.de>
In-Reply-To: <20071011080647.GB17538@fh-wedel.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org



Martin Dietze wrote:
> On Wed, October 10, 2007, Mark Miller wrote:
>
>   
>> Back in the day you might have been able to call Query.toString() as the 
>> Query contract says that toString() should output valid QueryParser syntax. 
>> This does not work for many queries though (most notably Span Queries -- 
>> QueryParser knows nothing about Span queries).
>>     
>
> I see, so my old code which was based on QueryParser was not
> completely flawed :) Are there any other queries besides span
> queries which can occur with qsol and do not produce valid
> QueryParser syntax? 
>   
I'm not sure, I'd have to look into it.
> Also I wonder why a facette query, like `foo:bar' results in a
> SpanQuery `+spanNear([foo, bar], 0, true)' (I may not understand
> the concept here).
>   
Qsol has a different field search syntax: foo(bar).

If you give something like foo:bar or foo-bar, the results will depend 
on your analyzer. If using the standard analyzer, the ':' or '-' is 
thrown out and two tokens are generated: foo and bar. Like the standard 
Lucene QueryParser, if more than one token is generated from a single 
'queryparser token', they are looked for next to each other. The 
difference is that the standard Lucene QueryParser uses PhraseQuery's 
for this. Qsol uses SpanQuery's instead so that results are consistent 
if the clause needs to be in a SpanQuery rather than a BooleanQuery 
(PhraseQuery's cannot be nested in SpanQuery's). This is required 
because Qsol allows the mixing of Span/Non-Span queries.

If you want to get around this, I may be able to help.

- Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30601-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 11 17:24:24 2007
Return-Path: <java-user-return-30601-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80282 invoked from network); 11 Oct 2007 17:24:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 11 Oct 2007 17:24:24 -0000
Received: (qmail 21758 invoked by uid 500); 11 Oct 2007 17:23:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21726 invoked by uid 500); 11 Oct 2007 17:23:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21713 invoked by uid 99); 11 Oct 2007 17:23:04 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Oct 2007 10:23:04 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of yasoja@hotmail.com designates 65.54.246.202 as permitted sender)
Received: from [65.54.246.202] (HELO bay0-omc3-s2.bay0.hotmail.com) (65.54.246.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Oct 2007 17:23:05 +0000
Received: from BAY127-W10 ([65.55.132.45]) by bay0-omc3-s2.bay0.hotmail.com with Microsoft SMTPSVC(6.0.3790.3959);
	 Thu, 11 Oct 2007 10:22:44 -0700
Message-ID: <BAY127-W10DDEAB7D15886C7CD6041C0A70@phx.gbl>
Content-Type: multipart/alternative;
	boundary="_90e6f45b-9698-4bf6-8ed6-3f6224519f71_"
X-Originating-IP: [137.69.117.21]
From: yasoja seneviratne <yasoja@hotmail.com>
To: <java-user@lucene.apache.org>
Subject: indexing on NAS
Date: Thu, 11 Oct 2007 10:22:44 -0700
Importance: Normal
In-Reply-To:
 <OF5E676107.24D62225-ONC2257370.002D43E7-C2257370.002D84F6@il.ibm.com>
References: <10acfa680710092141u74a78d55s6f2e2747d58f3354@mail.gmail.com>
 <OF5E676107.24D62225-ONC2257370.002D43E7-C2257370.002D84F6@il.ibm.com>
MIME-Version: 1.0
X-OriginalArrivalTime: 11 Oct 2007 17:22:44.0993 (UTC) FILETIME=[563B8F10:01C80C2B]
X-Virus-Checked: Checked by ClamAV on apache.org

--_90e6f45b-9698-4bf6-8ed6-3f6224519f71_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable


Hi,
=20
I wonder if there are any known issues having a lucene index on a NAS or SA=
N drive?  Some basic tests show that it works fine.  But are there performa=
nce issues with indexing on NAS for instance?
=20
Thanks,
Yasoja
 =

--_90e6f45b-9698-4bf6-8ed6-3f6224519f71_--

From java-user-return-30602-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 11 17:35:40 2007
Return-Path: <java-user-return-30602-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85525 invoked from network); 11 Oct 2007 17:35:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 11 Oct 2007 17:35:40 -0000
Received: (qmail 48303 invoked by uid 500); 11 Oct 2007 17:33:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48274 invoked by uid 500); 11 Oct 2007 17:33:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48259 invoked by uid 99); 11 Oct 2007 17:33:48 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Oct 2007 10:33:48 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of chris.lu@gmail.com designates 66.249.92.173 as permitted sender)
Received: from [66.249.92.173] (HELO ug-out-1314.google.com) (66.249.92.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Oct 2007 17:33:49 +0000
Received: by ug-out-1314.google.com with SMTP id a2so556711ugf
        for <java-user@lucene.apache.org>; Thu, 11 Oct 2007 10:33:27 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=SY+gd4HaSBxm1Alq+O2QGWCohP432A2MDxp6SYcNBR8=;
        b=Bqw3nFtBxozQ90n9iYlxgyShCl8Ps9Dk3+pfIfrAQhe1Qg1qXHkQjnFUAHM0qxmhgNTfS5G6h1P1xCvpLler5H6K9fMtI/bZMlbykp3Hyetftb5+q6c3apwHWz0vFgXHgRJ79tQwyXCaeuZVK5Hf2fwEzqShoKjxFaMp0zKraAE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=kUnwvZdgIdOPlug4VE7MbKBwYpKRjBuyqNJ81qzWS0sUwgfMzpgduoHr84pGco/PnciFc/e1TocfFViz4gRbv18NplrQFIbab2n+LTecZp2pOB0I900jzSZdDr9+09PXh0pAMJK4lZZ5np3f1Oe09zz2gINRiC4Rhb2mjLZUWeI=
Received: by 10.78.123.4 with SMTP id v4mr1677113huc.1192124007068;
        Thu, 11 Oct 2007 10:33:27 -0700 (PDT)
Received: by 10.78.140.5 with HTTP; Thu, 11 Oct 2007 10:33:27 -0700 (PDT)
Message-ID: <6e3ae6310710111033g14782f51pbe7c775bd7cfb48e@mail.gmail.com>
Date: Thu, 11 Oct 2007 10:33:27 -0700
From: "Chris Lu" <chris.lu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: indexing on NAS
In-Reply-To: <BAY127-W10DDEAB7D15886C7CD6041C0A70@phx.gbl>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_19415_22269752.1192124007035"
References: <10acfa680710092141u74a78d55s6f2e2747d58f3354@mail.gmail.com>
	 <OF5E676107.24D62225-ONC2257370.002D43E7-C2257370.002D84F6@il.ibm.com>
	 <BAY127-W10DDEAB7D15886C7CD6041C0A70@phx.gbl>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_19415_22269752.1192124007035
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I have used Lucene on SAN in a federal project, works out great. It supports
search clustering, where several other servers search on the shared index
which is produced by another server. Only need to refresh the other
searching servers' IndexSearcher after indexing is done.

-- 
Chris Lu
-------------------------
Instant Scalable Full-Text Search On Any Database/Application
site: http://www.dbsight.net
demo: http://search.dbsight.com
Lucene Database Search in 3 minutes:
http://wiki.dbsight.com/index.php?title=Create_Lucene_Database_Search_in_3_minutes

On 10/11/07, yasoja seneviratne <yasoja@hotmail.com> wrote:
>
>
> Hi,
>
> I wonder if there are any known issues having a lucene index on a NAS or
> SAN drive?  Some basic tests show that it works fine.  But are there
> performance issues with indexing on NAS for instance?
>
> Thanks,
> Yasoja
>

------=_Part_19415_22269752.1192124007035--

From java-user-return-30603-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 11 17:48:04 2007
Return-Path: <java-user-return-30603-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90749 invoked from network); 11 Oct 2007 17:48:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 11 Oct 2007 17:48:03 -0000
Received: (qmail 70179 invoked by uid 500); 11 Oct 2007 17:47:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70151 invoked by uid 500); 11 Oct 2007 17:47:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70140 invoked by uid 99); 11 Oct 2007 17:47:44 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Oct 2007 10:47:44 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 80.76.149.213 is neither permitted nor denied by domain of karl.wettin@gmail.com)
Received: from [80.76.149.213] (HELO ch-smtp02.sth.basefarm.net) (80.76.149.213)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Oct 2007 17:47:46 +0000
Received: from c83-249-118-113.bredband.comhem.se ([83.249.118.113]:64439 helo=[192.168.1.101])
	by ch-smtp02.sth.basefarm.net with esmtp (Exim 4.68)
	(envelope-from <karl.wettin@gmail.com>)
	id 1Ig285-0005JY-8H
	for java-user@lucene.apache.org; Thu, 11 Oct 2007 19:47:25 +0200
Mime-Version: 1.0 (Apple Message framework v752.3)
Content-Transfer-Encoding: 7bit
Message-Id: <8E95A8CA-9187-4761-87AF-477725D75DAF@gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
To: java-user@lucene.apache.org
From: Karl Wettin <karl.wettin@gmail.com>
Subject: QueryParser and NGrams
Date: Thu, 11 Oct 2007 19:47:19 +0200
X-Mailer: Apple Mail (2.752.3)
X-Originating-IP: 83.249.118.113
X-Scan-Result: No virus found in message 1Ig285-0005JY-8H.
X-Scan-Signature: ch-smtp02.sth.basefarm.net 1Ig285-0005JY-8H 3c41f7c305ed784941f67d4c5c715f6d
X-Virus-Checked: Checked by ClamAV on apache.org

I don't understand, why does the following code create 2 phrase  
queries instead of 20 term queries? I'm quite sure I've previously  
had QueryParser doing the latter.

System.out.println(new QueryParser("f", new Analyzer() {
   public TokenStream tokenStream(String string, Reader reader) {
     return new NGramTokenFilter(new StandardTokenizer(reader), 2, 5);
   }
}).parse("hello world"));


f:"he el ll lo hel ell llo hell ello hello" f:"wo or rl ld wor orl  
rld worl orld world"


-- 
karl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30604-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 11 18:43:49 2007
Return-Path: <java-user-return-30604-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27560 invoked from network); 11 Oct 2007 18:43:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 11 Oct 2007 18:43:48 -0000
Received: (qmail 67831 invoked by uid 500); 11 Oct 2007 18:43:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67804 invoked by uid 500); 11 Oct 2007 18:43:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67793 invoked by uid 99); 11 Oct 2007 18:43:29 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Oct 2007 11:43:29 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 80.76.149.213 is neither permitted nor denied by domain of karl.wettin@gmail.com)
Received: from [80.76.149.213] (HELO ch-smtp02.sth.basefarm.net) (80.76.149.213)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Oct 2007 18:43:32 +0000
Received: from c83-249-118-113.bredband.comhem.se ([83.249.118.113]:65088 helo=[192.168.1.101])
	by ch-smtp02.sth.basefarm.net with esmtp (Exim 4.68)
	(envelope-from <karl.wettin@gmail.com>)
	id 1Ig2wz-0000sJ-8m
	for java-user@lucene.apache.org; Thu, 11 Oct 2007 20:40:01 +0200
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <8E95A8CA-9187-4761-87AF-477725D75DAF@gmail.com>
References: <8E95A8CA-9187-4761-87AF-477725D75DAF@gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <50BD1C80-481D-468F-A785-247B32D26A7A@gmail.com>
Content-Transfer-Encoding: 7bit
From: Karl Wettin <karl.wettin@gmail.com>
Subject: Re: QueryParser and NGrams
Date: Thu, 11 Oct 2007 20:40:00 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Originating-IP: 83.249.118.113
X-Scan-Result: No virus found in message 1Ig2wz-0000sJ-8m.
X-Scan-Signature: ch-smtp02.sth.basefarm.net 1Ig2wz-0000sJ-8m 42668d46fa9181c8e51d1682a3106fbb
X-Virus-Checked: Checked by ClamAV on apache.org

I now realize that that phrase makes sense, and that it was another  
"feature" in my code that confused me.

So, forget about it.

Bada bing, bada bom.


-- 
karl

11 okt 2007 kl. 19.47 skrev Karl Wettin:

> I don't understand, why does the following code create 2 phrase  
> queries instead of 20 term queries? I'm quite sure I've previously  
> had QueryParser doing the latter.
>
> System.out.println(new QueryParser("f", new Analyzer() {
>   public TokenStream tokenStream(String string, Reader reader) {
>     return new NGramTokenFilter(new StandardTokenizer(reader), 2, 5);
>   }
> }).parse("hello world"));
>
>
> f:"he el ll lo hel ell llo hell ello hello" f:"wo or rl ld wor orl  
> rld worl orld world"
>
>
> -- 
> karl
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30605-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 11 18:51:51 2007
Return-Path: <java-user-return-30605-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30914 invoked from network); 11 Oct 2007 18:51:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 11 Oct 2007 18:51:50 -0000
Received: (qmail 84614 invoked by uid 500); 11 Oct 2007 18:51:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84065 invoked by uid 500); 11 Oct 2007 18:51:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84054 invoked by uid 99); 11 Oct 2007 18:51:31 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Oct 2007 11:51:31 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 80.76.149.213 is neither permitted nor denied by domain of karl.wettin@gmail.com)
Received: from [80.76.149.213] (HELO ch-smtp02.sth.basefarm.net) (80.76.149.213)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Oct 2007 18:51:34 +0000
Received: from c83-249-118-113.bredband.comhem.se ([83.249.118.113]:65152 helo=[192.168.1.101])
	by ch-smtp02.sth.basefarm.net with esmtp (Exim 4.68)
	(envelope-from <karl.wettin@gmail.com>)
	id 1Ig37n-0005uN-8p
	for java-user@lucene.apache.org; Thu, 11 Oct 2007 20:51:12 +0200
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <50BD1C80-481D-468F-A785-247B32D26A7A@gmail.com>
References: <8E95A8CA-9187-4761-87AF-477725D75DAF@gmail.com> <50BD1C80-481D-468F-A785-247B32D26A7A@gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <05BC5EC5-F55E-4DE5-86E4-D90F5918F229@gmail.com>
Content-Transfer-Encoding: 7bit
From: Karl Wettin <karl.wettin@gmail.com>
Subject: Re: QueryParser and NGrams
Date: Thu, 11 Oct 2007 20:51:10 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Originating-IP: 83.249.118.113
X-Scan-Result: No virus found in message 1Ig37n-0005uN-8p.
X-Scan-Signature: ch-smtp02.sth.basefarm.net 1Ig37n-0005uN-8p 5c5410f51da3ea543eef31d0e272a3a6
X-Virus-Checked: Checked by ClamAV on apache.org

No, sorry, I'm still confused. It ought to be a term queries?

--  
the flooding troll


11 okt 2007 kl. 20.40 skrev Karl Wettin:

> I now realize that that phrase makes sense, and that it was another  
> "feature" in my code that confused me.
>
> So, forget about it.
>
> Bada bing, bada bom.
>
>
> -- 
> karl
>
> 11 okt 2007 kl. 19.47 skrev Karl Wettin:
>
>> I don't understand, why does the following code create 2 phrase  
>> queries instead of 20 term queries? I'm quite sure I've previously  
>> had QueryParser doing the latter.
>>
>> System.out.println(new QueryParser("f", new Analyzer() {
>>   public TokenStream tokenStream(String string, Reader reader) {
>>     return new NGramTokenFilter(new StandardTokenizer(reader), 2, 5);
>>   }
>> }).parse("hello world"));
>>
>>
>> f:"he el ll lo hel ell llo hell ello hello" f:"wo or rl ld wor orl  
>> rld worl orld world"
>>
>>
>> -- 
>> karl
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30606-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 12 00:34:33 2007
Return-Path: <java-user-return-30606-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53461 invoked from network); 12 Oct 2007 00:34:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Oct 2007 00:34:23 -0000
Received: (qmail 56280 invoked by uid 500); 12 Oct 2007 00:34:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56067 invoked by uid 500); 12 Oct 2007 00:34:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56056 invoked by uid 99); 12 Oct 2007 00:34:04 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Oct 2007 17:34:04 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [208.69.42.181] (HELO radix.cryptio.net) (208.69.42.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Oct 2007 00:34:08 +0000
Received: by radix.cryptio.net (Postfix, from userid 1007)
	id A214471C0F9; Thu, 11 Oct 2007 17:33:47 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by radix.cryptio.net (Postfix) with ESMTP id 911F071C0EE;
	Thu, 11 Oct 2007 17:33:47 -0700 (PDT)
Date: Thu, 11 Oct 2007 17:33:47 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: Lucene Users <java-user@lucene.apache.org>, 
    Martin Dietze <martin@the-little-red-haired-girl.org>
Subject: Re: Weird operator precedence with default operator AND
In-Reply-To: <20071011080924.GC17538@fh-wedel.de>
Message-ID: <Pine.LNX.4.62.0710111721380.18071@radix.cryptio.net>
References: <20071009075547.GA27648@fh-wedel.de> <470CBF83.7060608@gmail.com>
 <20071010122652.GA31418@fh-wedel.de> <20071010144038.GA1320@fh-wedel.de>
 <470D099F.3010802@gmail.com> <Pine.LNX.4.62.0710101637411.7470@radix.cryptio.net>
 <20071011080924.GC17538@fh-wedel.de>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

: This would be nice, but unfortunately I do not have direct access
: to the solr server in my application. I need to parse queries,
: filter out blacklisted facettes and then parse them on to solr
: using solrj.

that depends ... what do you mean by a blacklisted facet?

facet counts are controlled by seperate query params then the query string 
... are you talking about preventing people from including field 
specific queries in their query string? i'm guessing that you mean 
something like this is okay...

        solr title:bobby body:boy

...but this isn't...

	solr title:bobby body:boy secret_field:xyzyq

...is that the idea?

the easiest approach is to do your own simple pass over the query string, 
and escape any metacharacters in clauses you don't like ... they'll be 
treated as "terms" and either be ignored (if they are optional) or cause 
the query to not match anything (if they are required)...

        solr title:bobby body:boy secret_field\:xyzyq







-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30607-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 12 01:10:51 2007
Return-Path: <java-user-return-30607-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71789 invoked from network); 12 Oct 2007 01:10:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Oct 2007 01:10:50 -0000
Received: (qmail 88125 invoked by uid 500); 12 Oct 2007 01:10:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88088 invoked by uid 500); 12 Oct 2007 01:10:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88077 invoked by uid 99); 12 Oct 2007 01:10:32 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Oct 2007 18:10:32 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [208.69.42.181] (HELO radix.cryptio.net) (208.69.42.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Oct 2007 01:10:36 +0000
Received: by radix.cryptio.net (Postfix, from userid 1007)
	id 28ADC71C1CE; Thu, 11 Oct 2007 18:09:46 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by radix.cryptio.net (Postfix) with ESMTP id 1879371C1CC
	for <java-user@lucene.apache.org>; Thu, 11 Oct 2007 18:09:46 -0700 (PDT)
Date: Thu, 11 Oct 2007 18:09:46 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: QueryParser and NGrams
In-Reply-To: <05BC5EC5-F55E-4DE5-86E4-D90F5918F229@gmail.com>
Message-ID: <Pine.LNX.4.62.0710111738550.18071@radix.cryptio.net>
References: <8E95A8CA-9187-4761-87AF-477725D75DAF@gmail.com>
 <50BD1C80-481D-468F-A785-247B32D26A7A@gmail.com> <05BC5EC5-F55E-4DE5-86E4-D90F5918F229@gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: No, sorry, I'm still confused. It ought to be a term queries?

: > > System.out.println(new QueryParser("f", new Analyzer() {
: > >   public TokenStream tokenStream(String string, Reader reader) {
: > >     return new NGramTokenFilter(new StandardTokenizer(reader), 2, 5);
: > >   }
: > > }).parse("hello world"));

query parser does one pass looking for operators, it sees two pieces of 
input: "hello" and "world" it hands each individually to your analyzer.  

for each word, your analyzer produces multiple tokens -- which are not at 
the same position (they have non zero positionIncrimentGap)  QueryParser 
sees the multiple tokens at consecutive positions, and constructs a phrase 
query (per word).  if there was at least one token with a 
positionIncriment of 0, it would have created a MultiPhraseQuery (per 
word), if all had 0 positionIncriments, it would have constructed a 
BooleanQuery (per word) containing TermQueries.





-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30608-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 12 08:15:10 2007
Return-Path: <java-user-return-30608-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10912 invoked from network); 12 Oct 2007 08:15:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Oct 2007 08:15:09 -0000
Received: (qmail 64510 invoked by uid 500); 12 Oct 2007 08:14:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64485 invoked by uid 500); 12 Oct 2007 08:14:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64474 invoked by uid 99); 12 Oct 2007 08:14:51 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Oct 2007 01:14:51 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [213.39.232.201] (HELO moskovskaya.fh-wedel.de) (213.39.232.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Oct 2007 08:14:52 +0000
Received: from di by moskovskaya.fh-wedel.de with local (Exim 4.50)
	id 1IgFfC-0002CT-QK
	for java-user@lucene.apache.org; Fri, 12 Oct 2007 10:14:30 +0200
Date: Fri, 12 Oct 2007 10:14:30 +0200
From: Martin Dietze <di@fh-wedel.de>
To: Lucene Users <java-user@lucene.apache.org>
Subject: Re: Weird operator precedence with default operator AND
Message-ID: <20071012081430.GA7671@fh-wedel.de>
Reply-To: Martin Dietze <martin@the-little-red-haired-girl.org>
Mail-Followup-To: Lucene Users <java-user@lucene.apache.org>
References: <20071009075547.GA27648@fh-wedel.de> <470CBF83.7060608@gmail.com> <20071010122652.GA31418@fh-wedel.de> <20071010144038.GA1320@fh-wedel.de> <470D099F.3010802@gmail.com> <Pine.LNX.4.62.0710101637411.7470@radix.cryptio.net> <20071011080924.GC17538@fh-wedel.de> <Pine.LNX.4.62.0710111721380.18071@radix.cryptio.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <Pine.LNX.4.62.0710111721380.18071@radix.cryptio.net>
User-Agent: Mutt/1.5.16 (2007-06-09)
Sender: Martin Dietze <di@mail.fh-wedel.de>
X-SA-Exim-Connect-IP: <locally generated>
X-SA-Exim-Mail-From: di@mail.fh-wedel.de
X-Virus-Checked: Checked by ClamAV on apache.org

Chris,

On Thu, October 11, 2007, Chris Hostetter wrote:

> ... are you talking about preventing people from including field 
> specific queries in their query string? i'm guessing that you mean 
> something like this is okay...
> 
>         solr title:bobby body:boy
> 
> ...but this isn't...
> 
> 	solr title:bobby body:boy secret_field:xyzyq
> 
> ...is that the idea?

 yes that's just about it. We have two search engines for
different purposes. The first one indexes more fields than the
second and we want to prevent "good" search queries from failing
on the second. Supporting all theses fields on the second SE is
not a good idea since indexing all this additonal data would
have an impact on performance and index size.

> the easiest approach is to do your own simple pass over the query string, 
> and escape any metacharacters in clauses you don't like ... they'll be 
> treated as "terms" and either be ignored (if they are optional) or cause 
> the query to not match anything (if they are required)...

This is a very interesting idea. Yet I wonder how to deal with
such terms if they are part of an AND query (actually AND is our
default operator, so that a query "body:boy secret_field\:xyzyq"
would always fail. It seems obvious that in any case you end up
parsing the query in some way...

Cheers,

Martin

-- 
----------- / http://herbert.the-little-red-haired-girl.org / -------------
=+= 
My family says I'm a psychopath, but the voices in my head disagree

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30609-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 12 08:41:18 2007
Return-Path: <java-user-return-30609-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19873 invoked from network); 12 Oct 2007 08:41:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Oct 2007 08:41:17 -0000
Received: (qmail 2459 invoked by uid 500); 12 Oct 2007 08:40:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2421 invoked by uid 500); 12 Oct 2007 08:40:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2410 invoked by uid 99); 12 Oct 2007 08:40:59 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Oct 2007 01:40:59 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 80.76.149.213 is neither permitted nor denied by domain of karl.wettin@gmail.com)
Received: from [80.76.149.213] (HELO ch-smtp02.sth.basefarm.net) (80.76.149.213)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Oct 2007 08:41:01 +0000
Received: from c83-249-118-113.bredband.comhem.se ([83.249.118.113]:56012 helo=[192.168.1.101])
	by ch-smtp02.sth.basefarm.net with esmtp (Exim 4.68)
	(envelope-from <karl.wettin@gmail.com>)
	id 1IgG1R-0004Nq-7n
	for java-user@lucene.apache.org; Fri, 12 Oct 2007 10:37:29 +0200
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <Pine.LNX.4.62.0710111738550.18071@radix.cryptio.net>
References: <8E95A8CA-9187-4761-87AF-477725D75DAF@gmail.com> <50BD1C80-481D-468F-A785-247B32D26A7A@gmail.com> <05BC5EC5-F55E-4DE5-86E4-D90F5918F229@gmail.com> <Pine.LNX.4.62.0710111738550.18071@radix.cryptio.net>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <28B2C433-4522-4C07-A996-F5EFDA9D4036@gmail.com>
Content-Transfer-Encoding: 7bit
From: Karl Wettin <karl.wettin@gmail.com>
Subject: Re: QueryParser and NGrams
Date: Fri, 12 Oct 2007 10:37:28 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Originating-IP: 83.249.118.113
X-Scan-Result: No virus found in message 1IgG1R-0004Nq-7n.
X-Scan-Signature: ch-smtp02.sth.basefarm.net 1IgG1R-0004Nq-7n c0b1a5325863eb3eeb30355b29429eb7
X-Virus-Checked: Checked by ClamAV on apache.org


12 okt 2007 kl. 03.09 skrev Chris Hostetter:

>
> : No, sorry, I'm still confused. It ought to be a term queries?
>
> : > > System.out.println(new QueryParser("f", new Analyzer() {
> : > >   public TokenStream tokenStream(String string, Reader reader) {
> : > >     return new NGramTokenFilter(new StandardTokenizer 
> (reader), 2, 5);
> : > >   }
> : > > }).parse("hello world"));
>
> query parser does one pass looking for operators, it sees two  
> pieces of
> input: "hello" and "world" it hands each individually to your  
> analyzer.
>
> for each word, your analyzer produces multiple tokens -- which are  
> not at
> the same position (they have non zero positionIncrimentGap)   
> QueryParser
> sees the multiple tokens at consecutive positions, and constructs a  
> phrase
> query (per word).  if there was at least one token with a
> positionIncriment of 0, it would have created a MultiPhraseQuery (per
> word), if all had 0 positionIncriments, it would have constructed a
> BooleanQuery (per word) containing TermQueries.


Thanks!

-- 
karl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30610-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 12 13:52:54 2007
Return-Path: <java-user-return-30610-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23291 invoked from network); 12 Oct 2007 13:52:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Oct 2007 13:52:53 -0000
Received: (qmail 94390 invoked by uid 500); 12 Oct 2007 13:52:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94354 invoked by uid 500); 12 Oct 2007 13:52:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94343 invoked by uid 99); 12 Oct 2007 13:52:33 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Oct 2007 06:52:33 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [134.60.1.11] (HELO mail.uni-ulm.de) (134.60.1.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Oct 2007 13:52:36 +0000
Received: from [134.60.2.90] (hocker.rz.uni-ulm.de [134.60.2.90])
	(authenticated bits=0)
	by mail.uni-ulm.de (8.14.1/8.14.1) with ESMTP id l9CDmUB5014203
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT)
	for <java-user@lucene.apache.org>; Fri, 12 Oct 2007 15:48:30 +0200 (MEST)
Mime-Version: 1.0 (Apple Message framework v752.2)
Content-Transfer-Encoding: quoted-printable
Message-Id: <D29F20F0-74D3-491B-A649-88449C8D4924@uni-ulm.de>
Content-Type: text/plain; charset=ISO-8859-1; delsp=yes; format=flowed
To: java-user@lucene.apache.org
From: Christian Aschoff <christian.aschoff@uni-ulm.de>
Subject: Problems with stemming/SpellChecker
Date: Fri, 12 Oct 2007 15:48:23 +0200
X-Mailer: Apple Mail (2.752.2)
X-Virus-Scanned: by amavisd-new
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

i tried to implement a 'did you mean'-function (and successed in some =20=

way). But the hints from the SpellChecker are the stemmed versions of =20=

the keywords.

For example, the search for the wrong word 'wasseraalfingen' results =20
in the hint 'wasseralfing' but should be 'wasseralfingen'. My first =20
try was to use a field with the option 'NO_NORMS' but that did not =20
worked.

[...]
             indexWriter =3D new IndexWriter(MiscConstants.luceneDir, =20=

new GermanAnalyzer(), create);
[...]
             Field didyoumean =3D new Field=20
(LuceneFieldNames.didyoumean, content.toString(), Field.Store.YES, =20
Field.Index.NO_NORMS, Field.TermVector.NO);
             document.add(didyoumean);
[...]
         IndexReader indexReader =3D IndexReader.open=20
(MiscConstants.luceneDir);
         SpellChecker spellChecker =3D new SpellChecker=20
(FSDirectory.getDirectory(MiscConstants.luceneDYMDir));
         spellChecker.indexDictionary(new LuceneDictionary=20
(indexReader, LuceneFieldNames.didyoumean));
         indexReader.close();
[...]

Has anyone a suggestion how i can get 'unstemmed' hints from =20
SpellChecker? Do i have to create some kind of 'unstemmed' index just =20=

for the creation of the SpellCheckers-index?

Regards,
Christian Aschoff


---
Dipl. Ing. (FH) Christian Aschoff

B=FCro:
Universit=E4t Ulm
Kommunikations- und Informationszentrum
Abt. Informationssysteme
Raum O26/5403
Albert-Einstein-Allee 11
89081 Ulm

Tel. 0731 50-22432
Fax. 0731 50-22471
christian.aschoff@uni-ulm.de

Privat:
Fabristr. 13
89075 Ulm
Deutschland/Old Europe

Tel. 0731 602 803 60
Fax. 0731 602 803 61
Mob. 0171 272 03 04
caschoff@mac.com

Helfen Sie mit: www.meyers-konversationslexikon.de



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30611-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 12 15:12:18 2007
Return-Path: <java-user-return-30611-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64918 invoked from network); 12 Oct 2007 15:12:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Oct 2007 15:12:17 -0000
Received: (qmail 19421 invoked by uid 500); 12 Oct 2007 15:11:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19379 invoked by uid 500); 12 Oct 2007 15:11:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19368 invoked by uid 99); 12 Oct 2007 15:11:59 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Oct 2007 08:11:59 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lists@nabble.com designates 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Oct 2007 15:12:01 +0000
Received: from isper.nabble.com ([192.168.236.156])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <lists@nabble.com>)
	id 1IgMAu-0005hB-JT
	for java-user@lucene.apache.org; Fri, 12 Oct 2007 08:11:40 -0700
Message-ID: <13176984.post@talk.nabble.com>
Date: Fri, 12 Oct 2007 08:11:40 -0700 (PDT)
From: lucene_user <jkraemer@cs.tufts.edu>
To: java-user@lucene.apache.org
Subject: Re: Scoring a single document from a corpus based on a given query
In-Reply-To: <200710101947.59149.paul.elschot@xs4all.nl>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: jkraemer@cs.tufts.edu
References: <13139648.post@talk.nabble.com> <200710101947.59149.paul.elschot@xs4all.nl>
X-Virus-Checked: Checked by ClamAV on apache.org


The Scorer.explain() method worked.

Thanks for the replies.  I may be able to use MemoryIndex in a different
situation.


Paul Elschot wrote:
> 
> On Wednesday 10 October 2007 18:44, lucene_user wrote:
>> I would like to score a single document from a corpus based on a given
>> query. The formula score(q,d) is basically what I am looking for.
>>
>> Pseudo Code of Something Close to what I am looking for:
>> indexReader.score(query, documentId);
>>
>> The formula score(q,d) is used throughout the documentation to describe
>> similarity but there does not seem to be a corresponding java method.
>>
>> I could work around the issue by applying a search filter to only
>> consider
>> the particular document I am looking for.  I was hoping for a cleaner
>> approach.
> 
> You can try this:
> 
> Explanation e = indexSearcher.explain(query, documentId);
> 
> and get the score value from the explanation.
> 
> Have a look at the code of any Scorer.explain() method on
> how to get the score value only. There really is no need to filter
> in this case.
> 
> Regards,
> Paul Elschot
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 

-- 
View this message in context: http://www.nabble.com/Scoring-a-single-document-from-a-corpus-based-on-a-given-query-tf4601980.html#a13176984
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30612-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 12 15:14:57 2007
Return-Path: <java-user-return-30612-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71637 invoked from network); 12 Oct 2007 15:14:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Oct 2007 15:14:54 -0000
Received: (qmail 27432 invoked by uid 500); 12 Oct 2007 15:14:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27336 invoked by uid 500); 12 Oct 2007 15:14:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27325 invoked by uid 99); 12 Oct 2007 15:14:35 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Oct 2007 08:14:35 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of scott.a.phillips@gmail.com designates 64.233.162.224 as permitted sender)
Received: from [64.233.162.224] (HELO nz-out-0506.google.com) (64.233.162.224)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Oct 2007 15:14:37 +0000
Received: by nz-out-0506.google.com with SMTP id i28so637593nzi
        for <java-user@lucene.apache.org>; Fri, 12 Oct 2007 08:14:14 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        bh=9S+LLZ9Bmpab8rTwQ59a+/QJOXJuUPjUhHEY/JVukk8=;
        b=ZdedpFprohiIuFBeHBEscHcSaCNFDZoUddV7j/xm0PDloViJrBw2wxloK49lOoW63/17hypS5rIwZqUodFRdWfLE0PNc70UT+wewTOuoMi6AtU3VidLVBF9n3J+GZVeddx8k792o91ecNCthWvBzujpAiLjWeojM6mUgfKCLe7Q=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=qpq1yyO3KpGjrtwJhZIjuQyRThSkthKP24+TEBQWBs3+KdUW+eMduDyTK7ZrdXVc9+xarb19CDoWA/kvdwzFAkYt1B4tl5BmqPCtjfiXwhvUkyGFFrODAcqdLSMtqWAPh4Tk1K9bVpMoutgGsiNmCRQe24qSPC6bLNyHENAnmkY=
Received: by 10.142.111.14 with SMTP id j14mr1022340wfc.1192202053723;
        Fri, 12 Oct 2007 08:14:13 -0700 (PDT)
Received: by 10.143.7.12 with HTTP; Fri, 12 Oct 2007 08:14:13 -0700 (PDT)
Message-ID: <10acfa680710120814m79c7e6f5l72e9beeabd0c3db1@mail.gmail.com>
Date: Fri, 12 Oct 2007 10:14:13 -0500
From: "Scott Phillips" <scott.a.phillips@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Field rank?
In-Reply-To: <47699a8d0710100204o5ba579d2k3b766281e4e2a70b@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <10acfa680710092141u74a78d55s6f2e2747d58f3354@mail.gmail.com>
	 <47699a8d0710100204o5ba579d2k3b766281e4e2a70b@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Thank you Doron & Kyle,

You both pointed me in the right direction. For anyone finding this
thread in the email archive, here is what I've learned.

You can boost field weights either at indexing time or at query time.
For indexing time you call .setBoost(float) on the field before it has
been added to the document. Alternatively you can can provide a
HashMap of the field names & boosts at query time when using the third
pramater of the MultiFieldQueryParser.

In either case you must use the MultiFieldQueryParser to parse the
query, otherwise you'll only be searching against one specific index
and it won't matter what weight they are boosted by. In this case
you'll need to pass the parser all the possible search fields to
combine together. In effect this will run your query against each
index and then merge the results together. I am not sure of what
performance impact this will have.

Thanks,
Scott--



On 10/10/07, Kyle Maxwell <kyle@casttv.com> wrote:
> > I have a question that I can't quite seem to find the answer to by
> > googling or searching the archives of this mailing list. The problem
> > is I would like to weight some fields more than others. Assume that I
> > have three fields: title, author, and default where title and author
> > contain there respective attributes and default contains all text
> > extracted from the document. When a user searches for 'foo' i would to
> > see at the top of the result list documents that contain 'foo' in the
> > title.
> >
> > Looking through the archive I see i could re-craft my user's query as such:
> >
> > (title: foo)^3 OR (author: foo)^2 OR (default: foo)
> >
> > But this doesn't seem very elegant of a solution to the problem and
> > becomes more problematic as the number of fields increase. Also I'm
> > not sure if this is possible if the user entered more complex
> > queries...
>
> One of the MultiFieldQueryParser's constructors has a field boost argument.
>
> --
> Kyle Maxwell
> Software Engineer
> CastTV, Inc
> http://www.casttv.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30613-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 12 17:07:17 2007
Return-Path: <java-user-return-30613-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1990 invoked from network); 12 Oct 2007 17:07:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Oct 2007 17:07:17 -0000
Received: (qmail 186 invoked by uid 500); 12 Oct 2007 17:06:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99818 invoked by uid 500); 12 Oct 2007 17:06:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99807 invoked by uid 99); 12 Oct 2007 17:06:58 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Oct 2007 10:06:58 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lucenelist2007@danielnaber.de designates 80.67.29.23 as permitted sender)
Received: from [80.67.29.23] (HELO smtprelay09.ispgateway.de) (80.67.29.23)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Oct 2007 17:06:58 +0000
Received: (qmail 27866 invoked from network); 12 Oct 2007 17:06:20 -0000
Received: from unknown (HELO p54bfcd86.dip.t-dialin.net) (695637@[84.191.205.134])
          (envelope-sender <lucenelist2007@danielnaber.de>)
          by smtprelay09.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 12 Oct 2007 17:06:20 -0000
From: Daniel Naber <lucenelist2007@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: Problems with stemming/SpellChecker
Date: Fri, 12 Oct 2007 19:01:36 +0200
User-Agent: KMail/1.8.2
References: <D29F20F0-74D3-491B-A649-88449C8D4924@uni-ulm.de>
In-Reply-To: <D29F20F0-74D3-491B-A649-88449C8D4924@uni-ulm.de>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200710121901.37009@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org

On Friday 12 October 2007 15:48, Christian Aschoff wrote:

> =C2=A0indexWriter =3D new IndexWriter(MiscConstants.luceneDir, =C2=A0
> new GermanAnalyzer(), create);
> [...]

Not NO_NORMS is the problem but GermanAnalyzer. Try StandardAnalyzer on the=
=20
field you get the suggestions from.

Regards
 Daniel

=2D-=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30614-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 12 17:43:05 2007
Return-Path: <java-user-return-30614-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52479 invoked from network); 12 Oct 2007 17:43:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Oct 2007 17:43:04 -0000
Received: (qmail 68752 invoked by uid 500); 12 Oct 2007 17:42:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67861 invoked by uid 500); 12 Oct 2007 17:42:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67844 invoked by uid 99); 12 Oct 2007 17:42:45 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Oct 2007 10:42:45 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [63.65.184.134] (HELO birexchange.BIRPLAZA.local) (63.65.184.134)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Oct 2007 17:42:49 +0000
Content-class: urn:content-classes:message
Subject: Wildcard & filters
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Date: Fri, 12 Oct 2007 13:42:20 -0400
Message-ID: <CC2671C08F06704ABFD37ED1EA09AA56188EBF@birexchange.BIRPLAZA.local>
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Wildcard & filters
Thread-Index: AcgM8la/s9pKnS6vTz+OA8eGxTDVcgABBTvw
From: "Beard, Brian" <Brian.Beard@mybir.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

I'm trying to over-ride QueryParser.getWildcardQuery to use filtering.

I'm missing something, because the following still gets the
maxBooleanClauses limit.

I guess the terms are still expanded even though the query is wrapped in
a filter. How do I avoid the term expansion altogether? Is there a
built-in way to do this?

protected Query getWildcardQuery(String field, String termStr)
	throws ParseException {
	=09
	Query wildcardQuery =3D new WildcardQuery(new Term(field,
termStr));

	QueryWrapperFilter queryWrapperFilter =3D new
QueryWrapperFilter(wildcardQuery);

	ConstantScoreQuery constantScoreQuery =3D new
ConstantScoreQuery(queryWrapperFilter);

	return constantScoreQuery;

}


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30615-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 12 17:54:56 2007
Return-Path: <java-user-return-30615-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58279 invoked from network); 12 Oct 2007 17:54:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Oct 2007 17:54:55 -0000
Received: (qmail 80977 invoked by uid 500); 12 Oct 2007 17:54:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80939 invoked by uid 500); 12 Oct 2007 17:54:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80928 invoked by uid 99); 12 Oct 2007 17:54:37 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Oct 2007 10:54:37 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of markrmiller@gmail.com designates 66.249.82.233 as permitted sender)
Received: from [66.249.82.233] (HELO wx-out-0506.google.com) (66.249.82.233)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Oct 2007 17:54:40 +0000
Received: by wx-out-0506.google.com with SMTP id i28so790318wxd
        for <java-user@lucene.apache.org>; Fri, 12 Oct 2007 10:54:19 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        bh=I0BKDar8GzSrBkCwtc0+0RuSJr54BdI7r4v2mGDI+yQ=;
        b=gfoHWnL/tSJkJcY4+IVW02JFm9y5ZaRRp9FpxRa41QQaXknoW1J2lVoL0iayayTlJtRHOSAuYHM0ipxoRkECCu7XglePpHZsyhA+8H9+teZtyF5n6xcKvoGOMVioCor20k2wZDZ1Ut11THLx5rB80DPrqEFLpH6+FdgF0tesK/c=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=RWDIrsADXX5lt/kBhK95Z4D0S0q+7wJ1N6QmTy2CdeMO/wqxDfesvnkyWInoi1Q9nIY+GYeJWhfwmojLZl4doG4+99jZ9BKEVQx0600RqBlq5y2qNV6xcKIiIYexxzy+klghKPADim1K/WNOWEzcrDhj+oJMdI1fMVpi5uDramo=
Received: by 10.70.16.6 with SMTP id 6mr5538166wxp.1192211659695;
        Fri, 12 Oct 2007 10:54:19 -0700 (PDT)
Received: from ?192.168.1.100? ( [69.124.234.183])
        by mx.google.com with ESMTPS id i10sm1042319wxd.2007.10.12.10.54.17
        (version=SSLv3 cipher=RC4-MD5);
        Fri, 12 Oct 2007 10:54:17 -0700 (PDT)
Message-ID: <470FB4BE.9010604@gmail.com>
Date: Fri, 12 Oct 2007 13:54:06 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Wildcard & filters
References: <CC2671C08F06704ABFD37ED1EA09AA56188EBF@birexchange.BIRPLAZA.local>
In-Reply-To: <CC2671C08F06704ABFD37ED1EA09AA56188EBF@birexchange.BIRPLAZA.local>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Something along these lines:

public class WildcardFilter extends Filter {
    private Term term;

    public WildcardFilter(Term term) {
        this.term = term;
    }

    @Override
    public BitSet bits(IndexReader reader) throws IOException {
        BitSet bits = new BitSet();
        WildcardTermEnum enumerator = new WildcardTermEnum(reader, term);
        TermDocs termDocs = reader.termDocs();

        try {
            do {
                Term term = enumerator.term();

                if (term != null) {
                    termDocs.seek(term);

                    while (termDocs.next()) {
                        bits.set(termDocs.doc());
                    }
                } else {
                    break;
                }
            } while (enumerator.next());
        } finally {
            termDocs.close();
            enumerator.close();
        }

        return bits;
    }
}

- Mark

Beard, Brian wrote:
> I'm trying to over-ride QueryParser.getWildcardQuery to use filtering.
>
> I'm missing something, because the following still gets the
> maxBooleanClauses limit.
>
> I guess the terms are still expanded even though the query is wrapped in
> a filter. How do I avoid the term expansion altogether? Is there a
> built-in way to do this?
>
> protected Query getWildcardQuery(String field, String termStr)
> 	throws ParseException {
> 		
> 	Query wildcardQuery = new WildcardQuery(new Term(field,
> termStr));
>
> 	QueryWrapperFilter queryWrapperFilter = new
> QueryWrapperFilter(wildcardQuery);
>
> 	ConstantScoreQuery constantScoreQuery = new
> ConstantScoreQuery(queryWrapperFilter);
>
> 	return constantScoreQuery;
>
> }
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>   

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30616-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 12 17:59:31 2007
Return-Path: <java-user-return-30616-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60362 invoked from network); 12 Oct 2007 17:59:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Oct 2007 17:59:30 -0000
Received: (qmail 90097 invoked by uid 500); 12 Oct 2007 17:59:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89657 invoked by uid 500); 12 Oct 2007 17:59:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89646 invoked by uid 99); 12 Oct 2007 17:59:12 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Oct 2007 10:59:12 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [63.65.184.134] (HELO birexchange.BIRPLAZA.local) (63.65.184.134)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Oct 2007 17:59:15 +0000
Content-class: urn:content-classes:message
Subject: RE: Wildcard & filters
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Date: Fri, 12 Oct 2007 13:58:55 -0400
Message-ID: <CC2671C08F06704ABFD37ED1EA09AA56188ECB@birexchange.BIRPLAZA.local>
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Wildcard & filters
Thread-Index: AcgM+P/dDuhW/DbfQ7SA3QVNBLASZgAAHX7Q
From: "Beard, Brian" <Brian.Beard@mybir.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

Mark,

Thanks so much.

-----Original Message-----
From: Mark Miller [mailto:markrmiller@gmail.com]=20
Sent: Friday, October 12, 2007 1:54 PM
To: java-user@lucene.apache.org
Subject: Re: Wildcard & filters

Something along these lines:

public class WildcardFilter extends Filter {
    private Term term;

    public WildcardFilter(Term term) {
        this.term =3D term;
    }

    @Override
    public BitSet bits(IndexReader reader) throws IOException {
        BitSet bits =3D new BitSet();
        WildcardTermEnum enumerator =3D new WildcardTermEnum(reader,
term);
        TermDocs termDocs =3D reader.termDocs();

        try {
            do {
                Term term =3D enumerator.term();

                if (term !=3D null) {
                    termDocs.seek(term);

                    while (termDocs.next()) {
                        bits.set(termDocs.doc());
                    }
                } else {
                    break;
                }
            } while (enumerator.next());
        } finally {
            termDocs.close();
            enumerator.close();
        }

        return bits;
    }
}

- Mark

Beard, Brian wrote:
> I'm trying to over-ride QueryParser.getWildcardQuery to use filtering.
>
> I'm missing something, because the following still gets the
> maxBooleanClauses limit.
>
> I guess the terms are still expanded even though the query is wrapped
in
> a filter. How do I avoid the term expansion altogether? Is there a
> built-in way to do this?
>
> protected Query getWildcardQuery(String field, String termStr)
> 	throws ParseException {
> 	=09
> 	Query wildcardQuery =3D new WildcardQuery(new Term(field,
> termStr));
>
> 	QueryWrapperFilter queryWrapperFilter =3D new
> QueryWrapperFilter(wildcardQuery);
>
> 	ConstantScoreQuery constantScoreQuery =3D new
> ConstantScoreQuery(queryWrapperFilter);
>
> 	return constantScoreQuery;
>
> }
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  =20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30617-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 12 18:06:29 2007
Return-Path: <java-user-return-30617-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64381 invoked from network); 12 Oct 2007 18:06:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Oct 2007 18:06:28 -0000
Received: (qmail 96670 invoked by uid 500); 12 Oct 2007 18:06:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96643 invoked by uid 500); 12 Oct 2007 18:06:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96632 invoked by uid 99); 12 Oct 2007 18:06:10 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Oct 2007 11:06:10 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of markrmiller@gmail.com designates 66.249.82.224 as permitted sender)
Received: from [66.249.82.224] (HELO wx-out-0506.google.com) (66.249.82.224)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Oct 2007 18:06:13 +0000
Received: by wx-out-0506.google.com with SMTP id i28so792432wxd
        for <java-user@lucene.apache.org>; Fri, 12 Oct 2007 11:05:49 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        bh=+UO8rqs/qKYCAt+uQsFFJZLiKjN9Q9jwPbsH1ZKvqcU=;
        b=TX4UiB5jinp/vRMzZg4C7OeMBEIDGAUGjtQTDu8E30BB7LX9MduHSW2z9QzFxbudz1MOPn0RrvyoZguNd+AGFaVIdLjg7zhk4bIecLJDWJIN/9XQhncnYOYsxoduiMg0/hRwyCqoFXDSNWhNMLkss6uljVr86KxXiATJ3SV+6j4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=HM4zJg0f/2PH83cRZnOBu9x7t5vk5i0ajOFTQQFfe1DPVPSDKo2Ck7K1BDcYoiyEaCCxkk0nNMslRmJJ7pWXp6Jf00p9QxGcZUzQxfBm1IN0v8cLBMayRnEUmgH7FR6Y87z39Xfva9cW4M/d3pL+6IcNv/qi7yEnbyrm3ghwMpg=
Received: by 10.70.66.18 with SMTP id o18mr5553839wxa.1192212349262;
        Fri, 12 Oct 2007 11:05:49 -0700 (PDT)
Received: from ?192.168.1.100? ( [69.124.234.183])
        by mx.google.com with ESMTPS id h19sm2378301wxd.2007.10.12.11.05.47
        (version=SSLv3 cipher=RC4-MD5);
        Fri, 12 Oct 2007 11:05:47 -0700 (PDT)
Message-ID: <470FB770.8050702@gmail.com>
Date: Fri, 12 Oct 2007 14:05:36 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Wildcard & filters
References: <CC2671C08F06704ABFD37ED1EA09AA56188ECB@birexchange.BIRPLAZA.local>
In-Reply-To: <CC2671C08F06704ABFD37ED1EA09AA56188ECB@birexchange.BIRPLAZA.local>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

No prob....was a bit hasty though:

replace

= new BitSet();

with

= new BitSet(reader.maxDocs());


Beard, Brian wrote:
> Mark,
>
> Thanks so much.
>
> -----Original Message-----
> From: Mark Miller [mailto:markrmiller@gmail.com] 
> Sent: Friday, October 12, 2007 1:54 PM
> To: java-user@lucene.apache.org
> Subject: Re: Wildcard & filters
>
> Something along these lines:
>
> public class WildcardFilter extends Filter {
>     private Term term;
>
>     public WildcardFilter(Term term) {
>         this.term = term;
>     }
>
>     @Override
>     public BitSet bits(IndexReader reader) throws IOException {
>         BitSet bits = new BitSet();
>         WildcardTermEnum enumerator = new WildcardTermEnum(reader,
> term);
>         TermDocs termDocs = reader.termDocs();
>
>         try {
>             do {
>                 Term term = enumerator.term();
>
>                 if (term != null) {
>                     termDocs.seek(term);
>
>                     while (termDocs.next()) {
>                         bits.set(termDocs.doc());
>                     }
>                 } else {
>                     break;
>                 }
>             } while (enumerator.next());
>         } finally {
>             termDocs.close();
>             enumerator.close();
>         }
>
>         return bits;
>     }
> }
>
> - Mark
>
> Beard, Brian wrote:
>   
>> I'm trying to over-ride QueryParser.getWildcardQuery to use filtering.
>>
>> I'm missing something, because the following still gets the
>> maxBooleanClauses limit.
>>
>> I guess the terms are still expanded even though the query is wrapped
>>     
> in
>   
>> a filter. How do I avoid the term expansion altogether? Is there a
>> built-in way to do this?
>>
>> protected Query getWildcardQuery(String field, String termStr)
>> 	throws ParseException {
>> 		
>> 	Query wildcardQuery = new WildcardQuery(new Term(field,
>> termStr));
>>
>> 	QueryWrapperFilter queryWrapperFilter = new
>> QueryWrapperFilter(wildcardQuery);
>>
>> 	ConstantScoreQuery constantScoreQuery = new
>> ConstantScoreQuery(queryWrapperFilter);
>>
>> 	return constantScoreQuery;
>>
>> }
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>   
>>     
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>   

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30618-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 12 18:21:59 2007
Return-Path: <java-user-return-30618-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72713 invoked from network); 12 Oct 2007 18:21:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Oct 2007 18:21:58 -0000
Received: (qmail 19076 invoked by uid 500); 12 Oct 2007 18:21:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19048 invoked by uid 500); 12 Oct 2007 18:21:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19037 invoked by uid 99); 12 Oct 2007 18:21:39 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Oct 2007 11:21:39 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [63.65.184.134] (HELO birexchange.BIRPLAZA.local) (63.65.184.134)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Oct 2007 18:21:43 +0000
Content-class: urn:content-classes:message
Subject: RE: Wildcard & filters
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Date: Fri, 12 Oct 2007 14:21:22 -0400
Message-ID: <CC2671C08F06704ABFD37ED1EA09AA56188ECD@birexchange.BIRPLAZA.local>
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Wildcard & filters
Thread-Index: AcgM+pt1Eu94Bs1CQbKiTjoT/uuaaQAAf8QA
From: "Beard, Brian" <Brian.Beard@mybir.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

Mark, That's working right out of the box. Thanks again.

-----Original Message-----
From: Mark Miller [mailto:markrmiller@gmail.com]=20
Sent: Friday, October 12, 2007 2:06 PM
To: java-user@lucene.apache.org
Subject: Re: Wildcard & filters

No prob....was a bit hasty though:

replace

=3D new BitSet();

with

=3D new BitSet(reader.maxDocs());


Beard, Brian wrote:
> Mark,
>
> Thanks so much.
>
> -----Original Message-----
> From: Mark Miller [mailto:markrmiller@gmail.com]=20
> Sent: Friday, October 12, 2007 1:54 PM
> To: java-user@lucene.apache.org
> Subject: Re: Wildcard & filters
>
> Something along these lines:
>
> public class WildcardFilter extends Filter {
>     private Term term;
>
>     public WildcardFilter(Term term) {
>         this.term =3D term;
>     }
>
>     @Override
>     public BitSet bits(IndexReader reader) throws IOException {
>         BitSet bits =3D new BitSet();
>         WildcardTermEnum enumerator =3D new WildcardTermEnum(reader,
> term);
>         TermDocs termDocs =3D reader.termDocs();
>
>         try {
>             do {
>                 Term term =3D enumerator.term();
>
>                 if (term !=3D null) {
>                     termDocs.seek(term);
>
>                     while (termDocs.next()) {
>                         bits.set(termDocs.doc());
>                     }
>                 } else {
>                     break;
>                 }
>             } while (enumerator.next());
>         } finally {
>             termDocs.close();
>             enumerator.close();
>         }
>
>         return bits;
>     }
> }
>
> - Mark
>
> Beard, Brian wrote:
>  =20
>> I'm trying to over-ride QueryParser.getWildcardQuery to use
filtering.
>>
>> I'm missing something, because the following still gets the
>> maxBooleanClauses limit.
>>
>> I guess the terms are still expanded even though the query is wrapped
>>    =20
> in
>  =20
>> a filter. How do I avoid the term expansion altogether? Is there a
>> built-in way to do this?
>>
>> protected Query getWildcardQuery(String field, String termStr)
>> 	throws ParseException {
>> 	=09
>> 	Query wildcardQuery =3D new WildcardQuery(new Term(field,
>> termStr));
>>
>> 	QueryWrapperFilter queryWrapperFilter =3D new
>> QueryWrapperFilter(wildcardQuery);
>>
>> 	ConstantScoreQuery constantScoreQuery =3D new
>> ConstantScoreQuery(queryWrapperFilter);
>>
>> 	return constantScoreQuery;
>>
>> }
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>  =20
>>    =20
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  =20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30619-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 13 05:58:44 2007
Return-Path: <java-user-return-30619-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38517 invoked from network); 13 Oct 2007 05:58:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 13 Oct 2007 05:58:44 -0000
Received: (qmail 71650 invoked by uid 500); 13 Oct 2007 05:58:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71622 invoked by uid 500); 13 Oct 2007 05:58:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71611 invoked by uid 99); 13 Oct 2007 05:58:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Oct 2007 22:58:26 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [134.60.1.11] (HELO mail.uni-ulm.de) (134.60.1.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 13 Oct 2007 05:58:27 +0000
Received: from [192.168.178.20] (dslb-084-056-149-211.pools.arcor-ip.net [84.56.149.211])
	(authenticated bits=0)
	by mail.uni-ulm.de (8.14.1/8.14.1) with ESMTP id l9D5w49q013005
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT)
	for <java-user@lucene.apache.org>; Sat, 13 Oct 2007 07:58:05 +0200 (MEST)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <200710121901.37009@danielnaber.de>
References: <D29F20F0-74D3-491B-A649-88449C8D4924@uni-ulm.de> <200710121901.37009@danielnaber.de>
Content-Type: text/plain; charset=ISO-8859-1; delsp=yes; format=flowed
Message-Id: <D8249AEE-D760-405C-B1C4-091D55535E5F@uni-ulm.de>
Content-Transfer-Encoding: quoted-printable
From: Christian Aschoff <christian.aschoff@uni-ulm.de>
Subject: Re: Problems with stemming/SpellChecker
Date: Sat, 13 Oct 2007 07:57:54 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-DCC-HP_X86_64_8CPU-Metrics: poseidon 1245; Body=1 Fuz1=1 Fuz2=1
X-Virus-Scanned: by amavisd-new
X-Virus-Checked: Checked by ClamAV on apache.org

But as fare as i see (in the API DOC), the GermanAnalyzer is attached =20=

to the IndexWriter, i can't find an way to attach an analyzer it to a =20=

single field... Or do i miss something? (There are tons of other =20
fields in the index where GermanAnalyzer fits perfect).

Am 12.10.2007 um 19:01 schrieb Daniel Naber:

> On Friday 12 October 2007 15:48, Christian Aschoff wrote:
>
>>  indexWriter =3D new IndexWriter(MiscConstants.luceneDir,
>> new GermanAnalyzer(), create);
>> [...]
>
> Not NO_NORMS is the problem but GermanAnalyzer. Try =20
> StandardAnalyzer on the
> field you get the suggestions from.
>
> Regards
>  Daniel
>
> --=20
> http://www.danielnaber.de
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

---
Dipl. Ing. (FH) Christian Aschoff

B=FCro:
Universit=E4t Ulm
Kommunikations- und Informationszentrum
Abt. Informationssysteme
Raum O26/5403
Albert-Einstein-Allee 11
89081 Ulm

Tel. 0731 50-22432
Fax. 0731 50-22471
christian.aschoff@uni-ulm.de

Privat:
Fabristr. 13
89075 Ulm
Deutschland/Old Europe

Tel. 0731 602 803 60
Fax. 0731 602 803 61
Mob. 0171 272 03 04
caschoff@mac.com

Helfen Sie mit: www.meyers-konversationslexikon.de



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30620-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 13 06:54:27 2007
Return-Path: <java-user-return-30620-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52361 invoked from network); 13 Oct 2007 06:54:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 13 Oct 2007 06:54:27 -0000
Received: (qmail 88041 invoked by uid 500); 13 Oct 2007 06:54:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88016 invoked by uid 500); 13 Oct 2007 06:54:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87994 invoked by uid 99); 13 Oct 2007 06:54:09 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Oct 2007 23:54:09 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lukas.vlcek@gmail.com designates 209.85.198.187 as permitted sender)
Received: from [209.85.198.187] (HELO rv-out-0910.google.com) (209.85.198.187)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 13 Oct 2007 06:54:11 +0000
Received: by rv-out-0910.google.com with SMTP id k20so844705rvb
        for <java-user@lucene.apache.org>; Fri, 12 Oct 2007 23:53:48 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        bh=lj7oUZP3t4PWWhtiCQvoyPdBfKg8khx6u1TnlWmjKM8=;
        b=mLIUmq1G1Doo4bPfWIK94kOBBVtoPtycPMTEs8MlOtyaEb1hKH7deVwDG9NVkdIrFum6gGlQxInN1coRJ3TZhRa2PAYtqJwjyVKsdKAE7nVf12CNXuoRxl2ND21T3EkRlYpjbXB8LRbeebML7wckDbedNUZfkLIERvzWslNacBs=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=Fefi5FzRSROAU+bjgauQWINu6kyqi2wv8h6qlOhyyXyMaLMZixxUKEex17d8OuFEdziTbfH24HnGKLE9MgKWi9PLbj4bJdsEG/l3n1uyju9pX1AcuGztPo9TdxUigugbGywska7gI+atOOYNGgPHXUp7k4Dadvh3+YBWdxHu2U0=
Received: by 10.141.185.3 with SMTP id m3mr1903597rvp.1192258427995;
        Fri, 12 Oct 2007 23:53:47 -0700 (PDT)
Received: by 10.141.210.7 with HTTP; Fri, 12 Oct 2007 23:53:47 -0700 (PDT)
Message-ID: <52c3ddca0710122353u36735e0bobd993c27552538b7@mail.gmail.com>
Date: Sat, 13 Oct 2007 08:53:47 +0200
From: "Lukas Vlcek" <lukas.vlcek@gmail.com>
To: java-user@lucene.apache.org
Subject: Customized search with Lucene?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_36115_28885873.1192258428002"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_36115_28885873.1192258428002
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi,

I am looking for an easy (~preferred) way of implementing customized search
with Lucene. What I mean by this is changing order of returned hits
according to user profile. In simple words I would like to be able to tweak
order of documents in Hits collection before it is presented to the client.

Example: if user A issues a query "lucene" then he/she tends to click the
third returned link (document #123). I would like to "boost" document #123
for this user so the next time he/she issues the query "lucene" again the
hit for the document #123 will be in the first or second position (providing
that the index hasn't been modified).

Looking at the Searchable<http://lucene.zones.apache.org:8080/hudson/job/Lucene-Nightly/javadoc/org/apache/lucene/search/Searchable.html>interface
it does not seem it supports this kind of flexibility. I don't
want to use filter<http://lucene.zones.apache.org:8080/hudson/job/Lucene-Nightly/javadoc/org/apache/lucene/search/Filter.html>of
sort<http://lucene.zones.apache.org:8080/hudson/job/Lucene-Nightly/javadoc/org/apache/lucene/search/Sort.html>(they
are not appropriate for my goal).

Custom scoring<http://lucene.zones.apache.org:8080/hudson/job/Lucene-Nightly/javadoc/org/apache/lucene/search/package-summary.html#scoring>seems
to be the only option left. At the first glance it seems quite
complex; moreover, I am not sure it really allows me to achieve my goal, but
if there is no other way then I have to try it...
Any suggestions?

Regards,
Lukas

-- 
http://blog.lukas-vlcek.com/

------=_Part_36115_28885873.1192258428002--

From java-user-return-30621-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 13 08:38:56 2007
Return-Path: <java-user-return-30621-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37288 invoked from network); 13 Oct 2007 08:38:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 13 Oct 2007 08:38:56 -0000
Received: (qmail 25101 invoked by uid 500); 13 Oct 2007 08:38:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25070 invoked by uid 500); 13 Oct 2007 08:38:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25058 invoked by uid 99); 13 Oct 2007 08:38:38 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 13 Oct 2007 01:38:38 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lucenelist2007@danielnaber.de designates 80.67.29.7 as permitted sender)
Received: from [80.67.29.7] (HELO smtprelay07.ispgateway.de) (80.67.29.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 13 Oct 2007 08:38:38 +0000
Received: (qmail 17963 invoked from network); 13 Oct 2007 08:38:00 -0000
Received: from unknown (HELO p54bfe12e.dip.t-dialin.net) (695637@[84.191.225.46])
          (envelope-sender <lucenelist2007@danielnaber.de>)
          by smtprelay07.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 13 Oct 2007 08:38:00 -0000
From: Daniel Naber <lucenelist2007@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: Problems with stemming/SpellChecker
Date: Sat, 13 Oct 2007 10:33:15 +0200
User-Agent: KMail/1.8.2
References: <D29F20F0-74D3-491B-A649-88449C8D4924@uni-ulm.de> <200710121901.37009@danielnaber.de> <D8249AEE-D760-405C-B1C4-091D55535E5F@uni-ulm.de>
In-Reply-To: <D8249AEE-D760-405C-B1C4-091D55535E5F@uni-ulm.de>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200710131033.15823@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org

On Saturday 13 October 2007 07:57, Christian Aschoff wrote:

> But as fare as i see (in the API DOC), the GermanAnalyzer is attached =C2=
=A0
> to the IndexWriter, i can't find an way to attach an analyzer it to a =C2=
=A0
> single field... Or do i miss something?

See PerFieldAnalyzerWrapper.

Regards
 Daniel

=2D-=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30622-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 15 10:31:37 2007
Return-Path: <java-user-return-30622-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6422 invoked from network); 15 Oct 2007 10:31:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 15 Oct 2007 10:31:36 -0000
Received: (qmail 77015 invoked by uid 500); 15 Oct 2007 10:31:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76985 invoked by uid 500); 15 Oct 2007 10:31:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76972 invoked by uid 99); 15 Oct 2007 10:31:15 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Oct 2007 03:31:15 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of emilienbeucler@hotmail.com designates 65.54.246.229 as permitted sender)
Received: from [65.54.246.229] (HELO bay0-omc3-s29.bay0.hotmail.com) (65.54.246.229)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Oct 2007 10:31:16 +0000
Received: from hotmail.com ([10.6.58.118]) by bay0-omc3-s29.bay0.hotmail.com with Microsoft SMTPSVC(6.0.3790.3959);
	 Mon, 15 Oct 2007 03:30:56 -0700
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Mon, 15 Oct 2007 03:30:55 -0700
Message-ID: <BLU107-F38173DB5FBA76208138F86CAA30@phx.gbl>
Received: from 82.150.19.227 by bl107fd.blu107.hotmail.msn.com with HTTP;
	Mon, 15 Oct 2007 10:30:52 GMT
X-Originating-IP: [82.150.19.227]
X-Originating-Email: [emilienbeucler@hotmail.com]
X-Sender: emilienbeucler@hotmail.com
From: "emilien beucler" <emilienbeucler@hotmail.com>
To: java-user@lucene.apache.org
Subject: Is Lucene relevant for big amount of small dynamic data?
Date: Mon, 15 Oct 2007 10:30:52 +0000
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1; format=flowed
X-OriginalArrivalTime: 15 Oct 2007 10:30:55.0721 (UTC) FILETIME=[7802DD90:01C80F16]
X-Virus-Checked: Checked by ClamAV on apache.org

Hello,

I need to implement a search tool, and I would like to know if Lucene could 
be used for my particular problem. Let's take an example:

A hotel company has several hundreds of hotels around the world. for each 
hotel there are hundreds of rooms, whose price are constantly changing. The 
idea is to create a multi-criteria search tool to find a room. The pieces of 
information to store are all the same, they are something like: (room_size, 
number_of_stars, city, date_of_arrival, number_of_beds, price...)
Let's says there are around 15 caracteristics, and about 5 millions pieces 
of information. The goal is to obtain a tool that:

- handles multi-criteria search
- can be updated all the time
- answers quickly

According to what I read about Lucène, this is a powerfull tool for 
combining different criteria, and would be great for enriching the 
information by creating more complex criteria. But my questions are:

- Is Lucene performant for very dynamic data? There would be dozens to 
hundreds of updates per second

- Is Lucene performant for this kind of search (it is not the typical 
text-search, date-range and price-range searches will occur a lot)

- Would Lucene be more performant than a standard database indexing 
solution?

Thanks for your help,

Emilien Beucler

_________________________________________________________________
Windows Live Spaces : créez votre blog à votre image ! 
http://www.windowslive.fr/spaces


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30623-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 15 10:44:24 2007
Return-Path: <java-user-return-30623-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11591 invoked from network); 15 Oct 2007 10:44:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 15 Oct 2007 10:44:23 -0000
Received: (qmail 91419 invoked by uid 500); 15 Oct 2007 10:44:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90320 invoked by uid 500); 15 Oct 2007 10:44:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90309 invoked by uid 99); 15 Oct 2007 10:44:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Oct 2007 03:44:05 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of kurt.haegeman@mediargus.be designates 81.246.11.13 as permitted sender)
Received: from [81.246.11.13] (HELO mail.mediargus.be) (81.246.11.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Oct 2007 10:44:09 +0000
Received: from [192.168.3.1] (helo=[192.168.3.1])
	by mail.mediargus.be with esmtp (Exim 4.44)
	id 1IhNQI-0003Vx-IA; Mon, 15 Oct 2007 12:43:46 +0200
Message-ID: <47134468.4030207@mediargus.be>
Date: Mon, 15 Oct 2007 12:43:52 +0200
From: Kurt Haegeman <kurt.haegeman@mediargus.be>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Is Lucene relevant for big amount of small dynamic data?
References: <BLU107-F38173DB5FBA76208138F86CAA30@phx.gbl>
In-Reply-To: <BLU107-F38173DB5FBA76208138F86CAA30@phx.gbl>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Virus-Checked: Checked by ClamAV on apache.org

emilien beucler wrote:
> Hello,
> 
> I need to implement a search tool, and I would like to know if Lucene 
> could be used for my particular problem. Let's take an example:
> 
> A hotel company has several hundreds of hotels around the world. for 
> each hotel there are hundreds of rooms, whose price are constantly 
> changing. The idea is to create a multi-criteria search tool to find a 
> room. The pieces of information to store are all the same, they are 
> something like: (room_size, number_of_stars, city, date_of_arrival, 
> number_of_beds, price...)
> Let's says there are around 15 caracteristics, and about 5 millions 
> pieces of information. The goal is to obtain a tool that:
...

None of the criteria you mention justifies the use of a full-text search 
solution. If I were you (but I'm not), I'd stick to a relational 
database for this project. Even if there's a small field or two with 
searchable text data, the database itself could cope with this (Oracle 
Text, MySQL full-text search etc...).

My 2 cents,
Kurt.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30624-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 15 11:51:25 2007
Return-Path: <java-user-return-30624-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40369 invoked from network); 15 Oct 2007 11:51:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 15 Oct 2007 11:51:25 -0000
Received: (qmail 70120 invoked by uid 500); 15 Oct 2007 11:51:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70081 invoked by uid 500); 15 Oct 2007 11:51:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70070 invoked by uid 99); 15 Oct 2007 11:51:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Oct 2007 04:51:06 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of emilienbeucler@hotmail.com designates 65.54.246.109 as permitted sender)
Received: from [65.54.246.109] (HELO bay0-omc1-s37.bay0.hotmail.com) (65.54.246.109)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Oct 2007 11:51:07 +0000
Received: from hotmail.com ([10.6.58.121]) by bay0-omc1-s37.bay0.hotmail.com with Microsoft SMTPSVC(6.0.3790.3959);
	 Mon, 15 Oct 2007 04:50:26 -0700
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Mon, 15 Oct 2007 04:50:25 -0700
Message-ID: <BLU107-F41899C5B294909629159AECAA30@phx.gbl>
Received: from 82.150.19.227 by bl107fd.blu107.hotmail.msn.com with HTTP;
	Mon, 15 Oct 2007 11:50:22 GMT
X-Originating-IP: [82.150.19.227]
X-Originating-Email: [emilienbeucler@hotmail.com]
X-Sender: emilienbeucler@hotmail.com
In-Reply-To: <47134468.4030207@mediargus.be>
From: "emilien beucler" <emilienbeucler@hotmail.com>
To: java-user@lucene.apache.org
Subject: Re: Is Lucene relevant for big amount of small dynamic data?
Date: Mon, 15 Oct 2007 11:50:22 +0000
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1; format=flowed
X-OriginalArrivalTime: 15 Oct 2007 11:50:25.0568 (UTC) FILETIME=[930FC200:01C80F21]
X-Virus-Checked: Checked by ClamAV on apache.org


Thank you for this quick answer. Of course a relational database is the most 
immediate answer, but there are two problems:

- I am not sure that performances would be great when potentially each 
criteria can be used/combined for searches. I am not an expert of databases 
but I guess you have to choose the indexes you will want to use, so a few 
kinds of searches will be performant, others will not, right? What seemed 
interesting in Lucène is that it is said to be performant for all kinds of 
searches.

- With this model I cannot add criteria "on the fly". Let's say I want a new 
criterion: "olympic games Beijing 2008" That will apply to some of the 
hotels, for a certain time range. With Lucène I guess I could enrich the 
documents with the new criterion before adding them to the index. With a 
database, I can only reserve a fixed number of columns for that, or have 
more complex queries (without indexing). Do you see what I mean?

Thanks again,

Emilien

>From: Kurt Haegeman <kurt.haegeman@mediargus.be>
>Reply-To: java-user@lucene.apache.org
>To: java-user@lucene.apache.org
>Subject: Re: Is Lucene relevant for big amount of small dynamic data?
>Date: Mon, 15 Oct 2007 12:43:52 +0200
>
>emilien beucler wrote:
>>Hello,
>>
>>I need to implement a search tool, and I would like to know if Lucene 
>>could be used for my particular problem. Let's take an example:
>>
>>A hotel company has several hundreds of hotels around the world. for each 
>>hotel there are hundreds of rooms, whose price are constantly changing. 
>>The idea is to create a multi-criteria search tool to find a room. The 
>>pieces of information to store are all the same, they are something like: 
>>(room_size, number_of_stars, city, date_of_arrival, number_of_beds, 
>>price...)
>>Let's says there are around 15 caracteristics, and about 5 millions pieces 
>>of information. The goal is to obtain a tool that:
>...
>
>None of the criteria you mention justifies the use of a full-text search 
>solution. If I were you (but I'm not), I'd stick to a relational database 
>for this project. Even if there's a small field or two with searchable text 
>data, the database itself could cope with this (Oracle Text, MySQL 
>full-text search etc...).
>
>My 2 cents,
>Kurt.
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>

_________________________________________________________________
Windows Live Spaces : créez votre blog à votre image ! 
http://www.windowslive.fr/spaces


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30625-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 15 14:24:02 2007
Return-Path: <java-user-return-30625-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98934 invoked from network); 15 Oct 2007 14:24:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 15 Oct 2007 14:24:02 -0000
Received: (qmail 10809 invoked by uid 500); 15 Oct 2007 14:23:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10773 invoked by uid 500); 15 Oct 2007 14:23:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10762 invoked by uid 99); 15 Oct 2007 14:23:43 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Oct 2007 07:23:43 -0700
X-ASF-Spam-Status: No, hits=-2.0 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of gresh@us.ibm.com designates 32.97.182.144 as permitted sender)
Received: from [32.97.182.144] (HELO e4.ny.us.ibm.com) (32.97.182.144)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Oct 2007 14:23:45 +0000
Received: from d01relay02.pok.ibm.com (d01relay02.pok.ibm.com [9.56.227.234])
	by e4.ny.us.ibm.com (8.13.8/8.13.8) with ESMTP id l9FEKCeB013325
	for <java-user@lucene.apache.org>; Mon, 15 Oct 2007 10:20:12 -0400
Received: from d01av01.pok.ibm.com (d01av01.pok.ibm.com [9.56.224.215])
	by d01relay02.pok.ibm.com (8.13.8/8.13.8/NCO v8.5) with ESMTP id l9FEKC1M119766
	for <java-user@lucene.apache.org>; Mon, 15 Oct 2007 10:20:12 -0400
Received: from d01av01.pok.ibm.com (loopback [127.0.0.1])
	by d01av01.pok.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l9FEK2H9014083
	for <java-user@lucene.apache.org>; Mon, 15 Oct 2007 10:20:02 -0400
Received: from d01ml605.pok.ibm.com (d01ml605.pok.ibm.com [9.56.227.91])
	by d01av01.pok.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l9FEK2vH013337
	for <java-user@lucene.apache.org>; Mon, 15 Oct 2007 10:20:02 -0400
To: java-user@lucene.apache.org
MIME-Version: 1.0
Subject: sanity check on how stemming, stopwords,  and snowball analyzer works
 together
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
From: Donna L Gresh <gresh@us.ibm.com>
Message-ID: <OF1F9A6B41.564BE876-ON85257375.004C9663-85257375.004EB90F@us.ibm.com>
Date: Mon, 15 Oct 2007 10:19:51 -0400
X-MIMETrack: Serialize by Router on D01ML605/01/M/IBM(Release 8.0|August 02, 2007) at 10/15/2007
 10:20:01,
	Serialize complete at 10/15/2007 10:20:01
Content-Type: multipart/alternative; boundary="=_alternative 004EB84B85257375_="
X-Virus-Checked: Checked by ClamAV on apache.org

--=_alternative 004EB84B85257375_=
Content-Type: text/plain; charset="US-ASCII"

Could those "in the know" comment on my current understanding of stemming 
and stopwords using the snowball analyzer?

In my application, I am using the MoreLikeThis class to find similar 
documents to an input "text blob". There are words in the input text blob 
which are "uninteresting" for my application, so I create a list of these 
words. These words are "uninteresting" no matter what their tense or 
usage, for example, "develop", "developing", "developed", and "developer" 
are all uninteresting and I do not want them included in the search query 
created by the MoreLikeThis class.

My index documents are stemmed using the Snowball analyzer. I do not use 
any stopwords when the documents are indexed (as I would like the choice 
of stopwords to be under user control at search time).

I would like the user to be able to provide to the search application a 
list of "uninteresting" words, and for obvious reasons would like to force 
them to provide only, say, "developer" and have the application understand 
that all variants should be ignored (and I don't want to force them to try 
to guess what the stemmed version of "developer" is).

My first try was to use MoreLikeThis with the Snowball analyzer and a 
simple list of unstemmed stopwords (MoreLikeThis.setAnalyzer and 
MoreLikeThis.setStopWords). However, it appears that the stopwords 
provided to the MoreLikeThis class are compared in an exact way to the 
token stream output by the Snowball filter (where the words have been 
stemmed), so "developer" will not match anything, and all variants pass 
through. Even if I provide the list of unstemmed stopwords to the snowball 
analyzer instead, they are used "as-is" with no stemming performed, so 
"developer" will not remove "developed". 

Apparently the following is necessary for my application:
Construct a snowball analyzer with no stopwords. Use the unstemmed 
stopword list with the analyzer to construct a stemmed version of the set 
of stopwords. Use this set of stemmed stopwords as the stopwords input to 
the MoreLikeThis class (where the tokens are compared to the stemmed 
versions after been output from the Snowball analyzer).

Is my understanding correct?

Donna

--=_alternative 004EB84B85257375_=--

From java-user-return-30626-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 15 14:38:23 2007
Return-Path: <java-user-return-30626-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5364 invoked from network); 15 Oct 2007 14:38:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 15 Oct 2007 14:38:23 -0000
Received: (qmail 41743 invoked by uid 500); 15 Oct 2007 14:38:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41716 invoked by uid 500); 15 Oct 2007 14:38:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41705 invoked by uid 99); 15 Oct 2007 14:38:04 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Oct 2007 07:38:04 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of markrmiller@gmail.com designates 66.249.92.172 as permitted sender)
Received: from [66.249.92.172] (HELO ug-out-1314.google.com) (66.249.92.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Oct 2007 14:38:07 +0000
Received: by ug-out-1314.google.com with SMTP id h3so315930ugf
        for <java-user@lucene.apache.org>; Mon, 15 Oct 2007 07:37:46 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        bh=zvqFL5Wtm3Qicdr1K3WgiXsuMwJpET8K4AaNrmfUb7s=;
        b=GCkP0MYOj626f5bLr52AQ7JfIlB4OhoXBRyacmM1Zns9TzTSxy9jmrPbe65ccUEI6LjIEyBMhA49jTDjgwRrkhFIt4aRroy6erPa4GB2UFF9bXLN9W2H9rTsFvjkOFbVK0tN9ECrCHY6CyDWZKCeJm80cO9sqwBZXUGhFd2R/eM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=ulx//bSHmc0PGUycQU/u62ghkLLGxnSq/NOUo3b6HhAv+1cFJ2VrRHeEfyPPKXmZRhLxJEJJI9MsQBFAZeZIvZphysna3mnVFEJt2qOUlhAVtpa31IP881tImuCNE5dP3ErmMALhScLraVWxIheebhXXQUUhMFE3zo2c2wDGX6A=
Received: by 10.143.6.1 with SMTP id j1mr1460137wfi.1192459064592;
        Mon, 15 Oct 2007 07:37:44 -0700 (PDT)
Received: from ?192.168.1.100? ( [69.124.234.183])
        by mx.google.com with ESMTPS id 3sm3987219wrs.2007.10.15.07.37.42
        (version=SSLv3 cipher=RC4-MD5);
        Mon, 15 Oct 2007 07:37:43 -0700 (PDT)
Message-ID: <47137B22.6000909@gmail.com>
Date: Mon, 15 Oct 2007 10:37:22 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: sanity check on how stemming, stopwords,  and snowball analyzer
 works together
References: <OF1F9A6B41.564BE876-ON85257375.004C9663-85257375.004EB90F@us.ibm.com>
In-Reply-To: <OF1F9A6B41.564BE876-ON85257375.004C9663-85257375.004EB90F@us.ibm.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Sounds right to me.

The other option I think you have is to not use the MoreLikeThis 
stopword functionality. Instead add the stopwords to the analyzer that 
you pass to MoreLikeThis. That way you can ensure that the analyzer 
applies the stopword list before stemming (The MoreLikeThis stopword 
removal is implemented so that stopwords are removed after stemming). 
Then you just have to add 'developer' to the stop list, and you can 
forget about handling stemmed forms.

Your method should also work though.

- Mark

Donna L Gresh wrote:
> Could those "in the know" comment on my current understanding of stemming 
> and stopwords using the snowball analyzer?
>
> In my application, I am using the MoreLikeThis class to find similar 
> documents to an input "text blob". There are words in the input text blob 
> which are "uninteresting" for my application, so I create a list of these 
> words. These words are "uninteresting" no matter what their tense or 
> usage, for example, "develop", "developing", "developed", and "developer" 
> are all uninteresting and I do not want them included in the search query 
> created by the MoreLikeThis class.
>
> My index documents are stemmed using the Snowball analyzer. I do not use 
> any stopwords when the documents are indexed (as I would like the choice 
> of stopwords to be under user control at search time).
>
> I would like the user to be able to provide to the search application a 
> list of "uninteresting" words, and for obvious reasons would like to force 
> them to provide only, say, "developer" and have the application understand 
> that all variants should be ignored (and I don't want to force them to try 
> to guess what the stemmed version of "developer" is).
>
> My first try was to use MoreLikeThis with the Snowball analyzer and a 
> simple list of unstemmed stopwords (MoreLikeThis.setAnalyzer and 
> MoreLikeThis.setStopWords). However, it appears that the stopwords 
> provided to the MoreLikeThis class are compared in an exact way to the 
> token stream output by the Snowball filter (where the words have been 
> stemmed), so "developer" will not match anything, and all variants pass 
> through. Even if I provide the list of unstemmed stopwords to the snowball 
> analyzer instead, they are used "as-is" with no stemming performed, so 
> "developer" will not remove "developed". 
>
> Apparently the following is necessary for my application:
> Construct a snowball analyzer with no stopwords. Use the unstemmed 
> stopword list with the analyzer to construct a stemmed version of the set 
> of stopwords. Use this set of stemmed stopwords as the stopwords input to 
> the MoreLikeThis class (where the tokens are compared to the stemmed 
> versions after been output from the Snowball analyzer).
>
> Is my understanding correct?
>
> Donna
>
>   

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30627-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 15 15:27:09 2007
Return-Path: <java-user-return-30627-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20528 invoked from network); 15 Oct 2007 15:27:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 15 Oct 2007 15:27:09 -0000
Received: (qmail 8852 invoked by uid 500); 15 Oct 2007 15:26:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8552 invoked by uid 500); 15 Oct 2007 15:26:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8541 invoked by uid 99); 15 Oct 2007 15:26:50 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Oct 2007 08:26:50 -0700
X-ASF-Spam-Status: No, hits=-2.0 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of gresh@us.ibm.com designates 32.97.182.142 as permitted sender)
Received: from [32.97.182.142] (HELO e2.ny.us.ibm.com) (32.97.182.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Oct 2007 15:26:51 +0000
Received: from d01relay02.pok.ibm.com (d01relay02.pok.ibm.com [9.56.227.234])
	by e2.ny.us.ibm.com (8.13.8/8.13.8) with ESMTP id l9FFNIwL008470
	for <java-user@lucene.apache.org>; Mon, 15 Oct 2007 11:23:18 -0400
Received: from d01av01.pok.ibm.com (d01av01.pok.ibm.com [9.56.224.215])
	by d01relay02.pok.ibm.com (8.13.8/8.13.8/NCO v8.5) with ESMTP id l9FFNI4V135006
	for <java-user@lucene.apache.org>; Mon, 15 Oct 2007 11:23:18 -0400
Received: from d01av01.pok.ibm.com (loopback [127.0.0.1])
	by d01av01.pok.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l9FFN7nk028422
	for <java-user@lucene.apache.org>; Mon, 15 Oct 2007 11:23:07 -0400
Received: from d01mlwt1.watson.ibm.com (d01mlwt1.watson.ibm.com [9.2.112.16])
	by d01av01.pok.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l9FFN7xf027769
	for <java-user@lucene.apache.org>; Mon, 15 Oct 2007 11:23:07 -0400
In-Reply-To: <47137B22.6000909@gmail.com>
To: java-user@lucene.apache.org
MIME-Version: 1.0
Subject: Re: sanity check on how stemming, stopwords,  and snowball analyzer works
 together
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
From: Donna L Gresh <gresh@us.ibm.com>
Message-ID: <OFBB51DA39.5F063E4F-ON85257375.0051A91E-85257375.0051F56F@us.ibm.com>
Date: Mon, 15 Oct 2007 10:55:11 -0400
X-MIMETrack: Serialize by Router on D01MLWT1/01/M/IBM(Release 8.0|August 02, 2007) at 10/15/2007
 11:23:07,
	Serialize complete at 10/15/2007 11:23:07
Content-Type: multipart/alternative; boundary="=_alternative 0051F4C685257375_="
X-Virus-Checked: Checked by ClamAV on apache.org

--=_alternative 0051F4C685257375_=
Content-Type: text/plain; charset="US-ASCII"

I wasn't sure this:
Instead add the stopwords to the analyzer that 
> you pass to MoreLikeThis. That way you can ensure that the analyzer 
> applies the stopword list before stemming 

would work, because I don't want to provide all the variants of the 
stopword list-- if I do this, only the one provided will be removed, 
correct?


Donna L. Gresh
Services Research, Mathematical Sciences Department
IBM T.J. Watson Research Center
(914) 945-2472
http://www.research.ibm.com/people/g/donnagresh
gresh@us.ibm.com


Mark Miller <markrmiller@gmail.com> wrote on 10/15/2007 10:37:22 AM:

> Sounds right to me.
> 
> The other option I think you have is to not use the MoreLikeThis 
> stopword functionality. Instead add the stopwords to the analyzer that 
> you pass to MoreLikeThis. That way you can ensure that the analyzer 
> applies the stopword list before stemming (The MoreLikeThis stopword 
> removal is implemented so that stopwords are removed after stemming). 
> Then you just have to add 'developer' to the stop list, and you can 
> forget about handling stemmed forms.
> 
> Your method should also work though.
> 
> - Mark
> 
> Donna L Gresh wrote:
> > Could those "in the know" comment on my current understanding of 
stemming 
> > and stopwords using the snowball analyzer?
> >
> > In my application, I am using the MoreLikeThis class to find similar 
> > documents to an input "text blob". There are words in the input text 
blob 
> > which are "uninteresting" for my application, so I create a list of 
these 
> > words. These words are "uninteresting" no matter what their tense or 
> > usage, for example, "develop", "developing", "developed", and 
"developer" 
> > are all uninteresting and I do not want them included in the search 
query 
> > created by the MoreLikeThis class.
> >
> > My index documents are stemmed using the Snowball analyzer. I do not 
use 
> > any stopwords when the documents are indexed (as I would like the 
choice 
> > of stopwords to be under user control at search time).
> >
> > I would like the user to be able to provide to the search application 
a 
> > list of "uninteresting" words, and for obvious reasons would like to 
force 
> > them to provide only, say, "developer" and have the application 
understand 
> > that all variants should be ignored (and I don't want to force them to 
try 
> > to guess what the stemmed version of "developer" is).
> >
> > My first try was to use MoreLikeThis with the Snowball analyzer and a 
> > simple list of unstemmed stopwords (MoreLikeThis.setAnalyzer and 
> > MoreLikeThis.setStopWords). However, it appears that the stopwords 
> > provided to the MoreLikeThis class are compared in an exact way to the 

> > token stream output by the Snowball filter (where the words have been 
> > stemmed), so "developer" will not match anything, and all variants 
pass 
> > through. Even if I provide the list of unstemmed stopwords to the 
snowball 
> > analyzer instead, they are used "as-is" with no stemming performed, so 

> > "developer" will not remove "developed". 
> >
> > Apparently the following is necessary for my application:
> > Construct a snowball analyzer with no stopwords. Use the unstemmed 
> > stopword list with the analyzer to construct a stemmed version of the 
set 
> > of stopwords. Use this set of stemmed stopwords as the stopwords input 
to 
> > the MoreLikeThis class (where the tokens are compared to the stemmed 
> > versions after been output from the Snowball analyzer).
> >
> > Is my understanding correct?
> >
> > Donna
> >
> > 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 

--=_alternative 0051F4C685257375_=--

From java-user-return-30628-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 15 15:47:25 2007
Return-Path: <java-user-return-30628-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28342 invoked from network); 15 Oct 2007 15:47:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 15 Oct 2007 15:47:25 -0000
Received: (qmail 36446 invoked by uid 500); 15 Oct 2007 15:47:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35772 invoked by uid 500); 15 Oct 2007 15:47:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35761 invoked by uid 99); 15 Oct 2007 15:47:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Oct 2007 08:47:06 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of markrmiller@gmail.com designates 209.85.162.179 as permitted sender)
Received: from [209.85.162.179] (HELO el-out-1112.google.com) (209.85.162.179)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Oct 2007 15:47:09 +0000
Received: by el-out-1112.google.com with SMTP id m34so337104ele
        for <java-user@lucene.apache.org>; Mon, 15 Oct 2007 08:46:47 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        bh=SEfbjX5n7YCm7SHe0TynH4HtX0/dM05xaGplG53EJIw=;
        b=oj2ioyDyx2c1/2S2UoLO/5ozBPZkc0/I1lvlp3TBmW9/AEeTk2n3OhaEl81AkjcHCZUV8YUasNHL3XcXfUvY7ZkOjzq7398LNdCNIujgTnaPWJye9jXQ2EbFmvpN0EARBsEVbQqtyBxUu51PJInX10JgrG2yQpV0xQ6T0HnUNz0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=s05i2q8jEh5W2Fp8yFlnm9rC+ADbI3qvGrFEtERnQHT2JsY/pXqHrZ61rl7JE94RMpycjE73ZOui4j4ULKB1kMBO7oGi95SnDtULlpHyvqURQA3QNCkAqzpwclO84AFSv4s5K+806q8jA/aKOQ1Co55W9PXFGTDi1JuTrJlriy8=
Received: by 10.142.240.9 with SMTP id n9mr1520570wfh.1192463206903;
        Mon, 15 Oct 2007 08:46:46 -0700 (PDT)
Received: from ?192.168.1.100? ( [69.124.234.183])
        by mx.google.com with ESMTPS id 12sm5035719wrl.2007.10.15.08.46.42
        (version=SSLv3 cipher=RC4-MD5);
        Mon, 15 Oct 2007 08:46:44 -0700 (PDT)
Message-ID: <47138B60.5030600@gmail.com>
Date: Mon, 15 Oct 2007 11:46:40 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: sanity check on how stemming, stopwords,  and snowball analyzer
 works together
References: <OFBB51DA39.5F063E4F-ON85257375.0051A91E-85257375.0051F56F@us.ibm.com>
In-Reply-To: <OFBB51DA39.5F063E4F-ON85257375.0051A91E-85257375.0051F56F@us.ibm.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

It depends on the order of the filters in your Analyzer. You would want 
to be sure you put the StopWord filter before the Stemming filter. The 
reason that the MoreLikeThis class does not do as you want is that first 
it applies the Analyzer (which stems) and THEN it applies its custom 
stop word removal. If you pass an Analyzer that removes stop words 
before stemming, you don't have to worry about the stemming at all. The 
stopword 'uninteresting' would be removed before the stemming even 
occurred in the analyzer. The tokens from the analyzer would then be fed 
to the MoreLikeThis stop word removal scheme...but you could just have 
that list be empty as its too late anyway...you would have already done 
your stop word removal with the Analyzer rather than with the 
MoreLikeThis stop word removal scheme...which can only occur after an 
Analyzer has been fully applied to the text. Frankly, I don't know why 
MoreLikeThis supports its own stopword list...you can always do it in a 
custom analyzer that you pass to MoreLikeThis, which gives you more 
control of when the stopword removal is applied (say before or after 
stemming). Sugar I guess.

- Mark

Donna L Gresh wrote:
> I wasn't sure this:
> Instead add the stopwords to the analyzer that 
>   
>> you pass to MoreLikeThis. That way you can ensure that the analyzer 
>> applies the stopword list before stemming 
>>     
>
> would work, because I don't want to provide all the variants of the 
> stopword list-- if I do this, only the one provided will be removed, 
> correct?
>
>
> Donna L. Gresh
> Services Research, Mathematical Sciences Department
> IBM T.J. Watson Research Center
> (914) 945-2472
> http://www.research.ibm.com/people/g/donnagresh
> gresh@us.ibm.com
>
>
> Mark Miller <markrmiller@gmail.com> wrote on 10/15/2007 10:37:22 AM:
>
>   
>> Sounds right to me.
>>
>> The other option I think you have is to not use the MoreLikeThis 
>> stopword functionality. Instead add the stopwords to the analyzer that 
>> you pass to MoreLikeThis. That way you can ensure that the analyzer 
>> applies the stopword list before stemming (The MoreLikeThis stopword 
>> removal is implemented so that stopwords are removed after stemming). 
>> Then you just have to add 'developer' to the stop list, and you can 
>> forget about handling stemmed forms.
>>
>> Your method should also work though.
>>
>> - Mark
>>
>> Donna L Gresh wrote:
>>     
>>> Could those "in the know" comment on my current understanding of 
>>>       
> stemming 
>   
>>> and stopwords using the snowball analyzer?
>>>
>>> In my application, I am using the MoreLikeThis class to find similar 
>>> documents to an input "text blob". There are words in the input text 
>>>       
> blob 
>   
>>> which are "uninteresting" for my application, so I create a list of 
>>>       
> these 
>   
>>> words. These words are "uninteresting" no matter what their tense or 
>>> usage, for example, "develop", "developing", "developed", and 
>>>       
> "developer" 
>   
>>> are all uninteresting and I do not want them included in the search 
>>>       
> query 
>   
>>> created by the MoreLikeThis class.
>>>
>>> My index documents are stemmed using the Snowball analyzer. I do not 
>>>       
> use 
>   
>>> any stopwords when the documents are indexed (as I would like the 
>>>       
> choice 
>   
>>> of stopwords to be under user control at search time).
>>>
>>> I would like the user to be able to provide to the search application 
>>>       
> a 
>   
>>> list of "uninteresting" words, and for obvious reasons would like to 
>>>       
> force 
>   
>>> them to provide only, say, "developer" and have the application 
>>>       
> understand 
>   
>>> that all variants should be ignored (and I don't want to force them to 
>>>       
> try 
>   
>>> to guess what the stemmed version of "developer" is).
>>>
>>> My first try was to use MoreLikeThis with the Snowball analyzer and a 
>>> simple list of unstemmed stopwords (MoreLikeThis.setAnalyzer and 
>>> MoreLikeThis.setStopWords). However, it appears that the stopwords 
>>> provided to the MoreLikeThis class are compared in an exact way to the 
>>>       
>
>   
>>> token stream output by the Snowball filter (where the words have been 
>>> stemmed), so "developer" will not match anything, and all variants 
>>>       
> pass 
>   
>>> through. Even if I provide the list of unstemmed stopwords to the 
>>>       
> snowball 
>   
>>> analyzer instead, they are used "as-is" with no stemming performed, so 
>>>       
>
>   
>>> "developer" will not remove "developed". 
>>>
>>> Apparently the following is necessary for my application:
>>> Construct a snowball analyzer with no stopwords. Use the unstemmed 
>>> stopword list with the analyzer to construct a stemmed version of the 
>>>       
> set 
>   
>>> of stopwords. Use this set of stemmed stopwords as the stopwords input 
>>>       
> to 
>   
>>> the MoreLikeThis class (where the tokens are compared to the stemmed 
>>> versions after been output from the Snowball analyzer).
>>>
>>> Is my understanding correct?
>>>
>>> Donna
>>>
>>>
>>>       
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>     
>
>   

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30629-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 16 06:41:20 2007
Return-Path: <java-user-return-30629-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19553 invoked from network); 16 Oct 2007 06:41:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 16 Oct 2007 06:41:20 -0000
Received: (qmail 40330 invoked by uid 500); 16 Oct 2007 06:41:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40299 invoked by uid 500); 16 Oct 2007 06:41:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40288 invoked by uid 99); 16 Oct 2007 06:41:01 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Oct 2007 23:41:01 -0700
X-ASF-Spam-Status: No, hits=2.6 required=10.0
	tests=DNS_FROM_OPENWHOIS,SPF_HELO_PASS,SPF_PASS,WHOIS_MYPRIVREG
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lists@nabble.com designates 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 Oct 2007 06:41:04 +0000
Received: from isper.nabble.com ([192.168.236.156])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <lists@nabble.com>)
	id 1Ihg6d-0000zN-JE
	for java-user@lucene.apache.org; Mon, 15 Oct 2007 23:40:43 -0700
Message-ID: <13227659.post@talk.nabble.com>
Date: Mon, 15 Oct 2007 23:40:43 -0700 (PDT)
From: mic1099 <mic1099@gmail.com>
To: java-user@lucene.apache.org
Subject: getting summary from lucene index
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: mic1099@gmail.com
X-Virus-Checked: Checked by ClamAV on apache.org


I used nutch to index my aplication. I wanted to handle indexing my self so i
used lucene api to index.
Everything went ok except of getting summary. Under the term summary i mean
text around searched tokens
like in google first you have a link and under the link is summary If anyone
could help me please do so.
-- 
View this message in context: http://www.nabble.com/getting-summary-from-lucene-index-tf4632296.html#a13227659
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30630-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 16 06:55:37 2007
Return-Path: <java-user-return-30630-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22542 invoked from network); 16 Oct 2007 06:55:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 16 Oct 2007 06:55:36 -0000
Received: (qmail 55005 invoked by uid 500); 16 Oct 2007 06:55:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54969 invoked by uid 500); 16 Oct 2007 06:55:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54958 invoked by uid 99); 16 Oct 2007 06:55:18 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Oct 2007 23:55:18 -0700
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS,WHOIS_MYPRIVREG
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lukas.vlcek@gmail.com designates 64.233.166.179 as permitted sender)
Received: from [64.233.166.179] (HELO py-out-1112.google.com) (64.233.166.179)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 Oct 2007 06:55:19 +0000
Received: by py-out-1112.google.com with SMTP id d32so6679837pye
        for <java-user@lucene.apache.org>; Mon, 15 Oct 2007 23:54:57 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=08GxjFqJ9JgUx+/gEbJCFx0DUFjGW3ANRg/l6KYC/f4=;
        b=BT/EsGf8pc8+5VRc2p1WFBbd8bXqHCBMPuYEUgGHckYuFIKZX8IGbKHXqmH+yBUdFZHnEiYDwdIVZWD+7uzFc1jJOpenlkcPuioKwxFreKDnk6HiL2E3sRC9Y3d0N00kiFD5GplLTrWvI7K0gPMwGZ3IcKUCd0tcHENdRTKf8ls=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=kIJvuM3wKMr0IQHi7j6MDPFzRO2rflgqL8EVrVuRmVsjSS7P9f5V3q6rwQt32HG78Y3/G/MUgMD5BbXxLkJlqBWAPYy+hGiaKDXO3pbsJ8m6W84JVcuDVQ4KdK/r3JkDAN3JMJr0ZjIKR5h0LEoDsQ1zqoNN4xwZfrleY3Pk6WU=
Received: by 10.141.196.13 with SMTP id y13mr3247562rvp.1192517695505;
        Mon, 15 Oct 2007 23:54:55 -0700 (PDT)
Received: by 10.141.210.7 with HTTP; Mon, 15 Oct 2007 23:54:55 -0700 (PDT)
Message-ID: <52c3ddca0710152354i459a7afs41d2f06e4b543d15@mail.gmail.com>
Date: Tue, 16 Oct 2007 08:54:55 +0200
From: "Lukas Vlcek" <lukas.vlcek@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: getting summary from lucene index
In-Reply-To: <13227659.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_41513_23901601.1192517695505"
References: <13227659.post@talk.nabble.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_41513_23901601.1192517695505
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi,
See highlighter package in Lucene/contrib folder.
Regards,
Lukas

On 10/16/07, mic1099 <mic1099@gmail.com> wrote:
>
>
> I used nutch to index my aplication. I wanted to handle indexing my self
> so i
> used lucene api to index.
> Everything went ok except of getting summary. Under the term summary i
> mean
> text around searched tokens
> like in google first you have a link and under the link is summary If
> anyone
> could help me please do so.
> --
> View this message in context:
> http://www.nabble.com/getting-summary-from-lucene-index-tf4632296.html#a13227659
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


-- 
http://blog.lukas-vlcek.com/

------=_Part_41513_23901601.1192517695505--

From java-user-return-30631-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 16 11:08:11 2007
Return-Path: <java-user-return-30631-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58753 invoked from network); 16 Oct 2007 11:08:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 16 Oct 2007 11:08:11 -0000
Received: (qmail 22977 invoked by uid 500); 16 Oct 2007 11:07:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22940 invoked by uid 500); 16 Oct 2007 11:07:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22929 invoked by uid 99); 16 Oct 2007 11:07:51 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 Oct 2007 04:07:51 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of sand.chawla@gmail.com designates 64.233.166.182 as permitted sender)
Received: from [64.233.166.182] (HELO py-out-1112.google.com) (64.233.166.182)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 Oct 2007 11:07:55 +0000
Received: by py-out-1112.google.com with SMTP id d32so6840754pye
        for <java-user@lucene.apache.org>; Tue, 16 Oct 2007 04:07:34 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        bh=ZMX8UjT8AzjyhjnNlsD5EmH4+YPUHz64HhvhoxRMMQs=;
        b=VZZc/yY3ENSIdiXA7z4zAIetf5zjXrcVt76n+Y5pBWpmKPX17dahoE5AXbF0i88wS9+TvWvyJk/mbWL0xlzvUk4cTtObF4v3EZYHMyfv3bLssgmJQYMb8U+cMt7HqLMw/bVvfwpIfLGgtJrZ+bQvmgbjbSNNaf1d98T2o0qUTOI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=nCsdwnNiG24htapOZOIHu0JChZdKml79COhJFzC9NF0bk1pRK1YgsghSdAbSAEOHzeCtGuDJU97D5eAWeH7HHvv2PCUakKTgT9aTVNxOSBxjcQGr3K3Ba/5/+X3HsmDn+IU2SNFJ8cexOhJeuUNGU/kMTxJa9qvITLYj93zbYP8=
Received: by 10.114.124.1 with SMTP id w1mr8264501wac.1192532853487;
        Tue, 16 Oct 2007 04:07:33 -0700 (PDT)
Received: by 10.114.154.11 with HTTP; Tue, 16 Oct 2007 04:07:33 -0700 (PDT)
Message-ID: <a70e4c2b0710160407x4acecc1cod8439605c89039c2@mail.gmail.com>
Date: Tue, 16 Oct 2007 16:37:33 +0530
From: "sandeep chawla" <sand.chawla@gmail.com>
To: java-user@lucene.apache.org
Subject: Number of terms
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_37371_22751987.1192532853476"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_37371_22751987.1192532853476
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi,

While calculating the lengthnorm- there is a precision-loss.
http://lucene.apache.org/java/docs/scoring.html#Score%20Boosting
How to avoid the precision loss?

Thanks
Sandeep

-- 
SANDEEP CHAWLA
House No- 23
10th main
BTM 1st  Stage
Bangalore Mobile: 91-9986150603

------=_Part_37371_22751987.1192532853476--

From java-user-return-30632-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 16 11:38:37 2007
Return-Path: <java-user-return-30632-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74472 invoked from network); 16 Oct 2007 11:38:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 16 Oct 2007 11:38:37 -0000
Received: (qmail 67557 invoked by uid 500); 16 Oct 2007 11:38:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67522 invoked by uid 500); 16 Oct 2007 11:38:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67510 invoked by uid 99); 16 Oct 2007 11:38:19 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 Oct 2007 04:38:19 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 80.76.149.213 is neither permitted nor denied by domain of karl.wettin@gmail.com)
Received: from [80.76.149.213] (HELO ch-smtp02.sth.basefarm.net) (80.76.149.213)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 Oct 2007 11:38:22 +0000
Received: from c83-249-118-113.bredband.comhem.se ([83.249.118.113]:54905 helo=[192.168.1.101])
	by ch-smtp02.sth.basefarm.net with esmtp (Exim 4.68)
	(envelope-from <karl.wettin@gmail.com>)
	id 1IhkkL-0001p5-7V
	for java-user@lucene.apache.org; Tue, 16 Oct 2007 13:38:01 +0200
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <a70e4c2b0710160407x4acecc1cod8439605c89039c2@mail.gmail.com>
References: <a70e4c2b0710160407x4acecc1cod8439605c89039c2@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <0798D53C-B349-44C6-9E72-71CB2D765392@gmail.com>
Content-Transfer-Encoding: 7bit
From: Karl Wettin <karl.wettin@gmail.com>
Subject: Re: Number of terms
Date: Tue, 16 Oct 2007 13:37:28 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Originating-IP: 83.249.118.113
X-Scan-Result: No virus found in message 1IhkkL-0001p5-7V.
X-Scan-Signature: ch-smtp02.sth.basefarm.net 1IhkkL-0001p5-7V 29767b6a94342558a863d2d6acbfcdeb
X-Virus-Checked: Checked by ClamAV on apache.org


16 okt 2007 kl. 13.07 skrev sandeep chawla:

> While calculating the lengthnorm- there is a precision-loss.
> http://lucene.apache.org/java/docs/scoring.html#Score%20Boosting
> How to avoid the precision loss?

You replace the use of bytes to floats when storing the norms  
(DocumentsWriter) in the file and accessing them via the IndexReader,  
plus all aggregated use of the use of byte-norms from the  
IndexReader. Search for use of Similarity.en/deccodeNorm()


-- 
karl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30633-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 16 13:32:32 2007
Return-Path: <java-user-return-30633-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23599 invoked from network); 16 Oct 2007 13:32:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 16 Oct 2007 13:32:32 -0000
Received: (qmail 18317 invoked by uid 500); 16 Oct 2007 13:32:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18295 invoked by uid 500); 16 Oct 2007 13:32:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18284 invoked by uid 99); 16 Oct 2007 13:32:09 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 Oct 2007 06:32:09 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of sand.chawla@gmail.com designates 64.233.162.236 as permitted sender)
Received: from [64.233.162.236] (HELO nz-out-0506.google.com) (64.233.162.236)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 Oct 2007 13:32:13 +0000
Received: by nz-out-0506.google.com with SMTP id i28so1112432nzi
        for <java-user@lucene.apache.org>; Tue, 16 Oct 2007 06:31:53 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=xjyBCG7cO/FPe/4L5S+i1faxnUFplRA0//iMGiaNFXE=;
        b=ocjdiWsbJKuyT8FCaUafvtycD8rGZE+oO1+67J1xhsIm1r99Tva6Yr+QtHwr/qa5tszwL3F/4kYcRR91tO4EJu6vkI4f+BYe7eF7J1RsKcPAMUjsG5HNwu1f+qu+6xFCC68+PGnCb4II6vIs+cXIj+ewlX8Q4HV7qymVsYiEsls=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=nmWYQJeYRf+w5qEQp1bsRJUOcFLI7Rvpqe4f+BlJ50sdAEVmpB4Sp6gV8YtLrOoI7BptPTMyIEghe5g9XOP6Cv81Yjfg47CbFgriMAZzlLCq+0ZdpLmLah0xYstZIOVsCue6wg/VgnsFo+rFfH1ozwKERrCksjrofgGfxv6+Oeg=
Received: by 10.114.123.1 with SMTP id v1mr191002wac.1192541511962;
        Tue, 16 Oct 2007 06:31:51 -0700 (PDT)
Received: by 10.114.154.11 with HTTP; Tue, 16 Oct 2007 06:31:51 -0700 (PDT)
Message-ID: <a70e4c2b0710160631m4e78d8cpa869004d80d26ce0@mail.gmail.com>
Date: Tue, 16 Oct 2007 19:01:51 +0530
From: "sandeep chawla" <sand.chawla@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Number of terms
In-Reply-To: <0798D53C-B349-44C6-9E72-71CB2D765392@gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_37977_4928405.1192541511955"
References: <a70e4c2b0710160407x4acecc1cod8439605c89039c2@mail.gmail.com>
	 <0798D53C-B349-44C6-9E72-71CB2D765392@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_37977_4928405.1192541511955
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Thanks a lot

but one question- IndexOutput  class doesn't  have a method writeFloat ?
How do u write float to index..

shall i create  public method writeFloat as

public void writeFloat(float f) {
    writeByte((byte)(f >>32);
     writeByte((byte)(f >>16);
    writeByte((byte)(f >>8);
    writeByte((byte)(f );
}

~sandeep

On 16/10/2007, Karl Wettin <karl.wettin@gmail.com> wrote:
>
>
> 16 okt 2007 kl. 13.07 skrev sandeep chawla:
>
> > While calculating the lengthnorm- there is a precision-loss.
> > http://lucene.apache.org/java/docs/scoring.html#Score%20Boosting
> > How to avoid the precision loss?
>
> You replace the use of bytes to floats when storing the norms
> (DocumentsWriter) in the file and accessing them via the IndexReader,
> plus all aggregated use of the use of byte-norms from the
> IndexReader. Search for use of Similarity.en/deccodeNorm()
>
>
> --
> karl
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


-- 
SANDEEP CHAWLA
House No- 23
10th main
BTM 1st  Stage
Bangalore Mobile: 91-9986150603

------=_Part_37977_4928405.1192541511955--

From java-user-return-30634-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 16 13:36:00 2007
Return-Path: <java-user-return-30634-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24194 invoked from network); 16 Oct 2007 13:36:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 16 Oct 2007 13:36:00 -0000
Received: (qmail 24238 invoked by uid 500); 16 Oct 2007 13:35:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24208 invoked by uid 500); 16 Oct 2007 13:35:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24197 invoked by uid 99); 16 Oct 2007 13:35:37 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 Oct 2007 06:35:37 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erickerickson@gmail.com designates 209.85.128.187 as permitted sender)
Received: from [209.85.128.187] (HELO fk-out-0910.google.com) (209.85.128.187)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 Oct 2007 13:35:41 +0000
Received: by fk-out-0910.google.com with SMTP id z23so1833921fkz
        for <java-user@lucene.apache.org>; Tue, 16 Oct 2007 06:35:19 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=gPlf+Ymbp4ZrXx3tQvmeIAuaQkKMXEAAXUpeB8fh4AU=;
        b=Cqm5xhpuXcbA0ZpqnCS1gsK+NWcyUFt3aYTTju2mxLQdcPyGcPBYSrnfeHBabJtRouNRrkjaJIFG+GlNJPAUUEXYp0DByeh2Rqyy1Ak38NCmkkdzqPSsIEVEAwEybauOCU0l2/JuEn8sB0yKG/OQNoP+3c1EgbBQ1IBgx2qX72Y=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=dgGPiPFU+C8l5ww5GGXHOHXga5RaFYv50X6o45NNTu/1IqoU2yfTvLqv2BK2L9iSHg0pZO7Vo2FZV1XS7lXcAoTizVn1Yz2Yf+SgA71i/4EubgZh5WpbcdUbphyYjNCC4bhK1VM8u0ZYFu2zAuODmjRu4ukWzcmdxSNkM4Nbz+A=
Received: by 10.86.81.8 with SMTP id e8mr5910330fgb.1192541718917;
        Tue, 16 Oct 2007 06:35:18 -0700 (PDT)
Received: by 10.86.87.10 with HTTP; Tue, 16 Oct 2007 06:35:18 -0700 (PDT)
Message-ID: <359a92830710160635s50078d4eqd637ed3553e982b6@mail.gmail.com>
Date: Tue, 16 Oct 2007 09:35:18 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene ID and scoring.
In-Reply-To: <a70e4c2b0710110605v44675040kb538653696d8d50a@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_17141_5617823.1192541718900"
References: <a70e4c2b0710110605v44675040kb538653696d8d50a@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_17141_5617823.1192541718900
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Can't answer the second question, but the answer to the first is "no".
Not only are Lucene IDs internally generated, but they change when
you  delete/optimize.

Would caching filters help? Especially if you pre-computed them
at, say, warm up?

What problem are you trying to solve anyway? A statement of the
problem might get you better answers.....

Best
Erick


On 10/11/07, sandeep chawla <sand.chawla@gmail.com> wrote:
>
> Hi All,
>
> I have two questions here
>
> 1- Lucene generates id for every document it indexes and it does in
> order..0,1,2,3.....n .Can i make lucene use my id ( my id for a document
> ..say randomly generated unique id for a document) as lucene id.
>
> The reason i am asking this question because lucene filter uses lucene id
> (
> to create  BitSet ) and i dont wanna keep multiple ids .
>
> 2- Is there any way to change lucene's scoring formula without changing
> the
> lucene core.
> I know, there is one way of doing this is to extend the similarity and
> thats
> really simple but it can help only in formulae which has tf and idf in
> multiplication.
>
> for example a formula like  tf(power n) * idf ( power m) can be easily
> implemented using similarity
>
> but what about the formula tf(power n)  + idf(power m )
>
> is there a simple way to implement the above without changing lucene core
> (
> i know one way to do is too change the TermScorer and hardcore the + sign
> but that's too naive :)
>
> Thanks a lot ...
> Sandeep
>
> --
> SANDEEP CHAWLA
> House No- 23
> 10th main
> BTM 1st  Stage
> Bangalore Mobile: 91-9986150603
>

------=_Part_17141_5617823.1192541718900--

From java-user-return-30635-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 16 15:37:33 2007
Return-Path: <java-user-return-30635-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58033 invoked from network); 16 Oct 2007 15:37:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 16 Oct 2007 15:37:33 -0000
Received: (qmail 25976 invoked by uid 500); 16 Oct 2007 15:37:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25939 invoked by uid 500); 16 Oct 2007 15:37:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25928 invoked by uid 99); 16 Oct 2007 15:37:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 Oct 2007 08:37:14 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [62.213.161.134] (HELO pmx.sirma.bg) (62.213.161.134)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 Oct 2007 15:37:18 +0000
Received: from localhost (localhost [127.0.0.1])
	by pmx.sirma.bg (Sirma mail system) with ESMTP id 46BEB2446FA
	for <java-user@lucene.apache.org>; Tue, 16 Oct 2007 18:36:54 +0300 (EEST)
X-Virus-Scanned: amavisd-new at sirma.bg
Received: from pmx.sirma.bg ([127.0.0.1])
	by localhost (pmx.sirma.bg [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id cyJAqA-c+sf9 for <java-user@lucene.apache.org>;
	Tue, 16 Oct 2007 18:36:54 +0300 (EEST)
Received: from [192.168.128.140] (ivasilev.sirma.int [192.168.128.140])
	by pmx.sirma.bg (Sirma mail system) with ESMTP id 1F1A32446BC
	for <java-user@lucene.apache.org>; Tue, 16 Oct 2007 18:36:54 +0300 (EEST)
Message-ID: <4714DA94.9070307@sirma.bg>
Date: Tue, 16 Oct 2007 18:36:52 +0300
From: Ivan Vasilev <ivasilev@sirma.bg>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: LUCENE MAIL LIST <java-user@lucene.apache.org>
Subject: Chinese test resources wanted
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Guys,

We just implemented multi language support in our application. We tested 
it with some files which content is copy/pasted from some Chinese sites 
and everything seems to work correctly, but we need to test it more 
thoroughly.
Any suggestions from were to get some testing resources and some advises 
on using them are welcomed :)
Actually if anyone has suggestions about any CJK lang testing is welcomed :)

Thanks in advance,
Ivan

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30636-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 16 19:29:18 2007
Return-Path: <java-user-return-30636-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28629 invoked from network); 16 Oct 2007 19:29:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 16 Oct 2007 19:29:17 -0000
Received: (qmail 62185 invoked by uid 500); 16 Oct 2007 19:28:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62113 invoked by uid 500); 16 Oct 2007 19:28:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61994 invoked by uid 99); 16 Oct 2007 19:28:58 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 Oct 2007 12:28:58 -0700
X-ASF-Spam-Status: No, hits=-4.0 required=10.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of DORONC@il.ibm.com designates 195.212.29.151 as permitted sender)
Received: from [195.212.29.151] (HELO mtagate2.de.ibm.com) (195.212.29.151)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 Oct 2007 19:28:52 +0000
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate2.de.ibm.com (8.13.8/8.13.8) with ESMTP id l9GJST0T173162
	for <java-user@lucene.apache.org>; Tue, 16 Oct 2007 19:28:29 GMT
Received: from d12av02.megacenter.de.ibm.com (d12av02.megacenter.de.ibm.com [9.149.165.228])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.8/8.13.8/NCO v8.5) with ESMTP id l9GJST9W1728594
	for <java-user@lucene.apache.org>; Tue, 16 Oct 2007 21:28:29 +0200
Received: from d12av02.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l9GJST4X001130
	for <java-user@lucene.apache.org>; Tue, 16 Oct 2007 21:28:29 +0200
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l9GJSTef001127
	for <java-user@lucene.apache.org>; Tue, 16 Oct 2007 21:28:29 +0200
In-Reply-To: <52c3ddca0710122353u36735e0bobd993c27552538b7@mail.gmail.com>
Subject: Re: Customized search with Lucene?
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
Message-ID: <OF454F2EAF.236D33E6-ONC2257376.0069C558-C2257376.006AA4ED@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Tue, 16 Oct 2007 21:24:50 +0200
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.2HF71 | November 3, 2006) at
 16/10/2007 21:28:28
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

Where and how do you store this type of info:
  If user U1 search for query Q7 boost doc D5 by B17
  If user U2 search for query Q3 boost doc D15 by B2
Seems lots of info, and it must be persistent.

Perhaps o.a.l.search.function can help - assuming you
have this info available at search time, and can use
it to create a ValueSource.

Doron

"Lukas Vlcek" <lukas.vlcek@gmail.com> wrote on 13/10/2007 08:53:47:

> Hi,
>
> I am looking for an easy (~preferred) way of implementing
> customized search
> with Lucene. What I mean by this is changing order of returned hits
> according to user profile. In simple words I would like to be
> able to tweak
> order of documents in Hits collection before it is presented to
> the client.
>
> Example: if user A issues a query "lucene" then he/she tends toclick the
> third returned link (document #123). I would like to "boost"
> document #123
> for this user so the next time he/she issues the query "lucene"again the
> hit for the document #123 will be in the first or second
> position (providing
> that the index hasn't been modified).
>
> Looking at the Searchable<http://lucene.zones.apache.org:
> 8080/hudson/job/Lucene-
> Nightly/javadoc/org/apache/lucene/search/Searchable.html>interface
> it does not seem it supports this kind of flexibility. I don't
> want to use filter<http://lucene.zones.apache.org:
> 8080/hudson/job/Lucene-
> Nightly/javadoc/org/apache/lucene/search/Filter.html>of
> sort<http://lucene.zones.apache.org:8080/hudson/job/Lucene-
> Nightly/javadoc/org/apache/lucene/search/Sort.html>(they
> are not appropriate for my goal).
>
> Custom scoring<http://lucene.zones.apache.org:
> 8080/hudson/job/Lucene-
> Nightly/javadoc/org/apache/lucene/search/package-summary.html#scoring
> >seems
> to be the only option left. At the first glance it seems quite
> complex; moreover, I am not sure it really allows me to achieve
> my goal, but
> if there is no other way then I have to try it...
> Any suggestions?
>
> Regards,
> Lukas
>
> --
> http://blog.lukas-vlcek.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30637-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 16 20:15:10 2007
Return-Path: <java-user-return-30637-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71250 invoked from network); 16 Oct 2007 20:15:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 16 Oct 2007 20:15:09 -0000
Received: (qmail 29216 invoked by uid 500); 16 Oct 2007 20:14:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29193 invoked by uid 500); 16 Oct 2007 20:14:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29182 invoked by uid 99); 16 Oct 2007 20:14:50 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 Oct 2007 13:14:50 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jaejoo@gmail.com designates 64.233.162.231 as permitted sender)
Received: from [64.233.162.231] (HELO nz-out-0506.google.com) (64.233.162.231)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 Oct 2007 20:14:54 +0000
Received: by nz-out-0506.google.com with SMTP id i28so1205474nzi
        for <java-user@lucene.apache.org>; Tue, 16 Oct 2007 13:14:33 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        bh=Walxc1hUISBuM2JyAPAmRCLNHEF3/zGWOf5ZFUyqbz4=;
        b=soHL/1JVNI4VQkF2RL1qFwYvG13eKO5CP5qqKXC7cqDhVXlE8qZ/Re64xOIfVA/0+AU16q9qd8vhvpuKsm+u9JvKyd/lNgBQafgalOphLxzvk9cJMlgBWtfGXkZs9x5JCu1zvUqzKgCg5HKaz8q8Fglbkt0vpWDbYx+SMPxbg/U=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=esTU8rjUElFILGVvQoKTl0GjXgoq+VwdxwNUbRQhY2cov9zUNQnAb5o1Goys7idaXPA8CprE610fsX/4WMryPl+GfQmix5eHcBGOE9yInt55O6TDmQxwQ4x8oRLqRR01LVwsMnpK9gEtDTxD+JR0lAeTo4e+vgD5VUrGhWWkDWg=
Received: by 10.142.178.13 with SMTP id a13mr2330053wff.1192565672534;
        Tue, 16 Oct 2007 13:14:32 -0700 (PDT)
Received: by 10.142.90.13 with HTTP; Tue, 16 Oct 2007 13:14:32 -0700 (PDT)
Message-ID: <efb141ed0710161314l1881dc2dt9f932857cd3020be@mail.gmail.com>
Date: Tue, 16 Oct 2007 16:14:32 -0400
From: "Jae Joo" <jaejoo@gmail.com>
To: java-user@lucene.apache.org
Subject: Lucene
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_41292_11602257.1192565672522"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_41292_11602257.1192565672522
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi,

Does Lucene have the function to return top 5 most frequency keywords in
the article?

Thanks,

Jae

------=_Part_41292_11602257.1192565672522--

From java-user-return-30638-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 16 20:41:39 2007
Return-Path: <java-user-return-30638-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91654 invoked from network); 16 Oct 2007 20:41:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 16 Oct 2007 20:41:39 -0000
Received: (qmail 74335 invoked by uid 500); 16 Oct 2007 20:41:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74300 invoked by uid 500); 16 Oct 2007 20:41:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74289 invoked by uid 99); 16 Oct 2007 20:41:20 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 Oct 2007 13:41:20 -0700
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [208.97.132.177] (HELO spunkymail-a10.g.dreamhost.com) (208.97.132.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 Oct 2007 20:41:21 +0000
Received: from [192.168.0.3] (adsl-074-229-189-244.sip.rmo.bellsouth.net [74.229.189.244])
	by spunkymail-a10.g.dreamhost.com (Postfix) with ESMTP id CEB8C163642
	for <java-user@lucene.apache.org>; Tue, 16 Oct 2007 13:40:29 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <efb141ed0710161314l1881dc2dt9f932857cd3020be@mail.gmail.com>
References: <efb141ed0710161314l1881dc2dt9f932857cd3020be@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <8D7E9A66-29FC-4833-BB3F-0B1296D2C962@apache.org>
Content-Transfer-Encoding: 7bit
From: Grant Ingersoll <gsingers@apache.org>
Subject: Re: Lucene
Date: Tue, 16 Oct 2007 16:40:17 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org

Yes, with a little bit of work, as there is nothing out of the box  
for it.

If you store term vectors (or re-analyze the document) you can use  
the sample code from my ApacheCon 2005 talk (http://www.cnlp.org/ 
apachecon2005/, which also covers how to use TermVectors) OR you can  
try implementing the new TermVectorMapper functionality in the trunk  
version of Lucene.

Cheers,
Grant

On Oct 16, 2007, at 4:14 PM, Jae Joo wrote:

> Hi,
>
> Does Lucene have the function to return top 5 most frequency  
> keywords in
> the article?
>
> Thanks,
>
> Jae

--------------------------
Grant Ingersoll
http://lucene.grantingersoll.com

Lucene Boot Camp Training:
ApacheCon Atlanta, Nov. 12, 2007.  Sign up now!  http:// 
www.apachecon.com

Lucene Helpful Hints:
http://wiki.apache.org/lucene-java/BasicsOfPerformance
http://wiki.apache.org/lucene-java/LuceneFAQ



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30639-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 16 23:09:38 2007
Return-Path: <java-user-return-30639-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61754 invoked from network); 16 Oct 2007 23:09:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 16 Oct 2007 23:09:38 -0000
Received: (qmail 22065 invoked by uid 500); 16 Oct 2007 23:09:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22029 invoked by uid 500); 16 Oct 2007 23:09:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22018 invoked by uid 99); 16 Oct 2007 23:09:19 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 Oct 2007 16:09:19 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [192.18.43.133] (HELO sca-es-mail-2.sun.com) (192.18.43.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 Oct 2007 23:09:20 +0000
Received: from fe-sfbay-10.sun.com ([192.18.43.129])
	by sca-es-mail-2.sun.com (8.13.7+Sun/8.12.9) with ESMTP id l9GN8ovh005451
	for <java-user@lucene.apache.org>; Tue, 16 Oct 2007 16:08:50 -0700 (PDT)
Received: from conversion-daemon.fe-sfbay-10.sun.com by fe-sfbay-10.sun.com
 (Sun Java System Messaging Server 6.2-8.04 (built Feb 28 2007))
 id <0JQ100I011KF7A00@fe-sfbay-10.sun.com>
 (original mail from Durga.Tirunagari@Sun.COM) for java-user@lucene.apache.org;
 Tue, 16 Oct 2007 16:08:50 -0700 (PDT)
Received: from [192.18.126.240] by fe-sfbay-10.sun.com
 (Sun Java System Messaging Server 6.2-8.04 (built Feb 28 2007))
 with ESMTPSA id <0JQ1005WD1MPX4C0@fe-sfbay-10.sun.com> for
 java-user@lucene.apache.org; Tue, 16 Oct 2007 16:08:50 -0700 (PDT)
Date: Tue, 16 Oct 2007 16:08:57 -0700
From: Durga.Tirunagari@Sun.COM
Subject: Fieldable and Document class.
In-reply-to: <8D7E9A66-29FC-4833-BB3F-0B1296D2C962@apache.org>
Sender: Durga.Tirunagari@Sun.COM
To: java-user@lucene.apache.org
Message-id: <47154489.2080306@Sun.COM>
MIME-version: 1.0
Content-type: multipart/alternative;
 boundary="Boundary_(ID_dWyF6RAhf8et0CCsUBa6Ig)"
X-Accept-Language: en-us, en
References: <efb141ed0710161314l1881dc2dt9f932857cd3020be@mail.gmail.com>
 <8D7E9A66-29FC-4833-BB3F-0B1296D2C962@apache.org>
User-Agent: Mozilla/5.0 (X11; U; SunOS sun4u; en-US; rv:1.7) Gecko/20060629
X-Virus-Checked: Checked by ClamAV on apache.org

--Boundary_(ID_dWyF6RAhf8et0CCsUBa6Ig)
Content-type: text/plain; format=flowed; charset=us-ascii
Content-transfer-encoding: 7BIT

	HI Folks,

        How to address the a change in the name of the file (or) the
    location of a file that was indexed.?. Is re-indexing this file the
    only way out ?.
    Since most of our files, we are planning on indexing are pretty dynamic.

    Thank you
    _Durga




--Boundary_(ID_dWyF6RAhf8et0CCsUBa6Ig)--

From java-user-return-30640-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 16 23:27:12 2007
Return-Path: <java-user-return-30640-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68472 invoked from network); 16 Oct 2007 23:27:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 16 Oct 2007 23:27:12 -0000
Received: (qmail 45467 invoked by uid 500); 16 Oct 2007 23:26:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45426 invoked by uid 500); 16 Oct 2007 23:26:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45415 invoked by uid 99); 16 Oct 2007 23:26:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 Oct 2007 16:26:54 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erickerickson@gmail.com designates 64.233.182.191 as permitted sender)
Received: from [64.233.182.191] (HELO nf-out-0910.google.com) (64.233.182.191)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 Oct 2007 23:26:58 +0000
Received: by nf-out-0910.google.com with SMTP id d3so1665124nfc
        for <java-user@lucene.apache.org>; Tue, 16 Oct 2007 16:26:37 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=MOn/jPhi7L8o1f+vp9J2rRrQwi0qJuMCAi+YSWgXTjI=;
        b=eMxLWMUCwK4AlaD/4tlqrH3hUvHHTN4VpImZCMDG9eQpG0OxbHM8x7pUsgYT9q2lj4wl+pz+ge4EYXVUGS9i7WL4M0d9yjtR6lJTy2G1jFYl5CwbM8Ao1xSrww7eCLs19TXRoAGjWa18KuIrY21NWOTSSa3IScOtbUqmvLWbfHQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=NWoIc0zUjkcaYA/WhEaoofEjaIzKOcUz0exB/MD4bvnHCU3kcLSn08imrg8NdAwaCTeXWPMrucAsAKTo7TB0pICL0qOIhBVK8geAwzgd6WlwIRmrTOWuU9iiD46f1Pgdl92BEr72bfV64F5pF8MNDbZA9XJeZYugDqYObPqr/Ro=
Received: by 10.82.183.19 with SMTP id g19mr194134buf.1192577196683;
        Tue, 16 Oct 2007 16:26:36 -0700 (PDT)
Received: by 10.82.167.3 with HTTP; Tue, 16 Oct 2007 16:26:36 -0700 (PDT)
Message-ID: <359a92830710161626p564232f5k2ad6c6f52fca332f@mail.gmail.com>
Date: Tue, 16 Oct 2007 19:26:36 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Fieldable and Document class.
In-Reply-To: <47154489.2080306@Sun.COM>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_41679_20954700.1192577196679"
References: <efb141ed0710161314l1881dc2dt9f932857cd3020be@mail.gmail.com>
	 <8D7E9A66-29FC-4833-BB3F-0B1296D2C962@apache.org>
	 <47154489.2080306@Sun.COM>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_41679_20954700.1192577196679
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

There is no "update in place" functionality in Lucene. You can use
IndexModifier
which (under the covers) does a delete/add.

How dynamic is "pretty dynamic"? updating one doc/hour? Updating
1,000 docs a second?

Best
Erick

On 10/16/07, Durga.Tirunagari@sun.com <Durga.Tirunagari@sun.com> wrote:
>
>         HI Folks,
>
>         How to address the a change in the name of the file (or) the
>     location of a file that was indexed.?. Is re-indexing this file the
>     only way out ?.
>     Since most of our files, we are planning on indexing are pretty
> dynamic.
>
>     Thank you
>     _Durga
>
>
>
>

------=_Part_41679_20954700.1192577196679--

From java-user-return-30641-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 17 01:20:48 2007
Return-Path: <java-user-return-30641-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21022 invoked from network); 17 Oct 2007 01:20:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 17 Oct 2007 01:20:48 -0000
Received: (qmail 12677 invoked by uid 500); 17 Oct 2007 01:20:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12642 invoked by uid 500); 17 Oct 2007 01:20:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12631 invoked by uid 99); 17 Oct 2007 01:20:29 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 Oct 2007 18:20:29 -0700
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [208.97.132.83] (HELO spunkymail-a19.g.dreamhost.com) (208.97.132.83)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 Oct 2007 01:20:30 +0000
Received: from [192.168.0.3] (adsl-074-229-189-244.sip.rmo.bellsouth.net [74.229.189.244])
	by spunkymail-a19.g.dreamhost.com (Postfix) with ESMTP id 7D48C11BB2
	for <java-user@lucene.apache.org>; Tue, 16 Oct 2007 18:19:37 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
Content-Transfer-Encoding: 7bit
Message-Id: <1BFAE965-4558-40EB-8DD0-CCDDC975078E@apache.org>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
To: java-user@lucene.apache.org
From: Grant Ingersoll <gsingers@apache.org>
Subject: ApacheCon
Date: Tue, 16 Oct 2007 21:19:26 -0400
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org

If you are planning on attending ApacheCon in Atlanta, let us know if  
you are interested in attending the Birds of a Feather meeting by  
expressing that interest at: http://wiki.apache.org/apachecon/ 
BirdsOfaFeatherUs07


-Grant


--------------------------
Grant Ingersoll
http://lucene.grantingersoll.com

Lucene Boot Camp Training:
ApacheCon Atlanta, Nov. 12, 2007.  Sign up now!  http:// 
www.apachecon.com

Lucene Helpful Hints:
http://wiki.apache.org/lucene-java/BasicsOfPerformance
http://wiki.apache.org/lucene-java/LuceneFAQ



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30642-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 17 02:44:51 2007
Return-Path: <java-user-return-30642-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50210 invoked from network); 17 Oct 2007 02:44:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 17 Oct 2007 02:44:51 -0000
Received: (qmail 70337 invoked by uid 500); 17 Oct 2007 02:44:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70311 invoked by uid 500); 17 Oct 2007 02:44:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70300 invoked by uid 99); 17 Oct 2007 02:44:33 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 Oct 2007 19:44:33 -0700
X-ASF-Spam-Status: No, hits=2.6 required=10.0
	tests=DNS_FROM_OPENWHOIS,SPF_HELO_PASS,SPF_PASS,WHOIS_MYPRIVREG
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lists@nabble.com designates 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 Oct 2007 02:44:35 +0000
Received: from isper.nabble.com ([192.168.236.156])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <lists@nabble.com>)
	id 1IhytL-0002YY-C6
	for java-user@lucene.apache.org; Tue, 16 Oct 2007 19:44:15 -0700
Message-ID: <13246220.post@talk.nabble.com>
Date: Tue, 16 Oct 2007 19:44:15 -0700 (PDT)
From: argh <argh@v0.net>
To: java-user@lucene.apache.org
Subject: use lucene as datastore?
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: argh@v0.net
X-Virus-Checked: Checked by ClamAV on apache.org


Hi,

I'm adding Lucene to an existing project where a daemon monitors a
frequently updated file system tree containing lots of expensive-to-parse
files for changes in order to keep cached metadata up to date about each
file.  (File writes unfortunately cannot be routed to allow for more
efficient change detection.)

Metadata is currently stored in a mirror directory tree as individual files
that are a trivial XML serialization of the same data that will soon be
indexed by Lucene.

I'm thus curious about the possibility eliminating the XML files altogether
and just using Lucene to store the metadata.  It seems like it could be a
big win on the complexity front.  My main concern lies with the time and
space efficiency of switching from implicit filename lookups to the
search-based model of "find the one document with the path field containing
/some/really/long/pathname".

This seems like a really common type of problem, but my searching didn't
turn up anything useful.  Pointers?  Thoughts?

Thanks...

-rg



-- 
View this message in context: http://www.nabble.com/use-lucene-as-datastore--tf4637962.html#a13246220
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30643-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 17 03:03:20 2007
Return-Path: <java-user-return-30643-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54599 invoked from network); 17 Oct 2007 03:03:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 17 Oct 2007 03:03:20 -0000
Received: (qmail 85864 invoked by uid 500); 17 Oct 2007 03:03:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85836 invoked by uid 500); 17 Oct 2007 03:03:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85825 invoked by uid 99); 17 Oct 2007 03:03:02 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 Oct 2007 20:03:02 -0700
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS,WHOIS_MYPRIVREG
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of chris.lu@gmail.com designates 64.233.182.188 as permitted sender)
Received: from [64.233.182.188] (HELO nf-out-0910.google.com) (64.233.182.188)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 Oct 2007 03:03:02 +0000
Received: by nf-out-0910.google.com with SMTP id d3so1700634nfc
        for <java-user@lucene.apache.org>; Tue, 16 Oct 2007 20:02:41 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=VsHCZQ/Yt00Uzq8c3aAHw5KIBG+UxiLUbK3ZIi65tCQ=;
        b=Z5WdtHnjK9AjYxQprxnzy+Gl2rEc0oWTz1wU/kvREZm7wVK4uK3Gcm9RafvrnSAMIhIvghmfkRAo5frpFHJlD9Hf9uTsrL68UojaevlWjpObIpA4B7wU6h+16iCp/TUAFr4X0VVWuqlFj429VMHPfiwRFFM1Gjl5BHv5AjY5rAk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=UuQefHkfKuA5vK8XVD2plGftt4eKnCzPARA2sU55JA/3K5OwRdzDVPPGntkiRktviP/MY9SVvt4ITAI/7hSTGgSbZrflgaVyDAoLsBGmJ1eloKZt6hinN1P6+daBk/iHIaRiFp09r6Ezmybd4nw2TmNAawAddfjdyEsBdtFC99s=
Received: by 10.78.156.6 with SMTP id d6mr5339240hue.1192590159815;
        Tue, 16 Oct 2007 20:02:39 -0700 (PDT)
Received: by 10.78.140.5 with HTTP; Tue, 16 Oct 2007 20:02:39 -0700 (PDT)
Message-ID: <6e3ae6310710162002g280374f7n422a718dbb5571f7@mail.gmail.com>
Date: Tue, 16 Oct 2007 20:02:39 -0700
From: "Chris Lu" <chris.lu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: use lucene as datastore?
In-Reply-To: <13246220.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_46975_7854058.1192590159808"
References: <13246220.post@talk.nabble.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_46975_7854058.1192590159808
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

No experience on this. But there are two points I can think of:
1) you can use compressed field to store the text
2) use the hash code of the path as the key

-- 
Chris Lu
-------------------------
Instant Scalable Full-Text Search On Any Database/Application
site: http://www.dbsight.net
demo: http://search.dbsight.com
Lucene Database Search in 3 minutes:
http://wiki.dbsight.com/index.php?title=Create_Lucene_Database_Search_in_3_minutes

On 10/16/07, argh <argh@v0.net> wrote:
>
>
> Hi,
>
> I'm adding Lucene to an existing project where a daemon monitors a
> frequently updated file system tree containing lots of expensive-to-parse
> files for changes in order to keep cached metadata up to date about each
> file.  (File writes unfortunately cannot be routed to allow for more
> efficient change detection.)
>
> Metadata is currently stored in a mirror directory tree as individual
> files
> that are a trivial XML serialization of the same data that will soon be
> indexed by Lucene.
>
> I'm thus curious about the possibility eliminating the XML files
> altogether
> and just using Lucene to store the metadata.  It seems like it could be a
> big win on the complexity front.  My main concern lies with the time and
> space efficiency of switching from implicit filename lookups to the
> search-based model of "find the one document with the path field
> containing
> /some/really/long/pathname".
>
> This seems like a really common type of problem, but my searching didn't
> turn up anything useful.  Pointers?  Thoughts?
>
> Thanks...
>
> -rg
>
>
>
> --
> View this message in context:
> http://www.nabble.com/use-lucene-as-datastore--tf4637962.html#a13246220
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_46975_7854058.1192590159808--

From java-user-return-30644-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 17 05:57:35 2007
Return-Path: <java-user-return-30644-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28340 invoked from network); 17 Oct 2007 05:57:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 17 Oct 2007 05:57:35 -0000
Received: (qmail 1552 invoked by uid 500); 17 Oct 2007 05:57:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1507 invoked by uid 500); 17 Oct 2007 05:57:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1496 invoked by uid 99); 17 Oct 2007 05:57:15 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 Oct 2007 22:57:15 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [203.222.48.13] (HELO tkpsp701-int0.prod.tradingscreen.com) (203.222.48.13)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 17 Oct 2007 05:57:19 +0000
Received: from tkdwi001.dev.tradingscreen.com ([172.21.16.56])
 by tkpsp701-int0.prod.tradingscreen.com (SMSSMTP 4.1.5.31) with SMTP id M2007101714531100094
 for <java-user@lucene.apache.org>; Wed, 17 Oct 2007 14:53:11 +0900
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C81082.00A31302"
Subject: optimization issue 
Date: Wed, 17 Oct 2007 14:53:12 +0900
Message-ID: <847893AE8EE17A48A3725E82C10DE9E58844DB@tkdwi001.dev.tradingscreen.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: optimization issue 
Thread-Index: AcgQgfjiY8gmSHgVRE+QnxdjvINyMg==
From: "Melanie Langlois" <Melanie.Langlois@tradingscreen.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

------_=_NextPart_001_01C81082.00A31302
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,

=20

It looks like my index is not really optimized, because in the index =
directory I can see 28 .cfs files (see below)

Basically I see files modified on October 3trhd which are only 3KB, when =
the last files date is October 15. There is only two big files(_fdm.cfs =
and _uz1.cfs) of 34 and 29 M each. All others are under 3 M. I don't =
think that's really normal.

I'm not calling the normalize() method of the IndexWriter, because my =
index is updated quite regularly, and I didn't change the merge factors =
which should then be the default of 10.

>From a different post I've read on this mailing list, I thought by =
letting this default the optimization will be done automatically every =
10 documents added to the index (and then every 10 segments, they should =
be merges..). But for some reason it doesn't seem to happen this way.

Am I missing something here ?

When do we know if the optimization is done ? Is it possible to know =
when the last optimization has been done, or something like that ?

=20

3368080 Oct  4 01:37 _11df.cfs

3556203 Oct  4 03:23 _12to.cfs

3202442 Oct  4 05:19 _1461.cfs

3266858 Oct  4 08:29 _15ru.cfs

2690783 Oct  4 10:49 _171z.cfs

1914828 Oct  5 06:30 _18bk.cfs

2136812 Oct 11 10:03 _19ct.cfs

2193955 Oct 12 23:06 _1ajw.cfs

76461 Oct 13 02:23 _1aph.cfs

59414 Oct 13 02:24 _1aus.cfs

71326 Oct 13 02:25 _1axv.cfs

165463 Oct 13 04:28 _1b0y.cfs

308954 Oct 13 04:53 _1b41.cfs

321472 Oct 13 05:27 _1b74.cfs

5893 Oct 13 05:27 _1b75.cfs

6386 Oct 13 05:27 _1b76.cfs

6302 Oct 13 05:27 _1b77.cfs

5766 Oct 13 05:27 _1b78.cfs

5772 Oct 13 05:27 _1b79.cfs

6702 Oct 15 08:18 _1b7a.cfs

6240 Oct 15 08:33 _1b7b.cfs

35508431 Oct  2 07:51 _fdm.cfs

29931133 Oct  3 15:56 _uz1.cfs

3075659 Oct  3 19:01 _wkk.cfs

3605056 Oct  3 21:31 _y77.cfs

3437364 Oct  3 23:29 _zsg.cfs

20 Oct 15 08:33 segments.gen

639 Oct 15 08:33 segments_2meq

=20

Thanks,

=20

M=E9lanie


------_=_NextPart_001_01C81082.00A31302--

From java-user-return-30645-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 17 07:39:30 2007
Return-Path: <java-user-return-30645-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74719 invoked from network); 17 Oct 2007 07:39:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 17 Oct 2007 07:39:30 -0000
Received: (qmail 40561 invoked by uid 500); 17 Oct 2007 07:39:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40527 invoked by uid 500); 17 Oct 2007 07:39:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40516 invoked by uid 99); 17 Oct 2007 07:39:12 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 Oct 2007 00:39:12 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [203.222.48.13] (HELO tkpsp701-int0.prod.tradingscreen.com) (203.222.48.13)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 17 Oct 2007 07:39:16 +0000
Received: from tkdwi001.dev.tradingscreen.com ([172.21.16.56])
 by tkpsp701-int0.prod.tradingscreen.com (SMSSMTP 4.1.5.31) with SMTP id M2007101716350900087
 for <java-user@lucene.apache.org>; Wed, 17 Oct 2007 16:35:09 +0900
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: optimization issue 
Date: Wed, 17 Oct 2007 16:35:09 +0900
Message-ID: <847893AE8EE17A48A3725E82C10DE9E58844DC@tkdwi001.dev.tradingscreen.com>
In-Reply-To: <847893AE8EE17A48A3725E82C10DE9E58844DB@tkdwi001.dev.tradingscreen.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: optimization issue 
Thread-Index: AcgQgfjiY8gmSHgVRE+QnxdjvINyMgADLH2w
From: "Melanie Langlois" <Melanie.Langlois@tradingscreen.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

Ok,

I found some of my answers looking more into the code, I can actually =
print the merging infos settings up the IndexWriter.setInfoStream ..
But there is still some stuff I don't get regarding the index =
optimization process, I'm don't understand where the merging of document =
is done by default, if I don't call the optimize() method.
By the way, I actually create a new instance of IndexWriter when I =
receive a document to index and I close it just after. I don't think =
this is the most efficient way to do so, but at least as soon as my =
document is index, any search can be performed. Is it a best practice ? =
Or should I try to re-use my indexwriter as long as I can ?

Thanks,

M=E9lanie


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30646-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 17 14:15:14 2007
Return-Path: <java-user-return-30646-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6096 invoked from network); 17 Oct 2007 14:15:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 17 Oct 2007 14:15:14 -0000
Received: (qmail 61593 invoked by uid 500); 17 Oct 2007 13:58:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61565 invoked by uid 500); 17 Oct 2007 13:58:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61554 invoked by uid 99); 17 Oct 2007 13:58:27 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 Oct 2007 06:58:27 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of yseeley@gmail.com designates 64.233.170.189 as permitted sender)
Received: from [64.233.170.189] (HELO rn-out-0102.google.com) (64.233.170.189)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 Oct 2007 13:58:31 +0000
Received: by rn-out-0102.google.com with SMTP id a43so259657rne
        for <java-user@lucene.apache.org>; Wed, 17 Oct 2007 06:58:10 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        bh=wFzedfb2SdIYcWZBrHC/VcrXnTkxQlh2bAZeog6MZCY=;
        b=VpNmzKm8OMXldKijpU+Qk7o7ok6gPmHO++KIbCjPN/mq6M5RIie17ZdqSaCY3HD5Clcu3awWq0p968a1Lobr7MzVK9WV/gbPh9yzBq9pWQMxR/LVwObQAQ4AIozJrHpSqradPuKZCIIR3nMogR8RTvdr9WoLaDe5YFz4kfo9USI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        b=QlE1m1qhkkfWCU/EVSsvyYVFNClww/IHkthmHrMPvAB/xKymHIA1xwaMNzA6phakEhox79BYKtmVX0vWuivRgFgGH+J5cX5RxtSm9NI0bWT9s2FUvD/7cpj0YCwS+YNbiF43dCRsbcZi4JORCmbzXD38tRQC0tBaKEaEETzZtQE=
Received: by 10.142.229.4 with SMTP id b4mr2477816wfh.1192629489490;
        Wed, 17 Oct 2007 06:58:09 -0700 (PDT)
Received: by 10.143.165.13 with HTTP; Wed, 17 Oct 2007 06:58:09 -0700 (PDT)
Message-ID: <c68e39170710170658r40f6beem6b7d5dfdb74c3273@mail.gmail.com>
Date: Wed, 17 Oct 2007 09:58:09 -0400
From: "Yonik Seeley" <yonik@apache.org>
Sender: yseeley@gmail.com
To: java-user@lucene.apache.org
Subject: Re: optimization issue
In-Reply-To: <847893AE8EE17A48A3725E82C10DE9E58844DB@tkdwi001.dev.tradingscreen.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <847893AE8EE17A48A3725E82C10DE9E58844DB@tkdwi001.dev.tradingscreen.com>
X-Google-Sender-Auth: 9558091d502bd8f7
X-Virus-Checked: Checked by ClamAV on apache.org

On 10/17/07, Melanie Langlois <Melanie.Langlois@tradingscreen.com> wrote:
> From a different post I've read on this mailing list, I thought by letting this default the optimization will be done automatically every 10 documents added to the index (and then every 10 segments, they should be merges..). But for some reason it doesn't seem to happen this way.


A flush (new segment created from the in-memory docs) will be done
every 10 documents by default, not an optimize.  This default will
change slightly in the next version of lucene to flush by amount of
memory used rather than number of documents buffered.

If you want an optimized index, call optimize() on the IndexWriter.

-Yonik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30647-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 17 14:43:26 2007
Return-Path: <java-user-return-30647-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22791 invoked from network); 17 Oct 2007 14:43:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 17 Oct 2007 14:43:26 -0000
Received: (qmail 63507 invoked by uid 500); 17 Oct 2007 14:43:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63488 invoked by uid 500); 17 Oct 2007 14:43:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63477 invoked by uid 99); 17 Oct 2007 14:43:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 Oct 2007 07:43:06 -0700
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [208.97.132.207] (HELO spunkymail-a18.g.dreamhost.com) (208.97.132.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 Oct 2007 14:43:06 +0000
Received: from [192.168.0.3] (adsl-074-229-189-244.sip.rmo.bellsouth.net [74.229.189.244])
	by spunkymail-a18.g.dreamhost.com (Postfix) with ESMTP id EE1B75B536
	for <java-user@lucene.apache.org>; Wed, 17 Oct 2007 07:42:15 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
Content-Transfer-Encoding: 7bit
Message-Id: <FC29C245-2DB4-491D-A19F-F84B323D397B@apache.org>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
To: java-user@lucene.apache.org
From: Grant Ingersoll <gsingers@apache.org>
Subject: contrib/benchmark Parallel tasks ?
Date: Wed, 17 Oct 2007 10:42:01 -0400
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

I am using the contrib/benchmarker to do some performance tests.  I  
have a 4 core machine, so I would like to test using 4 threads for  
indexing.  From the docs at http://lucene.zones.apache.org:8080/ 
hudson/job/Lucene-Nightly/javadoc/org/apache/lucene/benchmark/byTask/ 
package-summary.html

I then want to modify the conf/standard.alg file to be just indexing,  
and to do that in a multithreaded way.

I believe this means, I should change:
{ "MAddDocs" AddDoc } : 20000

to be:
[ "MAddDocs" AddDoc ] : 20000 : 4

right?

I guess I am confused a bit by the rate factor documentation in the  
docs given by the URL above, for instance, it says:
"Example - [ AddDoc ] : 400 : 3 - would do 400 addDoc in parallel,  
starting up to 3 threads per second. "

but, I think I want instead: start up 4 threads, and then have each  
split up the indexing of 20,000 documents.  Thus, each thread would  
index 5K docs.

Am I expressing this correctly?  Something doesn't quite feel right  
about this.

Thanks,
Grant

--------------------------
Grant Ingersoll
http://lucene.grantingersoll.com

Lucene Boot Camp Training:
ApacheCon Atlanta, Nov. 12, 2007.  Sign up now!  http:// 
www.apachecon.com

Lucene Helpful Hints:
http://wiki.apache.org/lucene-java/BasicsOfPerformance
http://wiki.apache.org/lucene-java/LuceneFAQ



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30648-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 17 15:13:04 2007
Return-Path: <java-user-return-30648-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35440 invoked from network); 17 Oct 2007 15:13:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 17 Oct 2007 15:13:04 -0000
Received: (qmail 14884 invoked by uid 500); 17 Oct 2007 15:10:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14856 invoked by uid 500); 17 Oct 2007 15:10:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14844 invoked by uid 99); 17 Oct 2007 15:10:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 Oct 2007 08:10:06 -0700
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [208.97.132.202] (HELO spunkymail-a9.g.dreamhost.com) (208.97.132.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 Oct 2007 15:10:04 +0000
Received: from [192.168.0.3] (adsl-074-229-189-244.sip.rmo.bellsouth.net [74.229.189.244])
	by spunkymail-a9.g.dreamhost.com (Postfix) with ESMTP id AAD6C21159
	for <java-user@lucene.apache.org>; Wed, 17 Oct 2007 08:09:13 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <FC29C245-2DB4-491D-A19F-F84B323D397B@apache.org>
References: <FC29C245-2DB4-491D-A19F-F84B323D397B@apache.org>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <C9A29E06-279F-4FA0-98AD-3541E28601D9@apache.org>
Content-Transfer-Encoding: 7bit
From: Grant Ingersoll <gsingers@apache.org>
Subject: Re: contrib/benchmark Parallel tasks ?
Date: Wed, 17 Oct 2007 11:08:58 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org

I think the answer is:
[{ "MAddDocs" AddDoc } : 5000] : 4

Is this the functional equivalent of doing:
{ "MAddDocs" AddDoc } : 20000

in parallel?

Thanks,
Grant

On Oct 17, 2007, at 10:42 AM, Grant Ingersoll wrote:

> Hi,
>
> I am using the contrib/benchmarker to do some performance tests.  I  
> have a 4 core machine, so I would like to test using 4 threads for  
> indexing.  From the docs at http://lucene.zones.apache.org:8080/ 
> hudson/job/Lucene-Nightly/javadoc/org/apache/lucene/benchmark/ 
> byTask/package-summary.html
>
> I then want to modify the conf/standard.alg file to be just  
> indexing, and to do that in a multithreaded way.
>
> I believe this means, I should change:
> { "MAddDocs" AddDoc } : 20000
>
> to be:
> [ "MAddDocs" AddDoc ] : 20000 : 4
>
> right?
>
> I guess I am confused a bit by the rate factor documentation in the  
> docs given by the URL above, for instance, it says:
> "Example - [ AddDoc ] : 400 : 3 - would do 400 addDoc in parallel,  
> starting up to 3 threads per second. "
>
> but, I think I want instead: start up 4 threads, and then have each  
> split up the indexing of 20,000 documents.  Thus, each thread would  
> index 5K docs.
>
> Am I expressing this correctly?  Something doesn't quite feel right  
> about this.
>
> Thanks,
> Grant
>
> --------------------------
> Grant Ingersoll
> http://lucene.grantingersoll.com
>
> Lucene Boot Camp Training:
> ApacheCon Atlanta, Nov. 12, 2007.  Sign up now!  http:// 
> www.apachecon.com
>
> Lucene Helpful Hints:
> http://wiki.apache.org/lucene-java/BasicsOfPerformance
> http://wiki.apache.org/lucene-java/LuceneFAQ
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

--------------------------
Grant Ingersoll
http://lucene.grantingersoll.com

Lucene Boot Camp Training:
ApacheCon Atlanta, Nov. 12, 2007.  Sign up now!  http:// 
www.apachecon.com

Lucene Helpful Hints:
http://wiki.apache.org/lucene-java/BasicsOfPerformance
http://wiki.apache.org/lucene-java/LuceneFAQ



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30649-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 17 15:58:33 2007
Return-Path: <java-user-return-30649-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53900 invoked from network); 17 Oct 2007 15:58:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 17 Oct 2007 15:58:33 -0000
Received: (qmail 42187 invoked by uid 500); 17 Oct 2007 15:58:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42157 invoked by uid 500); 17 Oct 2007 15:58:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42145 invoked by uid 99); 17 Oct 2007 15:58:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 Oct 2007 08:58:14 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [207.190.255.66] (HELO smtp.blackducksoftware.com) (207.190.255.66)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 Oct 2007 15:58:16 +0000
Received: from localhost (gyro.blackducksoftware.com [127.0.0.1])
	by smtp.blackducksoftware.com (Postfix) with ESMTP id 7BDD15C4AE4
	for <java-user@lucene.apache.org>; Wed, 17 Oct 2007 11:58:01 -0400 (EDT)
Received: from smtp.blackducksoftware.com ([127.0.0.1])
	by localhost (gyro.blackducksoftware.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 28763-05 for <java-user@lucene.apache.org>;
	Wed, 17 Oct 2007 11:58:00 -0400 (EDT)
Received: from LENOVODD906E2A (104.13.12.10.dyn.blackducksoftware.com [10.12.13.104])
	by smtp.blackducksoftware.com (Postfix) with ESMTP id E50E45C44A4
	for <java-user@lucene.apache.org>; Wed, 17 Oct 2007 11:58:00 -0400 (EDT)
From: "Dave Golombek" <daveg@blackducksoftware.com>
To: <java-user@lucene.apache.org>
Subject: Adding support for NOT NEAR construct?
Date: Wed, 17 Oct 2007 11:57:21 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3198
Thread-Index: AcgQ1mcbFLCaPv1+QB22POnZCm/U5w==
Message-Id: <20071017155800.E50E45C44A4@smtp.blackducksoftware.com>
X-Virus-Scanned: Debian amavisd-new at blackducksoftware.com
X-Virus-Checked: Checked by ClamAV on apache.org

We've run into a situation where having "NOT NEAR" queries would really
help. I haven't been able to find any discussion of adding this to Lucene in
the past, so wanted to ask if people had any comments about it before I
started trying to make the change. 

I've looked at NearSpansUnordered and it seems that reversing the logic in
atMatch() would go a long way towards implementation; NearSpansOrdered is a
bit harder, depending upon the exact semantics of "NOT NEAR" that we want to
implement. For queries, I was thinking that either "foo bar"~-10  or "foo
bar"!~10 might be reasonable; the former should be pretty easy to parse.

Does this sound reasonable? Something for contrib?

Thanks,
Dave Golombek
Senior Software Engineer
Black Duck Software, Inc.

daveg@blackducksoftware.com
T +1.781.810.2079
F +1.781.891.5145
C +1.617.230.5634
http://www.blackducksoftware.com 



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30650-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 17 17:12:57 2007
Return-Path: <java-user-return-30650-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92911 invoked from network); 17 Oct 2007 17:12:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 17 Oct 2007 17:12:54 -0000
Received: (qmail 86358 invoked by uid 500); 17 Oct 2007 17:12:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86331 invoked by uid 500); 17 Oct 2007 17:12:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86320 invoked by uid 99); 17 Oct 2007 17:12:35 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 Oct 2007 10:12:35 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of markrmiller@gmail.com designates 64.233.170.189 as permitted sender)
Received: from [64.233.170.189] (HELO rn-out-0102.google.com) (64.233.170.189)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 Oct 2007 17:12:36 +0000
Received: by rn-out-0102.google.com with SMTP id a43so310416rne
        for <java-user@lucene.apache.org>; Wed, 17 Oct 2007 10:12:14 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        bh=kSxV8/gHFhR/Z5QHRIQi/mUUVJbp1kPonTIZoDJqKs8=;
        b=r/u9kb5VGItIegVxey4aRRoNR5GWx/8Y4ceYyF9Sapg4wZFTCJr6UifsCCqQTl0baZJSGj07+XEL+qs5IwitsJww/izYZuG6FX1F7L1PUj0rCy0vWNowsPKCLd+u6FyJDnL8oEjA1YPprGgNWvOcIS8hqtfG0vxP+Ifz9ghlAb0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=DLZwoDIIi/lY91FYfjgf3Gpg2v3P3FZcc+2JVqgAez+aNXUYMTA+VaBJ42WZ9UkXau3xaqk7/XUGzFQovdOwRCv1+A5FIwhR1qFA2VnQ5Idw/Hu9YH5rDmM2d1uK/ChTYaMTUIywxVWHcK+bMDSr9dkuKLOQaYzZ/LlHq6OAf9s=
Received: by 10.142.203.13 with SMTP id a13mr2654807wfg.1192641134162;
        Wed, 17 Oct 2007 10:12:14 -0700 (PDT)
Received: from ?192.168.1.100? ( [69.124.234.183])
        by mx.google.com with ESMTPS id 33sm9097010wra.2007.10.17.10.12.12
        (version=SSLv3 cipher=RC4-MD5);
        Wed, 17 Oct 2007 10:12:13 -0700 (PDT)
Message-ID: <4716426A.2010406@gmail.com>
Date: Wed, 17 Oct 2007 13:12:10 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Adding support for NOT NEAR construct?
References: <20071017155800.E50E45C44A4@smtp.blackducksoftware.com>
In-Reply-To: <20071017155800.E50E45C44A4@smtp.blackducksoftware.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Sounds like you just want a BUTNOT of a NearSpan.

There is no Span support in the Lucene query language, but if there where:

*:* BUTNOT NearSpan(foo, bar, 10)

(or does lucene call it ANDNOT...)

Dave Golombek wrote:
> We've run into a situation where having "NOT NEAR" queries would really
> help. I haven't been able to find any discussion of adding this to Lucene in
> the past, so wanted to ask if people had any comments about it before I
> started trying to make the change. 
>
> I've looked at NearSpansUnordered and it seems that reversing the logic in
> atMatch() would go a long way towards implementation; NearSpansOrdered is a
> bit harder, depending upon the exact semantics of "NOT NEAR" that we want to
> implement. For queries, I was thinking that either "foo bar"~-10  or "foo
> bar"!~10 might be reasonable; the former should be pretty easy to parse.
>
> Does this sound reasonable? Something for contrib?
>
> Thanks,
> Dave Golombek
> Senior Software Engineer
> Black Duck Software, Inc.
>
> daveg@blackducksoftware.com
> T +1.781.810.2079
> F +1.781.891.5145
> C +1.617.230.5634
> http://www.blackducksoftware.com 
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>   

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30651-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 17 18:46:28 2007
Return-Path: <java-user-return-30651-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51633 invoked from network); 17 Oct 2007 18:46:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 17 Oct 2007 18:46:28 -0000
Received: (qmail 87833 invoked by uid 500); 17 Oct 2007 18:46:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87792 invoked by uid 500); 17 Oct 2007 18:46:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87781 invoked by uid 99); 17 Oct 2007 18:46:08 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 Oct 2007 11:46:08 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [194.109.24.27] (HELO smtp-vbr7.xs4all.nl) (194.109.24.27)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 Oct 2007 18:46:09 +0000
Received: from k8u.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr7.xs4all.nl (8.13.8/8.13.8) with ESMTP id l9HIjl5D075020
	for <java-user@lucene.apache.org>; Wed, 17 Oct 2007 20:45:48 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Adding support for NOT NEAR construct?
Date: Wed, 17 Oct 2007 20:45:47 +0200
User-Agent: KMail/1.9.6
References: <20071017155800.E50E45C44A4@smtp.blackducksoftware.com>
In-Reply-To: <20071017155800.E50E45C44A4@smtp.blackducksoftware.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200710172045.47800.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org

Dave,

One can use SpanNotQuery to get NOT NEAR by using this generalized structure:

SpanNot(foo, SpanNear(foo, bar, distance))

This also allows for example:

SpanNot(two, SpanNear(one, three, distance))

Btw. I don't know of any query language that has this second form.

AND NOT normally does not work for this because it works on doc level
and not within the matching text of a field.


Regards,
Paul Elschot


On Wednesday 17 October 2007 17:57:21 Dave Golombek wrote:
> We've run into a situation where having "NOT NEAR" queries would really
> help. I haven't been able to find any discussion of adding this to Lucene
> in the past, so wanted to ask if people had any comments about it before I
> started trying to make the change.
>
> I've looked at NearSpansUnordered and it seems that reversing the logic in
> atMatch() would go a long way towards implementation; NearSpansOrdered is a
> bit harder, depending upon the exact semantics of "NOT NEAR" that we want
> to implement. For queries, I was thinking that either "foo bar"~-10  or
> "foo bar"!~10 might be reasonable; the former should be pretty easy to
> parse.
>
> Does this sound reasonable? Something for contrib?
>
> Thanks,
> Dave Golombek
> Senior Software Engineer
> Black Duck Software, Inc.
>
> daveg@blackducksoftware.com
> T +1.781.810.2079
> F +1.781.891.5145
> C +1.617.230.5634
> http://www.blackducksoftware.com
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30652-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 17 19:37:43 2007
Return-Path: <java-user-return-30652-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66398 invoked from network); 17 Oct 2007 19:37:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 17 Oct 2007 19:37:43 -0000
Received: (qmail 47629 invoked by uid 500); 17 Oct 2007 19:29:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47603 invoked by uid 500); 17 Oct 2007 19:29:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47591 invoked by uid 99); 17 Oct 2007 19:29:17 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 Oct 2007 12:29:17 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [207.190.255.66] (HELO smtp.blackducksoftware.com) (207.190.255.66)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 Oct 2007 19:29:21 +0000
Received: from localhost (gyro.blackducksoftware.com [127.0.0.1])
	by smtp.blackducksoftware.com (Postfix) with ESMTP id 72A3F5C478F
	for <java-user@lucene.apache.org>; Wed, 17 Oct 2007 15:29:13 -0400 (EDT)
Received: from smtp.blackducksoftware.com ([127.0.0.1])
	by localhost (gyro.blackducksoftware.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 01683-04 for <java-user@lucene.apache.org>;
	Wed, 17 Oct 2007 15:29:12 -0400 (EDT)
Received: from LENOVODD906E2A (104.13.12.10.dyn.blackducksoftware.com [10.12.13.104])
	by smtp.blackducksoftware.com (Postfix) with ESMTP id E2F895C4628
	for <java-user@lucene.apache.org>; Wed, 17 Oct 2007 15:29:12 -0400 (EDT)
From: "Dave Golombek" <daveg@blackducksoftware.com>
To: <java-user@lucene.apache.org>
Subject: RE: Adding support for NOT NEAR construct?
Date: Wed, 17 Oct 2007 15:28:33 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <200710172045.47800.paul.elschot@xs4all.nl>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3198
Thread-Index: AcgQ7iIT07rQrSV+Ry+GMovcrvXXdAABZwYg
Message-Id: <20071017192912.E2F895C4628@smtp.blackducksoftware.com>
X-Virus-Scanned: Debian amavisd-new at blackducksoftware.com
X-Virus-Checked: Checked by ClamAV on apache.org

From: Paul Elschot
> One can use SpanNotQuery to get NOT NEAR by using this generalized
> structure:
> 
> SpanNot(foo, SpanNear(foo, bar, distance))
> 
> This also allows for example:
> 
> SpanNot(two, SpanNear(one, three, distance))
> 
> Btw. I don't know of any query language that has this second form.
> 
> AND NOT normally does not work for this because it works on doc level
> and not within the matching text of a field.

Ah, very cool, I hadn't thought about that. Thanks!

Dave



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30653-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 17 21:57:30 2007
Return-Path: <java-user-return-30653-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16566 invoked from network); 17 Oct 2007 21:57:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 17 Oct 2007 21:57:30 -0000
Received: (qmail 95547 invoked by uid 500); 17 Oct 2007 21:57:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95304 invoked by uid 500); 17 Oct 2007 21:57:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95293 invoked by uid 99); 17 Oct 2007 21:57:10 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 Oct 2007 14:57:10 -0700
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [207.207.50.14] (HELO mail01.avatartech.com) (207.207.50.14)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 Oct 2007 21:57:12 +0000
Received: from localhost (localhost [127.0.0.1])
	by mail01.avatartech.com (Postfix) with ESMTP id 1C8D44A402E
	for <java-user@lucene.apache.org>; Wed, 17 Oct 2007 16:56:52 -0500 (CDT)
Received: from mail01.avatartech.com ([127.0.0.1])
 by localhost (rooney.avatartech.com [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 21153-05 for <java-user@lucene.apache.org>;
 Wed, 17 Oct 2007 16:56:50 -0500 (CDT)
Received: from [192.168.1.71] (unknown [189.175.147.94])
	by mail01.avatartech.com (Postfix) with ESMTP id 0BF104FC00E
	for <java-user@lucene.apache.org>; Wed, 17 Oct 2007 16:56:49 -0500 (CDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
Content-Transfer-Encoding: 7bit
Message-Id: <F30BC6BA-C2FD-4F04-972A-7AC238C1E98E@rwmotloc.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
To: java-user@lucene.apache.org
From: Alexander Wallace <aw@rwmotloc.com>
Subject: lucene index in a cluster.
Date: Wed, 17 Oct 2007 16:56:43 -0500
X-Mailer: Apple Mail (2.752.3)
X-Virus-Scanned: amavisd-new at avatartech.com
X-Virus-Checked: Checked by ClamAV on apache.org

Hi All!

We use lucene 2.0.0 as the search index of our portal (liferay based)  
and are trying to use it correctly in a cluster...

I'm very foggy on wether i should share the index file using NFS (the  
servers run linux) or wether we should try the jdbc store...

We currently have the index in an NFS mounted volume, however i'm  
pretty sure that the servers are not sharing locks, and don't know  
that the other node exists... Both servers read and write to the  
index freely currently.

Can you give me advise as to what's best in this setup (share nfs vs  
jdbc) and how to make the nodes in the cluster know about each other  
so that they don't step on each others feet?

Pointers to documentation are very welcome too!

Thanks a lot in advance for your response!


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30654-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 17 22:55:39 2007
Return-Path: <java-user-return-30654-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4749 invoked from network); 17 Oct 2007 22:55:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 17 Oct 2007 22:55:39 -0000
Received: (qmail 61284 invoked by uid 500); 17 Oct 2007 22:55:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61246 invoked by uid 500); 17 Oct 2007 22:55:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61235 invoked by uid 99); 17 Oct 2007 22:55:20 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 Oct 2007 15:55:20 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of chris.lu@gmail.com designates 66.249.92.174 as permitted sender)
Received: from [66.249.92.174] (HELO ug-out-1314.google.com) (66.249.92.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 Oct 2007 22:55:21 +0000
Received: by ug-out-1314.google.com with SMTP id h3so394314ugf
        for <java-user@lucene.apache.org>; Wed, 17 Oct 2007 15:54:58 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=l0MrGxSPjgDexxNzuaOXFrmvr/6GCNoHBcTWC8LHejQ=;
        b=JOtzCOdzy0SqN3DvSqWT7tQhB/urWxJCX6orMgD6nnfHnYr+yd6f1FOC6wgLPwwssA7Kdpf23exYBXsYM6ug+EYkJhEbhyVNgvqo8fhOY4fUTX4v/hcjqFwk9xHxLWb/0PifWJ2iRh2Ik1IbGy6agbP3eFOr4WlyN+NM1NoR9Eo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=MeQXW1WhRK7pK/e+CXpEdpf2fPINZ26irUtXcd3BAnOfOGdQ4a3IjGupLMhayrIyAow2yPk6cLhL4UorkdwtOIIIh0Pp41PCfEvBcZi+pVIJeuOeO2UGemQSMQBBOVdmvTrd7rZrmL+W/UosA8bf70sAe/30wIiYp47IYjtaPHw=
Received: by 10.78.170.6 with SMTP id s6mr5916282hue.1192661697683;
        Wed, 17 Oct 2007 15:54:57 -0700 (PDT)
Received: by 10.78.140.5 with HTTP; Wed, 17 Oct 2007 15:54:57 -0700 (PDT)
Message-ID: <6e3ae6310710171554t75637408s4f06d95b0a581c08@mail.gmail.com>
Date: Wed, 17 Oct 2007 15:54:57 -0700
From: "Chris Lu" <chris.lu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: lucene index in a cluster.
In-Reply-To: <F30BC6BA-C2FD-4F04-972A-7AC238C1E98E@rwmotloc.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_48752_12839943.1192661697677"
References: <F30BC6BA-C2FD-4F04-972A-7AC238C1E98E@rwmotloc.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_48752_12839943.1192661697677
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

To my experience from a project, using software DBSight, Lucene runs well on
a SAN environment.
No experience of a NFS, but I know many indexing errors caused by NFS. Maybe
the new index delete policy helps in latest version of Lucene.

-- 
Chris Lu
-------------------------
Instant Scalable Full-Text Search On Any Database/Application
site: http://www.dbsight.net
demo: http://search.dbsight.com
Lucene Database Search in 3 minutes:
http://wiki.dbsight.com/index.php?title=Create_Lucene_Database_Search_in_3_minutes

On 10/17/07, Alexander Wallace <aw@rwmotloc.com> wrote:
>
> Hi All!
>
> We use lucene 2.0.0 as the search index of our portal (liferay based)
> and are trying to use it correctly in a cluster...
>
> I'm very foggy on wether i should share the index file using NFS (the
> servers run linux) or wether we should try the jdbc store...
>
> We currently have the index in an NFS mounted volume, however i'm
> pretty sure that the servers are not sharing locks, and don't know
> that the other node exists... Both servers read and write to the
> index freely currently.
>
> Can you give me advise as to what's best in this setup (share nfs vs
> jdbc) and how to make the nodes in the cluster know about each other
> so that they don't step on each others feet?
>
> Pointers to documentation are very welcome too!
>
> Thanks a lot in advance for your response!
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_48752_12839943.1192661697677--

From java-user-return-30655-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 18 01:59:10 2007
Return-Path: <java-user-return-30655-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70507 invoked from network); 18 Oct 2007 01:59:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 18 Oct 2007 01:59:10 -0000
Received: (qmail 84732 invoked by uid 500); 18 Oct 2007 01:58:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84692 invoked by uid 500); 18 Oct 2007 01:58:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84681 invoked by uid 99); 18 Oct 2007 01:58:51 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 Oct 2007 18:58:51 -0700
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [69.147.64.89] (HELO smtp116.sbc.mail.sp1.yahoo.com) (69.147.64.89)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 18 Oct 2007 01:58:54 +0000
Received: (qmail 14515 invoked from network); 18 Oct 2007 01:58:30 -0000
Received: from unknown (HELO ?192.168.50.96?) (kkrugler@pacbell.net@63.110.91.2 with plain)
  by smtp116.sbc.mail.sp1.yahoo.com with SMTP; 18 Oct 2007 01:58:29 -0000
X-YMail-OSG: dB9q.CwVM1kKwSop0alTFHWurPVqn858OSChxETNSQGlUMsoiE9d7BeuBJJUBztPfwEFPStz6A--
Mime-Version: 1.0
Message-Id: <p06240835c33c6897765f@[192.168.50.96]>
In-Reply-To: <200703072249.41901.paul.elschot@xs4all.nl>
References: <40b852f10703051608x40f4f568r5cd690533a2765f5@mail.gmail.com>
 <Pine.LNX.4.58.0703061138500.22293@hal.rescomp.berkeley.edu>
 <40b852f10703070912l45e2a579x9b5d228a70bf3b61@mail.gmail.com>
 <200703072249.41901.paul.elschot@xs4all.nl>
Date: Wed, 17 Oct 2007 18:44:35 -0700
To: java-user@lucene.apache.org
From: Ken Krugler <kkrugler_lists@transpac.com>
Subject: Re: alternative scoring algorithm for PhraseQuery
Content-Type: text/plain; charset="us-ascii" ; format="flowed"
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Philipp,

At 10:49 pm +0100 3/7/07, Paul Elschot wrote:
>On Wednesday 07 March 2007 18:12, Philipp Nanz wrote:
>>  Thanks for your answers. Your input is really appreciated :-)
>>
>>  @Paul Elschot:
>>  Thanks for the hint. I guess I could use coord() to penalize missing
>>  terms like this:
>>
>>  Query: a b c d
>>  Doc A: a b c d => sloppyFreq(0) * coord(4, 4) = 1
>>  Doc B: a b c => sloppyFreq(0) * coord(3, 4) = 0,75
>>
>>  Doc would score higher. I guess that might be a valid solution.
>>
>>  There is a drawback though, i.e. sloppyFreq(1) * coord(4, 4) = 0,5
>>
>>  So a perfect match with one insertion would score less than a 3 of 4
>>  match with no slop.
>
>Your examples are based on DefaultSimilarity.
>With a  Similarity in your Scorer you can leave the tradeoff between these
>factors to the user of your query by letting them provide the Similarity
>at query time.

[snip]

I'm curious if Paul's input here helped you finish your 
FuzzyPhraseQuery (or FuzzySpanQuery) addition to Lucene.

Thanks,

-- Ken
-- 
Ken Krugler
Krugle, Inc.
+1 530-210-6378
"If you can't find it, you can't fix it"

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30656-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 18 02:37:52 2007
Return-Path: <java-user-return-30656-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82603 invoked from network); 18 Oct 2007 02:37:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 18 Oct 2007 02:37:51 -0000
Received: (qmail 17619 invoked by uid 500); 18 Oct 2007 02:37:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17582 invoked by uid 500); 18 Oct 2007 02:37:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17571 invoked by uid 99); 18 Oct 2007 02:37:33 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 Oct 2007 19:37:33 -0700
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [207.207.50.14] (HELO mail01.avatartech.com) (207.207.50.14)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 Oct 2007 02:37:35 +0000
Received: from localhost (localhost [127.0.0.1])
	by mail01.avatartech.com (Postfix) with ESMTP id E62274F40AD
	for <java-user@lucene.apache.org>; Wed, 17 Oct 2007 21:36:42 -0500 (CDT)
Received: from mail01.avatartech.com ([127.0.0.1])
 by localhost (rooney.avatartech.com [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 32621-13 for <java-user@lucene.apache.org>;
 Wed, 17 Oct 2007 21:36:40 -0500 (CDT)
Received: from [192.168.2.4] (unknown [189.156.0.23])
	by mail01.avatartech.com (Postfix) with ESMTP id 75A324F40A8
	for <java-user@lucene.apache.org>; Wed, 17 Oct 2007 21:36:40 -0500 (CDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <6e3ae6310710171554t75637408s4f06d95b0a581c08@mail.gmail.com>
References: <F30BC6BA-C2FD-4F04-972A-7AC238C1E98E@rwmotloc.com> <6e3ae6310710171554t75637408s4f06d95b0a581c08@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <BDC0E98A-128B-401F-AA6F-3B65B6530B05@rwmotloc.com>
Content-Transfer-Encoding: 7bit
From: Alexander Wallace <aw@rwmotloc.com>
Subject: Re: lucene index in a cluster.
Date: Wed, 17 Oct 2007 21:36:15 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Scanned: amavisd-new at avatartech.com
X-Virus-Checked: Checked by ClamAV on apache.org

Thanks a lot for the response!

Is there some special config that needs to be done to share the locks  
or just point both servers to the same location ?

Pointers to docs would help a great deal too...

Thanks again!

On Oct 17, 2007, at 5:54 PM, Chris Lu wrote:

> To my experience from a project, using software DBSight, Lucene  
> runs well on
> a SAN environment.
> No experience of a NFS, but I know many indexing errors caused by  
> NFS. Maybe
> the new index delete policy helps in latest version of Lucene.
>
> -- 
> Chris Lu
> -------------------------
> Instant Scalable Full-Text Search On Any Database/Application
> site: http://www.dbsight.net
> demo: http://search.dbsight.com
> Lucene Database Search in 3 minutes:
> http://wiki.dbsight.com/index.php? 
> title=Create_Lucene_Database_Search_in_3_minutes
>
> On 10/17/07, Alexander Wallace <aw@rwmotloc.com> wrote:
>>
>> Hi All!
>>
>> We use lucene 2.0.0 as the search index of our portal (liferay based)
>> and are trying to use it correctly in a cluster...
>>
>> I'm very foggy on wether i should share the index file using NFS (the
>> servers run linux) or wether we should try the jdbc store...
>>
>> We currently have the index in an NFS mounted volume, however i'm
>> pretty sure that the servers are not sharing locks, and don't know
>> that the other node exists... Both servers read and write to the
>> index freely currently.
>>
>> Can you give me advise as to what's best in this setup (share nfs vs
>> jdbc) and how to make the nodes in the cluster know about each other
>> so that they don't step on each others feet?
>>
>> Pointers to documentation are very welcome too!
>>
>> Thanks a lot in advance for your response!
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30657-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 18 04:54:01 2007
Return-Path: <java-user-return-30657-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16584 invoked from network); 18 Oct 2007 04:54:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 18 Oct 2007 04:54:00 -0000
Received: (qmail 21328 invoked by uid 500); 18 Oct 2007 04:53:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21299 invoked by uid 500); 18 Oct 2007 04:53:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21288 invoked by uid 99); 18 Oct 2007 04:53:42 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 Oct 2007 21:53:42 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of john.wang@gmail.com designates 64.233.182.190 as permitted sender)
Received: from [64.233.182.190] (HELO nf-out-0910.google.com) (64.233.182.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 Oct 2007 04:53:43 +0000
Received: by nf-out-0910.google.com with SMTP id d3so41201nfc
        for <java-user@lucene.apache.org>; Wed, 17 Oct 2007 21:53:21 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=NoqSSpWzup9cBcNJGW1iRgUDrHCBJRx478mw+fOG+Lk=;
        b=DtGuh0Q4AwjzRKiZByrIWF26qkajNLplUyKFbWsACK8JAW+KloNxYI4EprlbyBxEHvQz5LaxiN0mbWdtMxqN4iBXsSshUK9LUMuiy1n+Pm+gtFWRe4n4Q1mYOQskNs8h6Qssje++jiD8/7xiXWM/K9Jh/n7x7MI0fgwL3wAb1fI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=GjfEBrjh9Eiqreqrv4PoIILfe57k+XEqoxKQc6sVsQvNltV6AMJo+/AwNlediuq+osuhnv3OKhAFSD5ZBjxqnO5xDCjAOOFuurbNl2zVybWkqWt9C/zs50L2UyK6f+XyMtUlkmOKSR8+O87KnaskimqIBTDRvcCtBEEA63UeJyQ=
Received: by 10.86.50.8 with SMTP id x8mr117622fgx.1192683200845;
        Wed, 17 Oct 2007 21:53:20 -0700 (PDT)
Received: by 10.86.59.11 with HTTP; Wed, 17 Oct 2007 21:53:20 -0700 (PDT)
Message-ID: <8837fb770710172153p591fc366r3d3a96b50064be22@mail.gmail.com>
Date: Wed, 17 Oct 2007 21:53:20 -0700
From: "John Wang" <john.wang@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: ApacheCon
In-Reply-To: <1BFAE965-4558-40EB-8DD0-CCDDC975078E@apache.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_20177_26096746.1192683200847"
References: <1BFAE965-4558-40EB-8DD0-CCDDC975078E@apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_20177_26096746.1192683200847
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I would like to attend the one by Hossman Thursday evening.
Thanks

-John

On 10/16/07, Grant Ingersoll <gsingers@apache.org> wrote:
>
> If you are planning on attending ApacheCon in Atlanta, let us know if
> you are interested in attending the Birds of a Feather meeting by
> expressing that interest at: http://wiki.apache.org/apachecon/
> BirdsOfaFeatherUs07
>
>
> -Grant
>
>
> --------------------------
> Grant Ingersoll
> http://lucene.grantingersoll.com
>
> Lucene Boot Camp Training:
> ApacheCon Atlanta, Nov. 12, 2007.  Sign up now!  http://
> www.apachecon.com
>
> Lucene Helpful Hints:
> http://wiki.apache.org/lucene-java/BasicsOfPerformance
> http://wiki.apache.org/lucene-java/LuceneFAQ
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_20177_26096746.1192683200847--

From java-user-return-30658-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 18 06:36:02 2007
Return-Path: <java-user-return-30658-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43713 invoked from network); 18 Oct 2007 06:36:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 18 Oct 2007 06:36:02 -0000
Received: (qmail 24538 invoked by uid 500); 18 Oct 2007 06:35:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24499 invoked by uid 500); 18 Oct 2007 06:35:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24488 invoked by uid 99); 18 Oct 2007 06:35:42 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 Oct 2007 23:35:42 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of chris.lu@gmail.com designates 64.233.182.189 as permitted sender)
Received: from [64.233.182.189] (HELO nf-out-0910.google.com) (64.233.182.189)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 Oct 2007 06:35:44 +0000
Received: by nf-out-0910.google.com with SMTP id d3so56014nfc
        for <java-user@lucene.apache.org>; Wed, 17 Oct 2007 23:35:22 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=pjeeOQmgnkwoXVyQnTYt8EmDdtihp9PD2sVkbVVTQao=;
        b=cfaCKlL2f4ijxLQiULzj69/a5fAGJdprD6/LLVJVOOS3cCAU3KVZZXR2YuhjKwG2l0NMC9FMeL3UR751xgScoPOsyOzKqs37HOsr/7h2rKUxzSaN5/t87/HVk76gujy/zVOSyKwcO0FvQdof1dde0mVznmG+/EYQJi9mmdaVqgg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=bF4WSU9T/8JVgjOInJXejqhg3oHP7YwSEBB+3+tIo8ho11gOd6F0gdcv6BYdn3Ru0RB2arzfWlHarFvzToxABZngY0Cu/KZOBYyWWxkWd+0Uk40ktLtzS1OAgbi4hsUyXC9G7+Qphn7L0A0SAKFTqwsY4y+1MmsSj3BJXmd2R00=
Received: by 10.78.131.8 with SMTP id e8mr51385hud.1192689321597;
        Wed, 17 Oct 2007 23:35:21 -0700 (PDT)
Received: by 10.78.140.5 with HTTP; Wed, 17 Oct 2007 23:35:21 -0700 (PDT)
Message-ID: <6e3ae6310710172335x1601e231pe977177053e8e825@mail.gmail.com>
Date: Wed, 17 Oct 2007 23:35:21 -0700
From: "Chris Lu" <chris.lu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: lucene index in a cluster.
In-Reply-To: <BDC0E98A-128B-401F-AA6F-3B65B6530B05@rwmotloc.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_50506_11059069.1192689321590"
References: <F30BC6BA-C2FD-4F04-972A-7AC238C1E98E@rwmotloc.com>
	 <6e3ae6310710171554t75637408s4f06d95b0a581c08@mail.gmail.com>
	 <BDC0E98A-128B-401F-AA6F-3B65B6530B05@rwmotloc.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_50506_11059069.1192689321590
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

http://lucene.apache.org/java/2_2_0/api/org/apache/lucene/index/IndexDeletionPolicy.html

This only works for Lucene 2.2 and later, not available if you need to used
Lucene 2.0.

-- 
Chris Lu
-------------------------
Instant Scalable Full-Text Search On Any Database/Application
site: http://www.dbsight.net
demo: http://search.dbsight.com
Lucene Database Search in 3 minutes:
http://wiki.dbsight.com/index.php?title=Create_Lucene_Database_Search_in_3_minutes

On 10/17/07, Alexander Wallace <aw@rwmotloc.com> wrote:
>
> Thanks a lot for the response!
>
> Is there some special config that needs to be done to share the locks
> or just point both servers to the same location ?
>
> Pointers to docs would help a great deal too...
>
> Thanks again!
>
> On Oct 17, 2007, at 5:54 PM, Chris Lu wrote:
>
> > To my experience from a project, using software DBSight, Lucene
> > runs well on
> > a SAN environment.
> > No experience of a NFS, but I know many indexing errors caused by
> > NFS. Maybe
> > the new index delete policy helps in latest version of Lucene.
> >
> > --
> > Chris Lu
> > -------------------------
> > Instant Scalable Full-Text Search On Any Database/Application
> > site: http://www.dbsight.net
> > demo: http://search.dbsight.com
> > Lucene Database Search in 3 minutes:
> > http://wiki.dbsight.com/index.php?
> > title=Create_Lucene_Database_Search_in_3_minutes
> >
> > On 10/17/07, Alexander Wallace <aw@rwmotloc.com> wrote:
> >>
> >> Hi All!
> >>
> >> We use lucene 2.0.0 as the search index of our portal (liferay based)
> >> and are trying to use it correctly in a cluster...
> >>
> >> I'm very foggy on wether i should share the index file using NFS (the
> >> servers run linux) or wether we should try the jdbc store...
> >>
> >> We currently have the index in an NFS mounted volume, however i'm
> >> pretty sure that the servers are not sharing locks, and don't know
> >> that the other node exists... Both servers read and write to the
> >> index freely currently.
> >>
> >> Can you give me advise as to what's best in this setup (share nfs vs
> >> jdbc) and how to make the nodes in the cluster know about each other
> >> so that they don't step on each others feet?
> >>
> >> Pointers to documentation are very welcome too!
> >>
> >> Thanks a lot in advance for your response!
> >>
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_50506_11059069.1192689321590--

From java-user-return-30659-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 18 08:04:30 2007
Return-Path: <java-user-return-30659-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69490 invoked from network); 18 Oct 2007 08:04:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 18 Oct 2007 08:04:29 -0000
Received: (qmail 25208 invoked by uid 500); 18 Oct 2007 08:04:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25176 invoked by uid 500); 18 Oct 2007 08:04:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25165 invoked by uid 99); 18 Oct 2007 08:04:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 Oct 2007 01:04:11 -0700
X-ASF-Spam-Status: No, hits=-4.0 required=10.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of DORONC@il.ibm.com designates 195.212.29.153 as permitted sender)
Received: from [195.212.29.153] (HELO mtagate4.de.ibm.com) (195.212.29.153)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 Oct 2007 08:04:11 +0000
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate4.de.ibm.com (8.13.8/8.13.8) with ESMTP id l9I83oZU045682
	for <java-user@lucene.apache.org>; Thu, 18 Oct 2007 08:03:50 GMT
Received: from d12av04.megacenter.de.ibm.com (d12av04.megacenter.de.ibm.com [9.149.165.229])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.8/8.13.8/NCO v8.5) with ESMTP id l9I83oir2052252
	for <java-user@lucene.apache.org>; Thu, 18 Oct 2007 10:03:50 +0200
Received: from d12av04.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l9I83ngH020621
	for <java-user@lucene.apache.org>; Thu, 18 Oct 2007 10:03:50 +0200
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l9I83ngD020618
	for <java-user@lucene.apache.org>; Thu, 18 Oct 2007 10:03:49 +0200
In-Reply-To: <C9A29E06-279F-4FA0-98AD-3541E28601D9@apache.org>
Subject: Re: contrib/benchmark Parallel tasks ?
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
Message-ID: <OF080142EB.4C73A9E4-ONC2257378.002A95F3-C2257378.002C2275@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Thu, 18 Oct 2007 10:02:04 +0200
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.2HF71 | November 3, 2006) at
 18/10/2007 10:03:49
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Grant,

Grant Ingersoll wrote:

> I think the answer is:
> [{ "MAddDocs" AddDoc } : 5000] : 4
>
> Is this the functional equivalent of doing:
> { "MAddDocs" AddDoc } : 20000
>
> in parallel?

Yes, this is correct, it reads as "create 4 threads, each
adding 5000 docs to the index, and start/run the 4 threads
in parallel.

Note that a single doc maker is serving all the threads.
So another possible way to run this is:
  [ { AddDoc } : * ] : 4
This reads as: "create 4 threads, each adding docs until
the (single) doc maker is exhausted, and start/run the 4
threads in parallel. This was also discussed in
http://www.mail-archive.com/java-dev@lucene.apache.org/msg10831.html
("threads & benchmark contrib") and so these test cases are also
relevant: TestPerfTasksLogic's testParallelDocMaker()
and testParallelExhausted().

Regards,
Doron

>
> Thanks,
> Grant
>
> On Oct 17, 2007, at 10:42 AM, Grant Ingersoll wrote:
>
> > Hi,
> >
> > I am using the contrib/benchmarker to do some performance tests.  I
> > have a 4 core machine, so I would like to test using 4 threads for
> > indexing.  From the docs at http://lucene.zones.apache.org:8080/
> > hudson/job/Lucene-Nightly/javadoc/org/apache/lucene/benchmark/
> > byTask/package-summary.html
> >
> > I then want to modify the conf/standard.alg file to be just
> > indexing, and to do that in a multithreaded way.
> >
> > I believe this means, I should change:
> > { "MAddDocs" AddDoc } : 20000
> >
> > to be:
> > [ "MAddDocs" AddDoc ] : 20000 : 4
> >
> > right?
> >
> > I guess I am confused a bit by the rate factor documentation in the
> > docs given by the URL above, for instance, it says:
> > "Example - [ AddDoc ] : 400 : 3 - would do 400 addDoc in parallel,
> > starting up to 3 threads per second. "
> >
> > but, I think I want instead: start up 4 threads, and then have each
> > split up the indexing of 20,000 documents.  Thus, each thread would
> > index 5K docs.
> >
> > Am I expressing this correctly?  Something doesn't quite feel right
> > about this.
> >
> > Thanks,
> > Grant
> >


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30660-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 18 13:09:37 2007
Return-Path: <java-user-return-30660-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89536 invoked from network); 18 Oct 2007 13:09:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 18 Oct 2007 13:09:37 -0000
Received: (qmail 4492 invoked by uid 500); 18 Oct 2007 13:08:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4460 invoked by uid 500); 18 Oct 2007 13:08:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4449 invoked by uid 99); 18 Oct 2007 13:08:00 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 Oct 2007 06:08:00 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [217.237.170.35] (HELO mzex01.healy-hudson.com) (217.237.170.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 Oct 2007 13:07:59 +0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.4073
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C81187.CB5661D8"
Subject: Scoring algorithm suggestion?
Date: Thu, 18 Oct 2007 15:07:10 +0200
Message-ID: <D7206503EB5BE94497458AF4FE4AE8AB453B2E@mzex01.healy-hudson.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Scoring algorithm suggestion?
thread-index: AcgRh8tD/KAY25uFQ0qpATqYFkNK3Q==
From: "Uwe Goetzke" <uwe.goetzke@healy-hudson.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

------_=_NextPart_001_01C81187.CB5661D8
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

We use lucene in our product since version 1.2.

I have developed a new  Bigramm stemmer and would like to get a
suggestion how to implement the needed scorer for it.

=20

Using a Boolean query with a slope I get most of the time  the correct
documents.

=20

For example: The Bigramm split for "document"  is

=20

do oc cu um me en nt

=20

If a user searches the misspelled "documnts"=20

=20

I use a Boolean query with a slope depending on the length of the search
term.

This works quite well , as=20

do oc cu um mn nt ts

gives 6 correct terms.

=20

But I want to implement in addition that terms which follow each other
in the indexed doc in the same order get a higher score.

In this case we have 5 terms in the correct order which should give to
the doc a boost of 4 (relatively spoken).

=20

What type of query should I base the  development of my scorer on?

=20

=20

Regards

Uwe Goetzke

development manager

________________________________________________

=20

Healy Hudson GmbH =20

Nelkenstrasse 43

67691 Hochspeyer

 =20

mailto:uwe.goetzke@healy-hudson.com
<mailto:uwe.goetzke@healy-hudson.com>=20

http://www.healy-hudson.com <http://www.healy-hudson.com/>=20

=20


-----------------------------------------------------------------------
Healy Hudson GmbH - D-55252 Mainz Kastel
Geschaftsfuhrer Christian Konhauser - Amtsgericht Wiesbaden HRB 12076

Diese Email ist vertraulich. Wenn Sie nicht der beabsichtigte Empfanger =
sind, durfen Sie die Informationen nicht offen legen oder benutzen. Wenn =
Sie diese Email durch einen Fehler bekommen haben, teilen Sie uns dies =
bitte umgehend mit, indem Sie diese Email an den Absender =
zuruckschicken. Bitte loschen Sie danach diese Email.
This email is confidential. If you are not the intended recipient, you =
must not disclose or use this information contained in it. If you have =
received this email in error please tell us immediately by return email =
and delete the document.


------_=_NextPart_001_01C81187.CB5661D8--

From java-user-return-30661-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 18 14:44:12 2007
Return-Path: <java-user-return-30661-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24325 invoked from network); 18 Oct 2007 14:44:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 18 Oct 2007 14:44:12 -0000
Received: (qmail 94628 invoked by uid 500); 18 Oct 2007 14:43:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94604 invoked by uid 500); 18 Oct 2007 14:43:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94593 invoked by uid 99); 18 Oct 2007 14:43:53 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 Oct 2007 07:43:53 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [62.213.161.134] (HELO pmx.sirma.bg) (62.213.161.134)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 Oct 2007 14:43:56 +0000
Received: from localhost (localhost [127.0.0.1])
	by pmx.sirma.bg (Sirma mail system) with ESMTP id 0A8B42447EE
	for <java-user@lucene.apache.org>; Thu, 18 Oct 2007 17:43:34 +0300 (EEST)
X-Virus-Scanned: amavisd-new at sirma.bg
Received: from pmx.sirma.bg ([127.0.0.1])
	by localhost (pmx.sirma.bg [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 2nbc7Wyk+W4f for <java-user@lucene.apache.org>;
	Thu, 18 Oct 2007 17:43:33 +0300 (EEST)
Received: from [192.168.128.140] (ivasilev.sirma.int [192.168.128.140])
	by pmx.sirma.bg (Sirma mail system) with ESMTP id EAC972447EB
	for <java-user@lucene.apache.org>; Thu, 18 Oct 2007 17:43:33 +0300 (EEST)
Message-ID: <47177115.5080109@sirma.bg>
Date: Thu, 18 Oct 2007 17:43:33 +0300
From: Ivan Vasilev <ivasilev@sirma.bg>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: LUCENE MAIL LIST <java-user@lucene.apache.org>
Subject: Re: Chinese test resources wanted
References: <4714DA94.9070307@sirma.bg>
In-Reply-To: <4714DA94.9070307@sirma.bg>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Guys,

Do anyone who tests the Analyzers can give me some CJK test resources or 
advice me from where to obtain.

Best Regards,
Ivan


Ivan Vasilev wrote:
> Hi Guys,
>
> We just implemented multi language support in our application. We 
> tested it with some files which content is copy/pasted from some 
> Chinese sites and everything seems to work correctly, but we need to 
> test it more thoroughly.
> Any suggestions from were to get some testing resources and some 
> advises on using them are welcomed :)
> Actually if anyone has suggestions about any CJK lang testing is 
> welcomed :)
>
> Thanks in advance,
> Ivan
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30662-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 18 19:36:21 2007
Return-Path: <java-user-return-30662-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58120 invoked from network); 18 Oct 2007 19:36:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 18 Oct 2007 19:36:21 -0000
Received: (qmail 11025 invoked by uid 500); 18 Oct 2007 19:36:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10985 invoked by uid 500); 18 Oct 2007 19:36:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10969 invoked by uid 99); 18 Oct 2007 19:36:00 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 Oct 2007 12:36:00 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of dragon-fly999@hotmail.com designates 65.54.246.215 as permitted sender)
Received: from [65.54.246.215] (HELO bay0-omc3-s15.bay0.hotmail.com) (65.54.246.215)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 Oct 2007 19:36:03 +0000
Received: from BLU119-W24 ([10.6.22.59]) by bay0-omc3-s15.bay0.hotmail.com with Microsoft SMTPSVC(6.0.3790.3959);
	 Thu, 18 Oct 2007 12:35:32 -0700
Message-ID: <BLU119-W24BCF22239FB155ADEFC22B99E0@phx.gbl>
Content-Type: multipart/alternative;
	boundary="_017b14bc-a20b-4f60-beeb-4cd90e02bb83_"
X-Originating-IP: [206.35.175.10]
From: Dragon Fly <dragon-fly999@hotmail.com>
To: <java-user@lucene.apache.org>
Subject: Sort by date with Lucene 2.2.0 ...
Date: Thu, 18 Oct 2007 15:35:28 -0400
Importance: Normal
MIME-Version: 1.0
X-OriginalArrivalTime: 18 Oct 2007 19:35:32.0754 (UTC) FILETIME=[0C47A720:01C811BE]
X-Virus-Checked: Checked by ClamAV on apache.org

--_017b14bc-a20b-4f60-beeb-4cd90e02bb83_
Content-Type: text/plain; charset="Windows-1252"
Content-Transfer-Encoding: quoted-printable


Hi,

I'm am trying to sort a date field in my index but I'm seeing strange resul=
ts.  I have searched the Lucene user mail archive for Datetools but still c=
ouldn't figure out the problem.

The date field is indexed as follows (i.e. DateTools is used, date field is=
 stored and untokenized):

String dateString =3D DateTools.dateToString (myDateObject, DateTools.Resol=
ution.SECOND);
Field field =3D new Field (DATE_FIELD, dateString, Field.Store.YES, Field.I=
ndex.UN_TOKENIZED);
field.setOmitNorms (true);
document.add (field);

=3D=3D=3D=3D=3D

I executed the search with a reverse sort on the DATE_FIELD:

QueryParser queryParser =3D new QueryParser ("field1", new StandardAnalyzer=
 ());
Query query =3D queryParser.parse ("txt:\"sum\"");
IndexSearcher searcher =3D new IndexSearcher (indexDirectory);
TopFieldDocs topFieldDocs =3D searcher.search (query, null, 10000, new Sort=
 (DATE_FIELD, true));

for (int i =3D 0; i < topFieldDocs.totalHits; i++)
{
  Document document =3D searcher.doc (topFieldDocs.scoreDocs[i].doc);
  String date =3D document.get (DATE_FIELD);

  System.out.println (date);
}

=3D=3D=3D=3D

As you can see, the output below is not sorted correctly (e.g. 200709022330=
24 comes before 20070902233048).  Does anyone know what the problem is? Tha=
nk you.


20070905140251
20070902233024
20070902233048
20070902234113
20070901040321
20070901040751
20070901040922
20070901042706
20070901042603
20070901050936
20070901050935
20070901050935
20070901080218


_________________________________________________________________
Windows Live Hotmail and Microsoft Office Outlook =96 together at last. =A0=
Get it now.
http://office.microsoft.com/en-us/outlook/HA102225181033.aspx?pid=3DCL10062=
6971033=

--_017b14bc-a20b-4f60-beeb-4cd90e02bb83_--

From java-user-return-30663-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 19 00:47:13 2007
Return-Path: <java-user-return-30663-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55941 invoked from network); 19 Oct 2007 00:47:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 19 Oct 2007 00:47:13 -0000
Received: (qmail 34735 invoked by uid 500); 19 Oct 2007 00:46:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34703 invoked by uid 500); 19 Oct 2007 00:46:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34692 invoked by uid 99); 19 Oct 2007 00:46:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 Oct 2007 17:46:54 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erickerickson@gmail.com designates 209.85.134.190 as permitted sender)
Received: from [209.85.134.190] (HELO mu-out-0910.google.com) (209.85.134.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Oct 2007 00:46:58 +0000
Received: by mu-out-0910.google.com with SMTP id g7so403560muf
        for <java-user@lucene.apache.org>; Thu, 18 Oct 2007 17:46:36 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=r208b3sOe1Niqu5QFN74Gry7NVpG9K9bW04NNRREpyM=;
        b=VFNY/BZ8ENXMddeRsqMRD7/M1vu3w+4qvxADkzpIi7MwiFttBaTpVlrF+HUbZVufwpxxeCggtUnm9lBOV8Mf3kwVyGTH+BYCtloS8GDIuJgXI0gZvawaO7unh1axm7+ok+uLRK77/EctltCdIGRjxPArW2rmhNJpSJwEgCKi++0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=tzmV77G9PDegMsmRG0WNu9Iay4b79dEOjYWuUTxpY2qrSewWQmxkAbUeQ1tXc3AXZenQyGary3ucPQ/TdMjDkH2iSMRxzAdoM32Py5uvtLiF6vu6pERq2Gl0IIp8XiUfFJcpyzZKbPLNhQJa8fQEGpMc1PEAd3ATjp9Xcl8CauM=
Received: by 10.82.138.6 with SMTP id l6mr2335514bud.1192754796212;
        Thu, 18 Oct 2007 17:46:36 -0700 (PDT)
Received: by 10.82.167.3 with HTTP; Thu, 18 Oct 2007 17:46:36 -0700 (PDT)
Message-ID: <359a92830710181746ma01ff56u14de273e52b706a2@mail.gmail.com>
Date: Thu, 18 Oct 2007 20:46:36 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Sort by date with Lucene 2.2.0 ...
In-Reply-To: <BLU119-W24BCF22239FB155ADEFC22B99E0@phx.gbl>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_5001_525536.1192754796197"
References: <BLU119-W24BCF22239FB155ADEFC22B99E0@phx.gbl>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_5001_525536.1192754796197
Content-Type: text/plain; charset=WINDOWS-1252
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Maybe I'm missing something, but that looks like the correct
order to me, they are both on September 02, 2007, 11:30 P.M, and
]24 seconds is before 48 seconds.....

Or is it just late and I'm missing the obvious (a specialty of mine)...

Erick

On 10/18/07, Dragon Fly <dragon-fly999@hotmail.com> wrote:
>
>
> Hi,
>
> I'm am trying to sort a date field in my index but I'm seeing strange
> results.  I have searched the Lucene user mail archive for Datetools but
> still couldn't figure out the problem.
>
> The date field is indexed as follows (i.e. DateTools is used, date field
> is stored and untokenized):
>
> String dateString =3D DateTools.dateToString (myDateObject,
> DateTools.Resolution.SECOND);
> Field field =3D new Field (DATE_FIELD, dateString, Field.Store.YES,
> Field.Index.UN_TOKENIZED);
> field.setOmitNorms (true);
> document.add (field);
>
> =3D=3D=3D=3D=3D
>
> I executed the search with a reverse sort on the DATE_FIELD:
>
> QueryParser queryParser =3D new QueryParser ("field1", new StandardAnalyz=
er
> ());
> Query query =3D queryParser.parse ("txt:\"sum\"");
> IndexSearcher searcher =3D new IndexSearcher (indexDirectory);
> TopFieldDocs topFieldDocs =3D searcher.search (query, null, 10000, new So=
rt
> (DATE_FIELD, true));
>
> for (int i =3D 0; i < topFieldDocs.totalHits; i++)
> {
>   Document document =3D searcher.doc (topFieldDocs.scoreDocs[i].doc);
>   String date =3D document.get (DATE_FIELD);
>
>   System.out.println (date);
> }
>
> =3D=3D=3D=3D
>
> As you can see, the output below is not sorted correctly (e.g.
> 20070902233024 comes before 20070902233048).  Does anyone know what the
> problem is? Thank you.
>
>
> 20070905140251
> 20070902233024
> 20070902233048
> 20070902234113
> 20070901040321
> 20070901040751
> 20070901040922
> 20070901042706
> 20070901042603
> 20070901050936
> 20070901050935
> 20070901050935
> 20070901080218
>
>
> _________________________________________________________________
> Windows Live Hotmail and Microsoft Office Outlook =96 together at last. G=
et
> it now.
>
> http://office.microsoft.com/en-us/outlook/HA102225181033.aspx?pid=3DCL100=
626971033

------=_Part_5001_525536.1192754796197--

From java-user-return-30664-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 19 02:20:53 2007
Return-Path: <java-user-return-30664-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5819 invoked from network); 19 Oct 2007 02:20:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 19 Oct 2007 02:20:52 -0000
Received: (qmail 93874 invoked by uid 500); 19 Oct 2007 02:20:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93849 invoked by uid 500); 19 Oct 2007 02:20:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93836 invoked by uid 99); 19 Oct 2007 02:20:34 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 Oct 2007 19:20:34 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [206.190.38.243] (HELO web50310.mail.re2.yahoo.com) (206.190.38.243)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 19 Oct 2007 02:20:35 +0000
Received: (qmail 8475 invoked by uid 60001); 19 Oct 2007 02:19:14 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=rHvVGZd8jBgKh8db+eaiGmNYmckncwYdqP/gu4kSVjZyLzaRXyoxHotc1GMu+9W5y4GrP5Yp5jPziJUwgcXlo9nwSaze4lR3T9al0w9x1Pj/GuIyHA7pqlPFZm97NwwNZ5tSXXkNs/LCnz1biUB5OaE+ngyc82OotbldcbS6IzQ=;
Received: from [72.231.9.236] by web50310.mail.re2.yahoo.com via HTTP; Thu, 18 Oct 2007 19:19:13 PDT
X-Mailer: YahooMailRC/814.06 YahooMailWebService/0.7.134.12
Date: Thu, 18 Oct 2007 19:19:13 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Scoring algorithm suggestion?
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Message-ID: <218922.8221.qm@web50310.mail.re2.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Uwe,=0AI don't have the answer to your main question, but will point you to=
 the ngram set of tokenizers in Lucene's contrib/, in case you want to use =
that instead of maintaining your own bi-gram tokenizer.=0A=0AOtis=0A . . . =
. . . . . . . . . . . . . . . . . . . . . . . . . . .=0ASimpy -- http://www=
.simpy.com/  -  Tag  -  Search  -  Share=0A=0A----- Original Message ----=
=0AFrom: Uwe Goetzke <uwe.goetzke@healy-hudson.com>=0ATo: java-user@lucene.=
apache.org=0ASent: Thursday, October 18, 2007 9:07:10 AM=0ASubject: Scoring=
 algorithm suggestion?=0A=0A=0AWe use lucene in our product since version 1=
.2.=0A=0AI have developed a new  Bigramm stemmer and would like to get a=0A=
suggestion how to implement the needed scorer for it.=0A=0A =0A=0AUsing a B=
oolean query with a slope I get most of the time  the correct=0Adocuments.=
=0A=0A =0A=0AFor example: The Bigramm split for "document"  is=0A=0A =0A=0A=
do oc cu um me en nt=0A=0A =0A=0AIf a user searches the misspelled "documnt=
s" =0A=0A =0A=0AI use a Boolean query with a slope depending on the length =
of the=0A search=0Aterm.=0A=0AThis works quite well , as =0A=0Ado oc cu um =
mn nt ts=0A=0Agives 6 correct terms.=0A=0A =0A=0ABut I want to implement in=
 addition that terms which follow each other=0Ain the indexed doc in the sa=
me order get a higher score.=0A=0AIn this case we have 5 terms in the corre=
ct order which should give to=0Athe doc a boost of 4 (relatively spoken).=
=0A=0A =0A=0AWhat type of query should I base the  development of my scorer=
 on?=0A=0A =0A=0A =0A=0ARegards=0A=0AUwe Goetzke=0A=0Adevelopment manager=
=0A=0A________________________________________________=0A=0A =0A=0AHealy Hu=
dson GmbH  =0A=0ANelkenstrasse 43=0A=0A67691 Hochspeyer=0A=0A  =0A=0Amailto=
:uwe.goetzke@healy-hudson.com=0A<mailto:uwe.goetzke@healy-hudson.com> =0A=
=0Ahttp://www.healy-hudson.com <http://www.healy-hudson.com/> =0A=0A =0A=0A=
=0A-----------------------------------------------------------------------=
=0AHealy Hudson GmbH - D-55252 Mainz Kastel=0AGeschaftsfuhrer Christian Kon=
hauser - Amtsgericht Wiesbaden HRB 12076=0A=0ADiese Email ist vertraulich. =
Wenn Sie nicht der beabsichtigte Empfanger=0A sind, durfen Sie die Informat=
ionen nicht offen legen oder benutzen.=0A Wenn Sie diese Email durch einen =
Fehler bekommen haben, teilen Sie uns=0A dies bitte umgehend mit, indem Sie=
 diese Email an den Absender=0A zuruckschicken. Bitte loschen Sie danach di=
ese Email.=0AThis email is confidential. If you are not the intended recipi=
ent, you=0A must not disclose or use this information contained in it. If y=
ou have=0A received this email in error please tell us immediately by retur=
n email=0A and delete the document.=0A=0A=0A=0A

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30665-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 19 02:37:30 2007
Return-Path: <java-user-return-30665-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11440 invoked from network); 19 Oct 2007 02:37:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 19 Oct 2007 02:37:30 -0000
Received: (qmail 10474 invoked by uid 500); 19 Oct 2007 02:37:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10444 invoked by uid 500); 19 Oct 2007 02:37:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10430 invoked by uid 99); 19 Oct 2007 02:37:12 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 Oct 2007 19:37:12 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [206.190.38.60] (HELO web50306.mail.re2.yahoo.com) (206.190.38.60)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 19 Oct 2007 02:37:13 +0000
Received: (qmail 49142 invoked by uid 60001); 19 Oct 2007 02:36:51 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=Zqp1mPOjYzqqNfdQEpDdGaacii365TXkbm4SjxiY5rW1Xr5AAbr0OGp+jrrhiWvZth0d8zRbUqqN95K76DrmuiXF+5zoX/bkpoOVv4Fp4LIAANGij9CD6bxwpla7kTG9OKSNUKfSrZnGGMBscExO8oolseQISJ6BufdDfgVdp1Y=;
X-YMail-OSG: 4keOFKkVM1nBbdcZg92HOZoKDFhfiY67WsEO7gCKxfkcDEPonzvfL1Cuc.zZwmnUrX2WyBB6M9uKCXn.2tt8zOe2jpyNubEdAah9MIp1LACN7Yf6pZI-
Received: from [72.231.9.236] by web50306.mail.re2.yahoo.com via HTTP; Thu, 18 Oct 2007 19:36:51 PDT
X-Mailer: YahooMailRC/814.06 YahooMailWebService/0.7.134.12
Date: Thu, 18 Oct 2007 19:36:51 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: lucene index in a cluster.
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Message-ID: <794526.48656.qm@web50306.mail.re2.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Alexander,=0A=0AI'd stay away from NFS (slow).  It sounds like you'd benefi=
t from moving from vanilla Lucene to Solr that your app(s) could query from=
 different boxes.=0A=0AOtis=0A--=0ASematext -- http://sematext.com/ -- Luce=
ne - Solr - Nutch=0A=0A----- Original Message ----=0AFrom: Alexander Wallac=
e <aw@rwmotloc.com>=0ATo: java-user@lucene.apache.org=0ASent: Wednesday, Oc=
tober 17, 2007 5:56:43 PM=0ASubject: lucene index in a cluster.=0A=0A=0AHi =
All!=0A=0AWe use lucene 2.0.0 as the search index of our portal (liferay ba=
sed)  =0Aand are trying to use it correctly in a cluster...=0A=0AI'm very f=
oggy on wether i should share the index file using NFS (the  =0Aservers run=
 linux) or wether we should try the jdbc store...=0A=0AWe currently have th=
e index in an NFS mounted volume, however i'm  =0Apretty sure that the serv=
ers are not sharing locks, and don't know  =0Athat the other node exists...=
 Both servers read and write to the  =0Aindex freely currently.=0A=0ACan yo=
u give me advise as to what's best in this setup (share nfs vs  =0Ajdbc) an=
d how to make the nodes in the cluster know about each other  =0Aso that th=
ey don't step on each others feet?=0A=0APointers to documentation are very =
welcome too!=0A=0AThanks a lot in advance for your response!=0A=0A=0A------=
---------------------------------------------------------------=0ATo unsubs=
cribe, e-mail: java-user-unsubscribe@lucene.apache.org=0AFor additional com=
mands, e-mail: java-user-help@lucene.apache.org=0A=0A=0A=0A

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30666-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 19 12:37:25 2007
Return-Path: <java-user-return-30666-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30553 invoked from network); 19 Oct 2007 12:37:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 19 Oct 2007 12:37:25 -0000
Received: (qmail 66966 invoked by uid 500); 19 Oct 2007 12:37:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66941 invoked by uid 500); 19 Oct 2007 12:37:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66930 invoked by uid 99); 19 Oct 2007 12:37:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Oct 2007 05:37:05 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of dragon-fly999@hotmail.com designates 65.54.246.215 as permitted sender)
Received: from [65.54.246.215] (HELO bay0-omc3-s15.bay0.hotmail.com) (65.54.246.215)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Oct 2007 12:37:06 +0000
Received: from BLU119-W18 ([10.6.22.53]) by bay0-omc3-s15.bay0.hotmail.com with Microsoft SMTPSVC(6.0.3790.3959);
	 Fri, 19 Oct 2007 05:36:25 -0700
Message-ID: <BLU119-W187FCDFEE3DEF13272FE90B99F0@phx.gbl>
Content-Type: multipart/alternative;
	boundary="_183e8f3d-c015-49c0-b84e-f0200ebecfad_"
X-Originating-IP: [206.35.175.10]
From: Dragon Fly <dragon-fly999@hotmail.com>
To: <java-user@lucene.apache.org>
Subject: RE: Sort by date with Lucene 2.2.0 ...
Date: Fri, 19 Oct 2007 08:36:24 -0400
Importance: Normal
In-Reply-To: <359a92830710181746ma01ff56u14de273e52b706a2@mail.gmail.com>
References: <BLU119-W24BCF22239FB155ADEFC22B99E0@phx.gbl>
 <359a92830710181746ma01ff56u14de273e52b706a2@mail.gmail.com>
MIME-Version: 1.0
X-OriginalArrivalTime: 19 Oct 2007 12:36:25.0376 (UTC) FILETIME=[A9B00A00:01C8124C]
X-Virus-Checked: Checked by ClamAV on apache.org

--_183e8f3d-c015-49c0-b84e-f0200ebecfad_
Content-Type: text/plain; charset="Windows-1252"
Content-Transfer-Encoding: quoted-printable


Thanks for the reply.  I expected the results to be sorted in reverse chron=
 (i.e. more recent time stamps first) because my Sort object is:

new Sort (DATE_FIELD, true);

Using my previous example, I would expect to see the following (because 48 =
seconds is more recent than 24 seconds):

September 05, 2007, 14:02:51 (20070905140251)
September 02, 2007, 23:30:48 (20070902233048)
September 02, 2007, 23:30:24 (20070902233024)
...
...

It looks to me like the Date part is sorted correctly but not the Time part=
.  Am I missing something?

> Date: Thu, 18 Oct 2007 20:46:36 -0400
> From: erickerickson@gmail.com
> To: java-user@lucene.apache.org
> Subject: Re: Sort by date with Lucene 2.2.0 ...
>=20
> Maybe I'm missing something, but that looks like the correct
> order to me, they are both on September 02, 2007, 11:30 P.M, and
> ]24 seconds is before 48 seconds.....
>=20
> Or is it just late and I'm missing the obvious (a specialty of mine)...
>=20
> Erick
>=20
> On 10/18/07, Dragon Fly <dragon-fly999@hotmail.com> wrote:
> >
> >
> > Hi,
> >
> > I'm am trying to sort a date field in my index but I'm seeing strange
> > results.  I have searched the Lucene user mail archive for Datetools bu=
t
> > still couldn't figure out the problem.
> >
> > The date field is indexed as follows (i.e. DateTools is used, date fiel=
d
> > is stored and untokenized):
> >
> > String dateString =3D DateTools.dateToString (myDateObject,
> > DateTools.Resolution.SECOND);
> > Field field =3D new Field (DATE_FIELD, dateString, Field.Store.YES,
> > Field.Index.UN_TOKENIZED);
> > field.setOmitNorms (true);
> > document.add (field);
> >
> > =3D=3D=3D=3D=3D
> >
> > I executed the search with a reverse sort on the DATE_FIELD:
> >
> > QueryParser queryParser =3D new QueryParser ("field1", new StandardAnal=
yzer
> > ());
> > Query query =3D queryParser.parse ("txt:\"sum\"");
> > IndexSearcher searcher =3D new IndexSearcher (indexDirectory);
> > TopFieldDocs topFieldDocs =3D searcher.search (query, null, 10000, new =
Sort
> > (DATE_FIELD, true));
> >
> > for (int i =3D 0; i < topFieldDocs.totalHits; i++)
> > {
> >   Document document =3D searcher.doc (topFieldDocs.scoreDocs[i].doc);
> >   String date =3D document.get (DATE_FIELD);
> >
> >   System.out.println (date);
> > }
> >
> > =3D=3D=3D=3D
> >
> > As you can see, the output below is not sorted correctly (e.g.
> > 20070902233024 comes before 20070902233048).  Does anyone know what the
> > problem is? Thank you.
> >
> >
> > 20070905140251
> > 20070902233024
> > 20070902233048
> > 20070902234113
> > 20070901040321
> > 20070901040751
> > 20070901040922
> > 20070901042706
> > 20070901042603
> > 20070901050936
> > 20070901050935
> > 20070901050935
> > 20070901080218
> >
> >
> > _________________________________________________________________
> > Windows Live Hotmail and Microsoft Office Outlook =96 together at last.=
 Get
> > it now.
> >
> > http://office.microsoft.com/en-us/outlook/HA102225181033.aspx?pid=3DCL1=
00626971033

_________________________________________________________________
Peek-a-boo FREE Tricks & Treats for You!
http://www.reallivemoms.com?ocid=3DTXT_TAGHM&loc=3Dus=

--_183e8f3d-c015-49c0-b84e-f0200ebecfad_--

From java-user-return-30667-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 19 12:43:40 2007
Return-Path: <java-user-return-30667-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31946 invoked from network); 19 Oct 2007 12:43:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 19 Oct 2007 12:43:40 -0000
Received: (qmail 84609 invoked by uid 500); 19 Oct 2007 12:43:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84368 invoked by uid 500); 19 Oct 2007 12:43:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84357 invoked by uid 99); 19 Oct 2007 12:43:21 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Oct 2007 05:43:21 -0700
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=FM_FAKE_HELO_VERIZON,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [206.46.252.48] (HELO vms048pub.verizon.net) (206.46.252.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Oct 2007 12:43:23 +0000
Received: from underhill ([96.233.198.9])
 by vms048.mailsrvcs.net (Sun Java System Messaging Server 6.2-6.01 (built Apr
 3 2006)) with ESMTPA id <0JQ500IK8SMI3X72@vms048.mailsrvcs.net> for
 java-user@lucene.apache.org; Fri, 19 Oct 2007 07:42:19 -0500 (CDT)
Received: by underhill (Postfix, from userid 1000)	id 972AD220CE1; Fri,
 19 Oct 2007 08:42:18 -0400 (EDT)
Date: Fri, 19 Oct 2007 08:42:18 -0400
From: Sean Dague <sean@dague.net>
Subject: Sample SynonymAnalyzer vs. Lucene 2.2
To: java-user@lucene.apache.org
Mail-followup-to: java-user@lucene.apache.org
Message-id: <20071019124217.GA7398@dague.net>
MIME-version: 1.0
Content-type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature"; boundary=9jxsPFA5p3P2qPhR
Content-disposition: inline
User-Agent: Mutt/1.5.15+20070412 (2007-04-11)
X-Virus-Checked: Checked by ClamAV on apache.org

--9jxsPFA5p3P2qPhR
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

I've noticed that the sample code to do the SynonymAnalyzer from the
book Lucene in Action doesn't work right on Lucene 2.2.  In my sample
application I am using categorizing food names into food categories
using the Synonym patern.

Using the excerpted:

  private void addAliasesToStack(Token token) throws IOException {
    String[] synonyms =3D engine.getSynonyms(token.termText());

    if (synonyms =3D=3D null) return;

    for (int i =3D 0; i < synonyms.length; i++) {
      Token synToken =3D new Token(synonyms[i],
                                 token.startOffset(),
                                 token.endOffset(),
                                 TOKEN_TYPE_SYNONYM);
      synToken.setPositionIncrement(0);

      synonymStack.push(synToken);
    }
  }

Ends up only indexing the synonym, but not the base word itself.  If I
comment out the 'synToken.setPositionIncrement(0)' line, it works, but
now that throws off the token positions.  This probably doesn't matter,
but I'm curious what the new prefered approach is here?

Thanks in advance,

       -Sean
     =20
--=20
__________________________________________________________________

Sean Dague                                       Mid-Hudson Valley
sean at dague dot net                            Linux Users Group
http://dague.net                                 http://mhvlug.org

There is no silver bullet.  Plus, werewolves make better neighbors
than zombies, and they tend to keep the vampire population down.
__________________________________________________________________

--9jxsPFA5p3P2qPhR
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: Digital signature
Content-Disposition: inline

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)

iD8DBQFHGKYpSamXem9TdyYRArIsAKCxbuB8JTnxN/cIJc9ZLQV6ZHeVLgCghS6B
kt4rFqpsO26viaJKLDH86vE=
=kKpJ
-----END PGP SIGNATURE-----

--9jxsPFA5p3P2qPhR--

From java-user-return-30668-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 19 13:03:28 2007
Return-Path: <java-user-return-30668-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38976 invoked from network); 19 Oct 2007 13:03:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 19 Oct 2007 13:03:28 -0000
Received: (qmail 30541 invoked by uid 500); 19 Oct 2007 13:02:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30512 invoked by uid 500); 19 Oct 2007 13:02:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30501 invoked by uid 99); 19 Oct 2007 13:02:50 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Oct 2007 06:02:50 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [193.190.255.196] (HELO cephee.cetic.be) (193.190.255.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Oct 2007 13:02:54 +0000
Message-ID: <4718AA97.5080109@cetic.be>
Date: Fri, 19 Oct 2007 15:01:11 +0200
From: =?ISO-8859-1?Q?Fabrice_Esti=E9venart?=
 <fabrice.estievenart@cetic.be>
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Get the preceding and following terms
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hello,

I'm trying to create a suggestion tool based on Lucene. From a term in 
the index, i'd like to know the terms that often precede and follow this 
term in the indexed documents (NOT according to the alphabetical order).

I know that Lucene stores the term positions but I don't know how to use 
this piece of information.

Thanks,

Fabrice

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30669-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 19 13:16:32 2007
Return-Path: <java-user-return-30669-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44217 invoked from network); 19 Oct 2007 13:16:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 19 Oct 2007 13:16:32 -0000
Received: (qmail 47064 invoked by uid 500); 19 Oct 2007 13:12:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47043 invoked by uid 500); 19 Oct 2007 13:12:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47032 invoked by uid 99); 19 Oct 2007 13:12:49 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Oct 2007 06:12:49 -0700
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [208.97.132.177] (HELO spunkymail-a6.g.dreamhost.com) (208.97.132.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Oct 2007 13:12:50 +0000
Received: from [192.168.0.3] (adsl-074-229-189-244.sip.rmo.bellsouth.net [74.229.189.244])
	by spunkymail-a6.g.dreamhost.com (Postfix) with ESMTP id 3647B109F28
	for <java-user@lucene.apache.org>; Fri, 19 Oct 2007 06:12:27 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <4718AA97.5080109@cetic.be>
References: <4718AA97.5080109@cetic.be>
Content-Type: text/plain; charset=ISO-8859-1; delsp=yes; format=flowed
Message-Id: <9C9010C7-2685-459D-A4AA-0EA48A0D8123@apache.org>
Content-Transfer-Encoding: quoted-printable
From: Grant Ingersoll <gsingers@apache.org>
Subject: Re: Get the preceding and following terms
Date: Fri, 19 Oct 2007 09:12:07 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org

Have a look at the SpanQuery and it's derivitives.  I have some =20
examples in my ApacheCon Europe talk http://cnlp.org/presentations/=20
slides/AdvancedLuceneEU.pdf

You will most likely have to do some post processing.  Using Term =20
Vectors and the new TermVectorMapper may help facilitate this.

Cheers,
Grant

On Oct 19, 2007, at 9:01 AM, Fabrice Esti=E9venart wrote:

> Hello,
>
> I'm trying to create a suggestion tool based on Lucene. =46rom a term =20=

> in the index, i'd like to know the terms that often precede and =20
> follow this term in the indexed documents (NOT according to the =20
> alphabetical order).
>
> I know that Lucene stores the term positions but I don't know how =20
> to use this piece of information.
>
> Thanks,
>
> Fabrice
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

--------------------------
Grant Ingersoll
http://lucene.grantingersoll.com

Lucene Boot Camp Training:
ApacheCon Atlanta, Nov. 12, 2007.  Sign up now!  http://=20
www.apachecon.com

Lucene Helpful Hints:
http://wiki.apache.org/lucene-java/BasicsOfPerformance
http://wiki.apache.org/lucene-java/LuceneFAQ



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30670-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 19 13:17:59 2007
Return-Path: <java-user-return-30670-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44951 invoked from network); 19 Oct 2007 13:17:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 19 Oct 2007 13:17:59 -0000
Received: (qmail 49330 invoked by uid 500); 19 Oct 2007 13:14:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49304 invoked by uid 500); 19 Oct 2007 13:14:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49293 invoked by uid 99); 19 Oct 2007 13:14:28 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Oct 2007 06:14:28 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.212] (HELO web26001.mail.ukl.yahoo.com) (217.12.10.212)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 19 Oct 2007 13:14:31 +0000
Received: (qmail 62144 invoked by uid 60001); 19 Oct 2007 13:14:08 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=VKwzfLOh70ZOPrBa3hcXiEsxSNw7GjObM/p+t/9JmF3NlrmZmHcfiMBSnlj22ADnmPqJ9jIs0KwlQNxgcrt875PrvQYsbBcghzxsDlSxtzsWYHZ32GZqID6I3u1oUIyzvy26C6GKa9q9q64INHFvT2B+zTwLEMYktLbFGOiK5SM=;
X-YMail-OSG: sQTE0x0VM1kMtwFwZGBUzIeIXi42djtGa4TvFyvgW51FXn4inbcYAF1LBvDKtBn0hg--
Received: from [193.36.230.96] by web26001.mail.ukl.yahoo.com via HTTP; Fri, 19 Oct 2007 13:14:08 GMT
X-Mailer: YahooMailRC/814.06 YahooMailWebService/0.7.134.12
Date: Fri, 19 Oct 2007 13:14:08 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: Get the preceding and following terms
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
Message-ID: <690525.58328.qm@web26001.mail.ukl.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

See CollocationFinder here: http://issues.apache.org/jira/browse/LUCENE-474=
=0A=0A----- Original Message ----=0AFrom: Fabrice Esti=E9venart <fabrice.es=
tievenart@cetic.be>=0ATo: java-user@lucene.apache.org=0ASent: Friday, 19 Oc=
tober, 2007 2:01:11 PM=0ASubject: Get the preceding and following terms=0A=
=0AHello,=0A=0AI'm trying to create a suggestion tool based on Lucene. From=
 a term in =0Athe index, i'd like to know the terms that often precede and =
follow=0A this =0Aterm in the indexed documents (NOT according to the alpha=
betical=0A order).=0A=0AI know that Lucene stores the term positions but I =
don't know how to=0A use =0Athis piece of information.=0A=0AThanks,=0A=0AFa=
brice=0A=0A----------------------------------------------------------------=
-----=0ATo unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org=0AF=
or additional commands, e-mail: java-user-help@lucene.apache.org=0A=0A=0A=
=0A=0A=0A=0A      _________________________________________________________=
__ =0AWant ideas for reducing your carbon footprint? Visit Yahoo! For Good =
 http://uk.promotions.yahoo.com/forgood/environment.html

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30671-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 19 16:40:28 2007
Return-Path: <java-user-return-30671-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24976 invoked from network); 19 Oct 2007 16:40:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 19 Oct 2007 16:40:28 -0000
Received: (qmail 6453 invoked by uid 500); 19 Oct 2007 16:40:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6425 invoked by uid 500); 19 Oct 2007 16:40:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6414 invoked by uid 99); 19 Oct 2007 16:40:09 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Oct 2007 09:40:09 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of dckorah@gmail.com designates 209.85.134.184 as permitted sender)
Received: from [209.85.134.184] (HELO mu-out-0910.google.com) (209.85.134.184)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Oct 2007 16:40:12 +0000
Received: by mu-out-0910.google.com with SMTP id g7so658561muf
        for <java-user@lucene.apache.org>; Fri, 19 Oct 2007 09:39:50 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:from:to:subject:date:mime-version:content-type:x-mailer:x-mimeole:thread-index:message-id;
        bh=olCEb46AheDmSf7NF1Q7bpYnCbYXjWmVwwy4FCm843E=;
        b=W2Q6QtvnjFlrGU1dePWrkk8WNiJMEuWYXoMQFuGUtXDzHvvjytZgbk3iaJ4QKgvCXXUPSjQ8/TpmF0JqmHEGIX3zDPEq/yUARIgtwFgruGTREdL/orPHMiwfelsF1mv41TRqdxeo1Pm9eSxHuCDX0gQbN5Kfv5kpV5RsV/dwEr4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:from:to:subject:date:mime-version:content-type:x-mailer:x-mimeole:thread-index:message-id;
        b=Uy4kFPaDBCC5a0tQnXvcxOIpGG7EC92bWdJ3IPmDWBFvYN1Tyw1SPrHYMSi1VYK9zcT0KJXlvHNBGTcxptFbUJErr1AVmM37qDT5uWzWlhGvHucd+96QUjRaOZs8T5eqv7ACf9dcTyspHqwubttSt+7AhujeTAHFxuX9RIUljAM=
Received: by 10.82.174.20 with SMTP id w20mr3999912bue.1192811990060;
        Fri, 19 Oct 2007 09:39:50 -0700 (PDT)
Received: from SCWDEVDINOKVM ( [62.249.212.129])
        by mx.google.com with ESMTPS id d23sm677392nfh.2007.10.19.09.39.48
        (version=SSLv3 cipher=RC4-MD5);
        Fri, 19 Oct 2007 09:39:49 -0700 (PDT)
From: "Dino Korah" <dckorah@gmail.com>
To: <java-user@lucene.apache.org>
Subject: Norm - please lit it up for me
Date: Fri, 19 Oct 2007 17:39:45 +0100
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0036_01C81277.09BA6D80"
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3198
Thread-Index: AcgSbqN7B0jDcg0WSW6ks4T20MZX3g==
Message-ID: <4718ddd5.17e7300a.01d6.ffff80d5@mx.google.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_NextPart_000_0036_01C81277.09BA6D80
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hi,
 
Could someone help me understand normalization factors for a field.
Also please tell me what are the situations where I should omit
normalization factors when adding a document.
 
Many thanks.
 
Dino Korah
 
 

------=_NextPart_000_0036_01C81277.09BA6D80--


From java-user-return-30672-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 19 17:07:58 2007
Return-Path: <java-user-return-30672-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36780 invoked from network); 19 Oct 2007 17:07:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 19 Oct 2007 17:07:58 -0000
Received: (qmail 45999 invoked by uid 500); 19 Oct 2007 17:07:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45963 invoked by uid 500); 19 Oct 2007 17:07:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45951 invoked by uid 99); 19 Oct 2007 17:07:39 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Oct 2007 10:07:39 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 80.76.149.212 is neither permitted nor denied by domain of karl.wettin@gmail.com)
Received: from [80.76.149.212] (HELO ch-smtp01.sth.basefarm.net) (80.76.149.212)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Oct 2007 17:07:42 +0000
Received: from c83-249-118-113.bredband.comhem.se ([83.249.118.113]:50710 helo=[192.168.1.101])
	by ch-smtp01.sth.basefarm.net with esmtp (Exim 4.68)
	(envelope-from <karl.wettin@gmail.com>)
	id 1IivJh-0006Wx-57
	for java-user@lucene.apache.org; Fri, 19 Oct 2007 19:07:21 +0200
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <4718ddd5.17e7300a.01d6.ffff80d5@mx.google.com>
References: <4718ddd5.17e7300a.01d6.ffff80d5@mx.google.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <CEF1D3CF-F097-4545-812F-2C4FB5A55DD3@gmail.com>
Content-Transfer-Encoding: 7bit
From: Karl Wettin <karl.wettin@gmail.com>
Subject: Re: Norm - please lit it up for me
Date: Fri, 19 Oct 2007 19:07:18 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Originating-IP: 83.249.118.113
X-Scan-Result: No virus found in message 1IivJh-0006Wx-57.
X-Scan-Signature: ch-smtp01.sth.basefarm.net 1IivJh-0006Wx-57 86578c3aeab6d20ca8627fc1856a4fe4
X-Virus-Checked: Checked by ClamAV on apache.org


19 okt 2007 kl. 18.39 skrev Dino Korah:

> Could someone help me understand normalization factors for a field.

doc[0] <text: hello hello hello>
doc[1] <text: hello>

With normalization doc[0] and doc[1] are equally important. Omitting  
normalization makes doc[0] (usually) three times as important as doc[1].

> Also please tell me what are the situations where I should omit
> normalization factors when adding a document.

Formula 1A is to omit normalization on fields that always contain a  
single term such as primary key, timestamp, etc.


-- 
karl


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30673-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 19 17:55:54 2007
Return-Path: <java-user-return-30673-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49489 invoked from network); 19 Oct 2007 17:55:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 19 Oct 2007 17:55:54 -0000
Received: (qmail 4582 invoked by uid 500); 19 Oct 2007 17:55:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4545 invoked by uid 500); 19 Oct 2007 17:55:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4534 invoked by uid 99); 19 Oct 2007 17:55:35 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Oct 2007 10:55:35 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lucenelist2007@danielnaber.de designates 80.67.29.28 as permitted sender)
Received: from [80.67.29.28] (HELO smtprelay11.ispgateway.de) (80.67.29.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Oct 2007 17:55:36 +0000
Received: (qmail 9754 invoked from network); 19 Oct 2007 17:54:57 -0000
Received: from unknown (HELO p54bfff96.dip.t-dialin.net) (695637@[84.191.255.150])
          (envelope-sender <lucenelist2007@danielnaber.de>)
          by smtprelay11.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 19 Oct 2007 17:54:57 -0000
From: Daniel Naber <lucenelist2007@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: Sort by date with Lucene 2.2.0 ...
Date: Fri, 19 Oct 2007 19:50:46 +0200
User-Agent: KMail/1.8.2
References: <BLU119-W24BCF22239FB155ADEFC22B99E0@phx.gbl>
In-Reply-To: <BLU119-W24BCF22239FB155ADEFC22B99E0@phx.gbl>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200710191950.47203@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org

On Thursday 18 October 2007 21:35, Dragon Fly wrote:

> I'm am trying to sort a date field in my index but I'm seeing strange
> results. =C2=A0I have searched the Lucene user mail archive for Datetools=
 but
> still couldn't figure out the problem.

It shouldn't make a difference but does it help if you specify the field=20
type using a SortField object? If not, could you make this a stand-alone=20
test case so people can easier debug it?

Regards
 Daniel

=2D-=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30674-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 19 19:42:37 2007
Return-Path: <java-user-return-30674-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84691 invoked from network); 19 Oct 2007 19:42:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 19 Oct 2007 19:42:37 -0000
Received: (qmail 50469 invoked by uid 500); 19 Oct 2007 19:42:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50171 invoked by uid 500); 19 Oct 2007 19:42:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50160 invoked by uid 99); 19 Oct 2007 19:42:18 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Oct 2007 12:42:18 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lucenelist2007@danielnaber.de designates 80.67.29.24 as permitted sender)
Received: from [80.67.29.24] (HELO smtprelay10.ispgateway.de) (80.67.29.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Oct 2007 19:42:19 +0000
Received: (qmail 7512 invoked from network); 19 Oct 2007 19:41:40 -0000
Received: from unknown (HELO p54bfc7c5.dip.t-dialin.net) (695637@[84.191.199.197])
          (envelope-sender <lucenelist2007@danielnaber.de>)
          by smtprelay10.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 19 Oct 2007 19:41:40 -0000
From: Daniel Naber <lucenelist2007@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: Sample SynonymAnalyzer vs. Lucene 2.2
Date: Fri, 19 Oct 2007 21:37:26 +0200
User-Agent: KMail/1.8.2
References: <20071019124217.GA7398@dague.net>
In-Reply-To: <20071019124217.GA7398@dague.net>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200710192137.26552@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org

On Friday 19 October 2007 14:42, Sean Dague wrote:

> Ends up only indexing the synonym, but not the base word itself.

I cannot reproduce the problem, i.e. I see both the original term and its 
synonyms in the index. Maybe you can post the analyzer that uses this 
filter or a test case to reproduce the problem?

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30675-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 19 19:45:40 2007
Return-Path: <java-user-return-30675-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85289 invoked from network); 19 Oct 2007 19:45:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 19 Oct 2007 19:45:40 -0000
Received: (qmail 55100 invoked by uid 500); 19 Oct 2007 19:45:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54681 invoked by uid 500); 19 Oct 2007 19:45:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54666 invoked by uid 99); 19 Oct 2007 19:45:21 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Oct 2007 12:45:21 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lucenelist2007@danielnaber.de designates 80.67.29.28 as permitted sender)
Received: from [80.67.29.28] (HELO smtprelay11.ispgateway.de) (80.67.29.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Oct 2007 19:45:22 +0000
Received: (qmail 22889 invoked from network); 19 Oct 2007 19:44:44 -0000
Received: from unknown (HELO p54bfc7c5.dip.t-dialin.net) (695637@[84.191.199.197])
          (envelope-sender <lucenelist2007@danielnaber.de>)
          by smtprelay11.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 19 Oct 2007 19:44:44 -0000
From: Daniel Naber <lucenelist2007@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: Norm - please lit it up for me
Date: Fri, 19 Oct 2007 21:40:32 +0200
User-Agent: KMail/1.8.2
References: <4718ddd5.17e7300a.01d6.ffff80d5@mx.google.com> <CEF1D3CF-F097-4545-812F-2C4FB5A55DD3@gmail.com>
In-Reply-To: <CEF1D3CF-F097-4545-812F-2C4FB5A55DD3@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200710192140.32133@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org

On Friday 19 October 2007 19:07, Karl Wettin wrote:

> doc[0] <text: hello hello hello>
> doc[1] <text: hello>
>
> With normalization doc[0] and doc[1] are equally important. Omitting =C2=
=A0
> normalization makes doc[0] (usually) three times as important as doc[1].

Not quite, as the normalization only refers to the length of the document.=
=20
But the fact that "hello hello hello" contains the searched term three=20
times makes it have a larger score no matter if normalization is set.

However, for this example, both docs have the same score with
f.setOmitNorms(true) when searching for "hello":

doc[0] <text: hello foo foo>
doc[1] <text: hello>

Regards
 Daniel

=2D-=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30676-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 21 01:45:08 2007
Return-Path: <java-user-return-30676-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89996 invoked from network); 21 Oct 2007 01:45:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 21 Oct 2007 01:45:07 -0000
Received: (qmail 38011 invoked by uid 500); 21 Oct 2007 01:44:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37977 invoked by uid 500); 21 Oct 2007 01:44:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37966 invoked by uid 99); 21 Oct 2007 01:44:48 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 20 Oct 2007 18:44:48 -0700
X-ASF-Spam-Status: No, hits=2.7 required=10.0
	tests=HTML_MESSAGE,REPTO_QUOTE_YAHOO,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [206.190.49.19] (HELO web52909.mail.re2.yahoo.com) (206.190.49.19)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 21 Oct 2007 01:44:51 +0000
Received: (qmail 10742 invoked by uid 60001); 21 Oct 2007 01:44:30 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Reply-To:Subject:To:MIME-Version:Content-Type:Message-ID;
  b=6uRX1qnnoSNoWGiaMoB79gczpzmhfJvUui6C05876SXy+tBh6mM9/y22x8M++I4EhIUJOhRvdAHQp2K90zp3+VqmSCZSyCOWnY/srTzSuiiO3LCqiR8nZYQTk3DScdb1Pg+JAWdXZhWcbre97GcoiIEGu7YCO+k1LJtc6bHS80E=;
X-YMail-OSG: qWOOZCgVM1muOsAVJGkVqCA8GkriCnJzjVgkcRpIRsSZfhxhy9Gq2eot55wzNI6KG5BDSoNvK0P8HdPoG2S1Q_ldhUUR9oRq28A4LyFMdb3dGWEMezw-
Received: from [125.60.241.200] by web52909.mail.re2.yahoo.com via HTTP; Sat, 20 Oct 2007 18:44:29 PDT
X-Mailer: YahooMailRC/814.06 YahooMailWebService/0.7.134.12
Date: Sat, 20 Oct 2007 18:44:29 -0700 (PDT)
From: "Johnny R. Ruiz III" <jorzi@yahoo.com>
Reply-To: "Johnny R. Ruiz III" <jorzi@yahoo.com>
Subject: How to do RangeQuery on a Computed Value of a Field?
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-343333296-1192931069=:9075"
Message-ID: <999103.9075.qm@web52909.mail.re2.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-343333296-1192931069=:9075
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable

Hi All,=0A=0AI was looking for a way to do a range query on 2 numeric field=
 of my index.  The tricky part is, I don't directly use the numeric field b=
ut I have to use it on a computation formula to satisfy my criteria.  =0A=
=0AHope this helps to explain my scenario: =0A=0ApointX-->  latitude X inpu=
t by user.=0ApointY-->  longitude Y input by user.=0A=0AlocX  -->  field in=
dexed in lucene=0AlocY  -->  field indexed in lucene=0A=0Aradius -->  const=
ant value as acceptable distance to be returned in search results (hits)=0A=
=0AConditon to satisfy: =0A=0AMath.sqrt ( (  locX - pointX ) + ( locY - poi=
ntY ) ) <=3D radius =0A=0AIs this possible in lucene?  Has anyone did this =
before?  Thanks in Advance! =0A=0AMy Actual Use Case is I want to return al=
l location within a certain Radius of 1 mile given PointX and PointY from U=
ser.  =0A=0ARegards,=0AJohnny Ruiz=0A=0A=0A=0A=0A__________________________=
________________________=0ADo You Yahoo!?=0ATired of spam?  Yahoo! Mail has=
 the best spam protection around =0Ahttp://mail.yahoo.com 
--0-343333296-1192931069=:9075--

From java-user-return-30677-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 21 05:43:37 2007
Return-Path: <java-user-return-30677-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21178 invoked from network); 21 Oct 2007 05:43:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 21 Oct 2007 05:43:37 -0000
Received: (qmail 19332 invoked by uid 500); 21 Oct 2007 05:43:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19294 invoked by uid 500); 21 Oct 2007 05:43:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19282 invoked by uid 99); 21 Oct 2007 05:43:19 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 20 Oct 2007 22:43:18 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [206.190.38.59] (HELO web50305.mail.re2.yahoo.com) (206.190.38.59)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 21 Oct 2007 05:43:20 +0000
Received: (qmail 86929 invoked by uid 60001); 21 Oct 2007 05:42:59 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=PUWyTpG8vb/rjEGpNzXHoNuRKn3J/CEVyH+iBoOEKYO99c9TjTD+8/1nn1oW2MPWLOcp4uqWQtASA415CKlj+zfeO/I6Y5hWvqtFPXvH+quCs7+Vsn8PDyqg+nECJP+k7A37F5uwkWCKojhYM0raK8hGb9lG/40nyQ2M2FkmBj4=;
X-YMail-OSG: iOWEXtkVM1lFAyzSKBm.2SDX8d3LVfEs4vEqHTZ3PUjkjC0z27mxV1.UP6TfMh0tKNNX67smCuUcQ1.JkSw6a4hd6qwqx9hhydIH4.1x_mq7_d9Ygxo-
Received: from [72.231.9.236] by web50305.mail.re2.yahoo.com via HTTP; Sat, 20 Oct 2007 22:42:58 PDT
X-Mailer: YahooMailRC/814.06 YahooMailWebService/0.7.134.12
Date: Sat, 20 Oct 2007 22:42:58 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Lucene and KFS (Kosmos Filesystem)
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Message-ID: <961678.86081.qm@web50305.mail.re2.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,=0A=0AHas anyone tried running Lucene (indexing+searching) on top of KFS=
 ( http://kosmosfs.sourceforge.net/ )?  From reading about KFS it makes me =
think it would not be great for searching for the same reason HDFS is not t=
he best place to keep your searchable Lucene indices, but maybe somebody ha=
s tried it with Lucene and has some more concrete observations?=0A=0AThanks=
,=0AOtis=0A--=0ASematext -- http://sematext.com/ -- Lucene - Solr - Nutch=
=0A=0A

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30678-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 21 13:38:53 2007
Return-Path: <java-user-return-30678-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38959 invoked from network); 21 Oct 2007 13:38:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 21 Oct 2007 13:38:52 -0000
Received: (qmail 70811 invoked by uid 500); 21 Oct 2007 13:38:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70783 invoked by uid 500); 21 Oct 2007 13:38:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70772 invoked by uid 99); 21 Oct 2007 13:38:34 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Oct 2007 06:38:34 -0700
X-ASF-Spam-Status: No, hits=-4.0 required=10.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of DORONC@il.ibm.com designates 195.212.29.150 as permitted sender)
Received: from [195.212.29.150] (HELO mtagate1.de.ibm.com) (195.212.29.150)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Oct 2007 13:38:36 +0000
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate1.de.ibm.com (8.13.8/8.13.8) with ESMTP id l9LDbETh319312
	for <java-user@lucene.apache.org>; Sun, 21 Oct 2007 13:37:14 GMT
Received: from d12av04.megacenter.de.ibm.com (d12av04.megacenter.de.ibm.com [9.149.165.229])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.8/8.13.8/NCO v8.5) with ESMTP id l9LDbEp72248758
	for <java-user@lucene.apache.org>; Sun, 21 Oct 2007 15:37:14 +0200
Received: from d12av04.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l9LDbEtF027650
	for <java-user@lucene.apache.org>; Sun, 21 Oct 2007 15:37:14 +0200
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l9LDbEvE027647
	for <java-user@lucene.apache.org>; Sun, 21 Oct 2007 15:37:14 +0200
In-Reply-To: <999103.9075.qm@web52909.mail.re2.yahoo.com>
Subject: Re: How to do RangeQuery on a Computed Value of a Field?
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
Message-ID: <OF8A774ABD.E605E7C6-ONC225737B.0048C1A8-C225737B.004A734C@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Sun, 21 Oct 2007 15:33:11 +0200
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.2HF71 | November 3, 2006) at
 21/10/2007 15:37:14
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

You could use ValueSourceQuery for this - see
o.a.l.search.function. The trick is to create
your ValueSource class that is using two
FieldCacheSource objects - one for each location.

See http://issues.apache.org/jira/browse/LUCENE-1019
for a related example.

Note however that this solution would work well only
as long as the index is not huge. For a very large
index the loading of the entire two fields into the
FieldCache would become heavy, as will warming a new
searcher. This will be resolved once we heve a
payload-based ValueSource.

Doron

"Johnny R. Ruiz III" <jorzi@yahoo.com> wrote on 21/10/2007 03:44:29:

> Hi All,
>
> I was looking for a way to do a range query on 2 numeric field
> of my index.  The tricky part is, I don't directly use the
> numeric field but I have to use it on a computation formula to
> satisfy my criteria.
>
> Hope this helps to explain my scenario:
>
> pointX-->  latitude X input by user.
> pointY-->  longitude Y input by user.
>
> locX  -->  field indexed in lucene
> locY  -->  field indexed in lucene
>
> radius -->  constant value as acceptable distance to be
> returned in search results (hits)
>
> Conditon to satisfy:
>
> Math.sqrt ( (  locX - pointX ) + ( locY - pointY ) ) <= radius
>
> Is this possible in lucene?  Has anyone did this before?
> Thanks in Advance!
>
> My Actual Use Case is I want to return all location within a
> certain Radius of 1 mile given PointX and PointY from User.
>
> Regards,
> Johnny Ruiz


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30679-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 21 15:22:11 2007
Return-Path: <java-user-return-30679-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84550 invoked from network); 21 Oct 2007 15:22:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 21 Oct 2007 15:22:11 -0000
Received: (qmail 28892 invoked by uid 500); 21 Oct 2007 15:21:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28849 invoked by uid 500); 21 Oct 2007 15:21:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28838 invoked by uid 99); 21 Oct 2007 15:21:52 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Oct 2007 08:21:52 -0700
X-ASF-Spam-Status: No, hits=-2.0 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of Chris.Sizemore@bbc.co.uk designates 132.185.144.142 as permitted sender)
Received: from [132.185.144.142] (HELO mailgw2.mh.bbc.co.uk) (132.185.144.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Oct 2007 15:21:56 +0000
Received: from bbcxue219.national.core.bbc.co.uk ([10.180.130.168])
	by mailgw2.mh.bbc.co.uk (8.13.7/8.13.7) with ESMTP id l9LFLYt2012562
	for <java-user@lucene.apache.org>; Sun, 21 Oct 2007 16:21:34 +0100 (BST)
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C813F6.10BB4330"
Subject: MoreLikeThis across multiple fields question...
Date: Sun, 21 Oct 2007 16:21:34 +0100
Message-ID: <22E75701DF55CB459F5EC560C366846703F0E7BA@bbcxue219.national.core.bbc.co.uk>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: MoreLikeThis across multiple fields question...
Thread-Index: AcgThCKpeeVemrlpT9yR9NRFFM4pKwAb2hkf
References: <1192931089.38039.ezmlm@lucene.apache.org>
From: "Chris Sizemore" <Chris.Sizemore@bbc.co.uk>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

------_=_NextPart_001_01C813F6.10BB4330
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

hello--

i'm using MoreLikeThis. i'm trying to run the document comparison across =
more than one field in my index, but i'm not at all sure that it's actual=
ly happening -- when i examine the constructed query, only one field is m=
entioned! here's my code:

FileReader reader =3D new FileReader("/Users/onpause/aTest.txt");
IndexReader ir =3D IndexReader.open(index);
IndexSearcher is =3D new IndexSearcher(index);
MoreLikeThis mlt =3D new MoreLikeThis(ir);
String [] mltFields =3D new String[] {"conceptSearch","abstract","content=
s","conceptDisplay"};
mlt.setFieldNames(mltFields);
Analyzer analyzer =3D new StandardAnalyzer();
mlt.setAnalyzer(analyzer);
Query mltQuery =3D mlt.like(reader);
Hits hits =3D is.search(mltQuery);

System.out.println("query: "+ mltQuery.toString() + "   ; fields: " + mlt=
=2EgetFieldNames().toString()  + " ::: params: "+mlt.describeParams());



here's what that last println prints out:


query: contents:rainbow contents:edinburgh contents:actress contents:fest=
ival contents:end   ;

fields: [Ljava.lang.String;@199939 :::=20

params: maxQueryTerms  : 25
        minWordLen     : 0
        maxWordLen     : 0
        fieldNames     : "conceptSearch, abstract, contents, conceptDispl=
ay
        boost          : false
        minTermFreq    : 1
        minDocFreq     : 1


why does the query only contain references to the field "contents"? i exp=
ected it to contain references to all 4 fields i assigned, something like=
:

(contents:rainbow contents:edinburgh contents:actress contents:festival c=
ontents:end) (abstract:rainbow... etc etc

when the field "contents" is in the list, it ends up being the only one v=
isibly used in the printed query -- the others seem suppressed, at least =
from the print...

i really want to make sure i'm MLT-ing across all 4 fields, because i ind=
exed then with different boosts, hoping this would influence the MLT resu=
lt scoring...

also, and i'm sure this is because i'm such i naive java user, how can i =
convert this object reference [Ljava.lang.String;@199939  to something mo=
re useful to read?


thanks in advance for any advice!


best--

--chris sizemore

http://www.bbc.co.uk/
This e-mail (and any attachments) is confidential and may contain persona=
l views which are not the views of the BBC unless specifically stated.
If you have received it in error, please delete it from your system.
Do not use, copy or disclose the information in any way nor act in relian=
ce on it and notify the sender immediately.
Please note that the BBC monitors e-mails sent or received.
Further communication will signify your consent to this.
				=09

------_=_NextPart_001_01C813F6.10BB4330--

From java-user-return-30680-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 21 16:51:28 2007
Return-Path: <java-user-return-30680-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20845 invoked from network); 21 Oct 2007 16:51:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 21 Oct 2007 16:51:28 -0000
Received: (qmail 83390 invoked by uid 500); 21 Oct 2007 16:51:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83361 invoked by uid 500); 21 Oct 2007 16:51:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83349 invoked by uid 99); 21 Oct 2007 16:51:10 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Oct 2007 09:51:10 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [62.213.161.134] (HELO pmx.sirma.bg) (62.213.161.134)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Oct 2007 16:51:13 +0000
Received: from localhost (localhost [127.0.0.1])
	by pmx.sirma.bg (Sirma mail system) with ESMTP id 5BB5B2448A6
	for <java-user@lucene.apache.org>; Sun, 21 Oct 2007 19:50:50 +0300 (EEST)
X-Virus-Scanned: amavisd-new at sirma.bg
Received: from pmx.sirma.bg ([127.0.0.1])
	by localhost (pmx.sirma.bg [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id XF+92PRsN7y4 for <java-user@lucene.apache.org>;
	Sun, 21 Oct 2007 19:50:50 +0300 (EEST)
Received: from [192.168.128.140] (ivasilev.sirma.int [192.168.128.140])
	by pmx.sirma.bg (Sirma mail system) with ESMTP id 47558244891
	for <java-user@lucene.apache.org>; Sun, 21 Oct 2007 19:50:50 +0300 (EEST)
Message-ID: <471B836A.6080106@sirma.bg>
Date: Sun, 21 Oct 2007 19:50:50 +0300
From: Ivan Vasilev <ivasilev@sirma.bg>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: LUCENE MAIL LIST <java-user@lucene.apache.org>
Subject: Is there bug in Range searches?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Guys,
There is something in the Lucene that disturbs me. My question is about 
sorting. In the queries there are used collator objects that sort the 
results (in the class FieldSortedHitQueue). But in the indexing process 
they are not used. As I now all the terms are ordered during the 
indexing process. Based on this ordering are performed Range searches. 
Currently I think the sorting during the indexing process is made in the 
classes org.apache.lucene.index.Term and TermBuffer. But there is used 
code like this:

text.compareTo(other.text);

or character comparison in the char arrays in the class TermBuffer.

but not collator.compare(text, othre.text);

    So my questions are:

   1. Are Range queries work correctly with all languages for which
      there are analyzers? (for example CJK and Thai);
   2. If the answer is no can I fix this problem by adding collators in
      the above classes?

Best Regards,

Ivan

 

 

 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30681-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 21 17:06:08 2007
Return-Path: <java-user-return-30681-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24114 invoked from network); 21 Oct 2007 17:06:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 21 Oct 2007 17:06:07 -0000
Received: (qmail 89172 invoked by uid 500); 21 Oct 2007 17:05:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89143 invoked by uid 500); 21 Oct 2007 17:05:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89132 invoked by uid 99); 21 Oct 2007 17:05:49 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Oct 2007 10:05:49 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [62.213.161.134] (HELO pmx.sirma.bg) (62.213.161.134)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Oct 2007 17:05:52 +0000
Received: from localhost (localhost [127.0.0.1])
	by pmx.sirma.bg (Sirma mail system) with ESMTP id E59722448A8
	for <java-user@lucene.apache.org>; Sun, 21 Oct 2007 20:05:30 +0300 (EEST)
X-Virus-Scanned: amavisd-new at sirma.bg
Received: from pmx.sirma.bg ([127.0.0.1])
	by localhost (pmx.sirma.bg [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id at5X6rTtIbmh for <java-user@lucene.apache.org>;
	Sun, 21 Oct 2007 20:05:30 +0300 (EEST)
Received: from [192.168.128.140] (ivasilev.sirma.int [192.168.128.140])
	by pmx.sirma.bg (Sirma mail system) with ESMTP id D05CB244891
	for <java-user@lucene.apache.org>; Sun, 21 Oct 2007 20:05:30 +0300 (EEST)
Message-ID: <471B86DA.6000807@sirma.bg>
Date: Sun, 21 Oct 2007 20:05:30 +0300
From: Ivan Vasilev <ivasilev@sirma.bg>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: LUCENE MAIL LIST <java-user@lucene.apache.org>
Subject: How to change Collators per field when querying?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Guys,

We have implemented per field setting of Analyzers, based on the 
language that is used for the responding field. Example: field FileName 
is in English, field Content in Chinese. This we do by creating our 
class that implements Analyzer and wraps two analyzers StandardAnalyzer 
and CJKAnalyzer and in the method tokenStream(String fieldName, Reader 
reader) does the real tokenization with proper analyzer based on the 
field name.

So my question is:

What is the best practice Lucene approach to change the Collator object 
in the same manner per field during the searching process, when sorting 
the results?

Best Regards,
Ivan


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30682-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 21 17:52:57 2007
Return-Path: <java-user-return-30682-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35765 invoked from network); 21 Oct 2007 17:52:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 21 Oct 2007 17:52:57 -0000
Received: (qmail 3517 invoked by uid 500); 21 Oct 2007 17:52:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3484 invoked by uid 500); 21 Oct 2007 17:52:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3468 invoked by uid 99); 21 Oct 2007 17:52:38 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Oct 2007 10:52:38 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lucenelist2007@danielnaber.de designates 80.67.29.29 as permitted sender)
Received: from [80.67.29.29] (HELO smtprelay12.ispgateway.de) (80.67.29.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Oct 2007 17:52:36 +0000
Received: (qmail 414 invoked from network); 21 Oct 2007 17:52:13 -0000
Received: from unknown (HELO p54bff25d.dip.t-dialin.net) (695637@[84.191.242.93])
          (envelope-sender <lucenelist2007@danielnaber.de>)
          by smtprelay12.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 21 Oct 2007 17:52:13 -0000
From: Daniel Naber <lucenelist2007@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: MoreLikeThis across multiple fields question...
Date: Sun, 21 Oct 2007 19:48:11 +0200
User-Agent: KMail/1.8.2
References: <1192931089.38039.ezmlm@lucene.apache.org> <22E75701DF55CB459F5EC560C366846703F0E7BA@bbcxue219.national.core.bbc.co.uk>
In-Reply-To: <22E75701DF55CB459F5EC560C366846703F0E7BA@bbcxue219.national.core.bbc.co.uk>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200710211948.11884@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org

On Sunday 21 October 2007 17:21, Chris Sizemore wrote:

> i'm using MoreLikeThis. i'm trying to run the document comparison across
> more than one field in my index, but i'm not at all sure that it's
> actually happening -- when i examine the constructed query, only one
> field is mentioned! here's my code:

This looks like a bug indeed. Could you open a bug report to track this?

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30683-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 21 18:26:03 2007
Return-Path: <java-user-return-30683-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49282 invoked from network); 21 Oct 2007 18:26:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 21 Oct 2007 18:26:03 -0000
Received: (qmail 14786 invoked by uid 500); 21 Oct 2007 18:25:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14760 invoked by uid 500); 21 Oct 2007 18:25:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14749 invoked by uid 99); 21 Oct 2007 18:25:45 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Oct 2007 11:25:45 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lucenelist2007@danielnaber.de designates 80.67.18.13 as permitted sender)
Received: from [80.67.18.13] (HELO smtprelay01.ispgateway.de) (80.67.18.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Oct 2007 18:25:46 +0000
Received: (qmail 21284 invoked from network); 21 Oct 2007 18:24:53 -0000
Received: from unknown (HELO p54bff25d.dip.t-dialin.net) (695637@[84.191.242.93])
          (envelope-sender <lucenelist2007@danielnaber.de>)
          by smtprelay01.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 21 Oct 2007 18:24:53 -0000
From: Daniel Naber <lucenelist2007@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: MoreLikeThis across multiple fields question...
Date: Sun, 21 Oct 2007 20:20:53 +0200
User-Agent: KMail/1.8.2
References: <1192931089.38039.ezmlm@lucene.apache.org> <22E75701DF55CB459F5EC560C366846703F0E7BA@bbcxue219.national.core.bbc.co.uk>
In-Reply-To: <22E75701DF55CB459F5EC560C366846703F0E7BA@bbcxue219.national.core.bbc.co.uk>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200710212020.53459@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org

On Sunday 21 October 2007 17:21, Chris Sizemore wrote:

> i'm using MoreLikeThis. i'm trying to run the document comparison across
> more than one field in my index, but i'm not at all sure that it's
> actually happening -- when i examine the constructed query, only one
> field is mentioned! here's my code:

Actually looking at MoreLikeThis.createQueue() it's supposed to use only 
that field where most hits occur for that term, so you could end up with a 
query like:

conceptSearch:foo abstract:blah

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30684-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 21 18:57:24 2007
Return-Path: <java-user-return-30684-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58064 invoked from network); 21 Oct 2007 18:57:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 21 Oct 2007 18:57:24 -0000
Received: (qmail 36488 invoked by uid 500); 21 Oct 2007 18:57:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36447 invoked by uid 500); 21 Oct 2007 18:57:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36436 invoked by uid 99); 21 Oct 2007 18:57:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Oct 2007 11:57:05 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erickerickson@gmail.com designates 64.233.182.189 as permitted sender)
Received: from [64.233.182.189] (HELO nf-out-0910.google.com) (64.233.182.189)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Oct 2007 18:57:08 +0000
Received: by nf-out-0910.google.com with SMTP id d3so804557nfc
        for <java-user@lucene.apache.org>; Sun, 21 Oct 2007 11:56:46 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=mYf4vsM6NSHdr8nVgyFz63noae/7CcuEaaHj/FrKxyY=;
        b=Pc/128s1KbCFdsdSpAQWGygBR3jB/BOg0pMYw61OlnhFNkFyko26QB0BjBst7M1/ZVzeJePBhEUHYER/RRt8hFt7sorCW6QJvInbY1VV8PI6OgiStVzWpJwIUMRQ8cVl8xoZrNeT6r3bPGTEJ/ftbL78tq01Bm5e2C35QbVqs44=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=M1/EYf0rXt2ZTiYPOg1BrVdO3sbkyxLFOUwxCGJZocD8D2VNOELYZYE84uFdUDdUD3bTM6rtQx44cTFOn8cuG599a5p7tpTlwbKve7jDqMhhSm2kBRLYB/cCuDmUL+GF4+XP4IZa84ZBKCWAKMVTshkW9jlxyQgeLbrYP2LITRw=
Received: by 10.82.138.6 with SMTP id l6mr6894283bud.1192993006228;
        Sun, 21 Oct 2007 11:56:46 -0700 (PDT)
Received: by 10.82.167.3 with HTTP; Sun, 21 Oct 2007 11:56:46 -0700 (PDT)
Message-ID: <359a92830710211156j2b306bei26a2d44f0afe3190@mail.gmail.com>
Date: Sun, 21 Oct 2007 14:56:46 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org, "Johnny R. Ruiz III" <jorzi@yahoo.com>
Subject: Re: How to do RangeQuery on a Computed Value of a Field?
In-Reply-To: <999103.9075.qm@web52909.mail.re2.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_13758_8965570.1192993006223"
References: <999103.9075.qm@web52909.mail.re2.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_13758_8965570.1192993006223
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

There's also an example of something very similar in Lucene In Action.

Erick

On 10/20/07, Johnny R. Ruiz III <jorzi@yahoo.com> wrote:
>
> Hi All,
>
> I was looking for a way to do a range query on 2 numeric field of my
> index.  The tricky part is, I don't directly use the numeric field but I
> have to use it on a computation formula to satisfy my criteria.
>
> Hope this helps to explain my scenario:
>
> pointX-->  latitude X input by user.
> pointY-->  longitude Y input by user.
>
> locX  -->  field indexed in lucene
> locY  -->  field indexed in lucene
>
> radius -->  constant value as acceptable distance to be returned in search
> results (hits)
>
> Conditon to satisfy:
>
> Math.sqrt ( (  locX - pointX ) + ( locY - pointY ) ) <= radius
>
> Is this possible in lucene?  Has anyone did this before?  Thanks in
> Advance!
>
> My Actual Use Case is I want to return all location within a certain
> Radius of 1 mile given PointX and PointY from User.
>
> Regards,
> Johnny Ruiz
>
>
>
>
> __________________________________________________
> Do You Yahoo!?
> Tired of spam?  Yahoo! Mail has the best spam protection around
> http://mail.yahoo.com

------=_Part_13758_8965570.1192993006223--

From java-user-return-30685-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 21 22:23:28 2007
Return-Path: <java-user-return-30685-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10099 invoked from network); 21 Oct 2007 22:23:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 21 Oct 2007 22:23:27 -0000
Received: (qmail 25900 invoked by uid 500); 21 Oct 2007 22:23:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25869 invoked by uid 500); 21 Oct 2007 22:23:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25858 invoked by uid 99); 21 Oct 2007 22:23:09 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Oct 2007 15:23:09 -0700
X-ASF-Spam-Status: No, hits=2.7 required=10.0
	tests=HTML_MESSAGE,REPTO_QUOTE_YAHOO,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [206.190.49.16] (HELO web52906.mail.re2.yahoo.com) (206.190.49.16)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 21 Oct 2007 22:23:12 +0000
Received: (qmail 96773 invoked by uid 60001); 21 Oct 2007 22:22:51 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Reply-To:Subject:To:MIME-Version:Content-Type:Message-ID;
  b=TO70yOt973pnJPtijBw9kRUQWqfdIGHmpjh9n0Sn5hjeYwWULi5eRavDMfi6TH5J5SHSni7YF/iUXWNfi9jdETUvAAEPLQeauK8rm7fIVnXx2A/3vEkylr6pWV4m0gx2He4jb5c2oxrBkReGdacz9XF4Sw5DbHWJGmMcbCfleCw=;
X-YMail-OSG: nf382d0VM1mP39_8x40PoGuQi6hyjnpoaELVAHXpRr72NDk_djYnQFuJGQfzdBUZSD6pBwbj.ebwy8.S1ZoOLvDQBxVyQmL9GnmyWUjTW3FE.UeSAMs-
Received: from [125.60.241.200] by web52906.mail.re2.yahoo.com via HTTP; Sun, 21 Oct 2007 15:22:51 PDT
X-Mailer: YahooMailRC/814.06 YahooMailWebService/0.7.134.12
Date: Sun, 21 Oct 2007 15:22:51 -0700 (PDT)
From: "Johnny R. Ruiz III" <jorzi@yahoo.com>
Reply-To: "Johnny R. Ruiz III" <jorzi@yahoo.com>
Subject: Re: How to do RangeQuery on a Computed Value of a Field?
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1091981898-1193005371=:96194"
Message-ID: <287655.96194.qm@web52906.mail.re2.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-1091981898-1193005371=:96194
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable

Hi Eric,=0A=0ATnx, I just saw the example in Lucene in Action.  But I am no=
t sure how I can apply it in my case as it was used to sort the results, bu=
t what I need is to get only the records that are within a limit radius.  A=
nd I want the results to be sorted according to score (text match on title =
).  =0A=0ATnx for pointing me to that direction, I will study it and see ho=
w I can use it.  =0A=0AJohnny=0A=0A----- Original Message ----=0AFrom: Eric=
k Erickson <erickerickson@gmail.com>=0ATo: java-user@lucene.apache.org; Joh=
nny R. Ruiz III <jorzi@yahoo.com>=0ASent: Monday, October 22, 2007 2:56:46 =
AM=0ASubject: Re: How to do RangeQuery on a Computed Value of a Field?=0A=
=0A=0AThere's also an example of something very similar in Lucene In Action=
.=0A=0AErick=0A=0AOn 10/20/07, Johnny R. Ruiz III <jorzi@yahoo.com> wrote:=
=0A>=0A> Hi All,=0A>=0A> I was looking for a way to do a range query on 2 n=
umeric field of my=0A> index.  The tricky part is, I don't directly use the=
 numeric field=0A but I=0A> have to use it on a computation formula to sati=
sfy my criteria.=0A>=0A> Hope this helps to explain my scenario:=0A>=0A> po=
intX-->  latitude X input by user.=0A> pointY-->  longitude Y input by user=
.=0A>=0A> locX  -->  field indexed in lucene=0A> locY  -->  field indexed i=
n lucene=0A>=0A> radius -->  constant value as acceptable distance to be re=
turned in=0A search=0A> results (hits)=0A>=0A> Conditon to satisfy:=0A>=0A>=
 Math.sqrt ( (  locX - pointX ) + ( locY - pointY ) ) <=3D radius=0A>=0A> I=
s this possible in lucene?  Has anyone did this before?  Thanks in=0A> Adva=
nce!=0A>=0A> My Actual Use Case is I want to return all location within a c=
ertain=0A> Radius of 1 mile given PointX and PointY from User.=0A>=0A> Rega=
rds,=0A> Johnny Ruiz=0A>=0A>=0A>=0A>=0A> __________________________________=
________________=0A> Do You Yahoo!?=0A> Tired of spam?  Yahoo! Mail has the=
 best spam protection around=0A> http://mail.yahoo.com=0A=0A=0A=0A=0A=0A___=
_______________________________________________=0ADo You Yahoo!?=0ATired of=
 spam?  Yahoo! Mail has the best spam protection around =0Ahttp://mail.yaho=
o.com 
--0-1091981898-1193005371=:96194--

From java-user-return-30686-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 22 05:25:53 2007
Return-Path: <java-user-return-30686-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8577 invoked from network); 22 Oct 2007 05:25:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Oct 2007 05:25:53 -0000
Received: (qmail 77234 invoked by uid 500); 22 Oct 2007 05:25:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77203 invoked by uid 500); 22 Oct 2007 05:25:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77192 invoked by uid 99); 22 Oct 2007 05:25:35 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Oct 2007 22:25:35 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [208.69.42.181] (HELO radix.cryptio.net) (208.69.42.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Oct 2007 05:25:39 +0000
Received: by radix.cryptio.net (Postfix, from userid 1007)
	id 41F6171C0EF; Sun, 21 Oct 2007 22:25:19 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by radix.cryptio.net (Postfix) with ESMTP id 3449A71C09F
	for <java-user@lucene.apache.org>; Sun, 21 Oct 2007 22:25:19 -0700 (PDT)
Date: Sun, 21 Oct 2007 22:25:19 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: LUCENE MAIL LIST <java-user@lucene.apache.org>
Subject: Re: Is there bug in Range searches?
In-Reply-To: <471B836A.6080106@sirma.bg>
Message-ID: <Pine.LNX.4.62.0710212217220.9620@radix.cryptio.net>
References: <471B836A.6080106@sirma.bg>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

:   1. Are Range queries work correctly with all languages for which
:      there are analyzers? (for example CJK and Thai);

Terms when indexed are allways ordered lexigraphically (using 
Term.compareTo which uses String.compareTo) ... regardless of what field 
or language they are in, so "Range Queries" must do their comparisons 
lexigraphically as well.

because all Terms are indexed in one continuous TermEnum, it would be 
fairly imposible to definite different Collators per field at index time.

it's pretty rare that anyone ever talks about Range Queries on words, so 
this doesn't typiclly pose a problem ... i've never seen anyone comment 
that they can't do sane Range queries on their text because the language 
it's in doesn't collate in the same order as the default compareTo.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30687-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 22 11:32:21 2007
Return-Path: <java-user-return-30687-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40990 invoked from network); 22 Oct 2007 11:32:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Oct 2007 11:32:20 -0000
Received: (qmail 19563 invoked by uid 500); 22 Oct 2007 11:32:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18995 invoked by uid 500); 22 Oct 2007 11:32:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18984 invoked by uid 99); 22 Oct 2007 11:32:02 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Oct 2007 04:32:02 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [194.125.145.37] (HELO mercury.propylon.com) (194.125.145.37)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Oct 2007 11:32:05 +0000
Received: from propylon-sdsl.sdsl.esat.net ([193.120.101.26] helo=[192.168.213.155])
	by mercury.propylon.com with esmtp (Exim 4.50)
	id 1IjvSK-0000H6-33
	for java-user@lucene.apache.org; Mon, 22 Oct 2007 12:28:29 +0100
Message-ID: <471C8A11.9070004@propylon.com>
Date: Mon, 22 Oct 2007 12:31:29 +0100
From: John Byrne <john.byrne@propylon.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-SA-Exim-Connect-IP: 193.120.101.26
X-SA-Exim-Mail-From: john.byrne@propylon.com
Subject: Queries spanning paragraphs
X-Spam-Checker-Version: SpamAssassin 3.0.3 (2005-04-27) on 
	mercury.propylon.com
X-Spam-Level: 
X-SA-Exim-Version: 4.2 (built Thu, 03 Mar 2005 10:44:12 +0100)
X-SA-Exim-Scanned: Yes (on mercury.propylon.com)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=0.1 required=5.0 tests=AWL autolearn=failed 
	version=3.0.3

Hi all,

I need the ability to match documents that have two terms that occur 
within n paragraphs of each other. I had a look through the archives, 
and although many people have explained ways to implement per-sentence 
or per-paragraph indexing & searching, no seems to have tackeled this 
one yet.

The only idea I can up up with is this:

I will index the entire document, as normal, but also index the 
paragraphs seperately, numbering them accoring to the order they occur 
in. (Storage space isn't an issue). When searching, I will first find 
all documents that have both terms, using the full-content field.

Then I can get all the paragraphs that are part of that doc, and have 
either of the search terms. I would still have to implement a bit of 
logic to check which paragraphs have which term, and check the distance 
between them (from the order info I kept when indexing).

I'm sure this would work, but it would be very slow. I can't help 
feeling there's a better solution, that might involve inserting 
paragraph tags into the content in a special field in my index, and 
somehow using SpanQueries to find matches that have a given number of 
paragraph marks in between... but I don't know if that's possible.

Does anyone have any ideas?

Thanks!
John B.




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30688-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 22 11:43:20 2007
Return-Path: <java-user-return-30688-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43548 invoked from network); 22 Oct 2007 11:43:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Oct 2007 11:43:19 -0000
Received: (qmail 35847 invoked by uid 500); 22 Oct 2007 11:43:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35816 invoked by uid 500); 22 Oct 2007 11:43:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35805 invoked by uid 99); 22 Oct 2007 11:43:01 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Oct 2007 04:43:01 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of markrmiller@gmail.com designates 209.85.132.242 as permitted sender)
Received: from [209.85.132.242] (HELO an-out-0708.google.com) (209.85.132.242)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Oct 2007 11:43:02 +0000
Received: by an-out-0708.google.com with SMTP id d40so138021and
        for <java-user@lucene.apache.org>; Mon, 22 Oct 2007 04:42:40 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        bh=Ow8ccSjF+MwA+DfVwk0LhW3p1A5Bg08dojxKNDtl1Aw=;
        b=GGJA9PT/Tt1lU4VAHI/w+efEhnMEa/HFY70RMxkKyUMfih0CfF+yNAUJlqftT1GTzs/6e43SNjrtTz3vt33susGgDJkOtNOci+ZIKH7524tCs+pvxggXrIVX6GIdddd9KMmKahfyCMwIcWXsWFqnBLSbS25VsI7T/NBZBg87x60=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=Pdn+rSM/vH1jqH6hYeSGih6F85UitGkBBPwM7RrOTFjxNwG7dp+sHhgw9meE1n3WJh/WT7nPnm2FgPIKF2E5Rn6Ib1giY1lDtJBYLa8/w1YNrUY5uJAMuWFS6B2xNy+QysudfE+i1RV/j+IjF73pyqJstPv6bQTUhHBc83UMko8=
Received: by 10.142.143.7 with SMTP id q7mr1143347wfd.1193053359803;
        Mon, 22 Oct 2007 04:42:39 -0700 (PDT)
Received: from ?192.168.1.103? ( [69.124.234.183])
        by mx.google.com with ESMTPS id 33sm7352894wra.2007.10.22.04.42.37
        (version=SSLv3 cipher=RC4-MD5);
        Mon, 22 Oct 2007 04:42:38 -0700 (PDT)
Message-ID: <471C8CA7.3050203@gmail.com>
Date: Mon, 22 Oct 2007 07:42:31 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Queries spanning paragraphs
References: <471C8A11.9070004@propylon.com>
In-Reply-To: <471C8A11.9070004@propylon.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

I implemented this for my qsol query parser: myhardshadow.com/qsol

Uses a modified SpanNotQuery that takes another parameter saying how 
many times the span can cross the specified marker. Index a special 
paragraph marker with your text to delimit paragraphs and then the rest 
is easy.

- Mark

public class SpanWithinQuery extends SpanQuery {
 
    private SpanQuery include;
    private SpanQuery exclude;
    private int proximity;

    /** Construct a SpanWithinQuery matching spans from 
<code>include</code> which
     *  overlap with spans from <code>exclude</code> up to 
<code>proximity</code> times.*/
    public SpanWithinQuery(SpanQuery include, SpanQuery exclude, int 
proximity) {
        this.include = include;
        this.exclude = exclude;
        this.proximity = proximity;

        if (!include.getField().equals(exclude.getField())) {
            throw new IllegalArgumentException("Clauses must have same 
field.");
        }
    }

    /** Return the SpanQuery whose matches are filtered. */
    public SpanQuery getInclude() {
        return include;
    }

    /** Return the SpanQuery whose matches must not overlap those 
returned. */
    public SpanQuery getExclude() {
        return exclude;
    }

    public String getField() {
        return include.getField();
    }

    /** Returns a collection of all terms matched by this query.
     * @deprecated use extractTerms instead
     * @see #extractTerms(Set)
     */
    public Collection getTerms() {
        return include.getTerms();
    }

    public void extractTerms(Set terms) {
        include.extractTerms(terms);
    }

    public String toString(String field) {
        StringBuffer buffer = new StringBuffer();
        buffer.append("spanWithin(");
        buffer.append(include.toString(field));
        buffer.append(", ");
        buffer.append(proximity + " ,");
        buffer.append(exclude.toString(field));
        buffer.append(")");
        buffer.append(ToStringUtils.boost(getBoost()));

        return buffer.toString();
    }

    public Spans getSpans(final IndexReader reader) throws IOException {
        return new Spans() {
                private Spans includeSpans = include.getSpans(reader);
                private boolean moreInclude = true;
                private Spans excludeSpans = exclude.getSpans(reader);
                private boolean moreExclude = true;

                public boolean next() throws IOException {
                    if (moreInclude) { // move to next include
                        moreInclude = includeSpans.next();
                    }

                    while (moreInclude && moreExclude) {
                        if (includeSpans.doc() > excludeSpans.doc()) { 
// skip exclude
                            moreExclude = 
excludeSpans.skipTo(includeSpans.doc());
                        }

                        int count = 0;

                        while (moreExclude // while exclude is before
                                 &&(includeSpans.doc() == 
excludeSpans.doc())) {
                            if ((!(excludeSpans.end() <= 
includeSpans.start()))) {
                                count += 1;

                                if (count > proximity) {
                                    break;
                                }
                            }

                            moreExclude = excludeSpans.next(); // 
increment exclude
                        }

                        if (!moreExclude // if no intersection
                                 ||(includeSpans.doc() != 
excludeSpans.doc()) ||
                                (includeSpans.end() <= 
excludeSpans.start())) {
                            break; // we found a match
                        }

                        moreInclude = includeSpans.next(); // 
intersected: keep scanning
                    }

                    return moreInclude;
                }

                public boolean skipTo(int target) throws IOException {
                    if (moreInclude) { // skip include
                        moreInclude = includeSpans.skipTo(target);
                    }

                    if (!moreInclude) {
                        return false;
                    }

                    if (moreExclude // skip exclude
                             &&(includeSpans.doc() > excludeSpans.doc())) {
                        moreExclude = 
excludeSpans.skipTo(includeSpans.doc());
                    }

                    int count = 0;

                    while (moreExclude // while exclude is before
                             &&(includeSpans.doc() == excludeSpans.doc())) {
                        if ((!(excludeSpans.end() <= 
includeSpans.start()))) {
                            count += 1;

                            if (count > proximity) {
                                break;
                            }
                        }

                        moreExclude = excludeSpans.next(); // increment 
exclude
                    }

                    if (!moreExclude // if no intersection
                             ||(includeSpans.doc() != excludeSpans.doc()) ||
                            (includeSpans.end() <= excludeSpans.start())) {
                        return true; // we found a match
                    }

                    boolean returnboolean = next();

                    return returnboolean; // scan to next match
                }

                public int doc() {
                    return includeSpans.doc();
                }

                public int start() {
                    return includeSpans.start();
                }

                public int end() {
                    return includeSpans.end();
                }

                public String toString() {
                    return "spans(" + SpanWithinQuery.this.toString() + ")";
                }
            };
    }

    public Query rewrite(IndexReader reader) throws IOException {
        SpanWithinQuery clone = null;

        SpanQuery rewrittenInclude = (SpanQuery) include.rewrite(reader);

        if (rewrittenInclude != include) {
            clone = (SpanWithinQuery) this.clone();
            clone.include = rewrittenInclude;
        }

        SpanQuery rewrittenExclude = (SpanQuery) exclude.rewrite(reader);

        if (rewrittenExclude != exclude) {
            if (clone == null) {
                clone = (SpanWithinQuery) this.clone();
            }

            clone.exclude = rewrittenExclude;
        }

        if (clone != null) {
            return clone; // some clauses rewrote
        } else {
            return this; // no clauses rewrote
        }
    }

    /** Returns true iff <code>o</code> is equal to this. */
    public boolean equals(Object o) {
        if (this == o) {
            return true;
        }

        if (!(o instanceof SpanWithinQuery)) {
            return false;
        }

        SpanWithinQuery other = (SpanWithinQuery) o;

        return this.include.equals(other.include) &&
        this.exclude.equals(other.exclude) &&
        (this.getBoost() == other.getBoost()) && (proximity == 
other.proximity);
    }

    public int hashCode() {
        int h = include.hashCode();
        h = (h << 1) | (h >>> 31); // rotate left
        h ^= exclude.hashCode();
        h = (h << 1) | (h >>> 31); // rotate left
        h ^= Float.floatToRawIntBits(getBoost());
        h ^= proximity;

        return h;
    }
}


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30689-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 22 13:06:14 2007
Return-Path: <java-user-return-30689-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70834 invoked from network); 22 Oct 2007 13:06:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Oct 2007 13:06:14 -0000
Received: (qmail 40647 invoked by uid 500); 22 Oct 2007 13:05:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40601 invoked by uid 500); 22 Oct 2007 13:05:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40590 invoked by uid 99); 22 Oct 2007 13:05:53 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Oct 2007 06:05:53 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [194.125.145.37] (HELO mercury.propylon.com) (194.125.145.37)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Oct 2007 13:05:54 +0000
Received: from propylon-sdsl.sdsl.esat.net ([193.120.101.26] helo=[192.168.213.155])
	by mercury.propylon.com with esmtp (Exim 4.50)
	id 1IjwvD-0002rz-2k
	for java-user@lucene.apache.org; Mon, 22 Oct 2007 14:02:25 +0100
Message-ID: <471CA011.1080009@propylon.com>
Date: Mon, 22 Oct 2007 14:05:21 +0100
From: John Byrne <john.byrne@propylon.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
References: <471C8A11.9070004@propylon.com> <471C8CA7.3050203@gmail.com>
In-Reply-To: <471C8CA7.3050203@gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-SA-Exim-Connect-IP: 193.120.101.26
X-SA-Exim-Mail-From: john.byrne@propylon.com
Subject: Re: Queries spanning paragraphs
X-Spam-Checker-Version: SpamAssassin 3.0.3 (2005-04-27) on 
	mercury.propylon.com
X-Spam-Level: 
X-SA-Exim-Version: 4.2 (built Thu, 03 Mar 2005 10:44:12 +0100)
X-SA-Exim-Scanned: Yes (on mercury.propylon.com)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=0.1 required=5.0 tests=AWL autolearn=failed 
	version=3.0.3

Thanks for that, that's exactly what I needed.

Actually, I hadn't heard of qsol, but it seems to solve a few other 
problems I have as well - correct highlighting, configurable operators, 
sentence recogition. Is it distributed under the Apache license? and is 
it currently stable enough to use out-of-the-box?

Cheers,
John


Mark Miller wrote:
> I implemented this for my qsol query parser: myhardshadow.com/qsol
>
> Uses a modified SpanNotQuery that takes another parameter saying how 
> many times the span can cross the specified marker. Index a special 
> paragraph marker with your text to delimit paragraphs and then the 
> rest is easy.
>
> - Mark
>
> public class SpanWithinQuery extends SpanQuery {
>
>    private SpanQuery include;
>    private SpanQuery exclude;
>    private int proximity;
>
>    /** Construct a SpanWithinQuery matching spans from 
> <code>include</code> which
>     *  overlap with spans from <code>exclude</code> up to 
> <code>proximity</code> times.*/
>    public SpanWithinQuery(SpanQuery include, SpanQuery exclude, int 
> proximity) {
>        this.include = include;
>        this.exclude = exclude;
>        this.proximity = proximity;
>
>        if (!include.getField().equals(exclude.getField())) {
>            throw new IllegalArgumentException("Clauses must have same 
> field.");
>        }
>    }
>
>    /** Return the SpanQuery whose matches are filtered. */
>    public SpanQuery getInclude() {
>        return include;
>    }
>
>    /** Return the SpanQuery whose matches must not overlap those 
> returned. */
>    public SpanQuery getExclude() {
>        return exclude;
>    }
>
>    public String getField() {
>        return include.getField();
>    }
>
>    /** Returns a collection of all terms matched by this query.
>     * @deprecated use extractTerms instead
>     * @see #extractTerms(Set)
>     */
>    public Collection getTerms() {
>        return include.getTerms();
>    }
>
>    public void extractTerms(Set terms) {
>        include.extractTerms(terms);
>    }
>
>    public String toString(String field) {
>        StringBuffer buffer = new StringBuffer();
>        buffer.append("spanWithin(");
>        buffer.append(include.toString(field));
>        buffer.append(", ");
>        buffer.append(proximity + " ,");
>        buffer.append(exclude.toString(field));
>        buffer.append(")");
>        buffer.append(ToStringUtils.boost(getBoost()));
>
>        return buffer.toString();
>    }
>
>    public Spans getSpans(final IndexReader reader) throws IOException {
>        return new Spans() {
>                private Spans includeSpans = include.getSpans(reader);
>                private boolean moreInclude = true;
>                private Spans excludeSpans = exclude.getSpans(reader);
>                private boolean moreExclude = true;
>
>                public boolean next() throws IOException {
>                    if (moreInclude) { // move to next include
>                        moreInclude = includeSpans.next();
>                    }
>
>                    while (moreInclude && moreExclude) {
>                        if (includeSpans.doc() > excludeSpans.doc()) { 
> // skip exclude
>                            moreExclude = 
> excludeSpans.skipTo(includeSpans.doc());
>                        }
>
>                        int count = 0;
>
>                        while (moreExclude // while exclude is before
>                                 &&(includeSpans.doc() == 
> excludeSpans.doc())) {
>                            if ((!(excludeSpans.end() <= 
> includeSpans.start()))) {
>                                count += 1;
>
>                                if (count > proximity) {
>                                    break;
>                                }
>                            }
>
>                            moreExclude = excludeSpans.next(); // 
> increment exclude
>                        }
>
>                        if (!moreExclude // if no intersection
>                                 ||(includeSpans.doc() != 
> excludeSpans.doc()) ||
>                                (includeSpans.end() <= 
> excludeSpans.start())) {
>                            break; // we found a match
>                        }
>
>                        moreInclude = includeSpans.next(); // 
> intersected: keep scanning
>                    }
>
>                    return moreInclude;
>                }
>
>                public boolean skipTo(int target) throws IOException {
>                    if (moreInclude) { // skip include
>                        moreInclude = includeSpans.skipTo(target);
>                    }
>
>                    if (!moreInclude) {
>                        return false;
>                    }
>
>                    if (moreExclude // skip exclude
>                             &&(includeSpans.doc() > 
> excludeSpans.doc())) {
>                        moreExclude = 
> excludeSpans.skipTo(includeSpans.doc());
>                    }
>
>                    int count = 0;
>
>                    while (moreExclude // while exclude is before
>                             &&(includeSpans.doc() == 
> excludeSpans.doc())) {
>                        if ((!(excludeSpans.end() <= 
> includeSpans.start()))) {
>                            count += 1;
>
>                            if (count > proximity) {
>                                break;
>                            }
>                        }
>
>                        moreExclude = excludeSpans.next(); // increment 
> exclude
>                    }
>
>                    if (!moreExclude // if no intersection
>                             ||(includeSpans.doc() != 
> excludeSpans.doc()) ||
>                            (includeSpans.end() <= 
> excludeSpans.start())) {
>                        return true; // we found a match
>                    }
>
>                    boolean returnboolean = next();
>
>                    return returnboolean; // scan to next match
>                }
>
>                public int doc() {
>                    return includeSpans.doc();
>                }
>
>                public int start() {
>                    return includeSpans.start();
>                }
>
>                public int end() {
>                    return includeSpans.end();
>                }
>
>                public String toString() {
>                    return "spans(" + SpanWithinQuery.this.toString() + 
> ")";
>                }
>            };
>    }
>
>    public Query rewrite(IndexReader reader) throws IOException {
>        SpanWithinQuery clone = null;
>
>        SpanQuery rewrittenInclude = (SpanQuery) include.rewrite(reader);
>
>        if (rewrittenInclude != include) {
>            clone = (SpanWithinQuery) this.clone();
>            clone.include = rewrittenInclude;
>        }
>
>        SpanQuery rewrittenExclude = (SpanQuery) exclude.rewrite(reader);
>
>        if (rewrittenExclude != exclude) {
>            if (clone == null) {
>                clone = (SpanWithinQuery) this.clone();
>            }
>
>            clone.exclude = rewrittenExclude;
>        }
>
>        if (clone != null) {
>            return clone; // some clauses rewrote
>        } else {
>            return this; // no clauses rewrote
>        }
>    }
>
>    /** Returns true iff <code>o</code> is equal to this. */
>    public boolean equals(Object o) {
>        if (this == o) {
>            return true;
>        }
>
>        if (!(o instanceof SpanWithinQuery)) {
>            return false;
>        }
>
>        SpanWithinQuery other = (SpanWithinQuery) o;
>
>        return this.include.equals(other.include) &&
>        this.exclude.equals(other.exclude) &&
>        (this.getBoost() == other.getBoost()) && (proximity == 
> other.proximity);
>    }
>
>    public int hashCode() {
>        int h = include.hashCode();
>        h = (h << 1) | (h >>> 31); // rotate left
>        h ^= exclude.hashCode();
>        h = (h << 1) | (h >>> 31); // rotate left
>        h ^= Float.floatToRawIntBits(getBoost());
>        h ^= proximity;
>
>        return h;
>    }
> }
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30690-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 22 13:33:42 2007
Return-Path: <java-user-return-30690-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77264 invoked from network); 22 Oct 2007 13:33:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Oct 2007 13:33:42 -0000
Received: (qmail 82968 invoked by uid 500); 22 Oct 2007 13:33:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82941 invoked by uid 500); 22 Oct 2007 13:33:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82930 invoked by uid 99); 22 Oct 2007 13:33:17 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Oct 2007 06:33:17 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of markrmiller@gmail.com designates 209.85.132.242 as permitted sender)
Received: from [209.85.132.242] (HELO an-out-0708.google.com) (209.85.132.242)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Oct 2007 13:33:19 +0000
Received: by an-out-0708.google.com with SMTP id d40so144471and
        for <java-user@lucene.apache.org>; Mon, 22 Oct 2007 06:32:58 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        bh=qoCqUTuW7yNDCCPbKuI2YwdCtwu96+Op/Hfir3/driw=;
        b=rmpl/qVzPn4bljCjJHYTFjF1Ks5gZroPG0gljeBJAin1aCkVCHjQyD7pNwNOAN7tXbnWHiJy872KHAFDOLb7AX2iZkVpRNv/zISz/pXvpyatOSQ/SnYuAJjkTZr1k/hpRllM22hi6QEND0B0cmw4WlKFl7kMzU27guxSUmDfn0E=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=ETMNvsdDOqFT/FajIqe72aqfb+Mm/CVlxy7JrNaXuZh+C5UFTPqSa9vVzvfGhnNfiefHGmwq672LGNXkAl5S2LLVRrXInhMHdcpF1j/Nu3kaaH9dxyg1wYEmtm2Fs2yABJQpHxUOQIBWTFQw0ej5Pew/7l9mGJNBkHCyCvWlPE8=
Received: by 10.142.158.17 with SMTP id g17mr555629wfe.1193059976555;
        Mon, 22 Oct 2007 06:32:56 -0700 (PDT)
Received: from ?192.168.1.103? ( [69.124.234.183])
        by mx.google.com with ESMTPS id 7sm7500728wrh.2007.10.22.06.32.52
        (version=SSLv3 cipher=RC4-MD5);
        Mon, 22 Oct 2007 06:32:52 -0700 (PDT)
Message-ID: <471CA67E.8090509@gmail.com>
Date: Mon, 22 Oct 2007 09:32:46 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Queries spanning paragraphs
References: <471C8A11.9070004@propylon.com> <471C8CA7.3050203@gmail.com> <471CA011.1080009@propylon.com>
In-Reply-To: <471CA011.1080009@propylon.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

It is stable...give it a whirl. I use it at about 5 or 6 different 
heavily used installs at the moment and know of about a dozen others 
that use it (many others have downloaded, but who knows what for). If 
you notice anything off with it, I will fix immediately as I use it 
heavily in production environments (newspaper business). Just send me 
the query that does not work as you would expect.

It is Apache License. If you have any comments and/or requests, I am 
currently working on a second version and am happy to receive any feedback.

Qsol was started a little over a year ago and the first beta release was 
in January. 1.0 was released in June. An early version was even 
translated to C# by a guy that needed it. Because of some heavy changes 
I plan, I am now moving on to 2.0.

Do keep in mind though...the Highlighter extension I wrote does not 
require Qsol: https://issues.apache.org/jira/browse/LUCENE-794, though 
it does complement the span support nicely.

Also, the default Lucene QueryParser does have limited configurable 
operators I believe.

- Mark

John Byrne wrote:
> Thanks for that, that's exactly what I needed.
>
> Actually, I hadn't heard of qsol, but it seems to solve a few other 
> problems I have as well - correct highlighting, configurable 
> operators, sentence recogition. Is it distributed under the Apache 
> license? and is it currently stable enough to use out-of-the-box?
>
> Cheers,
> John
>
>
> Mark Miller wrote:
>> I implemented this for my qsol query parser: myhardshadow.com/qsol
>>
>> Uses a modified SpanNotQuery that takes another parameter saying how 
>> many times the span can cross the specified marker. Index a special 
>> paragraph marker with your text to delimit paragraphs and then the 
>> rest is easy.
>>
>> - Mark
>>
>> public class SpanWithinQuery extends SpanQuery {
>>
>>    private SpanQuery include;
>>    private SpanQuery exclude;
>>    private int proximity;
>>
>>    /** Construct a SpanWithinQuery matching spans from 
>> <code>include</code> which
>>     *  overlap with spans from <code>exclude</code> up to 
>> <code>proximity</code> times.*/
>>    public SpanWithinQuery(SpanQuery include, SpanQuery exclude, int 
>> proximity) {
>>        this.include = include;
>>        this.exclude = exclude;
>>        this.proximity = proximity;
>>
>>        if (!include.getField().equals(exclude.getField())) {
>>            throw new IllegalArgumentException("Clauses must have same 
>> field.");
>>        }
>>    }
>>
>>    /** Return the SpanQuery whose matches are filtered. */
>>    public SpanQuery getInclude() {
>>        return include;
>>    }
>>
>>    /** Return the SpanQuery whose matches must not overlap those 
>> returned. */
>>    public SpanQuery getExclude() {
>>        return exclude;
>>    }
>>
>>    public String getField() {
>>        return include.getField();
>>    }
>>
>>    /** Returns a collection of all terms matched by this query.
>>     * @deprecated use extractTerms instead
>>     * @see #extractTerms(Set)
>>     */
>>    public Collection getTerms() {
>>        return include.getTerms();
>>    }
>>
>>    public void extractTerms(Set terms) {
>>        include.extractTerms(terms);
>>    }
>>
>>    public String toString(String field) {
>>        StringBuffer buffer = new StringBuffer();
>>        buffer.append("spanWithin(");
>>        buffer.append(include.toString(field));
>>        buffer.append(", ");
>>        buffer.append(proximity + " ,");
>>        buffer.append(exclude.toString(field));
>>        buffer.append(")");
>>        buffer.append(ToStringUtils.boost(getBoost()));
>>
>>        return buffer.toString();
>>    }
>>
>>    public Spans getSpans(final IndexReader reader) throws IOException {
>>        return new Spans() {
>>                private Spans includeSpans = include.getSpans(reader);
>>                private boolean moreInclude = true;
>>                private Spans excludeSpans = exclude.getSpans(reader);
>>                private boolean moreExclude = true;
>>
>>                public boolean next() throws IOException {
>>                    if (moreInclude) { // move to next include
>>                        moreInclude = includeSpans.next();
>>                    }
>>
>>                    while (moreInclude && moreExclude) {
>>                        if (includeSpans.doc() > excludeSpans.doc()) { 
>> // skip exclude
>>                            moreExclude = 
>> excludeSpans.skipTo(includeSpans.doc());
>>                        }
>>
>>                        int count = 0;
>>
>>                        while (moreExclude // while exclude is before
>>                                 &&(includeSpans.doc() == 
>> excludeSpans.doc())) {
>>                            if ((!(excludeSpans.end() <= 
>> includeSpans.start()))) {
>>                                count += 1;
>>
>>                                if (count > proximity) {
>>                                    break;
>>                                }
>>                            }
>>
>>                            moreExclude = excludeSpans.next(); // 
>> increment exclude
>>                        }
>>
>>                        if (!moreExclude // if no intersection
>>                                 ||(includeSpans.doc() != 
>> excludeSpans.doc()) ||
>>                                (includeSpans.end() <= 
>> excludeSpans.start())) {
>>                            break; // we found a match
>>                        }
>>
>>                        moreInclude = includeSpans.next(); // 
>> intersected: keep scanning
>>                    }
>>
>>                    return moreInclude;
>>                }
>>
>>                public boolean skipTo(int target) throws IOException {
>>                    if (moreInclude) { // skip include
>>                        moreInclude = includeSpans.skipTo(target);
>>                    }
>>
>>                    if (!moreInclude) {
>>                        return false;
>>                    }
>>
>>                    if (moreExclude // skip exclude
>>                             &&(includeSpans.doc() > 
>> excludeSpans.doc())) {
>>                        moreExclude = 
>> excludeSpans.skipTo(includeSpans.doc());
>>                    }
>>
>>                    int count = 0;
>>
>>                    while (moreExclude // while exclude is before
>>                             &&(includeSpans.doc() == 
>> excludeSpans.doc())) {
>>                        if ((!(excludeSpans.end() <= 
>> includeSpans.start()))) {
>>                            count += 1;
>>
>>                            if (count > proximity) {
>>                                break;
>>                            }
>>                        }
>>
>>                        moreExclude = excludeSpans.next(); // 
>> increment exclude
>>                    }
>>
>>                    if (!moreExclude // if no intersection
>>                             ||(includeSpans.doc() != 
>> excludeSpans.doc()) ||
>>                            (includeSpans.end() <= 
>> excludeSpans.start())) {
>>                        return true; // we found a match
>>                    }
>>
>>                    boolean returnboolean = next();
>>
>>                    return returnboolean; // scan to next match
>>                }
>>
>>                public int doc() {
>>                    return includeSpans.doc();
>>                }
>>
>>                public int start() {
>>                    return includeSpans.start();
>>                }
>>
>>                public int end() {
>>                    return includeSpans.end();
>>                }
>>
>>                public String toString() {
>>                    return "spans(" + SpanWithinQuery.this.toString() 
>> + ")";
>>                }
>>            };
>>    }
>>
>>    public Query rewrite(IndexReader reader) throws IOException {
>>        SpanWithinQuery clone = null;
>>
>>        SpanQuery rewrittenInclude = (SpanQuery) include.rewrite(reader);
>>
>>        if (rewrittenInclude != include) {
>>            clone = (SpanWithinQuery) this.clone();
>>            clone.include = rewrittenInclude;
>>        }
>>
>>        SpanQuery rewrittenExclude = (SpanQuery) exclude.rewrite(reader);
>>
>>        if (rewrittenExclude != exclude) {
>>            if (clone == null) {
>>                clone = (SpanWithinQuery) this.clone();
>>            }
>>
>>            clone.exclude = rewrittenExclude;
>>        }
>>
>>        if (clone != null) {
>>            return clone; // some clauses rewrote
>>        } else {
>>            return this; // no clauses rewrote
>>        }
>>    }
>>
>>    /** Returns true iff <code>o</code> is equal to this. */
>>    public boolean equals(Object o) {
>>        if (this == o) {
>>            return true;
>>        }
>>
>>        if (!(o instanceof SpanWithinQuery)) {
>>            return false;
>>        }
>>
>>        SpanWithinQuery other = (SpanWithinQuery) o;
>>
>>        return this.include.equals(other.include) &&
>>        this.exclude.equals(other.exclude) &&
>>        (this.getBoost() == other.getBoost()) && (proximity == 
>> other.proximity);
>>    }
>>
>>    public int hashCode() {
>>        int h = include.hashCode();
>>        h = (h << 1) | (h >>> 31); // rotate left
>>        h ^= exclude.hashCode();
>>        h = (h << 1) | (h >>> 31); // rotate left
>>        h ^= Float.floatToRawIntBits(getBoost());
>>        h ^= proximity;
>>
>>        return h;
>>    }
>> }
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30691-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 22 15:12:13 2007
Return-Path: <java-user-return-30691-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8688 invoked from network); 22 Oct 2007 15:12:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Oct 2007 15:12:10 -0000
Received: (qmail 44043 invoked by uid 500); 22 Oct 2007 15:11:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44020 invoked by uid 500); 22 Oct 2007 15:11:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44008 invoked by uid 99); 22 Oct 2007 15:11:51 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Oct 2007 08:11:51 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [62.213.161.134] (HELO pmx.sirma.bg) (62.213.161.134)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Oct 2007 15:11:52 +0000
Received: from localhost (localhost [127.0.0.1])
	by pmx.sirma.bg (Sirma mail system) with ESMTP id 6B2AC2448FF
	for <java-user@lucene.apache.org>; Mon, 22 Oct 2007 18:11:29 +0300 (EEST)
X-Virus-Scanned: amavisd-new at sirma.bg
Received: from pmx.sirma.bg ([127.0.0.1])
	by localhost (pmx.sirma.bg [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Q9fvOFYK8IX5 for <java-user@lucene.apache.org>;
	Mon, 22 Oct 2007 18:11:29 +0300 (EEST)
Received: from [192.168.128.140] (ivasilev.sirma.int [192.168.128.140])
	by pmx.sirma.bg (Sirma mail system) with ESMTP id 52B472448EC
	for <java-user@lucene.apache.org>; Mon, 22 Oct 2007 18:11:29 +0300 (EEST)
Message-ID: <471CBDA1.8060708@sirma.bg>
Date: Mon, 22 Oct 2007 18:11:29 +0300
From: Ivan Vasilev <ivasilev@sirma.bg>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Is there bug in Range searches?
References: <471B836A.6080106@sirma.bg> <Pine.LNX.4.62.0710212217220.9620@radix.cryptio.net>
In-Reply-To: <Pine.LNX.4.62.0710212217220.9620@radix.cryptio.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

10x Hoss for the answer. It is good news that this topic is very rare 
and clients do not complain about this. I hope our clients will also not 
complain :)

Looking strictly at this I think this leads to a non correct behavior on 
indexing applications, but as there are no unsatisfied clients may be no 
more comments about this are needed.
I will just explain what I mean when speaking about incorrect behaviour. 
Imagine index contains German files content. There are the following 
words indexed: "Alle", "beschlossen", "foto", "für", "Ältere".
This is the order of the words in the index, because this is the order 
imposed by String.compareTo method. But when using German collator it 
always puts the word "Ältere" after "Alle" and before "beschlossen", no 
matter what strength level is used. This means that when sorting we will 
have the words in the following order: "Alle", "Ältere", "beschlossen", 
"foto", "für". And now imagine user makes range query like this - 
content:(Alle TO foto) and expects the items containing "Ältere" and 
"beschlossen" to be returned. But as in the index the word "Ältere" is 
at the last place it's entry will not be returned, but only those of 
"beschlossen" will persist in the results.
So in German the problem comes only with 3 umlaut letters but as we will 
have clients using CJK documents I do not now how big is the difference 
between String.compareTo and Collator.compare methods for those languages.
I hope we will not have problems with those clients, but if any I will 
change a bit source of Term and TermBuffer classes. By the way I have 
experience with changes in those clases where I made values of numeric 
fields to be ordered in numeric order but not in lexicographical one.

Thanks ones again.
Ivan

Chris Hostetter wrote:
> :   1. Are Range queries work correctly with all languages for which
> :      there are analyzers? (for example CJK and Thai);
>
> Terms when indexed are allways ordered lexigraphically (using 
> Term.compareTo which uses String.compareTo) ... regardless of what field 
> or language they are in, so "Range Queries" must do their comparisons 
> lexigraphically as well.
>
> because all Terms are indexed in one continuous TermEnum, it would be 
> fairly imposible to definite different Collators per field at index time.
>
> it's pretty rare that anyone ever talks about Range Queries on words, so 
> this doesn't typiclly pose a problem ... i've never seen anyone comment 
> that they can't do sane Range queries on their text because the language 
> it's in doesn't collate in the same order as the default compareTo.
>
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> __________ NOD32 2605 (20071022) Information __________
>
> This message was checked by NOD32 antivirus system.
> http://www.eset.com
>
>
>
>   


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30692-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 22 15:40:13 2007
Return-Path: <java-user-return-30692-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20648 invoked from network); 22 Oct 2007 15:40:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Oct 2007 15:40:13 -0000
Received: (qmail 94936 invoked by uid 500); 22 Oct 2007 15:39:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94822 invoked by uid 500); 22 Oct 2007 15:39:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94811 invoked by uid 99); 22 Oct 2007 15:39:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Oct 2007 08:39:54 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [62.213.161.134] (HELO pmx.sirma.bg) (62.213.161.134)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Oct 2007 15:39:57 +0000
Received: from localhost (localhost [127.0.0.1])
	by pmx.sirma.bg (Sirma mail system) with ESMTP id 2A33C2448EC
	for <java-user@lucene.apache.org>; Mon, 22 Oct 2007 18:39:05 +0300 (EEST)
X-Virus-Scanned: amavisd-new at sirma.bg
Received: from pmx.sirma.bg ([127.0.0.1])
	by localhost (pmx.sirma.bg [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 6anIuHOqOZfU for <java-user@lucene.apache.org>;
	Mon, 22 Oct 2007 18:39:05 +0300 (EEST)
Received: from [192.168.128.140] (ivasilev.sirma.int [192.168.128.140])
	by pmx.sirma.bg (Sirma mail system) with ESMTP id 14B8B2448E5
	for <java-user@lucene.apache.org>; Mon, 22 Oct 2007 18:39:05 +0300 (EEST)
Message-ID: <471CC419.4020407@sirma.bg>
Date: Mon, 22 Oct 2007 18:39:05 +0300
From: Ivan Vasilev <ivasilev@sirma.bg>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: LUCENE MAIL LIST <java-user@lucene.apache.org>
Subject: Is there bug in CJKAnalyzer?
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Guys,

I have made tests with the CJKAnalyzer and the results show something 
that seems very strange to me. First I have to say that I do not 
understand non of the CJK languages.
What I do is the following I write some text in English and translate it 
using an on-line tool, which give me the translated script per word or 
per group of words. The translated text I put in separate files and 
index them using proper encoding for readers.
What is strange is that when searching just one hieroglyph (no matter if 
it is separate word in the text or part of a word) Lucene almost never 
finds result (may be only in less than 5% find results for word like â 
that=é£, commas and so).
I also copy/pasted text from Chinese Academy of Science web site to 
ignore results in case the translation toll does not work correctly. The 
result is the same.
But when searching for two or more consequent hieroglyphs everything is 
OK if they persist in the text they are found.

So my question is: Is this normal behavior for CJKAnalyzer â not to find 
results when only one hieroglyph is searched or there is some bug with 
that Analyzer?

I also would like to say that I reindexed with a very simple class (not 
with our searching engine) to ignore any possible mistakes. The results 
are the same.

I will give the example of the text that I use:

English:

The quick brown fox jumped over the lazy dog.

Chinese:

çµå¸æçé¾æçã

English word by word:

|NA The |1 quick |2 brown |3 fox |4 jumped over |NA the |5 lazy |6 dog |7.

Responding Chinese words:

|1 çµ |2 å¸æ |3 ç |4 é¾ |5 æ | 6 ç |7ã

NOTE: My files contain only the Chinese text.

Best Regards,
Ivan


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30693-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 22 16:29:51 2007
Return-Path: <java-user-return-30693-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41893 invoked from network); 22 Oct 2007 16:29:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Oct 2007 16:29:51 -0000
Received: (qmail 95633 invoked by uid 500); 22 Oct 2007 16:29:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95599 invoked by uid 500); 22 Oct 2007 16:29:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95588 invoked by uid 99); 22 Oct 2007 16:29:32 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Oct 2007 09:29:32 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of abdou.samir@gmail.com designates 66.249.92.174 as permitted sender)
Received: from [66.249.92.174] (HELO ug-out-1314.google.com) (66.249.92.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Oct 2007 16:29:35 +0000
Received: by ug-out-1314.google.com with SMTP id h3so1060286ugf
        for <java-user@lucene.apache.org>; Mon, 22 Oct 2007 09:29:14 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=BNmMrmECIHqq1m5SGGT6jEE+B6WUIiWKvHHjcBP4qSI=;
        b=OnJUCWDyZO3X2fTtnm7yFuvM6lqf4Tm70vN+w47vpLK4r9sifOryZOJxF57OEOpuRjqm+iPdIugdGccg+3Yz0crlZjTfSEWIQoa0ft0fmMMgvzY/NEHxp3wPsmL/u22u8pGoxSiVl8v+UBS9mWbRH4iZFb26QZlltCkbQdthEWs=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=BGgVNaGVD4rErPCbA9Pf7kz5n7FmtILVbh0tXeqEjcBZONywqUyvMxIhoPTip6sKrwXGI5iu0WhL65V5lNJ8ud6AcWJjpSLkWpBi2R4d6jcfVWoQvt2DHfhFJOqOIuSwEVyQd47IAMNntbmtOoZvpSCM6wki8dDncFiHhJZQ8NM=
Received: by 10.86.77.5 with SMTP id z5mr3941004fga.1193070553954;
        Mon, 22 Oct 2007 09:29:13 -0700 (PDT)
Received: by 10.86.71.18 with HTTP; Mon, 22 Oct 2007 09:29:13 -0700 (PDT)
Message-ID: <18dfa6d40710220929r72fabf64x22fecc5f075cb61f@mail.gmail.com>
Date: Mon, 22 Oct 2007 18:29:13 +0200
From: "Samir Abdou" <abdou.samir@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Is there bug in CJKAnalyzer?
In-Reply-To: <471CC419.4020407@sirma.bg>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_3713_26111140.1193070553949"
References: <471CC419.4020407@sirma.bg>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_3713_26111140.1193070553949
Content-Type: text/plain; charset=GB2312
Content-Transfer-Encoding: base64
Content-Disposition: inline

SGksCgpGb3IgYSBjaGluZXNlIHRva2VuIGxpa2UgQUJDRCAod2hlcmUgQSxCLEMgYW5kIEQgYXJl
IGNoaW5lc2Ugc2lnbnMpLApDSktBbmFseXplciB3aWxsIGdlbmVyYXRlIHRoZSBmb2xsb3dpbmcg
b3ZlcmxhcHBpbmcgYmlncmFtczogQUIgIEJDICBDRC4KVGh1cyBpc3N1aW5nIGEgcXVlcnkgY29u
dGFpbmluZyBvbmUgY2hpbmVzZSBzaWduIHdpbGwgbm90IHJldHJpZXZlIGFueQpkb2N1bWVudHMu
ICBUbyBvdmVyY29tZSB0aGlzLCB5b3UgaGF2ZSB0byBpbmRleCBjaGluZXNlIGNoYXJhY3RlcnMg
YXMgc2luZ2xlCnRva2VucyAodGhpcyB3aWxsIGluY3JlYXNlIHJlY2FsbCwgYnV0IGRlY3JlYXNl
IHByZWNpc2lvbikuCgpIb3BlIHRoaXMgd2lsbCBoZWxwLApTYW1pcgoKCgoyMDA3LzEwLzIyLCBJ
dmFuIFZhc2lsZXYgPGl2YXNpbGV2QHNpcm1hLmJnPjoKPgo+IEhpIEd1eXMsCj4KPiBJIGhhdmUg
bWFkZSB0ZXN0cyB3aXRoIHRoZSBDSktBbmFseXplciBhbmQgdGhlIHJlc3VsdHMgc2hvdyBzb21l
dGhpbmcKPiB0aGF0IHNlZW1zIHZlcnkgc3RyYW5nZSB0byBtZS4gRmlyc3QgSSBoYXZlIHRvIHNh
eSB0aGF0IEkgZG8gbm90Cj4gdW5kZXJzdGFuZCBub24gb2YgdGhlIENKSyBsYW5ndWFnZXMuCj4g
V2hhdCBJIGRvIGlzIHRoZSBmb2xsb3dpbmcgSSB3cml0ZSBzb21lIHRleHQgaW4gRW5nbGlzaCBh
bmQgdHJhbnNsYXRlIGl0Cj4gdXNpbmcgYW4gb24tbGluZSB0b29sLCB3aGljaCBnaXZlIG1lIHRo
ZSB0cmFuc2xhdGVkIHNjcmlwdCBwZXIgd29yZCBvcgo+IHBlciBncm91cCBvZiB3b3Jkcy4gVGhl
IHRyYW5zbGF0ZWQgdGV4dCBJIHB1dCBpbiBzZXBhcmF0ZSBmaWxlcyBhbmQKPiBpbmRleCB0aGVt
IHVzaW5nIHByb3BlciBlbmNvZGluZyBmb3IgcmVhZGVycy4KPiBXaGF0IGlzIHN0cmFuZ2UgaXMg
dGhhdCB3aGVuIHNlYXJjaGluZyBqdXN0IG9uZSBoaWVyb2dseXBoIChubyBtYXR0ZXIgaWYKPiBp
dCBpcyBzZXBhcmF0ZSB3b3JkIGluIHRoZSB0ZXh0IG9yIHBhcnQgb2YgYSB3b3JkKSBMdWNlbmUg
YWxtb3N0IG5ldmVyCj4gZmluZHMgcmVzdWx0IChtYXkgYmUgb25seSBpbiBsZXNzIHRoYW4gNSUg
ZmluZCByZXN1bHRzIGZvciB3b3JkIGxpa2UgqEMKPiB0aGF0PcTHLCBjb21tYXMgYW5kIHNvKS4K
PiBJIGFsc28gY29weS9wYXN0ZWQgdGV4dCBmcm9tIENoaW5lc2UgQWNhZGVteSBvZiBTY2llbmNl
IHdlYiBzaXRlIHRvCj4gaWdub3JlIHJlc3VsdHMgaW4gY2FzZSB0aGUgdHJhbnNsYXRpb24gdG9s
bCBkb2VzIG5vdCB3b3JrIGNvcnJlY3RseS4gVGhlCj4gcmVzdWx0IGlzIHRoZSBzYW1lLgo+IEJ1
dCB3aGVuIHNlYXJjaGluZyBmb3IgdHdvIG9yIG1vcmUgY29uc2VxdWVudCBoaWVyb2dseXBocyBl
dmVyeXRoaW5nIGlzCj4gT0sgaWYgdGhleSBwZXJzaXN0IGluIHRoZSB0ZXh0IHRoZXkgYXJlIGZv
dW5kLgo+Cj4gU28gbXkgcXVlc3Rpb24gaXM6IElzIHRoaXMgbm9ybWFsIGJlaGF2aW9yIGZvciBD
SktBbmFseXplciCoQyBub3QgdG8gZmluZAo+IHJlc3VsdHMgd2hlbiBvbmx5IG9uZSBoaWVyb2ds
eXBoIGlzIHNlYXJjaGVkIG9yIHRoZXJlIGlzIHNvbWUgYnVnIHdpdGgKPiB0aGF0IEFuYWx5emVy
Pwo+Cj4gSSBhbHNvIHdvdWxkIGxpa2UgdG8gc2F5IHRoYXQgSSByZWluZGV4ZWQgd2l0aCBhIHZl
cnkgc2ltcGxlIGNsYXNzIChub3QKPiB3aXRoIG91ciBzZWFyY2hpbmcgZW5naW5lKSB0byBpZ25v
cmUgYW55IHBvc3NpYmxlIG1pc3Rha2VzLiBUaGUgcmVzdWx0cwo+IGFyZSB0aGUgc2FtZS4KPgo+
IEkgd2lsbCBnaXZlIHRoZSBleGFtcGxlIG9mIHRoZSB0ZXh0IHRoYXQgSSB1c2U6Cj4KPiBFbmds
aXNoOgo+Cj4gVGhlIHF1aWNrIGJyb3duIGZveCBqdW1wZWQgb3ZlciB0aGUgbGF6eSBkb2cuCj4K
PiBDaGluZXNlOgo+Cj4gwemyvMDKuvzT4sDBubehowo+Cj4gRW5nbGlzaCB3b3JkIGJ5IHdvcmQ6
Cj4KPiB8TkEgVGhlIHwxIHF1aWNrIHwyIGJyb3duIHwzIGZveCB8NCBqdW1wZWQgb3ZlciB8TkEg
dGhlIHw1IGxhenkgfDYgZG9nIHw3Lgo+Cj4gUmVzcG9uZGluZyBDaGluZXNlIHdvcmRzOgo+Cj4g
fDEgwekgfDIgsrzAyiB8MyC6/CB8NCDT4iB8NSDAwSB8IDYgubcgfDehowo+Cj4gTk9URTogTXkg
ZmlsZXMgY29udGFpbiBvbmx5IHRoZSBDaGluZXNlIHRleHQuCj4KPiBCZXN0IFJlZ2FyZHMsCj4g
SXZhbgo+Cj4KPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KPiBUbyB1bnN1YnNjcmliZSwgZS1tYWlsOiBqYXZhLXVz
ZXItdW5zdWJzY3JpYmVAbHVjZW5lLmFwYWNoZS5vcmcKPiBGb3IgYWRkaXRpb25hbCBjb21tYW5k
cywgZS1tYWlsOiBqYXZhLXVzZXItaGVscEBsdWNlbmUuYXBhY2hlLm9yZwo+Cj4K
------=_Part_3713_26111140.1193070553949--

From java-user-return-30694-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 22 16:50:02 2007
Return-Path: <java-user-return-30694-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47644 invoked from network); 22 Oct 2007 16:50:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Oct 2007 16:50:01 -0000
Received: (qmail 23241 invoked by uid 500); 22 Oct 2007 16:49:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23216 invoked by uid 500); 22 Oct 2007 16:49:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23205 invoked by uid 99); 22 Oct 2007 16:49:42 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Oct 2007 09:49:42 -0700
X-ASF-Spam-Status: No, hits=-2.0 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of gresh@us.ibm.com designates 32.97.182.141 as permitted sender)
Received: from [32.97.182.141] (HELO e1.ny.us.ibm.com) (32.97.182.141)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Oct 2007 16:49:44 +0000
Received: from d01relay04.pok.ibm.com (d01relay04.pok.ibm.com [9.56.227.236])
	by e1.ny.us.ibm.com (8.13.8/8.13.8) with ESMTP id l9MGkEW4007425
	for <java-user@lucene.apache.org>; Mon, 22 Oct 2007 12:46:14 -0400
Received: from d01av02.pok.ibm.com (d01av02.pok.ibm.com [9.56.224.216])
	by d01relay04.pok.ibm.com (8.13.8/8.13.8/NCO v8.5) with ESMTP id l9MGkEds097104
	for <java-user@lucene.apache.org>; Mon, 22 Oct 2007 12:46:14 -0400
Received: from d01av02.pok.ibm.com (loopback [127.0.0.1])
	by d01av02.pok.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l9MGkErT002189
	for <java-user@lucene.apache.org>; Mon, 22 Oct 2007 12:46:14 -0400
Received: from d01ml605.pok.ibm.com (d01ml605.pok.ibm.com [9.56.227.91])
	by d01av02.pok.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l9MGkDaM002167
	for <java-user@lucene.apache.org>; Mon, 22 Oct 2007 12:46:13 -0400
To: java-user@lucene.apache.org
MIME-Version: 1.0
Subject: Miles Efron asked about "IncompatibleClassChangeError" last december
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
From: Donna L Gresh <gresh@us.ibm.com>
Message-ID: <OF5F79E90B.C05403FF-ON8525737C.005BC148-8525737C.005C1ED8@us.ibm.com>
Date: Mon, 22 Oct 2007 12:46:11 -0400
X-MIMETrack: Serialize by Router on D01ML605/01/M/IBM(Release 8.0|August 02, 2007) at 10/22/2007
 12:46:13,
	Serialize complete at 10/22/2007 12:46:13
Content-Type: multipart/alternative; boundary="=_alternative 005C1E2E8525737C_="
X-Virus-Checked: Checked by ClamAV on apache.org

--=_alternative 005C1E2E8525737C_=
Content-Type: text/plain; charset="US-ASCII"

I am seeing a problem reported in the archives last december; I'm getting 
the same one, also on a redhat java--same version 
gcj as his


It does not appear on our windows systems or another linux system. Hoss 
suggested that it may be a duplicate defination of lucene core in the 
classpath, but I don't see that this is my problem. Miles, did you ever 
solve this?

Miles Efron wrote (last December):


i have successfully compiled, installed, and run lucene-based applications 

on several machines, but i am currently trying to get lucene to run on a 
sever that i do not administer and am having an odd problem... perhaps 
someone can decipher it?

if i try, for instance, to run the basic lucene demo (IndexFiles) I get 
the following output, then stacktrace:

$ java org.apache.lucene.demo.IndexFiles ../data/medline/docs/
Indexing to directory 'index'...
adding ../data/medline/docs/1.txt
Exception in thread "main" java.lang.IncompatibleClassChangeError: field 
org.apache.lucene.analysis.standard.StandardFilter.tokenImage was not 
found.
    at _Jv_ResolvePoolEntry(java.lang.Class, int) 
(/usr/lib/libgcj.so.5.0.0)
    at org.apache.lucene.analysis.standard.StandardFilter.<clinit>() 
(Unknown Source)
    at java.lang.Class.initializeClass() (/usr/lib/libgcj.so.5.0.0)
    at 
org.apache.lucene.analysis.standard.StandardAnalyzer.tokenStream(java.lang.String, 

java.io.Reader) (Unknown Source)
    at 
org.apache.lucene.index.DocumentWriter.invertDocument(org.apache.lucene.document.Document)

(Unknown Source)
    at 
org.apache.lucene.index.DocumentWriter.addDocument(java.lang.String, 
org.apache.lucene.document.Document) (Unknown Source)
    at 
org.apache.lucene.index.IndexWriter.addDocument(org.apache.lucene.document.Document, 

org.apache.lucene.analysis.Analyzer) (Unknown Source)
    at 
org.apache.lucene.index.IndexWriter.addDocument(org.apache.lucene.document.Document) 

(Unknown Source)
    at 
org.apache.lucene.demo.IndexFiles.indexDocs(org.apache.lucene.index.IndexWriter, 

java.io.File) (Unknown Source)
    at 
org.apache.lucene.demo.IndexFiles.indexDocs(org.apache.lucene.index.IndexWriter, 

java.io.File) (Unknown Source)
    at org.apache.lucene.demo.IndexFiles.main(java.lang.String[]) (Unknown 

Source)

I've googled this Exception, but haven't found much.  For futher 
reference, here's version info on java on the machine:

java -version
java version "1.4.2"
gcj (GCC) 3.4.6 20060404 (Red Hat 3.4.6-3)

If anyone has thoughts on what might be the matter, I'd be most grateful. 
Thanks,
-Miles



Donna L. Gresh
Services Research, Mathematical Sciences Department
IBM T.J. Watson Research Center
(914) 945-2472
http://www.research.ibm.com/people/g/donnagresh
gresh@us.ibm.com

--=_alternative 005C1E2E8525737C_=--

From java-user-return-30695-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 22 19:01:59 2007
Return-Path: <java-user-return-30695-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6227 invoked from network); 22 Oct 2007 19:01:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Oct 2007 19:01:59 -0000
Received: (qmail 8512 invoked by uid 500); 22 Oct 2007 19:01:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8486 invoked by uid 500); 22 Oct 2007 19:01:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8475 invoked by uid 99); 22 Oct 2007 19:01:40 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Oct 2007 12:01:40 -0700
X-ASF-Spam-Status: No, hits=-2.0 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of Chris.Sizemore@bbc.co.uk designates 132.185.144.142 as permitted sender)
Received: from [132.185.144.142] (HELO mailgw2.mh.bbc.co.uk) (132.185.144.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Oct 2007 19:01:43 +0000
Received: from bbcxue219.national.core.bbc.co.uk ([10.180.130.168])
	by mailgw2.mh.bbc.co.uk (8.13.7/8.13.7) with ESMTP id l9MIrq9v007593
	for <java-user@lucene.apache.org>; Mon, 22 Oct 2007 19:53:52 +0100 (BST)
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C814DC.E341D331"
Subject: RE: MoreLikeThis across multiple fields question...
Date: Mon, 22 Oct 2007 19:49:28 +0100
Message-ID: <22E75701DF55CB459F5EC560C366846703F0E7D0@bbcxue219.national.core.bbc.co.uk>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: MoreLikeThis across multiple fields question...
Thread-Index: AcgU3EaA1Miu9WCrSnq/nceUy3cqZw==
References: <200710212020.53459@danielnaber.de>
From: "Chris Sizemore" <Chris.Sizemore@bbc.co.uk>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

------_=_NextPart_001_01C814DC.E341D331
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

hmmm, that seems a shame, esp. if a term matches in a non-most-hits-occur=
-here field, and then that field's boost doesn't get called in computing =
the score...

so, not a bug, then -- but i question the design of the class...

i'd much rather see:

conceptSearch:foo abstract:foo conceptSearch:blah abstract:blah

because matches to conceptSearch should be weighted much higher than the =
other field...

any further advice?



best--

--cs


-----Original Message-----
From: Daniel Naber [mailto:lucenelist2007@danielnaber.de]
Sent: Sun 10/21/2007 7:20 PM
To: java-user@lucene.apache.org
Subject: Re: MoreLikeThis across multiple fields question...
=20
On Sunday 21 October 2007 17:21, Chris Sizemore wrote:

> i'm using MoreLikeThis. i'm trying to run the document comparison acros=
s
> more than one field in my index, but i'm not at all sure that it's
> actually happening -- when i examine the constructed query, only one
> field is mentioned! here's my code:

Actually looking at MoreLikeThis.createQueue() it's supposed to use only=20=

that field where most hits occur for that term, so you could end up with =
a=20
query like:

conceptSearch:foo abstract:blah

Regards
 Daniel

--=20
http://www.danielnaber.de



http://www.bbc.co.uk/
This e-mail (and any attachments) is confidential and may contain persona=
l views which are not the views of the BBC unless specifically stated.
If you have received it in error, please delete it from your system.
Do not use, copy or disclose the information in any way nor act in relian=
ce on it and notify the sender immediately.
Please note that the BBC monitors e-mails sent or received.
Further communication will signify your consent to this.
				=09

------_=_NextPart_001_01C814DC.E341D331--

From java-user-return-30696-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 23 06:38:43 2007
Return-Path: <java-user-return-30696-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35537 invoked from network); 23 Oct 2007 06:38:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Oct 2007 06:38:43 -0000
Received: (qmail 21679 invoked by uid 500); 23 Oct 2007 06:38:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21647 invoked by uid 500); 23 Oct 2007 06:38:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21636 invoked by uid 99); 23 Oct 2007 06:38:18 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Oct 2007 23:38:18 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of prabin.meitei@gmail.com designates 64.233.182.185 as permitted sender)
Received: from [64.233.182.185] (HELO nf-out-0910.google.com) (64.233.182.185)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 Oct 2007 06:38:22 +0000
Received: by nf-out-0910.google.com with SMTP id d3so1017033nfc
        for <java-user@lucene.apache.org>; Mon, 22 Oct 2007 23:38:00 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        bh=ryx9az9DqRpocZwwj+gIpuF6ms7X2q7ust4OXjdakJ0=;
        b=LpRZ0QIPhD9JjUsJNxWDAcpkO1EEb/1xtUCNLgO0TG44w5RQuCPJ3B7/MgkdsngVTVCT/oeWlSDTfDn5QJoWvlUQ54QFWqr5NwEX80EXW6ejGHblaEG0psyukrmfAMWPDGLm43jewD6ZvFASuHbFVZS/9cVIH77OcZA2Ron/E4o=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=lGXDi/W4JZV3CpWjkfHbX5jHYgocgDjmt+V/xamDuYO2qzgc74l1w9uh3+SKsrnmkJ1C2HGGEdeFP1gw/fAwUc25rmapaPupC4zreiy0TqosUJsenn+OeblxROuWHuH2N9+aCftHsokBpU9a+e3lgydrdWkO+iITf5bdUidBGYI=
Received: by 10.78.160.2 with SMTP id i2mr3629466hue.1193121480328;
        Mon, 22 Oct 2007 23:38:00 -0700 (PDT)
Received: by 10.78.183.17 with HTTP; Mon, 22 Oct 2007 23:38:00 -0700 (PDT)
Message-ID: <295da8fe0710222338r4208286es12df0def0088b039@mail.gmail.com>
Date: Tue, 23 Oct 2007 12:08:00 +0530
From: "prabin meitei" <prabin.meitei@gmail.com>
To: java-user@lucene.apache.org
Subject: ingnoring range query if field is null or empty
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_19041_23265094.1193121480279"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_19041_23265094.1193121480279
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi,
   I wanted to make use of a range query to find out data within the range.
eg. minexp : 3 maxexp: 7 if a persons exp: is between 3 and 7 then I can get
his details.
The problem is that if in the index the minexp or the maxexp is null/ empty
i don't want to use the range query for the field which is null.
that means i want to make range query only for less if maxexp is null.
how can i handle this situation???
thanks in advance

Prabin

------=_Part_19041_23265094.1193121480279--

From java-user-return-30697-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 23 12:09:25 2007
Return-Path: <java-user-return-30697-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64589 invoked from network); 23 Oct 2007 12:09:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Oct 2007 12:09:24 -0000
Received: (qmail 15767 invoked by uid 500); 23 Oct 2007 12:09:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15397 invoked by uid 500); 23 Oct 2007 12:09:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15386 invoked by uid 99); 23 Oct 2007 12:09:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 Oct 2007 05:09:05 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [62.213.161.134] (HELO pmx.sirma.bg) (62.213.161.134)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 Oct 2007 12:09:08 +0000
Received: from localhost (localhost [127.0.0.1])
	by pmx.sirma.bg (Sirma mail system) with ESMTP id AFD14244946
	for <java-user@lucene.apache.org>; Tue, 23 Oct 2007 15:08:43 +0300 (EEST)
X-Virus-Scanned: amavisd-new at sirma.bg
Received: from pmx.sirma.bg ([127.0.0.1])
	by localhost (pmx.sirma.bg [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id lIpQc86WA38g for <java-user@lucene.apache.org>;
	Tue, 23 Oct 2007 15:08:43 +0300 (EEST)
Received: from [192.168.128.140] (ivasilev.sirma.int [192.168.128.140])
	by pmx.sirma.bg (Sirma mail system) with ESMTP id 8B270244944
	for <java-user@lucene.apache.org>; Tue, 23 Oct 2007 15:08:43 +0300 (EEST)
Message-ID: <471DE44B.80008@sirma.bg>
Date: Tue, 23 Oct 2007 15:08:43 +0300
From: Ivan Vasilev <ivasilev@sirma.bg>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Is there bug in CJKAnalyzer?
References: <471CC419.4020407@sirma.bg> <18dfa6d40710220929r72fabf64x22fecc5f075cb61f@mail.gmail.com>
In-Reply-To: <18dfa6d40710220929r72fabf64x22fecc5f075cb61f@mail.gmail.com>
Content-Type: text/plain; charset=GB2312
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

Thanks Samir :)

You info was really helpful for us. I saw the index by Luke and there
the Chinese signs were split in pairs as you said ¨C AB BC CD etc. Also
when querying for ABC it is split in the query to AB BC.
But how to understand the meaning of this:
¡°To overcome this, you have to index chinese characters as single tokens
(this will increase recall, but decrease precision).¡±

I understand it so: To increase the results I have to use instead of the Chinese another analyzer that makes tokenization of the text character by character. 

Do you know if the range searches  work correctly with CJK texts when during the indexing was used CJKAnalyzer? My opinion is that as the terms are sorted by using String.copmareTo method but not Collator.compare then the range searches will as close to correct as the second method is close to the first one.
Interesting is when passing more than 2 Chinese characters ¨C then the Lucene query is not split to bigram sub queries (as in the normal queries) and may be some incorrect results can come because of this.

Example: there is indexed the text: AAB. The index will contain: AA AB.
User range search is: content:[AG TO PQ]
Here may be B will mean some word, and user will expect it in the results (as B is after AG and before PQ), but as it is not single token but in pair AB which is before AG, it will not be returned.
Here may be I guess your answer ¨C to prevent this use per character analyzer :) 

Thanks once again Samir for your explanation of how CJKAnalyzer works it was really calming for me to know that my CJKAnalyzer work as it is expected. 

Best Regards,
Ivan



Samir Abdou wrote:
> Hi,
>
> For a chinese token like ABCD (where A,B,C and D are chinese signs),
> CJKAnalyzer will generate the following overlapping bigrams: AB  BC  CD.
> Thus issuing a query containing one chinese sign will not retrieve any
> documents.  To overcome this, you have to index chinese characters as single
> tokens (this will increase recall, but decrease precision).
>
> Hope this will help,
> Samir
>
>
>
> 2007/10/22, Ivan Vasilev <ivasilev@sirma.bg>:
>   
>> Hi Guys,
>>
>> I have made tests with the CJKAnalyzer and the results show something
>> that seems very strange to me. First I have to say that I do not
>> understand non of the CJK languages.
>> What I do is the following I write some text in English and translate it
>> using an on-line tool, which give me the translated script per word or
>> per group of words. The translated text I put in separate files and
>> index them using proper encoding for readers.
>> What is strange is that when searching just one hieroglyph (no matter if
>> it is separate word in the text or part of a word) Lucene almost never
>> finds result (may be only in less than 5% find results for word like ¨C
>> that=ÄÇ, commas and so).
>> I also copy/pasted text from Chinese Academy of Science web site to
>> ignore results in case the translation toll does not work correctly. The
>> result is the same.
>> But when searching for two or more consequent hieroglyphs everything is
>> OK if they persist in the text they are found.
>>
>> So my question is: Is this normal behavior for CJKAnalyzer ¨C not to find
>> results when only one hieroglyph is searched or there is some bug with
>> that Analyzer?
>>
>> I also would like to say that I reindexed with a very simple class (not
>> with our searching engine) to ignore any possible mistakes. The results
>> are the same.
>>
>> I will give the example of the text that I use:
>>
>> English:
>>
>> The quick brown fox jumped over the lazy dog.
>>
>> Chinese:
>>
>> Áé²¼ÀÊºüÓâÀÁ¹·¡£
>>
>> English word by word:
>>
>> |NA The |1 quick |2 brown |3 fox |4 jumped over |NA the |5 lazy |6 dog |7.
>>
>> Responding Chinese words:
>>
>> |1 Áé |2 ²¼ÀÊ |3 ºü |4 Óâ |5 ÀÁ | 6 ¹· |7¡£
>>
>> NOTE: My files contain only the Chinese text.
>>
>> Best Regards,
>> Ivan
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>     


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30698-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 23 13:58:21 2007
Return-Path: <java-user-return-30698-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7738 invoked from network); 23 Oct 2007 13:58:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Oct 2007 13:58:21 -0000
Received: (qmail 5227 invoked by uid 500); 23 Oct 2007 13:58:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5201 invoked by uid 500); 23 Oct 2007 13:58:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5190 invoked by uid 99); 23 Oct 2007 13:58:02 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 Oct 2007 06:58:02 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of dragon-fly999@hotmail.com designates 65.54.246.231 as permitted sender)
Received: from [65.54.246.231] (HELO bay0-omc3-s31.bay0.hotmail.com) (65.54.246.231)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 Oct 2007 13:58:03 +0000
Received: from BLU119-W43 ([10.6.22.78]) by bay0-omc3-s31.bay0.hotmail.com with Microsoft SMTPSVC(6.0.3790.3959);
	 Tue, 23 Oct 2007 06:57:43 -0700
Message-ID: <BLU119-W43F5F0CB32209FA0E5F7E5B99B0@phx.gbl>
Content-Type: multipart/alternative;
	boundary="_804802e0-42ee-4a2d-b1e9-96833ff157b3_"
X-Originating-IP: [206.35.175.10]
From: Dragon Fly <dragon-fly999@hotmail.com>
To: <java-user@lucene.apache.org>
Subject: RE: Sort by date with Lucene 2.2.0 ...
Date: Tue, 23 Oct 2007 09:57:42 -0400
Importance: Normal
In-Reply-To: <200710191950.47203@danielnaber.de>
References: <BLU119-W24BCF22239FB155ADEFC22B99E0@phx.gbl>
 <200710191950.47203@danielnaber.de>
MIME-Version: 1.0
X-OriginalArrivalTime: 23 Oct 2007 13:57:43.0039 (UTC) FILETIME=[AEA758F0:01C8157C]
X-Virus-Checked: Checked by ClamAV on apache.org

--_804802e0-42ee-4a2d-b1e9-96833ff157b3_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable


I tried specifying the field type using a SortField object but I got the sa=
me result.  I'll be glad to write a stand-alone test case.  Should I post t=
he code to this thread when I'm done or should I submit some sort of bug re=
port? Thanks.

> From: lucenelist2007@danielnaber.de
> To: java-user@lucene.apache.org
> Subject: Re: Sort by date with Lucene 2.2.0 ...
> Date: Fri, 19 Oct 2007 19:50:46 +0200
>=20
> On Thursday 18 October 2007 21:35, Dragon Fly wrote:
>=20
> > I'm am trying to sort a date field in my index but I'm seeing strange
> > results.  I have searched the Lucene user mail archive for Datetools bu=
t
> > still couldn't figure out the problem.
>=20
> It shouldn't make a difference but does it help if you specify the field=
=20
> type using a SortField object? If not, could you make this a stand-alone=
=20
> test case so people can easier debug it?
>=20
> Regards
>  Daniel
>=20
> --=20
> http://www.danielnaber.de
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20

_________________________________________________________________
Help yourself to FREE treats served up daily at the Messenger Caf=E9. Stop =
by today.
http://www.cafemessenger.com/info/info_sweetstuff2.html?ocid=3DTXT_TAGLM_Oc=
tWLtagline=

--_804802e0-42ee-4a2d-b1e9-96833ff157b3_--

From java-user-return-30699-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 23 14:09:19 2007
Return-Path: <java-user-return-30699-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11918 invoked from network); 23 Oct 2007 14:09:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Oct 2007 14:09:19 -0000
Received: (qmail 22719 invoked by uid 500); 23 Oct 2007 14:09:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22165 invoked by uid 500); 23 Oct 2007 14:09:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22150 invoked by uid 99); 23 Oct 2007 14:09:00 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 Oct 2007 07:09:00 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lucenelist2007@danielnaber.de designates 80.67.18.15 as permitted sender)
Received: from [80.67.18.15] (HELO smtprelay03.ispgateway.de) (80.67.18.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 Oct 2007 14:09:01 +0000
Received: (qmail 8584 invoked from network); 23 Oct 2007 14:08:38 -0000
Received: from unknown (HELO p54bfc6f9.dip.t-dialin.net) (695637@[84.191.198.249])
          (envelope-sender <lucenelist2007@danielnaber.de>)
          by smtprelay03.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 23 Oct 2007 14:08:38 -0000
From: Daniel Naber <lucenelist2007@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: Sort by date with Lucene 2.2.0 ...
Date: Tue, 23 Oct 2007 16:04:46 +0200
User-Agent: KMail/1.8.2
References: <BLU119-W24BCF22239FB155ADEFC22B99E0@phx.gbl> <200710191950.47203@danielnaber.de> <BLU119-W43F5F0CB32209FA0E5F7E5B99B0@phx.gbl>
In-Reply-To: <BLU119-W43F5F0CB32209FA0E5F7E5B99B0@phx.gbl>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200710231604.46336@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org

On Tuesday 23 October 2007 15:57, Dragon Fly wrote:

> I tried specifying the field type using a SortField object but I got the
> same result. =C2=A0I'll be glad to write a stand-alone test case. =C2=A0S=
hould I
> post the code to this thread when I'm done or should I submit some sort
> of bug report? Thanks.

I'm not sure if attachments work on this list, so please open a bug report.

Regards
 Daniel

=2D-=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30700-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 23 14:47:41 2007
Return-Path: <java-user-return-30700-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30545 invoked from network); 23 Oct 2007 14:47:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Oct 2007 14:47:41 -0000
Received: (qmail 16221 invoked by uid 500); 23 Oct 2007 14:47:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16189 invoked by uid 500); 23 Oct 2007 14:47:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15643 invoked by uid 99); 23 Oct 2007 14:47:19 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 Oct 2007 07:47:19 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 Oct 2007 14:47:21 +0000
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id A11EC30EFC17; Tue, 23 Oct 2007 08:46:15 -0600 (MDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [10.0.1.2] (va-71-53-211-107.dyn.embarqhsd.net [71.53.211.107])
	by ehatchersolutions.com (Postfix) with ESMTP id 2D25E30EFC16;
	Tue, 23 Oct 2007 08:45:58 -0600 (MDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
Content-Transfer-Encoding: 7bit
Message-Id: <8F9223C4-AE1E-4F56-BE64-EB9ACD3E488A@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
To: solr-user@lucene.apache.org,
 java-user@lucene.apache.org
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: OSSummit Asia / ApacheCon Atlanta
Date: Tue, 23 Oct 2007 10:45:30 -0400
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-1.7 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.1.1

A bit of self-promotion, sorry.... but also just want to in general  
make Solr and Lucene users aware of upcoming training sessions at  
OSSummit Asia (and ApacheCon Atlanta).   It's a struggle for the  
conference organizers to put on training sessions because of the  
upfront expense and risk in them not being filled, so getting the  
word out is necessary to ensure these training sessions keep going.   
All training providers have been asked to help spread the word to the  
right spots, which is here :)

I'm leading two training sessions at OSSummit Asia, as well as  
presenting a regular conference session, all on Lucene and Solr:  
<http://www.ossummit.com/2007/program/speaker/20>

Grant is leading a Lucene training at ApacheCon Atlanta and Hoss,  
Michael Busch, and Ken Krugler are presenting Lucene/Solr related  
sessions there too.

There are more pointers to details from the Lucene and Solr home  
pages: <http://lucene.apache.org/java/> and <http://lucene.apache.org/ 
solr>

Looking forward to seeing some of you soon!

Now back to your regularly scheduled program....

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30701-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 23 14:53:12 2007
Return-Path: <java-user-return-30701-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33043 invoked from network); 23 Oct 2007 14:53:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Oct 2007 14:53:12 -0000
Received: (qmail 24493 invoked by uid 500); 23 Oct 2007 14:52:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24453 invoked by uid 500); 23 Oct 2007 14:52:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24442 invoked by uid 99); 23 Oct 2007 14:52:53 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 Oct 2007 07:52:53 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [207.190.255.66] (HELO smtp.blackducksoftware.com) (207.190.255.66)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 Oct 2007 14:52:55 +0000
Received: from localhost (gyro.blackducksoftware.com [127.0.0.1])
	by smtp.blackducksoftware.com (Postfix) with ESMTP id B5F4C5C445D
	for <java-user@lucene.apache.org>; Tue, 23 Oct 2007 10:53:16 -0400 (EDT)
Received: from smtp.blackducksoftware.com ([127.0.0.1])
	by localhost (gyro.blackducksoftware.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 24921-03 for <java-user@lucene.apache.org>;
	Tue, 23 Oct 2007 10:53:16 -0400 (EDT)
Received: from LENOVODD906E2A (104.13.12.10.dyn.blackducksoftware.com [10.12.13.104])
	by smtp.blackducksoftware.com (Postfix) with ESMTP id 3D1EE5C40B2
	for <java-user@lucene.apache.org>; Tue, 23 Oct 2007 10:53:16 -0400 (EDT)
From: "Dave Golombek" <daveg@blackducksoftware.com>
To: <java-user@lucene.apache.org>
Subject: Making Highlighter.mergeContiguousFragments() public
Date: Tue, 23 Oct 2007 10:52:35 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3198
Thread-Index: AcgVhFkoBxcshs1cTUSFoZQaqmuHBA==
Message-Id: <20071023145316.3D1EE5C40B2@smtp.blackducksoftware.com>
X-Virus-Scanned: Debian amavisd-new at blackducksoftware.com
X-Virus-Checked: Checked by ClamAV on apache.org

I was wondering if people thought that making
Highlighter.mergeContiguousFragments() public (and non-final) would be
acceptable. In my application, I want to strip all fragments with score == 0
before merging the fragments (to get the minimal matching section, but still
in order), and the easiest way to do so would be to override that method.
Not a big deal, but I thought other people might find it useful. Making the
method public static would also achieve the same result, allowing me to call
the function separately.

Thanks,
Dave Golombek
Black Duck Software, Inc.
http://www.blackducksoftware.com 



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30702-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 23 15:41:14 2007
Return-Path: <java-user-return-30702-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54257 invoked from network); 23 Oct 2007 15:41:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Oct 2007 15:41:14 -0000
Received: (qmail 13841 invoked by uid 500); 23 Oct 2007 15:40:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13813 invoked by uid 500); 23 Oct 2007 15:40:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13802 invoked by uid 99); 23 Oct 2007 15:40:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 Oct 2007 08:40:54 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [128.230.18.67] (HELO mx5.syr.edu) (128.230.18.67)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 Oct 2007 15:40:56 +0000
Received: from [128.230.84.100] (ist-h335-d03.syr.edu [128.230.84.100])
	by mx5.syr.edu (8.13.7/8.13.7) with ESMTP id l9NFeYor007399
	for <java-user@lucene.apache.org>; Tue, 23 Oct 2007 11:40:34 -0400
Message-ID: <471E1587.7030105@syr.edu>
Date: Tue, 23 Oct 2007 11:38:47 -0400
From: Steven Rowe <sarowe@syr.edu>
User-Agent: Thunderbird 2.0.0.6-GroupWise-IMAP-fix (Windows/20070920)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Is there bug in CJKAnalyzer?
References: <471CC419.4020407@sirma.bg> <18dfa6d40710220929r72fabf64x22fecc5f075cb61f@mail.gmail.com> <471DE44B.80008@sirma.bg>
In-Reply-To: <471DE44B.80008@sirma.bg>
X-Enigmail-Version: 0.95.3
Content-Type: text/plain; charset=GB2312
Content-Transfer-Encoding: 8bit
X-Scanner: InterScan AntiVirus for Sendmail
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Ivan,

Ivan Vasilev wrote:
> But how to understand the meaning of this: ¡°To overcome this, you
> have to index chinese characters as single tokens (this will increase
> recall, but decrease precision).¡±
> 
> I understand it so: To increase the results I have to use instead of 
> the Chinese another analyzer that makes tokenization of the text 
> character by character.

StandardTokenizer[1] produces single-character tokens for Chinese
ideographs and Japanese kana.

However, AFAIK, you will no longer be able to perform range searches
like [AG TO PQ], because the terms "AG" and "PQ" will not be present in
the index.  [A TO P] should work, but I don't know how useful the
results would be, since this would match all words that contain the
ideographs [A TO P], not just those that start with them.  (Note that
this is also the case with the bigram tokens produced by CJKAnalyzer.)

By the way, what is the use case for matching a range of words?  Doesn't
exposing this kind of functionality cause performance concerns?

Steve

[1] Lucene's StandardTokenizer API doc:
<http://lucene.apache.org/java/2_2_0/api/org/apache/lucene/analysis/standard/StandardTokenizer.html>

-- 
Steve Rowe
Center for Natural Language Processing
http://www.cnlp.org/tech/lucene.asp

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30703-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 23 16:11:13 2007
Return-Path: <java-user-return-30703-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66923 invoked from network); 23 Oct 2007 16:11:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Oct 2007 16:11:13 -0000
Received: (qmail 69460 invoked by uid 500); 23 Oct 2007 16:10:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69430 invoked by uid 500); 23 Oct 2007 16:10:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69419 invoked by uid 99); 23 Oct 2007 16:10:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 Oct 2007 09:10:54 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [66.196.101.28] (HELO web59202.mail.re1.yahoo.com) (66.196.101.28)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 23 Oct 2007 16:10:56 +0000
Received: (qmail 12770 invoked by uid 60001); 23 Oct 2007 16:09:34 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=3avfw4vJqjWgakAPyJL8XOIQ7Hpz9DbJhPucYDB2eB0hW0e/9UVZExSeZ7tbRm2+xxx89I0yCF1QGNvoCVFoOZsRoNepy6t95vwRbVNgxsnmnVT9NsNmojTipMKszuc4AXXtca1nqb5WvR1YhAOC5IzD1hNquJaCVMM4ej4YhTg=;
X-YMail-OSG: AtWn.mIVM1mfnfQaAneJMVs_Y2bniYirfTbj7Ssce6ki42QOD9AoKabGgRG7mP2AeXU3y.szV5zCjeM6NGhig0siUpr0xrKZ9dXumhK1EST9ZGDfxEJl5BZS3mH8jAAHYfrHz_DWMLB1UbE-
Received: from [68.167.115.34] by web59202.mail.re1.yahoo.com via HTTP; Tue, 23 Oct 2007 09:09:34 PDT
Date: Tue, 23 Oct 2007 09:09:34 -0700 (PDT)
From: Cool Coder <techcool.kumar@yahoo.com>
Subject: Meta- search descriptions
To: java-user@lucene.apache.org
In-Reply-To: <200710231604.46336@danielnaber.de>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-98482189-1193155774=:10853"
Content-Transfer-Encoding: 8bit
Message-ID: <901558.10853.qm@web59202.mail.re1.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-98482189-1193155774=:10853
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

 I was just looking into couple of search engines like indeed.com or bixee.com and I really got surprised the accuracy of information they have built in their indexes and also they provide for search result. 
  I have same sort of requirement to build indexes for all my cleints site and provide search capability. WHile indexing a page, parser should know the format/structure of the page, then only it would be possible to index a page accurately. If site changes their content structure quickly then crawler/indexer also has to change the meta-info i.e. format about the page. 
   
  I am basically developing a way of indexing my client pages to provide search capability with accurate information (like there are number of products in a clients page and I need to get all product data and index accordingly). Hence I need some sort of Indexing which will depend upon meta search information (Basically describe the content of pages) like the way I have described above and indexer will work based on meta search information.  
   
  Can anybody suggest me whether this is possible or not.
   
  regards,
  BR

 __________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 
--0-98482189-1193155774=:10853--

From java-user-return-30704-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 23 16:26:00 2007
Return-Path: <java-user-return-30704-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72165 invoked from network); 23 Oct 2007 16:26:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Oct 2007 16:26:00 -0000
Received: (qmail 95893 invoked by uid 500); 23 Oct 2007 16:25:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95862 invoked by uid 500); 23 Oct 2007 16:25:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95851 invoked by uid 99); 23 Oct 2007 16:25:41 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 Oct 2007 09:25:41 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of chris.lu@gmail.com designates 64.233.182.184 as permitted sender)
Received: from [64.233.182.184] (HELO nf-out-0910.google.com) (64.233.182.184)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 Oct 2007 16:25:42 +0000
Received: by nf-out-0910.google.com with SMTP id d3so1144093nfc
        for <java-user@lucene.apache.org>; Tue, 23 Oct 2007 09:25:20 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=v0TjNYFBcC6UeGCp+NGy6FfYMhrDgpYh7utr9TZDHVw=;
        b=AUvSzXTfiK7Rg1betVpGhEuA0aRFJGn2zycCHf/RyhLw+O9EityEO6Aq0vAnkcv1X8WxmaoAPqzp/p8QOcR/W5EK52E9p/0XxIoMbApfVOm8AyEprhSHxuaNwvNwEpJP+bWjdkJ4YX8HzoDoxPKkCwCRrEeKaXh0NeF+fnc41xY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=rsv/LyedBZ4bIXFm96nSpJA7Bm2TIeO+L6AQW5UviipcZa2YCc2/L3hpZSQd3+OdjJsWPS4BGXVyTVKQnvkGEqdZy98W4x2EYXDXP9a6lgB9Lhgl0ReapRXLn4i1EikRh8CaBtiAk6+u4PBrRPgY5H0hs1G3Y3tNuLk8kQSSnxI=
Received: by 10.78.180.18 with SMTP id c18mr4197343huf.1193156720298;
        Tue, 23 Oct 2007 09:25:20 -0700 (PDT)
Received: by 10.78.140.9 with HTTP; Tue, 23 Oct 2007 09:25:19 -0700 (PDT)
Message-ID: <6e3ae6310710230925q23199796md9c4bf1423dcd71b@mail.gmail.com>
Date: Tue, 23 Oct 2007 09:25:19 -0700
From: "Chris Lu" <chris.lu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Meta- search descriptions
In-Reply-To: <901558.10853.qm@web59202.mail.re1.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_1947_3593185.1193156720015"
References: <200710231604.46336@danielnaber.de>
	 <901558.10853.qm@web59202.mail.re1.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_1947_3593185.1193156720015
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Why not index their database directly?

-- 
Chris Lu
-------------------------
Instant Scalable Full-Text Search On Any Database/Application
site: http://www.dbsight.net
demo: http://search.dbsight.com
Lucene Database Search in 3 minutes:
http://wiki.dbsight.com/index.php?title=Create_Lucene_Database_Search_in_3_minutes


On 10/23/07, Cool Coder <techcool.kumar@yahoo.com> wrote:
>
> I was just looking into couple of search engines like indeed.com or
> bixee.com and I really got surprised the accuracy of information they have
> built in their indexes and also they provide for search result.
>   I have same sort of requirement to build indexes for all my cleints site
> and provide search capability. WHile indexing a page, parser should know the
> format/structure of the page, then only it would be possible to index a page
> accurately. If site changes their content structure quickly then
> crawler/indexer also has to change the meta-info i.e. format about the
> page.
>
>   I am basically developing a way of indexing my client pages to provide
> search capability with accurate information (like there are number of
> products in a clients page and I need to get all product data and index
> accordingly). Hence I need some sort of Indexing which will depend upon meta
> search information (Basically describe the content of pages) like the way I
> have described above and indexer will work based on meta search information.
>
>   Can anybody suggest me whether this is possible or not.
>
>   regards,
>   BR
>
> __________________________________________________
> Do You Yahoo!?
> Tired of spam?  Yahoo! Mail has the best spam protection around
> http://mail.yahoo.com

------=_Part_1947_3593185.1193156720015--

From java-user-return-30705-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 23 16:33:49 2007
Return-Path: <java-user-return-30705-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75641 invoked from network); 23 Oct 2007 16:33:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Oct 2007 16:33:49 -0000
Received: (qmail 13152 invoked by uid 500); 23 Oct 2007 16:33:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13126 invoked by uid 500); 23 Oct 2007 16:33:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13115 invoked by uid 99); 23 Oct 2007 16:33:30 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 Oct 2007 09:33:30 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [66.196.101.30] (HELO web59204.mail.re1.yahoo.com) (66.196.101.30)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 23 Oct 2007 16:33:31 +0000
Received: (qmail 60705 invoked by uid 60001); 23 Oct 2007 16:33:10 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=WhyDz7OUt/CfjuO2ssqF2+62FfzRA7/6x1RLqYIFdUVTJQPe51v6kIlFCwig2eFg85GuiKlFtBiXqxccvlrctp/ku7031Ww/HShSf1o3ipUFtG72egVfPOESUlvYk1T7NdqsrwJkU/nTxzNgFXRFsTrlwbw7/RDf/UClYNyLH+U=;
X-YMail-OSG: McpWVwUVM1mSPdwjjnifQ47WJDOJaK3wiLoN11Wb0NdgOolOqMO1hMspz6xvJ43eAg--
Received: from [68.167.115.34] by web59204.mail.re1.yahoo.com via HTTP; Tue, 23 Oct 2007 09:33:10 PDT
Date: Tue, 23 Oct 2007 09:33:10 -0700 (PDT)
From: Cool Coder <techcool.kumar@yahoo.com>
Subject: Re: Meta- search descriptions
To: java-user@lucene.apache.org
In-Reply-To: <6e3ae6310710230925q23199796md9c4bf1423dcd71b@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1757694826-1193157190=:58876"
Content-Transfer-Encoding: 8bit
Message-ID: <57669.58876.qm@web59204.mail.re1.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-1757694826-1193157190=:58876
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

>Why not index their database directly?
I should have provided about this in my first mail. Anyway, clients are ready to allow for indexing their DB, but they have some confidential data as well as information about their clients and all data are so much tightly coupled, it is difficult for them to allow any third-party tool to index their DB. And of course, this is the last option, in case I could not able to develop a robust indexing meachanism.
  Now, with all these difficulties, is it possible to develop a robust indexer? I would appreciate your input/suggestion. It does not matter how relevant but I would appreciate if you can give me your opinion on this.
   
  - BR
  Chris Lu <chris.lu@gmail.com> wrote:
    Why not index their database directly?

  
-- 
Chris Lu
-------------------------
Instant Scalable Full-Text Search On Any Database/Application
site: http://www.dbsight.net
demo: http://search.dbsight.com
Lucene Database Search in 3 minutes:
http://wiki.dbsight.com/index.php?title=Create_Lucene_Database_Search_in_3_minutes


On 10/23/07, Cool Coder wrote:
>
> I was just looking into couple of search engines like indeed.com or
> bixee.com and I really got surprised the accuracy of information they have
> built in their indexes and also they provide for search result.
> I have same sort of requirement to build indexes for all my cleints site
> and provide search capability. WHile indexing a page, parser should know the
> format/structure of the page, then only it would be possible to index a page
> accurately. If site changes their content structure quickly then
> crawler/indexer also has to change the meta-info i.e. format about the
> page.
>
> I am basically developing a way of indexing my client pages to provide
> search capability with accurate information (like there are number of
> products in a clients page and I need to get all product data and index
> accordingly). Hence I need some sort of Indexing which will depend upon meta
> search information (Basically describe the content of pages) like the way I
> have described above and indexer will work based on meta search information.
>
> Can anybody suggest me whether this is possible or not.
>
> regards,
> BR
>
> __________________________________________________
> Do You Yahoo!?
> Tired of spam? Yahoo! Mail has the best spam protection around
> http://mail.yahoo.com



 __________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 
--0-1757694826-1193157190=:58876--

From java-user-return-30706-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 23 16:57:57 2007
Return-Path: <java-user-return-30706-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83073 invoked from network); 23 Oct 2007 16:57:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Oct 2007 16:57:57 -0000
Received: (qmail 62178 invoked by uid 500); 23 Oct 2007 16:57:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62150 invoked by uid 500); 23 Oct 2007 16:57:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62134 invoked by uid 99); 23 Oct 2007 16:57:30 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 Oct 2007 09:57:30 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of markrmiller@gmail.com designates 64.233.170.191 as permitted sender)
Received: from [64.233.170.191] (HELO rn-out-0102.google.com) (64.233.170.191)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 Oct 2007 16:57:31 +0000
Received: by rn-out-0102.google.com with SMTP id v46so884754rnb
        for <java-user@lucene.apache.org>; Tue, 23 Oct 2007 09:57:09 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        bh=HVS0bZ3+zW6kCd+O+pf9ZL/KHvud6MyEO0+1vJttFDo=;
        b=HIWj2YKLST/aFZcEzSFwa4Cwbn80C9aFAddMx2ui4hrxts0b9jp1vyoC8p+e6KUK3jo1OyMf6AN0umTgEMmsP14gw48buGOmhQI5wt3CSapCni3NePe2hHQRwz9L1raV9ea1f3NZcr2vKzvk4lBL5cZ2+Mvpu4b6JseLjFZKTKU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=X9qH+fffhbGUBUgHytA19REwlpOKRPQNlxS5a+G+s0DJmWh6uGKaGdao317BljVaFL6/c1JfAD+yQF209iziDFeHjei6xp7BlIZ0Yw2dtw63z9yA1UUJWCP/E7PLX8KM0P/V1RjB5lRV0Uj4ya8O1bSzjWk/4Hq7GCemmygwkXQ=
Received: by 10.142.231.7 with SMTP id d7mr2051623wfh.1193158628617;
        Tue, 23 Oct 2007 09:57:08 -0700 (PDT)
Received: from ?192.168.1.103? ( [69.124.234.183])
        by mx.google.com with ESMTPS id 18sm9755283wry.2007.10.23.09.57.06
        (version=SSLv3 cipher=RC4-MD5);
        Tue, 23 Oct 2007 09:57:07 -0700 (PDT)
Message-ID: <471E27D0.9070801@gmail.com>
Date: Tue, 23 Oct 2007 12:56:48 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Making Highlighter.mergeContiguousFragments() public
References: <20071023145316.3D1EE5C40B2@smtp.blackducksoftware.com>
In-Reply-To: <20071023145316.3D1EE5C40B2@smtp.blackducksoftware.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Ahhh....the reason the second Shapes is not highlighted is that the 
Highlighter highlights based on what caused the hit in Lucene...and 
Lucene does not look for every shape within 4 paragraphs of 
distribution...after it finds one such occurrence it says "sweet, a 
match" and moves on...it does not look for another such match. If there 
where another occurrence of distribution on the other side of the last 
Shapes, then it would cause its own match. This may be because of how I 
have implemented my WithinSpanQuery or it may be how Span queries in 
lucene work in general. I will investigate and let you know. I am 
thinking that Lucene just quits after finding the span its looking 
for...it says ok I found distribution, now find shape within 4 
paragraphs after distribution...okay found it...I don't think it then 
says ok...is there another shape after that shape within 4...and then 
another and another?

Ill look into it further. Certainly though , other than this possible 
oddity...everything is working.

- Mark

Dave Golombek wrote:
> I was wondering if people thought that making
> Highlighter.mergeContiguousFragments() public (and non-final) would be
> acceptable. In my application, I want to strip all fragments with score == 0
> before merging the fragments (to get the minimal matching section, but still
> in order), and the easiest way to do so would be to override that method.
> Not a big deal, but I thought other people might find it useful. Making the
> method public static would also achieve the same result, allowing me to call
> the function separately.
>
> Thanks,
> Dave Golombek
> Black Duck Software, Inc.
> http://www.blackducksoftware.com 
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>   

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30707-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 23 18:23:32 2007
Return-Path: <java-user-return-30707-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13494 invoked from network); 23 Oct 2007 18:23:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Oct 2007 18:23:32 -0000
Received: (qmail 88284 invoked by uid 500); 23 Oct 2007 18:23:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88170 invoked by uid 500); 23 Oct 2007 18:23:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88158 invoked by uid 99); 23 Oct 2007 18:23:12 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 Oct 2007 11:23:12 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of chris.lu@gmail.com designates 64.233.182.188 as permitted sender)
Received: from [64.233.182.188] (HELO nf-out-0910.google.com) (64.233.182.188)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 Oct 2007 18:23:13 +0000
Received: by nf-out-0910.google.com with SMTP id d3so1176891nfc
        for <java-user@lucene.apache.org>; Tue, 23 Oct 2007 11:22:51 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=LQFihw/qWawqXCDSJh4add/be1t3PPvGt9MPrOsgQHo=;
        b=bFlRUB4nY5/ySYv0jTZDB1lQPfo7bXQDRiMLM9IgQLObPetGcpw1caRMcrWvO6wxJ6sLOJ4xcZbF7A3tVAmLUtnOGBBilnKXXkCTdUVdTn/QXi8oxT8xDFLHRxzBVzgflrCAIIwN210KOml/hCCEvlCc4lHfWHCxdqLaPfDEnc4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=XXELYcY6VtB9KH5imBn0Vu0+d/KwduUNQW/EGjRmokTG4AoCg/jClU6j/QNjrmVg1o1dj/nCvuB+EDl8/TkKhjbNak6qDTZWsBqGsX4lPt4e9MJFAbetDG2+bSQ0VctPdpFOI3kfDSlQOuT+/Kp9Ab8TuiIxMJIFxEMeUYph/vg=
Received: by 10.78.122.16 with SMTP id u16mr4329906huc.1193163769798;
        Tue, 23 Oct 2007 11:22:49 -0700 (PDT)
Received: by 10.78.140.9 with HTTP; Tue, 23 Oct 2007 11:22:49 -0700 (PDT)
Message-ID: <6e3ae6310710231122k3daa5c25gd38cd7fb6c7cf4a4@mail.gmail.com>
Date: Tue, 23 Oct 2007 11:22:49 -0700
From: "Chris Lu" <chris.lu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Meta- search descriptions
In-Reply-To: <57669.58876.qm@web59204.mail.re1.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_2661_14676035.1193163769774"
References: <6e3ae6310710230925q23199796md9c4bf1423dcd71b@mail.gmail.com>
	 <57669.58876.qm@web59204.mail.re1.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_2661_14676035.1193163769774
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Since you only try to index your client's pages, I think it should be doable
to use regular expressions or similar to find out the meta info. Or you can
ask your clients to expose some XML or RSS that you can process more easily.

But still, accessing database directly will save you tons of time to parse
out the data.

-- 
Chris Lu
-------------------------
Instant Scalable Full-Text Search On Any Database/Application
site: http://www.dbsight.net
demo: http://search.dbsight.com
Lucene Database Search in 3 minutes:
http://wiki.dbsight.com/index.php?title=Create_Lucene_Database_Search_in_3_minutes

On 10/23/07, Cool Coder <techcool.kumar@yahoo.com> wrote:
>
> >Why not index their database directly?
> I should have provided about this in my first mail. Anyway, clients are
> ready to allow for indexing their DB, but they have some confidential data
> as well as information about their clients and all data are so much tightly
> coupled, it is difficult for them to allow any third-party tool to index
> their DB. And of course, this is the last option, in case I could not able
> to develop a robust indexing meachanism.
>   Now, with all these difficulties, is it possible to develop a robust
> indexer? I would appreciate your input/suggestion. It does not matter how
> relevant but I would appreciate if you can give me your opinion on this.
>
>   - BR
>   Chris Lu <chris.lu@gmail.com> wrote:
>     Why not index their database directly?
>
>
> --
> Chris Lu
> -------------------------
> Instant Scalable Full-Text Search On Any Database/Application
> site: http://www.dbsight.net
> demo: http://search.dbsight.com
> Lucene Database Search in 3 minutes:
>
> http://wiki.dbsight.com/index.php?title=Create_Lucene_Database_Search_in_3_minutes
>
>
> On 10/23/07, Cool Coder wrote:
> >
> > I was just looking into couple of search engines like indeed.com or
> > bixee.com and I really got surprised the accuracy of information they
> have
> > built in their indexes and also they provide for search result.
> > I have same sort of requirement to build indexes for all my cleints site
> > and provide search capability. WHile indexing a page, parser should know
> the
> > format/structure of the page, then only it would be possible to index a
> page
> > accurately. If site changes their content structure quickly then
> > crawler/indexer also has to change the meta-info i.e. format about the
> > page.
> >
> > I am basically developing a way of indexing my client pages to provide
> > search capability with accurate information (like there are number of
> > products in a clients page and I need to get all product data and index
> > accordingly). Hence I need some sort of Indexing which will depend upon
> meta
> > search information (Basically describe the content of pages) like the
> way I
> > have described above and indexer will work based on meta search
> information.
> >
> > Can anybody suggest me whether this is possible or not.
> >
> > regards,
> > BR
> >
> > __________________________________________________
> > Do You Yahoo!?
> > Tired of spam? Yahoo! Mail has the best spam protection around
> > http://mail.yahoo.com
>
>
>
> __________________________________________________
> Do You Yahoo!?
> Tired of spam?  Yahoo! Mail has the best spam protection around
> http://mail.yahoo.com

------=_Part_2661_14676035.1193163769774--

From java-user-return-30708-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 23 18:52:13 2007
Return-Path: <java-user-return-30708-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27185 invoked from network); 23 Oct 2007 18:52:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Oct 2007 18:52:13 -0000
Received: (qmail 34038 invoked by uid 500); 23 Oct 2007 18:51:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33991 invoked by uid 500); 23 Oct 2007 18:51:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33980 invoked by uid 99); 23 Oct 2007 18:51:49 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 Oct 2007 11:51:49 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of markrmiller@gmail.com designates 209.85.132.240 as permitted sender)
Received: from [209.85.132.240] (HELO an-out-0708.google.com) (209.85.132.240)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 Oct 2007 18:51:50 +0000
Received: by an-out-0708.google.com with SMTP id d40so233783and
        for <java-user@lucene.apache.org>; Tue, 23 Oct 2007 11:51:29 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        bh=wUY4BPbQrDGDZz0o2EmrwUw83G7rtSZSt2jfbuMtJ3o=;
        b=SpFa6tN2uTz6O2kaybK0GZgVNE0ABMlVaRfPqlbu1v7w1elMniY4hSmLO2Yr4Ud9fB2tV+mt8Ox85rZBjV64UBU0JGm+FRhVY0AQvcyoNL/TYRzxFA7TQ4WLzG0rRZOX3NIhf23YJFowmnwhwt0JoXKOR4u+Jq8d4DG2e/aW1ZE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=Dr6fHoEnbrIvtNDejxX/RjPg2T6/v1IgWBf6mcJ/qut/iVE4LXEX131rXamFOnLT27f2wC2nXptrMrrefKO861NqvjlrW2RFRT/GWvpO5YWa/gQyjR16SBC9iiDdjgQIN+ClTDun95MZ0bApeo9BdwQomJcHZjpQcs6fitgs5W8=
Received: by 10.142.253.21 with SMTP id a21mr278212wfi.1193165488793;
        Tue, 23 Oct 2007 11:51:28 -0700 (PDT)
Received: from ?192.168.1.103? ( [69.124.234.183])
        by mx.google.com with ESMTPS id 11sm9889782wrl.2007.10.23.11.51.26
        (version=SSLv3 cipher=RC4-MD5);
        Tue, 23 Oct 2007 11:51:27 -0700 (PDT)
Message-ID: <471E4291.8020504@gmail.com>
Date: Tue, 23 Oct 2007 14:50:57 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Making Highlighter.mergeContiguousFragments() public
References: <20071023145316.3D1EE5C40B2@smtp.blackducksoftware.com>
In-Reply-To: <20071023145316.3D1EE5C40B2@smtp.blackducksoftware.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Uh...ignore that lsat email...hit reply on the wrong one obviously...sorry.

Dave Golombek wrote:
> I was wondering if people thought that making
> Highlighter.mergeContiguousFragments() public (and non-final) would be
> acceptable. In my application, I want to strip all fragments with score == 0
> before merging the fragments (to get the minimal matching section, but still
> in order), and the easiest way to do so would be to override that method.
> Not a big deal, but I thought other people might find it useful. Making the
> method public static would also achieve the same result, allowing me to call
> the function separately.
>
> Thanks,
> Dave Golombek
> Black Duck Software, Inc.
> http://www.blackducksoftware.com 
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>   

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30709-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 24 06:18:51 2007
Return-Path: <java-user-return-30709-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48236 invoked from network); 24 Oct 2007 06:18:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 24 Oct 2007 06:18:50 -0000
Received: (qmail 81946 invoked by uid 500); 24 Oct 2007 06:18:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81914 invoked by uid 500); 24 Oct 2007 06:18:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81903 invoked by uid 99); 24 Oct 2007 06:18:30 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 Oct 2007 23:18:30 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of luz290@gmail.com designates 64.233.184.237 as permitted sender)
Received: from [64.233.184.237] (HELO wr-out-0506.google.com) (64.233.184.237)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Oct 2007 06:18:33 +0000
Received: by wr-out-0506.google.com with SMTP id c55so79293wra
        for <java-user@lucene.apache.org>; Tue, 23 Oct 2007 23:18:11 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        bh=tvq/RITcBVY3sQoAeIW0OUW973pv36Yy5u0vCLq6fKg=;
        b=Ub4mBscA70PShACtY1N07nuxcliUQWmRnLw+kJHp5v3m2KFRwY9VmsEblcbHnzZBM0k+LeVGyVIlyF6e9s+9lYzhkLfaaMlZSXM2ZY4Oo16oYCrjB0EmWcpvR5ZdIf34GpBQQwdMm1x/WIkvNzV96HWvVg97WBL7Cbhvimspj0s=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=V5UopdQD22frqrSNCPAVbVVSYKYO1aFlx1hEJPbeXfil7NcD/IImzTpGpI+4/XaHKZOAmF8X7RErmmgB29vWnxzz5/LrPBzMg/j60YklXywmaPXO8OggbWGjRe0EZ6suR35V3sH7pHI2Dddixt8vmPfbwVRW4kTuzo/lKXXv0nU=
Received: by 10.142.237.20 with SMTP id k20mr19553wfh.1193206690614;
        Tue, 23 Oct 2007 23:18:10 -0700 (PDT)
Received: by 10.142.225.3 with HTTP; Tue, 23 Oct 2007 23:18:10 -0700 (PDT)
Message-ID: <cec089090710232318h188cf549gbaa5490e4a3398f9@mail.gmail.com>
Date: Wed, 24 Oct 2007 02:18:10 -0400
From: "lucene user" <luz290@gmail.com>
To: java-user@lucene.apache.org
Subject: Lucene Queries Over User-Editable Dynamic Categories of Documents
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_2632_20710612.1193206690592"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_2632_20710612.1193206690592
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Folks!

We are building a web-based multi-user system. Users of our system are able
to categorize items that they have found into groups of related documents.
We would like users to be able to search these document groups and rapidly
find matches. Each user might have ten of these categories and might have
perhaps a few hundred documents in each. These categories might be highly
dynamic, with users adding and deleting documents from these categories many
times a day. How might we use Lucene to perform searches limited to these
very dynamic and end-user editable categories? Any ideas for how we might do
this efficiently?

If all the data were in a SQL database, we could run a subquery that
returned the IDs of the items in categories and use that to limit the
results of the super query.

Currently we do not plan to maintain the information about the end-user's
categories in the Lucene index at all, or not in a big, main Lucene index
anyway.

What our the reasonable options for handling this? What are the performance
implications of various choices?

Thanks!

------=_Part_2632_20710612.1193206690592--

From java-user-return-30710-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 24 07:07:55 2007
Return-Path: <java-user-return-30710-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57768 invoked from network); 24 Oct 2007 07:07:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 24 Oct 2007 07:07:55 -0000
Received: (qmail 12141 invoked by uid 500); 24 Oct 2007 07:07:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12109 invoked by uid 500); 24 Oct 2007 07:07:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12097 invoked by uid 99); 24 Oct 2007 07:07:37 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Oct 2007 00:07:37 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [203.197.35.8] (HELO rediff.co.in) (203.197.35.8)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Oct 2007 07:07:41 +0000
Received: (qmail 31423 invoked from network); 24 Oct 2007 12:34:25 +0530
Received: from unknown (HELO bhavin) (202.137.232.130)
  by mailserver with SMTP; 24 Oct 2007 12:34:25 +0530
Message-ID: <004e01c8160d$17d637c0$150410ac@bhavin>
Reply-To: "Bhavin Pandya" <bhavinp@rediff.co.in>
From: "Bhavin Pandya" <bhavinp@rediff.co.in>
To: <java-user@lucene.apache.org>
Subject: NullPointerException while sorting on INT
Date: Wed, 24 Oct 2007 12:41:26 +0530
Organization: rediff.com
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_004B_01C8163B.31614940"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.3138
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3198
X-Virus-Checked: Checked by ClamAV on apache.org

------=_NextPart_000_004B_01C8163B.31614940
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi friends,

I am getting NullPointerException while sorting on a field using =
SortField.INT
same is working for SortField.STRING

Code Snippet:
                SortField sortfield =3D new =
SortField("CURRENT_BID",SortField.INT,false); // asceding sort on =
current bid value
                Sort sort =3D new Sort();
                sort.setSort(sortfield);
                hits =3D msearcher.search(bqmain,sort);  // this =
statement generates NullPointerException

Stack Trace:
java.lang.NullPointerException
        at =
org.apache.lucene.search.MultiSearcherThread.hits(ParallelMultiSearcher.j=
ava:286)
        at =
org.apache.lucene.search.ParallelMultiSearcher.search(ParallelMultiSearch=
er.java:141)
        at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:65)
        at org.apache.lucene.search.Hits.<init>(Hits.java:52)
        at org.apache.lucene.search.Searcher.search(Searcher.java:53)
        at =
_auctionSearcher__jsp._jspService(_auctionSearcher__jsp.java:359)

Same is working if i change "SoftField.INT" to "SortField.STRING"....

In index the field "CURRENT_BID" has no null value in any document....

I am using lucene 2.1.

Thanks.
Bhavin pandya
    =20


------=_NextPart_000_004B_01C8163B.31614940--


From java-user-return-30711-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 24 07:08:04 2007
Return-Path: <java-user-return-30711-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57859 invoked from network); 24 Oct 2007 07:08:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 24 Oct 2007 07:08:04 -0000
Received: (qmail 13648 invoked by uid 500); 24 Oct 2007 07:07:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13623 invoked by uid 500); 24 Oct 2007 07:07:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13612 invoked by uid 99); 24 Oct 2007 07:07:44 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Oct 2007 00:07:44 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of liaqatalimian@gmail.com designates 66.249.92.173 as permitted sender)
Received: from [66.249.92.173] (HELO ug-out-1314.google.com) (66.249.92.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Oct 2007 07:07:47 +0000
Received: by ug-out-1314.google.com with SMTP id h3so291102ugf
        for <java-user@lucene.apache.org>; Wed, 24 Oct 2007 00:07:26 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:user-agent:mime-version:to:subject:content-type:content-transfer-encoding;
        bh=hN6SUGe1We/HtL6Bm9KdwqdVS0HdqqxzIt1lcbW5oi8=;
        b=JzmF3picHpt/2UxWxH6SiSwdm2yU7RT/3s1xPKX8P1iXFBl8vROU7VZqlP/abF8xSdTd4/uBY1wUDW1KgvyP8gBYkHRACNuF7nE08CLPW9PPNLryqT4/AOXbGhXh8E9M2tUwiq7/ycwzZrPOqgA06SG3XI957p9oAu0ywClOCOA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:content-type:content-transfer-encoding;
        b=gm8TeOt6i/wK23r7pov2ajLnfv20yevUoKJxBuxIndmhO3o+jm9pZJl3qtHvc9+PwJj0YrIdia8PlCheu7nnFO5Gpm7PyFn5/vl9fS+mhMcu3gxosFS7X0tMmebdFtv+aynrcY76OMTXzJdhN0UTXoUrQh+B9veA76r9d/XxC3I=
Received: by 10.66.250.18 with SMTP id x18mr1746823ugh.1193209645011;
        Wed, 24 Oct 2007 00:07:25 -0700 (PDT)
Received: from ?10.0.54.185? ( [202.125.143.70])
        by mx.google.com with ESMTPS id y37sm473755iky.2007.10.24.00.07.19
        (version=TLSv1/SSLv3 cipher=RC4-MD5);
        Wed, 24 Oct 2007 00:07:21 -0700 (PDT)
Message-ID: <471EEF14.5040003@gmail.com>
Date: Wed, 24 Oct 2007 12:07:00 +0500
From: Liaqat Ali <liaqatalimian@gmail.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Integration of Lucene 
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hi All,

I m developing a search engine for Urdu language. I want to use lucene 
for that purpose. Now the situation is that

---I have a corpus of 2000 Urdu(Variant of Persian and Arabic) documents 
in XML form, how i will make index of them using Lucene.
---Well there will be need some stemming techniques while indexing, 
because there is no stemmer available for Urdu language.

---I have developed a GUI using HTML and have a Java Servlets for 
searching, so how i will integrate Lucene with my own servlets.

Thanks...

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30712-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 24 10:00:50 2007
Return-Path: <java-user-return-30712-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66184 invoked from network); 24 Oct 2007 10:00:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 24 Oct 2007 10:00:50 -0000
Received: (qmail 6495 invoked by uid 500); 24 Oct 2007 10:00:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6450 invoked by uid 500); 24 Oct 2007 10:00:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6439 invoked by uid 99); 24 Oct 2007 10:00:31 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Oct 2007 03:00:31 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.217] (HELO web26006.mail.ukl.yahoo.com) (217.12.10.217)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 24 Oct 2007 10:00:34 +0000
Received: (qmail 12561 invoked by uid 60001); 24 Oct 2007 10:00:10 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=Rm8wt2STSepZL8zftm2SZ0caiuP0BEMPm217v6dVDbN6YEc8YZUwGzBbYYchCC2K8RCGeKMMc1mXAXGYCvn8kIE0ZzckNq3CWE9owvGVMgPr0SH8xAb0Bd+K5/9mTlMOisr/oGaI0CBeMm61jFqgvk0vJbE1Pu93ehcdGnp2J8Y=;
X-YMail-OSG: YofT0QsVM1mVqsEoHBBp5edgOoxTFoep4_ZYW8t6WHXxfNfN3QWlxfnMQHqnzHP2OOU6mwIk1gdyGYrJrLS9XdpmVwj.th8ox9LZ6GjoiwU0IhFH
Received: from [193.36.230.96] by web26006.mail.ukl.yahoo.com via HTTP; Wed, 24 Oct 2007 10:00:08 GMT
X-Mailer: YahooMailRC/814.06 YahooMailWebService/0.7.134.12
Date: Wed, 24 Oct 2007 10:00:08 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: Lucene Queries Over User-Editable Dynamic Categories of Documents
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
Message-ID: <59969.12032.qm@web26006.mail.ukl.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Given the volatility in the set membership I'd be tempted to keep that grou=
ping info in a database rather than doing the reader/writer-open/close danc=
e in Lucene before you can see any updates. (I suspect this is the reason y=
ou've opted not to keep the info in Lucene).=0AYou can pull a user's list o=
f a hundred or so terms out of the database (typically primary keys) and ad=
d them as a TermsFilter to your Lucene queries.=0AI've found that using thi=
s approach can be pretty fast even with a large list of filter terms - it w=
as a while ago so I can't quote stats, you'll need to try it for yourself.=
=0A=0ACaching these filters may prove useful but if it's a big dataset Bits=
ets don't sound like a memory-efficient form of storing these lists as it s=
ounds like they'll be sparsely populated.=0AYou may be interested in the mo=
re memory-efficient options such as SortedVIntList here: http://issues.apac=
he.org/jira/browse/LUCENE-584. =0AWithout taking the whole of that patch on=
 board you could have a caching strategy based on this pseudocode:=0A=0Aget=
Filter(Set primaryKeys, IndexReader reader)=0A{=0A   TermsFilter tf=3D new =
TermsFilter()=0A   for all primaryKeys:=0A       tf.addTerm(primaryKey)=0A =
 BitSet bits;=0A  SortedVIntList cached=3DlruCachedMap.get(tf);=0A  if(cach=
ed=3D=3Dnull)=0A        bits=3Dtf.bits(reader)=0A        lruCachedMap.put(t=
f, convertBitsToSortedVIntList(bits))=0A  else=0A        bits=3DconvertSort=
edVIntListToBits(bits)=0A  return new Filter()=0A       {=0A               =
  BitSet bits(IndexReader reader)=0A                 {=0A                  =
   return bits;=0A                 }=0A       };=0A}=0A=0A=0AOn a bit of a =
lucene-dev tangent, I think the above code has the makings of an optimisati=
on to CachingWrapperFilter - it could choose to cache SortedVIntLists or Bi=
tSets depending on the sparseness of the set and transparently handles any =
required conversions.=0A=0A=0A=0A----- Original Message ----=0AFrom: lucene=
 user <luz290@gmail.com>=0ATo: java-user@lucene.apache.org=0ASent: Wednesda=
y, 24 October, 2007 7:18:10 AM=0ASubject: Lucene Queries Over User-Editable=
 Dynamic Categories of Documents=0A=0AFolks!=0A=0AWe are building a web-bas=
ed multi-user system. Users of our system are=0A able=0Ato categorize items=
 that they have found into groups of related=0A documents.=0AWe would like =
users to be able to search these document groups and=0A rapidly=0Afind matc=
hes. Each user might have ten of these categories and might=0A have=0Aperha=
ps a few hundred documents in each. These categories might be=0A highly=0Ad=
ynamic, with users adding and deleting documents from these categories=0A m=
any=0Atimes a day. How might we use Lucene to perform searches limited to=
=0A these=0Avery dynamic and end-user editable categories? Any ideas for ho=
w we=0A might do=0Athis efficiently?=0A=0AIf all the data were in a SQL dat=
abase, we could run a subquery that=0Areturned the IDs of the items in cate=
gories and use that to limit the=0Aresults of the super query.=0A=0ACurrent=
ly we do not plan to maintain the information about the=0A end-user's=0Acat=
egories in the Lucene index at all, or not in a big, main Lucene=0A index=
=0Aanyway.=0A=0AWhat our the reasonable options for handling this? What are=
 the=0A performance=0Aimplications of various choices?=0A=0AThanks!=0A=0A=
=0A=0A=0A=0A      _________________________________________________________=
__=0AYahoo! Answers - Got a question? Someone out there knows the answer. T=
ry it=0Anow.=0Ahttp://uk.answers.yahoo.com/ 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30713-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 24 10:01:20 2007
Return-Path: <java-user-return-30713-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66323 invoked from network); 24 Oct 2007 10:01:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 24 Oct 2007 10:01:20 -0000
Received: (qmail 8114 invoked by uid 500); 24 Oct 2007 10:01:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8073 invoked by uid 500); 24 Oct 2007 10:01:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8056 invoked by uid 99); 24 Oct 2007 10:01:01 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Oct 2007 03:01:01 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [203.197.35.8] (HELO rediff.co.in) (203.197.35.8)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Oct 2007 10:01:05 +0000
Received: (qmail 24307 invoked from network); 24 Oct 2007 15:27:48 +0530
Received: from unknown (HELO bhavin) (202.137.232.130)
  by mailserver with SMTP; 24 Oct 2007 15:27:48 +0530
Message-ID: <00ad01c81625$50b8f9c0$150410ac@bhavin>
Reply-To: "Bhavin Pandya" <bhavinp@rediff.co.in>
From: "Bhavin Pandya" <bhavinp@rediff.co.in>
To: <java-user@lucene.apache.org>
References: <004e01c8160d$17d637c0$150410ac@bhavin>
Subject: Re: NullPointerException while sorting on INT
Date: Wed, 24 Oct 2007 15:34:46 +0530
Organization: rediff.com
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.3138
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3198
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

>> I am getting NullPointerException while sorting on a field using 
>> SortField.INT
>> same is working for SortField.STRING

Sorry guys... I found my mistake... I was using wrong Types.... my data has 
FLOAT data.... I used SortField.AUTO and its working fine now.

Thanks.
Bhavin pandya


----- Original Message ----- 
From: "Bhavin Pandya" <bhavinp@rediff.co.in>
To: <java-user@lucene.apache.org>
Sent: Wednesday, October 24, 2007 12:41 PM
Subject: NullPointerException while sorting on INT


Hi friends,

I am getting NullPointerException while sorting on a field using 
SortField.INT
same is working for SortField.STRING

Code Snippet:
                SortField sortfield = new 
SortField("CURRENT_BID",SortField.INT,false); // asceding sort on current 
bid value
                Sort sort = new Sort();
                sort.setSort(sortfield);
                hits = msearcher.search(bqmain,sort);  // this statement 
generates NullPointerException

Stack Trace:
java.lang.NullPointerException
        at 
org.apache.lucene.search.MultiSearcherThread.hits(ParallelMultiSearcher.java:286)
        at 
org.apache.lucene.search.ParallelMultiSearcher.search(ParallelMultiSearcher.java:141)
        at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:65)
        at org.apache.lucene.search.Hits.<init>(Hits.java:52)
        at org.apache.lucene.search.Searcher.search(Searcher.java:53)
        at _auctionSearcher__jsp._jspService(_auctionSearcher__jsp.java:359)

Same is working if i change "SoftField.INT" to "SortField.STRING"....

In index the field "CURRENT_BID" has no null value in any document....

I am using lucene 2.1.

Thanks.
Bhavin pandya




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30714-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 24 10:33:50 2007
Return-Path: <java-user-return-30714-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73429 invoked from network); 24 Oct 2007 10:33:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 24 Oct 2007 10:33:50 -0000
Received: (qmail 47095 invoked by uid 500); 24 Oct 2007 10:33:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47064 invoked by uid 500); 24 Oct 2007 10:33:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47053 invoked by uid 99); 24 Oct 2007 10:33:31 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Oct 2007 03:33:31 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [62.213.161.134] (HELO pmx.sirma.bg) (62.213.161.134)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Oct 2007 10:33:34 +0000
Received: from localhost (localhost [127.0.0.1])
	by pmx.sirma.bg (Sirma mail system) with ESMTP id 04A89244989
	for <java-user@lucene.apache.org>; Wed, 24 Oct 2007 13:33:12 +0300 (EEST)
X-Virus-Scanned: amavisd-new at sirma.bg
Received: from pmx.sirma.bg ([127.0.0.1])
	by localhost (pmx.sirma.bg [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id JzZXA-bBKiWZ for <java-user@lucene.apache.org>;
	Wed, 24 Oct 2007 13:33:11 +0300 (EEST)
Received: from [192.168.128.140] (ivasilev.sirma.int [192.168.128.140])
	by pmx.sirma.bg (Sirma mail system) with ESMTP id E438924497E
	for <java-user@lucene.apache.org>; Wed, 24 Oct 2007 13:33:11 +0300 (EEST)
Message-ID: <471F1F67.7020402@sirma.bg>
Date: Wed, 24 Oct 2007 13:33:11 +0300
From: Ivan Vasilev <ivasilev@sirma.bg>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Is there bug in CJKAnalyzer?
References: <471CC419.4020407@sirma.bg> <18dfa6d40710220929r72fabf64x22fecc5f075cb61f@mail.gmail.com> <471DE44B.80008@sirma.bg> <471E1587.7030105@syr.edu>
In-Reply-To: <471E1587.7030105@syr.edu>
Content-Type: text/plain; charset=GB2312
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Steven,

Thank you very match for your answer.
I tested with the StandardAnalyzer and it really tokenizes the text
ideograph by ideograph. May be as Samir says in his mail this is not
convenient for people who use CJK language because too lot of documents
will match. But the think is in this case (when using StandardAnalyzer)
the range searches work correctly. I tested it. The logic is the same as
in English range searches. If in English you have the word "brown" and
some tokenizer tokenizes it letter by letter like this: 'b' 'r' 'o' 'w'
'n', and then you can search for more than one character. For example
consider the following search - content:[aaa TO ccc] - then the token
'b' will be found.
Yes for letter based languages it does not make sense to tokenize letter
by letter, of course. But in CJK in great number of cases, as I know,
single ideographs are separate words, or even group of words.
I tested range searches of the Chinese text indexed with
StandardAnalyzer and everything in this context is OK.
The searches:
content:[\u0E80 TO µÄ\u0E80]
content:[\u0E80\u0E80 TO µÄ\u0E80]
content:[\u0E80\u0E80\u0E80 TO µÄ\u0E80\u0E80]
content:[\u0E80\u0E80\u0E80 TO µÄ\u0E80\u0E80]

not only work but return the same result set as:
content:[\u0E80 TO µÄ]

Here \u0E80 is the first ideograph of CJK Unicode code points and µÄ is
some ideograph persisting in some of the text files.
This of course works also with the CJKAnalyzer. But with
StandardAnalyzer will be avoided, I think, the case that I describe in
my previous mail.

So I know range searches are a bit slower but I just fulfil the
requirement of our customers. They will decide if range searches are
convenient or not and whet Analyzer will better help them.

Thanks once again :)

Best Regards,
Ivan

Steven Rowe wrote:
> Hi Ivan,
>
> Ivan Vasilev wrote:
>   
>> But how to understand the meaning of this: ¡°To overcome this, you
>> have to index chinese characters as single tokens (this will increase
>> recall, but decrease precision).¡±
>>
>> I understand it so: To increase the results I have to use instead of 
>> the Chinese another analyzer that makes tokenization of the text 
>> character by character.
>>     
>
> StandardTokenizer[1] produces single-character tokens for Chinese
> ideographs and Japanese kana.
>
> However, AFAIK, you will no longer be able to perform range searches
> like [AG TO PQ], because the terms "AG" and "PQ" will not be present in
> the index.  [A TO P] should work, but I don't know how useful the
> results would be, since this would match all words that contain the
> ideographs [A TO P], not just those that start with them.  (Note that
> this is also the case with the bigram tokens produced by CJKAnalyzer.)
>
> By the way, what is the use case for matching a range of words?  Doesn't
> exposing this kind of functionality cause performance concerns?
>
> Steve
>
> [1] Lucene's StandardTokenizer API doc:
> <http://lucene.apache.org/java/2_2_0/api/org/apache/lucene/analysis/standard/StandardTokenizer.html>
>
>   


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30715-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 24 12:13:11 2007
Return-Path: <java-user-return-30715-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93983 invoked from network); 24 Oct 2007 12:13:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 24 Oct 2007 12:13:11 -0000
Received: (qmail 63509 invoked by uid 500); 24 Oct 2007 12:12:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63480 invoked by uid 500); 24 Oct 2007 12:12:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63469 invoked by uid 99); 24 Oct 2007 12:12:52 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Oct 2007 05:12:52 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of luz290@gmail.com designates 64.233.184.224 as permitted sender)
Received: from [64.233.184.224] (HELO wr-out-0506.google.com) (64.233.184.224)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Oct 2007 12:12:55 +0000
Received: by wr-out-0506.google.com with SMTP id c55so139808wra
        for <java-user@lucene.apache.org>; Wed, 24 Oct 2007 05:12:34 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=CO3/2o537HFH5KTAJIHwyW4E3H+49PMy9dOwXWriEDQ=;
        b=RAvHsaOVDUJFFZ99i6KolWh2KeLdGvTkYBO5yC4/PeEhcrVzp+qr0Xu3qZdJcwtwKiaCriUPWdMDCN4eQkxEGR97jky0Aekd5sLvDfL4FlWSFgNAJlaEDrn7eI4UCzeE5yfVKcEGN/osiBCti9daJ6pED7RowLaNd9uUYvL+exA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=tZLWM495QJOLdbFyxsN0ZF7cJ8q0lruR2EHPe6S5zqgJSwcnIiivkCkmPN2I2Ws0oLqG18D3crxp5XFH3KSJIz4tuoy2f8kx26VBa2aHvdaxlTgKwTN6HWO5FO9xdzoG37V9ZwJEYpgaKEQXC0jTfI54pBUL0wyFVRQglWZXQO4=
Received: by 10.142.245.10 with SMTP id s10mr45254wfh.1193227952599;
        Wed, 24 Oct 2007 05:12:32 -0700 (PDT)
Received: by 10.142.225.3 with HTTP; Wed, 24 Oct 2007 05:12:32 -0700 (PDT)
Message-ID: <cec089090710240512j7b820fd6s109df7d8e519be11@mail.gmail.com>
Date: Wed, 24 Oct 2007 08:12:32 -0400
From: "lucene user" <luz290@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene Queries Over User-Editable Dynamic Categories of Documents
In-Reply-To: <59969.12032.qm@web26006.mail.ukl.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_3174_21391579.1193227952588"
References: <59969.12032.qm@web26006.mail.ukl.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_3174_21391579.1193227952588
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Thanks very much. How large can my end-user's catigories grow before this
implementation you have outlined will start to bog down? If my users had
thousands of items categorized, would you still recommend using a term
filter in this way? Tens of thousands? What is a realistic max? Is there
another idea that works for even larger numbers? Frankly, we don't yet
understand how our users will use the system in the long run. When you have
done stuff like this, how large have the term filters grown?

Would it EVER make sense to maintain the end user's catigories in some sort
of Lucene data structure? If so, what data structure?

Would it EVER be wise to keep the end-user catigories in Lucene? If so, when
and how?

What are other realistic options for implementing user categorization of
documents?

When solr talks about "faceted searching," this isn't what they mean, is it?
They say "Faceted Searching based on unique field values and explicit
queries" and I'm looking to find what they mean and not getting clear.

Thanks!

On 10/24/07, mark harwood <markharw00d@yahoo.co.uk> wrote:
>
> Given the volatility in the set membership I'd be tempted to keep that
> grouping info in a database rather than doing the reader/writer-open/close
> dance in Lucene before you can see any updates. (I suspect this is the
> reason you've opted not to keep the info in Lucene).
> You can pull a user's list of a hundred or so terms out of the database
> (typically primary keys) and add them as a TermsFilter to your Lucene
> queries.
> I've found that using this approach can be pretty fast even with a large
> list of filter terms - it was a while ago so I can't quote stats, you'll
> need to try it for yourself.
>
> Caching these filters may prove useful but if it's a big dataset Bitsets
> don't sound like a memory-efficient form of storing these lists as it sounds
> like they'll be sparsely populated.
> You may be interested in the more memory-efficient options such as
> SortedVIntList here: http://issues.apache.org/jira/browse/LUCENE-584.
> Without taking the whole of that patch on board you could have a caching
> strategy based on this pseudocode:
>
> getFilter(Set primaryKeys, IndexReader reader)
> {
>    TermsFilter tf= new TermsFilter()
>    for all primaryKeys:
>        tf.addTerm(primaryKey)
>   BitSet bits;
>   SortedVIntList cached=lruCachedMap.get(tf);
>   if(cached==null)
>         bits=tf.bits(reader)
>         lruCachedMap.put(tf, convertBitsToSortedVIntList(bits))
>   else
>         bits=convertSortedVIntListToBits(bits)
>   return new Filter()
>        {
>                  BitSet bits(IndexReader reader)
>                  {
>                      return bits;
>                  }
>        };
> }
>
>
> On a bit of a lucene-dev tangent, I think the above code has the makings
> of an optimisation to CachingWrapperFilter - it could choose to cache
> SortedVIntLists or BitSets depending on the sparseness of the set and
> transparently handles any required conversions.
>
>
>
> ----- Original Message ----
> From: lucene user <luz290@gmail.com>
> To: java-user@lucene.apache.org
> Sent: Wednesday, 24 October, 2007 7:18:10 AM
> Subject: Lucene Queries Over User-Editable Dynamic Categories of Documents
>
> Folks!
>
> We are building a web-based multi-user system. Users of our system are
> able
> to categorize items that they have found into groups of related
> documents.
> We would like users to be able to search these document groups and
> rapidly
> find matches. Each user might have ten of these categories and might
> have
> perhaps a few hundred documents in each. These categories might be
> highly
> dynamic, with users adding and deleting documents from these categories
> many
> times a day. How might we use Lucene to perform searches limited to
> these
> very dynamic and end-user editable categories? Any ideas for how we
> might do
> this efficiently?
>
> If all the data were in a SQL database, we could run a subquery that
> returned the IDs of the items in categories and use that to limit the
> results of the super query.
>
> Currently we do not plan to maintain the information about the
> end-user's
> categories in the Lucene index at all, or not in a big, main Lucene
> index
> anyway.
>
> What our the reasonable options for handling this? What are the
> performance
> implications of various choices?
>
> Thanks!
>
>
>
>

------=_Part_3174_21391579.1193227952588--

From java-user-return-30716-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 24 13:00:18 2007
Return-Path: <java-user-return-30716-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16045 invoked from network); 24 Oct 2007 13:00:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 24 Oct 2007 13:00:16 -0000
Received: (qmail 45540 invoked by uid 500); 24 Oct 2007 12:59:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45512 invoked by uid 500); 24 Oct 2007 12:59:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45500 invoked by uid 99); 24 Oct 2007 12:59:58 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Oct 2007 05:59:58 -0700
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [208.97.132.83] (HELO spunkymail-a6.g.dreamhost.com) (208.97.132.83)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Oct 2007 12:59:59 +0000
Received: from [192.168.0.3] (adsl-074-229-189-244.sip.rmo.bellsouth.net [74.229.189.244])
	by spunkymail-a6.g.dreamhost.com (Postfix) with ESMTP id 33F75109F2E
	for <java-user@lucene.apache.org>; Wed, 24 Oct 2007 05:59:08 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <471EEF14.5040003@gmail.com>
References: <471EEF14.5040003@gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <9B64CD42-8525-46AE-A2C6-3C59BEBC9E7B@apache.org>
Content-Transfer-Encoding: 7bit
From: Grant Ingersoll <gsingers@apache.org>
Subject: Re: Integration of Lucene 
Date: Wed, 24 Oct 2007 08:59:02 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org


On Oct 24, 2007, at 3:07 AM, Liaqat Ali wrote:

> Hi All,
>
> I m developing a search engine for Urdu language. I want to use  
> lucene for that purpose. Now the situation is that
>
> ---I have a corpus of 2000 Urdu(Variant of Persian and Arabic)  
> documents in XML form, how i will make index of them using Lucene.

You will have to use some sort of XML Parser (SAX or a pull parser)  
to extract the content you want and create Lucene Documents.  Have a  
look at the tutorial on the Lucene home page for examples

> ---Well there will be need some stemming techniques while indexing,  
> because there is no stemmer available for Urdu language.

You will have to write your own, more than likely.  There are some  
Arabic analyzers out there, perhaps you could use them as a starting  
point.

>
> ---I have developed a GUI using HTML and have a Java Servlets for  
> searching, so how i will integrate Lucene with my own servlets.

This really is up to you, but essentially you need to setup an  
IndexSearcher and create queries to do searches.  Again, have a look  
at the tutorial as a way of getting started.



--------------------------
Grant Ingersoll
http://lucene.grantingersoll.com

Lucene Boot Camp Training:
ApacheCon Atlanta, Nov. 12, 2007.  Sign up now!  http:// 
www.apachecon.com

Lucene Helpful Hints:
http://wiki.apache.org/lucene-java/BasicsOfPerformance
http://wiki.apache.org/lucene-java/LuceneFAQ



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30717-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 24 13:03:12 2007
Return-Path: <java-user-return-30717-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17702 invoked from network); 24 Oct 2007 13:03:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 24 Oct 2007 13:03:12 -0000
Received: (qmail 50672 invoked by uid 500); 24 Oct 2007 13:02:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50645 invoked by uid 500); 24 Oct 2007 13:02:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50634 invoked by uid 99); 24 Oct 2007 13:02:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Oct 2007 06:02:54 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of liaqatalimian@gmail.com designates 64.233.182.187 as permitted sender)
Received: from [64.233.182.187] (HELO nf-out-0910.google.com) (64.233.182.187)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Oct 2007 13:02:56 +0000
Received: by nf-out-0910.google.com with SMTP id d3so157045nfc
        for <java-user@lucene.apache.org>; Wed, 24 Oct 2007 06:02:35 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:user-agent:mime-version:to:subject:content-type:content-transfer-encoding;
        bh=OzBYEbXZRd0i9cfpL7JAj4U6qSJcvokZS05+04bgkHQ=;
        b=Pn9KxC4RYNnigEOX3dDE+ztV3iQvH/R2BDiCUBXchWwzFCHIjbOzAfkvSopYUTA+ir1mzeZgtcS1mZGWSalrKp3+u6ycDOa3F2P0AnyPxyakG5vWIRCp3VrKt4I+AHraghgasT28EFobdW2CPZCz28tNRsLj546/2fxLljFpnpc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:content-type:content-transfer-encoding;
        b=EV8GHAaxSwX7c9rzbEf0xDK0jScWFGOp7I7YpdwpTWKBKayGU/Qaw1KUirMEqHNLzIADhFCui+B4Y5KWqhSUN86BTPsgaDhKJgJQi4CLPQvNFBm3u+JiCdVrOkhzYKOXGwxBbr2XQ1kQfWtbuxqdxRNwg0iYK4w3q+LHii/R2a8=
Received: by 10.86.25.17 with SMTP id 17mr459169fgy.1193230955485;
        Wed, 24 Oct 2007 06:02:35 -0700 (PDT)
Received: from ?10.0.60.124? ( [202.125.143.69])
        by mx.google.com with ESMTPS id y37sm888817iky.2007.10.24.06.02.29
        (version=TLSv1/SSLv3 cipher=RC4-MD5);
        Wed, 24 Oct 2007 06:02:33 -0700 (PDT)
Message-ID: <471F4255.2010302@gmail.com>
Date: Wed, 24 Oct 2007 18:02:13 +0500
From: Liaqat Ali <liaqatalimian@gmail.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Corpus interpretation
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

I want to index the Urdu language corpus (200 documents in CES XML DTD 
format). Is net necessary to break the XML file into 200 different files 
or it can be indexed in the original form using Lucene. Kindly guide in 
this regard.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30718-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 24 13:04:13 2007
Return-Path: <java-user-return-30718-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17933 invoked from network); 24 Oct 2007 13:04:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 24 Oct 2007 13:04:13 -0000
Received: (qmail 52731 invoked by uid 500); 24 Oct 2007 13:03:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52660 invoked by uid 500); 24 Oct 2007 13:03:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52647 invoked by uid 99); 24 Oct 2007 13:03:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Oct 2007 06:03:54 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.220] (HELO web26009.mail.ukl.yahoo.com) (217.12.10.220)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 24 Oct 2007 13:03:57 +0000
Received: (qmail 5346 invoked by uid 60001); 24 Oct 2007 13:02:35 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=gX0O46nxdBQE9NfjdImnDukdVxo3ev3IgjNAEQjj3nZVZ3QEHbmf421PpH9yXdXEeFo/25zCw4//+CcJ4L5mIFblDxSFtJlxJQRL6xu+T5P8eQ0idCcB/NPAj6vrdfxvVi/yeAIZbxht6dqLVQiznuqBp7DoFRvfVEX4cBv/InM=;
X-YMail-OSG: PjcfbnEVM1ndWxiw3GmTfY2NcWg3RNv8OIO0sk8NZqF8jSIhF2hJoqXMghE22tcp7uhqgDpgORrbuO00SoahPx1U79q.qSlPdy6Y53.j2sTYE_Rd
Received: from [193.36.230.96] by web26009.mail.ukl.yahoo.com via HTTP; Wed, 24 Oct 2007 13:02:34 GMT
X-Mailer: YahooMailRC/814.06 YahooMailWebService/0.7.152
Date: Wed, 24 Oct 2007 13:02:34 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: Lucene Queries Over User-Editable Dynamic Categories of Documents
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
Message-ID: <73010.3833.qm@web26009.mail.ukl.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

If you were talking about a reasonably stable dataset e.g. products in a ca=
talogue that would be manageable in Lucene because the volume of updates is=
 comparatively low (one set of categorisations maintained by the site owner=
 e.g. something like Cnet where Solr/faceted search came from). If you are =
talking about lots of users with their own categories/tags (I'm thinking of=
 del.ici.ous/Flickr model) then the update volumes are likely to be much hi=
gher and therefore could be a problem when maintaining a single Lucene inde=
x because of the need to constantly close/reopen readers/writers.=0A=0AMana=
ging multiple per-user indexes may be an option but I've never tried that -=
 that would require more disk, RAM and management.=0A=0AAs for the original=
 suggestion: I have used thousands of primary-key terms in a terms filter b=
efore now (i.e. terms with only one doc) and was surprised at the speed. I =
can't recall exact stats so try it yourself.=0A=0A=0A=0A=0A=0A----- Origina=
l Message ----=0AFrom: lucene user <luz290@gmail.com>=0ATo: java-user@lucen=
e.apache.org=0ASent: Wednesday, 24 October, 2007 1:12:32 PM=0ASubject: Re: =
Lucene Queries Over User-Editable Dynamic Categories of Documents=0A=0AThan=
ks very much. How large can my end-user's catigories grow before=0A this=0A=
implementation you have outlined will start to bog down? If my users=0A had=
=0Athousands of items categorized, would you still recommend using a term=
=0Afilter in this way? Tens of thousands? What is a realistic max? Is=0A th=
ere=0Aanother idea that works for even larger numbers? Frankly, we don't ye=
t=0Aunderstand how our users will use the system in the long run. When you=
=0A have=0Adone stuff like this, how large have the term filters grown?=0A=
=0AWould it EVER make sense to maintain the end user's catigories in some=
=0A sort=0Aof Lucene data structure? If so, what data structure?=0A=0AWould=
 it EVER be wise to keep the end-user catigories in Lucene? If so,=0A when=
=0Aand how?=0A=0AWhat are other realistic options for implementing user cat=
egorization=0A of=0Adocuments?=0A=0AWhen solr talks about "faceted searchin=
g," this isn't what they mean,=0A is it?=0AThey say "Faceted Searching base=
d on unique field values and explicit=0Aqueries" and I'm looking to find wh=
at they mean and not getting clear.=0A=0AThanks!=0A=0AOn 10/24/07, mark har=
wood <markharw00d@yahoo.co.uk> wrote:=0A>=0A> Given the volatility in the s=
et membership I'd be tempted to keep=0A that=0A> grouping info in a databas=
e rather than doing the=0A reader/writer-open/close=0A> dance in Lucene bef=
ore you can see any updates. (I suspect this is=0A the=0A> reason you've op=
ted not to keep the info in Lucene).=0A> You can pull a user's list of a hu=
ndred or so terms out of the=0A database=0A> (typically primary keys) and a=
dd them as a TermsFilter to your Lucene=0A> queries.=0A> I've found that us=
ing this approach can be pretty fast even with a=0A large=0A> list of filte=
r terms - it was a while ago so I can't quote stats,=0A you'll=0A> need to =
try it for yourself.=0A>=0A> Caching these filters may prove useful but if =
it's a big dataset=0A Bitsets=0A> don't sound like a memory-efficient form =
of storing these lists as it=0A sounds=0A> like they'll be sparsely populat=
ed.=0A> You may be interested in the more memory-efficient options such as=
=0A> SortedVIntList here: http://issues.apache.org/jira/browse/LUCENE-584.=
=0A> Without taking the whole of that patch on board you could have a=0A ca=
ching=0A> strategy based on this pseudocode:=0A>=0A> getFilter(Set primaryK=
eys, IndexReader reader)=0A> {=0A>    TermsFilter tf=3D new TermsFilter()=
=0A>    for all primaryKeys:=0A>        tf.addTerm(primaryKey)=0A>   BitSet=
 bits;=0A>   SortedVIntList cached=3DlruCachedMap.get(tf);=0A>   if(cached=
=3D=3Dnull)=0A>         bits=3Dtf.bits(reader)=0A>         lruCachedMap.put=
(tf, convertBitsToSortedVIntList(bits))=0A>   else=0A>         bits=3Dconve=
rtSortedVIntListToBits(bits)=0A>   return new Filter()=0A>        {=0A>    =
              BitSet bits(IndexReader reader)=0A>                  {=0A>   =
                   return bits;=0A>                  }=0A>        };=0A> }=
=0A>=0A>=0A> On a bit of a lucene-dev tangent, I think the above code has t=
he=0A makings=0A> of an optimisation to CachingWrapperFilter - it could cho=
ose to cache=0A> SortedVIntLists or BitSets depending on the sparseness of =
the set and=0A> transparently handles any required conversions.=0A>=0A>=0A>=
=0A> ----- Original Message ----=0A> From: lucene user <luz290@gmail.com>=
=0A> To: java-user@lucene.apache.org=0A> Sent: Wednesday, 24 October, 2007 =
7:18:10 AM=0A> Subject: Lucene Queries Over User-Editable Dynamic Categorie=
s of=0A Documents=0A>=0A> Folks!=0A>=0A> We are building a web-based multi-=
user system. Users of our system=0A are=0A> able=0A> to categorize items th=
at they have found into groups of related=0A> documents.=0A> We would like =
users to be able to search these document groups and=0A> rapidly=0A> find m=
atches. Each user might have ten of these categories and might=0A> have=0A>=
 perhaps a few hundred documents in each. These categories might be=0A> hig=
hly=0A> dynamic, with users adding and deleting documents from these=0A cat=
egories=0A> many=0A> times a day. How might we use Lucene to perform search=
es limited to=0A> these=0A> very dynamic and end-user editable categories? =
Any ideas for how we=0A> might do=0A> this efficiently?=0A>=0A> If all the =
data were in a SQL database, we could run a subquery that=0A> returned the =
IDs of the items in categories and use that to limit the=0A> results of the=
 super query.=0A>=0A> Currently we do not plan to maintain the information =
about the=0A> end-user's=0A> categories in the Lucene index at all, or not =
in a big, main Lucene=0A> index=0A> anyway.=0A>=0A> What our the reasonable=
 options for handling this? What are the=0A> performance=0A> implications o=
f various choices?=0A>=0A> Thanks!=0A>=0A>=0A>=0A>=0A=0A=0A=0A=0A=0A      _=
__________________________________________________________=0AYahoo! Answers=
 - Got a question? Someone out there knows the answer. Try it=0Anow.=0Ahttp=
://uk.answers.yahoo.com/ 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30719-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 24 15:14:23 2007
Return-Path: <java-user-return-30719-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60021 invoked from network); 24 Oct 2007 15:14:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 24 Oct 2007 15:14:22 -0000
Received: (qmail 28960 invoked by uid 500); 24 Oct 2007 15:14:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28922 invoked by uid 500); 24 Oct 2007 15:14:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28911 invoked by uid 99); 24 Oct 2007 15:14:03 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Oct 2007 08:14:03 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [128.230.18.67] (HELO mx5.syr.edu) (128.230.18.67)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Oct 2007 15:14:05 +0000
Received: from [128.230.84.100] (ist-h335-d03.syr.edu [128.230.84.100])
	by mx5.syr.edu (8.13.7/8.13.7) with ESMTP id l9OFDhLV008442
	for <java-user@lucene.apache.org>; Wed, 24 Oct 2007 11:13:44 -0400
Message-ID: <471F60B8.3010201@syr.edu>
Date: Wed, 24 Oct 2007 11:11:52 -0400
From: Steven Rowe <sarowe@syr.edu>
User-Agent: Thunderbird 2.0.0.6-GroupWise-IMAP-fix (Windows/20070920)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Corpus interpretation
References: <471F4255.2010302@gmail.com>
In-Reply-To: <471F4255.2010302@gmail.com>
X-Enigmail-Version: 0.95.3
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Scanner: InterScan AntiVirus for Sendmail
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Liaqat,

Liaqat Ali wrote:
> I want to index the Urdu language corpus (200 documents in CES XML DTD
> format). Is net necessary to break the XML file into 200 different files
> or it can be indexed in the original form using Lucene. Kindly guide in
> this regard.

A Lucene document is composed of one or more fields.  You will choose
which fields each document will have.  In your initial implementation,
you may choose to extract all text from each document and place it in a
single indexed text field.

It is your responsibility to locate and open your input sources and
break them up or combine them to produce the document field data -
Lucene does not provide this functionality for you.

It is your choice whether you break the input files before you index
them or as part of the indexing process - in either case, it is your
responsibility, not Lucene's.  This choice will depend on the parsing
library you choose, the size of the corpus, and the amount of memory
available on the machine on which you perform the indexing.  If the
corpus is small, and/or you process the source XML file with a parser
which does not hold the entire contents in memory (e.g. SAX), and/or the
machine has lots of memory, it should be okay to construct document
fields on-the-fly, instead of first splitting the original file up.

Steve

-- 
Steve Rowe
Center for Natural Language Processing
http://www.cnlp.org/tech/lucene.asp

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30720-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 24 17:41:27 2007
Return-Path: <java-user-return-30720-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24919 invoked from network); 24 Oct 2007 17:41:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 24 Oct 2007 17:41:27 -0000
Received: (qmail 251 invoked by uid 500); 24 Oct 2007 17:41:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 218 invoked by uid 500); 24 Oct 2007 17:41:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 206 invoked by uid 99); 24 Oct 2007 17:41:08 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Oct 2007 10:41:08 -0700
X-ASF-Spam-Status: No, hits=2.6 required=10.0
	tests=DNS_FROM_OPENWHOIS,SPF_HELO_PASS,SPF_PASS,WHOIS_MYPRIVREG
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lists@nabble.com designates 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Oct 2007 17:41:10 +0000
Received: from isper.nabble.com ([192.168.236.156])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <lists@nabble.com>)
	id 1IkkDq-0005TS-Fe
	for java-user@lucene.apache.org; Wed, 24 Oct 2007 10:40:50 -0700
Message-ID: <13388793.post@talk.nabble.com>
Date: Wed, 24 Oct 2007 10:40:50 -0700 (PDT)
From: java_user_ <jkraemer@cs.tufts.edu>
To: java-user@lucene.apache.org
Subject: Boost Sub-Query
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: jkraemer@cs.tufts.edu
X-Virus-Checked: Checked by ClamAV on apache.org


Is it possible to boost subqueries with QueryParser?

For example:
((apple AND banana)^10 OR orange)

Thanks




-- 
View this message in context: http://www.nabble.com/Boost-Sub-Query-tf4685212.html#a13388793
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30721-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 24 18:01:35 2007
Return-Path: <java-user-return-30721-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30047 invoked from network); 24 Oct 2007 18:01:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 24 Oct 2007 18:01:35 -0000
Received: (qmail 23329 invoked by uid 500); 24 Oct 2007 18:01:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23287 invoked by uid 500); 24 Oct 2007 18:01:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23276 invoked by uid 99); 24 Oct 2007 18:01:16 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Oct 2007 11:01:16 -0700
X-ASF-Spam-Status: No, hits=2.6 required=10.0
	tests=DNS_FROM_OPENWHOIS,SPF_HELO_PASS,SPF_PASS,WHOIS_MYPRIVREG
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lists@nabble.com designates 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Oct 2007 18:01:20 +0000
Received: from isper.nabble.com ([192.168.236.156])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <lists@nabble.com>)
	id 1IkkXM-00060m-98
	for java-user@lucene.apache.org; Wed, 24 Oct 2007 11:01:00 -0700
Message-ID: <13388811.post@talk.nabble.com>
Date: Wed, 24 Oct 2007 11:01:00 -0700 (PDT)
From: java_user_ <jkraemer@cs.tufts.edu>
To: java-user@lucene.apache.org
Subject: Stemmer and Synonym analyzer
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Nabble-From: jkraemer@cs.tufts.edu
X-Virus-Checked: Checked by ClamAV on apache.org


I am planning on building an analyzer that has stemming, stopwords and
synonyms.  I am planning on using the Snowball Porter stemmer and the
WordNet synonym engine.

Does it make sense to stem the synonym index? =20

I do not want to stem the term =E2=80=9Chistory=E2=80=9D and  then try to f=
ind the synonym.=20
The stem of =E2=80=9Chistory=E2=80=9D is =E2=80=9Chistori=E2=80=9D which wi=
ll not have a synonym in the
index unless I originally stemmed all the terms in the synonym index.
(synonyms(stem(tokenstream), stopwordlist))

Alternatively, I can find the synonyms of the token stream and then stem al=
l
of them.  This solution should not require stemming the synonym index.
(stem(synonyms(tokenstream)), stopwordlist)

Does anyone have any experience combining a stemmer and a synonym analyzer
together?



--=20
View this message in context: http://www.nabble.com/Stemmer-and-Synonym-ana=
lyzer-tf4685221.html#a13388811
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30722-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 24 20:57:11 2007
Return-Path: <java-user-return-30722-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87162 invoked from network); 24 Oct 2007 20:57:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 24 Oct 2007 20:57:10 -0000
Received: (qmail 61978 invoked by uid 500); 24 Oct 2007 20:56:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61951 invoked by uid 500); 24 Oct 2007 20:56:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61940 invoked by uid 99); 24 Oct 2007 20:56:51 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Oct 2007 13:56:51 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of luz290@gmail.com designates 72.14.204.227 as permitted sender)
Received: from [72.14.204.227] (HELO qb-out-0506.google.com) (72.14.204.227)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Oct 2007 20:56:56 +0000
Received: by qb-out-0506.google.com with SMTP id o21so318095qba
        for <java-user@lucene.apache.org>; Wed, 24 Oct 2007 13:56:34 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=b7quKKnxtIaBe/eV6KKfvdnNPRonuMo85/ZLHNauxPY=;
        b=lvqJ6oZtmLReqLvo/WZbRuvK2DC4wa6Qz6sQfAFlbHIh6XKrCut09Ljtd1z6MdzRVFTEdXosvyRqsaSXTTN8P7y2OiIPS+J6G1slnvLwFirjbdHAotue203Y/Xyq9TTu49Z4kU8ifguq9GA9mSBkzmwoBDNocYyRVQdcFxpzDvY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=ID/31mz7clcB9a4KgyGyHRTOF5Q0hMWriK3fz64mQ5Eap9XVROYLjj/R5TO42miJklgtHcRkYAqnpqNkrzL+xbNflFeTc22LDOq+qTmYTsgz1yAZTpsT18wsn+EMkXgcfiD3TrkHxMYzdXC1HxBdDOBWNZYLOXWqkSTKkfc0hPU=
Received: by 10.142.97.20 with SMTP id u20mr354786wfb.1193259393917;
        Wed, 24 Oct 2007 13:56:33 -0700 (PDT)
Received: by 10.142.225.3 with HTTP; Wed, 24 Oct 2007 13:56:33 -0700 (PDT)
Message-ID: <cec089090710241356t795d494eh35bbd58be5092af5@mail.gmail.com>
Date: Wed, 24 Oct 2007 16:56:33 -0400
From: "lucene user" <luz290@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene Queries Over User-Editable Dynamic Categories of Documents
In-Reply-To: <73010.3833.qm@web26009.mail.ukl.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_4904_15512249.1193259393887"
References: <73010.3833.qm@web26009.mail.ukl.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_4904_15512249.1193259393887
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Thanks for all your help!

We are using Lucene 2.1.0 and TermsFilter seems to be new in Lucene 2.2.0.
I have not been able to find SortedVIntList in the javadocs at all.

Because both SortedVIntList and a regular BitSet are based on Lucene
Document Numbers, which are not permanent, It seems we will need to
generate these objects fresh at least once per session. Any comments,
about that? Do I have that correct?

Our application includes the following filter implementation that we use for
a
slightly different end user category problem. We could easily use it for our
current problem as well.

Is TermsFilter sufficiently better (faster, more compact, more correct,
etc.) to make upgrading
very important?

protected static class FieldFilter extends Filter {
  protected Collection values ; protected String field ;
  public FieldFilter(Collection v, String f) { super() ; values=v ; field=f
;}
  public BitSet bits(IndexReader r) {
    BitSet allow= new BitSet() ; String val="" ;
    try {
      TermEnum e=r.terms() ; TermDocs d=r.termDocs() ;
      boolean more= e.skipTo( new Term(field, "")) ;
      while (more) {
        if ( ! e.term().field().equals(field) ) break ;
        val=e.term().text() ;
        if (values.contains(val)) { d.seek(e) ; while (d.next()) allow.set(
d.doc()) ;}
        more=e.next() ;
      }
      return allow ;
    } catch (Exception x) {
      throw MessageToUser.error(x, "Error for Field="+field+" val="+val) ;
    }
  } // bits()
} // FieldFilter{}


On 10/24/07, mark harwood <markharw00d@yahoo.co.uk> wrote:
>
> If you were talking about a reasonably stable dataset e.g. products in a
> catalogue that would be manageable in Lucene because the volume of updates
> is comparatively low (one set of categorisations maintained by the site
> owner e.g. something like Cnet where Solr/faceted search came from). If
> you are talking about lots of users with their own categories/tags (I'm
> thinking of del.ici.ous/Flickr model) then the update volumes are likely
> to be much higher and therefore could be a problem when maintaining a single
> Lucene index because of the need to constantly close/reopen readers/writers.
>
> Managing multiple per-user indexes may be an option but I've never tried
> that - that would require more disk, RAM and management.
>
> As for the original suggestion: I have used thousands of primary-key terms
> in a terms filter before now (i.e. terms with only one doc) and was
> surprised at the speed. I can't recall exact stats so try it yourself.
>
>
>
>
>
> ----- Original Message ----
> From: lucene user <luz290@gmail.com>
> To: java-user@lucene.apache.org
> Sent: Wednesday, 24 October, 2007 1:12:32 PM
> Subject: Re: Lucene Queries Over User-Editable Dynamic Categories of
> Documents
>
> Thanks very much. How large can my end-user's catigories grow before
> this
> implementation you have outlined will start to bog down? If my users
> had
> thousands of items categorized, would you still recommend using a term
> filter in this way? Tens of thousands? What is a realistic max? Is
> there
> another idea that works for even larger numbers? Frankly, we don't yet
> understand how our users will use the system in the long run. When you
> have
> done stuff like this, how large have the term filters grown?
>
> Would it EVER make sense to maintain the end user's catigories in some
> sort
> of Lucene data structure? If so, what data structure?
>
> Would it EVER be wise to keep the end-user catigories in Lucene? If so,
> when
> and how?
>
> What are other realistic options for implementing user categorization
> of
> documents?
>
> When solr talks about "faceted searching," this isn't what they mean,
> is it?
> They say "Faceted Searching based on unique field values and explicit
> queries" and I'm looking to find what they mean and not getting clear.
>
> Thanks!
>
> On 10/24/07, mark harwood <markharw00d@yahoo.co.uk> wrote:
> >
> > Given the volatility in the set membership I'd be tempted to keep
> that
> > grouping info in a database rather than doing the
> reader/writer-open/close
> > dance in Lucene before you can see any updates. (I suspect this is
> the
> > reason you've opted not to keep the info in Lucene).
> > You can pull a user's list of a hundred or so terms out of the
> database
> > (typically primary keys) and add them as a TermsFilter to your Lucene
> > queries.
> > I've found that using this approach can be pretty fast even with a
> large
> > list of filter terms - it was a while ago so I can't quote stats,
> you'll
> > need to try it for yourself.
> >
> > Caching these filters may prove useful but if it's a big dataset
> Bitsets
> > don't sound like a memory-efficient form of storing these lists as it
> sounds
> > like they'll be sparsely populated.
> > You may be interested in the more memory-efficient options such as
> > SortedVIntList here: http://issues.apache.org/jira/browse/LUCENE-584.
> > Without taking the whole of that patch on board you could have a
> caching
> > strategy based on this pseudocode:
> >
> > getFilter(Set primaryKeys, IndexReader reader)
> > {
> >    TermsFilter tf= new TermsFilter()
> >    for all primaryKeys:
> >        tf.addTerm(primaryKey)
> >   BitSet bits;
> >   SortedVIntList cached=lruCachedMap.get(tf);
> >   if(cached==null)
> >         bits=tf.bits(reader)
> >         lruCachedMap.put(tf, convertBitsToSortedVIntList(bits))
> >   else
> >         bits=convertSortedVIntListToBits(bits)
> >   return new Filter()
> >        {
> >                  BitSet bits(IndexReader reader)
> >                  {
> >                      return bits;
> >                  }
> >        };
> > }
> >
> >
> > On a bit of a lucene-dev tangent, I think the above code has the
> makings
> > of an optimisation to CachingWrapperFilter - it could choose to cache
> > SortedVIntLists or BitSets depending on the sparseness of the set and
> > transparently handles any required conversions.
> >
> >
> >
> > ----- Original Message ----
> > From: lucene user <luz290@gmail.com>
> > To: java-user@lucene.apache.org
> > Sent: Wednesday, 24 October, 2007 7:18:10 AM
> > Subject: Lucene Queries Over User-Editable Dynamic Categories of
> Documents
> >
> > Folks!
> >
> > We are building a web-based multi-user system. Users of our system
> are
> > able
> > to categorize items that they have found into groups of related
> > documents.
> > We would like users to be able to search these document groups and
> > rapidly
> > find matches. Each user might have ten of these categories and might
> > have
> > perhaps a few hundred documents in each. These categories might be
> > highly
> > dynamic, with users adding and deleting documents from these
> categories
> > many
> > times a day. How might we use Lucene to perform searches limited to
> > these
> > very dynamic and end-user editable categories? Any ideas for how we
> > might do
> > this efficiently?
> >
> > If all the data were in a SQL database, we could run a subquery that
> > returned the IDs of the items in categories and use that to limit the
> > results of the super query.
> >
> > Currently we do not plan to maintain the information about the
> > end-user's
> > categories in the Lucene index at all, or not in a big, main Lucene
> > index
> > anyway.
> >
> > What our the reasonable options for handling this? What are the
> > performance
> > implications of various choices?
> >
> > Thanks!
> >
> >
> >
> >
>
>
>
>
>
>       ___________________________________________________________
> Yahoo! Answers - Got a question? Someone out there knows the answer. Try
> it
> now.
> http://uk.answers.yahoo.com/
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_4904_15512249.1193259393887--

From java-user-return-30723-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 24 21:28:05 2007
Return-Path: <java-user-return-30723-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 144 invoked from network); 24 Oct 2007 21:28:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 24 Oct 2007 21:28:04 -0000
Received: (qmail 3679 invoked by uid 500); 24 Oct 2007 21:27:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3645 invoked by uid 500); 24 Oct 2007 21:27:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3634 invoked by uid 99); 24 Oct 2007 21:27:46 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Oct 2007 14:27:46 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [66.196.101.33] (HELO web59207.mail.re1.yahoo.com) (66.196.101.33)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 24 Oct 2007 21:27:49 +0000
Received: (qmail 14693 invoked by uid 60001); 24 Oct 2007 21:27:27 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=jPLBOsNcZEY06V1l5GtPA2W+EKZqrZPRBguCeT1Za750oByi+oiTUNM8oRKI3qaf2JcXMeJgix64+X4BHDYIY8gzvisLbogdzZq6nori6v7MFD2mp4ICvNxwwzKMhwbh8O5qdLC+A3uQ+RWXigACfJDpOAjY3H6lxLYKp0nfPQ0=;
X-YMail-OSG: axqNxgcVM1mA9Hwq84.Blh_PvkrdVAufy2FRwxC.Fepx72X56l3dZgMGY8lezDkJjXMCgj93gjmeLcnPFLj2YED6BBPRfncmgJWh5VKC8KC3sLjal.5io4YsNKyFg_1alD2xn4v1Pu_4goj1vUqmfTDrAMhBRLEAHG3SdX5LxVwQY_6Tzulr.mA-
Received: from [68.167.115.34] by web59207.mail.re1.yahoo.com via HTTP; Wed, 24 Oct 2007 14:27:27 PDT
Date: Wed, 24 Oct 2007 14:27:27 -0700 (PDT)
From: Cool Coder <techcool.kumar@yahoo.com>
Subject: Highlighter and href fields
To: java-user@lucene.apache.org
In-Reply-To: <cec089090710241356t795d494eh35bbd58be5092af5@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-907857717-1193261247=:14121"
Content-Transfer-Encoding: 8bit
Message-ID: <847275.14121.qm@web59207.mail.re1.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-907857717-1193261247=:14121
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Is there anyway I stop highlighting text if it is a href/url etc...? The problem occurs when the field content is a URL which contains the query e.g. my search is for .net and fields has value http://jkjsd.net. After applying highlighter, it becomes http://jkjsd<b>.net</b>, which is a wrong URL. Can I filter it out?
   
  - BR

 __________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 
--0-907857717-1193261247=:14121--

From java-user-return-30724-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 24 21:39:37 2007
Return-Path: <java-user-return-30724-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6057 invoked from network); 24 Oct 2007 21:39:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 24 Oct 2007 21:39:37 -0000
Received: (qmail 21883 invoked by uid 500); 24 Oct 2007 21:39:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21828 invoked by uid 500); 24 Oct 2007 21:39:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21817 invoked by uid 99); 24 Oct 2007 21:39:19 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Oct 2007 14:39:18 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of dckorah@gmail.com designates 209.85.162.176 as permitted sender)
Received: from [209.85.162.176] (HELO el-out-1112.google.com) (209.85.162.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Oct 2007 21:39:23 +0000
Received: by el-out-1112.google.com with SMTP id o28so137176ele
        for <java-user@lucene.apache.org>; Wed, 24 Oct 2007 14:39:02 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        bh=hl5Ql6gHLet6jKlV4lEllijkoq+F14eubtwQfOnT/vY=;
        b=JukuLIfY+bNGylUrfQ1wLjaBtRDPALVGip8M/rPCh2kXm6lPjDHThL5N/LalrVriiDnuNs5cwmaqMo+BQ7S0OoVLHurrhCF2ePNjODz8HeYeZHd/M7TysxmmfH5GAAfSff2imsymqQzrCOmjiimbVbbn+PR7kiHMZ9OiV/Jrf2M=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=SgAlJeLdwfliLrYoYsiut1TAOJcxTOO5mRss19qFVQitehBo4BCJORXwn32hacLjW7k61S0WrP8ZQUYYPhV9pT1GcswrtJzZTzJG7RbeVSBMjSDk6AbzmyH3O8CFc638svDyXYm3E0Fcr9GZsIx4Lg4m/4p79NFXudYytRZ3OgQ=
Received: by 10.142.131.18 with SMTP id e18mr360393wfd.1193261941714;
        Wed, 24 Oct 2007 14:39:01 -0700 (PDT)
Received: by 10.142.128.12 with HTTP; Wed, 24 Oct 2007 14:39:01 -0700 (PDT)
Message-ID: <926b35870710241439s51c9203cxa7109a98dafb0727@mail.gmail.com>
Date: Wed, 24 Oct 2007 22:39:01 +0100
From: "Dino Korah" <dckorah@gmail.com>
To: "lucene list" <java-user@lucene.apache.org>
Subject: Index Reader Writer - 2 JVMs
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_10421_21626959.1193261941678"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_10421_21626959.1193261941678
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: base64
Content-Disposition: inline

SGkgQWxsLAoKSSBoYXZlIGEgc2NlbmFyaW8gd2hlcmUgdGhlcmUgYXJlIHR3byBwcm9jZXNzZXMg
KDIgSlZNcykgYWNjZXNzaW5nIHRoZSBzYW1lCmluZGV4LiBPbmUgb2YgdGhlbSBpcyBkb2luZyB0
aGUgaW5kZXhpbmcgYXMgZG9jdW1lbnRzIGFycml2ZSBpbnRvIHRoZSBzeXN0ZW0KYW5kIHRoZSBz
ZWNvbmQgb25lIHNlcnZlcnMgc2VhcmNoIHF1ZXJpZXMuIEJvdGggdGhlIHByb2Nlc3NlcyBhcmUg
cnVubmluZyBvbgp0aGUgc2FtZSBtYWNoaW5lLgoKSXMgdGhlcmUgYSBuZWVkIHRvIGRvIHNvbWUg
a2luZCBvZiBsb2NraW5nLiBEb2VzIHRoZSB3cml0ZXIgcHJvY2VzcyBuZWVkIHRvCmtub3cgYWJv
dXQgdGhlIHJlYWRlciwgZm9yIG9wdGltYWwgcGVyZm9ybWFuY2Ugb2YgdGhlIHF1ZXJ5IHNlcnZl
cj8gVXNpbmcgYQpSQU1EaXJlY3Rvcnk8aHR0cDovL2x1Y2VuZS56b25lcy5hcGFjaGUub3JnOjgw
ODAvaHVkc29uL2pvYi9MdWNlbmUtTmlnaHRseS9qYXZhZG9jL29yZy9hcGFjaGUvbHVjZW5lL3N0
b3JlL1JBTURpcmVjdG9yeS5odG1sPmZvcgphZGRpbmcgZG9jdW1lbnRzIGFuZCB0aGVuIG1lcmdp
bmcgaXQgaW50byB0aGUgbWFpbiBpbmRleCBwZXJpb2RpY2FsbHk7CndvdWxkIHRoYXQgaGVscCBp
biBpbXByb3ZpbmcgdGhlIHF1ZXJ5IHBlcmZvcm1hbmNlIGluIGFueSB3YXksIHByb3ZpZGVkIHRo
ZQpTZWFyY2hlciBpcyBrZXB0IG9wZW4gZm9yIGEgbG9uZyBwZXJpb2Qgb2YgdGltZSwgd2l0aCBy
ZWxvYWQgYXQgaW50ZXJ2YWxzLgoKSSByZW1lbWJlciByZWFkaW5nIGEgdGhyZWFkIG9mIGRpc2N1
c3Npb24gb24gSW5kZXhBY2Nlc3Nvci4gSSB3b3VsZCBsaWtlIHRvCmtub3cgd2hhdCB3b3VsZCBi
ZSB0aGUgYWR2YW50YWdlIGluIHVzaW5nIEluZGV4QWNjZXNzb3IuCgpNYW55IHRoYW5rcy4KCkRp
bm8KCi0tIApkIGkgbiBvICAgIGsgbyByIGEgaApUZWw6ICs0NCA3OTU2IDY2IDUyIDgzCi0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCjUxwrAyMSc1MiJOICAwwrA1JzE0LjE2IlcK
------=_Part_10421_21626959.1193261941678--

From java-user-return-30725-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 24 21:43:03 2007
Return-Path: <java-user-return-30725-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7180 invoked from network); 24 Oct 2007 21:43:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 24 Oct 2007 21:43:03 -0000
Received: (qmail 28020 invoked by uid 500); 24 Oct 2007 21:42:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26951 invoked by uid 500); 24 Oct 2007 21:42:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26940 invoked by uid 99); 24 Oct 2007 21:42:44 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Oct 2007 14:42:44 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of markrmiller@gmail.com designates 209.85.132.249 as permitted sender)
Received: from [209.85.132.249] (HELO an-out-0708.google.com) (209.85.132.249)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Oct 2007 21:42:47 +0000
Received: by an-out-0708.google.com with SMTP id d40so63166and
        for <java-user@lucene.apache.org>; Wed, 24 Oct 2007 14:42:26 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        bh=7Mni7hcd3iutI0f8wNqeJy95J8msl7aTHyPB1AT/lU8=;
        b=Fmlx4PmfNRu/O+UQ47NOWTlYG3p3E9IvH+fCeRKOslIYqIDDZBlGsCaozJRw+nJ7tG6kptgKSpZcQjrtTUnAbdUeB655tDbbN4t8MsL4FJRgB/jHcPYSm6+2f3yRYzdROfb2rZEhp0u05gohogAdL5EkMnGMYEaxnBQr3eUNL74=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=DU+dQjRCvcxDDKYefQqyl5uCyHc4/RvRH8uL1IvXW5IpS6vPn7yI1zJfn1kYX2DDUkgNggTWoJoASqsx7Wkso2MbqGQKwO8KYX4lG8GfyRtcSaMIZ13T+gGF6gAKol8MYLAcWtUbKBd9ZoUindigWzF5ie1wnDhrnJuKW6FPy2s=
Received: by 10.100.250.12 with SMTP id x12mr1476295anh.1193262145684;
        Wed, 24 Oct 2007 14:42:25 -0700 (PDT)
Received: from ?192.168.1.103? ( [69.124.234.183])
        by mx.google.com with ESMTPS id q57sm2008352wrq.2007.10.24.14.42.23
        (version=SSLv3 cipher=RC4-MD5);
        Wed, 24 Oct 2007 14:42:24 -0700 (PDT)
Message-ID: <471FBC13.7010209@gmail.com>
Date: Wed, 24 Oct 2007 17:41:39 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Highlighter and href fields
References: <847275.14121.qm@web59207.mail.re1.yahoo.com>
In-Reply-To: <847275.14121.qm@web59207.mail.re1.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Nothing in the Highlighter per seh that will help you there. I see two 
options off the top of my head:

1. break the text before feeding it to the highlighter and feed all but 
the URL parts, and then stitch back together -- much as you might do if 
highlighting an XML doc. Ugly though.

2. Use an Analyzer that recognizes URL's. That way you wont get partial 
URL matches like .net. Each URL would be a full token, and would require 
a search matching the entire URL to match. Even if you already indexed 
with a different Analzyer, you could use this special Analyzer just for 
highlighting...it would act exactly the same as your indexing Analyzer, 
but would parse any URL as a single token. Of course, if you are using 
TokenSource, this is not an option.

- Mark

Cool Coder wrote:
> Is there anyway I stop highlighting text if it is a href/url etc...? The problem occurs when the field content is a URL which contains the query e.g. my search is for .net and fields has value http://jkjsd.net. After applying highlighter, it becomes http://jkjsd<b>.net</b>, which is a wrong URL. Can I filter it out?
>    
>   - BR
>
>  __________________________________________________
> Do You Yahoo!?
> Tired of spam?  Yahoo! Mail has the best spam protection around 
> http://mail.yahoo.com 
>   

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30726-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 24 21:46:02 2007
Return-Path: <java-user-return-30726-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8334 invoked from network); 24 Oct 2007 21:46:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 24 Oct 2007 21:46:02 -0000
Received: (qmail 35153 invoked by uid 500); 24 Oct 2007 21:45:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35126 invoked by uid 500); 24 Oct 2007 21:45:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35115 invoked by uid 99); 24 Oct 2007 21:45:43 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Oct 2007 14:45:43 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lukas.vlcek@gmail.com designates 209.85.198.186 as permitted sender)
Received: from [209.85.198.186] (HELO rv-out-0910.google.com) (209.85.198.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Oct 2007 21:45:43 +0000
Received: by rv-out-0910.google.com with SMTP id k20so256007rvb
        for <java-user@lucene.apache.org>; Wed, 24 Oct 2007 14:45:21 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=KtqtzuGdHHSb5c0auscUGkay4a4+QQr10R4e4dH6ZGc=;
        b=oe2OU6FXwqwSIMWQWt6JUnkmBQvnXC+psSFgMntmIQhOl1Y8JIcRKG+CTHYi4NeUAU2u12CW0Ze3sjDmivDE2EWkjFx+ZpqRMBqiICUtsEDmdoK72dvPEzhf/9cjJck5O/4NX7PQIi/hN2u8BdSAh+8VmjoNbGUPeSAy2vJ+pk0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=kQnrMPvkLdZ0zMK/Ku52JKJOlqLtE+yXL4QEmXYtv2nFUKLe9w+Ifc6pqDeUy7fKnmzKaHqTrXzKTY1w8WgMB6/HFsR7DNJ0Qj+uty32Xo6vP9rkb4qXc4eRQPNlCLy1K5PpMxmvEJF4aJFCy5wDu/CXzULzBTGi4oTm5V6Dbvk=
Received: by 10.141.113.6 with SMTP id q6mr548838rvm.1193262321141;
        Wed, 24 Oct 2007 14:45:21 -0700 (PDT)
Received: by 10.141.210.7 with HTTP; Wed, 24 Oct 2007 14:45:21 -0700 (PDT)
Message-ID: <52c3ddca0710241445w6e47315x254663cecb68fdd4@mail.gmail.com>
Date: Wed, 24 Oct 2007 23:45:21 +0200
From: "Lukas Vlcek" <lukas.vlcek@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Customized search with Lucene?
In-Reply-To: <OF454F2EAF.236D33E6-ONC2257376.0069C558-C2257376.006AA4ED@il.ibm.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_5114_445787.1193262321119"
References: <52c3ddca0710122353u36735e0bobd993c27552538b7@mail.gmail.com>
	 <OF454F2EAF.236D33E6-ONC2257376.0069C558-C2257376.006AA4ED@il.ibm.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_5114_445787.1193262321119
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Doron,

Sorry for the late reply.
I got the inspiration for this question from book Programming Collective
Intelligence by Toby Segaran (you can check
here<http://radar.oreilly.com/archives/2007/08/programming_col.html>for
some O'Reilly's comments on the book). You can find a chapter
Searching
and Ranking in this book , namely on the page 74 there is one idea that one
can use neural network to learn and capture contribution of individual user
query words to selected  (clicked) document. Once the net is trained well
then it can be used to reorder hits.

The book does not elaborate the scenario where the index is changed often;
however, my impression was that this technique is common for customized
search and that Lucene/Nutch community is aware of it.

After reading the chapter again this technique can be used not just for
customized search but rather as an overall improvement to search capability
of search engine (that is the case where interactions of all users with
search engine are stored in shared neural network which is a good example of
capturing collective intelligence). This technique tends to capture
*association* between query words and individual document.

The nice thing about this approach is that the network can give you
reasonable results even for words which haven't been used before (as least
that is what the book seems to claim).

Regards,
Lukas

On 10/16/07, Doron Cohen <DORONC@il.ibm.com> wrote:
>
> Where and how do you store this type of info:
>   If user U1 search for query Q7 boost doc D5 by B17
>   If user U2 search for query Q3 boost doc D15 by B2
> Seems lots of info, and it must be persistent.
>
> Perhaps o.a.l.search.function can help - assuming you
> have this info available at search time, and can use
> it to create a ValueSource.
>
> Doron
>
> "Lukas Vlcek" <lukas.vlcek@gmail.com> wrote on 13/10/2007 08:53:47:
>
> > Hi,
> >
> > I am looking for an easy (~preferred) way of implementing
> > customized search
> > with Lucene. What I mean by this is changing order of returned hits
> > according to user profile. In simple words I would like to be
> > able to tweak
> > order of documents in Hits collection before it is presented to
> > the client.
> >
> > Example: if user A issues a query "lucene" then he/she tends toclick the
> > third returned link (document #123). I would like to "boost"
> > document #123
> > for this user so the next time he/she issues the query "lucene"again the
> > hit for the document #123 will be in the first or second
> > position (providing
> > that the index hasn't been modified).
> >
> > Looking at the Searchable<http://lucene.zones.apache.org:
> > 8080/hudson/job/Lucene-
> > Nightly/javadoc/org/apache/lucene/search/Searchable.html>interface
> > it does not seem it supports this kind of flexibility. I don't
> > want to use filter<http://lucene.zones.apache.org:
> > 8080/hudson/job/Lucene-
> > Nightly/javadoc/org/apache/lucene/search/Filter.html>of
> > sort<http://lucene.zones.apache.org:8080/hudson/job/Lucene-
> > Nightly/javadoc/org/apache/lucene/search/Sort.html>(they
> > are not appropriate for my goal).
> >
> > Custom scoring<http://lucene.zones.apache.org:
> > 8080/hudson/job/Lucene-
> > Nightly/javadoc/org/apache/lucene/search/package-summary.html#scoring
> > >seems
> > to be the only option left. At the first glance it seems quite
> > complex; moreover, I am not sure it really allows me to achieve
> > my goal, but
> > if there is no other way then I have to try it...
> > Any suggestions?
> >
> > Regards,
> > Lukas
> >
> > --
> > http://blog.lukas-vlcek.com/
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


-- 
http://blog.lukas-vlcek.com/

------=_Part_5114_445787.1193262321119--

From java-user-return-30727-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 24 21:52:50 2007
Return-Path: <java-user-return-30727-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10261 invoked from network); 24 Oct 2007 21:52:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 24 Oct 2007 21:52:50 -0000
Received: (qmail 42191 invoked by uid 500); 24 Oct 2007 21:52:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42161 invoked by uid 500); 24 Oct 2007 21:52:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42150 invoked by uid 99); 24 Oct 2007 21:52:32 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Oct 2007 14:52:32 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of markrmiller@gmail.com designates 209.85.132.245 as permitted sender)
Received: from [209.85.132.245] (HELO an-out-0708.google.com) (209.85.132.245)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Oct 2007 21:52:35 +0000
Received: by an-out-0708.google.com with SMTP id d40so63596and
        for <java-user@lucene.apache.org>; Wed, 24 Oct 2007 14:52:14 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        bh=yQUHww2Sd3HgJuRr6cKljuG2KPXtSzFn6WXwjC6BOiU=;
        b=i8MP7v/OIeA2MOPK1XyCXZBUVuE/ZJjtJRAUL4IqlhGdhOQTvYlCKAXyCHuqHnd+LPbFMFBJD1h/Ha8FNO3D4O2RXHLFXmK1Ieumv42J3B5VvFHNieP5KbYJsAQPTs6TsWq4VvYGQarmZjp0LueG+D2c3eUkblpfOT01KgsLiQA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=FdaGDxfoinNIBbNpkk1/IBRwEY2qfBouWEn+d35SBNYtkE27oY7Z84/3WnD8jVFewEWYnaP9HmfCDHwUDCiuE8U+xG7Vi7pwJR6y/5TnLz2numb2VLReHopLRDr4MhsjUimvapdrSrOPwfzx2b1BpvJ127j3y9w8xUaSiypxpuk=
Received: by 10.100.201.16 with SMTP id y16mr1487054anf.1193262734800;
        Wed, 24 Oct 2007 14:52:14 -0700 (PDT)
Received: from ?192.168.1.103? ( [69.124.234.183])
        by mx.google.com with ESMTPS id 34sm1833978wra.2007.10.24.14.52.11
        (version=SSLv3 cipher=RC4-MD5);
        Wed, 24 Oct 2007 14:52:11 -0700 (PDT)
Message-ID: <471FBE5E.4090505@gmail.com>
Date: Wed, 24 Oct 2007 17:51:26 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Index Reader Writer - 2 JVMs
References: <926b35870710241439s51c9203cxa7109a98dafb0727@mail.gmail.com>
In-Reply-To: <926b35870710241439s51c9203cxa7109a98dafb0727@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Lucene does provide locking so that two JVM's can access the same index. 
Check out the LockFactory to control how this is done.

There are a couple advantages of using IndexAccessor:

For one you could use a NoLockFactory and avoid Lucene's locking 
mechanism. Also, you would only need to run one JVM.

Indexaccessor also causes new Readers to be opened as soon as a Writer 
is done...this allows for a fairly interactive index rather than having 
to reopen readers periodically...rather new content was added or not.

Also, access to Writing Readers, Writers, and Reading Readers, is all 
handled behind the scenes for you...you dont have to worry about what 
threads are doing what based on Lucene's index access rules...just 
request the Writer/Reader you need, use it, release it, and your good.

Probably there is more...

- Mark

Dino Korah wrote:
> Hi All,
>
> I have a scenario where there are two processes (2 JVMs) accessing the same
> index. One of them is doing the indexing as documents arrive into the system
> and the second one servers search queries. Both the processes are running on
> the same machine.
>
> Is there a need to do some kind of locking. Does the writer process need to
> know about the reader, for optimal performance of the query server? Using a
> RAMDirectory<http://lucene.zones.apache.org:8080/hudson/job/Lucene-Nightly/javadoc/org/apache/lucene/store/RAMDirectory.html>for
> adding documents and then merging it into the main index periodically;
> would that help in improving the query performance in any way, provided the
> Searcher is kept open for a long period of time, with reload at intervals.
>
> I remember reading a thread of discussion on IndexAccessor. I would like to
> know what would be the advantage in using IndexAccessor.
>
> Many thanks.
>
> Dino
>
>   

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30728-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 24 22:01:15 2007
Return-Path: <java-user-return-30728-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13809 invoked from network); 24 Oct 2007 22:01:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 24 Oct 2007 22:01:14 -0000
Received: (qmail 57731 invoked by uid 500); 24 Oct 2007 22:00:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57695 invoked by uid 500); 24 Oct 2007 22:00:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57683 invoked by uid 99); 24 Oct 2007 22:00:56 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Oct 2007 15:00:56 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [217.12.11.33] (HELO smtp002.mail.ukl.yahoo.com) (217.12.11.33)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 24 Oct 2007 22:00:59 +0000
Received: (qmail 14568 invoked from network); 24 Oct 2007 21:59:34 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Received:X-YMail-OSG:Message-ID:Date:From:User-Agent:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding;
  b=zFk/VLQdqbSM7M4FFvflZXC1Qs4se+RWlURs4gk20cUT6RLhZUWVItNTqvbcDEvcQtSNmz/hWt6tAALRMto08X+Ya6kntcMEhaTibM9HekaD8y8xtt1bJ37pHY//lTzNRlGwQFObHqOEmFab/OJnp7LN0gqSS2/B7qm5kvpgYjE=  ;
Received: from unknown (HELO ?127.0.0.1?) (markharw00d@194.106.34.5 with plain)
  by smtp002.mail.ukl.yahoo.com with SMTP; 24 Oct 2007 21:59:34 -0000
X-YMail-OSG: nOtkHQYVM1kfE8sTGMg2ZiaHiwA3_O0c0ObA0UGBS88J_a7JCm8MDhtLdSlhhY_avdJUJsThhA--
Message-ID: <471FC040.4020906@yahoo.co.uk>
Date: Wed, 24 Oct 2007 22:59:28 +0100
From: markharw00d <markharw00d@yahoo.co.uk>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Lucene Queries Over User-Editable Dynamic Categories of Documents
References: <73010.3833.qm@web26009.mail.ukl.yahoo.com> <cec089090710241356t795d494eh35bbd58be5092af5@mail.gmail.com>
In-Reply-To: <cec089090710241356t795d494eh35bbd58be5092af5@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

lucene user wrote:
> Thanks for all your help!
>
> We are using Lucene 2.1.0 and TermsFilter seems to be new in Lucene 2.2.0.
> I have not been able to find SortedVIntList in the javadocs at all.
>   

No, SortedVIntList is in the patch I provided a link to earlier.


> Because both SortedVIntList and a regular BitSet are based on Lucene
> Document Numbers, which are not permanent, It seems we will need to
> generate these objects fresh at least once per session. Any comments,
> about that? Do I have that correct?
>   
Yes. Most caches tend to be held in WeakHashMap keyed on IndexReader so 
that when a new reader takes over old caches are automatically garbage 
collected.


> Our application includes the following filter implementation that we use for
> a
> slightly different end user category problem. We could easily use it for our
> current problem as well.
>
> Is TermsFilter sufficiently better (faster, more compact, more correct,
> etc.) to make upgrading
> very important?
>   
TermsFilter is in "contrib" and is stand-alone so should work with most 
Lucene versions.
Your implementation looks to scan the whole termEnum whereas TermsFilter 
looks up only the selected terms using reader.termDocs(term). 
Benchmarking will tell you which is faster. I'd be interested to know 
the results.

Cheers
Mark


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30729-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 24 23:08:18 2007
Return-Path: <java-user-return-30729-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30969 invoked from network); 24 Oct 2007 23:08:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 24 Oct 2007 23:08:18 -0000
Received: (qmail 25017 invoked by uid 500); 24 Oct 2007 23:08:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24227 invoked by uid 500); 24 Oct 2007 23:07:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24216 invoked by uid 99); 24 Oct 2007 23:07:59 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Oct 2007 16:07:59 -0700
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS,WHOIS_MYPRIVREG
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erickerickson@gmail.com designates 64.233.182.189 as permitted sender)
Received: from [64.233.182.189] (HELO nf-out-0910.google.com) (64.233.182.189)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Oct 2007 23:08:00 +0000
Received: by nf-out-0910.google.com with SMTP id d3so321409nfc
        for <java-user@lucene.apache.org>; Wed, 24 Oct 2007 16:07:29 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=nvPUSkGpVvvnZ354dTBtmroc8vi9k6V5ohiQc1w3URg=;
        b=eVRhoCfkEk2RA/gsz/ROEAyT/w6EyqBrel49lPdxSkegOrq8qTNDkF5ShadKURXHo/TRxkYZWIasf4N/yM4HEreUw6ZjrWtZ6fcYUTgbbxW1sQ98klwhiDoScx9OSlLGksHtSQGtyBpyJpECoXEZCnJlrJaQsqyW5h+44c8vKFM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=N0pzjgmuUr4EeY4yUXEpELrXzqWgQabKDPQHCeqs1/pVHgiS1KSMuEgTnjRs3p0U50hZqZdfsgNXmQzGcryjOfp1cyDYliHA3OVA17+elvdAJBEM40PqQl2b0Is565FEQs5EtTSfgtYOBfk/hKB64cLspV3a6ZFLGxSK+exNy/w=
Received: by 10.82.107.15 with SMTP id f15mr1795887buc.1193267248744;
        Wed, 24 Oct 2007 16:07:28 -0700 (PDT)
Received: by 10.82.167.3 with HTTP; Wed, 24 Oct 2007 16:07:28 -0700 (PDT)
Message-ID: <359a92830710241607l87596a7v1123a38f78450f88@mail.gmail.com>
Date: Wed, 24 Oct 2007 19:07:28 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Boost Sub-Query
In-Reply-To: <13388793.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_9493_6186331.1193267248747"
References: <13388793.post@talk.nabble.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_9493_6186331.1193267248747
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

What I'd do is get a copy of Luke, put the query in the appropriate
box and click on the explain tab. Trying that several ways should
answer your question as well as give you a better feel
for how Lucene handles queries.

Best
Erick

On 10/24/07, java_user_ <jkraemer@cs.tufts.edu> wrote:
>
>
> Is it possible to boost subqueries with QueryParser?
>
> For example:
> ((apple AND banana)^10 OR orange)
>
> Thanks
>
>
>
>
> --
> View this message in context:
> http://www.nabble.com/Boost-Sub-Query-tf4685212.html#a13388793
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_9493_6186331.1193267248747--

From java-user-return-30730-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 25 01:58:10 2007
Return-Path: <java-user-return-30730-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91444 invoked from network); 25 Oct 2007 01:58:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 25 Oct 2007 01:58:10 -0000
Received: (qmail 56150 invoked by uid 500); 25 Oct 2007 01:57:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56115 invoked by uid 500); 25 Oct 2007 01:57:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56104 invoked by uid 99); 25 Oct 2007 01:57:51 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Oct 2007 18:57:51 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [66.196.101.29] (HELO web59203.mail.re1.yahoo.com) (66.196.101.29)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 25 Oct 2007 01:57:53 +0000
Received: (qmail 92006 invoked by uid 60001); 25 Oct 2007 01:57:32 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=YkOhEm9FFGG3qQW/V6detdZQtv0P4wS12VYKhnSN+Ksd68MTeO0t7gvGmrnuaWY/7lSq1XUrLQBRWTvc1eGmKmjm2gptNnjMOgD0cYxKclU5AJtZr8r9xkI3N+4Xfny/daBwByqvtRcHzScaSU67i01ndy9+wgQCG8kcIoJJbws=;
X-YMail-OSG: zkvS6Y8VM1kUe3vaawSx8np4ZATcCTlIvCnzNwp5P5af2ZZYTCtEgpnN4XYWxdGSp1Jy8j2SH2Ipw9GGQ_7bpcNBRMMvfHrE.FGs13WzkvwhQBM3MSQHrXh.MIPL
Received: from [24.90.196.137] by web59203.mail.re1.yahoo.com via HTTP; Wed, 24 Oct 2007 18:57:32 PDT
Date: Wed, 24 Oct 2007 18:57:32 -0700 (PDT)
From: Cool Coder <techcool.kumar@yahoo.com>
Subject: Re: Highlighter and href fields
To: java-user@lucene.apache.org
In-Reply-To: <471FBC13.7010209@gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-169209728-1193277452=:90679"
Content-Transfer-Encoding: 8bit
Message-ID: <573947.90679.qm@web59203.mail.re1.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-169209728-1193277452=:90679
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Ok I understand now that I have a big work ahead of me.
  >2. Use an Analyzer that recognizes URL's. That way you wont get partial
  BTW, Do you know any analyzer that can recognize URLs.
   
  - BR

Mark Miller <markrmiller@gmail.com> wrote:
  Nothing in the Highlighter per seh that will help you there. I see two 
options off the top of my head:

1. break the text before feeding it to the highlighter and feed all but 
the URL parts, and then stitch back together -- much as you might do if 
highlighting an XML doc. Ugly though.

2. Use an Analyzer that recognizes URL's. That way you wont get partial 
URL matches like .net. Each URL would be a full token, and would require 
a search matching the entire URL to match. Even if you already indexed 
with a different Analzyer, you could use this special Analyzer just for 
highlighting...it would act exactly the same as your indexing Analyzer, 
but would parse any URL as a single token. Of course, if you are using 
TokenSource, this is not an option.

- Mark

Cool Coder wrote:
> Is there anyway I stop highlighting text if it is a href/url etc...? The problem occurs when the field content is a URL which contains the query e.g. my search is for .net and fields has value http://jkjsd.net. After applying highlighter, it becomes http://jkjsd.net, which is a wrong URL. Can I filter it out?
> 
> - BR
>
> __________________________________________________
> Do You Yahoo!?
> Tired of spam? Yahoo! Mail has the best spam protection around 
> http://mail.yahoo.com 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



 __________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 
--0-169209728-1193277452=:90679--

From java-user-return-30731-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 25 04:34:40 2007
Return-Path: <java-user-return-30731-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35479 invoked from network); 25 Oct 2007 04:34:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 25 Oct 2007 04:34:40 -0000
Received: (qmail 71827 invoked by uid 500); 25 Oct 2007 04:34:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71789 invoked by uid 500); 25 Oct 2007 04:34:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71777 invoked by uid 99); 25 Oct 2007 04:34:22 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Oct 2007 21:34:21 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of warren@clarksnutrition.com designates 66.160.183.118 as permitted sender)
Received: from [66.160.183.118] (HELO unassigned118.fc.aoindustries.com) (66.160.183.118)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 04:34:25 +0000
Received: from Warren (pool-71-110-202-177.lsanca.dsl-w.verizon.net [71.110.202.177])
	(authenticated bits=0)
	by www7.fc.aoindustries.com (8.13.4/8.13.4) with ESMTP id l9P4Y6MV024531
	for <java-user@lucene.apache.org>; Wed, 24 Oct 2007 23:34:07 -0500
From: "Warren" <warren@clarksnutrition.com>
To: <java-user@lucene.apache.org>
Subject: Same query different results?
Date: Wed, 24 Oct 2007 21:33:06 -0700
Message-ID: <OOEMJCEPDNFDAKIHHNCBMENHCAAA.warren@clarksnutrition.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3138
X-Virus-Checked: Checked by ClamAV on apache.org

I have two two similar query's that give me the same results when I run them
in Luke, but when I run them in my app, one of the querys gives me the
correct results and the other query gives me no results. I am using
StandardAnalyzer in both Luke and my app.

Query 1:
This query works correctly in my app and Luke

+(upc:almonds description:almonds content:almonds) +dept:bulk +zone:1

Query 2:
This query works correctly in Luke but returns no results in my app

+(upc:almonds description:almonds content:almonds) +dept:"Bulk" +zone:1

My app code:

Directory dir = FSDirectory.getDirectory(indexDir);
IndexSearcher searcher = new IndexSearcher(dir);
Hits hits = searcher.search(query);

The only difference is that the term "bulk" is quoted in one query and not
quoted in the other. Shouldn't both of these querys get the same results
when useing StandardAnalyzer? Isn't one term quoted the same as one term
unquoted?

What am I missing?

Thanks,

Warren


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30732-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 25 05:28:36 2007
Return-Path: <java-user-return-30732-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50611 invoked from network); 25 Oct 2007 05:28:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 25 Oct 2007 05:28:36 -0000
Received: (qmail 95198 invoked by uid 500); 25 Oct 2007 05:28:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95174 invoked by uid 500); 25 Oct 2007 05:28:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95163 invoked by uid 99); 25 Oct 2007 05:28:18 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Oct 2007 22:28:18 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 80.76.149.213 is neither permitted nor denied by domain of karl.wettin@gmail.com)
Received: from [80.76.149.213] (HELO ch-smtp02.sth.basefarm.net) (80.76.149.213)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 05:28:21 +0000
Received: from c83-249-118-113.bredband.comhem.se ([83.249.118.113]:49828 helo=[192.168.1.101])
	by ch-smtp02.sth.basefarm.net with esmtp (Exim 4.68)
	(envelope-from <karl.wettin@gmail.com>)
	id 1IkvD8-0007ue-9I
	for java-user@lucene.apache.org; Thu, 25 Oct 2007 07:24:51 +0200
In-Reply-To: <OOEMJCEPDNFDAKIHHNCBMENHCAAA.warren@clarksnutrition.com>
References: <OOEMJCEPDNFDAKIHHNCBMENHCAAA.warren@clarksnutrition.com>
Mime-Version: 1.0 (Apple Message framework v752.3)
X-Priority: 3 (Normal)
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <328D996C-439F-4B7D-8243-7BBBA906F352@gmail.com>
Content-Transfer-Encoding: 7bit
From: Karl Wettin <karl.wettin@gmail.com>
Subject: Re: Same query different results?
Date: Thu, 25 Oct 2007 07:24:47 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Originating-IP: 83.249.118.113
X-Scan-Result: No virus found in message 1IkvD8-0007ue-9I.
X-Scan-Signature: ch-smtp02.sth.basefarm.net 1IkvD8-0007ue-9I 1fddd00678a07b9a023e1a75a10e5337
X-Virus-Checked: Checked by ClamAV on apache.org


25 okt 2007 kl. 06.33 skrev Warren:

> This query works correctly in my app and Luke
>
> +(upc:almonds description:almonds content:almonds) +dept:bulk +zone:1
>
> Query 2:
> This query works correctly in Luke but returns no results in my app
>
> +(upc:almonds description:almonds content:almonds) +dept:"Bulk"  
> +zone:1
>
> My app code:
>
> Directory dir = FSDirectory.getDirectory(indexDir);
> IndexSearcher searcher = new IndexSearcher(dir);
> Hits hits = searcher.search(query);

How do you create the query? If using a query parser, how do you  
instantiate the query parser?

>
> The only difference is that the term "bulk" is quoted in one query  
> and not

There is also the upper case B.

Comparing rewritten and queries and their weight explenation might  
prove helpful.

-- 
karl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30733-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 25 06:53:57 2007
Return-Path: <java-user-return-30733-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83299 invoked from network); 25 Oct 2007 06:53:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 25 Oct 2007 06:53:57 -0000
Received: (qmail 53513 invoked by uid 500); 25 Oct 2007 06:53:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53490 invoked by uid 500); 25 Oct 2007 06:53:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53479 invoked by uid 99); 25 Oct 2007 06:53:38 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Oct 2007 23:53:38 -0700
X-ASF-Spam-Status: No, hits=-4.0 required=10.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of DORONC@il.ibm.com designates 195.212.29.154 as permitted sender)
Received: from [195.212.29.154] (HELO mtagate5.de.ibm.com) (195.212.29.154)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 06:53:39 +0000
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate5.de.ibm.com (8.13.8/8.13.8) with ESMTP id l9P6qH5O321656
	for <java-user@lucene.apache.org>; Thu, 25 Oct 2007 06:52:17 GMT
Received: from d12av02.megacenter.de.ibm.com (d12av02.megacenter.de.ibm.com [9.149.165.228])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.8/8.13.8/NCO v8.5) with ESMTP id l9P6qH8F2207802
	for <java-user@lucene.apache.org>; Thu, 25 Oct 2007 08:52:17 +0200
Received: from d12av02.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l9P6qGB9002293
	for <java-user@lucene.apache.org>; Thu, 25 Oct 2007 08:52:17 +0200
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l9P6qGSb002290
	for <java-user@lucene.apache.org>; Thu, 25 Oct 2007 08:52:16 +0200
In-Reply-To: <52c3ddca0710241445w6e47315x254663cecb68fdd4@mail.gmail.com>
Subject: Re: Customized search with Lucene?
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
Message-ID: <OF13D72B83.60099DC2-ONC225737F.00218135-C225737F.00257103@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Thu, 25 Oct 2007 08:48:57 +0200
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.2HF71 | November 3, 2006) at
 25/10/2007 08:52:16
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

Lukas,

Thanks for the link to the book, seems very interesting.
Your original question made me think you are intending
to maintain personalized score modifications - i.e. for
each user you are going to custom the scores differently
and I was curious to know how you are going to maintain
custom scoring info for each individual user.

So you are thinking about collecting clicks data
(of all searching users) and aggregate that data,
learn from it that some documents are more relevant
for some queries, and then use this data at search
time. This is different say from something like in-links
or page-rank where the scoring of documents is modified
to have a static part (static score), which would be the
same for a certain doc for all queries. In your scenario doc1
can be boosted up for query5 while for query6 it is doc2
that would be boosted up.

Just to give a more complete picture note that Lucene allows
to boost each doc at indexing time. But (a) boost has to be
known at indexing time; (b) boost currently is combined with
other info and compressed into one byte at indexing time so
there is some precision loss; and (c) it would be a fixed boost
for a certain doc for all queries. So this is definitely not
what you need.

Now to custom the scoring at search time there are a few options.

The most powerful way is to write your own query,scorer,weight.
It is also the hardest task.

Another alternative is to use the search.function package:
http://lucene.zones.apache.org:8080/hudson/job/Lucene-Nightly/javadoc/org/apache/lucene/search/function/package-summary.html
It allows you to combine into the doc score a value that you
provide, which may be different for each document. Since you
supply this value at search time and you know which query is
being served you can provide a value that matches this query.
The code samples there as well as ready to use "DocValues"
are field based - i.e. they come from indexed fields, but
you can provide your implementation of DocValues so that
for a certain query it returns say 1 for all docs but a
different value (say 1.7) only for very few docs. So if the
output of your learning phase if very sparse (few docs boosted
for each query/word) this might work.

Might.

A tricky issue here is that these values are ordered by
doc ids, which are internal Lucene doc ids. Problem is that
these doc ids are not stable once docs are removed/updated.
This is a hard problem and there are numerous discussions in the
list about it.

Any solution which is docid based (even your own new
query/weight/scorer) will have to deal with this issue.

Another approach you may consider is to augment documents with
words of queries that users searched just before clicking those
docs. This mean updating the documents so again it should be done
carefully.

Seems I'm adding more questions than answers so I'll better
stop here...

Doron

"Lukas Vlcek" <lukas.vlcek@gmail.com> wrote on 24/10/2007 23:45:21:

> Doron,
>
> Sorry for the late reply.
> I got the inspiration for this question from book Programming Collective
> Intelligence by Toby Segaran (you can check
> here<http://radar.oreilly.com/archives/2007/08/programming_col.html>for
> some O'Reilly's comments on the book). You can find a chapter
> Searching
> and Ranking in this book , namely on the page 74 there is one
> idea that one
> can use neural network to learn and capture contribution of
> individual user
> query words to selected  (clicked) document. Once the net is trained well
> then it can be used to reorder hits.
>
> The book does not elaborate the scenario where the index is
> changed often;
> however, my impression was that this technique is common for customized
> search and that Lucene/Nutch community is aware of it.
>
> After reading the chapter again this technique can be used not just for
> customized search but rather as an overall improvement to
> search capability
> of search engine (that is the case where interactions of all users with
> search engine are stored in shared neural network which is a
> good example of
> capturing collective intelligence). This technique tends to capture
> *association* between query words and individual document.
>
> The nice thing about this approach is that the network can give you
> reasonable results even for words which haven't been used
> before (as least
> that is what the book seems to claim).
>
> Regards,
> Lukas
>
> On 10/16/07, Doron Cohen <DORONC@il.ibm.com> wrote:
> >
> > Where and how do you store this type of info:
> >   If user U1 search for query Q7 boost doc D5 by B17
> >   If user U2 search for query Q3 boost doc D15 by B2
> > Seems lots of info, and it must be persistent.
> >
> > Perhaps o.a.l.search.function can help - assuming you
> > have this info available at search time, and can use
> > it to create a ValueSource.
> >
> > Doron
> >
> > "Lukas Vlcek" <lukas.vlcek@gmail.com> wrote on 13/10/2007 08:53:47:
> >
> > > Hi,
> > >
> > > I am looking for an easy (~preferred) way of implementing
> > > customized search
> > > with Lucene. What I mean by this is changing order of returned hits
> > > according to user profile. In simple words I would like to be
> > > able to tweak
> > > order of documents in Hits collection before it is presented to
> > > the client.
> > >
> > > Example: if user A issues a query "lucene" then he/she
> tends toclick the
> > > third returned link (document #123). I would like to "boost"
> > > document #123
> > > for this user so the next time he/she issues the query
> "lucene"again the
> > > hit for the document #123 will be in the first or second
> > > position (providing
> > > that the index hasn't been modified).
> > >
> > > Looking at the Searchable<http://lucene.zones.apache.org:
> > > 8080/hudson/job/Lucene-
> > > Nightly/javadoc/org/apache/lucene/search/Searchable.html>interface
> > > it does not seem it supports this kind of flexibility. I don't
> > > want to use filter<http://lucene.zones.apache.org:
> > > 8080/hudson/job/Lucene-
> > > Nightly/javadoc/org/apache/lucene/search/Filter.html>of
> > > sort<http://lucene.zones.apache.org:8080/hudson/job/Lucene-
> > > Nightly/javadoc/org/apache/lucene/search/Sort.html>(they
> > > are not appropriate for my goal).
> > >
> > > Custom scoring<http://lucene.zones.apache.org:
> > > 8080/hudson/job/Lucene-
> > > Nightly/javadoc/org/apache/lucene/search/package-summary.html#scoring
> > > >seems
> > > to be the only option left. At the first glance it seems quite
> > > complex; moreover, I am not sure it really allows me to achieve
> > > my goal, but
> > > if there is no other way then I have to try it...
> > > Any suggestions?
> > >
> > > Regards,
> > > Lukas
> > >
> > > --
> > > http://blog.lukas-vlcek.com/
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
>
> --
> http://blog.lukas-vlcek.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30734-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 25 08:26:04 2007
Return-Path: <java-user-return-30734-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50328 invoked from network); 25 Oct 2007 08:26:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 25 Oct 2007 08:26:04 -0000
Received: (qmail 55446 invoked by uid 500); 25 Oct 2007 08:25:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55410 invoked by uid 500); 25 Oct 2007 08:25:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55399 invoked by uid 99); 25 Oct 2007 08:25:45 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 01:25:45 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lukas.vlcek@gmail.com designates 209.85.198.184 as permitted sender)
Received: from [209.85.198.184] (HELO rv-out-0910.google.com) (209.85.198.184)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 08:25:46 +0000
Received: by rv-out-0910.google.com with SMTP id k20so360216rvb
        for <java-user@lucene.apache.org>; Thu, 25 Oct 2007 01:25:24 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=r5k4P7UOv/OzNpHP5191ZlhsOOrpceT9jWep5YINdY4=;
        b=CF+uVPVu8pFStyY/uphc6DQerJZ7k8oK9ddOd4XYe5I+iNAUC5ut8NgzjUN49bnyJjkcubZqIbhUbvGj39dGi/TfmACcDeJVrMW9o2WlYbv21JM37Es/s3xbWBCkwajSGJRD+av5Fxdk6v4ezssY76BXcya+13UAcTp97gloaHQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=J/os3Y2VCUMm1hGYymDzxEJukhaDCl/ilxv4WGE/i1yEskqtEjig7oFf8T4VA2tgYnFNM8OIOogQvJ/7N7J9N7KzI5xzes4+rCuiPDbfiFx0eneqaa2i4KjtDx3bltH2SakYuPnAQx0wxPlcOPY+5HKLUHO74ENBXeBtYHcRSSE=
Received: by 10.141.185.3 with SMTP id m3mr769047rvp.1193300723847;
        Thu, 25 Oct 2007 01:25:23 -0700 (PDT)
Received: by 10.141.210.7 with HTTP; Thu, 25 Oct 2007 01:25:23 -0700 (PDT)
Message-ID: <52c3ddca0710250125r60747fa7of4b252a75f8d2e96@mail.gmail.com>
Date: Thu, 25 Oct 2007 10:25:23 +0200
From: "Lukas Vlcek" <lukas.vlcek@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Customized search with Lucene?
In-Reply-To: <OF13D72B83.60099DC2-ONC225737F.00218135-C225737F.00257103@il.ibm.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_356_1076163.1193300723842"
References: <52c3ddca0710241445w6e47315x254663cecb68fdd4@mail.gmail.com>
	 <OF13D72B83.60099DC2-ONC225737F.00218135-C225737F.00257103@il.ibm.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_356_1076163.1193300723842
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Doron,

You definitely added few important (crucial) questions. There are important
concerns and I am glad to hear that Lucene community is debating them. I am
not an Lucene viscera expert thus I can hardly compare simple search engine
from the book with Lucene but it is pity to hear that robust implementation
of the algorithm from the book for Lucene would be very complex, if not
impossible, due to design constraints like non-static docid :-(

Back to the customized search, I don't think it will be that impossible to
store specific neural net for each user speaking about small intranet or
application user base. In the mentioned book only the middle tier (hidden
layer of nodes) from the neural net is kept. Other two layers of nodes (that
is words in one hand and documents in the other hand) don't have to be
stored in customized database. I believe this is an interesting idea because
then it is a question of the neural net design (one might need many hidden
layers while other can live with just very thin net if the results are
sufficient).

Anyway, thanks for your time.

Regards,
Lukas

On 10/25/07, Doron Cohen <DORONC@il.ibm.com> wrote:
>
> Lukas,
>
> Thanks for the link to the book, seems very interesting.
> Your original question made me think you are intending
> to maintain personalized score modifications - i.e. for
> each user you are going to custom the scores differently
> and I was curious to know how you are going to maintain
> custom scoring info for each individual user.
>
> So you are thinking about collecting clicks data
> (of all searching users) and aggregate that data,
> learn from it that some documents are more relevant
> for some queries, and then use this data at search
> time. This is different say from something like in-links
> or page-rank where the scoring of documents is modified
> to have a static part (static score), which would be the
> same for a certain doc for all queries. In your scenario doc1
> can be boosted up for query5 while for query6 it is doc2
> that would be boosted up.
>
> Just to give a more complete picture note that Lucene allows
> to boost each doc at indexing time. But (a) boost has to be
> known at indexing time; (b) boost currently is combined with
> other info and compressed into one byte at indexing time so
> there is some precision loss; and (c) it would be a fixed boost
> for a certain doc for all queries. So this is definitely not
> what you need.
>
> Now to custom the scoring at search time there are a few options.
>
> The most powerful way is to write your own query,scorer,weight.
> It is also the hardest task.
>
> Another alternative is to use the search.function package:
>
> http://lucene.zones.apache.org:8080/hudson/job/Lucene-Nightly/javadoc/org/apache/lucene/search/function/package-summary.html
> It allows you to combine into the doc score a value that you
> provide, which may be different for each document. Since you
> supply this value at search time and you know which query is
> being served you can provide a value that matches this query.
> The code samples there as well as ready to use "DocValues"
> are field based - i.e. they come from indexed fields, but
> you can provide your implementation of DocValues so that
> for a certain query it returns say 1 for all docs but a
> different value (say 1.7) only for very few docs. So if the
> output of your learning phase if very sparse (few docs boosted
> for each query/word) this might work.
>
> Might.
>
> A tricky issue here is that these values are ordered by
> doc ids, which are internal Lucene doc ids. Problem is that
> these doc ids are not stable once docs are removed/updated.
> This is a hard problem and there are numerous discussions in the
> list about it.
>
> Any solution which is docid based (even your own new
> query/weight/scorer) will have to deal with this issue.
>
> Another approach you may consider is to augment documents with
> words of queries that users searched just before clicking those
> docs. This mean updating the documents so again it should be done
> carefully.
>
> Seems I'm adding more questions than answers so I'll better
> stop here...
>
> Doron
>
> "Lukas Vlcek" <lukas.vlcek@gmail.com> wrote on 24/10/2007 23:45:21:
>
> > Doron,
> >
> > Sorry for the late reply.
> > I got the inspiration for this question from book Programming Collective
> > Intelligence by Toby Segaran (you can check
> > here<http://radar.oreilly.com/archives/2007/08/programming_col.html>for
> > some O'Reilly's comments on the book). You can find a chapter
> > Searching
> > and Ranking in this book , namely on the page 74 there is one
> > idea that one
> > can use neural network to learn and capture contribution of
> > individual user
> > query words to selected  (clicked) document. Once the net is trained
> well
> > then it can be used to reorder hits.
> >
> > The book does not elaborate the scenario where the index is
> > changed often;
> > however, my impression was that this technique is common for customized
> > search and that Lucene/Nutch community is aware of it.
> >
> > After reading the chapter again this technique can be used not just for
> > customized search but rather as an overall improvement to
> > search capability
> > of search engine (that is the case where interactions of all users with
> > search engine are stored in shared neural network which is a
> > good example of
> > capturing collective intelligence). This technique tends to capture
> > *association* between query words and individual document.
> >
> > The nice thing about this approach is that the network can give you
> > reasonable results even for words which haven't been used
> > before (as least
> > that is what the book seems to claim).
> >
> > Regards,
> > Lukas
> >
> > On 10/16/07, Doron Cohen <DORONC@il.ibm.com> wrote:
> > >
> > > Where and how do you store this type of info:
> > >   If user U1 search for query Q7 boost doc D5 by B17
> > >   If user U2 search for query Q3 boost doc D15 by B2
> > > Seems lots of info, and it must be persistent.
> > >
> > > Perhaps o.a.l.search.function can help - assuming you
> > > have this info available at search time, and can use
> > > it to create a ValueSource.
> > >
> > > Doron
> > >
> > > "Lukas Vlcek" <lukas.vlcek@gmail.com> wrote on 13/10/2007 08:53:47:
> > >
> > > > Hi,
> > > >
> > > > I am looking for an easy (~preferred) way of implementing
> > > > customized search
> > > > with Lucene. What I mean by this is changing order of returned hits
> > > > according to user profile. In simple words I would like to be
> > > > able to tweak
> > > > order of documents in Hits collection before it is presented to
> > > > the client.
> > > >
> > > > Example: if user A issues a query "lucene" then he/she
> > tends toclick the
> > > > third returned link (document #123). I would like to "boost"
> > > > document #123
> > > > for this user so the next time he/she issues the query
> > "lucene"again the
> > > > hit for the document #123 will be in the first or second
> > > > position (providing
> > > > that the index hasn't been modified).
> > > >
> > > > Looking at the Searchable<http://lucene.zones.apache.org:
> > > > 8080/hudson/job/Lucene-
> > > > Nightly/javadoc/org/apache/lucene/search/Searchable.html>interface
> > > > it does not seem it supports this kind of flexibility. I don't
> > > > want to use filter<http://lucene.zones.apache.org:
> > > > 8080/hudson/job/Lucene-
> > > > Nightly/javadoc/org/apache/lucene/search/Filter.html>of
> > > > sort<http://lucene.zones.apache.org:8080/hudson/job/Lucene-
> > > > Nightly/javadoc/org/apache/lucene/search/Sort.html>(they
> > > > are not appropriate for my goal).
> > > >
> > > > Custom scoring<http://lucene.zones.apache.org:
> > > > 8080/hudson/job/Lucene-
> > > > Nightly/javadoc/org/apache/lucene/search/package-
> summary.html#scoring
> > > > >seems
> > > > to be the only option left. At the first glance it seems quite
> > > > complex; moreover, I am not sure it really allows me to achieve
> > > > my goal, but
> > > > if there is no other way then I have to try it...
> > > > Any suggestions?
> > > >
> > > > Regards,
> > > > Lukas
> > > >
> > > > --
> > > > http://blog.lukas-vlcek.com/
> > >
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> > >
> >
> >
> > --
> > http://blog.lukas-vlcek.com/
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


-- 
http://blog.lukas-vlcek.com/

------=_Part_356_1076163.1193300723842--

From java-user-return-30735-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 25 08:41:23 2007
Return-Path: <java-user-return-30735-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80288 invoked from network); 25 Oct 2007 08:41:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 25 Oct 2007 08:41:23 -0000
Received: (qmail 70707 invoked by uid 500); 25 Oct 2007 08:40:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70679 invoked by uid 500); 25 Oct 2007 08:40:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70665 invoked by uid 99); 25 Oct 2007 08:40:59 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 01:40:59 -0700
X-ASF-Spam-Status: No, hits=-4.0 required=10.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of DORONC@il.ibm.com designates 195.212.29.151 as permitted sender)
Received: from [195.212.29.151] (HELO mtagate2.de.ibm.com) (195.212.29.151)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 08:41:00 +0000
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate2.de.ibm.com (8.13.8/8.13.8) with ESMTP id l9P8ec5w195934
	for <java-user@lucene.apache.org>; Thu, 25 Oct 2007 08:40:38 GMT
Received: from d12av02.megacenter.de.ibm.com (d12av02.megacenter.de.ibm.com [9.149.165.228])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.8/8.13.8/NCO v8.5) with ESMTP id l9P8ebRd2228328
	for <java-user@lucene.apache.org>; Thu, 25 Oct 2007 10:40:37 +0200
Received: from d12av02.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l9P8ebHJ011184
	for <java-user@lucene.apache.org>; Thu, 25 Oct 2007 10:40:37 +0200
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l9P8ebgn011181
	for <java-user@lucene.apache.org>; Thu, 25 Oct 2007 10:40:37 +0200
In-Reply-To: <52c3ddca0710250125r60747fa7of4b252a75f8d2e96@mail.gmail.com>
Subject: Re: Customized search with Lucene?
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
Message-ID: <OF6BCC7119.89DDA20D-ONC225737F.002EC6DF-C225737F.002F6B50@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Thu, 25 Oct 2007 10:37:56 +0200
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.2HF71 | November 3, 2006) at
 25/10/2007 10:40:37
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

"Lukas Vlcek" <lukas.vlcek@gmail.com> wrote on 25/10/2007 10:25:23:

> Doron,
>
> You definitely added few important (crucial) questions. There
> are important
> concerns and I am glad to hear that Lucene community is
> debating them. I am
> not an Lucene viscera expert thus I can hardly compare simple
> search engine
> from the book with Lucene but it is pity to hear that robust
> implementation
> of the algorithm from the book for Lucene would be very complex, if not
> impossible, due to design constraints like non-static docid :-(

I am not aware of any search engine implementation whose internal
docids are static.

Still, please don't let this discussion discourage you - I am
not sure that your "needs" from Lucene are sufficiently defined
at this stage, and once they are, I'm sure this list will have
more useful how-to ideas.

>
> Back to the customized search, I don't think it will be that
> impossible to
> store specific neural net for each user speaking about small intranet or
> application user base. In the mentioned book only the middle tier (hidden
> layer of nodes) from the neural net is kept. Other two layers
> of nodes (that
> is words in one hand and documents in the other hand) don't have to be
> stored in customized database. I believe this is an interesting
> idea because
> then it is a question of the neural net design (one might need
> many hidden
> layers while other can live with just very thin net if the results are
> sufficient).
>
> Anyway, thanks for your time.
>
> Regards,
> Lukas

You're welcome,
Doron


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30736-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 25 09:36:52 2007
Return-Path: <java-user-return-30736-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68273 invoked from network); 25 Oct 2007 09:36:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 25 Oct 2007 09:36:52 -0000
Received: (qmail 32609 invoked by uid 500); 25 Oct 2007 09:36:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32576 invoked by uid 500); 25 Oct 2007 09:36:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32565 invoked by uid 99); 25 Oct 2007 09:36:33 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 02:36:33 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of luz290@gmail.com designates 72.14.246.250 as permitted sender)
Received: from [72.14.246.250] (HELO ag-out-0708.google.com) (72.14.246.250)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 09:36:37 +0000
Received: by ag-out-0708.google.com with SMTP id 5so440808agb
        for <java-user@lucene.apache.org>; Thu, 25 Oct 2007 02:36:15 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=Pi9WV1n1HDMT1dw7DjHtRT9gDkK2VfBvutb1O/ckAHU=;
        b=sl8ZlOOTAoToIVI0QV4igMETUPCLfQHqyJ8NQl39NJ6ccEB8v5F33FxPISt3scIvp7pYjJQnr7d67l0HuYMR5fE2sPjtcG4PfTI3W+aV4CjgmRjyX9DL+u/W1caz8n9qR3gkmIY50aOKt5LU9dDGDSfE+cD6uEhNIPSbcX6AwjA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=q3f0EbRZx0TNDDez+OmksExD7mnqTsgO9Wdfc083/zxsBnBwQCNbCnF5Qvz6uGZOXU7k/82E3ycG+IXt1nhSNUBsXaLmab9jAFo3Ob/392Mtj5T2PhMFG4NPrNtlwTDRvJvVkCnzWhMbfUmrDZnBzu+k/+DB7hkg7iKNrVIDC4A=
Received: by 10.142.191.2 with SMTP id o2mr406401wff.1193304974845;
        Thu, 25 Oct 2007 02:36:14 -0700 (PDT)
Received: by 10.142.225.3 with HTTP; Thu, 25 Oct 2007 02:36:14 -0700 (PDT)
Message-ID: <cec089090710250236w13c12434hf7afe7abdcc637da@mail.gmail.com>
Date: Thu, 25 Oct 2007 05:36:14 -0400
From: "lucene user" <luz290@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene Queries Over User-Editable Dynamic Categories of Documents
In-Reply-To: <471FC040.4020906@yahoo.co.uk>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_398_16514479.1193304974841"
References: <73010.3833.qm@web26009.mail.ukl.yahoo.com>
	 <cec089090710241356t795d494eh35bbd58be5092af5@mail.gmail.com>
	 <471FC040.4020906@yahoo.co.uk>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_398_16514479.1193304974841
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

What do you means by 'Most caches are held in WeakHashMap...' is this
caching provided by CachingWrappingFilter or do we have to implement it
ourselves? I assume the former.

We will share results of our testing as soon as we have any - not sure how
generalizable they will be.

You have been super helpful! Very grateful! Thanks!

On 10/24/07, markharw00d <markharw00d@yahoo.co.uk> wrote:
>
> lucene user wrote:
> > Thanks for all your help!
> >
> > We are using Lucene 2.1.0 and TermsFilter seems to be new in Lucene
> 2.2.0.
> > I have not been able to find SortedVIntList in the javadocs at all.
> >
>
> No, SortedVIntList is in the patch I provided a link to earlier.
>
>
> > Because both SortedVIntList and a regular BitSet are based on Lucene
> > Document Numbers, which are not permanent, It seems we will need to
> > generate these objects fresh at least once per session. Any comments,
> > about that? Do I have that correct?
> >
> Yes. Most caches tend to be held in WeakHashMap keyed on IndexReader so
> that when a new reader takes over old caches are automatically garbage
> collected.
>
>
> > Our application includes the following filter implementation that we use
> for
> > a
> > slightly different end user category problem. We could easily use it for
> our
> > current problem as well.
> >
> > Is TermsFilter sufficiently better (faster, more compact, more correct,
> > etc.) to make upgrading
> > very important?
> >
> TermsFilter is in "contrib" and is stand-alone so should work with most
> Lucene versions.
> Your implementation looks to scan the whole termEnum whereas TermsFilter
> looks up only the selected terms using reader.termDocs(term).
> Benchmarking will tell you which is faster. I'd be interested to know
> the results.
>
> Cheers
> Mark
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_398_16514479.1193304974841--

From java-user-return-30737-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 25 10:00:45 2007
Return-Path: <java-user-return-30737-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76260 invoked from network); 25 Oct 2007 10:00:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 25 Oct 2007 10:00:45 -0000
Received: (qmail 71190 invoked by uid 500); 25 Oct 2007 10:00:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71159 invoked by uid 500); 25 Oct 2007 10:00:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71148 invoked by uid 99); 25 Oct 2007 10:00:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 03:00:26 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.104] (HELO web26015.mail.ukl.yahoo.com) (217.12.10.104)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 25 Oct 2007 10:00:29 +0000
Received: (qmail 55178 invoked by uid 60001); 25 Oct 2007 10:00:07 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=tgq2chsdBGZaP3dgNvdwTkrDCutKGfJCLq3pI3QRoTHT6RSlB0apTHMffqZyimV1BWJYXUif/FNwV+Nlgnm2Qm99VHGJyjGb8UZqxCvtjg3PXqhJi8UjOjwE3pwduwD6EskMbAf/8+xnShNAh9EgPnT1WtgUELNJx/N3Lc3Zk7o=;
X-YMail-OSG: zCx7z44VM1meRo1sLjNOnKeT67WmPKrrxglfxVUdfmWwpABG7k2xI.HyPGp83N9IKmg0gZZ2y_sNw.iOPqp85JCCl5dRAovJ.IQ54wvOsY1AM5vEGLkLxSn5GFI-
Received: from [193.36.230.96] by web26015.mail.ukl.yahoo.com via HTTP; Thu, 25 Oct 2007 10:00:04 GMT
X-Mailer: YahooMailRC/814.06 YahooMailWebService/0.7.152
Date: Thu, 25 Oct 2007 10:00:04 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: Lucene Queries Over User-Editable Dynamic Categories of Documents
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
Message-ID: <693739.47758.qm@web26015.mail.ukl.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

There are 2 considerations when caching filter results:=0A=0A1) What was th=
e criteria used to produce the results?=0A2) What version of the index were=
 these results taken from?=0A=0ACachingWrapperFilter takes care of 2) by us=
ing WeakHashMap keyed on IndexReader.=0A=0AThe filter you pass to CachingWr=
apperFilter must play it's part in taking care of 1) by implementing hashco=
de/equals.=0A=0AYou can then maintain an LRU hashmap of CachingWrapperFilte=
rs to keep only the most popular filters.=0A=0AIncidentally, contrib's XMLQ=
ueryParser handles all this for you with a simple "CachedFilter" tag:=0A=0A=
<FilteredQuery>=0A    <Query>=0A        <UserQuery>"Brittany Spears"</UserQ=
uery>=0A    </Query>    =0A    <Filter>=0A        <CachedFilter>=0A        =
    <RangeFilter fieldName=3D"date" lowerTerm=3D"19970409" upperTerm=3D"199=
70412"/>=0A        </CachedFilter>=0A    </Filter>    =0A</FilteredQuery>=
=0A=0A=0ACheers=0AMark=0A=0A----- Original Message ----=0AFrom: lucene user=
 <luz290@gmail.com>=0ATo: java-user@lucene.apache.org=0ASent: Thursday, 25 =
October, 2007 10:36:14 AM=0ASubject: Re: Lucene Queries Over User-Editable =
Dynamic Categories of Documents=0A=0AWhat do you means by 'Most caches are =
held in WeakHashMap...' is this=0Acaching provided by CachingWrappingFilter=
 or do we have to implement it=0Aourselves? I assume the former.=0A=0AWe wi=
ll share results of our testing as soon as we have any - not sure=0A how=0A=
generalizable they will be.=0A=0AYou have been super helpful! Very grateful=
! Thanks!=0A=0AOn 10/24/07, markharw00d <markharw00d@yahoo.co.uk> wrote:=0A=
>=0A> lucene user wrote:=0A> > Thanks for all your help!=0A> >=0A> > We are=
 using Lucene 2.1.0 and TermsFilter seems to be new in Lucene=0A> 2.2.0.=0A=
> > I have not been able to find SortedVIntList in the javadocs at all.=0A>=
 >=0A>=0A> No, SortedVIntList is in the patch I provided a link to earlier.=
=0A>=0A>=0A> > Because both SortedVIntList and a regular BitSet are based o=
n=0A Lucene=0A> > Document Numbers, which are not permanent, It seems we wi=
ll need to=0A> > generate these objects fresh at least once per session. An=
y=0A comments,=0A> > about that? Do I have that correct?=0A> >=0A> Yes. Mos=
t caches tend to be held in WeakHashMap keyed on IndexReader=0A so=0A> that=
 when a new reader takes over old caches are automatically=0A garbage=0A> c=
ollected.=0A>=0A>=0A> > Our application includes the following filter imple=
mentation that=0A we use=0A> for=0A> > a=0A> > slightly different end user =
category problem. We could easily use=0A it for=0A> our=0A> > current probl=
em as well.=0A> >=0A> > Is TermsFilter sufficiently better (faster, more co=
mpact, more=0A correct,=0A> > etc.) to make upgrading=0A> > very important?=
=0A> >=0A> TermsFilter is in "contrib" and is stand-alone so should work wi=
th=0A most=0A> Lucene versions.=0A> Your implementation looks to scan the w=
hole termEnum whereas=0A TermsFilter=0A> looks up only the selected terms u=
sing reader.termDocs(term).=0A> Benchmarking will tell you which is faster.=
 I'd be interested to know=0A> the results.=0A>=0A> Cheers=0A> Mark=0A>=0A>=
=0A> ---------------------------------------------------------------------=
=0A> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org=0A> Fo=
r additional commands, e-mail: java-user-help@lucene.apache.org=0A>=0A>=0A=
=0A=0A=0A=0A=0A      ______________________________________________________=
_____ =0AWant ideas for reducing your carbon footprint? Visit Yahoo! For Go=
od  http://uk.promotions.yahoo.com/forgood/environment.html

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30738-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 25 10:10:15 2007
Return-Path: <java-user-return-30738-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79591 invoked from network); 25 Oct 2007 10:10:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 25 Oct 2007 10:10:15 -0000
Received: (qmail 83138 invoked by uid 500); 25 Oct 2007 10:09:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83114 invoked by uid 500); 25 Oct 2007 10:09:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83103 invoked by uid 99); 25 Oct 2007 10:09:55 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 03:09:55 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [213.133.51.241] (HELO mail.hippo.nl) (213.133.51.241)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 10:09:52 +0000
X-MimeOLE: Produced By Microsoft Exchange V6.5.7235.2
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Performance searching over multiple indexes
Date: Thu, 25 Oct 2007 12:09:10 +0200
Message-ID: <F8E386B54CE3E6408F3A32ABB9A7908A347CE4@hai02.hippointern.lan>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Performance searching over multiple indexes
Thread-Index: AcgW7xXMLQVAapBGTBi1AY774o8Y+w==
From: "Ard Schrijvers" <a.schrijvers@hippo.nl>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

Hello,=20

I am experimenting with lucene MultiSearcher and do some simple
BooleanQueries in which I combine a couple of TermQueries. I am
experiencing, that a single lucene index for just 100.000 docs (~10 k
each) is like 100 times faster than when I have about 100 seperate
indexes and use MultiSearcher. The difference specifically is visible
when the number of hits gets lower (ie, more TermQueries). A single
index seems to be way faster. I must admit I did optimize the single
index (but I can't imagine this explains the 100X).=20

Is it correct that a single index is much faster when the query consists
of many TermQueries where the number of hits is low? Does lucene
something like starting with the Term that has the lowest number of
hits, and then do the consecutive terms with the lowest hits? Is this
more efficient within one index, or is it the combining of the hits that
makes it slower?=20

Hopefully somebody can enlight me,

thx

Regards Ard

--=20

Hippo
Oosteinde 11
1017WT Amsterdam
The Netherlands
Tel  +31 (0)20 5224466
-------------------------------------------------------------
a.schrijvers@hippo.nl / ard@apache.org / http://www.hippo.nl
--------------------------------------------------------------=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30739-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 25 15:11:29 2007
Return-Path: <java-user-return-30739-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88754 invoked from network); 25 Oct 2007 15:11:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 25 Oct 2007 15:11:29 -0000
Received: (qmail 90698 invoked by uid 500); 25 Oct 2007 15:11:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90672 invoked by uid 500); 25 Oct 2007 15:11:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90661 invoked by uid 99); 25 Oct 2007 15:11:08 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 08:11:08 -0700
X-ASF-Spam-Status: No, hits=-4.0 required=10.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [128.222.32.20] (HELO mexforward.lss.emc.com) (128.222.32.20)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 15:11:09 +0000
Received: from mailhub.lss.emc.com (sesha.lss.emc.com [10.254.144.12])
	by mexforward.lss.emc.com (Switch-3.2.5/Switch-3.1.7) with ESMTP id l9PFAk6L001703
	for <java-user@lucene.apache.org>; Thu, 25 Oct 2007 11:10:46 -0400 (EDT)
Received: from corpussmtp2.corp.emc.com (corpussmtp2.corp.emc.com [128.221.14.146])
	by mailhub.lss.emc.com (Switch-3.2.5/Switch-3.1.7) with ESMTP id l9PF9bVv022307
	for <java-user@lucene.apache.org>; Thu, 25 Oct 2007 11:10:44 -0400 (EDT)
From: Fang_Li@emc.com
Received: from CORPUSMX60B.corp.emc.com ([10.254.64.39]) by corpussmtp2.corp.emc.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Thu, 25 Oct 2007 11:10:08 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Performance searching over multiple indexes
Date: Thu, 25 Oct 2007 11:10:29 -0400
Message-ID: <DC061CD2AFA7774FB904EEB43D98CB3A0190EE6F@CORPUSMX60B.corp.emc.com>
In-Reply-To: <F8E386B54CE3E6408F3A32ABB9A7908A347CE4@hai02.hippointern.lan>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Performance searching over multiple indexes
Thread-Index: AcgW7xXMLQVAapBGTBi1AY774o8Y+wAKNZow
References: <F8E386B54CE3E6408F3A32ABB9A7908A347CE4@hai02.hippointern.lan>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 25 Oct 2007 15:10:08.0345 (UTC) FILETIME=[217BEC90:01C81719]
X-PMX-Version: 4.7.1.128075, Antispam-Engine: 2.5.1.298604, Antispam-Data: 2007.8.30.53115
X-PerlMx-Spam: Gauge=, SPAM=1%, Reason='EMC_FROM_0+ -3, NO_REAL_NAME 0, __CP_URI_IN_BODY 0, __CT 0, __CTE 0, __CT_TEXT_PLAIN 0, __HAS_MSGID 0, __IMS_MSGID 0, __MIME_TEXT_ONLY 0, __MIME_VERSION 0, __SANE_MSGID 0'
X-Virus-Checked: Checked by ClamAV on apache.org

Using more than one Index will definitely decrease the searching
performance. The most Lucene search latency is to load the hits. If
there is no hit, the searching takes a short time, dozens milli seconds
and it's a const if the document number is less than 1M. search 100
indexes will take 100 times longer.

I think it's not a good way to use many indexes when the document number
is small. Also you can try ParallelMultiSearcher which search all
indexes in parallel.

I suppose you did not take the opening index time in the comparison.


-----Original Message-----
From: Ard Schrijvers [mailto:a.schrijvers@hippo.nl]=20
Sent: Thursday, October 25, 2007 6:09 PM
To: java-user@lucene.apache.org
Subject: Performance searching over multiple indexes

Hello,=20

I am experimenting with lucene MultiSearcher and do some simple
BooleanQueries in which I combine a couple of TermQueries. I am
experiencing, that a single lucene index for just 100.000 docs (~10 k
each) is like 100 times faster than when I have about 100 seperate
indexes and use MultiSearcher. The difference specifically is visible
when the number of hits gets lower (ie, more TermQueries). A single
index seems to be way faster. I must admit I did optimize the single
index (but I can't imagine this explains the 100X).=20

Is it correct that a single index is much faster when the query consists
of many TermQueries where the number of hits is low? Does lucene
something like starting with the Term that has the lowest number of
hits, and then do the consecutive terms with the lowest hits? Is this
more efficient within one index, or is it the combining of the hits that
makes it slower?=20

Hopefully somebody can enlight me,

thx

Regards Ard

--=20

Hippo
Oosteinde 11
1017WT Amsterdam
The Netherlands
Tel  +31 (0)20 5224466
-------------------------------------------------------------
a.schrijvers@hippo.nl / ard@apache.org / http://www.hippo.nl
--------------------------------------------------------------=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30740-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 25 16:10:45 2007
Return-Path: <java-user-return-30740-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13936 invoked from network); 25 Oct 2007 16:10:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 25 Oct 2007 16:10:45 -0000
Received: (qmail 21932 invoked by uid 500); 25 Oct 2007 16:10:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21909 invoked by uid 500); 25 Oct 2007 16:10:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21898 invoked by uid 99); 25 Oct 2007 16:10:25 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 09:10:25 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of gui@prosoma.com.br designates 67.19.26.18 as permitted sender)
Received: from [67.19.26.18] (HELO diesel.infoage.com.br) (67.19.26.18)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 18:11:12 +0000
Received: from davinci.prosoma (unknown [172.31.255.5])
	by diesel.infoage.com.br (Postfix) with ESMTP id EB1B5474291
	for <java-user@lucene.apache.org>; Thu, 25 Oct 2007 13:59:37 -0200 (BRST)
Received: from [172.16.1.90] (GuiBook.prosoma [172.16.1.90])
	by davinci.prosoma (Postfix) with ESMTP id 72FC9B7547
	for <java-user@lucene.apache.org>; Thu, 25 Oct 2007 14:14:46 -0200 (BRST)
Mime-Version: 1.0 (Apple Message framework v752.3)
Content-Transfer-Encoding: 7bit
Message-Id: <52D5B10B-AE9F-406F-979D-42B60C40A7AB@prosoma.com.br>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
To: java-user@lucene.apache.org
From: Guilherme Barile <gui@prosoma.com.br>
Subject: Reloading a searcher
Date: Thu, 25 Oct 2007 14:10:05 -0200
X-Mailer: Apple Mail (2.752.3)

Hello
	I wrote a simple class to abstract searching on a text file  
(generate by a legacy system).

	class MyFile { private Searcher s; private long timestamp; }

	It creates a timer and checks every ten minutes if  
textfile.lastModified() is diferent from the number it cached on  
timestamp, and recreates the index. There's  a search(query) method  
which parses the query and returns an arraylist of objects.
	My index lies on RAM, so everytime I rebuild it, i do something like

	private void run() {
		File f = new File(textfile);
		
		if(f.lastModified() == this.timestamp) return;
		
		RAMDirectory idx = new RAMDirectory();
	    	IndexWriter writer = new IndexWriter(idx, new StandardAnalyzer 
(),true);
			// here I parse the text file and add the documents to the index

		// update the searcher and timestamp
		this.s = new IndexSearcher(idx);
	    	timestamp = lastModified;
	}

	Problem is: it seems the searcher is not being updated. All search  
operations occur in this class (using my own search method) accessing  
"this.s" directly

	Is there any better approach for doing this (reloading the searcher) ?

Thanks a lot


gui

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30741-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 25 17:03:37 2007
Return-Path: <java-user-return-30741-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33655 invoked from network); 25 Oct 2007 17:03:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 25 Oct 2007 17:03:37 -0000
Received: (qmail 8001 invoked by uid 500); 25 Oct 2007 17:03:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7975 invoked by uid 500); 25 Oct 2007 17:03:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7964 invoked by uid 99); 25 Oct 2007 17:03:18 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 10:03:18 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [213.133.51.241] (HELO mail.hippo.nl) (213.133.51.241)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 19:04:00 +0000
X-MimeOLE: Produced By Microsoft Exchange V6.5.7235.2
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Performance searching over multiple indexes
Date: Thu, 25 Oct 2007 19:02:56 +0200
Message-ID: <F8E386B54CE3E6408F3A32ABB9A7908A347CE7@hai02.hippointern.lan>
In-Reply-To: <DC061CD2AFA7774FB904EEB43D98CB3A0190EE6F@CORPUSMX60B.corp.emc.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Performance searching over multiple indexes
Thread-Index: AcgW7xXMLQVAapBGTBi1AY774o8Y+wAKNZowAAQQXRA=
References: <F8E386B54CE3E6408F3A32ABB9A7908A347CE4@hai02.hippointern.lan> <DC061CD2AFA7774FB904EEB43D98CB3A0190EE6F@CORPUSMX60B.corp.emc.com>
From: "Ard Schrijvers" <a.schrijvers@hippo.nl>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

Hello,

> Using more than one Index will definitely decrease the=20
> searching performance. The most Lucene search latency is to=20
> load the hits. If there is no hit, the searching takes a=20
> short time, dozens milli seconds and it's a const if the=20
> document number is less than 1M. search 100 indexes will take=20
> 100 times longer.

I was kind of experiencing this indeed :-)=20

>=20
> I think it's not a good way to use many indexes when the=20
> document number is small. Also you can try=20
> ParallelMultiSearcher which search all indexes in parallel.

Yes, I have tried it already, but for few documents (say 100.000) in 100
indexes, ParallelMultiSearcher is actually even slower (i think because
of locks. Probably only makes sense if you have a couple of very large
indexes)

>=20
> I suppose you did not take the opening index time in the comparison.

No. The original reasoning behind the "many indexes" was to have fast
incremental updating, have one index in memory, and flush to persistent
indexes every x sec. Then, these persistent indexes are being merged
likewise the segments in lucene. I think the idea is ok, but the number
of persistent indexes must be kept small I think. I'll do some more
testing,

thx for your advice,

regards Ard


>=20
>=20
> -----Original Message-----
> From: Ard Schrijvers [mailto:a.schrijvers@hippo.nl]
> Sent: Thursday, October 25, 2007 6:09 PM
> To: java-user@lucene.apache.org
> Subject: Performance searching over multiple indexes
>=20
> Hello,=20
>=20
> I am experimenting with lucene MultiSearcher and do some=20
> simple BooleanQueries in which I combine a couple of=20
> TermQueries. I am experiencing, that a single lucene index=20
> for just 100.000 docs (~10 k
> each) is like 100 times faster than when I have about 100=20
> seperate indexes and use MultiSearcher. The difference=20
> specifically is visible when the number of hits gets lower=20
> (ie, more TermQueries). A single index seems to be way=20
> faster. I must admit I did optimize the single index (but I=20
> can't imagine this explains the 100X).=20
>=20
> Is it correct that a single index is much faster when the=20
> query consists of many TermQueries where the number of hits=20
> is low? Does lucene something like starting with the Term=20
> that has the lowest number of hits, and then do the=20
> consecutive terms with the lowest hits? Is this more=20
> efficient within one index, or is it the combining of the=20
> hits that makes it slower?=20
>=20
> Hopefully somebody can enlight me,
>=20
> thx
>=20
> Regards Ard
>=20
> --=20
>=20
> Hippo
> Oosteinde 11
> 1017WT Amsterdam
> The Netherlands
> Tel  +31 (0)20 5224466
> -------------------------------------------------------------
> a.schrijvers@hippo.nl / ard@apache.org / http://www.hippo.nl
> --------------------------------------------------------------=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30742-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 25 17:35:44 2007
Return-Path: <java-user-return-30742-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49014 invoked from network); 25 Oct 2007 17:35:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 25 Oct 2007 17:35:43 -0000
Received: (qmail 68103 invoked by uid 500); 25 Oct 2007 17:35:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68072 invoked by uid 500); 25 Oct 2007 17:35:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68055 invoked by uid 99); 25 Oct 2007 17:35:25 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 10:35:25 -0700
X-ASF-Spam-Status: No, hits=2.6 required=10.0
	tests=DNS_FROM_OPENWHOIS,SPF_HELO_PASS,SPF_PASS,WHOIS_MYPRIVREG
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lists@nabble.com designates 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 17:35:28 +0000
Received: from isper.nabble.com ([192.168.236.156])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <lists@nabble.com>)
	id 1Il6br-000525-Hj
	for java-user@lucene.apache.org; Thu, 25 Oct 2007 10:35:07 -0700
Message-ID: <13412076.post@talk.nabble.com>
Date: Thu, 25 Oct 2007 10:35:07 -0700 (PDT)
From: poojasreejith <pooja@pivotsys.com>
To: java-user@lucene.apache.org
Subject: lucene indexing doubts
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: pooja@pivotsys.com
X-Virus-Checked: Checked by ClamAV on apache.org


hi,

Can anyone of you guide me, how to index into an already indexed folder.
Right now, I am deleting the indexed info and running the indexer again. I
dont want to do that. I want a method, how to append into the same folder
when new files are indexed. 

Is it possible? I couldn't find any solution for it.


Pooja
-- 
View this message in context: http://www.nabble.com/lucene-indexing-doubts-tf4692435.html#a13412076
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30743-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 25 17:39:10 2007
Return-Path: <java-user-return-30743-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50880 invoked from network); 25 Oct 2007 17:39:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 25 Oct 2007 17:39:10 -0000
Received: (qmail 75721 invoked by uid 500); 25 Oct 2007 17:38:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75680 invoked by uid 500); 25 Oct 2007 17:38:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75669 invoked by uid 99); 25 Oct 2007 17:38:52 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 10:38:52 -0700
X-ASF-Spam-Status: No, hits=2.6 required=10.0
	tests=DNS_FROM_OPENWHOIS,SPF_HELO_PASS,SPF_PASS,WHOIS_MYPRIVREG
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lists@nabble.com designates 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 17:38:54 +0000
Received: from isper.nabble.com ([192.168.236.156])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <lists@nabble.com>)
	id 1Il6fC-00057g-Hg
	for java-user@lucene.apache.org; Thu, 25 Oct 2007 10:38:34 -0700
Message-ID: <13412082.post@talk.nabble.com>
Date: Thu, 25 Oct 2007 10:38:34 -0700 (PDT)
From: poojasreejith <pooja@pivotsys.com>
To: java-user@lucene.apache.org
Subject: Lucene searching  class
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: pooja@pivotsys.com
X-Virus-Checked: Checked by ClamAV on apache.org


hi,

  I am using lucene2.2.0 for my application. I have a searcher.java class.
The problem I am facing is, it is not supporting 

Query query = QueryParser.parse(q, "contents",new StandardAnalyzer());  it
shows error; the method parse in the type QueryParser is not applicable for
the (String, String ,StandardAnalyzer).


Can anyone help me in this?

Pooja
-- 
View this message in context: http://www.nabble.com/Lucene-searching--class-tf4692438.html#a13412082
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30744-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 25 17:57:46 2007
Return-Path: <java-user-return-30744-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56052 invoked from network); 25 Oct 2007 17:57:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 25 Oct 2007 17:57:46 -0000
Received: (qmail 99758 invoked by uid 500); 25 Oct 2007 17:57:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99725 invoked by uid 500); 25 Oct 2007 17:57:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99714 invoked by uid 99); 25 Oct 2007 17:57:27 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 10:57:27 -0700
X-ASF-Spam-Status: No, hits=2.6 required=10.0
	tests=DNS_FROM_OPENWHOIS,SPF_HELO_PASS,SPF_PASS,WHOIS_MYPRIVREG
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of lists@nabble.com designates 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 19:58:13 +0000
Received: from isper.nabble.com ([192.168.236.156])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <lists@nabble.com>)
	id 1Il6xA-0005go-Lm
	for java-user@lucene.apache.org; Thu, 25 Oct 2007 10:57:08 -0700
Message-ID: <13412435.post@talk.nabble.com>
Date: Thu, 25 Oct 2007 10:57:08 -0700 (PDT)
From: Vs_Inf <vyalavarthi@informatica.com>
To: java-user@lucene.apache.org
Subject: Using not operator in query
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: vyalavarthi@informatica.com
X-Virus-Checked: Checked by ClamAV on apache.org


Hi,
 We have a requirement to allow users of our search application to use "NOT"
operator on a single term.
For example, if the user enters "not customer", they are expecting the
search to return everything that is not "customer".

How can i achive this given Lucene limitation on NOT operator which
according to Lucene documentation:
 
The NOT operator cannot be used with just one term. For example, the
following search will return no results:
NOT "jakarta apache"

Is there a work-around for this requirement?

Thanks for your help.
-Vasu
-- 
View this message in context: http://www.nabble.com/Using-not-operator-in-query-tf4692536.html#a13412435
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30745-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 25 18:08:54 2007
Return-Path: <java-user-return-30745-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60662 invoked from network); 25 Oct 2007 18:08:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 25 Oct 2007 18:08:54 -0000
Received: (qmail 20223 invoked by uid 500); 25 Oct 2007 18:08:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20194 invoked by uid 500); 25 Oct 2007 18:08:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20183 invoked by uid 99); 25 Oct 2007 18:08:35 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 11:08:35 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 80.76.149.213 is neither permitted nor denied by domain of karl.wettin@gmail.com)
Received: from [80.76.149.213] (HELO ch-smtp02.sth.basefarm.net) (80.76.149.213)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 18:08:38 +0000
Received: from c83-249-118-113.bredband.comhem.se ([83.249.118.113]:51752 helo=[192.168.1.101])
	by ch-smtp02.sth.basefarm.net with esmtp (Exim 4.68)
	(envelope-from <karl.wettin@gmail.com>)
	id 1Il77x-0007Ks-88
	for java-user@lucene.apache.org; Thu, 25 Oct 2007 20:08:17 +0200
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <13412076.post@talk.nabble.com>
References: <13412076.post@talk.nabble.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <75DB4B78-818E-4F23-B1E2-9AD333CEB165@gmail.com>
Content-Transfer-Encoding: 7bit
From: Karl Wettin <karl.wettin@gmail.com>
Subject: Re: lucene indexing doubts
Date: Thu, 25 Oct 2007 20:08:16 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Originating-IP: 83.249.118.113
X-Scan-Result: No virus found in message 1Il77x-0007Ks-88.
X-Scan-Signature: ch-smtp02.sth.basefarm.net 1Il77x-0007Ks-88 ab4feb56f521d3615d7da4cfb8cd89c3
X-Virus-Checked: Checked by ClamAV on apache.org


25 okt 2007 kl. 19.35 skrev poojasreejith:

>
> Can anyone of you guide me, how to index into an already indexed  
> folder.
> Right now, I am deleting the indexed info and running the indexer  
> again. I
> dont want to do that. I want a method, how to append into the same  
> folder
> when new files are indexed.

I'm not really sure I understand your question.

Are you looking for the IndexWriter.deleteDocument method?
<http://lucene.apache.org/java/2_2_0/api/org/apache/lucene/index/ 
IndexWriter.html#updateDocument(org.apache.lucene.index.Term,% 
20org.apache.lucene.document.Document)>

Are you looking for a delta, what has been changed in the filesystem  
since your last update? If you have no way of checking this, what  
about iterating all files and searching for their filename? Of course  
you will need to index the file name too.

I hope this helps.


-- 
karl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30746-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 25 18:10:53 2007
Return-Path: <java-user-return-30746-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61913 invoked from network); 25 Oct 2007 18:10:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 25 Oct 2007 18:10:53 -0000
Received: (qmail 24895 invoked by uid 500); 25 Oct 2007 18:10:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24540 invoked by uid 500); 25 Oct 2007 18:10:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24529 invoked by uid 99); 25 Oct 2007 18:10:34 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 11:10:34 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 80.76.149.212 is neither permitted nor denied by domain of karl.wettin@gmail.com)
Received: from [80.76.149.212] (HELO ch-smtp01.sth.basefarm.net) (80.76.149.212)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 18:10:37 +0000
Received: from c83-249-118-113.bredband.comhem.se ([83.249.118.113]:51760 helo=[192.168.1.101])
	by ch-smtp01.sth.basefarm.net with esmtp (Exim 4.68)
	(envelope-from <karl.wettin@gmail.com>)
	id 1Il79s-0003iH-3n
	for java-user@lucene.apache.org; Thu, 25 Oct 2007 20:10:16 +0200
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <13412082.post@talk.nabble.com>
References: <13412082.post@talk.nabble.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <01111CEA-9FFB-4B37-AF33-6C5AA3AC52CB@gmail.com>
Content-Transfer-Encoding: 7bit
From: Karl Wettin <karl.wettin@gmail.com>
Subject: Re: Lucene searching  class
Date: Thu, 25 Oct 2007 20:10:11 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Originating-IP: 83.249.118.113
X-Scan-Result: No virus found in message 1Il79s-0003iH-3n.
X-Scan-Signature: ch-smtp01.sth.basefarm.net 1Il79s-0003iH-3n 7e424f69aef08282ef3665120493079d
X-Virus-Checked: Checked by ClamAV on apache.org


25 okt 2007 kl. 19.38 skrev poojasreejith:

>
> hi,
>
>   I am using lucene2.2.0 for my application. I have a searcher.java  
> class.
> The problem I am facing is, it is not supporting
>
> Query query = QueryParser.parse(q, "contents",new StandardAnalyzer 
> ());  it
> shows error; the method parse in the type QueryParser is not  
> applicable for
> the (String, String ,StandardAnalyzer).

There is no such method.

<http://lucene.apache.org/java/2_2_0/api/org/apache/lucene/ 
queryParser/QueryParser.html#parse(java.lang.String)>

-- 
karl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30747-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 25 18:13:13 2007
Return-Path: <java-user-return-30747-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62455 invoked from network); 25 Oct 2007 18:13:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 25 Oct 2007 18:13:13 -0000
Received: (qmail 28098 invoked by uid 500); 25 Oct 2007 18:12:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28076 invoked by uid 500); 25 Oct 2007 18:12:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28065 invoked by uid 99); 25 Oct 2007 18:12:54 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 11:12:54 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: 80.76.149.213 is neither permitted nor denied by domain of karl.wettin@gmail.com)
Received: from [80.76.149.213] (HELO ch-smtp02.sth.basefarm.net) (80.76.149.213)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 20:13:41 +0000
Received: from c83-249-118-113.bredband.comhem.se ([83.249.118.113]:51768 helo=[192.168.1.101])
	by ch-smtp02.sth.basefarm.net with esmtp (Exim 4.68)
	(envelope-from <karl.wettin@gmail.com>)
	id 1Il7C9-0006R2-7n
	for java-user@lucene.apache.org; Thu, 25 Oct 2007 20:12:37 +0200
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <13412435.post@talk.nabble.com>
References: <13412435.post@talk.nabble.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <81EE09A1-B90C-4890-8BD5-168C253A1B8D@gmail.com>
Content-Transfer-Encoding: 7bit
From: Karl Wettin <karl.wettin@gmail.com>
Subject: Re: Using not operator in query
Date: Thu, 25 Oct 2007 20:12:36 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Originating-IP: 83.249.118.113
X-Scan-Result: No virus found in message 1Il7C9-0006R2-7n.
X-Scan-Signature: ch-smtp02.sth.basefarm.net 1Il7C9-0006R2-7n 41692e5398f90848d31751794aa59ef1
X-Virus-Checked: Checked by ClamAV on apache.org


25 okt 2007 kl. 19.57 skrev Vs_Inf:
>  We have a requirement to allow users of our search application to  
> use "NOT"
> operator on a single term.
>
> Is there a work-around for this requirement?

You will need to combine the NOT-statement with a MatchAllDocsQuery.

<http://lucene.apache.org/java/2_2_0/api/org/apache/lucene/search/ 
MatchAllDocsQuery.html>

-- 
karl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30748-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 25 18:16:15 2007
Return-Path: <java-user-return-30748-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63277 invoked from network); 25 Oct 2007 18:16:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 25 Oct 2007 18:16:14 -0000
Received: (qmail 34253 invoked by uid 500); 25 Oct 2007 18:15:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34218 invoked by uid 500); 25 Oct 2007 18:15:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34206 invoked by uid 99); 25 Oct 2007 18:15:54 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 11:15:54 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [128.230.18.67] (HELO mx5.syr.edu) (128.230.18.67)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 20:16:40 +0000
Received: from [128.230.84.100] (ist-h335-d03.syr.edu [128.230.84.100])
	by mx5.syr.edu (8.13.7/8.13.7) with ESMTP id l9PIFYvH030175
	for <java-user@lucene.apache.org>; Thu, 25 Oct 2007 14:15:34 -0400
Message-ID: <4720DCE0.7030601@syr.edu>
Date: Thu, 25 Oct 2007 14:13:52 -0400
From: Steven Rowe <sarowe@syr.edu>
User-Agent: Thunderbird 2.0.0.6-GroupWise-IMAP-fix (Windows/20070920)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Lucene searching  class
References: <13412082.post@talk.nabble.com>
In-Reply-To: <13412082.post@talk.nabble.com>
X-Enigmail-Version: 0.95.3
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Scanner: InterScan AntiVirus for Sendmail
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Pooja,

poojasreejith wrote:
>   I am using lucene2.2.0 for my application. I have a searcher.java class.
> The problem I am facing is, it is not supporting 
> 
> Query query = QueryParser.parse(q, "contents",new StandardAnalyzer());  it
> shows error; the method parse in the type QueryParser is not applicable for
> the (String, String ,StandardAnalyzer).

Your code uses an obsolete static version of QueryParser.parse().  That
method was deprecated in Lucene Java release 1.9.0, and was then removed
in release 2.0.0.

You should instead instantiate a QueryParser instance, supplying the
field name and analyzer to the constructor, and then call the
parse(String query) instance method.

Here is the 2.2.0 javadoc for QueryParser:

<http://lucene.apache.org/java/2_2_0/api/org/apache/lucene/queryParser/QueryParser.html>

Steve

-- 
Steve Rowe
Center for Natural Language Processing
http://www.cnlp.org/tech/lucene.asp

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30749-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 25 18:19:03 2007
Return-Path: <java-user-return-30749-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70010 invoked from network); 25 Oct 2007 18:19:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 25 Oct 2007 18:19:03 -0000
Received: (qmail 41007 invoked by uid 500); 25 Oct 2007 18:18:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40978 invoked by uid 500); 25 Oct 2007 18:18:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40967 invoked by uid 99); 25 Oct 2007 18:18:45 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 11:18:45 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [66.196.101.31] (HELO web59205.mail.re1.yahoo.com) (66.196.101.31)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 25 Oct 2007 18:18:48 +0000
Received: (qmail 10526 invoked by uid 60001); 25 Oct 2007 18:18:26 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=jUvHuSwEwpDGf3MMLcPoN/Qr2/xF4RJdacFT3EvOksbP0s1U1fENaPITEqqNOR2eBdIh10BWP46toFous0IUXRuWZKvWpxLv3643LT34UVS+N6fAw8Qj2Jz/TctyLDbuMWKXdMB60K4Lk/Nx/jQhB3/ejIq/pA7OZuFboyELAEM=;
X-YMail-OSG: teS5Nv4VM1lNrMDykGsd85f0Rnzj5Uw0djCMtro1RaRehrzMhhdiIGVjtQP20CJWnZODmn2fQ3bAAdSx6gcRkDfWSoYPmLXCKHhfi15fKTuZKqJdddCaIemgAdGRAipqegH9QV4JJ1TDUghy
Received: from [68.167.115.34] by web59205.mail.re1.yahoo.com via HTTP; Thu, 25 Oct 2007 11:18:26 PDT
Date: Thu, 25 Oct 2007 11:18:26 -0700 (PDT)
From: Cool Coder <techcool.kumar@yahoo.com>
Subject: HTML analyzer
To: java-user@lucene.apache.org
In-Reply-To: <81EE09A1-B90C-4890-8BD5-168C253A1B8D@gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-54707215-1193336306=:728"
Content-Transfer-Encoding: 8bit
Message-ID: <788753.728.qm@web59205.mail.re1.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-54707215-1193336306=:728
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Is there any analyzer that can be configured to stop searching url test i.e. href=""? Maybe I need some sort of filter with reg ex so that searcher will skip searching text if it matches regular expressions in the filter. I am not sure whether this is possible? I would appreciate your valuable suggestion/input.
   
  - BR

 __________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 
--0-54707215-1193336306=:728--

From java-user-return-30750-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 25 18:45:43 2007
Return-Path: <java-user-return-30750-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80058 invoked from network); 25 Oct 2007 18:45:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 25 Oct 2007 18:45:42 -0000
Received: (qmail 94002 invoked by uid 500); 25 Oct 2007 18:45:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93968 invoked by uid 500); 25 Oct 2007 18:45:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93909 invoked by uid 99); 25 Oct 2007 18:45:23 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 11:45:22 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 80.76.149.213 is neither permitted nor denied by domain of karl.wettin@gmail.com)
Received: from [80.76.149.213] (HELO ch-smtp02.sth.basefarm.net) (80.76.149.213)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 18:45:25 +0000
Received: from c83-249-118-113.bredband.comhem.se ([83.249.118.113]:51852 helo=[192.168.1.101])
	by ch-smtp02.sth.basefarm.net with esmtp (Exim 4.68)
	(envelope-from <karl.wettin@gmail.com>)
	id 1Il7hX-0005ZK-7z
	for java-user@lucene.apache.org; Thu, 25 Oct 2007 20:45:03 +0200
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <788753.728.qm@web59205.mail.re1.yahoo.com>
References: <788753.728.qm@web59205.mail.re1.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <E181E913-9F74-4232-8E69-8ABF374456ED@gmail.com>
Content-Transfer-Encoding: 7bit
From: Karl Wettin <karl.wettin@gmail.com>
Subject: Re: HTML analyzer
Date: Thu, 25 Oct 2007 20:45:02 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Originating-IP: 83.249.118.113
X-Scan-Result: No virus found in message 1Il7hX-0005ZK-7z.
X-Scan-Signature: ch-smtp02.sth.basefarm.net 1Il7hX-0005ZK-7z b9807c7fdddade004f6f635b6349d227
X-Virus-Checked: Checked by ClamAV on apache.org


25 okt 2007 kl. 20.18 skrev Cool Coder:

> Is there any analyzer that can be configured

All of them can be.

<http://lucene.apache.org/java/2_2_0/api/org/apache/lucene/analysis/ 
TokenFilter.html>

I suggest you take a look at the code of any of them,  
StandardAnalyzer for instance.



-- 
karl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30751-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 25 20:44:11 2007
Return-Path: <java-user-return-30751-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19241 invoked from network); 25 Oct 2007 20:44:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 25 Oct 2007 20:44:11 -0000
Received: (qmail 74011 invoked by uid 500); 25 Oct 2007 20:43:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73972 invoked by uid 500); 25 Oct 2007 20:43:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73961 invoked by uid 99); 25 Oct 2007 20:43:52 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 13:43:52 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of stopman@gmail.com designates 209.85.128.191 as permitted sender)
Received: from [209.85.128.191] (HELO fk-out-0910.google.com) (209.85.128.191)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 20:43:55 +0000
Received: by fk-out-0910.google.com with SMTP id z23so584806fkz
        for <java-user@lucene.apache.org>; Thu, 25 Oct 2007 13:43:34 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        bh=VG1fbAwcNy/qwwjbEt9vEcP1X8b+rzo5wYWoljsrf8w=;
        b=S+RctpzutD+Jgf+8PDYzlPoLhWdgWtLJTElV6K4wtcSGmfv+o3L8tdxfmea7z70UtXN6NOrlwI+tGUAVSth2JBLLmiVSkZhLEf/zNC2TjBfvMwUd9KbOscGSMT8+qcpoFr2LNXqZ4n5scu8ThMf5TvnI8ly0HWOrCRA5g72uJTk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=dNAlEjHMXz2QSYiDhBDj18ZDoPVmEbN9/uG02BREO7QHO4rClFArlOX5h7AGalz1jXO1SVZeSYyhBvnhWiP2ZMFMALcWJJPZCteONlqbutgXJTcuuRG+R2VSX+2uQrrCqAxx+Nj/4ICW41u7xhMsp6yQ4xs9uvtRn6zzVhP11xw=
Received: by 10.82.107.15 with SMTP id f15mr4077370buc.1193345014161;
        Thu, 25 Oct 2007 13:43:34 -0700 (PDT)
Received: by 10.82.140.14 with HTTP; Thu, 25 Oct 2007 13:43:34 -0700 (PDT)
Message-ID: <652776090710251343y44ac49damc924697aafd1be09@mail.gmail.com>
Date: Thu, 25 Oct 2007 13:43:34 -0700
From: "Michael Stoppelman" <stopman@gmail.com>
To: java-user@lucene.apache.org
Subject: Speeding up highlighting by storing a cached TokenStream
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_2862_33130136.1193345014152"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_2862_33130136.1193345014152
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Most of the time the highlighting uses is in getting the next token from the
analyzer (tokenStream.next()). I'm wondering how I can access the tokens
that
are stored in lucene (or store another copy of the TokenStream seperately)
and send a pre-tokenized TokenStream to the highlighter so next() is speedy.

Anyone care to suggest an approach to making this faster?

-M

------=_Part_2862_33130136.1193345014152--

From java-user-return-30752-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 25 21:06:22 2007
Return-Path: <java-user-return-30752-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25548 invoked from network); 25 Oct 2007 21:06:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 25 Oct 2007 21:06:22 -0000
Received: (qmail 3098 invoked by uid 500); 25 Oct 2007 21:06:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2870 invoked by uid 500); 25 Oct 2007 21:06:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2859 invoked by uid 99); 25 Oct 2007 21:06:02 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 14:06:02 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [217.12.11.35] (HELO smtp004.mail.ukl.yahoo.com) (217.12.11.35)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 25 Oct 2007 21:06:06 +0000
Received: (qmail 54267 invoked from network); 25 Oct 2007 21:05:44 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Received:X-YMail-OSG:Message-ID:Date:From:User-Agent:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding;
  b=WWuB11Q0FPnJGz4PVJ800vAaEus+wYCH/VzCbImvUGnqcSN5/ituc+ROvIqg9S9GgrAq0e9TpDrdLXQec/Bha4Y0ghLt0SAeCJHLO86F4LyzbNVTDRcvqkqDwUgAPNg8R/kvqdL50foOV2wXwFHI+V6R12BDkVwuzzQCFzdoVDU=  ;
Received: from unknown (HELO ?127.0.0.1?) (markharw00d@194.106.34.5 with plain)
  by smtp004.mail.ukl.yahoo.com with SMTP; 25 Oct 2007 21:05:44 -0000
X-YMail-OSG: ZFgf2YEVM1kV7mF3OU_0uRa2S9MTv7a8qs.FVdwozEu.SX3TlyNVOwiVnSZtSll5Eu1XZ68SmQ--
Message-ID: <47210523.901@yahoo.co.uk>
Date: Thu, 25 Oct 2007 22:05:39 +0100
From: markharw00d <markharw00d@yahoo.co.uk>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Speeding up highlighting by storing a cached TokenStream
References: <652776090710251343y44ac49damc924697aafd1be09@mail.gmail.com>
In-Reply-To: <652776090710251343y44ac49damc924697aafd1be09@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org


> Anyone care to suggest an approach to making this faster?
>   
See TokenSources.java


Cheers
 Mark


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30753-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 25 21:14:37 2007
Return-Path: <java-user-return-30753-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28660 invoked from network); 25 Oct 2007 21:14:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 25 Oct 2007 21:14:37 -0000
Received: (qmail 13911 invoked by uid 500); 25 Oct 2007 21:12:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13879 invoked by uid 500); 25 Oct 2007 21:12:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13864 invoked by uid 99); 25 Oct 2007 21:12:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 14:12:47 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of warren@clarksnutrition.com designates 66.160.183.118 as permitted sender)
Received: from [66.160.183.118] (HELO unassigned118.fc.aoindustries.com) (66.160.183.118)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 21:12:50 +0000
Received: from Warren (pool-71-110-202-177.lsanca.dsl-w.verizon.net [71.110.202.177])
	(authenticated bits=0)
	by www7.fc.aoindustries.com (8.13.4/8.13.4) with ESMTP id l9PLDVuf016751
	for <java-user@lucene.apache.org>; Thu, 25 Oct 2007 16:13:31 -0500
From: "Warren" <warren@clarksnutrition.com>
To: <java-user@lucene.apache.org>
Subject: RE: Same query different results?
Date: Thu, 25 Oct 2007 14:12:32 -0700
Message-ID: <OOEMJCEPDNFDAKIHHNCBEENICAAA.warren@clarksnutrition.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3138
In-reply-to: <328D996C-439F-4B7D-8243-7BBBA906F352@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org



> -----Original Message-----
> From: Karl Wettin [mailto:karl.wettin@gmail.com]
> Sent: Wednesday, October 24, 2007 10:25 PM
> To: java-user@lucene.apache.org
> Subject: Re: Same query different results?
> 
> 
> 
> 25 okt 2007 kl. 06.33 skrev Warren:
> 
> > This query works correctly in my app and Luke
> >
> > +(upc:almonds description:almonds content:almonds) +dept:bulk +zone:1
> >
> > Query 2:
> > This query works correctly in Luke but returns no results in my app
> >
> > +(upc:almonds description:almonds content:almonds) +dept:"Bulk"  
> > +zone:1
> >
> > My app code:
> >
> > Directory dir = FSDirectory.getDirectory(indexDir);
> > IndexSearcher searcher = new IndexSearcher(dir);
> > Hits hits = searcher.search(query);
> 
> How do you create the query? If using a query parser, how do you  
> instantiate the query parser?
> 
> >
> > The only difference is that the term "bulk" is quoted in one query  
> > and not
> 
> There is also the upper case B.
> 
> Comparing rewritten and queries and their weight explenation might  
> prove helpful.
> 
> -- 
> karl

upc:almonds was created with QueryParser
description:almonds was created with QueryParser
content:almonds was created with QueryParser

All of the above was placed in a BooleanQuery

+dept:"Bulk" was created with a PhraseQuery

+zone:1 was created with QueryParser

The three different items above were all placed in a BooleanQuery

QueryParser was created this way:

QueryParser parser = new QueryParser(field, new StandardAnalyzer());
query = parser.parse(searchString);

I can get it to work if I replace the PhraseQuery with QueryParser;

Whats up with that?


> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30754-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 25 22:21:28 2007
Return-Path: <java-user-return-30754-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58532 invoked from network); 25 Oct 2007 22:21:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 25 Oct 2007 22:21:28 -0000
Received: (qmail 18808 invoked by uid 500); 25 Oct 2007 22:21:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18782 invoked by uid 500); 25 Oct 2007 22:21:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18771 invoked by uid 99); 25 Oct 2007 22:21:10 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 15:21:10 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of markrmiller@gmail.com designates 209.85.132.249 as permitted sender)
Received: from [209.85.132.249] (HELO an-out-0708.google.com) (209.85.132.249)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 22:21:13 +0000
Received: by an-out-0708.google.com with SMTP id d40so127961and
        for <java-user@lucene.apache.org>; Thu, 25 Oct 2007 15:20:52 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        bh=szGsyX6bbTYAXr+o8OoKREx+wIp/DaJ+DCmvLqBy1rY=;
        b=cM5lZ/iCss2F8xY3crSOyZ3fUkZwWZysM2qy6dqJMGXIoulCBVM/Ke0/q9ROBSFER04mGEQ/J+T+uacjIlLdRirimT4BEt/bdutF0vSvob1UaTGhCNIRDF8alLzxZuWh81addiYddK2/kBTe3gf/gPdTEq5MYV+afON254XQ70Q=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=sk+i33NldAw/cBAtLpCPKVOsUWy2r7EmWiCgXpjv5V3NvU1oVeWf1rc3GdA1ycjwHUK4QfJCfzju7BIMH4Nk0Tn8pMFLojtPWWXlGXA59cscthMBeSwSP0Ph3vOUffSIk3Er15JPRqa/J5A0PldVtqGJNTsjm0n8CNb1oWd/oEc=
Received: by 10.100.211.8 with SMTP id j8mr386495ang.1193350852025;
        Thu, 25 Oct 2007 15:20:52 -0700 (PDT)
Received: from ?192.168.1.103? ( [69.124.234.183])
        by mx.google.com with ESMTPS id g7sm3617400wra.2007.10.25.15.20.49
        (version=SSLv3 cipher=RC4-MD5);
        Thu, 25 Oct 2007 15:20:50 -0700 (PDT)
Message-ID: <47211667.1070308@gmail.com>
Date: Thu, 25 Oct 2007 18:19:19 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Speeding up highlighting by storing a cached TokenStream
References: <652776090710251343y44ac49damc924697aafd1be09@mail.gmail.com> <47210523.901@yahoo.co.uk>
In-Reply-To: <47210523.901@yahoo.co.uk>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Test the difference though. With small docs I experience better speed 
just re-analyzing...if the docs are big enough TokenSources starts to 
show an advantage...gotto be pretty big though. Your millage may vary 
though, so best to check.

markharw00d wrote:
>
>> Anyone care to suggest an approach to making this faster?
>>   
> See TokenSources.java
>
>
> Cheers
> Mark
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30755-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Oct 25 23:56:34 2007
Return-Path: <java-user-return-30755-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94077 invoked from network); 25 Oct 2007 23:56:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 25 Oct 2007 23:56:34 -0000
Received: (qmail 15567 invoked by uid 500); 25 Oct 2007 23:56:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14803 invoked by uid 500); 25 Oct 2007 23:56:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14792 invoked by uid 99); 25 Oct 2007 23:56:15 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 16:56:15 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erickerickson@gmail.com designates 209.85.134.186 as permitted sender)
Received: from [209.85.134.186] (HELO mu-out-0910.google.com) (209.85.134.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 23:56:19 +0000
Received: by mu-out-0910.google.com with SMTP id g7so831428muf
        for <java-user@lucene.apache.org>; Thu, 25 Oct 2007 16:55:57 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=lk33CWVHOzijorEy1uijwv/ZXjJeE0voeosNSGq/ls4=;
        b=PAGCI1by0G3rbjClzg5RECJmBRpfHh4w1o5O9DRzHl8lBFc5MK+sYQdOSnYzByE4nSLQ4uX4fWVBk2qLaLSZDUqYW+a/cGAQzmGUNXw7KbFYByyGmkUAk5EXj9mGbl/2OnN8G9QalWj0C5rCp4JepOKwL82C0knvhUzq5fXVDKI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=BcHSwk/PAw0R4SgYaHmGYOSaeXc4DeEsltP9U8GooiU7pIuVi1BnQchOVsVos3KGivktv5tLJ/5//Wo9pZXSKNA/Dgcj7OOoNckmbMEUBmsUwlKBA5dy/n2Msdx3reOd7fiyLbwvp9i6H07LXQErxqHxFbEzLT2Ysj5smpKfQi8=
Received: by 10.82.107.15 with SMTP id f15mr4787042buc.1193356557726;
        Thu, 25 Oct 2007 16:55:57 -0700 (PDT)
Received: by 10.82.167.3 with HTTP; Thu, 25 Oct 2007 16:55:57 -0700 (PDT)
Message-ID: <359a92830710251655q3e3ccdcbh9d2abfa1acd662ac@mail.gmail.com>
Date: Thu, 25 Oct 2007 19:55:57 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Reloading a searcher
In-Reply-To: <52D5B10B-AE9F-406F-979D-42B60C40A7AB@prosoma.com.br>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_12476_25350187.1193356557726"
References: <52D5B10B-AE9F-406F-979D-42B60C40A7AB@prosoma.com.br>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_12476_25350187.1193356557726
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

What happens if you close the writer before instantiating
a new searcher? I can't say for sure whether it matters,
but it's worth a try..

Erick

On 10/25/07, Guilherme Barile <gui@prosoma.com.br> wrote:
>
> Hello
>         I wrote a simple class to abstract searching on a text file
> (generate by a legacy system).
>
>         class MyFile { private Searcher s; private long timestamp; }
>
>         It creates a timer and checks every ten minutes if
> textfile.lastModified() is diferent from the number it cached on
> timestamp, and recreates the index. There's  a search(query) method
> which parses the query and returns an arraylist of objects.
>         My index lies on RAM, so everytime I rebuild it, i do something
> like
>
>         private void run() {
>                 File f = new File(textfile);
>
>                 if(f.lastModified() == this.timestamp) return;
>
>                 RAMDirectory idx = new RAMDirectory();
>                 IndexWriter writer = new IndexWriter(idx, new
> StandardAnalyzer
> (),true);
>                         // here I parse the text file and add the
> documents to the index
>
>                 // update the searcher and timestamp
>                 this.s = new IndexSearcher(idx);
>                 timestamp = lastModified;
>         }
>
>         Problem is: it seems the searcher is not being updated. All search
> operations occur in this class (using my own search method) accessing
> "this.s" directly
>
>         Is there any better approach for doing this (reloading the
> searcher) ?
>
> Thanks a lot
>
>
> gui
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_12476_25350187.1193356557726--

From java-user-return-30756-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 26 01:31:23 2007
Return-Path: <java-user-return-30756-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30194 invoked from network); 26 Oct 2007 01:31:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Oct 2007 01:31:23 -0000
Received: (qmail 87467 invoked by uid 500); 26 Oct 2007 01:31:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87433 invoked by uid 500); 26 Oct 2007 01:31:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87422 invoked by uid 99); 26 Oct 2007 01:31:04 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 18:31:04 -0700
X-ASF-Spam-Status: No, hits=1.8 required=10.0
	tests=SPF_PASS,SUBJ_ALL_CAPS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [204.127.225.91] (HELO alnrmhc11.comcast.net) (204.127.225.91)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Oct 2007 01:31:07 +0000
Received: from your55e5f9e3d2 (c-67-164-81-9.hsd1.ca.comcast.net[67.164.81.9])
          by comcast.net (alnrmhc11) with SMTP
          id <20071026013046b11002pmnoe>; Fri, 26 Oct 2007 01:30:46 +0000
Message-ID: <005601c8176f$d6004610$0402a8c0@your55e5f9e3d2>
From: "jimmy Zhang" <crackeur@comcast.net>
To: <java-user@lucene.apache.org>
References: <52D5B10B-AE9F-406F-979D-42B60C40A7AB@prosoma.com.br> <359a92830710251655q3e3ccdcbh9d2abfa1acd662ac@mail.gmail.com>
Subject: [ANN]VTD-XML 2.2
Date: Thu, 25 Oct 2007 18:30:47 -0700
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.3138
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3198
X-Virus-Checked: Checked by ClamAV on apache.org

XimpleWare is proud to announce the the release of version 2.2 of VTD-XML, 
the next generation XML parsers/indexer/slicer/editor. This release 
significantly expands VTD-XML's ability to slice, split, edit and 
incrementally update the XML documents. To this end, we introduce the 
concept of namespace-compensated element fragment. This release also adds 
VTD+XML index writing capability to the VTD Navigator class. Other 
enhancements in this release include index size pre-computation, support for 
HTTP get, and some bug fixes.



To download the latest release, please go to 
http://sourceforge.net/project/showfiles.php?group_id=110612.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30757-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 26 04:32:13 2007
Return-Path: <java-user-return-30757-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82792 invoked from network); 26 Oct 2007 04:32:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Oct 2007 04:32:13 -0000
Received: (qmail 29724 invoked by uid 500); 26 Oct 2007 04:31:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29698 invoked by uid 500); 26 Oct 2007 04:31:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29687 invoked by uid 99); 26 Oct 2007 04:31:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 21:31:54 -0700
X-ASF-Spam-Status: No, hits=2.6 required=10.0
	tests=DNS_FROM_OPENWHOIS,SPF_HELO_PASS,SPF_PASS,WHOIS_MYPRIVREG
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lists@nabble.com designates 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Oct 2007 04:31:57 +0000
Received: from isper.nabble.com ([192.168.236.156])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <lists@nabble.com>)
	id 1IlGrA-0005au-Lr
	for java-user@lucene.apache.org; Thu, 25 Oct 2007 21:31:36 -0700
Message-ID: <13420712.post@talk.nabble.com>
Date: Thu, 25 Oct 2007 21:31:36 -0700 (PDT)
From: poojasreejith <pooja@pivotsys.com>
To: java-user@lucene.apache.org
Subject: Re: lucene indexing doubts
In-Reply-To: <75DB4B78-818E-4F23-B1E2-9AD333CEB165@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: pooja@pivotsys.com
References: <13412076.post@talk.nabble.com> <75DB4B78-818E-4F23-B1E2-9AD333CEB165@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org


hi,
 thanks for your response. I think you hanven't got what my question is? I
will explain with an example. I have a folder which contains  the indexed
files. so, suppose if i want to add one more indexed data into it, without
deleting the whole folder and performing  the indexing for all the files
again. I want it to do only that one file and add the index in the index
folder. 

karl wettin-3 wrote:
> 
> 
> 25 okt 2007 kl. 19.35 skrev poojasreejith:
> 
>>
>> Can anyone of you guide me, how to index into an already indexed  
>> folder.
>> Right now, I am deleting the indexed info and running the indexer  
>> again. I
>> dont want to do that. I want a method, how to append into the same  
>> folder
>> when new files are indexed.
> 
> I'm not really sure I understand your question.
> 
> Are you looking for the IndexWriter.deleteDocument method?
> <http://lucene.apache.org/java/2_2_0/api/org/apache/lucene/index/ 
> IndexWriter.html#updateDocument(org.apache.lucene.index.Term,% 
> 20org.apache.lucene.document.Document)>
> 
> Are you looking for a delta, what has been changed in the filesystem  
> since your last update? If you have no way of checking this, what  
> about iterating all files and searching for their filename? Of course  
> you will need to index the file name too.
> 
> I hope this helps.
> 
> 
> -- 
> karl
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 

-- 
View this message in context: http://www.nabble.com/lucene-indexing-doubts-tf4692435.html#a13420712
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30758-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 26 04:34:33 2007
Return-Path: <java-user-return-30758-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83367 invoked from network); 26 Oct 2007 04:34:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Oct 2007 04:34:32 -0000
Received: (qmail 32240 invoked by uid 500); 26 Oct 2007 04:34:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32202 invoked by uid 500); 26 Oct 2007 04:34:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32176 invoked by uid 99); 26 Oct 2007 04:34:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Oct 2007 21:34:14 -0700
X-ASF-Spam-Status: No, hits=2.6 required=10.0
	tests=DNS_FROM_OPENWHOIS,SPF_HELO_PASS,SPF_PASS,WHOIS_MYPRIVREG
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lists@nabble.com designates 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Oct 2007 04:34:15 +0000
Received: from isper.nabble.com ([192.168.236.156])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <lists@nabble.com>)
	id 1IlGtP-0005dw-88
	for java-user@lucene.apache.org; Thu, 25 Oct 2007 21:33:55 -0700
Message-ID: <13420715.post@talk.nabble.com>
Date: Thu, 25 Oct 2007 21:33:55 -0700 (PDT)
From: poojasreejith <pooja@pivotsys.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene searching  class
In-Reply-To: <4720DCE0.7030601@syr.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: pooja@pivotsys.com
References: <13412082.post@talk.nabble.com> <4720DCE0.7030601@syr.edu>
X-Virus-Checked: Checked by ClamAV on apache.org


Hi Steven,

    It really solved my problem. thanks a lot.

pooja


Steven Rowe wrote:
> 
> Hi Pooja,
> 
> poojasreejith wrote:
>>   I am using lucene2.2.0 for my application. I have a searcher.java
>> class.
>> The problem I am facing is, it is not supporting 
>> 
>> Query query = QueryParser.parse(q, "contents",new StandardAnalyzer()); 
>> it
>> shows error; the method parse in the type QueryParser is not applicable
>> for
>> the (String, String ,StandardAnalyzer).
> 
> Your code uses an obsolete static version of QueryParser.parse().  That
> method was deprecated in Lucene Java release 1.9.0, and was then removed
> in release 2.0.0.
> 
> You should instead instantiate a QueryParser instance, supplying the
> field name and analyzer to the constructor, and then call the
> parse(String query) instance method.
> 
> Here is the 2.2.0 javadoc for QueryParser:
> 
> <http://lucene.apache.org/java/2_2_0/api/org/apache/lucene/queryParser/QueryParser.html>
> 
> Steve
> 
> -- 
> Steve Rowe
> Center for Natural Language Processing
> http://www.cnlp.org/tech/lucene.asp
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 

-- 
View this message in context: http://www.nabble.com/Lucene-searching--class-tf4692438.html#a13420715
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30759-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 26 07:37:57 2007
Return-Path: <java-user-return-30759-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46346 invoked from network); 26 Oct 2007 07:37:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Oct 2007 07:37:57 -0000
Received: (qmail 19005 invoked by uid 500); 26 Oct 2007 07:37:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18975 invoked by uid 500); 26 Oct 2007 07:37:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18960 invoked by uid 99); 26 Oct 2007 07:37:20 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Oct 2007 00:37:20 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [213.133.51.241] (HELO mail.hippo.nl) (213.133.51.241)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Oct 2007 07:37:19 +0000
X-MimeOLE: Produced By Microsoft Exchange V6.5.7235.2
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Search performance using BooleanQueries in BooleanQueries
Date: Fri, 26 Oct 2007 09:36:58 +0200
Message-ID: <F8E386B54CE3E6408F3A32ABB9A7908A347CED@hai02.hippointern.lan>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Search performance using BooleanQueries in BooleanQueries
Thread-Index: AcgXov1sHs++FcOTTpSEhvAPLDGmwQ==
From: "Ard Schrijvers" <a.schrijvers@hippo.nl>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

Hello,=20

I am seeing that a query with boolean queries in boolean queries takes
much longer than just a single boolean query when the number of hits if
fairly large. For example=20

+prop1:a +prop2:b +prop3:c +prop4:d +prop5:e=20

is much faster than=20

(+(+(+(+prop1:a +prop2:b) +prop3:c) +prop4:d) +prop5:e)

where the second one is a result from BooleanQuery in BooleanQuery, and
all have Occur.MUST.

Is there a way to detect and rewrite the second inefficient query?
query.rewrite() does not change the query AFAICS.=20

thanks for any help,

Regards Ard

--=20

Hippo
Oosteinde 11
1017WT Amsterdam
The Netherlands
Tel  +31 (0)20 5224466
-------------------------------------------------------------
a.schrijvers@hippo.nl / ard@apache.org / http://www.hippo.nl
--------------------------------------------------------------=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30760-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 26 09:17:23 2007
Return-Path: <java-user-return-30760-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8464 invoked from network); 26 Oct 2007 09:17:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Oct 2007 09:17:20 -0000
Received: (qmail 91540 invoked by uid 500); 26 Oct 2007 09:16:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91196 invoked by uid 500); 26 Oct 2007 09:16:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91184 invoked by uid 99); 26 Oct 2007 09:16:56 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Oct 2007 02:16:56 -0700
X-ASF-Spam-Status: No, hits=2.6 required=10.0
	tests=DNS_FROM_OPENWHOIS,SPF_HELO_PASS,SPF_PASS,WHOIS_MYPRIVREG
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of lists@nabble.com designates 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Oct 2007 09:16:59 +0000
Received: from isper.nabble.com ([192.168.236.156])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <lists@nabble.com>)
	id 1IlLIz-0003zW-SV
	for java-user@lucene.apache.org; Fri, 26 Oct 2007 02:16:37 -0700
Message-ID: <13423503.post@talk.nabble.com>
Date: Fri, 26 Oct 2007 02:16:37 -0700 (PDT)
From: Sebastin <sebasmtech@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Java Heap Space -Out Of Memory Error
In-Reply-To: <12476392.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: sebasmtech@gmail.com
References: <12475468.post@talk.nabble.com> <12476392.post@talk.nabble.com>
X-Virus-Checked: Checked by ClamAV on apache.org


Hi All,
       is it now possible to release the memory after every search in lucene
for 50 GB of records.

testn wrote:
> 
> I think you store dateSc with full precision i.e. with time. You should
> consider to index it just date part or to the resolution you really need.
> It should reduce the memory it use when constructing DateRangeQuery and
> plus it will improve search performance as well.
> 
> 
> 
> Sebastin wrote:
>> 
>> Hi All,
>>        i used to search 3 Lucene Index store of size 6 GB,10 GB,10 GB of
>> records using MultiReader class.
>> 
>> here is the following code snippet:
>> 
>> 
>>      
>>                                          Directory indexDir2 = 
>>                       FSDirectory.getDirectory(indexSourceDir02,false);
>>                                          IndexReader indexSource2 =
>> IndexReader.open(indexDir2);
>>                                        Directory indexDir3 = 
>>                                             
>> FSDirectory.getDirectory(indexSourceDir03,false);
>>                                          IndexReader indexSource3 =
>> IndexReader.open(indexDir3);
>>                                          Directory indexDir4 = 
>>                                             
>> FSDirectory.getDirectory(indexSourceDir04,false);
>>                                          IndexReader indexSource4 =
>> IndexReader.open(indexDir4); 
>>                                         
>>            
>>                                          
>>         IndexReader[] readArray =
>> {indexSource2,indexSource3,indexSource4};
>>         //merged reader
>>         IndexReader mergedReader = new MultiReader(readArray);
>>         IndexSearcher is = new IndexSearcher(mergedReader);
>>         
>>                                 
>>                                  QueryParser parser = 
>>                                      new QueryParser("contents" ,new
>> StandardAnalyzer());
>>                                  
>>                                  
>>                                 String searchQuery= 
>>                                        new
>> StringBuffer().append(inputNo).append(" AND dateSc:["
>> ).append(fromDate).append(" TO ").append(toDate).append("]").append("
>> ").append("AND").append(" ").append(callTyp).toString();
>>                                    
>>                                  
>>                                  
>>                                  Query callDetailquery =
>> parser.parse(searchQuery);
>>                                  
>>                                  hits = is.search(callDetailquery); 
>> 
>> 
>> it takes 300 MB of RAM for every search and it is very very slow is there
>> any other way to control the Memory and to make search faster.i use
>> SINGLETON  to use the IndexSearcher as a one time used object for all the
>> instances.
>> 
> 
> 

-- 
View this message in context: http://www.nabble.com/Java-Heap-Space--Out-Of-Memory-Error-tf4376803.html#a13423503
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30761-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 26 10:43:32 2007
Return-Path: <java-user-return-30761-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65118 invoked from network); 26 Oct 2007 10:43:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Oct 2007 10:43:32 -0000
Received: (qmail 52726 invoked by uid 500); 26 Oct 2007 10:43:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52691 invoked by uid 500); 26 Oct 2007 10:43:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52680 invoked by uid 99); 26 Oct 2007 10:43:10 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Oct 2007 03:43:10 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 80.76.149.212 is neither permitted nor denied by domain of karl.wettin@gmail.com)
Received: from [80.76.149.212] (HELO ch-smtp01.sth.basefarm.net) (80.76.149.212)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Oct 2007 10:43:13 +0000
Received: from c83-249-118-113.bredband.comhem.se ([83.249.118.113]:54172 helo=[192.168.1.101])
	by ch-smtp01.sth.basefarm.net with esmtp (Exim 4.68)
	(envelope-from <karl.wettin@gmail.com>)
	id 1IlMeR-0002cm-4L
	for java-user@lucene.apache.org; Fri, 26 Oct 2007 12:42:51 +0200
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <13420712.post@talk.nabble.com>
References: <13412076.post@talk.nabble.com> <75DB4B78-818E-4F23-B1E2-9AD333CEB165@gmail.com> <13420712.post@talk.nabble.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <C954C7DD-2663-4821-92D2-1BF479F81BF6@gmail.com>
Content-Transfer-Encoding: 7bit
From: Karl Wettin <karl.wettin@gmail.com>
Subject: Re: lucene indexing doubts
Date: Fri, 26 Oct 2007 12:42:47 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Originating-IP: 83.249.118.113
X-Scan-Result: No virus found in message 1IlMeR-0002cm-4L.
X-Scan-Signature: ch-smtp01.sth.basefarm.net 1IlMeR-0002cm-4L 8d5d2bd085a03f06c3e752a7027ddba8
X-Virus-Checked: Checked by ClamAV on apache.org


26 okt 2007 kl. 06.31 skrev poojasreejith:

> I have a folder which contains  the indexed files. so, suppose if i  
> want to add one more indexed data into it, without deleting the  
> whole folder and performing  the indexing for all the files again.  
> I want it to do only that one file and add the index in the index  
> folder.

I'm sorry, I still have a hard time understanding what you are asking.

Is this the Lucene folder you are speaking of? Do you want to merge  
it with another index? Then take a look at the addIndexes methods in  
IndexWriter.

Or does this folder of yours simply contain files you have created an  
index of? You want to drop files in this folder and then figure out  
what files has been added since the last time you updated the index?  
Can you use the file timestamps? Index the filenames and search for  
them?


-- 
karl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30762-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 26 12:13:58 2007
Return-Path: <java-user-return-30762-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91713 invoked from network); 26 Oct 2007 12:13:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Oct 2007 12:13:58 -0000
Received: (qmail 73694 invoked by uid 500); 26 Oct 2007 12:13:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73668 invoked by uid 500); 26 Oct 2007 12:13:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73412 invoked by uid 99); 26 Oct 2007 12:13:37 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Oct 2007 05:13:37 -0700
X-ASF-Spam-Status: No, hits=-0.8 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_MED,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [64.18.15.189] (HELO chip8og58.obsmtp.com) (64.18.15.189)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Oct 2007 12:13:40 +0000
Received: from source ([38.98.87.71]) (using TLSv1) by chip8ob58.postini.com ([64.18.7.12]) with SMTP;
	Fri, 26 Oct 2007 05:13:19 PDT
Received: from ENTEX01.nfp.com ([10.1.12.29]) by ny01bizmail.nfp.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Fri, 26 Oct 2007 08:13:18 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C817C9.966CFD7D"
Subject: Scaling out Lucene /general architecture Q
Date: Fri, 26 Oct 2007 08:13:14 -0400
Message-ID: <EF357EE7A03FB248A4007F6670EE3AC32E605A@ENTEX01.nfp.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Scaling out Lucene /general architecture Q
Thread-Index: AcgXyZZsSkmpVBOXQAaJa8OPk1NZ6w==
From: "Mankowski, Chris" <cmankowski@nfp.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 26 Oct 2007 12:13:18.0898 (UTC) FILETIME=[982C8920:01C817C9]
X-Virus-Checked: Checked by ClamAV on apache.org

------_=_NextPart_001_01C817C9.966CFD7D
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64

DQpJJ20gbmV3IHRvIGx1Y2VuZSBhbmQgYW0gaW50ZXJlc3RlZCBpbiBsZWFybmluZyBob3cg
ZW50ZXJwcmlzZXMgZGVwbG95IG11bHRpLXNlcnZlciBpbnN0YWxsYXRpb25zIG9mIGx1Y2Vu
ZSBmb3IgbGFyZ2UgIDI0eDcgb3BlcmF0aW9ucy4gIA0KDQpUaGUgZmlyc3QgcXVlc3Rpb24g
dGhhdCBjb21lcyB0byBtaW5kIGlzOiBhcmUgbW9zdCBvZiB0aGUgZGVzaWduIGRlY2lzaW9u
cyBtYWRlIGF0IGR1cmluZyBkZXZlbG9wbWVudCB0aW1lLCBvciBjYW4gYSBzaW1wbGUgc2Vy
dmVyIGJlICdncm93biBpbnRvJyBzb21ldGhpbmcgdGhhdCBjYW4gaGFuZGxlIG11bHRpcGxl
IHNlYXJjaCBhbmQgaW5kZXggcmVxdWVzdHM/DQoNCkFsc28sIEkgd291bGQgYXBwcmVjaWF0
ZSBhbnkgcmVmZXJlbmNlIHRvIGEgZ2V0dGluZyBzdGFydGVkIGd1aWRlcyB5b3Uga25vdyBv
Zi4NCg0KVGhhbmtzIQ0KQ2hyaXMgDQoNCiANCg0KDQpOb3RpY2U6ICBUaGlzIGUtbWFpbCBt
ZXNzYWdlIGFuZCBhbnkgYXR0YWNobWVudCB0byB0aGlzIGUtbWFpbCANCm1lc3NhZ2UgbWF5
IGNvbnRhaW4gaW5mb3JtYXRpb24gdGhhdCBpcyBjb25maWRlbnRpYWwsIHByb3ByaWV0YXJ5
LCANCnByaXZpbGVnZWQsIGxlZ2FsbHkgcHJpdmlsZWdlZCBhbmQvb3IgZXhlbXB0IGZyb20g
ZGlzY2xvc3VyZSB1bmRlciANCmFwcGxpY2FibGUgbGF3LiAgSWYgeW91IGFyZSBub3QgdGhl
IGludGVuZGVkIHJlY2lwaWVudCwgcGxlYXNlIGFjY2VwdCANCnRoaXMgYXMgbm90aWNlIHRo
YXQgYW55IGRpc2Nsb3N1cmUsIGNvcHlpbmcsIGRpc3RyaWJ1dGlvbiBvciB1c2Ugb2YgdGhl
DQppbmZvcm1hdGlvbiBjb250YWluZWQgaW4gdGhpcyB0cmFuc21pc3Npb24gaXMgc3RyaWN0
bHkgcHJvaGliaXRlZC4gIA0KTmF0aW9uYWwgRmluYW5jaWFsIFBhcnRuZXJzIENvcnAuIHJl
c2VydmVzIHRoZSByaWdodCwgdG8gdGhlIGV4dGVudCANCmFuZCB1bmRlciBjaXJjdW1zdGFu
Y2VzIHBlcm1pdHRlZCBieSBhcHBsaWNhYmxlIGxhdywgdG8gcmV0YWluLCANCm1vbml0b3Ig
YW5kIGludGVyY2VwdCBlLW1haWwgbWVzc2FnZXMgdG8gYW5kIGZyb20gaXRzIHN5c3RlbXMu
DQoNCkFueSB2aWV3cyBvciBvcGluaW9ucyBleHByZXNzZWQgaW4gdGhpcyBlLW1haWwgYXJl
IHRob3NlIG9mIHRoZSANCnNlbmRlciBhbmQgZG8gbm90IG5lY2Vzc2FyaWx5IGV4cHJlc3Mg
dGhvc2Ugb2YgTmF0aW9uYWwgRmluYW5jaWFsIA0KUGFydG5lcnMgQ29ycC4gIEFsdGhvdWdo
IHRoaXMgdHJhbnNtaXNzaW9uIGFuZCBhbnkgYXR0YWNobWVudCBhcmUgDQpiZWxpZXZlZCB0
byBiZSBmcmVlIG9mIGFueSB2aXJ1cyBvciBvdGhlciBkZWZlY3QgdGhhdCBtaWdodCBhZmZl
Y3QgYW55IA0KY29tcHV0ZXIgc3lzdGVtIGludG8gd2hpY2ggaXQgaXMgcmVjZWl2ZWQgYW5k
IG9wZW5lZCwgaXQgaXMgdGhlIA0KcmVzcG9uc2liaWxpdHkgb2YgdGhlIHJlY2lwaWVudCB0
byBlbnN1cmUgdGhhdCBpdCBpcyB2aXJ1cyBmcmVlIGFuZCBubyANCnJlc3BvbnNpYmlsaXR5
IGlzIGFjY2VwdGVkIGJ5IE5GUCwgaXRzIHN1YnNpZGlhcmllcyBhbmQgYWZmaWxpYXRlcywg
YXMNCmFwcGxpY2FibGUsIGZvciBhbnkgbG9zcyBvciBkYW1hZ2UgYXJpc2luZyBpbiBhbnkg
d2F5IGZyb20gaXRzIHVzZS4gDQpJZiB5b3UgaGF2ZSByZWNlaXZlZCB0aGlzIGUtbWFpbCBp
biBlcnJvciwgcGxlYXNlIGltbWVkaWF0ZWx5IGNvbnRhY3QgDQp0aGUgc2VuZGVyIGJ5IHJl
dHVybiBlLW1haWwgb3IgYnkgdGVsZXBob25lIGF0IDIxMi0zMDEtNDAwMCBhbmQgDQpkZXN0
cm95IHRoZSBtYXRlcmlhbCBpbiBpdHMgZW50aXJldHksIHdoZXRoZXIgZWxlY3Ryb25pYyBv
ciBoYXJkIGNvcHkgDQpmb3JtYXQuDQoNCg0K
------_=_NextPart_001_01C817C9.966CFD7D--

From java-user-return-30763-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 26 12:52:36 2007
Return-Path: <java-user-return-30763-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12989 invoked from network); 26 Oct 2007 12:52:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Oct 2007 12:52:36 -0000
Received: (qmail 63168 invoked by uid 500); 26 Oct 2007 12:52:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63120 invoked by uid 500); 26 Oct 2007 12:52:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63109 invoked by uid 99); 26 Oct 2007 12:52:16 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Oct 2007 05:52:16 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=SPF_PASS,WHOIS_MYPRIVREG
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.214] (HELO web26003.mail.ukl.yahoo.com) (217.12.10.214)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 26 Oct 2007 12:52:17 +0000
Received: (qmail 96723 invoked by uid 60001); 26 Oct 2007 12:51:55 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=MKhps4qVeaWhgutbRoNR1IIMVUGCYJXwroakRAaCO/cfI15hUHwipc9Abvg+I/1YCAkLXqKUgMNBpg6j1CCRhfne7MvURu9NX/f17c6pesmtTFmpqmieCSG9++fqJEnpExRY5t8JR+DkaFZtgeY4JafKoWSH8/PPOetpleYB8W4=;
X-YMail-OSG: 101da1EVM1mc2nPiAr7jW.rSpz8mfYH7YS940Meg4g8M9MdOSjtXkqgCWeqHf2vGNlkR2SlESiUKA4rfzFjP0AMeWx3jB0ckM21zK.wxUjc6S7VjF8eCF8MHGcg-
Received: from [62.189.26.100] by web26003.mail.ukl.yahoo.com via HTTP; Fri, 26 Oct 2007 12:51:55 GMT
X-Mailer: YahooMailRC/814.06 YahooMailWebService/0.7.152
Date: Fri, 26 Oct 2007 12:51:55 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: lucene indexing doubts
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
Message-ID: <458475.96709.qm@web26003.mail.ukl.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Guessing your problem here too but see http://www.htxs.nl/docs/lucene/docs/=
api/org/apache/lucene/demo/IndexHTML.html=0A=0AIt shows an approach to incr=
emental indexing which updates an index with only the changed files in a fo=
lder.=0A=0A----- Original Message ----=0AFrom: poojasreejith <pooja@pivotsy=
s.com>=0ATo: java-user@lucene.apache.org=0ASent: Friday, 26 October, 2007 5=
:31:36 AM=0ASubject: Re: lucene indexing doubts=0A=0A=0Ahi,=0A thanks for y=
our response. I think you hanven't got what my question=0A is? I=0Awill exp=
lain with an example. I have a folder which contains  the=0A indexed=0Afile=
s. so, suppose if i want to add one more indexed data into it,=0A without=
=0Adeleting the whole folder and performing  the indexing for all the=0A fi=
les=0Aagain. I want it to do only that one file and add the index in the=0A=
 index=0Afolder. =0A=0Akarl wettin-3 wrote:=0A> =0A> =0A> 25 okt 2007 kl. 1=
9.35 skrev poojasreejith:=0A> =0A>>=0A>> Can anyone of you guide me, how to=
 index into an already indexed  =0A>> folder.=0A>> Right now, I am deleting=
 the indexed info and running the indexer  =0A>> again. I=0A>> dont want to=
 do that. I want a method, how to append into the same  =0A>> folder=0A>> w=
hen new files are indexed.=0A> =0A> I'm not really sure I understand your q=
uestion.=0A> =0A> Are you looking for the IndexWriter.deleteDocument method=
?=0A> <http://lucene.apache.org/java/2_2_0/api/org/apache/lucene/index/ =0A=
> IndexWriter.html#updateDocument(org.apache.lucene.index.Term,% =0A> 20org=
.apache.lucene.document.Document)>=0A> =0A> Are you looking for a delta, wh=
at has been changed in the filesystem=0A  =0A> since your last update? If y=
ou have no way of checking this, what  =0A> about iterating all files and s=
earching for their filename? Of course=0A  =0A> you will need to index the =
file name too.=0A> =0A> I hope this helps.=0A> =0A> =0A> -- =0A> karl=0A> =
=0A> ---------------------------------------------------------------------=
=0A> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org=0A> Fo=
r additional commands, e-mail: java-user-help@lucene.apache.org=0A> =0A> =
=0A> =0A=0A-- =0AView this message in context:=0A http://www.nabble.com/luc=
ene-indexing-doubts-tf4692435.html#a13420712=0ASent from the Lucene - Java =
Users mailing list archive at Nabble.com.=0A=0A=0A-------------------------=
--------------------------------------------=0ATo unsubscribe, e-mail: java=
-user-unsubscribe@lucene.apache.org=0AFor additional commands, e-mail: java=
-user-help@lucene.apache.org=0A=0A=0A=0A=0A=0A=0A      ____________________=
_______________________________________ =0AWant ideas for reducing your car=
bon footprint? Visit Yahoo! For Good  http://uk.promotions.yahoo.com/forgoo=
d/environment.html

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30764-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 26 17:07:00 2007
Return-Path: <java-user-return-30764-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4173 invoked from network); 26 Oct 2007 17:06:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Oct 2007 17:06:59 -0000
Received: (qmail 71950 invoked by uid 500); 26 Oct 2007 17:06:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71917 invoked by uid 500); 26 Oct 2007 17:06:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71906 invoked by uid 99); 26 Oct 2007 17:06:39 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Oct 2007 10:06:39 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of vrablik@gmail.com designates 209.85.146.179 as permitted sender)
Received: from [209.85.146.179] (HELO wa-out-1112.google.com) (209.85.146.179)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Oct 2007 17:06:43 +0000
Received: by wa-out-1112.google.com with SMTP id j40so1205397wah
        for <java-user@lucene.apache.org>; Fri, 26 Oct 2007 10:06:21 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:sender:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition:x-google-sender-auth;
        bh=CrjRUDj4gQO5BwZDwpjcg6w3/t3WIc3t5jNiXTOtmUA=;
        b=AS7XTXgh8aUNtTWws2cSO35yk134G53gXaq2VYNpBIrctYkK3DymwKIXPQJlx0CwjeAHOrVsxEB1EPEEwIZ4yfNaqsQC+l1wGXx/06Fqdxbnpmk4x1wzZTBPHjXFVQ7dE1q5n+ZraLWl0UFgjhPQgqjAPHYPGjX5sTYEHBAd1rc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:sender:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition:x-google-sender-auth;
        b=D0q5KhwYngtWQ+Gu8IzXHGzdQ+vCgBIZfbYGVpSNwYq5+UXF6A4n5Ql5clJg0BstNIdAvWfvX7jIINj2QL/pl7yygXEdD21cvngtuPCewZb1PGw3VwdropNjMlz8SBlhConYxIFVFRQVYIDXY3FXQZ8ViJhweVzVqciUnaPRX1I=
Received: by 10.114.106.1 with SMTP id e1mr3662927wac.1193418381618;
        Fri, 26 Oct 2007 10:06:21 -0700 (PDT)
Received: by 10.114.60.7 with HTTP; Fri, 26 Oct 2007 10:06:16 -0700 (PDT)
Message-ID: <e03c8a420710261006t3e0f7e5fk3d8acf53e9283100@mail.gmail.com>
Date: Fri, 26 Oct 2007 18:06:16 +0100
From: "=?ISO-8859-2?Q?Zden=ECk_Vr=E1bl=EDk?=" <zdenek@vrablik.org>
Sender: vrablik@gmail.com
To: java-user@lucene.apache.org
Subject: fuzzy search MultifieldQueryParser - Lucene 2.2
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Google-Sender-Auth: 41be1969cbbb127b
X-Virus-Checked: Checked by ClamAV on apache.org

Hi all,

How could I set fuzzy search in MultifieldQueryParser?

It works if query string ends with ~, but how to switch it on for all query?

I would like to search without fuzzy and if nothing is found I would
like to search with fuzzy search.

Thanks.

Regards,
Zdenek

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30765-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 26 20:41:57 2007
Return-Path: <java-user-return-30765-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65891 invoked from network); 26 Oct 2007 20:41:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Oct 2007 20:41:57 -0000
Received: (qmail 33117 invoked by uid 500); 26 Oct 2007 20:41:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32760 invoked by uid 500); 26 Oct 2007 20:41:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32749 invoked by uid 99); 26 Oct 2007 20:41:36 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Oct 2007 13:41:36 -0700
X-ASF-Spam-Status: No, hits=2.6 required=10.0
	tests=DNS_FROM_OPENWHOIS,SPF_HELO_PASS,SPF_PASS,WHOIS_MYPRIVREG
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lists@nabble.com designates 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Oct 2007 20:41:39 +0000
Received: from isper.nabble.com ([192.168.236.156])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <lists@nabble.com>)
	id 1IlVzb-0008M4-2p
	for java-user@lucene.apache.org; Fri, 26 Oct 2007 13:41:19 -0700
Message-ID: <13434995.post@talk.nabble.com>
Date: Fri, 26 Oct 2007 13:41:19 -0700 (PDT)
From: John Patterson <jdp2000@gmail.com>
To: java-user@lucene.apache.org
Subject: Exit a search when have enough results
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: jdp2000@gmail.com
X-Virus-Checked: Checked by ClamAV on apache.org


Hi,

I am doing a simple conjunction search for documents that do not need to be
scored or sorted and was wondering if there is a way to stop the search from
a hit collector when I have enough hits?  I guess I am after a hot collector
that can return a boolean determining if the search should continue.

Also, I am implementing a "multi-facetted" search (to use a solr term and
seem to need to call Searcher.doc(int) for every result.  The Javadoc says
that is bad but how else can I analyse the results?

Thanks,

John
-- 
View this message in context: http://www.nabble.com/Exit-a-search-when-have-enough-results-tf4699633.html#a13434995
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30766-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 26 20:51:45 2007
Return-Path: <java-user-return-30766-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68632 invoked from network); 26 Oct 2007 20:51:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Oct 2007 20:51:45 -0000
Received: (qmail 50231 invoked by uid 500); 26 Oct 2007 20:51:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50197 invoked by uid 500); 26 Oct 2007 20:51:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50186 invoked by uid 99); 26 Oct 2007 20:51:26 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Oct 2007 13:51:26 -0700
X-ASF-Spam-Status: No, hits=2.6 required=10.0
	tests=DNS_FROM_OPENWHOIS,SPF_HELO_PASS,SPF_PASS,WHOIS_MYPRIVREG
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of lists@nabble.com designates 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Oct 2007 20:51:31 +0000
Received: from isper.nabble.com ([192.168.236.156])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <lists@nabble.com>)
	id 1IlW96-00008L-14
	for java-user@lucene.apache.org; Fri, 26 Oct 2007 13:51:08 -0700
Message-ID: <13435244.post@talk.nabble.com>
Date: Fri, 26 Oct 2007 13:51:08 -0700 (PDT)
From: John Patterson <jdp2000@gmail.com>
To: java-user@lucene.apache.org
Subject: Cache BitSet or doc number?
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: jdp2000@gmail.com
X-Virus-Checked: Checked by ClamAV on apache.org


Hi,

I am thinking about caching search results for common queries and just want
to check that for small numbers of results it would be better to store the
doc number as ints or shorts than to store a Filter with a BitSet.  I guess
if you results contain less than 1/32 or 1/16 of the number of documents
then it would take less memory.

Is there anything else to consider?

Thanks,

John
-- 
View this message in context: http://www.nabble.com/Cache-BitSet-or-doc-number--tf4699716.html#a13435244
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30767-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 26 21:04:04 2007
Return-Path: <java-user-return-30767-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71530 invoked from network); 26 Oct 2007 21:04:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Oct 2007 21:04:04 -0000
Received: (qmail 63894 invoked by uid 500); 26 Oct 2007 21:03:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63859 invoked by uid 500); 26 Oct 2007 21:03:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63848 invoked by uid 99); 26 Oct 2007 21:03:43 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Oct 2007 14:03:43 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of yseeley@gmail.com designates 64.233.162.237 as permitted sender)
Received: from [64.233.162.237] (HELO nz-out-0506.google.com) (64.233.162.237)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Oct 2007 21:03:47 +0000
Received: by nz-out-0506.google.com with SMTP id i28so823791nzi
        for <java-user@lucene.apache.org>; Fri, 26 Oct 2007 14:03:25 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        bh=/1VTgQZ7ccnFzVcT04dn1YDvHr6wHyCD/Csdn7+JfSo=;
        b=Key2jLlliNJCdA8yDAMTuZsunkto8djWew5utB9iBReCbtFdfdwmlO6Ny/yZZgtRWX3LJmToZ1HapPcF61tEIkd3QydfeGPx6oNVbIm5Cf5tEKhH7cUmPcQ7Eesc6f3qNf4+RSrZOARSofRmT21y69mU5w7N/4toV10jbDoA/HQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        b=YmaLdUQIRjBG/BIxWLAf9aBpO+XsV5DM5z4zfO4JA7Iu3KFOkvTWVZXG9GnhIaCVaGgBnhXLBsn+wlRevNQqSxee510QnzqhjeM2qb2jqA/1923cjn8P+E2wDtS8ftMxl6+bWMutBTL3matKj+FI0YplEO3gwSjT1PcuWxDkNMs=
Received: by 10.142.229.4 with SMTP id b4mr1010254wfh.1193432602736;
        Fri, 26 Oct 2007 14:03:22 -0700 (PDT)
Received: by 10.143.165.13 with HTTP; Fri, 26 Oct 2007 14:03:22 -0700 (PDT)
Message-ID: <c68e39170710261403s5aad1d3fob515523280a56d27@mail.gmail.com>
Date: Fri, 26 Oct 2007 17:03:22 -0400
From: "Yonik Seeley" <yonik@apache.org>
Sender: yseeley@gmail.com
To: java-user@lucene.apache.org
Subject: Re: Exit a search when have enough results
In-Reply-To: <13434995.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <13434995.post@talk.nabble.com>
X-Google-Sender-Auth: b10cf582893615b3
X-Virus-Checked: Checked by ClamAV on apache.org

On 10/26/07, John Patterson <jdp2000@gmail.com> wrote:
> I am doing a simple conjunction search for documents that do not need to be
> scored or sorted and was wondering if there is a way to stop the search from
> a hit collector when I have enough hits?

The easiest way would be to throw an exception from a custom hit
collector (and then catch it yourself and continue).

-Yonik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30768-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 26 21:11:13 2007
Return-Path: <java-user-return-30768-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73662 invoked from network); 26 Oct 2007 21:11:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Oct 2007 21:11:13 -0000
Received: (qmail 70857 invoked by uid 500); 26 Oct 2007 21:10:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70754 invoked by uid 500); 26 Oct 2007 21:10:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70743 invoked by uid 99); 26 Oct 2007 21:10:53 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Oct 2007 14:10:53 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of thomnelson@gmail.com designates 209.85.198.188 as permitted sender)
Received: from [209.85.198.188] (HELO rv-out-0910.google.com) (209.85.198.188)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Oct 2007 21:10:56 +0000
Received: by rv-out-0910.google.com with SMTP id k20so787070rvb
        for <java-user@lucene.apache.org>; Fri, 26 Oct 2007 14:10:31 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        bh=CZyxJKqPRy6bv0KpcBBFhq73usdnTav/06nflgNfa7w=;
        b=SVvaEUPVTDq/m5ExtibfUiVntOaXflU7WaUqwkI7ts14dmHujCboII2BK/1/aObT2ZQs40/xC1CINvkVnm+AHdv+xsT/xHz7A0MJk1mxoHV8NhQ8b6If55fNYrPuVUqiOSd4AIRiG49cAF2RSImHaplWWmRZkCY7oSZQhnP4Lgs=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=GxkQKOwIqmNdrlEWEINLZqryOg1/R9D1/zB72tYk5j7OM1KxcnKmgBiVQe2VQ0HKLyboaThXtt7jYjB2BYEhxBqBgNizxhkKWYsdTRts2a4XglXxRkTiN6q+/8Z5mwtDVqACWZAsH3EV8HRcJi/zTPhhdOiHJEoUrQ/ySnz6ueA=
Received: by 10.115.95.1 with SMTP id x1mr3903990wal.1193433031669;
        Fri, 26 Oct 2007 14:10:31 -0700 (PDT)
Received: from 37.95.224.10.in-addr.arpa ( [208.54.15.61])
        by mx.google.com with ESMTPS id n32sm7288715wag.2007.10.26.14.10.29
        (version=TLSv1/SSLv3 cipher=RC4-MD5);
        Fri, 26 Oct 2007 14:10:30 -0700 (PDT)
Message-ID: <472257BE.40004@gmail.com>
Date: Fri, 26 Oct 2007 14:10:22 -0700
From: Thom Nelson <thomnelson@gmail.com>
User-Agent: Thunderbird 2.0.0.6 (Macintosh/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Cache BitSet or doc number?
References: <13435244.post@talk.nabble.com>
In-Reply-To: <13435244.post@talk.nabble.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Check out the HashDocSet from Solr, this is the best way to cache small 
sets of search results.  In general, the Solr BitSet/DocSet classes are 
more efficient than using the standard java.util.BitSet.  You can use 
these independent of the rest of Solr (though I recommend checking out 
Solr if you want to do complex caching).

- Thom

John Patterson wrote:
> Hi,
>
> I am thinking about caching search results for common queries and just want
> to check that for small numbers of results it would be better to store the
> doc number as ints or shorts than to store a Filter with a BitSet.  I guess
> if you results contain less than 1/32 or 1/16 of the number of documents
> then it would take less memory.
>
> Is there anything else to consider?
>
> Thanks,
>
> John
>   


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30769-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 26 21:21:03 2007
Return-Path: <java-user-return-30769-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76686 invoked from network); 26 Oct 2007 21:21:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Oct 2007 21:21:03 -0000
Received: (qmail 81049 invoked by uid 500); 26 Oct 2007 21:20:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81012 invoked by uid 500); 26 Oct 2007 21:20:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80990 invoked by uid 99); 26 Oct 2007 21:20:42 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Oct 2007 14:20:42 -0700
X-ASF-Spam-Status: No, hits=2.6 required=10.0
	tests=DNS_FROM_OPENWHOIS,SPF_HELO_PASS,SPF_PASS,WHOIS_MYPRIVREG
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lists@nabble.com designates 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Oct 2007 21:20:45 +0000
Received: from isper.nabble.com ([192.168.236.156])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <lists@nabble.com>)
	id 1IlWbR-00012l-CP
	for java-user@lucene.apache.org; Fri, 26 Oct 2007 14:20:25 -0700
Message-ID: <13435613.post@talk.nabble.com>
Date: Fri, 26 Oct 2007 14:20:25 -0700 (PDT)
From: John Patterson <jdp2000@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Exit a search when have enough results
In-Reply-To: <c68e39170710261403s5aad1d3fob515523280a56d27@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: jdp2000@gmail.com
References: <13434995.post@talk.nabble.com> <c68e39170710261403s5aad1d3fob515523280a56d27@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org




Yonik Seeley wrote:
> 
> The easiest way would be to throw an exception from a custom hit
> collector (and then catch it yourself and continue).
> 

Cheers, I wonder if the performance penalty from throwing an exception is
worth it?
-- 
View this message in context: http://www.nabble.com/Exit-a-search-when-have-enough-results-tf4699633.html#a13435613
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30770-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 26 21:36:20 2007
Return-Path: <java-user-return-30770-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82863 invoked from network); 26 Oct 2007 21:36:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Oct 2007 21:36:20 -0000
Received: (qmail 96543 invoked by uid 500); 26 Oct 2007 21:35:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96506 invoked by uid 500); 26 Oct 2007 21:35:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96494 invoked by uid 99); 26 Oct 2007 21:35:59 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Oct 2007 14:35:59 -0700
X-ASF-Spam-Status: No, hits=2.6 required=10.0
	tests=DNS_FROM_OPENWHOIS,SPF_HELO_PASS,SPF_PASS,WHOIS_MYPRIVREG
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lists@nabble.com designates 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Oct 2007 21:36:02 +0000
Received: from isper.nabble.com ([192.168.236.156])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <lists@nabble.com>)
	id 1IlWqD-0001Mi-P3
	for java-user@lucene.apache.org; Fri, 26 Oct 2007 14:35:41 -0700
Message-ID: <13435843.post@talk.nabble.com>
Date: Fri, 26 Oct 2007 14:35:41 -0700 (PDT)
From: John Patterson <jdp2000@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Cache BitSet or doc number?
In-Reply-To: <472257BE.40004@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: jdp2000@gmail.com
References: <13435244.post@talk.nabble.com> <472257BE.40004@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org




Thom Nelson wrote:
> 
> Check out the HashDocSet from Solr, this is the best way to cache small 
> sets of search results.  In general, the Solr BitSet/DocSet classes are 
> more efficient than using the standard java.util.BitSet.  You can use 
> these independent of the rest of Solr (though I recommend checking out 
> Solr if you want to do complex caching).
> 

I imagine the fastest way to combine cached results is to store them in an
array ordered by doc number so that the ConjunctionQuery can use them
directly.  The Javadoc for HashDocSet says that they are stored out of order
which would make this impossible.
-- 
View this message in context: http://www.nabble.com/Cache-BitSet-or-doc-number--tf4699716.html#a13435843
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30771-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Oct 26 23:25:05 2007
Return-Path: <java-user-return-30771-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20822 invoked from network); 26 Oct 2007 23:25:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Oct 2007 23:25:05 -0000
Received: (qmail 30778 invoked by uid 500); 26 Oct 2007 23:24:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30741 invoked by uid 500); 26 Oct 2007 23:24:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30727 invoked by uid 99); 26 Oct 2007 23:24:45 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Oct 2007 16:24:45 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of lucenelist2007@danielnaber.de designates 80.67.18.15 as permitted sender)
Received: from [80.67.18.15] (HELO smtprelay03.ispgateway.de) (80.67.18.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Oct 2007 23:24:50 +0000
Received: (qmail 11596 invoked from network); 26 Oct 2007 23:24:26 -0000
Received: from unknown (HELO p54bfcdec.dip.t-dialin.net) (695637@[84.191.205.236])
          (envelope-sender <lucenelist2007@danielnaber.de>)
          by smtprelay03.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 26 Oct 2007 23:24:26 -0000
From: Daniel Naber <lucenelist2007@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: fuzzy search MultifieldQueryParser - Lucene 2.2
Date: Sat, 27 Oct 2007 01:20:47 +0200
User-Agent: KMail/1.8.2
References: <e03c8a420710261006t3e0f7e5fk3d8acf53e9283100@mail.gmail.com>
In-Reply-To: <e03c8a420710261006t3e0f7e5fk3d8acf53e9283100@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200710270120.47704@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org

On Friday 26 October 2007 19:06, Zden=C4=9Bk Vr=C3=A1bl=C3=ADk wrote:

> It works if query string ends with ~, but how to switch it on for all
> query?

That's not supported AFAIK. You will need to iterate over the query=20
(recursively if it's an instance of BooleanQuery) and create a new query=20
where all parts are of type FuzzyQuery.

> I would like to search without fuzzy and if nothing is found I would
> like to search with fuzzy search.

I suggest you only do this if the user clicks on a kind of "make query=20
fuzzy" link, or at least display clearly that the query is fuzzy now.=20
Everything else could cause confusion. You might also want to consider=20
using the spell checker.

Regards
 Daniel

=2D-=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30772-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 27 00:08:26 2007
Return-Path: <java-user-return-30772-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33580 invoked from network); 27 Oct 2007 00:08:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Oct 2007 00:08:26 -0000
Received: (qmail 58257 invoked by uid 500); 27 Oct 2007 00:08:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58230 invoked by uid 500); 27 Oct 2007 00:08:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58219 invoked by uid 99); 27 Oct 2007 00:08:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Oct 2007 17:08:05 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of yseeley@gmail.com designates 64.233.162.233 as permitted sender)
Received: from [64.233.162.233] (HELO nz-out-0506.google.com) (64.233.162.233)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 27 Oct 2007 00:08:09 +0000
Received: by nz-out-0506.google.com with SMTP id i28so851331nzi
        for <java-user@lucene.apache.org>; Fri, 26 Oct 2007 17:07:48 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        bh=bcXHJt55UwEZAlYrJD+73dule6cyme4LgRVbqbnkFps=;
        b=QHcFG6oCcfV1cz7vI9YoHAn0yQqGzQUt4y+mefF9IfrMmJKcs2/GvviTJ2HlKqxt6lvTrVmL+ADlYHX3ZRO1ivb6I+LBCLc0y3chM+gT2MZOpehABs1wT2B3ru8f6Tpg3mnBTP9iySkkbZGFfUl0lUnoFXiK3aYJ/cWBY4bhDKA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        b=Kfo3tBz12jS9ex9QmRXfGc31duEgGx+qUymf4QxfxVKWNajlLYVwXh6ZEqPAITepTXYqB2Ft9LpZ6MQPXYV9AYwzySUHqNJHNWKe/9rQqaniE0Q84MLQAwkRE18XevqG1edWKP8ngyudv7GeIYvVNaRhEm4Scjeb8SAqwDSz4lc=
Received: by 10.142.86.7 with SMTP id j7mr1024290wfb.1193443667458;
        Fri, 26 Oct 2007 17:07:47 -0700 (PDT)
Received: by 10.143.165.13 with HTTP; Fri, 26 Oct 2007 17:07:47 -0700 (PDT)
Message-ID: <c68e39170710261707m4a8a240akb27d9e7b989b0aae@mail.gmail.com>
Date: Fri, 26 Oct 2007 20:07:47 -0400
From: "Yonik Seeley" <yonik@apache.org>
Sender: yseeley@gmail.com
To: java-user@lucene.apache.org
Subject: Re: Exit a search when have enough results
In-Reply-To: <13435613.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <13434995.post@talk.nabble.com>
	 <c68e39170710261403s5aad1d3fob515523280a56d27@mail.gmail.com>
	 <13435613.post@talk.nabble.com>
X-Google-Sender-Auth: f2bc6e1b20b6fe87
X-Virus-Checked: Checked by ClamAV on apache.org

On 10/26/07, John Patterson <jdp2000@gmail.com> wrote:
> Yonik Seeley wrote:
> >
> > The easiest way would be to throw an exception from a custom hit
> > collector (and then catch it yourself and continue).
> >
>
> Cheers, I wonder if the performance penalty from throwing an exception is
> worth it?

If you have a handful of hits left no, but if thousands or more then
yes.  No way to tell ahead of time w/o testing with your specific
corpus and typical queries.

-Yonik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30773-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 27 00:16:24 2007
Return-Path: <java-user-return-30773-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35694 invoked from network); 27 Oct 2007 00:16:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Oct 2007 00:16:24 -0000
Received: (qmail 65311 invoked by uid 500); 27 Oct 2007 00:16:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65280 invoked by uid 500); 27 Oct 2007 00:16:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65269 invoked by uid 99); 27 Oct 2007 00:16:06 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Oct 2007 17:16:06 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of yseeley@gmail.com designates 64.233.162.235 as permitted sender)
Received: from [64.233.162.235] (HELO nz-out-0506.google.com) (64.233.162.235)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 27 Oct 2007 00:16:13 +0000
Received: by nz-out-0506.google.com with SMTP id i28so852099nzi
        for <java-user@lucene.apache.org>; Fri, 26 Oct 2007 17:15:49 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        bh=vzCW9MHlus4N+83f/zJWa82UW4sG7AuU6RS9ITtMTCc=;
        b=O8bfzbWsoErys2OxMEnu4JKbgudsafdGouh6sneCe9l2wCXSJsNhrQpVfOvJt387oWwEL54AvAEMYbb9Of7h8u9LrUUG+x4ghEAm/tNM9cXXBzS3PGMQuxk1RU3jM0cjqq/syaDcPDB0WzxyEDpz6d7GquXQevvjdPNwR7ZOnxE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        b=orMHCttY8rncxK0l9sPM8rg0KEvVd56kLztsjIXE/LbUCH+3iWLG+KXIOGOAeStWk3W6ci2cP0JyXBiUEOwE7im4KJvq+x3nKndOsx/AFq6ohNKE7YnkkoJ4iWkwL4sTYmUwvD21BY3NuQOwVZUHweVAPV4O6t5bcw6LAp8rHPk=
Received: by 10.142.131.18 with SMTP id e18mr1022744wfd.1193444148659;
        Fri, 26 Oct 2007 17:15:48 -0700 (PDT)
Received: by 10.143.165.13 with HTTP; Fri, 26 Oct 2007 17:15:48 -0700 (PDT)
Message-ID: <c68e39170710261715j3e5b326eqe5d58d7509a8c72b@mail.gmail.com>
Date: Fri, 26 Oct 2007 20:15:48 -0400
From: "Yonik Seeley" <yonik@apache.org>
Sender: yseeley@gmail.com
To: java-user@lucene.apache.org
Subject: Re: Cache BitSet or doc number?
In-Reply-To: <13435843.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <13435244.post@talk.nabble.com> <472257BE.40004@gmail.com>
	 <13435843.post@talk.nabble.com>
X-Google-Sender-Auth: e0c5c843f8812713
X-Virus-Checked: Checked by ClamAV on apache.org

On 10/26/07, John Patterson <jdp2000@gmail.com> wrote:
> Thom Nelson wrote:
> > Check out the HashDocSet from Solr, this is the best way to cache small
> > sets of search results.  In general, the Solr BitSet/DocSet classes are
> > more efficient than using the standard java.util.BitSet.  You can use
> > these independent of the rest of Solr (though I recommend checking out
> > Solr if you want to do complex caching).
> >
>
> I imagine the fastest way to combine cached results is to store them in an
> array ordered by doc number so that the ConjunctionQuery can use them
> directly.  The Javadoc for HashDocSet says that they are stored out of order
> which would make this impossible.

You're speaking at quite an abstract level... it really depends on
what specific issue you are seeing that you're trying to solve.

-Yonik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30774-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 27 03:03:01 2007
Return-Path: <java-user-return-30774-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99876 invoked from network); 27 Oct 2007 03:03:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Oct 2007 03:03:01 -0000
Received: (qmail 58048 invoked by uid 500); 27 Oct 2007 03:02:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58020 invoked by uid 500); 27 Oct 2007 03:02:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58009 invoked by uid 99); 27 Oct 2007 03:02:42 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Oct 2007 20:02:42 -0700
X-ASF-Spam-Status: No, hits=2.6 required=10.0
	tests=DNS_FROM_OPENWHOIS,SPF_HELO_PASS,SPF_PASS,WHOIS_MYPRIVREG
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lists@nabble.com designates 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 27 Oct 2007 03:02:44 +0000
Received: from isper.nabble.com ([192.168.236.156])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <lists@nabble.com>)
	id 1IlbwN-0000K8-Sx
	for java-user@lucene.apache.org; Fri, 26 Oct 2007 20:02:23 -0700
Message-ID: <13438928.post@talk.nabble.com>
Date: Fri, 26 Oct 2007 20:02:23 -0700 (PDT)
From: John Patterson <jdp2000@gmail.com>
To: java-user@lucene.apache.org
Subject: Sorted Index
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: jdp2000@gmail.com
X-Virus-Checked: Checked by ClamAV on apache.org


Hi,

What's the best way to maintain an index that is sorted?
-- 
View this message in context: http://www.nabble.com/Sorted-Index-tf4701044.html#a13438928
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30775-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 27 03:20:24 2007
Return-Path: <java-user-return-30775-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2326 invoked from network); 27 Oct 2007 03:20:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Oct 2007 03:20:23 -0000
Received: (qmail 66067 invoked by uid 500); 27 Oct 2007 03:20:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66037 invoked by uid 500); 27 Oct 2007 03:20:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66026 invoked by uid 99); 27 Oct 2007 03:20:02 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Oct 2007 20:20:02 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of yseeley@gmail.com designates 209.85.198.188 as permitted sender)
Received: from [209.85.198.188] (HELO rv-out-0910.google.com) (209.85.198.188)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 27 Oct 2007 03:20:06 +0000
Received: by rv-out-0910.google.com with SMTP id k20so845463rvb
        for <java-user@lucene.apache.org>; Fri, 26 Oct 2007 20:19:45 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        bh=BHCqEtC4+NVq8tf4bjPjAGkfLx3xnJvuxPDhbwEHn9w=;
        b=BddshhW2NFVGiiWHBeSJAxi8GgmbhcycT/SMyZsVF2e+ym91R11t2TTVF7144cPRwQ9V7FO1cFP0QsU4EcF81ka7Jjv7k76kTayjEG7fjDog5z7simLyj/jDhX/cRPRFpvw6XNOxAgNIJJY/RLefKCj9vVKfdwPt+l91yUyMdPk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        b=hzQQ+L+VrnBfNfk0G9FqAabhnUi+Qe0rA7ai5REqwknGU2e/YNyhMHpuie1PUJ/sFIdg6QkYM52dfBbx8Sl5prNosQWuvGbnswhm2g6Setcb5xuC7OgLf5SxOQQPwOsY288aWs7jK4UY0SDuK23kQ+bN9v7D2a1wB85tDZBRLD0=
Received: by 10.142.171.6 with SMTP id t6mr1031996wfe.1193455185152;
        Fri, 26 Oct 2007 20:19:45 -0700 (PDT)
Received: by 10.143.165.13 with HTTP; Fri, 26 Oct 2007 20:19:45 -0700 (PDT)
Message-ID: <c68e39170710262019m775cd99ax48cbcebf65e20e2@mail.gmail.com>
Date: Fri, 26 Oct 2007 23:19:45 -0400
From: "Yonik Seeley" <yonik@apache.org>
Sender: yseeley@gmail.com
To: java-user@lucene.apache.org
Subject: Re: Sorted Index
In-Reply-To: <13438928.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <13438928.post@talk.nabble.com>
X-Google-Sender-Auth: b185fd8a3feb897d
X-Virus-Checked: Checked by ClamAV on apache.org

On 10/26/07, John Patterson <jdp2000@gmail.com> wrote:
> What's the best way to maintain an index that is sorted?

Most things in an inverted index are sorted (terms, matching document
ids, term positions within a field, etc).  Can you be more specific
about what you are trying to accomplish?

-Yonik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30776-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 27 03:54:51 2007
Return-Path: <java-user-return-30776-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7324 invoked from network); 27 Oct 2007 03:54:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Oct 2007 03:54:50 -0000
Received: (qmail 83307 invoked by uid 500); 27 Oct 2007 03:54:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83271 invoked by uid 500); 27 Oct 2007 03:54:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83260 invoked by uid 99); 27 Oct 2007 03:54:32 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Oct 2007 20:54:32 -0700
X-ASF-Spam-Status: No, hits=2.6 required=10.0
	tests=DNS_FROM_OPENWHOIS,SPF_HELO_PASS,SPF_PASS,WHOIS_MYPRIVREG
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lists@nabble.com designates 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 27 Oct 2007 03:54:35 +0000
Received: from isper.nabble.com ([192.168.236.156])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <lists@nabble.com>)
	id 1IlckY-00014d-FZ
	for java-user@lucene.apache.org; Fri, 26 Oct 2007 20:54:14 -0700
Message-ID: <13439134.post@talk.nabble.com>
Date: Fri, 26 Oct 2007 20:54:14 -0700 (PDT)
From: John Patterson <jdp2000@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Sorted Index
In-Reply-To: <c68e39170710262019m775cd99ax48cbcebf65e20e2@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: jdp2000@gmail.com
References: <13438928.post@talk.nabble.com> <c68e39170710262019m775cd99ax48cbcebf65e20e2@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org




Yonik Seeley wrote:
> 
> On 10/26/07, John Patterson <jdp2000@gmail.com> wrote:
> Most things in an inverted index are sorted (terms, matching document
> ids, term positions within a field, etc).  Can you be more specific
> about what you are trying to accomplish?
> 

Sorry, I mean sorting the documents in an order other than the order they
are added.  The my search could just return docs in index order.  For the
most common sorting I could collect only the first x docs and then
short-circuit the search like we previously discussed.

I was wondering if it is possible to apply a sort at merge time?

Cheers,

John
-- 
View this message in context: http://www.nabble.com/Sorted-Index-tf4701044.html#a13439134
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30777-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 27 04:25:01 2007
Return-Path: <java-user-return-30777-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10825 invoked from network); 27 Oct 2007 04:25:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Oct 2007 04:25:01 -0000
Received: (qmail 2598 invoked by uid 500); 27 Oct 2007 04:24:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2575 invoked by uid 500); 27 Oct 2007 04:24:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2564 invoked by uid 99); 27 Oct 2007 04:24:40 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Oct 2007 21:24:40 -0700
X-ASF-Spam-Status: No, hits=4.5 required=10.0
	tests=HTML_MESSAGE,SPF_PASS,URI_NOVOWEL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [66.196.101.40] (HELO web59214.mail.re1.yahoo.com) (66.196.101.40)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 27 Oct 2007 04:24:42 +0000
Received: (qmail 64993 invoked by uid 60001); 27 Oct 2007 04:24:21 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=aNujUKmqBE1ro4xj91aH6ZvcHjXRUJU3AXDwI7MVnBZcdst1yF3BEev6VFsNZXXIlHqDOMJAGeZEAe0wYUhIrCbPFdRznYfZ79K3TNH8k/kjLtIweVpKdVxMcfCQlGxh4ywxwh3BIWlI+UoBqqR2JEtISTAliJXkgbQdiT47JQo=;
X-YMail-OSG: u_wvXiYVM1mfZW1QZ8PEVqh1ebylVibxCTGW9M.uQWKnWlbKFT0i1wAYco0riulP8hAlRvaBeo1PZKXtCRs2gEBQTlKilVHd_XKmeQ0ihoDn9iHKP_UR8JSh7.cVWupfgsCKWqTJ9p0_RbMI.xuo0.Shkd4mzy3BJnthgKcmxY9GiYrW2XXYsuI-
Received: from [24.90.196.137] by web59214.mail.re1.yahoo.com via HTTP; Fri, 26 Oct 2007 21:24:21 PDT
Date: Fri, 26 Oct 2007 21:24:21 -0700 (PDT)
From: Cool Coder <techcool.kumar@yahoo.com>
Subject: Re: HTML analyzer
To: java-user@lucene.apache.org
In-Reply-To: <E181E913-9F74-4232-8E69-8ABF374456ED@gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1207721794-1193459061=:64982"
Content-Transfer-Encoding: 8bit
Message-ID: <694897.64982.qm@web59214.mail.re1.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-1207721794-1193459061=:64982
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Thanks Ketin for your input. There is already build in HTML strip reader i.e. HTMLStripReader in solr, which I am currently using to strip all HTML tags before creating index. This also solved my earlier problem related to highlighter , which was highlighting HTML tags e.g. I was searching for "net" and result was something http://sdjkkjsd.net and it got converted to http://sjhdnjkshn.<b>net</b> by highlighter.
   
  -BR

Karl Wettin <karl.wettin@gmail.com> wrote:
  
25 okt 2007 kl. 20.18 skrev Cool Coder:

> Is there any analyzer that can be configured

All of them can be.

TokenFilter.html>

I suggest you take a look at the code of any of them, 
StandardAnalyzer for instance.



-- 
karl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



 __________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 
--0-1207721794-1193459061=:64982--

From java-user-return-30778-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 27 09:12:42 2007
Return-Path: <java-user-return-30778-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69118 invoked from network); 27 Oct 2007 09:12:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Oct 2007 09:12:42 -0000
Received: (qmail 89248 invoked by uid 500); 27 Oct 2007 09:12:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89217 invoked by uid 500); 27 Oct 2007 09:12:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89205 invoked by uid 99); 27 Oct 2007 09:12:22 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 27 Oct 2007 02:12:22 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [69.44.16.11] (HELO getopt.org) (69.44.16.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 27 Oct 2007 09:12:23 +0000
Received: from [192.168.0.254] (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id l9R9C5613825
	for <java-user@lucene.apache.org>; Sat, 27 Oct 2007 04:12:05 -0500
Message-ID: <472300E0.3070203@getopt.org>
Date: Sat, 27 Oct 2007 11:12:00 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Sorted Index
References: <13438928.post@talk.nabble.com> <c68e39170710262019m775cd99ax48cbcebf65e20e2@mail.gmail.com> <13439134.post@talk.nabble.com>
In-Reply-To: <13439134.post@talk.nabble.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

John Patterson wrote:
> 
> 
> Yonik Seeley wrote:
>> On 10/26/07, John Patterson <jdp2000@gmail.com> wrote:
>> Most things in an inverted index are sorted (terms, matching document
>> ids, term positions within a field, etc).  Can you be more specific
>> about what you are trying to accomplish?
>>
> 
> Sorry, I mean sorting the documents in an order other than the order they
> are added.  The my search could just return docs in index order.  For the
> most common sorting I could collect only the first x docs and then
> short-circuit the search like we previously discussed.

These questions already have an answer in Nutch (see the 
org.apache.nutch.indexer.IndexSorter, and 
org.apache.nutch.searcher.LuceneQueryOptimizer$LimitedCollector).

> 
> I was wondering if it is possible to apply a sort at merge time?

One method that I'm familiar with is the following: you can split the 
result set into several large-ish bins, and apply arbitrary sorting 
methods within each bin. Studies show that if you pick the right bin 
size, users will rarely look into the second and the following bins, so 
the task is reduced to the sorting of the first bin, e.g. 100 top 
scoring docs.

-- 
Best regards,
Andrzej Bialecki     <><
  ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30779-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 27 10:40:36 2007
Return-Path: <java-user-return-30779-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7707 invoked from network); 27 Oct 2007 10:40:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Oct 2007 10:40:36 -0000
Received: (qmail 18125 invoked by uid 500); 27 Oct 2007 10:40:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18084 invoked by uid 500); 27 Oct 2007 10:40:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 31328 invoked by uid 99); 27 Oct 2007 06:11:45 -0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=ZNOoUaQh/o6xg8tl/O3Ir26wo+5QRo9TnQ4PQoiXQLRBRmgBmX1yEzSKA0EHj2FUmo6A/I6hEIwrUTDhxfPLK+tP6rkHEZ87mTP4AZg0sP0diyipNiwtN9FEY8SjgihRJpkri66MtxGUN3Vg3N+R9NBy1sEs7KxX1EBHmZYRg2Q=;
X-YMail-OSG: 9N5rn6kVM1mvxbO2hCyKl3np1GxmuInZ08pH0S4tV_oLUx8uJrEsPFqzUqi1xj5hkskkB_8c8rDC8vSkZK0yy6MKrZEA__19CwJImTAYr_iRsM23q7IWx9J9BHSn2w--
Date: Fri, 26 Oct 2007 23:11:25 -0700 (PDT)
From: Keith Rhodes <kr_new_offers@yahoo.com>
Subject: Adding and populating a field
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-2092840832-1193465485=:21130"
Content-Transfer-Encoding: 8bit
Message-ID: <595418.21130.qm@web36406.mail.mud.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-2092840832-1193465485=:21130
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

I have a set of documents with filenames that give a good indication of content.

A filename of 12 digits (I think this is [0-9]{12} as a regular expression) with the extension html is a troubleshooting guide, the number being an error code.
A filename with two or three letters, then a minus (which would be [a-z]{2,3}- I think), then a known string means the document is about a particular subject; I have a list of the known strings matched to subjects.

What I would like to do, is have my indexer create a field named "category", populated with either the string "troubleshooting" or with the known string extracted from the filename.

Examples:
For a file named 0000000000111.html the indexer adds the field "category" with the value "troubleshooting".
For a file named xxx-cal-123.html the indexer adds the field "category" with the value "cal".
For a file named xx-qv-(9).html the indexer adds the field "category" with the value "qv".

Is there a way to do that?
 __________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 
--0-2092840832-1193465485=:21130--

From java-user-return-30780-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 27 11:20:39 2007
Return-Path: <java-user-return-30780-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13425 invoked from network); 27 Oct 2007 11:20:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Oct 2007 11:20:39 -0000
Received: (qmail 34399 invoked by uid 500); 27 Oct 2007 11:20:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33983 invoked by uid 500); 27 Oct 2007 11:20:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33972 invoked by uid 99); 27 Oct 2007 11:20:19 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 27 Oct 2007 04:20:19 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of dineshchothe@gmail.com designates 64.233.182.189 as permitted sender)
Received: from [64.233.182.189] (HELO nf-out-0910.google.com) (64.233.182.189)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 27 Oct 2007 11:20:23 +0000
Received: by nf-out-0910.google.com with SMTP id d3so948563nfc
        for <java-user@lucene.apache.org>; Sat, 27 Oct 2007 04:20:00 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        bh=UjTyjgj+sdmv8+TYsBOk4RbueCbMY2f4TNQbKJ6hei0=;
        b=mUmalaCUdrzQp8LAQXaBEWCjcREF3P6UCPQvJYdGwrf6UEN1hNlg/nRLBhL2bmXTNi3j6tKh/S4gKIv35UbaqTyQpMri78eTn58B5B2DtuYwnKirSdSQqGIt1M7fp0bxwqeWbu8/by2FTfPeby3RaPNdLY2reaMqTIJ3KH8p9QY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=JM43Xwff7/uoI3KQbW5/R62ICz5piu387KYLQveUffFoUdzZ6TIoFUDVgDpINIgsdkHArOHZCMtbLYsg89ZZLb+aRuzJ80Xm9brKz8F4wI17NIP7Mw/yoWEdaPIsZPXrvZDZ959C8mQ8JdjvlNDXVx8ngUnMHSelPOtaqflL6A8=
Received: by 10.78.193.5 with SMTP id q5mr2955698huf.1193484000286;
        Sat, 27 Oct 2007 04:20:00 -0700 (PDT)
Received: by 10.78.156.19 with HTTP; Sat, 27 Oct 2007 04:20:00 -0700 (PDT)
Message-ID: <cbf8c3090710270420v13236964t3074186b1416492a@mail.gmail.com>
Date: Sat, 27 Oct 2007 16:50:00 +0530
From: "dinesh chothe" <dineshchothe@gmail.com>
To: java-user@lucene.apache.org
Subject: Exception with org.apache.lucene.store.Directory
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_10239_10206352.1193484000270"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_10239_10206352.1193484000270
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

   Hello,
              I am getting one exception while running my Search.jsp.
               Exception is  org.apache.lucene.store.Directory.* ;    not
found.
               Even I have using lucene1.3, lucene1.4,lucene2.2 jars in my
project.
               Following are my import statements  in my Sear.jsp program...


<%@ page import="java.util.*"%>
<%@ page import="java.net.URL"%>
<%@ page import="lucene.search"%>
<%@ page import="lucene.Ranker"%>
<%@ page import="lucene.store"%>
<%@ page import="lucene.SoundicNew"%>
<%@ page import="java.io.*"%>
<%@ page import="java.sql.*"%>

<%@ page import= "org.apache.lucene.analysis.standard.StandardAnalyzer"%>
<%@ page import=  "org.apache.lucene.document.Document" %>
<%@ page import= "org.apache.lucene.document.Field" %>
<%@ page import ="org.apache.lucene.*"%>
<%@ page import= "org.apache.lucene.store.Directory.* "%>
<%@ page import= "org.apache.lucene.store.FSDirectory.*" %>
<%@ page import= "org.apache.lucene.search.Similarity.*"%>

-- 
Regards,
  Dinesh

------=_Part_10239_10206352.1193484000270--

From java-user-return-30781-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 27 11:38:50 2007
Return-Path: <java-user-return-30781-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15245 invoked from network); 27 Oct 2007 11:38:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Oct 2007 11:38:50 -0000
Received: (qmail 40649 invoked by uid 500); 27 Oct 2007 11:38:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40624 invoked by uid 500); 27 Oct 2007 11:38:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40613 invoked by uid 99); 27 Oct 2007 11:38:29 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 27 Oct 2007 04:38:29 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [194.109.24.21] (HELO smtp-vbr1.xs4all.nl) (194.109.24.21)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 27 Oct 2007 11:38:36 +0000
Received: from k8u.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr1.xs4all.nl (8.13.8/8.13.8) with ESMTP id l9RBcC5n047799
	for <java-user@lucene.apache.org>; Sat, 27 Oct 2007 13:38:12 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Cache BitSet or doc number?
Date: Sat, 27 Oct 2007 13:38:17 +0200
User-Agent: KMail/1.9.6 (enterprise 0.20070907.709405)
References: <13435244.post@talk.nabble.com> <13435843.post@talk.nabble.com> <c68e39170710261715j3e5b326eqe5d58d7509a8c72b@mail.gmail.com>
In-Reply-To: <c68e39170710261715j3e5b326eqe5d58d7509a8c72b@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200710271338.17532.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org

Have a look at decoupling Filter from BitSet:

http://issues.apache.org/jira/browse/LUCENE-584

There also is a SortedVIntList there that stores document numbers
more compactly than BitSet,  and an implementation of
CachingFilterQuery (iirc) that chooses the more compact representation
of BitSet and SortedVIntList.

Regards,
Paul Elschot


On Saturday 27 October 2007 02:15:48 Yonik Seeley wrote:
> On 10/26/07, John Patterson <jdp2000@gmail.com> wrote:
> > Thom Nelson wrote:
> > > Check out the HashDocSet from Solr, this is the best way to cache small
> > > sets of search results.  In general, the Solr BitSet/DocSet classes are
> > > more efficient than using the standard java.util.BitSet.  You can use
> > > these independent of the rest of Solr (though I recommend checking out
> > > Solr if you want to do complex caching).
> >
> > I imagine the fastest way to combine cached results is to store them in
> > an array ordered by doc number so that the ConjunctionQuery can use them
> > directly.  The Javadoc for HashDocSet says that they are stored out of
> > order which would make this impossible.
>
> You're speaking at quite an abstract level... it really depends on
> what specific issue you are seeing that you're trying to solve.
>
> -Yonik
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30782-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 27 11:47:02 2007
Return-Path: <java-user-return-30782-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15915 invoked from network); 27 Oct 2007 11:47:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Oct 2007 11:47:02 -0000
Received: (qmail 43416 invoked by uid 500); 27 Oct 2007 11:46:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43375 invoked by uid 500); 27 Oct 2007 11:46:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43361 invoked by uid 99); 27 Oct 2007 11:46:42 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 27 Oct 2007 04:46:42 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of lucenelist2007@danielnaber.de designates 80.67.18.14 as permitted sender)
Received: from [80.67.18.14] (HELO smtprelay02.ispgateway.de) (80.67.18.14)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 27 Oct 2007 11:46:48 +0000
Received: (qmail 571 invoked from network); 27 Oct 2007 11:46:23 -0000
Received: from unknown (HELO p54bfc765.dip.t-dialin.net) (695637@[84.191.199.101])
          (envelope-sender <lucenelist2007@danielnaber.de>)
          by smtprelay02.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 27 Oct 2007 11:46:23 -0000
From: Daniel Naber <lucenelist2007@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: Exception with org.apache.lucene.store.Directory
Date: Sat, 27 Oct 2007 13:42:46 +0200
User-Agent: KMail/1.8.2
References: <cbf8c3090710270420v13236964t3074186b1416492a@mail.gmail.com>
In-Reply-To: <cbf8c3090710270420v13236964t3074186b1416492a@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200710271342.46367@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org

On Saturday 27 October 2007 13:20, dinesh chothe wrote:

> <%@ page import= "org.apache.lucene.store.Directory.* "%>

That's a class, not a package, so try:

<%@ page import= "org.apache.lucene.store.Directory "%>

Similar for the other classes.

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30783-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 27 12:59:25 2007
Return-Path: <java-user-return-30783-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30694 invoked from network); 27 Oct 2007 12:59:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Oct 2007 12:59:25 -0000
Received: (qmail 73749 invoked by uid 500); 27 Oct 2007 12:59:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73711 invoked by uid 500); 27 Oct 2007 12:59:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73700 invoked by uid 99); 27 Oct 2007 12:59:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 27 Oct 2007 05:59:05 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erickerickson@gmail.com designates 209.85.134.186 as permitted sender)
Received: from [209.85.134.186] (HELO mu-out-0910.google.com) (209.85.134.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 27 Oct 2007 12:59:09 +0000
Received: by mu-out-0910.google.com with SMTP id g7so1394449muf
        for <java-user@lucene.apache.org>; Sat, 27 Oct 2007 05:58:47 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=mQRU9dRTAbrtvpzFrUCjE1x/vHuB4+YiW4ANjRILv+I=;
        b=RnFQhfxWOxmSgjKpOECaSHh3nk84l5gKz0miJrnmYO28DeKd8NswprjgkspmVFgB3jGr7TeRsrlEeohHgIoyjrMYKZwLyeN1kFJvRq+daYDSJY/hNGQHZSPCFNAmvXTPe/+tF+rA0biaqlFJMj5VGcfPTOdBylL7raErQ91lyIc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=FnkgGOtlB2lDCOXz1PDNfx+EUspdzq8WDzFpzh2qIjgANKukieLYxbb0xaEcX3v9CkRx4vb2S+RQz6THrUGobwMQP76jzhrJuqR17Igq1BVZ7eDQAhpUJGbzJ1OmFSQjriTNVY/Jxbs5Qu3rQ/Hg9i9hdrjvkEiCba1CkZFAB6g=
Received: by 10.82.183.19 with SMTP id g19mr7906384buf.1193489926872;
        Sat, 27 Oct 2007 05:58:46 -0700 (PDT)
Received: by 10.82.167.3 with HTTP; Sat, 27 Oct 2007 05:58:46 -0700 (PDT)
Message-ID: <359a92830710270558g3124973cvdfe89c7ddb109430@mail.gmail.com>
Date: Sat, 27 Oct 2007 08:58:46 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Adding and populating a field
In-Reply-To: <595418.21130.qm@web36406.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_25809_3172454.1193489926848"
References: <595418.21130.qm@web36406.mail.mud.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_25809_3172454.1193489926848
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

no automatic way, you to do it yourself. Presumably, you have
some master list of categories that you can map your file
names to, so as you index each file you have to look up the
category and add it to the document you are about to index.

Best
Erick

On 10/27/07, Keith Rhodes <kr_new_offers@yahoo.com> wrote:
>
> I have a set of documents with filenames that give a good indication of
> content.
>
> A filename of 12 digits (I think this is [0-9]{12} as a regular
> expression) with the extension html is a troubleshooting guide, the number
> being an error code.
> A filename with two or three letters, then a minus (which would be
> [a-z]{2,3}- I think), then a known string means the document is about a
> particular subject; I have a list of the known strings matched to subjects.
>
> What I would like to do, is have my indexer create a field named
> "category", populated with either the string "troubleshooting" or with the
> known string extracted from the filename.
>
> Examples:
> For a file named 0000000000111.html the indexer adds the field "category"
> with the value "troubleshooting".
> For a file named xxx-cal-123.html the indexer adds the field "category"
> with the value "cal".
> For a file named xx-qv-(9).html the indexer adds the field "category" with
> the value "qv".
>
> Is there a way to do that?
> __________________________________________________
> Do You Yahoo!?
> Tired of spam?  Yahoo! Mail has the best spam protection around
> http://mail.yahoo.com

------=_Part_25809_3172454.1193489926848--

From java-user-return-30784-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 27 13:12:06 2007
Return-Path: <java-user-return-30784-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32085 invoked from network); 27 Oct 2007 13:12:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Oct 2007 13:12:06 -0000
Received: (qmail 79390 invoked by uid 500); 27 Oct 2007 13:11:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79366 invoked by uid 500); 27 Oct 2007 13:11:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79355 invoked by uid 99); 27 Oct 2007 13:11:46 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 27 Oct 2007 06:11:46 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of dineshchothe@gmail.com designates 64.233.182.187 as permitted sender)
Received: from [64.233.182.187] (HELO nf-out-0910.google.com) (64.233.182.187)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 27 Oct 2007 13:11:47 +0000
Received: by nf-out-0910.google.com with SMTP id d3so959803nfc
        for <java-user@lucene.apache.org>; Sat, 27 Oct 2007 06:11:25 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=azF6SbfddvJfw+l5bHBmiRcID9cwn+8+Q65nhg6FDWk=;
        b=GhlpwWfTUrInbWKgb4EW4maUhLOtiWZNPITkue6UCNRn042jrt9RbUfZiJwmdxuf8HEpBQembJFC3TgDaJ9ZxsNbhTBUhuKqNNTidp5kYKFKBEk0j3i9XGlKsZUHip/aAXCUNXJg5aHMlg69IY8qOoh+5IrluFsAg0nshjsWnQU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=fBH49A76l4zXXRm9EnCbbCMekTBHicmr5ZpHJ05Bft+oE2szjATjlzMAsaLY1cvrt5mkKAzI9Y9qxzMxUH09CoA9NztuHJOUihxEsHghS8BDMiIzK8os2dcAvi4nKHss2pCB12b8/EbydXSVSoqAwd1oV9TkHSzYnj4MskttkSo=
Received: by 10.78.150.7 with SMTP id x7mr3025153hud.1193490685419;
        Sat, 27 Oct 2007 06:11:25 -0700 (PDT)
Received: by 10.78.156.19 with HTTP; Sat, 27 Oct 2007 06:11:25 -0700 (PDT)
Message-ID: <cbf8c3090710270611s7d5ec37fu734535f3582aebe0@mail.gmail.com>
Date: Sat, 27 Oct 2007 18:41:25 +0530
From: "dinesh chothe" <dineshchothe@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Exception with org.apache.lucene.store.Directory
In-Reply-To: <200710271342.46367@danielnaber.de>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_10449_25647777.1193490685385"
References: <cbf8c3090710270420v13236964t3074186b1416492a@mail.gmail.com>
	 <200710271342.46367@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_10449_25647777.1193490685385
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

  Thanks for your reply. I have changed my all imports.
    Even I am using
<%@ page import= "org.apache.lucene.store.Directory "%>
    still also I am getting same error.
    Also  strange  thing  is  if  I run  my  .java  file  for  search  it
works
    fine but when I call this search function using jsp I am getting above
    error.
Regards,
  Dinesh

On 10/27/07, Daniel Naber <lucenelist2007@danielnaber.de> wrote:
>
> On Saturday 27 October 2007 13:20, dinesh chothe wrote:
>
> > <%@ page import= "org.apache.lucene.store.Directory.* "%>
>
> That's a class, not a package, so try:
>
> <%@ page import= "org.apache.lucene.store.Directory "%>
>
> Similar for the other classes.
>
> Regards
> Daniel
>
> --
> http://www.danielnaber.de
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


-- 
Regards,
  Dinesh P. Chothe
  Email:-dchothe@gmail.com
  Mobile:-9850076045

------=_Part_10449_25647777.1193490685385--

From java-user-return-30785-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Oct 27 15:23:45 2007
Return-Path: <java-user-return-30785-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49722 invoked from network); 27 Oct 2007 15:23:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Oct 2007 15:23:45 -0000
Received: (qmail 36060 invoked by uid 500); 27 Oct 2007 15:23:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36032 invoked by uid 500); 27 Oct 2007 15:23:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36021 invoked by uid 99); 27 Oct 2007 15:23:24 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 27 Oct 2007 08:23:24 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of lucenelist2007@danielnaber.de designates 80.67.29.28 as permitted sender)
Received: from [80.67.29.28] (HELO smtprelay11.ispgateway.de) (80.67.29.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 27 Oct 2007 15:23:30 +0000
Received: (qmail 16244 invoked from network); 27 Oct 2007 15:23:05 -0000
Received: from unknown (HELO p54bfdb44.dip.t-dialin.net) (695637@[84.191.219.68])
          (envelope-sender <lucenelist2007@danielnaber.de>)
          by smtprelay11.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 27 Oct 2007 15:23:05 -0000
From: Daniel Naber <lucenelist2007@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: Exception with org.apache.lucene.store.Directory
Date: Sat, 27 Oct 2007 17:19:29 +0200
User-Agent: KMail/1.8.2
References: <cbf8c3090710270420v13236964t3074186b1416492a@mail.gmail.com> <200710271342.46367@danielnaber.de> <cbf8c3090710270611s7d5ec37fu734535f3582aebe0@mail.gmail.com>
In-Reply-To: <cbf8c3090710270611s7d5ec37fu734535f3582aebe0@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200710271719.29393@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org

On Saturday 27 October 2007 15:11, dinesh chothe wrote:

>   Thanks for your reply. I have changed my all imports.
>     Even I am using
> <%@ page import= "org.apache.lucene.store.Directory "%>
>     still also I am getting same error.

Are your JAR files (Lucene etc) in WEB-INF/lib in your web application?

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30786-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 28 23:59:09 2007
Return-Path: <java-user-return-30786-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56932 invoked from network); 28 Oct 2007 23:59:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 28 Oct 2007 23:59:09 -0000
Received: (qmail 94299 invoked by uid 500); 28 Oct 2007 23:58:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94259 invoked by uid 500); 28 Oct 2007 23:58:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94248 invoked by uid 99); 28 Oct 2007 23:58:50 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 28 Oct 2007 16:58:50 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of thomnelson@gmail.com designates 66.249.82.229 as permitted sender)
Received: from [66.249.82.229] (HELO wx-out-0506.google.com) (66.249.82.229)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 28 Oct 2007 23:58:54 +0000
Received: by wx-out-0506.google.com with SMTP id i28so1272442wxd
        for <java-user@lucene.apache.org>; Sun, 28 Oct 2007 16:58:33 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=9nZTRPSMC3nJrNhcUPguBHswxDGvP0NTagv6pDHrrF8=;
        b=cVyro2oTwTET//so45b6qr7FtISRk4fPQGscxn4LN6A2vfAkmnBbE9JzWr0+2muAIpbI218K38nTp8RFhRyL9EaMWnq/adst7F782fumPsfcacaipSUsxAaNAhOaINW3lUy9rHKlkKwRQtkLXPE0CuJPHBfhixPdKTSk4ERGE4Q=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=RK0NMFT5nw2+palVearRz8ps7vJQFwvDTX2lTDipRY+NwhU6cRQN9cAH52EkBzP+XxfdnfZxTUglcuKMPttPQPDR4JdTYZseNVmtMaTGVnnbMSfuN/A4a/bROeWZmOKUT9SX4UswFwCUvMZRSw1bVGt/F2rW91syfcaY7ocwbI0=
Received: by 10.90.88.13 with SMTP id l13mr4172951agb.1193615913373;
        Sun, 28 Oct 2007 16:58:33 -0700 (PDT)
Received: by 10.90.49.19 with HTTP; Sun, 28 Oct 2007 16:58:33 -0700 (PDT)
Message-ID: <ee4ed8e00710281658u2297a8dcrbc31a5b082f18582@mail.gmail.com>
Date: Sun, 28 Oct 2007 16:58:33 -0700
From: "Thom Nelson" <thomnelson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Cache BitSet or doc number?
In-Reply-To: <200710271338.17532.paul.elschot@xs4all.nl>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_14619_15864765.1193615913361"
References: <13435244.post@talk.nabble.com> <13435843.post@talk.nabble.com>
	 <c68e39170710261715j3e5b326eqe5d58d7509a8c72b@mail.gmail.com>
	 <200710271338.17532.paul.elschot@xs4all.nl>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_14619_15864765.1193615913361
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

It all depends on whether you want to cache the top n doc ids or to cache
some sort of filter.  Solr uses DocSets (unordered by design) to filter
search results in a HitCollector, and there is also the Lucene Filter
mechanism which relies on BitSet.  Decoupling Filter from BitSet is a great
thing to do, but if all you want to do is cache the search results and not a
Filter, your idea of just storing ordered doc ids is probably fine.  If you
store them as VInts you can keep Integer-level precision and save some
memory.

On 10/27/07, Paul Elschot <paul.elschot@xs4all.nl> wrote:
>
> Have a look at decoupling Filter from BitSet:
>
> http://issues.apache.org/jira/browse/LUCENE-584
>
> There also is a SortedVIntList there that stores document numbers
> more compactly than BitSet,  and an implementation of
> CachingFilterQuery (iirc) that chooses the more compact representation
> of BitSet and SortedVIntList.
>
> Regards,
> Paul Elschot
>
>
> On Saturday 27 October 2007 02:15:48 Yonik Seeley wrote:
> > On 10/26/07, John Patterson <jdp2000@gmail.com> wrote:
> > > Thom Nelson wrote:
> > > > Check out the HashDocSet from Solr, this is the best way to cache
> small
> > > > sets of search results.  In general, the Solr BitSet/DocSet classes
> are
> > > > more efficient than using the standard java.util.BitSet.  You can
> use
> > > > these independent of the rest of Solr (though I recommend checking
> out
> > > > Solr if you want to do complex caching).
> > >
> > > I imagine the fastest way to combine cached results is to store them
> in
> > > an array ordered by doc number so that the ConjunctionQuery can use
> them
> > > directly.  The Javadoc for HashDocSet says that they are stored out of
> > > order which would make this impossible.
> >
> > You're speaking at quite an abstract level... it really depends on
> > what specific issue you are seeing that you're trying to solve.
> >
> > -Yonik
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_14619_15864765.1193615913361--

From java-user-return-30787-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 29 06:07:19 2007
Return-Path: <java-user-return-30787-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47501 invoked from network); 29 Oct 2007 06:07:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 29 Oct 2007 06:07:18 -0000
Received: (qmail 67828 invoked by uid 500); 29 Oct 2007 06:06:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67787 invoked by uid 500); 29 Oct 2007 06:06:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67776 invoked by uid 99); 29 Oct 2007 06:06:59 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 28 Oct 2007 23:06:59 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of dineshchothe@gmail.com designates 64.233.182.184 as permitted sender)
Received: from [64.233.182.184] (HELO nf-out-0910.google.com) (64.233.182.184)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Oct 2007 06:07:02 +0000
Received: by nf-out-0910.google.com with SMTP id d3so1170921nfc
        for <java-user@lucene.apache.org>; Sun, 28 Oct 2007 23:06:40 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=H4yHd8HsgTPyFLeRr4OmD/VKWmaHnKa0xHf/2CXQysg=;
        b=ZyGTMJu8bBNdOktMpQtwyvh/7BdI1NaD6ETXV4x0oddmKE2cuWQYb22WsvuPXEpZKtBzyR16UlpdIs3OdReE7YW/Ftz+WZ5+AaQGch2BjyMnw0NaOiVDiVUN82+g1QOOrz7BYBmv+ME/ejIUH+Uvw44KxrGKs/oJxrJT5NBvoWM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=o6+T7gEDZPVQI0fhCTf+V0EOArv6wd/cqEwCmiaob3QB7fBWm0V4fYgPWXyA3H08oUdDqNZ95Yr+DRGDgVWUXXsuD60q6bOAgl3XAxqPwEr2uHbz8yZ0wAeJDh547qDscBiL40CpKYVaX3wEyzAgbEK+yxRjG07qlfiW4agNNjo=
Received: by 10.78.131.8 with SMTP id e8mr3782815hud.1193638000450;
        Sun, 28 Oct 2007 23:06:40 -0700 (PDT)
Received: by 10.78.156.19 with HTTP; Sun, 28 Oct 2007 23:06:40 -0700 (PDT)
Message-ID: <cbf8c3090710282306l69275500u98f2ef04217947c2@mail.gmail.com>
Date: Mon, 29 Oct 2007 11:36:40 +0530
From: "dinesh chothe" <dineshchothe@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Exception with org.apache.lucene.store.Directory
In-Reply-To: <200710271719.29393@danielnaber.de>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_15790_9771382.1193638000445"
References: <cbf8c3090710270420v13236964t3074186b1416492a@mail.gmail.com>
	 <200710271342.46367@danielnaber.de>
	 <cbf8c3090710270611s7d5ec37fu734535f3582aebe0@mail.gmail.com>
	 <200710271719.29393@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_15790_9771382.1193638000445
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

  Yes Sir  I  have  put  my  all  external  jar  files  in  WEB-INF/lib
     directory.

On 10/27/07, Daniel Naber <lucenelist2007@danielnaber.de> wrote:
>
> On Saturday 27 October 2007 15:11, dinesh chothe wrote:
>
> >   Thanks for your reply. I have changed my all imports.
> >     Even I am using
> > <%@ page import= "org.apache.lucene.store.Directory "%>
> >     still also I am getting same error.
>
> Are your JAR files (Lucene etc) in WEB-INF/lib in your web application?
>
> Regards
> Daniel
>
> --
> http://www.danielnaber.de
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


-- 
Regards,
  Dinesh P. Chothe
  Email:-dchothe@gmail.com
  Mobile:-9850076045

------=_Part_15790_9771382.1193638000445--

From java-user-return-30788-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 29 14:11:35 2007
Return-Path: <java-user-return-30788-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68725 invoked from network); 29 Oct 2007 14:11:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 29 Oct 2007 14:11:35 -0000
Received: (qmail 49658 invoked by uid 500); 29 Oct 2007 14:11:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49313 invoked by uid 500); 29 Oct 2007 14:11:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49302 invoked by uid 99); 29 Oct 2007 14:11:01 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Oct 2007 07:11:01 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [89.213.91.233] (HELO mail.ardentiasearch.com) (89.213.91.233)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Oct 2007 14:11:13 +0000
Received: from biscuit.ARDENTIASEARCH.local ([10.0.0.9]) by
 biscuit.ARDENTIASEARCH.local ([10.0.0.9]) with mapi; Mon, 29 Oct 2007
 14:09:44 +0000
From: Mike Streeton <mike.streeton@ardentiasearch.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Mon, 29 Oct 2007 14:10:38 +0000
Subject: TermDocs.skipTo
Thread-Topic: TermDocs.skipTo
Thread-Index: AcgaNXtHBO8Eh26RREmKubmOi7/2ww==
Message-ID: <DFE6314F5CE91344A74BD2AA612C93B614124D7F2E@biscuit.ARDENTIASEARCH.local>
Accept-Language: en-US, en-GB
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US, en-GB
Content-Type: multipart/alternative;
	boundary="_000_DFE6314F5CE91344A74BD2AA612C93B614124D7F2EbiscuitARDENT_"
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

--_000_DFE6314F5CE91344A74BD2AA612C93B614124D7F2EbiscuitARDENT_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Are there any issues surrounding TermDocs.skipTo(). I have a index that wor=
ks okay if I use TermDocs.next() to find next doc id, but using skipTo to g=
o to the one after a point can miss sometimes.

e.g. Iterating using TermDocs.next() and TermDocs.doc() 1,50,10000,20000 bu=
t suing TermDocs.skipTo(51) returns false indicating that no doc id > 50 ex=
ists.

I will try and create a sample index to show this.

Many Thanks

Mike

--_000_DFE6314F5CE91344A74BD2AA612C93B614124D7F2EbiscuitARDENT_--

From java-user-return-30789-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 29 16:08:45 2007
Return-Path: <java-user-return-30789-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29655 invoked from network); 29 Oct 2007 16:08:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 29 Oct 2007 16:08:44 -0000
Received: (qmail 3003 invoked by uid 500); 29 Oct 2007 16:08:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2974 invoked by uid 500); 29 Oct 2007 16:08:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2963 invoked by uid 99); 29 Oct 2007 16:08:18 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Oct 2007 09:08:18 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of buschmic@gmail.com designates 209.85.132.249 as permitted sender)
Received: from [209.85.132.249] (HELO an-out-0708.google.com) (209.85.132.249)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Oct 2007 16:08:21 +0000
Received: by an-out-0708.google.com with SMTP id d40so270358and
        for <java-user@lucene.apache.org>; Mon, 29 Oct 2007 09:08:00 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        bh=9XbQ74SKK/DC6hCemWyVFZkquuIJXlDjhnM23qI5Cro=;
        b=r6ATU28CJB0ElSF5ACg8CPqNc8m/scKImTtjcSsSI8IjxwPwgYrzqB+/3913REDLeEynYFiwHP3ZUCjVB0Mz/oKvgYHbFU/oakrTeIYUR2xcsij4yeeTz/1sw/eXVlQYIa6foZlnmu3Lw5e4flAnKz/0nd5sS/gRwBJly8Guc0U=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=Q0V4EpyBKQdx2iCtvcBYx3SU1x2vSNVX1uUL4ez3s2U2bHLg2AWOOKL2LtYf/+ykLUNBJ1+/oo/MTtd8hmalSzUoEhZF5UOQQVJ7oCzrpZ/6hrq70pfEcxpnyp8hKf4P//d0l2d1KkrSRMT4dIAbXhrkiyIp4NASxVAuelAMnaU=
Received: by 10.100.213.19 with SMTP id l19mr1300771ang.1193674080469;
        Mon, 29 Oct 2007 09:08:00 -0700 (PDT)
Received: from ?192.168.1.104? ( [70.137.167.197])
        by mx.google.com with ESMTPS id 44sm4391722hsa.2007.10.29.09.07.54
        (version=TLSv1/SSLv3 cipher=RC4-MD5);
        Mon, 29 Oct 2007 09:07:55 -0700 (PDT)
Message-ID: <47260509.5050506@gmail.com>
Date: Mon, 29 Oct 2007 09:06:33 -0700
From: Michael Busch <buschmic@gmail.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: TermDocs.skipTo
References: <DFE6314F5CE91344A74BD2AA612C93B614124D7F2E@biscuit.ARDENTIASEARCH.local>
In-Reply-To: <DFE6314F5CE91344A74BD2AA612C93B614124D7F2E@biscuit.ARDENTIASEARCH.local>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Mike Streeton wrote:
> e.g. Iterating using TermDocs.next() and TermDocs.doc() 1,50,10000,20000 but suing TermDocs.skipTo(51) returns false indicating that no doc id > 50 exists.

Hi Mike,

I quickly tried to reproduce this (with the same docids), but for me
skipTo() works fine, i. e. td.skipTo(51) returns true and td.doc()
returns 10000 thereafter.

> 
> I will try and create a sample index to show this.

So yes, please provide a testcase showing the problem!

Thanks,
-Michael

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30790-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 29 16:22:50 2007
Return-Path: <java-user-return-30790-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39022 invoked from network); 29 Oct 2007 16:22:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 29 Oct 2007 16:22:50 -0000
Received: (qmail 30941 invoked by uid 500); 29 Oct 2007 16:22:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30905 invoked by uid 500); 29 Oct 2007 16:22:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30894 invoked by uid 99); 29 Oct 2007 16:22:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Oct 2007 09:22:26 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [195.157.150.104] (HELO dolby.com) (195.157.150.104)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Oct 2007 16:22:30 +0000
Received: from ([172.16.55.196])
	by quartz.dolby.com with ESMTP  id 5202053.23721338;
	Mon, 29 Oct 2007 16:21:50  0000
Received: from [172.16.54.25] ([172.16.54.25]) by sparrow.dolby.net with Microsoft SMTPSVC(6.0.3790.3959);
	 Mon, 29 Oct 2007 16:21:50 +0000
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <81EE09A1-B90C-4890-8BD5-168C253A1B8D@gmail.com>
References: <13412435.post@talk.nabble.com> <81EE09A1-B90C-4890-8BD5-168C253A1B8D@gmail.com>
Message-Id: <98455F74-9B82-4631-9A9C-55BE9B58F2D7@dolby.co.uk>
Content-Transfer-Encoding: 7bit
From: Adrian Pillinger <apill@dolby.co.uk>
Subject: Problem with ConstantScoreRangeQuery
Date: Mon, 29 Oct 2007 16:21:48 +0000
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-OriginalArrivalTime: 29 Oct 2007 16:21:50.0404 (UTC) FILETIME=[CF5D0840:01C81A47]
Content-Type: text/plain;
	format="flowed";
	charset="US-ASCII";
	delsp="yes"
X-Virus-Checked: Checked by ClamAV on apache.org

I am programatically creating a query as follows.

     BooleanQuery query = new BooleanQuery();
     ConstantScoreRangeQuery range = new ConstantScoreRangeQuery 
("creationDate", "19500101", "20071029", false, false);
     query.add(range, Occur.MUST);

I am then executing the query which unexpectedly returns no results.

If I take the toString() of the boolean query I get

+creationDate:{19500101 TO 20071029}

Executing this in luke against the exact same index returns results  
as I expect.


Does anyone know what I am doing wrong?


The reason I am using a BooleanQuery is that I want to add extra  
clauses to this query once it is working.

Thanks
Adrian

-----------------------------------------
This message (including any attachments) may contain confidential
information intended for a specific individual and purpose.  If you
are not the intended recipient, delete this message.  If you are
not the intended recipient, disclosing, copying, distributing, or
taking any action based on this message is strictly prohibited.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30791-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 29 16:43:50 2007
Return-Path: <java-user-return-30791-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49846 invoked from network); 29 Oct 2007 16:43:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 29 Oct 2007 16:43:50 -0000
Received: (qmail 71168 invoked by uid 500); 29 Oct 2007 16:43:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71135 invoked by uid 500); 29 Oct 2007 16:43:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71121 invoked by uid 99); 29 Oct 2007 16:43:32 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Oct 2007 09:43:32 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [194.109.24.25] (HELO smtp-vbr5.xs4all.nl) (194.109.24.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Oct 2007 16:43:44 +0000
Received: from k8u.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr5.xs4all.nl (8.13.8/8.13.8) with ESMTP id l9TGhEkU076253
	for <java-user@lucene.apache.org>; Mon, 29 Oct 2007 17:43:15 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Search performance using BooleanQueries in BooleanQueries
Date: Mon, 29 Oct 2007 17:43:14 +0100
User-Agent: KMail/1.9.6 (enterprise 0.20070907.709405)
References: <F8E386B54CE3E6408F3A32ABB9A7908A347CED@hai02.hippointern.lan>
In-Reply-To: <F8E386B54CE3E6408F3A32ABB9A7908A347CED@hai02.hippointern.lan>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200710291743.14297.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org

On Friday 26 October 2007 09:36:58 Ard Schrijvers wrote:
> Hello,
>
> I am seeing that a query with boolean queries in boolean queries takes
> much longer than just a single boolean query when the number of hits if
> fairly large. For example
>
> +prop1:a +prop2:b +prop3:c +prop4:d +prop5:e
>
> is much faster than
>
> (+(+(+(+prop1:a +prop2:b) +prop3:c) +prop4:d) +prop5:e)
>
> where the second one is a result from BooleanQuery in BooleanQuery, and
> all have Occur.MUST.
>
> Is there a way to detect and rewrite the second inefficient query?
> query.rewrite() does not change the query AFAICS.

SImplifying boolean queries like this is not available in Lucene, but it
would have a positive effect on search performance, especially when
prop1:a and prop2:b have a high document frequency.

You could write this yourself, for example by overriding 
BooleanQuery.rewrite(). Take care about query weights, though.

Regards,
Paul Elschot


>
> thanks for any help,
>
> Regards Ard



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30792-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 29 17:06:48 2007
Return-Path: <java-user-return-30792-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65129 invoked from network); 29 Oct 2007 17:06:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 29 Oct 2007 17:06:48 -0000
Received: (qmail 19686 invoked by uid 500); 29 Oct 2007 17:06:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19658 invoked by uid 500); 29 Oct 2007 17:06:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19646 invoked by uid 99); 29 Oct 2007 17:06:29 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Oct 2007 10:06:29 -0700
X-ASF-Spam-Status: No, hits=2.6 required=10.0
	tests=DNS_FROM_OPENWHOIS,SPF_HELO_PASS,SPF_PASS,WHOIS_MYPRIVREG
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of lists@nabble.com designates 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Oct 2007 17:06:41 +0000
Received: from isper.nabble.com ([192.168.236.156])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <lists@nabble.com>)
	id 1ImY43-0003XA-22
	for java-user@lucene.apache.org; Mon, 29 Oct 2007 10:06:11 -0700
Message-ID: <13471852.post@talk.nabble.com>
Date: Mon, 29 Oct 2007 10:06:11 -0700 (PDT)
From: KR <Keith.Rhodes.ext@siemens.com>
To: java-user@lucene.apache.org
Subject: Create and populate a field when indexing
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: Keith.Rhodes.ext@siemens.com
X-Virus-Checked: Checked by ClamAV on apache.org


I've been using the Lucene demo from
http://lucene.apache.org/java/2_1_0/demo.html

I have a set of documents
with filenames that give a good indication of content.

A filename of 12 digits (I think this is [0-9]{12} as a regular
expression) with the extension html is a troubleshooting guide, the number
being an error code. A filename with two or three letters, then a minus
(which would be [a-z]{2,3}- I think), then a known string means the
document is about a particular subject; I have a list of the known strings
matched to subjects.

What I would like to do, is have my indexer create a field named
"category", populated with either the string "troubleshooting" or with the
known string extracted from the filename.

Examples:
For a file named 0000000000111.html the indexer adds the field "category"
with the value "troubleshooting". For a file named xxx-cal-123.html the
indexer adds the field "category" with the value "cal". For a file named
xx-qv-(9).html the indexer adds the field "category" with the value "qv".

Is there a way to do that?

Beef. 
-- 
View this message in context: http://www.nabble.com/Create-and-populate-a-field-when-indexing-tf4713018.html#a13471852
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30793-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 29 19:17:16 2007
Return-Path: <java-user-return-30793-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14244 invoked from network); 29 Oct 2007 19:17:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 29 Oct 2007 19:17:16 -0000
Received: (qmail 34847 invoked by uid 500); 29 Oct 2007 19:16:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34816 invoked by uid 500); 29 Oct 2007 19:16:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34805 invoked by uid 99); 29 Oct 2007 19:16:56 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Oct 2007 12:16:56 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL,WHOIS_MYPRIVREG
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [208.97.132.119] (HELO spunkymail-a11.g.dreamhost.com) (208.97.132.119)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Oct 2007 19:16:56 +0000
Received: from [192.168.0.3] (adsl-074-229-189-244.sip.rmo.bellsouth.net [74.229.189.244])
	by spunkymail-a11.g.dreamhost.com (Postfix) with ESMTP id 2CCF8B86FE
	for <java-user@lucene.apache.org>; Mon, 29 Oct 2007 12:16:35 -0700 (PDT)
Message-Id: <4449172F-9DC9-40A8-8180-7C0E47C4FE68@apache.org>
From: Grant Ingersoll <gsingers@apache.org>
To: java-user@lucene.apache.org
In-Reply-To: <13471852.post@talk.nabble.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed; delsp=yes
Content-Transfer-Encoding: 7bit
Mime-Version: 1.0 (Apple Message framework v912)
Subject: Re: Create and populate a field when indexing
Date: Mon, 29 Oct 2007 15:16:33 -0400
References: <13471852.post@talk.nabble.com>
X-Mailer: Apple Mail (2.912)
X-Virus-Checked: Checked by ClamAV on apache.org

When you are indexing the file and adding the Document, you will need  
to parse out your filename per your regular expression, and then  
create the appropriate field:

Document doc = new Document()
String cat = getCategoryFromFileName(inputFileName)
doc.add(new Field("category", cat, ...)
//do the rest of your adds

Just locate where in the demo the Document add is taking place (I  
forget the exact spot) and then add in the appropriate stuff from  
above.  Obviously, you need to implement the method I stubbed called  
getCategoryFromFileName.

HTH,
Grant
On Oct 29, 2007, at 1:06 PM, KR wrote:

>
> I've been using the Lucene demo from
> http://lucene.apache.org/java/2_1_0/demo.html
>
> I have a set of documents
> with filenames that give a good indication of content.
>
> A filename of 12 digits (I think this is [0-9]{12} as a regular
> expression) with the extension html is a troubleshooting guide, the  
> number
> being an error code. A filename with two or three letters, then a  
> minus
> (which would be [a-z]{2,3}- I think), then a known string means the
> document is about a particular subject; I have a list of the known  
> strings
> matched to subjects.
>
> What I would like to do, is have my indexer create a field named
> "category", populated with either the string "troubleshooting" or  
> with the
> known string extracted from the filename.
>
> Examples:
> For a file named 0000000000111.html the indexer adds the field  
> "category"
> with the value "troubleshooting". For a file named xxx-cal-123.html  
> the
> indexer adds the field "category" with the value "cal". For a file  
> named
> xx-qv-(9).html the indexer adds the field "category" with the value  
> "qv".
>
> Is there a way to do that?
>
> Beef.
> -- 
> View this message in context: http://www.nabble.com/Create-and-populate-a-field-when-indexing-tf4713018.html#a13471852
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

--------------------------
Grant Ingersoll
http://lucene.grantingersoll.com

Lucene Boot Camp Training:
ApacheCon Atlanta, Nov. 12, 2007.  Sign up now!  http://www.apachecon.com

Lucene Helpful Hints:
http://wiki.apache.org/lucene-java/BasicsOfPerformance
http://wiki.apache.org/lucene-java/LuceneFAQ



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30794-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Oct 29 20:05:56 2007
Return-Path: <java-user-return-30794-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29114 invoked from network); 29 Oct 2007 20:05:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 29 Oct 2007 20:05:56 -0000
Received: (qmail 14929 invoked by uid 500); 29 Oct 2007 20:05:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14360 invoked by uid 500); 29 Oct 2007 20:05:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14349 invoked by uid 99); 29 Oct 2007 20:05:37 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Oct 2007 13:05:37 -0700
X-ASF-Spam-Status: No, hits=-1.0 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [192.18.43.133] (HELO sca-es-mail-2.sun.com) (192.18.43.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Oct 2007 20:05:38 +0000
Received: from fe-sfbay-09.sun.com ([192.18.43.129])
	by sca-es-mail-2.sun.com (8.13.7+Sun/8.12.9) with ESMTP id l9TK5HdZ009307
	for <java-user@lucene.apache.org>; Mon, 29 Oct 2007 13:05:17 -0700 (PDT)
Received: from conversion-daemon.fe-sfbay-09.sun.com by fe-sfbay-09.sun.com
 (Sun Java System Messaging Server 6.2-8.04 (built Feb 28 2007))
 id <0JQO00001VPBZ100@fe-sfbay-09.sun.com>
 (original mail from Durga.Tirunagari@Sun.COM) for java-user@lucene.apache.org;
 Mon, 29 Oct 2007 13:05:17 -0700 (PDT)
Received: from [192.18.126.240] by fe-sfbay-09.sun.com
 (Sun Java System Messaging Server 6.2-8.04 (built Feb 28 2007))
 with ESMTPSA id <0JQO00DJAVST67D0@fe-sfbay-09.sun.com> for
 java-user@lucene.apache.org; Mon, 29 Oct 2007 13:05:17 -0700 (PDT)
Date: Mon, 29 Oct 2007 13:05:26 -0700
From: Durga.Tirunagari@Sun.COM
Subject: Distributed Indexes.
In-reply-to: <4449172F-9DC9-40A8-8180-7C0E47C4FE68@apache.org>
Sender: Durga.Tirunagari@Sun.COM
To: java-user@lucene.apache.org
Message-id: <47263D06.20508@Sun.COM>
MIME-version: 1.0
Content-type: text/plain; format=flowed; charset=ISO-8859-1
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
References: <13471852.post@talk.nabble.com>
 <4449172F-9DC9-40A8-8180-7C0E47C4FE68@apache.org>
User-Agent: Mozilla/5.0 (X11; U; SunOS sun4u; en-US; rv:1.7) Gecko/20060629
X-Virus-Checked: Checked by ClamAV on apache.org


HI Folks,

    We are planning on distributing our index data bases. Has any one 
got any recommendations, code samples to how this can be acheived.
Also please provide any performance hits or bottle necks.

 Thanks Much
_Durga

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30795-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 30 04:06:25 2007
Return-Path: <java-user-return-30795-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91255 invoked from network); 30 Oct 2007 04:06:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 30 Oct 2007 04:06:25 -0000
Received: (qmail 17373 invoked by uid 500); 30 Oct 2007 04:06:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16887 invoked by uid 500); 30 Oct 2007 04:06:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16876 invoked by uid 99); 30 Oct 2007 04:06:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Oct 2007 21:06:05 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [17.148.16.77] (HELO smtpoutm.mac.com) (17.148.16.77)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Oct 2007 04:06:08 +0000
Received: from mac.com (asmtp003-s [10.150.69.66])
	by smtpoutm.mac.com (Xserve/smtpout014/MantshX 4.0) with ESMTP id l9U45gXw011874
	for <java-user@lucene.apache.org>; Mon, 29 Oct 2007 21:05:42 -0700 (PDT)
Received: from [10.0.1.198] (va-71-53-212-231.dhcp.embarqhsd.net [71.53.212.231])
	(authenticated bits=0)
	by mac.com (Xserve/asmtp003/MantshX 4.0) with ESMTP id l9U45fem011841
	for <java-user@lucene.apache.org>; Mon, 29 Oct 2007 21:05:41 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
Content-Transfer-Encoding: 7bit
Message-Id: <6C95DE53-AF5A-4FDA-9561-653DA998F140@mac.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
To: java-user@lucene.apache.org
From: Michael Prichard <michael_prichard@mac.com>
Subject: Threading Indexing Processes : Can we write concurrently to Index?
Date: Tue, 30 Oct 2007 00:08:54 -0400
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org

The subject pretty much describes the issue.   If I multithread an  
indexing process can two or more processes write to the same index?   
My knowledge of Lucene says no but I am hoping that I am missing  
something.  Also, what is a good solution?

Thanks.
Michael

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30796-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 30 04:53:09 2007
Return-Path: <java-user-return-30796-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99626 invoked from network); 30 Oct 2007 04:53:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 30 Oct 2007 04:53:09 -0000
Received: (qmail 49247 invoked by uid 500); 30 Oct 2007 04:52:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49211 invoked by uid 500); 30 Oct 2007 04:52:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49200 invoked by uid 99); 30 Oct 2007 04:52:50 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Oct 2007 21:52:50 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 80.76.149.212 is neither permitted nor denied by domain of karl.wettin@gmail.com)
Received: from [80.76.149.212] (HELO ch-smtp01.sth.basefarm.net) (80.76.149.212)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Oct 2007 04:52:53 +0000
Received: from c83-249-118-113.bredband.comhem.se ([83.249.118.113]:62412 helo=[192.168.1.101])
	by ch-smtp01.sth.basefarm.net with esmtp (Exim 4.68)
	(envelope-from <karl.wettin@gmail.com>)
	id 1Imj2Y-0006vR-5Q
	for java-user@lucene.apache.org; Tue, 30 Oct 2007 05:49:22 +0100
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <6C95DE53-AF5A-4FDA-9561-653DA998F140@mac.com>
References: <6C95DE53-AF5A-4FDA-9561-653DA998F140@mac.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <506B60AA-C882-462A-B105-18158B8063DD@gmail.com>
Content-Transfer-Encoding: 7bit
From: Karl Wettin <karl.wettin@gmail.com>
Subject: Re: Threading Indexing Processes : Can we write concurrently to Index?
Date: Tue, 30 Oct 2007 05:49:19 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Originating-IP: 83.249.118.113
X-Scan-Result: No virus found in message 1Imj2Y-0006vR-5Q.
X-Scan-Signature: ch-smtp01.sth.basefarm.net 1Imj2Y-0006vR-5Q 88fd7a8804b26db9f65546bd0fd5ebf1
X-Virus-Checked: Checked by ClamAV on apache.org


30 okt 2007 kl. 05.08 skrev Michael Prichard:

> If I multithread an indexing process can two or more processes  
> write to the same index?

Multiple threads can add documents to the same writer. Multiple  
threads can usually not write using each a writer.


-- 
karl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30797-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 30 06:12:44 2007
Return-Path: <java-user-return-30797-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17008 invoked from network); 30 Oct 2007 06:12:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 30 Oct 2007 06:12:44 -0000
Received: (qmail 18589 invoked by uid 500); 30 Oct 2007 06:12:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18179 invoked by uid 500); 30 Oct 2007 06:12:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18165 invoked by uid 99); 30 Oct 2007 06:12:25 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Oct 2007 23:12:25 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [206.190.38.60] (HELO web50306.mail.re2.yahoo.com) (206.190.38.60)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 30 Oct 2007 06:12:37 +0000
Received: (qmail 79338 invoked by uid 60001); 30 Oct 2007 06:12:05 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Message-ID;
  b=4VW2zTRa3r0+qZgMTSc4kMO28bW84uGH57AZ+wEWEJWYWNYXsx7OD8bTLUw2kY/At4rIPbHoTqng2IAQpYox7QjQR6GpljQspc2cdhhdbgd/YWyy6FksChUlq7QFwdMz6+RqkXirATIRtfmF8h9YhHkekqGpD5FHh22IPKcp9WU=;
X-YMail-OSG: rQcDz2sVM1k2zQtDQYGdD10iRMLprT3hkdGQvYeHWTtwaAHJ7ZuiMdGVF.lxm9Kr3TumiNhMvLCEDvWBnKJFReoEiv5vptiBhRtchGvJY5bh4cnO3EjIrSzpx9fTEQHga_5i9xj1_G4DPso-
Received: from [72.231.9.236] by web50306.mail.re2.yahoo.com via HTTP; Mon, 29 Oct 2007 23:12:04 PDT
X-Mailer: YahooMailRC/814.06 YahooMailWebService/0.7.152
Date: Mon, 29 Oct 2007 23:12:04 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Distributed Indexes.
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Message-ID: <957322.75089.qm@web50306.mail.re2.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Are you looking for something a la http://wiki.apache.org/solr/CollectionDistribution ?

Otis
--
Sematext -- http://sematext.com/ -- Lucene - Solr - Nutch

----- Original Message ----
From: "Durga.Tirunagari@Sun.COM" <Durga.Tirunagari@Sun.COM>
To: java-user@lucene.apache.org
Sent: Monday, October 29, 2007 4:05:26 PM
Subject: Distributed Indexes.



HI Folks,

    We are planning on distributing our index data bases. Has any one 
got any recommendations, code samples to how this can be acheived.
Also please provide any performance hits or bottle necks.

 Thanks Much
_Durga

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30798-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 30 09:20:26 2007
Return-Path: <java-user-return-30798-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63263 invoked from network); 30 Oct 2007 09:20:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 30 Oct 2007 09:20:26 -0000
Received: (qmail 38683 invoked by uid 500); 30 Oct 2007 09:18:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38659 invoked by uid 500); 30 Oct 2007 09:18:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38645 invoked by uid 99); 30 Oct 2007 09:18:45 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Oct 2007 02:18:45 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [213.133.51.241] (HELO mail.hippo.nl) (213.133.51.241)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Oct 2007 09:18:49 +0000
X-MimeOLE: Produced By Microsoft Exchange V6.5.7235.2
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Search performance using BooleanQueries in BooleanQueries
Date: Tue, 30 Oct 2007 10:18:25 +0100
Message-ID: <F8E386B54CE3E6408F3A32ABB9A7908A347D25@hai02.hippointern.lan>
In-Reply-To: <200710291743.14297.paul.elschot@xs4all.nl>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Search performance using BooleanQueries in BooleanQueries
Thread-Index: AcgaSuHUeraT090iQBSFnWw+jtgtzgAit9MQ
References: <F8E386B54CE3E6408F3A32ABB9A7908A347CED@hai02.hippointern.lan> <200710291743.14297.paul.elschot@xs4all.nl>
From: "Ard Schrijvers" <a.schrijvers@hippo.nl>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org



> On Friday 26 October 2007 09:36:58 Ard Schrijvers wrote:
> > Hello,
> >
> > I am seeing that a query with boolean queries in boolean=20
> queries takes=20
> > much longer than just a single boolean query when the=20
> number of hits=20
> > if fairly large. For example
> >
> > +prop1:a +prop2:b +prop3:c +prop4:d +prop5:e
> >
> > is much faster than
> >
> > (+(+(+(+prop1:a +prop2:b) +prop3:c) +prop4:d) +prop5:e)
> >
> > where the second one is a result from BooleanQuery in BooleanQuery,=20
> > and all have Occur.MUST.
> >
> > Is there a way to detect and rewrite the second inefficient query?
> > query.rewrite() does not change the query AFAICS.
>=20
> SImplifying boolean queries like this is not available in=20
> Lucene, but it would have a positive effect on search=20
> performance, especially when prop1:a and prop2:b have a high=20
> document frequency.
>=20
> You could write this yourself, for example by overriding=20
> BooleanQuery.rewrite(). Take care about query weights, though.

Thanks for the pointer!

Regards Ard

>=20
> Regards,
> Paul Elschot
>=20
>=20
> >
> > thanks for any help,
> >
> > Regards Ard
>=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30799-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 30 10:59:50 2007
Return-Path: <java-user-return-30799-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8144 invoked from network); 30 Oct 2007 10:59:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 30 Oct 2007 10:59:50 -0000
Received: (qmail 82924 invoked by uid 500); 30 Oct 2007 10:59:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82892 invoked by uid 500); 30 Oct 2007 10:59:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82876 invoked by uid 99); 30 Oct 2007 10:59:30 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Oct 2007 03:59:30 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [212.52.84.42] (HELO smtp-out2.libero.it) (212.52.84.42)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Oct 2007 10:59:34 +0000
Received: from MailRelay09.libero.it (192.168.32.116) by smtp-out2.libero.it (7.3.120)
        id 4688F31B0D16E318 for java-user@lucene.apache.org; Tue, 30 Oct 2007 11:59:13 +0100
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: AgAAAKuqJkeXBZRe/2dsb2JhbAAM
Received: from unknown (HELO [192.168.233.64]) ([151.5.148.94])
  by outrelay-b09.libero.it with ESMTP; 30 Oct 2007 11:59:05 +0100
Message-ID: <47270DFF.8020301@libero.it>
Date: Tue, 30 Oct 2007 11:57:03 +0100
From: Marco <spinmar@libero.it>
User-Agent: Mozilla Thunderbird 1.5.0.13 (Windows/20070809)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: org.apache.lucene.analysis.ngram ???
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

I'm trying to use the class 
org.apache.lucene.analysis.ngram.EdgeNGramTokenizer.
I 'm using lucene 2.2.0 and I included i my classpath lucene-core-2.2.0.jar.
I have:
Java HotSpot(TM) Client VM (build 1.6.0-b105, mixed mode, sharing)
When I try to compile my code I'm getting:

package org.apache.lucene.analysis.ngram does not exist

while in the package summary of lucene I see it 
(http://lucene.apache.org/java/2_2_0/api/index.html?org/apache/lucene/search/function/package-summary.html).
Am I missing something?
Can someone tell me where can I download the missing classes?
Best regards

Marco


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30800-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 30 11:24:07 2007
Return-Path: <java-user-return-30800-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17606 invoked from network); 30 Oct 2007 11:24:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 30 Oct 2007 11:24:07 -0000
Received: (qmail 18598 invoked by uid 500); 30 Oct 2007 11:23:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18574 invoked by uid 500); 30 Oct 2007 11:23:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18562 invoked by uid 99); 30 Oct 2007 11:23:25 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Oct 2007 04:23:25 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of lucenelist2007@danielnaber.de designates 80.67.29.8 as permitted sender)
Received: from [80.67.29.8] (HELO smtprelay08.ispgateway.de) (80.67.29.8)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Oct 2007 11:23:39 +0000
Received: (qmail 18503 invoked from network); 30 Oct 2007 11:23:06 -0000
Received: from unknown (HELO p54bfdce0.dip.t-dialin.net) (695637@[84.191.220.224])
          (envelope-sender <lucenelist2007@danielnaber.de>)
          by smtprelay08.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 30 Oct 2007 11:23:06 -0000
From: Daniel Naber <lucenelist2007@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: org.apache.lucene.analysis.ngram ???
Date: Tue, 30 Oct 2007 12:19:42 +0100
User-Agent: KMail/1.8.2
References: <47270DFF.8020301@libero.it>
In-Reply-To: <47270DFF.8020301@libero.it>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200710301219.42600@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org

On Tuesday 30 October 2007 11:57, Marco wrote:

> I'm trying to use the class
> org.apache.lucene.analysis.ngram.EdgeNGramTokenizer.
> I 'm using lucene 2.2.0 and I included i my classpath
> lucene-core-2.2.0.jar. I have:

That class is in contrib/analyzers/lucene-analyzers-2.2.0.jar

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30801-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 30 11:34:20 2007
Return-Path: <java-user-return-30801-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23217 invoked from network); 30 Oct 2007 11:34:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 30 Oct 2007 11:34:20 -0000
Received: (qmail 29621 invoked by uid 500); 30 Oct 2007 11:33:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29589 invoked by uid 500); 30 Oct 2007 11:33:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29578 invoked by uid 99); 30 Oct 2007 11:33:52 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Oct 2007 04:33:52 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [212.52.84.46] (HELO smtp-out4.libero.it) (212.52.84.46)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Oct 2007 11:34:08 +0000
Received: from MailRelay09.libero.it (192.168.32.116) by smtp-out4.libero.it (7.3.120)
        id 4688F3500CFE59C2 for java-user@lucene.apache.org; Tue, 30 Oct 2007 12:33:35 +0100
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: AgAAAA6zJkeXBZRe/2dsb2JhbAAM
Received: from unknown (HELO [192.168.233.64]) ([151.5.148.94])
  by outrelay-b09.libero.it with ESMTP; 30 Oct 2007 12:33:34 +0100
Message-ID: <47271614.40601@libero.it>
Date: Tue, 30 Oct 2007 12:31:32 +0100
From: Marco <spinmar@libero.it>
User-Agent: Mozilla Thunderbird 1.5.0.13 (Windows/20070809)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: org.apache.lucene.analysis.ngram ???
References: <47270DFF.8020301@libero.it> <200710301219.42600@danielnaber.de>
In-Reply-To: <200710301219.42600@danielnaber.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

And where can I download it?
Regards
Marco

Daniel Naber ha scritto:
> On Tuesday 30 October 2007 11:57, Marco wrote:
>
>   
>> I'm trying to use the class
>> org.apache.lucene.analysis.ngram.EdgeNGramTokenizer.
>> I 'm using lucene 2.2.0 and I included i my classpath
>> lucene-core-2.2.0.jar. I have:
>>     
>
> That class is in contrib/analyzers/lucene-analyzers-2.2.0.jar
>
> Regards
>  Daniel
>
>   

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30802-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 30 11:41:44 2007
Return-Path: <java-user-return-30802-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27408 invoked from network); 30 Oct 2007 11:41:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 30 Oct 2007 11:41:44 -0000
Received: (qmail 36402 invoked by uid 500); 30 Oct 2007 11:41:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36376 invoked by uid 500); 30 Oct 2007 11:41:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36365 invoked by uid 99); 30 Oct 2007 11:41:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Oct 2007 04:41:26 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [212.52.84.46] (HELO smtp-out4.libero.it) (212.52.84.46)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Oct 2007 11:41:30 +0000
Received: from MailRelay09.libero.it (192.168.32.116) by smtp-out4.libero.it (7.3.120)
        id 4688F3500CFE9AC3 for java-user@lucene.apache.org; Tue, 30 Oct 2007 12:41:08 +0100
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: AgAAAGa1JkeXBZRe/2dsb2JhbAAM
Received: from unknown (HELO [192.168.233.64]) ([151.5.148.94])
  by outrelay-b09.libero.it with ESMTP; 30 Oct 2007 12:41:03 +0100
Message-ID: <472717D4.7090609@libero.it>
Date: Tue, 30 Oct 2007 12:39:00 +0100
From: Marco <spinmar@libero.it>
User-Agent: Mozilla Thunderbird 1.5.0.13 (Windows/20070809)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: org.apache.lucene.analysis.ngram ???
References: <47270DFF.8020301@libero.it> <200710301219.42600@danielnaber.de> <47271614.40601@libero.it>
In-Reply-To: <47271614.40601@libero.it>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Sorry.
I found it ....
Bye


Marco ha scritto:
> And where can I download it?
> Regards
> Marco
>
> Daniel Naber ha scritto:
>> On Tuesday 30 October 2007 11:57, Marco wrote:
>>
>>  
>>> I'm trying to use the class
>>> org.apache.lucene.analysis.ngram.EdgeNGramTokenizer.
>>> I 'm using lucene 2.2.0 and I included i my classpath
>>> lucene-core-2.2.0.jar. I have:
>>>     
>>
>> That class is in contrib/analyzers/lucene-analyzers-2.2.0.jar
>>
>> Regards
>>  Daniel
>>
>>   
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30803-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 30 13:07:41 2007
Return-Path: <java-user-return-30803-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58115 invoked from network); 30 Oct 2007 13:07:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 30 Oct 2007 13:07:41 -0000
Received: (qmail 76907 invoked by uid 500); 30 Oct 2007 13:07:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76509 invoked by uid 500); 30 Oct 2007 13:07:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76498 invoked by uid 99); 30 Oct 2007 13:07:22 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Oct 2007 06:07:22 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [17.148.16.79] (HELO smtpoutm.mac.com) (17.148.16.79)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Oct 2007 13:07:25 +0000
Received: from mac.com (asmtp003-s [10.150.69.66])
	by smtpoutm.mac.com (Xserve/smtpout016/MantshX 4.0) with ESMTP id l9UD756m028483
	for <java-user@lucene.apache.org>; Tue, 30 Oct 2007 06:07:05 -0700 (PDT)
Received: from [10.0.1.198] (va-71-53-212-231.dhcp.embarqhsd.net [71.53.212.231])
	(authenticated bits=0)
	by mac.com (Xserve/asmtp003/MantshX 4.0) with ESMTP id l9UD732x000520
	for <java-user@lucene.apache.org>; Tue, 30 Oct 2007 06:07:04 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <506B60AA-C882-462A-B105-18158B8063DD@gmail.com>
References: <6C95DE53-AF5A-4FDA-9561-653DA998F140@mac.com> <506B60AA-C882-462A-B105-18158B8063DD@gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <324A6792-0167-4C67-AEC6-D12D685A5E7D@mac.com>
Content-Transfer-Encoding: 7bit
From: Michael Prichard <michael_prichard@mac.com>
Subject: Re: Threading Indexing Processes : Can we write concurrently to Index?
Date: Tue, 30 Oct 2007 09:10:16 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org

So I should create a singe IndexWriter but allow multiple threads to  
use it?


On Oct 30, 2007, at 12:49 AM, Karl Wettin wrote:

>
> 30 okt 2007 kl. 05.08 skrev Michael Prichard:
>
>> If I multithread an indexing process can two or more processes  
>> write to the same index?
>
> Multiple threads can add documents to the same writer. Multiple  
> threads can usually not write using each a writer.
>
>
> -- 
> karl
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30804-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 30 13:28:45 2007
Return-Path: <java-user-return-30804-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65384 invoked from network); 30 Oct 2007 13:28:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 30 Oct 2007 13:28:45 -0000
Received: (qmail 25135 invoked by uid 500); 30 Oct 2007 13:27:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25110 invoked by uid 500); 30 Oct 2007 13:27:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25094 invoked by uid 99); 30 Oct 2007 13:27:17 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Oct 2007 06:27:17 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of askxuefeng@gmail.com designates 209.85.198.185 as permitted sender)
Received: from [209.85.198.185] (HELO rv-out-0910.google.com) (209.85.198.185)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Oct 2007 13:27:19 +0000
Received: by rv-out-0910.google.com with SMTP id k20so1597407rvb
        for <java-user@lucene.apache.org>; Tue, 30 Oct 2007 06:26:58 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:from:to:references:subject:date:message-id:mime-version:content-type:content-transfer-encoding:x-mailer:in-reply-to:x-mimeole:thread-index;
        bh=M2kfnKXk+axW+AmqcOriy/unOdG5B3qEA/O0tuFZD58=;
        b=HxmQNEt8Jl++oC4aeWpJsrt65DeuWDkkBbTJGonzaNekoV+dGTYqBsTaPbZuFOFsNXdZz1etxW8VHwOBVSJHOIuPqAf1ZZBcV+S9K/ZpHpKNiAz6Kdz1G8UwLmk2WZKnJFOx/5UPyG/giAu3Ypd6rPPmSUudW9eXgJHaiQZ2mjo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:from:to:references:subject:date:message-id:mime-version:content-type:content-transfer-encoding:x-mailer:in-reply-to:x-mimeole:thread-index;
        b=tyy+t35u+lblYS0H/kP3oJrYPT8ZYNhnZMiXJZCkIlHP18gxOkiSu7Dt4TVnL9oryjLQQkudi75SLlJFJuKEwyC64DVeERPIdVl5qqhyTyuiL/VrvsMdrj027TvNMz6v17c98JBW0dkd5sUV4eTnwXK/uLyvCDAgGIWZFoLq+Pw=
Received: by 10.140.166.21 with SMTP id o21mr3307483rve.1193750818317;
        Tue, 30 Oct 2007 06:26:58 -0700 (PDT)
Received: from xliao ( [221.220.177.1])
        by mx.google.com with ESMTPS id k14sm12962930rvb.2007.10.30.06.26.52
        (version=SSLv3 cipher=RC4-MD5);
        Tue, 30 Oct 2007 06:26:54 -0700 (PDT)
From: "askxuefeng" <askxuefeng@gmail.com>
To: <java-user@lucene.apache.org>
References: <6C95DE53-AF5A-4FDA-9561-653DA998F140@mac.com> <506B60AA-C882-462A-B105-18158B8063DD@gmail.com> <324A6792-0167-4C67-AEC6-D12D685A5E7D@mac.com>
Subject: RE: Threading Indexing Processes : Can we write concurrently to Index?
Date: Tue, 30 Oct 2007 21:26:45 +0800
Message-ID: <001101c81af8$87ff5b90$6300a8c0@asiapacific.hpqcorp.net>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
In-Reply-To: <324A6792-0167-4C67-AEC6-D12D685A5E7D@mac.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3138
Thread-Index: Acga9dv6GbOmbPwwQ1qeENh8N9nIaQAAnXww
X-Virus-Checked: Checked by ClamAV on apache.org

You can use a queue to let IndexWriter do its work asychronize 

-----Original Message-----
From: Michael Prichard [mailto:michael_prichard@mac.com] 
Sent: Tuesday, October 30, 2007 9:10 PM
To: java-user@lucene.apache.org
Subject: Re: Threading Indexing Processes : Can we write concurrently to
Index?

So I should create a singe IndexWriter but allow multiple threads to use it?


On Oct 30, 2007, at 12:49 AM, Karl Wettin wrote:

>
> 30 okt 2007 kl. 05.08 skrev Michael Prichard:
>
>> If I multithread an indexing process can two or more processes write 
>> to the same index?
>
> Multiple threads can add documents to the same writer. Multiple 
> threads can usually not write using each a writer.
>
>
> --
> karl
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30805-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 30 16:10:11 2007
Return-Path: <java-user-return-30805-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26818 invoked from network); 30 Oct 2007 16:10:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 30 Oct 2007 16:10:11 -0000
Received: (qmail 44690 invoked by uid 500); 30 Oct 2007 15:59:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44664 invoked by uid 500); 30 Oct 2007 15:59:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44653 invoked by uid 99); 30 Oct 2007 15:59:20 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Oct 2007 08:59:20 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [62.181.193.4] (HELO drutten.citerus.net) (62.181.193.4)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Oct 2007 15:59:24 +0000
Received: from drutten.citerus.net ([62.181.193.4]) by drutten.citerus.net
 ([62.181.193.4]) with mapi; Tue, 30 Oct 2007 16:58:09 +0100
From: Tobias Hill <Tobias.Hill@citerus.se>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Tue, 30 Oct 2007 16:58:09 +0100
Subject: Looking for "Exact match but no other terms"... how to express it? 
Thread-Topic: Looking for "Exact match but no other terms"... how to express
 it? 
Thread-Index: AQHIGw2qpw4sBqcPWEGnureEA4K+Ig==
Message-ID: <BBD1371A36A8D8458F94E4AC71DBEC051588DCA2FE@drutten.citerus.net>
Accept-Language: sv-SE, en-US
Content-Language: sv-SE
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: sv-SE, en-US
Content-Type: multipart/alternative;
	boundary="_000_BBD1371A36A8D8458F94E4AC71DBEC051588DCA2FEdruttenciteru_"
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

--_000_BBD1371A36A8D8458F94E4AC71DBEC051588DCA2FEdruttenciteru_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I want to match on the exact phrase "foo bar dot" on a
specific field on my set of documents.

I only want results where that field has exactly "foo bar dot"
and no more terms. I.e. A document with "foo bar dot alu"
should not match.

A phrase query with slop 0 seems resonable but how do I
express "but nothing more than these terms".

Thankful for your feedback on this!
Tobias

--_000_BBD1371A36A8D8458F94E4AC71DBEC051588DCA2FEdruttenciteru_--

From java-user-return-30806-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 30 16:29:46 2007
Return-Path: <java-user-return-30806-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34150 invoked from network); 30 Oct 2007 16:29:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 30 Oct 2007 16:29:46 -0000
Received: (qmail 90139 invoked by uid 500); 30 Oct 2007 16:22:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90115 invoked by uid 500); 30 Oct 2007 16:22:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90100 invoked by uid 99); 30 Oct 2007 16:22:37 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Oct 2007 09:22:37 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [194.125.145.37] (HELO mercury.propylon.com) (194.125.145.37)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Oct 2007 16:22:40 +0000
Received: from propylon-sdsl.sdsl.esat.net ([193.120.101.26] helo=[192.168.213.155])
	by mercury.propylon.com with esmtp (Exim 4.50)
	id 1Imtns-0003aP-8l
	for java-user@lucene.apache.org; Tue, 30 Oct 2007 16:19:07 +0000
Message-ID: <47275A29.7090108@propylon.com>
Date: Tue, 30 Oct 2007 16:22:01 +0000
From: John Byrne <john.byrne@propylon.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
References: <BBD1371A36A8D8458F94E4AC71DBEC051588DCA2FE@drutten.citerus.net>
In-Reply-To: <BBD1371A36A8D8458F94E4AC71DBEC051588DCA2FE@drutten.citerus.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-SA-Exim-Connect-IP: 193.120.101.26
X-SA-Exim-Mail-From: john.byrne@propylon.com
Subject: Re: Looking for "Exact match but no other terms"... how to express
 it?
X-Spam-Checker-Version: SpamAssassin 3.0.3 (2005-04-27) on 
	mercury.propylon.com
X-Spam-Level: 
X-SA-Exim-Version: 4.2 (built Thu, 03 Mar 2005 10:44:12 +0100)
X-SA-Exim-Scanned: Yes (on mercury.propylon.com)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=0.1 required=5.0 tests=AWL autolearn=failed 
	version=3.0.3

Tobias Hill wrote:
> I want to match on the exact phrase "foo bar dot" on a
> specific field on my set of documents.
>
> I only want results where that field has exactly "foo bar dot"
> and no more terms. I.e. A document with "foo bar dot alu"
> should not match.
>
> A phrase query with slop 0 seems resonable but how do I
> express "but nothing more than these terms".
>
> Thankful for your feedback on this!
> Tobias
>
>   
You can do this by storing the text in an un-tokenized field. This is an 
option when you create the field. use "Field.Index.UN_TOKENIZED" as the 
option when you create the field. Then individual terms or phrases will 
not match that field. You will still be able to match it with the exact 
text, a wildcard query, or a range query.

So in your case, if the field contained "foo bar dot" you would not get 
a hit for "foo bar dot alu", but you would for "foo bar dot",  "foo*", 
"f*" or even "*".

Hope that helps!

Regards,
John.






---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30807-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 30 16:48:36 2007
Return-Path: <java-user-return-30807-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41161 invoked from network); 30 Oct 2007 16:48:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 30 Oct 2007 16:48:35 -0000
Received: (qmail 17837 invoked by uid 500); 30 Oct 2007 16:38:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17807 invoked by uid 500); 30 Oct 2007 16:38:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17794 invoked by uid 99); 30 Oct 2007 16:38:38 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Oct 2007 09:38:38 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: 80.76.149.213 is neither permitted nor denied by domain of karl.wettin@gmail.com)
Received: from [80.76.149.213] (HELO ch-smtp02.sth.basefarm.net) (80.76.149.213)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Oct 2007 16:38:52 +0000
Received: from c83-249-118-113.bredband.comhem.se ([83.249.118.113]:65478 helo=[192.168.1.101])
	by ch-smtp02.sth.basefarm.net with esmtp (Exim 4.68)
	(envelope-from <karl.wettin@gmail.com>)
	id 1Imu6d-0002f2-8c
	for java-user@lucene.apache.org; Tue, 30 Oct 2007 17:38:19 +0100
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <BBD1371A36A8D8458F94E4AC71DBEC051588DCA2FE@drutten.citerus.net>
References: <BBD1371A36A8D8458F94E4AC71DBEC051588DCA2FE@drutten.citerus.net>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <9E2DC4E4-D37A-43B7-A647-3053E09842E3@gmail.com>
Content-Transfer-Encoding: 7bit
From: Karl Wettin <karl.wettin@gmail.com>
Subject: Re: Looking for "Exact match but no other terms"... how to express it? 
Date: Tue, 30 Oct 2007 17:38:17 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Originating-IP: 83.249.118.113
X-Scan-Result: No virus found in message 1Imu6d-0002f2-8c.
X-Scan-Signature: ch-smtp02.sth.basefarm.net 1Imu6d-0002f2-8c fe7d99a926adc42db308ad536823c212
X-Virus-Checked: Checked by ClamAV on apache.org


30 okt 2007 kl. 16.58 skrev Tobias Hill:

>
> I only want results where that field has exactly "foo bar dot"
> and no more terms. I.e. A document with "foo bar dot alu"
> should not match.
>
> A phrase query with slop 0 seems resonable but how do I
> express "but nothing more than these terms".

There is no such feature in Lucene, however you could add prefix and  
suffix tokens to your index and include these in your search, for  
instance "^ foo bar dot alu $". This will however mess up your  
SpanFirst-queries.


-- 
karl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30808-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 30 16:56:22 2007
Return-Path: <java-user-return-30808-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43898 invoked from network); 30 Oct 2007 16:56:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 30 Oct 2007 16:56:22 -0000
Received: (qmail 38352 invoked by uid 500); 30 Oct 2007 16:49:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38325 invoked by uid 500); 30 Oct 2007 16:49:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38313 invoked by uid 99); 30 Oct 2007 16:49:57 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Oct 2007 09:49:57 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [212.52.84.42] (HELO smtp-out2.libero.it) (212.52.84.42)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Oct 2007 16:49:59 +0000
Received: from MailRelay10.libero.it (192.168.32.119) by smtp-out2.libero.it (7.3.120)
        id 4688F31B0D232BB3 for java-user@lucene.apache.org; Tue, 30 Oct 2007 17:49:38 +0100
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: AgAAAFz9JkeXBZRe/2dsb2JhbAAM
Received: from unknown (HELO [192.168.233.64]) ([151.5.148.94])
  by outrelay-b10.libero.it with ESMTP; 30 Oct 2007 17:48:42 +0100
Message-ID: <47275FEF.7060100@libero.it>
Date: Tue, 30 Oct 2007 17:46:39 +0100
From: Marco <spinmar@libero.it>
User-Agent: Mozilla Thunderbird 1.5.0.13 (Windows/20070809)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: EdgeNGramTokenizer
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hi all,
I'm following the suggestion of this forum on how create a suggestion 
service like google suggest.
I'm parsing a words/rank file with my words.
For each word, I'm adding a document with content and rank in in index: 
then I create a EdgeNGramTokenizer of the word. This gives me N words 
and I add each one in a new field of the index.
So for each word in the index I have:
- content (for example apple)
- rank
- X initial letters of the word (for example app)
- X+1 initial letters of the word (for example appl)
- X+2 initial letters of the word (for example apple)
....
- Y initial letters of the word (for example app)

I add each additional field in the index as:

doc.add(new Field(name_gram, tn.termText(), Field.Store.NO, 
Field.Index.UN_TOKENIZED));

When an user search a word, for example app, I have to query the index 
the right field.
I calculate the length of the input and the I query the right field and 
the I get the content of the docs.
Is it ok?
For search I use:

String field_ok = field + line.length(); 
QueryParser parser = new QueryParser(field_ok, analyzer);
Query query = parser.parse(line);
System.out.println("Searching for: " + query.toString(field_ok));
Hits hits = searcher.search(query, new Sort("rank", true));


All is ok if the input of the user doesn't contain spaces...
Am I missing something?
Best regards

Marco


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30809-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 30 16:59:29 2007
Return-Path: <java-user-return-30809-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47191 invoked from network); 30 Oct 2007 16:59:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 30 Oct 2007 16:59:29 -0000
Received: (qmail 58804 invoked by uid 500); 30 Oct 2007 16:56:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58773 invoked by uid 500); 30 Oct 2007 16:56:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58758 invoked by uid 99); 30 Oct 2007 16:56:12 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Oct 2007 09:56:12 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [194.109.24.33] (HELO smtp-vbr13.xs4all.nl) (194.109.24.33)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Oct 2007 16:56:15 +0000
Received: from k8u.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr13.xs4all.nl (8.13.8/8.13.8) with ESMTP id l9UGtrF8074362
	for <java-user@lucene.apache.org>; Tue, 30 Oct 2007 17:55:54 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Looking for "Exact match but no other terms"... how to express it?
Date: Tue, 30 Oct 2007 17:55:53 +0100
User-Agent: KMail/1.9.6 (enterprise 0.20070907.709405)
References: <BBD1371A36A8D8458F94E4AC71DBEC051588DCA2FE@drutten.citerus.net>
In-Reply-To: <BBD1371A36A8D8458F94E4AC71DBEC051588DCA2FE@drutten.citerus.net>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200710301755.53587.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org

On Tuesday 30 October 2007 16:58:09 Tobias Hill wrote:
> I want to match on the exact phrase "foo bar dot" on a
> specific field on my set of documents.
>
> I only want results where that field has exactly "foo bar dot"
> and no more terms. I.e. A document with "foo bar dot alu"
> should not match.
>
> A phrase query with slop 0 seems resonable but how do I
> express "but nothing more than these terms".

Another way to do this is by indexing a special begin and end token before and 
after the tokens of the field, and by extending your queries with these 
special tokens, for example: "=begin= foo bar dot =end=" .

Regards,
Paul Elschot

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30810-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 30 17:39:53 2007
Return-Path: <java-user-return-30810-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68422 invoked from network); 30 Oct 2007 17:39:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 30 Oct 2007 17:39:53 -0000
Received: (qmail 38007 invoked by uid 500); 30 Oct 2007 17:38:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37978 invoked by uid 500); 30 Oct 2007 17:38:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37966 invoked by uid 99); 30 Oct 2007 17:38:48 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Oct 2007 10:38:48 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [212.52.84.42] (HELO smtp-out2.libero.it) (212.52.84.42)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Oct 2007 17:38:51 +0000
Received: from MailRelay10.libero.it (192.168.32.119) by smtp-out2.libero.it (7.3.120)
        id 4688F31B0D24C21E for java-user@lucene.apache.org; Tue, 30 Oct 2007 18:38:30 +0100
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: AgAAANcIJ0eXBZRe/2dsb2JhbAAM
Received: from unknown (HELO [192.168.233.64]) ([151.5.148.94])
  by outrelay-b10.libero.it with ESMTP; 30 Oct 2007 18:36:57 +0100
Message-ID: <47276B47.8090407@libero.it>
Date: Tue, 30 Oct 2007 18:35:03 +0100
From: Marco <spinmar@libero.it>
User-Agent: Mozilla Thunderbird 1.5.0.13 (Windows/20070809)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: EdgeNGramTokenizer
References: <47275FEF.7060100@libero.it>
In-Reply-To: <47275FEF.7060100@libero.it>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

It seems that the problem is when I add the token created by 
EdgeNGramTokenizer in in the index.
If the token contains a space (for example apple com) I have to add to 
the index with Field.Index.TOKENIZED otherwise the search cannot find it.
If there is no space there is no problem even if I use 
Field.Index.UN_TOKENIZED.
So I'd like to know if there is speed search difference insertinf a 
field as TOKENIZED or UN_TOKENIZED.
Best regards



Marco ha scritto:
> Hi all,
> I'm following the suggestion of this forum on how create a suggestion 
> service like google suggest.
> I'm parsing a words/rank file with my words.
> For each word, I'm adding a document with content and rank in in 
> index: then I create a EdgeNGramTokenizer of the word. This gives me N 
> words and I add each one in a new field of the index.
> So for each word in the index I have:
> - content (for example apple)
> - rank
> - X initial letters of the word (for example app)
> - X+1 initial letters of the word (for example appl)
> - X+2 initial letters of the word (for example apple)
> ....
> - Y initial letters of the word (for example app)
>
> I add each additional field in the index as:
>
> doc.add(new Field(name_gram, tn.termText(), Field.Store.NO, 
> Field.Index.UN_TOKENIZED));
>
> When an user search a word, for example app, I have to query the index 
> the right field.
> I calculate the length of the input and the I query the right field 
> and the I get the content of the docs.
> Is it ok?
> For search I use:
>
> String field_ok = field + line.length(); QueryParser parser = new 
> QueryParser(field_ok, analyzer);
> Query query = parser.parse(line);
> System.out.println("Searching for: " + query.toString(field_ok));
> Hits hits = searcher.search(query, new Sort("rank", true));
>
>
> All is ok if the input of the user doesn't contain spaces...
> Am I missing something?
> Best regards
>
> Marco
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30811-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 30 20:34:30 2007
Return-Path: <java-user-return-30811-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66626 invoked from network); 30 Oct 2007 20:34:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 30 Oct 2007 20:34:30 -0000
Received: (qmail 26326 invoked by uid 500); 30 Oct 2007 20:34:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25962 invoked by uid 500); 30 Oct 2007 20:34:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25951 invoked by uid 99); 30 Oct 2007 20:34:11 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Oct 2007 13:34:11 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [216.129.90.200] (HELO arrows.electric.net) (216.129.90.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Oct 2007 20:34:25 +0000
Received: from 1ImxmX-000739-WE by arrows.electric.net with emc1-ok (Exim 4.67)
	(envelope-from <bruno.dery@evidencematters.com>)
	id 1ImxmY-000745-W8
	for java-user@lucene.apache.org; Tue, 30 Oct 2007 13:33:51 -0700
Received: by emcmailer; Tue, 30 Oct 2007 13:33:50 -0700
Received: from [69.70.74.198] (helo=BRUNO)
	by arrows.electric.net with esmtpa (Exim 4.67)
	(envelope-from <bruno.dery@evidencematters.com>)
	id 1ImxmX-000739-WE
	for java-user@lucene.apache.org; Tue, 30 Oct 2007 13:33:50 -0700
From: "Bruno Dery" <bruno.dery@evidencematters.com>
To: <java-user@lucene.apache.org>
Subject: Document boost, is it working?
Date: Tue, 30 Oct 2007 16:26:04 -0400
Organization: Evidence Matters
Message-ID: <001501c81b33$1887e3a0$0a00a8c0@BRUNO>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0016_01C81B11.917643A0"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3028
X-Outbound-IP: 69.70.74.198
X-Env-From: bruno.dery@evidencematters.com
X-Virus-Status: Scanned by VirusSMART (c)
X-Virus-Checked: Checked by ClamAV on apache.org

------=_NextPart_000_0016_01C81B11.917643A0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hi all the following is using Lucene  2.2.0. 
 
I've been trying to alter the scoring of my search results to boost by
date. My idea was to boost documents while indexing using the date but
it doesn't work. So I put together this little sample piece of code to
investigate further and apparently setting the document boost does
nothing. In my example below, you'd expect the display the output 20 2
and 10 but I get 1 1 1. Is this normal behavior and if so how am I
supposed to use document boosting because it seems like I'm missing
something...
 
Here's the sample  of code:
 
-----------
 
 
import org.apache.lucene.analysis.standard.StandardAnalyzer;

import org.apache.lucene.document.Document;

import org.apache.lucene.document.Field;

import org.apache.lucene.index.IndexReader;

import org.apache.lucene.index.IndexWriter;

import org.apache.lucene.store.FSDirectory;

public class IndexTest {

/**

* @param args

*/

public static void main(String[] args) throws Exception {

// Create bogus index 

IndexWriter writer = new
IndexWriter(FSDirectory.getDirectory("C:/lucene_test/"), new
StandardAnalyzer(), true);

writer.setUseCompoundFile(true);

Document doc = new Document();

doc.add(new Field("testfield", "high ranking", Field.Store.YES,
Field.Index.TOKENIZED));

doc.setBoost(20);

writer.addDocument(doc);

doc = new Document();

doc.add(new Field("testfield", "low ranking", Field.Store.YES,
Field.Index.TOKENIZED));

doc.setBoost(2);

writer.addDocument(doc);

doc = new Document();

doc.add(new Field("testfield", "mid ranking", Field.Store.YES,
Field.Index.TOKENIZED));

doc.setBoost(10);

writer.addDocument(doc);

writer.close();

// Read bogus index 

IndexReader reader =
IndexReader.open(FSDirectory.getDirectory("C:/lucene_test/"));

System.out.println(reader.document(0).getBoost());

System.out.println(reader.document(1).getBoost());

System.out.println(reader.document(2).getBoost());

}

}

 
 
 

------=_NextPart_000_0016_01C81B11.917643A0--


From java-user-return-30812-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 30 21:15:01 2007
Return-Path: <java-user-return-30812-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83076 invoked from network); 30 Oct 2007 21:15:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 30 Oct 2007 21:15:01 -0000
Received: (qmail 77506 invoked by uid 500); 30 Oct 2007 21:14:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77477 invoked by uid 500); 30 Oct 2007 21:14:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77466 invoked by uid 99); 30 Oct 2007 21:14:41 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Oct 2007 14:14:41 -0700
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [216.112.118.2] (HELO bromine.sosstaffing.com) (216.112.118.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Oct 2007 21:14:45 +0000
Received: from [10.49.220.35] (l038-22321.hcwan.net [10.49.220.35])
	by bromine.sosstaffing.com (Postfix) with ESMTP id 8A7564DCD98
	for <java-user@lucene.apache.org>; Tue, 30 Oct 2007 15:14:22 -0600 (MDT)
Message-ID: <47279E6A.8080204@thebluezone.net>
Date: Tue, 30 Oct 2007 15:13:14 -0600
From: John Griffin <jgriffin@thebluezone.net>
User-Agent: Thunderbird 1.5.0.13 (X11/20070809)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Document boost, is it working?
References: <001501c81b33$1887e3a0$0a00a8c0@BRUNO>
In-Reply-To: <001501c81b33$1887e3a0$0a00a8c0@BRUNO>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Bruno Dery wrote:
> Hi all the following is using Lucene  2.2.0. 
>  
> I've been trying to alter the scoring of my search results to boost by
> date. My idea was to boost documents while indexing using the date but
> it doesn't work. So I put together this little sample piece of code to
> investigate further and apparently setting the document boost does
> nothing. In my example below, you'd expect the display the output 20 2
> and 10 but I get 1 1 1. Is this normal behavior and if so how am I
> supposed to use document boosting because it seems like I'm missing
> something...
>  
> Here's the sample  of code:
>  
> -----------
>  
>  
> import org.apache.lucene.analysis.standard.StandardAnalyzer;
>
> import org.apache.lucene.document.Document;
>
> import org.apache.lucene.document.Field;
>
> import org.apache.lucene.index.IndexReader;
>
> import org.apache.lucene.index.IndexWriter;
>
> import org.apache.lucene.store.FSDirectory;
>
> public class IndexTest {
>
> /**
>
> * @param args
>
> */
>
> public static void main(String[] args) throws Exception {
>
> // Create bogus index 
>
> IndexWriter writer = new
> IndexWriter(FSDirectory.getDirectory("C:/lucene_test/"), new
> StandardAnalyzer(), true);
>
> writer.setUseCompoundFile(true);
>
> Document doc = new Document();
>
> doc.add(new Field("testfield", "high ranking", Field.Store.YES,
> Field.Index.TOKENIZED));
>
> doc.setBoost(20);
>
> writer.addDocument(doc);
>
> doc = new Document();
>
> doc.add(new Field("testfield", "low ranking", Field.Store.YES,
> Field.Index.TOKENIZED));
>
> doc.setBoost(2);
>
> writer.addDocument(doc);
>
> doc = new Document();
>
> doc.add(new Field("testfield", "mid ranking", Field.Store.YES,
> Field.Index.TOKENIZED));
>
> doc.setBoost(10);
>
> writer.addDocument(doc);
>
> writer.close();
>
> // Read bogus index 
>
> IndexReader reader =
> IndexReader.open(FSDirectory.getDirectory("C:/lucene_test/"));
>
> System.out.println(reader.document(0).getBoost());
>
> System.out.println(reader.document(1).getBoost());
>
> System.out.println(reader.document(2).getBoost());
>
> }
>
> }
>
>  
>
>   
Bruno,

Use Luke to examine your simple index and see if the boost is 
registering. It will be on Luks's documents page about in the middle of 
the screen. That'll at least tell you if it's registering with the 
documents.

John G.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30813-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 30 21:42:18 2007
Return-Path: <java-user-return-30813-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94265 invoked from network); 30 Oct 2007 21:42:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 30 Oct 2007 21:42:18 -0000
Received: (qmail 28256 invoked by uid 500); 30 Oct 2007 21:41:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27972 invoked by uid 500); 30 Oct 2007 21:41:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27961 invoked by uid 99); 30 Oct 2007 21:41:40 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Oct 2007 14:41:40 -0700
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [216.112.118.2] (HELO bromine.sosstaffing.com) (216.112.118.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Oct 2007 21:41:43 +0000
Received: from [10.49.220.35] (l038-22321.hcwan.net [10.49.220.35])
	by bromine.sosstaffing.com (Postfix) with ESMTP id 30CA74DCF37
	for <java-user@lucene.apache.org>; Tue, 30 Oct 2007 15:41:22 -0600 (MDT)
Message-ID: <4727A4BE.8090105@thebluezone.net>
Date: Tue, 30 Oct 2007 15:40:14 -0600
From: John Griffin <jgriffin@thebluezone.net>
User-Agent: Thunderbird 1.5.0.13 (X11/20070809)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Document boost, is it working?
References: <001501c81b33$1887e3a0$0a00a8c0@BRUNO>
In-Reply-To: <001501c81b33$1887e3a0$0a00a8c0@BRUNO>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Bruno Dery wrote:
> Hi all the following is using Lucene  2.2.0. 
>  
> I've been trying to alter the scoring of my search results to boost by
> date. My idea was to boost documents while indexing using the date but
> it doesn't work. So I put together this little sample piece of code to
> investigate further and apparently setting the document boost does
> nothing. In my example below, you'd expect the display the output 20 2
> and 10 but I get 1 1 1. Is this normal behavior and if so how am I
> supposed to use document boosting because it seems like I'm missing
> something...
>  
> Here's the sample  of code:
>  
> -----------
>  
>  
> import org.apache.lucene.analysis.standard.StandardAnalyzer;
>
> import org.apache.lucene.document.Document;
>
> import org.apache.lucene.document.Field;
>
> import org.apache.lucene.index.IndexReader;
>
> import org.apache.lucene.index.IndexWriter;
>
> import org.apache.lucene.store.FSDirectory;
>
> public class IndexTest {
>
> /**
>
> * @param args
>
> */
>
> public static void main(String[] args) throws Exception {
>
> // Create bogus index 
>
> IndexWriter writer = new
> IndexWriter(FSDirectory.getDirectory("C:/lucene_test/"), new
> StandardAnalyzer(), true);
>
> writer.setUseCompoundFile(true);
>
> Document doc = new Document();
>
> doc.add(new Field("testfield", "high ranking", Field.Store.YES,
> Field.Index.TOKENIZED));
>
> doc.setBoost(20);
>
> writer.addDocument(doc);
>
> doc = new Document();
>
> doc.add(new Field("testfield", "low ranking", Field.Store.YES,
> Field.Index.TOKENIZED));
>
> doc.setBoost(2);
>
> writer.addDocument(doc);
>
> doc = new Document();
>
> doc.add(new Field("testfield", "mid ranking", Field.Store.YES,
> Field.Index.TOKENIZED));
>
> doc.setBoost(10);
>
> writer.addDocument(doc);
>
> writer.close();
>
> // Read bogus index 
>
> IndexReader reader =
> IndexReader.open(FSDirectory.getDirectory("C:/lucene_test/"));
>
> System.out.println(reader.document(0).getBoost());
>
> System.out.println(reader.document(1).getBoost());
>
> System.out.println(reader.document(2).getBoost());
>
> }
>
> }
>
>  
>  
>  
>
>   
Bruno,

After your comment // read bogus index, replace your code with this.

      IndexSearcher searcher = new 
IndexSearcher("/home/griffij/lucene_test/");
      final QueryParser parser = new QueryParser("testfield", new 
StandardAnalyzer());
      final Query query = parser.parse("ranking");
      Hits hits = searcher.search(query);
      for (int x = 0; x < hits.length(); x++)
      {
         System.out.println(hits.doc(x) + "score=> " + hits.score(x));
      }


You'll see that the boost does indeed take effect. The boost value isn't 
stored with the document you set it against. It takes effect during the 
scoring process and effects all fields in the document.

John G.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30814-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Oct 30 21:56:48 2007
Return-Path: <java-user-return-30814-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 796 invoked from network); 30 Oct 2007 21:56:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 30 Oct 2007 21:56:48 -0000
Received: (qmail 63004 invoked by uid 500); 30 Oct 2007 21:56:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62976 invoked by uid 500); 30 Oct 2007 21:56:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62965 invoked by uid 99); 30 Oct 2007 21:56:29 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Oct 2007 14:56:29 -0700
X-ASF-Spam-Status: No, hits=-1.0 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [216.129.90.200] (HELO arrows.electric.net) (216.129.90.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Oct 2007 21:56:44 +0000
Received: from 1Imz4B-00024u-Tb by arrows.electric.net with emc1-ok (Exim 4.67)
	(envelope-from <bruno.dery@evidencematters.com>)
	id 1Imz4C-000266-UX
	for java-user@lucene.apache.org; Tue, 30 Oct 2007 14:56:08 -0700
Received: by emcmailer; Tue, 30 Oct 2007 14:56:08 -0700
Received: from [69.70.74.198] (helo=BRUNO)
	by arrows.electric.net with esmtpa (Exim 4.67)
	(envelope-from <bruno.dery@evidencematters.com>)
	id 1Imz4B-00024u-Tb
	for java-user@lucene.apache.org; Tue, 30 Oct 2007 14:56:07 -0700
From: "Bruno Dery" <bruno.dery@evidencematters.com>
To: <java-user@lucene.apache.org>
Subject: RE: Document boost, is it working?
Date: Tue, 30 Oct 2007 17:48:21 -0400
Organization: Evidence Matters
Message-ID: <001d01c81b3e$9744a600$0a00a8c0@BRUNO>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3028
In-Reply-To: <4727A4BE.8090105@thebluezone.net>
X-Outbound-IP: 69.70.74.198
X-Env-From: bruno.dery@evidencematters.com
X-Virus-Status: Scanned by VirusSMART (c)
X-Virus-Checked: Checked by ClamAV on apache.org

Thanks for the help, you're right your example works. However looking in
Luke I also see only ones (1 1 1) as the document boost. 

I imagine Luke use's Lucene's Document.getBoost() function. Shouldn't
this be considered a bug, as I'd expect to retrieve the same boost
number (or at least some factor of it) when I look at my documents once
indexed? Or perhaps there is something I'm not understanding about this
Document.getBoost function, normally you expect a getter to return you
the exact value you entered with the setter.


-----Original Message-----
From: John Griffin [mailto:jgriffin@thebluezone.net] 
Sent: Tuesday, October 30, 2007 5:40 PM
To: java-user@lucene.apache.org
Subject: Re: Document boost, is it working?


Bruno Dery wrote:
> Hi all the following is using Lucene  2.2.0.
>  
> I've been trying to alter the scoring of my search results to boost by

> date. My idea was to boost documents while indexing using the date but

> it doesn't work. So I put together this little sample piece of code to

> investigate further and apparently setting the document boost does 
> nothing. In my example below, you'd expect the display the output 20 2

> and 10 but I get 1 1 1. Is this normal behavior and if so how am I 
> supposed to use document boosting because it seems like I'm missing 
> something...
>  
> Here's the sample  of code:
>  
> -----------
>  
>  
> import org.apache.lucene.analysis.standard.StandardAnalyzer;
>
> import org.apache.lucene.document.Document;
>
> import org.apache.lucene.document.Field;
>
> import org.apache.lucene.index.IndexReader;
>
> import org.apache.lucene.index.IndexWriter;
>
> import org.apache.lucene.store.FSDirectory;
>
> public class IndexTest {
>
> /**
>
> * @param args
>
> */
>
> public static void main(String[] args) throws Exception {
>
> // Create bogus index
>
> IndexWriter writer = new 
> IndexWriter(FSDirectory.getDirectory("C:/lucene_test/"), new 
> StandardAnalyzer(), true);
>
> writer.setUseCompoundFile(true);
>
> Document doc = new Document();
>
> doc.add(new Field("testfield", "high ranking", Field.Store.YES, 
> Field.Index.TOKENIZED));
>
> doc.setBoost(20);
>
> writer.addDocument(doc);
>
> doc = new Document();
>
> doc.add(new Field("testfield", "low ranking", Field.Store.YES, 
> Field.Index.TOKENIZED));
>
> doc.setBoost(2);
>
> writer.addDocument(doc);
>
> doc = new Document();
>
> doc.add(new Field("testfield", "mid ranking", Field.Store.YES, 
> Field.Index.TOKENIZED));
>
> doc.setBoost(10);
>
> writer.addDocument(doc);
>
> writer.close();
>
> // Read bogus index
>
> IndexReader reader = 
> IndexReader.open(FSDirectory.getDirectory("C:/lucene_test/"));
>
> System.out.println(reader.document(0).getBoost());
>
> System.out.println(reader.document(1).getBoost());
>
> System.out.println(reader.document(2).getBoost());
>
> }
>
> }
>
>  
>  
>  
>
>   
Bruno,

After your comment // read bogus index, replace your code with this.

      IndexSearcher searcher = new 
IndexSearcher("/home/griffij/lucene_test/");
      final QueryParser parser = new QueryParser("testfield", new 
StandardAnalyzer());
      final Query query = parser.parse("ranking");
      Hits hits = searcher.search(query);
      for (int x = 0; x < hits.length(); x++)
      {
         System.out.println(hits.doc(x) + "score=> " + hits.score(x));
      }


You'll see that the boost does indeed take effect. The boost value isn't

stored with the document you set it against. It takes effect during the 
scoring process and effects all fields in the document.

John G.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30815-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 31 08:13:31 2007
Return-Path: <java-user-return-30815-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17470 invoked from network); 31 Oct 2007 08:13:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 31 Oct 2007 08:13:31 -0000
Received: (qmail 51503 invoked by uid 500); 31 Oct 2007 08:13:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51095 invoked by uid 500); 31 Oct 2007 08:13:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51084 invoked by uid 99); 31 Oct 2007 08:13:12 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 Oct 2007 01:13:12 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [69.44.16.11] (HELO getopt.org) (69.44.16.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 Oct 2007 08:13:27 +0000
Received: from [10.117.54.98] (inet20909na-2.eranet.pl [213.158.196.66])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id l9V8CpF22290
	for <java-user@lucene.apache.org>; Wed, 31 Oct 2007 03:12:52 -0500
Message-ID: <472838FA.3010907@getopt.org>
Date: Wed, 31 Oct 2007 09:12:42 +0100
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Document boost, is it working?
References: <001d01c81b3e$9744a600$0a00a8c0@BRUNO>
In-Reply-To: <001d01c81b3e$9744a600$0a00a8c0@BRUNO>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Bruno Dery wrote:
> Thanks for the help, you're right your example works. However looking in
> Luke I also see only ones (1 1 1) as the document boost. 

Then perhaps this value should be removed from the Luke's display ... 
because it will always read 1, and it's a correct value (see below).

> 
> I imagine Luke use's Lucene's Document.getBoost() function. Shouldn't
> this be considered a bug, as I'd expect to retrieve the same boost
> number (or at least some factor of it) when I look at my documents once
> indexed? Or perhaps there is something I'm not understanding about this
> Document.getBoost function, normally you expect a getter to return you
> the exact value you entered with the setter.

Document.setBoost / getBoost is _only_ guaranteed to return the same 
value if a document is newly created, i.e. it hasn't been stored & 
retrieved. This is related to the way Lucene stores boost values in the 
index - in order to save storage space the boost value is never stored 
explicitly, instead during the storing process it's multiplied by every 
field's lengthNorm, and stored together as a single-byte float.

(Actually, it's a function of the current index format - perhaps in the 
future Lucene will be able to store these values separately using 
another type of storage. So far there was no pressing need to do this).

-- 
Best regards,
Andrzej Bialecki     <><
  ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30816-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 31 10:20:59 2007
Return-Path: <java-user-return-30816-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55758 invoked from network); 31 Oct 2007 10:20:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 31 Oct 2007 10:20:59 -0000
Received: (qmail 76498 invoked by uid 500); 31 Oct 2007 10:20:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76465 invoked by uid 500); 31 Oct 2007 10:20:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76452 invoked by uid 99); 31 Oct 2007 10:20:36 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 Oct 2007 03:20:36 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [66.111.4.25] (HELO out1.smtp.messagingengine.com) (66.111.4.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 Oct 2007 10:20:53 +0000
Received: from compute2.internal (compute2.internal [10.202.2.42])
	by out1.messagingengine.com (Postfix) with ESMTP id CBB204558B
	for <java-user@lucene.apache.org>; Wed, 31 Oct 2007 06:20:17 -0400 (EDT)
Received: from web8.messagingengine.com ([10.202.2.217])
  by compute2.internal (MEProxy); Wed, 31 Oct 2007 06:20:17 -0400
Received: by web8.messagingengine.com (Postfix, from userid 99)
	id AC12C1D0A0; Wed, 31 Oct 2007 06:20:17 -0400 (EDT)
Message-Id: <1193826017.5279.1218775829@webmail.messagingengine.com>
X-Sasl-Enc: qDfst2I8jSoXpqsAWLUSyP1ORbuYwN42siT8hi0ioQ0P 1193826017
From: "Michael McCandless" <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="ISO-8859-1"
MIME-Version: 1.0
X-Mailer: MessagingEngine.com Webmail Interface
References: <6C95DE53-AF5A-4FDA-9561-653DA998F140@mac.com>
   <506B60AA-C882-462A-B105-18158B8063DD@gmail.com>
   <324A6792-0167-4C67-AEC6-D12D685A5E7D@mac.com>
   <001101c81af8$87ff5b90$6300a8c0@asiapacific.hpqcorp.net>
Subject: RE: Threading Indexing Processes : Can we write concurrently to Index?
In-Reply-To: <001101c81af8$87ff5b90$6300a8c0@asiapacific.hpqcorp.net>
Date: Wed, 31 Oct 2007 06:20:17 -0400
X-Virus-Checked: Checked by ClamAV on apache.org


Just to clarify here: yes, you really should have a single JVM with a
single instance of IndexWriter, but use multiple threads calling
IndexWriter.addDocument.

Under the hood, IndexWriter can make use of alot of concurrency, so
you should see a substantial gain in indexing throughput if you use
multiple threads.  Thread scale up has been tested (as part of the
speedups for indexing) with the upcoming 2.3 release:

  http://issues.apache.org/jira/browse/LUCENE-843#action_12502793

No additional locking is required on your part: addDocument,
internally, takes care of being synchronized in the right places.
Just make sure all your threads stop adding documents when you finally
call IndexWriter.close().

But please note: this is only the case if the bottleneck in your app
is really Lucene's indexing.  EG, if you are pulling docs from some
external repository, and that repository is the bottleneck, then you
shouldn't expect any real gains by using multiple threads.

Mike

"askxuefeng" <askxuefeng@gmail.com> wrote:
> You can use a queue to let IndexWriter do its work asychronize 
> 
> -----Original Message-----
> From: Michael Prichard [mailto:michael_prichard@mac.com] 
> Sent: Tuesday, October 30, 2007 9:10 PM
> To: java-user@lucene.apache.org
> Subject: Re: Threading Indexing Processes : Can we write concurrently to
> Index?
> 
> So I should create a singe IndexWriter but allow multiple threads to use
> it?
> 
> 
> On Oct 30, 2007, at 12:49 AM, Karl Wettin wrote:
> 
> >
> > 30 okt 2007 kl. 05.08 skrev Michael Prichard:
> >
> >> If I multithread an indexing process can two or more processes write 
> >> to the same index?
> >
> > Multiple threads can add documents to the same writer. Multiple 
> > threads can usually not write using each a writer.
> >
> >
> > --
> > karl
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30817-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 31 10:57:22 2007
Return-Path: <java-user-return-30817-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70748 invoked from network); 31 Oct 2007 10:57:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 31 Oct 2007 10:57:22 -0000
Received: (qmail 43365 invoked by uid 500); 31 Oct 2007 10:56:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43344 invoked by uid 500); 31 Oct 2007 10:56:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43327 invoked by uid 99); 31 Oct 2007 10:56:34 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 Oct 2007 03:56:34 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of iliasfl@gmail.com designates 64.233.166.179 as permitted sender)
Received: from [64.233.166.179] (HELO py-out-1112.google.com) (64.233.166.179)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 Oct 2007 10:56:38 +0000
Received: by py-out-1112.google.com with SMTP id d32so343843pye
        for <java-user@lucene.apache.org>; Wed, 31 Oct 2007 03:56:17 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        bh=B1HwNHfUaR04Y414oMOVnAGr0Au28KVOE2bcHVIhs00=;
        b=RhYJ8Z/sksnl2yoaCTYozL1iwrkP4FXFnB6ILpGE1cVi37bILeQ52Toa7WSrgK49es197vFgvCsWCzGSde5JsxyKGJtECov48km8rU07O9rTTcaw0WM/4re+IK3ZEBeCKw6cDgikQJifqRTBS5m/M/bpBSgp+KmIuKHCLniXRng=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=Qs/hJ3TIYlvuo6HrNrFRISEyzH9jKQ7JqUBir1/0YZisKFQJXzppmcwy9DhZAWi7jggxJdo7YjH8uCfktsMmIE+2/wWXYeZMmj5lI6W6GHg8DA19WLthHDKtMak8hXQniJ51+/1BxB0Kf9zrfwIgHj8/ZLId0gffglXmZnI2jXc=
Received: by 10.64.148.8 with SMTP id v8mr876462qbd.1193828175092;
        Wed, 31 Oct 2007 03:56:15 -0700 (PDT)
Received: by 10.65.116.11 with HTTP; Wed, 31 Oct 2007 03:56:15 -0700 (PDT)
Message-ID: <6e93898f0710310356y2da794a6ycfca65f0639723c8@mail.gmail.com>
Date: Wed, 31 Oct 2007 10:56:15 +0000
From: "Ilias Flaounas" <iliasfl@gmail.com>
To: java-user@lucene.apache.org
Subject: Get term id from dictionary
In-Reply-To: <6e93898f0710310340t78d9ac12o3775d135cab677b@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <6e93898f0710310340t78d9ac12o3775d135cab677b@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Dear experts,

I need to store and index a string of text into Lucene, and later I
want to get the Id of each term inside this string. Is it possible?
How can I do that?

I want a unique association, term (in my case a word) -> Id. I know,
that If I delete a document, the dictionary changes. Does the term id
change?


Thanks a lot
Ilias

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30818-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 31 11:23:34 2007
Return-Path: <java-user-return-30818-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88643 invoked from network); 31 Oct 2007 11:23:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 31 Oct 2007 11:23:34 -0000
Received: (qmail 79601 invoked by uid 500); 31 Oct 2007 11:23:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79570 invoked by uid 500); 31 Oct 2007 11:23:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79559 invoked by uid 99); 31 Oct 2007 11:23:10 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 Oct 2007 04:23:10 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of markrmiller@gmail.com designates 209.85.132.240 as permitted sender)
Received: from [209.85.132.240] (HELO an-out-0708.google.com) (209.85.132.240)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 Oct 2007 11:23:12 +0000
Received: by an-out-0708.google.com with SMTP id d40so12130and
        for <java-user@lucene.apache.org>; Wed, 31 Oct 2007 04:22:51 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        bh=DNHPFzip3I8Bt8M5hGC451rIMxs9MJawvIwlwBgLRrk=;
        b=qsZ9fvLpzC7mSlR6KN7Cs63jJOpiiElIVLxc10Yp24cz82j0sPRW21Xw2qc4wjR9e4Rf8T2QqsmY0ifsneit5u+IqIloGdk3E02dqAtfttSnVrp8jAOjdyAzhVt2Gyo1+XYeUUDnXzsn75nJwTzAF9TKzzWeDLFJ+F6T8xmH9Sw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=UteelJCvKp9Et29J4ooGv+JDtrLiqhc4aceHhCHKfoJ4s4O3PR6dA6MuTa0oDbO2J/w1crSLbUt0tOOzwrdJneca0iNghZdLNLh3fdVJaISAI8tAEWiNaoFymSRj3N2Pp0B+DRaVllVCb7cQvBpFwjKRg4L1ZyRcfo20BXLSgjc=
Received: by 10.100.214.15 with SMTP id m15mr1569570ang.1193829771694;
        Wed, 31 Oct 2007 04:22:51 -0700 (PDT)
Received: from ?192.168.1.103? ( [69.124.234.183])
        by mx.google.com with ESMTPS id 3sm275824hsw.2007.10.31.04.22.41
        (version=SSLv3 cipher=RC4-MD5);
        Wed, 31 Oct 2007 04:22:41 -0700 (PDT)
Message-ID: <4728657A.2030900@gmail.com>
Date: Wed, 31 Oct 2007 07:22:34 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Get term id from dictionary
References: <6e93898f0710310340t78d9ac12o3775d135cab677b@mail.gmail.com> <6e93898f0710310356y2da794a6ycfca65f0639723c8@mail.gmail.com>
In-Reply-To: <6e93898f0710310356y2da794a6ycfca65f0639723c8@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

The id does change. You need to index your own "id" field with the document.


Ilias Flaounas wrote:
> Dear experts,
>
> I need to store and index a string of text into Lucene, and later I
> want to get the Id of each term inside this string. Is it possible?
> How can I do that?
>
> I want a unique association, term (in my case a word) -> Id. I know,
> that If I delete a document, the dictionary changes. Does the term id
> change?
>
>
> Thanks a lot
> Ilias
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>   

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30819-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 31 11:33:07 2007
Return-Path: <java-user-return-30819-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93964 invoked from network); 31 Oct 2007 11:33:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 31 Oct 2007 11:33:07 -0000
Received: (qmail 91004 invoked by uid 500); 31 Oct 2007 11:32:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90961 invoked by uid 500); 31 Oct 2007 11:32:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90950 invoked by uid 99); 31 Oct 2007 11:32:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 Oct 2007 04:32:47 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jmuguruza@gmail.com designates 209.85.162.182 as permitted sender)
Received: from [209.85.162.182] (HELO el-out-1112.google.com) (209.85.162.182)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 Oct 2007 11:32:50 +0000
Received: by el-out-1112.google.com with SMTP id o28so5699ele
        for <java-user@lucene.apache.org>; Wed, 31 Oct 2007 04:32:29 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        bh=ENWvHhYuWx9kAMCy/XUfeSG4VQSqr2bBqq1I5pA6bgs=;
        b=Pcps7f9r7AKSStwET3xw9CIjqMtGIfSN/k7ydSsSOGv5R46er1u1mCefyPlyro/bIoT5mm8jnrLFUfEbHMOghj3ujESZkFLKStPS0zs0XW6/+UA9Ur+eHRnXYMT8Ykyjz0EwbHISWykjviQsqK5QYdzZbCVjHX8tBotMQ9J6nXA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=nskTj6J/1xKSRh8/FrEZm+IeG8pLGy0rC7VkGa9F05Q7OM4SmaSW9Twi1LsdpwDoqiEYtyoNf6EwcABB6ER0e8FXn90lFqe9+wBCh2W3i8ndlXrpNLinfjr6vnX3ArFQHb9UFJouRG1L0+cjaaTsdmw00mApXTkF7NAneHlZN78=
Received: by 10.142.226.2 with SMTP id y2mr1968440wfg.1193830348368;
        Wed, 31 Oct 2007 04:32:28 -0700 (PDT)
Received: by 10.142.161.8 with HTTP; Wed, 31 Oct 2007 04:32:28 -0700 (PDT)
Message-ID: <f071061b0710310432w7a43e05if6a3b07cf3940632@mail.gmail.com>
Date: Wed, 31 Oct 2007 12:32:28 +0100
From: jm <jmuguruza@gmail.com>
To: java-user@lucene.apache.org
Subject: optimizing only during certain time
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

I understand optimizing could take longer when index is bigger, so it
might take a while when index is huge.

I think I remember seeing something in the lucene list about optimizing but not
to the optimum case, only to a less than optimum state, but using less
time, is that correct?

Does somebdoy now if this could be bound by a time given for the
optimization? I mean something like thatt: indexWriter.optimize(300);
300 being seconds for instance, and meaning, optimize during 300
seconds, and stop at that time if still not finished totally
optimizing. That way you could be sure and optimize call I make wont
take extemelly long.

thanks
javi

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30820-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 31 11:34:48 2007
Return-Path: <java-user-return-30820-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95238 invoked from network); 31 Oct 2007 11:34:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 31 Oct 2007 11:34:48 -0000
Received: (qmail 95408 invoked by uid 500); 31 Oct 2007 11:34:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95097 invoked by uid 500); 31 Oct 2007 11:34:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95086 invoked by uid 99); 31 Oct 2007 11:34:20 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 Oct 2007 04:34:20 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [81.7.202.143] (HELO mxvs2.esa.t-systems.com) (81.7.202.143)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 Oct 2007 11:34:23 +0000
Received: from unknown (HELO nl-exc-01.intra.local) ([82.210.235.24])
  by mx.esa.t-systems.com with ESMTP; 31 Oct 2007 11:34:01 +0000
Received: from 10.100.161.17 ([10.100.161.17]) by nl-exc-01.intra.local ([10.100.254.122]) with Microsoft Exchange Server HTTP-DAV ;
 Wed, 31 Oct 2007 11:34:01 +0000
Received: from nb-kiffing by nl-exc-01.intra.local; 31 Oct 2007 12:34:01 +0100
Subject: Looking for a keen Lucene developer/consultant ...
From: Kiffin Gish <kiffin.gish@tomtom.com>
To: java-user@lucene.apache.org
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
Date: Wed, 31 Oct 2007 12:34:01 +0100
Message-Id: <1193830441.6610.15.camel@nb-kiffing>
Mime-Version: 1.0
X-Mailer: Evolution 2.12.0 
X-NAIMIME-Disclaimer: 1
X-NAIMIME-Modified: 1
X-Virus-Checked: Checked by ClamAV on apache.org

Hi there!

Currently I am looking for an expert developer/consultant who can assist
my development team with an implementation of Lucene for an exciting and
innovative project in Amsterdam, Holland.

This is for a scalable, robust and high-performing web-based system
running in an Java EE environment based on the Spring framework.

Ideally, if qualified you should be able to start immediately. If you
are interested, please send me your details.

Kind regards,
Kiffin

-- 
Kiffin Gish | Desktop & Services Development | TomTom | kiffin.gish@tomtom.com | +31 (0) 6 15529214 mobile | +31 (0) 20 850 0989 office


This e-mail message contains information which is confidential and may be privileged. It is intended for use by the addressee only. If you are not the intended addressee, we request that you notify the sender immediately and delete or destroy this e-mail message and any attachment(s), without copying, saving, forwarding, disclosing or using its contents in any other way. TomTom N.V., TomTom International BV or any other company belonging to the TomTom group of companies will not be liable for damage relating to the communication by e-mail of data, documents or any other information.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30821-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 31 12:11:26 2007
Return-Path: <java-user-return-30821-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7442 invoked from network); 31 Oct 2007 12:11:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 31 Oct 2007 12:11:26 -0000
Received: (qmail 42341 invoked by uid 500); 31 Oct 2007 12:11:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42306 invoked by uid 500); 31 Oct 2007 12:11:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42295 invoked by uid 99); 31 Oct 2007 12:11:08 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 Oct 2007 05:11:08 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of iliasfl@gmail.com designates 64.233.162.238 as permitted sender)
Received: from [64.233.162.238] (HELO nz-out-0506.google.com) (64.233.162.238)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 Oct 2007 12:11:12 +0000
Received: by nz-out-0506.google.com with SMTP id i28so89671nzi
        for <java-user@lucene.apache.org>; Wed, 31 Oct 2007 05:10:52 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        bh=/a0AkfiiATdew6MqYqtuo+9FHFkv0viMdJCEYx1AUQ0=;
        b=V7ytjso168x5xTDOzaxusQcox0B7U+UtN5Nw334grRsOVm83gXo8mjy6RwS/qLa6Xt8yem4pNjNt0lvx2uW/tOExX2bjYS3nnmWDoPvLlPW0Q6wG+K03sYqTADDG7DJL4p0DuDiMGdFpjXJPybQsNyn18no7Mw7+jAOzK21rFaQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=s3iNcLWIs+ARXfGWC91keYyNlIEMfIW4sSFrZIRS75xq2BdPjuhgy4Wd13FmbCIioN34ohVk7k1o5m2dLgeLtC8DIn+6t/k59GcBwaWZUm0xQgiayxW35y4DFpqNBHDds3k3x34gTRFaAWQrmZWQi0Ixt144viC8PZ79rSj/F6c=
Received: by 10.65.242.11 with SMTP id u11mr1097968qbr.1193832651827;
        Wed, 31 Oct 2007 05:10:51 -0700 (PDT)
Received: by 10.65.116.11 with HTTP; Wed, 31 Oct 2007 05:10:51 -0700 (PDT)
Message-ID: <6e93898f0710310510v430b4de8j1aff520c7501f402@mail.gmail.com>
Date: Wed, 31 Oct 2007 12:10:51 +0000
From: "Ilias Flaounas" <iliasfl@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Get term id from dictionary
In-Reply-To: <4728657A.2030900@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <6e93898f0710310340t78d9ac12o3775d135cab677b@mail.gmail.com>
	 <6e93898f0710310356y2da794a6ycfca65f0639723c8@mail.gmail.com>
	 <4728657A.2030900@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

I want to have IDs for the terms (words) not the documents!
Also, I need the same ID for a word if it appears in more than one documents.

Example:
Doc1: The sea is blue
Doc2: Sky is blue

For these two docs the dictionary would be [the]->1 [sea]->2 [is]->3
[blue]->4 [sky]->5

So I want to represent these docs by word-ids like this:
Doc1: 1 2 3 4
Doc2: 5 3 4

Is there a way to use Lucene for this? I mean Lucene stores an
internal dictionary. How can I access it?

Thank you,
Ilias


On 10/31/07, Mark Miller <markrmiller@gmail.com> wrote:
> The id does change. You need to index your own "id" field with the document.
>
>
> Ilias Flaounas wrote:
> > Dear experts,
> >
> > I need to store and index a string of text into Lucene, and later I
> > want to get the Id of each term inside this string. Is it possible?
> > How can I do that?
> >
> > I want a unique association, term (in my case a word) -> Id. I know,
> > that If I delete a document, the dictionary changes. Does the term id
> > change?
> >
> >
> > Thanks a lot
> > Ilias
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30822-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 31 12:51:34 2007
Return-Path: <java-user-return-30822-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26422 invoked from network); 31 Oct 2007 12:51:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 31 Oct 2007 12:51:34 -0000
Received: (qmail 4056 invoked by uid 500); 31 Oct 2007 12:51:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3793 invoked by uid 500); 31 Oct 2007 12:51:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3782 invoked by uid 99); 31 Oct 2007 12:51:15 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 Oct 2007 05:51:15 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of markrmiller@gmail.com designates 209.85.132.249 as permitted sender)
Received: from [209.85.132.249] (HELO an-out-0708.google.com) (209.85.132.249)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 Oct 2007 12:51:18 +0000
Received: by an-out-0708.google.com with SMTP id d40so17727and
        for <java-user@lucene.apache.org>; Wed, 31 Oct 2007 05:50:57 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        bh=Bjy2KV6f70st9tIVmt8XFCRaUGjOwx7MgDfPka4oEME=;
        b=tZ2RjNYRjTAtp1V5fOi5SwDbM35bAYsr2jY39eAChTwGwmgX3TPh/U9zEfT2MAQVAaCiZQvkKEhOUT0cq15HIuODATSsXX9u04qBcZPLuaKheP24GnSU2kO5Yw9CyMqsNhiLho1T48c6NcPk3aMKFSI+vC1x3D/4/4+NPb2EZWQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=IsV0ZZ8BwP2Puubh6mYJ9QDoo3sDSrmSp/PtTvzGmX5Q5C9VVWdeHvQfM9sY1pCibAewnwdKUVCf9ka0WhrDJ2aOv4yTN09ylI5rAScX4pLQUJBKJ1Dvi5gDEp9MCgidRls4dDWp1T4xYLs+gEyR/Cs4aopzkikDV+aVzlck9d0=
Received: by 10.100.226.15 with SMTP id y15mr1719035ang.1193835057438;
        Wed, 31 Oct 2007 05:50:57 -0700 (PDT)
Received: from ?192.168.1.103? ( [69.124.234.183])
        by mx.google.com with ESMTPS id l31sm327641hsa.2007.10.31.05.50.55
        (version=SSLv3 cipher=RC4-MD5);
        Wed, 31 Oct 2007 05:50:56 -0700 (PDT)
Message-ID: <47287A29.4020909@gmail.com>
Date: Wed, 31 Oct 2007 08:50:49 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Looking for a keen Lucene developer/consultant ...
References: <1193830441.6610.15.camel@nb-kiffing>
In-Reply-To: <1193830441.6610.15.camel@nb-kiffing>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

If you haven't seen it, a good source for this is here: 
http://wiki.apache.org/lucene-java/Support

Though thats not as nice as having people contact you :)

Kiffin Gish wrote:
> Hi there!
>
> Currently I am looking for an expert developer/consultant who can assist
> my development team with an implementation of Lucene for an exciting and
> innovative project in Amsterdam, Holland.
>
> This is for a scalable, robust and high-performing web-based system
> running in an Java EE environment based on the Spring framework.
>
> Ideally, if qualified you should be able to start immediately. If you
> are interested, please send me your details.
>
> Kind regards,
> Kiffin
>
>   

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30823-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 31 13:20:18 2007
Return-Path: <java-user-return-30823-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34479 invoked from network); 31 Oct 2007 13:20:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 31 Oct 2007 13:20:18 -0000
Received: (qmail 35491 invoked by uid 500); 31 Oct 2007 13:19:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35454 invoked by uid 500); 31 Oct 2007 13:19:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35443 invoked by uid 99); 31 Oct 2007 13:19:58 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 Oct 2007 06:19:58 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of markrmiller@gmail.com designates 209.85.132.248 as permitted sender)
Received: from [209.85.132.248] (HELO an-out-0708.google.com) (209.85.132.248)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 Oct 2007 13:20:01 +0000
Received: by an-out-0708.google.com with SMTP id d40so19450and
        for <java-user@lucene.apache.org>; Wed, 31 Oct 2007 06:19:40 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        bh=4c4XlXIw36a/ju2fYzbNXgwCMxAEPADsr2YRGCA5nUs=;
        b=ty9mq7c6qrytgKbMrYlecDYo5gqDv6Raw/0SNqqgDKTSoW/l/82YnGTQdsGdrCfFwFLDg+tRvzC/brGDJZ239KgdzaU4epYBiDiXMVQ19C/ZBAW7RqSWSZh6YFZNyWqo0CAVikKPj2bsPjaZ/1JcDSpiHbAYQaKYtUZ2ozPc9k0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=QEE9zBwda50h7shJhOElyb8EALtgNJuPGgxBc6ZD1ED4OMowk8iXAB5e0Uw0qQnc1Gt5fWzBabwFOK2gJaCKgDT5c6Vhp0ccAuqqt8l4XMhuYmLZMVOZi8wb9LMSIufY79nuV/RwSBAlGRI610wauzdbKWYab5onkrJE2lC3iL0=
Received: by 10.100.202.9 with SMTP id z9mr1785186anf.1193836780659;
        Wed, 31 Oct 2007 06:19:40 -0700 (PDT)
Received: from ?192.168.1.103? ( [69.124.234.183])
        by mx.google.com with ESMTPS id s40sm347204hsb.2007.10.31.06.19.38
        (version=SSLv3 cipher=RC4-MD5);
        Wed, 31 Oct 2007 06:19:39 -0700 (PDT)
Message-ID: <472880E3.4050604@gmail.com>
Date: Wed, 31 Oct 2007 09:19:31 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Get term id from dictionary
References: <6e93898f0710310340t78d9ac12o3775d135cab677b@mail.gmail.com>	 <6e93898f0710310356y2da794a6ycfca65f0639723c8@mail.gmail.com>	 <4728657A.2030900@gmail.com> <6e93898f0710310510v430b4de8j1aff520c7501f402@mail.gmail.com>
In-Reply-To: <6e93898f0710310510v430b4de8j1aff520c7501f402@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

You can check out the file format of Lucene's term dictionary here: 
http://lucene.apache.org/java/docs/fileformats.html#Term%20Dictionary

That might give you some insight.

Lucene does not keep id's for terms that I can tell though...just for 
documents...and then the id is really just an offset. Because you find 
the term you want, and then an id/offset to get to the doc that contains 
it, I don't see there being a mechanism for anything like the reverse.

You can access the Dictionary with: 
http://lucene.zones.apache.org:8080/hudson/job/Lucene-Nightly/javadoc/org/apache/lucene/index/TermEnum.html

So you might count how many times you call next() to reach each term in 
your doc to get an id. Would be pretty slow though. Others might have 
good ideas for this though.

- Mark

Ilias Flaounas wrote:
> I want to have IDs for the terms (words) not the documents!
> Also, I need the same ID for a word if it appears in more than one documents.
>
> Example:
> Doc1: The sea is blue
> Doc2: Sky is blue
>
> For these two docs the dictionary would be [the]->1 [sea]->2 [is]->3
> [blue]->4 [sky]->5
>
> So I want to represent these docs by word-ids like this:
> Doc1: 1 2 3 4
> Doc2: 5 3 4
>
> Is there a way to use Lucene for this? I mean Lucene stores an
> internal dictionary. How can I access it?
>
> Thank you,
> Ilias
>
>
> On 10/31/07, Mark Miller <markrmiller@gmail.com> wrote:
>   
>> The id does change. You need to index your own "id" field with the document.
>>
>>
>> Ilias Flaounas wrote:
>>     
>>> Dear experts,
>>>
>>> I need to store and index a string of text into Lucene, and later I
>>> want to get the Id of each term inside this string. Is it possible?
>>> How can I do that?
>>>
>>> I want a unique association, term (in my case a word) -> Id. I know,
>>> that If I delete a document, the dictionary changes. Does the term id
>>> change?
>>>
>>>
>>> Thanks a lot
>>> Ilias
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>>
>>>       
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>     
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>   

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30824-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 31 13:52:42 2007
Return-Path: <java-user-return-30824-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45055 invoked from network); 31 Oct 2007 13:52:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 31 Oct 2007 13:52:42 -0000
Received: (qmail 74737 invoked by uid 500); 31 Oct 2007 13:52:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74707 invoked by uid 500); 31 Oct 2007 13:52:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74696 invoked by uid 99); 31 Oct 2007 13:52:23 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 Oct 2007 06:52:23 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [62.181.193.4] (HELO drutten.citerus.net) (62.181.193.4)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 Oct 2007 13:52:40 +0000
Received: from drutten.citerus.net ([62.181.193.4]) by drutten.citerus.net
 ([62.181.193.4]) with mapi; Wed, 31 Oct 2007 14:51:13 +0100
From: Tobias Hill <Tobias.Hill@citerus.se>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Wed, 31 Oct 2007 14:51:12 +0100
Subject: 2/3 of terms matched + coverage filter
Thread-Topic: 2/3 of terms matched + coverage filter
Thread-Index: AQHIG8UZDBetVUIcxU2Za6ZOaFu0yw==
Message-ID: <BBD1371A36A8D8458F94E4AC71DBEC051588DCA300@drutten.citerus.net>
Accept-Language: sv-SE, en-US
Content-Language: sv-SE
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: sv-SE, en-US
Content-Type: multipart/alternative;
	boundary="_000_BBD1371A36A8D8458F94E4AC71DBEC051588DCA300druttenciteru_"
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

--_000_BBD1371A36A8D8458F94E4AC71DBEC051588DCA300druttenciteru_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

My documents all hava a field with variables number of terms
(but rather few):
Doc1.field =3D "foo bar gro"
Doc2.field =3D "foo bar gro mot slu"
Now I would like to search using the terms "foo bar gro"

Problem 1:
I like to express that at least any two of the three terms
must match. Do I have to construct this clause myself - i.e.
"(foo & bar) | (foo & gro) | (bar & gro)", or is there some
clever way to do this?

Problem 2:
I like to express that if the doc.field has too many terms
that wasn't matched it should not be included at all in the
result. In the example above Doc2 might have too many
terms that was not matched to be included in the result.
Is this kind of query possible, and how?

The general case:
I want to find those docs that has X% of the search terms
matched and that the acctual match covers at least Y% of
the available terms on the document.


I am very thankful for any feedback on this.
Tobias





--_000_BBD1371A36A8D8458F94E4AC71DBEC051588DCA300druttenciteru_--

From java-user-return-30825-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 31 13:58:30 2007
Return-Path: <java-user-return-30825-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46981 invoked from network); 31 Oct 2007 13:58:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 31 Oct 2007 13:58:30 -0000
Received: (qmail 87116 invoked by uid 500); 31 Oct 2007 13:58:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86960 invoked by uid 500); 31 Oct 2007 13:58:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86949 invoked by uid 99); 31 Oct 2007 13:58:07 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 Oct 2007 06:58:07 -0700
X-ASF-Spam-Status: No, hits=-2.0 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of gresh@us.ibm.com designates 32.97.182.145 as permitted sender)
Received: from [32.97.182.145] (HELO e5.ny.us.ibm.com) (32.97.182.145)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 Oct 2007 13:58:09 +0000
Received: from d01relay02.pok.ibm.com (d01relay02.pok.ibm.com [9.56.227.234])
	by e5.ny.us.ibm.com (8.13.8/8.13.8) with ESMTP id l9VDvkMK012829
	for <java-user@lucene.apache.org>; Wed, 31 Oct 2007 09:57:46 -0400
Received: from d01av02.pok.ibm.com (d01av02.pok.ibm.com [9.56.224.216])
	by d01relay02.pok.ibm.com (8.13.8/8.13.8/NCO v8.5) with ESMTP id l9VDvkrq488280
	for <java-user@lucene.apache.org>; Wed, 31 Oct 2007 09:57:46 -0400
Received: from d01av02.pok.ibm.com (loopback [127.0.0.1])
	by d01av02.pok.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l9VDvj0M010390
	for <java-user@lucene.apache.org>; Wed, 31 Oct 2007 09:57:45 -0400
Received: from d01ml605.pok.ibm.com (d01ml605.pok.ibm.com [9.56.227.91])
	by d01av02.pok.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l9VDvjOm010368
	for <java-user@lucene.apache.org>; Wed, 31 Oct 2007 09:57:45 -0400
In-Reply-To: <BBD1371A36A8D8458F94E4AC71DBEC051588DCA300@drutten.citerus.net>
To: java-user@lucene.apache.org
MIME-Version: 1.0
Subject: Re: 2/3 of terms matched + coverage filter
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
From: Donna L Gresh <gresh@us.ibm.com>
Message-ID: <OF55F60313.34325A5A-ON85257385.004C6CDF-85257385.004CAB40@us.ibm.com>
Date: Wed, 31 Oct 2007 09:57:24 -0400
X-MIMETrack: Serialize by Router on D01ML605/01/M/IBM(Release 8.0|August 02, 2007) at 10/31/2007
 09:57:45,
	Serialize complete at 10/31/2007 09:57:45
Content-Type: multipart/alternative; boundary="=_alternative 004CAADD85257385_="
X-Virus-Checked: Checked by ClamAV on apache.org

--=_alternative 004CAADD85257385_=
Content-Type: text/plain; charset="US-ASCII"

I am not an expert but I think you can solve problem 1 by overriding the 
coord function in the similarity class:

1.      coord(q,d) is a score factor based on how many of the query terms 
are found in the specified document. Typically, a document that contains 
more of the query's terms will receive a higher score than another 
document with fewer query terms. This is a search time factor computed in 
coord(q,d) by the Similarity in effect at search time. 

the default similarity class defines coord as thus:

coord
public float coord(int overlap,
                   int maxOverlap)
Implemented as overlap / maxOverlap. 



Donna L. Gresh
Services Research, Mathematical Sciences Department
IBM T.J. Watson Research Center
(914) 945-2472
http://www.research.ibm.com/people/g/donnagresh
gresh@us.ibm.com


Tobias Hill <Tobias.Hill@citerus.se> wrote on 10/31/2007 09:51:12 AM:

> My documents all hava a field with variables number of terms
> (but rather few):
> Doc1.field = "foo bar gro"
> Doc2.field = "foo bar gro mot slu"
> Now I would like to search using the terms "foo bar gro"
> 
> Problem 1:
> I like to express that at least any two of the three terms
> must match. Do I have to construct this clause myself - i.e.
> "(foo & bar) | (foo & gro) | (bar & gro)", or is there some
> clever way to do this?
> 
> Problem 2:
> I like to express that if the doc.field has too many terms
> that wasn't matched it should not be included at all in the
> result. In the example above Doc2 might have too many
> terms that was not matched to be included in the result.
> Is this kind of query possible, and how?
> 
> The general case:
> I want to find those docs that has X% of the search terms
> matched and that the acctual match covers at least Y% of
> the available terms on the document.
> 
> 
> I am very thankful for any feedback on this.
> Tobias
> 
> 
> 
> 

--=_alternative 004CAADD85257385_=--

From java-user-return-30826-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 31 14:19:07 2007
Return-Path: <java-user-return-30826-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53282 invoked from network); 31 Oct 2007 14:19:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 31 Oct 2007 14:19:07 -0000
Received: (qmail 19912 invoked by uid 500); 31 Oct 2007 14:18:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19889 invoked by uid 500); 31 Oct 2007 14:18:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19878 invoked by uid 99); 31 Oct 2007 14:18:40 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 Oct 2007 07:18:40 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [66.196.101.40] (HELO web59214.mail.re1.yahoo.com) (66.196.101.40)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 31 Oct 2007 14:18:57 +0000
Received: (qmail 4288 invoked by uid 60001); 31 Oct 2007 14:18:18 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=Rose3JYJ5/5rWJMWHPyUDeq9pKggXl1Is+PmxKgByveVooV07Vkj1e7u6VmxvW0CEf1dbo4YBhBW635LnZLcOm+QeiLABVU58kcefH3x7Dp42iZ67B91UeSdVvebnjIpjJYPnr59dZ6SD6QsyZSWcVIiJfgkTYSzdRvre74PIag=;
X-YMail-OSG: gO9LuhMVM1kVMkWG0nYs.yT_DhjwHAYcHO.o_H0VC0buGcGukQ2G1oZ2YVDD1qVl8LH5TUgHSCJNXL..i1DGMQsJWGmA1MJdYWlEE_7V3m_7Oomiz8pniU77wXAPXGmD
Received: from [68.167.115.34] by web59214.mail.re1.yahoo.com via HTTP; Wed, 31 Oct 2007 07:18:18 PDT
Date: Wed, 31 Oct 2007 07:18:18 -0700 (PDT)
From: Cool Coder <techcool.kumar@yahoo.com>
Subject: Best way to count tokens
To: java-user@lucene.apache.org
In-Reply-To: <471E4291.8020504@gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1455217544-1193840298=:3304"
Content-Transfer-Encoding: 8bit
Message-ID: <543555.3304.qm@web59214.mail.re1.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-1455217544-1193840298=:3304
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hi Group,
              I need to display list of tokens (tags) in my side those have got maximum occurances in my index. One way I can think of is to keep track of all tokens during analysis and accordingly display them. Is there any other way? e.g. if I want to display tokens in order of their occurences as well as their weightage.
   
  regards,
  Ranjan

 __________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 
--0-1455217544-1193840298=:3304--

From java-user-return-30827-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 31 15:46:15 2007
Return-Path: <java-user-return-30827-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8382 invoked from network); 31 Oct 2007 15:46:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 31 Oct 2007 15:46:15 -0000
Received: (qmail 21063 invoked by uid 500); 31 Oct 2007 15:45:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21032 invoked by uid 500); 31 Oct 2007 15:45:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21014 invoked by uid 99); 31 Oct 2007 15:45:50 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 Oct 2007 08:45:50 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of virtualj@gmx.de designates 213.165.64.20 as permitted sender)
Received: from [213.165.64.20] (HELO mail.gmx.net) (213.165.64.20)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 31 Oct 2007 15:45:53 +0000
Received: (qmail invoked by alias); 31 Oct 2007 15:45:31 -0000
Received: from holodeck.fh-luebeck.de (EHLO [10.100.54.81]) [193.175.120.40]
  by mail.gmx.net (mp032) with SMTP; 31 Oct 2007 16:45:31 +0100
X-Authenticated: #9611916
X-Provags-ID: V01U2FsdGVkX1+27hp+9k228j1OUnQp617c27Ar/3UT72kqNyLR5r
	1gAedmezj7NtIi
Message-ID: <4728A318.9000001@gmx.de>
Date: Wed, 31 Oct 2007 16:45:28 +0100
From: "Jan F." <virtualj@gmx.de>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Problems while indexing
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit
X-Y-GMX-Trusted: 0
X-Virus-Checked: Checked by ClamAV on apache.org

Hello to you all!

I've programmed a portlet search solution by using lucene.
Now that our new Website is short before release the file volume 
increesed fast.

My lucene based index program works fine until the number of files 
incresed so much. Now it works for about 10 minutes and then gives me an 
error message. Sadly very short:

"caught a class java.lang.StringIndexOutOfBoundsException
  with message: String index out of range: -1"

Has anyone worked with large Websites and Lucene before?

Solutions?

Error occures with lucene 2.2 and 2.0.

Greetings,
Jan

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30828-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 31 16:26:12 2007
Return-Path: <java-user-return-30828-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28081 invoked from network); 31 Oct 2007 16:26:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 31 Oct 2007 16:26:12 -0000
Received: (qmail 4800 invoked by uid 500); 31 Oct 2007 16:25:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4774 invoked by uid 500); 31 Oct 2007 16:25:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4755 invoked by uid 99); 31 Oct 2007 16:25:49 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 Oct 2007 09:25:49 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of chris.lu@gmail.com designates 64.233.182.187 as permitted sender)
Received: from [64.233.182.187] (HELO nf-out-0910.google.com) (64.233.182.187)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 Oct 2007 16:25:50 +0000
Received: by nf-out-0910.google.com with SMTP id d3so168008nfc
        for <java-user@lucene.apache.org>; Wed, 31 Oct 2007 09:25:28 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        bh=h/5STVNvsgVi/3tTPQXHdKNee7YqkZF3kKwHS4zJByg=;
        b=f8Ki+/XLWdwrdNYNbOsrd5Jes6IiZdsW+acovnJ1yAfNZs0FlSlw1AEcrTNJ9fodNm3I/SFjgkN59JdqtIlYRHRaubBlrMvfYlPNfnmqh7T3+Kw+R0O+4+kUSx4dWsK5jA6OFveixXjillpjyJr0VUd922s5uZRRt5tTWx8LtiY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=nKcxDUYJ4Wpz5Y6oEcItwti/HEcoGf4lUAIsR5zFUU7/90Px2Z+Taf8igCxSf57e7dTudaOzf3qMkxFierx/UJXXmaPWTbfbiH4m5hRZulw0SSRifJlhb8IjsDR0MY3KGspoid7ot1/FDrLM7jdwaWT/QXLZoqHvn0922Siey/0=
Received: by 10.78.179.12 with SMTP id b12mr6308476huf.1193847927097;
        Wed, 31 Oct 2007 09:25:27 -0700 (PDT)
Received: by 10.78.140.9 with HTTP; Wed, 31 Oct 2007 09:25:27 -0700 (PDT)
Message-ID: <6e3ae6310710310925k49e3d6c6sae87972ab4ac1280@mail.gmail.com>
Date: Wed, 31 Oct 2007 09:25:27 -0700
From: "Chris Lu" <chris.lu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Problems while indexing
In-Reply-To: <4728A318.9000001@gmx.de>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_9164_5344565.1193847927086"
References: <4728A318.9000001@gmx.de>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_9164_5344565.1193847927086
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi, Jan,

You really need to be more specific about your configuration and error log.

Lucene surely has been used on many large websites.

-- 
Chris Lu
-------------------------
Instant Scalable Full-Text Search On Any Database/Application
site: http://www.dbsight.net
demo: http://search.dbsight.com
Lucene Database Search in 3 minutes:
http://wiki.dbsight.com/index.php?title=Create_Lucene_Database_Search_in_3_minutes

On 10/31/07, Jan F. <virtualj@gmx.de> wrote:
>
> Hello to you all!
>
> I've programmed a portlet search solution by using lucene.
> Now that our new Website is short before release the file volume
> increesed fast.
>
> My lucene based index program works fine until the number of files
> incresed so much. Now it works for about 10 minutes and then gives me an
> error message. Sadly very short:
>
> "caught a class java.lang.StringIndexOutOfBoundsException
>   with message: String index out of range: -1"
>
> Has anyone worked with large Websites and Lucene before?
>
> Solutions?
>
> Error occures with lucene 2.2 and 2.0.
>
> Greetings,
> Jan
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_9164_5344565.1193847927086--

From java-user-return-30829-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 31 16:26:50 2007
Return-Path: <java-user-return-30829-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28294 invoked from network); 31 Oct 2007 16:26:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 31 Oct 2007 16:26:50 -0000
Received: (qmail 6331 invoked by uid 500); 31 Oct 2007 16:25:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6305 invoked by uid 500); 31 Oct 2007 16:25:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6290 invoked by uid 99); 31 Oct 2007 16:25:59 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 Oct 2007 09:25:59 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of markrmiller@gmail.com designates 209.85.132.245 as permitted sender)
Received: from [209.85.132.245] (HELO an-out-0708.google.com) (209.85.132.245)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 Oct 2007 16:26:01 +0000
Received: by an-out-0708.google.com with SMTP id d40so33520and
        for <java-user@lucene.apache.org>; Wed, 31 Oct 2007 09:25:40 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        bh=y2+sXr0pyzxbz+MhwwrjMRT55cxjEhkhmEsg1kOeIDE=;
        b=YGfxl+c66K1kk1pg7IMS3gUS3sqs2xZJNb3hY25hRzrUYn1n8vds4DH5LfKGvnohrwS233OWOBaAvvC/CVeUxtGgqNvhvfd6AyskZ0c+vYR/2DqGkzsD92zzjbQU0yx/yJf08TVYeBlB0iFChM7aQa1lmzZZLyeN4evL0HUFL64=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=i54qBMybqKTbERoFI7fkFzbBu3fytWEogveL68i0m8kr9sUlKl4bAsWczdLf/K6zk6ufJgMMZ7SV5CP/YmkBwFmBXkLpZ/OFacIEHOT5i33HqJJiGNyWoXjgUMHMwDrJuAO0keznJb05i+TLC4LXaysa5DDjDbLZlQCnUSvZFI4=
Received: by 10.100.241.17 with SMTP id o17mr2071788anh.1193847940381;
        Wed, 31 Oct 2007 09:25:40 -0700 (PDT)
Received: from ?192.168.1.103? ( [69.124.234.183])
        by mx.google.com with ESMTPS id y56sm506301hsb.2007.10.31.09.25.38
        (version=SSLv3 cipher=RC4-MD5);
        Wed, 31 Oct 2007 09:25:39 -0700 (PDT)
Message-ID: <4728AC7B.5040705@gmail.com>
Date: Wed, 31 Oct 2007 12:25:31 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Problems while indexing
References: <4728A318.9000001@gmx.de>
In-Reply-To: <4728A318.9000001@gmx.de>
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

You have no stack trace? Come man...you must be able to get a stack 
trace :) There is no way to tell what is causing that very generic 
error. I would say though: certainly not the size of your index.

I suppose, out of curiosity, how big is it? I'll bet my two broken 
wrists thats not the problem though.

Many, many, people have worked with large websites and Lucene before. 
And they are all doing a jig and singing a song as we speak <g>

Jan F. wrote:
> Hello to you all!
>
> I've programmed a portlet search solution by using lucene.
> Now that our new Website is short before release the file volume 
> increesed fast.
>
> My lucene based index program works fine until the number of files 
> incresed so much. Now it works for about 10 minutes and then gives me 
> an error message. Sadly very short:
>
> "caught a class java.lang.StringIndexOutOfBoundsException
>  with message: String index out of range: -1"
>
> Has anyone worked with large Websites and Lucene before?
>
> Solutions?
>
> Error occures with lucene 2.2 and 2.0.
>
> Greetings,
> Jan
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30830-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 31 16:36:10 2007
Return-Path: <java-user-return-30830-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33159 invoked from network); 31 Oct 2007 16:36:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 31 Oct 2007 16:36:09 -0000
Received: (qmail 26060 invoked by uid 500); 31 Oct 2007 16:35:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25394 invoked by uid 500); 31 Oct 2007 16:35:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25383 invoked by uid 99); 31 Oct 2007 16:35:49 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 Oct 2007 09:35:49 -0700
X-ASF-Spam-Status: No, hits=-1.0 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [216.129.90.209] (HELO aston.electric.net) (216.129.90.209)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 Oct 2007 16:35:51 +0000
Received: from 1InGXN-0004Ne-Uj by aston.electric.net with emc1-ok (Exim 4.67)
	(envelope-from <bruno.dery@evidencematters.com>)
	id 1InGXP-0004Oq-US
	for java-user@lucene.apache.org; Wed, 31 Oct 2007 09:35:27 -0700
Received: by emcmailer; Wed, 31 Oct 2007 09:35:27 -0700
Received: from [69.70.74.198] (helo=BRUNO)
	by aston.electric.net with esmtpa (Exim 4.67)
	(envelope-from <bruno.dery@evidencematters.com>)
	id 1InGXN-0004Ne-Uj
	for java-user@lucene.apache.org; Wed, 31 Oct 2007 09:35:26 -0700
From: "Bruno Dery" <bruno.dery@evidencematters.com>
To: <java-user@lucene.apache.org>
Subject: RE: Document boost, is it working?
Date: Wed, 31 Oct 2007 12:27:38 -0400
Organization: Evidence Matters
Message-ID: <003801c81bda$f4445ac0$0a00a8c0@BRUNO>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3028
In-Reply-To: <472838FA.3010907@getopt.org>
X-Outbound-IP: 69.70.74.198
X-Env-From: bruno.dery@evidencematters.com
X-Virus-Status: Scanned by VirusSMART (c)
X-Virus-Checked: Checked by ClamAV on apache.org

Thanks! I also noticed there is a mention of this in the documentation
of Document.getBoost():

"Note: This value is not stored directly with the document in the index.
Documents returned from IndexReader.document(int) and Hits.doc(int) may
thus not have the same value present as when this document was indexed."

Then maybe it should simply be removed from Luke's display as you
mention. 


-----Original Message-----
From: Andrzej Bialecki [mailto:ab@getopt.org] 
Sent: Wednesday, October 31, 2007 4:13 AM
To: java-user@lucene.apache.org
Subject: Re: Document boost, is it working?


Bruno Dery wrote:
> Thanks for the help, you're right your example works. However looking 
> in Luke I also see only ones (1 1 1) as the document boost.

Then perhaps this value should be removed from the Luke's display ... 
because it will always read 1, and it's a correct value (see below).

> 
> I imagine Luke use's Lucene's Document.getBoost() function. Shouldn't 
> this be considered a bug, as I'd expect to retrieve the same boost 
> number (or at least some factor of it) when I look at my documents 
> once indexed? Or perhaps there is something I'm not understanding 
> about this Document.getBoost function, normally you expect a getter to

> return you the exact value you entered with the setter.

Document.setBoost / getBoost is _only_ guaranteed to return the same 
value if a document is newly created, i.e. it hasn't been stored & 
retrieved. This is related to the way Lucene stores boost values in the 
index - in order to save storage space the boost value is never stored 
explicitly, instead during the storing process it's multiplied by every 
field's lengthNorm, and stored together as a single-byte float.

(Actually, it's a function of the current index format - perhaps in the 
future Lucene will be able to store these values separately using 
another type of storage. So far there was no pressing need to do this).

-- 
Best regards,
Andrzej Bialecki     <><
  ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web ___|||__||
\|  ||  |  Embedded Unix, System Integration http://www.sigram.com
Contact: info at sigram dot com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30831-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 31 16:36:34 2007
Return-Path: <java-user-return-30831-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33343 invoked from network); 31 Oct 2007 16:36:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 31 Oct 2007 16:36:34 -0000
Received: (qmail 27228 invoked by uid 500); 31 Oct 2007 16:36:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27199 invoked by uid 500); 31 Oct 2007 16:36:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27188 invoked by uid 99); 31 Oct 2007 16:36:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 Oct 2007 09:36:14 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [194.109.24.32] (HELO smtp-vbr12.xs4all.nl) (194.109.24.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 Oct 2007 16:36:17 +0000
Received: from k8u.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr12.xs4all.nl (8.13.8/8.13.8) with ESMTP id l9VGZt78068172
	for <java-user@lucene.apache.org>; Wed, 31 Oct 2007 17:35:56 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: 2/3 of terms matched + coverage filter
Date: Wed, 31 Oct 2007 17:35:55 +0100
User-Agent: KMail/1.9.6 (enterprise 0.20070907.709405)
References: <BBD1371A36A8D8458F94E4AC71DBEC051588DCA300@drutten.citerus.net>
In-Reply-To: <BBD1371A36A8D8458F94E4AC71DBEC051588DCA300@drutten.citerus.net>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200710311735.55639.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org

On Wednesday 31 October 2007 14:51:12 Tobias Hill wrote:
> My documents all hava a field with variables number of terms
> (but rather few):
> Doc1.field = "foo bar gro"
> Doc2.field = "foo bar gro mot slu"
> Now I would like to search using the terms "foo bar gro"
>
> Problem 1:
> I like to express that at least any two of the three terms
> must match. Do I have to construct this clause myself - i.e.
> "(foo & bar) | (foo & gro) | (bar & gro)", or is there some
> clever way to do this?

BooleanQuery.setMinimumNumberShouldMatch(int) does this,
have a look at the javadocs for the details.

>
> Problem 2:
> I like to express that if the doc.field has too many terms
> that wasn't matched it should not be included at all in the
> result. In the example above Doc2 might have too many
> terms that was not matched to be included in the result.
> Is this kind of query possible, and how?
>
> The general case:
> I want to find those docs that has X% of the search terms
> matched and that the acctual match covers at least Y% of
> the available terms on the document.

This Y% is not directly possible, but I would expect the default
document score to correlate reasonably well with coverage.

In case you want an exact Y% cutoff, you'll run into the fact
that the field norm (the inverse square root of the field length)
is encoded in only 8 bits, which is rather course.

Regards,
Paul Elschot

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30832-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 31 16:39:59 2007
Return-Path: <java-user-return-30832-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35563 invoked from network); 31 Oct 2007 16:39:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 31 Oct 2007 16:39:59 -0000
Received: (qmail 35433 invoked by uid 500); 31 Oct 2007 16:39:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35401 invoked by uid 500); 31 Oct 2007 16:39:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35390 invoked by uid 99); 31 Oct 2007 16:39:34 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 Oct 2007 09:39:34 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: 80.76.149.213 is neither permitted nor denied by domain of karl.wettin@gmail.com)
Received: from [80.76.149.213] (HELO ch-smtp02.sth.basefarm.net) (80.76.149.213)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 Oct 2007 16:39:51 +0000
Received: from c83-249-118-113.bredband.comhem.se ([83.249.118.113]:58956 helo=[192.168.1.101])
	by ch-smtp02.sth.basefarm.net with esmtp (Exim 4.68)
	(envelope-from <karl.wettin@gmail.com>)
	id 1InGat-000052-7z
	for java-user@lucene.apache.org; Wed, 31 Oct 2007 17:39:03 +0100
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <543555.3304.qm@web59214.mail.re1.yahoo.com>
References: <543555.3304.qm@web59214.mail.re1.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <BDF97B31-1EDC-4CA6-8BB6-51059F117C1B@gmail.com>
Content-Transfer-Encoding: 7bit
From: Karl Wettin <karl.wettin@gmail.com>
Subject: Re: Best way to count tokens
Date: Wed, 31 Oct 2007 17:39:01 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Originating-IP: 83.249.118.113
X-Scan-Result: No virus found in message 1InGat-000052-7z.
X-Scan-Signature: ch-smtp02.sth.basefarm.net 1InGat-000052-7z 2ec25017e89827bf49623d6b920cce9e
X-Virus-Checked: Checked by ClamAV on apache.org


31 okt 2007 kl. 15.18 skrev Cool Coder:

> Hi Group,
>               I need to display list of tokens (tags) in my side  
> those have got maximum occurances in my index. One way I can think  
> of is to keep track of all tokens during analysis and accordingly  
> display them. Is there any other way? e.g. if I want to display  
> tokens in order of their occurences as well as their weightage.

Are you looking for the term frequency vector?

<http://lucene.apache.org/java/2_2_0/api/org/apache/lucene/index/ 
IndexReader.html#getTermFreqVector(int,%20java.lang.String)>

If you are using 2.3 the TermVectorMapper might save you a couple of  
clock ticks sorting.


Or is this something you want to do prior to adding the document to  
the index?

-- 
karl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30833-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 31 18:14:56 2007
Return-Path: <java-user-return-30833-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77983 invoked from network); 31 Oct 2007 18:14:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 31 Oct 2007 18:14:56 -0000
Received: (qmail 77174 invoked by uid 500); 31 Oct 2007 18:14:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76857 invoked by uid 500); 31 Oct 2007 18:14:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76846 invoked by uid 99); 31 Oct 2007 18:14:24 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 Oct 2007 11:14:24 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [217.41.57.100] (HELO 2ls.com) (217.41.57.100)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 Oct 2007 18:14:27 +0000
Subject: Hits.score mystery
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Date: Wed, 31 Oct 2007 18:14:03 -0000
Content-class: urn:content-classes:message
Message-ID: <562BCF4FF1D14343BC81378BA0050AD90AB086@SBS2003.2LSHQ.local>
X-MimeOLE: Produced By Microsoft Exchange V6.5
In-Reply-To: <BDF97B31-1EDC-4CA6-8BB6-51059F117C1B@gmail.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Hits.score mystery
Thread-Index: Acgb3K0dpbOBcSsCSS2AO4gcO3brJgACzWwg
From: "Tom Conlon" <tomc@2ls.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

Hi All,

Query:	systems AND 2000
Results: 	558 total matching documents

I'm returning the document plus hits.score(i) * 100 but when the
relevance is examined in the User interface it doesn't seem to be
working.=20


E.g.  'rough' feedback in terms of occurences

61.txt	18.356403	100%	(13 occurences)
119.txt	17.865013	 97% 	(13 occurences)
...
45.txt	8.600986	 47%  (18 occurences)=20
...
8.rtf		2.7724645	 15%  (10 occurences)

Is there something else I need to do or am missing?

Thanks,
Tom



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-30834-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Oct 31 19:18:10 2007
Return-Path: <java-user-return-30834-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19616 invoked from network); 31 Oct 2007 19:18:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 31 Oct 2007 19:18:10 -0000
Received: (qmail 92066 invoked by uid 500); 31 Oct 2007 19:17:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92041 invoked by uid 500); 31 Oct 2007 19:17:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92004 invoked by uid 99); 31 Oct 2007 19:17:50 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 Oct 2007 12:17:50 -0700
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [208.97.132.74] (HELO spunkymail-a12.g.dreamhost.com) (208.97.132.74)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 Oct 2007 19:17:51 +0000
Received: from [192.168.0.3] (adsl-074-229-189-244.sip.rmo.bellsouth.net [74.229.189.244])
	by spunkymail-a12.g.dreamhost.com (Postfix) with ESMTP id 7CC877FAB
	for <java-user@lucene.apache.org>; Wed, 31 Oct 2007 12:17:28 -0700 (PDT)
Message-Id: <0564B5C2-6FC3-40F5-BD06-6BC6F663DB38@apache.org>
From: Grant Ingersoll <gsingers@apache.org>
To: java-user@lucene.apache.org
In-Reply-To: <562BCF4FF1D14343BC81378BA0050AD90AB086@SBS2003.2LSHQ.local>
Content-Type: text/plain; charset=US-ASCII; format=flowed; delsp=yes
Content-Transfer-Encoding: 7bit
Mime-Version: 1.0 (Apple Message framework v912)
Subject: Re: Hits.score mystery
Date: Wed, 31 Oct 2007 15:17:23 -0400
References: <562BCF4FF1D14343BC81378BA0050AD90AB086@SBS2003.2LSHQ.local>
X-Mailer: Apple Mail (2.912)
X-Virus-Checked: Checked by ClamAV on apache.org

Not sure what UI you are referring to, but you should have a look at  
Searcher.explain() for giving you information about why a particular  
document scored the way it does

-Grant

On Oct 31, 2007, at 2:14 PM, Tom Conlon wrote:

> Hi All,
>
> Query:	systems AND 2000
> Results: 	558 total matching documents
>
> I'm returning the document plus hits.score(i) * 100 but when the
> relevance is examined in the User interface it doesn't seem to be
> working.
>
>
> E.g.  'rough' feedback in terms of occurences
>
> 61.txt	18.356403	100%	(13 occurences)
> 119.txt	17.865013	 97% 	(13 occurences)
> ...
> 45.txt	8.600986	 47%  (18 occurences)
> ...
> 8.rtf		2.7724645	 15%  (10 occurences)
>
> Is there something else I need to do or am missing?
>
> Thanks,
> Tom
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

--------------------------
Grant Ingersoll
http://lucene.grantingersoll.com

Lucene Boot Camp Training:
ApacheCon Atlanta, Nov. 12, 2007.  Sign up now!  http://www.apachecon.com

Lucene Helpful Hints:
http://wiki.apache.org/lucene-java/BasicsOfPerformance
http://wiki.apache.org/lucene-java/LuceneFAQ



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


