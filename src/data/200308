From morus@tanto-xipolis.de  Fri Aug  1 06:18:09 2003
Return-Path: <morus@tanto-xipolis.de>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88519 invoked from network); 1 Aug 2003 06:18:09 -0000
Received: from mail.xipolis.net (HELO mail.tanto-xipolis.de) (213.61.178.42)
  by daedalus.apache.org with SMTP; 1 Aug 2003 06:18:09 -0000
Received: from morus.xipolis.net (morus.xipolis.net [10.0.1.4])
	by mail.tanto-xipolis.de (Postfix on SuSE Linux 7.3 (i386)) with ESMTP id ABA4419B71A
	for <lucene-user@jakarta.apache.org>; Fri,  1 Aug 2003 08:18:19 +0200 (CEST)
Received: (from morus@localhost)
	by morus.xipolis.net (8.11.6/8.11.6/SuSE Linux 0.5) id h716HhN17632;
	Fri, 1 Aug 2003 08:17:43 +0200
From: Morus Walter <morus.walter@tanto-xipolis.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16170.1543.335095.507678@morus.xipolis.net>
Date: Fri, 1 Aug 2003 08:17:43 +0200
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Lucene Index on NFS Server
In-Reply-To: <3F296DF1.5050802@lucene.com>
References: <16167.53762.766191.172922@morus.xipolis.net>
	<3F296DF1.5050802@lucene.com>
X-Mailer: VM 6.95 under 21.4 (patch 4) "Artificial Intelligence" XEmacs Lucid
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Doug Cutting writes:

> > Can I have a lucene index on a NFS filesystem without problems
> > (access is readonly)?
> 
> So long as all access is read-only, there should not be a problem.  Keep 
> in mind however that lock files are known to not work correctly over NFS.
> 
Hmm. Sorry, I was a bit unprecise (at least in the quoted part) so I'm 
not sure, if I got that correctly. Access over NFS is readonly, but 
there would be write access on the NFS server itself (local filesystem).
Is this ok? Or should I use a "update a copy of the index and exchange
indexes afterwards" strategy?

TIA
	Morus

From li_xinzhu@ctgpc.com.cn  Fri Aug  1 07:19:42 2003
Return-Path: <li_xinzhu@ctgpc.com.cn>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40266 invoked from network); 1 Aug 2003 07:19:42 -0000
Received: from unknown (HELO email.ctgpc.com.cn) (61.136.151.7)
  by daedalus.apache.org with SMTP; 1 Aug 2003 07:19:42 -0000
From: li_xinzhu@ctgpc.com.cn
Subject: =?gb2312?B?tPC4tDogVXNpbmcgamF2YWNjIGZvciBRdWVyeVBhcnNlci5qag==?=
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Lotus Notes R5.0 (Intl) 30 March 1999
Message-ID: <OFBD7DFEF2.54B64A65-ON48256D75.00280CCD@ctgpc.com.cn>
Sender: li_xinzhu@ctgpc.com.cn
Date: Fri, 1 Aug 2003 15:20:59 +0800
X-MIMETrack: Serialize by Router on IC_NSRV/CTGPC(Release 5.0.8 |June 18, 2001) at 2003-08-01
 03:21:03 PM
MIME-Version: 1.0
Content-type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Hi,
  If you only want to compile QueryParser.jj,that's easy.First you must
download the javaCC,then unzip it .add the directory(suppose c:\javacc) c:
\javacc\bin to your path
then you can use command javacc -option QueryParser.jj ,it will generate 7
java files.
          good luck


From li_xinzhu@ctgpc.com.cn  Fri Aug  1 07:20:05 2003
Return-Path: <li_xinzhu@ctgpc.com.cn>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41049 invoked from network); 1 Aug 2003 07:20:05 -0000
Received: from unknown (HELO email.ctgpc.com.cn) (61.136.151.7)
  by daedalus.apache.org with SMTP; 1 Aug 2003 07:20:05 -0000
From: li_xinzhu@ctgpc.com.cn
Subject: =?gb2312?B?tPC4tDogVXNpbmcgamF2YWNjIGZvciBRdWVyeVBhcnNlci5qag==?=
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Lotus Notes R5.0 (Intl) 30 March 1999
Message-ID: <OF6F571039.3BECF4AB-ON48256D75.0028630D@ctgpc.com.cn>
Sender: li_xinzhu@ctgpc.com.cn
Date: Fri, 1 Aug 2003 15:21:09 +0800
X-MIMETrack: Serialize by Router on IC_NSRV/CTGPC(Release 5.0.8 |June 18, 2001) at 2003-08-01
 03:21:25 PM
MIME-Version: 1.0
Content-type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Hi,
  If you only want to compile QueryParser.jj,that's easy.First you must
download the javaCC,then unzip it .add the directory(suppose c:\javacc) c:
\javacc\bin to your path
then you can use command javacc -option QueryParser.jj ,it will generate 7
java files.
          good luck


From lucene@gobstopper.demon.co.uk  Fri Aug  1 08:08:47 2003
Return-Path: <lucene@gobstopper.demon.co.uk>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95052 invoked from network); 1 Aug 2003 08:08:47 -0000
Received: from anchor-post-35.mail.demon.net (194.217.242.85)
  by daedalus.apache.org with SMTP; 1 Aug 2003 08:08:47 -0000
Received: from pr-webmail-2.demon.net ([194.159.244.50] helo=web.mail.demon.net)
	by anchor-post-35.mail.demon.net with smtp (Exim 3.36 #2)
	id 19iUyB-000127-0Z; Fri, 01 Aug 2003 09:08:59 +0100
Received: from gobstopper.demon.co.uk ([193.119.59.53])
	by web.mail.demon.net with http; Fri, 01 Aug 2003 09:08:59 +0100
From: lucene@gobstopper.demon.co.uk
To: "Lucene Users List" <lucene-user@jakarta.apache.org> ,bizhan@aha.ru
In-Reply-To: <000801c3578e$a75ae3b0$0e9c763e@pb>
Subject: RE: NLucene up to date ?
Date: Fri, 01 Aug 2003 09:08:59 +0100
User-Agent: Demon-WebMail/2.0
MIME-Version: 1.0
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
Message-Id: <E19iUyB-000127-0Z@anchor-post-35.mail.demon.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

No additional classes have been created.
The functionality was simply implemented via new properties and method overloading, so original signatures remain intact.

As far as supporting future versions, I cannot say as I will no longer be using it at work.  Keeping the c# version in line with java would have to be done in my own time, so no guarantees.

Taking the 1.2b2 source I only brought in the fixes, enhancements, etc that affected how I was using Lucene.  I keep up with the nightly builds on a regular basis and update the c# source where appropriate, so any bugs should have been rectified.

Brendon

fckdp@ok.ru wrote:
> Hi,
> 
> > From: lucene@gobstopper.demon.co.uk 
>  
> > I (we) have just successfully released a search engine using 
> > a c# implmentation of Lucene.  Code had to be brought up to 
> > date in line with recent java builds, and enhanced with 
> > additional features (eg field sorting, term position score 
> > factoring, etc).
> 
> Is it hard-code additional or new classes?
> Are you going to support new versions of lucene? 
> 
> Pasha
> 
> P.s nLucene is lucene 1.2 based with old bugs and not supported.
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


From jgaliana@renr.es  Fri Aug  1 08:57:49 2003
Return-Path: <jgaliana@renr.es>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58904 invoked from network); 1 Aug 2003 08:57:49 -0000
Received: from unknown (HELO renr.es) (194.224.250.82)
  by daedalus.apache.org with SMTP; 1 Aug 2003 08:57:49 -0000
Received: (qmail 14150 invoked by uid 64014); 1 Aug 2003 08:58:22 -0000
Received: from jgaliana@renr.es by correo with qmail-scanner-1.01 (. Clean. Processed in 0.087215 secs); 01 Aug 2003 08:58:22 -0000
Received: from unknown (HELO JGaliana) (jgaliana@epi.es@[10.162.133.128]) (envelope-sender <jgaliana@renr.es>)
          by correo.renr.es (qmail-ldap-1.03) with SMTP
          for <lucene-user@jakarta.apache.org>; 1 Aug 2003 08:58:21 -0000
From: "Jose Galiana" <jgaliana@renr.es>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Searching while optimizing
Date: Fri, 1 Aug 2003 10:58:31 +0200
Message-ID: <OAEAKBIGACBPNEKDMAPPGEMIFKAA.jgaliana@renr.es>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MIMEOLE: Produced By Microsoft MimeOLE V5.50.4910.0300
Importance: Normal
In-Reply-To: <D15E9D991E0FD41184C90080C80D2746B49C0A@MUSCOVITE>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Ok, would be possible the next scenary?

1. We run an IndeWriter and several IndexSearch runs in parallel.
IndexWriter is open all time. There are two contexts in Tomcat, one to Index
and the other to search and administrative works.
2. The context "search" creates an IndexSearch
3. At the same time arrives a document to be indexed.
4. the context "indexer" uses the IndexWriter to add the document, and it
needs to do a merge and creates and deletes segments.
5. When IndexSearch is goint be used the files are changed, and don´t found
it.

It´s possible?
Jose galiana

-----Mensaje original-----
De: Steve Rajavuori [mailto:SteveR@opin.com]
Enviado el: jueves, 31 de julio de 2003 21:57
Para: 'Lucene Users List'
Asunto: RE: Searching while optimizing


This seems to contradict an item from the Lucene FAQ:

<<
41. Can I modify the index while performing ongoing searches ?
Yes and no. At the time of writing this FAQ (June 2001), Lucene is not
thread safe in this regard. Here is a quote from Doug Cutting, the creator
of Lucene:


The problems are only when you add documents or optimize an index, and then
search with an IndexReader that was constructed before those changes to the
index were made.
A possible work around is to perform the index updates in a parable and
separate index and switch to the new index when its updating is done. The
switching may be done for example, using a variable that will points to the
directory of the current active index. Since searches have a relatively
short life time, you may discard (or resue the old index) short time after
performing the switch (this grace period should be a little longer if you
want to let all searches that involved paging through the hit list to be
completed with consistent results).
>>

Can you explain further?

-----Original Message-----
From: Doug Cutting [mailto:cutting@lucene.com]
Sent: Thursday, July 31, 2003 2:31 PM
To: Lucene Users List
Subject: Re: Searching while optimizing


Aviran Mordo wrote:
> Is it possible and safe to search an index while another thread adds
> documents or optimizes the same index?

Yes.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



From Jill_Pelavin@abtassoc.com  Fri Aug  1 18:30:42 2003
Return-Path: <Jill_Pelavin@abtassoc.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60928 invoked from network); 1 Aug 2003 18:30:42 -0000
Received: from otto.abtassoc.com (198.105.0.72)
  by daedalus.apache.org with SMTP; 1 Aug 2003 18:30:42 -0000
Received: from camdom1.cam.abtassoc.com (talisker.abtassoc.com [198.105.0.4])
	by otto.abtassoc.com (8.11.6/8.11.6) with ESMTP id h71IPCJ22408
	for <lucene-user@jakarta.apache.org>; Fri, 1 Aug 2003 14:25:12 -0400
Subject: javacc problem + path/link problem in html demo
To: lucene-user@jakarta.apache.org
X-Mailer: Lotus Notes Release 5.0.10  March 22, 2002
Message-ID: <OF97F573FF.BF272B8E-ON85256D75.00659350-85256D75.0065AF8A@cam.abtassoc.com>
From: Jill_Pelavin@abtassoc.com
Date: Fri, 1 Aug 2003 14:30:41 -0400
X-MIMETrack: Serialize by Router on camdom1/Servers/Abtassoc(Release 5.0.11  |July 24, 2002) at
 08/01/2003 02:30:44 PM
MIME-Version: 1.0
Content-type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


I get the error, when I run ant, that it won't build.

why am I building?  when I run the web demo, all the links are formed with
luceneweb/ preceding them (the links are incorrect):

and the links come out as:

http://localhost:8080/luceneweb/examples/foo.jsp

when it should be:

http://localhost:8080/examples/foo.jsp

and I'm using tomcat, btw.

I hunted down the line that gets the path in HTMLDocument (in the demo),
and added some scaffolding to see what it says the link is; and so I wanted
to recompile it (the thought is, that I could do a substring on the path,
if is indeed adding luceneweb/ as part of all the paths). (it's a bit of a
hack, but if it would work....)

anyways, I downloaded javacc and am trying to build, with no avail.  I've
read through the newsgroup archives, read the help files, and looked on the
net...so here I am emailing the group

thanks so much.

some more detail:
ant can't find javacc -  (also, it wants javacc.zip; but the javacc
distrib. I got only comes
with javacc.jar)

from my default.properties file (I added this myself):

# Home directory of JavaCC
javacc.home =   c:/Java tools/javacc-3.1/
javacc.zip.dir = ${javacc.home}/bin/lib
javacc.zip = ${javacc.zip.dir}/javacc.jar

(the above snippet seems to do no good :(

-Jill




From fckdp@ok.ru  Fri Aug  1 18:33:46 2003
Return-Path: <fckdp@ok.ru>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71464 invoked from network); 1 Aug 2003 18:33:46 -0000
Received: from elk.zenon.net (HELO frontend3.aha.ru) (213.189.198.216)
  by daedalus.apache.org with SMTP; 1 Aug 2003 18:33:46 -0000
Received: from [62.118.156.178] (account fckdp@ok.ru HELO pb)
  by frontend3.aha.ru (CommuniGate Pro SMTP 4.0.6)
  with ESMTP id 18772917 for lucene-user@jakarta.apache.org; Fri, 01 Aug 2003 22:33:43 +0400
Reply-To: <bizhan@aha.ru>
From: "Pasha Bizhan" <fckdp@ok.ru>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Error: "Docs out of order" - why?
Date: Fri, 1 Aug 2003 22:34:16 +0400
Message-ID: <000401c3585b$906dd090$b29c763e@pb>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
In-Reply-To: <000501c3577f$2d665490$0e9c763e@pb>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

> I index my documents, then call writer.optimize and receive
> this exception. What the reason for it? 

My be the Reason is: WhitespaceTokenizer + a lot of multilanguage texts
with garbage and digits. The example of garbage is: "Lu?y cla ims to.  I
do#'t kn?w abo ut Nlucen e, b ut it sh ould.  An ypor t".

I don't know why but the code with StopAnalyzer work correct.

Pasha


From Eric.Isakson@sas.com  Fri Aug  1 18:36:36 2003
Return-Path: <Eric.Isakson@sas.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83572 invoked from network); 1 Aug 2003 18:36:36 -0000
Received: from merc65.na.sas.com (149.173.6.60)
  by daedalus.apache.org with SMTP; 1 Aug 2003 18:36:36 -0000
Received: from merc12.na.sas.com ([10.19.11.9]) by 10.19.11.13 with InterScan Messaging Security Suite; Fri, 01 Aug 2003 14:36:40 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.0.6410.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: javacc problem + path/link problem in html demo
Date: Fri, 1 Aug 2003 14:36:39 -0400
Message-ID: <187D6D956106D84E9D8B280F6458FE14018D9BAA@merc12.na.sas.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: javacc problem + path/link problem in html demo
Thread-Index: AcNYWwsRmbPr80i1SmSs1pDwmFkguAAAJAwg
From: "Eric Isakson" <Eric.Isakson@sas.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

JavaCC 3 is not supported by ant yet...
http://nagoya.apache.org/bugzilla/show_bug.cgi?id=3D19468
http://nagoya.apache.org/eyebrowse/ReadMsg?listName=3Dlucene-user@jakarta=
.apache.org&msgId=3D763762
http://nagoya.apache.org/eyebrowse/ReadMsg?listName=3Dlucene-user@jakarta=
.apache.org&msgId=3D774059

Eric

-----Original Message-----
From: Jill_Pelavin@abtassoc.com [mailto:Jill_Pelavin@abtassoc.com]=20
Sent: Friday, August 01, 2003 2:31 PM
To: lucene-user@jakarta.apache.org
Subject: javacc problem + path/link problem in html demo



I get the error, when I run ant, that it won't build.

why am I building?  when I run the web demo, all the links are formed =
with luceneweb/ preceding them (the links are incorrect):

and the links come out as:

http://localhost:8080/luceneweb/examples/foo.jsp

when it should be:

http://localhost:8080/examples/foo.jsp

and I'm using tomcat, btw.

I hunted down the line that gets the path in HTMLDocument (in the demo), =
and added some scaffolding to see what it says the link is; and so I =
wanted to recompile it (the thought is, that I could do a substring on =
the path, if is indeed adding luceneweb/ as part of all the paths). =
(it's a bit of a hack, but if it would work....)

anyways, I downloaded javacc and am trying to build, with no avail.  =
I've read through the newsgroup archives, read the help files, and =
looked on the net...so here I am emailing the group

thanks so much.

some more detail:
ant can't find javacc -  (also, it wants javacc.zip; but the javacc =
distrib. I got only comes with javacc.jar)

from my default.properties file (I added this myself):

# Home directory of JavaCC
javacc.home =3D   c:/Java tools/javacc-3.1/
javacc.zip.dir =3D ${javacc.home}/bin/lib
javacc.zip =3D ${javacc.zip.dir}/javacc.jar

(the above snippet seems to do no good :(

-Jill




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From Jill_Pelavin@abtassoc.com  Fri Aug  1 18:40:16 2003
Return-Path: <Jill_Pelavin@abtassoc.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95483 invoked from network); 1 Aug 2003 18:40:16 -0000
Received: from otto.abtassoc.com (198.105.0.72)
  by daedalus.apache.org with SMTP; 1 Aug 2003 18:40:16 -0000
Received: from camdom1.cam.abtassoc.com (talisker.abtassoc.com [198.105.0.4])
	by otto.abtassoc.com (8.11.6/8.11.6) with ESMTP id h71IYjJ23530
	for <lucene-user@jakarta.apache.org>; Fri, 1 Aug 2003 14:34:45 -0400
Subject: RE: javacc problem + path/link problem in html demo
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Lotus Notes Release 5.0.10  March 22, 2002
Message-ID: <OFB99EEF85.C4610B5D-ON85256D75.00667AD1-85256D75.00668FE3@cam.abtassoc.com>
From: Jill_Pelavin@abtassoc.com
Date: Fri, 1 Aug 2003 14:40:15 -0400
X-MIMETrack: Serialize by Router on camdom1/Servers/Abtassoc(Release 5.0.11  |July 24, 2002) at
 08/01/2003 02:40:17 PM
MIME-Version: 1.0
Content-type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


I saw that bug, but tried it anyways......


but since the bug is still active, do you know where I can an earlier copy
of javacc? (and which version, exactly, that I need?)

thanks

-Jill



From Eric.Isakson@sas.com  Fri Aug  1 18:47:31 2003
Return-Path: <Eric.Isakson@sas.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9096 invoked from network); 1 Aug 2003 18:47:31 -0000
Received: from merc64.na.sas.com (149.173.6.59)
  by daedalus.apache.org with SMTP; 1 Aug 2003 18:47:31 -0000
Received: from merc12.na.sas.com ([10.19.11.9]) by 10.19.11.14 with InterScan Messaging Security Suite; Fri, 01 Aug 2003 14:47:35 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.0.6410.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: javacc problem + path/link problem in html demo
Date: Fri, 1 Aug 2003 14:47:34 -0400
Message-ID: <187D6D956106D84E9D8B280F6458FE14018D9BAB@merc12.na.sas.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: javacc problem + path/link problem in html demo
Thread-Index: AcNYXGE/CxSoTaZ+S5KHHjW7697ergAAMcdQ
From: "Eric Isakson" <Eric.Isakson@sas.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

JavaCC 2 is no longer available. You will have to upgrade or dig for it =
(i.e. you and whomever you get it from would be violating the license =
agreement).

Eric

-----Original Message-----
From: Jill_Pelavin@abtassoc.com [mailto:Jill_Pelavin@abtassoc.com]=20
Sent: Friday, August 01, 2003 2:40 PM
To: Lucene Users List
Subject: RE: javacc problem + path/link problem in html demo



I saw that bug, but tried it anyways......


but since the bug is still active, do you know where I can an earlier =
copy of javacc? (and which version, exactly, that I need?)

thanks

-Jill



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From cwilkes-lucene@ladro.com  Fri Aug  1 18:50:00 2003
Return-Path: <cwilkes-lucene@ladro.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16400 invoked from network); 1 Aug 2003 18:50:00 -0000
Received: from nat.ladro.com (HELO ladro.com) (216.231.48.79)
  by daedalus.apache.org with SMTP; 1 Aug 2003 18:50:00 -0000
Received: (qmail 72739 invoked by uid 500); 1 Aug 2003 18:50:26 -0000
Date: Fri, 1 Aug 2003 11:50:26 -0700
From: Chris Wilkes <cwilkes-lucene@ladro.com>
To: lucene-user@jakarta.apache.org
Subject: Re: javacc problem + path/link problem in html demo
Message-ID: <20030801185026.GC59996@www.ladro.com>
References: <187D6D956106D84E9D8B280F6458FE14018D9BAA@merc12.na.sas.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <187D6D956106D84E9D8B280F6458FE14018D9BAA@merc12.na.sas.com>
User-Agent: Mutt/1.4.1i
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Fri, Aug 01, 2003 at 02:36:39PM -0400, Eric Isakson wrote:
> JavaCC 3 is not supported by ant yet...
> http://nagoya.apache.org/bugzilla/show_bug.cgi?id=19468
> http://nagoya.apache.org/eyebrowse/ReadMsg?listName=lucene-user@jakarta.apache.org&msgId=763762
> http://nagoya.apache.org/eyebrowse/ReadMsg?listName=lucene-user@jakarta.apache.org&msgId=774059

Another Eric, Erik Hatcher is active in both Ant and Lucene (as I found
out in a nofluffjuststuff.com talk) scene.  So hopefully good things
will come about.

http://www.ehatchersolutions.com/servlets/blogscene

Chris

From lists@ehatchersolutions.com  Fri Aug  1 20:43:44 2003
Return-Path: <lists@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59063 invoked from network); 1 Aug 2003 20:43:44 -0000
Received: from mail11.atl.registeredsite.com (64.224.219.85)
  by daedalus.apache.org with SMTP; 1 Aug 2003 20:43:44 -0000
Received: from netmail.mail.registeredsite.com ([216.122.69.15])
	by mail11.atl.registeredsite.com (8.12.9/8.12.9) with ESMTP id h71Khm65028771
	(version=TLSv1/SSLv3 cipher=EDH-RSA-DES-CBC3-SHA bits=168 verify=NOT)
	for <lucene-user@jakarta.apache.org>; Fri, 1 Aug 2003 16:43:49 -0400
Received: (qmail 50304 invoked by uid 89); 1 Aug 2003 20:46:01 -0000
Received: from unknown (HELO ehatchersolutions.com) (128.143.59.109)
  by mail.congovision.com with SMTP; 1 Aug 2003 20:46:01 -0000
Date: Fri, 1 Aug 2003 16:43:55 -0400
Subject: Re: javacc problem + path/link problem in html demo
Content-Type: text/plain; delsp=yes; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <lists@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20030801185026.GC59996@www.ladro.com>
Message-Id: <DE4C0050-C460-11D7-90B6-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Friday, August 1, 2003, at 02:50  PM, Chris Wilkes wrote:
> On Fri, Aug 01, 2003 at 02:36:39PM -0400, Eric Isakson wrote:
>> JavaCC 3 is not supported by ant yet...
>> http://nagoya.apache.org/bugzilla/show_bug.cgi?id=19468
>> http://nagoya.apache.org/eyebrowse/ReadMsg?listName=lucene- 
>> user@jakarta.apache.org&msgId=763762
>> http://nagoya.apache.org/eyebrowse/ReadMsg?listName=lucene- 
>> user@jakarta.apache.org&msgId=774059
>
> Another Eric, Erik Hatcher is active in both Ant and Lucene (as I found
> out in a nofluffjuststuff.com talk) scene.  So hopefully good things
> will come about.

Hi Chris!

Yeah, I'll (eventually) have a look at the Lucene build process and see  
if I can fix any issues with JavaCC and such.  No promises on when, but  
soon I hope.


> http://www.ehatchersolutions.com/servlets/blogscene

Change that to:

	http://www.blogscene.org/erik/



From mp2002003@yahoo.com  Sat Aug  2 03:24:22 2003
Return-Path: <mp2002003@yahoo.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44391 invoked from network); 2 Aug 2003 03:24:22 -0000
Received: from web11503.mail.yahoo.com (216.136.172.35)
  by daedalus.apache.org with SMTP; 2 Aug 2003 03:24:22 -0000
Message-ID: <20030802032432.6971.qmail@web11503.mail.yahoo.com>
Received: from [68.85.50.61] by web11503.mail.yahoo.com via HTTP; Fri, 01 Aug 2003 20:24:32 PDT
Date: Fri, 1 Aug 2003 20:24:32 -0700 (PDT)
From: M P <mp2002003@yahoo.com>
Subject: Problem in getting hits
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello all,

I'm not getting hits for queries that I think should
return hits. 

Description:

I have created index with document having terms "body"
& "title" using StandardAnalyzer. Term "body" is added
to document as Field.Text("body", <text>) and Term
title is added as Field.Keyword("title", <title>). 

I added a document with body have some 300 words and
title with 2 words.

Next, I searched the index with exactly same body that
I indexed and Lucene returns zero hits. I constructed
query using following different ways:

1. QueryParser.parse("body", <body-text>,
StandardAnalyzer);

2. Using PhraseQuery:

TokenStream tokenizer =
StandardAnalyzer.tokenStream(key, new
java.io.StringReader(<body-text>));
Token token;
PhraseQuery pq = new PhraseQuery();
while ((token = tokenizer.next()) != null) 
pq.add(new Term("body", token.termText()));
pq.setSlop(50);

My understanding is that Lucene should return this
document as hit. Please let me know where I'm doing
wrong.

However, search on the title returns correct hit.

Any help on this would be really appreciated.

Thanks,

MP


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

From mmachado@levi.com  Sat Aug  2 05:35:37 2003
Return-Path: <mmachado@levi.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99891 invoked from network); 2 Aug 2003 05:35:37 -0000
Received: from unknown (HELO levi.com) (155.57.254.3)
  by daedalus.apache.org with SMTP; 2 Aug 2003 05:35:37 -0000
Received: from ([172.23.246.206])
	by sfoexironmail.levi.com with ESMTP ;
	Fri, 01 Aug 2003 22:34:54 -0700 (PDT)
Received: by SFOEXIMS with Internet Mail Service (5.5.2656.59)
	id <QCLZ85RV>; Fri, 1 Aug 2003 22:35:15 -0700
Message-ID: <E9EE029E3896D511A2AA0002A589953003A965C2@bruex4.eu.levi.com>
From: MMachado@LEVI.com
To: lucene-user@jakarta.apache.org
Subject: RE: Problem in getting hits
Date: Fri, 1 Aug 2003 22:35:16 -0700 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2656.59)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N



Hi M P,

Try this:

InputStream is = new FileInputStream(filename); where filename is the file
to index.
----
---
---
doc.add(Field.Text("body", (Reader) new InputStreamReader(is)));


Michel
-----Original Message-----
From: M P [mailto:mp2002003@yahoo.com] 
Sent: Saturday, August 02, 2003 5:25 AM
To: lucene-user@jakarta.apache.org
Subject: Problem in getting hits

Hello all,

I'm not getting hits for queries that I think should
return hits. 

Description:

I have created index with document having terms "body"
& "title" using StandardAnalyzer. Term "body" is added
to document as Field.Text("body", <text>) and Term
title is added as Field.Keyword("title", <title>). 

I added a document with body have some 300 words and
title with 2 words.

Next, I searched the index with exactly same body that
I indexed and Lucene returns zero hits. I constructed
query using following different ways:

1. QueryParser.parse("body", <body-text>,
StandardAnalyzer);

2. Using PhraseQuery:

TokenStream tokenizer =
StandardAnalyzer.tokenStream(key, new
java.io.StringReader(<body-text>));
Token token;
PhraseQuery pq = new PhraseQuery();
while ((token = tokenizer.next()) != null) 
pq.add(new Term("body", token.termText()));
pq.setSlop(50);

My understanding is that Lucene should return this
document as hit. Please let me know where I'm doing
wrong.

However, search on the title returns correct hit.

Any help on this would be really appreciated.

Thanks,

MP


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

From mp2002003@yahoo.com  Sat Aug  2 05:54:10 2003
Return-Path: <mp2002003@yahoo.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8923 invoked from network); 2 Aug 2003 05:54:10 -0000
Received: from web11502.mail.yahoo.com (216.136.172.47)
  by daedalus.apache.org with SMTP; 2 Aug 2003 05:54:10 -0000
Message-ID: <20030802055422.67323.qmail@web11502.mail.yahoo.com>
Received: from [68.85.50.61] by web11502.mail.yahoo.com via HTTP; Fri, 01 Aug 2003 22:54:22 PDT
Date: Fri, 1 Aug 2003 22:54:22 -0700 (PDT)
From: M P <mp2002003@yahoo.com>
Subject: RE: Problem in getting hits
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <E9EE029E3896D511A2AA0002A589953003A965C2@bruex4.eu.levi.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Michel,

I re-indexed the document as you mentioned:

doc.add(Field.text("body", new
java.io.StringReader(<body-text>);

But, I'm still getting zero hits.

Thanks,
MP.

--- MMachado@LEVI.com wrote:
> 
> 
> Hi M P,
> 
> Try this:
> 
> InputStream is = new FileInputStream(filename);
> where filename is the file
> to index.
> ----
> ---
> ---
> doc.add(Field.Text("body", (Reader) new
> InputStreamReader(is)));
> 
> 
> Michel
> -----Original Message-----
> From: M P [mailto:mp2002003@yahoo.com] 
> Sent: Saturday, August 02, 2003 5:25 AM
> To: lucene-user@jakarta.apache.org
> Subject: Problem in getting hits
> 
> Hello all,
> 
> I'm not getting hits for queries that I think should
> return hits. 
> 
> Description:
> 
> I have created index with document having terms
> "body"
> & "title" using StandardAnalyzer. Term "body" is
> added
> to document as Field.Text("body", <text>) and Term
> title is added as Field.Keyword("title", <title>). 
> 
> I added a document with body have some 300 words and
> title with 2 words.
> 
> Next, I searched the index with exactly same body
> that
> I indexed and Lucene returns zero hits. I
> constructed
> query using following different ways:
> 
> 1. QueryParser.parse("body", <body-text>,
> StandardAnalyzer);
> 
> 2. Using PhraseQuery:
> 
> TokenStream tokenizer =
> StandardAnalyzer.tokenStream(key, new
> java.io.StringReader(<body-text>));
> Token token;
> PhraseQuery pq = new PhraseQuery();
> while ((token = tokenizer.next()) != null) 
> pq.add(new Term("body", token.termText()));
> pq.setSlop(50);
> 
> My understanding is that Lucene should return this
> document as hit. Please let me know where I'm doing
> wrong.
> 
> However, search on the title returns correct hit.
> 
> Any help on this would be really appreciated.
> 
> Thanks,
> 
> MP
> 
> 
> __________________________________
> Do you Yahoo!?
> Yahoo! SiteBuilder - Free, easy-to-use web site
> design software
> http://sitebuilder.yahoo.com
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

From mmachado@levi.com  Sat Aug  2 07:26:13 2003
Return-Path: <mmachado@levi.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65369 invoked from network); 2 Aug 2003 07:26:13 -0000
Received: from unknown (HELO levi.com) (155.57.254.3)
  by daedalus.apache.org with SMTP; 2 Aug 2003 07:26:13 -0000
Received: from ([172.23.246.206])
	by sfoexironmail.levi.com with ESMTP ;
	Sat, 02 Aug 2003 00:25:43 -0700 (PDT)
Received: by SFOEXIMS with Internet Mail Service (5.5.2656.59)
	id <QCLZ867W>; Sat, 2 Aug 2003 00:26:02 -0700
Message-ID: <E9EE029E3896D511A2AA0002A589953003A965C3@bruex4.eu.levi.com>
From: MMachado@LEVI.com
To: lucene-user@jakarta.apache.org
Subject: RE: Problem in getting hits
Date: Sat, 2 Aug 2003 00:26:02 -0700 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2656.59)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi M P,
Is not StringReader but new InputStreamReader. Try this:

public void indexFile(String filename) throws Exception {
   IndexWriter writer;
   writer = new IndexWriter(path, new SimpleAnalyzer(), false);
   
   InputStream is = new FileInputStream(filename);
   Document doc = new Document();
   doc.add(Field.UndIndexed("path", filename));
   doc.add(Field.Text("body", (Reader) new InputStreamReader(is)));

   writer.addDocument(doc);
   is.close();
   writer.close();
}

Good Luck
Michel  

-----Original Message-----
From: M P [mailto:mp2002003@yahoo.com] 
Sent: Saturday, August 02, 2003 7:54 AM
To: Lucene Users List
Subject: RE: Problem in getting hits

Hi Michel,

I re-indexed the document as you mentioned:

doc.add(Field.text("body", new
java.io.StringReader(<body-text>);

But, I'm still getting zero hits.

Thanks,
MP.

--- MMachado@LEVI.com wrote:
> 
> 
> Hi M P,
> 
> Try this:
> 
> InputStream is = new FileInputStream(filename);
> where filename is the file
> to index.
> ----
> ---
> ---
> doc.add(Field.Text("body", (Reader) new
> InputStreamReader(is)));
> 
> 
> Michel
> -----Original Message-----
> From: M P [mailto:mp2002003@yahoo.com] 
> Sent: Saturday, August 02, 2003 5:25 AM
> To: lucene-user@jakarta.apache.org
> Subject: Problem in getting hits
> 
> Hello all,
> 
> I'm not getting hits for queries that I think should
> return hits. 
> 
> Description:
> 
> I have created index with document having terms
> "body"
> & "title" using StandardAnalyzer. Term "body" is
> added
> to document as Field.Text("body", <text>) and Term
> title is added as Field.Keyword("title", <title>). 
> 
> I added a document with body have some 300 words and
> title with 2 words.
> 
> Next, I searched the index with exactly same body
> that
> I indexed and Lucene returns zero hits. I
> constructed
> query using following different ways:
> 
> 1. QueryParser.parse("body", <body-text>,
> StandardAnalyzer);
> 
> 2. Using PhraseQuery:
> 
> TokenStream tokenizer =
> StandardAnalyzer.tokenStream(key, new
> java.io.StringReader(<body-text>));
> Token token;
> PhraseQuery pq = new PhraseQuery();
> while ((token = tokenizer.next()) != null) 
> pq.add(new Term("body", token.termText()));
> pq.setSlop(50);
> 
> My understanding is that Lucene should return this
> document as hit. Please let me know where I'm doing
> wrong.
> 
> However, search on the title returns correct hit.
> 
> Any help on this would be really appreciated.
> 
> Thanks,
> 
> MP
> 
> 
> __________________________________
> Do you Yahoo!?
> Yahoo! SiteBuilder - Free, easy-to-use web site
> design software
> http://sitebuilder.yahoo.com
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

From mp2002003@yahoo.com  Sat Aug  2 16:20:01 2003
Return-Path: <mp2002003@yahoo.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52049 invoked from network); 2 Aug 2003 16:20:01 -0000
Received: from web11507.mail.yahoo.com (216.136.172.39)
  by daedalus.apache.org with SMTP; 2 Aug 2003 16:20:01 -0000
Message-ID: <20030802162004.26968.qmail@web11507.mail.yahoo.com>
Received: from [68.85.50.61] by web11507.mail.yahoo.com via HTTP; Sat, 02 Aug 2003 09:20:04 PDT
Date: Sat, 2 Aug 2003 09:20:04 -0700 (PDT)
From: M P <mp2002003@yahoo.com>
Subject: RE: Problem in getting hits
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <E9EE029E3896D511A2AA0002A589953003A965C3@bruex4.eu.levi.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I'm still getting no hits with the code that you sent.

Thanks,

Kishore.

--- MMachado@LEVI.com wrote:
> Hi M P,
> Is not StringReader but new InputStreamReader. Try
> this:
> 
> public void indexFile(String filename) throws
> Exception {
>    IndexWriter writer;
>    writer = new IndexWriter(path, new
> SimpleAnalyzer(), false);
>    
>    InputStream is = new FileInputStream(filename);
>    Document doc = new Document();
>    doc.add(Field.UndIndexed("path", filename));
>    doc.add(Field.Text("body", (Reader) new
> InputStreamReader(is)));
> 
>    writer.addDocument(doc);
>    is.close();
>    writer.close();
> }
> 
> Good Luck
> Michel  
> 
> -----Original Message-----
> From: M P [mailto:mp2002003@yahoo.com] 
> Sent: Saturday, August 02, 2003 7:54 AM
> To: Lucene Users List
> Subject: RE: Problem in getting hits
> 
> Hi Michel,
> 
> I re-indexed the document as you mentioned:
> 
> doc.add(Field.text("body", new
> java.io.StringReader(<body-text>);
> 
> But, I'm still getting zero hits.
> 
> Thanks,
> MP.
> 
> --- MMachado@LEVI.com wrote:
> > 
> > 
> > Hi M P,
> > 
> > Try this:
> > 
> > InputStream is = new FileInputStream(filename);
> > where filename is the file
> > to index.
> > ----
> > ---
> > ---
> > doc.add(Field.Text("body", (Reader) new
> > InputStreamReader(is)));
> > 
> > 
> > Michel
> > -----Original Message-----
> > From: M P [mailto:mp2002003@yahoo.com] 
> > Sent: Saturday, August 02, 2003 5:25 AM
> > To: lucene-user@jakarta.apache.org
> > Subject: Problem in getting hits
> > 
> > Hello all,
> > 
> > I'm not getting hits for queries that I think
> should
> > return hits. 
> > 
> > Description:
> > 
> > I have created index with document having terms
> > "body"
> > & "title" using StandardAnalyzer. Term "body" is
> > added
> > to document as Field.Text("body", <text>) and Term
> > title is added as Field.Keyword("title", <title>).
> 
> > 
> > I added a document with body have some 300 words
> and
> > title with 2 words.
> > 
> > Next, I searched the index with exactly same body
> > that
> > I indexed and Lucene returns zero hits. I
> > constructed
> > query using following different ways:
> > 
> > 1. QueryParser.parse("body", <body-text>,
> > StandardAnalyzer);
> > 
> > 2. Using PhraseQuery:
> > 
> > TokenStream tokenizer =
> > StandardAnalyzer.tokenStream(key, new
> > java.io.StringReader(<body-text>));
> > Token token;
> > PhraseQuery pq = new PhraseQuery();
> > while ((token = tokenizer.next()) != null) 
> > pq.add(new Term("body", token.termText()));
> > pq.setSlop(50);
> > 
> > My understanding is that Lucene should return this
> > document as hit. Please let me know where I'm
> doing
> > wrong.
> > 
> > However, search on the title returns correct hit.
> > 
> > Any help on this would be really appreciated.
> > 
> > Thanks,
> > 
> > MP
> > 
> > 
> > __________________________________
> > Do you Yahoo!?
> > Yahoo! SiteBuilder - Free, easy-to-use web site
> > design software
> > http://sitebuilder.yahoo.com
> > 
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> > lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > 
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> > lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > 
> 
> 
> __________________________________
> Do you Yahoo!?
> Yahoo! SiteBuilder - Free, easy-to-use web site
> design software
> http://sitebuilder.yahoo.com
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

From bmila@iastate.edu  Sun Aug  3 17:19:20 2003
Return-Path: <bmila@iastate.edu>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30648 invoked from network); 3 Aug 2003 17:19:20 -0000
Received: from mailhub-4.iastate.edu (129.186.140.14)
  by daedalus.apache.org with SMTP; 3 Aug 2003 17:19:20 -0000
Received: from mailout-2.iastate.edu (mailout-2.iastate.edu [129.186.140.2])
	by mailhub-4.iastate.edu (8.9.3p2/8.9.3) with SMTP id MAA17274
	for <lucene-user@jakarta.apache.org>; Sun, 3 Aug 2003 12:19:21 -0500
Received: from 12-216-62-95.client.mchsi.com(12.216.62.95) by mailout-2.iastate.edu via csmap 
	 id 19195; Sun, 03 Aug 2003 12:21:25 -0500 (CDT)
Message-ID: <005101c359e3$b83e3a40$0201a8c0@bonghit>
From: "Brian Mila" <bmila@iastate.edu>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <E19iCls-0002NT-0U@anchor-post-39.mail.demon.net>
Subject: Re: NLucene up to date ?
Date: Sun, 3 Aug 2003 12:21:47 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I talked to one of the maintainers of NLucene and he said that he was
planning on releasing a 1.2 version (not beta apparently) in two months.
That was back in June and I haven't heard or seen anything since then so I
cant really say if it is still being actively developed.  Sounds like you
are doing the same thing I am doing which is adding functionality that you
need on your own.  I've also added a few things to NLucene like multifield
queries and the default boolean operator setting.

Brian

> Hi all,
>
> http://sourceforge.net/projects/nlucene/ has a version numbered 1.2b2.
> Does anyone know if this source is still being maintained to be closer to
the java developments ?
> Was this an external project to Apache Jakarta ?
>
> I (we) have just successfully released a search engine using a c#
implmentation of Lucene.  Code had to be brought up to date in line with
recent java builds, and enhanced with additional features (eg field sorting,
term position score factoring, etc).
>
> Any other c# users who would like to see NLucene kept in line with the
java version ?
>
> Maybe I'm just being lazy with having to maintain my own version of Lucene
=).
> Surely there are others out there who are c# users and follow the mailing
lists (I remember a Brian somewhere !) but seldom post.
>
> Brendon
>





From mp2002003@yahoo.com  Sun Aug  3 18:12:33 2003
Return-Path: <mp2002003@yahoo.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63856 invoked from network); 3 Aug 2003 18:12:33 -0000
Received: from web11506.mail.yahoo.com (216.136.172.38)
  by daedalus.apache.org with SMTP; 3 Aug 2003 18:12:33 -0000
Message-ID: <20030803181238.29622.qmail@web11506.mail.yahoo.com>
Received: from [24.228.69.239] by web11506.mail.yahoo.com via HTTP; Sun, 03 Aug 2003 11:12:38 PDT
Date: Sun, 3 Aug 2003 11:12:38 -0700 (PDT)
From: M P <mp2002003@yahoo.com>
Subject: RE: Problem in getting hits
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20030802162004.26968.qmail@web11507.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I would really appreciate if anyone could please send
me a sample code on how to query using QueryParser and
PhraseQuery for documents with two fields "title" &
"body" indexed as Field.Keyword & Field.Text
respectively.

Thanks,

Kishore.

--- M P <mp2002003@yahoo.com> wrote:
> Hi,
> 
> I'm still getting no hits with the code that you
> sent.
> 
> Thanks,
> 
> Kishore.
> 
> --- MMachado@LEVI.com wrote:
> > Hi M P,
> > Is not StringReader but new InputStreamReader. Try
> > this:
> > 
> > public void indexFile(String filename) throws
> > Exception {
> >    IndexWriter writer;
> >    writer = new IndexWriter(path, new
> > SimpleAnalyzer(), false);
> >    
> >    InputStream is = new FileInputStream(filename);
> >    Document doc = new Document();
> >    doc.add(Field.UndIndexed("path", filename));
> >    doc.add(Field.Text("body", (Reader) new
> > InputStreamReader(is)));
> > 
> >    writer.addDocument(doc);
> >    is.close();
> >    writer.close();
> > }
> > 
> > Good Luck
> > Michel  
> > 
> > -----Original Message-----
> > From: M P [mailto:mp2002003@yahoo.com] 
> > Sent: Saturday, August 02, 2003 7:54 AM
> > To: Lucene Users List
> > Subject: RE: Problem in getting hits
> > 
> > Hi Michel,
> > 
> > I re-indexed the document as you mentioned:
> > 
> > doc.add(Field.text("body", new
> > java.io.StringReader(<body-text>);
> > 
> > But, I'm still getting zero hits.
> > 
> > Thanks,
> > MP.
> > 
> > --- MMachado@LEVI.com wrote:
> > > 
> > > 
> > > Hi M P,
> > > 
> > > Try this:
> > > 
> > > InputStream is = new FileInputStream(filename);
> > > where filename is the file
> > > to index.
> > > ----
> > > ---
> > > ---
> > > doc.add(Field.Text("body", (Reader) new
> > > InputStreamReader(is)));
> > > 
> > > 
> > > Michel
> > > -----Original Message-----
> > > From: M P [mailto:mp2002003@yahoo.com] 
> > > Sent: Saturday, August 02, 2003 5:25 AM
> > > To: lucene-user@jakarta.apache.org
> > > Subject: Problem in getting hits
> > > 
> > > Hello all,
> > > 
> > > I'm not getting hits for queries that I think
> > should
> > > return hits. 
> > > 
> > > Description:
> > > 
> > > I have created index with document having terms
> > > "body"
> > > & "title" using StandardAnalyzer. Term "body" is
> > > added
> > > to document as Field.Text("body", <text>) and
> Term
> > > title is added as Field.Keyword("title",
> <title>).
> > 
> > > 
> > > I added a document with body have some 300 words
> > and
> > > title with 2 words.
> > > 
> > > Next, I searched the index with exactly same
> body
> > > that
> > > I indexed and Lucene returns zero hits. I
> > > constructed
> > > query using following different ways:
> > > 
> > > 1. QueryParser.parse("body", <body-text>,
> > > StandardAnalyzer);
> > > 
> > > 2. Using PhraseQuery:
> > > 
> > > TokenStream tokenizer =
> > > StandardAnalyzer.tokenStream(key, new
> > > java.io.StringReader(<body-text>));
> > > Token token;
> > > PhraseQuery pq = new PhraseQuery();
> > > while ((token = tokenizer.next()) != null) 
> > > pq.add(new Term("body", token.termText()));
> > > pq.setSlop(50);
> > > 
> > > My understanding is that Lucene should return
> this
> > > document as hit. Please let me know where I'm
> > doing
> > > wrong.
> > > 
> > > However, search on the title returns correct
> hit.
> > > 
> > > Any help on this would be really appreciated.
> > > 
> > > Thanks,
> > > 
> > > MP
> > > 
> > > 
> > > __________________________________
> > > Do you Yahoo!?
> > > Yahoo! SiteBuilder - Free, easy-to-use web site
> > > design software
> > > http://sitebuilder.yahoo.com
> > > 
> > >
> >
>
---------------------------------------------------------------------
> > > To unsubscribe, e-mail:
> > > lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> > > lucene-user-help@jakarta.apache.org
> > > 
> > >
> >
>
---------------------------------------------------------------------
> > > To unsubscribe, e-mail:
> > > lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> > > lucene-user-help@jakarta.apache.org
> > > 
> > 
> > 
> > __________________________________
> > Do you Yahoo!?
> > Yahoo! SiteBuilder - Free, easy-to-use web site
> > design software
> > http://sitebuilder.yahoo.com
> > 
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> > lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > 
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> > lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > 
> 
> 
> __________________________________
> Do you Yahoo!?
> Yahoo! SiteBuilder - Free, easy-to-use web site
> design software
> http://sitebuilder.yahoo.com
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

From fckdp@ok.ru  Sun Aug  3 23:46:03 2003
Return-Path: <fckdp@ok.ru>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73991 invoked from network); 3 Aug 2003 23:46:03 -0000
Received: from fish.zenon.net (HELO frontend1.aha.ru) (213.189.198.214)
  by daedalus.apache.org with SMTP; 3 Aug 2003 23:46:03 -0000
Received: from [62.118.157.96] (account fckdp@ok.ru HELO pb)
  by frontend1.aha.ru (CommuniGate Pro SMTP 4.0.6)
  with ESMTP id 205068488 for lucene-user@jakarta.apache.org; Mon, 04 Aug 2003 02:35:31 +0400
Reply-To: <bizhan@aha.ru>
From: "Pasha Bizhan" <fckdp@ok.ru>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: NLucene up to date ? Lucene.Net is up to date.
Date: Mon, 4 Aug 2003 02:36:08 +0400
Message-ID: <000301c35a0f$a9a7edb0$7e9a763e@pb>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <005101c359e3$b83e3a40$0201a8c0@bonghit>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

> I talked to one of the maintainers of NLucene and he said 
> that he was planning on releasing a 1.2 version (not beta 
> apparently) in two months. That was back in June and I 
> haven't heard or seen anything since then so I cant really 
> say if it is still being actively developed.  Sounds like you 
> are doing the same thing I am doing which is adding 
> functionality that you need on your own.  I've also added a 
> few things to NLucene like multifield queries and the default 
> boolean operator setting.

By the way, I hope that Lucene.Net 1.3rc1 will be available 
from http://sourceforge.net/ in this week. Lucene.Net is ready, but
sourceforge is not :)

Lucene.Net is a complete up to date port of Lucene 1.3rc1
includes samples and demos (web demo also).

A few differences between nLucene and Lucene.net are:
1. version of Lucene: Lucene.Net is a 1.3rc1, nLucene - is a 1.2
2. java code compatible: Lucene.Net only change naming notation, like
"IndexWriter", nLucene 
implement some methods as a attributes and others
3. demos: Lucene.Net contain all of Lucene demos and tests include web
demos. nLucene does not.
4. .NET Framework 1.1 and VS 2003 compatible
5. (for internal developer only): correct implement of >>> java operator
:)

Pasha


From victorh@nuix.com.au  Mon Aug  4 06:44:58 2003
Return-Path: <victorh@nuix.com.au>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62367 invoked from network); 4 Aug 2003 06:44:58 -0000
Received: from 251.017.dsl.syd.iprimus.net.au (HELO file1.syd.nuix.com.au) (210.50.55.251)
  by daedalus.apache.org with SMTP; 4 Aug 2003 06:44:58 -0000
Received: from host86.syd.nuix.com.au (host86.syd.nuix.com.au [192.168.222.86])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 4149AB7123
	for <lucene-user@jakarta.apache.org>; Mon,  4 Aug 2003 16:45:04 +1000 (EST)
Content-Type: text/plain;
  charset="us-ascii"
From: Victor Hadianto <victorh@nuix.com.au>
Organization: NUIX Pty. Ltd.
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: Too many open files (windows 2035 files limit)
Date: Mon, 4 Aug 2003 16:30:57 +1000
User-Agent: KMail/1.4.3
Massage-Id: <13921192.1322@nuix.com.au>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200308041630.57408@bah>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi All,

Recently we came across a problem where Lucene throws too many open files 
problem. We have multiple indexes and each indexes contains over 100 fields. 

After searching the mail list archive I didn't find any usefull information, 
seems like there is a problem with Windows + java regarding on maximum open 
files.

Then I stumbled across this bug (Java bug 4189011)

http://developer.java.sun.com/developer/bugParade/bugs/4189011.html

Cut and pasted from the bug record:
" To clarify the issue, on win32 system there are three
ways to open a file:
1: Using Win32 API
2: Using MFC class framework lib.
3: using C-Library API (open() and fopen())

Other than the third option, i.e. option 1 and 2 have practically no
limitation in opening number of files. The third method is restricted
(for the reason not known to me) to open only approx. 2035 files. That
is why MS JVM is able to open unlimited (practically) files, but SUN JVM
fails after 2035 files (my guess is it is using 3rd method to open
file).

 The case is true only only on Win32 OS. The reason this is serious
problem ans we have to revert to MS JVM is because we werr writing high
scalable server in Java. I am sure you understand that Java as an API
must compatible on all platform, some of which are Solaris, NT(Win32),
Novell etc... "

Anyway this guy seems to know what he is talking about (from the bug records 
and all). Anyone else came across the same issue when working with Lucene + 
Windows?


Regards,

-- 
Victor Hadianto

NUIX Pty Ltd
Level 8, 143 York Street, Sydney 2000
Phone: (02) 9283 9010
Fax:   (02) 9283 9020

This message is intended only for the named recipient. If you are not the
intended recipient you are notified that disclosing, copying, distributing
or taking any action in reliance on the contents of this message or
attachment is strictly prohibited.

From eric@ingroup.com  Mon Aug  4 12:42:32 2003
Return-Path: <eric@ingroup.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74477 invoked from network); 4 Aug 2003 12:42:32 -0000
Received: from adsl-63-203-90-131.dsl.snfc21.pacbell.net (HELO MOBY.hahn.local) (63.203.90.131)
  by daedalus.apache.org with SMTP; 4 Aug 2003 12:42:32 -0000
X-MimeOLE: Produced By Microsoft Exchange V6.5.6803.0
Content-class: urn:content-classes:message
Subject: RE: NLucene up to date ?
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Date: Mon, 4 Aug 2003 05:44:06 -0700
Message-ID: <86BA8E7DC433FD498CC92D431E1BB5A30A73B3@moby.hahn.local>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: NLucene up to date ?
Thread-Index: AcNXYZLCpSMO2/svSA26Ax6uPkHaEwBlJJOQ
From: "Eric Hahn" <eric@ingroup.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

It would be great to see Nlucene continue.  I've been using 1.2b2 and
have a few bug fixes (some critical) which I'd be delighted to
contribute.   Alas, the sourceforge project doesn't show a lot of
vitality of late, but the authors have suggest a new version is coming
RSN...

I know there has been some considerable debate about whether to keep
with the translation to C# or just to re-host the Java Lucene 1.3 using
vs.net's java compiler...

-Eric


-----Original Message-----
From: lucene@gobstopper.demon.co.uk
[mailto:lucene@gobstopper.demon.co.uk]=20
Sent: Thursday, July 31, 2003 8:43 AM
To: lucene-user@jakarta.apache.org
Subject: NLucene up to date ?


Hi all,

http://sourceforge.net/projects/nlucene/ has a version numbered 1.2b2.
Does anyone know if this source is still being maintained to be closer
to the java developments ? Was this an external project to Apache
Jakarta ?

I (we) have just successfully released a search engine using a c#
implmentation of Lucene.  Code had to be brought up to date in line with
recent java builds, and enhanced with additional features (eg field
sorting, term position score factoring, etc).

Any other c# users who would like to see NLucene kept in line with the
java version ?

Maybe I'm just being lazy with having to maintain my own version of
Lucene =3D). Surely there are others out there who are c# users and =
follow
the mailing lists (I remember a Brian somewhere !) but seldom post.

Brendon





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene@gobstopper.demon.co.uk  Mon Aug  4 14:40:39 2003
Return-Path: <lucene@gobstopper.demon.co.uk>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52113 invoked from network); 4 Aug 2003 14:40:39 -0000
Received: from anchor-post-39.mail.demon.net (194.217.242.80)
  by daedalus.apache.org with SMTP; 4 Aug 2003 14:40:39 -0000
Received: from pr-webmail-2.demon.net ([194.159.244.50] helo=web.mail.demon.net)
	by anchor-post-39.mail.demon.net with smtp (Exim 3.36 #2)
	id 19jgVn-0005T3-0U
	for lucene-user@jakarta.apache.org; Mon, 04 Aug 2003 15:40:35 +0100
Received: from gobstopper.demon.co.uk ([193.119.59.53])
	by web.mail.demon.net with http; Mon, 04 Aug 2003 15:40:35 +0100
From: lucene@gobstopper.demon.co.uk
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
In-Reply-To: <005101c359e3$b83e3a40$0201a8c0@bonghit>
Subject: Re: NLucene up to date ?
Date: Mon, 04 Aug 2003 15:40:35 +0100
User-Agent: Demon-WebMail/2.0
MIME-Version: 1.0
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
Message-Id: <E19jgVn-0005T3-0U@anchor-post-39.mail.demon.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Yes, given the lack of updating the c# version I thought users would be maintaining their own version in line with current developments.  I too had to add those items you mentioned.

What I would like to see is all these 'implementations' consolidated and maintained regularly as per java.
I am not sure how widely known Lucene is in the .NET community - my guess it it isn't.  A tried and tested Lucene .NET version will definitely help it reach other audiences.

I am pleased to hear Pasha (re)taking up the reigns.

Brendon

bmila@iastate.edu wrote:
> I talked to one of the maintainers of NLucene and he said that he was
> planning on releasing a 1.2 version (not beta apparently) in two months.
> That was back in June and I haven't heard or seen anything since then so I
> cant really say if it is still being actively developed.  Sounds like you
> are doing the same thing I am doing which is adding functionality that you
> need on your own.  I've also added a few things to NLucene like multifield
> queries and the default boolean operator setting.
> 
> Brian
> 
> > Hi all,
> >
> > http://sourceforge.net/projects/nlucene/ has a version numbered 1.2b2.
> > Does anyone know if this source is still being maintained to be closer to
> the java developments ?
> > Was this an external project to Apache Jakarta ?
> >
> > I (we) have just successfully released a search engine using a c#
> implmentation of Lucene.  Code had to be brought up to date in line with
> recent java builds, and enhanced with additional features (eg field sorting,
> term position score factoring, etc).
> >
> > Any other c# users who would like to see NLucene kept in line with the
> java version ?
> >
> > Maybe I'm just being lazy with having to maintain my own version of Lucene
> =).
> > Surely there are others out there who are c# users and follow the mailing
> lists (I remember a Brian somewhere !) but seldom post.
> >
> > Brendon
> >
> 
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


From lucene@gobstopper.demon.co.uk  Mon Aug  4 14:40:45 2003
Return-Path: <lucene@gobstopper.demon.co.uk>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52580 invoked from network); 4 Aug 2003 14:40:45 -0000
Received: from anchor-post-30.mail.demon.net (194.217.242.88)
  by daedalus.apache.org with SMTP; 4 Aug 2003 14:40:45 -0000
Received: from pr-webmail-2.demon.net ([194.159.244.50] helo=web.mail.demon.net)
	by anchor-post-30.mail.demon.net with smtp (Exim 3.35 #1)
	id 19jgVx-000JUQ-0U; Mon, 04 Aug 2003 15:40:45 +0100
Received: from gobstopper.demon.co.uk ([193.119.59.53])
	by web.mail.demon.net with http; Mon, 04 Aug 2003 15:40:45 +0100
From: lucene@gobstopper.demon.co.uk
To: "Lucene Users List" <lucene-user@jakarta.apache.org> ,bizhan@aha.ru
In-Reply-To: <000301c35a0f$a9a7edb0$7e9a763e@pb>
Subject: RE: NLucene up to date ? Lucene.Net is up to date.
Date: Mon, 04 Aug 2003 15:40:45 +0100
User-Agent: Demon-WebMail/2.0
MIME-Version: 1.0
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
Message-Id: <E19jgVx-000JUQ-0U@anchor-post-30.mail.demon.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Excellent news.

Will you be keeping the source up to date with the java developments ?
Can't wait to get my hands on the source, yes that damn bit shift operator (unsigned ?) always worried me =)

Just by the way, would the .NET version have a similar style sandbox area where users can submit small add-on type functionality ?
For example, field sorting.
Would love to share the code for use and comment as this seems to be a common request.

Big thanks Pasha,
Brendon

fckdp@ok.ru wrote:
> Hi,
> 
> > I talked to one of the maintainers of NLucene and he said 
> > that he was planning on releasing a 1.2 version (not beta 
> > apparently) in two months. That was back in June and I 
> > haven't heard or seen anything since then so I cant really 
> > say if it is still being actively developed.  Sounds like you 
> > are doing the same thing I am doing which is adding 
> > functionality that you need on your own.  I've also added a 
> > few things to NLucene like multifield queries and the default 
> > boolean operator setting.
> 
> By the way, I hope that Lucene.Net 1.3rc1 will be available 
> from http://sourceforge.net/ in this week. Lucene.Net is ready, but
> sourceforge is not :)
> 
> Lucene.Net is a complete up to date port of Lucene 1.3rc1
> includes samples and demos (web demo also).
> 
> A few differences between nLucene and Lucene.net are:
> 1. version of Lucene: Lucene.Net is a 1.3rc1, nLucene - is a 1.2
> 2. java code compatible: Lucene.Net only change naming notation, like
> "IndexWriter", nLucene 
> implement some methods as a attributes and others
> 3. demos: Lucene.Net contain all of Lucene demos and tests include web
> demos. nLucene does not.
> 4. .NET Framework 1.1 and VS 2003 compatible
> 5. (for internal developer only): correct implement of >>> java operator
> :)
> 
> Pasha
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


From fckdp@ok.ru  Mon Aug  4 20:48:46 2003
Return-Path: <fckdp@ok.ru>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95661 invoked from network); 4 Aug 2003 20:48:46 -0000
Received: from elk.zenon.net (HELO frontend3.aha.ru) (213.189.198.216)
  by daedalus.apache.org with SMTP; 4 Aug 2003 20:48:46 -0000
Received: from [195.98.167.1] (account fckdp@ok.ru HELO pb)
  by frontend3.aha.ru (CommuniGate Pro SMTP 4.0.6)
  with ESMTP id 19336507 for lucene-user@jakarta.apache.org; Tue, 05 Aug 2003 00:48:50 +0400
Reply-To: <bizhan@aha.ru>
From: "Pasha Bizhan" <fckdp@ok.ru>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: Lucene.Net 1.3.rc1 now available from http://sourceforge.net/projects/lucenedotnet/
Date: Tue, 5 Aug 2003 00:49:41 +0400
Message-ID: <000901c35ac9$ed45d950$5b13a8c0@pb>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
In-Reply-To: <E19jgVx-000JUQ-0U@anchor-post-30.mail.demon.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

Lucene.Net 1.3.rc1 now available from
http://sourceforge.net/projects/lucenedotnet/

Lucene.Net is a complete up to date port of Lucene 1.3.rc1 without
any modifications and extentions of original Lucene code. 

Lucene.Net includes all original Lucene demos and tests, but not all
work correct :)
For example, HTMLTest doesn't work.

Pasha


From Jill_Pelavin@abtassoc.com  Mon Aug  4 20:53:46 2003
Return-Path: <Jill_Pelavin@abtassoc.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1366 invoked from network); 4 Aug 2003 20:53:46 -0000
Received: from otto.abtassoc.com (198.105.0.72)
  by daedalus.apache.org with SMTP; 4 Aug 2003 20:53:46 -0000
Received: from camdom1.cam.abtassoc.com (talisker.abtassoc.com [198.105.0.4])
	by otto.abtassoc.com (8.11.6/8.11.6) with ESMTP id h74KmBJ32732
	for <lucene-user@jakarta.apache.org>; Mon, 4 Aug 2003 16:48:11 -0400
Subject: broken links
To: lucene-user@jakarta.apache.org
X-Mailer: Lotus Notes Release 5.0.10  March 22, 2002
Message-ID: <OF9BCD5432.FF15A471-ON85256D78.0072873A-85256D78.0072CA37@cam.abtassoc.com>
From: Jill_Pelavin@abtassoc.com
Date: Mon, 4 Aug 2003 16:53:48 -0400
X-MIMETrack: Serialize by Router on camdom1/Servers/Abtassoc(Release 5.0.11  |July 24, 2002) at
 08/04/2003 04:53:50 PM
MIME-Version: 1.0
Content-type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

when I run the web demo, all the links are formed with
luceneweb/ preceding them (the links are incorrect):

ie-- the links come out as:

http://localhost:8080/luceneweb/examples/foo.jsp

when it should be:

http://localhost:8080/examples/foo.jsp

and I'm using tomcat, btw.

(I sent this earlier along with a javacc question; which people did
answer....but then this part was ignored, so I'm resending it.....since the
above is the problem that I'm really trying to solve)

thanks

-Jill



From Jill_Pelavin@abtassoc.com  Mon Aug  4 22:12:08 2003
Return-Path: <Jill_Pelavin@abtassoc.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92325 invoked from network); 4 Aug 2003 22:12:08 -0000
Received: from otto.abtassoc.com (198.105.0.72)
  by daedalus.apache.org with SMTP; 4 Aug 2003 22:12:08 -0000
Received: from camdom1.cam.abtassoc.com (talisker.abtassoc.com [198.105.0.4])
	by otto.abtassoc.com (8.11.6/8.11.6) with ESMTP id h74M6UJ09118
	for <lucene-user@jakarta.apache.org>; Mon, 4 Aug 2003 18:06:30 -0400
Subject: Re: broken links
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Lotus Notes Release 5.0.10  March 22, 2002
Message-ID: <OFFCFA1B4C.002F3258-ON85256D78.0079D3E2-85256D78.0079F3DD@cam.abtassoc.com>
From: Jill_Pelavin@abtassoc.com
Date: Mon, 4 Aug 2003 18:12:02 -0400
X-MIMETrack: Serialize by Router on camdom1/Servers/Abtassoc(Release 5.0.11  |July 24, 2002) at
 08/04/2003 06:12:09 PM
MIME-Version: 1.0
Content-type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


solved.

I was building the index incorrectly; the lucene code works just fine.

-Jill

(you need to go to a subdirectory directly under webapps, and use .. as the
argument for the base of the index, I was using .. and doing it from
webapps (Or from luceneweb ) that's why I got the broken links.  but it
works now :)




                                                                                                           
                      Jill_Pelavin@abta                                                                    
                      ssoc.com                 To:       lucene-user@jakarta.apache.org                    
                                               cc:                                                         
                      08/04/2003 04:53         Subject:  broken links                                      
                      PM                                                                                   
                      Please respond to                                                                    
                      "Lucene Users                                                                        
                      List"                                                                                
                                                                                                           
                                                                                                           




when I run the web demo, all the links are formed with
luceneweb/ preceding them (the links are incorrect):

ie-- the links come out as:

http://localhost:8080/luceneweb/examples/foo.jsp

when it should be:

http://localhost:8080/examples/foo.jsp

and I'm using tomcat, btw.

(I sent this earlier along with a javacc question; which people did
answer....but then this part was ignored, so I'm resending it.....since the
above is the problem that I'm really trying to solve)

thanks

-Jill



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org







From cvwebmaster@noos.fr  Mon Aug  4 22:19:13 2003
Return-Path: <cvwebmaster@noos.fr>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99769 invoked from network); 4 Aug 2003 22:19:13 -0000
Received: from nan-smtp-06.noos.net (HELO smtp.noos.fr) (212.198.2.75)
  by daedalus.apache.org with SMTP; 4 Aug 2003 22:19:13 -0000
Received: (qmail 24019692 invoked by uid 0); 4 Aug 2003 22:19:19 -0000
Received: from unknown (HELO nomade) ([81.65.144.101])
          (envelope-sender <cvwebmaster@noos.fr>)
          by 212.198.2.75 (qmail-ldap-1.03) with SMTP
          for <lucene-user@jakarta.apache.org>; 4 Aug 2003 22:19:19 -0000
Message-ID: <027c01c35ad6$6ad1ee70$65904151@nomade>
Reply-To: "Sebastien X" <cvwebmaster@noos.fr>
From: "Sebastien X" <cvwebmaster@noos.fr>
To: <lucene-user@jakarta.apache.org>
Subject: AND instead OR for the search
Date: Tue, 5 Aug 2003 00:19:05 +0200
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0279_01C35AE7.2E0E7330"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0279_01C35AE7.2E0E7330
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi everybody,

When I make a search, for example : "Jakarta lucene"

The search engine interpret the query like "Jakarta OR lucene"

I wish this could be "Jakarta AND lucene" (like the most of internet =
search engine) because the OR clause is not very intuitive for the =
users.

Could we use a method for using AND instead OR when we use Lucene?

Tanks for advance

S=E9bastien
------=_NextPart_000_0279_01C35AE7.2E0E7330--


From bmila@iastate.edu  Tue Aug  5 01:10:51 2003
Return-Path: <bmila@iastate.edu>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55769 invoked from network); 5 Aug 2003 01:10:51 -0000
Received: from mailhub-3.iastate.edu (129.186.140.13)
  by daedalus.apache.org with SMTP; 5 Aug 2003 01:10:51 -0000
Received: from mailout-1.iastate.edu (mailout-1.iastate.edu [129.186.140.1])
	by mailhub-3.iastate.edu (8.9.3p2/8.9.3) with SMTP id UAA31855;
	Mon, 4 Aug 2003 20:10:57 -0500
Received: from 12-216-62-95.client.mchsi.com(12.216.62.95) by mailout-1.iastate.edu via csmap 
	 id 29170; Tue, 05 Aug 2003 01:10:17 +0000 (UTC)
Message-ID: <005b01c35aee$a3e33a80$0201a8c0@bonghit>
From: "Brian Mila" <bmila@iastate.edu>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
        "Sebastien X" <cvwebmaster@noos.fr>
References: <027c01c35ad6$6ad1ee70$65904151@nomade>
Subject: Re: AND instead OR for the search
Date: Mon, 4 Aug 2003 20:12:29 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I believe what you want is to use the setOperator function:

QueryParser qp = new QueryParser("contents", analyzer);
qp.setOperator(QueryParser.DEFAULT_OPERATOR_AND);

Brian

----- Original Message -----
From: "Sebastien X" <cvwebmaster@noos.fr>
To: <lucene-user@jakarta.apache.org>
Sent: Monday, August 04, 2003 5:19 PM
Subject: AND instead OR for the search


Hi everybody,

When I make a search, for example : "Jakarta lucene"

The search engine interpret the query like "Jakarta OR lucene"

I wish this could be "Jakarta AND lucene" (like the most of internet search
engine) because the OR clause is not very intuitive for the users.

Could we use a method for using AND instead OR when we use Lucene?

Tanks for advance

Sébastien



From lists@ehatchersolutions.com  Tue Aug  5 01:11:42 2003
Return-Path: <lists@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56910 invoked from network); 5 Aug 2003 01:11:42 -0000
Received: from mail7.atl.registeredsite.com (64.224.219.81)
  by daedalus.apache.org with SMTP; 5 Aug 2003 01:11:42 -0000
Received: from netmail.mail.registeredsite.com ([216.122.69.17])
	by mail7.atl.registeredsite.com (8.12.9/8.12.9) with ESMTP id h750BhQl007151
	(version=TLSv1/SSLv3 cipher=EDH-RSA-DES-CBC3-SHA bits=168 verify=NOT)
	for <lucene-user@jakarta.apache.org>; Mon, 4 Aug 2003 20:11:44 -0400
Received: (qmail 18217 invoked by uid 89); 5 Aug 2003 01:13:49 -0000
Received: from unknown (HELO ehatchersolutions.com) (68.170.78.210)
  by mail.lvsbchurch.org with SMTP; 5 Aug 2003 01:13:49 -0000
Date: Mon, 4 Aug 2003 21:11:59 -0400
Subject: Re: AND instead OR for the search
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <lists@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: quoted-printable
In-Reply-To: <027c01c35ad6$6ad1ee70$65904151@nomade>
Message-Id: <D006BB52-C6E1-11D7-B336-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

QueryParser, at least in Lucene's CVS, supports an attribute to toggle=20=

this capability.

   QueryParser.setOperator(QueryParser.DEFAULT_OPERATOR_AND)




On Monday, August 4, 2003, at 06:19  PM, Sebastien X wrote:

> Hi everybody,
>
> When I make a search, for example : "Jakarta lucene"
>
> The search engine interpret the query like "Jakarta OR lucene"
>
> I wish this could be "Jakarta AND lucene" (like the most of internet=20=

> search engine) because the OR clause is not very intuitive for the=20
> users.
>
> Could we use a method for using AND instead OR when we use Lucene?
>
> Tanks for advance
>
> S=E9bastien=


From hui@triplehop.com  Tue Aug  5 13:33:47 2003
Return-Path: <hui@triplehop.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43035 invoked from network); 5 Aug 2003 13:33:47 -0000
Received: from unknown (HELO germany.prod.thop-ny.triplehop.com) (216.74.150.80)
  by daedalus.apache.org with SMTP; 5 Aug 2003 13:33:47 -0000
Received: from hui2000 ([208.246.29.6]) by germany.prod.thop-ny.triplehop.com with Microsoft SMTPSVC(5.0.2195.4905);
	 Tue, 5 Aug 2003 09:38:45 -0400
Message-ID: <00f401c35b56$a7171a10$9e0010ac@thopny.triplehop.com>
From: "hui" <hui@triplehop.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <D006BB52-C6E1-11D7-B336-000393A564E6@ehatchersolutions.com>
Subject: Re: AND instead OR for the search
Date: Tue, 5 Aug 2003 09:37:02 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-OriginalArrivalTime: 05 Aug 2003 13:38:45.0546 (UTC) FILETIME=[E480B0A0:01C35B56]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I tried this before with 1.3rc1. The query parser still uses "OR" rather
than "AND" as default even after I set the operator to AND.
I found this issue had been reported before but no answer for it.
http://nagoya.apache.org/eyebrowse/ReadMsg?listName=lucene-user@jakarta.apac
he.org&msgId=710724

Any idea to solve the issue?

Regards,
Hui
----- Original Message -----
From: "Erik Hatcher" <lists@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, August 04, 2003 9:11 PM
Subject: Re: AND instead OR for the search


QueryParser, at least in Lucene's CVS, supports an attribute to toggle
this capability.

   QueryParser.setOperator(QueryParser.DEFAULT_OPERATOR_AND)




On Monday, August 4, 2003, at 06:19  PM, Sebastien X wrote:

> Hi everybody,
>
> When I make a search, for example : "Jakarta lucene"
>
> The search engine interpret the query like "Jakarta OR lucene"
>
> I wish this could be "Jakarta AND lucene" (like the most of internet
> search engine) because the OR clause is not very intuitive for the
> users.
>
> Could we use a method for using AND instead OR when we use Lucene?
>
> Tanks for advance
>
> Sébastien

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From cvwebmaster@noos.fr  Tue Aug  5 13:51:37 2003
Return-Path: <cvwebmaster@noos.fr>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76814 invoked from network); 5 Aug 2003 13:51:37 -0000
Received: from nan-smtp-11.noos.net (HELO smtp.noos.fr) (212.198.2.82)
  by daedalus.apache.org with SMTP; 5 Aug 2003 13:51:37 -0000
Received: (qmail 122834615 invoked by uid 0); 5 Aug 2003 13:51:27 -0000
Received: from unknown (HELO nomade) ([81.65.144.101])
          (envelope-sender <cvwebmaster@noos.fr>)
          by 212.198.2.82 (qmail-ldap-1.03) with SMTP
          for <lucene-user@jakarta.apache.org>; 5 Aug 2003 13:51:27 -0000
Message-ID: <003a01c35b58$a30ffed0$65904151@nomade>
Reply-To: "Sebastien X" <cvwebmaster@noos.fr>
From: "Sebastien X" <cvwebmaster@noos.fr>
To: <lucene-user@jakarta.apache.org>
Subject: Re: AND instead OR for the search
Date: Tue, 5 Aug 2003 15:51:14 +0200
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0037_01C35B69.664F90D0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0037_01C35B69.664F90D0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi all and thanks for your precedent help.

I've try the setOperator() method :

First I use this code :
QueryParser qp =3D new QueryParser("content", analyzer);
qp.setOperator(QueryParser.DEFAULT_OPERATOR_AND);
query =3D qp.parse(queryString, "contents", analyzer);

But it does not work (Or is always use in the query).

Then, I look the QueryParser and we could use another parse() method:
That's my second code :
QueryParser qp =3D new QueryParser("content", analyzer);
qp.setOperator(QueryParser.DEFAULT_OPERATOR_AND);
query =3D qp.parse(queryString);

And this work good :-)  (And is now use by default)

Hui : I think this could solve your problem.

S=E9bastien
------=_NextPart_000_0037_01C35B69.664F90D0--


From cord.plasse@bt.com  Tue Aug  5 13:52:09 2003
Return-Path: <cord.plasse@bt.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79328 invoked from network); 5 Aug 2003 13:52:09 -0000
Received: from saturn.bt.com (HELO cbibipnt08.hc.bt.com) (193.113.57.20)
  by daedalus.apache.org with SMTP; 5 Aug 2003 13:52:09 -0000
Received: by cbibipnt08.hc.bt.com with Internet Mail Service (5.5.2654.89)
	id <QKBRCN8P>; Tue, 5 Aug 2003 14:52:21 +0100
Message-ID: <781143C2ACB5FC4A943F79DB8982708D025AB7F9@i2km10-ukbr.domain1.systemhost.net>
From: cord.plasse@bt.com
To: lucene-user@jakarta.apache.org
Subject: lucene scoring algorithm
Date: Tue, 5 Aug 2003 14:51:59 +0100 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2654.89)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C35B58.BD84D9F2"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C35B58.BD84D9F2
Content-Type: text/plain;
	charset="iso-8859-1"

Hi,
 
I'm trying to understand the scoring algorithm of lucene. So far as I
understand, it is an implementation of a vector space model with the cosinus
similarity. This model is modified to allow the boost of certain terms. 
 
Is this right or did miss something?
 
Cord

------_=_NextPart_001_01C35B58.BD84D9F2--

From hui@triplehop.com  Tue Aug  5 15:45:16 2003
Return-Path: <hui@triplehop.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93183 invoked from network); 5 Aug 2003 15:45:16 -0000
Received: from unknown (HELO germany.prod.thop-ny.triplehop.com) (216.74.150.80)
  by daedalus.apache.org with SMTP; 5 Aug 2003 15:45:16 -0000
Received: from hui2000 ([208.246.29.6]) by germany.prod.thop-ny.triplehop.com with Microsoft SMTPSVC(5.0.2195.4905);
	 Tue, 5 Aug 2003 11:50:16 -0400
Message-ID: <003601c35b69$067b6670$9e0010ac@thopny.triplehop.com>
From: "hui" <hui@triplehop.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	"Sebastien X" <cvwebmaster@noos.fr>
References: <003a01c35b58$a30ffed0$65904151@nomade>
Subject: Re: AND instead OR for the search
Date: Tue, 5 Aug 2003 11:48:33 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-OriginalArrivalTime: 05 Aug 2003 15:50:16.0530 (UTC) FILETIME=[43E54B20:01C35B69]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thank you, Sebastien. It works now.
I think most people are going to do the same thing when they upgrade to 1.3
by leaving the  parse() method from 1.2 there since it is supported in 1.3.

I am having another problem now after I switched to 1.3 from 1.2.  The web
application seach within Jboss 2.4/ Tomcat 3.1 does not work any more. But a
standalone application search works fine on the same index.  The index  was
created on Lucene 1.2.  Here is the exception
[Default] java.lang.NullPointerException
[Default]       at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:90)
[Default]
[Default]       at org.apache.lucene.search.Hits.<init>(Hits.java:80)
[Default]
[Default]       at
org.apache.lucene.search.Searcher.search(Searcher.java:71)
[Default]
[Default]       at
org.apache.lucene.search.Searcher.search(Searcher.java:65)

Any idea about this?

Regards,
Hui



----- Original Message -----
From: "Sebastien X" <cvwebmaster@noos.fr>
To: <lucene-user@jakarta.apache.org>
Sent: Tuesday, August 05, 2003 9:51 AM
Subject: Re: AND instead OR for the search


Hi all and thanks for your precedent help.

I've try the setOperator() method :

First I use this code :
QueryParser qp = new QueryParser("content", analyzer);
qp.setOperator(QueryParser.DEFAULT_OPERATOR_AND);
query = qp.parse(queryString, "contents", analyzer);

But it does not work (Or is always use in the query).

Then, I look the QueryParser and we could use another parse() method:
That's my second code :
QueryParser qp = new QueryParser("content", analyzer);
qp.setOperator(QueryParser.DEFAULT_OPERATOR_AND);
query = qp.parse(queryString);

And this work good :-)  (And is now use by default)

Hui : I think this could solve your problem.

Sébastien


From Gregor.Heinrich@igd.fhg.de  Tue Aug  5 16:13:10 2003
Return-Path: <Gregor.Heinrich@igd.fhg.de>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69796 invoked from network); 5 Aug 2003 16:13:10 -0000
Received: from igdmail.igd.fhg.de (146.140.28.14)
  by daedalus.apache.org with SMTP; 5 Aug 2003 16:13:10 -0000
Received: from pcara ([146.140.9.73]) by igdmail.igd.fhg.de
          (Netscape Messaging Server 3.6)  with SMTP id AAA681A
          for <lucene-user@jakarta.apache.org>;
          Tue, 5 Aug 2003 18:12:36 +0200
Reply-To: <heinrich@igd.fhg.de>
From: "Gregor Heinrich" <Gregor.Heinrich@igd.fhg.de>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: AND instead OR for the search
Date: Tue, 5 Aug 2003 18:12:34 +0200
Message-ID: <000001c35b6c$61e5c6b0$49098c92@pcara>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
In-Reply-To: <003601c35b69$067b6670$9e0010ac@thopny.triplehop.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi.

Is it possible to have a similar behaviour in MultiFieldQueryParser?

Thanks, gregor

-----Original Message-----
From: hui [mailto:hui@triplehop.com]
Sent: Tuesday, August 05, 2003 5:49 PM
To: Lucene Users List; Sebastien X
Subject: Re: AND instead OR for the search


Thank you, Sebastien. It works now.
I think most people are going to do the same thing when they upgrade to 1.3
by leaving the  parse() method from 1.2 there since it is supported in 1.3.

I am having another problem now after I switched to 1.3 from 1.2.  The web
application seach within Jboss 2.4/ Tomcat 3.1 does not work any more. But a
standalone application search works fine on the same index.  The index  was
created on Lucene 1.2.  Here is the exception
[Default] java.lang.NullPointerException
[Default]       at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:90)
[Default]
[Default]       at org.apache.lucene.search.Hits.<init>(Hits.java:80)
[Default]
[Default]       at
org.apache.lucene.search.Searcher.search(Searcher.java:71)
[Default]
[Default]       at
org.apache.lucene.search.Searcher.search(Searcher.java:65)

Any idea about this?

Regards,
Hui



----- Original Message -----
From: "Sebastien X" <cvwebmaster@noos.fr>
To: <lucene-user@jakarta.apache.org>
Sent: Tuesday, August 05, 2003 9:51 AM
Subject: Re: AND instead OR for the search


Hi all and thanks for your precedent help.

I've try the setOperator() method :

First I use this code :
QueryParser qp = new QueryParser("content", analyzer);
qp.setOperator(QueryParser.DEFAULT_OPERATOR_AND);
query = qp.parse(queryString, "contents", analyzer);

But it does not work (Or is always use in the query).

Then, I look the QueryParser and we could use another parse() method:
That's my second code :
QueryParser qp = new QueryParser("content", analyzer);
qp.setOperator(QueryParser.DEFAULT_OPERATOR_AND);
query = qp.parse(queryString);

And this work good :-)  (And is now use by default)

Hui : I think this could solve your problem.

Sébastien


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lists@ehatchersolutions.com  Tue Aug  5 18:04:30 2003
Return-Path: <lists@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30114 invoked from network); 5 Aug 2003 18:04:30 -0000
Received: from mail1.atl.registeredsite.com (64.224.219.75)
  by daedalus.apache.org with SMTP; 5 Aug 2003 18:04:30 -0000
Received: from netmail.mail.registeredsite.com ([216.122.69.17])
	by mail1.atl.registeredsite.com (8.12.9/8.12.9) with ESMTP id h75I4XE6017617
	(version=TLSv1/SSLv3 cipher=EDH-RSA-DES-CBC3-SHA bits=168 verify=NOT)
	for <lucene-user@jakarta.apache.org>; Tue, 5 Aug 2003 14:04:33 -0400
Received: (qmail 41413 invoked by uid 89); 5 Aug 2003 18:06:33 -0000
Received: from unknown (HELO ehatchersolutions.com) (128.143.103.36)
  by mail.lvsbchurch.org with SMTP; 5 Aug 2003 18:06:33 -0000
Date: Tue, 5 Aug 2003 14:04:43 -0400
Subject: Re: AND instead OR for the search
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <lists@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: quoted-printable
In-Reply-To: <003601c35b69$067b6670$9e0010ac@thopny.triplehop.com>
Message-Id: <4A722A2B-C76F-11D7-8D16-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

You should re-index using 1.3 when you upgrade the library to 1.3.  I=20
don't know the differences specifically (without doing some CVS diffs)=20=

but there were some changes that affect the index format.

	Erik


On Tuesday, August 5, 2003, at 11:48  AM, hui wrote:

> Thank you, Sebastien. It works now.
> I think most people are going to do the same thing when they upgrade=20=

> to 1.3
> by leaving the  parse() method from 1.2 there since it is supported in=20=

> 1.3.
>
> I am having another problem now after I switched to 1.3 from 1.2.  The=20=

> web
> application seach within Jboss 2.4/ Tomcat 3.1 does not work any more.=20=

> But a
> standalone application search works fine on the same index.  The index=20=

>  was
> created on Lucene 1.2.  Here is the exception
> [Default] java.lang.NullPointerException
> [Default]       at=20
> org.apache.lucene.search.Hits.getMoreDocs(Hits.java:90)
> [Default]
> [Default]       at org.apache.lucene.search.Hits.<init>(Hits.java:80)
> [Default]
> [Default]       at
> org.apache.lucene.search.Searcher.search(Searcher.java:71)
> [Default]
> [Default]       at
> org.apache.lucene.search.Searcher.search(Searcher.java:65)
>
> Any idea about this?
>
> Regards,
> Hui
>
>
>
> ----- Original Message -----
> From: "Sebastien X" <cvwebmaster@noos.fr>
> To: <lucene-user@jakarta.apache.org>
> Sent: Tuesday, August 05, 2003 9:51 AM
> Subject: Re: AND instead OR for the search
>
>
> Hi all and thanks for your precedent help.
>
> I've try the setOperator() method :
>
> First I use this code :
> QueryParser qp =3D new QueryParser("content", analyzer);
> qp.setOperator(QueryParser.DEFAULT_OPERATOR_AND);
> query =3D qp.parse(queryString, "contents", analyzer);
>
> But it does not work (Or is always use in the query).
>
> Then, I look the QueryParser and we could use another parse() method:
> That's my second code :
> QueryParser qp =3D new QueryParser("content", analyzer);
> qp.setOperator(QueryParser.DEFAULT_OPERATOR_AND);
> query =3D qp.parse(queryString);
>
> And this work good :-)  (And is now use by default)
>
> Hui : I think this could solve your problem.
>
> S=E9bastien
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


From hui@triplehop.com  Tue Aug  5 19:10:55 2003
Return-Path: <hui@triplehop.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88328 invoked from network); 5 Aug 2003 19:10:55 -0000
Received: from unknown (HELO germany.prod.thop-ny.triplehop.com) (216.74.150.80)
  by daedalus.apache.org with SMTP; 5 Aug 2003 19:10:55 -0000
Received: from hui2000 ([208.246.29.6]) by germany.prod.thop-ny.triplehop.com with Microsoft SMTPSVC(5.0.2195.4905);
	 Tue, 5 Aug 2003 15:15:57 -0400
Message-ID: <005e01c35b85$c2229490$9e0010ac@thopny.triplehop.com>
From: "hui" <hui@triplehop.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <4A722A2B-C76F-11D7-8D16-000393A564E6@ehatchersolutions.com>
Subject: Re: AND instead OR for the search
Date: Tue, 5 Aug 2003 15:14:13 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-OriginalArrivalTime: 05 Aug 2003 19:15:57.0327 (UTC) FILETIME=[FF9579F0:01C35B85]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thank you, Erik. That is another question I want to ask.
But for this case, it is not the reason. The index created on Lucene 1.2
works fine for the standalone application. I tried calling the same testing
case within a simple jsp and it does not work. I also built an small index
within Lucene 1.3 API, the problem remains. Checked the source codes, it
seems the Searcher implementation does not pass it's reference sucessfully
to the Hits.

Regards,
Hui

----- Original Message -----
From: "Erik Hatcher" <lists@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Tuesday, August 05, 2003 2:04 PM
Subject: Re: AND instead OR for the search


You should re-index using 1.3 when you upgrade the library to 1.3.  I
don't know the differences specifically (without doing some CVS diffs)
but there were some changes that affect the index format.

Erik


On Tuesday, August 5, 2003, at 11:48  AM, hui wrote:

> Thank you, Sebastien. It works now.
> I think most people are going to do the same thing when they upgrade
> to 1.3
> by leaving the  parse() method from 1.2 there since it is supported in
> 1.3.
>
> I am having another problem now after I switched to 1.3 from 1.2.  The
> web
> application seach within Jboss 2.4/ Tomcat 3.1 does not work any more.
> But a
> standalone application search works fine on the same index.  The index
>  was
> created on Lucene 1.2.  Here is the exception
> [Default] java.lang.NullPointerException
> [Default]       at
> org.apache.lucene.search.Hits.getMoreDocs(Hits.java:90)
> [Default]
> [Default]       at org.apache.lucene.search.Hits.<init>(Hits.java:80)
> [Default]
> [Default]       at
> org.apache.lucene.search.Searcher.search(Searcher.java:71)
> [Default]
> [Default]       at
> org.apache.lucene.search.Searcher.search(Searcher.java:65)
>
> Any idea about this?
>
> Regards,
> Hui
>
>
>
> ----- Original Message -----
> From: "Sebastien X" <cvwebmaster@noos.fr>
> To: <lucene-user@jakarta.apache.org>
> Sent: Tuesday, August 05, 2003 9:51 AM
> Subject: Re: AND instead OR for the search
>
>
> Hi all and thanks for your precedent help.
>
> I've try the setOperator() method :
>
> First I use this code :
> QueryParser qp = new QueryParser("content", analyzer);
> qp.setOperator(QueryParser.DEFAULT_OPERATOR_AND);
> query = qp.parse(queryString, "contents", analyzer);
>
> But it does not work (Or is always use in the query).
>
> Then, I look the QueryParser and we could use another parse() method:
> That's my second code :
> QueryParser qp = new QueryParser("content", analyzer);
> qp.setOperator(QueryParser.DEFAULT_OPERATOR_AND);
> query = qp.parse(queryString);
>
> And this work good :-)  (And is now use by default)
>
> Hui : I think this could solve your problem.
>
> Sébastien
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From Jill_Pelavin@abtassoc.com  Tue Aug  5 19:59:11 2003
Return-Path: <Jill_Pelavin@abtassoc.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60727 invoked from network); 5 Aug 2003 19:59:11 -0000
Received: from otto.abtassoc.com (198.105.0.72)
  by daedalus.apache.org with SMTP; 5 Aug 2003 19:59:11 -0000
Received: from camdom1.cam.abtassoc.com (talisker.abtassoc.com [198.105.0.4])
	by otto.abtassoc.com (8.11.6/8.11.6) with ESMTP id h75JrXJ00317
	for <lucene-user@jakarta.apache.org>; Tue, 5 Aug 2003 15:53:33 -0400
Subject: Re: AND instead OR for the search
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Lotus Notes Release 5.0.10  March 22, 2002
Message-ID: <OF815247C6.8ACCBFF0-ON85256D79.006D9140-85256D79.006DC86B@cam.abtassoc.com>
From: Jill_Pelavin@abtassoc.com
Date: Tue, 5 Aug 2003 15:59:07 -0400
X-MIMETrack: Serialize by Router on camdom1/Servers/Abtassoc(Release 5.0.11  |July 24, 2002) at
 08/05/2003 03:59:14 PM
MIME-Version: 1.0
Content-type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


so, I pasted in the code given in an earlier email:

QueryParser qp = new QueryParser("content", analyzer);
qp.setOperator(QueryParser.DEFAULT_OPERATOR_AND);
query = qp.parse(queryString);


it compiles, but it can't find anything.

when I comment that out and put in the vanilla call to parse, then it works
fine (but with "OR") functionality.

I'm thinking the current fix (although cludgy)
is to prepend each word in the query with a +

what am I doing wrong?  or is this a bug?
(I looked in bugzilla and couldn't find anything)

thanks in advance

-Jill



From ga11@cs.waikato.ac.nz  Tue Aug  5 23:01:25 2003
Return-Path: <ga11@cs.waikato.ac.nz>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41198 invoked from network); 5 Aug 2003 23:01:25 -0000
Received: from ghoul.scms.waikato.ac.nz (130.217.241.35)
  by daedalus.apache.org with SMTP; 5 Aug 2003 23:01:25 -0000
Received: from gollum.cs.waikato.ac.nz ([130.217.247.31] helo=cs.waikato.ac.nz)
	by ghoul.scms.waikato.ac.nz with smtp (Exim 4.14)
	id 19kAo8-0003O9-EP
	for lucene-user@jakarta.apache.org; Wed, 06 Aug 2003 11:01:32 +1200
Received: from troll.cs.waikato.ac.nz ([130.217.240.32])
        (SquirrelMail authenticated user ga11)
        by secure.scms.waikato.ac.nz with HTTP;
        Wed, 6 Aug 2003 11:01:32 +1200 (NZST)
Message-ID: <43634.130.217.240.32.1060124492.squirrel@secure.scms.waikato.ac.nz>
Date: Wed, 6 Aug 2003 11:01:32 +1200 (NZST)
Subject: building lucene
From: <ga11@cs.waikato.ac.nz>
To: <lucene-user@jakarta.apache.org>
X-Mailer: SquirrelMail (version 1.2.11)
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello all --

I am having trouble building Lucene. I have downloaded and extracted the
following:

lucene-1.2-src.tar.gz
apache-ant-1.5.3-1-bin.tar.bz2

I have followed the Ant installation as per the docs, so JAVA_HOME and
ANT_HOME are set, and the $ANT_HOME$/bin directory is in the path. I am
running Slackware Linux.

When running "ant" while in the lucene base directory I get an error
message about JavaCC not being installed. I downloaded javacc-3.1, and the
error message reports back the way I have set it up:
  [echo] JavaCC Home: /home/ga11/javacc-3.1
  [echo] JavaCC Zip: /home/ga11/javacc-3.1.zip
However I am also asked to downloade JavaCC 2.0, and the build process
aborts:
  [echo] Please download and install JavaCC 2.0 from:

The problem is that I cannot find JavaCC 2.0 for download anywhere. Either
I need v2.0 for the build to succeed, or I am not using/specifying v3.1
properly. Any help would be much appreciated.

cheers,
Gerret




From groups@anklebiter.net  Wed Aug  6 12:52:48 2003
Return-Path: <groups@anklebiter.net>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25038 invoked from network); 6 Aug 2003 12:52:48 -0000
Received: from unknown (HELO host.terabytehost.com) (64.191.4.197)
  by daedalus.apache.org with SMTP; 6 Aug 2003 12:52:48 -0000
Received: from cfusion.dsl.telerama.com ([205.201.8.169] helo=ce1.collaborativefusion.com)
	by host.terabytehost.com with esmtp (Exim 4.20)
	id 19kNma-0002Jw-96
	for lucene-user@jakarta.apache.org; Wed, 06 Aug 2003 06:52:26 -0600
Subject: JavaCC 2.1
From: brian <groups@anklebiter.net>
To: lucene-user@jakarta.apache.org
Content-Type: text/plain
Message-Id: <1060174343.5226.64.camel@wolfgang.collaborativefusion.com>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.4 
Date: Wed, 06 Aug 2003 08:52:23 -0400
Content-Transfer-Encoding: 7bit
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - host.terabytehost.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - anklebiter.net
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi

Having distributed this to several folks on the list over the past few
months, I've put a copy of the .zip file up for general download.

http://anklebiter.net/tech/JavaCC2_1.zip

Thanks to the people from the JavaCC users list for sending it to me!

Is there a plan to move to the latest version of the JavaCC (3)?

Enjoy!

brian


From mhforget@logient.com  Wed Aug  6 13:07:30 2003
Return-Path: <mhforget@logient.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79579 invoked from network); 6 Aug 2003 13:07:30 -0000
Received: from stats.logient.net (207.107.228.251)
  by daedalus.apache.org with SMTP; 6 Aug 2003 13:07:30 -0000
Received: from [192.168.0.12] (unknown [192.168.10.34])
	by stats.logient.net (Postfix) with ESMTP id 3ED9EF3521
	for <lucene-user@jakarta.apache.org>; Wed,  6 Aug 2003 09:07:30 -0400 (EDT)
Subject: Getting exact hits
From: =?ISO-8859-1?Q?Marie-H=E9l=E8ne?= Forget <mhforget@logient.com>
To: lucene-user@jakarta.apache.org
Content-Type: text/plain
Organization: 
Message-Id: <1060175650.4877.6.camel@localhost.localdomain>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.4 
Date: 06 Aug 2003 09:14:10 -0400
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

When I do a search, I obtain the hits I expected, but I get many other
hits that I think is the result of the scoring algorithm. Do you know if
there is a way to obtain only the exact terms searched ?

Thanks,

MHF


From hui@triplehop.com  Wed Aug  6 15:50:17 2003
Return-Path: <hui@triplehop.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69628 invoked from network); 6 Aug 2003 15:50:17 -0000
Received: from unknown (HELO germany.prod.thop-ny.triplehop.com) (216.74.150.80)
  by daedalus.apache.org with SMTP; 6 Aug 2003 15:50:17 -0000
Received: from hui2000 ([208.246.29.6]) by germany.prod.thop-ny.triplehop.com with Microsoft SMTPSVC(5.0.2195.4905);
	 Wed, 6 Aug 2003 11:55:17 -0400
Message-ID: <00a901c35c32$e41f42c0$9e0010ac@thopny.triplehop.com>
From: "hui" <hui@triplehop.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <4A722A2B-C76F-11D7-8D16-000393A564E6@ehatchersolutions.com> <005e01c35b85$c2229490$9e0010ac@thopny.triplehop.com>
Subject: Re: AND instead OR for the search
Date: Wed, 6 Aug 2003 11:53:33 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-OriginalArrivalTime: 06 Aug 2003 15:55:17.0186 (UTC) FILETIME=[21838220:01C35C33]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,
Found the problem for this. I need to switch to JDK1.3.1 or above (jdk1.4)
to make Lucene 1.3 works. It just does not work with jdk 1.3.0
Regards,
Hui

----- Original Message -----
From: "hui" <hui@triplehop.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Tuesday, August 05, 2003 3:14 PM
Subject: Re: AND instead OR for the search


> Thank you, Erik. That is another question I want to ask.
> But for this case, it is not the reason. The index created on Lucene 1.2
> works fine for the standalone application. I tried calling the same
testing
> case within a simple jsp and it does not work. I also built an small index
> within Lucene 1.3 API, the problem remains. Checked the source codes, it
> seems the Searcher implementation does not pass it's reference sucessfully
> to the Hits.
>
> Regards,
> Hui
>
> ----- Original Message -----
> From: "Erik Hatcher" <lists@ehatchersolutions.com>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Tuesday, August 05, 2003 2:04 PM
> Subject: Re: AND instead OR for the search
>
>
> You should re-index using 1.3 when you upgrade the library to 1.3.  I
> don't know the differences specifically (without doing some CVS diffs)
> but there were some changes that affect the index format.
>
> Erik
>
>
> On Tuesday, August 5, 2003, at 11:48  AM, hui wrote:
>
> > Thank you, Sebastien. It works now.
> > I think most people are going to do the same thing when they upgrade
> > to 1.3
> > by leaving the  parse() method from 1.2 there since it is supported in
> > 1.3.
> >
> > I am having another problem now after I switched to 1.3 from 1.2.  The
> > web
> > application seach within Jboss 2.4/ Tomcat 3.1 does not work any more.
> > But a
> > standalone application search works fine on the same index.  The index
> >  was
> > created on Lucene 1.2.  Here is the exception
> > [Default] java.lang.NullPointerException
> > [Default]       at
> > org.apache.lucene.search.Hits.getMoreDocs(Hits.java:90)
> > [Default]
> > [Default]       at org.apache.lucene.search.Hits.<init>(Hits.java:80)
> > [Default]
> > [Default]       at
> > org.apache.lucene.search.Searcher.search(Searcher.java:71)
> > [Default]
> > [Default]       at
> > org.apache.lucene.search.Searcher.search(Searcher.java:65)
> >
> > Any idea about this?
> >
> > Regards,
> > Hui
> >
> >
> >
> > ----- Original Message -----
> > From: "Sebastien X" <cvwebmaster@noos.fr>
> > To: <lucene-user@jakarta.apache.org>
> > Sent: Tuesday, August 05, 2003 9:51 AM
> > Subject: Re: AND instead OR for the search
> >
> >
> > Hi all and thanks for your precedent help.
> >
> > I've try the setOperator() method :
> >
> > First I use this code :
> > QueryParser qp = new QueryParser("content", analyzer);
> > qp.setOperator(QueryParser.DEFAULT_OPERATOR_AND);
> > query = qp.parse(queryString, "contents", analyzer);
> >
> > But it does not work (Or is always use in the query).
> >
> > Then, I look the QueryParser and we could use another parse() method:
> > That's my second code :
> > QueryParser qp = new QueryParser("content", analyzer);
> > qp.setOperator(QueryParser.DEFAULT_OPERATOR_AND);
> > query = qp.parse(queryString);
> >
> > And this work good :-)  (And is now use by default)
> >
> > Hui : I think this could solve your problem.
> >
> > Sébastien
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


From cvwebmaster@noos.fr  Wed Aug  6 16:10:12 2003
Return-Path: <cvwebmaster@noos.fr>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11214 invoked from network); 6 Aug 2003 16:10:12 -0000
Received: from nan-smtp-04.noos.net (HELO smtp.noos.fr) (212.198.2.73)
  by daedalus.apache.org with SMTP; 6 Aug 2003 16:10:12 -0000
Received: (qmail 43414888 invoked by uid 0); 6 Aug 2003 16:10:14 -0000
Received: from unknown (HELO nomade) ([81.65.144.101])
          (envelope-sender <cvwebmaster@noos.fr>)
          by 212.198.2.73 (qmail-ldap-1.03) with SMTP
          for <lucene-user@jakarta.apache.org>; 6 Aug 2003 16:10:14 -0000
Message-ID: <003201c35c35$2fa5c140$65904151@nomade>
Reply-To: "Sebastien X" <cvwebmaster@noos.fr>
From: "Sebastien X" <cvwebmaster@noos.fr>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <4A722A2B-C76F-11D7-8D16-000393A564E6@ehatchersolutions.com> <005e01c35b85$c2229490$9e0010ac@thopny.triplehop.com> <00a901c35c32$e41f42c0$9e0010ac@thopny.triplehop.com>
Subject: Re: AND instead OR for the search
Date: Wed, 6 Aug 2003 18:09:59 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> Hi,
> Found the problem for this. I need to switch to JDK1.3.1 or above (jdk1.4)
> to make Lucene 1.3 works. It just does not work with jdk 1.3.0
> Regards,
> Hui

Just for information, I've try a lot of jdk to benchmark performances (just
in a red hat 7.3 linux server)
Then, The result reveals that with Lucene the 1.4 JVM from IBM is 3 to 4
time more faster than with the SUN 1.4 JVM (but just for the search because
it semms that IBM VM is not very stable and less speed for other Java
applications like IO programming)

I think so IBM VM is maybe better to work with Lucene in standalone
application.

In my case, I use IBM VM for the lucene search (more speed) and Sun VM for
Tomcat (more stable)


From ga11@cs.waikato.ac.nz  Wed Aug  6 21:50:38 2003
Return-Path: <ga11@cs.waikato.ac.nz>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57565 invoked from network); 6 Aug 2003 21:50:38 -0000
Received: from ghoul.scms.waikato.ac.nz (130.217.241.35)
  by daedalus.apache.org with SMTP; 6 Aug 2003 21:50:38 -0000
Received: from gollum.cs.waikato.ac.nz ([130.217.247.31] helo=cs.waikato.ac.nz)
	by ghoul.scms.waikato.ac.nz with smtp (Exim 4.14)
	id 19kWBA-0001cA-53
	for lucene-user@jakarta.apache.org; Thu, 07 Aug 2003 09:50:44 +1200
Received: from troll.cs.waikato.ac.nz ([130.217.240.32])
        (SquirrelMail authenticated user ga11)
        by secure.scms.waikato.ac.nz with HTTP;
        Thu, 7 Aug 2003 09:50:44 +1200 (NZST)
Message-ID: <35349.130.217.240.32.1060206644.squirrel@secure.scms.waikato.ac.nz>
Date: Thu, 7 Aug 2003 09:50:44 +1200 (NZST)
Subject: Re: JavaCC 2.1
From: <ga11@cs.waikato.ac.nz>
To: <lucene-user@jakarta.apache.org>
In-Reply-To: <1060174343.5226.64.camel@wolfgang.collaborativefusion.com>
References: <1060174343.5226.64.camel@wolfgang.collaborativefusion.com>
X-Mailer: SquirrelMail (version 1.2.11)
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks for finding the file Brian! I'm still having trouble with the build
however :/

I've downloaded JavaCC2_1.zip and updated relevant build.properties
entries like this:

javacc.home = /home/ga11/cs517/indexing/lucene-1.2-src
javacc.zip.dir = ${javacc.home}/lib
javacc.zip = ${javacc.zip.dir}/JavaCC2_1.zip

and made sure there are no typos in the pathnames.

However I get the same error message as before: javacc_check fails and I
am prompted to download version 2.0. I'm using jdk1.4.2 on slackware
linux. Do you know what may be the problem?

cheers,
Gerret


> Hi
>
> Having distributed this to several folks on the list over the past few
> months, I've put a copy of the .zip file up for general download.
>
> http://anklebiter.net/tech/JavaCC2_1.zip
>
> Thanks to the people from the JavaCC users list for sending it to me!
>
> Is there a plan to move to the latest version of the JavaCC (3)?
>
> Enjoy!
>
> brian
>
>
> --------------------------------------------------------------------- To
> unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org For
> additional commands, e-mail: lucene-user-help@jakarta.apache.org






From groups@anklebiter.net  Thu Aug  7 12:11:49 2003
Return-Path: <groups@anklebiter.net>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63153 invoked from network); 7 Aug 2003 12:11:49 -0000
Received: from unknown (HELO host.terabytehost.com) (64.191.4.197)
  by daedalus.apache.org with SMTP; 7 Aug 2003 12:11:49 -0000
Received: from cfusion.dsl.telerama.com ([205.201.8.169] helo=ce1.collaborativefusion.com)
	by host.terabytehost.com with esmtp (Exim 4.20)
	id 19kjcS-0006xC-KO
	for lucene-user@jakarta.apache.org; Thu, 07 Aug 2003 06:11:26 -0600
Subject: Re: JavaCC 2.1
From: brian <groups@anklebiter.net>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <35349.130.217.240.32.1060206644.squirrel@secure.scms.waikato.ac.nz>
References: <1060174343.5226.64.camel@wolfgang.collaborativefusion.com>
	 <35349.130.217.240.32.1060206644.squirrel@secure.scms.waikato.ac.nz>
Content-Type: text/plain
Message-Id: <1060258298.20203.3.camel@wolfgang.collaborativefusion.com>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.4 
Date: Thu, 07 Aug 2003 08:11:38 -0400
Content-Transfer-Encoding: 7bit
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - host.terabytehost.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - anklebiter.net
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Wed, 2003-08-06 at 17:50, ga11@cs.waikato.ac.nz wrote:
> Thanks for finding the file Brian! I'm still having trouble with the build
> however :/
> 
> I've downloaded JavaCC2_1.zip and updated relevant build.properties
> entries like this:
> 
> javacc.home = /home/ga11/cs517/indexing/lucene-1.2-src
> javacc.zip.dir = ${javacc.home}/lib
> javacc.zip = ${javacc.zip.dir}/JavaCC2_1.zip
> 
> and made sure there are no typos in the pathnames.
> 
> However I get the same error message as before: javacc_check fails and I
> am prompted to download version 2.0. I'm using jdk1.4.2 on slackware
> linux. Do you know what may be the problem?
> 

did you unzip and install JavaCC correctly?  when you install it, it
contains a .zip file of the JavaCC classes (rather than a .jar file), so
once installed, you can reset your build properties to reflect the
location of _that_ .zip file.

hth,
b



From routar@ideorlando.org  Thu Aug  7 16:56:36 2003
Return-Path: <routar@ideorlando.org>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97912 invoked from network); 7 Aug 2003 16:56:36 -0000
Received: from mail.ideorlando.org (208.63.70.76)
  by daedalus.apache.org with SMTP; 7 Aug 2003 16:56:36 -0000
Received: by mail.ideorlando.org (Postfix, from userid 8)
	id 0EAC2367D8; Thu,  7 Aug 2003 12:54:34 -0400 (EDT)
X-Scanned-By: AMaViS (via Clamscan)
Received: from ROUTARDBW (unknown [208.62.52.106])
	by mail.ideorlando.org (Postfix) with SMTP id 60EC3367D8
	for <lucene-user@jakarta.apache.org>; Thu,  7 Aug 2003 12:54:32 -0400 (EDT)
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Checkpointable Index
Date: Thu, 7 Aug 2003 12:56:17 -0400
Message-ID: <MNEPJJAGGPICDNOCBIKDMEFNCLAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.6604 (9.0.2911.0)
In-Reply-To: <1060258298.20203.3.camel@wolfgang.collaborativefusion.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi all,

	We have sandboxed file system which Lucene indexes.  Periodically we dump
the file system to disk (checkpoint it); can a Lucene index be checkpointed
then restored and used?  Currently we simply rebuild the index since it only
takes a few minutes.  But we would like the user to be able to take a
snapshot of that file system and restore and use it without rebuilding the
index.

	Let me know.

Thanks,

Rob


From lists@ehatchersolutions.com  Thu Aug  7 23:49:04 2003
Return-Path: <lists@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51605 invoked from network); 7 Aug 2003 23:49:04 -0000
Received: from mail2.atl.registeredsite.com (64.224.219.76)
  by daedalus.apache.org with SMTP; 7 Aug 2003 23:49:04 -0000
Received: from netmail.mail.registeredsite.com ([216.122.69.17])
	by mail2.atl.registeredsite.com (8.12.9/8.12.9) with ESMTP id h77NnBXD001775
	(version=TLSv1/SSLv3 cipher=EDH-RSA-DES-CBC3-SHA bits=168 verify=NOT)
	for <lucene-user@jakarta.apache.org>; Thu, 7 Aug 2003 19:49:12 -0400
Received: (qmail 47761 invoked by uid 89); 7 Aug 2003 23:51:16 -0000
Received: from unknown (HELO ehatchersolutions.com) (68.170.78.210)
  by mail.tonygrantasid.com with SMTP; 7 Aug 2003 23:51:16 -0000
Date: Thu, 7 Aug 2003 19:49:20 -0400
Subject: Re: Checkpointable Index
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <lists@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <MNEPJJAGGPICDNOCBIKDMEFNCLAA.routar@ideorlando.org>
Message-Id: <C36ECD97-C931-11D7-AB02-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

As long as you finish any index operations when you checkpoint it, 
there should be any problems.  A Lucene index is just regular ol' 
filesystem files just like everything else, so there is no problem 
storing it off and using it later.

	Erik

On Thursday, August 7, 2003, at 12:56  PM, Rob Outar wrote:

> Hi all,
>
> 	We have sandboxed file system which Lucene indexes.  Periodically we 
> dump
> the file system to disk (checkpoint it); can a Lucene index be 
> checkpointed
> then restored and used?  Currently we simply rebuild the index since 
> it only
> takes a few minutes.  But we would like the user to be able to take a
> snapshot of that file system and restore and use it without rebuilding 
> the
> index.
>
> 	Let me know.
>
> Thanks,
>
> Rob
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


From danl001@porkfriedrice.net  Fri Aug  8 01:13:02 2003
Return-Path: <danl001@porkfriedrice.net>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35353 invoked from network); 8 Aug 2003 01:13:02 -0000
Received: from h00095b2af1b9.ne.client2.attbi.com (HELO mail.porkfriedrice.net) (24.218.226.29)
  by daedalus.apache.org with SMTP; 8 Aug 2003 01:13:02 -0000
Received: from porkfriedrice.net (h00095b237fdb.ne.client2.attbi.com [24.218.230.104])
	by mail.porkfriedrice.net (8.12.9/8.12.9) with ESMTP id h780G3og055937
	for <lucene-user@jakarta.apache.org>; Thu, 7 Aug 2003 20:16:07 -0400 (EDT)
Message-ID: <3F32F91C.8000405@porkfriedrice.net>
Date: Thu, 07 Aug 2003 21:13:00 -0400
From: danl <danl001@porkfriedrice.net>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.5b) Gecko/20030723 Thunderbird/0.1
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: native hit highlighting?
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

Does lucene (any version) support native hit highlighting? If so, how? I 
searced the mailing lists and didnt come up with anything definitive.

Thanks


From bmila@iastate.edu  Fri Aug  8 06:32:34 2003
Return-Path: <bmila@iastate.edu>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59100 invoked from network); 8 Aug 2003 06:32:34 -0000
Received: from mailhub-4.iastate.edu (129.186.140.14)
  by daedalus.apache.org with SMTP; 8 Aug 2003 06:32:34 -0000
Received: from mailout-2.iastate.edu (mailout-2.iastate.edu [129.186.140.2])
	by mailhub-4.iastate.edu (8.9.3p2/8.9.3) with SMTP id BAA01729
	for <lucene-user@jakarta.apache.org>; Fri, 8 Aug 2003 01:32:42 -0500
Received: from 12-216-62-95.client.mchsi.com(12.216.62.95) by mailout-2.iastate.edu via csmap 
	 id 15713; Fri, 08 Aug 2003 01:35:00 -0500 (CDT)
Message-ID: <00bc01c35d77$3d334f10$0201a8c0@bonghit>
From: "Brian Mila" <bmila@iastate.edu>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <3F32F91C.8000405@porkfriedrice.net>
Subject: Re: native hit highlighting?
Date: Fri, 8 Aug 2003 01:35:20 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

No.  There is some code in the contributions section of the lucene site that
does highlighting (http://www.iq-computing.de/).   However, its pretty
inefficient as it scans the entire document looking for each word and then
highlights it (which is the part you have to code yourself).  I think using
IndexReader.termPositions()  to seek to the location of the terms would be a
better way to do things.  In either case, I guess the long answer to your
question is no, there is no native support for term highlighting (or context
retreival).  You'll have to write at least some code if you want to do that.
I'll be working on that very shortly for the project I'm on right now, but
I'm using the C# port of Lucene so the code will have to be changed to work
with the regular Java version (although only slightly I'm guessing).

Brian

----- Original Message -----
From: "danl" <danl001@porkfriedrice.net>
To: <lucene-user@jakarta.apache.org>
Sent: Thursday, August 07, 2003 8:13 PM
Subject: native hit highlighting?


> Hi,
>
> Does lucene (any version) support native hit highlighting? If so, how? I
> searced the mailing lists and didnt come up with anything definitive.
>
> Thanks
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>



From labate@verticali.com  Fri Aug  8 06:39:09 2003
Return-Path: <labate@verticali.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67744 invoked from network); 8 Aug 2003 06:39:09 -0000
Received: from unknown (HELO titeuf.verticali.com) (195.202.202.7)
  by daedalus.apache.org with SMTP; 8 Aug 2003 06:39:09 -0000
Received: (qmail 28856 invoked by uid 0); 8 Aug 2003 06:39:19 -0000
Received: from unknown (HELO labate) (192.168.1.96)
  by titeuf.verticali.com with SMTP; 8 Aug 2003 06:39:19 -0000
From: "Adriano Labate" <labate@verticali.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE : native hit highlighting?
Date: Fri, 8 Aug 2003 08:39:55 +0200
Message-ID: <00b601c35d77$e10fb420$6001a8c0@labate>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
In-Reply-To: <3F32F91C.8000405@porkfriedrice.net>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Lucene doesn't support native hit highlighting, but look at this web
site:

Highlighting search results with Lucene 1.3
http://home.clara.net/markharwood/lucene/highlight.htm=20

I don't use it because I'm still with version 1.2, but I plan to give
it a try as soon as I upgrade
Lucene for our applications.

Hope this helps.
Adriano


-----Message d'origine-----
De : danl [mailto:danl001@porkfriedrice.net]=20
Envoy=E9 : vendredi, 8 ao=FBt 2003 03:13
=C0 : lucene-user@jakarta.apache.org
Objet : native hit highlighting?


Hi,

Does lucene (any version) support native hit highlighting? If so, how?
I=20
searced the mailing lists and didnt come up with anything definitive.

Thanks


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org






From mmachado@levi.com  Fri Aug  8 07:37:45 2003
Return-Path: <mmachado@levi.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53652 invoked from network); 8 Aug 2003 07:37:45 -0000
Received: from unknown (HELO levi.com) (155.57.254.3)
  by daedalus.apache.org with SMTP; 8 Aug 2003 07:37:45 -0000
Received: from ([172.23.246.206])
	by sfoexironmail.levi.com with ESMTP ;
	Fri, 08 Aug 2003 00:36:18 -0700 (PDT)
Received: by SFOEXIMS with Internet Mail Service (5.5.2656.59)
	id <QMQSWWFZ>; Fri, 8 Aug 2003 00:37:08 -0700
Message-ID: <E9EE029E3896D511A2AA0002A589953003A965D0@bruex4.eu.levi.com>
From: MMachado@LEVI.com
To: lucene-user@jakarta.apache.org
Subject: RE: RE : native hit highlighting?
Date: Fri, 8 Aug 2003 00:37:08 -0700 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2656.59)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Adriano,
The Highlighting search results works with Lucene1.2 final released(the
latest for lucene1.2), because there is Lucene 1.3 RC1 released =
version.
Regards,
Michel
-----Original Message-----
From: Adriano Labate [mailto:labate@verticali.com]=20
Sent: Friday, August 08, 2003 8:40 AM
To: 'Lucene Users List'
Subject: RE : native hit highlighting?

Lucene doesn't support native hit highlighting, but look at this web
site:

Highlighting search results with Lucene 1.3
http://home.clara.net/markharwood/lucene/highlight.htm=20

I don't use it because I'm still with version 1.2, but I plan to give
it a try as soon as I upgrade
Lucene for our applications.

Hope this helps.
Adriano


-----Message d'origine-----
De : danl [mailto:danl001@porkfriedrice.net]=20
Envoy=E9 : vendredi, 8 ao=FBt 2003 03:13
=C0 : lucene-user@jakarta.apache.org
Objet : native hit highlighting?


Hi,

Does lucene (any version) support native hit highlighting? If so, how?
I=20
searced the mailing lists and didnt come up with anything definitive.

Thanks


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org






---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

From Vikas-Ramrakhiani@deshaw.com  Fri Aug  8 07:47:10 2003
Return-Path: <Vikas-Ramrakhiani@deshaw.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65678 invoked from network); 8 Aug 2003 07:47:10 -0000
Received: from master.hyd.deshaw.com (149.77.160.1)
  by daedalus.apache.org with SMTP; 8 Aug 2003 07:47:10 -0000
Received: from mshyd2.hyd.deshaw.com (mshyd2.hyd.deshaw.com [149.77.160.27])
 by master.hyd.deshaw.com (8.12.7/8.9.3/2.0.kim) with ESMTP id h787lJhH011061
 for <lucene-user@jakarta.apache.org>; Fri, 8 Aug 2003 13:17:20 +0530 (IST)
Received: by MSHYD2 with Internet Mail Service (5.5.2653.19)
	id <MCD2Y448>; Fri, 8 Aug 2003 13:17:19 +0530
Message-ID: <21559A0D4CF8D511B51100065B38178BA0E508@MSHYD2>
From: "Ramrakhiani, Vikas" <Vikas-Ramrakhiani@deshaw.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: Searching for title:(\\)
Date: Fri, 8 Aug 2003 13:17:13 +0530 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,
When I give a search query like title:(\\) QueryParser throws an error. But
same query given without any braces i.e title:\\ works fine.
Why is it so ?

thanks for your help,
vikas.



From burton@newsmonster.org  Fri Aug  8 09:05:38 2003
Return-Path: <burton@newsmonster.org>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 86138 invoked from network); 8 Aug 2003 09:05:38 -0000
Received: from mtaw4.prodigy.net (64.164.98.52)
  by daedalus.apache.org with SMTP; 8 Aug 2003 09:05:38 -0000
Received: from newsmonster.org (adsl-63-203-72-199.dsl.snfc21.pacbell.net [63.203.72.199])
	by mtaw4.prodigy.net (8.12.9/8.12.3) with ESMTP id h7895oOq013183
	for <lucene-user@jakarta.apache.org>; Fri, 8 Aug 2003 02:05:51 -0700 (PDT)
Message-ID: <3F33538A.9080604@newsmonster.org>
Date: Fri, 08 Aug 2003 00:38:50 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: Default sort order with identical scores.
X-Enigmail-Version: 0.76.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I want to run a query where all the results would have the identical 
score of 1.0 (all documents of type X with a date > D)

The trick is that i need to get the result set BACK sorted by the date.  
The Lucene filter mechanism is optimized to use the index but the only 
problem is that I want to get the results back by date. 

It appears that Lucene will return the result set back by date but I 
assume that since the scores are identical it isn't doing a sort by 
score so I am getting my results back in descending order.  Would this 
be a correct assumption?  Is this behavior something I can depend on?

Thanks!

Kevin

-- 
Help Support NewsMonster Development!  Purchase NewsMonster PRO!

    http://www.newsmonster.org/download-pro.html

Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM - sfburtonator,  Web - http://www.peerfear.org/
GPG fingerprint: 4D20 40A0 C734 307E C7B4  DCAA 0303 3AC5 BD9D 7C4D
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster



From morus@tanto-xipolis.de  Fri Aug  8 10:34:03 2003
Return-Path: <morus@tanto-xipolis.de>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31545 invoked from network); 8 Aug 2003 10:34:03 -0000
Received: from mail.xipolis.net (HELO mail.tanto-xipolis.de) (213.61.178.42)
  by daedalus.apache.org with SMTP; 8 Aug 2003 10:34:03 -0000
Received: from morus.xipolis.net (morus.xipolis.net [10.0.1.4])
	by mail.tanto-xipolis.de (Postfix on SuSE Linux 7.3 (i386)) with ESMTP id EBBCE19B719
	for <lucene-user@jakarta.apache.org>; Fri,  8 Aug 2003 12:34:02 +0200 (CEST)
Received: (from morus@localhost)
	by morus.xipolis.net (8.11.6/8.11.6/SuSE Linux 0.5) id h78AXdk20267;
	Fri, 8 Aug 2003 12:33:39 +0200
From: Morus Walter <morus.walter@tanto-xipolis.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16179.31875.465597.674663@morus.xipolis.net>
Date: Fri, 8 Aug 2003 12:33:39 +0200
To: lucene-user@jakarta.apache.org
Subject: query parser operator precedence and strange result 
X-Mailer: VM 6.95 under 21.4 (patch 4) "Artificial Intelligence" XEmacs Lucid
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

im currently trying to understand how the standard query parser
handles operator precedence in a query like
a OR b AND c OR d
This is output by the toString method as
a +b +c d
so AND seems to have higher precedence than OR

Now if I try to check this and look at
a OR ( b AND c ) OR d
I see
a (+b +c) d
which is still fine so far, but I get a different search result.

a OR b AND C OR d matches one document that contains two tokens 'c'
one token 'b' and three tokens 'd'.
a OR (b AND c) OR d matches this document plus another one, that 
contains one 'a', a number of 'b', no 'c' and no 'd'.
Token number found looking at the tokens in my input. So I might
have overseen some difference between my indexing and my token
counting.

But the question I don't understand is:
What is the difference between
a OR b AND c OR d
and 
a OR ( b AND c ) OR d
or
a +b +c d
and
a (+b +c) d
Why do I get different results?

Back to my original question of operator precedence:
b AND c
gives one hit.
But
b AND c OR a AND d
(output as  +b +c +a +d)
gives none.
So my theory of AND having higher precedence than OR does not hold.

Of course I should try to understand this rather from the sources than
from some experiments.
I tried, but I didn't succed.

So can anyone help me with the question how queries containing 
AND OR and NOT are executed if one does not explicitly use 
parentheses?

greetings
	Morus

From burton@newsmonster.org  Mon Aug 11 00:04:11 2003
Return-Path: <burton@newsmonster.org>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36430 invoked from network); 11 Aug 2003 00:04:11 -0000
Received: from mtaw4.prodigy.net (64.164.98.52)
  by daedalus.apache.org with SMTP; 11 Aug 2003 00:04:11 -0000
Received: from newsmonster.org (adsl-67-114-20-29.dsl.pltn13.pacbell.net [67.114.20.29])
	by mtaw4.prodigy.net (8.12.9/8.12.3) with ESMTP id h7B04COq000679
	for <lucene-user@jakarta.apache.org>; Sun, 10 Aug 2003 17:04:12 -0700 (PDT)
Message-ID: <3F36C823.6020503@newsmonster.org>
Date: Sun, 10 Aug 2003 15:33:07 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: Lucene as a high-performance RDF database.
X-Enigmail-Version: 0.76.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I have been giving some thought to using Lucene as an RDF database.   
I'm specifically thinking about the RDF model and not the RDF syntax.

Essentially this would just comprise triples encoded in a document as 
fields.

So for example we would have subject predicate and object relationships 
as document fields.  Subject and predicates would be Tokens and then the 
object field would be indexed.

For example a triple (document) would be:

    http://jakarta.apache.org -> title -> "A great Java developer's website"

This would be just one document in the index.

This would have a lot of advantages most importantly speed and the 
reliability of Lucene and the ability to run a full text query on objects.

For example we could query on "Java" and get back 
"http://jakarta.apache.org"

The major downside I could see is that this would mean that we would be 
indexing a LOT of small documents with a LOT of index updates.

Can anyone see any problems here?  This database will eventually grow to 
around 2TB in the next month so performance issues are non-trivial.

Most people have deployed Lucene with large document sizes and the fact 
that most people are citing document COUNT makes me nervous.

Kevin



From Eric.Jain@isb-sib.ch  Mon Aug 11 06:47:38 2003
Return-Path: <Eric.Jain@isb-sib.ch>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66707 invoked from network); 11 Aug 2003 06:47:38 -0000
Received: from expasy-f.unige.ch (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
  by daedalus.apache.org with SMTP; 11 Aug 2003 06:47:38 -0000
Received: from caliente (router.isb-sib.ch [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.8p1/8.12.8) with ESMTP id h7B6lWrH018111;
	Mon, 11 Aug 2003 08:47:32 +0200
Message-ID: <002a01c35fd4$7a8e56c0$c300000a@caliente>
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Kevin A. Burton" <burton@newsmonster.org>
Cc: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <3F36C823.6020503@newsmonster.org>
Subject: Re: Lucene as a high-performance RDF database.
Date: Mon, 11 Aug 2003 08:47:48 +0200
Organization: Swiss Institute of Bioinformatics
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> I have been giving some thought to using Lucene as an RDF database.
> I'm specifically thinking about the RDF model and not the RDF syntax.

Excellent idea! In fact, I am going to try it out right now...


> Can anyone see any problems here?  This database will eventually grow
> to around 2TB in the next month so performance issues are non-trivial.

We have something like 20 million statements per gigabyte (RDF/XML).
Even if what you store into the index is more compact (let's say 2
million statements per gigabyte), with terrabytes of data you might
eventually run out of document identifiers (positive integers).


I have previously done some tests with storing RDF into a relational
database. Following is a list of fields I used; I believe the same
should work for a Lucene index.

  model_ns
  model
  statement_ns
  statement
  subject_ns
  subject
  predicate_ns
  predicate
  resource_ns
  resource
  literal

model_ns/model is used to create logical groups of statements. Either
resource_ns/resource or literal is used to store the object of the
statement. Latter can only be queried properly when using a database
that supports large text fields such as MySQL or PostreSQL; obviously
not an issue for Lucene.


--
Eric Jain


From burton@newsmonster.org  Mon Aug 11 08:39:04 2003
Return-Path: <burton@newsmonster.org>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85015 invoked from network); 11 Aug 2003 08:39:04 -0000
Received: from mta7.pltn13.pbi.net (64.164.98.8)
  by daedalus.apache.org with SMTP; 11 Aug 2003 08:39:04 -0000
Received: from newsmonster.org (adsl-63-204-135-72.dsl.snfc21.pacbell.net [63.204.135.72])
	by mta7.pltn13.pbi.net (8.12.9/8.12.3) with ESMTP id h7B8dBeC000950
	for <lucene-user@jakarta.apache.org>; Mon, 11 Aug 2003 01:39:11 -0700 (PDT)
Message-ID: <3F374098.6080607@newsmonster.org>
Date: Mon, 11 Aug 2003 00:07:04 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: 2,147,483,647 max documents?
X-Enigmail-Version: 0.76.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Why was an int chosen to represent document handles?  Is there a reason 
for this?  Why wasn't a long chosen to represent document handles?  64 
bits seems like the obvious choice here except for a potentially bloated 
datastore.... (32 extra bits)

I guess one possible solution is to use multiple indexes.  This way you 
could run the search on each index and build a 64bit handle with the 
first 32bits being the index handle and the second 32bits being the 
local handle.

Kevin

-- 
Help Support NewsMonster Development!  Purchase NewsMonster PRO!

    http://www.newsmonster.org/download-pro.html

Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM - sfburtonator,  Web - http://www.peerfear.org/
GPG fingerprint: 4D20 40A0 C734 307E C7B4  DCAA 0303 3AC5 BD9D 7C4D
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster



From Gregor.Heinrich@igd.fhg.de  Mon Aug 11 09:27:11 2003
Return-Path: <Gregor.Heinrich@igd.fhg.de>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29460 invoked from network); 11 Aug 2003 09:27:11 -0000
Received: from igdmail.igd.fhg.de (146.140.28.14)
  by daedalus.apache.org with SMTP; 11 Aug 2003 09:27:11 -0000
Received: from pcara ([146.140.9.73]) by igdmail.igd.fhg.de
          (Netscape Messaging Server 3.6)  with SMTP id AAA322D
          for <lucene-user@jakarta.apache.org>;
          Mon, 11 Aug 2003 11:27:12 +0200
Reply-To: <heinrich@igd.fhg.de>
From: "Gregor Heinrich" <Gregor.Heinrich@igd.fhg.de>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Lucene as a high-performance RDF database.
Date: Mon, 11 Aug 2003 11:27:11 +0200
Message-ID: <007c01c35fea$bec1e530$49098c92@pcara>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <3F36C823.6020503@newsmonster.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Kevin,

your idea could work for higher mega-byte ranges, I guess, don't know how
about several TBytes.

We have been considering a concept to use Lucene as an RDF backend for a
semantic search engine, because of its reported excellent scalability, on
the order of tens of Megs. The idea was similar to yours and but we thought
of using some index extension to introduce the class / properties hierarchy
(i.e., RDF Schema) and make them searchable via cascaded index lookups.

Didn't have the time, though, to test it, but would be grateful if you could
comment.

Here are the fields, in a draft with three index parts it's something like:

node (unique)
clss (class in schema)
prop (position-ordered)
prwt (a scalar value, weighting the relation or 1, position-ordered)
rsrc (resource, position-ordered)

and for the ontology itself:

clss
spcl (superclass, multi-inheritance)

and

prop (property)
sprp (super-property, multi-inheritance)
domn (domain)
rnge (range)

Best regards,

gregor



-----Original Message-----
From: Kevin A. Burton [mailto:burton@newsmonster.org]
Sent: Monday, August 11, 2003 12:33 AM
To: lucene-user@jakarta.apache.org
Subject: Lucene as a high-performance RDF database.


I have been giving some thought to using Lucene as an RDF database.
I'm specifically thinking about the RDF model and not the RDF syntax.

Essentially this would just comprise triples encoded in a document as
fields.

So for example we would have subject predicate and object relationships
as document fields.  Subject and predicates would be Tokens and then the
object field would be indexed.

For example a triple (document) would be:

    http://jakarta.apache.org -> title -> "A great Java developer's website"

This would be just one document in the index.

This would have a lot of advantages most importantly speed and the
reliability of Lucene and the ability to run a full text query on objects.

For example we could query on "Java" and get back
"http://jakarta.apache.org"

The major downside I could see is that this would mean that we would be
indexing a LOT of small documents with a LOT of index updates.

Can anyone see any problems here?  This database will eventually grow to
around 2TB in the next month so performance issues are non-trivial.

Most people have deployed Lucene with large document sizes and the fact
that most people are citing document COUNT makes me nervous.

Kevin



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From ab@getopt.org  Mon Aug 11 11:08:57 2003
Return-Path: <ab@getopt.org>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45818 invoked from network); 11 Aug 2003 11:08:57 -0000
Received: from smtp.acn.pl (HELO mail1.astercity.net) (212.76.33.20)
  by daedalus.apache.org with SMTP; 11 Aug 2003 11:08:57 -0000
Received: from getopt.org (75-mo3-2.acn.waw.pl [62.121.105.75])
	by mail1.astercity.net (sendmail) with ESMTP
	id 3CC2126A1DE; Mon, 11 Aug 2003 13:08:47 +0200 (CEST)
Message-ID: <3F3779AE.2030702@getopt.org>
Date: Mon, 11 Aug 2003 13:10:38 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Cc: Lucene Developers List <lucene-dev@jakarta.apache.org>
Subject: Luke v 0.2 - Lucene Index Browser
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Dear Lucene Users,

I'm glad to announce that a new version of Luke is available for 
download, and as a Java WebStart application.

Luke is a diagnostic tool for Lucene (http://jakarta.apache.org/lucene) 
indexes. It enables you to browse documents in existing indexes, perform 
queries, navigate through terms, optimize indexes and more.

Please go to http://www.getopt.org/luke and give it a try. You can 
either use the Java WebStart version, or just download the JAR file with 
binaries. Full source code is available, under Apache license.

Changes in v0.2:

* Add Java WebStart version.
* Add Read-Only mode.
* Fix spinbox bug (really a bug in the Thinlet toolkit - fixed there).
* Allow to browse hidden directories.
* Add a combobox to choose the default field for searching.
* Other minor code cleanups.

Thanks to all who provided their comments and suggestions!

-- 
Best regards,
Andrzej Bialecki

-------------------------------------------------
Software Architect, System Integration Specialist
CEN/ISSS EC Workshop, ECIMF project chair
EU FP6 E-Commerce Expert/Evaluator
-------------------------------------------------
FreeBSD developer (http://www.freebsd.org)




From tatu@hypermall.net  Mon Aug 11 13:38:50 2003
Return-Path: <tatu@hypermall.net>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17148 invoked from network); 11 Aug 2003 13:38:50 -0000
Received: from mzpi4.forethought.net (HELO mz2.forethought.net) (216.241.36.13)
  by daedalus.apache.org with SMTP; 11 Aug 2003 13:38:50 -0000
Received: from j72.denver.dsl.forethought.net ([216.241.38.72] helo=www.doomdark.org)
	by mz2.forethought.net with esmtp (Exim 4.14)
	id 19mCss-0007kE-Vu
	for lucene-user@jakarta.apache.org; Mon, 11 Aug 2003 07:38:51 -0600
Content-Type: text/plain;
  charset="iso-8859-1"
From: Tatu Saloranta <tatu@hypermall.net>
Reply-To: tatu@hypermall.net
Organization: Linux-users missalie
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: 2,147,483,647 max documents?
Date: Mon, 11 Aug 2003 07:41:07 -0600
User-Agent: KMail/1.4.3
References: <3F374098.6080607@newsmonster.org>
In-Reply-To: <3F374098.6080607@newsmonster.org>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200308110741.07171.tatu@hypermall.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Monday 11 August 2003 01:07, Kevin A. Burton wrote:
> Why was an int chosen to represent document handles?  Is there a reason
> for this?  Why wasn't a long chosen to represent document handles?  64
> bits seems like the obvious choice here except for a potentially bloated
> datastore.... (32 extra bits)

I can't speak for actual reasons (not being core Lucene developer), but the
general benefits of 32-bit ints vs. longs are:

- Better performance on pretty much any current architecture (even so-called
  64-bit CPUs often prefer 32-bit data access, and 64-bit representations are
  more important for addressing).
  Also, smaller data set size is usually also good for performance (caching).
- Atomicity of access (read access can often be done without synchronizing);
  longs can not be atomically accessed in Java.

Another question is whether limited address space presents a real problem. 
Since Lucene can reuse doc ids (or rather, there is not persistent id per se? 
doc id is just an index, and holes left by removed docs can be reused?), 
perhaps this is usually not much of an issue?

-+ Tatu +-


From tom.killeen@thomson.com  Mon Aug 11 14:55:18 2003
Return-Path: <tom.killeen@thomson.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40747 invoked from network); 11 Aug 2003 14:55:18 -0000
Received: from mailbo.westgroup.com (167.68.0.71)
  by daedalus.apache.org with SMTP; 11 Aug 2003 14:55:18 -0000
Received: from morley.int.westgroup.com (localhost.localdomain [127.0.0.1])
	by mailbo.westgroup.com (8.12.9/8.12.9) with ESMTP id h7BEtG0J030573
	for <lucene-user@jakarta.apache.org>; Mon, 11 Aug 2003 09:55:16 -0500
Received: from eg-msgimc-a03.int.westgroup.com (eg-msgimc-a03.int.westgroup.com [163.231.102.184])
	by morley.int.westgroup.com (8.12.9/8.12.9) with ESMTP id h7BEtE1p030547
	for <lucene-user@jakarta.apache.org>; Mon, 11 Aug 2003 09:55:14 -0500
Received: by eg-msgimc-a03.int.westgroup.com with Internet Mail Service (5.5.2656.59)
	id <P53Y4YGB>; Mon, 11 Aug 2003 09:55:13 -0500
Message-ID: <3FB41459B6CCD61196290006298F1F1D48820B@eg-msgmbx-a02.int.westgroup.com>
From: "Killeen, Tom" <tom.killeen@thomson.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: parallel index building & searching multiple indexes
Date: Mon, 11 Aug 2003 09:55:12 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2656.59)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I am attempting to create approx 10 different Lucene indexes.  I'm trying to
create them at the same time by running multiple processes and each index is
written to a new directory.  Once I create more than one process - the
performance is very, very slow.  

Any sample code out there showing an efficient way to create multiple
indexes?

Also, Any sample code out there to search the multiple indexes?

thanks, 
Tom

-----Original Message-----
From: Tatu Saloranta [mailto:tatu@hypermall.net]
Sent: Monday, August 11, 2003 8:41 AM
To: Lucene Users List
Subject: Re: 2,147,483,647 max documents?


On Monday 11 August 2003 01:07, Kevin A. Burton wrote:
> Why was an int chosen to represent document handles?  Is there a reason
> for this?  Why wasn't a long chosen to represent document handles?  64
> bits seems like the obvious choice here except for a potentially bloated
> datastore.... (32 extra bits)

I can't speak for actual reasons (not being core Lucene developer), but the
general benefits of 32-bit ints vs. longs are:

- Better performance on pretty much any current architecture (even so-called
  64-bit CPUs often prefer 32-bit data access, and 64-bit representations
are
  more important for addressing).
  Also, smaller data set size is usually also good for performance
(caching).
- Atomicity of access (read access can often be done without synchronizing);
  longs can not be atomically accessed in Java.

Another question is whether limited address space presents a real problem. 
Since Lucene can reuse doc ids (or rather, there is not persistent id per
se? 
doc id is just an index, and holes left by removed docs can be reused?), 
perhaps this is usually not much of an issue?

-+ Tatu +-


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

From otis_gospodnetic@yahoo.com  Mon Aug 11 14:58:13 2003
Return-Path: <otis_gospodnetic@yahoo.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45145 invoked from network); 11 Aug 2003 14:58:13 -0000
Received: from web12701.mail.yahoo.com (216.136.173.238)
  by daedalus.apache.org with SMTP; 11 Aug 2003 14:58:13 -0000
Message-ID: <20030811145815.51238.qmail@web12701.mail.yahoo.com>
Received: from [213.202.66.93] by web12701.mail.yahoo.com via HTTP; Mon, 11 Aug 2003 07:58:15 PDT
Date: Mon, 11 Aug 2003 07:58:15 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: parallel index building & searching multiple indexes
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <3FB41459B6CCD61196290006298F1F1D48820B@eg-msgmbx-a02.int.westgroup.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

You didn't provide details about your setup, but my first guess is that
all your processes are writing the indices on the same disk, and that
disk is your bottleneck.

Otis


--- "Killeen, Tom" <tom.killeen@thomson.com> wrote:
> I am attempting to create approx 10 different Lucene indexes.  I'm
> trying to
> create them at the same time by running multiple processes and each
> index is
> written to a new directory.  Once I create more than one process -
> the
> performance is very, very slow.  
> 
> Any sample code out there showing an efficient way to create multiple
> indexes?
> 
> Also, Any sample code out there to search the multiple indexes?
> 
> thanks, 
> Tom
> 
> -----Original Message-----
> From: Tatu Saloranta [mailto:tatu@hypermall.net]
> Sent: Monday, August 11, 2003 8:41 AM
> To: Lucene Users List
> Subject: Re: 2,147,483,647 max documents?
> 
> 
> On Monday 11 August 2003 01:07, Kevin A. Burton wrote:
> > Why was an int chosen to represent document handles?  Is there a
> reason
> > for this?  Why wasn't a long chosen to represent document handles? 
> 64
> > bits seems like the obvious choice here except for a potentially
> bloated
> > datastore.... (32 extra bits)
> 
> I can't speak for actual reasons (not being core Lucene developer),
> but the
> general benefits of 32-bit ints vs. longs are:
> 
> - Better performance on pretty much any current architecture (even
> so-called
>   64-bit CPUs often prefer 32-bit data access, and 64-bit
> representations
> are
>   more important for addressing).
>   Also, smaller data set size is usually also good for performance
> (caching).
> - Atomicity of access (read access can often be done without
> synchronizing);
>   longs can not be atomically accessed in Java.
> 
> Another question is whether limited address space presents a real
> problem. 
> Since Lucene can reuse doc ids (or rather, there is not persistent id
> per
> se? 
> doc id is just an index, and holes left by removed docs can be
> reused?), 
> perhaps this is usually not much of an issue?
> 
> -+ Tatu +-
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

From guenter.kukies@heuft.com  Mon Aug 11 15:15:04 2003
Return-Path: <guenter.kukies@heuft.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2038 invoked from network); 11 Aug 2003 15:15:04 -0000
Received: from contact.heuft.org (HELO mail.heuft.org) (217.6.251.69)
  by daedalus.apache.org with SMTP; 11 Aug 2003 15:15:04 -0000
Received: (qmail 23073 invoked from network); 11 Aug 2003 15:00:10 -0000
Received: from unknown (HELO TFEW02) (172.17.0.26)
  by 0 with SMTP; 11 Aug 2003 15:00:10 -0000
Message-ID: <001001c3601a$fddd97c0$1a0011ac@TFEW02>
From: =?iso-8859-1?Q?G=FCnter_Kukies?= <guenter.kukies@heuft.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <3F3779AE.2030702@getopt.org>
Subject: Re: Luke v 0.2 - Lucene Index Browser
Date: Mon, 11 Aug 2003 17:12:33 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-AntiVirus: scanned for viruses by AMaViS 0.2.1 modified by kdi (http://amavis.org/)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

nice Tool.

Here some points for further developments:
show the contents of a Reader-valued Field
open the original Dokuments with the platform dependant mimetype viewer

regards,
Günter


----- Original Message -----
From: "Andrzej Bialecki" <ab@getopt.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Cc: "Lucene Developers List" <lucene-dev@jakarta.apache.org>
Sent: Monday, August 11, 2003 1:10 PM
Subject: Luke v 0.2 - Lucene Index Browser


> Dear Lucene Users,
>
> I'm glad to announce that a new version of Luke is available for
> download, and as a Java WebStart application.
>
> Luke is a diagnostic tool for Lucene (http://jakarta.apache.org/lucene)
> indexes. It enables you to browse documents in existing indexes, perform
> queries, navigate through terms, optimize indexes and more.
>
> Please go to http://www.getopt.org/luke and give it a try. You can
> either use the Java WebStart version, or just download the JAR file with
> binaries. Full source code is available, under Apache license.
>
> Changes in v0.2:
>
> * Add Java WebStart version.
> * Add Read-Only mode.
> * Fix spinbox bug (really a bug in the Thinlet toolkit - fixed there).
> * Allow to browse hidden directories.
> * Add a combobox to choose the default field for searching.
> * Other minor code cleanups.
>
> Thanks to all who provided their comments and suggestions!
>
> --
> Best regards,
> Andrzej Bialecki
>
> -------------------------------------------------
> Software Architect, System Integration Specialist
> CEN/ISSS EC Workshop, ECIMF project chair
> EU FP6 E-Commerce Expert/Evaluator
> -------------------------------------------------
> FreeBSD developer (http://www.freebsd.org)
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


From lists@ehatchersolutions.com  Mon Aug 11 15:48:36 2003
Return-Path: <lists@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3591 invoked from network); 11 Aug 2003 15:48:36 -0000
Received: from mail14.atl.registeredsite.com (64.224.219.88)
  by daedalus.apache.org with SMTP; 11 Aug 2003 15:48:36 -0000
Received: from netmail.mail.registeredsite.com ([216.122.69.16])
	by mail14.atl.registeredsite.com (8.12.9/8.12.9) with ESMTP id h7BFmciZ007355
	(version=TLSv1/SSLv3 cipher=EDH-RSA-DES-CBC3-SHA bits=168 verify=NOT)
	for <lucene-user@jakarta.apache.org>; Mon, 11 Aug 2003 11:48:38 -0400
Received: (qmail 57706 invoked by uid 89); 11 Aug 2003 15:50:36 -0000
Received: from unknown (HELO ehatchersolutions.com) (128.143.103.74)
  by mail.smooch-a-roo.com with SMTP; 11 Aug 2003 15:50:36 -0000
Date: Mon, 11 Aug 2003 11:48:53 -0400
Subject: Re: Luke v 0.2 - Lucene Index Browser
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <lists@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: quoted-printable
In-Reply-To: <001001c3601a$fddd97c0$1a0011ac@TFEW02>
Message-Id: <4F012F3C-CC13-11D7-99E4-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Monday, August 11, 2003, at 11:12  AM, G=FCnter Kukies wrote:
> Hi,
>
> nice Tool.
>
> Here some points for further developments:
> show the contents of a Reader-valued Field

But Reader-valued fields are not "stored" in the index=20
(Field.Text(name, Reader), that is).  The only thing it could show is=20
the terms from that field for each document.

	Erik


From Julien.Nioche@lingway.com  Mon Aug 11 15:58:08 2003
Return-Path: <Julien.Nioche@lingway.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39312 invoked from network); 11 Aug 2003 15:58:08 -0000
Received: from smtp5.clb.oleane.net (213.56.31.25)
  by daedalus.apache.org with SMTP; 11 Aug 2003 15:58:08 -0000
Received: from teck ([217.167.130.37]) (authenticated)
	by smtp5.clb.oleane.net with ESMTP id h7BFw8Cu002025
	for <lucene-user@jakarta.apache.org>; Mon, 11 Aug 2003 17:58:09 +0200
Message-ID: <002401c36021$d374a490$6a0010ac@teck>
From: "Julien Nioche" <Julien.Nioche@lingway.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <3F3779AE.2030702@getopt.org> <001001c3601a$fddd97c0$1a0011ac@TFEW02>
Subject: Re: Luke v 0.2 - Lucene Index Browser
Date: Mon, 11 Aug 2003 18:01:25 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello,

Thanks to Andrzej for this new version! Luke is really useful.

> open the original Dokuments with the platform dependant mimetype viewer
???

My suggestions by order of importance would be :

- History of the 5 last indexes used : under the File Menu item ?
- Remove the empty field (see mailing list Lucene dev 4/16/2003 message from
Otis)
- Possibility to merge different indexes
- Information about the # of segments
[- and almost impossible : recompose the unstored fields of a document]

Best regards

Julien


----- Original Message -----
From: "Günter Kukies" <guenter.kukies@heuft.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, August 11, 2003 5:12 PM
Subject: Re: Luke v 0.2 - Lucene Index Browser


> Hi,
>
> nice Tool.
>
> Here some points for further developments:
> show the contents of a Reader-valued Field
> open the original Dokuments with the platform dependant mimetype viewer
>
> regards,
> Günter
>
>
> ----- Original Message -----
> From: "Andrzej Bialecki" <ab@getopt.org>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Cc: "Lucene Developers List" <lucene-dev@jakarta.apache.org>
> Sent: Monday, August 11, 2003 1:10 PM
> Subject: Luke v 0.2 - Lucene Index Browser
>
>
> > Dear Lucene Users,
> >
> > I'm glad to announce that a new version of Luke is available for
> > download, and as a Java WebStart application.
> >
> > Luke is a diagnostic tool for Lucene (http://jakarta.apache.org/lucene)
> > indexes. It enables you to browse documents in existing indexes, perform
> > queries, navigate through terms, optimize indexes and more.
> >
> > Please go to http://www.getopt.org/luke and give it a try. You can
> > either use the Java WebStart version, or just download the JAR file with
> > binaries. Full source code is available, under Apache license.
> >
> > Changes in v0.2:
> >
> > * Add Java WebStart version.
> > * Add Read-Only mode.
> > * Fix spinbox bug (really a bug in the Thinlet toolkit - fixed there).
> > * Allow to browse hidden directories.
> > * Add a combobox to choose the default field for searching.
> > * Other minor code cleanups.
> >
> > Thanks to all who provided their comments and suggestions!
> >
> > --
> > Best regards,
> > Andrzej Bialecki
> >
> > -------------------------------------------------
> > Software Architect, System Integration Specialist
> > CEN/ISSS EC Workshop, ECIMF project chair
> > EU FP6 E-Commerce Expert/Evaluator
> > -------------------------------------------------
> > FreeBSD developer (http://www.freebsd.org)
> >
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


From danny@kitsite.com  Mon Aug 11 16:05:25 2003
Return-Path: <danny@kitsite.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53244 invoked from network); 11 Aug 2003 16:05:25 -0000
Received: from smithers.nildram.co.uk (195.112.4.34)
  by daedalus.apache.org with SMTP; 11 Aug 2003 16:05:25 -0000
Received: from Kitsite1 (clink.gotadsl.co.uk [81.6.252.200])
	by smithers.nildram.co.uk (Postfix) with ESMTP id 1F264232021
	for <lucene-user@jakarta.apache.org>; Mon, 11 Aug 2003 17:05:22 +0100 (BST)
Message-ID: <01e101c36022$85af7950$1801a8c0@Kitsite1>
From: "Danny Sofer" <danny@kitsite.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <4F012F3C-CC13-11D7-99E4-000393A564E6@ehatchersolutions.com>
Subject: How do you pronounce 'Lucene'?
Date: Mon, 11 Aug 2003 17:06:28 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

...and where does the name come from?

we've already developed three way to say 'lucene' and we can't agree on
which one we like best.

somebody please help!

many thanks,

danny.
===================================
danny sofer   t. 020 7378 6655   m. 0795 722 1632
www.kitsite.com - content management for websites


From joeo@enigmastation.com  Mon Aug 11 16:06:39 2003
Return-Path: <joeo@enigmastation.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58325 invoked from network); 11 Aug 2003 16:06:39 -0000
Received: from zzz-209254108074.splitrock.net (HELO enigmastation.com) (209.254.108.74)
  by daedalus.apache.org with SMTP; 11 Aug 2003 16:06:39 -0000
Received: from localhost (joeo@localhost)
	by enigmastation.com (8.11.6/8.11.6/SuSE Linux 0.5) with ESMTP id h7BFvlb00320
	for <lucene-user@jakarta.apache.org>; Mon, 11 Aug 2003 10:57:47 -0500
Date: Mon, 11 Aug 2003 10:57:47 -0500 (EST)
From: Joseph Ottinger <joeo@enigmastation.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: How do you pronounce 'Lucene'?
In-Reply-To: <01e101c36022$85af7950$1801a8c0@Kitsite1>
Message-ID: <Pine.LNX.4.33.0308111057180.31376-100000@enigmastation.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I pronounce it "lieu'-seen" or "loo'-seen", usually the latter because I'm
lazy.

On Mon, 11 Aug 2003, Danny Sofer wrote:

> ...and where does the name come from?
>
> we've already developed three way to say 'lucene' and we can't agree on
> which one we like best.
>
> somebody please help!
>
> many thanks,
>
> danny.
> ===================================
> danny sofer   t. 020 7378 6655   m. 0795 722 1632
> www.kitsite.com - content management for websites
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

-------------------------------------------------------------------
Joseph B. Ottinger                         http://enigmastation.com
IT Consultant                                joeo@enigmastation.com
J2EE Editor - Java Developer's Journal   josephottinger@sys-con.com


From tom.killeen@thomson.com  Mon Aug 11 16:15:34 2003
Return-Path: <tom.killeen@thomson.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85687 invoked from network); 11 Aug 2003 16:15:34 -0000
Received: from mailao.westgroup.com (167.68.1.71)
  by daedalus.apache.org with SMTP; 11 Aug 2003 16:15:34 -0000
Received: from morton.int.westgroup.com (localhost.localdomain [127.0.0.1])
	by mailao.westgroup.com (8.12.9/8.12.9) with ESMTP id h7BGFZci002033
	for <lucene-user@jakarta.apache.org>; Mon, 11 Aug 2003 11:15:35 -0500
Received: from eg-msgimc-a03.int.westgroup.com (eg-msgimc-a03.int.westgroup.com [163.231.102.184])
	by morton.int.westgroup.com (8.12.9/8.12.9) with ESMTP id h7BGFZim002022
	for <lucene-user@jakarta.apache.org>; Mon, 11 Aug 2003 11:15:35 -0500
Received: by eg-msgimc-a03.int.westgroup.com with Internet Mail Service (5.5.2656.59)
	id <P53YVBD0>; Mon, 11 Aug 2003 11:15:35 -0500
Message-ID: <3FB41459B6CCD61196290006298F1F1D48820C@eg-msgmbx-a02.int.westgroup.com>
From: "Killeen, Tom" <tom.killeen@thomson.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: parallel index building & searching multiple indexes
Date: Mon, 11 Aug 2003 11:15:33 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2656.59)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Yes, all the indices were being written to the same disk.  The box has 3
disks (75GB, 37GB, 110GB)  would I be better off creating them across all
three?  If so, would I then move them all to the same disk to search
against?  

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
Sent: Monday, August 11, 2003 9:58 AM
To: Lucene Users List
Subject: Re: parallel index building & searching multiple indexes


You didn't provide details about your setup, but my first guess is that
all your processes are writing the indices on the same disk, and that
disk is your bottleneck.

Otis


--- "Killeen, Tom" <tom.killeen@thomson.com> wrote:
> I am attempting to create approx 10 different Lucene indexes.  I'm
> trying to
> create them at the same time by running multiple processes and each
> index is
> written to a new directory.  Once I create more than one process -
> the
> performance is very, very slow.  
> 
> Any sample code out there showing an efficient way to create multiple
> indexes?
> 
> Also, Any sample code out there to search the multiple indexes?
> 
> thanks, 
> Tom
> 
> -----Original Message-----
> From: Tatu Saloranta [mailto:tatu@hypermall.net]
> Sent: Monday, August 11, 2003 8:41 AM
> To: Lucene Users List
> Subject: Re: 2,147,483,647 max documents?
> 
> 
> On Monday 11 August 2003 01:07, Kevin A. Burton wrote:
> > Why was an int chosen to represent document handles?  Is there a
> reason
> > for this?  Why wasn't a long chosen to represent document handles? 
> 64
> > bits seems like the obvious choice here except for a potentially
> bloated
> > datastore.... (32 extra bits)
> 
> I can't speak for actual reasons (not being core Lucene developer),
> but the
> general benefits of 32-bit ints vs. longs are:
> 
> - Better performance on pretty much any current architecture (even
> so-called
>   64-bit CPUs often prefer 32-bit data access, and 64-bit
> representations
> are
>   more important for addressing).
>   Also, smaller data set size is usually also good for performance
> (caching).
> - Atomicity of access (read access can often be done without
> synchronizing);
>   longs can not be atomically accessed in Java.
> 
> Another question is whether limited address space presents a real
> problem. 
> Since Lucene can reuse doc ids (or rather, there is not persistent id
> per
> se? 
> doc id is just an index, and holes left by removed docs can be
> reused?), 
> perhaps this is usually not much of an issue?
> 
> -+ Tatu +-
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

From ab@getopt.org  Mon Aug 11 17:53:42 2003
Return-Path: <ab@getopt.org>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2663 invoked from network); 11 Aug 2003 17:53:42 -0000
Received: from smtp.acn.pl (HELO mail1.astercity.net) (212.76.33.20)
  by daedalus.apache.org with SMTP; 11 Aug 2003 17:53:42 -0000
Received: from getopt.org (75-mo3-2.acn.waw.pl [62.121.105.75])
	by mail1.astercity.net (sendmail) with ESMTP id BEA612872CA
	for <lucene-user@jakarta.apache.org>; Mon, 11 Aug 2003 19:53:43 +0200 (CEST)
Message-ID: <3F37D894.5010405@getopt.org>
Date: Mon, 11 Aug 2003 19:55:32 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Luke v 0.2 - Lucene Index Browser
References: <3F3779AE.2030702@getopt.org> <001001c3601a$fddd97c0$1a0011ac@TFEW02> <002401c36021$d374a490$6a0010ac@teck>
In-Reply-To: <002401c36021$d374a490$6a0010ac@teck>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Julien Nioche wrote:

> Hello,
> 
> Thanks to Andrzej for this new version! Luke is really useful.
> 

You're welcome. It was fun to code.

> 
>>open the original Dokuments with the platform dependant mimetype viewer

Someone else already explained the problems with this... What is a 
document in Lucene? It's a set of fields and their String values (or 
their terms), so it's not possible to open the original document from 
which the values were extracted, because there is no original...

> 
> ???
> 
> My suggestions by order of importance would be :
> 
> - History of the 5 last indexes used : under the File Menu item ?

No problem. I mean, technically it's no problem, it's just a problem of 
getting to it on my so called "free time" ...

> - Remove the empty field (see mailing list Lucene dev 4/16/2003 message from
> Otis)

Well... I thought it was just reported as a bug. I don't see any 
responses to this, so I guess this is still a bug, and Luke is not the 
one to be fixed. :-)

> - Possibility to merge different indexes

No problem.

> - Information about the # of segments

Need to check this, but shouldn't be any problem. I'm not sure whether 
it's useful, though... ?

> [- and almost impossible : recompose the unstored fields of a document]

It's not impossible, just time-consuming - all information (except the 
parts removed by analyzer) is already there. This functionality has a 
high "cool-ness" factor, which makes it very tempting... :-)

Thanks for these suggestions! I can't promise any timeline, but 
eventually I'd like to include this functionality in Luke. Patches are 
always welcome... :-)

-- 
Best regards,
Andrzej Bialecki

-------------------------------------------------
Software Architect, System Integration Specialist
CEN/ISSS EC Workshop, ECIMF project chair
EU FP6 E-Commerce Expert/Evaluator
-------------------------------------------------
FreeBSD developer (http://www.freebsd.org)




From cutting@lucene.com  Mon Aug 11 18:07:41 2003
Return-Path: <cutting@lucene.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25262 invoked from network); 11 Aug 2003 18:07:41 -0000
Received: from rwcrmhc13.comcast.net (204.127.198.39)
  by daedalus.apache.org with SMTP; 11 Aug 2003 18:07:41 -0000
Received: from lucene.com (12-210-200-74.client.attbi.com[12.210.200.74](untrusted sender))
          by comcast.net (rwcrmhc13) with SMTP
          id <20030811180745015006m25te>; Mon, 11 Aug 2003 18:07:45 +0000
Message-ID: <3F37DB66.3060105@lucene.com>
Date: Mon, 11 Aug 2003 11:07:34 -0700
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030701
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: How do you pronounce 'Lucene'?
References: <4F012F3C-CC13-11D7-99E4-000393A564E6@ehatchersolutions.com> <01e101c36022$85af7950$1801a8c0@Kitsite1>
In-Reply-To: <01e101c36022$85af7950$1801a8c0@Kitsite1>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Loo-seen.

Danny Sofer wrote:
> ...and where does the name come from?

It's my wife's middle name, and her maternal grandmother's first name.

Doug


From pbecker@dstc.edu.au  Mon Aug 11 20:29:02 2003
Return-Path: <pbecker@dstc.edu.au>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6547 invoked from network); 11 Aug 2003 20:29:02 -0000
Received: from natsmtp00.webmailer.de (HELO post.webmailer.de) (192.67.198.74)
  by daedalus.apache.org with SMTP; 11 Aug 2003 20:29:02 -0000
Received: from dstc.edu.au (m081-174.nv.iinet.net.au [203.217.81.174])
	by post.webmailer.de (8.12.8/8.8.7) with ESMTP id h7BKT4w1021023
	for <lucene-user@jakarta.apache.org>; Mon, 11 Aug 2003 22:29:06 +0200 (MEST)
Message-ID: <3F37FCB4.20107@dstc.edu.au>
Date: Tue, 12 Aug 2003 06:29:40 +1000
From: Peter Becker <pbecker@dstc.edu.au>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Luke v 0.2 - Lucene Index Browser
References: <3F3779AE.2030702@getopt.org> <001001c3601a$fddd97c0$1a0011ac@TFEW02> <002401c36021$d374a490$6a0010ac@teck> <3F37D894.5010405@getopt.org>
In-Reply-To: <3F37D894.5010405@getopt.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Andrzej Bialecki wrote:

[...Luke feature requests...]

>>
>>> open the original Dokuments with the platform dependant mimetype viewer
>>
>
> Someone else already explained the problems with this... What is a 
> document in Lucene? It's a set of fields and their String values (or 
> their terms), so it's not possible to open the original document from 
> which the values were extracted, because there is no original...

We store the paths to the documents in the index, partly for exactly 
this reason, partly to get an identifier for the documents. The thing I 
could see Luke doing would be guessing that a field contains a path or 
URL and then offering to give it to BrowserLauncher, which you use anyway.

Personally I'd like to see this feature, too. It would be interesting to 
analyse an index by looking at unusual terms and then being able to see 
the full document somewhere. But I think it is hard to generalize the 
approach and it might actually break for our indexes sooner or later 
since we are thinking about storing the location relative to the indexed 
directories -- which allows us to use one index with different file 
system mappings, e.g. to index a directory locally on a Linux box which 
is then used on a Windows client via SMB. If we go down this road the 
index wouldn't contain the complete information for opening files anymore.

Just my 2c,
   Peter


From pbecker@dstc.edu.au  Mon Aug 11 20:43:04 2003
Return-Path: <pbecker@dstc.edu.au>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28887 invoked from network); 11 Aug 2003 20:43:04 -0000
Received: from natsmtp01.webmailer.de (HELO post.webmailer.de) (192.67.198.81)
  by daedalus.apache.org with SMTP; 11 Aug 2003 20:43:04 -0000
Received: from dstc.edu.au (m081-174.nv.iinet.net.au [203.217.81.174])
	by post.webmailer.de (8.12.8/8.8.7) with ESMTP id h7BKh6NI018562
	for <lucene-user@jakarta.apache.org>; Mon, 11 Aug 2003 22:43:07 +0200 (MEST)
Message-ID: <3F380003.5080309@dstc.edu.au>
Date: Tue, 12 Aug 2003 06:43:47 +1000
From: Peter Becker <pbecker@dstc.edu.au>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: parallel index building & searching multiple indexes
References: <3FB41459B6CCD61196290006298F1F1D48820B@eg-msgmbx-a02.int.westgroup.com>
In-Reply-To: <3FB41459B6CCD61196290006298F1F1D48820B@eg-msgmbx-a02.int.westgroup.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Tom,

Killeen, Tom wrote:

>I am attempting to create approx 10 different Lucene indexes.  I'm trying to
>create them at the same time by running multiple processes and each index is
>written to a new directory.  Once I create more than one process - the
>performance is very, very slow.  
>
As Otis said: disk access probably creates the trouble, since your 
disk's head has to be at 20 positions at once (10 indexes, 10 input 
directories). At that is assuming not too much fragmentation.

Creating them on different disks and moving them across is not a problem 
as long as you don't put any relative paths in the index yourself. 
Creating them sequentially instead of parallel might be another option 
to speed up things.

>Any sample code out there showing an efficient way to create multiple
>indexes?
>
>Also, Any sample code out there to search the multiple indexes?
>
We actually do both -- ignoring the fact that parallel might be slower 
on a single disk since we don't really know which disks are involved. 
Our program is a little GUI application running the indexing in the 
background (see http://tockit.sf.net/docco). You can find our code here:

  http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/toscanaj/docco/

or to be more specific:

  
http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/toscanaj/docco/source/org/tockit/docco/

The bits you ask for are in the "index", "indexer" and "query" packages. 
"documenthandler" might also be interesting since it contains code to 
read text, html, xml and OpenOffice documents. There are also plugins 
for POI, PDFbox and Multivalent here:

  http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/toscanaj/docco/plugins/

The code can be checked out via anonymous cvs as usual with Sourceforge:

  http://sourceforge.net/cvs/?group_id=37081

HTH,
   Peter

>
>thanks, 
>Tom
>  
>
[...unrelated quote...]



From burton@newsmonster.org  Mon Aug 11 23:24:07 2003
Return-Path: <burton@newsmonster.org>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84632 invoked from network); 11 Aug 2003 23:24:07 -0000
Received: from mta7.pltn13.pbi.net (64.164.98.8)
  by daedalus.apache.org with SMTP; 11 Aug 2003 23:24:07 -0000
Received: from newsmonster.org (adsl-67-114-20-29.dsl.pltn13.pacbell.net [67.114.20.29])
	by mta7.pltn13.pbi.net (8.12.9/8.12.3) with ESMTP id h7BNOFeC015019
	for <lucene-user@jakarta.apache.org>; Mon, 11 Aug 2003 16:24:15 -0700 (PDT)
Message-ID: <3F380FA3.2060107@newsmonster.org>
Date: Mon, 11 Aug 2003 14:50:27 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: parallel index building & searching multiple indexes
References: <3FB41459B6CCD61196290006298F1F1D48820B@eg-msgmbx-a02.int.westgroup.com>
In-Reply-To: <3FB41459B6CCD61196290006298F1F1D48820B@eg-msgmbx-a02.int.westgroup.com>
X-Enigmail-Version: 0.76.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Killeen, Tom wrote:

>I am attempting to create approx 10 different Lucene indexes.  I'm trying to
>create them at the same time by running multiple processes and each index is
>written to a new directory.  Once I create more than one process - the
>performance is very, very slow.  
>  
>
If they are IDE disks you should NOT try to build multiple indexes at 
once since your disks will bottleneck.

If you are using SCSI/Fibre disks you should be able to write out 
multiple indexes at once but you should benchmark it to make sure that 
it is in fact faster.

Kevin

-- 

Help Support NewsMonster Development!  Purchase NewsMonster PRO!

    http://www.newsmonster.org/download-pro.html

Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM - sfburtonator,  Web - http://www.peerfear.org/
GPG fingerprint: 4D20 40A0 C734 307E C7B4  DCAA 0303 3AC5 BD9D 7C4D
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster



From pbecker@dstc.edu.au  Mon Aug 11 23:35:50 2003
Return-Path: <pbecker@dstc.edu.au>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99026 invoked from network); 11 Aug 2003 23:35:50 -0000
Received: from natsmtp01.webmailer.de (HELO post.webmailer.de) (192.67.198.81)
  by daedalus.apache.org with SMTP; 11 Aug 2003 23:35:50 -0000
Received: from dstc.edu.au (m081-174.nv.iinet.net.au [203.217.81.174])
	by post.webmailer.de (8.12.8/8.8.7) with ESMTP id h7BNZqGX003721
	for <lucene-user@jakarta.apache.org>; Tue, 12 Aug 2003 01:35:55 +0200 (MEST)
Message-ID: <3F382881.9040003@dstc.edu.au>
Date: Tue, 12 Aug 2003 09:36:33 +1000
From: Peter Becker <pbecker@dstc.edu.au>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: parallel index building & searching multiple indexes
References: <3FB41459B6CCD61196290006298F1F1D48820B@eg-msgmbx-a02.int.westgroup.com> <3F380FA3.2060107@newsmonster.org>
In-Reply-To: <3F380FA3.2060107@newsmonster.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Kevin A. Burton wrote:

> Killeen, Tom wrote:
>
>> I am attempting to create approx 10 different Lucene indexes.  I'm 
>> trying to
>> create them at the same time by running multiple processes and each 
>> index is
>> written to a new directory.  Once I create more than one process - the
>> performance is very, very slow.   
>>
> If they are IDE disks you should NOT try to build multiple indexes at 
> once since your disks will bottleneck.
>
> If you are using SCSI/Fibre disks you should be able to write out 
> multiple indexes at once but you should benchmark it to make sure that 
> it is in fact faster. 

It is a downloadable application, so I don't know what the disks are ;-) 
I guess a common scenario is that someone indexes local and network 
directories. Then the parallel execution probably doesn't hurt, it might 
actually help. Of course it would be smarter to index server-side, but 
that is not yet implemented.

For the little application we wrote the indexing speed doesn't seem too 
important anyway. And it allows updating the index which means that 
benchmarking is harder -- although it probably also means that accessing 
multiple locations on the same drive hurts more, since the CPU is most 
likely used less in comparison to the disks if a document is up-to-date. 
But I can live with it, so I rather keep it for now. Maybe one day we 
change from the threaded model we have now to a queued model, but I am 
not sure if our users would be happy with it, since it means they either 
have to wait for the just requested update until everything else is 
finished, or we would have to add controls for the processing order, 
which bloats the UI.

  Peter


From burton@newsmonster.org  Tue Aug 12 01:04:45 2003
Return-Path: <burton@newsmonster.org>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98692 invoked from network); 12 Aug 2003 01:04:45 -0000
Received: from mta7.pltn13.pbi.net (64.164.98.8)
  by daedalus.apache.org with SMTP; 12 Aug 2003 01:04:45 -0000
Received: from newsmonster.org (adsl-67-114-20-29.dsl.pltn13.pacbell.net [67.114.20.29])
	by mta7.pltn13.pbi.net (8.12.9/8.12.3) with ESMTP id h7C14reC008053
	for <lucene-user@jakarta.apache.org>; Mon, 11 Aug 2003 18:04:53 -0700 (PDT)
Message-ID: <3F38272D.402@newsmonster.org>
Date: Mon, 11 Aug 2003 16:30:53 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: How do you pronounce 'Lucene'?
References: <4F012F3C-CC13-11D7-99E4-000393A564E6@ehatchersolutions.com> <01e101c36022$85af7950$1801a8c0@Kitsite1> <3F37DB66.3060105@lucene.com>
In-Reply-To: <3F37DB66.3060105@lucene.com>
X-Enigmail-Version: 0.76.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Doug Cutting wrote:

> Loo-seen.
>
> Danny Sofer wrote:
>
>> ...and where does the name come from?
>
>
> It's my wife's middle name, and her maternal grandmother's first name.
>
At one point in time (before it became an Apache project) Jetspeed was 
named Christina but then we broke up so I named it Jetspeed (the amount 
of time it took for our relationship to end)

:)

Kevin

-- 
Help Support NewsMonster Development!  Purchase NewsMonster PRO!

    http://www.newsmonster.org/download-pro.html

Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM - sfburtonator,  Web - http://www.peerfear.org/
GPG fingerprint: 4D20 40A0 C734 307E C7B4  DCAA 0303 3AC5 BD9D 7C4D
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster



From burton@newsmonster.org  Tue Aug 12 02:37:52 2003
Return-Path: <burton@newsmonster.org>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81184 invoked from network); 12 Aug 2003 02:37:52 -0000
Received: from mta7.pltn13.pbi.net (64.164.98.8)
  by daedalus.apache.org with SMTP; 12 Aug 2003 02:37:52 -0000
Received: from newsmonster.org (adsl-67-114-20-29.dsl.pltn13.pacbell.net [67.114.20.29])
	by mta7.pltn13.pbi.net (8.12.9/8.12.3) with ESMTP id h7C2c1eC021055
	for <lucene-user@jakarta.apache.org>; Mon, 11 Aug 2003 19:38:02 -0700 (PDT)
Message-ID: <3F383CF6.2060701@newsmonster.org>
Date: Mon, 11 Aug 2003 18:03:50 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Providing my own scoring.
X-Enigmail-Version: 0.76.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I don't see this documented anywhere and before I start ripping apart 
Lucene I wanted to find out if anyone has done this before.

I want to provide my own scoring of Lucene results based on my own score 
algorithm.  It isn't JUST based on word frequency but also a lot of 
other metrics (think PageRank).

The problem is that i think I am going to have to do this with my own 
subqueries or integrating directly into IndexSearcher while doing my own 
scoring.  Hits.doc() is expensive to say the least (I am assuming it 
fetches all fields?) and it doesn't seem that there is a straight 
forward way to add a visitor that will be called to develop my own 
custom score.

Anyone have any advice here?

Kevin

-- 
Help Support NewsMonster Development!  Purchase NewsMonster PRO!

    http://www.newsmonster.org/download-pro.html

Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM - sfburtonator,  Web - http://www.peerfear.org/
GPG fingerprint: 4D20 40A0 C734 307E C7B4  DCAA 0303 3AC5 BD9D 7C4D
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster



From Julien.Nioche@lingway.com  Tue Aug 12 07:59:02 2003
Return-Path: <Julien.Nioche@lingway.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83124 invoked from network); 12 Aug 2003 07:59:02 -0000
Received: from smtp6.clb.oleane.net (213.56.31.26)
  by daedalus.apache.org with SMTP; 12 Aug 2003 07:59:02 -0000
Received: from teck ([217.167.130.37]) (authenticated)
	by smtp6.clb.oleane.net with ESMTP id h7C7xDe4001386
	for <lucene-user@jakarta.apache.org>; Tue, 12 Aug 2003 09:59:13 +0200
Message-ID: <003c01c360a8$16eba4e0$6a0010ac@teck>
From: "Julien Nioche" <Julien.Nioche@lingway.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <3F3779AE.2030702@getopt.org> <001001c3601a$fddd97c0$1a0011ac@TFEW02> <002401c36021$d374a490$6a0010ac@teck> <3F37D894.5010405@getopt.org>
Subject: Re: Luke v 0.2 - Lucene Index Browser
Date: Tue, 12 Aug 2003 10:02:33 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello,

> > - Remove the empty field (see mailing list Lucene dev 4/16/2003 message
from
> > Otis)
>
> Well... I thought it was just reported as a bug. I don't see any
> responses to this, so I guess this is still a bug, and Luke is not the
> one to be fixed. :-)

Sure - I meant HIDE this field in the summary as a temporary solution
but it would be better to solve the problem in Lucene of course.


> > - Information about the # of segments
>
> Need to check this, but shouldn't be any problem. I'm not sure whether
> it's useful, though... ?

It 's an indication of whether or not an index has to be optimized.



----- Original Message -----
From: "Andrzej Bialecki" <ab@getopt.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, August 11, 2003 7:55 PM
Subject: Re: Luke v 0.2 - Lucene Index Browser


> Julien Nioche wrote:
>
> > Hello,
> >
> > Thanks to Andrzej for this new version! Luke is really useful.
> >
>
> You're welcome. It was fun to code.
>
> >
> >>open the original Dokuments with the platform dependant mimetype viewer
>
> Someone else already explained the problems with this... What is a
> document in Lucene? It's a set of fields and their String values (or
> their terms), so it's not possible to open the original document from
> which the values were extracted, because there is no original...
>
> >
> > ???
> >
> > My suggestions by order of importance would be :
> >
> > - History of the 5 last indexes used : under the File Menu item ?
>
> No problem. I mean, technically it's no problem, it's just a problem of
> getting to it on my so called "free time" ...
>
> > - Remove the empty field (see mailing list Lucene dev 4/16/2003 message
from
> > Otis)
>
> Well... I thought it was just reported as a bug. I don't see any
> responses to this, so I guess this is still a bug, and Luke is not the
> one to be fixed. :-)
>
> > - Possibility to merge different indexes
>
> No problem.
>
> > - Information about the # of segments
>
> Need to check this, but shouldn't be any problem. I'm not sure whether
> it's useful, though... ?
>
> > [- and almost impossible : recompose the unstored fields of a document]
>
> It's not impossible, just time-consuming - all information (except the
> parts removed by analyzer) is already there. This functionality has a
> high "cool-ness" factor, which makes it very tempting... :-)
>
> Thanks for these suggestions! I can't promise any timeline, but
> eventually I'd like to include this functionality in Luke. Patches are
> always welcome... :-)
>
> --
> Best regards,
> Andrzej Bialecki
>
> -------------------------------------------------
> Software Architect, System Integration Specialist
> CEN/ISSS EC Workshop, ECIMF project chair
> EU FP6 E-Commerce Expert/Evaluator
> -------------------------------------------------
> FreeBSD developer (http://www.freebsd.org)
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


From hui@triplehop.com  Tue Aug 12 15:09:06 2003
Return-Path: <hui@triplehop.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77614 invoked from network); 12 Aug 2003 15:09:06 -0000
Received: from unknown (HELO germany.prod.thop-ny.triplehop.com) (216.74.150.80)
  by daedalus.apache.org with SMTP; 12 Aug 2003 15:09:06 -0000
Received: from hui2000 ([208.246.29.6]) by germany.prod.thop-ny.triplehop.com with Microsoft SMTPSVC(5.0.2195.4905);
	 Tue, 12 Aug 2003 11:14:06 -0400
Message-ID: <004301c360e4$2225d2e0$9e0010ac@thopny.triplehop.com>
From: "hui" <hui@triplehop.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: better search results from 1.2 than 1.3
Date: Tue, 12 Aug 2003 11:12:23 -0400
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0040_01C360C2.9AF7AA30"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-OriginalArrivalTime: 12 Aug 2003 15:14:06.0656 (UTC) FILETIME=[5F710C00:01C360E4]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0040_01C360C2.9AF7AA30
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,
I just upgrade Lucene 1.2 to 1.3 on the same index built original from =
Lucene 1.2 and then latter from Lucene 1.3.
I also changed the default operator to AND.
It seems work fine but  actually the search results from Lucene 1.3 are =
not as good as the results from 1.2 (same index and same query) even the =
query
  a..  top documents from 1.3 are not as good as the ones from 1.2
  b.. the top document score from 1.3 are almost the same and 1.2 has =
better score system.
Any idea about this? Is there any way I can achieve the same search =
quality within 1.3?=20

=20

Regards,
Hui Ouyang

------=_NextPart_000_0040_01C360C2.9AF7AA30--


From ab@getopt.org  Tue Aug 12 22:01:12 2003
Return-Path: <ab@getopt.org>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2657 invoked from network); 12 Aug 2003 22:01:12 -0000
Received: from smtp.acn.pl (HELO mail3.astercity.net) (212.76.33.52)
  by daedalus.apache.org with SMTP; 12 Aug 2003 22:01:12 -0000
Received: from getopt.org (75-mo3-2.acn.waw.pl [62.121.105.75])
	by mail3.astercity.net (sendmail) with ESMTP id 36B962495AC
	for <lucene-user@jakarta.apache.org>; Wed, 13 Aug 2003 00:01:15 +0200 (CEST)
Message-ID: <3F396412.3050703@getopt.org>
Date: Wed, 13 Aug 2003 00:02:58 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: TermVector again (Re: Luke v 0.2 - Lucene Index Browser)
References: <3F3779AE.2030702@getopt.org> <001001c3601a$fddd97c0$1a0011ac@TFEW02> <002401c36021$d374a490$6a0010ac@teck> <3F37D894.5010405@getopt.org>
In-Reply-To: <3F37D894.5010405@getopt.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Andrzej Bialecki wrote:
> Julien Nioche wrote:
>  

>> [- and almost impossible : recompose the unstored fields of a document]
> 
> 
> It's not impossible, just time-consuming - all information (except the 
> parts removed by analyzer) is already there. This functionality has a 
> high "cool-ness" factor, which makes it very tempting... :-)

I had a look at the current Lucene API, and I realized that this is a 
very costly operation now. Now, if we had a TermVector support that was 
mentioned several times on this list, things would be very different...

Does anyone know what is the status / plans regarding this?

-- 
Best regards,
Andrzej Bialecki

-------------------------------------------------
Software Architect, System Integration Specialist
CEN/ISSS EC Workshop, ECIMF project chair
EU FP6 E-Commerce Expert/Evaluator
-------------------------------------------------
FreeBSD developer (http://www.freebsd.org)




From burton@newsmonster.org  Tue Aug 12 22:38:36 2003
Return-Path: <burton@newsmonster.org>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77375 invoked from network); 12 Aug 2003 22:38:36 -0000
Received: from mta4.rcsntx.swbell.net (151.164.30.28)
  by daedalus.apache.org with SMTP; 12 Aug 2003 22:38:36 -0000
Received: from newsmonster.org (adsl-67-114-20-29.dsl.pltn13.pacbell.net [67.114.20.29])
	by mta4.rcsntx.swbell.net (8.12.9/8.12.3) with ESMTP id h7CMcgoM003500
	for <lucene-user@jakarta.apache.org>; Tue, 12 Aug 2003 17:38:42 -0500 (CDT)
Message-ID: <3F3955D3.10202@newsmonster.org>
Date: Tue, 12 Aug 2003 14:02:11 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Hiring lucene developer.
X-Enigmail-Version: 0.76.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/alternative;
 boundary="------------050403020105060007030905"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--------------050403020105060007030905
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Hey.

I am hoping no one considers this spam since this isn't coming from a 
recruiter but a developer.   :)

My company is looking to hire someone with advanced Lucene (and 
full-text search experience) for an Architect position.  I can provide 
more details through private email.

If you are interested send me email directly ....  (or forward this if 
you know of anyone).

Thanks~!

*Responsibilities:*

    * Help design and deploy architecture for while existing software is
      under development for release.
    * Work on performance optimization and maintenance of our hardware
      cluster.
    * Optimize datastore for maximum performance
    * Develop backend with Engineering.

*Required Skills:*

    * Linux (at least 3 years experience)
    * MySQL or Lucene (or another high-performance database system)
    * XFS and high performance filesystems (or optimization knowledge)
    * Full-text search technologies
    * Cluster architecture and hardware configuration and design (SCSI,
      Fibre Channel, high performance disk subsystems, etc)
    * Database design and optimization (at least 3 years experience)
    * Java (at least 2-3 years experience)
    * Tomcat, Servlet (JSP or similar templating system) experience
    * XML Technologies including RSS/Atom, XPath, XSLT, DOM, SAX
    * Experience working in a mission-criticial environment

*Desired Skills:*

    * SOAP/REST design experience
    * Familiarity with P2P system design
    * Cryptography including public key and message digest exposure.
    * Full understanding of HTTP
    * Demonstrated experience implementing innovative technologies
    * Experience with advanced search techniques (bayesian filtering,
      pagerank, trust metrics, etc)
    * Experience working with the Open Source community.



--------------050403020105060007030905--


From victorh@nuix.com.au  Wed Aug 13 08:23:29 2003
Return-Path: <victorh@nuix.com.au>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79618 invoked from network); 13 Aug 2003 08:23:29 -0000
Received: from 251.017.dsl.syd.iprimus.net.au (HELO file1.syd.nuix.com.au) (210.50.55.251)
  by daedalus.apache.org with SMTP; 13 Aug 2003 08:23:29 -0000
Received: from host86.syd.nuix.com.au (host86.syd.nuix.com.au [192.168.222.86])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 6F2DCB7128
	for <lucene-user@jakarta.apache.org>; Wed, 13 Aug 2003 18:23:34 +1000 (EST)
Content-Type: text/plain;
  charset="us-ascii"
From: Victor Hadianto <victorh@nuix.com.au>
Organization: NUIX Pty. Ltd.
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Max Field size.
Date: Wed, 13 Aug 2003 18:07:14 +1000
User-Agent: KMail/1.4.3
Massage-Id: <13921192.1322@nuix.com.au>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200308131807.14664@bah>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi All,

Is there a maximum field size in Lucene? I found that by having a really big 
String as a field in a document, I couldn't search the tokens that exist in 
the end of the document.

I'm stumped, I've never read anywhere in the documentation that there is such 
limit in Field. Am I the only one having the problem here?



Regards,

Victor Hadianto


From lists-kelvin@relevanz.com  Wed Aug 13 08:26:48 2003
Return-Path: <lists-kelvin@relevanz.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85605 invoked from network); 13 Aug 2003 08:26:48 -0000
Received: from visor.qala.com.sg (210.193.2.43)
  by daedalus.apache.org with SMTP; 13 Aug 2003 08:26:48 -0000
Received: from kelvin (adsl-210-193-14-85.qala.com.sg [210.193.14.85])
	by visor.qala.com.sg (8.11.3/8.11.3) with SMTP id h7D8Qvt04390
	for <lucene-user@jakarta.apache.org>; Wed, 13 Aug 2003 16:26:58 +0800 (SGT)
X-Qala-Anti-Virus: This mail is checked for Viruses by Qala Antivirus Service. Server No. 2
From: Kelvin Tan <lists-kelvin@relevanz.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: PocoMail 2.64 (1120) - Licensed Version
Date: Tue, 12 Aug 2003 16:27:21 +0800
In-Reply-To: <200308131807.14664@bah>
Message-ID: <2003812162721.346644@kelvin>
Subject: Re: Max Field size.
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Check out 

http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index=
/IndexWriter.ht
ml#maxFieldLength


Otis, a possible FAQ entry?

On Wed, 13 Aug 2003 18:07:14 +1000, Victor Hadianto said:
>Hi All,
>
>Is there a maximum field size in Lucene? I found that by having=
 a
>really big
>String as a field in a document, I couldn't search the tokens=
 that
>exist in
>the end of the document.
>
>I'm stumped, I've never read anywhere in the documentation that
>there is such
>limit in Field. Am I the only one having the problem here?
>
>
>
>Regards,
>
>Victor Hadianto
>
>
>----------------------------------------------------------------=
-----
>To unsubscribe, e-mail:=
 lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail:=
 lucene-user-help@jakarta.apache.org





From victorh@nuix.com.au  Wed Aug 13 08:29:45 2003
Return-Path: <victorh@nuix.com.au>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89432 invoked from network); 13 Aug 2003 08:29:45 -0000
Received: from 251.017.dsl.syd.iprimus.net.au (HELO file1.syd.nuix.com.au) (210.50.55.251)
  by daedalus.apache.org with SMTP; 13 Aug 2003 08:29:45 -0000
Received: from host86.syd.nuix.com.au (host86.syd.nuix.com.au [192.168.222.86])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 2F8F4B7128
	for <lucene-user@jakarta.apache.org>; Wed, 13 Aug 2003 18:29:52 +1000 (EST)
Content-Type: text/plain;
  charset="iso-8859-1"
From: Victor Hadianto <victorh@nuix.com.au>
Organization: NUIX Pty. Ltd.
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Max Field size.
Date: Wed, 13 Aug 2003 18:13:32 +1000
User-Agent: KMail/1.4.3
References: <2003812162721.346644@kelvin>
In-Reply-To: <2003812162721.346644@kelvin>
Massage-Id: <13921192.1322@nuix.com.au>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200308131813.32348@bah>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/IndexWrit
>er.ht ml#maxFieldLength

Doh'

> Otis, a possible FAQ entry?
+1

Thanks Kelvin :)

Victor




> On Wed, 13 Aug 2003 18:07:14 +1000, Victor Hadianto said:
> >Hi All,
> >
> >Is there a maximum field size in Lucene? I found that by having a
> >really big
> >String as a field in a document, I couldn't search the tokens that
> >exist in
> >the end of the document.
> >
> >I'm stumped, I've never read anywhere in the documentation that
> >there is such
> >limit in Field. Am I the only one having the problem here?
> >
> >
> >
> >Regards,
> >
> >Victor Hadianto
> >
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org



From victorh@nuix.com.au  Thu Aug 14 04:53:17 2003
Return-Path: <victorh@nuix.com.au>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3153 invoked from network); 14 Aug 2003 04:53:17 -0000
Received: from 251.017.dsl.syd.iprimus.net.au (HELO file1.syd.nuix.com.au) (210.50.55.251)
  by daedalus.apache.org with SMTP; 14 Aug 2003 04:53:17 -0000
Received: from host86.syd.nuix.com.au (host86.syd.nuix.com.au [192.168.222.86])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id E72C7B6FEC
	for <lucene-user@jakarta.apache.org>; Thu, 14 Aug 2003 14:53:23 +1000 (EST)
Content-Type: text/plain;
  charset="us-ascii"
From: Victor Hadianto <victorh@nuix.com.au>
Organization: NUIX Pty. Ltd.
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Using Reader to index Stored value.
Date: Thu, 14 Aug 2003 14:36:51 +1000
User-Agent: KMail/1.4.3
Massage-Id: <13921192.1322@nuix.com.au>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200308141436.51708@bah>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Hi All,

Why can't we use Reader to index stored value in Lucene. I found it strange. 
And also in the code I saw that the String value is converted to a 
StringReader anyway.

Any reason why?


Regards,

-- 
Victor Hadianto

NUIX Pty Ltd
Level 8, 143 York Street, Sydney 2000
Phone: (02) 9283 9010
Fax:   (02) 9283 9020

This message is intended only for the named recipient. If you are not the
intended recipient you are notified that disclosing, copying, distributing
or taking any action in reliance on the contents of this message or
attachment is strictly prohibited.

From dquaroni@OPENRATINGS.com  Thu Aug 14 15:58:33 2003
Return-Path: <dquaroni@OPENRATINGS.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99729 invoked from network); 14 Aug 2003 15:58:33 -0000
Received: from unknown (HELO exchange.hq.openratings.com) (141.149.165.226)
  by daedalus.apache.org with SMTP; 14 Aug 2003 15:58:33 -0000
Received: by exchange.hq.openratings.com with Internet Mail Service (5.5.2655.55)
	id <QMRZPGKS>; Thu, 14 Aug 2003 11:58:21 -0400
Message-ID: <4A46E75D51A2D5119F2A00B0D03D7F09010B8BB1@exchange.hq.openratings.com>
From: Dan Quaroni <dquaroni@OPENRATINGS.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: Indexing documents with multiple values for 1 field
Date: Thu, 14 Aug 2003 11:58:14 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I saw a post that sort of touched on my question, I think, but it didn't
seem quite the same...

What's the best way to index a document with multiple values for the same
field?  I'm trying to optimize search time and accuracy.

We have a database of companies that we want to be able to search on, and
the fields will include company name, address, and telephone number.  Some
companies have more than one name, though.  For example, BMG is also known
as Bertelsmann Music Group.  Our users need to be able to search on either
of these names and find a match.  In our raw data, these different names are
in separate fields for alternate names...  But which is a better way to
implement this in Lucene:

A) Duplicate documents by using all the same data except for the name (i.e.
1 document for BMG at 123 fake street and 1 document for Bertelsmann Music
Group at 123 fake street)

B) Create 5 fields for alternate names (Which 80% of companies don't have at
all so they'd be empty) and then when doing a search query, search for the
same thing across all 6 fields?  (i.e. name:BMG OR altname1:BGM OR
altname2:BMG... etc)

C) Put all of the altername names together into the name field (i.e. BMG
Bertelsmann Music Group).  Is there anything to delimit the different names
with so that they would be treated as separate entities?

From victorh@nuix.com.au  Thu Aug 14 23:08:27 2003
Return-Path: <victorh@nuix.com.au>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49356 invoked from network); 14 Aug 2003 23:08:27 -0000
Received: from 251.017.dsl.syd.iprimus.net.au (HELO file1.syd.nuix.com.au) (210.50.55.251)
  by daedalus.apache.org with SMTP; 14 Aug 2003 23:08:27 -0000
Received: from host86.syd.nuix.com.au (host86.syd.nuix.com.au [192.168.222.86])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 108CAB70D0
	for <lucene-user@jakarta.apache.org>; Fri, 15 Aug 2003 09:08:30 +1000 (EST)
Content-Type: text/plain;
  charset="iso-8859-1"
From: Victor Hadianto <victorh@nuix.com.au>
Organization: NUIX Pty. Ltd.
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Indexing documents with multiple values for 1 field
Date: Fri, 15 Aug 2003 08:51:46 +1000
User-Agent: KMail/1.4.3
References: <4A46E75D51A2D5119F2A00B0D03D7F09010B8BB1@exchange.hq.openratings.com>
In-Reply-To: <4A46E75D51A2D5119F2A00B0D03D7F09010B8BB1@exchange.hq.openratings.com>
Massage-Id: <13921192.1322@nuix.com.au>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200308150851.46731@bah>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> C) Put all of the altername names together into the name field (i.e. BMG
> Bertelsmann Music Group).  Is there anything to delimit the different names
> with so that they would be treated as separate entities?

This is what I would do. If you are not going to have large value in this 
field, and you don't need it for later display (ie for UnStored field) then 
put all the variant name in the "Name" field. This will be the easiest to do 
and you don't have to "or"s a lot of field (or use multi field query) later.

Also you can do: 
doc.add(Field.UnStored("Name", "BMG"));
doc.add(Field.UnStored("Name", "Berstelsmann Music Group"));

and that will be the same with:
doc.add(Field.UnStored("Name", "BMG Berstelsmann Music Group"));


HTH,

Victor Hadianto


From ruhaila@pd.jaring.my  Sat Aug 16 01:33:51 2003
Return-Path: <ruhaila@pd.jaring.my>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79034 invoked from network); 16 Aug 2003 01:33:51 -0000
Received: from smtp8.jaring.my (61.6.32.58)
  by daedalus.apache.org with SMTP; 16 Aug 2003 01:33:51 -0000
Received: from gateway (j299.crc34.jaring.my [61.6.159.73])
	by smtp8.jaring.my (8.12.9/8.12.9) with SMTP id h7G1Xrin072308
	for <lucene-user@jakarta.apache.org>; Sat, 16 Aug 2003 09:33:59 +0800 (MYT)
	(envelope-from ruhaila@pd.jaring.my)
Message-ID: <002701c36397$9db80440$499f063d@gateway>
From: "Ruhaila Maskat" <ruhaila@pd.jaring.my>
To: <lucene-user@jakarta.apache.org>
Subject: Fw: Malformed \uxxxx encoding
Date: Sat, 16 Aug 2003 09:42:12 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2615.200
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2615.200
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

 Hi,

 I just started to build lucene using ant and I got this error. I'm using
win98. Can anyone help?.




From ruhaila@pd.jaring.my  Sat Aug 16 04:09:55 2003
Return-Path: <ruhaila@pd.jaring.my>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9541 invoked from network); 16 Aug 2003 04:09:55 -0000
Received: from smtp9.jaring.my (61.6.32.59)
  by daedalus.apache.org with SMTP; 16 Aug 2003 04:09:55 -0000
Received: from gateway (j222.crc27.jaring.my [161.142.82.236])
	by smtp9.jaring.my (8.12.9/8.12.9) with SMTP id h7G49sDd000983
	for <lucene-user@jakarta.apache.org>; Sat, 16 Aug 2003 12:10:02 +0800 (MYT)
	(envelope-from ruhaila@pd.jaring.my)
Message-ID: <000a01c363ad$679c62a0$ec528ea1@gateway>
From: "Ruhaila Maskat" <ruhaila@pd.jaring.my>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <002701c36397$9db80440$499f063d@gateway>
Subject: Re: Malformed \uxxxx encoding
Date: Sat, 16 Aug 2003 12:18:09 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2615.200
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2615.200
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I've finally found the solution. Instead of using build.properties, I
changed the javacc.home in default.properties file. Not sure why when using
build.properties it didn't work.

Thanks.

----- Original Message -----
From: Ruhaila Maskat <ruhaila@pd.jaring.my>
To: <lucene-user@jakarta.apache.org>
Sent: Saturday, August 16, 2003 9:42 AM
Subject: Fw: Malformed \uxxxx encoding


> Hi,
>
>  I just started to build lucene using ant and I got this error. I'm using
> win98. Can anyone help?.
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>



From buics123@yahoo.com  Sat Aug 16 05:41:19 2003
Return-Path: <buics123@yahoo.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67528 invoked from network); 16 Aug 2003 05:41:19 -0000
Received: from web41904.mail.yahoo.com (66.218.93.155)
  by daedalus.apache.org with SMTP; 16 Aug 2003 05:41:19 -0000
Message-ID: <20030816054130.81624.qmail@web41904.mail.yahoo.com>
Received: from [64.15.239.34] by web41904.mail.yahoo.com via HTTP; Fri, 15 Aug 2003 22:41:30 PDT
Date: Fri, 15 Aug 2003 22:41:30 -0700 (PDT)
From: Rociel Buico <buics123@yahoo.com>
Subject: Hits scoring question
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <000a01c363ad$679c62a0$ec528ea1@gateway>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1791877757-1061012490=:80505"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--0-1791877757-1061012490=:80505
Content-Type: text/plain; charset=us-ascii

hello,
 
I would like to ask of what algorithm or statistics that Hits.score() method is using?
Is it bayesian?
 
tia,
buics


---------------------------------
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
--0-1791877757-1061012490=:80505--

From ahki@u.washington.edu  Sat Aug 16 05:52:58 2003
Return-Path: <ahki@u.washington.edu>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71273 invoked from network); 16 Aug 2003 05:52:58 -0000
Received: from mxout1.cac.washington.edu (140.142.32.134)
  by daedalus.apache.org with SMTP; 16 Aug 2003 05:52:58 -0000
Received: from hymn13.u.washington.edu (hymn13.u.washington.edu [140.142.16.150])
	by mxout1.cac.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h7G5r8oa009314
	for <lucene-user@jakarta.apache.org>; Fri, 15 Aug 2003 22:53:09 -0700
Received: from localhost (localhost [127.0.0.1])
	by hymn13.u.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h7G5r8fF032594
	for <lucene-user@jakarta.apache.org>; Fri, 15 Aug 2003 22:53:08 -0700
Date: Fri, 15 Aug 2003 22:53:08 -0700 (PDT)
From: "Chong K. Tsang" <ahki@u.washington.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Providing my own scoring.
In-Reply-To: <3F383CF6.2060701@newsmonster.org>
Message-ID: <Pine.LNX.4.43.0308152253080.30584@hymn13.u.washington.edu>
Received: from [140.142.17.230] by hymn13.u.washington.edu via HTTP; Fri, 15 Aug 2003 22:53:08 PDT
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; CHARSET=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I have changed the scoring method of my own lucene-based system. I made use of the Similarity class to create my own Similarity class. I also change some classes like TermQuery class in order to implement my own scoring.

I hope my experience can help you, Kevin.

Chong-Ki "Ki"

On Mon, 11 Aug 2003, Kevin A. Burton wrote:

> I don't see this documented anywhere and before I start ripping apart 
> Lucene I wanted to find out if anyone has done this before.
> 
> I want to provide my own scoring of Lucene results based on my own score 
> algorithm.  It isn't JUST based on word frequency but also a lot of 
> other metrics (think PageRank).
> 
> The problem is that i think I am going to have to do this with my own 
> subqueries or integrating directly into IndexSearcher while doing my own 
> scoring.  Hits.doc() is expensive to say the least (I am assuming it 
> fetches all fields?) and it doesn't seem that there is a straight 
> forward way to add a visitor that will be called to develop my own 
> custom score.
> 
> Anyone have any advice here?
> 
> Kevin
> 
> -- 
> Help Support NewsMonster Development!  Purchase NewsMonster PRO!
> 
>     http://www.newsmonster.org/download-pro.html
> 
> Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
>        AIM - sfburtonator,  Web - http://www.peerfear.org/
> GPG fingerprint: 4D20 40A0 C734 307E C7B4  DCAA 0303 3AC5 BD9D 7C4D
>   IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 



From jaggi@eself.com  Sun Aug 17 14:34:09 2003
Return-Path: <jaggi@eself.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66936 invoked from network); 17 Aug 2003 14:34:09 -0000
Received: from eself.com (161.58.236.229)
  by daedalus.apache.org with SMTP; 17 Aug 2003 14:34:09 -0000
Received: from eself.com (BOOM753@[203.195.209.116]) by eself.com (8.12.9) id h7HEY3uH081656; Sun, 17 Aug 2003 08:34:08 -0600 (MDT)
Message-ID: <3F3F934F.9000105@eself.com>
Date: Sun, 17 Aug 2003 20:08:07 +0530
From: Jagadesh <jaggi@eself.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.0.2) Gecko/20030208 Netscape/7.02
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: How to use LARM
References: <sedf6f0a.014@mail2.gmhwh.org> <3EDFE288.4020407@seznam.cz>
Content-Type: multipart/alternative;
 boundary="------------040607030505040509090405"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--------------040607030505040509090405
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Hello,
     I have a requirement for a web crawler which should
recursively search a given URL for a set of search keywords.
e.g.. I would like to search http://cnn.com for any news on
Formula-One that happened today.

I would like to know the following,
1> Can i use LARM with Lucene for this.
2> Where can i get a copy of LARM jar file.

Any help is appreciated,

Thanks,
Jagadesh.

--------------040607030505040509090405--



From lists@ehatchersolutions.com  Mon Aug 18 06:04:54 2003
Return-Path: <lists@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55785 invoked from network); 18 Aug 2003 06:04:54 -0000
Received: from mail1.atl.registeredsite.com (64.224.219.75)
  by daedalus.apache.org with SMTP; 18 Aug 2003 06:04:54 -0000
Received: from netmail.mail.registeredsite.com ([216.122.69.16])
	by mail1.atl.registeredsite.com (8.12.9/8.12.9) with ESMTP id h7I655E6002527
	(version=TLSv1/SSLv3 cipher=EDH-RSA-DES-CBC3-SHA bits=168 verify=NOT)
	for <lucene-user@jakarta.apache.org>; Mon, 18 Aug 2003 02:05:05 -0400
Received: (qmail 34055 invoked by uid 89); 18 Aug 2003 06:07:19 -0000
Received: from unknown (HELO ehatchersolutions.com) (68.170.78.210)
  by mail.westcoastclosets.com with SMTP; 18 Aug 2003 06:07:19 -0000
Date: Mon, 18 Aug 2003 02:04:56 -0400
Subject: Re: Hits scoring question
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <lists@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20030816054130.81624.qmail@web41904.mail.yahoo.com>
Message-Id: <E433A03B-D141-11D7-83AD-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Its open-source... have a look yourself!  :))


On Saturday, August 16, 2003, at 01:41  AM, Rociel Buico wrote:

> hello,
>
> I would like to ask of what algorithm or statistics that Hits.score() 
> method is using?
> Is it bayesian?
>
> tia,
> buics
>
>
> ---------------------------------
> Do you Yahoo!?
> The New Yahoo! Search - Faster. Easier. Bingo.


From buics123@yahoo.com  Mon Aug 18 11:25:01 2003
Return-Path: <buics123@yahoo.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17950 invoked from network); 18 Aug 2003 11:25:01 -0000
Received: from web41904.mail.yahoo.com (66.218.93.155)
  by daedalus.apache.org with SMTP; 18 Aug 2003 11:25:01 -0000
Message-ID: <20030818112501.61858.qmail@web41904.mail.yahoo.com>
Received: from [64.15.239.34] by web41904.mail.yahoo.com via HTTP; Mon, 18 Aug 2003 04:25:01 PDT
Date: Mon, 18 Aug 2003 04:25:01 -0700 (PDT)
From: Rociel Buico <buics123@yahoo.com>
Subject: Re: Hits scoring question
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <E433A03B-D141-11D7-83AD-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-343556666-1061205901=:60126"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--0-343556666-1061205901=:60126
Content-Type: text/plain; charset=us-ascii

thank you for your time erik :)


Erik Hatcher <lists@ehatchersolutions.com> wrote:
Its open-source... have a look yourself! :))


On Saturday, August 16, 2003, at 01:41 AM, Rociel Buico wrote:

> hello,
>
> I would like to ask of what algorithm or statistics that Hits.score() 
> method is using?
> Is it bayesian?
>
> tia,
> buics
>
>
> ---------------------------------
> Do you Yahoo!?
> The New Yahoo! Search - Faster. Easier. Bingo.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
--0-343556666-1061205901=:60126--

From V.Uhl@deutschepost.de  Mon Aug 18 15:12:19 2003
Return-Path: <V.Uhl@deutschepost.de>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35220 invoked from network); 18 Aug 2003 15:12:19 -0000
Received: from ppd00021.deutschepost.de (149.239.160.240)
  by daedalus.apache.org with SMTP; 18 Aug 2003 15:12:19 -0000
Received: from d0006006.deutschepost.de (d0006006.deutschepost.de [10.160.6.6])
	by ppd00021.deutschepost.de (8.12.2/8.12.1) with ESMTP id h7IFCKRi022299
	for <lucene-user@jakarta.apache.org>; Mon, 18 Aug 2003 17:12:20 +0200 (METDST)
Received: from ddaah014.DeutschePost.de (unverified) by d0006006.deutschepost.de
 (Content Technologies SMTPRS 4.2.10) with ESMTP id <T642273b7150aa006061d1@d0006006.deutschepost.de> for <lucene-user@jakarta.apache.org>;
 Mon, 18 Aug 2003 17:12:18 +0200
Received: by DDAAH014.DeutschePost.de with Internet Mail Service (5.5.2653.19)
	id <QYQMWD44>; Mon, 18 Aug 2003 17:12:19 +0200
Message-ID: <C1048E21161ED11185C74000003A3C050146CF5A@SSPAH005.DeutschePost.de>
From: "Uhl V., DP ITS, SCB, FD" <V.Uhl@deutschepost.de>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: Make Lucene Index distributable
Date: Mon, 18 Aug 2003 17:05:07 +0200
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hallo All,
We have developed our WebApp with Lucene under Tomcat 4.X and stored =
index
in file system. Now this Web Application have to move to Bea Weblogic
Cluster. My Problem is to create a distributable Index of Lucene. Have =
one
ideas or experience how to do this?(How to store Index?)

Thanks for every ideas.

Mit freundlichen Gr=FC=DFen
Vitali Uhl

Client Server Systeme
Deutsche Post ITSolutions GmbH=20
tel. +49 (0) 661 / 921 -245=20
fax: +49 (0) 661 / 921 -111
internet: http://www.dp-itsolutions.de/ <http://www.dp-itsolutions.de/> =
=20
Anschrift:
DP ITSolutions GmbH=20
D - 36035 Fulda


From alienhard@unitedmedia.com  Mon Aug 18 15:29:08 2003
Return-Path: <alienhard@unitedmedia.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61352 invoked from network); 18 Aug 2003 15:29:08 -0000
Received: from unknown (HELO nynt04.umny.scripps.com) (67.96.123.100)
  by daedalus.apache.org with SMTP; 18 Aug 2003 15:29:08 -0000
Received: by nynt04.umny.scripps.com with Internet Mail Service (5.5.2653.19)
	id <RB1HRAPY>; Mon, 18 Aug 2003 11:29:33 -0400
Message-ID: <102922F8B9C8D411944400508B6F52FC07835423@nynt04.umny.scripps.com>
From: "Lienhard, Andrew" <alienhard@unitedmedia.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Make Lucene Index distributable
Date: Mon, 18 Aug 2003 11:29:33 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I can think of three options:

1) Single index dir on a shared drive (NFS, etc.) which is mounted on =
each
app server.=20

2) Create copies of the index dir for each machine. Requires regular
updates, etc (not good if search data changes often).

3) Create a web service for search. Each app server makes an HTTP call =
to a
standalone Lucene app which returns some sort of XML-formatted search
result.=20

I've taken approaches 1 and 3 (w/ Verity, but it would likely be the =
same w/
Lucene). 2 is really only good if you have relatively static data. For =
our
Lucene rollout here, we're going w/ option 1.

Andrew Lienhard
Web Technology Manager
United Media
200 Madison Avenue
New York, NY 10016
http://www.dilbert.com
http://www.snoopy.com
http://members.comics.com





-----Original Message-----
From: Uhl V., DP ITS, SCB, FD [mailto:V.Uhl@deutschepost.de]=20
Sent: Monday, August 18, 2003 11:05 AM
To: 'lucene-user@jakarta.apache.org'
Subject: Make Lucene Index distributable

Hallo All,
We have developed our WebApp with Lucene under Tomcat 4.X and stored =
index
in file system. Now this Web Application have to move to Bea Weblogic
Cluster. My Problem is to create a distributable Index of Lucene. Have =
one
ideas or experience how to do this?(How to store Index?)

Thanks for every ideas.

Mit freundlichen Gr=FC=DFen
Vitali Uhl

Client Server Systeme
Deutsche Post ITSolutions GmbH=20
tel. +49 (0) 661 / 921 -245=20
fax: +49 (0) 661 / 921 -111
internet: http://www.dp-itsolutions.de/ <http://www.dp-itsolutions.de/> =
=20
Anschrift:
DP ITSolutions GmbH=20
D - 36035 Fulda


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

From nestefan@de.ina.com  Mon Aug 18 15:50:03 2003
Return-Path: <nestefan@de.ina.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22043 invoked from network); 18 Aug 2003 15:50:03 -0000
Received: from mail01.ina.de (HELO ina.de) (159.51.231.15)
  by daedalus.apache.org with SMTP; 18 Aug 2003 15:50:03 -0000
Received: from de010021 (lx00034.ina.de [159.51.231.12])
	by ina.de (8.9.3+Sun/8.9.1) with SMTP id RAA23252
	for <lucene-user@jakarta.apache.org>; Mon, 18 Aug 2003 17:50:04 +0200 (MET DST)
Received: From de010187.de.ina.com ([159.51.6.153]) by de010021 (WebShield SMTP v4.5 MR1a);
	id 1061221802474; Mon, 18 Aug 2003 17:50:02 +0200
Received: by de010187.de.ina.com with Internet Mail Service (5.5.2653.19)
	id <R1G32LY8>; Mon, 18 Aug 2003 17:50:02 +0200
Message-ID: <5F5DFBBBADDA3F48AEF39F761BCDDCCA22017E@de010206.de.ina.com>
From: "Nestel, Frank  IZ/HZA-IC4" <nestefan@de.ina.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Cc: Frank Nestel <info@doris-frank.de>
Subject: IndexReader.termDocs
Date: Mon, 18 Aug 2003 17:50:01 +0200
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

after working with lucene again after nearly two years of
abstinence, yeah ;-), I'm running into trouble :-/

Hope I didn't miss it in the FAQs: IndexReader.termDocs(Term)
doesn't return a positioned TermDocs with lucene 1.3 RC1
(actually it seems to return the same as a termDocs() call).
Maybe I'm wrong, maybe the RC1 ?

Cheers,
Frank


From V.Uhl@deutschepost.de  Mon Aug 18 16:42:16 2003
Return-Path: <V.Uhl@deutschepost.de>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4303 invoked from network); 18 Aug 2003 16:42:16 -0000
Received: from ppd00021.deutschepost.de (149.239.160.240)
  by daedalus.apache.org with SMTP; 18 Aug 2003 16:42:16 -0000
Received: from ddaap078.deutschepost.de (ddaap078.deutschepost.de [160.58.1.78])
	by ppd00021.deutschepost.de (8.12.2/8.12.1) with ESMTP id h7IGgJRi010506
	for <lucene-user@jakarta.apache.org>; Mon, 18 Aug 2003 18:42:19 +0200 (METDST)
Received: from ddaah014.DeutschePost.de (unverified) by ddaap078.deutschepost.de
 (Content Technologies SMTPRS 4.2.10) with ESMTP id <T6422be5159a03a014e19f@ddaap078.deutschepost.de> for <lucene-user@jakarta.apache.org>;
 Mon, 18 Aug 2003 18:33:47 +0200
Received: by DDAAH014.DeutschePost.de with Internet Mail Service (5.5.2653.19)
	id <QYQMW17D>; Mon, 18 Aug 2003 18:42:17 +0200
Message-ID: <C1048E21161ED11185C74000003A3C050146CF5B@SSPAH005.DeutschePost.de>
From: "Uhl V., DP ITS, SCB, FD" <V.Uhl@deutschepost.de>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: AW: Make Lucene Index distributable
Date: Mon, 18 Aug 2003 18:42:08 +0200
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks Andrew,
I will check 1) approach and ask Administration of the Bea platform for =
a
shared drive.
3) not really solve this Problem just move the Web Service Application,
because the same platform. Firstly I wanted to store Index in the
Oracle-Database use DBDirectory, but we don't have enough time for
implementation and test.=20

-----Urspr=FCngliche Nachricht-----
Von: Lienhard, Andrew [mailto:alienhard@unitedmedia.com]=20
Gesendet: Montag, 18. August 2003 17:30
An: 'Lucene Users List'
Betreff: RE: Make Lucene Index distributable


I can think of three options:

1) Single index dir on a shared drive (NFS, etc.) which is mounted on =
each
app server.=20

2) Create copies of the index dir for each machine. Requires regular
updates, etc (not good if search data changes often).

3) Create a web service for search. Each app server makes an HTTP call =
to a
standalone Lucene app which returns some sort of XML-formatted search
result.=20

I've taken approaches 1 and 3 (w/ Verity, but it would likely be the =
same w/
Lucene). 2 is really only good if you have relatively static data. For =
our
Lucene rollout here, we're going w/ option 1.

Andrew Lienhard
Web Technology Manager
United Media
200 Madison Avenue
New York, NY 10016
http://www.dilbert.com
http://www.snoopy.com
http://members.comics.com





-----Original Message-----
From: Uhl V., DP ITS, SCB, FD [mailto:V.Uhl@deutschepost.de]=20
Sent: Monday, August 18, 2003 11:05 AM
To: 'lucene-user@jakarta.apache.org'
Subject: Make Lucene Index distributable

Hallo All,
We have developed our WebApp with Lucene under Tomcat 4.X and stored =
index
in file system. Now this Web Application have to move to Bea Weblogic
Cluster. My Problem is to create a distributable Index of Lucene. Have =
one
ideas or experience how to do this?(How to store Index?)

Thanks for every ideas.

Mit freundlichen Gr=FC=DFen
Vitali Uhl

Client Server Systeme
Deutsche Post ITSolutions GmbH=20
tel. +49 (0) 661 / 921 -245=20
fax: +49 (0) 661 / 921 -111
internet: http://www.dp-itsolutions.de/ <http://www.dp-itsolutions.de/> =
=20
Anschrift:
DP ITSolutions GmbH=20
D - 36035 Fulda


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

From terry@net-frame.com  Mon Aug 18 17:11:35 2003
Return-Path: <terry@net-frame.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80251 invoked from network); 18 Aug 2003 17:11:35 -0000
Received: from granger.mail.mindspring.net (207.69.200.148)
  by daedalus.apache.org with SMTP; 18 Aug 2003 17:11:35 -0000
Received: from h-68-166-66-93.mclnva23.covad.net ([68.166.66.93] helo=POWERPACK)
	by granger.mail.mindspring.net with smtp (Exim 3.33 #1)
	id 19onXe-0007uu-00
	for lucene-user@jakarta.apache.org; Mon, 18 Aug 2003 13:11:38 -0400
Message-ID: <00b801c365ab$cc925160$0201a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users Group" <lucene-user@jakarta.apache.org>
Subject: Similar Document Search
Date: Mon, 18 Aug 2003 13:11:43 -0400
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_00B5_01C3658A.44F73610"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_00B5_01C3658A.44F73610
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Is it possible without extensive additional coding to use Lucene to =
conduct a search based on a document rather than a query?  (One use of =
this would be to refine a search by selecting one of the hits returned =
from the initial query and subsequently retrieving other documents =
"like" the selected one.)

Regards,

Terry

------=_NextPart_000_00B5_01C3658A.44F73610--


From lists@ehatchersolutions.com  Mon Aug 18 17:20:13 2003
Return-Path: <lists@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93022 invoked from network); 18 Aug 2003 17:20:13 -0000
Received: from mail1.atl.registeredsite.com (64.224.219.75)
  by daedalus.apache.org with SMTP; 18 Aug 2003 17:20:13 -0000
Received: from netmail.mail.registeredsite.com ([216.122.69.14])
	by mail1.atl.registeredsite.com (8.12.9/8.12.9) with ESMTP id h7IHKHE6006293
	(version=TLSv1/SSLv3 cipher=EDH-RSA-DES-CBC3-SHA bits=168 verify=NOT)
	for <lucene-user@jakarta.apache.org>; Mon, 18 Aug 2003 13:20:17 -0400
Received: (qmail 42951 invoked by uid 89); 18 Aug 2003 17:22:43 -0000
Received: from unknown (HELO ehatchersolutions.com) (128.143.103.49)
  by mail.watertownarts.org with SMTP; 18 Aug 2003 17:22:43 -0000
Date: Mon, 18 Aug 2003 13:20:22 -0400
Subject: Re: Similar Document Search
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <lists@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <00b801c365ab$cc925160$0201a8c0@POWERPACK>
Message-Id: <3F84D599-D1A0-11D7-BC93-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Using the QueryFilter would help with the refining a search based on 
hits from a previous search, but it wouldn't help with the "like" part 
your asked about.

I'm interested in what you turn up with this though.

	Erik

On Monday, August 18, 2003, at 01:11  PM, Terry Steichen wrote:

> Is it possible without extensive additional coding to use Lucene to 
> conduct a search based on a document rather than a query?  (One use of 
> this would be to refine a search by selecting one of the hits returned 
> from the initial query and subsequently retrieving other documents 
> "like" the selected one.)
>
> Regards,
>
> Terry


From chrissibert@comcast.net  Mon Aug 18 17:44:33 2003
Return-Path: <chrissibert@comcast.net>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32464 invoked from network); 18 Aug 2003 17:44:33 -0000
Received: from rwcrmhc13.comcast.net (204.127.198.39)
  by daedalus.apache.org with SMTP; 18 Aug 2003 17:44:33 -0000
Received: from mother (c-24-129-215-86.se.client2.attbi.com[24.129.215.86](untrusted sender))
          by comcast.net (rwcrmhc13) with SMTP
          id <2003081817442701500ala4le>; Mon, 18 Aug 2003 17:44:27 +0000
Message-ID: <003601c365b0$60570130$0b02a8c0@mother>
From: "Chris Sibert" <chrissibert@comcast.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <004301c360e4$2225d2e0$9e0010ac@thopny.triplehop.com>
Subject: Re: better search results from 1.2 than 1.3
Date: Mon, 18 Aug 2003 13:44:29 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

 You may need to rebuild the index with 1.3. Buried in the Changes document
it says that you have to rebuild the index with 1.3, because the scoring was
changed internally.

----- Original Message ----- 
From: "hui" <hui@triplehop.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Tuesday, August 12, 2003 11:12 AM
Subject: better search results from 1.2 than 1.3


Hi,
I just upgrade Lucene 1.2 to 1.3 on the same index built original from
Lucene 1.2 and then latter from Lucene 1.3.
I also changed the default operator to AND.
It seems work fine but  actually the search results from Lucene 1.3 are not
as good as the results from 1.2 (same index and same query) even the query
  a..  top documents from 1.3 are not as good as the ones from 1.2
  b.. the top document score from 1.3 are almost the same and 1.2 has better
score system.
Any idea about this? Is there any way I can achieve the same search quality
within 1.3?



Regards,
Hui Ouyang


From chrissibert@comcast.net  Mon Aug 18 17:46:41 2003
Return-Path: <chrissibert@comcast.net>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36453 invoked from network); 18 Aug 2003 17:46:41 -0000
Received: from rwcrmhc13.comcast.net (204.127.198.39)
  by daedalus.apache.org with SMTP; 18 Aug 2003 17:46:41 -0000
Received: from mother (c-24-129-215-86.se.client2.attbi.com[24.129.215.86](untrusted sender))
          by comcast.net (rwcrmhc13) with SMTP
          id <2003081817464401500b05bse>; Mon, 18 Aug 2003 17:46:44 +0000
Message-ID: <004701c365b0$b1f46820$0b02a8c0@mother>
From: "Chris Sibert" <chrissibert@comcast.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Feature List
Date: Mon, 18 Aug 2003 13:46:46 -0400
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0044_01C3658F.2A934890"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0044_01C3658F.2A934890
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: quoted-printable

Is there any document available that lists Lucene's features ? Like does =
it do similarity searches, etc. I've been using Lucene, but I don't know =
what all it can do.=20

------=_NextPart_000_0044_01C3658F.2A934890--


From scott.ganyo@etapestry.com  Mon Aug 18 19:04:11 2003
Return-Path: <scott.ganyo@etapestry.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61940 invoked from network); 18 Aug 2003 19:04:11 -0000
Received: from etapestry-colo-32-2.onecall.net (HELO darth?bobo.etapestry.com) (216.37.32.2)
  by daedalus.apache.org with SMTP; 18 Aug 2003 19:04:11 -0000
Received: from etapestry.com (192.168.1.103 [192.168.1.103]) by darth_bobo.etapestry.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2650.21)
	id Q6D86JST; Mon, 18 Aug 2003 14:05:54 -0500
Message-ID: <3F41231C.80002@etapestry.com>
Date: Mon, 18 Aug 2003 14:03:56 -0500
From: Scott Ganyo <scott.ganyo@etapestry.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030630
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Make Lucene Index distributable
References: <102922F8B9C8D411944400508B6F52FC07835423@nynt04.umny.scripps.com>
In-Reply-To: <102922F8B9C8D411944400508B6F52FC07835423@nynt04.umny.scripps.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Be careful with option 1.  NFS and the Lucene file-based locking 
mechanism don't get along extremely well.  (See the archives for details...)

Scott

Lienhard, Andrew wrote:

>I can think of three options:
>
>1) Single index dir on a shared drive (NFS, etc.) which is mounted on each
>app server. 
>
>2) Create copies of the index dir for each machine. Requires regular
>updates, etc (not good if search data changes often).
>
>3) Create a web service for search. Each app server makes an HTTP call to a
>standalone Lucene app which returns some sort of XML-formatted search
>result. 
>
>I've taken approaches 1 and 3 (w/ Verity, but it would likely be the same w/
>Lucene). 2 is really only good if you have relatively static data. For our
>Lucene rollout here, we're going w/ option 1.
>
>Andrew Lienhard
>Web Technology Manager
>United Media
>200 Madison Avenue
>New York, NY 10016
>http://www.dilbert.com
>http://www.snoopy.com
>http://members.comics.com
>
>
>
>
>
>-----Original Message-----
>From: Uhl V., DP ITS, SCB, FD [mailto:V.Uhl@deutschepost.de] 
>Sent: Monday, August 18, 2003 11:05 AM
>To: 'lucene-user@jakarta.apache.org'
>Subject: Make Lucene Index distributable
>
>Hallo All,
>We have developed our WebApp with Lucene under Tomcat 4.X and stored index
>in file system. Now this Web Application have to move to Bea Weblogic
>Cluster. My Problem is to create a distributable Index of Lucene. Have one
>ideas or experience how to do this?(How to store Index?)
>
>Thanks for every ideas.
>
>Mit freundlichen Grüßen
>Vitali Uhl
>
>Client Server Systeme
>Deutsche Post ITSolutions GmbH 
>tel. +49 (0) 661 / 921 -245 
>fax: +49 (0) 661 / 921 -111
>internet: http://www.dp-itsolutions.de/ <http://www.dp-itsolutions.de/>  
>Anschrift:
>DP ITSolutions GmbH 
>D - 36035 Fulda
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>  
>

-- 
All progress is initiated by challenging current conceptions, and executed by supplanting existing institutions. - George Bernard Shaw



From routar@ideorlando.org  Mon Aug 18 19:14:29 2003
Return-Path: <routar@ideorlando.org>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76536 invoked from network); 18 Aug 2003 19:14:29 -0000
Received: from mail.ideorlando.org (208.63.70.76)
  by daedalus.apache.org with SMTP; 18 Aug 2003 19:14:29 -0000
Received: from ROUTARDBW (unknown [208.62.52.106])
	by mail.ideorlando.org (Postfix) with SMTP id F119B36876
	for <lucene-user@jakarta.apache.org>; Mon, 18 Aug 2003 15:11:10 -0400 (EDT)
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Make Lucene Index distributable
Date: Mon, 18 Aug 2003 15:14:01 -0400
Message-ID: <MNEPJJAGGPICDNOCBIKDOEIJCLAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.6604 (9.0.2911.0)
Importance: Normal
In-Reply-To: <3F41231C.80002@etapestry.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

We have the Lucene index sitting out on a Linux server and wrote a little
daemon that listens for requests and sends back response objects.  We are a
large scale simulation outfit and it works great.  We also give the node the
ability to index locally.

I published a paper all about it that will be presented at SIW this year.

Thanks,

Rob


-----Original Message-----
From: Scott Ganyo [mailto:scott.ganyo@etapestry.com]
Sent: Monday, August 18, 2003 3:04 PM
To: Lucene Users List
Subject: Re: Make Lucene Index distributable


Be careful with option 1.  NFS and the Lucene file-based locking
mechanism don't get along extremely well.  (See the archives for details...)

Scott

Lienhard, Andrew wrote:

>I can think of three options:
>
>1) Single index dir on a shared drive (NFS, etc.) which is mounted on each
>app server.
>
>2) Create copies of the index dir for each machine. Requires regular
>updates, etc (not good if search data changes often).
>
>3) Create a web service for search. Each app server makes an HTTP call to a
>standalone Lucene app which returns some sort of XML-formatted search
>result.
>
>I've taken approaches 1 and 3 (w/ Verity, but it would likely be the same
w/
>Lucene). 2 is really only good if you have relatively static data. For our
>Lucene rollout here, we're going w/ option 1.
>
>Andrew Lienhard
>Web Technology Manager
>United Media
>200 Madison Avenue
>New York, NY 10016
>http://www.dilbert.com
>http://www.snoopy.com
>http://members.comics.com
>
>
>
>
>
>-----Original Message-----
>From: Uhl V., DP ITS, SCB, FD [mailto:V.Uhl@deutschepost.de]
>Sent: Monday, August 18, 2003 11:05 AM
>To: 'lucene-user@jakarta.apache.org'
>Subject: Make Lucene Index distributable
>
>Hallo All,
>We have developed our WebApp with Lucene under Tomcat 4.X and stored index
>in file system. Now this Web Application have to move to Bea Weblogic
>Cluster. My Problem is to create a distributable Index of Lucene. Have one
>ideas or experience how to do this?(How to store Index?)
>
>Thanks for every ideas.
>
>Mit freundlichen Grüßen
>Vitali Uhl
>
>Client Server Systeme
>Deutsche Post ITSolutions GmbH
>tel. +49 (0) 661 / 921 -245
>fax: +49 (0) 661 / 921 -111
>internet: http://www.dp-itsolutions.de/ <http://www.dp-itsolutions.de/>
>Anschrift:
>DP ITSolutions GmbH
>D - 36035 Fulda
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>

--
All progress is initiated by challenging current conceptions, and executed
by supplanting existing institutions. - George Bernard Shaw



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From pbecker@dstc.edu.au  Tue Aug 19 01:05:35 2003
Return-Path: <pbecker@dstc.edu.au>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41230 invoked from network); 19 Aug 2003 01:05:35 -0000
Received: from gum.itee.uq.edu.au (130.102.66.1)
  by daedalus.apache.org with SMTP; 19 Aug 2003 01:05:35 -0000
Received: from luma.itee.uq.edu.au (luma.itee.uq.edu.au [130.102.66.14])
	by gum.itee.uq.edu.au (8.12.9/8.12.9) with ESMTP id h7J15dFX003666
	for <lucene-user@jakarta.apache.org>; Tue, 19 Aug 2003 11:05:39 +1000 (EST)
Received: from dstc.edu.au (g613-8949.itee.uq.edu.au [130.102.66.107])
	by luma.itee.uq.edu.au (8.12.9/8.12.9) with ESMTP id h7J15dli001480
	for <lucene-user@jakarta.apache.org>; Tue, 19 Aug 2003 11:05:39 +1000 (EST)
Message-ID: <3F4177E3.30901@dstc.edu.au>
Date: Tue, 19 Aug 2003 11:05:39 +1000
From: Peter Becker <pbecker@dstc.edu.au>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Similar Document Search
References: <00b801c365ab$cc925160$0201a8c0@POWERPACK>
In-Reply-To: <00b801c365ab$cc925160$0201a8c0@POWERPACK>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Checked: This message probably not SPAM
X-Spam-Score: -2.1
X-Spam-Tests: EMAIL_ATTRIBUTION,IN_REP_TO,REFERENCES,REPLY_WITH_QUOTES,USER_AGENT_MOZILLA_UA,X_ACCEPT_LANG
X-Spam-Report: -2.10 points, 8 required;
	* -0.5 -- Has a valid-looking References header
	* -0.5 -- Has a In-Reply-To header
	*  0.0 -- User-Agent header indicates a non-spam MUA (Mozilla)
	* -0.1 -- Has a X-Accept-Language  header
	* -0.5 -- BODY: Contains what looks like an email attribution
	* -0.5 -- Reply with quoted text
X-Scanned-By: MIMEDefang 2.35
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Terry,

we have been thinking about the same problem and in the end we decided 
that most likely the only good solution to this is to keep a 
non-inverted index, i.e. a map from the documents to the terms. Then you 
can query the most terms for the documents and query other documents 
matching parts of this (where you get the usual question of what is 
actually interesting: high frequency, low frequency or the mid range).

Indexing would probably be quite expensive since Lucene doesn't seem to 
support changes in the index, and the index for the terms would change 
all the time. We haven't implemented it yet, but it shouldn't be hard to 
code. I just wouldn't expect good performance when indexing large 
collections.

  Peter


Terry Steichen wrote:

>Is it possible without extensive additional coding to use Lucene to conduct a search based on a document rather than a query?  (One use of this would be to refine a search by selecting one of the hits returned from the initial query and subsequently retrieving other documents "like" the selected one.)
>
>Regards,
>
>Terry
>
>  
>



From terry@net-frame.com  Tue Aug 19 03:42:43 2003
Return-Path: <terry@net-frame.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77679 invoked from network); 19 Aug 2003 03:42:43 -0000
Received: from granger.mail.mindspring.net (207.69.200.148)
  by daedalus.apache.org with SMTP; 19 Aug 2003 03:42:43 -0000
Received: from h-68-166-66-93.mclnva23.covad.net ([68.166.66.93] helo=POWERPACK)
	by granger.mail.mindspring.net with smtp (Exim 3.33 #1)
	id 19oxOX-00080L-00
	for lucene-user@jakarta.apache.org; Mon, 18 Aug 2003 23:42:53 -0400
Message-ID: <00fc01c36603$fc81b5c0$0201a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <00b801c365ab$cc925160$0201a8c0@POWERPACK> <3F4177E3.30901@dstc.edu.au>
Subject: Re: Similar Document Search
Date: Mon, 18 Aug 2003 23:42:59 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Peter,

What got me thinking about this was the way that Lucene computes similarity
(or scoring).  After the boolean keyword matches have been found, Lucene
then computes relevance.  What Lucene does, I think, is to process the query
into some intermediate internal representation and computes the similarity
between the query (now a kind of a pseudo-document) and each of the matching
hits.

I was wondering if there might not be a way to internally process a selected
document (rather than the query per se) and then, in effect, compute the
similarity between that document and all the other documents (which have
already been pre-processed in the indexing process).  So, what you'd be
doing is not a boolean keyword match, but a ranking of all the documents in
the repository on the basis of relevance or similarity to the target
document.

(If that's not too far off in terms of reality, maybe Doug could comment?)

Regards,

Terry

----- Original Message -----
From: "Peter Becker" <pbecker@dstc.edu.au>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, August 18, 2003 9:05 PM
Subject: Re: Similar Document Search


> Hi Terry,
>
> we have been thinking about the same problem and in the end we decided
> that most likely the only good solution to this is to keep a
> non-inverted index, i.e. a map from the documents to the terms. Then you
> can query the most terms for the documents and query other documents
> matching parts of this (where you get the usual question of what is
> actually interesting: high frequency, low frequency or the mid range).
>
> Indexing would probably be quite expensive since Lucene doesn't seem to
> support changes in the index, and the index for the terms would change
> all the time. We haven't implemented it yet, but it shouldn't be hard to
> code. I just wouldn't expect good performance when indexing large
> collections.
>
>   Peter
>
>
> Terry Steichen wrote:
>
> >Is it possible without extensive additional coding to use Lucene to
conduct a search based on a document rather than a query?  (One use of this
would be to refine a search by selecting one of the hits returned from the
initial query and subsequently retrieving other documents "like" the
selected one.)
> >
> >Regards,
> >
> >Terry
> >
> >
> >
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


From magnus@technohuman.com  Tue Aug 19 07:12:15 2003
Return-Path: <magnus@technohuman.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38477 invoked from network); 19 Aug 2003 07:12:15 -0000
Received: from unknown (HELO dev2.technohuman.com) (195.149.148.44)
  by daedalus.apache.org with SMTP; 19 Aug 2003 07:12:15 -0000
Received: from technohuman.com (unknown [195.149.148.57])
	by dev2.technohuman.com (Postfix) with ESMTP id 6EFF963D03
	for <lucene-user@jakarta.apache.org>; Tue, 19 Aug 2003 09:12:16 +0200 (CEST)
Message-ID: <3F41CDDA.7030203@technohuman.com>
Date: Tue, 19 Aug 2003 09:12:26 +0200
From: Magnus Johansson <magnus@technohuman.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.5b) Gecko/20030723 Thunderbird/0.1
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Similar Document Search
References: <00b801c365ab$cc925160$0201a8c0@POWERPACK> <3F4177E3.30901@dstc.edu.au>
In-Reply-To: <3F4177E3.30901@dstc.edu.au>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Peter

If the original document is available. You could extract keywords from 
the document
at query time. That is when someone asks for documents similar to 
document a. You
re-analyze document a and in combination with statistics from the Lucene 
index you extract
keywords from document a that can then be used as a query for findining 
similar documents.

I've got some sample code if anyone is interested.

/magnus


Peter Becker wrote:

> Hi Terry,
>
> we have been thinking about the same problem and in the end we decided 
> that most likely the only good solution to this is to keep a 
> non-inverted index, i.e. a map from the documents to the terms. Then 
> you can query the most terms for the documents and query other 
> documents matching parts of this (where you get the usual question of 
> what is actually interesting: high frequency, low frequency or the mid 
> range).
>
> Indexing would probably be quite expensive since Lucene doesn't seem 
> to support changes in the index, and the index for the terms would 
> change all the time. We haven't implemented it yet, but it shouldn't 
> be hard to code. I just wouldn't expect good performance when indexing 
> large collections.
>
>  Peter
>
>
> Terry Steichen wrote:
>
>> Is it possible without extensive additional coding to use Lucene to 
>> conduct a search based on a document rather than a query?  (One use 
>> of this would be to refine a search by selecting one of the hits 
>> returned from the initial query and subsequently retrieving other 
>> documents "like" the selected one.)
>>
>> Regards,
>>
>> Terry
>>
>>  
>>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>



From buics123@yahoo.com  Tue Aug 19 07:17:07 2003
Return-Path: <buics123@yahoo.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43122 invoked from network); 19 Aug 2003 07:17:07 -0000
Received: from web41902.mail.yahoo.com (66.218.93.153)
  by daedalus.apache.org with SMTP; 19 Aug 2003 07:17:07 -0000
Message-ID: <20030819071719.11136.qmail@web41902.mail.yahoo.com>
Received: from [64.15.239.34] by web41902.mail.yahoo.com via HTTP; Tue, 19 Aug 2003 00:17:19 PDT
Date: Tue, 19 Aug 2003 00:17:19 -0700 (PDT)
From: Rociel Buico <buics123@yahoo.com>
Subject: Re: Similar Document Search
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <3F41CDDA.7030203@technohuman.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1075511632-1061277439=:9976"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--0-1075511632-1061277439=:9976
Content-Type: text/plain; charset=us-ascii

hello magnus,
 
can i ask your sample script?
 
--buics
 
Hi Peter

If the original document is available. You could extract keywords from 
the document
at query time. That is when someone asks for documents similar to 
document a. You
re-analyze document a and in combination with statistics from the Lucene 
index you extract
keywords from document a that can then be used as a query for findining 
similar documents.

I've got some sample code if anyone is interested.

/magnus


Peter Becker wrote:

> Hi Terry,
>
> we have been thinking about the same problem and in the end we decided 
> that most likely the only good solution to this is to keep a 
> non-inverted index, i.e. a map from the documents to the terms. Then 
> you can query the most terms for the documents and query other 
> documents matching parts of this (where you get the usual question of 
> what is actually interesting: high frequency, low frequency or the mid 
> range).
>
> Indexing would probably be quite expensive since Lucene doesn't seem 
> to support changes in the index, and the index for the terms would 
> change all the time. We haven't implemented it yet, but it shouldn't 
> be hard to code. I just wouldn't expect good performance when indexing 
> large collections.
>
> Peter
>
>
> Terry Steichen wrote:
>
>> Is it possible without extensive additional coding to use Lucene to 
>> conduct a search based on a document rather than a query? (One use 
>> of this would be to refine a search by selecting one of the hits 
>> returned from the initial query and subsequently retrieving other 
>> documents "like" the selected one.)
>>
>> Regards,
>>
>> Terry
>>
>> 
>>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
--0-1075511632-1061277439=:9976--

From magnus@technohuman.com  Tue Aug 19 07:20:47 2003
Return-Path: <magnus@technohuman.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48682 invoked from network); 19 Aug 2003 07:20:47 -0000
Received: from unknown (HELO dev2.technohuman.com) (195.149.148.44)
  by daedalus.apache.org with SMTP; 19 Aug 2003 07:20:47 -0000
Received: from technohuman.com (unknown [195.149.148.57])
	by dev2.technohuman.com (Postfix) with ESMTP id EB15D63D03
	for <lucene-user@jakarta.apache.org>; Tue, 19 Aug 2003 09:20:48 +0200 (CEST)
Message-ID: <3F41CFDA.5070200@technohuman.com>
Date: Tue, 19 Aug 2003 09:20:58 +0200
From: Magnus Johansson <magnus@technohuman.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.5b) Gecko/20030723 Thunderbird/0.1
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Similar Document Search
References: <20030819071719.11136.qmail@web41902.mail.yahoo.com>
In-Reply-To: <20030819071719.11136.qmail@web41902.mail.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Ok, here it is. It's part of a JSP that prints out all keywords in a 
document.

/magnus


<%@ page import="org.apache.lucene.index.IndexReader,
                 org.apache.lucene.document.Document,
                 com.technohuman.search.language.SwedishAnalyzer,
                 java.io.StringReader,
                 org.apache.lucene.analysis.TokenStream,
                 org.apache.lucene.analysis.Token,
                 org.apache.lucene.index.Term,
                 org.apache.lucene.index.TermEnum,
                 java.util.*"%>
<%!
    class Entry implements Comparable {
        public double score;
        public String termText;

        public Entry(double score, String termText) {
            this.score = score;
            this.termText = termText;
        }

        public int compareTo(Object o) {
            Entry e = (Entry) o;
            if (e.score < score) return -1;
            else return 1;
        }
    }
%>
<%
    IndexReader reader = 
IndexReader.open(application.getRealPath("/WEB-INF/index"));
    Document d = 
reader.document(Integer.parseInt(request.getParameter("docId")));

    Map m = new HashMap();

    // Count all terms in the description field of the given document
    String description = d.getField("Parser.DESCRIPTION").stringValue();
    final java.io.Reader r = new StringReader(description);
    final TokenStream in = new SwedishAnalyzer().tokenStream(r);

    for (; ;) {
        final Token token = in.next();

        if (token == null) {
            break;
        }

        if (m.containsKey(token.termText())) {
            int a = ((Integer)m.get(token.termText())).intValue();
            m.put(token.termText(), new Integer(a + 1));
        } else {
            m.put(token.termText(), new Integer(1));
        }
    }


    ArrayList tm = new ArrayList();

    // Calculate inverse document frequency * term frequency
    Iterator it = m.keySet().iterator();
    while (it.hasNext()) {
        String termText = (String) it.next();
        TermEnum te = reader.terms(new Term("Parser.DESCRIPTION", 
termText));

        double idf = Math.log(reader.numDocs() / (te.docFreq() + 1)) + 1;
        double tf = Math.sqrt(((Integer)m.get(termText)).intValue());

        tm.add(new Entry(idf * tf, termText));
    }


    Collections.sort(tm);

    // Print the keywords and the score for each keyword
    Iterator it2 = tm.iterator();
    while (it2.hasNext()) {
        Entry e = (Entry) it2.next();
        out.println(e.score + " " + e.termText + "<br />");
    }

    reader.close();
%>

Rociel Buico wrote:

>hello magnus,
> 
>can i ask your sample script?
> 
>--buics
> 
>Hi Peter
>
>If the original document is available. You could extract keywords from 
>the document
>at query time. That is when someone asks for documents similar to 
>document a. You
>re-analyze document a and in combination with statistics from the Lucene 
>index you extract
>keywords from document a that can then be used as a query for findining 
>similar documents.
>
>I've got some sample code if anyone is interested.
>
>/magnus
>
>
>Peter Becker wrote:
>
>  
>
>>Hi Terry,
>>
>>we have been thinking about the same problem and in the end we decided 
>>that most likely the only good solution to this is to keep a 
>>non-inverted index, i.e. a map from the documents to the terms. Then 
>>you can query the most terms for the documents and query other 
>>documents matching parts of this (where you get the usual question of 
>>what is actually interesting: high frequency, low frequency or the mid 
>>range).
>>
>>Indexing would probably be quite expensive since Lucene doesn't seem 
>>to support changes in the index, and the index for the terms would 
>>change all the time. We haven't implemented it yet, but it shouldn't 
>>be hard to code. I just wouldn't expect good performance when indexing 
>>large collections.
>>
>>Peter
>>
>>
>>Terry Steichen wrote:
>>
>>    
>>
>>>Is it possible without extensive additional coding to use Lucene to 
>>>conduct a search based on a document rather than a query? (One use 
>>>of this would be to refine a search by selecting one of the hits 
>>>returned from the initial query and subsequently retrieving other 
>>>documents "like" the selected one.)
>>>
>>>Regards,
>>>
>>>Terry
>>>
>>>
>>>
>>>      
>>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>    
>>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>---------------------------------
>Do you Yahoo!?
>The New Yahoo! Search - Faster. Easier. Bingo.
>  
>



From pbecker@dstc.edu.au  Tue Aug 19 07:27:27 2003
Return-Path: <pbecker@dstc.edu.au>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60228 invoked from network); 19 Aug 2003 07:27:27 -0000
Received: from kauri.itee.uq.edu.au (130.102.66.24)
  by daedalus.apache.org with SMTP; 19 Aug 2003 07:27:27 -0000
Received: from luma.itee.uq.edu.au (luma.itee.uq.edu.au [130.102.66.14])
	by kauri.itee.uq.edu.au (8.12.9/8.12.9) with ESMTP id h7J7RZSs017520
	for <lucene-user@jakarta.apache.org>; Tue, 19 Aug 2003 17:27:35 +1000 (EST)
Received: from dstc.edu.au (g613-8949.itee.uq.edu.au [130.102.66.107])
	by luma.itee.uq.edu.au (8.12.9/8.12.9) with ESMTP id h7J7RZli007270
	for <lucene-user@jakarta.apache.org>; Tue, 19 Aug 2003 17:27:35 +1000 (EST)
Message-ID: <3F41D14E.2090205@dstc.edu.au>
Date: Tue, 19 Aug 2003 17:27:10 +1000
From: Peter Becker <pbecker@dstc.edu.au>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Similar Document Search
References: <00b801c365ab$cc925160$0201a8c0@POWERPACK> <3F4177E3.30901@dstc.edu.au> <3F41CDDA.7030203@technohuman.com>
In-Reply-To: <3F41CDDA.7030203@technohuman.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Checked: This message probably not SPAM
X-Spam-Score: -2.6
X-Spam-Tests: EMAIL_ATTRIBUTION,IN_REP_TO,QUOTED_EMAIL_TEXT,REFERENCES,REPLY_WITH_QUOTES,USER_AGENT_MOZILLA_UA,X_ACCEPT_LANG
X-Spam-Report: -2.60 points, 8 required;
	* -0.5 -- Has a valid-looking References header
	* -0.5 -- Has a In-Reply-To header
	*  0.0 -- User-Agent header indicates a non-spam MUA (Mozilla)
	* -0.1 -- Has a X-Accept-Language  header
	* -0.5 -- BODY: Contains what looks like an email attribution
	* -0.5 -- BODY: Contains what looks like a quoted email text
	* -0.5 -- Reply with quoted text
X-Scanned-By: MIMEDefang 2.35
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Magnus,

thanks for the offer, but unfortunately I can't/don't want to make the 
assumption that I can easily access the documents to re-index them. And 
I don't think this approach would be feasible unless you can keep the 
documents in memory somehow.

Storing the other/non-inverted/normal/whatever index would be expensive 
for indexing, but querying should be a lot faster than having to 
re-index documents. That is in our situation preferable.

  Peter


Magnus Johansson wrote:

> Hi Peter
>
> If the original document is available. You could extract keywords from 
> the document
> at query time. That is when someone asks for documents similar to 
> document a. You
> re-analyze document a and in combination with statistics from the 
> Lucene index you extract
> keywords from document a that can then be used as a query for 
> findining similar documents.
>
> I've got some sample code if anyone is interested.
>
> /magnus
>
>
> Peter Becker wrote:
>
>> Hi Terry,
>>
>> we have been thinking about the same problem and in the end we 
>> decided that most likely the only good solution to this is to keep a 
>> non-inverted index, i.e. a map from the documents to the terms. Then 
>> you can query the most terms for the documents and query other 
>> documents matching parts of this (where you get the usual question of 
>> what is actually interesting: high frequency, low frequency or the 
>> mid range).
>>
>> Indexing would probably be quite expensive since Lucene doesn't seem 
>> to support changes in the index, and the index for the terms would 
>> change all the time. We haven't implemented it yet, but it shouldn't 
>> be hard to code. I just wouldn't expect good performance when 
>> indexing large collections.
>>
>>  Peter
>>
>>
>> Terry Steichen wrote:
>>
>>> Is it possible without extensive additional coding to use Lucene to 
>>> conduct a search based on a document rather than a query?  (One use 
>>> of this would be to refine a search by selecting one of the hits 
>>> returned from the initial query and subsequently retrieving other 
>>> documents "like" the selected one.)
>>>
>>> Regards,
>>>
>>> Terry
>>>
>>>  
>>>
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org




From magnus@technohuman.com  Tue Aug 19 07:33:34 2003
Return-Path: <magnus@technohuman.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66113 invoked from network); 19 Aug 2003 07:33:34 -0000
Received: from unknown (HELO dev2.technohuman.com) (195.149.148.44)
  by daedalus.apache.org with SMTP; 19 Aug 2003 07:33:34 -0000
Received: from technohuman.com (unknown [195.149.148.57])
	by dev2.technohuman.com (Postfix) with ESMTP id 1283A63D03
	for <lucene-user@jakarta.apache.org>; Tue, 19 Aug 2003 09:33:36 +0200 (CEST)
Message-ID: <3F41D2DA.9030406@technohuman.com>
Date: Tue, 19 Aug 2003 09:33:46 +0200
From: Magnus Johansson <magnus@technohuman.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.5b) Gecko/20030723 Thunderbird/0.1
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Similar Document Search
References: <00b801c365ab$cc925160$0201a8c0@POWERPACK> <3F4177E3.30901@dstc.edu.au> <3F41CDDA.7030203@technohuman.com> <3F41D14E.2090205@dstc.edu.au>
In-Reply-To: <3F41D14E.2090205@dstc.edu.au>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Peter,

I guess you are right.

I've implemented this for a index with ten millions of really small
documents that all are stored in the index. The documents are never more 
than a thousand
words so re-indexing is quick enough. However it is probably not 
advisable to do
this with bigger documents or documents that need additional parsing.

/magnus


Peter Becker wrote:

> Hi Magnus,
>
> thanks for the offer, but unfortunately I can't/don't want to make the 
> assumption that I can easily access the documents to re-index them. 
> And I don't think this approach would be feasible unless you can keep 
> the documents in memory somehow.
>
> Storing the other/non-inverted/normal/whatever index would be 
> expensive for indexing, but querying should be a lot faster than 
> having to re-index documents. That is in our situation preferable.
>
>  Peter
>
>
> Magnus Johansson wrote:
>
>> Hi Peter
>>
>> If the original document is available. You could extract keywords 
>> from the document
>> at query time. That is when someone asks for documents similar to 
>> document a. You
>> re-analyze document a and in combination with statistics from the 
>> Lucene index you extract
>> keywords from document a that can then be used as a query for 
>> findining similar documents.
>>
>> I've got some sample code if anyone is interested.
>>
>> /magnus
>>
>>



From dlust@denali.be  Tue Aug 19 10:55:11 2003
Return-Path: <dlust@denali.be>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8901 invoked from network); 19 Aug 2003 10:55:11 -0000
Received: from ns1.denali.be (HELO mailer.denali.be) (194.183.235.197)
  by daedalus.apache.org with SMTP; 19 Aug 2003 10:55:11 -0000
Received: from denali.be (unknown [192.168.3.254])
	by mailer.denali.be (Postfix) with ESMTP id B5D713449C
	for <lucene-user@jakarta.apache.org>; Tue, 19 Aug 2003 12:27:48 +0200 (CEST)
Date: Tue, 19 Aug 2003 12:55:09 +0200
Mime-Version: 1.0 (Apple Message framework v551)
Content-Type: multipart/alternative; boundary=Apple-Mail-2--768552920
Subject: Multi-Threading
From: Damien Lust <dlust@denali.be>
To: lucene-user@jakarta.apache.org
Message-Id: <999D7DBE-D233-11D7-9FFD-000393AE344A@denali.be>
X-Mailer: Apple Mail (2.551)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--Apple-Mail-2--768552920
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	delsp=yes;
	charset=US-ASCII;
	format=flowed

Hello,

I developed an Client-Server application on the web, with a search  
module using Lucene. In the same application, the users can index new  
text.

So, multiple sessions can acces to the Index and concurrences problems  
can be possible.

I used Threads in Java. Is it the best solutions?

I call :

IndexFiles indexFiles = new IndexFiles();
indexFiles.run();

Here you are an extract of my code.

Thanks.

public class IndexFiles extends Thread{
     public IndexFiles(){
     }

     public void run(){
              
SynchronizedIndexWriter.insertDocument(currentIndexDocument(),"tmp/ 
IndexPath",new MainAnalyser());
     }

}



public class SynchronizedIndexWriter {

     static synchronized  void insertDocument(IndexDocument  
document,String indexLocValue,Analyzer analyzerValue){
         File f=new File(indexLocValue);
         if (f.exists())  
addDocumentToIndex(document,indexLocValue,analyzerValue,false);
         else  
addDocumentToIndex(document,indexLocValue,analyzerValue,true);
     }


     static  synchronized void addDocumentToIndex(IndexDocument  
document,String indexLocValue,Analyzer analyzerValue,boolean  
createNewIndex){
         try{
             IndexWriter indexWriter = new  
IndexWriter(indexLocValue,analyzerValue,createNewIndex);
             indexWriter.addDocument(document.getDocument());
             indexWriter.optimize();
             indexWriter.close();
         }
         catch(IOException io){
	    // If IndexWrite don't know write on index because it's locked,  
recall of the function
               => It's not very safe
              
addDocumentToIndex(document,indexLocValue,analyzerValue,createNewIndex);
         }
         catch(Exception e){

         }

     }
}

--Apple-Mail-2--768552920--


From dquaroni@OPENRATINGS.com  Tue Aug 19 12:47:28 2003
Return-Path: <dquaroni@OPENRATINGS.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47565 invoked from network); 19 Aug 2003 12:47:28 -0000
Received: from unknown (HELO exchange.hq.openratings.com) (141.149.165.226)
  by daedalus.apache.org with SMTP; 19 Aug 2003 12:47:28 -0000
Received: by exchange.hq.openratings.com with Internet Mail Service (5.5.2655.55)
	id <QMRZPWNJ>; Tue, 19 Aug 2003 08:47:28 -0400
Message-ID: <4A46E75D51A2D5119F2A00B0D03D7F09010B8BD4@exchange.hq.openratings.com>
From: Dan Quaroni <dquaroni@OPENRATINGS.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: Will failed optimize corrupt an index?
Date: Tue, 19 Aug 2003 08:47:26 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

My index grew about 7 gigs larger than I projected it would, and it ran out
of disk space during optimize.  Does lucene have transactions or anything
that would prevent this from corrupting an index, or do I need to generate
the index again?

Thanks!

From amordo@infosciences.com  Tue Aug 19 13:27:04 2003
Return-Path: <amordo@infosciences.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23109 invoked from network); 19 Aug 2003 13:27:04 -0000
Received: from unknown (HELO isc?mail.infosciences.com) (141.156.69.115)
  by daedalus.apache.org with SMTP; 19 Aug 2003 13:27:03 -0000
Received: from Aviran (141.156.69.109 [141.156.69.109]) by isc_mail.infosciences.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id RF5P8SBN; Tue, 19 Aug 2003 09:30:13 -0400
From: "Aviran Mordo" <amordo@infosciences.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Reuse IndexSearcher?
Date: Tue, 19 Aug 2003 09:26:23 -0400
Message-ID: <001b01c36655$81fb76e0$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_001C_01C36633.FAE9D6E0"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_001C_01C36633.FAE9D6E0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Can I reuse one Instance of IndexSearcher to do multiple searches (in
multiple threads) or do I have to instantiate a new IndexSearcher for
each search?

------=_NextPart_000_001C_01C36633.FAE9D6E0--



From hui@triplehop.com  Tue Aug 19 13:42:07 2003
Return-Path: <hui@triplehop.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50448 invoked from network); 19 Aug 2003 13:42:07 -0000
Received: from unknown (HELO germany.prod.thop-ny.triplehop.com) (216.74.150.80)
  by daedalus.apache.org with SMTP; 19 Aug 2003 13:42:07 -0000
Received: from hui2000 ([208.246.29.6]) by germany.prod.thop-ny.triplehop.com with Microsoft SMTPSVC(5.0.2195.4905);
	 Tue, 19 Aug 2003 09:45:28 -0400
Message-ID: <003e01c36658$35f9e2b0$9e0010ac@thopny.triplehop.com>
From: "hui" <hui@triplehop.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <102922F8B9C8D411944400508B6F52FC07835423@nynt04.umny.scripps.com> <3F41231C.80002@etapestry.com>
Subject: Re: Make Lucene Index distributable
Date: Tue, 19 Aug 2003 09:45:54 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-OriginalArrivalTime: 19 Aug 2003 13:45:28.0952 (UTC) FILETIME=[26BC0F80:01C36658]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Also the performance drops down a lot in my case for option 1
Regards,
Hui
----- Original Message ----- 
From: "Scott Ganyo" <scott.ganyo@etapestry.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, August 18, 2003 3:03 PM
Subject: Re: Make Lucene Index distributable


> Be careful with option 1.  NFS and the Lucene file-based locking
> mechanism don't get along extremely well.  (See the archives for
details...)
>
> Scott
>
> Lienhard, Andrew wrote:
>
> >I can think of three options:
> >
> >1) Single index dir on a shared drive (NFS, etc.) which is mounted on
each
> >app server.
> >
> >2) Create copies of the index dir for each machine. Requires regular
> >updates, etc (not good if search data changes often).
> >
> >3) Create a web service for search. Each app server makes an HTTP call to
a
> >standalone Lucene app which returns some sort of XML-formatted search
> >result.
> >
> >I've taken approaches 1 and 3 (w/ Verity, but it would likely be the same
w/
> >Lucene). 2 is really only good if you have relatively static data. For
our
> >Lucene rollout here, we're going w/ option 1.
> >
> >Andrew Lienhard
> >Web Technology Manager
> >United Media
> >200 Madison Avenue
> >New York, NY 10016
> >http://www.dilbert.com
> >http://www.snoopy.com
> >http://members.comics.com
> >
> >
> >
> >
> >
> >-----Original Message-----
> >From: Uhl V., DP ITS, SCB, FD [mailto:V.Uhl@deutschepost.de]
> >Sent: Monday, August 18, 2003 11:05 AM
> >To: 'lucene-user@jakarta.apache.org'
> >Subject: Make Lucene Index distributable
> >
> >Hallo All,
> >We have developed our WebApp with Lucene under Tomcat 4.X and stored
index
> >in file system. Now this Web Application have to move to Bea Weblogic
> >Cluster. My Problem is to create a distributable Index of Lucene. Have
one
> >ideas or experience how to do this?(How to store Index?)
> >
> >Thanks for every ideas.
> >
> >Mit freundlichen Grüßen
> >Vitali Uhl
> >
> >Client Server Systeme
> >Deutsche Post ITSolutions GmbH
> >tel. +49 (0) 661 / 921 -245
> >fax: +49 (0) 661 / 921 -111
> >internet: http://www.dp-itsolutions.de/ <http://www.dp-itsolutions.de/>
> >Anschrift:
> >DP ITSolutions GmbH
> >D - 36035 Fulda
> >
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
>
> -- 
> All progress is initiated by challenging current conceptions, and executed
by supplanting existing institutions. - George Bernard Shaw
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


From fckdp@ok.ru  Tue Aug 19 19:34:39 2003
Return-Path: <fckdp@ok.ru>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85764 invoked from network); 19 Aug 2003 19:34:39 -0000
Received: from elk.zenon.net (HELO frontend3.aha.ru) (213.189.198.216)
  by daedalus.apache.org with SMTP; 19 Aug 2003 19:34:38 -0000
Received: from [195.98.167.1] (account fckdp@ok.ru HELO pb)
  by frontend3.aha.ru (CommuniGate Pro SMTP 4.0.6)
  with ESMTP id 23088751 for lucene-user@jakarta.apache.org; Tue, 19 Aug 2003 23:00:49 +0400
Reply-To: <bizhan@aha.ru>
From: "Pasha Bizhan" <fckdp@ok.ru>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Will failed optimize corrupt an index?
Date: Tue, 19 Aug 2003 23:01:45 +0400
Message-ID: <000c01c36684$56b2cae0$5b13a8c0@pb>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <4A46E75D51A2D5119F2A00B0D03D7F09010B8BD4@exchange.hq.openratings.com>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

HI,

> From: Dan Quaroni [mailto:dquaroni@OPENRATINGS.com] 
> 
> My index grew about 7 gigs larger than I projected it would, 
> and it ran out of disk space during optimize.  Does lucene 
> have transactions or anything that would prevent this from 
> corrupting an index, or do I need to generate the index again?

You must generate index again.

Pasha
Lucene.Net www.sourceforge.net/projects/lucenedotnet


From scott.ganyo@etapestry.com  Tue Aug 19 20:07:06 2003
Return-Path: <scott.ganyo@etapestry.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85000 invoked from network); 19 Aug 2003 20:07:06 -0000
Received: from etapestry-colo-32-2.onecall.net (HELO darth?bobo.etapestry.com) (216.37.32.2)
  by daedalus.apache.org with SMTP; 19 Aug 2003 20:07:06 -0000
Received: from etapestry.com (192.168.1.103 [192.168.1.103]) by darth_bobo.etapestry.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2650.21)
	id Q6D86LLL; Tue, 19 Aug 2003 13:20:09 -0500
Message-ID: <3F4269F0.6030409@etapestry.com>
Date: Tue, 19 Aug 2003 13:18:24 -0500
From: Scott Ganyo <scott.ganyo@etapestry.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030630
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Reuse IndexSearcher?
References: <001b01c36655$81fb76e0$6a00a8c0@Aviran>
In-Reply-To: <001b01c36655$81fb76e0$6a00a8c0@Aviran>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Yes.  You can (and should for best performance) reuse an IndexSearcher 
as long as you don't need access to changes made to the index.  An open 
IndexSearcher won't pick up changes to the index, so if you need to see 
the changes, you will need to open a new searcher at that point.

Scott

Aviran Mordo wrote:

>Can I reuse one Instance of IndexSearcher to do multiple searches (in
>multiple threads) or do I have to instantiate a new IndexSearcher for
>each search?
>
>  
>



From nsh@bayt.net  Tue Aug 19 20:59:33 2003
Return-Path: <nsh@bayt.net>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11100 invoked from network); 19 Aug 2003 20:59:33 -0000
Received: from h011.c007.snv.cp.net (HELO c007.snv.cp.net) (209.228.33.239)
  by daedalus.apache.org with SMTP; 19 Aug 2003 20:59:33 -0000
Received: (cpmta 1182 invoked from network); 19 Aug 2003 09:59:30 -0700
Received: from 209.228.33.230 (HELO mail.bayt.net.criticalpath.net)
  by smtp.bayt.net (209.228.33.239) with SMTP; 19 Aug 2003 09:59:30 -0700
X-Sent: 19 Aug 2003 16:59:30 GMT
Received: from [195.14.135.107] by mail.bayt.net with HTTP; Tue,
    19 Aug 2003 09:59:29 -0700 (PDT)
Content-Type: text/plain; charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
From: "Nader Henein" <nader.henein@bayt.net>
Subject: Re: Multi-Threading
X-Sent-From: nsh@bayt.net
Date: Tue, 19 Aug 2003 09:59:29 -0700 (PDT)
X-Mailer: Web Mail 5.5.0-3_sol28
Message-Id: <20030819095930.27040.h002.c007.wm@mail.bayt.net.criticalpath.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Why do you have concurency problems? are you trying to
have each user initiate the indexing himself? because
that will create issues, how about you put all the new
files you want to index in a directory and then have a
schedule procedure on the webserver run the lucene
indexer on that directory, our application hasn't had
any concurrency problems at all, because we index based
on a pull system, rather than the user puching
documents to the indexer.

I hope I understood your problem correctly, so that the
answer is useful

Nader

On Tue, 19 Aug 2003 12:55:09 +0200, Damien Lust wrote:

> 
> Hello,
> 
> I developed an Client-Server application on the web,
> with a search  
> module using Lucene. In the same application, the
users
> can index new  
> text.
> 
> So, multiple sessions can acces to the Index and
> concurrences problems  
> can be possible.
> 
> I used Threads in Java. Is it the best solutions?
> 
> I call :
> 
> IndexFiles indexFiles = new IndexFiles();
> indexFiles.run();
> 
> Here you are an extract of my code.
> 
> Thanks.
> 
> public class IndexFiles extends Thread{
>      public IndexFiles(){
>      }
> 
>      public void run(){
>               
>
SynchronizedIndexWriter.insertDocument(currentIndexDocument(),"tmp/ 
> IndexPath",new MainAnalyser());
>      }
> 
> }
> 
> 
> 
> public class SynchronizedIndexWriter {
> 
>      static synchronized  void
> insertDocument(IndexDocument  
> document,String indexLocValue,Analyzer analyzerValue){
>          File f=new File(indexLocValue);
>          if (f.exists())  
>
addDocumentToIndex(document,indexLocValue,analyzerValue,false);
>          else  
>
addDocumentToIndex(document,indexLocValue,analyzerValue,true);
>      }
> 
> 
>      static  synchronized void
> addDocumentToIndex(IndexDocument  
> document,String indexLocValue,Analyzer
> analyzerValue,boolean  
> createNewIndex){
>          try{
>              IndexWriter indexWriter = new  
>
IndexWriter(indexLocValue,analyzerValue,createNewIndex);
>             
> indexWriter.addDocument(document.getDocument());
>              indexWriter.optimize();
>              indexWriter.close();
>          }
>          catch(IOException io){
> 	    // If IndexWrite don't know write on index
because
> it's locked,  
> recall of the function
>                => It's not very safe
>               
>
addDocumentToIndex(document,indexLocValue,analyzerValue,createNewIndex);
>          }
>          catch(Exception e){
> 
>          }
> 
>      }
> }

The information contained above is proprietary to BAYT.COM
and confidential.

From dquaroni@OPENRATINGS.com  Tue Aug 19 21:18:17 2003
Return-Path: <dquaroni@OPENRATINGS.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59370 invoked from network); 19 Aug 2003 21:18:17 -0000
Received: from unknown (HELO exchange.hq.openratings.com) (141.149.165.226)
  by daedalus.apache.org with SMTP; 19 Aug 2003 21:18:17 -0000
Received: by exchange.hq.openratings.com with Internet Mail Service (5.5.2655.55)
	id <QMRZPY95>; Tue, 19 Aug 2003 17:18:03 -0400
Message-ID: <4A46E75D51A2D5119F2A00B0D03D7F09010B8BE1@exchange.hq.openratings.com>
From: Dan Quaroni <dquaroni@OPENRATINGS.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: Lots of cpu time spent on IO exceptions?
Date: Tue, 19 Aug 2003 17:18:02 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi.  I'm using lucene 1.2 on a linux 2.4.18 kernel and I just did a quick
profile of lucene using runhprof under jdk1.3.1, and found that nearly 25%
of the cpu time was going towards an exception that I didn't even know
existed.  Lucene appears to be swallowing whatever it is because I'm not
seeing it thrown to my code.

What's going on?

Thanks!

CPU SAMPLES BEGIN (total = 30) Tue Aug 19 15:21:04 2003
rank   self  accum   count trace method
   1 23.33% 23.33%       7    41 java.lang.Throwable.fillInStackTrace

TRACE 41:
        java.lang.Throwable.fillInStackTrace(Throwable.java:Native method)
        java.lang.Throwable.<init>(Throwable.java:90)
        java.lang.Exception.<init>(Exception.java:38)
        java.io.IOException.<init>(IOException.java:43)
 
org.apache.lucene.analysis.standard.FastCharStream.refill(<Unknown>:Unkn
own line)
 
org.apache.lucene.analysis.standard.FastCharStream.readChar(<Unknown>:Un
known line)
 
org.apache.lucene.analysis.standard.FastCharStream.BeginToken(<Unknown>:
Unknown line)
 
org.apache.lucene.analysis.standard.StandardTokenizerTokenManager.getNex
tToken(<Unknown>:Unknown line)
 
org.apache.lucene.analysis.standard.StandardTokenizer.jj_ntk(<Unknown>:U
nknown line)
 
org.apache.lucene.analysis.standard.StandardTokenizer.next(<Unknown>:Unk
nown line)
 
org.apache.lucene.analysis.standard.StandardFilter.next(<Unknown>:Unknow
n line)
        org.apache.lucene.analysis.LowerCaseFilter.next(<Unknown>:Unknown
line)
        org.apache.lucene.analysis.StopFilter.next(<Unknown>:Unknown line)
 
org.apache.lucene.index.DocumentWriter.invertDocument(<Unknown>:Unknown
line)
        org.apache.lucene.index.DocumentWriter.addDocument(<Unknown>:Unknown
lin
e)
        org.apache.lucene.index.IndexWriter.addDocument(<Unknown>:Unknown
line)

I realize it wasn't a huge set of cpu samples, but why was all this time 

From jwilkicki@contextmedia.com  Tue Aug 19 23:47:37 2003
Return-Path: <jwilkicki@contextmedia.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55683 invoked from network); 19 Aug 2003 23:47:37 -0000
Received: from host-64-65-202-3.pro.choiceone.net (HELO contextmedia.com) (64.65.202.3)
  by daedalus.apache.org with SMTP; 19 Aug 2003 23:47:37 -0000
Received: from jwilkicki ([192.168.1.192]) by contextmedia.com ; Tue, 19 Aug 2003 17:43:56 -0400
From: "Joseph Wilkicki" <jwilkicki@contextmedia.com>
To: "Lucene User" <lucene-user@jakarta.apache.org>
Subject: Error merging indices with Lucene 1.3 RC1
Date: Tue, 19 Aug 2003 17:42:44 -0400
Message-ID: <DHEAILLDKFMMLMHGIMIEIELGDDAA.jwilkicki@contextmedia.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Rcpt-To: <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi all!

I am working with Lucene 1.3 RC1 and found what I think is a problem.
Basically, I am indexing into a RAMDirectory and then using addIndexes to
merge the RAMDirectory into a file system index.  Adding in a small
number of documents doesn't seem to work.

My test code is like this:

		Directory memDir = new RAMDirectory();

		File tempDir = new File(System.getProperty("user.dir"), "test2");
		Directory fsDir = FSDirectory.getDirectory(tempDir, true);

		IndexWriter fsWriter =
			new IndexWriter(fsDir, new StandardAnalyzer(), true);

		IndexWriter memWriter =
			new IndexWriter(memDir, new StandardAnalyzer(), true);

		Document toAdd1 = createADocument(); // creates a random document
		Document toAdd2 = createADocument();

		memWriter.addDocument(toAdd1);
		memWriter.addDocument(toAdd2);

	      String[] files = memDir.list();
	      for(int i=0;i<1;i++){
              System.out.println(files[i]); // Only lists "segments" file,
no data files
            }

		fsWriter.addIndexes(new Directory[] { memDir });

		fsWriter.close();

		IndexReader reader =
			IndexReader.open(FSDirectory.getDirectory(tempDir, false));

            Document toCompare = reader.document(1); // Results in
ArrayIndexOutofBoundsException

		reader.close();
		tempDir.delete();

I should be able to get the document at index 1, but it fails.  If I add in
12 documents by doing this:

memWriter.addDocument(toAdd1);
memWriter.addDocument(toAdd2);

for(int i=0;i<10;i++){
	memWriter.addDocument(createADocument());
}

I only see 10 documents returned by IndexReader.termDocs(Term) on the
FSDirectory after I merge the RAMDirectory in.  Any insights on why this may
be?  Am I doing something wrong in this code?

Thanks in advance for any insights.

Joe W.


From lists-kelvin@relevanz.com  Wed Aug 20 01:41:53 2003
Return-Path: <lists-kelvin@relevanz.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27095 invoked from network); 20 Aug 2003 01:41:53 -0000
Received: from visor.qala.com.sg (210.193.2.43)
  by daedalus.apache.org with SMTP; 20 Aug 2003 01:41:53 -0000
Received: from kelvin (adsl-210-193-14-85.qala.com.sg [210.193.14.85])
	by visor.qala.com.sg (8.11.3/8.11.3) with SMTP id h7K1fqt08613
	for <lucene-user@jakarta.apache.org>; Wed, 20 Aug 2003 09:41:52 +0800 (SGT)
X-Qala-Anti-Virus: This mail is checked for Viruses by Qala Antivirus Service. Server No. 2
From: Kelvin Tan <lists-kelvin@relevanz.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: PocoMail 2.64 (1120) - Licensed Version
Date: Wed, 20 Aug 2003 09:42:12 +0800
In-Reply-To: <3F4269F0.6030409@etapestry.com>
Message-ID: <200382094212.577668@kelvin>
Subject: Re: Reuse IndexSearcher?
Mime-Version: 1.0
Content-Type: text/plain; charset="ISO-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Yep. What I've done is hack a little class to pool the searchers,=
 and whenever 
I update the index, I inform this manager class, and it refreshes=
 the 
searchers. Of course, you can add sugar on top of that, like=
 specifying a TTL 
or something like that.

Kelvin

On Tue, 19 Aug 2003 13:18:24 -0500, Scott Ganyo said:
>Yes.  You can (and should for best performance) reuse an
>IndexSearcher
>as long as you don't need access to changes made to the index. =
 An
>open
>IndexSearcher won't pick up changes to the index, so if you need=
 to
>see
>the changes, you will need to open a new searcher at that=
 point.
>
>Scott
>
>Aviran Mordo wrote:
>
>>Can I reuse one Instance of IndexSearcher to do multiple=
 searches
>>(in
>>multiple threads) or do I have to instantiate a new=
 IndexSearcher
>>for
>>each search?
>>
>>
>>
>
>
>
>----------------------------------------------------------------=
-----
>To unsubscribe, e-mail:=
 lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail:=
 lucene-user-help@jakarta.apache.org





From mryyzx97@yahoo.com  Wed Aug 20 06:59:27 2003
Return-Path: <mryyzx97@yahoo.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71593 invoked from network); 20 Aug 2003 06:59:27 -0000
Received: from web80703.mail.yahoo.com (66.163.170.60)
  by daedalus.apache.org with SMTP; 20 Aug 2003 06:59:26 -0000
Message-ID: <20030820065933.15421.qmail@web80703.mail.yahoo.com>
Received: from [61.154.14.127] by web80703.mail.yahoo.com via HTTP; Tue, 19 Aug 2003 23:59:33 PDT
Date: Tue, 19 Aug 2003 23:59:33 -0700 (PDT)
From: Yang Sun <mryyzx97@yahoo.com>
Subject: Question on Lucene when indexing big pdf files
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-443298298-1061362773=:75770"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--0-443298298-1061362773=:75770
Content-Type: text/plain; charset=us-ascii

Hi,
    I am a newbie on Lucene. Now I want to index all my harddisk contents for searching, these includes html file, pdf file, word file and etc. But I have encounter a problem when I try to index pdf files, I need your help.
    My environment is lucene-1.3-rc (lucene-1.2 has also been tried), jdk1.4.02, pdfbox-0.62. I try to index all my pdfs. There seems no error when executing the indexing (I use StandardAnalyzer, you can refer to my sources in the attachment). But when I search using the keyword, I find a lot of useless results. The pdf haven't contain the content I want. Can you help me with this problem.
    In my attachment, I put my source files and the test pdf files. After I use my program to index these three pdf files, it seems all right then. But when I search the result using keyword "cisco" based on the indexing result, I get three Hits as the result. But two of the results do not contain the keyword "cisco", they are useless. I wonder if the pdfbox wrong, so I print out the indexed content, it also does not contain the keyword "cisco". I use Luke and my searcher program as the searching client, it seems no problem.
    Can anyone help me? Or any comments on this problem. Everyone is welcome. My email is suny@ffcs.fujitsu.co.jp.
    suny 

PS: sorry, I can not attach the files, this mailing list can not hold attachment? So I have to put my source codes here. My three test pdf files are totally 100k, if someone would like to help me test it, I will be very appreciate.
 
IndexPDF.java

import org.apache.lucene.index.IndexWriter;
import org.apache.lucene.analysis.standard.StandardAnalyzer;
import java.io.File;
import java.util.Date;
/**
 * FileName:
 * User: Administrator
 * Date: 2003-8-19
 * Time: 23:18:30
 * Functions:
 */
public class IndexPDF {
  File indexFiles;            //the file or directory we want to index
  public static void indexDocs(IndexWriter writer, File file) throws Exception {
    if (file.isDirectory()) {
      String[] files = file.list();
      for (int i = 0; i < files.length; i++) {
        indexDocs(writer, new File(file, files[i]));
      }
    } else if (file.getPath().endsWith(".pdf")) {
      System.out.println("adding " + file);
      writer.addDocument(PdfDocument.Document(file));
    } else {
      System.out.println("Ignoring " + file);
    }
  }
  public static void main(String args[]) throws Exception {
    if (args.length != 1) {
      System.out.println("Usage: IndexPDF <file/directory>");
      return;
    }
    try {
      Date start = new Date();
      IndexWriter writer = new IndexWriter("E:/Index", new StandardAnalyzer(), true);
      indexDocs(writer, new File(args[0]));
      writer.optimize();
      writer.close();
      Date end = new Date();
      System.out.println(end.getTime() - start.getTime());
      System.out.println(" total milliseconds");
    } catch (Exception e) {
      System.out.println(" caught a " + e.getClass() +
          "\n with message: " + e.getMessage());
    }
  }
}

PdfDocument.java

import org.apache.lucene.document.Document;
import org.apache.lucene.document.Field;
import org.pdfbox.pdfparser.PDFParser;
import org.pdfbox.pdmodel.PDDocument;
import org.pdfbox.util.PDFTextStripper;
import java.io.File;
import java.io.FileInputStream;
import java.io.ByteArrayOutputStream;
import java.io.OutputStreamWriter;
import net.vicp.resshare.weblucene.document.PDFDocument;
/**
 * FileName:
 * User: Administrator
 * Date: 2003-8-19
 * Time: 23:20:54
 * Functions:
 */
public class PdfDocument {
  /* lucene object which represent a single data file */
  static Document doc = new Document();
  public static Document Document(File f ) {
    //set relative path to the path field in lucene
    doc.add(Field.UnIndexed("path", f.getPath()));
    System.out.println("Path is " + f.getPath());
    // use 10000 as the limit for temporary use
    doc.add(Field.Text("content", getPDFContent(f)));
    doc.add(Field.UnIndexed("filetype", "pdf"));
    doc.add(Field.UnIndexed("title", f.getName()));
    return doc;
  }
  /**
   * get the text content from the specified pdf file.
   * @param f the pdf we should extract the content
   * @return  the string contains the pdf content
   */
  private static String getPDFContent(File f) {
    byte[] contents = null;
    try {
      FileInputStream is = new FileInputStream(f);
      PDFParser parser = new PDFParser( is );
      parser.parse();
      PDDocument nbsp = parser.getPDDocument();
      ByteArrayOutputStream out = new ByteArrayOutputStream();
      OutputStreamWriter writer = new OutputStreamWriter( out );
      PDFTextStripper stripper = new PDFTextStripper();
      stripper.writeText(nbsp.getDocument(), writer);
      writer.close();
      contents = out.toByteArray();
    } catch (Exception e) {
      e.printStackTrace();
      return "";
    }
    String ts = new String(contents);
    System.out.println("the string length is"+contents.length+"\n");
    return ts;
  }
}



---------------------------------
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
--0-443298298-1061362773=:75770--

From hammer@dezide.com  Wed Aug 20 07:23:12 2003
Return-Path: <hammer@dezide.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22155 invoked from network); 20 Aug 2003 07:23:12 -0000
Received: from mailserver1.webhot2.dk (62.61.159.100)
  by daedalus.apache.org with SMTP; 20 Aug 2003 07:23:12 -0000
Received: from fisk [80.165.33.90] by mailserver1.webhot2.dk
  (SMTPD32-6.04) id A22A8C00DA; Wed, 20 Aug 2003 09:24:26 +0200
Message-ID: <004601c366eb$df7aa390$5750bec0@fisk>
From: "Lars Hammer" <hammer@dezide.com>
To: "lucene mailing list" <lucene-user@jakarta.apache.org>
Subject: updating a document
Date: Wed, 20 Aug 2003 09:22:54 +0200
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0043_01C366FC.A2B4DE60"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-RBL-Warning: REVDNS: This E-mail was sent from a mail server 80.165.33.90 with no reverse DNS entry.
X-Note: This E-mail was scanned for SPAM and VIRUSES.
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0043_01C366FC.A2B4DE60
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hello

I'm trying to update a document in my index. As far as i can tell from =
the FAQ and other places of documentation, the only way to do this is by =
deleting the document and adding it again.

Now, I want to be able to add the document a new but keep from having to =
re-parse the original file again. That is i want to extract a document =
from the index (and keep a copy in memory), delete the document from the =
index, update a field in the doc in memory and add the doc to index once =
again.

I imagine that it has to be done something like this :

1. extract the desired document from index with a function returning the =
document (not complete code):

Document doc;
String fileNameToGetFromIdx
String tempName

   for ( int i =3D 0; i < numDocs; i++ )
   {
    if ( !indexreader.isDeleted( i ) )
    {
     doc =3D indexreader.document( i );

     if ( doc !=3D null )
     {
      tmpName =3D ( doc.get( "pathToFileOnDisk" ) );=20

      if ( tmpName.equals( fileNameToGetFromIdx ) )
      {
       ir.delete( i );
       return doc;
      }
     }
    }
   }

This would leave me with the document in memory and the document deleted =
from the index -right?


2. update a field in the document by adding the field again.

 doc.add( Field.Text( "someField", "value" ) );

The API for Document says that if multiple fields exists with the same =
name, the value of the last value added is returned when getting the =
value.


3. add the document to the index again

indexwriter.addDocument( doc );


Is this a correct way of doing an update because i can't seem to get i =
to work properly.
The reason for trying it this way is to not having to reindex the =
original file again. I have many large PDF documents which takes some =
time to index :-(

Bottom line -when i do a search and a list of search results are =
displayed to the user, the user clicks the title of the document and the =
document is shown to the user. Before the document is shown i execute an =
update function to increase the number of times the documents has been =
visited -hence i need to update the visited field of that particular =
document in the index.

Uhm -hope you get the idea :-)

Any suggestions and comments are very welcome

thanks in advance

BTW : does anyone know if an update function is planned to be added to =
lucene? Would it be hard to write it yourself?


/Lars Hammer

www.dezide.com
------=_NextPart_000_0043_01C366FC.A2B4DE60--



From dlust@denali.be  Wed Aug 20 07:29:15 2003
Return-Path: <dlust@denali.be>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32912 invoked from network); 20 Aug 2003 07:29:15 -0000
Received: from ns1.denali.be (HELO mailer.denali.be) (194.183.235.197)
  by daedalus.apache.org with SMTP; 20 Aug 2003 07:29:15 -0000
Received: from denali.be (unknown [192.168.3.254])
	by mailer.denali.be (Postfix) with ESMTP id EF38E344A5
	for <lucene-user@jakarta.apache.org>; Wed, 20 Aug 2003 09:01:30 +0200 (CEST)
Date: Wed, 20 Aug 2003 09:28:58 +0200
Subject: Re: Question on Lucene when indexing big pdf files
Content-Type: multipart/alternative; boundary=Apple-Mail-2--694523401
Mime-Version: 1.0 (Apple Message framework v551)
From: Damien Lust <dlust@denali.be>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
In-Reply-To: <20030820065933.15421.qmail@web80703.mail.yahoo.com>
Message-Id: <F6A5A9E6-D2DF-11D7-8EBC-000393AE344A@denali.be>
X-Mailer: Apple Mail (2.551)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--Apple-Mail-2--694523401
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset=US-ASCII;
	format=flowed

I don't know if it can help you but here you are my code to extract 
code of pdf doc:

   /**
    * Extracts text from a pdf document
    *
    * @param in The InputStream representing the pdf file.
    * @return The text in the file
    */
   public String extractText(InputStream in)
   {
     String s = null;
     try
     {
       PDFTextStripper _stripper = new PDFTextStripper();
       PDFParser parser = new PDFParser(in);
       parser.parse();
       s = _stripper.getText(parser.getDocument());
     }
     catch (Throwable t)
     {
       t.printStackTrace();
     }
     return s;
   }






On Wednesday, August 20, 2003, at 08:59 AM, Yang Sun wrote:

> Hi,
>     I am a newbie on Lucene. Now I want to index all my harddisk 
> contents for searching, these includes html file, pdf file, word file 
> and etc. But I have encounter a problem when I try to index pdf files, 
> I need your help.
>     My environment is lucene-1.3-rc (lucene-1.2 has also been tried), 
> jdk1.4.02, pdfbox-0.62. I try to index all my pdfs. There seems no 
> error when executing the indexing (I use StandardAnalyzer, you can 
> refer to my sources in the attachment). But when I search using the 
> keyword, I find a lot of useless results. The pdf haven't contain the 
> content I want. Can you help me with this problem.
>     In my attachment, I put my source files and the test pdf files. 
> After I use my program to index these three pdf files, it seems all 
> right then. But when I search the result using keyword "cisco" based 
> on the indexing result, I get three Hits as the result. But two of the 
> results do not contain the keyword "cisco", they are useless. I wonder 
> if the pdfbox wrong, so I print out the indexed content, it also does 
> not contain the keyword "cisco". I use Luke and my searcher program as 
> the searching client, it seems no problem.
>     Can anyone help me? Or any comments on this problem. Everyone is 
> welcome. My email is suny@ffcs.fujitsu.co.jp.
>     suny
>
> PS: sorry, I can not attach the files, this mailing list can not hold 
> attachment? So I have to put my source codes here. My three test pdf 
> files are totally 100k, if someone would like to help me test it, I 
> will be very appreciate.
>
> IndexPDF.java
>
> import org.apache.lucene.index.IndexWriter;
> import org.apache.lucene.analysis.standard.StandardAnalyzer;
> import java.io.File;
> import java.util.Date;
> /**
>  * FileName:
>  * User: Administrator
>  * Date: 2003-8-19
>  * Time: 23:18:30
>  * Functions:
>  */
> public class IndexPDF {
>   File indexFiles;            //the file or directory we want to index
>   public static void indexDocs(IndexWriter writer, File file) throws 
> Exception {
>     if (file.isDirectory()) {
>       String[] files = file.list();
>       for (int i = 0; i < files.length; i++) {
>         indexDocs(writer, new File(file, files[i]));
>       }
>     } else if (file.getPath().endsWith(".pdf")) {
>       System.out.println("adding " + file);
>       writer.addDocument(PdfDocument.Document(file));
>     } else {
>       System.out.println("Ignoring " + file);
>     }
>   }
>   public static void main(String args[]) throws Exception {
>     if (args.length != 1) {
>       System.out.println("Usage: IndexPDF <file/directory>");
>       return;
>     }
>     try {
>       Date start = new Date();
>       IndexWriter writer = new IndexWriter("E:/Index", new 
> StandardAnalyzer(), true);
>       indexDocs(writer, new File(args[0]));
>       writer.optimize();
>       writer.close();
>       Date end = new Date();
>       System.out.println(end.getTime() - start.getTime());
>       System.out.println(" total milliseconds");
>     } catch (Exception e) {
>       System.out.println(" caught a " + e.getClass() +
>           "\n with message: " + e.getMessage());
>     }
>   }
> }
>
> PdfDocument.java
>
> import org.apache.lucene.document.Document;
> import org.apache.lucene.document.Field;
> import org.pdfbox.pdfparser.PDFParser;
> import org.pdfbox.pdmodel.PDDocument;
> import org.pdfbox.util.PDFTextStripper;
> import java.io.File;
> import java.io.FileInputStream;
> import java.io.ByteArrayOutputStream;
> import java.io.OutputStreamWriter;
> import net.vicp.resshare.weblucene.document.PDFDocument;
> /**
>  * FileName:
>  * User: Administrator
>  * Date: 2003-8-19
>  * Time: 23:20:54
>  * Functions:
>  */
> public class PdfDocument {
>   /* lucene object which represent a single data file */
>   static Document doc = new Document();
>   public static Document Document(File f ) {
>     //set relative path to the path field in lucene
>     doc.add(Field.UnIndexed("path", f.getPath()));
>     System.out.println("Path is " + f.getPath());
>     // use 10000 as the limit for temporary use
>     doc.add(Field.Text("content", getPDFContent(f)));
>     doc.add(Field.UnIndexed("filetype", "pdf"));
>     doc.add(Field.UnIndexed("title", f.getName()));
>     return doc;
>   }
>   /**
>    * get the text content from the specified pdf file.
>    * @param f the pdf we should extract the content
>    * @return  the string contains the pdf content
>    */
>   private static String getPDFContent(File f) {
>     byte[] contents = null;
>     try {
>       FileInputStream is = new FileInputStream(f);
>       PDFParser parser = new PDFParser( is );
>       parser.parse();
>       PDDocument nbsp = parser.getPDDocument();
>       ByteArrayOutputStream out = new ByteArrayOutputStream();
>       OutputStreamWriter writer = new OutputStreamWriter( out );
>       PDFTextStripper stripper = new PDFTextStripper();
>       stripper.writeText(nbsp.getDocument(), writer);
>       writer.close();
>       contents = out.toByteArray();
>     } catch (Exception e) {
>       e.printStackTrace();
>       return "";
>     }
>     String ts = new String(contents);
>     System.out.println("the string length is"+contents.length+"\n");
>     return ts;
>   }
> }
>
>
>
> ---------------------------------
> Do you Yahoo!?
> Yahoo! SiteBuilder - Free, easy-to-use web site design software
--Apple-Mail-2--694523401--


From ben@csh.rit.edu  Wed Aug 20 11:35:05 2003
Return-Path: <ben@csh.rit.edu>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3614 invoked from network); 20 Aug 2003 11:35:05 -0000
Received: from blacksheep.csh.rit.edu (129.21.60.6)
  by daedalus.apache.org with SMTP; 20 Aug 2003 11:35:05 -0000
Received: from fury.csh.rit.edu (fury.csh.rit.edu [2001:470:1f00:135:a00:20ff:fe8d:5399])
	by blacksheep.csh.rit.edu (Postfix) with ESMTP id E098B11F
	for <lucene-user@jakarta.apache.org>; Wed, 20 Aug 2003 07:34:41 -0400 (EDT)
Received: by fury.csh.rit.edu (Postfix, from userid 38448)
	id 855CA12A6; Wed, 20 Aug 2003 07:34:41 -0400 (EDT)
Received: from localhost (localhost [127.0.0.1])
	by fury.csh.rit.edu (Postfix) with ESMTP id 4F10712A1
	for <lucene-user@jakarta.apache.org>; Wed, 20 Aug 2003 07:34:41 -0400 (EDT)
Date: Wed, 20 Aug 2003 07:34:41 -0400 (EDT)
From: Ben Litchfield <ben@csh.rit.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Question on Lucene when indexing big pdf files
In-Reply-To: <20030820065933.15421.qmail@web80703.mail.yahoo.com>
Message-ID: <Pine.GSO.4.53.0308200732510.11807@fury.csh.rit.edu>
References: <20030820065933.15421.qmail@web80703.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N



>     "cisco". I use Luke and my searcher program as the searching client,
>     it seems no problem. Can anyone help me? Or any comments on this

When you use luke to look at your index does it show the correct contents
for those documents?

Ben

From Gregor.Heinrich@igd.fhg.de  Wed Aug 20 14:49:36 2003
Return-Path: <Gregor.Heinrich@igd.fhg.de>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88599 invoked from network); 20 Aug 2003 14:49:36 -0000
Received: from igdmail.igd.fhg.de (146.140.28.14)
  by daedalus.apache.org with SMTP; 20 Aug 2003 14:49:35 -0000
Received: from pcara ([192.168.202.41]) by igdmail.igd.fhg.de
          (Netscape Messaging Server 3.6)  with SMTP id AAA7365
          for <lucene-user@jakarta.apache.org>;
          Wed, 20 Aug 2003 16:48:36 +0200
Reply-To: <heinrich@igd.fhg.de>
From: "Gregor Heinrich" <Gregor.Heinrich@igd.fhg.de>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Similar Document Search
Date: Wed, 20 Aug 2003 16:47:05 +0200
Message-ID: <008e01c3672a$20f96b10$2501a8c0@pcara>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
In-Reply-To: <3F4177E3.30901@dstc.edu.au>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello Terry,

Lucene can do forward indexing, as Mark Rosen outlines in his Master's
thesis: http://citeseer.nj.nec.com/rosen03email.html.

We use a similar approach for (probabilistic) latent semantic analysis and
vector space searches. However, the solution is not really completely fixed
yet, therefore no code at this time...

Best regards,

Gregor




-----Original Message-----
From: Peter Becker [mailto:pbecker@dstc.edu.au]
Sent: Tuesday, August 19, 2003 3:06 AM
To: Lucene Users List
Subject: Re: Similar Document Search


Hi Terry,

we have been thinking about the same problem and in the end we decided
that most likely the only good solution to this is to keep a
non-inverted index, i.e. a map from the documents to the terms. Then you
can query the most terms for the documents and query other documents
matching parts of this (where you get the usual question of what is
actually interesting: high frequency, low frequency or the mid range).

Indexing would probably be quite expensive since Lucene doesn't seem to
support changes in the index, and the index for the terms would change
all the time. We haven't implemented it yet, but it shouldn't be hard to
code. I just wouldn't expect good performance when indexing large
collections.

  Peter


Terry Steichen wrote:

>Is it possible without extensive additional coding to use Lucene to conduct
a search based on a document rather than a query?  (One use of this would be
to refine a search by selecting one of the hits returned from the initial
query and subsequently retrieving other documents "like" the selected one.)
>
>Regards,
>
>Terry
>
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



From mryyzx97@yahoo.com  Wed Aug 20 14:54:59 2003
Return-Path: <mryyzx97@yahoo.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98708 invoked from network); 20 Aug 2003 14:54:59 -0000
Received: from web80707.mail.yahoo.com (66.163.170.64)
  by daedalus.apache.org with SMTP; 20 Aug 2003 14:54:59 -0000
Message-ID: <20030820135443.801.qmail@web80707.mail.yahoo.com>
Received: from [218.5.12.125] by web80707.mail.yahoo.com via HTTP; Wed, 20 Aug 2003 06:54:43 PDT
Date: Wed, 20 Aug 2003 06:54:43 -0700 (PDT)
From: Yang Sun <mryyzx97@yahoo.com>
Subject: Re: Question on Lucene when indexing big pdf files
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <Pine.GSO.4.53.0308200732510.11807@fury.csh.rit.edu>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1028382079-1061387683=:485"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--0-1028382079-1061387683=:485
Content-Type: text/plain; charset=us-ascii

Hi,
    When I use luke to look at my index, it seems all right. The content in the index is well, all the contents are extracted from the pdf file. I copy the pdf file content (namely "content" field), and search the keyword, but I can not found the keyword either. I think there is nothing wrong with the pdfbox program.

    Would you please help me to test this situation. I have three pdf file(totally 100k), after I index them,  I will get useless results when I ues "cisco" as the keyword. If you would like to help me, I will send you my test source files and the three pdf files to you. I will be very appreciate for your help.

Ben Litchfield <ben@csh.rit.edu> wrote:


> "cisco". I use Luke and my searcher program as the searching client,
> it seems no problem. Can anyone help me? Or any comments on this

When you use luke to look at your index does it show the correct contents
for those documents?

Ben

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
--0-1028382079-1061387683=:485--

From dquaroni@OPENRATINGS.com  Wed Aug 20 18:19:42 2003
Return-Path: <dquaroni@OPENRATINGS.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74942 invoked from network); 20 Aug 2003 18:19:42 -0000
Received: from unknown (HELO exchange.hq.openratings.com) (141.149.165.226)
  by daedalus.apache.org with SMTP; 20 Aug 2003 18:19:42 -0000
Received: by exchange.hq.openratings.com with Internet Mail Service (5.5.2655.55)
	id <QMRZP7WR>; Wed, 20 Aug 2003 14:03:44 -0400
Message-ID: <4A46E75D51A2D5119F2A00B0D03D7F09010B8BE8@exchange.hq.openratings.com>
From: Dan Quaroni <dquaroni@OPENRATINGS.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: Fastest batch indexing with 1.3-rc1
Date: Wed, 20 Aug 2003 14:03:43 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hey there.  What's the fastest way to do a batch index with lucene 1.3-rc1
on a dual or quad-processor box?  The files I'm indexing are very easy to
split divide among multiple threads.

Here's what I've done at this point:

Each thread has its own IndexWriter writing to its own RAMDirectory.  Every
<number> of documents, I mergeIndexes the thread's index to the main disk
index.

The thread writers have a mergeFactor of 50.
The disk indexWriter has a mergeFactor of 30.
I call optimize only on the main disk index, and only once at the very end.

Just doing this has shown great improvements for me, but I want to squeeze
out every bit of performance I can.  What's the fastest way to mergeIndexes?
Should I use a low mergeFactor when working with RAMDirectorys?  Should I
optimize the thread index before I merge it to the main one?

Thanks!

From cutting@lucene.com  Wed Aug 20 19:31:39 2003
Return-Path: <cutting@lucene.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50810 invoked from network); 20 Aug 2003 19:31:39 -0000
Received: from sccrmhc11.comcast.net (204.127.202.55)
  by daedalus.apache.org with SMTP; 20 Aug 2003 19:31:39 -0000
Received: from lucene.com (12-210-200-74.client.attbi.com[12.210.200.74](untrusted sender))
          by comcast.net (sccrmhc11) with SMTP
          id <2003082019254301100qfsf2e>; Wed, 20 Aug 2003 19:25:43 +0000
Message-ID: <3F43CB35.7060600@lucene.com>
Date: Wed, 20 Aug 2003 12:25:41 -0700
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030701
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Searching while optimizing
References: <D15E9D991E0FD41184C90080C80D2746B49C0A@MUSCOVITE>
In-Reply-To: <D15E9D991E0FD41184C90080C80D2746B49C0A@MUSCOVITE>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

That is an old FAQ item.  Lucene has been thread safe for a while now.

Doug

Steve Rajavuori wrote:
> This seems to contradict an item from the Lucene FAQ:
> 
> <<
> 41. Can I modify the index while performing ongoing searches ?
> Yes and no. At the time of writing this FAQ (June 2001), Lucene is not
> thread safe in this regard. Here is a quote from Doug Cutting, the creator
> of Lucene: 
> 
> 
> The problems are only when you add documents or optimize an index, and then
> search with an IndexReader that was constructed before those changes to the
> index were made. 
> A possible work around is to perform the index updates in a parable and
> separate index and switch to the new index when its updating is done. The
> switching may be done for example, using a variable that will points to the
> directory of the current active index. Since searches have a relatively
> short life time, you may discard (or resue the old index) short time after
> performing the switch (this grace period should be a little longer if you
> want to let all searches that involved paging through the hit list to be
> completed with consistent results). 
> 
> 
> Can you explain further?
> 
> -----Original Message-----
> From: Doug Cutting [mailto:cutting@lucene.com]
> Sent: Thursday, July 31, 2003 2:31 PM
> To: Lucene Users List
> Subject: Re: Searching while optimizing
> 
> 
> Aviran Mordo wrote:
> 
>>Is it possible and safe to search an index while another thread adds
>>documents or optimizes the same index?
> 
> 
> Yes.
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


From cutting@lucene.com  Wed Aug 20 20:12:09 2003
Return-Path: <cutting@lucene.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57418 invoked from network); 20 Aug 2003 20:12:09 -0000
Received: from sccrmhc11.comcast.net (204.127.202.55)
  by daedalus.apache.org with SMTP; 20 Aug 2003 20:12:09 -0000
Received: from lucene.com (12-210-200-74.client.attbi.com[12.210.200.74](untrusted sender))
          by comcast.net (sccrmhc11) with SMTP
          id <2003082020080501100qg8jve>; Wed, 20 Aug 2003 20:08:05 +0000
Message-ID: <3F43D523.70509@lucene.com>
Date: Wed, 20 Aug 2003 13:08:03 -0700
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030701
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene Index on NFS Server
References: <16167.53762.766191.172922@morus.xipolis.net>	<3F296DF1.5050802@lucene.com> <16170.1543.335095.507678@morus.xipolis.net>
In-Reply-To: <16170.1543.335095.507678@morus.xipolis.net>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I don't know the details of how lock files are unreliable over NFS, only 
that they are.  The window of vulnerability, when the lock file is used, 
is when one JVM is opening all of the files in an index, and another is 
completing an update at the same time.  If the updating machine removes 
some files after the opening machine has read the 'segments' file but 
before it has opened all of the files, then the open will fail with a 
FileNotFound exception.  If your application can guarantee that indexes 
are not opened while an update is completing (under IndexWriter.close() 
or IndexReader.close() for deletions) then this will not be a problem.

Doug

Morus Walter wrote:
> Doug Cutting writes:
> 
> 
>>>Can I have a lucene index on a NFS filesystem without problems
>>>(access is readonly)?
>>
>>So long as all access is read-only, there should not be a problem.  Keep 
>>in mind however that lock files are known to not work correctly over NFS.
>>
> 
> Hmm. Sorry, I was a bit unprecise (at least in the quoted part) so I'm 
> not sure, if I got that correctly. Access over NFS is readonly, but 
> there would be write access on the NFS server itself (local filesystem).
> Is this ok? Or should I use a "update a copy of the index and exchange
> indexes afterwards" strategy?
> 
> TIA
> 	Morus
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


From dquaroni@OPENRATINGS.com  Wed Aug 20 20:57:45 2003
Return-Path: <dquaroni@OPENRATINGS.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77367 invoked from network); 20 Aug 2003 20:57:45 -0000
Received: from unknown (HELO exchange.hq.openratings.com) (141.149.165.226)
  by daedalus.apache.org with SMTP; 20 Aug 2003 20:57:45 -0000
Received: by exchange.hq.openratings.com with Internet Mail Service (5.5.2655.55)
	id <QMRZP8F6>; Wed, 20 Aug 2003 16:10:48 -0400
Message-ID: <4A46E75D51A2D5119F2A00B0D03D7F09010B8BF0@exchange.hq.openratings.com>
From: Dan Quaroni <dquaroni@OPENRATINGS.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Fastest batch indexing with 1.3-rc1
Date: Wed, 20 Aug 2003 16:10:48 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Looks like I spoke too soon... As the index gets larger, time to merge
becomes prohibitably high.  It appears to increase linearly.

Oh well.  I guess I'll just have to go with about 3ms/doc.

From cutting@lucene.com  Wed Aug 20 21:53:32 2003
Return-Path: <cutting@lucene.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6190 invoked from network); 20 Aug 2003 21:53:32 -0000
Received: from rwcrmhc11.comcast.net (204.127.198.35)
  by daedalus.apache.org with SMTP; 20 Aug 2003 21:53:32 -0000
Received: from lucene.com (12-210-200-74.client.attbi.com[12.210.200.74](untrusted sender))
          by comcast.net (rwcrmhc11) with SMTP
          id <2003082021533301300a5s6se>; Wed, 20 Aug 2003 21:53:33 +0000
Message-ID: <3F43EDDC.9040101@lucene.com>
Date: Wed, 20 Aug 2003 14:53:32 -0700
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030701
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Fastest batch indexing with 1.3-rc1
References: <4A46E75D51A2D5119F2A00B0D03D7F09010B8BF0@exchange.hq.openratings.com>
In-Reply-To: <4A46E75D51A2D5119F2A00B0D03D7F09010B8BF0@exchange.hq.openratings.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

As the index grows, disk i/o becomes the bottleneck.  The default 
indexing parameters do a pretty good job of optimizing this.  But if you 
have lots of CPUs and lots of disks, you might try building several 
indexes in parallel, each containing a subset of the documents, optimize 
each index and finally merge them all into a single index at the end. 
But you need lots of i/o capacity for this to pay off.

Doug

Dan Quaroni wrote:
> Looks like I spoke too soon... As the index gets larger, time to merge
> becomes prohibitably high.  It appears to increase linearly.
> 
> Oh well.  I guess I'll just have to go with about 3ms/doc.
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


From Leo.G@seznam.cz  Wed Aug 20 22:24:11 2003
Return-Path: <Leo.G@seznam.cz>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69761 invoked from network); 20 Aug 2003 22:24:11 -0000
Received: from smtp-out3.iol.cz (194.228.2.91)
  by daedalus.apache.org with SMTP; 20 Aug 2003 22:24:11 -0000
Received: from fw.shark (gprs12-201.eurotel.cz [160.218.197.201])
	by smtp-out3.iol.cz (Internet on Line ESMP server) with ESMTP id 5A46933F14
	for <lucene-user@jakarta.apache.org>; Thu, 21 Aug 2003 00:23:59 +0200 (CEST)
Received: from seznam.cz (0-3.shark [192.168.0.3])
	by fw.shark (8.12.8/8.12.5) with ESMTP id h7KMQta5001879
	for <lucene-user@jakarta.apache.org>; Thu, 21 Aug 2003 00:26:57 +0200
Message-ID: <3F43F3C5.5000007@seznam.cz>
Date: Thu, 21 Aug 2003 00:18:45 +0200
From: Leo Galambos <Leo.G@seznam.cz>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Fastest batch indexing with 1.3-rc1
References: <4A46E75D51A2D5119F2A00B0D03D7F09010B8BF0@exchange.hq.openratings.com> <3F43EDDC.9040101@lucene.com>
In-Reply-To: <3F43EDDC.9040101@lucene.com>
X-Enigmail-Version: 0.76.4.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Isn't it better for Dan to skip the optimization phase before merging? I 
am not sure, but he could save some time on this (if he has enough file 
handles for that, of course). What strategy do you use in "nutch"?

THX

-g-


Doug Cutting wrote:

> As the index grows, disk i/o becomes the bottleneck.  The default 
> indexing parameters do a pretty good job of optimizing this.  But if 
> you have lots of CPUs and lots of disks, you might try building 
> several indexes in parallel, each containing a subset of the 
> documents, optimize each index and finally merge them all into a 
> single index at the end. But you need lots of i/o capacity for this to 
> pay off.
>
> Doug
>
> Dan Quaroni wrote:
>
>> Looks like I spoke too soon... As the index gets larger, time to merge
>> becomes prohibitably high.  It appears to increase linearly.
>>
>> Oh well.  I guess I'll just have to go with about 3ms/doc.
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>



From cutting@lucene.com  Wed Aug 20 22:31:07 2003
Return-Path: <cutting@lucene.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85119 invoked from network); 20 Aug 2003 22:31:07 -0000
Received: from rwcrmhc12.comcast.net (216.148.227.85)
  by daedalus.apache.org with SMTP; 20 Aug 2003 22:31:07 -0000
Received: from lucene.com (12-210-200-74.client.attbi.com[12.210.200.74](untrusted sender))
          by comcast.net (rwcrmhc12) with SMTP
          id <20030820222317014002sanoe>; Wed, 20 Aug 2003 22:23:17 +0000
Message-ID: <3F43F4D3.3020007@lucene.com>
Date: Wed, 20 Aug 2003 15:23:15 -0700
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030701
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Will failed optimize corrupt an index?
References: <4A46E75D51A2D5119F2A00B0D03D7F09010B8BD4@exchange.hq.openratings.com>
In-Reply-To: <4A46E75D51A2D5119F2A00B0D03D7F09010B8BD4@exchange.hq.openratings.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

The index should be fine.  Lucene index updates are atomic.

Doug

Dan Quaroni wrote:
> My index grew about 7 gigs larger than I projected it would, and it ran out
> of disk space during optimize.  Does lucene have transactions or anything
> that would prevent this from corrupting an index, or do I need to generate
> the index again?
> 
> Thanks!
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


From cutting@lucene.com  Thu Aug 21 04:45:05 2003
Return-Path: <cutting@lucene.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60778 invoked from network); 21 Aug 2003 04:45:05 -0000
Received: from rwcrmhc11.comcast.net (204.127.198.35)
  by daedalus.apache.org with SMTP; 21 Aug 2003 04:45:05 -0000
Received: from lucene.com (12-210-200-74.client.attbi.com[12.210.200.74](untrusted sender))
          by comcast.net (rwcrmhc11) with SMTP
          id <2003082104410501300a9h5oe>; Thu, 21 Aug 2003 04:41:05 +0000
Message-ID: <3F444D5F.9010505@lucene.com>
Date: Wed, 20 Aug 2003 21:41:03 -0700
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030701
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Fastest batch indexing with 1.3-rc1
References: <4A46E75D51A2D5119F2A00B0D03D7F09010B8BF0@exchange.hq.openratings.com> <3F43EDDC.9040101@lucene.com> <3F43F3C5.5000007@seznam.cz>
In-Reply-To: <3F43F3C5.5000007@seznam.cz>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Leo Galambos wrote:
> Isn't it better for Dan to skip the optimization phase before merging? I 
> am not sure, but he could save some time on this (if he has enough file 
> handles for that, of course).

It depends.  If you have 10 machines, each with a single disk, that you 
use for indexing in parallel, and copy all of the indexes to a single 
machine for the final merge, then you're probably better off optimizing 
each index before copying it and merging it with the others, in order to 
maximize the amount of work done in parallel, using all disk spindles. 
However, if instead you have one machine with ten processors and a 
filesystem striped across ten disks, then, in theory, optimizing before 
merging might not help much, since the single-threaded final merge could 
use all ten disks at once.  Even then, though the final merge would be 
doing some CPU work serially which would have been done in parallel in 
the first configuration.  In general I think it's best to do as much 
work as possible in parallel.

 > What strategy do you use in "nutch"?

Nutch builds optimized indexes for each fetched "segment" (n.b., a Nutch 
segment is different than a Lucene segment) and only merges segment 
indexes as the final step before deploying them for searching.  Nutch 
has a rolling set of active segments: the oldest are periodically 
discarded and replaced with newly fetched segments.  Before a new set of 
segments is deployed, duplicate elimination processing must occur, which 
marks duplicates as deleted prior to merging new production indexes.

Doug


From pbecker@dstc.edu.au  Thu Aug 21 05:39:14 2003
Return-Path: <pbecker@dstc.edu.au>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63100 invoked from network); 21 Aug 2003 05:39:14 -0000
Received: from kauri.itee.uq.edu.au (130.102.66.24)
  by daedalus.apache.org with SMTP; 21 Aug 2003 05:39:14 -0000
Received: from nut.itee.uq.edu.au (nut.itee.uq.edu.au [130.102.66.13])
	by kauri.itee.uq.edu.au (8.12.9/8.12.9) with ESMTP id h7L5bUSs000660
	for <lucene-user@jakarta.apache.org>; Thu, 21 Aug 2003 15:37:31 +1000 (EST)
Received: from dstc.edu.au (g613-8949.itee.uq.edu.au [130.102.66.107])
	by nut.itee.uq.edu.au (8.12.9/8.12.9) with ESMTP id h7L5bUKj025516
	for <lucene-user@jakarta.apache.org>; Thu, 21 Aug 2003 15:37:30 +1000 (EST)
Message-ID: <3F445A9A.1000502@dstc.edu.au>
Date: Thu, 21 Aug 2003 15:37:30 +1000
From: Peter Becker <pbecker@dstc.edu.au>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Similar Document Search
References: <008e01c3672a$20f96b10$2501a8c0@pcara>
In-Reply-To: <008e01c3672a$20f96b10$2501a8c0@pcara>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Checked: This message probably not SPAM
X-Spam-Score: -2.1
X-Spam-Tests: EMAIL_ATTRIBUTION,IN_REP_TO,REFERENCES,REPLY_WITH_QUOTES,USER_AGENT_MOZILLA_UA,X_ACCEPT_LANG
X-Spam-Report: -2.10 points, 8 required;
	* -0.5 -- Has a valid-looking References header
	* -0.5 -- Has a In-Reply-To header
	*  0.0 -- User-Agent header indicates a non-spam MUA (Mozilla)
	* -0.1 -- Has a X-Accept-Language  header
	* -0.5 -- BODY: Contains what looks like an email attribution
	* -0.5 -- Reply with quoted text
X-Scanned-By: MIMEDefang 2.35
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi all,

it seems there are quite a few people looking for similar features, i.e. 
(a) document identity and (b) forward indexing. So far we hacked (a) by 
using a wrapper implementing equals/hashcode based on a unique field, 
but of course that assumes maintaining a unique field in the index. (b) 
is something we haven't tackled yet, but plan to.

The source code for Mark's thesis seems to be part of the Haystack 
distribution. The comments in the files put it under Apche-license. This 
seems to make it a good candidate to be included at least in the Lucene 
sandbox -- although I haven't tried it myself yet. But it sounds like a 
good candidate for us to use.

Since the haystack source is a bit larger and I actually couldn't get 
the download at the moment, here is a copy of the relevant bit grabbed 
from one of my colleague's machines:

  http://www.itee.uq.edu.au/~pbecker/luceneHaystack.tar.gz (22kb)

Note that this is just a tarball of src/org/apache/lucene out of some 
Haystack source. Untested, unmodified.

I'd love to see something like this supported in the Lucene context were 
people might actually find it :-)

  Peter


Gregor Heinrich wrote:

>Hello Terry,
>
>Lucene can do forward indexing, as Mark Rosen outlines in his Master's
>thesis: http://citeseer.nj.nec.com/rosen03email.html.
>
>We use a similar approach for (probabilistic) latent semantic analysis and
>vector space searches. However, the solution is not really completely fixed
>yet, therefore no code at this time...
>
>Best regards,
>
>Gregor
>
>
>
>
>-----Original Message-----
>From: Peter Becker [mailto:pbecker@dstc.edu.au]
>Sent: Tuesday, August 19, 2003 3:06 AM
>To: Lucene Users List
>Subject: Re: Similar Document Search
>
>
>Hi Terry,
>
>we have been thinking about the same problem and in the end we decided
>that most likely the only good solution to this is to keep a
>non-inverted index, i.e. a map from the documents to the terms. Then you
>can query the most terms for the documents and query other documents
>matching parts of this (where you get the usual question of what is
>actually interesting: high frequency, low frequency or the mid range).
>
>Indexing would probably be quite expensive since Lucene doesn't seem to
>support changes in the index, and the index for the terms would change
>all the time. We haven't implemented it yet, but it shouldn't be hard to
>code. I just wouldn't expect good performance when indexing large
>collections.
>
>  Peter
>
>
>Terry Steichen wrote:
>
>  
>
>>Is it possible without extensive additional coding to use Lucene to conduct
>>    
>>
>a search based on a document rather than a query?  (One use of this would be
>to refine a search by selecting one of the hits returned from the initial
>query and subsequently retrieving other documents "like" the selected one.)
>  
>
>>Regards,
>>
>>Terry
>>
>>
>>
>>    
>>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>  
>



From tom.killeen@thomson.com  Thu Aug 21 13:02:38 2003
Return-Path: <tom.killeen@thomson.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37660 invoked from network); 21 Aug 2003 13:02:38 -0000
Received: from mailao.westgroup.com (167.68.1.71)
  by daedalus.apache.org with SMTP; 21 Aug 2003 13:02:38 -0000
Received: from morton.int.westgroup.com (localhost.localdomain [127.0.0.1])
	by mailao.westgroup.com (8.12.9/8.12.9) with ESMTP id h7LClisx029514
	for <lucene-user@jakarta.apache.org>; Thu, 21 Aug 2003 07:47:44 -0500
Received: from eg-msgimc-a03.int.westgroup.com (eg-msgimc-a03.int.westgroup.com [163.231.102.184])
	by morton.int.westgroup.com (8.12.9/8.12.9) with ESMTP id h7LClh5K029502
	for <lucene-user@jakarta.apache.org>; Thu, 21 Aug 2003 07:47:43 -0500
Received: by eg-msgimc-a03.int.westgroup.com with Internet Mail Service (5.5.2656.59)
	id <Q9RP3GZT>; Thu, 21 Aug 2003 07:47:43 -0500
Message-ID: <3FB41459B6CCD61196290006298F1F1D488231@eg-msgmbx-a02.int.westgroup.com>
From: "Killeen, Tom" <tom.killeen@thomson.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject:  Multi-Threading
Date: Thu, 21 Aug 2003 07:47:41 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2656.59)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello, 
I'm having some trouble trying to figure out how I can Multi-thread a
search.  I have 10 separate indices (on the same box) and so I have an array
of IndexSearcher's - then I pass the array to a MultiSeacher (see below for
the code).  From what I have read, this does a sequential search through all
of the indices.  What I'm hoping to do, is have a thread for each
IndexSearcher and have them all search concurrently.  

Couple of questions - 1) Does anyone have any sample code that will achieve
this?
			    2) How will Lucene handle the results with
multiple threads? For example, if I have 10 threads and
threads 2 and 3 have finished, but the rest are still searching.

thanks, 
Tom

class SearchFiles
{
    public static void main(String[] args)
    {
        try
        {
            IndexSearcher[] idx = new IndexSearcher[10];
            idx[0] = new IndexSearcher("index1");
            idx[1] = new IndexSearcher("index2");
            idx[2] = new IndexSearcher("index3");
            idx[3] = new IndexSearcher("index4");
            idx[4] = new IndexSearcher("index5");
            idx[5] = new IndexSearcher("index6");
            idx[6] = new IndexSearcher("index7");
            idx[7] = new IndexSearcher("index8");
            idx[8] = new IndexSearcher("index9");
            idx[9] = new IndexSearcher("index10");
	
	      MultiSearcher ms = new MultiSearcher(idx);

            Analyzer analyzer = new StandardAnalyzer();

            BufferedReader in = new BufferedReader(new
InputStreamReader(System.in));
            while (true)
            {
                System.out.print("Query: ");
                String line = in.readLine();

                if (line.length() == -1)
                    break;

                Query query = QueryParser.parse(line, "name", analyzer);
                System.out.println("Searching for: " +
query.toString("name"));


                Hits hits = ms.search(query);
                System.out.println(hits.length() + " total matching
documents");

                final int HITS_PER_PAGE = 10;
                for (int start = 0; start < hits.length(); start +=
HITS_PER_PAGE)
                {
                    int end = Math.min(hits.length(), start +
HITS_PER_PAGE);
                    for (int i = start; i < end; i++)
                    {
                        Document doc = hits.doc(i);
                        String name = doc.get("name");
                        String uuid = doc.get("CaseUuid");
                        String title = doc.get("LongTitle");
                        String cite = doc.get("CitationString");

                        System.out.println(uuid);
                        System.out.println(title);
                        System.out.println(cite);

                    }

                    if (hits.length() > end)
                    {
                        System.out.print("more (y/n) ? ");
                        line = in.readLine();
                        if (line.length() == 0 || line.charAt(0) == 'n')
                            break;
                    }
                }
            }
            //searcher.close();
            ms.close();

        }
        catch (Exception e)
        {
            System.out.println(" caught a " + e.getClass() +
                    "\n with message: " + e.getMessage());
        }
    }
}
-----Original Message-----
From: Nader Henein [mailto:nader.henein@bayt.net]
Sent: Tuesday, August 19, 2003 11:59 AM
To: lucene-user@jakarta.apache.org
Subject: Re: Multi-Threading


Why do you have concurency problems? are you trying to
have each user initiate the indexing himself? because
that will create issues, how about you put all the new
files you want to index in a directory and then have a
schedule procedure on the webserver run the lucene
indexer on that directory, our application hasn't had
any concurrency problems at all, because we index based
on a pull system, rather than the user puching
documents to the indexer.

I hope I understood your problem correctly, so that the
answer is useful

Nader

On Tue, 19 Aug 2003 12:55:09 +0200, Damien Lust wrote:

> 
> Hello,
> 
> I developed an Client-Server application on the web,
> with a search  
> module using Lucene. In the same application, the
users
> can index new  
> text.
> 
> So, multiple sessions can acces to the Index and
> concurrences problems  
> can be possible.
> 
> I used Threads in Java. Is it the best solutions?
> 
> I call :
> 
> IndexFiles indexFiles = new IndexFiles();
> indexFiles.run();
> 
> Here you are an extract of my code.
> 
> Thanks.
> 
> public class IndexFiles extends Thread{
>      public IndexFiles(){
>      }
> 
>      public void run(){
>               
>
SynchronizedIndexWriter.insertDocument(currentIndexDocument(),"tmp/ 
> IndexPath",new MainAnalyser());
>      }
> 
> }
> 
> 
> 
> public class SynchronizedIndexWriter {
> 
>      static synchronized  void
> insertDocument(IndexDocument  
> document,String indexLocValue,Analyzer analyzerValue){
>          File f=new File(indexLocValue);
>          if (f.exists())  
>
addDocumentToIndex(document,indexLocValue,analyzerValue,false);
>          else  
>
addDocumentToIndex(document,indexLocValue,analyzerValue,true);
>      }
> 
> 
>      static  synchronized void
> addDocumentToIndex(IndexDocument  
> document,String indexLocValue,Analyzer
> analyzerValue,boolean  
> createNewIndex){
>          try{
>              IndexWriter indexWriter = new  
>
IndexWriter(indexLocValue,analyzerValue,createNewIndex);
>             
> indexWriter.addDocument(document.getDocument());
>              indexWriter.optimize();
>              indexWriter.close();
>          }
>          catch(IOException io){
> 	    // If IndexWrite don't know write on index
because
> it's locked,  
> recall of the function
>                => It's not very safe
>               
>
addDocumentToIndex(document,indexLocValue,analyzerValue,createNewIndex);
>          }
>          catch(Exception e){
> 
>          }
> 
>      }
> }

The information contained above is proprietary to BAYT.COM
and confidential.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

From terry@net-frame.com  Thu Aug 21 13:18:46 2003
Return-Path: <terry@net-frame.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79687 invoked from network); 21 Aug 2003 13:18:46 -0000
Received: from fallback01.mail.atl.earthlink.net (207.69.200.240)
  by daedalus.apache.org with SMTP; 21 Aug 2003 13:18:46 -0000
Received: from granger.mail.mindspring.net (granger.mail.mindspring.net [207.69.200.148])
	by fallback01.mail.atl.earthlink.net (8.11.6+Sun/8.11.6) with ESMTP id h7LCs2V05628
	for <lucene-user@jakarta.apache.org>; Thu, 21 Aug 2003 08:54:02 -0400 (EDT)
Received: from h-66-167-147-68.mclnva23.covad.net ([66.167.147.68] helo=POWERPACK)
	by granger.mail.mindspring.net with smtp (Exim 3.33 #1)
	id 19powV-0002Ru-00
	for lucene-user@jakarta.apache.org; Thu, 21 Aug 2003 08:53:31 -0400
Message-ID: <02d201c367e3$3b29fb30$0201a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <008e01c3672a$20f96b10$2501a8c0@pcara> <3F445A9A.1000502@dstc.edu.au>
Subject: Re: Similar Document Search
Date: Thu, 21 Aug 2003 08:53:33 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Peter,

I took a look at Mark's thesis and briefly at some of his code.  It appears
to me that what he's done with the so-called forward indexing is to (a)
include a unique id with each document (allowing retrieval by id rather than
by a standard query), and to (b) include a frequency map class with each
document (allowing easier retrieval of term frequency information).

Now I may be missing something very obvious, but it seems to me that both of
these functions can be done rather easily with the standard (unmodified)
version of Lucene.  Moreover, I don't understand how use of these functions
will facilitate retrieval of documents that are "similar" to a selected
document, as outlined in my original question on this topic.

Could you (or anyone else, of course) perhaps elaborate just a bit on how
using this approach will help achieve that end?

Regards,

Terry

----- Original Message -----
From: "Peter Becker" <pbecker@dstc.edu.au>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, August 21, 2003 1:37 AM
Subject: Re: Similar Document Search


> Hi all,
>
> it seems there are quite a few people looking for similar features, i.e.
> (a) document identity and (b) forward indexing. So far we hacked (a) by
> using a wrapper implementing equals/hashcode based on a unique field,
> but of course that assumes maintaining a unique field in the index. (b)
> is something we haven't tackled yet, but plan to.
>
> The source code for Mark's thesis seems to be part of the Haystack
> distribution. The comments in the files put it under Apche-license. This
> seems to make it a good candidate to be included at least in the Lucene
> sandbox -- although I haven't tried it myself yet. But it sounds like a
> good candidate for us to use.
>
> Since the haystack source is a bit larger and I actually couldn't get
> the download at the moment, here is a copy of the relevant bit grabbed
> from one of my colleague's machines:
>
>   http://www.itee.uq.edu.au/~pbecker/luceneHaystack.tar.gz (22kb)
>
> Note that this is just a tarball of src/org/apache/lucene out of some
> Haystack source. Untested, unmodified.
>
> I'd love to see something like this supported in the Lucene context were
> people might actually find it :-)
>
>   Peter
>
>
> Gregor Heinrich wrote:
>
> >Hello Terry,
> >
> >Lucene can do forward indexing, as Mark Rosen outlines in his Master's
> >thesis: http://citeseer.nj.nec.com/rosen03email.html.
> >
> >We use a similar approach for (probabilistic) latent semantic analysis
and
> >vector space searches. However, the solution is not really completely
fixed
> >yet, therefore no code at this time...
> >
> >Best regards,
> >
> >Gregor
> >
> >
> >
> >
> >-----Original Message-----
> >From: Peter Becker [mailto:pbecker@dstc.edu.au]
> >Sent: Tuesday, August 19, 2003 3:06 AM
> >To: Lucene Users List
> >Subject: Re: Similar Document Search
> >
> >
> >Hi Terry,
> >
> >we have been thinking about the same problem and in the end we decided
> >that most likely the only good solution to this is to keep a
> >non-inverted index, i.e. a map from the documents to the terms. Then you
> >can query the most terms for the documents and query other documents
> >matching parts of this (where you get the usual question of what is
> >actually interesting: high frequency, low frequency or the mid range).
> >
> >Indexing would probably be quite expensive since Lucene doesn't seem to
> >support changes in the index, and the index for the terms would change
> >all the time. We haven't implemented it yet, but it shouldn't be hard to
> >code. I just wouldn't expect good performance when indexing large
> >collections.
> >
> >  Peter
> >
> >
> >Terry Steichen wrote:
> >
> >
> >
> >>Is it possible without extensive additional coding to use Lucene to
conduct
> >>
> >>
> >a search based on a document rather than a query?  (One use of this would
be
> >to refine a search by selecting one of the hits returned from the initial

> >query and subsequently retrieving other documents "like" the selected
one.)
> >
> >
> >>Regards,
> >>
> >>Terry
> >>
> >>
> >>
> >>
> >>
> >
> >
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


From pbecker@dstc.edu.au  Thu Aug 21 22:56:40 2003
Return-Path: <pbecker@dstc.edu.au>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31680 invoked from network); 21 Aug 2003 22:56:40 -0000
Received: from mail-03.iinet.net.au (HELO mail.iinet.net.au) (203.59.3.35)
  by daedalus.apache.org with SMTP; 21 Aug 2003 22:56:40 -0000
Received: (qmail 29146 invoked from network); 21 Aug 2003 22:56:16 -0000
Received: from unknown (HELO dstc.edu.au) (203.217.85.89)
  by mail.iinet.net.au with SMTP; 21 Aug 2003 22:56:16 -0000
Message-ID: <3F454DAC.7020208@dstc.edu.au>
Date: Fri, 22 Aug 2003 08:54:36 +1000
From: Peter Becker <pbecker@dstc.edu.au>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Similar Document Search
References: <008e01c3672a$20f96b10$2501a8c0@pcara> <3F445A9A.1000502@dstc.edu.au> <02d201c367e3$3b29fb30$0201a8c0@POWERPACK>
In-Reply-To: <02d201c367e3$3b29fb30$0201a8c0@POWERPACK>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Terry,

exactly these two features of (a) having a unique identifier and (b) 
easily finding the term frequencies for the document is what we (i.e. 
our working group and seemingly others) are missing.

(a) As far as I understand Lucene, there is no such notion as value 
identity on Document instances. This is a problem if you want to do 
things like applying set-theory as we did. The workaround is easy: store 
a unique id in the index and wrap the documents in an object using this 
field as base for equals/hashCode. But it still has to be done, you need 
the unique id in the index and it is not really elegant since you have 
to go through the wrapper all the time.

(b) Lucene allows you to find term frequencies in the index, but not for 
subsets or single items. Many information retrieval approaches define 
document similarity using metrics on the term frequencies. The more 
similar the term frequencies, the more similar the documents are 
considered. You get different details and levels of complexity (esp. if 
you try to mix in background knowledge like knowing synonyms and 
generalizations of the terms), but the basic idea is that documents are 
similar if they contain the same terms (and maybe even in the same 
amounts). I failed to find a way to get Lucene to give me this 
information without hacking this or that. Considering the attention IR 
techniques like latent semantic analysis (LSA) and others get nowadays 
(and rightfully so I think), not finding these features in Lucene was a 
bit of a surprise. I still haven't looked at Mark's code, but I would be 
surprised if he had to do much. But you still have to do something.

After the more abstract talk a bit of a more concrete answer for your 
question: one simple way of defining similarity of documents is just 
treating the term frequencies of some (or all) terms as a vector space 
and then use a metric in the vector space to define distance. If you 
have two frequency maps, you can for example go through all keys in 
them, create all differences of the values attached (assuming null if a 
term is not in a map) and sum them up (giving you the manhattan metric 
in R^n), then you divide by the numbers of terms to normalize (the 
frequency maps are probably of different lengths) and that might give 
you a reasonable first try. If the result is zero, you consider the 
documents to be extremely similar, the higher the value, the more 
different they are suppossed to be.

The approach I described is a bit too naive to be really good -- for 
example I'd expect some bias towards more similarity on documents with 
less terms. And there are so many other enhancements you could do. 
Actually the whole idea is a field of research. And one I am not really 
expert in, I just sometimes work with people who are. This might help:

  
http://citeseer.nj.nec.com/cs?q=latent+semantic+analysis&submit=Search+Documents&cs=1

Maybe someone else on the list has better pointers.

  Peter




Terry Steichen wrote:

>Hi Peter,
>
>I took a look at Mark's thesis and briefly at some of his code.  It appears
>to me that what he's done with the so-called forward indexing is to (a)
>include a unique id with each document (allowing retrieval by id rather than
>by a standard query), and to (b) include a frequency map class with each
>document (allowing easier retrieval of term frequency information).
>
>Now I may be missing something very obvious, but it seems to me that both of
>these functions can be done rather easily with the standard (unmodified)
>version of Lucene.  Moreover, I don't understand how use of these functions
>will facilitate retrieval of documents that are "similar" to a selected
>document, as outlined in my original question on this topic.
>
>Could you (or anyone else, of course) perhaps elaborate just a bit on how
>using this approach will help achieve that end?
>
>Regards,
>
>Terry
>
>----- Original Message -----
>From: "Peter Becker" <pbecker@dstc.edu.au>
>To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>Sent: Thursday, August 21, 2003 1:37 AM
>Subject: Re: Similar Document Search
>
>
>  
>
>>Hi all,
>>
>>it seems there are quite a few people looking for similar features, i.e.
>>(a) document identity and (b) forward indexing. So far we hacked (a) by
>>using a wrapper implementing equals/hashcode based on a unique field,
>>but of course that assumes maintaining a unique field in the index. (b)
>>is something we haven't tackled yet, but plan to.
>>
>>The source code for Mark's thesis seems to be part of the Haystack
>>distribution. The comments in the files put it under Apche-license. This
>>seems to make it a good candidate to be included at least in the Lucene
>>sandbox -- although I haven't tried it myself yet. But it sounds like a
>>good candidate for us to use.
>>
>>Since the haystack source is a bit larger and I actually couldn't get
>>the download at the moment, here is a copy of the relevant bit grabbed
>>from one of my colleague's machines:
>>
>>  http://www.itee.uq.edu.au/~pbecker/luceneHaystack.tar.gz (22kb)
>>
>>Note that this is just a tarball of src/org/apache/lucene out of some
>>Haystack source. Untested, unmodified.
>>
>>I'd love to see something like this supported in the Lucene context were
>>people might actually find it :-)
>>
>>  Peter
>>
>>
>>Gregor Heinrich wrote:
>>
>>    
>>
>>>Hello Terry,
>>>
>>>Lucene can do forward indexing, as Mark Rosen outlines in his Master's
>>>thesis: http://citeseer.nj.nec.com/rosen03email.html.
>>>
>>>We use a similar approach for (probabilistic) latent semantic analysis
>>>      
>>>
>and
>  
>
>>>vector space searches. However, the solution is not really completely
>>>      
>>>
>fixed
>  
>
>>>yet, therefore no code at this time...
>>>
>>>Best regards,
>>>
>>>Gregor
>>>
>>>
>>>
>>>
>>>-----Original Message-----
>>>From: Peter Becker [mailto:pbecker@dstc.edu.au]
>>>Sent: Tuesday, August 19, 2003 3:06 AM
>>>To: Lucene Users List
>>>Subject: Re: Similar Document Search
>>>
>>>
>>>Hi Terry,
>>>
>>>we have been thinking about the same problem and in the end we decided
>>>that most likely the only good solution to this is to keep a
>>>non-inverted index, i.e. a map from the documents to the terms. Then you
>>>can query the most terms for the documents and query other documents
>>>matching parts of this (where you get the usual question of what is
>>>actually interesting: high frequency, low frequency or the mid range).
>>>
>>>Indexing would probably be quite expensive since Lucene doesn't seem to
>>>support changes in the index, and the index for the terms would change
>>>all the time. We haven't implemented it yet, but it shouldn't be hard to
>>>code. I just wouldn't expect good performance when indexing large
>>>collections.
>>>
>>> Peter
>>>
>>>
>>>Terry Steichen wrote:
>>>
>>>
>>>
>>>      
>>>
>>>>Is it possible without extensive additional coding to use Lucene to
>>>>        
>>>>
>conduct
>  
>
>>>>        
>>>>
>>>a search based on a document rather than a query?  (One use of this would
>>>      
>>>
>be
>  
>
>>>to refine a search by selecting one of the hits returned from the initial
>>>      
>>>
>
>  
>
>>>query and subsequently retrieving other documents "like" the selected
>>>      
>>>
>one.)
>  
>
>>>      
>>>
>>>>Regards,
>>>>
>>>>Terry
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>        
>>>>
>>>
>>>---------------------------------------------------------------------
>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>
>>>
>>>
>>>---------------------------------------------------------------------
>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>
>>>
>>>      
>>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>    
>>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>  
>



From eric@ingroup.com  Fri Aug 22 00:00:32 2003
Return-Path: <eric@ingroup.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63883 invoked from network); 22 Aug 2003 00:00:32 -0000
Received: from adsl-63-203-90-131.dsl.snfc21.pacbell.net (HELO MOBY.hahn.local) (63.203.90.131)
  by daedalus.apache.org with SMTP; 22 Aug 2003 00:00:32 -0000
Subject: RE: Similar Document Search
Date: Thu, 21 Aug 2003 16:49:18 -0700
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Message-ID: <86BA8E7DC433FD498CC92D431E1BB5A306D9E7@moby.hahn.local>
Content-class: urn:content-classes:message
X-MS-Has-Attach: 
x-mimeole: Produced By Microsoft Exchange V6.5.6803.0
X-MS-TNEF-Correlator: 
Thread-Topic: Similar Document Search
Thread-Index: AcNoN8X5OMpITCSHTluJhjdgYtVlhwABYQ2Q
From: "Eric Hahn" <eric@ingroup.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Apologies for asking the obvious, but could someone explain why
Documents.Document is a sealed class?

Seems like many of us would love to implement UniqueDocument to support
this oft-requested uniqueness field.  Would still have the task of
implementing an IndexWriterEx.AddDocument(UniqueDocument), but all the
"uniqueness" tests could be encapsulated in UniqueDocument...

Along the same lines, Document.Field is also sealed... Have others
wished to derive from that, too?  In our case, it would be to have a
notion of field "schemas" so the isstored, isindexed, istokenized
values, etc. could be defined once for the field.  More exotic things
like field aliases, etc. could be implemented there, too.

Just curious... Wrapping the classes works fine for now.

-Eric


From burton@newsmonster.org  Fri Aug 22 01:14:56 2003
Return-Path: <burton@newsmonster.org>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84043 invoked from network); 22 Aug 2003 01:14:56 -0000
Received: from mtaw4.prodigy.net (64.164.98.52)
  by daedalus.apache.org with SMTP; 22 Aug 2003 01:14:56 -0000
Received: from newsmonster.org (adsl-67-114-20-29.dsl.pltn13.pacbell.net [67.114.20.29])
	by mtaw4.prodigy.net (8.12.9/8.12.3) with ESMTP id h7M17mIu020539
	for <lucene-user@jakarta.apache.org>; Thu, 21 Aug 2003 18:07:48 -0700 (PDT)
Message-ID: <3F454E07.5070308@newsmonster.org>
Date: Thu, 21 Aug 2003 15:56:07 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Make Lucene Index distributable
References: <C1048E21161ED11185C74000003A3C050146CF5A@SSPAH005.DeutschePost.de>
In-Reply-To: <C1048E21161ED11185C74000003A3C050146CF5A@SSPAH005.DeutschePost.de>
X-Enigmail-Version: 0.76.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Uhl V., DP ITS, SCB, FD wrote:

>Hallo All,
>We have developed our WebApp with Lucene under Tomcat 4.X and stored index
>in file system. Now this Web Application have to move to Bea Weblogic
>Cluster. My Problem is to create a distributable Index of Lucene. Have one
>ideas or experience how to do this?(How to store Index?)
>  
>
Bring up one machine as a master Index.  All index updates should be 
performed here.  You can then take machines out of service, rsync the 
index, then bring them back online.

Also the IndexSearcher can work with multiple indexes and you can just 
keep syncing mulitple indexes over instead of updating one monolothic 
index.  In this situation you wouldn't need to take machines offline but 
you would have to swap in the new index once the rsync is complete.  A 
simple dir rename could make this atomic.

Kevin

-- 
Help Support NewsMonster Development!  Purchase NewsMonster PRO!

    http://www.newsmonster.org/download-pro.html

Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM - sfburtonator,  Web - http://www.peerfear.org/
GPG fingerprint: 4D20 40A0 C734 307E C7B4  DCAA 0303 3AC5 BD9D 7C4D
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster



From hammer@dezide.com  Fri Aug 22 08:50:35 2003
Return-Path: <hammer@dezide.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88689 invoked from network); 22 Aug 2003 08:50:35 -0000
Received: from mailserver1.webhot2.dk (62.61.159.100)
  by daedalus.apache.org with SMTP; 22 Aug 2003 08:50:35 -0000
Received: from fisk [80.165.33.90] by mailserver1.webhot2.dk
  (SMTPD32-6.04) id AFCE60210118; Fri, 22 Aug 2003 10:09:50 +0200
Message-ID: <000e01c36884$8b43e440$5750bec0@fisk>
From: "Lars Hammer" <hammer@dezide.com>
To: "lucene mailing list" <lucene-user@jakarta.apache.org>
Subject: Hits not serializable?
Date: Fri, 22 Aug 2003 10:08:17 +0200
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_000B_01C36895.4E937BD0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Note: This E-mail was scanned for SPAM and VIRUSES by Declude 1.75
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_000B_01C36895.4E937BD0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Has anyone experimented with using EJB's for carrying out searches? I'm =
thinking of using an EJB for carrying out the searches and return the =
hits to a JSP page, which handles displaying of the results.=20
But Hits isn't serializable, so it cannot be used for sending across the =
network from for example JBoss to Tomcat.

Does anyone has any experience with using Lucene through EJB's ....

Thanks in advance

/Lars Hammer

www.dezide.com

------=_NextPart_000_000B_01C36895.4E937BD0--



From lists-kelvin@relevanz.com  Fri Aug 22 09:09:22 2003
Return-Path: <lists-kelvin@relevanz.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29745 invoked from network); 22 Aug 2003 09:09:22 -0000
Received: from visor.qala.com.sg (210.193.2.43)
  by daedalus.apache.org with SMTP; 22 Aug 2003 09:09:22 -0000
Received: from kelvin (adsl-210-193-14-85.qala.com.sg [210.193.14.85])
	by visor.qala.com.sg (8.11.3/8.11.3) with SMTP id h7M92mt09312
	for <lucene-user@jakarta.apache.org>; Fri, 22 Aug 2003 17:02:49 +0800 (SGT)
X-Qala-Anti-Virus: This mail is checked for Viruses by Qala Antivirus Service. Server No. 2
From: Kelvin Tan <lists-kelvin@relevanz.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: PocoMail 2.64 (1120) - Licensed Version
Date: Fri, 22 Aug 2003 17:03:13 +0800
In-Reply-To: <000e01c36884$8b43e440$5750bec0@fisk>
Message-ID: <200382217313.706024@kelvin>
Subject: Re: Hits not serializable?
Mime-Version: 1.0
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

You'll want to checkout Andy Scholz's excellent 
http://ejindex.sourceforge.net/. It's an EJB implementation of a=
 layer built on 
top of Lucene to allow for distributed searching.

K

On Fri, 22 Aug 2003 10:08:17 +0200, Lars Hammer said:
>Has anyone experimented with using EJB's for carrying out=
 searches?
>I'm thinking of using an EJB for carrying out the searches and
>return the hits to a JSP page, which handles displaying of the
>results.
>But Hits isn't serializable, so it cannot be used for sending=
 across
>the network from for example JBoss to Tomcat.
>
>Does anyone has any experience with using Lucene through EJB's=
 ....
>
>Thanks in advance
>
>/Lars Hammer
>
>www.dezide.com





From lists@ehatchersolutions.com  Mon Aug 25 00:09:10 2003
Return-Path: <lists@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45358 invoked from network); 25 Aug 2003 00:09:10 -0000
Received: from mail15.atl.registeredsite.com (64.224.219.99)
  by daedalus.apache.org with SMTP; 25 Aug 2003 00:09:10 -0000
Received: from netmail.mail.registeredsite.com ([216.122.69.15])
	by mail15.atl.registeredsite.com (8.12.9/8.12.9) with ESMTP id h7P09E3D022154
	(version=TLSv1/SSLv3 cipher=EDH-RSA-DES-CBC3-SHA bits=168 verify=NOT)
	for <lucene-user@jakarta.apache.org>; Sun, 24 Aug 2003 20:09:14 -0400
Received: (qmail 57623 invoked by uid 89); 25 Aug 2003 00:12:22 -0000
Received: from unknown (HELO ehatchersolutions.com) (68.170.78.210)
  by mail.craftworkcom.com with SMTP; 25 Aug 2003 00:12:22 -0000
Date: Sun, 24 Aug 2003 20:09:20 -0400
Subject: Re: Hits not serializable?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <lists@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <000e01c36884$8b43e440$5750bec0@fisk>
Message-Id: <5FE57639-D690-11D7-8B8E-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

The Hits collection needs to get back to the index itself to retrieve 
Documents.  My strategy has been to collection all the Documents from 
Hits as a List of Maps, and hand that back across a session bean 
boundary.

I will look at ejindex in detail in the near future to see how it works.

	Erik



On Friday, August 22, 2003, at 04:08  AM, Lars Hammer wrote:

> Has anyone experimented with using EJB's for carrying out searches? 
> I'm thinking of using an EJB for carrying out the searches and return 
> the hits to a JSP page, which handles displaying of the results.
> But Hits isn't serializable, so it cannot be used for sending across 
> the network from for example JBoss to Tomcat.
>
> Does anyone has any experience with using Lucene through EJB's ....
>
> Thanks in advance
>
> /Lars Hammer
>
> www.dezide.com


From David_Birtwell@VWR.COM  Mon Aug 25 01:43:45 2003
Return-Path: <David_Birtwell@VWR.COM>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89166 invoked from network); 25 Aug 2003 01:43:45 -0000
Received: from pc76int1.vwrsp.com (HELO wcmail.vwr.com) (66.54.172.100)
  by daedalus.apache.org with SMTP; 25 Aug 2003 01:43:45 -0000
Subject: David Birtwell/VWRI is out of the office.
From: David_Birtwell@VWR.COM
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Message-ID: <OF010F2729.8330231E-ON85256D8D.00018E5B-85256D8D.00018E5B@vwr.com>
Date: Sun, 24 Aug 2003 20:16:59 -0400
X-MIMETrack: Serialize by Router on PAWCHMAIL01/VWRI(Release 5.0.11  |July 24, 2002) at
 08/24/2003 09:48:36 PM
MIME-Version: 1.0
Content-type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I will be out of the office starting  08/23/2003 and will not return until
09/01/2003.

I will respond to your message when I return from vacation after Labor Day.



From bmila@iastate.edu  Mon Aug 25 03:42:41 2003
Return-Path: <bmila@iastate.edu>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56723 invoked from network); 25 Aug 2003 03:42:41 -0000
Received: from mailhub-3.iastate.edu (129.186.140.13)
  by daedalus.apache.org with SMTP; 25 Aug 2003 03:42:41 -0000
Received: from mailout-1.iastate.edu (mailout-1.iastate.edu [129.186.140.1])
	by mailhub-3.iastate.edu (8.9.3p2/8.9.3) with SMTP id WAA27004
	for <lucene-user@jakarta.apache.org>; Sun, 24 Aug 2003 22:23:28 -0500
Received: from 12-216-62-95.client.mchsi.com(12.216.62.95) by mailout-1.iastate.edu via csmap 
	 id 1325; Mon, 25 Aug 2003 03:24:55 +0000 (UTC)
Message-ID: <003301c36ab8$bc6c5990$0201a8c0@bonghit>
From: "Brian Mila" <bmila@iastate.edu>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <008e01c3672a$20f96b10$2501a8c0@pcara> <3F445A9A.1000502@dstc.edu.au> <02d201c367e3$3b29fb30$0201a8c0@POWERPACK> <3F454DAC.7020208@dstc.edu.au>
Subject: Re: Similar Document Search
Date: Sun, 24 Aug 2003 22:26:56 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> amounts). I failed to find a way to get Lucene to give me this
> information without hacking this or that. Considering the attention IR

Excuse me if this is off-topic, but isn't hacking the code what open source
software is all about?  I mean, its always better to try to do it with
existing methods but if it can't, why not hack the source?  If it works and
people use it then it should probably be incorporated into the main source
tree.  If poeple don't use it (or the hack is terribly ugly, which may be
what you were referring to) then it doesn't make the cut.  In either case,
I'm just wondering why I see many questions or answers include this almost
standard reply.  I hack the source regularly to acheive a needed goal.
Sure its not forward-compatible, but if I waited for the feature to be added
on its own, our project would never get off the ground.

Brian




From pbecker@dstc.edu.au  Mon Aug 25 05:29:59 2003
Return-Path: <pbecker@dstc.edu.au>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94584 invoked from network); 25 Aug 2003 05:29:59 -0000
Received: from gum.itee.uq.edu.au (130.102.66.1)
  by daedalus.apache.org with SMTP; 25 Aug 2003 05:29:59 -0000
Received: from nut.itee.uq.edu.au (nut.itee.uq.edu.au [130.102.66.13])
	by gum.itee.uq.edu.au (8.12.9/8.12.9) with ESMTP id h7P418dB009960
	for <lucene-user@jakarta.apache.org>; Mon, 25 Aug 2003 14:01:08 +1000 (EST)
Received: from dstc.edu.au (g613-8949.itee.uq.edu.au [130.102.66.107])
	by nut.itee.uq.edu.au (8.12.9/8.12.9) with ESMTP id h7P418Kj003126
	for <lucene-user@jakarta.apache.org>; Mon, 25 Aug 2003 14:01:08 +1000 (EST)
Message-ID: <3F498A03.40206@dstc.edu.au>
Date: Mon, 25 Aug 2003 14:01:07 +1000
From: Peter Becker <pbecker@dstc.edu.au>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Similar Document Search
References: <008e01c3672a$20f96b10$2501a8c0@pcara> <3F445A9A.1000502@dstc.edu.au> <02d201c367e3$3b29fb30$0201a8c0@POWERPACK> <3F454DAC.7020208@dstc.edu.au> <003301c36ab8$bc6c5990$0201a8c0@bonghit>
In-Reply-To: <003301c36ab8$bc6c5990$0201a8c0@bonghit>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Checked: This message probably not SPAM
X-Spam-Score: -2.1
X-Spam-Tests: EMAIL_ATTRIBUTION,IN_REP_TO,REFERENCES,REPLY_WITH_QUOTES,USER_AGENT_MOZILLA_UA,X_ACCEPT_LANG
X-Spam-Report: -2.10 points, 8 required;
	* -0.5 -- Has a valid-looking References header
	* -0.5 -- Has a In-Reply-To header
	*  0.0 -- User-Agent header indicates a non-spam MUA (Mozilla)
	* -0.1 -- Has a X-Accept-Language  header
	* -0.5 -- BODY: Contains what looks like an email attribution
	* -0.5 -- Reply with quoted text
X-Scanned-By: MIMEDefang 2.35
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Brian Mila wrote:

>>amounts). I failed to find a way to get Lucene to give me this
>>information without hacking this or that. Considering the attention IR
>>    
>>
>
>Excuse me if this is off-topic, but isn't hacking the code what open source
>software is all about?  
>
Not always, but quite often :-)

>I mean, its always better to try to do it with
>existing methods but if it can't, why not hack the source?  
>
Because you might need to put quite some effort into getting it right? 
Because you might do something someone else already did better -- which 
is not really against the spirit of hackerism, but I have so many other 
things to hack where I think I can do better than most people. Inverted 
file indexes is not my particular domain.

>If it works and
>people use it then it should probably be incorporated into the main source
>tree.  If poeple don't use it (or the hack is terribly ugly, which may be
>what you were referring to) then it doesn't make the cut.  
>
That needs exposure. If some Lucene code is hidden in the Haystack 
project, it won't get enough exposure IMO.

>In either case,
>I'm just wondering why I see many questions or answers include this almost
>standard reply.  I hack the source regularly to acheive a needed goal.
>Sure its not forward-compatible, but if I waited for the feature to be added
>on its own, our project would never get off the ground.
>  
>
One of the important things about OSS for me is resuse and 
collaboration. If you hack things again and again without trying to turn 
it into something reusable, I'd say you constantly create small 
proprietary forks based on open source code but you are not part of any 
OSS effort. That's of course my point of view on OSS, but then you asked 
for it :-)

As a user of Lucene I missed some features. Part of the OSS culture is 
for me to tell others about this and maybe to try to find solutions. 
Mark's code seems to be one, so I proposed to consider adding it into 
some spot with better exposure for testing. And I don't seem to be the 
only person with the need for these features. I think Lucene would be 
better if these features were easily available. If the Lucene team 
doesn't think so -- fair enough, it is their project. But asking me to 
stop requesting features in a (hopefully) sensible way is pretty much 
against the spirit of OSS and hacker culture as far as I understand it.

Does that answer your questions?

  Peter


From hammer@dezide.com  Mon Aug 25 09:07:58 2003
Return-Path: <hammer@dezide.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35291 invoked from network); 25 Aug 2003 09:07:58 -0000
Received: from minotaur.apache.org (209.237.227.194)
  by daedalus.apache.org with SMTP; 25 Aug 2003 09:07:58 -0000
Received: (qmail 58432 invoked from network); 25 Aug 2003 09:08:09 -0000
Received: from mailserver1.webhot2.dk (62.61.159.100)
  by minotaur-2.apache.org with SMTP; 25 Aug 2003 09:08:09 -0000
Received: from fisk [80.165.33.90] by mailserver1.webhot2.dk
  (SMTPD32-6.04) id A2891AAC01DE; Mon, 25 Aug 2003 11:10:33 +0200
Message-ID: <001d01c36ae8$84a504f0$5750bec0@fisk>
From: "Lars Hammer" <hammer@dezide.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <5FE57639-D690-11D7-8B8E-000393A564E6@ehatchersolutions.com>
Subject: Re: Hits not serializable?
Date: Mon, 25 Aug 2003 11:08:58 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Note: This E-mail was scanned for SPAM and VIRUSES by Declude 1.75
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N



> The Hits collection needs to get back to the index itself to retrieve 
> Documents.  My strategy has been to collection all the Documents from 
> Hits as a List of Maps, and hand that back across a session bean 
> boundary.

Sounds like fair solution to me -maybe I'll do that.

> 
> I will look at ejindex in detail in the near future to see how it works.
> 

I too will look into ejindex in the near future.

-Thanks for the input!

/Lars Hammer


From lfrancl@ancept.com  Mon Aug 25 18:29:22 2003
Return-Path: <lfrancl@ancept.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89754 invoked from network); 25 Aug 2003 18:29:22 -0000
Received: from neptune.ancept.com (216.70.34.163)
  by daedalus.apache.org with SMTP; 25 Aug 2003 18:29:22 -0000
Received: from dhcp02-11.mpls.ancept.com ([10.0.2.11]) by neptune.ancept.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2656.59)
	id RQ04TNDR; Mon, 25 Aug 2003 13:12:58 -0500
Subject: Thread safety of QueryParser
From: Luke Francl <lfrancl@ancept.com>
To: lucene-user@jakarta.apache.org
Content-Type: text/plain
Organization: Ancept, Inc
Message-Id: <1061836046.14882.1.camel@dhcp02-16.mpls.ancept.com>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.1 
Date: 25 Aug 2003 13:27:27 -0500
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

[Note: I sent this email before I recieved my subscription confirmation 
message and I have not seen it in the archives yet. If you recieved this 
message twice, my appologies. -- Luke]

According to the jGuru FAQ, QueryParser is not thread safe:

http://www.jguru.com/faq/view.jsp?EID=492389

However, this information is several years old. Is this still true?

The answer to the question suggests using a new parser for every thread,
but the QueryParser.parse(String query,String field,Analyzer analyzer) 
method is static, and I don't see any way to set the default field on an
instance of the QueryParser.

Is that what the "f" parameter of the QueryParser(String f, Analyzer a)
constrcutor is for?

Thanks for your advice,

Luke Francl


From joseph.paulsen@verizon.net  Tue Aug 26 01:04:30 2003
Return-Path: <joseph.paulsen@verizon.net>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21980 invoked from network); 26 Aug 2003 01:04:30 -0000
Received: from unknown (HELO out004.verizon.net) (206.46.170.142)
  by daedalus.apache.org with SMTP; 26 Aug 2003 01:04:30 -0000
Received: from s0023819896 ([129.44.10.48]) by out004.verizon.net
          (InterMail vM.5.01.05.33 201-253-122-126-133-20030313) with ESMTP
          id <20030825220222.MYIR25700.out004.verizon.net@s0023819896>
          for <lucene-user@jakarta.apache.org>;
          Mon, 25 Aug 2003 17:02:22 -0500
Message-ID: <013101c36b54$8ed4ee10$6501a8c0@s0023819896>
From: "Joe Paulsen" <joseph.paulsen@verizon.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Problem using WILDCARDS when doing proximity searches
Date: Mon, 25 Aug 2003 18:02:20 -0400
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_012E_01C36B33.075CEB20"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Authentication-Info: Submitted using SMTP AUTH at out004.verizon.net from [129.44.10.48] at Mon, 25 Aug 2003 17:02:21 -0500
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_012E_01C36B33.075CEB20
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I am attempting to submit proximity searches which contain wildcards but =
the software just seems to ignore my wildcard when performing the query.

Ex:  "center* form" ~

Thanks for any advice.

Joe Paulsen
------=_NextPart_000_012E_01C36B33.075CEB20--



From morpheus@helix.stanford.edu  Tue Aug 26 04:53:47 2003
Return-Path: <morpheus@helix.stanford.edu>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36899 invoked from network); 26 Aug 2003 04:53:47 -0000
Received: from unknown (HELO soln-sro130.solutionip.com) (65.208.211.2)
  by daedalus.apache.org with SMTP; 26 Aug 2003 04:53:47 -0000
Received: from [10.10.1.197] (helo=helix.stanford.edu)
	by soln-sro130.solutionip.com with esmtp (Exim 3.34 #1)
	id 19rVq6-0007gc-00
	for lucene-user@jakarta.apache.org; Mon, 25 Aug 2003 23:53:54 -0500
Message-ID: <3F4AE7DA.7030607@helix.stanford.edu>
Date: Mon, 25 Aug 2003 21:53:46 -0700
From: Mark Woon <morpheus@helix.stanford.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  lucene-user@jakarta.apache.org
Subject: Newbie Questions
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi all...

I've been playing with Lucene for a couple days now and I have a couple 
questions I'm hoping some one can help me with.  I've created a Lucene 
index with data from a database that's in several different fields, and 
I want to set up a web page where users can search the index.  Ideally, 
all searches should be as google-like as possible.  In Lucene terms, I 
guess this means the query should be fuzzy.  For example, if someone 
searches for "cancer" then I'd like to get back all resuls with any form 
of the word cancer in the term ("cancerous", "breast cancer", etc.).

So far, I seem to be having two problems:

1) How can I search all fields at the same time?  The QueryParser seems 
to only search one specific field.

2) How can I automatically default all searches into fuzzy mode?  I 
don't want my users to have to know that they must add a "~" at the end 
of all their terms.

Thanks,
-Mark




From Gregor.Heinrich@igd.fhg.de  Tue Aug 26 12:48:59 2003
Return-Path: <Gregor.Heinrich@igd.fhg.de>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76401 invoked from network); 26 Aug 2003 12:48:59 -0000
Received: from unknown (HELO igdmail.igd.fhg.de) (146.140.28.14)
  by daedalus.apache.org with SMTP; 26 Aug 2003 12:48:59 -0000
Received: from pcara ([146.140.9.73]) by igdmail.igd.fhg.de
          (Netscape Messaging Server 3.6)  with SMTP id AAA5AE8
          for <lucene-user@jakarta.apache.org>;
          Tue, 26 Aug 2003 14:48:49 +0200
Reply-To: <heinrich@igd.fhg.de>
From: "Gregor Heinrich" <Gregor.Heinrich@igd.fhg.de>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Newbie Questions
Date: Tue, 26 Aug 2003 14:48:40 +0200
Message-ID: <000001c36bd0$60af59e0$49098c92@pcara>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
In-Reply-To: <3F4AE7DA.7030607@helix.stanford.edu>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Mark,

short answers to your questions:

ad 1: MultiFieldQueryParser is what you might want: you can specify the
fields to run the query on. Alternatively, the practice of duplicating the
contents of all separate fields in question into one additional merged field
has been suggested, which enables you to use QueryParser itself.

ad 2: Depending on the Analyzer you use, the query is normalised, i.e.,
stemmed (remove suffices from words) and stopword-filtered (remove highly
frequent words). Have a look at StandardAnalyzer.tokenStream(...) to see how
the different filters work. In the analysis package the 1.3rc2 Lucene
distribution has a Porter stemming algorithm: PorterStemmer.

Have fun,

Gregor

-----Original Message-----
From: Mark Woon [mailto:morpheus@helix.stanford.edu]
Sent: Tuesday, August 26, 2003 6:54 AM
To: lucene-user@jakarta.apache.org
Subject: Newbie Questions


Hi all...

I've been playing with Lucene for a couple days now and I have a couple
questions I'm hoping some one can help me with.  I've created a Lucene
index with data from a database that's in several different fields, and
I want to set up a web page where users can search the index.  Ideally,
all searches should be as google-like as possible.  In Lucene terms, I
guess this means the query should be fuzzy.  For example, if someone
searches for "cancer" then I'd like to get back all resuls with any form
of the word cancer in the term ("cancerous", "breast cancer", etc.).

So far, I seem to be having two problems:

1) How can I search all fields at the same time?  The QueryParser seems
to only search one specific field.

2) How can I automatically default all searches into fuzzy mode?  I
don't want my users to have to know that they must add a "~" at the end
of all their terms.

Thanks,
-Mark




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



From amordo@infosciences.com  Tue Aug 26 12:54:21 2003
Return-Path: <amordo@infosciences.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90987 invoked from network); 26 Aug 2003 12:54:21 -0000
Received: from unknown (HELO isc?mail.infosciences.com) (141.156.69.115)
  by daedalus.apache.org with SMTP; 26 Aug 2003 12:54:21 -0000
Received: from Aviran (141.156.69.109 [141.156.69.109]) by isc_mail.infosciences.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id RSMV17L4; Tue, 26 Aug 2003 08:58:06 -0400
From: "Aviran Mordo" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Newbie Questions
Date: Tue, 26 Aug 2003 08:53:58 -0400
Message-ID: <000a01c36bd1$23a2e200$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
In-Reply-To: <3F4AE7DA.7030607@helix.stanford.edu>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

1. You need to use MultiFieldQueryParser
2. I think you should use PorterStemFilter instead of fuzzy query
http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/analysis/Por
terStemFilter.html

-----Original Message-----
From: Mark Woon [mailto:morpheus@helix.stanford.edu] 
Sent: Tuesday, August 26, 2003 12:54 AM
To: lucene-user@jakarta.apache.org
Subject: Newbie Questions


Hi all...

I've been playing with Lucene for a couple days now and I have a couple 
questions I'm hoping some one can help me with.  I've created a Lucene 
index with data from a database that's in several different fields, and 
I want to set up a web page where users can search the index.  Ideally, 
all searches should be as google-like as possible.  In Lucene terms, I 
guess this means the query should be fuzzy.  For example, if someone 
searches for "cancer" then I'd like to get back all resuls with any form

of the word cancer in the term ("cancerous", "breast cancer", etc.).

So far, I seem to be having two problems:

1) How can I search all fields at the same time?  The QueryParser seems 
to only search one specific field.

2) How can I automatically default all searches into fuzzy mode?  I 
don't want my users to have to know that they must add a "~" at the end 
of all their terms.

Thanks,
-Mark




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



From lists@ehatchersolutions.com  Tue Aug 26 15:26:30 2003
Return-Path: <lists@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84662 invoked from network); 26 Aug 2003 15:26:30 -0000
Received: from unknown (HELO fallback-mx2.atl.registeredsite.com) (64.224.219.96)
  by daedalus.apache.org with SMTP; 26 Aug 2003 15:26:30 -0000
Received: from mail10.atl.registeredsite.com (mail10.atl.registeredsite.com [64.224.219.84])
	by fallback-mx2.atl.registeredsite.com (8.12.9/8.12.6) with ESMTP id h7QDVaJm011502
	for <lucene-user@jakarta.apache.org>; Tue, 26 Aug 2003 09:31:36 -0400
Received: from netmail.mail.registeredsite.com ([216.122.69.16])
	by mail10.atl.registeredsite.com (8.12.9/8.12.9) with ESMTP id h7QDV3dv019967
	(version=TLSv1/SSLv3 cipher=EDH-RSA-DES-CBC3-SHA bits=168 verify=NOT)
	for <lucene-user@jakarta.apache.org>; Tue, 26 Aug 2003 09:31:04 -0400
Received: (qmail 12269 invoked by uid 89); 26 Aug 2003 12:49:55 -0000
Received: from unknown (HELO ehatchersolutions.com) (128.143.171.61)
  by mail.sacobaycasting.com with SMTP; 26 Aug 2003 12:49:55 -0000
Date: Tue, 26 Aug 2003 08:47:28 -0400
Subject: Re: Newbie Questions
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <lists@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3F4AE7DA.7030607@helix.stanford.edu>
Message-Id: <735DE534-D7C3-11D7-8EDF-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Tuesday, August 26, 2003, at 12:53  AM, Mark Woon wrote:
> 1) How can I search all fields at the same time?  The QueryParser 
> seems to only search one specific field.

The common thing I've done and seen others do is glue all the fields 
together into a master searchable field named something like "contents" 
or "keywords" (be sure to put a space in between text so it can be 
tokenized properly).

> 2) How can I automatically default all searches into fuzzy mode?  I 
> don't want my users to have to know that they must add a "~" at the 
> end of all their terms.

Your description of searches for "cancer" finding "cancerous" isn't 
really what the fuzzy query is about.  What you're after, I think, is 
more the stemming algorithms used during the analysis phase.  Have a 
look at the SnowballAnalyzer in the Lucene sandbox.  There is a little 
bit about it in the article I wrote for java.net: 
http://today.java.net/pub/a/today/2003/07/30/LuceneIntro.html - it 
definitely sounds like more work in the analysis phase is what you're 
after.

	Erik


From Gregor.Heinrich@igd.fhg.de  Tue Aug 26 15:37:53 2003
Return-Path: <Gregor.Heinrich@igd.fhg.de>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4706 invoked from network); 26 Aug 2003 15:37:53 -0000
Received: from unknown (HELO igdmail.igd.fhg.de) (146.140.28.14)
  by daedalus.apache.org with SMTP; 26 Aug 2003 15:37:53 -0000
Received: from pcara ([146.140.9.73]) by igdmail.igd.fhg.de
          (Netscape Messaging Server 3.6)  with SMTP id AAA41A7
          for <lucene-user@jakarta.apache.org>;
          Tue, 26 Aug 2003 17:37:26 +0200
Reply-To: <heinrich@igd.fhg.de>
From: "Gregor Heinrich" <Gregor.Heinrich@igd.fhg.de>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Similar Document Search
Date: Tue, 26 Aug 2003 17:37:17 +0200
Message-ID: <002c01c36be7$ee579340$49098c92@pcara>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
In-Reply-To: <02d201c367e3$3b29fb30$0201a8c0@POWERPACK>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Terry,

the suggestion of Haystack's Lucene was a hint to give you an additional
alternative to reach your goal.

Depending on the definition of your notion "similar document", this solution
does or does not make sense. My definition of similar document (and term) is
maybe more general than yours: It supports rather generic similarity metrics
and needs to cover cosine similarity according to vector-space model (VSM;
can be achieved using unmodified Lucene code), semantic similarity according
to a generative model like latent semantic indexing or Bayesian approaches
etc. and even semantic similarity according to a taxonomy. If you want such
a flexibility (like I do for my research), you should consider this approach
because you can relatively easily work on the forward document vectors.

If all you need is vanilla VSM cosine similarity, you are probably best off
with the suggestion that was sent in this list, to submit the document
content in the query and throw it through the same Analyzer that was used to
create the index, thus finding best matches using Lucene's standard matching
scheme.

Good luck,

Gregor





-----Original Message-----
From: Terry Steichen [mailto:terry@net-frame.com]
Sent: Thursday, August 21, 2003 2:54 PM
To: Lucene Users List
Subject: Re: Similar Document Search


Hi Peter,

I took a look at Mark's thesis and briefly at some of his code.  It appears
to me that what he's done with the so-called forward indexing is to (a)
include a unique id with each document (allowing retrieval by id rather than
by a standard query), and to (b) include a frequency map class with each
document (allowing easier retrieval of term frequency information).

Now I may be missing something very obvious, but it seems to me that both of
these functions can be done rather easily with the standard (unmodified)
version of Lucene.  Moreover, I don't understand how use of these functions
will facilitate retrieval of documents that are "similar" to a selected
document, as outlined in my original question on this topic.

Could you (or anyone else, of course) perhaps elaborate just a bit on how
using this approach will help achieve that end?

Regards,

Terry

----- Original Message -----
From: "Peter Becker" <pbecker@dstc.edu.au>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, August 21, 2003 1:37 AM
Subject: Re: Similar Document Search


> Hi all,
>
> it seems there are quite a few people looking for similar features, i.e.
> (a) document identity and (b) forward indexing. So far we hacked (a) by
> using a wrapper implementing equals/hashcode based on a unique field,
> but of course that assumes maintaining a unique field in the index. (b)
> is something we haven't tackled yet, but plan to.
>
> The source code for Mark's thesis seems to be part of the Haystack
> distribution. The comments in the files put it under Apche-license. This
> seems to make it a good candidate to be included at least in the Lucene
> sandbox -- although I haven't tried it myself yet. But it sounds like a
> good candidate for us to use.
>
> Since the haystack source is a bit larger and I actually couldn't get
> the download at the moment, here is a copy of the relevant bit grabbed
> from one of my colleague's machines:
>
>   http://www.itee.uq.edu.au/~pbecker/luceneHaystack.tar.gz (22kb)
>
> Note that this is just a tarball of src/org/apache/lucene out of some
> Haystack source. Untested, unmodified.
>
> I'd love to see something like this supported in the Lucene context were
> people might actually find it :-)
>
>   Peter
>
>
> Gregor Heinrich wrote:
>
> >Hello Terry,
> >
> >Lucene can do forward indexing, as Mark Rosen outlines in his Master's
> >thesis: http://citeseer.nj.nec.com/rosen03email.html.
> >
> >We use a similar approach for (probabilistic) latent semantic analysis
and
> >vector space searches. However, the solution is not really completely
fixed
> >yet, therefore no code at this time...
> >
> >Best regards,
> >
> >Gregor
> >
> >
> >
> >
> >-----Original Message-----
> >From: Peter Becker [mailto:pbecker@dstc.edu.au]
> >Sent: Tuesday, August 19, 2003 3:06 AM
> >To: Lucene Users List
> >Subject: Re: Similar Document Search
> >
> >
> >Hi Terry,
> >
> >we have been thinking about the same problem and in the end we decided
> >that most likely the only good solution to this is to keep a
> >non-inverted index, i.e. a map from the documents to the terms. Then you
> >can query the most terms for the documents and query other documents
> >matching parts of this (where you get the usual question of what is
> >actually interesting: high frequency, low frequency or the mid range).
> >
> >Indexing would probably be quite expensive since Lucene doesn't seem to
> >support changes in the index, and the index for the terms would change
> >all the time. We haven't implemented it yet, but it shouldn't be hard to
> >code. I just wouldn't expect good performance when indexing large
> >collections.
> >
> >  Peter
> >
> >
> >Terry Steichen wrote:
> >
> >
> >
> >>Is it possible without extensive additional coding to use Lucene to
conduct
> >>
> >>
> >a search based on a document rather than a query?  (One use of this would
be
> >to refine a search by selecting one of the hits returned from the initial

> >query and subsequently retrieving other documents "like" the selected
one.)
> >
> >
> >>Regards,
> >>
> >>Terry
> >>
> >>
> >>
> >>
> >>
> >
> >
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



From cutting@lucene.com  Tue Aug 26 16:58:35 2003
Return-Path: <cutting@lucene.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96296 invoked from network); 26 Aug 2003 16:58:35 -0000
Received: from unknown (HELO mailshell.com) (209.157.66.232)
  by daedalus.apache.org with SMTP; 26 Aug 2003 16:58:35 -0000
Received: (qmail 16436 invoked from network); 26 Aug 2003 16:57:49 -0000
Received: from unknown (HELO lucene.com) (dcutting@grandcentral.com@12.210.200.74)
  by mail.mailshell.com with SMTP; 26 Aug 2003 16:57:49 -0000
Message-ID: <3F4B9188.2010800@lucene.com>
Date: Tue, 26 Aug 2003 09:57:44 -0700
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030701
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Thread safety of QueryParser
References: <1061836046.14882.1.camel@dhcp02-16.mpls.ancept.com>
In-Reply-To: <1061836046.14882.1.camel@dhcp02-16.mpls.ancept.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Luke Francl wrote:
> According to the jGuru FAQ, QueryParser is not thread safe:
> 
> http://www.jguru.com/faq/view.jsp?EID=492389
> 
> However, this information is several years old. Is this still true?
> 
> The answer to the question suggests using a new parser for every thread,
> but the QueryParser.parse(String query,String field,Analyzer analyzer) 
> method is static

This method constructs a new query parser each time it is called, so it 
is thread safe.

 > and I don't see any way to set the default field on an
> instance of the QueryParser.

> Is that what the "f" parameter of the QueryParser(String f, Analyzer a)
> constrcutor is for?

Yes.

Doug


From lfrancl@ancept.com  Tue Aug 26 17:18:38 2003
Return-Path: <lfrancl@ancept.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66493 invoked from network); 26 Aug 2003 17:18:38 -0000
Received: from unknown (HELO neptune.ancept.com) (216.70.34.163)
  by daedalus.apache.org with SMTP; 26 Aug 2003 17:18:38 -0000
Received: from dhcp02-11.mpls.ancept.com ([10.0.2.11]) by neptune.ancept.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2656.59)
	id RQ04T3ZW; Tue, 26 Aug 2003 12:18:36 -0500
Subject: Re: Thread safety of QueryParser
From: Luke Francl <lfrancl@ancept.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <3F4B9188.2010800@lucene.com>
References: <1061836046.14882.1.camel@dhcp02-16.mpls.ancept.com>
	 <3F4B9188.2010800@lucene.com>
Content-Type: text/plain
Organization: Ancept, Inc
Message-Id: <1061919197.14876.4.camel@dhcp02-16.mpls.ancept.com>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.1 
Date: 26 Aug 2003 12:33:18 -0500
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thank you for the update, Doug.

On Tue, 2003-08-26 at 11:57, Doug Cutting wrote:

> This method constructs a new query parser each time it is called, so it 
> is thread safe.

Perhaps the JGuru FAQ should be updated...

Luke


From morpheus@helix.stanford.edu  Tue Aug 26 18:58:18 2003
Return-Path: <morpheus@helix.stanford.edu>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5880 invoked from network); 26 Aug 2003 18:58:18 -0000
Received: from unknown (HELO c007.snv.cp.net) (209.228.33.236)
  by daedalus.apache.org with SMTP; 26 Aug 2003 18:58:18 -0000
Received: (cpmta 5687 invoked from network); 26 Aug 2003 11:51:39 -0700
Received: from 128.252.140.120 (HELO helix.stanford.edu)
  by smtp.alumni.princeton.edu (209.228.33.236) with SMTP; 26 Aug 2003 11:51:39 -0700
X-Sent: 26 Aug 2003 18:51:39 GMT
Message-ID: <3F4BAC32.1030406@helix.stanford.edu>
Date: Tue, 26 Aug 2003 11:51:30 -0700
From: Mark Woon <morpheus@helix.stanford.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Newbie Questions
References: <000001c36bd0$60af59e0$49098c92@pcara>
In-Reply-To: <000001c36bd0$60af59e0$49098c92@pcara>
Content-Type: multipart/alternative;
 boundary="------------020306030804020308040601"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--------------020306030804020308040601
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Gregor Heinrich wrote:

> ad 1: MultiFieldQueryParser is what you might want: you can specify the
> fields to run the query on. Alternatively, the practice of duplicating 
> the
> contents of all separate fields in question into one additional merged 
> field
> has been suggested, which enables you to use QueryParser itself.
>

Ah, I've been testing out something similar to the latter.  I've been 
adding multiple values on the same key.  Won't this have the same 
effect?  I've been assuming that if I do

doc.add(Field.Keyword("content", "value1");
doc.add(Field.Keyword("content", "value2");

And did a search on the "content" field for either value, I'd get a hit, 
and it seems to work.  This way, I figure I'd be able to differentiate 
between values that I want tokenized and values that I don't.

Is there a difference between this and building a StringBuffer 
containing all the values and storing that as a single field-value?


> ad 2: Depending on the Analyzer you use, the query is normalised, i.e.,
> stemmed (remove suffices from words) and stopword-filtered (remove highly
> frequent words). Have a look at StandardAnalyzer.tokenStream(...) to 
> see how
> the different filters work. In the analysis package the 1.3rc2 Lucene
> distribution has a Porter stemming algorithm: PorterStemmer.
>

There's an rc2 out?  Where??  I just checked the Lucene website and only 
see rc1.


Thanks everyone for all the quick responses!

-Mark


--------------020306030804020308040601--


From Gregor.Heinrich@igd.fhg.de  Tue Aug 26 19:18:57 2003
Return-Path: <Gregor.Heinrich@igd.fhg.de>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69128 invoked from network); 26 Aug 2003 19:18:57 -0000
Received: from unknown (HELO igdmail.igd.fhg.de) (146.140.28.14)
  by daedalus.apache.org with SMTP; 26 Aug 2003 19:18:57 -0000
Received: from pcara ([146.140.9.73]) by igdmail.igd.fhg.de
          (Netscape Messaging Server 3.6)  with SMTP id AAA2EAD
          for <lucene-user@jakarta.apache.org>;
          Tue, 26 Aug 2003 21:18:29 +0200
Reply-To: <heinrich@igd.fhg.de>
From: "Gregor Heinrich" <Gregor.Heinrich@igd.fhg.de>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Newbie Questions
Date: Tue, 26 Aug 2003 21:18:18 +0200
Message-ID: <004201c36c06$cf7041b0$49098c92@pcara>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
In-Reply-To: <3F4BAC32.1030406@helix.stanford.edu>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Mark.

Sorry, it's rc1 really which is out. But if you go to the cvs server, then
you'll find the rc2-dev version.

Multiple calls to Document.add with the same field results in that "their
text is treated as though appended for the purposes of search." (API doc).

Can you try out if there's a differece between the cases you mention? I don'
t know but I'd be interested as well;-).

Gregor




-----Original Message-----
From: Mark Woon [mailto:morpheus@helix.stanford.edu]
Sent: Tuesday, August 26, 2003 8:52 PM
To: Lucene Users List
Subject: Re: Newbie Questions


Gregor Heinrich wrote:

> ad 1: MultiFieldQueryParser is what you might want: you can specify the
> fields to run the query on. Alternatively, the practice of duplicating
> the
> contents of all separate fields in question into one additional merged
> field
> has been suggested, which enables you to use QueryParser itself.
>

Ah, I've been testing out something similar to the latter.  I've been
adding multiple values on the same key.  Won't this have the same
effect?  I've been assuming that if I do

doc.add(Field.Keyword("content", "value1");
doc.add(Field.Keyword("content", "value2");

And did a search on the "content" field for either value, I'd get a hit,
and it seems to work.  This way, I figure I'd be able to differentiate
between values that I want tokenized and values that I don't.

Is there a difference between this and building a StringBuffer
containing all the values and storing that as a single field-value?


> ad 2: Depending on the Analyzer you use, the query is normalised, i.e.,
> stemmed (remove suffices from words) and stopword-filtered (remove highly
> frequent words). Have a look at StandardAnalyzer.tokenStream(...) to
> see how
> the different filters work. In the analysis package the 1.3rc2 Lucene
> distribution has a Porter stemming algorithm: PorterStemmer.
>

There's an rc2 out?  Where??  I just checked the Lucene website and only
see rc1.


Thanks everyone for all the quick responses!

-Mark



From petite_abeille@mac.com  Tue Aug 26 19:50:09 2003
Return-Path: <petite_abeille@mac.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71439 invoked from network); 26 Aug 2003 19:50:09 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.85)
  by daedalus.apache.org with SMTP; 26 Aug 2003 19:50:09 -0000
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id h7QJcKRs023181
	for <lucene-user@jakarta.apache.org>; Tue, 26 Aug 2003 12:38:20 -0700 (PDT)
Received: from mac.com (adsl-62-167-120-7.adslplus.ch [62.167.120.7])
	(authenticated bits=0)
	by mac.com (Xserve/8.12.9/MantshX 2.0) with ESMTP id h7QJcGlc001764
	for <lucene-user@jakarta.apache.org>; Tue, 26 Aug 2003 12:38:18 -0700 (PDT)
Date: Tue, 26 Aug 2003 21:37:47 +0200
Content-Type: text/plain; charset=US-ASCII; format=flowed
Resent-Date: Tue, 26 Aug 2003 21:39:18 +0200
Content-Transfer-Encoding: 7bit
Resent-Message-Id: <C54114A6-D7FC-11D7-9608-000393760B7E@mac.com>
Resent-To: lucene-user@jakarta.apache.org
Mime-Version: 1.0 (Apple Message framework v552)
Subject: IndexReader.delete(Term)?
From: petite_abeille <petite_abeille@mac.com>
To: lucene-user@jakarta.apache.org
Message-Id: <FBD9A2DF-D7FC-11D7-9608-000393760B7E@mac.com>
Resent-From: petite_abeille <petite_abeille@mac.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello,

This is more a sanity check, than anything else, but...

I'm trying to delete a document using IndexReader.delete(Term)... (for 
the record I'm using 1.3-rc1)

The document was created with a Field.Keyword() to uniquely identify it.

The document exists, was saved, can be queried, life is good :)

But then... when trying to delete the same document later on... 
IndexReader.delete(Term) returns 0 and the document doesn't get 
deleted... which is driving me crazy 8}

Here is what I'm doing to delete the document:

     Term	aTerm = new Term( aKey, anID );

     aReader.delete( aTerm );
     aReader.close();

The term looks like the following:

szid:3FA7168800F7FDE8ECAA35500A00012D

But this doesn't seem to do anything... The document is still there no 
matter what...

I'm sure I'm doing something very wrong, but for the life of me I 
cannot see what... anything obvious I'm missing?

Thanks.

Cheers,

PA.


From lists@ehatchersolutions.com  Tue Aug 26 23:40:08 2003
Return-Path: <lists@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81684 invoked from network); 26 Aug 2003 23:40:08 -0000
Received: from unknown (HELO mail1.atl.registeredsite.com) (64.224.219.75)
  by daedalus.apache.org with SMTP; 26 Aug 2003 23:40:08 -0000
Received: from netmail.mail.registeredsite.com ([216.122.69.18])
	by mail1.atl.registeredsite.com (8.12.9/8.12.9) with ESMTP id h7QNeDxl029802
	(version=TLSv1/SSLv3 cipher=EDH-RSA-DES-CBC3-SHA bits=168 verify=NOT)
	for <lucene-user@jakarta.apache.org>; Tue, 26 Aug 2003 19:40:13 -0400
Received: (qmail 95633 invoked by uid 89); 26 Aug 2003 23:40:27 -0000
Received: from unknown (HELO ehatchersolutions.com) (68.170.78.210)
  by mail.facesdisplays.com with SMTP; 26 Aug 2003 23:40:27 -0000
Date: Tue, 26 Aug 2003 19:38:07 -0400
Subject: Re: IndexReader.delete(Term)?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <lists@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <FBD9A2DF-D7FC-11D7-9608-000393760B7E@mac.com>
Message-Id: <584B8746-D81E-11D7-85F4-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

What you are doing looks fine to me.  I'm sure these are obvious 
questions, kinda like "is your computer plugged in?", but here goes:

- How are you determining that the document is still there?  With an 
IndexReader?  IndexSearcher?
- A freshly created (i.e. after the delete) Index[Searcher|Reader]?
- And finally, did you remember to recompile?!  :))  (just kidding)



On Tuesday, August 26, 2003, at 03:37  PM, petite_abeille wrote:

> Hello,
>
> This is more a sanity check, than anything else, but...
>
> I'm trying to delete a document using IndexReader.delete(Term)... (for 
> the record I'm using 1.3-rc1)
>
> The document was created with a Field.Keyword() to uniquely identify 
> it.
>
> The document exists, was saved, can be queried, life is good :)
>
> But then... when trying to delete the same document later on... 
> IndexReader.delete(Term) returns 0 and the document doesn't get 
> deleted... which is driving me crazy 8}
>
> Here is what I'm doing to delete the document:
>
>     Term	aTerm = new Term( aKey, anID );
>
>     aReader.delete( aTerm );
>     aReader.close();
>
> The term looks like the following:
>
> szid:3FA7168800F7FDE8ECAA35500A00012D
>
> But this doesn't seem to do anything... The document is still there no 
> matter what...
>
> I'm sure I'm doing something very wrong, but for the life of me I 
> cannot see what... anything obvious I'm missing?
>
> Thanks.
>
> Cheers,
>
> PA.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


From petite_abeille@mac.com  Wed Aug 27 00:11:45 2003
Return-Path: <petite_abeille@mac.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56246 invoked from network); 27 Aug 2003 00:11:45 -0000
Received: from unknown (HELO smtpout.mac.com) (17.250.248.89)
  by daedalus.apache.org with SMTP; 27 Aug 2003 00:11:45 -0000
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id h7R0Bp9D009962
	for <lucene-user@jakarta.apache.org>; Tue, 26 Aug 2003 17:11:51 -0700 (PDT)
Received: from mac.com (adsl-62-167-91-10.adslplus.ch [62.167.91.10])
	(authenticated bits=0)
	by mac.com (Xserve/8.12.9/MantshX 2.0) with ESMTP id h7R0Bglc019689
	for <lucene-user@jakarta.apache.org>; Tue, 26 Aug 2003 17:11:48 -0700 (PDT)
Date: Wed, 27 Aug 2003 02:11:07 +0200
Content-Type: text/plain; charset=US-ASCII; format=flowed
Resent-Date: Wed, 27 Aug 2003 02:12:47 +0200
Content-Transfer-Encoding: 7bit
Resent-Message-Id: <F45E7139-D822-11D7-9F11-000393760B7E@mac.com>
Resent-To: Lucene Users List <lucene-user@jakarta.apache.org>
Mime-Version: 1.0 (Apple Message framework v552)
Subject: Re: IndexReader.delete(Term)?
From: petite_abeille <petite_abeille@mac.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-Id: <2FF9909A-D823-11D7-9F11-000393760B7E@mac.com>
Resent-From: petite_abeille <petite_abeille@mac.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Erik,

On Wednesday, Aug 27, 2003, Erik Hatcher wrote:

> What you are doing looks fine to me.  I'm sure these are obvious 
> questions, kinda like "is your computer plugged in?", but here goes:
>
> - How are you determining that the document is still there?  With an 
> IndexReader?  IndexSearcher?
> - A freshly created (i.e. after the delete) Index[Searcher|Reader]?
> - And finally, did you remember to recompile?!  :))  (just kidding)

Thanks for the moral support :)

In any case, hard liquors and coding doesn't always mix well together, 
so obviously I was shooting myself in the foot...

For the record, I'm using a RAMDirectory which then gets flushed into a 
FSDirectory.

Deleting something means checking both the RAM and FS directory. Which 
is what I do.

But... because of the internal caching done by the IndexWriter, a 
document is not made available straight away... therefore 
IndexReader.delete(Term) returning zero and me banging my head against 
the wall... adjusting the order of operations did solve the "problem"...

Which brings a question: is there a way to influence the IndexWriter's 
internal RAM cache, beside closing or optimizing a writer?

Cheers,

PA.


From bmila@iastate.edu  Wed Aug 27 00:54:14 2003
Return-Path: <bmila@iastate.edu>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64771 invoked from network); 27 Aug 2003 00:54:14 -0000
Received: from unknown (HELO mailhub-3.iastate.edu) (129.186.140.13)
  by daedalus.apache.org with SMTP; 27 Aug 2003 00:54:14 -0000
Received: from mailout-1.iastate.edu (mailout-1.iastate.edu [129.186.140.1])
	by mailhub-3.iastate.edu (8.9.3p2/8.9.3) with SMTP id TAA17112
	for <lucene-user@jakarta.apache.org>; Tue, 26 Aug 2003 19:53:58 -0500
Received: from 12-216-62-95.client.mchsi.com(12.216.62.95) by mailout-1.iastate.edu via csmap 
	 id 21682; Wed, 27 Aug 2003 00:55:33 +0000 (UTC)
Message-ID: <00bd01c36c36$268ceeb0$0201a8c0@bonghit>
From: "Brian Mila" <bmila@iastate.edu>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <008e01c3672a$20f96b10$2501a8c0@pcara> <3F445A9A.1000502@dstc.edu.au> <02d201c367e3$3b29fb30$0201a8c0@POWERPACK> <3F454DAC.7020208@dstc.edu.au> <003301c36ab8$bc6c5990$0201a8c0@bonghit> <3F498A03.40206@dstc.edu.au>
Subject: Re: Similar Document Search
Date: Tue, 26 Aug 2003 19:57:12 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


> As a user of Lucene I missed some features. Part of the OSS culture is
> for me to tell others about this and maybe to try to find solutions.
> Mark's code seems to be one, so I proposed to consider adding it into
> some spot with better exposure for testing. And I don't seem to be the
> only person with the need for these features. I think Lucene would be
> better if these features were easily available. If the Lucene team
> doesn't think so -- fair enough, it is their project. But asking me to
> stop requesting features in a (hopefully) sensible way is pretty much
> against the spirit of OSS and hacker culture as far as I understand it.
>
> Does that answer your questions?
>

Yep.  I guess we have different philosophies but are more or less heading toward the same goal :)   I've been on other projects
where the response to questions has been "look at the source".  So maybe I have gotten into a bad habit of hacking first and asking
questions second.  thanks for the excellent reply, btw.

brian

>   Peter
>





From lists@ehatchersolutions.com  Wed Aug 27 06:35:22 2003
Return-Path: <lists@ehatchersolutions.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48565 invoked from network); 27 Aug 2003 06:35:22 -0000
Received: from unknown (HELO fallback-mx3.atl.registeredsite.com) (64.224.219.97)
  by daedalus.apache.org with SMTP; 27 Aug 2003 06:35:22 -0000
Received: from mail1.atl.registeredsite.com (mail1.atl.registeredsite.com [64.224.219.75])
	by fallback-mx3.atl.registeredsite.com (8.12.9/8.12.6) with ESMTP id h7R5gx1o018345
	for <lucene-user@jakarta.apache.org>; Wed, 27 Aug 2003 01:42:59 -0400
Received: from netmail.mail.registeredsite.com ([216.122.69.18])
	by mail1.atl.registeredsite.com (8.12.9/8.12.9) with ESMTP id h7R5gTFY007264
	(version=TLSv1/SSLv3 cipher=EDH-RSA-DES-CBC3-SHA bits=168 verify=NOT)
	for <lucene-user@jakarta.apache.org>; Wed, 27 Aug 2003 01:42:29 -0400
Received: (qmail 17135 invoked by uid 89); 26 Aug 2003 19:49:34 -0000
Received: from unknown (HELO ehatchersolutions.com) (128.143.171.61)
  by mail.sacobaycasting.com with SMTP; 26 Aug 2003 19:49:34 -0000
Date: Tue, 26 Aug 2003 15:47:16 -0400
Subject: Re: Newbie Questions
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <lists@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3F4BAC32.1030406@helix.stanford.edu>
Message-Id: <1859DCF0-D7FE-11D7-8EDF-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Tuesday, August 26, 2003, at 02:51  PM, Mark Woon wrote:
> Ah, I've been testing out something similar to the latter.  I've been 
> adding multiple values on the same key.  Won't this have the same 
> effect?  I've been assuming that if I do
>
> doc.add(Field.Keyword("content", "value1");
> doc.add(Field.Keyword("content", "value2");
>
> And did a search on the "content" field for either value, I'd get a 
> hit, and it seems to work.  This way, I figure I'd be able to 
> differentiate between values that I want tokenized and values that I 
> don't.
>
> Is there a difference between this and building a StringBuffer 
> containing all the values and storing that as a single field-value?

There is a big difference between using Field.Text and Field.Keyword, 
yes.  It all depends on how you want things tokenized (or not).  
Field.Keyword does not tokenize (via the Analyzer), but Field.Text does.

	Erik


From neil@ipdevco.com  Wed Aug 27 17:40:12 2003
Return-Path: <neil@ipdevco.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3332 invoked from network); 27 Aug 2003 17:40:12 -0000
Received: from unknown (HELO server) (64.26.178.66)
  by daedalus.apache.org with SMTP; 27 Aug 2003 17:40:12 -0000
Received: (qmail 11045 invoked from network); 27 Aug 2003 17:39:21 -0000
Received: from 66-207-196-3.beanfield.net (HELO ipdevco.com) (66.207.196.3)
  by hcti.ws with SMTP; 27 Aug 2003 17:39:21 -0000
Received: from NEIL by ipdevco.com
	with SMTP (MDaemon.PRO.PRO.v5.0.7.R)
	for <lucene-user@jakarta.apache.org>; Wed, 27 Aug 2003 13:36:26 -0400
From: "Neil" <neil@ipdevco.com>
To: <lucene-user@jakarta.apache.org>
Subject: doc number as integer
Date: Wed, 27 Aug 2003 13:39:52 -0400
Message-ID: <002a01c36cc2$3c62a9a0$eb00a8c0@NEIL>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Return-Path: neil@ipdevco.com
X-MDaemon-Deliver-To: lucene-user@jakarta.apache.org
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

It seems that since the index document number value is a positive int, =
this
restricts the number of documents in an index to ( 2^31 - 1 ) =3D
2,147,483,647.

Do I misunderstand?

I mean, that's enough for me, but it seems a kind of surprising =
restriction,
considering long could be used instead for unimaginably large numbers of
documents.  Well, I grant I probably can't imagine 2 billion documents
either, but google can.

Just curious, sorry to bother anyone.


Neil=20




From Eric.Isakson@sas.com  Wed Aug 27 17:52:41 2003
Return-Path: <Eric.Isakson@sas.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48937 invoked from network); 27 Aug 2003 17:52:41 -0000
Received: from unknown (HELO merc64.na.sas.com) (149.173.6.59)
  by daedalus.apache.org with SMTP; 27 Aug 2003 17:52:41 -0000
Received: from merc12.na.sas.com ([10.19.11.9]) by 10.19.11.14 with InterScan Messaging Security Suite; Wed, 27 Aug 2003 13:52:39 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.0.6410.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: doc number as integer
Date: Wed, 27 Aug 2003 13:52:38 -0400
Message-ID: <187D6D956106D84E9D8B280F6458FE14018D9C38@merc12.na.sas.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: doc number as integer
Thread-Index: AcNswmA17YsJgxRUSVCMHXqX8q30cAAAW4Lg
From: "Eric Isakson" <Eric.Isakson@sas.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I remember this coming up before...long causes thread saftey issues...

http://www.javaworld.com/javaworld/jw-09-1997/jw-09-raceconditions.html

I couldn't find anything on sun's java site to reference, but I didn't =
look to hard.

Eric

-----Original Message-----
From: Neil [mailto:neil@ipdevco.com]=20
Sent: Wednesday, August 27, 2003 1:40 PM
To: lucene-user@jakarta.apache.org
Subject: doc number as integer


It seems that since the index document number value is a positive int, =
this restricts the number of documents in an index to ( 2^31 - 1 ) =3D =
2,147,483,647.

Do I misunderstand?

I mean, that's enough for me, but it seems a kind of surprising =
restriction, considering long could be used instead for unimaginably =
large numbers of documents.  Well, I grant I probably can't imagine 2 =
billion documents either, but google can.

Just curious, sorry to bother anyone.


Neil=20




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From neil@ipdevco.com  Wed Aug 27 18:25:28 2003
Return-Path: <neil@ipdevco.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74906 invoked from network); 27 Aug 2003 18:25:28 -0000
Received: from unknown (HELO server) (64.26.178.66)
  by daedalus.apache.org with SMTP; 27 Aug 2003 18:25:28 -0000
Received: (qmail 27271 invoked from network); 27 Aug 2003 18:24:19 -0000
Received: from 66-207-196-3.beanfield.net (HELO ipdevco.com) (66.207.196.3)
  by hcti.ws with SMTP; 27 Aug 2003 18:24:19 -0000
Received: from NEIL by ipdevco.com
	with SMTP (MDaemon.PRO.PRO.v5.0.7.R)
	for <lucene-user@jakarta.apache.org>; Wed, 27 Aug 2003 14:20:40 -0400
From: "Neil" <neil@ipdevco.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: doc number as integer
Date: Wed, 27 Aug 2003 14:24:01 -0400
Message-ID: <000001c36cc8$67ce53e0$eb00a8c0@NEIL>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
Importance: Normal
In-Reply-To: <187D6D956106D84E9D8B280F6458FE14018D9C38@merc12.na.sas.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Return-Path: neil@ipdevco.com
X-MDaemon-Deliver-To: lucene-user@jakarta.apache.org
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hmm, that's really interesting: hadn't thought of that.  I'll search the
archives if I get a chance.

Neil

-----Original Message-----
From: Eric Isakson [mailto:Eric.Isakson@sas.com]=20
Sent: Wednesday, August 27, 2003 1:53 PM
To: Lucene Users List
Subject: RE: doc number as integer


I remember this coming up before...long causes thread saftey issues...

http://www.javaworld.com/javaworld/jw-09-1997/jw-09-raceconditions.html

I couldn't find anything on sun's java site to reference, but I didn't =
look
to hard.

Eric

-----Original Message-----
From: Neil [mailto:neil@ipdevco.com]=20
Sent: Wednesday, August 27, 2003 1:40 PM
To: lucene-user@jakarta.apache.org
Subject: doc number as integer


It seems that since the index document number value is a positive int, =
this
restricts the number of documents in an index to ( 2^31 - 1 ) =3D
2,147,483,647.

Do I misunderstand?

I mean, that's enough for me, but it seems a kind of surprising =
restriction,
considering long could be used instead for unimaginably large numbers of
documents.  Well, I grant I probably can't imagine 2 billion documents
either, but google can.

Just curious, sorry to bother anyone.


Neil=20




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org






From Reece.Wilton@dig.com  Wed Aug 27 21:18:09 2003
Return-Path: <Reece.Wilton@dig.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30711 invoked from network); 27 Aug 2003 21:18:09 -0000
Received: from unknown (HELO mail.disney.com) (204.128.192.15)
  by daedalus.apache.org with SMTP; 27 Aug 2003 21:18:09 -0000
Received: from Hermes10.corp.disney.com (hermes10.corp.disney.com [153.7.110.102])
	by mail.disney.com (Switch-3.1.0/Switch-3.1.0) with ESMTP id h7RKckU6009785
	for <lucene-user@jakarta.apache.org>; Wed, 27 Aug 2003 14:17:17 -0700 (PDT)
Received: from sm-cala-xc03.swna.wdpr.disney.com by hermes.corp.disney.com with ESMTP; Wed, 27 Aug 2003 14:18:24 -0700
Received: from sm-cala-xm11.swna.wdpr.disney.com ([153.7.195.53]) by sm-cala-xc03.swna.wdpr.disney.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Wed, 27 Aug 2003 14:18:10 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.0.6375.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Exceptions while Updating an Index
Date: Wed, 27 Aug 2003 14:18:09 -0700
Message-Id: <496A2C679221504D8B8AE4B10267E876017CCD53@gb-sm-cala-xm11.corp.disney.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Exceptions while Updating an Index
Thread-Index: AcNnp1vyMPmigeACR7ypybqr9Zk3aQFN6e2w
From: "Wilton, Reece" <Reece.Wilton@dig.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 27 Aug 2003 21:18:10.0109 (UTC) FILETIME=[B759B6D0:01C36CE0]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I am getting exceptions because Lucene can't rename files.  Here are a
couple of the exceptions that I'm getting:
 - java.io.IOException: couldn't rename _6lr.tmp to _6lr.del
 - java.io.IOException: couldn't rename segments.new to segments

I am able to index many documents successfully on my Windows machine.
The problem occurs for me during the updating process.  My updating
process goes like this:

  for (each xml file i want to index) {
    // create new document
    parse the xml file
    populate a new Lucene document with the fields from my XML file

    // remove old document from index
    open an index reader
    delete the term from the index   // this successfully deletes the
one document
    close the index reader

    // add new document to index
    open an index writer
    add the document to the index writer
    close the index writer
  }
  =20
Any ideas on how to stop these exceptions from occuring?  No other
process is reading or writing to the index while this process is
running.

Thanks,
Reece

From Karsten.Konrad@xtramind.com  Thu Aug 28 07:12:46 2003
Return-Path: <Karsten.Konrad@xtramind.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64173 invoked from network); 28 Aug 2003 07:12:46 -0000
Received: from unknown (HELO mousepad.xtramind.dfki.de) (134.96.191.5)
  by daedalus.apache.org with SMTP; 28 Aug 2003 07:12:46 -0000
Received: from localhost (localhost [127.0.0.1])
	by mousepad.xtramind.dfki.de (Postfix) with ESMTP id 1AAE67E1E
	for <lucene-user@jakarta.apache.org>; Thu, 28 Aug 2003 09:12:55 +0200 (MEST)
Received: from omicron.win.xtramind.dfki.de (omicron.xtramind.dfki.de [192.168.4.37])
	by mousepad.xtramind.dfki.de (Postfix) with ESMTP id A84B97E13
	for <lucene-user@jakarta.apache.org>; Thu, 28 Aug 2003 09:12:51 +0200 (MEST)
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: AW: Exceptions while Updating an Index
Date: Thu, 28 Aug 2003 09:12:50 +0200
Message-ID: <3B48940F2D7712428BD31A041A367DDC015A52@omicron.xtramind.dfki.de>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Exceptions while Updating an Index
Thread-Index: AcNnp1vyMPmigeACR7ypybqr9Zk3aQFN6e2wABTjI2A=
From: "Karsten Konrad" <Karsten.Konrad@xtramind.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Scanned: by AMaViS with Sophos Sweep
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Hi,

it is very easy to provoke the errrors you describe
when you are opening many alternating writers and=20
readers on Windows.

You can circumvent this problem by using fewer
writer and reader objects, e.g., first delete
all documents to update, then write all the
updated documents. Or use a second index
only for the writing and merge this into the first
after you have deleted the update documents
there.

Regards,

Karsten



-----Urspr=FCngliche Nachricht-----
Von: Wilton, Reece [mailto:Reece.Wilton@dig.com]=20
Gesendet: Mittwoch, 27. August 2003 23:18
An: Lucene Users List
Betreff: Exceptions while Updating an Index


Hi,

I am getting exceptions because Lucene can't rename files.  Here are a =
couple of the exceptions that I'm getting:
 - java.io.IOException: couldn't rename _6lr.tmp to _6lr.del
 - java.io.IOException: couldn't rename segments.new to segments

I am able to index many documents successfully on my Windows machine. =
The problem occurs for me during the updating process.  My updating =
process goes like this:

  for (each xml file i want to index) {
    // create new document
    parse the xml file
    populate a new Lucene document with the fields from my XML file

    // remove old document from index
    open an index reader
    delete the term from the index   // this successfully deletes the
one document
    close the index reader

    // add new document to index
    open an index writer
    add the document to the index writer
    close the index writer
  }
  =20
Any ideas on how to stop these exceptions from occuring?  No other =
process is reading or writing to the index while this process is =
running.

Thanks,
Reece

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From terry@net-frame.com  Thu Aug 28 16:05:03 2003
Return-Path: <terry@net-frame.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71119 invoked from network); 28 Aug 2003 16:05:03 -0000
Received: from unknown (HELO fallback01.mail.atl.earthlink.net) (207.69.200.240)
  by daedalus.apache.org with SMTP; 28 Aug 2003 16:05:03 -0000
Received: from granger.mail.mindspring.net (granger.mail.mindspring.net [207.69.200.148])
	by fallback01.mail.atl.earthlink.net (8.11.6+Sun/8.11.6) with ESMTP id h7SFS3V06153
	for <lucene-user@jakarta.apache.org>; Thu, 28 Aug 2003 11:28:03 -0400 (EDT)
Received: from h-69-3-87-155.mclnva23.covad.net ([69.3.87.155] helo=POWERPACK)
	by granger.mail.mindspring.net with smtp (Exim 3.33 #1)
	id 19sOgP-0000pI-00
	for lucene-user@jakarta.apache.org; Thu, 28 Aug 2003 11:27:33 -0400
Message-ID: <03ab01c36d78$e87af060$0201a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users Group" <lucene-user@jakarta.apache.org>
Subject: RC2 requires reindexing?
Date: Thu, 28 Aug 2003 11:27:34 -0400
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_03A8_01C36D57.60E2E250"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_03A8_01C36D57.60E2E250
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I just switched to RC2 and found that a number of queries now don't =
work.  (When I switch back to RC! they work fine.)  Can't seem to figure =
out a pattern regarding those that don't work versus those (the vast =
majority) that still work fine.  I looked in the RC2 source and noticed =
that the dates on IndexWriter and IndexReader and a bunch of related =
modules seem to have been changed.

Is it necessary to reindex (a major task for my stuff) to use RC2?

Regards,

Terry

------=_NextPart_000_03A8_01C36D57.60E2E250--


From Reece.Wilton@dig.com  Thu Aug 28 17:46:23 2003
Return-Path: <Reece.Wilton@dig.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36299 invoked from network); 28 Aug 2003 17:46:23 -0000
Received: from unknown (HELO mail.disney.com) (204.128.192.15)
  by daedalus.apache.org with SMTP; 28 Aug 2003 17:46:23 -0000
Received: from Hermes10.corp.disney.com (hermes10.corp.disney.com [153.7.110.102])
	by mail.disney.com (Switch-3.1.0/Switch-3.1.0) with ESMTP id h7SHU6rH006487
	for <lucene-user@jakarta.apache.org>; Thu, 28 Aug 2003 10:45:26 -0700 (PDT)
Received: from sm-cala-xc04.swna.wdpr.disney.com by hermes.corp.disney.com with ESMTP; Thu, 28 Aug 2003 10:46:33 -0700
Received: from sm-cala-xm11.swna.wdpr.disney.com ([153.7.195.53]) by sm-cala-xc04.swna.wdpr.disney.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 28 Aug 2003 10:46:19 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.0.6375.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Exceptions while Updating an Index
Date: Thu, 28 Aug 2003 10:46:18 -0700
Message-Id: <496A2C679221504D8B8AE4B10267E876019D7BA6@gb-sm-cala-xm11.corp.disney.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Exceptions while Updating an Index
Thread-Index: AcNnp1vyMPmigeACR7ypybqr9Zk3aQFN6e2wACtPstA=
From: "Wilton, Reece" <Reece.Wilton@dig.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 28 Aug 2003 17:46:19.0092 (UTC) FILETIME=[49683140:01C36D8C]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I am getting exceptions because Lucene can't rename files.  Here are a
couple of the exceptions that I'm getting:
 - java.io.IOException: couldn't rename _6lr.tmp to _6lr.del
 - java.io.IOException: couldn't rename segments.new to segments

I am able to index many documents successfully on my Windows machine.
The problem occurs for me during the updating process.  My updating
process goes like this:

  for (each xml file i want to index) {
    // create new document
    parse the xml file
    populate a new Lucene document with the fields from my XML file

    // remove old document from index
    open an index reader
    delete the term from the index   // this successfully deletes the
one document
    close the index reader

    // add new document to index
    open an index writer
    add the document to the index writer
    close the index writer
  }
  =20
Any ideas on how to stop these exceptions from occuring?  No other
process is reading or writing to the index while this process is
running.

Thanks,
Reece

From becampbel@hotmail.com  Thu Aug 28 20:46:29 2003
Return-Path: <becampbel@hotmail.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34167 invoked from network); 28 Aug 2003 20:46:29 -0000
Received: from unknown (HELO hotmail.com) (65.54.245.15)
  by daedalus.apache.org with SMTP; 28 Aug 2003 20:46:29 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Thu, 28 Aug 2003 13:45:11 -0700
Received: from 156.63.133.8 by by1fd.bay1.hotmail.msn.com with HTTP;
	Thu, 28 Aug 2003 20:45:11 GMT
X-Originating-IP: [156.63.133.8]
X-Originating-Email: [becampbel@hotmail.com]
From: "Brian Campbell" <becampbel@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: Keyword search with space and wildcard
Date: Thu, 28 Aug 2003 20:45:11 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <BAY1-F154XFKpRcTCi9000091aa@hotmail.com>
X-OriginalArrivalTime: 28 Aug 2003 20:45:11.0500 (UTC) FILETIME=[466BB0C0:01C36DA5]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I've created and index that has a Keyword field in it.  I'm trying to do a 
search on that field where my term has a space and the wildcard character in 
it.  For example, I'll issue the following search:  project_name:"Hello w*". 
  I have an entry in the project_name field of "Hello world".  I would 
expect to get a hit on this but I don't.  Is this not the way Lucene 
behaves? Am I doing something wrong?  Thanks.

-Brian

_________________________________________________________________
Help protect your PC: Get a free online virus scan at McAfee.com. 
http://clinic.mcafee.com/clinic/ibuy/campaign.asp?cid=3963


From joseph.paulsen@verizon.net  Thu Aug 28 21:43:43 2003
Return-Path: <joseph.paulsen@verizon.net>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27962 invoked from network); 28 Aug 2003 21:43:43 -0000
Received: from unknown (HELO pop017.verizon.net) (206.46.170.210)
  by daedalus.apache.org with SMTP; 28 Aug 2003 21:43:43 -0000
Received: from s0023819896 ([129.44.10.48]) by pop017.verizon.net
          (InterMail vM.5.01.05.33 201-253-122-126-133-20030313) with ESMTP
          id <20030828214103.UWCK27671.pop017.verizon.net@s0023819896>
          for <lucene-user@jakarta.apache.org>;
          Thu, 28 Aug 2003 16:41:03 -0500
Message-ID: <000a01c36dad$1155a0a0$6501a8c0@s0023819896>
From: "Joe Paulsen" <joseph.paulsen@verizon.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <BAY1-F154XFKpRcTCi9000091aa@hotmail.com>
Subject: Re: Keyword search with space and wildcard
Date: Thu, 28 Aug 2003 17:40:57 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Authentication-Info: Submitted using SMTP AUTH at pop017.verizon.net from [129.44.10.48] at Thu, 28 Aug 2003 16:41:02 -0500
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Brian,

This seems akin to the Phrase Searching problem that I encountered (haven't
heard anything back from my posting yet) - which goes as follows:  I try to
do the phrase search "center* form" but the system seems to simply ignore
the wildcard (throws it away) when processing the search - so I get only
results for "center form".  My guess is the parser is processing your search
simply as if it were "hello w".

I've got no solution - was hoping to hear something from the list.

Joe

----- Original Message ----- 
From: "Brian Campbell" <becampbel@hotmail.com>
To: <lucene-user@jakarta.apache.org>
Sent: Thursday, August 28, 2003 4:45 PM
Subject: Keyword search with space and wildcard


> I've created and index that has a Keyword field in it.  I'm trying to do a
> search on that field where my term has a space and the wildcard character
in
> it.  For example, I'll issue the following search:  project_name:"Hello
w*".
>   I have an entry in the project_name field of "Hello world".  I would
> expect to get a hit on this but I don't.  Is this not the way Lucene
> behaves? Am I doing something wrong?  Thanks.
>
> -Brian
>
> _________________________________________________________________
> Help protect your PC: Get a free online virus scan at McAfee.com.
> http://clinic.mcafee.com/clinic/ibuy/campaign.asp?cid=3963
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>



From n.maisonneuve@HotPOP.com  Fri Aug 29 00:01:25 2003
Return-Path: <n.maisonneuve@HotPOP.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69546 invoked from network); 29 Aug 2003 00:01:25 -0000
Received: from unknown (HELO twix.hotpop.com) (204.57.55.70)
  by daedalus.apache.org with SMTP; 29 Aug 2003 00:01:25 -0000
Received: from hotpop.com (kubrick.hotpop.com [204.57.55.16])
	by twix.hotpop.com (Postfix) with SMTP id 98F6C6B3D70
	for <lucene-user@jakarta.apache.org>; Fri, 29 Aug 2003 00:01:10 +0000 (UTC)
Received: from astikoportable (danton-1-81-57-18-97.fbx.proxad.net [81.57.18.97])
	by smtp-3.hotpop.com (Postfix) with SMTP id 0B8116A99FC
	for <lucene-user@jakarta.apache.org>; Fri, 29 Aug 2003 00:01:08 +0000 (UTC)
Message-ID: <001401c36dc0$a5d676b0$61123951@astikoportable>
From: "Nicolas Maisonneuve" <n.maisonneuve@HotPOP.com>
To: <lucene-user@jakarta.apache.org>
Subject: Avalon IndexWriter
Date: Fri, 29 Aug 2003 02:01:05 +0200
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0011_01C36DD1.67B4F210"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2727.1300
X-HotPOP: -----------------------------------------------
                   Sent By HotPOP.com FREE Email
             Get your FREE POP email at www.HotPOP.com
          -----------------------------------------------
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0011_01C36DD1.67B4F210
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

hy,=20
i would know if someone has written a avalon indexwriter=20

thank in advance..

------=_NextPart_000_0011_01C36DD1.67B4F210--



From terry@net-frame.com  Fri Aug 29 02:29:34 2003
Return-Path: <terry@net-frame.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6295 invoked from network); 29 Aug 2003 02:29:34 -0000
Received: from unknown (HELO smtp6.mindspring.com) (207.69.200.110)
  by daedalus.apache.org with SMTP; 29 Aug 2003 02:29:34 -0000
Received: from h-66-167-145-229.mclnva23.covad.net ([66.167.145.229] helo=POWERPACK)
	by smtp6.mindspring.com with smtp (Exim 3.33 #1)
	id 19sZ1C-0006d1-00
	for lucene-user@jakarta.apache.org; Thu, 28 Aug 2003 22:29:42 -0400
Message-ID: <005a01c36dd5$68b28f20$0201a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <BAY1-F154XFKpRcTCi9000091aa@hotmail.com>
Subject: Re: Keyword search with space and wildcard
Date: Thu, 28 Aug 2003 22:29:44 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

If I understand your issue correctly, I think what you're experiencing is
the fact that you can have a phrase query "hello world", or a wildcard query
+hell* +wor*, but you can't mix the two together.  As far as I've found,
that's a basic limitation you just have to live with.  (Of course, if
someone on the list can show me where I'm wrong, I'll be delighted.)  You
can add boosting to any kind of term (such as wor*^10 or "world order"^10),
but (I don't think) you can't mix wildcards and phrases.

HTH,

Terry

----- Original Message -----
From: "Brian Campbell" <becampbel@hotmail.com>
To: <lucene-user@jakarta.apache.org>
Sent: Thursday, August 28, 2003 4:45 PM
Subject: Keyword search with space and wildcard


> I've created and index that has a Keyword field in it.  I'm trying to do a
> search on that field where my term has a space and the wildcard character
in
> it.  For example, I'll issue the following search:  project_name:"Hello
w*".
>   I have an entry in the project_name field of "Hello world".  I would
> expect to get a hit on this but I don't.  Is this not the way Lucene
> behaves? Am I doing something wrong?  Thanks.
>
> -Brian
>
> _________________________________________________________________
> Help protect your PC: Get a free online virus scan at McAfee.com.
> http://clinic.mcafee.com/clinic/ibuy/campaign.asp?cid=3963
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


From becampbel@hotmail.com  Fri Aug 29 03:57:24 2003
Return-Path: <becampbel@hotmail.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1792 invoked from network); 29 Aug 2003 03:57:24 -0000
Received: from unknown (HELO hotmail.com) (65.54.245.132)
  by daedalus.apache.org with SMTP; 29 Aug 2003 03:57:24 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Thu, 28 Aug 2003 20:54:48 -0700
Received: from 24.210.90.175 by by1fd.bay1.hotmail.msn.com with HTTP;
	Fri, 29 Aug 2003 03:54:48 GMT
X-Originating-IP: [24.210.90.175]
X-Originating-Email: [becampbel@hotmail.com]
From: "Brian Campbell" <becampbel@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: Re: Keyword search with space and wildcard
Date: Fri, 29 Aug 2003 03:54:48 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <BAY1-F132tgVy5RHilp0000ceb9@hotmail.com>
X-OriginalArrivalTime: 29 Aug 2003 03:54:48.0595 (UTC) FILETIME=[4AC43E30:01C36DE1]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Basically, yes, I am trying to put a wildcard in a phrase.  My field (a 
Keyword) is the name of a project.  It can be 40 characters long (I'm 
basically indexing some database columns).  Since it is a Keyword and not a 
Text field, it doesn't get tokenized (I do this on purpose) and must match 
up exactly.  I would like for users to be able to search on partial phrases 
such as "Hello w*" and match up to "Hello world" and "Hello washington", 
etc.  Is this not possible?  Is it documented anywhere?

Thanks.
-Brian




>From: "Terry Steichen" <terry@net-frame.com>
>Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>Subject: Re: Keyword search with space and wildcard
>Date: Thu, 28 Aug 2003 22:29:44 -0400
>
>If I understand your issue correctly, I think what you're experiencing is
>the fact that you can have a phrase query "hello world", or a wildcard 
>query
>+hell* +wor*, but you can't mix the two together.  As far as I've found,
>that's a basic limitation you just have to live with.  (Of course, if
>someone on the list can show me where I'm wrong, I'll be delighted.)  You
>can add boosting to any kind of term (such as wor*^10 or "world order"^10),
>but (I don't think) you can't mix wildcards and phrases.
>
>HTH,
>
>Terry
>
>----- Original Message -----
>From: "Brian Campbell" <becampbel@hotmail.com>
>To: <lucene-user@jakarta.apache.org>
>Sent: Thursday, August 28, 2003 4:45 PM
>Subject: Keyword search with space and wildcard
>
>
> > I've created and index that has a Keyword field in it.  I'm trying to do 
>a
> > search on that field where my term has a space and the wildcard 
>character
>in
> > it.  For example, I'll issue the following search:  project_name:"Hello
>w*".
> >   I have an entry in the project_name field of "Hello world".  I would
> > expect to get a hit on this but I don't.  Is this not the way Lucene
> > behaves? Am I doing something wrong?  Thanks.
> >
> > -Brian
> >
> > _________________________________________________________________
> > Help protect your PC: Get a free online virus scan at McAfee.com.
> > http://clinic.mcafee.com/clinic/ibuy/campaign.asp?cid=3963
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

_________________________________________________________________
Get MSN 8 and help protect your children with advanced parental controls.  
http://join.msn.com/?page=features/parental


From zapletal@inf.upol.cz  Fri Aug 29 10:12:55 2003
Return-Path: <zapletal@inf.upol.cz>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81367 invoked from network); 29 Aug 2003 10:12:55 -0000
Received: from unknown (HELO lamed.bach.cz) (194.108.49.133)
  by daedalus.apache.org with SMTP; 29 Aug 2003 10:12:55 -0000
Received: from lzap-win ([192.168.1.20])
	by lamed.bach.cz (8.11.6/8.11.6/SuSE Linux 0.5) with ESMTP id h7TAH6X05774
	for <lucene-user@jakarta.apache.org>; Fri, 29 Aug 2003 12:17:07 +0200
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: RC2 requires reindexing?
References: <03ab01c36d78$e87af060$0201a8c0@POWERPACK>
Message-ID: <oprunv151iizv1bp@csnt.inf.upol.cz>
Content-Type: text/plain; charset=iso-8859-2; format=flowed
From: Lukas Zapletal <zapletal@inf.upol.cz>
Organization: KMI UP Olomouc
MIME-Version: 1.0
Date: Fri, 29 Aug 2003 12:14:19 +0200
In-Reply-To: <03ab01c36d78$e87af060$0201a8c0@POWERPACK>
User-Agent: Opera7.11/Win32 M2 build 2887
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

it do not need reindexing, it works fine for me

On Thu, 28 Aug 2003 11:27:34 -0400, Terry Steichen <terry@net-frame.com> 
wrote:

> I just switched to RC2 and found that a number of queries now don't work. 
> (When I switch back to RC! they work fine.)  Can't seem to figure out a 
> pattern regarding those that don't work versus those (the vast majority) 
> that still work fine.  I looked in the RC2 source and noticed that the 
> dates on IndexWriter and IndexReader and a bunch of related modules seem 
> to have been changed.
>
> Is it necessary to reindex (a major task for my stuff) to use RC2?
>
> Regards,
>
> Terry
>



-- 
Lukas Zapletal

http://www.tanecni-olomouc.cz/lzap       icq: 17569735
mail: lzap_at_root.cz    jabber: lzap_at_njs.netlab.cz
pgp: 715B 5502 4FB3 65E7 266B 927E CE9F 1D04 0EE2 4DB7

From jan@agermose.dk  Fri Aug 29 10:32:22 2003
Return-Path: <jan@agermose.dk>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22226 invoked from network); 29 Aug 2003 10:32:22 -0000
Received: from unknown (HELO mail.topix.dk) (213.150.56.212)
  by daedalus.apache.org with SMTP; 29 Aug 2003 10:32:22 -0000
Received: (qmail 20664 invoked from network); 29 Aug 2003 10:31:59 -0000
Received: from port76.ds1-vey.adsl.cybercity.dk (HELO jalaptop) (217.157.168.207)
  by 213.150.56.212 with SMTP; 29 Aug 2003 10:31:59 -0000
Message-ID: <00cb01c36e18$ccd1fc50$0200000a@csiteoffice.csite.com>
From: "Jan Agermose" <jan@agermose.dk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <03ab01c36d78$e87af060$0201a8c0@POWERPACK> <oprunv151iizv1bp@csnt.inf.upol.cz>
Subject: Re: RC2 requires reindexing?
Date: Fri, 29 Aug 2003 12:32:08 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-2"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Ok, on the first posting about RC2 i looked for et, but as I did not find
any RC2 I guessed he was mistaken... but now? What RC2 are You talking about
and if its 1.3RC2 where do I find it and why does the webpage not mention it
(or the download area hold it) ?

Jan

----- Original Message ----- 
From: "Lukas Zapletal" <zapletal@inf.upol.cz>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Friday, August 29, 2003 12:14 PM
Subject: Re: RC2 requires reindexing?


> it do not need reindexing, it works fine for me
>
> On Thu, 28 Aug 2003 11:27:34 -0400, Terry Steichen <terry@net-frame.com>
> wrote:
>
> > I just switched to RC2 and found that a number of queries now don't
work.
> > (When I switch back to RC! they work fine.)  Can't seem to figure out a
> > pattern regarding those that don't work versus those (the vast majority)
> > that still work fine.  I looked in the RC2 source and noticed that the
> > dates on IndexWriter and IndexReader and a bunch of related modules seem
> > to have been changed.
> >
> > Is it necessary to reindex (a major task for my stuff) to use RC2?
> >
> > Regards,
> >
> > Terry
> >
>
>
>
> -- 
> Lukas Zapletal
>
> http://www.tanecni-olomouc.cz/lzap       icq: 17569735
> mail: lzap_at_root.cz    jabber: lzap_at_njs.netlab.cz
> pgp: 715B 5502 4FB3 65E7 266B 927E CE9F 1D04 0EE2 4DB7
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


From amordo@infosciences.com  Fri Aug 29 12:34:48 2003
Return-Path: <amordo@infosciences.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60954 invoked from network); 29 Aug 2003 12:34:48 -0000
Received: from unknown (HELO isc?mail.infosciences.com) (141.156.69.115)
  by daedalus.apache.org with SMTP; 29 Aug 2003 12:34:48 -0000
Received: from Aviran (141.156.69.109 [141.156.69.109]) by isc_mail.infosciences.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id RW4MRKKH; Fri, 29 Aug 2003 08:38:46 -0400
From: "Aviran Mordo" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: RC2 requires reindexing?
Date: Fri, 29 Aug 2003 08:34:27 -0400
Message-ID: <000501c36e29$e8cd77c0$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <00cb01c36e18$ccd1fc50$0200000a@csiteoffice.csite.com>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

You can find RC2 in CVS

-----Original Message-----
From: Jan Agermose [mailto:jan@agermose.dk] 
Sent: Friday, August 29, 2003 6:32 AM
To: Lucene Users List
Subject: Re: RC2 requires reindexing?


Ok, on the first posting about RC2 i looked for et, but as I did not
find any RC2 I guessed he was mistaken... but now? What RC2 are You
talking about and if its 1.3RC2 where do I find it and why does the
webpage not mention it (or the download area hold it) ?

Jan

----- Original Message ----- 
From: "Lukas Zapletal" <zapletal@inf.upol.cz>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Friday, August 29, 2003 12:14 PM
Subject: Re: RC2 requires reindexing?


> it do not need reindexing, it works fine for me
>
> On Thu, 28 Aug 2003 11:27:34 -0400, Terry Steichen 
> <terry@net-frame.com>
> wrote:
>
> > I just switched to RC2 and found that a number of queries now don't
work.
> > (When I switch back to RC! they work fine.)  Can't seem to figure 
> > out a pattern regarding those that don't work versus those (the vast

> > majority) that still work fine.  I looked in the RC2 source and 
> > noticed that the dates on IndexWriter and IndexReader and a bunch of

> > related modules seem to have been changed.
> >
> > Is it necessary to reindex (a major task for my stuff) to use RC2?
> >
> > Regards,
> >
> > Terry
> >
>
>
>
> --
> Lukas Zapletal
>
> http://www.tanecni-olomouc.cz/lzap       icq: 17569735
> mail: lzap_at_root.cz    jabber: lzap_at_njs.netlab.cz
> pgp: 715B 5502 4FB3 65E7 266B 927E CE9F 1D04 0EE2 4DB7
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



From jan@agermose.dk  Fri Aug 29 12:53:53 2003
Return-Path: <jan@agermose.dk>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14624 invoked from network); 29 Aug 2003 12:53:53 -0000
Received: from unknown (HELO mail.topix.dk) (213.150.56.212)
  by daedalus.apache.org with SMTP; 29 Aug 2003 12:53:53 -0000
Received: (qmail 22572 invoked from network); 29 Aug 2003 12:46:38 -0000
Received: from port76.ds1-vey.adsl.cybercity.dk (HELO jalaptop) (217.157.168.207)
  by 213.150.56.212 with SMTP; 29 Aug 2003 12:46:38 -0000
Message-ID: <01ee01c36e2b$9c0eca90$0200000a@csiteoffice.csite.com>
From: "Jan Agermose" <jan@agermose.dk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <000501c36e29$e8cd77c0$6a00a8c0@Aviran>
Subject: Re: RC2 requires reindexing?
Date: Fri, 29 Aug 2003 14:46:45 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

ok - but is it then RC2 og simply HEAD? I'm not that interessted in cvs
access/updating, if its a RC it really should be on the website, as a binary
stable download?

Jan



----- Original Message ----- 
From: "Aviran Mordo" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Sent: Friday, August 29, 2003 2:34 PM
Subject: RE: RC2 requires reindexing?


> You can find RC2 in CVS
>
> -----Original Message-----
> From: Jan Agermose [mailto:jan@agermose.dk]
> Sent: Friday, August 29, 2003 6:32 AM
> To: Lucene Users List
> Subject: Re: RC2 requires reindexing?
>
>
> Ok, on the first posting about RC2 i looked for et, but as I did not
> find any RC2 I guessed he was mistaken... but now? What RC2 are You
> talking about and if its 1.3RC2 where do I find it and why does the
> webpage not mention it (or the download area hold it) ?
>
> Jan
>
> ----- Original Message ----- 
> From: "Lukas Zapletal" <zapletal@inf.upol.cz>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Friday, August 29, 2003 12:14 PM
> Subject: Re: RC2 requires reindexing?
>
>
> > it do not need reindexing, it works fine for me
> >
> > On Thu, 28 Aug 2003 11:27:34 -0400, Terry Steichen
> > <terry@net-frame.com>
> > wrote:
> >
> > > I just switched to RC2 and found that a number of queries now don't
> work.
> > > (When I switch back to RC! they work fine.)  Can't seem to figure
> > > out a pattern regarding those that don't work versus those (the vast
>
> > > majority) that still work fine.  I looked in the RC2 source and
> > > noticed that the dates on IndexWriter and IndexReader and a bunch of
>
> > > related modules seem to have been changed.
> > >
> > > Is it necessary to reindex (a major task for my stuff) to use RC2?
> > >
> > > Regards,
> > >
> > > Terry
> > >
> >
> >
> >
> > --
> > Lukas Zapletal
> >
> > http://www.tanecni-olomouc.cz/lzap       icq: 17569735
> > mail: lzap_at_root.cz    jabber: lzap_at_njs.netlab.cz
> > pgp: 715B 5502 4FB3 65E7 266B 927E CE9F 1D04 0EE2 4DB7
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


From tatu@hypermall.net  Fri Aug 29 15:11:26 2003
Return-Path: <tatu@hypermall.net>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15894 invoked from network); 29 Aug 2003 15:11:26 -0000
Received: from unknown (HELO mz1.forethought.net) (216.241.36.12)
  by daedalus.apache.org with SMTP; 29 Aug 2003 15:11:26 -0000
Received: from j72.denver.dsl.forethought.net ([216.241.38.72] helo=www.doomdark.org)
	by mz1.forethought.net with esmtp (Exim 4.14)
	id 19skuL-0004WS-Hu
	for lucene-user@jakarta.apache.org; Fri, 29 Aug 2003 09:11:25 -0600
Content-Type: text/plain;
  charset="iso-8859-1"
From: Tatu Saloranta <tatu@hypermall.net>
Reply-To: tatu@hypermall.net
Organization: Linux-users missalie
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Keyword search with space and wildcard
Date: Fri, 29 Aug 2003 09:14:39 -0600
User-Agent: KMail/1.4.3
References: <BAY1-F132tgVy5RHilp0000ceb9@hotmail.com>
In-Reply-To: <BAY1-F132tgVy5RHilp0000ceb9@hotmail.com>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200308290914.39366.tatu@hypermall.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Thursday 28 August 2003 21:54, Brian Campbell wrote:
> Basically, yes, I am trying to put a wildcard in a phrase.  My field (a
> Keyword) is the name of a project.  It can be 40 characters long (I'm
> basically indexing some database columns).  Since it is a Keyword and not a
> Text field, it doesn't get tokenized (I do this on purpose) and must match
> up exactly.  I would like for users to be able to search on partial phrases
> such as "Hello w*" and match up to "Hello world" and "Hello washington",
> etc.  Is this not possible?  Is it documented anywhere?

This can be done, AFAIK.

This is one thing that many people seem unaware of: you don't HAVE to use
QueryParser to build queries. In your case it seems like you should be able
to construct query you want if you either by-pass QueryParser, or create
a dummy analyzer (one that does no tokenization but returns all input as
one token).

Since QueryParser is fairly simple class, you should be able to see how wild 
card queries are constructed. You can not (and need not) create a phrase 
query since it does not allow wild cards (like someone pointed out), but 
since the whole phrase is just one token for keyword fields, you can use 
normal wild card query (or prefix for cases like "Hello w*").

It would be nice if FAQ could point out that QueryParser is higher-level 
interface to query part, but it is possible and sometimes necessary to do 
your own query construction. I think it's very cool Lucene queries were 
properly modularized this way -- too many open source projects have 
components too tightly coupled.

-+ Tatu +-


From terry@net-frame.com  Fri Aug 29 15:50:50 2003
Return-Path: <terry@net-frame.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27841 invoked from network); 29 Aug 2003 15:50:50 -0000
Received: from unknown (HELO fallback02.mail.atl.earthlink.net) (207.69.200.241)
  by daedalus.apache.org with SMTP; 29 Aug 2003 15:50:50 -0000
Received: from granger.mail.mindspring.net (granger.mail.mindspring.net [207.69.200.148])
	by fallback02.mail.atl.earthlink.net (8.11.6+Sun/8.11.6) with ESMTP id h7TE0Sn27692
	for <lucene-user@jakarta.apache.org>; Fri, 29 Aug 2003 10:00:28 -0400 (EDT)
Received: from h-66-167-145-183.mclnva23.covad.net ([66.167.145.183] helo=POWERPACK)
	by granger.mail.mindspring.net with smtp (Exim 3.33 #1)
	id 19sjnC-0002Ex-00
	for lucene-user@jakarta.apache.org; Fri, 29 Aug 2003 09:59:58 -0400
Message-ID: <003301c36e35$d667e140$0201a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <000501c36e29$e8cd77c0$6a00a8c0@Aviran> <01ee01c36e2b$9c0eca90$0200000a@csiteoffice.csite.com>
Subject: Re: RC2 requires reindexing?
Date: Fri, 29 Aug 2003 10:00:00 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I agree.  When I said I was using RC2, that wasn't quite accurate.  I was
using the latest CVS offering, which could have other changes beyond RC2.  A
convenient way to get RC2 would be beneficial.

Regards,

Terry

----- Original Message -----
From: "Jan Agermose" <jan@agermose.dk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Friday, August 29, 2003 8:46 AM
Subject: Re: RC2 requires reindexing?


> ok - but is it then RC2 og simply HEAD? I'm not that interessted in cvs
> access/updating, if its a RC it really should be on the website, as a
binary
> stable download?
>
> Jan
>
>
>
> ----- Original Message -----
> From: "Aviran Mordo" <amordo@infosciences.com>
> To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
> Sent: Friday, August 29, 2003 2:34 PM
> Subject: RE: RC2 requires reindexing?
>
>
> > You can find RC2 in CVS
> >
> > -----Original Message-----
> > From: Jan Agermose [mailto:jan@agermose.dk]
> > Sent: Friday, August 29, 2003 6:32 AM
> > To: Lucene Users List
> > Subject: Re: RC2 requires reindexing?
> >
> >
> > Ok, on the first posting about RC2 i looked for et, but as I did not
> > find any RC2 I guessed he was mistaken... but now? What RC2 are You
> > talking about and if its 1.3RC2 where do I find it and why does the
> > webpage not mention it (or the download area hold it) ?
> >
> > Jan
> >
> > ----- Original Message -----
> > From: "Lukas Zapletal" <zapletal@inf.upol.cz>
> > To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> > Sent: Friday, August 29, 2003 12:14 PM
> > Subject: Re: RC2 requires reindexing?
> >
> >
> > > it do not need reindexing, it works fine for me
> > >
> > > On Thu, 28 Aug 2003 11:27:34 -0400, Terry Steichen
> > > <terry@net-frame.com>
> > > wrote:
> > >
> > > > I just switched to RC2 and found that a number of queries now don't
> > work.
> > > > (When I switch back to RC! they work fine.)  Can't seem to figure
> > > > out a pattern regarding those that don't work versus those (the vast
> >
> > > > majority) that still work fine.  I looked in the RC2 source and
> > > > noticed that the dates on IndexWriter and IndexReader and a bunch of
> >
> > > > related modules seem to have been changed.
> > > >
> > > > Is it necessary to reindex (a major task for my stuff) to use RC2?
> > > >
> > > > Regards,
> > > >
> > > > Terry
> > > >
> > >
> > >
> > >
> > > --
> > > Lukas Zapletal
> > >
> > > http://www.tanecni-olomouc.cz/lzap       icq: 17569735
> > > mail: lzap_at_root.cz    jabber: lzap_at_njs.netlab.cz
> > > pgp: 715B 5502 4FB3 65E7 266B 927E CE9F 1D04 0EE2 4DB7
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > >
> > >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


From jan@agermose.dk  Fri Aug 29 16:00:55 2003
Return-Path: <jan@agermose.dk>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55827 invoked from network); 29 Aug 2003 16:00:55 -0000
Received: from unknown (HELO mail.topix.dk) (213.150.56.212)
  by daedalus.apache.org with SMTP; 29 Aug 2003 16:00:55 -0000
Received: (qmail 24891 invoked from network); 29 Aug 2003 16:00:35 -0000
Received: from port76.ds1-vey.adsl.cybercity.dk (HELO jalaptop) (217.157.168.207)
  by 213.150.56.212 with SMTP; 29 Aug 2003 16:00:35 -0000
Message-ID: <031b01c36e46$b4414b90$0200000a@csiteoffice.csite.com>
From: "Jan Agermose" <jan@agermose.dk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <000501c36e29$e8cd77c0$6a00a8c0@Aviran> <01ee01c36e2b$9c0eca90$0200000a@csiteoffice.csite.com> <003301c36e35$d667e140$0201a8c0@POWERPACK>
Subject: Re: RC2 requires reindexing?
Date: Fri, 29 Aug 2003 18:00:44 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Was has changed since rc1? Does anyone know of plans for releasing a new rc
or even an final release?

Jan

----- Original Message ----- 
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Friday, August 29, 2003 4:00 PM
Subject: Re: RC2 requires reindexing?


> I agree.  When I said I was using RC2, that wasn't quite accurate.  I was
> using the latest CVS offering, which could have other changes beyond RC2.
A
> convenient way to get RC2 would be beneficial.
>
> Regards,
>
> Terry
>
> ----- Original Message -----
> From: "Jan Agermose" <jan@agermose.dk>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Friday, August 29, 2003 8:46 AM
> Subject: Re: RC2 requires reindexing?
>
>
> > ok - but is it then RC2 og simply HEAD? I'm not that interessted in cvs
> > access/updating, if its a RC it really should be on the website, as a
> binary
> > stable download?
> >
> > Jan
> >
> >
> >
> > ----- Original Message -----
> > From: "Aviran Mordo" <amordo@infosciences.com>
> > To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
> > Sent: Friday, August 29, 2003 2:34 PM
> > Subject: RE: RC2 requires reindexing?
> >
> >
> > > You can find RC2 in CVS
> > >
> > > -----Original Message-----
> > > From: Jan Agermose [mailto:jan@agermose.dk]
> > > Sent: Friday, August 29, 2003 6:32 AM
> > > To: Lucene Users List
> > > Subject: Re: RC2 requires reindexing?
> > >
> > >
> > > Ok, on the first posting about RC2 i looked for et, but as I did not
> > > find any RC2 I guessed he was mistaken... but now? What RC2 are You
> > > talking about and if its 1.3RC2 where do I find it and why does the
> > > webpage not mention it (or the download area hold it) ?
> > >
> > > Jan
> > >
> > > ----- Original Message -----
> > > From: "Lukas Zapletal" <zapletal@inf.upol.cz>
> > > To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> > > Sent: Friday, August 29, 2003 12:14 PM
> > > Subject: Re: RC2 requires reindexing?
> > >
> > >
> > > > it do not need reindexing, it works fine for me
> > > >
> > > > On Thu, 28 Aug 2003 11:27:34 -0400, Terry Steichen
> > > > <terry@net-frame.com>
> > > > wrote:
> > > >
> > > > > I just switched to RC2 and found that a number of queries now
don't
> > > work.
> > > > > (When I switch back to RC! they work fine.)  Can't seem to figure
> > > > > out a pattern regarding those that don't work versus those (the
vast
> > >
> > > > > majority) that still work fine.  I looked in the RC2 source and
> > > > > noticed that the dates on IndexWriter and IndexReader and a bunch
of
> > >
> > > > > related modules seem to have been changed.
> > > > >
> > > > > Is it necessary to reindex (a major task for my stuff) to use RC2?
> > > > >
> > > > > Regards,
> > > > >
> > > > > Terry
> > > > >
> > > >
> > > >
> > > >
> > > > --
> > > > Lukas Zapletal
> > > >
> > > > http://www.tanecni-olomouc.cz/lzap       icq: 17569735
> > > > mail: lzap_at_root.cz    jabber: lzap_at_njs.netlab.cz
> > > > pgp: 715B 5502 4FB3 65E7 266B 927E CE9F 1D04 0EE2 4DB7
> > > >
> > >
> ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > > >
> > > >
> > >
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > >
> > >
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > >
> > >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


From terry@net-frame.com  Fri Aug 29 16:59:24 2003
Return-Path: <terry@net-frame.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4189 invoked from network); 29 Aug 2003 16:59:24 -0000
Received: from unknown (HELO fallback01.mail.atl.earthlink.net) (207.69.200.240)
  by daedalus.apache.org with SMTP; 29 Aug 2003 16:59:24 -0000
Received: from granger.mail.mindspring.net (granger.mail.mindspring.net [207.69.200.148])
	by fallback01.mail.atl.earthlink.net (8.11.6+Sun/8.11.6) with ESMTP id h7TG2FV13974
	for <lucene-user@jakarta.apache.org>; Fri, 29 Aug 2003 12:02:15 -0400 (EDT)
Received: from h-66-167-145-183.mclnva23.covad.net ([66.167.145.183] helo=POWERPACK)
	by granger.mail.mindspring.net with smtp (Exim 3.33 #1)
	id 19slhW-00003i-00; Fri, 29 Aug 2003 12:02:14 -0400
Message-ID: <004801c36e46$eb5777d0$0201a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>, <tatu@hypermall.net>
References: <BAY1-F132tgVy5RHilp0000ceb9@hotmail.com> <200308290914.39366.tatu@hypermall.net>
Subject: Re: Keyword search with space and wildcard
Date: Fri, 29 Aug 2003 12:02:16 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Tatu,

I agree.  One problem, however, that new (and not-so-new) Lucene users face
is a learning curve when they want to get past the simplest and most obvious
uses of Lucene.  For example, I don't think any of the docs mention the fact
that you can't combine a phrase and a wildcard query.  Other things that are
obviously quite well understood by many members of the list, are still
less-than-clear to others.  For example, I found (and still find) it a bit
difficult to find concrete examples/advice of how to get good benefit from
filters.

My whole point is that this is a *very* powerful and flexible technology.
But I think it's often very difficult for those most experienced in using
Lucene to fully appreciate how it looks from the "newbie" point of view.

Just my $0.02.

Regards,

Terry


----- Original Message -----
From: "Tatu Saloranta" <tatu@hypermall.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Friday, August 29, 2003 11:14 AM
Subject: Re: Keyword search with space and wildcard


> On Thursday 28 August 2003 21:54, Brian Campbell wrote:
> > Basically, yes, I am trying to put a wildcard in a phrase.  My field (a
> > Keyword) is the name of a project.  It can be 40 characters long (I'm
> > basically indexing some database columns).  Since it is a Keyword and
not a
> > Text field, it doesn't get tokenized (I do this on purpose) and must
match
> > up exactly.  I would like for users to be able to search on partial
phrases
> > such as "Hello w*" and match up to "Hello world" and "Hello washington",
> > etc.  Is this not possible?  Is it documented anywhere?
>
> This can be done, AFAIK.
>
> This is one thing that many people seem unaware of: you don't HAVE to use
> QueryParser to build queries. In your case it seems like you should be
able
> to construct query you want if you either by-pass QueryParser, or create
> a dummy analyzer (one that does no tokenization but returns all input as
> one token).
>
> Since QueryParser is fairly simple class, you should be able to see how
wild
> card queries are constructed. You can not (and need not) create a phrase
> query since it does not allow wild cards (like someone pointed out), but
> since the whole phrase is just one token for keyword fields, you can use
> normal wild card query (or prefix for cases like "Hello w*").
>
> It would be nice if FAQ could point out that QueryParser is higher-level
> interface to query part, but it is possible and sometimes necessary to do
> your own query construction. I think it's very cool Lucene queries were
> properly modularized this way -- too many open source projects have
> components too tightly coupled.
>
> -+ Tatu +-
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


From tatu@hypermall.net  Sat Aug 30 04:06:25 2003
Return-Path: <tatu@hypermall.net>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6553 invoked from network); 30 Aug 2003 04:06:25 -0000
Received: from unknown (HELO mz1.forethought.net) (216.241.36.12)
  by daedalus.apache.org with SMTP; 30 Aug 2003 04:06:25 -0000
Received: from j72.denver.dsl.forethought.net ([216.241.38.72] helo=www.doomdark.org)
	by mz1.forethought.net with esmtp (Exim 4.14)
	id 19sx0P-0004aV-Rw
	for lucene-user@jakarta.apache.org; Fri, 29 Aug 2003 22:06:29 -0600
Content-Type: text/plain;
  charset="iso-8859-1"
From: Tatu Saloranta <tatu@hypermall.net>
Reply-To: tatu@hypermall.net
Organization: Linux-users missalie
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Keyword search with space and wildcard
Date: Fri, 29 Aug 2003 22:09:44 -0600
User-Agent: KMail/1.4.3
References: <BAY1-F132tgVy5RHilp0000ceb9@hotmail.com> <200308290914.39366.tatu@hypermall.net> <004801c36e46$eb5777d0$0201a8c0@POWERPACK>
In-Reply-To: <004801c36e46$eb5777d0$0201a8c0@POWERPACK>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200308292209.45049.tatu@hypermall.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Friday 29 August 2003 10:02, Terry Steichen wrote:
> I agree.  One problem, however, that new (and not-so-new) Lucene users face
> is a learning curve when they want to get past the simplest and most
> obvious uses of Lucene.  For example, I don't think any of the docs mention
> the fact that you can't combine a phrase and a wildcard query.  Other
> things that are obviously quite well understood by many members of the
> list, are still less-than-clear to others.  For example, I found (and still
> find) it a bit difficult to find concrete examples/advice of how to get
> good benefit from filters.
>
> My whole point is that this is a *very* powerful and flexible technology.
> But I think it's often very difficult for those most experienced in using
> Lucene to fully appreciate how it looks from the "newbie" point of view.

I agree completely. Perhaps I worded my reply badly; I didn't mean to sound 
hostile towards new users at all -- after all I consider myself to be one (I 
just happened to work on simple improvements to QueryParser and learnt how it 
works). I wish documentation was more complete; perhaps some section could 
list common workarounds or insights. And perhaps incompatibility of phrase 
and wild card queries could be added to document that lists current 
limitations.

I guess the reason I think it's valuable to document the flexibility of query 
construction is that I have been working on something similar (although 
working with database queries) in a system I'm working on, and I have also 
seen systems that have query syntax that's too intertwined with backend 
implementation (for example, while Hibernate is a good ORM, its queries don't 
seem to have backend independent intermediate representation... which makes 
it hard to develop different kinds of backends). So, it's useful to know that 
there are 2 levels of interfaces to Lucene's query functionality.

-+ Tatu +-


From terry@net-frame.com  Sat Aug 30 16:53:41 2003
Return-Path: <terry@net-frame.com>
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74223 invoked from network); 30 Aug 2003 16:53:41 -0000
Received: from unknown (HELO fallback01.mail.atl.earthlink.net) (207.69.200.240)
  by daedalus.apache.org with SMTP; 30 Aug 2003 16:53:41 -0000
Received: from smtp10.atl.mindspring.net (smtp10.atl.mindspring.net [207.69.200.246])
	by fallback01.mail.atl.earthlink.net (8.11.6+Sun/8.11.6) with ESMTP id h7UEqqV12929
	for <lucene-user@jakarta.apache.org>; Sat, 30 Aug 2003 10:52:52 -0400 (EDT)
Received: from h-68-166-70-31.mclnva23.covad.net ([68.166.70.31] helo=POWERPACK)
	by smtp10.atl.mindspring.net with smtp (Exim 3.33 #1)
	id 19t75R-0005fG-00; Sat, 30 Aug 2003 10:52:21 -0400
Message-ID: <001001c36f06$5364d5b0$0201a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>, <tatu@hypermall.net>
References: <BAY1-F132tgVy5RHilp0000ceb9@hotmail.com> <200308290914.39366.tatu@hypermall.net> <004801c36e46$eb5777d0$0201a8c0@POWERPACK> <200308292209.45049.tatu@hypermall.net>
Subject: Lucene documentation
Date: Sat, 30 Aug 2003 10:52:25 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Tatu,

My comments were not intended to be directed specifically toward you.  And I
don't think you worded your reply badly.

<soapbox>
Rather, it is my general observation, after participating in this list for a
year and a half, that there seems to be a consistently big gap between
Lucene newbies and "old hands".    Bridging that gap isn't simply a matter
of RTFM, because the available "manual" just scratches the surface of what
can be done.  It is my experience that you have to become immersed in the
details quite a bit before important aspects become evident.  Some will say
that's OK, because everyone is expected to "do their own homework."  I would
agree, if there was sufficient material available to study.  But simply
because Lucene is so powerful and capable and (IMHO) cutting edge, people
could use a bit more help not only in getting started, but in tapping some
of its more refined capabilities.
</soapbox>

Regards,

Terry

PS: If there is general interest in doing some documentation enhancement,
I'd be happy to participate/contribute.

----- Original Message -----
From: "Tatu Saloranta" <tatu@hypermall.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Saturday, August 30, 2003 12:09 AM
Subject: Re: Keyword search with space and wildcard


> On Friday 29 August 2003 10:02, Terry Steichen wrote:
> > I agree.  One problem, however, that new (and not-so-new) Lucene users
face
> > is a learning curve when they want to get past the simplest and most
> > obvious uses of Lucene.  For example, I don't think any of the docs
mention
> > the fact that you can't combine a phrase and a wildcard query.  Other
> > things that are obviously quite well understood by many members of the
> > list, are still less-than-clear to others.  For example, I found (and
still
> > find) it a bit difficult to find concrete examples/advice of how to get
> > good benefit from filters.
> >
> > My whole point is that this is a *very* powerful and flexible
technology.
> > But I think it's often very difficult for those most experienced in
using
> > Lucene to fully appreciate how it looks from the "newbie" point of view.
>
> I agree completely. Perhaps I worded my reply badly; I didn't mean to
sound
> hostile towards new users at all -- after all I consider myself to be one
(I
> just happened to work on simple improvements to QueryParser and learnt how
it
> works). I wish documentation was more complete; perhaps some section could
> list common workarounds or insights. And perhaps incompatibility of phrase
> and wild card queries could be added to document that lists current
> limitations.
>
> I guess the reason I think it's valuable to document the flexibility of
query
> construction is that I have been working on something similar (although
> working with database queries) in a system I'm working on, and I have also
> seen systems that have query syntax that's too intertwined with backend
> implementation (for example, while Hibernate is a good ORM, its queries
don't
> seem to have backend independent intermediate representation... which
makes
> it hard to develop different kinds of backends). So, it's useful to know
that
> there are 2 levels of interfaces to Lucene's query functionality.
>
> -+ Tatu +-
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


